[{"content":"ì´ì „ ê¸€ì—ì„œ ë°œí–‰-êµ¬ë… íŒ¨í„´ì˜ ì±„ë„ì— ëŒ€í•œ ì˜¤í•´ë¥¼ ë°”ë¡œ ì¡ê³  ì´ë¥¼ ê°œì„ í•´ë´¤ìŠµë‹ˆë‹¤.\nì´ ê³¼ì •ì„ í†µí•´ íŠ¹ì • ê´€ì‹¬ì‚¬ì¸ ì±„ë„ì„ êµ¬ë…í•˜ê²Œë˜ì–´ ì´ì „ ë³´ë‹¤ ë” ëŠìŠ¨í•œ ê²°í•©ì„ ë‹¬ì„±í•  ìˆ˜ ìˆì—ˆëŠ”ë°ìš”\nì´ì™€ ë°˜ëŒ€ë¡œ Brokerì—ì„œ ë°œí–‰ìë¥¼ ê´€ë¦¬í•˜ì§€ ì•Šê²Œ ë˜ì–´ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œë“¤ì´ ì˜ˆìƒë˜ì—ˆìŠµë‹ˆë‹¤.\në°œí–‰ìê°€ ë” ì´ìƒ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ì§€ ì•Šì•„ë„ ì±„ë„ì´ ìœ ì§€ë¨ êµ¬ë…ìê°€ ì—†ì–´ë„ ì±„ë„ì´ í•­ìƒ ìœ ì§€ë¨ ë°œí–‰ìê°€ ë” ì´ìƒ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ì§€ ì•ŠëŠ” ìƒíƒœì— ëŒ€í•œ ì²˜ë¦¬ëŠ” í™œìš©í•˜ëŠ” êµ¬í˜„ì—ì„œ ê´€ë¦¬í•´ì•¼í•˜ëŠ” ë¬¸ì œì´ì§€ë§Œ, êµ¬ë…ìê°€ ì—†ëŠ” ìƒíƒœì—ì„œ ì±„ë„ì´ ìœ ì§€ë˜ëŠ” ê²ƒì€ ë©”ëª¨ë¦¬ë¥¼ ë‚­ë¹„ í•  ì—¬ì§€ê°€ ìˆì–´ë³´ì´ì£ ?\nê·¸ë˜ì„œ ì´ë²ˆ ê¸€ì—ì„œëŠ” ë” ì´ìƒ êµ¬ë…ìê°€ ì—†ëŠ” ì±„ë„ì— ëŒ€í•œ ì •ë¦¬ë¥¼ ì¶”ê°€í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\nì–´ë–¤ ë°©ë²•ë“¤ì´ ìˆì„ê¹Œ? ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê°œì„ í•˜ê¸°ìœ„í•´ 2ê°€ì§€ ë°©ë²• ì •ë„ê°€ ë– ì˜¬ëìŠµë‹ˆë‹¤.\nêµ¬ë… í•´ì œí•  ë•Œ, ë” ì´ìƒ êµ¬ë…ìê°€ ì—†ë‹¤ë©´ ì •ë¦¬ ì¼ì • ì‹œê°„ ê°„ê²©ìœ¼ë¡œ êµ¬ë…ìê°€ ì—†ëŠ” ì±„ë„ì„ ì •ë¦¬ ì¥ë‹¨ì ì„ ì‚´í´ë³¼ê¹Œìš”?\nêµ¬ë… í•´ì œí•  ë•Œ, ë” ì´ìƒ êµ¬ë…ìê°€ ì—†ë‹¤ë©´ ì •ë¦¬\nê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ êµ¬ë…ìê°€ í•´ë‹¹ ì±„ë„ì„ êµ¬ë… í•´ì œí•  ë•Œ, í˜„ì¬ ë‚¨ì•„ìˆëŠ” êµ¬ë…ìê°€ ìì‹  ë¿ì´ë¼ë©´ ì±„ë„ì„ ì •ë¦¬í•˜ëŠ” ë°©ì‹ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní™œìš©í•˜ê³  ìˆëŠ” Node.jsëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œë¡œ ë™ì‘í•˜ëŠ” íŠ¹ì„±ìœ¼ë¡œ ì¸í•´, êµ¬ë…ì ëª©ë¡ì„ ì €ì¥í•˜ëŠ” Map ì¸ìŠ¤í„´ìŠ¤ì— ì—¬ëŸ¬ ì²˜ë¦¬ê°€ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. ë•Œë¬¸ì— ì¸ìŠ¤í„´ìŠ¤ ìì²´ì— ì ‘ê·¼í•˜ëŠ” ë™ì‹œì„± ë¬¸ì œë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ê´œì°®ì•„ êµ¬í˜„ì´ ì‰½ìŠµë‹ˆë‹¤.\në‹¤ë§Œ, ê°ê°ì˜ êµ¬ë…ìì˜ êµ¬ë… í•´ì œ ì²˜ë¦¬ì—ì„œ êµ¬ë…í–ˆë˜ ì±„ë„ì˜ êµ¬ë…ì ëª©ë¡ì„ ê³„ì†í•´ì„œ í™•ì¸í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œê°€ ì¡°ê¸ˆ ë§ì•„ì§€ê³ , ë©”ì„œë“œê°€ ë§ì€ ì—­í• ì„ ë‹´ë‹¹í•˜ê²Œ ë˜ê² ë„¤ìš”\nê·¸ë¦¬ê³ , êµ¬ë…ì ëª©ë¡ì„ ì •ë¦¬í•œ ì§í›„ì— êµ¬ë… ìš”ì²­ì´ ë“¤ì–´ì˜¨ë‹¤ë©´ êµ¬ë…ì ëª©ë¡ì„ ë‹¤ì‹œ í• ë‹¹í•´ì¤˜ì•¼í•©ë‹ˆë‹¤. (ì–´ì©”ìˆ˜ ì—†ì–´ ë³´ì´ê¸´ í•˜ë„¤ìš” ğŸ˜‚)\nì¼ì • ì‹œê°„ ê°„ê²©ìœ¼ë¡œ êµ¬ë…ìê°€ ì—†ëŠ” ì±„ë„ì„ ì •ë¦¬\nì¡°ê¸ˆ ë” ë³µì¡í•˜ê²Œ ì²˜ë¦¬í•˜ë ¤ë©´, Timmer APIë¥¼ ì´ìš©í•˜ì—¬ ì¼ì • ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ì •ë¦¬í•´ì£¼ëŠ” ë°©ë²•ë„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nêµ¬ë…ì ëª©ë¡ì„ ì €ì¥í•˜ëŠ” Map ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— êµ¬ë… í•´ì œ ì²˜ë¦¬ì—ì„œ ì±„ë„ì„ ê´€ë¦¬í•˜ëŠ” ì—­í• ì„ í•˜ì§€ ì•Šê²Œë˜ì–´ êµ¬ë… í•´ì œ í•œê°€ì§€ ì¼ë§Œ í•˜ê²Œë©ë‹ˆë‹¤.\ní•˜ì§€ë§Œ, ì±„ë„ ì •ë¦¬ ì£¼ê¸°ê°€ ë„ˆë¬´ ì§§ë‹¤ë©´ ì˜¤ë²„í—¤ë“œë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆê³ , ë„ˆë¬´ ê¸¸ë‹¤ë©´ ì •ë¦¬í•˜ëŠ” ì´ë“ì„ ë³´ê¸° ì–´ë µê¸° ë•Œë¬¸ì— ì‚¬ìš©ìê°€ ì§ì ‘ ì£¼ê¸°ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤.\në‹¤ë¥¸ ì¢‹ì€ ë°©ë²•ë“¤ë„ ìˆê² ì§€ë§Œ, ë‹¹ì¥ì€ ë– ì˜¤ë¥´ì§€ ì•Šë„¤ìš” ğŸ¤£\nì €ëŠ” ì²« ë²ˆì§¸ì™€ ë‘ ë²ˆì§¸ ëª¨ë‘ë¥¼ ê³ ë ¤í•´ë³´ê² ìŠµë‹ˆë‹¤. êµ¬ë…ì ëª©ë¡ ê´€ë¦¬ë¥¼ ë³„ë„ë¡œ ë¶„ë¦¬í•˜ì—¬ ë…ë¦½ì ìœ¼ë¡œ ê°œì„  ê°€ëŠ¥í•œ í˜•íƒœë¡œ êµ¬ì„±í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\në” ê³ ë¯¼í•´ì•¼í•  ë¶€ë¶„ì€? ë‹¨ìˆœíˆ ì¼ì • ì‹œê°„ì„ ì£¼ê¸°ë¡œ ì±„ë„ì„ ì •ë¦¬í•œë‹¤ê³  í•´ë„, ìœ„ì—ì„œ ì‚´ì§ ì–¸ê¸‰í–ˆë˜ ë‚´ìš© ì²˜ëŸ¼ ê¸ˆë°© ì •ë¦¬ëœ ì±„ë„ì— ë‹¤ì‹œ êµ¬ë…ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ëŠ” ì´ëŸ° ë¬¸ì œë¥¼ ì‹œê°„ ì§€ì—­ì„±(Temporal Locality)ì„ ê³ ë ¤í•˜ì—¬ ì²˜ë¦¬í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\nì‹œê°„ ì§€ì—­ì„±(Temporal Locality)?\n\u0026ldquo;ìµœê·¼ì— ì ‘ê·¼í•œ ë°ì´í„°ë‚˜ ì½”ë“œëŠ” ê°€ê¹Œìš´ ë¯¸ë˜ì— ë‹¤ì‹œ ì ‘ê·¼ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.\u0026ldquo;ëŠ” í”„ë¡œê·¸ë¨ì˜ íŠ¹ì„±\nì‹œê°„ ì§€ì—­ì„±ì€ ìºì‹œ, RDBMSì˜ ë²„í¼í’€, OSì˜ í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ ë“±ì— í™œìš©ë˜ê³  ìˆëŠ”ë°, ì´ë¥¼ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ í•´ì„í•˜ë©´ ë©”ì‹œì§€ê°€ ë°œí–‰ëœ ì‹œê°„ì´ ì˜¤ë˜ë˜ì—ˆë‹¤ë©´ ì•ìœ¼ë¡œë„ í™œìš©í•˜ì§€ ì•ŠëŠ” ì±„ë„ì´ë¼ëŠ” ê°€ì„¤ì„ ì„¸ìš¸ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œìš”?\nê·¸ë˜ì„œ ì €ëŠ” êµ¬ë…ìê°€ ì—†ëŠ” ì±„ë„ì˜ ë§ˆì§€ë§‰ìœ¼ë¡œ ë©”ì‹œì§€ê°€ ë°œí–‰ëœ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë¦¬ë  ìˆ˜ ìˆë„ë¡ í•´ë³´ê² ìŠµë‹ˆë‹¤.\nì œê°€ êµ¬í˜„í•œ pub/subì€ ì¼ë°˜ì ì¸ í™œìš©ì„ ê°€ì •í•˜ê³  ë§Œë“  ëª¨ë“ˆì´ë¼ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì˜ íŠ¹ì„±ë§ˆë‹¤ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— í° ì´ë“ì´ ì—†ì„ ìˆ˜ë„ ìˆê³ , ì˜¤íˆë ¤ ì˜¤ë²„í—¤ë“œê°€ ë  ìˆ˜ ìˆì„ ì—¬ì§€ë„ ìˆê² ì§€ë§Œìš” ğŸ¤£ ì „ì²´ ì•„í‚¤í…ì²˜ ì•ì„œ ë§ì”€ë“œë ¸ë˜ ê²ƒ ì²˜ëŸ¼ ì¼ì • ì£¼ê¸°ë¡œ ì •í•´ì§„ ê¸°ê°„ë™ì•ˆ ì‚¬ìš©í•˜ì§€ ì•Šì€ ì±„ë„ì„ ì •ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤.\nì˜ êµ¬í˜„í•˜ë ¤ê³  í•˜ë‹¤ë³´ë‹ˆ ìƒê°ë³´ë‹¤ ë§ì€ ë³€ê²½ì´ ìˆì—ˆë„¤ìš”\nì¼ë‹¨ ë³€ê²½ëœ ì „ì²´ ì•„í‚¤í…ì²˜ë¥¼ ë¨¼ì € ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nclassDiagram class MessageBroker~TMessage~ { -repository: ChannelRepository -scheduler: Scheduler -tasks: ScheduledTask[] +subscribe(topic: string, handler: MessageHandler) +publish(topic: string, message: TMessage) } class ChannelRepository~TMessage~ { \u003c\u003c interface \u003e\u003e +findChannelByTopic(topic: string) +findAllChannels() +deleteChannelByTopic(topic: string) } class Cleanable { \u003c\u003c interface \u003e\u003e +topic: string +lastUpdatedAt: Date +subscriberLength: number } class Subjection~TMessage~ { \u003c\u003c interface \u003e\u003e +publish(message: TMessage) +subscribe(handler: MessageHandler) } class ScheduledTask { \u003c\u003c interface \u003e\u003e +name: string +interval: number +execute() } class CleanableChannelRepository { \u003c\u003c interface \u003e\u003e +findAllChannels() +deleteChannelByTopic(topic: string) } class Channel~TMessage~ { -subscriptions: Subscription[] +topic: string +lastUpdatedAt: Date +subscriberLength: number +publish(message: TMessage) +subscribe(handler: MessageHandler) -unsubscribe(subscriptionId: string) } class MemoryChannelRepository~TMessage~ { -channels: Map +findChannelByTopic(topic: string) +findAllChannels() +deleteChannelByTopic(topic: string) } class ChannelCleaner { +name: string +interval: number -staleThreshold: number +execute() -cleanupChannel(channel: Cleanable) -isExpiredChannel(channel: Cleanable) } class Scheduler { -timers: Map -runningTasks: Set -tasks: ScheduledTask[] +registerTask(task: ScheduledTask) +unregisterTask(taskName: string) +start(taskName: string) +startAll() +stop(taskName: string) +stopAll() -executeTask(task: ScheduledTask) } MessageBroker --\u003e ChannelRepository : uses MessageBroker --\u003e Scheduler : uses MessageBroker --\u003e ChannelCleaner : uses MemoryChannelRepository ..|\u003e ChannelRepository : implements Channel ..|\u003e Cleanable : implements Channel ..|\u003e Subjection : implements ChannelCleaner ..|\u003e ScheduledTask : implements MemoryChannelRepository --\u003e Channel : manages ChannelCleaner --\u003e CleanableChannelRepository : uses ì¶”ê°€ëœ ìš”ì†Œë“¤ì´ ë§ë‹¤ë³´ë‹ˆ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì´ ë„ˆë¬´ ì‘ê²Œ ë³´ì´ë„¤ìš” ğŸ˜‚ í° ë³€ê²½ ì‚¬í•­ë“¤ì„ í†µí•´ ì–´ë– í•œ ë³€í™”ë“¤ì´ ìˆëŠ”ì§€ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nChannelê³¼ Repository ì¤‘ìš”í•œ ë³€ê²½ì‚¬í•­ìœ¼ë¡œ Channelì„ ë„ë©”ì¸ìœ¼ë¡œ ë¶„ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.\nclassDiagram class MessageBroker~TMessage~ { -repository: ChannelRepository -scheduler: Scheduler -tasks: ScheduledTask[] +subscribe(topic: string, handler: MessageHandler) +publish(topic: string, message: TMessage) } class ChannelRepository~TMessage~ { \u003c\u003c interface \u003e\u003e +findChannelByTopic(topic: string) +findAllChannels() +deleteChannelByTopic(topic: string) } class Subjection~TMessage~ { \u003c\u003c interface \u003e\u003e +publish(message: TMessage) +subscribe(handler: MessageHandler) } class Channel~TMessage~ { -subscriptions: Subscription[] +topic: string +lastUpdatedAt: Date +subscriberLength: number +publish(message: TMessage) +subscribe(handler: MessageHandler) -unsubscribe(subscriptionId: string) } class MemoryChannelRepository~TMessage~ { -channels: Map +findChannelByTopic(topic: string) +findAllChannels() +deleteChannelByTopic(topic: string) } MessageBroker --\u003e ChannelRepository : uses MemoryChannelRepository ..|\u003e ChannelRepository : implements Channel ..|\u003e Subjection : implements MemoryChannelRepository --\u003e Channel : manages ì´ì „ì˜ MessageBrokerëŠ” subscribeì™€ publish ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ ì„¤ì •í•œ Broker ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ì˜€ëŠ”ë°ìš”\nMessageBroker ì—­ì‹œ êµ¬ë…ê³¼ ë°œí–‰ì„ ì²˜ë¦¬í•˜ì§€ë§Œ, ì‹¤ì œ êµ¬ë…/ë°œí–‰ì˜ ì£¼ì²´ Channel ì´ë¼ê³  íŒë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ êµ¬ë…/ë°œí–‰ì— ëŒ€í•œ ì—­í• ì„ Subjection ì¸í„°í˜ì´ìŠ¤ë¡œ ë¶„ë¦¬í•˜ê³  Channel í´ë˜ìŠ¤ê°€ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ ë³€ê²½í•˜ì˜€ì–´ìš”\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 export class Channel\u0026lt;TMessage\u0026gt; implements Subjection\u0026lt;TMessage\u0026gt;, Cleanable { constructor( readonly topic: string, private subscriptions: Subscription\u0026lt;TMessage\u0026gt;[] = [], private _lastUpdatedAt: Date = new Date(), ) {} public async publish(message: TMessage): Promise\u0026lt;void\u0026gt; { this._lastUpdatedAt = new Date(); void Promise.all( this.subscriptions.map((subscription) =\u0026gt; subscription.handler(message).catch((reason) =\u0026gt; { console.error(reason); }), ), ); } public async subscribe(handler: MessageHandler\u0026lt;TMessage\u0026gt;) { const id = randomUUID(); const subscription = { id, handler, unsubscribe: () =\u0026gt; this.unsubscribe(id), }; this.subscriptions.push(subscription); this._lastUpdatedAt = new Date(); return subscription; } private async unsubscribe(subscriptionId: string) { this._lastUpdatedAt = new Date(); this.subscriptions = this.subscriptions.filter( (subscription) =\u0026gt; subscription.id !== subscriptionId, ); } get lastUpdatedAt() { return this._lastUpdatedAt; } get subscriberLength() { return this.subscriptions.length; } } Channelì˜ CRUDì— ëŒ€í•´ ì—­í•  ë¶„ë¦¬ì™€, ì´í›„ ì‰½ê²Œ ë³€ê²½ ê°€ëŠ¥í•˜ê³  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ êµ¬ì¡°ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ChannelRepository ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  MessageBrokerê°€ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë„ë¡ í•˜ì—¬ ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ ì£¼ì…ë°›ë„ë¡ í–ˆìŠµë‹ˆë‹¤.\nê¸°ì¡´ êµ¬í˜„ì€ ChannelRepositoryì˜ êµ¬í˜„ì²´ì¸ MemoryChannelRepositoryë¡œ ì˜®ê²¼ìŠµë‹ˆë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 export class MessageBroker\u0026lt;TMessage\u0026gt; { constructor( private readonly repository: ChannelRepository\u0026lt;TMessage\u0026gt; = new MemoryChannelRepository(), /* ìƒëµ */ ) { /* ìƒëµ */ } public async subscribe(topic: string, handler: MessageHandler\u0026lt;TMessage\u0026gt;) { const channel = await this.repository.findChannelByTopic(topic); const subscribe = await channel.subscribe(handler); return subscribe.unsubscribe; } public async publish(topic: string, message: TMessage) { const channel = await this.repository.findChannelByTopic(topic); return channel.publish(message); } } ì„¸ë¶€ êµ¬í˜„ë“¤ì„ ì£¼ì… ë°›ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— MessageBrokerì˜ êµ¬í˜„ì€ í¬ê²Œ ë°”ë€”ê²ƒì´ ì—†ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ì–´ Broker ì¸í„°í˜ì´ìŠ¤ëŠ” ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤.\nSchedulerì™€ ScheduleTask ë‹¤ìŒì€ íŠ¹ì • ì‘ì—…ì„ ì¼ì • ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤ì¸ Schedulerì…ë‹ˆë‹¤.\nclassDiagram direction LR class MessageBroker~TMessage~ { -repository: ChannelRepository -scheduler: Scheduler -tasks: ScheduledTask[] +subscribe(topic: string, handler: MessageHandler) +publish(topic: string, message: TMessage) } class ScheduledTask { \u003c\u003c interface \u003e\u003e +name: string +interval: number +execute() } class Scheduler { -timers: Map -runningTasks: Set -tasks: ScheduledTask[] +registerTask(task: ScheduledTask) +unregisterTask(taskName: string) +start(taskName: string) +startAll() +stop(taskName: string) +stopAll() -executeTask(task: ScheduledTask) } MessageBroker --\u003e Scheduler : uses Scheduler --\u003e ScheduledTask : manages SchedulerëŠ” ScheduledTask ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ì˜ ëª©ë¡ì„ ì´ìš©í•˜ì—¬ ì„¤ì •ëœ ì£¼ê¸°ë¡œ ì‹¤í–‰í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•˜ê³  ìˆëŠ”ë°ìš”\nScheduledTaskëŠ” í•´ë‹¹ ì‘ì—…ì— ëŒ€í•œ ì‹ë³„ì„ ìœ„í•œ nameê³¼ ì‹¤í–‰í•  ì£¼ê¸°ì¸ intervalì„ í¬í•¨í•˜ë„ë¡ í•˜ê³ , ì‹¤ì œ ì‹¤í–‰ë  ë™ì‘ì¸ excute()ë¥¼ êµ¬í˜„í•˜ë„ë¡ í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nMessageBrokerì˜ ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ì£¼ì…ë°›ì€ ScheduledTaskë“¤ì„ Schedulerì— ë“±ë¡í•˜ê³  ì‹¤í–‰ì‹œí‚¤ê²Œë©ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 export class Scheduler { private readonly timers: Map\u0026lt;string, NodeJS.Timeout\u0026gt; = new Map(); private readonly runningTasks: Set\u0026lt;string\u0026gt; = new Set(); constructor(private tasks: ScheduledTask[] = []) {} public registerTask(task: ScheduledTask) { if (this.tasks.find((t) =\u0026gt; t.name === task.name)) { throw new Error(`Task with name ${task.name} already exists`); } this.tasks.push(task); } public unregisterTask(taskName: string) { this.stop(taskName); this.tasks = this.tasks.filter((task) =\u0026gt; task.name !== taskName); } public start(taskName: string) { const task = this.tasks.find((task) =\u0026gt; task.name === taskName); if (!task) { throw new Error(`Task ${taskName} not found`); } if (this.timers.has(taskName)) { return; } const timer = setInterval(() =\u0026gt; this.executeTask(task), task.interval); this.timers.set(taskName, timer); } public startAll() { this.tasks.forEach((task) =\u0026gt; this.start(task.name)); } public stop(taskName: string) { const timer = this.timers.get(taskName); if (timer !== undefined) { clearInterval(timer); this.timers.delete(taskName); } } public stopAll() { this.tasks.forEach((task) =\u0026gt; this.stop(task.name)); } private async executeTask(task: ScheduledTask) { if (this.runningTasks.has(task.name)) { return; } this.runningTasks.add(task.name); try { await task.execute(); } finally { this.runningTasks.delete(task.name); } } } Schedulerê°€ ScheduledTaskë“¤ì„ ì£¼ì…ë°›ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤ë§Œ MessageBrokerì—ì„œë„ ScheduledTaskë“¤ì„ ì£¼ì…ë°›ì•„ ì´ˆê¸°í™”í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.\ní…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° í¸í•˜ê²Œ ë³€ê²½í•˜ë‹¤ë³´ë‹ˆ í•´ë‹¹ êµ¬ì¡°ë¥¼ ë§Œë“¤ê²Œ ë˜ì—ˆëŠ”ë°, ì´ˆê¸°í™” ë°©ë²•ì´ ì—¬ëŸ¬ê°œë¡œ ë¶„ì‚°ë˜ì–´ì„œ ì˜¤íˆë ¤ ë³µì¡í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ìƒê°ì´ ë“œë„¤ìš”\në” ì¢‹ì€ ë°©ë²•ì´ ìˆëŠ”ì§€ ë‹¤ì‹œ ê³ ë¯¼í•´ë´ì•¼ê² ìŠµë‹ˆë‹¤ ğŸ˜\nChannelCleanerì™€ Cleanable ë‹¤ìŒì€ ì±„ë„ ì •ë¦¬ë¥¼ ë‹´ë‹¹í•˜ê³  ìˆëŠ” ChannelCleanerì…ë‹ˆë‹¤.\nclassDiagram class Cleanable { \u003c\u003c interface \u003e\u003e +topic: string +lastUpdatedAt: Date +subscriberLength: number } class ScheduledTask { \u003c\u003c interface \u003e\u003e +name: string +interval: number +execute() } class CleanableChannelRepository { \u003c\u003c interface \u003e\u003e +findAllChannels() Promise~Cleanable[]~ +deleteChannelByTopic(topic: string) } class Channel~TMessage~ { -subscriptions: Subscription[] +topic: string +lastUpdatedAt: Date +subscriberLength: number +publish(message: TMessage) +subscribe(handler: MessageHandler) -unsubscribe(subscriptionId: string) } class ChannelCleaner { -repository: CleanableChannelRepository +name: string +interval: number -staleThreshold: number +execute() -cleanupChannel(channel: Cleanable) -isExpiredChannel(channel: Cleanable) } ChannelCleaner ..|\u003e ScheduledTask : implements Channel ..|\u003e Cleanable : implements CleanableChannelRepository --\u003e Cleanable : manages ChannelCleaner --\u003e CleanableChannelRepository : uses ChannelCleanerëŠ” ì•ì„œ ì–¸ê¸‰í–ˆë˜ ScheduledTaskì˜ êµ¬í˜„ì²´ë¡œ Scheduler ê°€ í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ í†µí•´ ì„¤ì •ëœ ê°„ê²©ìœ¼ë¡œ ì±„ë„ ì •ë¦¬ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 export interface ChannelCleanerOption { interval?: number; staleThreshold?: number; } export class ChannelCleaner implements ScheduledTask { readonly name: string = \u0026#39;Cleaner\u0026#39;; readonly interval: number; private readonly staleThreshold: number; constructor( private readonly repository: CleanableChannelRepository, options?: ChannelCleanerOption, ) { this.interval = options?.interval ?? CLEANUP_INTERVAL_DEFAULT; this.staleThreshold = options?.staleThreshold ?? STALE_THRESHOLD; } public async execute() { const channels = await this.repository.findAllChannels(); await Promise.allSettled( channels.map((channel) =\u0026gt; this.cleanupChannel(channel)), ); } private async cleanupChannel(channel: Cleanable) { if (this.isExpiredChannel(channel)) { await this.repository.deleteChannelByTopic(channel.topic); } } private isExpiredChannel(channel: Cleanable) { const threshold = Date.now() - this.staleThreshold; return ( channel.subscriberLength === 0 \u0026amp;\u0026amp; channel.lastUpdatedAt.getTime() \u0026lt; threshold ); } } ChannelCleanerOptionì„ í†µí•´ ì‹¤í–‰ ê°„ê²©ê³¼ ì±„ë„ì˜ ìˆ˜ëª…ì„ ì§€ì •í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.\nisExpiredChannel ë©”ì„œë“œë¥¼ í†µí•´ ì‚­ì œ ë˜ì–´ì•¼ í•  ì¡°ê±´ë“¤ì„ í™•ì¸í•˜ë„ë¡ êµ¬í˜„í–ˆëŠ”ë°, ì¡°ê±´ì´ ë³€ê²½ë  ê²½ìš° í•´ë‹¹ ë©”ì„œë“œì˜ ë³€ê²½ì´ ë¶ˆê°€í”¼í•´ ë³´ì´ë„¤ìš” ğŸ˜…\në¯¸ë“¤ì›¨ì–´ ê°™ì€ ì±…ì„ ì—°ì‡„ íŒ¨í„´ì„ ì ìš©í•´ë³´ë©´ ì¢‹ì§€ ì•Šì„ê¹Œ ìƒê°ì´ ë“¤ê¸´ í•˜ì§€ë§Œ, ì•„ì§ ì´ë¥¸ ê°ì´ ìˆì–´ ë³´ì—¬ì„œ ë‹¤ìŒ ê¸°íšŒì— ì ìš©í•´ë³´ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.\nì´ ì½”ë“œì—ì„œ ì¡°ê¸ˆ íŠ¹ì´í•œ ì ì€ ChannelRepositoryê°€ ì•„ë‹Œ CleanableChannelRepository ì˜ì¡´ì„±ì„ ì£¼ì…ë°›ë„ë¡ êµ¬ì„±í–ˆë‹¤ëŠ” ì  ì¸ë°ìš”\nCleanableChannelRepositoryëŠ” Channelì´ ì•„ë‹Œ Cleanableì„ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì…ë‹ˆë‹¤.\nì•ì„œ Subjection ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ í•œ Channelí´ë˜ìŠ¤ëŠ” Cleanableë„ êµ¬í˜„í•˜ë„ë¡ í•˜ê³  ìˆëŠ”ë°, ì´ëŠ” ChannelCleanerê°€ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•œ ê¸°ì¤€ë“¤ì„ í¬í•¨í•˜ë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.\nChannelCleanerì—ì„œ ê´€ë¦¬í•˜ê²Œ ë  Channalì— ëŒ€í•´ í˜„ì¬ ì‚­ì œ ê¸°ì¤€ì¸ ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œì ì„ ì˜ë¯¸í•˜ëŠ” lastUpdatedAtê³¼ í˜„ì¬ êµ¬ë…ìë“¤ì˜ ìˆ˜ë¥¼ ì˜ë¯¸í•˜ëŠ” subcriberLength, ê·¸ë¦¬ê³  í•´ë‹¹ ì±„ë„ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆëŠ” topicì„ í†µí•´ ì •ë¦¬ë  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ChannelCleanerê°€ Channelì„ ì§ì ‘ í™œìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆì–´ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì¡°ê¸ˆ ë” ê°„ê²°í•´ì§€ëŠ” íš¨ê³¼ë„ ì–»ì„ ìˆ˜ ìˆì—ˆì–´ìš”\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 describe(\u0026#39;ChannelCleaner\u0026#39;, () =\u0026gt; { let repository: jest.Mocked\u0026lt;ChannelRepository\u0026gt;; let cleaner: ChannelCleaner; const NOW = Date.now(); const createMockChannel = ( props: { topic?: string; lastUpdatedAt?: Date; subscriberLength?: number; } = {}, ): Channel\u0026lt;any\u0026gt; =\u0026gt; ({ topic: props.topic ?? \u0026#39;test-topic\u0026#39;, lastUpdatedAt: props.lastUpdatedAt ?? new Date(NOW), subscriberLength: props.subscriberLength ?? 0, }) as Channel\u0026lt;any\u0026gt;; beforeEach(() =\u0026gt; { jest.spyOn(Date, \u0026#39;now\u0026#39;).mockReturnValue(NOW); repository = { findChannelByTopic: jest.fn().mockResolvedValue(undefined), findAllChannels: jest.fn().mockResolvedValue([]), deleteChannelByTopic: jest.fn().mockResolvedValue(undefined), }; cleaner = new ChannelCleaner(repository, { interval: 1000, staleThreshold: 500, }); }); /* ìƒëµ */ }); ìœ„ ì½”ë“œëŠ” Channelì„ í™œìš©í•  ë•Œ í…ŒìŠ¤íŠ¸ ì½”ë“œì…ë‹ˆë‹¤.\nì´ í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì œê°€ ìƒê°í•œ ë¬¸ì œëŠ” í™œìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œì™€ ìš”ì†Œê¹Œì§€ ëª¨í‚¹í•´ì•¼í•œë‹¤ëŠ” ì  ì´ì—ˆì–´ìš”\në³´ì‹œëŠ” ê²ƒ ì²˜ëŸ¼ ChannelRepositoryë¥¼ ëª¨í‚¹í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” findChannelByTopic ë©”ì„œë“œë¥¼ ëª¨í‚¹í•´ì•¼í–ˆê³ ,\nChannelì„ ìƒì„±í•˜ëŠ” í•¼í¼ í•¨ìˆ˜ createMockChannel ë˜í•œ ë¶ˆí•„ìš”í•œ ìš”ì†Œë“¤ì„ ëª¨ë‘ êµ¬í˜„í•˜ì§€ ì•Šê¸° ìœ„í•´ íƒ€ì… ë‹¨ì–¸ì„ í™œìš©í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ë¶€ë¶„ì´ ë¶ˆí•„ìš”í•œ ë¶€ë¶„ì— ì˜ì¡´ë˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤ê³  ìƒê°í–ˆì–´ìš”\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 describe(\u0026#39;ChannelCleaner\u0026#39;, () =\u0026gt; { let repository: jest.Mocked\u0026lt;CleanableChannelRepository\u0026gt;; let cleaner: ChannelCleaner; const NOW = Date.now(); const createMockCleanable = ( props: { topic?: string; lastUpdatedAt?: Date; subscriberLength?: number; } = {}, ): Cleanable =\u0026gt; ({ topic: props.topic ?? \u0026#39;test-topic\u0026#39;, lastUpdatedAt: props.lastUpdatedAt ?? new Date(NOW), subscriberLength: props.subscriberLength ?? 0, }); beforeEach(() =\u0026gt; { jest.spyOn(Date, \u0026#39;now\u0026#39;).mockReturnValue(NOW); repository = { findAllChannels: jest.fn().mockResolvedValue([]), deleteChannelByTopic: jest.fn().mockResolvedValue(undefined), }; cleaner = new ChannelCleaner(repository, { interval: 1000, staleThreshold: 500, }); }); /* ìƒëµ */ }); ì´ëŸ¬í•œ ì´ìœ ë¡œ Channel í´ë˜ìŠ¤ê°€ Cleanable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ í•˜ëŠ” ë™ì‹œì— CleanableChannelRepositoryë¥¼ í†µí•´ í•„ìš”í•œ ë©”ì„œë“œë§Œ í˜¸ì¶œë˜ë„ë¡ í•˜ì—¬ íƒ€ì… ë‹¨ì–¸ì´ë‚˜ ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„ ì œê±°í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ êµ¬ì¡°ë¡œ ì¸í•´ ê´€ë¦¬í•´ì•¼í•  ì¸í„°í˜ì´ìŠ¤ê°€ ëŠ˜ì–´ë‚˜ê¸´ í•˜ì§€ë§Œ Channelì— ëœ ì˜ì¡´ì ì¸ ì½”ë“œê°€ ë” ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ì—¬ ì ìš©í–ˆìŠµë‹ˆë‹¤.\në§ˆë¬´ë¦¬ ì´ë²ˆì—ëŠ” ê¸°ì¡´ pub/sub ê¸°ëŠ¥ì— êµ¬ë…ìê°€ ì—†ëŠ” ìƒíƒœì—ì„œ ì˜¤ëœ ì‹œê°„ ìœ ì§€ëœ ì±„ë„ì€ ì•ìœ¼ë¡œë„ êµ¬ë…ìê°€ ì—†ì„ ê²ƒ ì´ë¼ëŠ” ê°€ì •ì„ ê¸°ë°˜ìœ¼ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬ ê¸°ëŠ¥ì„ ë„ì…í•´ë´¤ìŠµë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ ì¼ì • ì£¼ê¸°ë¡œ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” Schdulerê³¼ ê²€ì¦ ì¡°ê±´ì„ í†µí•´ ì±„ë„ì„ ì‚­ì œí•˜ëŠ” ì—­í• ì„ ChannelCleanerë¡œ êµ¬í˜„í•˜ì—¬ ì±…ì„ì„ ìµœëŒ€í•œ ë¶„ë¦¬í•´ë³´ë ¤ ì‹œë„í•˜ì˜€ìŠµë‹ˆë‹¤.\nì´ ê³¼ì •ì—ì„œ ì£¼ìš” ê´€ì‹¬ì‚¬ì¸ Channelì„ ë¶„ë¦¬í•˜ì—¬ ì²˜ë¦¬ íë¦„ì´ ë”ìš± ëª…í™•íˆ ë³´ì´ë„ë¡ í–ˆê³ , Subjectionê³¼ Cleanable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ í•˜ì—¬ ë™ì‘ì„ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ë ¤ í•´ë´¤ë„¤ìš”\nSchedulerì—ì„œ ê´€ë¦¬ë  ì‘ì—…ë“¤ì„ SchduledTask ì¸í„°í˜ì´ìŠ¤ë¡œ ì •ì˜í•˜ì—¬ ì¼ì • ì£¼ê¸°ë¡œ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í–ˆê³ , ChannelCleanerê°€ SchduledTaskë¥¼ êµ¬í˜„í•˜ë„ë¡ í•˜ì—¬ ì„¤ì •í•œ ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ìˆ˜í–‰ë  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.\në‹¤ ë§Œë“¤ê³  ì •ë¦¬í•˜ë‹¤ë³´ë‹ˆ ê¸°ëŠ¥ì— ë¹„í•´ ë„ˆë¬´ ë¹„ëŒ€í•œ ì½”ë“œê°€ ëœ ê²ƒì´ ì•„ë‹Œê°€ ì‹¶ê¸°ë„ í•˜ê³ , ì•„ì‰¬ìš´ ì ë„ ì¡°ê¸ˆì”© ë³´ì´ë„¤ìš”ğŸ˜…\nì•„ì§ ì™„ì„±ëœ ê²ƒì€ ì•„ë‹ˆë‹ˆ ê³„ì†í•´ì„œ ì¡°ê¸ˆì”© ê°œì„ í•´ ë‚˜ê°€ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤! ëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ˜Š (ë‹¤ìŒ ìˆœì„œëŠ” ì‹¤íŒ¨ ë©”ì‹œì§€ ì¬ë°œì†¡ ê´€ë ¨ ê°œì„ ì„ í•´ë³´ë ¤ê³  í•´ìš”)\n","date":"2025-02-04T10:02:35+09:00","image":"https://codemario318.github.io/post/node/pub-sub/3/cover_hu468162ba17ce27969b9476abe99e20c1_99229_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/node/pub-sub/3/","title":"3. êµ¬ë…ìê°€ ì—†ëŠ” ì±„ë„ ê´€ë¦¬í•˜ê¸°"},{"content":"ê´€ê³„í˜• ëª¨ë¸ì´ ë“±ì¥í–ˆì„ ë•Œ ë°ì´í„°ë¥¼ ì§ˆì˜í•˜ëŠ” ìƒˆë¡œìš´ ë°©ë²•ë„ í•¨ê»˜ ë‚˜íƒ€ë‚¬ë‹¤. SQLì€ ì„ ì–¸í˜• ì§ˆì˜ ì–¸ì–´ì¸ ë°˜ë©´ IMSì™€ ì½”ë‹¤ì‹¤ì€ ëª…ë ¹í˜• ì½”ë“œë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë² ì´ìŠ¤ì— ì§ˆì˜í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ëŠ” ëª…ë ¹í˜• ì–¸ì–´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë™ë¬¼ì˜ ì¢… ëª©ë¡ì´ ìˆì„ ë•Œ ëª©ë¡ì—ì„œ ìƒì–´ë§Œ ë°˜í™˜í•˜ëŠ” ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\n1 2 3 4 5 6 7 8 9 function getSharks() { var sharks = []; for (var i = 0; i \u0026lt; animals.length; i++) { if (animals[i].family === \u0026#34;Sharks\u0026#34;) { sharks.push(animals[i]); } } return sharks; } SQLë¡œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\n1 SELECT * FROM animals WHERE family = \u0026#39;Sharks\u0026#39;; ëª…ë ¹í˜• ì–¸ì–´ëŠ” íŠ¹ì • ìˆœì„œë¡œ íŠ¹ì • ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê²Œë” ì»´í“¨í„°ì—ê²Œ ì§€ì‹œí•œë‹¤.\nì½”ë“œë¥´ í•œì¤„ì”© ë‹¨ê³„ë³„ë¡œ ì‹¤í–‰ ì¡°ê±´ì„ í‰ê°€ ë³€ìˆ˜ë¥¼ ê°±ì‹  ë£¨í”„ë¥¼ ì‹¤í–‰í• ì§€ ì—¬ë¶€ë¥¼ ê²°ì • SQLì´ë‚˜ ê´€ê³„ ëŒ€ìˆ˜ ê°™ì€ ì„ ì–¸í˜• ì§ˆì˜ ì–¸ì–´ì—ì„œëŠ” ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ ì•„ë‹ˆë¼ ì•Œê³ ì í•˜ëŠ” ë°ì´í„°ì˜ íŒ¨í„´, ì¦‰ ê²°ê³¼ê°€ ì¶©ì¡±í•´ì•¼ í•˜ëŠ” ì¡°ê±´ê³¼ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë³€í™˜(ex. ì •ë ¬, ê·¸ë£¹í™”, ì§‘ê³„)í•  ì§€ ì§€ì •í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.\nì–´ë–¤ ìƒ‰ì¸ê³¼ ì–´ë–¤ ì¡°ì¸ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í• ì§€, ì§ˆì˜ì˜ ë‹¤ì–‘í•œ ë¶€ë¶„ì„ ì–´ë–¤ ìˆœì„œë¡œ ì‹¤í–‰í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì¼ì€ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì˜ ì§ˆì˜ ìµœì í™”ê¸°ê°€ í•  ì¼ì´ë‹¤.\nì„ ì–¸í˜• ì§ˆì˜ ì–¸ì–´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ëª…ë ¹í˜• APIë³´ë‹¤ ë” ê°„ê²°í•˜ê³  ì‰½ê²Œ ì‘ì—…í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë§¤ë ¥ì ì´ë‹¤. í•˜ì§€ë§Œ ë” ì¤‘ìš”í•œ ì ì€ ë°ì´í„°ë² ì´ìŠ¤ ì—”ì§„ì˜ ìƒì„¸ êµ¬í˜„ì´ ìˆ¨ê²¨ì ¸ ìˆì–´ ì§ˆì˜ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ ë„ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.\nì„ ì–¸í˜• ì§ˆì˜ëŠ” íŠ¹ì • ìˆœì„œë¥¼ ë³´ì¥í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìˆœì„œê°€ ë°”ë€Œì–´ë„ ìƒê´€ì—†ìœ¼ë‚˜, ì§ˆì˜ê°€ ëª…ë ¹í˜•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆë‹¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì½”ë“œê°€ ìˆœì„œì— ì˜ì¡´í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì‹ í•  ìˆ˜ ì—†ë‹¤. SQLì´ ê¸°ëŠ¥ì ìœ¼ë¡œ ë” ì œí•œì ì´ë¼ëŠ” ì‚¬ì‹¤ì€ ë°ì´í„°ë² ì´ìŠ¤ì—ê²Œ ìë™ìœ¼ë¡œ ìµœì í™”í•  ìˆ˜ ìˆëŠ” ì—¬ì§€ë¥¼ ë” ë§ì´ ì¤€ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì„ ì–¸í˜• ì–¸ì–´ëŠ” ì¢…ì¢… ë³‘ë ¬ ì‹¤í–‰ì— ì í•©í•˜ë‹¤. ëª…ë ¹í˜• ì½”ë“œëŠ” ëª…ë ¹ì–´ë¥¼ íŠ¹ì • ìˆœì„œë¡œ ìˆ˜í–‰í•˜ê²Œë” ì§€ì •í•˜ê¸° ë•Œë¬¸ì— ë‹¤ì¤‘ ì½”ì–´ë‚˜ ë‹¤ì¤‘ ì¥ë¹„ì—ì„œ ë³‘ë ¬ ì²˜ë¦¬ê°€ ë§¤ìš° ì–´ë µë‹¤. ì„ ì–¸í˜• ì–¸ì–´ëŠ” ê²°ê³¼ë¥¼ ê²°ì •í•˜ê¸° ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì§€ì •í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ê²°ê³¼ì˜ íŒ¨í„´ë§Œ ì§€ì •í•˜ë¯€ë¡œ ë³‘ë ¬ ì‹¤í–‰ìœ¼ë¡œ ë” ë¹¨ë¼ì§ˆ ê°€ëŠ¥ì„±ì´ í¬ë‹¤.\nì›¹ì—ì„œì˜ ì„ ì–¸í˜• ì§ˆì˜ ì„ ì–¸í˜• ì§ˆì˜ ì–¸ì–´ì˜ ì¥ì ì€ ë°ì´í„°ë² ì´ìŠ¤ì—ë§Œ êµ­í•œë˜ì§€ ì•ŠëŠ”ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;ul\u0026gt; \u0026lt;li class=\u0026#34;selected\u0026#34;\u0026gt; \u0026lt;p\u0026gt;Sharks\u0026lt;/p\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;Great White Shark\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Tiger Shark\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Hammerhead Shark\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt; \u0026lt;p\u0026gt;Whales\u0026lt;/p\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;Blue Whale\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Humpback Whale\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;Fin Whale\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; ìœ„ì™€ ê°™ì€ HTML ë¬¸ì„œì—ì„œ ì„ íƒëœ ë¦¬ìŠ¤íŠ¸ì˜ ìš”ì†Œì¸ \u0026lt;p\u0026gt;Sharks\u0026lt;p\u0026gt;ì˜ ë°°ê²½ì„ íŒŒë€ìƒ‰ìœ¼ë¡œ ë³€ê²½í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ CSSë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.\n1 2 3 li.selected \u0026gt; p { background-color: blue; } CSSëŠ” ëŒ€í‘œì ì¸ ì„ ì–¸í˜• ì–¸ì–´ë¡œ ë§Œì•½ ëª…ë ¹í˜• ì ‘ê·¼ ë°©ì‹ì„ í™œìš©í•´ì•¼í•œë‹¤ë©´, ì•„ë˜ì™€ ê°™ì€ JS ì½”ë“œê°€ í•„ìš”í•˜ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var liElements = document.getElementsByTagName(\u0026#34;li\u0026#34;); for (var i = 0; i \u0026lt; liElements.length; i++) { if (liElements[i].className === \u0026#34;selected\u0026#34;) { var children = liElements[i].childNodes; for (var j = 0; j \u0026lt; children.length; j++) { var child = children[j]; if (child.nodeType === Node.ELEMENT_NODE \u0026amp;\u0026amp; child.tagName === \u0026#34;P\u0026#34;) { child.setAttribute(\u0026#34;style\u0026#34;, \u0026#34;background-color: blue\u0026#34;); } } } } ìœ„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” CSSë³´ë‹¤ ì´í•´í•˜ê¸° ì–´ë ¤ìš¸ ë¿ë”ëŸ¬ ì‹¬ê°í•œ ë¬¸ì œë¥¼ ê°€ì§€ê³  ìˆë‹¤.\nselected í´ë˜ìŠ¤ê°€ ì‚­ì œëœ ê²½ìš° ì½”ë“œê°€ ì¬ì‹¤í–‰ë˜ë”ë¼ë„ íŒŒë€ìƒ‰ì€ ì‚­ì œë˜ì§€ ì•ŠìŒ CSSì˜ ê²½ìš°ëŠ” ê·œì¹™ì´ ì ìš©ë˜ì§€ ì•Šì„ ë•Œ ë°”ë¡œ ë‹¤ì‹œ ê·¸ë ¤ì§ ìƒˆë¡œìš´ APIì˜ ì¥ì ì„ ì·¨í•˜ê³  ì‹¶ë‹¤ë©´ ì½”ë“œë¥¼ ì¬ì‘ì„±í•´ì•¼í•¨ ë¸Œë¼ìš°ì € ë°´ë”ëŠ” í˜¸í™˜ì„±ì„ ê¹¨íŠ¸ë¦¬ì§€ ì•Šê³  CSSì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŒ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì„ ì–¸í˜• CSS ìŠ¤íƒ€ì¼ì„ ì‚¬ìš©í•˜ëŠ” í¸ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ëª…ë ¹í˜•ìœ¼ë¡œ ìŠ¤íƒ€ì¼ì„ ë‹¤ë£¨ê¸°ë³´ë‹¤ í›¨ì”¬ í¸ë¦¬í•˜ë‹¤.\në§ˆì°¬ê°€ì§€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” SQL ê°™ì€ ì„ ì–¸í˜• ì§ˆì˜ ì–¸ì–´ê°€ ëª…ë ¹í˜• ì§ˆì˜ API ë³´ë‹¤ í›¨ì”¬ ì¢‹ë‹¤ê³  ë‚˜íƒ€ë‚¬ë‹¤.\në§µë¦¬ë“€ìŠ¤ ì§ˆì˜ ë§µë¦¬ë“€ìŠ¤(MapReduce)ëŠ” ë§ì€ ì»´í“¨í„°ì—ì„œ ëŒ€ë´ìœ¼ì´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ í”„ë¡œê·¸ë˜ë° ëª¨ë¸ë¡œ, êµ¬ê¸€ì— ì˜í•´ ë„ë¦¬ ì•Œë ¤ì¡Œë‹¤. ì´ ë©”ì»¤ë‹ˆì¦˜ì€ ë§ì€ ë¬¸ì„œë¥¼ ëŒ€ìƒìœ¼ë¡œ ì½ê¸° ì „ìš©(read-only) ì§ˆì˜ë¥¼ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©í•œë‹¤.\në§µë¦¬ë“€ìŠ¤ëŠ” ì„ ì–¸í˜• ì§ˆì˜ ì–¸ì–´ë„ ì™„ì „í•œ ëª…ë ¹í˜• ì§ˆì˜ APIë„ ì•„ë‹Œ ê·¸ ì¤‘ê°„ ì •ë„ì— ìˆë‹¤. ì§ˆì˜ ë¡œì§ì€ ì²˜ë¦¬ í”„ë ˆì„ì›Œí¬ê°€ ë°˜ë³µì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ì¡°ê° ì½”ë“œë¡œ í‘œí˜„í•œë‹¤.\ní•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ìˆëŠ” map(collect)ê³¼ reduce(fold, inject) í•¨ìˆ˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•¨ í•œ ë‹¬ì— ì–¼ë§ˆë‚˜ ìì£¼ ìƒì–´ë¥¼ ë°œê²¬í•˜ëŠ”ì§€ ë³´ê³ ì„œë¥¼ ì‘ì„±í•˜ëŠ” ìƒí™©ì„ ê°€ì •í•˜ê³  ì˜ˆì‹œë¥¼ ì‚´í´ë³¸ë‹¤.\nPostgresql\n1 2 3 4 5 6 SELECT date_trunc(\u0026#39;month\u0026#39;, observation_timestamp) AS observation_month, sum(num_animals) AS total_animals FROM observations WHERE family = \u0026#39;Sharks\u0026#39; GROUP BY observation_month; ìƒì–´ê³¼ì— ì†í•˜ëŠ” ì¢…ë§Œ ë³´ì´ë„ë¡ ê´€ì¸¡ì¹˜ë¥¼ í•„í„°ë§í•œ ë‹¤ìŒ, ê´€ì¸¡ã„±ì¹˜ê°€ ë°œìƒí•œ ë‹¬ë ¥ì˜ ìš°ëŸ¬ë¡œ ê·¸ë£¹í™”í•˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ í•´ë‹¹ ë‹¬ì˜ ëª¨ë“  ê´€ì¸¡ì¹˜ì— ë³´ì—¬ì§„ ë™ë¬¼ ìˆ˜ë¥¼ í•©í•¨ MongoDB\në§µë¦¬ë“€ìŠ¤ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 db.observations.mapReduce( function map() { // 2 var year = this.observationTimestamp.getFullYear(); var month = this.observationTimestamp.getMonth() + 1; emit(year + \u0026#34;-\u0026#34; + month, this.numAnimals); // 3 }, function reduce(key, values) { // 4 return Array.sum(values); // 5 }, { query: { family: \u0026#34;Sharks\u0026#34; }, // 1 out: \u0026#34;monthlySharkReport\u0026#34; // 6 } ); ìƒì–´ ì¢…ë§Œ ê±°ë¥´ê¸° ìœ„í•œ í•„í„°ë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì§€ì • ì§ˆì˜ì™€ ì¼ì¹˜í•˜ëŠ” ëª¨ë“  ë¬¸ì„œì— ëŒ€í•´ í•œ ë²ˆì”© í˜¸ì¶œ í‚¤ì™€ ê°’ì„ ë°©ì¶œ ë°©ì¶œí•œ í‚¤-ê°’ ìŒì€ í‚¤ë¡œ ê·¸ë£¹í™”ë¨ ê°™ì€ í‚¤ë¥¼ ê°–ëŠ” ëª¨ë“  í‚¤-ê°’ ìŒì€ reduce í•¨ìˆ˜ë¥¼ í•œ ë²ˆ í˜¸ì¶œí•¨ íŠ¹ì • ì›”ì˜ ëª¨ë“  ê´€ì¸¡ì¹˜ì—ì„œ ë™ë¬¼ ìˆ˜ë¥¼ í•©ì¹¨ ìµœì¢… ì¶œë ¥ì„ monthlySharkReport ì»¬ë ‰ì…˜ì— ê¸°ë¡ MongoDBì˜ mapê³¼ reduce í•¨ìˆ˜ëŠ” ìˆ˜í–‰í•  ë•Œ ë‘ í•¨ìˆ˜ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ í•œë‹¤ëŠ” ì œì•½ì´ ìˆë‹¤.\nì…ë ¥ìœ¼ë¡œ ì „ë‹¬ëœ ë°ì´í„°ë§Œ ì‚¬ìš©í•˜ê³ , ì¶”ê°€ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì§ˆì˜ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ì–´ì•¼í•¨ ë¶€ìˆ˜ íš¨ê³¼(side effect)ê°€ ì—†ì–´ì•¼í•¨ ì´ëŸ¬í•œ ì œì•½ ì‚¬í•­ ë•Œë¬¸ì— ë°ì´í„°ë² ì´ìŠ¤ê°€ ì„ì˜ ìˆœì„œë¡œ ì–´ë””ì„œë‚˜ ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê³  ì¥ì• ê°€ ë°œìƒí•´ë„ í•¨ìˆ˜ë¥¼ ì¬ì‹¤í–‰ í•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ì œì•½ ì‚¬í•­ì´ ìˆì–´ë„ ì—¬ì „íˆ ê°•ë ¥í•˜ë©°, ë¬¸ìì—´ì„ íŒŒì‹±í•˜ê³  ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ê³„ì‚°ì„ ì‹¤í–‰í•˜ëŠ” ë“±ì˜ ì‘ì—…ì„ mapê³¼ reduce í•¨ìˆ˜ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nì§‘ê³„ íŒŒì´í”„ë¼ì¸ ì–¸ì–´\në§µë¦¬ë“€ìŠ¤ì˜ ì‚¬ìš©ì„± ë¬¸ì œëŠ” ì—°ê³„ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ ë‘ ê°œë¥¼ ì‹ ì¤‘í•˜ê²Œ ì‘ì„±í•´ì•¼ í•œë‹¤ëŠ” ì ì¸ë° ì´ëŠ” ì¢…ì¢… í•˜ë‚˜ì˜ ì§ˆì˜ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒë³´ë‹¤ ì–´ë µë‹¤. ë°˜ë©´ ì„ ì–¸í˜• ì§ˆì˜ ì–¸ì–´ëŠ” ì§ˆì˜ ìµœì í™”ê¸°ê°€ ì§ˆì˜ ì„±ëŠ¥ì„ ë†’ì¼ ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì œê³µí•œë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ MongoDBëŠ” ì§‘ê²Œ íŒŒì´í”„ë¼ì¸(aggregation pipeline)ì´ë¼ ë¶€ë¥´ëŠ” ì„ ì–¸í˜• ì§ˆì˜ ì–¸ì–´ ì§€ì›ì„ ì¶”ê°€í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 db.observations.aggregate([ { $match: { family: \u0026#34;Sharks\u0026#34; } }, { $group: { _id: { year: { $year: \u0026#34;$observationTimestamp\u0026#34; }, month: { $month: \u0026#34;$observationTimestamp\u0026#34; } }, totalAnimals: { $sum: \u0026#34;$numAnimals\u0026#34; } }} ]); ì§‘ê³„ íŒŒì´í”„ë¼ì¸ ì–¸ì–´ëŠ” í‘œí˜„ ì¸¡ë©´ì—ì„œ SQLì˜ ë¶€ë¶„ ì§‘í•©ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ SQLì˜ ì˜ì–´ ë¬¸ì¥ ìŠ¤íƒ€ì¼ êµ¬ë¬¸ë³´ë‹¤ëŠ” JSON ê¸°ë°˜ êµ¬ë¬¸ì„ ì‚¬ìš©í•œë‹¤.\nì—¬ê¸°ì„œ ë°°ìš¸ ì ì€ NoSQL ì‹œìŠ¤í…œì´ ëœ»í•˜ì§€ ì•Šê²Œ SQLì„ ì¬ë°œê²¬í•˜ê³  ìˆë‹¤ëŠ” ì ì´ë‹¤.\n","date":"2025-02-03T21:06:49+09:00","image":"https://codemario318.github.io/post/designing-data-intensive-application/2/2/cover_hu03451f961cb1218aaf8d95eea6944999_534781_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/designing-data-intensive-application/2/2/","title":"2. ë°ì´í„° ëª¨ë¸ê³¼ ì§ˆì˜ ì–¸ì–´ - ë°ì´í„°ë¥¼ ìœ„í•œ ì§ˆì˜ ì–¸ì–´"},{"content":"ì €ë²ˆ ê¸€ì— ê°„ë‹¨í•œ pub/sub ëª¨ë“ˆì„ êµ¬í˜„í–ˆë˜ ë‚´ìš©ë“¤ì„ ê³µìœ í–ˆìŠµë‹ˆë‹¤.\në§Œë“  ëª¨ë“ˆì„ ê°œì„ í•˜ë ¤ê³  ì—¬ëŸ¬ ìë£Œë“¤ì„ ì°¸ê³ í•´ë³´ë‹ˆ ì œê°€ êµ¬í˜„í•œ pub/sub ëª¨ë“ˆì—ì„œ ë­”ê°€ ì´ì§ˆê°ì´ ëŠê»´ì¡Œì–´ìš”\nì˜¤ëŠ˜ì€ ê·¸ ì´ì§ˆê°ì„ ëŠê¼ˆë˜ ë¶€ë¶„ì— ëŒ€í•´ ë§ì”€ë“œë¦¬ê³  ê°œì„ í•´ë³¸ ë‚´ìš©ë“¤ì„ ê³µìœ ë“œë¦¬ë ¤ê³  í•©ë‹ˆë‹¤.\ní˜„ì¬ êµ¬ì¡° ì´ì „ì— êµ¬í˜„í–ˆë˜ Broker ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬ì¡°ë¥¼ ë¨¼ì € ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nclassDiagram class Broker { \u003c\u003c interface \u003e\u003e subscribe(publisherId: string, handler: MessageHandler) publish(publisherId: string, message: TMessage) addPublisher(publisherId) removePublisher(publisherId: string) } TMessage: ì‚¬ìš©ìê°€ ì •ì˜í•˜ëŠ” ì²˜ë¦¬í•  ë©”ì‹œì§€ MessageHandler: TMessageë¡œ ì •ì˜ëœ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¸ë“¤ëŸ¬ ì²˜ìŒ ì˜ë„í–ˆë˜ ì½”ë“œëŠ” Brokerì˜ êµ¬í˜„ì²´ì˜ addPublisherë¥¼ í†µí•´ ë°œí–‰ìë¥¼ ë“±ë¡í•˜ê³ , ì´í›„ êµ¬ë…ìë“¤ì´ í•´ë‹¹ ë°œí–‰ìë¥¼ êµ¬ë…í•˜ëŠ” í˜•íƒœì˜€ìŠµë‹ˆë‹¤.\nì´ì§ˆê°ì„ ëŠê¼ˆë˜ ë¶€ë¶„ ì´ì „ ê¸€ì—ì„œ ì–¸ê¸‰í–ˆë˜ ë‚´ìš©ì²˜ëŸ¼ ì œê°€ pub/sub íŒ¨í„´ì„ ì ìš©í•œ ì´ìœ ëŠ” íŠ¹ì • ê·¸ë£¹ì— ëŒ€í•œ ì›¹ì†Œì¼“ ìš”ì²­/ì‘ë‹µ ë¸Œë¡œë“œìºìŠ¤íŒ… ì²˜ë¦¬í•  ë•Œ, í•´ë‹¹ ì›¹ì†Œì¼“ ì—°ê²°ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì•Œê³ ìˆì–´ì•¼ í•œë‹¤ëŠ” ë¬¸ì œë¡œ ì¸í•´ ë°œìƒí•œ ê²°í•©ì„ ëŠìŠ¨í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•¨ì´ì—ˆëŠ”ë°ìš”\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 class MessageBroker\u0026lt;TMessage\u0026gt; implements Broker\u0026lt;TMessage\u0026gt; { public async subscribe(publisherId: string, handler: MessageHandler\u0026lt;TMessage\u0026gt;) { const subscriptions = this.publishers.get(publisherId); if (subscriptions === undefined) { throw new Error(`Publisher with ID ${publisherId} does not exist`); } const subscriptionId = randomUUID(); this.publishers.set(publisherId, [...subscriptions, {id: subscriptionId, handler}]); return () =\u0026gt; this.unsubscribe(publisherId, subscriptionId); } } í˜„ì¬ êµ¬í˜„ëœ subscribe ë©”ì„œë“œë¥¼ ì‚´í´ë³´ë©´, êµ¬ë…í•˜ë ¤ê³  í•˜ëŠ” ë°œí–‰ìê°€ ì—†ëŠ” ê²½ìš° ì˜ˆì™¸ë¥¼ ë˜ì§€ë„ë¡ ë˜ì–´ìˆìŠµë‹ˆë‹¤.\nì´ë¥¼ í•´ì„í•´ë³´ë©´ êµ¬ë…ìê°€ ë°œí–‰ìì˜ ì¡´ì¬ ìœ ë¬´ì— ì˜í–¥ì„ ë°›ìŒì„ ì˜ë¯¸í•˜ê²Œ ëœë‹¤ê³  ìƒê°í•˜ê²Œ ë˜ì—ˆì–´ìš”\nì‚¬ì‹¤ ì´ëŸ¬í•œ êµ¬í˜„ì€ ë°œí–‰-êµ¬ë… íŒ¨í„´ì´ë¼ê³ ëŠ” ë§í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, ë©”ì‹œì§€ ë¸Œë¡œì»¤(ì´ë²¤íŠ¸ ë²„ìŠ¤)ê°€ ì˜µì €ë²„ íŒ¨í„´ì˜ ì£¼ì œ(Subject)ë¥¼ ëª¨ì•„ ê´€ë¦¬ë§Œ í•´ì£¼ëŠ” í˜•íƒœê°€ ë˜ì—ˆê¸° ë•Œë¬¸ì— ì™„ë²½í•˜ê²Œ ê²°í•©ì„ ëŠìŠ¨í•˜ê²Œ ë§Œë“¤ì—ˆë‹¤ê³ ëŠ” ë³¼ ìˆ˜ ì—†ë‹¤ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.\nì˜µì €ë²„ íŒ¨í„´ ê°„ëµí•˜ê²Œ ì˜µì €ë²„ íŒ¨í„´ì˜ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nclassDiagram direction LR class Subject { \u003c\u003c interface \u003e\u003e attach(observer: Observer) detach(observer: Observer) notify() } class Observer { \u003c\u003c interface \u003e\u003e +update() } class ConcreteSubject { -observers: Observer[] +attach(observer: Observer) +detach(observer: Observer) +notify() } class ConcreteObserver { +update() } Subject \u003c|-- ConcreteSubject Observer \u003c|-- ConcreteObserver Subject \"1\" --o \"*\" Observer : observers ConcreteObserver --\u003e ConcreteSubject ì˜µì €ë²„ íŒ¨í„´ì€ ì£¼ì œ(Subject)ì™€ ê´€ì°°ì(Observer)ë¡œ êµ¬ì„±ë˜ì–´, íŠ¹ì • Subjectë¥¼ Observer ê´€ì°°í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë§Œë“œëŠ”ë°ìš”\nSubject ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ConcreteSubject í´ë˜ìŠ¤ì—ì„œ Observerì˜ êµ¬í˜„ì²´ë“¤ì„ ê°€ì§€ê³  ìˆê³ , íŠ¹ì • ìƒíƒœ ë³€ê²½ì‹œ notify ë©”ì„œë“œë¥¼ í†µí•´ Observerì˜ update ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬, ì›í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ì²˜ë¦¬í•˜ëŠ” í˜•íƒœë¡œ êµ¬í˜„ë©ë‹ˆë‹¤.\nê¸°ë³¸ì ì¸ êµ¬ì¡°ë¥¼ ê°„ë‹¨íˆ êµ¬í˜„í•œ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ë©´\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 class Subject\u0026lt;TMessage\u0026gt; { constructor(private readonly observers: TMessage[] = []) {} attach(observer: Observer\u0026lt;TMessage\u0026gt;) { this.observers.push(observer); } notify(data: TMessage) { this.observers.forEach(observer =\u0026gt; observer.update(data)); } } class Observer\u0026lt;TMessage\u0026gt; { constructor(private readonly id: string) {} update(data: TMessage) { console.log(`ID: ${this.id} : ${data}`); } } const subject = new Subject\u0026lt;string\u0026gt;(); const observerA = new Observer(\u0026#39;A\u0026#39;); const observerB = new Observer(\u0026#39;B\u0026#39;); subject.attach(observerA); subject.attach(observerB); subject.notify(\u0026#39;hi\u0026#39;); // ID: A : hi // ID: B : hi ìœ„ì™€ ê°™ì€ í˜•íƒœë¡œ êµ¬í˜„ë  ìˆ˜ ìˆê³ , í•¨ìˆ˜ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” JS/TSì˜ íŠ¹ì„±ì„ í™œìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ í‘œí˜„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 type Observer = (data: TMessage) =\u0026gt; void; class Subject { constructor(private readonly observers: Observer[] = []) {} attach(observer: Observer) { this.observers.push(observer); } notify(data: any) { this.observers.forEach(observer =\u0026gt; observer.update(data)); } } function update(id: string, data: string) { console.log(`ID: ${this.id} : ${data}`); } const subject = new Subject\u0026lt;string\u0026gt;(); subject.attach(data =\u0026gt; update(\u0026#39;A\u0026#39;, data)); subject.attach(data =\u0026gt; update(\u0026#39;B\u0026#39;, data)); subject.notify(\u0026#39;hi\u0026#39;); // ID: A : hi // ID: B : hi ì˜µì €ë²„ íŒ¨í„´ì„ ì ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì¥ì ì„ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê´€ì°°ìë¥¼ ì–¸ì œë“  ì¶”ê°€í•  ìˆ˜ ìˆìŒ Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê°ì²´ ëª©ë¡ì—ë§Œ ì˜ì¡´í•˜ë¯€ë¡œ, ì–¸ì œë“  ìƒˆë¡œìš´ ì˜µì €ë²„ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŒ ì‹¤í–‰ ì¤‘ì— í•˜ë‚˜ì˜ ì˜µì €ë²„ë¥¼ ë‹¤ë¥¸ ì˜µì €ë²„ë¡œ ë°”ê¿”ë„ ë‹¤ë¥¸ ì˜µì €ë²„ì—ê²Œ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ”ë° ì˜í–¥ì´ ì—†ìŒ ìƒˆë¡œìš´ í˜•ì‹ì˜ ì˜µì €ë²„ë¥¼ ì¶”ê°€í•´ë„ ì£¼ì œë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì—†ìŒ Observer ì¸í„°í˜ì´ìŠ¤ë§Œ êµ¬í˜„í•˜ë©´ ë¨ ì£¼ì œì™€ ê´€ì°°ì ëª¨ë‘ ë…ë¦½ì ìœ¼ë¡œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŒ ì£¼ì œë‚˜ ì˜µì €ë²„ì˜ ë‚´ë¶€ êµ¬í˜„ì´ ë‹¬ë¼ì ¸ë„ ì„œë¡œì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠìŒ Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ì¡°ê±´ë§Œ ë§Œì¡±í•œë‹¤ë©´! ì˜µì €ë²„ íŒ¨í„´ë„ ì£¼ì œê°€ ê´€ì°°ìë¼ëŠ” íŠ¹ì • ì¸í„°í˜ì´ìŠ¤(ë˜ëŠ”, íŠ¹ì • ì…ë ¥ì„ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜)ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ì•Œê³  ìˆì„ ë¿ì´ë¯€ë¡œ, ì¶©ë¶„íˆ ëŠìŠ¨í•œ ê²°í•©ì„ ë§Œë“ ë‹¤ê³  ë³¼ ìˆ˜ ìˆì§€ë§Œ, ì—¬ì „íˆ íŠ¹ì • ì£¼ì œì˜ êµ¬í˜„ì²´ë¥¼ ì•Œì•„ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤(Subject êµ¬í˜„ì²´ê°€ ì¡´ì¬í•´ì•¼í•¨, ì–´ë–»ê²Œë“  ë„˜ê²¨ì¤˜ì•¼í•¨)ì€ ë‚¨ì•„ìˆê²Œ ë©ë‹ˆë‹¤.\nTopic, Channel ì´ë ‡ê²Œ ë­”ê°€ ì°ì°í•œ(?) ê²°ê³¼ë¥¼ êµ¬í˜„í•˜ê²Œ ëœ ì´ìœ ëŠ” êµ¬ë…-ë°œí–‰ íŒ¨í„´ì—ì„œ ë°œí–‰ìê°€ ì˜µì €ë²„ íŒ¨í„´ì—ì„œì˜ íŠ¹ì • ì£¼ì œ(Subject)ê°€ ì™€ ê°™ë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ì—ˆìŠµë‹ˆë‹¤.\níŠ¹íˆ ì œê°€ ì˜¤í•´í•œ ë¶€ë¶„ì€ ë°”ë¡œ Topic í˜¹ì€ Channelì´ë¼ëŠ” ê°œë…ì´ì—ˆì–´ìš”\nìœ„ ê·¸ë¦¼ì²˜ëŸ¼ ë©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ê° ì±„ë„ì— ë°œí–‰ëœ ë©”ì‹œì§€ë¥¼ êµ¬ë…ìì—ê²Œ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•˜ê²Œë©ë‹ˆë‹¤.\nì €ëŠ” ì´ëŸ¬í•œ êµ¬ì¡°ë¥¼ ë©”ì‹œì§€ ë¸Œë¡œì»¤ê°€ ë°œí–‰ìë“¤ê³¼ ê°ê°ì˜ êµ¬ë…ìë“¤ì„ ê´€ë¦¬í•˜ëŠ” í˜•íƒœë¡œ ì˜¤í•´í–ˆë˜ ê²ƒ ì´ì—ˆì–´ìš”\në¬¼ë¡  ì•„ì£¼ í‹€ë ¸ë‹¤ê³  í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ\u0026hellip; ì¡°ê¸ˆ ë” ì •í™•íˆ í‘œí˜„í•˜ë©´ ë©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ì˜µì €ë²„ íŒ¨í„´ì˜ Subject êµ¬í˜„ì²´ê°€ ì•„ë‹Œ íŠ¹ì • ê´€ì‹¬ì‚¬ ìì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ê³ , íŠ¹ì • ê´€ì‹¬ì‚¬ì— ëŒ€í•´ ë°œí–‰ëœ ë©”ì‹œì§€ë¥¼ ë©”ì‹œì§€ ë¸Œë¡œì»¤ê°€ êµ¬ë…ìì—ê²Œ ë„˜ê²¨ì£¼ëŠ” ê·¸ë£¹í™”ëœ íë¦„ì„ ìì²´ë¥¼ Channel í˜¹ì€ Topicì´ë¼ ë¶€ë¥¸ë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në¹„ìœ ë¥¼ í•´ë³´ìë©´ TVë¥¼ ë³¼ ë•Œ íŠ¹ì • ë²ˆí˜¸ë¥¼ í†µí•´ íŠ¹ì • ë°©ì†¡êµ­ì—ì„œ ë°©ì†¡ì´ ì†¡ì¶œë˜ëŠ” ì£¼íŒŒìˆ˜ ëŒ€ì—­ì— ë§ì¶”ê³  í•´ë‹¹ ë°©ì†¡êµ­ì—ì„œ ë³´ë‚´ëŠ” ì˜ìƒì„ ì‹œì²­í•˜ëŠ” ê²ƒì„ ì±„ë„ì„ ë§ì¶˜ë‹¤ë¼ê³  í‘œí˜„í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ìš”\nê³µì¤‘íŒŒ ë°©ì†¡ìœ¼ë¡œ ì œí•œí–ˆì„ ë•Œ, ë°©ì†¡êµ­ì€ íŠ¹ì • ëŒ€ìƒì— ëŒ€í•´ì„œë§Œ ë°©ì†¡ì„ ì†¡ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ëª¨ë“  ëŒ€ìƒì— ëŒ€í•´ì„œ ì‹ í˜¸ë¥¼ ì†¡ì¶œí•˜ê³ , ì—°ê²°ë§Œ ë˜ì–´ìˆë‹¤ë©´ ì±„ë„ì„ ë§ì¶° ì‹œì²­í•  ìˆ˜ ìˆëŠ” ê²ƒê³¼ ê°™ì€ ë§¥ë½ì´ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê´€ì‹¬ì‚¬ì— ì¡°ê¸ˆ ë” ì§‘ì¤‘í•´ì„œ í‘œí˜„í•œ ë‹¨ì–´ê°€ Topic, ë©”ì‹œì§€ê°€ ì „ë‹¬ë˜ëŠ” ê³¼ì •ì— ì§‘ì¤‘í•´ì„œ í‘œí˜„í•œ ë‹¨ì–´ê°€ Channelì´ ì•„ë‹ê¹Œ ìƒê°í•´ë´…ë‹ˆë‹¤. ê°œì„  ì´ëŸ¬í•œ ë‚´ìš©ë“¤ì„ ë°˜ì˜í•˜ì—¬ ì•„ë˜ì™€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ êµ¬ì¡°ë¡œ ë³€ê²½í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.\nclassDiagram class Broker { \u003c\u003c interface \u003e\u003e subscribe(channel: string, handler: MessageHandler) publish(channel: string, message: TMessage) } ë³€ê²½ëœ ë¶€ë¶„ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nê° í•¨ìˆ˜ì˜ ì¸ì publisherIdë¥¼ channelë¡œ ë³€ê²½ addSubscriber, removeSubscriber ë©”ì„œë“œ ì œê±° ê²°ê³¼ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¬¼ì´ ë‚˜ì™”ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 class MessageBroker\u0026lt;TMessage\u0026gt; implements Broker\u0026lt;TMessage\u0026gt; { constructor( private readonly channels: Map\u0026lt;string, Subscription\u0026lt;TMessage\u0026gt;[]\u0026gt; = new Map(), ) {} public async subscribe(channel: string, handler: MessageHandler\u0026lt;TMessage\u0026gt;) { const subscriptions = this.getSubscriptions(channel) const subscriptionId = randomUUID(); this.channels.set(channel, [...subscriptions, {id: subscriptionId, handler}]); return () =\u0026gt; this.unsubscribe(channel, subscriptionId); } public async publish(channel: string, message: TMessage) { const subscriptions = this.getSubscriptions(channel); await Promise.all(subscriptions.map((subscriber) =\u0026gt; subscriber.handler(message))); } private getSubscriptions(channel: string) { if (!this.channels.has(channel)) { this.channels.set(channel, []); } return this.channels.get(channel)!; } private async unsubscribe(channel: string, subscriptionId: string) { const subscriptions = this.getSubscriptions(channel); this.channels.set(channel, subscriptions.filter((subscription) =\u0026gt; subscription.id !== subscriptionId)); } } addPublisher, removePublisherê°€ ì œê±°ë˜ë©° getSubscriptions ë©”ì„œë“œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.\në³´ì‹œëŠ” ê²ƒê³¼ ê°™ì´ ì±„ë„ ì»¬ë ‰ì…˜ì— í•´ë‹¹ ì±„ë„ì´ ì—†ì„ ê²½ìš° ë¹ˆ ì±„ë„ì„ ì´ˆê¸°í™” í›„ ë°˜í™˜í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.\në” ê³ ë¯¼í•´ë´ì•¼í•  ë‚´ìš© êµ¬ë…ìê°€ íŠ¹ì • ë°œí–‰ìë¥¼ ë°œí–‰ìê°€ ì•„ë‹Œ ê´€ì‹¬ì‚¬ë¥¼ êµ¬ë…í•˜ê²Œ ë˜ì—ˆëŠ”ë°ìš”, ì´ë¡œ ì¸í•´ ì£¼ì˜í•´ì•¼í•˜ê±°ë‚˜ ìƒê°í•´ë´ì•¼ í•  ë‚´ìš©ë“¤ì´ ë” ìƒê¸°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\në°œí–‰ìê°€ ì—†ë”ë¼ë„ êµ¬ë… ìƒíƒœê°€ ìœ ì§€ë  ìˆ˜ ìˆìŒ channelì„ ì˜ëª» ì…ë ¥í•œ ê²½ìš° ë‹¤ë¥¸ ê´€ì‹¬ì‚¬ë¥¼ êµ¬ë…í•˜ê²Œ ë¨(ì˜¤ë¥˜ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠìŒ) channelì— êµ¬ë…ìê°€ ì—†ë”ë¼ë„ ë¹ˆ ë°°ì—´ì´ ìœ ì§€ë¨ í¬ê²Œ ì„¸ ê°€ì§€ ì •ë„ê°€ ìƒê°ë‚˜ëŠ”êµ°ìš”\n1, 2ë²ˆì˜ ê²½ìš°ëŠ” ëª¨ë“ˆì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•´ì•¼í•  ì ìœ¼ë¡œ ë³´ì´ê³ , 3ë²ˆ ê°™ì€ ê²½ìš°ëŠ” ë³„ë„ì˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ê°€ í•„ìš”í•´ ë³´ì…ë‹ˆë‹¤.\në§ˆë¬´ë¦¬ ì´ì „ ê¸€ì— ì´ì–´ì„œ ë°œí–‰-êµ¬ë… íŒ¨í„´ì— ëŒ€í•œ ì˜ëª»ëœ ì˜¤í•´ë¥¼ ë°”ë¡œ ì¡ì•„, ì œê°€ ì§ì ‘ êµ¬í˜„í•œ pub/sub íŒ¨í‚¤ì§€ë¥¼ ê°œì„ í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.\në‹¤ìŒ ì£¼ì œëŠ” êµ¬ë…ìê°€ ì—†ëŠ” ì±„ë„ì— ëŒ€í•œ ê´€ë¦¬ë¥¼ ì–´ë–»ê²Œ í•´ì•¼í•  ì§€ ê³ ë¯¼í•´ë³´ëŠ” ê³¼ì •ì´ ë  ê²ƒ ê°™ë„¤ìš”\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ğŸ˜\n","date":"2025-01-30T09:17:35+09:00","image":"https://codemario318.github.io/post/node/pub-sub/2/cover_hu468162ba17ce27969b9476abe99e20c1_99229_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/node/pub-sub/2/","title":"2. ë°œí–‰-êµ¬ë… íŒ¨í„´ì—ì„œ ë°œí–‰ìëŠ” ì–´ë–¤ ì˜ë¯¸ì¼ê¹Œ?"},{"content":"ì•ˆë…•í•˜ì„¸ìš”ğŸ˜€ ìµœê·¼ ë¶€ìŠ¤íŠ¸ìº í”„ ë©¤ë²„ì‹­ ê³¼ì •ì„ ë§ˆì¹˜ê³ , ì´ì „í•´ ìˆ˜í–‰í–ˆë˜ í”„ë¡œì íŠ¸ë¥¼ ë¦¬íŒ©í† ë§ í•˜ëŠ” ì‹œê°„ì„ ê°€ì§€ê³  ìˆëŠ”ë°ìš”, ë¦¬íŒ©í† ë§ì„ ìˆ˜í–‰í•˜ë©´ì„œ ë°œí–‰-êµ¬ë… íŒ¨í„´ì„ í†µí•´ í”„ë¡œì íŠ¸ë¥¼ ê°œì„ í•œ ê²½í—˜ì„ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ì—ì„œ ì–´ë– í•œ ë¬¸ì œê°€ ìˆì—ˆëŠ”ì§€ ì•Œì•„ë³´ê³ , êµ¬í˜„í•œ ê²°ê³¼ë¬¼ì„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\në¬¸ì œì˜ ì‹œì‘ ì €í¬ íŒ€ì€ ì—¬ëŸ¬ ì¸ì›ë“¤ì´ ë™ì‹œì— ì°¸ì—¬í•˜ëŠ” ì‹¤ì‹œê°„ í€´ì¦ˆ í”Œë«í¼ BooQuizë¥¼ Nestë¥¼ ì´ìš©í•´ êµ¬í˜„í–ˆëŠ”ë°ìš”.\nì„œë²„ì—ì„œ í€´ì¦ˆì˜ ì§„í–‰ì„ ì „ì ìœ¼ë¡œ ë‹´ë‹¹í•˜ëŠ” ì„¤ê³„ë¡œ ì‚¬ìš©ìì˜ ì •ë‹µ ì œì¶œ, ì±„íŒ… ë“±ì˜ ì§€ì†ì ì¸ ìƒí˜¸ì‘ìš©ì´ í•„ìš”í–ˆê¸° ë•Œë¬¸ì— ì›¹ì†Œì¼“ì„ í™œìš©í–ˆìŠµë‹ˆë‹¤.\nNestì—ëŠ” ì›¹ì†Œì¼“ì„ wsì„ í™œìš©í•˜ëŠ” WsAdapter, socket.ioë¥¼ í™œìš©í•˜ëŠ” IoAdapter ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì œê³µí•˜ëŠ”ë°, ì €í¬ëŠ” ë§ì€ ì‚¬ìš©ìê°€ ë™ì‹œì— ì—¬ëŸ¬ í€´ì¦ˆì— ì°¸ì—¬í•˜ëŠ” ìƒí™©ì—ì„œ ì„œë²„ì¸¡ì˜ ì§€ì—°ì€ ëª¨ë“  í€´ì¦ˆ ì§„í–‰ì— ì˜í–¥ì„ ì£¼ëŠ” êµ¬ì¡°ì—¬ì„œ ë¹ ë¥¸ ì„±ëŠ¥ì„ ì œê³µí•˜ëŠ” wsë¥¼ í™œìš©í–ˆìŠµë‹ˆë‹¤.\nwsëŠ” ìµœì†Œí•œì˜ í—¤ë”ë§Œì„ ì‚¬ìš©í•˜ê³ , ë³„ë„ì˜ ì¶”ìƒí™” ë ˆì´ì–´ê°€ ì—†ê¸° ë•Œë¬¸ì— ë¹ ë¥¸ ì„±ëŠ¥ì„ ë³´ì—¬ì£¼ì§€ë§Œ, í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê²ƒ ì™¸ì˜ ê¸°ëŠ¥ì€ ì œê³µí•˜ì§€ ì•Šì•„ ëª¨ë“  ê¸°ëŠ¥ë“¤ì„ ì§ì ‘ êµ¬í˜„í•´ì•¼í–ˆì–´ìš”ğŸ¥²\níŠ¹íˆ ì„œë²„ëŠ” í€´ì¦ˆ ì§„í–‰ì„ ìœ„í•´ í€´ì¦ˆì¡´ì´ë¼ëŠ” ê°ê°ì˜ ìƒíƒœ ë³€í™”ì— ë”°ë¼ í•´ë‹¹ í€´ì¦ˆì¡´ì— ì°¸ì—¬í•˜ê³  ìˆëŠ” ì‚¬ìš©ìì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ì£¼ëŠ” Broadcast ê¸°ëŠ¥ì´ í•„ìš”í•©ë‹ˆë‹¤. socket.io ê°™ì€ ê²½ìš° room ì´ë¼ëŠ” ê°œë…ì„ ì´ìš©í•´ì„œ ì œê³µí•˜ì§€ë§Œ, wsëŠ” ì œê³µí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì—­ì‹œ ì§ì ‘ êµ¬í˜„í•´ì•¼í–ˆì–´ìš”\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @WebSocketGateway({ path: \u0026#39;/play\u0026#39; }) export class PlayGateway implements OnGatewayInit { constructor( @Inject(\u0026#39;ClientInfoStorage\u0026#39;) private readonly clients: Map\u0026lt;String, WebSocketWithSession\u0026gt;, ) {} private broadcast(clientIds: string[], event: string, data?: any) { clientIds.forEach((clientId) =\u0026gt; { this.sendToClient(clientId, event, data); }); } private sendToClient(clientId: string, event: string, data?: any) { const { socket } = this.getClientInfo(clientId); socket.send(JSON.stringify({ event, data })); } } WebSocketWithSessionì€ ë‹¨ìˆœíˆ websocket ì¸ìŠ¤í„´ìŠ¤ì— ì‚¬ìš©ì ì„¸ì…˜ì„ ë°”ì¸ë”©í•œ ê²ƒ ì…ë‹ˆë‹¤.\nMapì„ ì´ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ ê³ ìœ í•œ IDë¥¼ keyë¡œ Websocket ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ ì €ì¥í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì˜ IDë“¤ì„ ë°›ì•„ ìˆœíšŒí•˜ë©° ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.\nì´ëŸ¬í•œ êµ¬í˜„ì„ ê¸°ë°˜ìœ¼ë¡œ socket.ioì˜ room ê°œë…ì„ ëŒ€ì²´í•  ë‘ ê°€ì§€ ë°©ì‹ì„ ê³ ë ¤í–ˆìŠµë‹ˆë‹¤.\nì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìë“¤ì„ ë³„ë„ë¡œ ê´€ë¦¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 @WebSocketGateway({ path: \u0026#39;/play\u0026#39; }) export class PlayGateway implements OnGatewayInit { constructor( @Inject(\u0026#39;ClientInfoStorage\u0026#39;) private readonly clients: Map\u0026lt;String, ClientInfo\u0026gt;, @Inject(\u0026#39;PlayInfoStorage\u0026#39;) private readonly players: Map\u0026lt;string, string[]\u0026gt;, /* í˜¹ì€ private readonly players: Map\u0026lt;string, {id: string, socket: WebSocketWithSession}[]\u0026gt;, private readonly players: Map\u0026lt;string, Map\u0026lt;string, WebSocketWithSession\u0026gt;\u0026gt;, */ ) {} /* ìƒëµ */ @SubscribeMessage(\u0026#39;join\u0026#39;) async join( @ConnectedSocket() client: WebSocketWithSession, @MessageBody() quizJoinDto: QuizJoinDto, ) { const { id, quizZoneId } = client.session; const player = await this.playService.joinQuizZone(quizZoneId, id); /* ìƒëµ */ this.clients.set(id, { quizZoneId, socket: client }); this.broadcast(players.get(quizZoneId), \u0026#39;someone_join\u0026#39;, player); /* ìƒëµ */ } } ì²« ë²ˆì§¸ë¡œ ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìë“¤ì„ Gatewayì—ì„œ ì¶”ê°€ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.\nê° í€´ì¦ˆì¡´ì— ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìë“¤ì˜ idë¥¼ í†µí•´ ê° ì—°ê²°ì„ ì°¸ì¡°í•˜ê±°ë‚˜, ì§ì ‘ ì°¸ì¡°í•´ì„œ broadcast ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.\nì¥ì  Gatewayì—ì„œ ì™¸ë¶€ ë„ì›€ ì—†ì´ ì‘ë‹µì„ ë³´ë‚¼ ìˆ˜ ìˆìŒ ì´ë¡œì¸í•´ ì›¹ì†Œì¼“ ì‘ë‹µì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆìŒ ë‹¨ì  í€´ì¦ˆì¡´ì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ìƒíƒœë¥¼ ì¤‘ë³µí•´ì„œ ê´€ë¦¬í•´ì•¼í•¨ ì´ë¡œì¸í•´ ì°¸ì—¬, í‡´ì¥ ë“±ì´ ë°œìƒí–ˆì„ ë•Œ ë™ê¸°í™”ê°€ í•„ìš”í•¨ ìš©ëŸ‰ì´ ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•¨ ìš”ì•½í•˜ë©´ ì›¹ì†Œì¼“ ì²˜ë¦¬ì—ë§Œ ì§‘ì¤‘í• ìˆ˜ ìˆì§€ë§Œ, ì°¸ì—¬ì ì •ë³´ëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì—ì„œ API ì‘ë‹µì— í™œìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë³„ë„ ê´€ë¦¬ê°€ í•„ìš”í•˜ê³ , ë™ì¼í•œ ìƒíƒœë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë™ê¸°í™” ë“±ì˜ ì²˜ë¦¬ì— ì‹ ê²½ì¨ì•¼í•©ë‹ˆë‹¤.\nì‘ë‹µì´ í•„ìš”í•  ë•Œë§ˆë‹¤ ì‚¬ìš©ìë“¤ì˜ ì •ë³´ë¥¼ ì¡°íšŒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 @WebSocketGateway({ path: \u0026#39;/play\u0026#39; }) export class PlayGateway implements OnGatewayInit { constructor( @Inject(\u0026#39;ClientInfoStorage\u0026#39;) private readonly clients: Map\u0026lt;String, ClientInfo\u0026gt;, private readonly playService: PlayService, ) {} /* ìƒëµ */ @SubscribeMessage(\u0026#39;join\u0026#39;) async join( @ConnectedSocket() client: WebSocketWithSession, @MessageBody() quizJoinDto: QuizJoinDto, ): Promise\u0026lt;SendEventMessage\u0026lt;ResponsePlayerDto[]\u0026gt;\u0026gt; { const { id, quizZoneId } = client.session; const { currentPlayer, playerIds } = await this.playService.joinQuizZone(quizZoneId, id); /* í˜¹ì€ const currentPlayer = await this.playService.joinQuizZone(quizZoneId, sessionId); const playerIds = await this.playService.getQuizZonePlayerIds(quizZoneId); */ /* ìƒëµ */ this.clients.set(id, { quizZoneId, socket: client }); this.broadcast(playerIds, \u0026#39;someone_join\u0026#39;, currentPlayer); /* ìƒëµ */ } } ë‘ ë²ˆì§¸ë¡œ í•„ìš”í• ë•Œë§ˆë‹¤ ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì¡°íšŒí•˜ì—¬ ë„˜ê²¨ì£¼ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.\nì˜ˆì‹œì—ì„œ ì£¼ì…ë°›ì€ PlayServiceëŠ” ë³„ë„ë¡œ ë¶„ë¦¬ë˜ì–´ìˆëŠ” QuizZoneServiceë¥¼ í†µí•´ í€´ì¦ˆì¡´ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ”ë°ìš”\nì´ë¥¼ í†µí•´ì„œ í•„ìš”í•œ ì²˜ë¦¬ë§ˆë‹¤ ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì¥ì  ë³„ë„ì˜ ì°¸ì—¬ì ì •ë³´ë“¤ì„ ê´€ë¦¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë™ê¸°í™”ê°€ í•„ìš”ì—†ìŒ ë‹¨ì  PlayGatewayì™€ PlayServiceì˜ ì¢…ë‹¨ ê´€ì‹¬ì‚¬ ê²°í•© PlayServiceì™€ QuizZoneServiceì˜ íš¡ë‹¨ ê´€ì‹¬ì‚¬ ê²°í•© ê°•í™” QuizZoneServiceì˜ ë¶€í•˜ê°€ ë§ì•„ì§ ê·¸ë˜ë„ ì›¹ì†Œì¼“ ì—°ê²°ì— ëŒ€í•œ ì •ë³´ë“¤ì€ ê´€ë¦¬í•´ì•¼í•¨ ìš”ì•½í•˜ìë©´, broadcastê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ í€´ì¦ˆì¡´ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì°¸ì—¬ì ì •ë³´ë¥¼ ì¡°íšŒí•˜ê¸° ë•Œë¬¸ì— ê´€ì‹¬ì‚¬ì˜ ê²°í•©ì´ ë°œìƒí•  ìˆ˜ ìˆì§€ë§Œ, ìƒíƒœê°€ ì´ì›í™”ë˜ì§€ ì•Šì•„ ê´€ë¦¬ ì§€ì ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.\në‘ ì„ íƒì§€ ëª¨ë‘ ë‹¨ì ì´ ë§ì•„ ê³ ë¯¼ì´ ë§ì•˜ëŠ”ë°ìš”. ê²°ê³¼ì ìœ¼ë¡œ ì €í¬ëŠ” ë‘ ë²ˆì§¸ ë°©ì‹ì„ í†µí•´ ì²˜ë¦¬í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.\ní€´ì¦ˆ ì§„í–‰ì— ë”°ë¼ ì‚¬ìš©ìì˜ ìš”ì²­ ì²˜ë¦¬ ë•Œë¬¸ì— PlayServiceì™€ QuizZoneServiceì˜ ì˜ì¡´ì€ í•„ì—°ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” êµ¬ì¡°ì˜€ê³ , QuizZoneServiceì˜ ë¶€í•˜ëŠ” ìºì‹± ë“±ì˜ ì²˜ë¦¬ë¡œ ê°œì„ í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ì„œë¹„ìŠ¤ë¥¼ ë¶„ë¦¬ë¥¼ ê³ ë ¤í–ˆì„ ë•Œ í˜„ì¬ ì•„í‚¤í…ì²˜ì—ì„œ ì´ì›í™”ëœ ìƒíƒœ ë™ê¸°í™” ë¬¸ì œê°€ ë” í•´ê²°í•˜ê¸° ì–´ë ¤ìš´ ë¬¸ì œë¼ê³  ìƒê°í–ˆì–´ìš”\në°œê²¬í•œ ë¬¸ì œ ì²˜ìŒì—ëŠ” ê´œì°®ì•˜ì§€ë§Œ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì—¬ëŸ¬ ë¬¸ì œë“¤ì´ ë¶€ê°ë˜ê¸° ì‹œì‘í–ˆì–´ìš”ğŸ˜‚\nì œ íŒë‹¨í•˜ê¸°ì—ëŠ” í¬ê²Œ ì„¸ ê°€ì§€ ì •ë„ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\nGatewayì—ì„œ ëª¨ë“  ì›¹ì†Œì¼“ ì—°ê²°ì— ëŒ€í•´ ì•Œì•„ì•¼í•¨\nì´ì „ì— í™•ì¸í–ˆë˜ ê²ƒ ì²˜ëŸ¼ Gatewayì—ì„œ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œ í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²°ì„ ì§ì ‘ í™œìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, broadcastë¥¼ ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²° ì •ë³´ë¥¼ ìœ ì§€í•´ì•¼í•©ë‹ˆë‹¤.\nì´ëŠ” ì¶”ê°€ì ì¸ ì €ì¥ ê³µê°„ì„ í•„ìš”ë¡œ í•  ë¿ë§Œ ì•„ë‹ˆë¼, ì„œë¹„ìŠ¤ì—ì„œ í™œìš©ë˜ëŠ” ì‚¬ìš©ìì˜ ì‹ë³„ìì™€ ì›¹ì†Œì¼“ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—°ê²°í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, ì„œë¹„ìŠ¤ ìƒíƒœì™€ ê²°í•©ì´ ìƒê²¼ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆì–´ìš”\nService ë ˆì´ì–´ì˜ ë§ì€ ì±…ì„\nService ì—ì„œ ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ë°›ì•„ì˜¤ëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì— ì„œë¹„ìŠ¤ì—ì„œ ê´€ë ¨ ì²˜ë¦¬ë“¤ì´ ì¶”ê°€ë˜ì–´ì•¼í•˜ê³ , ì´ëŠ” ë§ì€ ì±…ì„ê³¼ ë”ë¶ˆì–´ ì½”ë“œê°€ ë¹„ëŒ€í•´ì§€ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\nGatewayì™€ Service ë ˆì´ì–´ì˜ ëª¨í˜¸í•œ ê²½ê³„\nìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ ì‘ë‹µì„ ìœ„í•œ ë°ì´í„° ê°€ê³µí•˜ëŠ” ì²˜ë¦¬ê°€ Gatewayë¡œ ì¡°ê¸ˆì”© ë„˜ì–´ì˜¤ëŠ” ìƒí™©ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\nì´ë¡œ ì¸í•´ ì¼ë¶€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë“¤ë„ Gatewayë¡œ ë„˜ì–´ì˜¤ê²Œ ë˜ë©´ì„œ, ì‚¬ìš©ìì—ê²Œ ì‘ë‹µì„ ë‹´ë‹¹í•´ì•¼í•˜ëŠ” Gatewayì˜ ì±…ì„ì´ ì˜¤ì—¼ë˜ê³  ìˆì—ˆì–´ìš”\nê·¼ë³¸ì ì¸ ì›ì¸ì€? ì €ëŠ” ì´ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒí•œ ê·¼ë³¸ì ì¸ ì›ì¸ì´ ì›¹ì†Œì¼“ ì—°ê²°ì„ í†µí•œ ì‘ë‹µ ì²˜ë¦¬ì—ì„œ í€´ì¦ˆì¡´ì— ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì•Œì•„ì•¼í•˜ëŠ” ê²ƒ ìì²´ ë¼ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ Gatewayì—ì„œ ì›¹ì†Œì¼“ ì—°ê²°ì„ í†µí•´ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì‘ë‹µí•  ë•Œ ì°¸ì—¬ìì˜ ì •ë³´ë¥¼ ì•„ì˜ˆ ê²©ë¦¬ì‹œì¼œì•¼í•  í•„ìš”ì„±ì„ ëŠë¼ê²Œ ë˜ì—ˆì–´ìš”\nì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì–´ë–»ê²Œ ê²©ë¦¬í• ê¹Œ? ì„œë¹„ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Nê°œì˜ í€´ì¦ˆì¡´ ê°ê°ì— Mëª…ì˜ ì‚¬ìš©ìê°€ ì°¸ì—¬í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì„œë²„ê°€ ì‚¬ìš©ìë“¤ì˜ ë©”ì‹œì§€ë¥¼ ë°›ì•„ í€´ì¦ˆì¡´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ê³ , ì§„í–‰ ìƒíƒœì— ë”°ë¼ ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìë“¤ì—ê²Œ ì‘ë‹µ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê²Œë©ë‹ˆë‹¤.\nì •ë¦¬í•˜ë©´, ë‹¤ìˆ˜ì˜ í€´ì¦ˆì¡´ì— ëŒ€í•œ ì§„í–‰ì„ ìœ„í•´ ì‚¬ìš©ìëŠ” ì„œë²„ì—ê²Œë§Œ ìš”ì²­ì„ ë³´ë‚´ê³  ì„œë²„ëŠ” ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìì—ê²Œ broadcast í•˜ëŠ” êµ¬ì¡°ì´ì£ \nì´ëŸ¬í•œ ìƒí™©ì—ì„œ ì„œë²„ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì—¬ëŸ¬ í€´ì¦ˆì¡´ê³¼ ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìê°€ ì„œë¡œ ëˆ„êµ¬ì¸ì§€ ëª°ë¼ë„ ë˜ê²Œ ë§Œë“œëŠ” ëŒ€í‘œì ì¸ ë°©ë²•ìœ¼ë¡œ ë°œí–‰-êµ¬ë… íŒ¨í„´ì„ ê³ ë ¤í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\në°œí–‰-êµ¬ë… íŒ¨í„´ ë°œí–‰-êµ¬ë…(Publish-Subscribe) íŒ¨í„´(ì´í•˜ pub/sub)ì€ ë°œí–‰ì(Publisher)ê°€ ë©”ì‹œì§€ë¥¼ ì§ì ‘ íŠ¹ì • êµ¬ë…ì(Subscriber)ì—ê²Œ ë³´ë‚´ì§€ ì•Šê³ , ì¤‘ê°„ì˜ ë©”ì‹œì§€ ë¸Œë¡œì»¤(ì´ë²¤íŠ¸ ë²„ìŠ¤)ë¥¼ í†µí•´ íŠ¹ì • ì£¼ì œ(Topic)ë‚˜ ì±„ë„ì— ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ë©´, í•´ë‹¹ ì£¼ì œë¥¼ êµ¬ë…í•˜ëŠ” ëª¨ë“  êµ¬ë…ìë“¤ì´ ìë™ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë°›ëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤.\nêµ¬ë…ìëŠ” ì£¼ì œë§Œ ì•Œì•„ë„ ë³´ë‚´ëŠ” ëª¨ë“  ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ ê°„ ëŠìŠ¨í•œ ê²°í•©(Loose Coupling)ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ì—¬ ì‹œìŠ¤í…œì˜ í™•ì¥ì„±ê³¼ ìœ ì—°ì„±ì´ í–¥ìƒë˜ê³ , ì´ëŠ” ì„œë¹„ìŠ¤ì˜ ì•ˆì •ì ì¸ í™•ì¥ê³¼ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•´ì§€ëŠ” ê²°ê³¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ ê·¼ë³¸ì ì¸ ì›ì¸ì¸ ì›¹ì†Œì¼“ ì—°ê²°ì„ í†µí•œ ì‘ë‹µ ì²˜ë¦¬ì—ì„œ í€´ì¦ˆì¡´ì— ì°¸ì—¬ì¤‘ì¸ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì•Œì•„ì•¼í•˜ëŠ” ë¬¸ì œë¥¼ ê°œì„ í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í•˜ì—¬ ì ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nì¸í„°í˜ì´ìŠ¤ì™€ íƒ€ì… ì„¤ê³„ 1 2 3 4 5 6 7 8 9 export type MessageHandler\u0026lt;TMessage\u0026gt; = (message: TMessage) =\u0026gt; void | Promise\u0026lt;void\u0026gt;; export type Unsubscribe = () =\u0026gt; Promise\u0026lt;void\u0026gt;; export interface Broker\u0026lt;TMessage\u0026gt; { subscribe(publisherId: string, handler: MessageHandler\u0026lt;TMessage\u0026gt;): Promise\u0026lt;Unsubscribe\u0026gt;; addPublisher(publisherId: string): Promise\u0026lt;void\u0026gt;; removePublisher(publisherId: string): Promise\u0026lt;void\u0026gt;; publish(publisherId: string, message: TMessage): Promise\u0026lt;void\u0026gt;; } ì²˜ìŒ ì œê°€ ìƒê°í–ˆì„ë•Œ í•„ìš”í•˜ë‹¤ê³  ìƒê°ë˜ëŠ” ê¸°ëŠ¥ì„ ë°”íƒ•ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ì™€ íƒ€ì…ì„ ì„¤ê³„ í–ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ê³µí†µì ìœ¼ë¡œ ì œë„¤ë¦­ì„ í™œìš©í•´ ë©”ì‹œì§€ íƒ€ì…ì„ í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•´ë´¤ìŠµë‹ˆë‹¤.\nMessageHandler íƒ€ì…: êµ¬ë…ìê°€ ë°œìƒìê°€ ë³´ë‚¼ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜ Unsubscibe íƒ€ì…: êµ¬ë… ì·¨ì†Œë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ ì •ì˜ Broker ì¸í„°í˜ì´ìŠ¤: ë©”ì‹œì§€ ë¸Œë¡œì»¤ì˜ í•„ìˆ˜ì ì¸ ê¸°ëŠ¥ì„ ì •ì˜ addPublisher: ìƒˆ í¼ë¸”ë¦¬ì…” ì¶”ê°€ removePublisher: í¼ë¸”ë¦¬ì…” ì œê±° publish: ë©”ì‹œì§€ ë°œí–‰ subscribe: êµ¬ë…ì ë“±ë¡ ë° êµ¬ë… í•´ì œ í•¨ìˆ˜ ë°˜í™˜ ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ íë¦„ìœ¼ë¡œ ì²˜ë¦¬ê°€ ì§„í–‰ë©ë‹ˆë‹¤.\në°œí–‰ìê°€ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ subscribeë¥¼ í†µí•´ êµ¬ë…í•  ë•Œ ì œë„¤ë¦­ìœ¼ë¡œ ì„ ì–¸í•œ í˜•ì‹ì˜ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŒ publish ë©”ì„œë“œë¥¼ í†µí•´ ë©”ì‹œì§€ë¥¼ ë°œí–‰. ë‚´ë¶€ì ìœ¼ë¡œ ì €ì¥ëœ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ê°€ ì›í–ˆë˜ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰ ìµœì´ˆ ì„¤ê³„ì—ì„œ ì¡°ê¸ˆ ì°¨ì´ê°€ ìˆëŠ” ë¶€ë¶„ì€ subscribe ë©”ì†Œë“œê°€ Unsubsribe í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤ëŠ” ì  ì¸ë°ìš”\nì‚¬ìš©í•˜ëŠ” ì˜ì—­ì—ì„œ Brokerë¥¼ ì§ì ‘ í™œìš©í•˜ì—¬ êµ¬ë… í•´ì œë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒ ë³´ë‹¤, Clean-Up í•¨ìˆ˜ë¥¼ ë³„ë„ë¡œ ì œê³µí•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì´í›„ ììœ ë„ê°€ ë” ë†’ì€ ë°©ì‹ì´ë¼ íŒë‹¨ë˜ì–´ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nêµ¬í˜„ ìœ„ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°„ë‹¨í•œ MessageBrokerë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 import { Broker } from \u0026#39;./interfaces/broker.interface\u0026#39;; import { MessageHandler } from \u0026#39;./types\u0026#39;; import { v4 as uuidv4 } from \u0026#39;uuid\u0026#39;; export interface Subscription\u0026lt;TMessage\u0026gt; { readonly id: string; readonly handler: MessageHandler\u0026lt;TMessage\u0026gt;; } export class MessageBroker\u0026lt;TMessage\u0026gt; implements Broker\u0026lt;TMessage\u0026gt; { constructor( private readonly publishers: Map\u0026lt;string, Subscription\u0026lt;TMessage\u0026gt;[]\u0026gt; = new Map(), ) {} public async addPublisher(id: string) { if (this.publishers.has(id)) { throw new Error(`Publisher with ID ${id} already exists`); } this.publishers.set(id, []); } public async removePublisher(id: string) { if (!this.publishers.has(id)) { throw new Error(`Publisher with ID ${id} does not exist`); } this.publishers.delete(id); } public async publish(id: string, message: TMessage) { const subscriptions = this.publishers.get(id); if (subscriptions === undefined) { throw new Error(`Publisher with ID ${id} does not exist`); } await Promise.all(subscriptions.map((subscription) =\u0026gt; subscription.handler(message))); } public async subscribe(publisherId: string, handler: MessageHandler\u0026lt;TMessage\u0026gt;) { const subscriptions = this.publishers.get(publisherId); if (subscriptions === undefined) { throw new Error(`Publisher with ID ${publisherId} does not exist`); } const subscribtionId = uuidv4(); this.publishers.set(publisherId, [...subscriptions, {id: subscriptionId, handler}]); return () =\u0026gt; this.unsubscribe(publisherId, subscriptionId); } private async unsubscribe(publisherId: string, subscriptionId: string) { const subscriptions = this.publishers.get(publisherId); if (subscriptions === undefined) { throw new Error(`Publisher with ID ${publisherId} does not exist`); } this.publishers.set(publisherId, subscriptions.filter((subscription) =\u0026gt; subscription.id !== subscriptionId)); } } ì£¼ìš” ìš”ì†Œë“¤ì„ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nSubscription ì¸í„°í˜ì´ìŠ¤ 1 2 3 4 export interface Subscription\u0026lt;TMessage\u0026gt; { readonly id: string; readonly handler: MessageHandler\u0026lt;TMessage\u0026gt;; } SubscriptionëŠ” êµ¬ë…ì„ ì˜ë¯¸í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.\nid: êµ¬ë…ì˜ ì‹ë³„ì handler: ë°œí–‰í•œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ êµ¬ë… í•´ì œ ë“±ì„ ì²˜ë¦¬í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— êµ¬ë…ìê°€ ë“±ë¡í•œ í•¸ë“¤ëŸ¬ì— ëŒ€í•´ ì‹ë³„í•  ìˆ˜ ìˆë„ë¡ idë¥¼ í¬í•¨í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.\nsubscribe ë©”ì„œë“œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 export class MessageBroker\u0026lt;TMessage\u0026gt; implements Broker\u0026lt;TMessage\u0026gt; { public async subscribe(publisherId: string, handler: MessageHandler\u0026lt;TMessage\u0026gt;) { const subscriptions = this.publishers.get(publisherId); if (subscriptions === undefined) { throw new Error(`Publisher with ID ${publisherId} does not exist`); } const subscribtionId = uuidv4(); this.publishers.set(publisherId, [...subscriptions, {id: subscriptionId, handler}]); return () =\u0026gt; this.unsubscribe(publisherId, subscriptionId); } } êµ¬ë…ìê°€ ë°œí–‰ ë°›ì€ ë©”ì‹œì§€ì— ëŒ€í•´ì„œ ì²˜ë¦¬í•´ì•¼í•  í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.\nì´ ê³¼ì •ì—ì„œ Subscriptionì„ ë§Œë“¤ê²Œ ë˜ëŠ”ë°, êµ¬ë… ìì²´ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ì•¼ í•œë‹¤ê³  íŒë‹¨í•˜ì—¬, ì‹ë³„ìëŠ” UUIDë¥¼ ìƒì„±í•˜ì—¬ ì„¤ì •í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.\në©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ìµëª… í•¨ìˆ˜ëŠ” êµ¬ë…ì˜ IDë¥¼ í†µí•´ êµ¬ë… í•´ì œë¥¼ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.\npublish ë©”ì„œë“œ 1 2 3 4 5 6 7 8 9 10 11 export class MessageBroker\u0026lt;TMessage\u0026gt; implements Broker\u0026lt;TMessage\u0026gt; { public async publish(id: string, message: TMessage) { const subscriptions = this.publishers.get(id); if (subscriptions === undefined) { throw new Error(`Publisher with ID ${id} does not exist`); } await Promise.all(subscriptions.map((subscription) =\u0026gt; subscription.handler(message))); } } ë°œí–‰ìê°€ íŠ¹ì • ë©”ì‹œì§€ë¥¼ ë°œí–‰í•©ë‹ˆë‹¤.\ní•´ë‹¹ ë°œí–‰ìì˜ êµ¬ë…ë“¤ì„ í†µí•´ ë“±ë¡ëœ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•˜ê²Œë©ë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ ì ìš© ì˜ˆì‹œ ê¸€ ë§¨ ì•ì— ë¬¸ì œì˜ ì›ì¸ì—ì„œ PlayGateway ì˜ˆì‹œë¥¼ ê°„ëµíˆ ë³´ì—¬ë“œë ¸ì—ˆëŠ”ë°ìš”. í•´ë‹¹ ì˜ˆì‹œê°€ Brokerë¥¼ ì ìš©í•˜ë©´ì„œ ì–´ë–»ê²Œ ë°”ë€Œì—ˆëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\ní˜„ì¬ pub/sub ëª¨ë“ˆì„ êµ¬í˜„í•˜ëŠ”ê²Œ ëª©í‘œì—¬ì„œ ê°„ëµí•˜ê³  ë¹ ë¥´ê²Œ ì ìš©í•´ë´¤ì–´ìš”\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 @WebSocketGateway({ path: \u0026#39;/play\u0026#39; }) export class PlayGateway implements OnGatewayInit { constructor( private readonly playService: PlayService, @Inject(\u0026#39;Broker\u0026#39;) private readonly broker: Broker\u0026lt;SendEventMessage\u0026lt;BroadcastPlayEvent, any\u0026gt;\u0026gt;, ) {} @SubscribeMessage(\u0026#39;join\u0026#39;) async join( @ConnectedSocket() client: WebSocketWithSession, @MessageBody() quizJoinDto: QuizJoinDto, ): Promise\u0026lt;SendEventMessage\u0026lt;PlayEvent, ResponsePlayerDto[]\u0026gt;\u0026gt; { const {id, quizZondId} = client.session.id; const {nickname} = await this.playService.getPlayer(quizZoneId, id); await this.broker.publish(quizZoneId, {event: \u0026#39;someone_join\u0026#39;, sender: id, data: {id, nickname}}); await this.subscribePlay(quizZoneId, client); /* ìƒëµ */ } } í€´ì¦ˆì¡´ì— ì°¸ì—¬í•˜ê³  ìˆëŠ” ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì¡°íšŒí•˜ê³ , í•´ë‹¹ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê¸°ì¡´ ì°¸ì—¬ìë“¤ì—ê²Œ ìƒˆë¡œìš´ ì°¸ì—¬ìì˜ ì •ë³´ë¥¼ broadcast í•´ì¤ë‹ˆë‹¤.\nê·¸ë¦¬ê³  ìƒˆë¡œìš´ ì°¸ì—¬ìê°€ í•´ë‹¹ í€´ì¦ˆì¡´ì„ êµ¬ë…í•˜ê²Œ ë©ë‹ˆë‹¤. ë§ì´ ê°„ë‹¨í•´ì§„ ëª¨ìŠµì´ë„¤ìš”ğŸ˜Š\nPlayGatewayì˜ ìƒì„±ìë¥¼ ì‚´í´ë³´ë©´ ë°œí–‰í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ SendEventMessage\u0026lt;BroadcastPlayEvent, any\u0026gt;ë¡œ ì •ì˜í–ˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 export type PlayEvent = UnicastPlayEvent | BroadcastPlayEvent; export type UnicastPlayEvent = \u0026#39;join\u0026#39; | \u0026#39;changeNickname\u0026#39; | \u0026#39;submit\u0026#39; | \u0026#39;leave\u0026#39;; export type BroadcastPlayEvent = \u0026#39;someone_join\u0026#39; | \u0026#39;someone_leave\u0026#39; | \u0026#39;changeNickname\u0026#39; | \u0026#39;start\u0026#39; | \u0026#39;nextQuiz\u0026#39; | \u0026#39;someone_submit\u0026#39; | \u0026#39;quizTimeOut\u0026#39; | \u0026#39;finish\u0026#39; | \u0026#39;summary\u0026#39; | \u0026#39;close\u0026#39;; export interface SendEventMessage\u0026lt;TEvent, TMessage\u0026gt; { event: TEvent; sender: string; data: TMessage; } êµ¬ë… ì²˜ë¦¬ì‹œì— ì¸ìë¡œ ë„˜ê²¨ì£¼ëŠ” ë©”ì‹œì§€ í•¸ë“¤ëŸ¬ëŠ” ìœ„ì™€ ê°™ì€ í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ë©´ ë©ë‹ˆë‹¤.\nì´ë¥¼ êµ¬í˜„í•œ subscribePlay ë©”ì„œë“œëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ë˜ì–´ìˆì–´ìš”\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 private async subscribePlay(quizZoneId: string, client: WebSocketWithSession) { const clientId = client.session.id; try { await this.broker.addPublisher(quizZoneId); } catch (error) {} const unsubscribe = await this.broker.subscribe( quizZoneId, async (message) =\u0026gt; { const { event, sender, data } = message; switch (event) { case \u0026#34;someone_join\u0026#34;: if (sender === clientId) break; client.send(JSON.stringify(message)); break; case \u0026#34;leave\u0026#34;: unsubscribe(); break; /* ìƒëµ */ } } ); } ì‹¤ì œë¡œëŠ” ë§ì€ ì´ë²¤íŠ¸ë“¤ì„ ì²˜ë¦¬í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— í›¨ì”¬ ë¹„ëŒ€í•œ ìƒíƒœì—ìš”ğŸ¥² í•¸ë“¤ëŸ¬ê°€ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ëŠ”ì§€ë§Œ ë´ì£¼ì‹œë©´ ë˜ê² ìŠµë‹ˆë‹¤.\në©”ì‹œì§€ì— ì„ ì–¸ëœ ì´ë²¤íŠ¸ì— ë§ê²Œ ì›¹ì†Œì¼“ì„ ì´ìš©í•˜ì—¬ ì‘ë‹µì„ ë³´ë‚´ê²Œ ë©ë‹ˆë‹¤.\ní˜„ì¬ í•¸ë“¤ëŸ¬ê°€ ê°„ë‹¨í•˜ê³  ì§€ì €ë¶„í•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆê¸´ í•˜ì§€ë§Œ, ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ê°€ ì§„í–‰ëœ ë§Œí¼ ë…ë¦½ì ìœ¼ë¡œ ê°œì„ ë  ìˆ˜ ìˆì„ê²ƒì´ë¼ ê¸°ëŒ€í•˜ê³ ìˆìŠµë‹ˆë‹¤ğŸ˜\në§ˆë¬´ë¦¬ pub/subì„ í™œìš©í•´ì„œ ì„œë¹„ìŠ¤ì—ì„œ ë°œìƒí•  ê²°í•©ì„ ëŠìŠ¨í•˜ê²Œ ë§Œë“¤ì–´ ë´¤ëŠ”ë°ìš”, ë§Œë“  ëª¨ë“ˆì„ ê°„ë‹¨í•˜ê²Œ ì ìš©í•´ë³´ë‹ˆ Gatewayì—ì„œ í€´ì¦ˆì¡´ì´ë‚˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ì „í˜€ ëª¨ë¥´ëŠ” ìƒíƒœë¡œ ì‘ë‹µì„ ë³´ë‚¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\në•ë¶„ì— ì´ë¥¼ ì²˜ë¦¬í•  í•¸ë“¤ëŸ¬ ë¡œì§ì´ ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¦¬ë˜ì—ˆê³ , ë©”ì‹œì§€ ì²˜ë¦¬í•˜ëŠ” í•¸ë“¤ëŸ¬ì—ë§Œ ì§‘ì¤‘í•´ì„œ ê°œì„ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë„¤ìš”\nì´ëŸ¬í•œ ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ë¥¼ í†µí•´ ì˜ì¡´ë˜ëŠ” ìƒíƒœ ë•Œë¬¸ì— ì‹œë„í•˜ì§€ ëª»í–ˆë˜ ë°©ë²•ë“¤ì„ ì ê·¹ì ìœ¼ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ì•ìœ¼ë¡œ ì‹œë„í•´ë³¼ ê²ƒë“¤ì´ ë§ê² ë„¤ìš”\npub/sub ëª¨ë“ˆ ìì²´ë„ ì•„ì§ ë¶€ì¡±í•œ ë¶€ë¶„ì´ ë§ì•„ ì´í›„ ê¸€ë“¤ì€ ì œê°€ êµ¬í˜„í•œ ëª¨ë“ˆì„ ê³ ë„í™”í•˜ëŠ” ê³¼ì •ë“¤ì„ ë‹´ì•„ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ˜Š\n","date":"2025-01-24T11:49:35+09:00","image":"https://codemario318.github.io/post/node/pub-sub/1/cover_hu468162ba17ce27969b9476abe99e20c1_99229_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/node/pub-sub/1/","title":"1. ë°œí–‰-êµ¬ë… íŒ¨í„´ì„ í†µí•´ ê²°í•©ì„ ê°œì„ í•´ë³´ì"},{"content":"ë°ì´í„° ëª¨ë¸ì€ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì–´ë– í—¥ ì‘ì„±ëëŠ”ì§€ ë¿ë§Œ ì•„ë‹ˆë¼ í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œë¥¼ ì–´ë–»ê²Œ ìƒê°í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•´ ì§€ëŒ€í•œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.\nëŒ€ë¶€ë¶„ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í•˜ë‚˜ì˜ ë°ì´í„° ëª¨ë¸ì„ ë‹¤ë¥¸ ë°ì´í„° ëª¨ë¸ ìœ„ì— ê³„ì¸µì„ ë‘¬ì„œ ë§Œë“ ë‹¤.\nê° ê³„ì¸µì˜ í•µì‹¬ì ì¸ ë¬¸ì œëŠ” ë‹¤ìŒ í•˜ìœ„ ê³„ì¸µ ê´€ì ì—ì„œ ë°ì´í„° ëª¨ë¸ì„ í‘œí˜„í•˜ëŠ” ë°©ë²•ì´ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œìëŠ” í˜„ì‹¤(ì‚¬ëŒ, ì¡°ì§, ìƒí’ˆ, í–‰ë™, ìê¸ˆ íë¦„, ì„¼ì„œ)ì„ ë³´ê³  ê°ì²´ë‚˜ ë°ì´í„° êµ¬ì¡°, ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ë°ì´í„° êµ¬ì¡°ë¥¼ ë‹¤ë£¨ëŠ” APIë¥¼ ëª¨ë¸ë§í•œë‹¤. ì´ëŸ¬í•œ êµ¬ì¡°ëŠ” ë³´í†µ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™” ë°ì´í„° êµ¬ì¡°ë¥¼ ì €ì¥í•  ë•ŒëŠ” JSONì´ë‚˜ XML ë¬¸ì„œ, ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ë‚˜ ê·¸ë˜í”„ ëª¨ë¸ ê°™ì€ ë²”ìš© ë°ì´í„° ëª¨ë¸ë¡œ í‘œí˜„í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê°œë°œí•˜ëŠ” ì—”ì§€ë‹ˆì–´ëŠ” JSON/XML/ê´€ê³„í˜•/ê·¸ë˜í”„ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ë‚˜ ë””ìŠ¤í¬ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ìƒì˜ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ê²°ì •í•œë‹¤. ì´ í‘œí˜„ì€ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì§ˆì˜, íƒìƒ‰, ì¡°ì‘ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ë” ë‚®ì€ ìˆ˜ì¤€ì—ì„œ í•˜ë“œì›¨ì–´ ì—”ì§€ë‹ˆì–´ëŠ” ì „ë¥˜, ë¹›ì˜ íŒŒë™, ìê¸°ì¥ ë“±ì˜ ê´€ì ì—ì„œ ë°”ì´íŠ¸ë¥¼ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ëƒˆë‹¤. ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì—¬ëŸ¬ APIë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“  APIì²˜ëŸ¼ ì¤‘ê°„ ë‹¨ê³„ë¥¼ ë” ë‘˜ ìˆ˜ ìˆì§€ë§Œ ê¸°ë³¸ ê°œë…ì€ ì—¬ì „íˆ ë™ì¼í•˜ë‹¤.\nê° ê³„ì¸µì€ ëª…í™•í•œ ë°ì´í„° ëª¨ë¸ì„ ì œê³µí•´ í•˜ìœ„ ê³„ì¸µì˜ ë³µì¡ì„±ì„ ìˆ¨ê²¨(ì¶”ìƒí™”), ë‹¤ë¥¸ ê·¸ë£¹ì˜ ì‚¬ëŒë“¤ì´ íš¨ìœ¨ì ìœ¼ë¡œ í•¨ê»˜ ì¼í•  ìˆ˜ ìˆê²Œë” í•œë‹¤.\në‹¤ì–‘í•œ ìœ í˜•ì˜ ë°ì´í„° ëª¨ë¸ì´ ì¡´ì¬í•˜ë©°, ê° ë°ì´í„° ëª¨ë¸ì€ ì‚¬ìš© ë°©ë²•ì— ëŒ€í•œ ê°€ì •ì„ ë‚˜íƒ€ë‚¸ë‹¤.\nì–´ë–¤ ì¢…ë¥˜ì˜ ë°ì´í„°ëª¨ë¸ì˜ ì‚¬ìš©ë²•ì€ ì‰¬ìš°ë‚˜ ì–´ë–¤ ë™ì‘ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë°ì´í„° ëª¨ë¸ì˜ ì¢…ë¥˜ì— ë”°ë¼ ì–´ë–¤ ì—°ì‚°ì€ ë¹ ë¥´ì§€ë§Œ ë‹¤ë¥¸ ì—°ì‚°ì€ ë§¤ìš° ëŠë¦¬ê²Œ ì‘ë™í•œë‹¤. ì–´ë–¤ ë°ì´í„° ë³€í™˜ì€ ìì—°ìŠ¤ëŸ½ì§€ë§Œ ë‹¬ëŠ ì–´ë–¤ ë°ì´í„° ë³€í™˜ì€ ë¶€ìì—°ìŠ¤ëŸ½ë‹¤. í•˜ë‚˜ì˜ ë°ì´í„° ëª¨ë¸ë§Œì„ ì™„ì „íˆ ìµíˆëŠ” ë°ë„ ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•˜ë©°(ê´€ê³„í˜• ë°ì´í„° ëª¨ë¸ë§ ê´€ë ¨ëœ í•™ìŠµ ë¶„ëŸ‰ë§Œí•´ë„ ë°©ëŒ€í•˜ë‹¤), ë°ì´í„° ëª¨ë¸ì„ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ë©´ì„œë„ ë‚´ë¶€ ë™ì‘ì— ëŒ€í•œ ê±±ì •ì´ ì—†ë”ë¼ë„ ì†Œí”„íŠ¸ì›¨ì–´ ì‘ì„±ì€ ê·¸ ìì²´ë¡œ ì¶©ë¶„íˆ ì–´ë µë‹¤.\nê·¸ëŸ¬ë‚˜ ë°ì´í„° ëª¨ë¸ì€ ê·¸ ìœ„ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ê°€ í•  ìˆ˜ ìˆëŠ” ì¼ê³¼ í•  ìˆ˜ ì—†ëŠ” ì¼ì— ì§€ëŒ€í•œ ì˜í–¥ì„ ì£¼ë¯€ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•œ ë°ì´í„° ëª¨ë¸ì„ ì„ íƒí•˜ëŠ” ì‘ì—…ì€ ìƒë‹¹íˆ ì¤‘ìš”í•˜ë‹¤.\nê´€ê³„í˜• ëª¨ë¸ê³¼ ë¬¸ì„œ ëª¨ë¸ ì˜¤ëŠ˜ë‚  ê°€ì¥ ì˜ ì•Œë ¤ì§„ ëª¨ë¸ì€ 1970ë…„ ì—ë“œê°€ ì½”ë“œ(Edgar Codd)ê°€ ì œì•ˆí•œ ê´€ê³„í˜• ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ SQLì´ë‹¤.\në°ì´í„°ëŠ” ê´€ê³„ë¡œ êµ¬ì„±ë˜ê³  ê° ê´€ê³„ëŠ” ìˆœì„œ ì—†ëŠ” íŠœí”Œ ëª¨ìŒì´ë‹¤. ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ê·¼ì›ì€ 1960ë…„ëŒ€ì™€ 1970ë…„ëŒ€ì— ë©”ì¸í”„ë ˆì„ ì»´í“¨í„°ì—ì„œ ìˆ˜í–‰ëœ ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„° ì²˜ë¦¬ì— ìˆë‹¤.\níŠ¸ëœì­ì…˜ ì²˜ë¦¬, ì¼ê´„ ì²˜ë¦¬ ë“± ë‹¹ì‹œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°œë°œìëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë‚´ë¶€ ë°ì´í„° í‘œí˜„ì— ëŒ€í•´ ê³ ë¯¼í•´ì•¼ í–ˆì§€ë§Œ, ê´€ê³„í˜• ëª¨ë¸ë¡œ ì¸í•´ ì •ë¦¬ëœ ì¸í„°í˜ì´ìŠ¤ ë’¤ë¡œ êµ¬í˜„ ì„¸ë¶€ ì‚¬í•­ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\nì´í›„ ì»´í“¨í„°ê°€ í›¨ì”¬ ë” ê°•ë ¥í•´ì§€ê³  ë„¤íŠ¸ì›Œí¬í™”ë¨ì— ë”°ë¼ ë‹¤ì–‘í•œ ëª©ì ìœ¼ë¡œ í™œìš©ë˜ê¸° ì‹œì‘í•˜ì˜€ê³ , ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„° ì²˜ë¦¬ ë¿ë§Œì´ ì•„ë‹Œ í­ë„“ì€ ë‹¤ì–‘í•œ ì‚¬ìš© ì‚¬ë¡€ì—ë„ ë³´í¸í™” ë˜ëŠ” ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚¬ë‹¤.\nì˜¤ëŠ˜ë‚  ëŒ€ë¶€ë¶„ì˜ ì„œë¹„ìŠ¤ëŠ” ì—¬ì „íˆ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ ì œê³µëœë‹¤.\nNoSQLì˜ íƒ„ìƒ 2010ë…„ëŒ€ì— ë“¤ì–´ì„œë©° NoSQLì´ ë¹ ë¥´ê²Œ í™•ì‚°ë˜ì—ˆëŠ”ë° ë‹¤ì–‘í•œ ì´ìœ ê°€ ìˆë‹¤.\nëŒ€ê·œëª¨ ë°ì´í„°ì…‹ì´ë‚˜ ë§¤ìš° ë†’ì€ ì“°ê¸° ì²˜ë¦¬ëŸ‰ ë‹¬ì„±ì„ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë³´ë‹¤ ì‰½ê²Œ í•  ìˆ˜ ìˆëŠ” ë›°ì–´ë‚œ í™•ì¥ì„±ì˜ í•„ìš” ìƒìš© ë°ì´í„°ë² ì´ìŠ¤ ì œí’ˆë³´ë‹¤ ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ì— ëŒ€í•œ ì„ í˜¸ë„ í™•ì‚° ê´€ê³„í˜• ëª¨ë¸ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠëŠ” íŠ¹ìˆ˜ ì§ˆì˜ ë™ì‘ ê´€ê³„í˜• ìŠ¤í‚¤ë§ˆì˜ ì œí•œì— ëŒ€í•œ ë¶ˆë§Œê³¼ ë”ìš± ë™ì ì´ê³  í‘œí˜„ë ¥ì´ í’ë¶€í•œ ë°ì´í„° ëª¨ë¸ì— ëŒ€í•œ ë°”ëŒ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì €ë§ˆë‹¤ ìš”êµ¬ì‚¬í•­ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì—, ì‚¬ìš© ì‚¬ë¡€ì— ë§ëŠ” ìµœì ì˜ ê¸°ìˆ  ì„ íƒì€ ë™ì‹œì— ìš”êµ¬ë˜ëŠ” ì‚¬ìš© ì‚¬ë¡€ì— ë§ëŠ” ìµœì ì˜ ì„ íƒê³¼ëŠ” ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.\nì´ ë•Œë¬¸ì— ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ í­ë„“ì€ ë‹¤ì–‘í•¨ì„ ê°€ì§„ ë¹„ê´€ê³„í˜• ë°ì´í„°ìŠ¤í† ì–´ì™€ í•¨ê»˜ ì‚¬ìš©ë  ê²ƒì´ë‹¤.(ğŸ˜²)\nì´ëŸ° ê°œë…ì„ ì¢…ì¢… ë‹¤ì¤‘ ì €ì¥ì†Œ ì§€ì†ì„±(polyglot persistence)ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\nê°ì²´ ê´€ê³„í˜• ë¶ˆì¼ì¹˜ ì˜¤ëŠ˜ë‚ ì˜ ëŒ€ë¶€ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ê°œë°œë˜ëŠ”ë°, ì´ëŠ” SQL ë°ì´í„° ëª¨ë¸ê³¼ ê°ì²´ ëª¨ë¸ ì‚¬ì´ì— ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•œë‹¤.\në°ì´í„°ë¥¼ ê´€ê³„í˜• í…Œì´ë¸”ì— ì €ì¥í•˜ë ¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì™€ ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ ê°ì²´ ì‚¬ì´ì— ê±°ì¶”ì¥ìŠ¤ëŸ¬ìš´ ì „í™˜ ê³„ì¸µì´ í•„ìš”í•¨ ì´ëŸ° ëª¨ë¸ ì‚¬ì´ì˜ ë¶„ë¦¬ë¥¼ ì„í”¼ë˜ìŠ¤ ë¶ˆì¼ì¹˜(impedance mismatch)ë¼ê³  ë¶€ë¥¸ë‹¤. ì•¡í‹°ë¸Œë ˆì½”ë“œ(Active Record)ë‚˜ í•˜ì´ë²„ë„¤ì´íŠ¸(Hibernate)ì™€ ê°™ì€ ORM í”„ë ˆì„ì›Œí¬ëŠ” ì „í™˜ ê³„ì¸µì— í•„ìš”í•œ ìƒìš©êµ¬ ì½”ë“œ(boilerplate code)ì˜ ì–‘ì„ ì¤„ì´ì§€ë§Œ ë‘ ëª¨ë¸ ê°„ì˜ ì°¨ì´ë¥¼ ì™„ë²½íˆ ìˆ¨ê¸¸ ìˆ˜ ì—†ë‹¤.\ní”„ë¡œí•„ ì „ì²´ëŠ” ê³ ìœ  ì‹ë³„ìì¸ user_idë¡œ ì‹ë³„ê°€ëŠ¥í•˜ê³ , first_name, last_name ê°™ì€ í•„ë“œëŠ” ì‚¬ìš©ìë§ˆë‹¤ í•˜ë‚˜ë§Œ ìˆìœ¼ë¯€ë¡œ users í…Œì´ë¸” ì»¬ëŸ¼ìœ¼ë¡œ ëª¨ë¸ë§ ê°€ëŠ¥í•˜ë‹¤.\ní•˜ì§€ë§Œ ê²½ë ¥ì— ë„£ì„ ì§ì—…ì´ í•˜ë‚˜ ì´ìƒì´ë©° í•™ë ¥ ê¸°ê°„ê³¼ ì—°ë½ì²˜ ì •ë³´ë„ ë‹¤ì–‘í•˜ê¸° ë•Œë¬¸ì—, ì‚¬ìš©ìì™€ ì´ë“¤ ì‚¬ì´ì˜ ê´€ê³„ëŠ” ì¼ëŒ€ë‹¤ ê´€ê³„(one-to-many)ì´ë©° ì´ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nì „í†µì ì¸ SQL ëª¨ë¸ì˜ ì¼ë°˜ì ì¸ ì •êµ¬í™” í‘œí˜„ì€ ì§ìœ„, í•™ë ¥, ì—°ë½ì²˜ ì •ë³´ë¥¼ ê°œë³„ í…Œì´ë¸”ì— ë„£ê³  ì™¸ë˜ í‚¤ë¡œ users í…Œì´ë¸”ì„ ì°¸ì¡° êµ¬ì¡°í™”ëœ ë°ì´í„°íƒ€ì…ìœ¼ë¡œ ì €ì¥(XML, JSON ë“±) SQL í‘œì¤€ì˜ ë§ˆì§€ë§‰ ë²„ë²ˆì—ì„œ êµ¬ì¡°í™”ëœ ë°ì´í„°íƒ€ì…ì— ëŒ€í•œ ì§€ì›ì´ ì¶”ê°€ë¨ì— ë”°ë¼, í•œ ë¡œìš°ì— ë‹¤ì¤‘ ê°’ì„ ì €ì¥í•˜ê³  ì§ˆì˜ì™€ ìƒ‰ì¸ì´ ê°€ëŠ¥í•´ì§ ì§ì—…, í•™ë ¥, ì—°ëµì²˜ ì •ë³´ë¥¼ JSONì´ë‚˜ XML ë¬¸ì„œë¡œ ë¶€í˜¸í™”í•´ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…ìŠ¤íŠ¸ ì»¬ëŸ¼ì— ì €ì¥ í›„, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ì¡°ì™€ ë‚´ìš©ì„ í•´ì„ ì¼ë°˜ì ìœ¼ë¡œ ë¶€í˜¸í™”ëœ ì»¬ëŸ¼ì˜ ê°’ì„ ì§ˆì˜í•˜ëŠ” ë° ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ ì´ë ¥ì„œì™€ ê°™ì€ ë°ì´í„° êµ¬ì¡°ëŠ” ëª¨ë“  ë‚´ìš©ì„ ê°–ì¶”ê³  ìˆëŠ” ë¬¸ì„œë¼ì„œ JSON í‘œí˜„ì— ë§¤ìš° ì í•©í•˜ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 { \u0026#34;user_id\u0026#34;: 251, \u0026#34;first_name\u0026#34;: \u0026#34;Bill\u0026#34;, \u0026#34;last_name\u0026#34;: \u0026#34;Gates\u0026#34;, \u0026#34;summary\u0026#34;: \u0026#34;Co-chair of the Bill \u0026amp; Melinda Gates... Active blogger.\u0026#34;, \u0026#34;region_id\u0026#34;: \u0026#34;us:91\u0026#34;, \u0026#34;industry_id\u0026#34;: 131, \u0026#34;photo_url\u0026#34;: \u0026#34;/p/7/000/253/05b/308dd6e.jpg\u0026#34;, \u0026#34;positions\u0026#34;: [ {\u0026#34;job_title\u0026#34;: \u0026#34;Co-chair\u0026#34;, \u0026#34;organization\u0026#34;: \u0026#34;Bill \u0026amp; Melinda Gates Foundation\u0026#34;}, {\u0026#34;job_title\u0026#34;: \u0026#34;Co-founder, Chairman\u0026#34;, \u0026#34;organization\u0026#34;: \u0026#34;Microsoft\u0026#34;} ], \u0026#34;education\u0026#34;: [ {\u0026#34;school_name\u0026#34;: \u0026#34;Harvard University\u0026#34;, \u0026#34;start\u0026#34;: 1973, \u0026#34;end\u0026#34;: 1975}, {\u0026#34;school_name\u0026#34;: \u0026#34;Lakeside School, Seattle\u0026#34;, \u0026#34;start\u0026#34;: null, \u0026#34;end\u0026#34;: null} ], \u0026#34;contact_info\u0026#34;: { \u0026#34;blog\u0026#34;: \u0026#34;http://thegatesnotes.com\u0026#34;, \u0026#34;twitter\u0026#34;: \u0026#34;http://twitter.com/BillGates\u0026#34; } } ì¼ë¶€ ê°œë°œìëŠ” JSON ëª¨ë¸ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì™€ ì €ì¥ ê³„ì¸µ ê°„ ì„í”¼ë˜ìŠ¤ ë¶ˆì¼ì¹˜ë¥¼ ì¤„ì¸ë‹¤ê³  ìƒê°í•œë‹¤.\në¬¼ë¡  ë°ì´í„° ë¶€í™”í™” í˜•ì‹ìœ¼ë¡œì„œ JSONì˜ ë¬¸ì œë„ ìˆìŒ(4ì¥) JSON í‘œí˜„ì€ ë‹¤ì¤‘ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆë³´ë‹¤ ë” ë‚˜ì€ ì§€ì—­ì„±(locality)ì„ ê°–ëŠ”ë‹¤.\nê´€ê³„í˜• ì˜ˆì œì—ì„œ í”„ë¡œí•„ì„ ê°€ì ¸ì˜¤ë ¤ë©´ ë‹¤ì¤‘ ì§ˆì˜ë¥¼ ìˆ˜í–‰í•˜ê±°ë‚˜ users í…Œì´ë¸”ê³¼ ê·¸ í•˜ìœ„ í…Œì´ë¸” ê°„ì— ë‚œì¡í•œ ë‹¤ì¤‘ ì¡°ì¸ì´ í•„ìš”í•¨ ì‚¬ìš©ì í”„ë¡œí•„ì—ì„œ ì‚¬ìš©ìì—ì„œ ì§ìœ„, í•™ë ¥ ê¸°ë¡, ì—°ë½ì²˜ ì •ë³´ë¡œ ëŒ€ì‘ë˜ëŠ” ì¼ëŒ€ë‹¤ ê´€ê³„ëŠ” ì˜ë¯¸ìƒ ë°ì´í„° íŠ¸ë¦¬ êµ¬ì¡°ì™€ ê°™ë‹¤.\nì´ëŸ¬í•œ íŠ¸ë¦¬ êµ¬ì¡°ëŠ” JSON í‘œí˜„ì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ë“œëŸ¬ë‚˜ê²Œëœë‹¤. ë‹¤ëŒ€ì¼ê³¼ ë‹¤ëŒ€ë‹¤ ê´€ê³„ ì´ë ¥ì„œ ì˜ˆì‹œì—ì„œ region_idì™€ industry_idëŠ” í‰ë¬¸ì´ ì•„ë‹Œ ì™¸ë˜ í‚¤ì¸ë°, ì§€ë¦¬ì  ì§€ì—­ê³¼ ì—…ê³„ í‘œì¤€ ëª©ë¡ìœ¼ë¡œ ë“œë¡­ë‹¤ìš´ ë¦¬ìŠ¤íŠ¸ë‚˜ ìë™ ì™„ì„± ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ ì‚¬ìš©ìê°€ ì„ íƒí•˜ê²Œ í•˜ëŠ” ë°ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ìˆë‹¤.\ní”„ë¡œí•„ ê°„ ì¼ê´€ëœ ìŠ¤íƒ€ì¼ ì² ì ëª¨í˜¸í•¨ íšŒí”¼(ì´ë¦„ì´ ê°™ì€ ì—¬ëŸ¬ ë„ì‹œ ë“±) ê°±ì‹ ì˜ í¸ì˜ì„± ì´ë¦„ì´ í•œ ê³³ì—ë§Œ ì €ì¥ë˜ë¯€ë¡œ ì´ë¦„ì„ ë³€ê²½í•´ì•¼ í•˜ëŠ” ê²½ìš° ì „ë°˜ì ì¸ ê°±ì‹ ì´ ì‰¬ì›€ í˜„ì§€í™” ì§€ì› ê¸€ë¡œë²Œ ì„œë¹„ìŠ¤ì˜ ê²½ìš° í‘œì¤€ ëª©ë¡ì„ í˜„ì§€í™”í•˜ëŠ”ë° ìš©ì´í•¨ ë” ë‚˜ì€ ê²€ìƒ‰ ê²€ìƒ‰í•  íŠ¹ì • í•­ëª©ì´ íŠ¹ì • ì§€ì—­ ëª©ë¡ì— í¬í•¨ëœë‹¤ëŠ” ê²ƒì„ ë¶€í˜¸í™”í•˜ì—¬ ë” ì •í™•í•œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŒ IDë‚˜ í…ìŠ¤íŠ¸ ë¬¸ìì—´ì˜ ì €ì¥ ì—¬ë¶€ëŠ” ì¤‘ë³µì˜ ë¬¸ì œë¡œ í…ìŠ¤íŠ¸ë¡œ ì €ì¥í•˜ê²Œë˜ë©´ ê°™ì€ ì˜ë¯¸ì˜ ë°ì´í„°ê°€ ì¤‘ë³µëœë‹¤.\në¹„ì •ê·œí™”ëŠ” ë°ì´í„° ì¤‘ë³µì„ ì¼ë¶€ë¡œ ë°œìƒì‹œí‚¤ëŠ” ë°©ë²•ì¸ë° ì´í›„ ë‹¤ë£¸\nì¤‘ë³µëœ ë°ì´í„°ë¥¼ ì •ê·œí™”í•˜ë ¤ë©´ ë‹¤ëŒ€ì¼ ê´€ê³„ê°€ í•„ìš”í•œë° ì´ëŠ” ë¬¸ì„œ ëª¨ë¸ì— ì í•©í•˜ì§€ ì•Šë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ì¡°ì¸ì´ ì‰¬ì–´ IDë¡œ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ë¡œìš°ë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ì‹ì´ ì¼ë°˜ì ì´ì§€ë§Œ, ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ì¼ëŒ€ë‹¤ íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ìœ„í•´ ì¡°ì¸ì´ í•„ìš”í•˜ì§€ ì•Šì§€ë§Œ ì¡°ì¸ì— ëŒ›ë‚˜ ì§€ì›ì´ ë³´í†µ ì•½í•˜ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ê°€ ì¡°ì¸ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ë‹¤ì¤‘ ì§ˆì˜ë¥¼ ë§Œë“¤ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì—ì„œ ì¡°ì¸ì„ í‰ë‚´ ë‚´ì•¼ í•œë‹¤.\në”ìš±ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì´ˆê¸° ë²„ì „ì´ ì¡°ì¸ ì—†ëŠ” ë¬¸ì„œ ëª¨ë¸ì— ì í•©í•˜ë”ë¼ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ì„œ ë°ì´í„°ëŠ” ì ì°¨ ìƒí˜¸ ì—°ê²°ë˜ëŠ” ê²½í–¥ì´ ìˆë‹¤.\nì˜ˆì‹œì—ì„œëŠ” ì§ì¥, í•™êµ, ì¶”ì²œì„œ ë“± ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—­ì‚¬ë¥¼ ë°˜ë³µí•˜ê³  ìˆë‚˜? ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ì™€ NoSQLì€ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ í‘œí˜„í•˜ëŠ” ì œì¼ ì¢‹ì€ ë°©ë²•ì— ëŒ€í•œ ë…¼ìŸì„ ë‹¤ì‹œ ì—´ì—ˆë‹¤.\n1970ë…„ëŒ€ ë§ì´ ì‚¬ìš©ëœ ë°ì´í„°ë² ì´ìŠ¤ë¡œ IBMì˜ ì •ë³´ ê´€ë¦¬ ì‹œìŠ¤í…œ(Information Management System, IMS)ì€ ê³„ì¸µ ëª¨ë¸ì´ë¼ ë¶€ë¥´ëŠ” ê°„ë‹¨í•œ ë°ì´í„° ëª¨ë¸ì„ ì‚¬ìš©í–ˆëŠ”ë°, JSON ëª¨ë¸ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤.\nì´ë•Œ ê´€ê³„í˜• ëª¨ë¸ì— ëŒ€í•œ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ëŒ€í‘œì ìœ¼ë¡œ ê´€ê³„í˜• ëª¨ë¸(SQLë¡œ ì„¸ìƒì„ ì§€ë°°ì¤‘)ê³¼ ë„¤íŠ¸ì›Œí¬ ëª¨ë¸ì´ ì œì•ˆë˜ì—ˆëŠ”ë°, í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œê°€ ì§€ê¸ˆ í’€ë ¤ëŠ” ë¬¸ì œì™€ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤.\në„¤íŠ¸ì›Œí¬ ëª¨ë¸ ë„¤íŠ¸ì›Œí¬ ëª¨ë¸ì€ ì½”ë‹¤ì‹¤(Conference for Data Systems Languages, CODASYL)ì´ ì œì•ˆí•œ ëª¨ë¸ë¡œ ì½”ë‹¤ì‹¤ ëª¨ë¸ì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.\nì½”ë‹¤ì‹¤ ëª¨ë¸ì€ ê³„ì¸µ ëª¨ë¸ì„ ì¼ë°˜í™”í•œë‹¤.\nê³„ì¸µ ëª¨ë¸ì˜ íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œ ëª¨ë“  ë ˆì½”ë“œëŠ” ì •í™•í•˜ê²Œ í•˜ë‚˜ì˜ ë¶€ëª¨ê°€ ìˆì§€ë§Œ, ë„¤íŠ¸ì›Œí¬ ëª¨ë¸ì—ì„œëŠ” ë ˆì½”ë“œëŠ” ë‹¤ì¤‘ ë¶€ëª¨ê°€ ìˆì„ ìˆ˜ ìˆë‹¤. ë„¤íŠ¸ì›Œí¬ ëª¨ë¸ì—ì„œ ë ˆì½”ë“œ ê°„ ì—°ê²°ì€ ì™œë˜ í‚¤ ë³´ë‹¤ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ í¬ì¸í„°ì™€ ë” ë¹„ìŠ·í•˜ë‹¤. ë ˆì½”ë“œì— ì ‘ê·¼í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ ìµœìƒìœ„ ë ˆì½”ë“œ(root record)ì—ì„œ ì‹œì‘í•˜ëŠ” ê²½ë¡œë¥¼ ë”°ë¼ê°€ëŠ” ê²ƒì´ë‹¤.(\u0026ldquo;ì ‘ê·¼ ê²½ë¡œ\u0026quot;ë¼ê³  í•¨)\në‹¤ëŒ€ë‹¤ ê´€ê³„ëŠ” ë‹¤ì–‘í•œ ë‹¤ë¥¸ ê²½ë¡œê°€ ê°™ì€ ë ˆì½”ë“œë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë„¤íŠ¸ì›Œí¬ ëª¨ë¸ì„ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë˜ë¨¸ëŠ” ê²½ë¡œì˜ ë§¨ ì•ì—ì„œ ì´ëŸ° ë‹¤ì–‘í•œ ì ‘ê·¼ ê²½ë¡œë¥¼ ê³„ì† ì¶”ì í•´ì•¼ í•œë‹¤. ì½”ë‹¤ì‹¤ì—ì„œ ì§ˆì˜ëŠ” ë ˆì½”ë“œ ëª©ë¡ì„ ë°˜ë³µí•´ ì ‘ê·¼ ê²½ë¡œë¥¼ ë”°ë¼ ë°ì´í„°ë² ì´ìŠ¤ì˜ ëì—ì„œ ëê¹Œì§€ ì»¤ì„œë¥¼ ì›€ì§ì—¬ ìˆ˜í–‰ë˜ë©°, ë ˆì½”ë“œê°€ ë‹¤ì¤‘ ë¶€ëª¨ë¥¼ ê°€ì§„ë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œëŠ” ë‹¤ì–‘í•œ ê´€ê³„ë¥¼ ëª¨ë‘ ì¶”ì í•´ì•¼í•œë‹¤.\nìˆ˜ë™ ì ‘ê·¼ ê²½ë¡œ ì„ íƒì€ ë§¤ìš° ì œí•œëœ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ì„ ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆì§€ë§Œ ë°ì´í„°ë² ì´ìŠ¤ ì§ˆì˜ì™€ ê°±ì‹ ì„ ìœ„í•œ ì½”ë“œê°€ ë³µì¡í•˜ê³  ìœ ì—°í•˜ì§€ ëª»í–ˆë‹¤. ê³„ì¸µ ëª¨ë¸ê³¼ ë„¤íŠ¸ì›Œí¬ ëª¨ë¸ ëª¨ë‘, ì›í•˜ëŠ” ë°ì´í„°ì— ëŒ€í•œ ê²°ì˜¤ê°€ ì—†ë‹¤ë©´ ì–´ë ¤ìš´ ìƒí™©ì— ë†“ì¸ë‹¤.\nì ‘ê·¼ ê²½ë¡œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆì§€ë§Œ ì•„ì£¼ ë§ì€ ìˆ˜ì‘ì—… ë°ì´í„°ë² ì´ìŠ¤ ì§ˆì˜ ì½”ë“œë¥¼ ì‚´í´ì•¼í•œë‹¤. ìƒˆë¡œìš´ ì ‘ê·¼ ê²½ë¡œë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ì¬ì‘ì„± í•´ì•¼í•œë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°ì´í„° ëª¨ë¸ì„ ë°”ê¾¸ëŠ” ì‘ì—…ì€ ë§¤ìš° ì–´ë ¤ìš´ ì¼ì´ì—ˆë‹¤.\nê´€ê³„í˜• ëª¨ë¸ ê´€ê³„í˜• ëª¨ë¸ì´ í•˜ëŠ” ì¼ì€ ì•Œë ¤ì§„ ëª¨ë“  ë°ì´í„°ë¥¼ ë°°ì¹˜í•˜ëŠ” ê²ƒì´ë‹¤.\nê´€ê³„(í…Œì´ë¸”)ëŠ” ë‹¨ìˆœíˆ íŠœí”Œ(ë¡œìš°)ì˜ ì»¬ë ‰ì…˜ì´ ì „ë¶€ì´ë‹¤. ë³µì¡í•œ ì¤‘ì²© êµ¬ì¡°ì™€ ë°ì´í„°ë¥¼ ë³´ê³  ì‹¶ì„ ë•Œ ë”°ë¼ê°€ì•¼ í•  ë³µì¡í•œ ì ‘ê·¼ ê²½ë¡œê°€ ì—†ë‹¤. ì„ì˜ ì¡°ê±´ê³¼ ì¼ì¹˜í•˜ëŠ” í…Œì´ë¸”ì˜ ì¼ë¶€ ë˜ëŠ” ëª¨ë“  ë¡œìš°ë¥¼ ì„ íƒí•´ì„œ ì½ì„ ìˆ˜ ìˆê³  ì¼ë¶€ ì¹¼ëŸ¼ì„ í‚¤ë¡œ ì§€ì •í•´ ì¹¼ëŸ¼ê³¼ ì¼ì¹˜í•˜ëŠ” íŠ¹ì • ë¡œìš°ë¥¼ ì½ì„ ìˆ˜ ìˆë‹¤.\në‹¤ë¥¸ í…Œì´ë¸”ê³¼ì˜ ì™¸ë˜ í‚¤ ê´€ê³„ì— ëŒ€í•´ ì‹ ê²½ ì“°ì§€ ì•Šê³  ì„ì˜ í…Œì´ë¸”ì— ìƒˆ ë¡œìš°ë¥¼ ì‚½ì…í•  ìˆ˜ ìˆë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì§ˆì˜ ìµœì í™”ê¸°(query optimizer)ëŠ” ë„¤íŠ¸ì›Œí¬ ëª¨ë¸ì˜ ì ‘ê·¼ ê²½ë¡œì™€ ê°™ì€ ì‹¤í–‰ ê³„íšì„ ì„ íƒí•œë‹¤.\në”°ë¼ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œìê°€ ì ‘ê·¼ ê²½ë¡œë¥¼ ë”°ë¡œ ìƒê°í•  í•„ìš”ëŠ” ì—†ìœ¼ë©°, ìƒˆë¡œìš´ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ì— ì§ˆì˜í•˜ê³  ì‹¶ë‹¤ë©´ ìƒˆë¡œìš´ ìƒ‰ì¸ì„ ì„ ì–¸í•˜ë©´ ì˜ì˜ëŠ” ìë™ìœ¼ë¡œ ê°€ì¥ ì í•©í•œ ìƒ‰ì¸ì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\nê´€ê³„í˜• ëª¨ë¸ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì´ í›¨ì”¬ ì‰½ë‹¤. ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ë¹„êµ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë³„ë„ í…Œì´ë¸”ì´ ì•„ë‹Œ ìƒìœ„ ë ˆì½”ë“œ ë‚´ì— ì¤‘ì²©ëœ ë ˆì½”ë“œë¥¼ ì €ì¥í•œë‹¤.\ní•˜ì§€ë§Œ ë‹¤ëŒ€ì¼ê³¼ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ í‘œí˜„í•  ë•Œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê·¼ë³¸ì ìœ¼ë¡œ ë‹¤ë¥´ì§€ ì•Šë‹¤.\në‘˜ ë‹¤ ê´€ë ¨ í•­ëª©ì€ ê³ ìœ í•œ ì‹ë³„ìë¡œ ì°¸ì¡° ê´€ê³„í˜• ëª¨ë¸ì—ì„œëŠ” ì™¸ë˜ í‚¤, ë¬¸ì„œ ëª¨ë¸ì—ì„œëŠ” ë¬¸ì„œ ì°¸ì¡°(document reference) ì´ ì‹ë³„ìëŠ” ì¡°ì¸ì´ë‚˜ í›„ì† ì§ˆì˜ë¥¼ ì‚¬ìš©í•´ ì½ê¸° ì‹œì ì„ í™•ì¸í•œë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ ì˜¤ëŠ˜ë‚ ì˜ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë¹„êµí•  ë•Œ ë§ì€ ë¶€ë¶„ì„ ê³ ë ¤í•´ì•¼í•˜ì§€ë§Œ ë°ì´í„° ëª¨ë¸ì˜ ì°¨ì´ì ì—ë§Œ ì§‘ì¤‘í•œë‹¤.\në¬¸ì„œ ë°ì´í„° ëª¨ë¸ì„ ì„ í˜¸í•˜ëŠ” ì£¼ìš” ì´ìœ ëŠ” ìŠ¤í‚¤ë§ˆ ìœ ì—°ì„±, ì§€ì—­ì„±ì— ê¸°ì¸í•œ ë” ë‚˜ì€ ì„±ëŠ¥ ë•Œë¬¸ì´ê³  ì¼ë¶€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„° êµ¬ì¡°ì™€ ë” ê¹Œê¹ê¸° ë•Œë¬¸ì´ë‹¤.\nê´€ê³„í˜• ëª¨ë¸ì€ ì¡°ì¸, ë‹¤ëŒ€ì¼, ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ë” ì˜ ì§€ì›í•¨ìœ¼ë¡œì¨ ë¬¸ì„œ ë°ì´í„° ëª¨ë¸ì— ëŒ€í•­í•œë‹¤.\nì–´ë–¤ ë°ì´í„° ëª¨ë¸ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ë” ê°„ë‹¨í•˜ê²Œ í• ê¹Œ? ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ê°€ ë¬¸ì„œì™€ ë¹„ìŠ·í•œ êµ¬ì¡°ë¼ë©´ ë¬¸ì„œ ëª¨ë¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në¬¸ì„œì™€ ë¹„ìŠ·í•œ êµ¬ì¡°ë¥¼ ì—¬ëŸ¬ í…Œì´ë¸”ë¡œ ë‚˜ëˆ„ì–´ ì°¢ëŠ”(shredding) ê´€ê³„í˜• ê¸°ë²•ì€ ë‹¤ë£¨ê¸° í˜ë“  ìŠ¤í‚¤ë§ˆì™€ ë¶ˆí•„ìš”í•˜ê²Œ ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ë°œìƒì‹œí‚¨ë‹¤. ë¬¸ì„œ ëª¨ë¸ì€ ë¬¸ì„œ ë‚´ ì¤‘ì²© í•­ëª©ì„ ë°”ë¡œ ì°¸ì¡°í•  ìˆ˜ëŠ” ì—†ë‹¤ëŠ” ì œí•œìœ¼ë¡œ ì¸í•´ \u0026ldquo;ì‚¬ìš©ì 251ì˜ ì§ìœ„ ëª©ë¡ì˜ ë‘ ë²ˆì§¸ í•­ëª©\u0026quot;ê³¼ ê°™ì´ í‘œí˜„í•´ì•¼í•˜ì§€ë§Œ, ë¬¸ì„œê°€ ë„ˆë¬´ ê¹Šê²Œ ì¤‘ì²©ë˜ì§€ ì•Šìœ¼ë©´ ì¼ë°˜ì ìœ¼ë¡œ ë¬¸ì œë˜ì§„ ì•ŠëŠ”ë‹¤.\në¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¯¸í¡í•œ ì¡°ì¸ ì§€ì›ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë”°ë¼ ë¬¸ì œì¼ ìˆ˜ ì¼ ìˆ˜ ìˆì§€ë§Œ ì•„ë‹ìˆ˜ë„ ìˆë‹¤.\nex) ì–´ë–¤ ì‹œì ì— ë°œìƒí•œ ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•˜ëŠ” ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶„ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ í•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë¬¸ì„œ ëª¨ë¸ì€ ë§¤ë ¥ì´ ë–¨ì–´ì§„ë‹¤.\në¹„ì •ê·œí™”ë¡œ ì¡°ì¸ì˜ í•„ìš”ì„± ì¤„ì´ê¸°ê°€ ê°€ëŠ¥í•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì—ì„œ ë¹„ì •ê·œí™”ëœ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ì¶”ê°€ ì‘ì—… í•„ìš” ì¡°ì¸ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ë‹¤ì¤‘ ìš”ì²­ì„ ë§Œë“¤ì–´ í‰ë‚´ë‚¼ ìˆ˜ ìˆì§€ë§Œ ë³µì¡ë„ê°€ ë†’ê³ , ì¡°ì¸ë³´ë‹¤ ëŠë¦¼ ì´ëŸ¬í•œ ê²½ìš° ë¬¸ì„œ ëª¨ë¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í›¨ì”¬ ë” ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì™€ ë‚˜ìœ ì„±ëŠ¥ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì–´ë–¤ ë°ì´í„° ëª¨ë¸ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ë” ê°„ë‹¨í•˜ê²Œ ë§Œë“œëŠ”ì§€ëŠ” ë°ì´í„° í•­ëª© ê°„ì— ì¡´ì¬í•˜ëŠ” ê´€ê³„ ìœ í˜•ì— ë”°ë¼ ë‹¤ë¥´ë‹¤.\nìƒí˜¸ ì—°ê²°ì´ ë§ì€ ë°ì´í„°ì˜ ê²½ìš° ë¬¸ì„œ ëª¨ë¸: ê³¤ë€ ê´€ê³„í˜• ëª¨ë¸: ë¬´ë‚œ ê·¸ë˜í”„ ëª¨ë¸: ë§¤ìš° ìì—°ìŠ¤ëŸ¬ì›€ ë¬¸ì„œ ëª¨ë¸ì—ì„œì˜ ìŠ¤í‚¤ë§ˆ ìœ ì—°ì„± ëŒ€ë¶€ë¶„ì˜ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ìŠ¤í‚¤ë§ˆë¥¼ ê°•ìš”í•˜ì§€ ì•ŠëŠ”ë°, ì´ëŠ” ì„ì˜ì˜ í‚¤ì™€ ê°’ì„ ë¬¸ì„œì— ì¶”ê°€í•  ìˆ˜ ìˆê³  ì½ì„ ë•Œ í´ë¼ì´ì–¸íŠ¸ëŠ” ë¬¸ì„œì— í¬í•¨ëœ í•„ë“œì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\në¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì¢…ì¢… ìŠ¤í‚¤ë§ˆë¦¬ìŠ¤(schema-less)ë¼ê³  ë¶€ë¥´ëŠ”ë°, ì˜¤í•´ì˜ ì†Œì§€ê°€ ìˆë‹¤. ë³´í†µì€ ì½ëŠ” ì½”ë“œëŠ” ì–´ë–¤ êµ¬ì¡°ë¥¼ ê°€ì •í•˜ë¯€ë¡œ, ì•”ë¬µì ì¸ ìŠ¤í‚¤ë§ˆê°€ ìˆì§€ë§Œ ê°•ìš”í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»ì´ ë” ì •í™•í•˜ë‹¤.\nì“°ê¸° ìŠ¤í‚¤ë§ˆ(schema-on-write) ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ì „í†µì ì¸ ì ‘ê·¼ ë°©ì‹ ìŠ¤í‚¤ë§ˆëŠ” ëª…ì‹œì ì´ê³  ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì“°ì—¬ì§„ ëª¨ë“  ë°ì´í„°ê°€ ìŠ¤í‚¤ë§ˆë¥¼ ë”°ë¥´ê³  ìˆìŒì„ ë³´ì¥ ì½ê¸° ìŠ¤í‚¤ë§ˆ(schema-on-read) ë°ì´í„° êµ¬ì¡°ëŠ” ì•”ë¬µì ì´ê³  ë°ì´í„°ë¥¼ ì½ì„ ë•Œë§Œ í•´ì„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìŠ¤í‚¤ë§ˆ ê°•ì œëŠ” ë…¼ìŸì˜ ì—¬ì§€ê°€ ìˆëŠ” ì£¼ì œì´ë©° ì¼ë°˜ì ìœ¼ë¡œ ì˜³ê³  ê·¸ë¥¸ ì •ë‹µì€ ì—†ë‹¤.\nì ‘ê·¼ ë°©ì‹ ê°„ ì°¨ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°ì´í„° íƒ€ì…ì„ ë³€ê²½í•˜ê³ ì í•  ë•Œ íŠ¹íˆ ëšœë ·ì´ ë‚˜íƒ€ë‚˜ëŠ”ë°, ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ìƒˆë¡œìš´ í•„ë“œë¥¼ ê°€ì§„ ìƒˆë¡œìš´ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê¸° ì‹œì‘í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì˜ˆì „ ë¬¸ì„œë¥¼ ì½ì€ ê²½ìš°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë§Œ ìˆìœ¼ë©´ ëœë‹¤.\n1 2 3 4 if (user \u0026amp;\u0026amp; user.name \u0026amp;\u0026amp; !user.first_name) { // Documents written before Dec 8, 2013 don\u0026#39;t have first_name user.first_name = user.name.split(\u0026#34; \u0026#34;)[0]; } ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆì—ì„œëŠ” ë³´í†µ ë§ˆì´ê·¸ë ˆì´ì…˜(migration)ì„ ìˆ˜í–‰í•œë‹¤.\n1 2 3 ALTER TABLE users ADD COLUMN first_name text; UPDATE users SET first_name = split_part(name, \u0026#39; \u0026#39;, 1); -- PostgreSQL UPDATE users SET first_name = substring_index(name, \u0026#39; \u0026#39;, 1); -- MySQL ìŠ¤í‚¤ë§ˆ ë³€ê²½ì€ ëŠë¦¬ê³  ì¤‘ë‹¨ì‹œê°„ì„ ìš”êµ¬í•˜ê¸° ë•Œë¬¸ì— í‰íŒì´ ë‚˜ì˜ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ì—„ì²­ ëŠë¦¬ì§€ëŠ” ì•Šë‹¤.\nMySQLì€ ì˜ˆì™¸ì ìœ¼ë¡œ ALTER TABLEì‹œ ì „ì²´ í…Œì´ë¸”ì„ ë³µì‚¬í•˜ê¸° ë•Œë¬¸ì— í° í…Œì´ë¸”ì„ ë³€ê²½í•  ë•Œ ìˆ˜ ë¶„ì—ì„œ ìˆ˜ ì‹œê°„ê¹Œì§€ ì¤‘ë‹¨ ì‹œê°„ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. í° í…Œì´ë¸”ì— UPDATEë¬¸ì„ ì‹¤í–‰í•˜ë©´ ëª¨ë“  ë¡œìš°ê°€ ì¬ì‘ì„±ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì–´ë–¤ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì˜¤ë˜ ê±¸ë¦´ìˆ˜ ìˆë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì…ë ¥ë  í•­ëª©ì´ ê¸°ë³¸ê°’ì¸ ë„ë¡œ ì„¤ì •ë˜ê²Œ ë‚¨ê²¨ë‘ê³  ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ì²˜ëŸ¼ ì½ëŠ” ì‹œì ì— ì±„ìš¸ ìˆ˜ë„ ìˆë‹¤. ì½ê¸° ìŠ¤í‚¤ë§ˆ ì ‘ê·¼ ë°©ì‹ì€ ì»¬ë ‰ì…˜ ì•ˆì˜ í•­ëª©ì´ ì–´ë–¤ ì´ìœ ë¡œ ëª¨ë‘ ë™ì¼í•œ êµ¬ì¡°ê°€ ì•„ë‹ ë•Œ(ë°ì´í„°ê°€ ì—¬ëŸ¬ ë‹¤ë¥¸ ìœ í˜•ìœ¼ë¡œ êµ¬ì„±ë¼ ìˆì„ ë•Œ) ìœ ìš©í•˜ë‹¤.\në‹¤ë¥¸ ì—¬ëŸ¬ ìœ í˜•ì˜ ì˜¤ë¸Œì íŠ¸ê°€ ìˆê³  ê° ìœ í˜•ì˜ ì˜¤ë¸Œì íŠ¸ë³„ë¡œ ìì²´ í…Œì´ë¸”ì— ë„£ëŠ” ë°©ë²•ì€ ì‹¤ìš©ì ì´ì§€ ì•Šë‹¤. ì‚¬ìš©ìê°€ ì œì–´í•  ìˆ˜ ì—†ê³  ì–¸ì œë‚˜ ë³€ê²½ ê°€ëŠ¥í•œ ì™¸ë¶€ ì‹œìŠ¤í…œì— ì˜í•´ ë°ì´í„° êµ¬ì¡°ê°€ ê²°ì •ëœë‹¤. í•˜ì§€ë§Œ ëª¨ë“  ë ˆì½”ë“œê°€ ë™ì¼í•œ êµ¬ì¡°ë¼ì„œ ì˜ˆìƒ ê°€ëŠ¥í•˜ë‹¤ë©´ ìŠ¤í‚¤ë§ˆê°€ ë¬¸ì„œí™”ì™€ êµ¬ì¡°ë¥¼ ê°•ì œí•˜ê¸° ìœ„í•œ ìœ ìš©í•œ ë©”ì»¤ë‹ˆì¦˜ì´ë‹¤.\nì§ˆì˜ë¥¼ ìœ„í•œ ì§€ì—­ì„± ë¬¸ì„œëŠ” ë³´í†µ JSON, XMLë¡œ ë¶€í˜¸í™”ëœ ë‹¨ì¼ ì—°ì† ë¬¸ìì—´ì´ë‚˜(MongoDBì˜ BSON) JSON ë˜ëŠ” XMLì˜ ì´ì§„ ë³€í˜•ìœ¼ë¡œ ì €ì¥ëœë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìì£¼ ì „ì²´ ë¬¸ì„œì— ì ‘ê·¼í•´ì•¼ í•  ë•Œ ì €ì¥ì†Œ ì§€ì—­ì„±(storage locality)ì„ í™œìš©í•˜ë©´ ì„±ëŠ¥ ì´ì ì´ ìˆë‹¤.\nì²˜ìŒ ë´¤ë˜ ì´ë ¥ì„œ ì˜ˆì‹œì²˜ëŸ¼ ë°ì´í„°ê°€ ë‹¤ì¤‘ í…Œì´ë¸”ë¡œ ë‚˜ëˆ ì¡Œìœ¼ë©´ ì „ì²´ë¥¼ ê²€ìƒ‰í•˜ê¸° ìœ„í•´ ë‹¤ì¤‘ ìƒ‰ì¸ ê²€ìƒ‰ì´ í•„ìš”í•˜ë¯€ë¡œ ë” ë§ì€ ë””ìŠ¤í¬ íƒìƒ‰ì´ í•„ìš”í•˜ë‹¤. ì§€ì—­ì„±ì˜ ì´ì ì€ í•œ ë²ˆì— í•´ë‹¹ ë¬¸ì„œì˜ ë§ì€ ë¶€ë¶„ì„ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš°ì—ë§Œ ì ìš©ëœë‹¤.\në¬¸ì„œì˜ ì‘ì€ ë¶€ë¶„ì—ë§Œ ì ‘ê·¼í•´ë„ ì „ì²´ ë¬¸ì„œë¥¼ ì ì¬í•´ì•¼ í•˜ê¸°ì— í° ë¬¸ì„œì—ì„œëŠ” ë‚­ë¹„ì¼ ìˆ˜ ìˆë‹¤. ë¬¸ì„œë¥¼ ê°±ì‹ í•  ë•Œë„ ë³´í†µ ì „ì²´ ë¬¸ì„œë¥¼ ì¬ì‘ì„± í•´ì•¼í•œë‹¤. ë¶€í˜¸í™”ëœ ë¬¸ì„œì˜ í¬ê¸°ë¥¼ ë°”ê¾¸ì§€ ì•ŠëŠ” ìˆ˜ì •ì€ ì‰½ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ì´ìœ ë¡œ ì¼ë°˜ì ìœ¼ë¡œ ë¬¸ì„œë¥¼ ì•„ì£¼ ì‘ê²Œ ìœ ì§€í•˜ë©´ì„œ ë¬¸ì„œì˜ í¬ê¸°ê°€ ì¦ê°€í•˜ëŠ” ì“°ê¸°ë¥¼ í”¼í•˜ë¼ê³  ê¶Œì¥í•œë‹¤.\nì´ ì„±ëŠ¥ ì œí•œ ë•Œë¬¸ì— ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìœ ìš©í•œ ìƒí™©ì´ ë§ì´ ì¤„ì–´ë“ ë‹¤. ì§€ì—­ì„±ì„ ìœ„í•´ ê´€ë ¨ ë°ì´í„°ë¥¼ í•¨ê»˜ ê·¸ë£¹í™”í•˜ëŠ” ê°œë…ì´ ë¬¸ì„œ ëª¨ë¸ì—ë§Œ êµ­í•œë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤ëŠ” ì ì´ ì¤‘ìš”í•˜ë‹¤.\nêµ¬ê¸€ì˜ ìŠ¤íŒ¨ë„ˆ(Spanner) ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë¶€ëª¨ í…Œì´ë¸” ë‚´ì— í…Œì´ë¸”ì˜ ë¡œìš°ë¥¼ êµì°¨ ë°°ì¹˜ë˜ê²Œë” ì„ ì–¸í•˜ëŠ” ìŠ¤í‚¤ë§ˆë¥¼ í—ˆìš©í•˜ì—¬ ê´€ê³„í˜• ë°ì´í„° ëª¨ë¸ì—ì„œ ì§€ì—­ì„± íŠ¹ì„±ì„ ë™ì¼í•˜ê²Œ ì œê³µ ì˜¤ë¼í´ì€ ë‹¤ì¤‘ í…Œì´ë¸” ìƒ‰ì¸ í´ëŸ¬ìŠ¤í„° í…Œì´ë¸”(multi-table index cluster table)ì„ ì‚¬ìš©í•´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì§€ì—­ì„±ì„ ì œê³µ ë¹…í…Œì´ë¸”(Bigtable) ë°ì´í„° ëª¨ë¸ì˜ ì»¬ëŸ¼ íŒ¨ë°€ë¦¬(column family)ê°œë…(ì¹´ì‚°ë“œë¼, HBase)ì´ ì§€ì—­ì„± ê´€ë¦¬ì™€ ìœ ì‚¬í•­ ëª©ì ì´ ìˆìŒ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ì™€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ í†µí•© ëŒ€ë¶€ë¶„ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì€ 2000ë…„ëŒ€ ì¤‘ë°˜ ì´í›„ë¡œ XMLì„ ì§€ì›í•œë‹¤.\nXML ë¬¸ì„œì˜ ì €ì—­ì  ìˆ˜ì • ë° ë¬¸ì„œ ë‚´ë¶€ ìƒ‰ì¸ê³¼ ì§ˆì˜ ê¸°ëŠ¥ í¬í•¨ ê·¸ë˜ì„œ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œì™€ ë§¤ìš° ë¹„ìŠ·í•œ ë°ì´í„° ëª¨ë¸ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nPostgreSQL 9.3, MySQL 5.7, DB2 10.5 ë¶€í„°ëŠ” JSON ë¬¸ì„œì— ëŒ€í•´ ë¹„ìŠ·í•œ ìˆ˜ì¤€ì˜ ì§€ì› ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\nì›¹ APIìš© JSONì˜ ì¸ê¸°ë¥¼ ê³ ë ¤í•  ë•Œ, ê·¸ ë°–ì˜ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë„ ì„ ë¡€ë¥¼ ì«’ì•„ JSON ì§€ì› ê¸°ëŠ¥ì„ ì¶”ê°€í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ë³´ì„ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìª½ì—ì„œ ë³¸ë‹¤ë©´ ë¦¬ì‹±í‚¤DBëŠ” ì§ˆì˜ ì–¸ì–´ì—ì„œ ê´€ê³„í˜• ì¡°ì¸ì„ ì§€ì›í•˜ê³  MongoDB ë“œë¼ì´ë²„ëŠ” ìë™ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì°¸ì¡°ë¥¼ í™•ì¸í•œë‹¤.\nì‹¤ì œë¡œëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì¡°ì¸ì„ ìˆ˜í–‰ ë„¤íŠ¸ì›Œí¬ ì™•ë³µì´ ì¶”ê°€ë¡œ í•„ìš”í•˜ê³  ìµœì í™”ê°€ ëœ ë˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìˆ˜í–‰ë˜ëŠ” ì¡°ì¸ë³´ë‹¤ ëŠë¦´ ìˆ˜ ìˆìŒ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¬¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì ì  ë” ë¹„ìŠ·í•´ì§€ê³  ìˆë‹¤.\në§Œì•½ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë°ì´í„°ë¥¼ ë¬¸ì„œì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ ìˆê³  ê´€ê³„í˜• ì§ˆì˜ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í•„ìš”ì— ë”°ë¼ ê°€ì¥ ì í•©í•œ ê¸°ëŠ¥ì„ ì¡°í•©í•´ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\nê´€ê³„í˜•ê³¼ ë¬¸ì„œí˜•ì˜ í˜¼í•© ëª¨ë¸ì€ ë¯¸ë˜ ë°ì´í„°ë² ì´ìŠ¤ë“¤ì´ ê°€ì•¼ í•  ì˜¬ë°”ë¥¸ ê¸¸ì´ë‹¤.ğŸ«¨\n","date":"2025-01-18T15:24:49+09:00","image":"https://codemario318.github.io/post/designing-data-intensive-application/2/1/cover_hu03451f961cb1218aaf8d95eea6944999_534781_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/designing-data-intensive-application/2/1/","title":"2. ë°ì´í„° ëª¨ë¸ê³¼ ì§ˆì˜ ì–¸ì–´ - ê´€ê³„í˜• ëª¨ë¸ê³¼ ë¬¸ì„œ ëª¨ë¸"},{"content":"ìµœê·¼ ì‹¤ì‹œê°„ ë‹¤ì¤‘ ì‚¬ìš©ì í€´ì¦ˆ ê²Œì„ì„ êµ¬í˜„í•˜ë©´ì„œ ë‹¨ìˆœí•˜ê²Œ ì„œë²„ 1ëŒ€ì™€ ì¸ë©”ëª¨ë¦¬(ì´í•˜ ì„¸ì…˜)ë¥¼ ì´ìš©í•œ ë°©ì‹ìœ¼ë¡œ ì›¹ì†Œì¼“ì„ ì´ìš©í•´ ê²Œì„ ì§„í–‰ê³¼ ì±„íŒ… ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆì—ˆëŠ”ë°ìš”.\në‹¹ì‹œ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¡œ ì´ˆë‹¹ 5,000ê±´ ì´ìƒì˜ ë©”ì‹œì§€ ì²˜ë¦¬ê°€ ê°€ëŠ¥í–ˆê¸° ë•Œë¬¸ì—, ëª©í‘œë¡œ í–ˆë˜ 300ëª… ì´ìƒì˜ ì°¸ì—¬ì ë™ì‹œ ì§„í–‰ì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ê²Œì„ì— ì°¸ì—¬í•˜ëŠ” ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ í˜„ì¬ ìƒí™©ì—ì„œëŠ” ë¶„ëª… í•œê³„ê°€ ìˆê² ì£ ? ê·¸ë˜ì„œ ì›¹ì†Œì¼“ ì„œë²„ì˜ ì²˜ë¦¬ëŸ‰ì„ ëŠ˜ë¦¬ëŠ” ë°©ë²•ë“¤ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë ¤ í•©ë‹ˆë‹¤.\nìˆ˜í‰ í™•ì¥ê³¼ ìˆ˜ì§ í™•ì¥ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ ìˆ˜í‰ í™•ì¥ê³¼ ìˆ˜ì§ í™•ì¥ ë‘ ê°€ì§€ ì ‘ê·¼ ë°©ì‹ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìˆ˜ì§ í™•ì¥ (Scale Up) ë‹¨ì¼ ì„œë²„ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ë“± í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ë¥¼ ì¦ì„¤í•˜ì—¬ ì„±ëŠ¥ì„ ê°œì„ í•©ë‹ˆë‹¤.\nì¥ì : êµ¬í˜„ì´ ê°„ë‹¨í•˜ë©° ì¶”ê°€ì ì¸ ì•„í‚¤í…ì²˜ ë³€ê²½ì´ í•„ìš” ì—†ìŒ ë‹¨ì¼ ì„œë²„ì´ë¯€ë¡œ ë°ì´í„° ì¼ê´€ì„± ìœ ì§€ê°€ ì‰¬ì›€ ë„¤íŠ¸ì›Œí¬ ë³µì¡ë„ê°€ ë‚®ìŒ ë‹¨ì : í•˜ë“œì›¨ì–´ ë¹„ìš©ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€ ë¬¼ë¦¬ì ì¸ í•œê³„ê°€ ì¡´ì¬ ì¥ì•  ë°œìƒ ì‹œ ì „ì²´ ì‹œìŠ¤í…œì— ì˜í–¥ ìˆ˜í‰ í™•ì¥ (Scale Out) ë™ì¼í•œ ì„œë²„ë¥¼ ì—¬ëŸ¬ ëŒ€ ì¶”ê°€í•˜ì—¬ ë¶€í•˜ë¥¼ ë¶„ì‚°ì‹œí‚¤ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.\nì¥ì : ì„ í˜•ì ì¸ ë¹„ìš© ì¦ê°€ë¡œ íš¨ìœ¨ì  ë¬´í•œí•œ í™•ì¥ì´ ì´ë¡ ì ìœ¼ë¡œ ê°€ëŠ¥ ê³ ê°€ìš©ì„±ê³¼ ì¥ì•  í—ˆìš©ì„± í™•ë³´ ë‹¨ì : ì•„í‚¤í…ì²˜ê°€ ë³µì¡í•´ì§ ë°ì´í„° ì¼ê´€ì„± ìœ ì§€ê°€ ì–´ë ¤ì›€ ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ ë°œìƒ ìˆ˜ì§ í™•ì¥ì€ ë‹¨ìˆœíˆ ì„œë²„ ìŠ¤í™ì„ ì˜¬ë¦¬ëŠ” ê²ƒìœ¼ë¡œ í•œê³„ê°€ ëª…í™•í•˜ê¸° ë•Œë¬¸ì—(ë¹„ì‹¸ê¸° ë•Œë¬¸ì—), ìˆ˜í‰ í™•ì¥ ìœ„ì£¼ë¡œ ì„±ëŠ¥ì„ ê°œì„ í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•´ë³´ì…ë‹ˆë‹¤.\nì´ì œ ìˆ˜í‰ í™•ì¥ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ë°©ë²•ë“¤ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nì›¹ì†Œì¼“ì˜ íŠ¹ì„± ë¨¼ì € ì—¬ëŸ¬ ì‹œë„ë¥¼ í•˜ê¸° ì „ ì›¹ì†Œì¼“ì˜ ì—°ê²° íŠ¹ì„±ì— ëŒ€í•´ ì´í•´í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\nì›¹ì†Œì¼“ì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì— ì§€ì† ì—°ê²° ìƒíƒœë¥¼ ìœ ì§€í•˜ë¯€ë¡œ, ìˆ˜í‰ í™•ì¥ ì‹œ ê° ì„œë²„ì— í´ë¼ì´ì–¸íŠ¸ ì—°ê²°ì´ ë¶„ì‚°ë©ë‹ˆë‹¤.\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì„œë²„ ê°„ ìƒíƒœë¥¼ ë™ê¸°í™”í•˜ê±°ë‚˜ ìƒí™©ì— ë§ê²Œ í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • ì„œë²„ì— ê³ ì •ë˜ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.\në¡œë“œ ë°¸ëŸ°ì‹± ìˆ˜í‰ í™•ì¥ì„ í†µí•´ ì„œë¹„ìŠ¤ì˜ ìš”ì²­ì„ ë¶„ì‚°í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ëŒ€ì˜ ì„œë²„ë¥¼ ë°°í¬í•˜ë©´ ì‹¤ì œë¡œ ë°°í¬ëœ ì—¬ëŸ¬ ì„œë²„ë¡œ ìš”ì²­ì„ ë¶„ì‚°í•´ì•¼ê² ì£ \në¡œë“œ ë°¸ëŸ°ì‹±ì€ ë“¤ì–´ì˜¤ëŠ” ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ì—¬ëŸ¬ ì„œë²„ì— íš¨ìœ¨ì ìœ¼ë¡œ ë¶„ì‚°í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.\nSticky Sessions vs Non-Sticky Sessions ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ë¶„ì‚°í•˜ê¸° ìœ„í•œ ì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ì´ ì¡´ì¬í•˜ëŠ”ë°, í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì´ ê°™ì€ ì„œë²„ë¡œ ê°€ëŠ”ì§€ ì•„ë‹Œì§€ì— ë”°ë¼ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nNon-Sticky Sessionsì€ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë§¤ë²ˆ ë‹¤ë¥¸ ì„œë²„ë¡œ ììœ ë¡­ê²Œ ë¼ìš°íŒ…ë  ìˆ˜ ìˆëŠ” ë°©ì‹ìœ¼ë¡œ stateless ì•„í‚¤í…ì²˜ë¥¼ êµ¬í˜„í•  ë•Œ ì„ í˜¸ë˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\nì£¼ìš” ì°¨ì´ì ì„ ë¹„êµí•˜ë©´:\nìƒíƒœ ê´€ë¦¬ Sticky Sessions: ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœë¥¼ ë©”ëª¨ë¦¬ì— ë³´ê´€ Non-Sticky Sessions: ëª¨ë“  ìƒíƒœë¥¼ Redis ê°™ì€ ì™¸ë¶€ ì €ì¥ì†Œì— ë³´ê´€ ì¥ì•  ëŒ€ì‘ Sticky Sessions: ì„œë²„ ì¥ì•  ì‹œ í•´ë‹¹ ì„œë²„ì˜ ëª¨ë“  ì„¸ì…˜ ì†ì‹¤ Non-Sticky Sessions: ì„œë²„ ì¥ì• ì™€ ë¬´ê´€í•˜ê²Œ ì„¸ì…˜ ìœ ì§€ ê°€ëŠ¥ í™•ì¥ì„± Sticky Sessions: íŠ¹ì • ì„œë²„ì— ë¶€í•˜ê°€ ì§‘ì¤‘ë  ìˆ˜ ìˆìŒ Non-Sticky Sessions: ë” ê· ë“±í•œ ë¶€í•˜ ë¶„ì‚° ê°€ëŠ¥ ì›¹ì†Œì¼“ì˜ ê²½ìš° ì—°ê²° ìì²´ê°€ statefulí•˜ê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œ Sticky Sessionsì„ ì‚¬ìš©í•˜ì§€ë§Œ, ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì—ì„œëŠ” Non-Sticky Sessions ë°©ì‹ì„ ì±„íƒí•˜ê³  ëª¨ë“  ìƒíƒœë¥¼ ì™¸ë¶€ ì €ì¥ì†Œì— ë³´ê´€í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ê¸°ë„ í•©ë‹ˆë‹¤.\nì„œë²„ ê°„ ìƒíƒœ ë™ê¸°í™” ì €í¬ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì‚¬ìš©ìê°€ í€´ì¦ˆì¡´ì„ ê¸°ë°˜ìœ¼ë¡œ ì„œë²„ì˜ ì„¸ì…˜ì„ í†µí•´ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì—, í€´ì¦ˆì¡´ì— ì°¸ì—¬í•˜ê³  ìˆëŠ” ëª¨ë“  ì‚¬ìš©ìê°€ ë™ì¼í•œ ì„œë²„ì— ì—°ê²°ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\nì´ëŠ” ìƒí™©ì— ë”°ë¼ ì‚¬ìš©ìê°€ ë§ì´ ì°¸ì—¬í•˜ê³  ìˆëŠ” í€´ì¦ˆì¡´ì´ íŠ¹ì • ì„œë²„ì— ì§‘ì¤‘ë˜ëŠ” ê²½ìš° ìˆ˜í‰ í™•ì¥ì˜ ì¥ì ì„ ê°€ì ¸ê°ˆ ìˆ˜ ì—†ê²Œ ë˜ëŠ” ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ íŠ¹ì • ì„œë²„ì— ì„¸ì…˜ì— ì˜ì¡´í•˜ì§€ ì•Šê²Œ ë§Œë“¤ê¸° ìœ„í•´ ì„œë²„ ê°„ì˜ ìƒíƒœë¥¼ ë™ê¸°í™” í•´ì•¼í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\në‹¨ìˆœíˆ ì„œë²„ ê°„ì˜ ìƒíƒœë¥¼ ë™ê¸°í™” í•œë‹¤ë©´, ëª¨ë“  ì‚¬ìš©ìì— ëŒ€í•œ ì •ë³´ë¥¼ ëª¨ë“  ì„œë²„ê°€ ë©”ëª¨ë¦¬ë¡œ ê°€ì ¸ì•¼í•˜ê³  ì´ë¥¼ ìˆ˜ì‹œë¡œ ì—…ë°ì´íŠ¸ í•´ì•¼í•˜ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.\nì´ëŠ” ë°°í¬ëœ ê°ê°ì˜ ì„œë²„ì˜ ë©”ëª¨ë¦¬ê°€ ì¶©ë¶„í•´ì•¼ëŠ” ê²ƒì´ ê¸°ë³¸ ì „ì œì´ë¯€ë¡œ ë©”ëª¨ë¦¬ë¡œ ì¸í•œ ì„œë²„ ë¹„ìš© ì ˆê°ì€ ì˜ë¯¸ê°€ ì—†ì–´ì§ˆ ë¿ ì•„ë‹ˆë¼ ìƒíƒœ ë™ê¸°í™”ë¥¼ ìœ„í•œ ì—¬ëŸ¬ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•˜ë¯€ë¡œ íš¨ê³¼ì ì¸ ë°©ì‹ìœ¼ë¡œ ë³´ê¸´ ì–´ë µìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ë” ë‹¨ìˆœí•œ ë°©ë²•ìœ¼ë¡œ ë°°í¬ëœ ì—¬ëŸ¬ ì„œë²„ê°€ ê°™ì€ ì„¸ì…˜ì„ ë°”ë¼ë³´ê²Œ ë§Œë“œëŠ” ë°©ë²•ì„ í™œìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ê³ , ì„¸ì…˜ì€ ë¹ ë¥¸ ì½ê¸°/ì“°ê¸°ê°€ ìš”êµ¬ë˜ë¯€ë¡œ ì£¼ë¡œ Redisë¥¼ í™œìš©í•©ë‹ˆë‹¤.\nPub/Sub íŒ¨í„´ ì ìš© ìœ„ì²˜ëŸ¼ ì„œë²„ ê°„ì˜ ìƒíƒœë¥¼ ë™ê¸°í™”í–ˆë‹¤ê³  í•˜ë”ë¼ë„, ì›¹ì†Œì¼“ì˜ íŠ¹ì„±ìƒ íŠ¹ì • ì„œë²„ì— ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œë§Œ ì§ì ‘ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì„œë²„ì— ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ì§ì ‘ì ì¸ ë©”ì‹œì§€ ì „ì†¡ì´ ë¶ˆê°€ëŠ¥í•œ ê²ƒì´ì£ .\nì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¥¼ í™œìš©í•œ Pub/Sub íŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê° ì„œë²„ëŠ” ë©”ì‹œì§€ ë¸Œë¡œì»¤(ì˜ˆ: Redis, RabbitMQ, Kafka)ì˜ ì±„ë„ì„ êµ¬ë…(Subscribe) ë©”ì‹œì§€ ì „ì†¡ì´ í•„ìš”í•  ë•ŒëŠ” í•´ë‹¹ ì±„ë„ì— ë©”ì‹œì§€ë¥¼ ë°œí–‰(Publish) ëª¨ë“  ì„œë²„ê°€ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ê³ , ìì‹ ì—ê²Œ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í•„ìš”í•œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬ ì´ëŸ¬í•œ ë°©ì‹ì„ í†µí•´ ì„œë²„ ê°„ ì§ì ‘ì ì¸ í†µì‹  ì—†ì´ë„ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nAuto Scaling ë¦¬ì†ŒìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´, íŠ¸ë˜í”½ì— ë”°ë¼ ì„œë²„ë¥¼ ë™ì ìœ¼ë¡œ í™•ì¥í•˜ê³  ì¶•ì†Œí•˜ëŠ” ê²ƒì´ ì´ìƒì ì…ë‹ˆë‹¤.\nì €í¬ ì„œë¹„ìŠ¤ë„ ê·¼ë³¸ì ìœ¼ë¡œëŠ” ê²Œì„ì´ë¼ì„œ ì €ë… ì‹œê°„ëŒ€ì— íŠ¸ë˜í”½ì´ ì§‘ì¤‘ë˜ì§€ ì•Šì„ê¹Œ ì˜ˆìƒí•´ë´…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì›¹ì†Œì¼“ ì„œë²„ì˜ ë™ì  í™•ì¥ ì‹œì—ëŠ” ëª‡ ê°€ì§€ ê³ ë ¤í•´ì•¼ í•  ë¬¸ì œë“¤ì´ ìˆìŠµë‹ˆë‹¤.\nì„œë²„ ì¶”ê°€ ìƒˆë¡œìš´ ì„œë²„ê°€ ì¶”ê°€ë˜ì—ˆì„ ë•Œ, ê¸°ì¡´ í´ë¼ì´ì–¸íŠ¸ë“¤ì€ ì´ë¯¸ ë‹¤ë¥¸ ì„œë²„ë“¤ê³¼ ì—°ê²°ì´ ë˜ì–´ìˆëŠ” ìƒíƒœì…ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ìƒˆë¡œìš´ ì„œë²„ëŠ” ìƒˆë¡œ ì ‘ì†í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²°ë§Œ ë°›ê²Œ ë˜ì–´ ì„œë²„ ê°„ ë¶€í•˜ ë¶„ì‚°ì´ ê· í˜•ìˆê²Œ ì´ë£¨ì–´ì§€ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ë“¤ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:\nì—°ê²° ì¬ë¶„ë°° (Connection Rebalancing) ì£¼ê¸°ì ìœ¼ë¡œ ì„œë²„ ê°„ ì—°ê²° ìˆ˜ë¥¼ í™•ì¸í•˜ê³  ë¶ˆê· í˜•ì´ ë°œìƒí•˜ë©´ ì¼ë¶€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì¬ì—°ê²° ìš”ì²­ í´ë¼ì´ì–¸íŠ¸ëŠ” ì¬ì—°ê²° ì‹œ ë¡œë“œë°¸ëŸ°ì„œë¥¼ í†µí•´ ìƒˆë¡œìš´ ì„œë²„ì— ê³ ë¥´ê²Œ ë¶„ë°°ë¨ ê°€ì¤‘ì¹˜ ê¸°ë°˜ ë¼ìš°íŒ… ìƒˆë¡œìš´ ì„œë²„ì— ë” ë†’ì€ ê°€ì¤‘ì¹˜ë¥¼ ë¶€ì—¬í•˜ì—¬ ì‹ ê·œ ì—°ê²°ì„ ë” ë§ì´ í• ë‹¹ ì ì§„ì ìœ¼ë¡œ ì„œë²„ ê°„ ì—°ê²° ìˆ˜ê°€ ê· í˜•ì„ ì´ë£¨ë„ë¡ ì¡°ì • ì„œë²„ ì œê±° ì„œë²„ë¥¼ ì œê±°í•  ë•ŒëŠ” í•´ë‹¹ ì„œë²„ì— ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ë“¤ì˜ ì—°ê²°ì„ ì ì ˆíˆ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì—°ê²° ì¢…ë£ŒëŠ” ì‚¬ìš©ì ê²½í—˜ì„ í•´ì¹  ìˆ˜ ìˆìœ¼ë©°, ì„œë¹„ìŠ¤ì˜ ì•ˆì •ì„±ì—ë„ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•œ í•´ê²° ë°©ì•ˆìœ¼ë¡œëŠ”:\nDraining Mode êµ¬í˜„ ì„œë²„ ì œê±° ì „ì— í•´ë‹¹ ì„œë²„ë¥¼ \u0026lsquo;draining\u0026rsquo; ìƒíƒœë¡œ ì „í™˜ ë” ì´ìƒ ìƒˆë¡œìš´ ì—°ê²°ì„ ë°›ì§€ ì•Šë„ë¡ ë¡œë“œë°¸ëŸ°ì„œ ì„¤ì • ë³€ê²½ ê¸°ì¡´ ì—°ê²°ì€ ìœ ì§€í•˜ë©´ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ê°ì†Œí•˜ë„ë¡ ìœ ë„ Graceful Shutdown with Notification ì¢…ë£Œ ì˜ˆì •ì¸ ì„œë²„ì˜ í´ë¼ì´ì–¸íŠ¸ë“¤ì—ê²Œ ì¬ì—°ê²° í•„ìš”ì„±ì„ ì•Œë¦¬ëŠ” ë©”ì‹œì§€ ì „ì†¡ í´ë¼ì´ì–¸íŠ¸ëŠ” ë©”ì‹œì§€ ìˆ˜ì‹  í›„ ë‹¤ë¥¸ ì„œë²„ë¡œ ì¬ì—°ê²° ì‹œë„ ì¼ì • ì‹œê°„ í›„ ë‚¨ì•„ìˆëŠ” ì—°ê²°ì„ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œ ZooKeeper ì´ëŸ¬í•œ ì²˜ë¦¬ë“¤ì˜ ì›í™œí•œ ê´€ë¦¬ë¥¼ ìœ„í•´ ì„œë²„ë“¤ì˜ ìƒíƒœë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. Apache ZooKeeperì™€ ê°™ì€ ë„êµ¬ë¥¼ í™œìš©í•˜ë©´ ì´ëŸ¬í•œ ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ì„œë²„ ê´€ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì„œë²„ ìƒíƒœ ê´€ë¦¬ ê° ì„œë²„ëŠ” ZooKeeperì— ì„ì‹œ ë…¸ë“œ(ephemeral node)ë¥¼ ìƒì„±í•˜ì—¬ ìì‹ ì˜ ìƒíƒœë¥¼ ë“±ë¡ ì„œë²„ ì¥ì•  ì‹œ ë…¸ë“œê°€ ìë™ìœ¼ë¡œ ì‚­ì œë˜ì–´ ë¹ ë¥¸ ì¥ì•  ê°ì§€ ê°€ëŠ¥ í˜„ì¬ í™œì„±í™”ëœ ì„œë²„ ëª©ë¡ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ íŒŒì•… ê°€ëŠ¥ ë¶€í•˜ ë¶„ì‚° ì •ë³´ ê³µìœ  ê° ì„œë²„ì˜ í˜„ì¬ ì—°ê²° ìˆ˜, ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ë“±ì„ ZooKeeperì— ì €ì¥ ë¡œë“œë°¸ëŸ°ì„œëŠ” ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì ì˜ ì„œë²„ ì„ íƒ ê°€ëŠ¥ ë™ì  ê°€ì¤‘ì¹˜ ì¡°ì •ì— í™œìš© ì„¤ì • ì •ë³´ ê´€ë¦¬ ì„œë²„ êµ¬ì„± ì •ë³´, í™˜ê²½ ì„¤ì • ë“±ì„ ì¤‘ì•™í™”ëœ ì €ì¥ì†Œì—ì„œ ê´€ë¦¬ ì„¤ì • ë³€ê²½ ì‹œ ëª¨ë“  ì„œë²„ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ ê°€ëŠ¥ ì¼ê´€ëœ ì„¤ì • ìœ ì§€ ê°€ëŠ¥ Auto Scalingê³¼ì˜ ì—°ê³„\nZooKeeperë¥¼ Auto Scalingê³¼ ì—°ê³„í•˜ë©´ ë”ìš± íš¨ê³¼ì ì¸ ì„œë²„ ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤:\nìŠ¤ì¼€ì¼ ì¸/ì•„ì›ƒ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì„œë²„ ëª©ë¡ ìë™ ì—…ë°ì´íŠ¸ ìƒˆë¡œìš´ ì„œë²„ ì¶”ê°€ ì‹œ ê¸°ì¡´ ì„œë²„ë“¤ê³¼ì˜ ì„¤ì • ë™ê¸°í™” ì„œë²„ ì œê±° ì‹œ ì•ˆì „í•œ ì¢…ë£Œ ì ˆì°¨ ì¡°ìœ¨ ì„œë²„ ê°„ ë¶€í•˜ ë¶„ì‚° ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ì¬ì¡°ì • ì´ëŸ¬í•œ ZooKeeperì˜ í™œìš©ì€ íŠ¹íˆ Auto Scaling í™˜ê²½ì—ì„œ ì„œë²„ë“¤ì˜ ë™ì ì¸ ë³€í™”ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë° í° ë„ì›€ì´ ë  ìˆ˜ ìˆê³ , ì„œë²„ì˜ ì¶”ê°€ì™€ ì œê±°ê°€ ìì£¼ ë°œìƒí•˜ëŠ” í™˜ê²½ì—ì„œë„ ì„œë¹„ìŠ¤ì˜ ì•ˆì •ì„±ê³¼ ê°€ìš©ì„±ì„ ë†’ì€ ìˆ˜ì¤€ìœ¼ë¡œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„ ìˆìŠµë‹ˆë‹¤.\nì •ë¦¬ ì›¹ì†Œì¼“ ê¸°ë°˜ì˜ ì‹¤ì‹œê°„ ê²Œì„ ì„œë¹„ìŠ¤ë¥¼ í™•ì¥í•˜ë©´ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë“¤ê³¼ í•´ê²° ë°©ì•ˆë“¤ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.\nì„œë²„ í™•ì¥ì„± ë¬¸ì œ ìˆ˜í‰ì  í™•ì¥ì„ í†µí•œ ì²˜ë¦¬ëŸ‰ ì¦ê°€ ìƒíƒœ ê´€ë¦¬ ë¬¸ì œ Redisë¥¼ í™œìš©í•œ ì„¸ì…˜ ì €ì¥ì†Œ ì™¸ë¶€í™” ë©”ì‹œì§€ ì „ë‹¬ ë¬¸ì œ Pub/Sub íŒ¨í„´ ë„ì… ë©”ì‹œì§€ ë¸Œë¡œì»¤ë¥¼ í†µí•œ íš¨ìœ¨ì ì¸ ë©”ì‹œì§€ ì „íŒŒ ë™ì  í™•ì¥ ë¬¸ì œ ì„œë²„ì˜ ë™ì  ì¶”ê°€, ì œê±°ë¡œ ì¸í•œ ë¬¸ì œ ZooKeeper í™œìš© ì—°ê²°ì´ ìœ ì§€ë˜ëŠ” íŠ¹ì„± ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤ì´ ë§ì•˜ë„¤ìš”\nì–´ë–¤ ë°©ì‹ë“¤ì„ ì ìš©í•´ì•¼í• ì§€ ê³ ë¯¼ì„ ë” í•´ë´ì•¼ê² ìŠµë‹ˆë‹¤.\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ğŸ˜Š\n","date":"2025-01-04T14:57:49+09:00","image":"https://codemario318.github.io/post/websocket-scale-out/cover_hu9514b00f9971266d18374bc0654f0c59_139764_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/websocket-scale-out/","title":"ì›¹ì†Œì¼“ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ ê°œì„ í•˜ê¸°"},{"content":"\nì˜¤ëŠ˜ë‚  ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê³„ì‚° ì¤‘ì‹¬(compute-intensive)ê³¼ëŠ” ë‹¤ë¥´ê²Œ ë°ì´í„° ì¤‘ì‹¬(data-intensive)ì ì´ë‹¤.\nì´ëŸ¬í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° CPU ì„±ëŠ¥ë³´ë‹¤ ë°ì´í„°ì˜ ì–‘, ë°ì´í„°ì˜ ë³µì¡ë„, ë°ì´í„°ì˜ ë³€í™” ì†ë„ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì œí•œí•˜ëŠ” ìš”ì†Œì´ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„° ì¤‘ì‹¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê³µí†µìœ¼ë¡œ í•„ìš”ë¡œ í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” í‘œì¤€ êµ¬ì„± ìš”ì†Œ(standard building block)ë¡œ ë§Œë“ ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë‚˜ì¤‘ì— ë‹¤ì‹œ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ìˆê²Œ ë°ì´í„°ë¥¼ ì €ì¥(ë°ì´í„°ë² ì´ìŠ¤) ì½ê¸° ì†ë„ í–¥ìƒì„ ìœ„í•´ ê°’ë¹„ì‹¼ ìˆ˜í–‰ ê²°ê³¼ë¥¼ ê¸°ì–µ(ìºì‹œ) ì‚¬ìš©ìê°€ í‚¤ì›Œë“œë¡œ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ê±°ë‚˜ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ í•„í„°ë§í•  ìˆ˜ ìˆê²Œ ì œê³µ(ê²€ìƒ‰ ìƒ‰ì¸, search index) ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë¡œ ë©”ì‹œì§€ ë³´ë‚´ê¸°(ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬, stream processing) ì£¼ê¸°ì ìœ¼ë¡œ ëŒ€ëŸ‰ì˜ ëˆ„ì ëœ ë°ì´í„°ë¥¼ ë¶„ì„(ì¼ê´„ ì²˜ë¦¬, batch processing) ì• í”Œë¦¬ì¼€ì´ì…˜ë§ˆë‹¤ ìš”êµ¬ì‚¬í•­ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ ë„í•œ ì €ë§ˆë‹¤ ë‹¤ì–‘í•œ íŠ¹ì„±ì„ ê°€ì§€ê³  ìˆë‹¤.\nìºì‹±ì„ ìœ„í•œ ë‹¤ì–‘í•œ ì ‘ê·¼ ë°©ì‹, ê²€ìƒ‰ ìƒ‰ì¸ì„ êµ¬ì¶•í•˜ëŠ” ì—¬ëŸ¬ ê°€ì§€ ë°©ë²• ë“± ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ë•Œ ì–´ë–¤ ë„êµ¬ì™€ ì–´ë–¤ ì ‘ê·¼ ë°©ì‹ì´ ìˆ˜í–‰ ì¤‘ì¸ ì‘ì—…ì— ê°€ì¥ ì í•©í•œì§€ ìƒê°í•´ì•¼ í•œë‹¤.\në‹¨ í•˜ë‚˜ì˜ ë„êµ¬ë§Œìœ¼ë¡œ í•  ìˆ˜ ì—†ëŠ” ê²ƒì„ í•´ì•¼í•˜ëŠ” ê²½ìš° ë„êµ¬ë“¤ì„ ê²°í•©í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤. ì´ ì±…ì€ ë°ì´í„° ì‹œìŠ¤í…œì˜ ì›ì¹™(principle)ê³¼ ì‹¤ìš©ì„±(practicality), ì´ë¥¼ í™œìš©í•œ ë°ì´í„° ì¤‘ì‹¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ” ë°©ë²•ì„ ëª¨ë‘ ë‹´ê³ ìˆë‹¤.\nì†Œê°œëœ ë‹¤ì–‘í•œ ë„êµ¬ê°€ ê³µí†µì ìœ¼ë¡œ ì§€ë‹Œ ê²ƒì€ ë¬´ì—‡ì´ê³  ì„œë¡œ êµ¬ë³„ë˜ëŠ” ê²ƒì€ ë¬´ì—‡ì¸ì§€, ì–´ë– í—¥ ê·¸ëŸ¬í•œ íŠ¹ì„±ì„ êµ¬í˜„í•´ëƒˆëŠ”ì§€ ì•Œì•„ë³¸ë‹¤.\nê·¸ ì „ì— ì‹ ë¢°í•  ìˆ˜ ìˆê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ë°ì´í„° ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ ê°€ì¥ ê¸°ì´ˆì ì¸ ë…¸ë ¥ì„ ì‚´í´ë´ì•¼í•œë‹¤.\në°ì´í„° ì‹œìŠ¤í…œì— ëŒ€í•œ ìƒê° ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤, í, ìºì‹œ ë“±ì„ ë§¤ìš° ë‹¤ë¥¸ ë²”ì£¼ì— ì†í•˜ëŠ” ë„êµ¬ë¡œ ìƒê°í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì™€ ë©”ì‹œì§€ íëŠ” í‘œë©´ì ìœ¼ë¡œ ë¹„ìŠ·í•˜ë”ë¼ë„(ì–¼ë§ˆ ë™ì•ˆ ë°ì´í„°ë¥¼ ì €ì¥í•¨) ë§¤ìš° ë‹¤ë¥¸ ì ‘ê·¼ íŒ¨í„´ì„ ê°–ê³  ìˆì–´ ì„œë¡œ ë‹¤ë¥¸ ì„±ëŠ¥ íŠ¹ì„±ì´ ìˆê¸° ë•Œë¬¸ì— êµ¬í˜„ ë°©ì‹ì´ ë‹¤ë¥´ë‹¤.\nëª¨ë“  ê²ƒì„ ì™œ ë°ì´í„° ì‹œìŠ¤í…œì´ë¼ëŠ” í¬ê´„ì  ìš©ì–´ë¡œ ë¬¶ì–´ì•¼ í•˜ëŠ”ê°€?\në¶„ë¥˜ ê°„ ê²½ê³„ê°€ íë ¤ì§\në°ì´í„° ì €ì¥ê³¼ ì²˜ë¦¬ë¥¼ ìœ„í•œ ì—¬ëŸ¬ ìƒˆë¡œìš´ ë„êµ¬ëŠ” ìµœê·¼ì— ë§Œë“¤ì–´ì¡Œê³ , ìƒˆë¡œìš´ ë„êµ¬ë“¤ì€ ë‹¤ì–‘í•œ ì‚¬ìš© ì‚¬ë¡€(use case)ì— ìµœì í™”ë˜ì–´ ì „í†µì ì¸ ë¶„ë¥˜ì— ë”± ë“¤ì–´ë§ì§€ ì•ŠëŠ”ë‹¤.\në©”ì‹œì§€ íë¥¼ ì˜ˆì‹œë¡œ ì‚´í´ë³´ë©´\në ˆë””ìŠ¤: ì§€ì†ì„±ì„ ë³´ì¥í•˜ì§€ ì•ŠìŒ ì¹´í”„ì¹´: ë°ì´í„°ë² ì´ìŠ¤ì²˜ëŸ¼ ì§€ì†ì„±ì„ ë³´ì¥ ê´‘ë²”ìœ„í•œ ìš”êµ¬ì‚¬í•­\nì ì  ë” ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë‹¨ì¼ ë„êµ¬ë¡œëŠ” ë” ì´ìƒ ë°ì´í„° ì²˜ë¦¬ì™€ ì €ì¥ ëª¨ë‘ë¥¼ ë§Œì¡±ì‹œí‚¬ ìˆ˜ ì—†ëŠ” ê³¼ë„í•˜ê³  ê´‘ë²”ìœ„í•œ ìš”êµ¬ì‚¬í•­ì„ ê°–ê³ ìˆë‹¤.\nëŒ€ì‹  ì‘ì—…(work)ì€ ë‹¨ì¼ ë„êµ¬ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” íƒœìŠ¤í¬(task)ë¡œ ë‚˜ëˆ„ê³  ë‹¤ì–‘í•œ ë„êµ¬ë“¤ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ì´ìš©í•´ ì„œë¡œ ì—°ê²°í•œë‹¤.\në©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¶„ë¦¬ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ ê´€ë¦¬ ìºì‹œ ê³„ì¸µ(ë©¤ìºì‹œë””, Memcached)ì´ë‚˜ ì „ë¬¸(full-text) ê²€ìƒ‰ ì„œë²„(ì—˜ë¼ìŠ¤í‹±ì„œì¹˜, ì†”ë¼)ì˜ ê²½ìš° ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë™ê¸°í™”ëœ ìºì‹œë‚˜ ìƒ‰ì¸ì„ ìœ ì§€í•˜ëŠ” ê²ƒì€ ë³´í†µ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì˜ ì±…ì„ì´ë‹¤. ì„œë¹„ìŠ¤ ì œê³µì„ ìœ„í•´ ê° ë„êµ¬ë¥¼ ê²°í•©í•  ë•Œ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤(API)ëŠ” ë³´í†µ í´ë¼ì´ì–¸íŠ¸ê°€ ëª¨ë¥´ê²Œ êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ì„ ìˆ¨ê¸´ë‹¤.\nê¸°ë³¸ì ìœ¼ë¡œ ì¢€ ë” ì‘ì€ ë²”ìš© êµ¬ì„± ìš”ì†Œë“¤ë¡œ ìƒˆë¡¬ê³  íŠ¹ìˆ˜í•œ ëª©ì ì˜ ë°ì´í„° ì‹œìŠ¤í…œì„ ë§Œë“ ë‹¤. ë³µí•© ë°ì´í„° ì‹œìŠ¤í…œ(composite data system)ì€ ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ê°€ ì¼ê´€ëœ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆê²Œë” ì“°ê¸°ì—ì„œ ìºì‹œë¥¼ ì˜¬ë°”ë¥´ê²Œ ë¬´íš¨í™”í•˜ê±°ë‚˜ ì—¡ë°ì´íŠ¸ í•˜ëŠ” ë“±ì˜ íŠ¹ì • ë³´ì¥ ê¸°ëŠ¥ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ ë°ì´í„° ì‹œìŠ¤í…œì„ ì„¤ê³„, í†µí•©í•˜ê³  ê´€ë¦¬í•´ì•¼í•˜ëŠ” ìš”ì¦˜ ê°œë°œìëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œìì¼ ë¿ ì•„ë‹ˆë¼ ë°ì´í„° ì‹œìŠ¤í…œ ì„¤ê³„ìì´ê¸°ë„ í•˜ë‹¤.\në°ì´í„° ì‹œìŠ¤í…œì´ë‚˜ ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í•  ë•Œ ê¹Œë‹¤ë¡œìš´ ë¬¸ì œê°€ ë§ì´ ìƒê¸´ë‹¤.\në‚´ë¶€ì ìœ¼ë¡œ ë¬¸ì œê°€ ìˆì–´ë„ ë°ì´í„°ë¥¼ ì •í™•í•˜ê³  ì™„ì „í•˜ê²Œ ìœ ì§€í•´ì•¼í•¨ ì‹œìŠ¤í…œì˜ ì¼ë¶€ ì„±ëŠ¥ì´ ì €í•˜ë˜ë”ë¼ë„ í´ë¼ì´ì–¸íŠ¸ì— ì¼ê´€ë˜ê²Œ ì¢‹ì€ ì„±ëŠ¥ì„ ì œê³µí•´ì•¼í•¨ ë¶€í•˜ ì¦ê°€ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ê·œëª¨ë¥¼ í™•ì¥í•  ìˆ˜ ìˆì–´ì•¼í•¨ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´ ì¢‹ì€ APIë¥¼ ì„¤ê³„í•´ì•¼í•¨ ë¿ë§Œ ì•„ë‹ˆë¼ ê´€ë ¨ìì˜ ê¸°ìˆ  ìˆ™ë ¨ë„, ê¸°ì¡´ ì‹œìŠ¤í…œì˜ ì˜ì¡´ì„±, ì „ë‹¬ ì‹œê°„ ì²™ë„, ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ìœ„í—˜ì— ëŒ€í•œ ì¡°ì§ì˜ ë‚´ì„±, ê·œì œ ì œì•½ ë“±ì€ ì‹œìŠ¤í…œ ì„¤ê³„ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆëŠ” ë§ì€ ìš”ì†Œì´ë‹¤.\nì´ëŸ° ìš”ì†ŒëŠ” ìƒí™©ì— í¬ê²Œ ì¢Œìš°ë˜ëŠ” ìš”ì†Œì´ë¯€ë¡œ ì´ ì±…ì—ì„œëŠ” ëŒ€ë¶€ë¶„ì˜ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì—ì„œ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” ì„¸ ê°€ì§€ ê´€ì‹¬ì‚¬ì— ì¤‘ì ì„ ë‘”ë‹¤.\nì‹ ë¢°ì„±(Reliability) í•˜ë“œì›¨ì–´ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ ê²°í•¨, ì¸ì  ì˜¤ë¥˜ ê°™ì€ ì—­ê²½ì— ì§ë©´í•˜ë”ë¼ë„ ì‹œìŠ¤í…œì€ ì§€ì†ì ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ë™ì‘(ì›í•˜ëŠ” ì„±ëŠ¥ ìˆ˜ì¤€ì—ì„œ ì •í™•í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰)í•´ì•¼í•œë‹¤. í™•ì¥ì„±(Scalability) ì‹œìŠ¤í…œì˜ ë°ì´í„° ì–‘, íŠ¸ë˜í”½ ì–‘, ë³µì¡ë„ê°€ ì¦ê°€í•˜ë©´ì„œ ì´ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì ì ˆí•œ ë°©ë²•ì´ ìˆì–´ì•¼ í•œë‹¤. ìœ ì§€ë³´ìˆ˜ì„±(Maintainability) ì—¬ëŸ¬ ë‹¤ì–‘í•œ ì‚¬ëŒë“¤ì´ ì‹œìŠ¤í…œ ìƒì—ì„œ ì‘ì—…í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ëª¨ë“  ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œ ìƒì—ì„œ ìƒì‚°ì ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤. ì‹ ë¢°ì„± ì†Œí”„íŠ¸ì›¨ì–´ì˜ ê²½ìš° ì‹ ë¢°ì„±ì— ëŒ€í•œ ì¼ë°˜ì ì¸ ê¸°ëŒ€ì¹˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©ìê°€ ê¸°ëŒ€í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤. ì‹œìŠ¤í…œì€ ì‚¬ìš©ìê°€ ë²”í•œ ì‹¤ìˆ˜ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ì†Œí”„íŠ¸ì›¨ì–´ ì‚¬ìš©ë²•ì„ í—ˆìš©í•  ìˆ˜ ìˆë‹¤. ì‹œìŠ¤í…œ ì„±ëŠ¥ì€ ì˜ˆìƒëœ ë¶€í•˜ì™€ ë°ì´í„° ì–‘ì—ì„œ í•„ìˆ˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì¶©ë¶„íˆ ë§Œì¡±í•œë‹¤. ì‹œìŠ¤í…œì€ í—ˆê°€ë˜ì§€ ì•Šì€ ì ‘ê·¼ê³¼ ì˜¤ë‚¨ìš©ì„ ë°©ì§€í•œë‹¤. ì´ëŸ¬í•œ ë‚´ìš©ë“¤ì´ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•¨ì„ ì˜ë¯¸í•˜ëŠ” ê²½ìš°, ëŒ€ëµ \u0026ldquo;ë¬´ì–¸ê°€ ì˜ëª» ë˜ë”ë¼ë„ ì§€ì†ì ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•¨\u0026ldquo;ì„ ì‹ ë¢°ì„±ì˜ ì˜ë¯¸ë¡œ ì´í•´í•  ìˆ˜ ìˆë‹¤.\nê²°í•¨ ì˜ëª»ë  ìˆ˜ ìˆëŠ” ì¼ì„ ê²°í•¨(fault)ì´ë¼ ë¶€ë¥¸ë‹¤.\nê·¸ë¦¬ê³  ê²°í•¨ì„ ì˜ˆì¸¡í•˜ê³  ëŒ€ì²˜í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì„ ë‚´ê²°í•¨ì„±(fault-tolerant) ë˜ëŠ” íƒ„ë ¥ì„±(resilient)ì„ ì§€ë…”ë‹¤ê³  ë§í•œë‹¤.\nëª¨ë“  ì¢…ë¥˜ì˜ ê²°í•¨ì„ ê²¬ë”œ ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì€ ì‹¤ì œë¡œ ì‹¤í˜„ ê°€ëŠ¥í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ íŠ¹ì • ìœ í˜•ì˜ ê²°í•¨ ë‚´ì„±ì— ëŒ€í•´ì„œë§Œ ì´ì•¼ê¸°í•˜ëŠ” ê²ƒì´ íƒ€ë‹¹í•˜ë‹¤.\nê²°í•¨ê³¼ ì¥ì• (failure)ëŠ” ë‹¤ë¥´ë‹¤.\nê²°í•¨ ì‚¬ì–‘ì—ì„œ ë²—ì–´ë‚œ ì‹œìŠ¤í…œì˜ í•œ êµ¬ì„± ìš”ì†Œ ì¥ì•  ì‚¬ìš©ìì—ê²Œ í•„ìš”í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ì§€ ëª»í•˜ê³  ì‹œìŠ¤í…œ ì „ì²´ê°€ ë©ˆì¶˜ ê²½ìš° ê²°í•¨ í™•ë¥ ì„ 0ìœ¼ë¡œ ì¤„ì´ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ê²°í•¨ìœ¼ë¡œ ì¸í•´ ì¥ì• ê°€ ë°œìƒí•˜ì§€ ì•Šê²Œë” ë‚´ê²°í•¨ì„± êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì´ ì±…ì—ì„œëŠ” ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ì—¬ëŸ¬ ë¶€í’ˆë“¤ë¡œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë‹¤ì–‘í•œ ê¸°ë²•ì„ ë°°ìš´ë‹¤. ì‹¤ì œ ë§ì€ ì¤‘ëŒ€í•œ ë²„ê·¸ëŠ” ë¯¸í¡í•œ ì˜¤ë¥˜ ì²˜ë¦¬ì—ì„œ ê¸°ì¸í•œë‹¤.\në‚´ê²°í•¨ì„± ì‹œìŠ¤í…œì—ì„œ ê³ ì˜ì ìœ¼ë¡œ ê²°í•¨ì„ ìœ ë„í•¨ìœ¼ë¡œì¨ ë‚´ê²°í•¨ì„± ì‹œìŠ¤í…œì„ ì§€ì†ì ìœ¼ë¡œ í›ˆë ¨í•˜ê³  í…ŒìŠ¤íŠ¸í•´ì„œ ê²°í•¨ì´ ìì—°ì ìœ¼ë¡œ ë°œìƒí–ˆì„ ë•Œ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ìì‹ ê°ì„ ë†’ì¸ë‹¤. ex) ë„·í”Œë¦­ìŠ¤ì˜ ì¹´ì˜¤ìŠ¤ ëª½í‚¤(Chaos Monkey) ì¼ë°˜ì ìœ¼ë¡œ ê²°í•¨ ì˜ˆë°©ì„ ë„˜ì–´ ë‚´ê²°í•¨ì„±ì„ ê°–ëŠ” ê²ƒì„ ì„ í˜¸í•˜ì§€ë§Œ, í•´ê²°ì±…ì´ ì—†ëŠ” ê²½ìš°ëŠ” ì˜ˆë°©ì±…ì´ í•„ìˆ˜ì ì´ë‹¤.\në³´ì•ˆ ë¬¸ì œ: ê³µê²©ìê°€ ì‹œìŠ¤í…œì„ ì†ìƒì‹œí‚¤ê³  ë¯¼ê°í•œ ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ì–»ëŠ”ë‹¤ë©´ ë˜ëŒë¦´ ìˆ˜ ì—†ë‹¤. í•˜ë“œì›¨ì–´ ê²°í•¨ ì‹œìŠ¤í…œ ì¥ì• ì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œë¡œ, ê·œëª¨ê°€ í° ë°ì´í„°ì„¼í„°ì—ì„œ ì¼í•˜ëŠ” ì‚¬ëŒì€ ë§ì€ ì¥ë¹„ë¥¼ ë‹¤ë£° ê²½ìš° ì´ ê°™ì€ ì¼ì€ ëŠ˜ìƒ ì¼ì–´ë‚œë‹¤ê³  ë§í•œë‹¤.\n10,000ê°œì˜ ë””ìŠ¤í¬ë¡œ êµ¬ì„±ëœ ì €ì¥ í´ëŸ¬ìŠ¤í„°ëŠ” í‰ê· ì ìœ¼ë¡œ í•˜ë£¨ì— í•œ ê°œì˜ ë””ìŠ¤í¬ê°€ ì£½ëŠ”ë‹¤ê³  ì˜ˆìƒí•´ì•¼í•œë‹¤. ì‹œìŠ¤í…œ ì¥ì• ìœ¨ì„ ì¤„ì´ê¸° ìœ„í•œ ëŒ€í‘œì ì¸ ë°©ë²•ì€ ê° í•˜ë“œì›¨ì–´ êµ¬ì„± ìš”ì†Œì— ì¤‘ë³µ(redundancy)ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì´ë‹¤.\nêµ¬ì„± ìš”ì†Œê°€ ì£½ìœ¼ë©´ ê³ ì¥ ë‚œ êµ¬ì„± ìš”ì†Œê°€ êµì²´ë˜ëŠ” ë™ì•ˆ ì¤‘ë³µëœ êµ¬ì„± ìš”ì†Œë¥¼ ëŒ€ì‹  ì‚¬ìš©í•œë‹¤. ì´ëŸ° ì ‘ê·¼ ë°©ì‹ì€ í•˜ë“œì›¨ì–´ ë¬¸ì œë¡œ ì¥ì• ê°€ ë°œìƒí•˜ëŠ” ê²ƒì€ ì™„ì „íˆ ë§‰ìœ¼ë£»ëŠ” ì—†ì§€ë§Œ ì´í•´í•˜ê¸° ì‰½ê³  ë³´í†µ ìˆ˜ë…„ ê°„ ì¥ë¹„ê°€ ì¤‘ë‹¨ë˜ì§€ ì•Šê³  ê³„ì† ë™ì‘í•  ìˆ˜ ìˆê²Œ í•œë‹¤.\nìµœê·¼ê¹Œì§€ ë‹¨ì¼ ì¥ë¹„ì˜ ì „ì²´ ì¥ì• ëŠ” ë§¤ìš° ë“œë¬¼ê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í•˜ë“œì›¨ì–´ êµ¬ì„± ìš”ì†Œì˜ ì¤‘ë³µìœ¼ë¡œ ì¶©ë¶„í•˜ì—¬, ë‹¤ì¤‘ ì¥ë¹„ ì¤‘ë³µì€ ê³ ê°€ìš©ì„±(high availability)ì´ ì ˆëŒ€ì ìœ¼ë¡œ í•„ìˆ˜ì ì€ ì†Œìˆ˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œë§Œ í•„ìš”í–ˆë‹¤.\nìƒˆ ì¥ë¹„ì— ë°±ì—…ì„ ë§¤ìš° ë¹ ë¥´ê²Œ ë³µì›í•  ìˆ˜ ìˆëŠ” ê²½ìš° ì¤‘ë‹¨ì‹œê°„(downtime)ì€ ëŒ€ë¶€ë¶„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¹˜ëª…ì ì´ì§€ ì•Šë‹¤. í•˜ì§€ë§Œ ë°ì´í„° ì–‘ê³¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê³„ì‚° ìš”êµ¬ê°€ ëŠ˜ì–´ë‚˜ë©´ì„œ ë” ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë§ì€ ìˆ˜ì˜ ì¥ë¹„ë¥¼ ì‚¬ìš©í•˜ê²Œ ëê³  ì´ì™€ ë¹„ë¡€í•´ í•˜ë“œì›¨ì–´ ê²°í•¨ìœ¨ë„ ì¦ê°€í–ˆë‹¤.\në”°ë¼ì„œ ì†Œí”„íŠ¸ì›¨ì–´ ë‚´ê²°í•¨ì„± ê¸°ìˆ ì„ ì‚¬ìš©í•˜ê±°ë‚˜ í•˜ë“œì›¨ì–´ ì¤‘ë³µì„±ì„ ì¶”ê°€í•´ ì „ì²´ ì¥ë¹„ì˜ ì†ì‹¤ì„ ê²¬ë”œ ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œìœ¼ë¡œ ì ì  ì˜®ê²¨ê°€ê³  ìˆìœ¼ë©°, ì´ëŸ¬í•œ ì‹œìŠ¤í…œì—ëŠ” ìš´ì˜ìƒì˜ ì¥ì ë„ ìˆë‹¤.\nì¥ë¹„ë¥¼ ì¬ë¶€íŒ… í•´ì•¼í•˜ëŠ” ê²½ìš° ë“± ì†Œí”„íŠ¸ì›¨ì–´ ì˜¤ë¥˜ ë³´í†µ í•˜ë“œì›¨ì–´ ê²°í•¨ì„ ë¬´ì‘ìœ„ì ìœ¼ê³  ì„œë¡œ ë…ë¦½ì ì´ë¼ê³  ìƒê°í•œë‹¤.\në‹¤ìˆ˜ì˜ í•˜ë“œì›¨ì–´ êµ¬ì„± ìš”ì†Œì— ë™ì‹œ ì¥ì• ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ” ë“œë¬¼ë‹¤. ë˜ ë‹¤ë¥¸ ë¶€ë¥˜ì˜ ê²°í•¨ìœ¼ë¡œ ì‹œìŠ¤í…œ ë‚´ ì²´ê³„ì  ì˜¤ë¥˜(systematic error)ëŠ” ì˜ˆìƒí•˜ê¸° ë” ì–´ë µê³  ë…¸ë“œ ê°„ ìƒê´€ê´€ê³„ ë•Œë¬¸ì— ìƒê´€ê´€ê³„ê°€ ì—†ëŠ” í•˜ë“œì›¨ì–´ ê²°í•¨ë³´ë‹¤ ì˜¤íˆë ¤ ì‹œìŠ¤í…œ ì˜¤ë¥˜ë¥¼ ë”ìš± ë§ì´ ìœ ë°œí•˜ëŠ” ê²½í–¥ì´ ìˆë‹¤.\nì˜ëª»ëœ íŠ¹ì • ì…ë ¥ì´ ìˆì„ ë•Œ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ê°€ ì£½ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë²„ê·¸ ex) ë¦¬ëˆ…ìŠ¤ ì»¤ë„ì˜ ë²„ê·¸ë¡œ ì¸í•´ ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¼ì œíˆ ë©ˆì¶°ë²„ë¦° ì›ì¸ë‹ˆ ëœ 2012ë…„ 6ì›” 30ì¼ ìœ¤ì´ˆ CPU ì‹œê°„, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ê³µê°„, ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì²˜ëŸ¼ ê³µìœ  ìì›ì„ ê³¼ë„í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ì¼ë¶€ í”„ë¡œì„¸ìŠ¤ ì‹œìŠ¤í…œì˜ ì†ë„ê°€ ëŠë ¤ì ¸ ë°˜ì‘ì´ ì—†ê±°ë‚˜ ì˜ëª»ëœ ì‘ë‹µì„ ë°˜í™˜í•˜ëŠ” ì„œë¹„ìŠ¤ í•œ êµ¬ì„± ìš”ì†Œì˜ ì‘ì€ ê²°í•¨ì´ ë‹¤ë¥¸ êµ¬ì„± ìš”ì†Œì˜ ê²°í•¨ì„ ì•¼ê¸°í•˜ê³  ì°¨ë¡€ì°¨ë¡€ ë” ë§ì€ ê²°í•¨ì´ ë°œìƒí•˜ëŠ” ì—°ì‡„ ì¥ì• (cascading failure) ì´ ê°™ì€ ì†Œí”„íŠ¸ì›¨ì–´ ê²°í•¨ì„ ìœ ë°œí•˜ëŠ” ë²„ê·¸ëŠ” íŠ¹ì • ìƒí™©ì— ì˜í•´ ë°œìƒí•˜ê¸° ì „ê¹Œì§€ ì˜¤ë«ë™ì•ˆ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ”ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ì—ëŠ” í™•ì—¬ì— ëŒ€í•œ ì¼ì¢…ì˜ ê°€ì •ì´ ìˆë‹¤ëŠ” ì‹œì‹¤ì„ ì•Œ ìˆ˜ ìˆë‹¤.(ì¼ë¶€ ì œì™¸) ìŠ¤í”„íŠ¸ì›¨ì–´ì˜ ì²´ê³„ì  ì˜¤ë¥˜ ë¬¸ì œëŠ” ì‹ ì†í•œ í•´ê²°ì±…ì´ ì—†ë‹¤.\nì‹œìŠ¤í…œì˜ ê°€ì •ê³¼ ìƒí˜¸ì‘ìš©ì— ëŒ€í•´ ì£¼ì˜ ê¹Šê²Œ ìƒê°í•˜ê¸° ë¹ˆí‹ˆì—†ëŠ” í…ŒìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤ ê²©ë¦¬(process isolation) ì£½ì€ í”„ë¡œì„¸ìŠ¤ì˜ ì¬ì‹œì‘ í—ˆìš© í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ìŠ¤ìŠ¤í…œ ë™ì‘ì˜ ì¸¡ì • ëª¨ë‹ˆí„°ë§ ë¶„ì„í•˜ê¸° ìœ„ì™€ ê°™ì€ ì—¬ëŸ¬ ì‘ì€ ì¼ë“¤ì´ ë¬¸ì œ í•´ê²°ì— ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤.\nì‹œìŠ¤í…œì´ ë¬´ë„ˆê°€ë¥¼ ë³´ì¥í•˜ê¸¸ ê¸°ëŒ€í•œë‹¤ë©´ ìˆ˜í–‰ ì¤‘ì— ì´ë¥¼ ì§€ì†ì ìœ¼ë¡œ í™•ì¸í•´ ì°¨ì´ê°€ ìƒê¸°ëŠ” ê²½ìš° ê²½ê³ ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.\nì¸ì  ì˜¤ë¥˜ ì‚¬ëŒì€ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ê³  êµ¬ì¶•í•˜ë©°, ìš´ì˜ìë¡œì„œ ì‹œìŠ¤í…œì„ ê³„ì† ìš´ì˜í•œë‹¤.\nëŒ€ê·œëª¨ ì¸í„°ë„· ì„œë¹„ìŠ¤ì— ëŒ€í•œ ì—°êµ¬ì— ë”°ë¥´ë©´ ìš´ì˜ìì˜ ì„¤ì • ì˜¤ë¥˜ê°€ ì¤‘ë‹¨ì˜ ì£¼ìš” ì›ì¸ì´ë©°, í•˜ë“œì›¨ì–´ ê²°í•¨ì€ ì¤‘ë‹¨ ì›ì¸ì˜ 10~20%ì— ê·¸ì¹œë‹¤. ë‹¤ì–‘í•œ ì ‘ê·¼ ë°©ì‹ì„ ê²°í•©í•˜ì—¬ ì‹ ë¢°ì„± ìˆëŠ” ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\nì˜¤ë¥˜ì˜ ê°€ëŠ¥ì„±ì„ ìµœì†Œí•˜ í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì‹œìŠ¤í…œì„ ì„¤ê³„ ì˜ ì„¤ê³„ëœ ì¶”ìƒí™”, API, ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©ìœ¼ë¡œ ì˜³ì€ ì¼ì€ ì‰½ê²Œ í•˜ê³ , ì˜ëª»ëœ ì¼ì€ ë§‰ëŠ”ë‹¤. ì¸í„°í˜ì´ìŠ¤ê°€ ì§€ë‚˜ì¹˜ê²Œ ì œí•œì ì´ë©´ ì œí•œëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ëŒë“¤ì€ í”¼í•´ ì‘ì—…í•˜ëŠ” ê²½í–¥ì´ ìˆì–´, ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ê²Œë” ê· í˜•ì„ ë§ì¶”ê¸° ì–´ë µë‹¤. ì‚¬ëŒì´ ê°€ì¥ ë§ì´ ì‹¤ìˆ˜í•˜ëŠ” ì¥ì†Œ(ë¶€ë¶„)ì—ì„œ ì‚¬ëŒì˜ ì‹¤ìˆ˜ë¡œ ì¥ì• ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬ ë¹„ í”„ë¡œë•ì…˜ ìƒŒë“œë°•ìŠ¤(sandbox) í™˜ê²½ ì œê³µ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¶€í„° ì „ì²´ ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸ì™€ ìˆ˜ë™ í…ŒìŠ¤íŠ¸ê¹Œì§€ ëª¨ë“  ìˆ˜ì¤€ì—ì„œ ì² ì €í•˜ê²Œ í…ŒìŠ¤íŠ¸ ì½”ë„ˆ ì¼€ì´ìŠ¤ë¥¼ ë‹¤ë£¨ëŠ” ë° ìœ ìš© ì¥ì•  ë°œìƒì˜ ì˜í–¥ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ì¸ì  ì˜¤ë¥˜ë¥¼ ë¹ ë¥´ê³  ì‰½ê²Œ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” í™˜ê²½ ì„¤ì • ë³€ê²½ ë‚´ì—­ì„ ë¹ ë¥´ê²Œ ë¡¤ë°± ìƒˆë¡œìš´ ì½”ë“œë¥¼ ì„œì„œíˆ ë¡¤í•˜ì›ƒí•˜ê²Œ êµ¬ì„±(ì˜ˆìƒì¹˜ ëª»í•œ ë²„ê·¸ê°€ ì¼ë¶€ ì‚¬ìš©ìì—ê²Œë§Œ ì˜í–¥ì´ ë¯¸ì¹˜ë„ë¡) ì´ì „ ê³„ì‚°ì´ ì˜ëª»ëœ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ ë°ì´í„° ì¬ê³„ì‚° ë„êµ¬ ì œê³µ ì„±ëŠ¥ ì§€í‘œì™€ ì˜¤ë¥˜ìœ¨ ê°™ì€ ìƒì„¸í•˜ê³  ëª…í™•í•œ ëª¨ë‹ˆí„°ë§ ëŒ€ì±… ë§ˆë ¨ ì›ê²© ì¸¡ì •(telemetry) ëª¨ë‹ˆí„°ë§ì€ ì¡°ê¸°ì— ê²½ê³  ì‹ í˜¸ë¥¼ ë³´ë‚´ì¤„ ìˆ˜ ìˆê³  íŠ¹ì • ê°€ì •ì´ë‚˜ ì œí•œì„ ë²—ì–´ë‚˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆê²Œ í•¨ ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ì§€í‘œëŠ” ë¬¸ì œë¥¼ ë¶„ì„í•˜ëŠ” ë° ë§¤ìš° ì¤‘ìš” ì¡°ì‘ êµìœ¡ê³¼ ì‹¤ìŠµì„ ì§„í–‰ ì‹ ë¢°ì„±ì€ ì–¼ë§ˆë‚˜ ì¤‘ìš”í• ê¹Œ? ì‹ ë¢°ì„±ì€ ì›ìë ¥ ë°œì „ì†Œë‚˜ í•­ê³µ êµí†µ ê´€ì œ ì†Œí”„íŠ¸ì›¨ì–´ë§Œì„ ìœ„í•œ ê²ƒì´ ì•„ë‹ˆë©°, ì¼ìƒì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ë„ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•´ì•¼í•œë‹¤.\në¹„ì¦ˆë‹ˆìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë²„ê·¸ëŠ” ìƒì‚°ì„± ì €í•˜ì˜ ì›ì¸ì´ê³  ì „ì ìƒê±°ë˜ ì‚¬ì´íŠ¸ì˜ ì¤‘ë‹¨ì€ ë§¤ì¶œì— ì†ì‹¤ì´ ë°œìƒí•˜ê³  ëª…ì„±ì— íƒ€ê²©ì„ ì¤€ë‹¤ëŠ” ë©´ì—ì„œ ë§ì€ ë¹„ìš©ì´ ë“ ë‹¤.\nì¤‘ìš”í•˜ì§€ ì•Šì€ ì• í”Œë¦¬ì¼€ì´ì…˜ë„ ì‚¬ìš©ìì— ëŒ€í•œ ì±…ì„ì´ ìˆë‹¤.\nì‚¬ì†Œí•œ ë°ì´í„°ë¼ë„ ëˆ„êµ°ê°€ì—ê²ŒëŠ” ë§¤ìš° ì†Œì¤‘í•  ìˆ˜ ìˆë‹¤. ë¹„ìš©ì„ ì¤„ì´ë ¤ ì‹ ë¢°ì„±ì„ í¬ìƒí•´ì•¼ í•˜ëŠ” ê²½ìš°, ë¹„ìš©ì„ ì¤„ì—¬í•˜ëŠ” ì‹œì ì„ ë§¤ìš° ì˜ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤.\ní™•ì¥ì„± ì‹œìŠ¤í…œì´ í˜„ì¬ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘í•œë‹¤ê³  í•´ì„œ ë¯¸ë˜ì—ë„ ì•„ì •ì ìœ¼ë¡œ ë™ì‘í•œë‹¤ëŠ” ë³´ì¥ì€ ì—†ë‹¤.\nì„±ëŠ¥ ì €í•˜ë¥¼ ìœ ë°œí•˜ëŠ” í”í•œ ì´ë‰´ ì¤‘ í•˜ë‚˜ëŠ” ë¶€í•˜ ì¦ê°€ë¡œ, í™•ì¥ì„±ì€ ì¦ê°€í•œ ë¶€í•˜ì— ëŒ€ì²˜í•˜ëŠ” ì‹œìŠ¤í…œ ëŠ¥ë ¥ì„ ì„¤ëª…í•œë‹¤.\ní™•ì¥ì„±ì„ ë…¼í•œë‹¤ëŠ” ê²ƒì€ \u0026ldquo;ì‹œìŠ¤í…œì´ íŠ¹ì • ë°©ì‹ìœ¼ë¡œ ì»¤ì§€ë©´ ì´ì— ëŒ€ì²˜í•˜ê¸° ìœ„í•œ ì„ íƒì€ ë¬´ì—‡ì¸ê°€?\u0026ldquo;ì™€ \u0026ldquo;ì¶”ê°€ ë¶€í•˜ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ê³„ì‚° ìì›ì„ ì–´ë–»ê²Œ íˆ¬ì…í• ê¹Œ?\u0026rdquo; ê°™ì€ ì§ˆë¬¸ì„ ê³ ì—¬í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\në¶€í•˜ ê¸°ìˆ í•˜ê¸° ë¬´ì—‡ë³´ë‹¤ ì‹œìŠ¤í…œì˜ í˜„ì¬ ë¶€í•˜ë¥¼ ê°„ê²°í•˜ê²Œ ê¸°ìˆ í•´ì•¼ ë¶€í•˜ ì„±ì¥ ì§ˆë¬¸ì„ ë…¼ì˜í•  ìˆ˜ ìˆë‹¤.\në¶€í•˜ëŠ” ë¶€í•˜ ë§¤ê°œë³€ìˆ˜(load parameter)ë¼ ë¶€ë¥´ëŠ” ëª‡ ê°œì˜ ìˆ«ìë¡œ ë‚´íƒ€ë‚¼ ìˆ˜ ìˆìœ¼ë©°, ê°€ì¥ ì í•©í•œ ë¶€í•˜ ë§¤ê°œë³€ìˆ˜ ì„ íƒì€ ì‹œìŠ¤í…œ ì„¤ê³„ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.\nì›¹ ì„œë²„ì˜ ì´ˆë‹¹ ìš”ì²­ ìˆ˜ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì½ê¸° ëŒ€ ì“°ê¸° ë¹„ìœ¨ ëŒ€í™”ë°©ì˜ ë™ì‹œ í™œì„± ì‚¬ìš©ì(active user) ìºì‹œ ì ì¤‘ë¥  ë“± í‰ê· ì ì¸ ê²½ìš°ê°€ ì¤‘ìš”í•  ìˆ˜ë„ ìˆê³  ì†Œìˆ˜ì˜ ê·¹ë‹¨ì ì¸ ê²½ìš°ê°€ ë³‘ëª© í˜„ìƒì˜ ìš°ë„ˆì¸ì¼ ìˆ˜ë„ ìˆë‹¤.\níŠ¸ìœ„í„° ì˜ˆì‹œ\níŠ¸ìœ„í„°ì˜ ì£¼ìš” ë‘ ê°€ì§€ ë™ì‘ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\níŠ¸ìœ— ì‘ì„± ì‚¬ìš©ìëŠ” íŒ”ë¡œì›Œì—ê²Œ ìƒˆë¡œìš´ ë©”ì‹œì§€ë¥¼ ê²Œì‹œí•  ìˆ˜ ìˆë‹¤. í‰ê·  ì´ˆë‹¹ 4.6k ìš”ì²­, í”¼í¬ì¼ ë•Œ 12k ìš”ì²­ ì´ìƒ í™ˆ íƒ€ì„ë¼ì¸ ì‚¬ìš©ìëŠ” íŒ”ë¡œìš°í•œ ì‚¬ëŒì´ ì‘ì„±í•œ íŠ¸ìœ—ì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ˆë‹¹ 300k ìš”ì²­ ë‹¨ìˆœíˆ ì´ˆë‹¹ 12,000ì“°ê¸° ì²˜ë¦¬ëŠ” ìƒë‹¹íˆ ì‰½ì§€ë§Œ, íŠ¸ìœ„í„°ì˜ í™•ì¥ì„± ë¬¸ì œëŠ” ì£¼ë¡œ íŠ¸ìœ— ì–‘ì´ ì•„ë‹Œ íŒ¬ ì•„ì›ƒ(fan-out) ë•Œë¬¸ì´ë‹¤.\nê°œë³„ ì‚¬ìš©ìëŠ” ë§ì€ ì‚¬ìš©ìë¥¼ íŒ”ë¡œìš°í•˜ê³  ë§ì€ ì‚¬ëŒì´ ê°œë³„ ì‚¬ìš©ìë¥¼ íŒ”ë¡œìš°í•œë‹¤.\níŠ¸ìœ— ì‘ì„±ì€ ê°„ë‹¨íˆ ìƒˆë¡œìš´ íŠ¸ìœ— ì „ì—­ ì»¬ë ‰ì…˜ì— ì‚½ì…. ì‚¬ìš©ìê°€ ìì‹ ì˜ í™ˆ íƒ€ì„ë¼ì¸ì„ ìš”ì²­í•˜ë©´ íŒ”ë¡œìš°í•˜ëŠ” ëª¨ë“  ì‚¬ëŒì„ ì°¾ê³ , ì´ ì‚¬ëŒë“¤ì˜ ëª¨ë“  íŠ¸ìœ—ì„ ì°¾ì•„ ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬í•´ì„œ í•©ì¹œë‹¤. 1 2 3 4 SELECT tweets.*, users.* FROM tweets JOIN users ON tweets.sender_id = users.id JOIN follows ON follows.followee_id = users.id WHERE follows.follower_id = current_user ê° ìˆ˜ì‹  ì‚¬ìš©ììš© íŠ¸ìœ— ìœ í¸í•¨ì²˜ëŸ¼ ê°œë³„ ì‚¬ìš©ìì˜ í™ˆ íƒ€ì„ë¼ì¸ ìºì‹œë¥¼ ìœ ì§€. ì‚¬ìš©ìê°€ íŠ¸ìœ—ì„ ì‘ì„±í•˜ë©´ í•´ë‹¹ ì‚¬ìš©ìë¥¼ íŒ”ì˜¤ìš°í•˜ëŠ” ì‚¬ëŒì„ ëª¨ë‘ ì°¾ê³  íŒ”ë¡œì›Œ ê°ìì˜ í™ˆ íƒ€ì„ë¼ì¸ ìºì‹œì— ìƒˆë¡œìš´ íŠ¸ìœ—ì„ ì‚½ì… í™ˆ íƒ€ì„ë¼ì¸ì˜ ì½ê¸° ìš”ì²­ì€ ìš”ì²­ ê²°ê³¼ë¥¼ ë¯¸ë¦¬ ê³„ì‚°í–ˆìœ¼ë¯€ë¡œ ë¹„ìš©ì´ ì €ë ´ íŠ¸ìœ„í„°ì˜ ì²« ë²ˆì§¸ ë²„ì „ì€ 1ì„ ì‚¬ìš©í–ˆëŠ”ë°, ì‹œìŠ¤í…œì´ í™ˆ íƒ€ì„ë¼ì¸ ì§ˆì˜ ë¶€í•˜ë¥¼ ë²„í…¨ë‚´ê¸° ìœ„í•´ ê³ êµ°ë¶„íˆ¬ í•´ì•¼í–ˆê³ , ê·¸ ê²°ê³¼ 2ë¡œ ì „í™˜í–ˆë‹¤.\ní‰ê· ì ìœ¼ë¡œ íŠ¸ìœ— ê²Œì‹œ ìš”ì²­ëŸ‰ì´ í™ˆ íƒ€ì„ë¼ì¸ ì½ê¸° ìš”ì²­ëŸ‰ì— ë¹„í•´ ìˆ˜ë°± ë°° ì ê¸° ë•Œë¬¸ì— 2ê°€ í›¨ì”¬ ì˜ ë™ì‘í•¨ ì´ ê²½ìš°ëŠ” ì“°ê¸° ì‹œì ì— ë” ë§ì€ ì¼ì„ í•˜ê³ , ì¼ê¸° ì‹œì ì— ì ì€ ì¼ì„ í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤. 2ì˜ ë¶ˆë¦¬í•œ ì ì€ íŠ¸ìœ— ì‘ì„±ì´ ë§ì€ ë¶€ê°€ ì‘ì—…ì„ í•„ìš”ë¡œ í•œë‹¤ëŠ” ì ì´ë‹¤.\ní‰ê·  íŠ¸ìœ—ì´ ì•½ 75ëª…ì˜ íŒ”ë¡œì›Œì—ê²Œ ì „ë‹¬ë˜ë¯€ë¡œ ì´ˆë‹¹ 4.6k íŠ¸ìœ—ì€ í™ˆ íƒ€ì„ë¼ì¸ ìºì‹œì— ì´ˆë‹¹ 345kê±´ì˜ ì“°ê¸° ìš”ì²­ ë°œìƒ ì¼ë¶€ ì‚¬ìš©ìëŠ” íŒ”ë¡œì›Œê°€ 3ì²œë§Œëª…ì´ ë„˜ìœ¼ë¯€ë¡œ ë‹¨ì¼ íŠ¸ìœ—ì´ í™ˆ íƒ€ì„ë¼ì¸ì— 3ì²œë§Œ ê±´ ì´ìƒì˜ ì“°ê¸° ìš”ì²­ ë°œìƒ ê°€ëŠ¥ íŠ¸ìœ„í„° ì‚¬ë¡€ì—ì„œ ì‚¬ìš©ìë‹¹ íŒ”ë¡œì›Œì˜ ë¶„í¬ëŠ” íŒ¬ ì•„ì›ƒ ë¶€í•˜ë¥¼ ê²°ì •í•˜ê¸° ë•Œë¬¸ì— í™•ì¥ì„±ì„ ë…¼ì˜í•  ë•Œ í•µì‹¬ ë¶€í•˜ ë§¤ê°œë³€ìˆ˜ê°€ ëœë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ íŠ¸ìœ„í„°ëŠ” ì ‘ê·¼ ë°©ì‹ 2ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì´ë¸Œë¦¬ë“œ í˜•ì‹ìœ¼ë¡œ ë°”ê¾¸ê³  ìˆë‹¤.\nëŒ€ë¶€ë¶„ ì‚¬ìš©ìì˜ íŠ¸ìœ—ì€ ê³„ì†í•´ì„œ ì‚¬ëŒë“¤ì´ ì‘ì„±í•  ë•Œ í™ˆ íƒ€ì„ë¼ì¸ì— í¼ì³ì§€ì§€ë§Œ ìœ ëª…ì¸ì€ íŒ¬ ì•„ì›ƒì—ì„œ ì œì™¸ëœë‹¤. ìœ ëª…ì¸ì˜ íŠ¸ìœ—ì€ ë³„ë„ë¡œ ê°€ì ¸ì™€ 1ì²˜ëŸ¼ ì½ëŠ” ì‹œì ì— ì‚¬ìš©ìì˜ í™ˆ íƒ€ì„ë¼ì¸ì— í•©ì¹œë‹¤. ì„±ëŠ¥ ê¸°ìˆ í•˜ê¸° ì¼ë‹¨ ì‹œìŠ¤í…œ ë¶€í•˜ë¥¼ ê¸°ìˆ í•˜ë©´ ë¶€í•˜ê°€ ì¦ê°€í•  ë•Œ ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€ ì¡°ì‚¬í•  ìˆ˜ ìˆë‹¤.\në¶€í•˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ê³  ì‹œìŠ¤í…œ ìì›ì€ ë³‘ê²½í•˜ì§€ ì•Šê³  ìœ ì§€í•˜ë©´ ì‹œìŠ¤í…œ ì„±ëŠ¥ì€ ì–´ë–»ê²Œ ì˜í–¥ì„ ë°›ì„ê¹Œ? ë¶€í•˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¦ê°€ì‹œì¼°ì„ ë•Œ ì„±ëŠ¥ì´ ë³€í•˜ì§€ ì•Šê³  ìœ ì§€ë˜ê¸¸ ì›í•œë‹¤ë©´ ìì›ì„ ì–¼ë§ˆë‚˜ ë§ì´ ëŠ˜ë ¤ì•¼ í• ê¹Œ? ë‘ ì§ˆë¬¸ ëª¨ë‘ ì„±ëŠ¥ ìˆ˜ì¹˜ê°€ í•„ìš”í•˜ë¯€ë¡œ ì‹œìŠ¤í…œ ì„±ëŠ¥ì— ëŒ€í•´ ê°„ë‹¨íˆ ì‚´í´ë³¸ë‹¤.\nì¼ê´„ ì²˜ë¦¬ ì‹œìŠ¤í…œ(ex. hadoop) ì²˜ë¦¬ëŸ‰(throughput, ì´ˆë‹¹ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë ˆì½”ë“œ ìˆ˜ë‚˜ ì¼ì • í¬ê¸°ì˜ ë°ì´í„° ì§‘í•©ìœ¼ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ê±¸ë¦¬ëŠ” ì „ì²´ ì‹œê°„) ì˜¨ë¼ì¸ ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤ ì‘ë‹µ ì‹œê°„(response time) í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ ë³´ë‚´ê³  ì‘ë‹µì„ ë°›ëŠ” ì‚¬ì´ì˜ ì‹œê°„ ì§€ì—° ì‹œê°„(latency)ê³¼ ì‘ë‹µ ì‹œê°„(response time)\nì‘ë‹µ ì‹œê°„ì€ í´ë¼ì´ì–¸íŠ¸ ê´€ì ì—ì„œ ë³¸ ì‹œê°„ìœ¼ë¡œ, ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì‹¤ì œ ì‹œê°„ ì™¸ì—ë„ ë„¤íŠ¸ì›Œí¬ ì§€ì—°ê³¼ í ì§€ì—°ë„ í¬í•¨í•œë‹¤.\nì§€ì—° ì‹œê°„ì€ ìš”ì²­ì´ ì²˜ë¦¬ë˜ê¸¸ ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„ìœ¼ë¡œ, ì„œë¹„ìŠ¤ë¥¼ ê¸°ë‹¤ë¦¬ë©° íœ´ì§€(latent) ìƒíƒœì¸ ì‹œê°„ì„ ë§í•œë‹¤.\nì‘ë‹µ ì‹œê°„ì€ ë§¤ë²ˆ ìš”ì²­ì— ë”°ë¼ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì—, ë‹¨ì¼ ìˆ«ìê°€ ì•„ë‹Œ ì¸¡ì • ê°€ëŠ¥í•œ ê°’ì˜ ë¶„í¬ë¡œ ìƒê°í•´ì•¼í•œë‹¤.\nëŒ€ë¶€ë¶„ì˜ ìš”ì²­ì€ ê½¤ ë¹ ë¥´ì§€ë§Œ ê°€ë” ì˜¤ë˜ ê±¸ë¦¬ëŠ” íŠ¹ì´ ê°’(outlier) ì´ ìˆëŠ”ë° ë‹¤ìŒê³¼ ê°™ì´ ì´ìœ ë¡œ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\në°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ì˜ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹˜ ë„¤íŠ¸ì›Œí¬ íŒ¨í‚· ì†ì‹¤ê³¼ TCP ì¬ì „ì†¡ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ íœ´ì§€ ë””ìŠ¤í¬ì—ì„œ ì½ê¸°ë¥¼ ê°•ì œí•˜ëŠ” í˜ì´ì§€ í´íŠ¸ ì„œë²„ ë™ì˜ ê¸°ê³„ì ì¸ ì§„ë™ ë“± ë³´ê³ ëœ ì„œë¹„ìŠ¤ í‰ê·  ì‘ë‹µ ì‹œê°„ì„ ì‚´í”¼ëŠ” ì¼ì´ ì¼ë°˜ì ì´ì§€ë§Œ, ì „í˜•ì ì¸ ì‘ë‹µ ì‹œê°„ì„ ì•Œê³  ì‹¶ë‹¤ë©´ í‰ê· ì€ ì¢‹ì€ ì§€í‘œëŠ” ì•„ë‹ˆë‹¤.\nì–¼ë§ˆë‚˜ ë§ì€ ì‚¬ìš©ìê°€ ì‹¤ì œë¡œ ì§€ì—°ì„ ê²½í—˜í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ ì¼ë°˜ì ìœ¼ë¡œ í‰ê· ë³´ë‹¤ëŠ” ë°±ë¶„ìœ„(percentile)ì„ ì‚¬ìš©í•˜ëŠ” í¸ì´ ë” ì¢‹ë‹¤.\nì¤‘ì•™ê°’(median, p50) ì‚¬ìš©ìê°€ ë³´í†µ ì–¼ë§ˆë‚˜ ì˜¤ë«ë™ì•ˆ ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ”ì§€ ì•Œê³  ì‹¶ë‹¤ë©´ ì¢‹ì€ ì§€í‘œ ìƒìœ„ ë°±ë¶„ìœ„ p95, p99, p999 ê°™ì€ ìƒìœ„ ë°±ë¶„ìœ„ë¥¼ í†µí•´íŠ¹ì´ ê°’ì´ ì–¼ë§ˆë‚˜ ì¢‹ì§€ ì•Šì€ì§€ í™•ì¸ì— ì¢‹ì€ ì§€í‘œ ê¼¬ë¦¬ ì§€ì—° ì‹œê°„(tail latency) ìœ¼ë¡œ ì•Œë ¤ì§„ ìƒìœ„ ë°±ë¶„ìœ„ ì‘ë‹µ ì‹œê°„ì€ ì„œë¹„ìŠ¤ì˜ ì‚¬ìš©ì ê²½í—˜ì— ì§ì ‘ ì˜í–¥ì„ ì£¼ê¸° ë•Œë¬¸ì— ì¤‘ìš” p9999 ê°™ì´ ìµœìƒìœ„ ë°±ë¶„ìœ„ëŠ” í†µì œí•  ìˆ˜ ì—†ëŠ” ì„ì˜ ì´ë²¤íŠ¸ì— ì‰½ê²Œ ì˜í–¥ì„ ë°›ìœ¼ë¯€ë¡œ ì‘ë‹µ ì‹œê°„ì„ ì¤„ì´ê¸°ê°€ ë§¤ìš° ì–´ë ¤ì–´ ì´ì ì´ ì¤„ì–´ë“ ë‹¤.\në°±ë¶„ìœ„ëŠ” ì„œë¹„ìŠ¤ ìˆ˜ì¤€ ëª©í‘œ(service level objective, SLO)ì™€ ì„œë¹„ìŠ¤ ìˆ˜ì¤€ í˜‘ì•½ì„œ(service level agreement, SLA)ì— ìì£¼ ì‚¬ìš©í•˜ê³  ê¸°ëŒ€ ì„±ëŠ¥ê³¼ ì„œë¹„ìŠ¤ ê°€ìš©ì„±ë¥´ ì •ì˜í•˜ëŠ” ê³„ì•½ì„œì—ë„ ìì£¼ ë“±ì¥í•œë‹¤.\nì‘ë‹µ ì‹œê°„ ì¤‘ì•™ê°’ì´ 200ë°€ë¦¬ì´ˆ ë¯¸ë§Œì´ê³  99ë¶„ìœ„ê°€ 1ì´ˆ ë¯¸ë§Œì¸ ê²½ìš° ì •ìƒ ì„œë¹„ìŠ¤ ìƒíƒœë¡œ ê°„ì£¼í•˜ë©° ì„œë¹„ìŠ¤ ì œê³µ ì‹œê°„ì€ 99.9% ì´ìƒì´ì–´ì•¼ í•œë‹¤. ì„ ë‘ ì°¨ë‹¨(head-of-line blocking)\ní ëŒ€ê¸° ì§€ì—°ì€ ë†’ì€ ë°±ë¶„ìœ„ì—ì„œ ì‘ë‹µ ì‹œê°„ì˜ ìƒë‹¹ ë¶€ë¶„ì„ ì°¨ì§€í•œë‹¤.\nì„œë²„ëŠ” ë³‘ë ¬ë¡œ ì†Œìˆ˜ì˜ ì‘ì—…ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì†Œìˆ˜ì˜ ëŠë¦° ìš”ì²­ ì²˜ë¦¬ë§Œìœ¼ë¡œ í›„ì† ìš”ì²­ ì²˜ë¦¬ê°€ ì§€ì²´ëœë‹¤. ì„œë²„ì—ì„œ í›„ì† ìš”ì²­ì´ ë¹ ë¥´ê²Œ ì²˜ë¦¬ë˜ë”ë¼ë„ ì´ì „ ìš”ì²­ì´ ì™„ë£Œë˜ê¸¸ ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„ ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ëŠ” ì „ì²´ì ìœ¼ë¡œ ì‘ë‹µ ì‹œê°„ì´ ëŠë¦¬ë‹¤ê³  ìƒê°í•˜ê²Œëœë‹¤. ì´ëŸ° ë¬¸ì œë¡œ ì¸í•´ í´ë¼ì´ì–¸íŠ¸ ìª½ ì‘ë‹µ ì‹œê°„ ì¸¡ì •ì´ ì¤‘ìš”í•˜ë‹¤.\nì‹œìŠ¤í…œì˜ í™•ì¥ì„±ì„ í…ŒìŠ¤íŠ¸í•˜ë ¤ê³  ì¸ìœ„ì ìœ¼ë¡œ ë¶€í•˜ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš° ë¶€í•˜ ìƒì„± í´ë¼ì´ì–¸íŠ¸ëŠ” ì‘ë‹µ ì‹œê°„ê³¼ ë…ë¦½ì ìœ¼ë¡œ ìš”ì²­ì„ ì§€ì†ì ìœ¼ë¡œ ë³´ë‚´ì•¼í•œë‹¤.\në‹¤ìŒ ìš”ì²­ì„ ë³´ë‚´ê¸° ì „ì— ì´ì „ ìš”ì²­ì´ ì™„ë£Œë˜ê¸¸ ê¸°ë‹¤ë¦¬ë©´ í…ŒìŠ¤íŠ¸ì—ì„œ ì¸ìœ„ì ìœ¼ë¡œ ëŒ€ê¸° ì‹œê°„ì„ ì‹¤ì œë³´ë‹¤ ë” ì§§ê²Œ ë§Œë“¤ì–´ í‰ê°€ë¥¼ ì™œê³¡í•œë‹¤. ë¶€í•˜ ëŒ€ì‘ ì ‘ê·¼ ë°©ì‹ ë¶€í•˜ ìˆ˜ì¤€ 1ë‹¨ê³„ì— ì í•©í•œ ì•„í‚¤í…ì²˜ë¡œëŠ” 10ë°°ì˜ ë¶€í•˜ë¥¼ ëŒ€ì‘í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ê¸‰ì„±ì¥í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë§¡ê³  ìˆë‹¤ë©´ ë¶€í•˜ ê·œëª¨ì˜ ìë¦¿ìˆ˜ê°€ ë°”ë€” ë•Œë§ˆë‹¤ í˜¹ì€ ê·¸ë³´ë‹¤ ìì£¼ ì•„í‚¤í…ì²˜ë¥¼ ì¬ê²€í† í•´ì•¼ í• ì§€ ëª¨ë¥¸ë‹¤.\ní™•ì¥ì„±ê³¼ ê´€ë ¨í•´ ìš©ëŸ‰ í™•ì¥(scaling up, ìˆ˜ì§ í™•ì¥) ê³¼ ê·œëª¨ í™•ì¥(scaling out, ìˆ˜í‰ í™•ì¥) êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\në‹¤ìˆ˜ì˜ ì¥ë¹„ì— ë¶€í•˜ë¥¼ ë¶„ì‚°í•˜ëŠ” ì•„í‚¤í…ì²˜ë¥¼ ë¹„ê³µìœ (shared-noting) ì•„í‚¤í…ì²˜ë¼ ë¶€ë¥´ë©°, ë‹¨ì¼ ì¥ë¹„ì—ì„œ ìˆ˜í–‰ë  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì€ ë³´í†µ ê°„ë‹¨í•˜ì§€ë§Œ ê³ ì‚¬ì–‘ ì¥ë¹„ëŠ” ë§¤ìš° ë¹„ì‹¸ê¸° ë•Œë¬¸ì— ìƒë‹¹íˆ ì§‘ì•½ëœ ì‘ì—… ë¶€í•˜ëŠ” ëŒ€ê°œ ê·œëª¨ í™•ì¥ì„ í”¼í•˜ì§€ ëª»í•œë‹¤.\ní˜„ì‹¤ì ìœ¼ë¡œ ì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ì‹¤ìš©ì ì¸ ì ‘ê·¼ ë°©ì‹ì˜ ì¡°í•©ì´ í•„ìš”í•˜ë‹¤.\nì ì ˆí•œ ì‚¬ì–‘ì˜ ì¥ë¹„ ëª‡ ëŒ€ê°€ ë‹¤ëŸ‰ì˜ ë‚®ì€ ì‚¬ì–‘ ê°€ìƒ ì¥ë¹„ë³´ë‹¤ ì—¬ì „íˆ í›¨ì”¬ ê°„ë‹¨í•˜ê³  ì €ë ´í•˜ë‹¤. ì¼ë¶€ ì‹œìŠ¤í…œì€ íƒ„ë ¥ì (elastic) ì´ë‹¤.\në¶€í•˜ ì¦ê°€ë¥¼ ê°ì§€í•˜ë©´ ì»´í“¨íŒ… ìì›ì„ ìë™ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ê·¸ë ‡ì§€ ì•Šì€ ì‹œìŠ¤í…œì€ ìˆ˜ë™ìœ¼ë¡œ í™•ì¥í•´ì•¼í•œë‹¤. íƒ„ë ¥ì ì¸ ì‹œìŠ¤í…œì€ ë¶€í•˜ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ì—†ì„ ë§Œí¼ ë†’ì€ ê²½ìš° ìœ ìš©í•˜ì§€ë§Œ, ìˆ˜ë™ìœ¼ë¡œ í™•ì¥í•˜ëŠ” ì‹œìŠ¤í…œì´ ë” ê°„ë‹¨í•˜ê³  ìš´ì˜ìƒ ì˜ˆìƒì¹˜ ëª»í•œ ì¼ì´ ë” ì ë‹¤.\në‹¤ìˆ˜ì˜ ì¥ë¹„ì— ìƒíƒœ ë¹„ì €ì•™(stateless) ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•˜ëŠ” ì¼ì€ ìƒë‹¹íˆ ê°„ë‹¨í•˜ì§€ë§Œ, ë‹¨ì¼ ë…¸ë“œì— ìƒíƒœ ìœ ì§€(stateful) ë°ì´í„° ì‹œìŠ¤í…œì„ ë¶„ì‚° ì„¤ì¹˜í•˜ëŠ” ì¼ì€ ì•„ì£¼ ë§ì€ ë³µì¡ë„ê°€ ì¶”ê°€ì ìœ¼ë¡œ ë°œìƒí•œë‹¤.\nì´ëŸ° ì´ìœ ë¡œ í™•ì¥ ë¹„ìš©ì´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë¶„ì‚°ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê³ ê°€ìš©ì„± ìš”êµ¬ê°€ ìˆì„ ë•Œ ê¹Œì§€ ë‹¨ì¼ ë…¸ë“œì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ ìµœê·¼ê¹Œì§€ì˜ í†µë…ì´ë‹¤. ë¶„ì‚° ì‹œìŠ¤í…œì„ ìœ„í•œ ë„êµ¬ì™€ ì¶”ìƒí™”ê°€ ì¢‹ì•„ì§€ë©´ì„œ ì´ í†µë…ì´ ì ì–´ë„ ì¼ë¶€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë°”ë€Œì—ˆë‹¤.\nëŒ€ìš©ëŸ‰ ë°ì´í„°ì™€ íŠ¸ë˜í”½ì„ ë‹¤ë£¨ì§€ ì•ŠëŠ” ì‚¬ìš© ì‚¬ë¡€ì—ë„ ë¶„ì‚° ë°ì´í„° ì‹œìŠ¤í…œì´ í–¥í›„ ê¸°ë³¸ ì•„í‚¤í…ì²˜ë¡œ ìë¦¬ ì¡ì„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ëŒ€ê°œ ëŒ€ê·œëª¨ë¡œ ë™ì‘í•˜ëŠ” ì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ëŠ” í•´ë‹¹ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ë¼ ìˆë‹¤.\në²”ìš©ì ìœ¼ë¡œ ëª¨ë“  ìƒí™©ì— ë§ëŠ” í™•ì¥ ì•„í‚¤í…ì²˜ëŠ” ì—†ë‹¤. ì•„í‚¤í…ì²˜ë¥¼ ê²°ì •í•˜ëŠ” ìš”ì†ŒëŠ” ì½ê¸°ì˜ ì–‘, ì“°ê¸°ì˜ ì–‘, ì €ì¥í•  ë°ì´í„°ì˜ ì–‘, ë°ì´í„°ì˜ ë³µì¡ë„, ì‘ë‹µ ì‹œê°„ ìš”êµ¬ì‚¬í•­, ì ‘ê·¼ íŒ¨í„´ ë“±ì´ ìˆë‹¤.\níŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•œ í™•ì¥ì„±ì„ ê°–ì¶˜ ì•„í‚¤í…ì²˜ëŠ” ì£¼ìš” ë™ì‘ì´ ë¬´ì—‡ì´ê³  ì˜ í•˜ì§€ ì•ŠëŠ” ë™ì‘ì´ ë¬´ì—‡ì¸ì§€ì— ëŒ€í•œ ê°€ì •ì„ ë°”íƒ•ìœ¼ë¡œ êµ¬ì¶•í•œë‹¤.\nì´ ê°€ì •ì€ ê³§ ë¶€í•˜ ë§¤ê°œë³€ìˆ˜ê°€ ë˜ë©°, ì´ ê°€ì •ì´ ì˜ëª»ë˜ë©´ í™•ì¥ì— ëŒ€í•œ ì—”ì§€ë‹ˆì–´ë§ ë…¸ë ¥ì€ í—›ìˆ˜ê³ ê°€ ë˜ê³  ìµœì•…ì˜ ê²½ìš° ì—­íš¨ê³¼ë¥¼ ë‚³ì„ ìˆ˜ ìˆë‹¤. ìŠ¤íƒ€íŠ¸ì—… ì´ˆê¸° ë‹¨ê³„ë‚˜ ê²€ì¦ë˜ì§€ ì•Šì€ ì œí’ˆì˜ ê²½ìš° ë¯¸ë˜ë¥¼ ê°€ì •í•œ ë¶€í•˜ì— ëŒ€ë¹„í•´ í™•ì¥í•˜ê¸°ë³´ë‹¤ëŠ” ë¹ ë¥´ê²Œ ë°˜ë³µí•´ì„œ ì œí’ˆ ê¸°ëŠ¥ì„ ê°œì„ í•˜ëŠ” ì‘ì—…ì´ ì¢€ ë” ì¤‘ìš”í•˜ë‹¤.\ní™•ì¥ì„±ì„ ê°–ì¶˜ ì•„í‚¤í…ì²˜ê°€ íŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëì„ ì§€ë¼ë„ ì¼ë„ˆ ì•„í‚¤í…ì²˜ëŠ” ë³´í†µ ìµìˆ™í•œ íŒ¨í„´ìœ¼ë¡œ ë‚˜ì—´ëœ ë²”ìš©ì ì¸ êµ¬ì„± ìš”ì†Œë¡œ êµ¬ì¶•í•œë‹¤. ìœ ì§€ë³´ìˆ˜ì„± ì†Œí”„íŠ¸ì›¨ì–´ ë¹„ìš©ì˜ ëŒ€ë¶€ë¶„ì€ ì§€ì†í•´ì„œ ì´ì–´ì§€ëŠ” ìœ ì§€ë³´ìˆ˜ì— ë“¤ì–´ê°„ë‹¤.\në²„ê·¸ ìˆ˜ì •, ì‹œìŠ¤í…œ ìš´ì˜ ìœ ì§€, ì¥ì•  ì¡°ì‚¬, ì‹œë¡œìš´ í”Œë«í¼ ì ìš©, ìƒˆ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ìœ„í•œ ë³€ê²½, ê¸°ìˆ  ì±„ë¬´ ìƒí™˜, ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ë“± ëª¨ë“  ë ˆê±°ì‹œ ì‹œìŠ¤í…œì€ ê°ì ë‚˜ë¦„ì— í’€í¸í•¨ì´ ìˆì–´ ì´ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ì¼ë°˜ì ìœ¼ë¡œ ì¶”ì²œí•  ë§Œí•œ ë°©ë²•ì„ ì œì‹œí•˜ëŠ” ì¼ì€ ë§¤ìš° ì–´ë µë‹¤.\ní•˜ì§€ë§Œ í¬ë§ì ì¸ ì ì€ ìœ ì§€ë³´ìˆ˜ ì¤‘ ê³ í†µì„ ìµœì†Œí™”í•˜ê³  ë ˆê±°ì‹œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì§ì ‘ ë§Œë“¤ì§€ ì•Šê²Œë” ì†Œí”„íˆ¬ì›¨ì–´ë¥¼ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.\nê·¸ëŸ¬ê¸° ìœ„í•´ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•  ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œ ì„¤ê³„ ì›ì¹™ì€ ë‹¤ìŒ ì„¸ ê°€ì§€ì´ë‹¤.\nìš´ìš©ì„±(operability) ìš´ì˜íŒ€ì´ ì‹œìŠ¤í…œì„ ì›í™œí•˜ê²Œ ìš´ì˜í•  ìˆ˜ ìˆê²Œ ì‰½ê²Œ ë§Œë“¤ì–´ë¼ ë‹¨ìˆœì„±(simplicity) ì‹œìŠ¤í…œì—ì„œ ë³µì¡ë„ë¥¼ ìµœëŒ€í•œ ì œê±°í•´ ìƒˆë¡œìš´ ì—”ì§€ë‹ˆì–´ê°€ ì‹œìŠ¤í…œì„ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ë¼ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì˜ ë‹¨ìˆœì„±ê³¼ëŠ” ë‹¤ë¥´ë‹¤. ë°œì „ì„±(evolvability) ì—”ì§€ë‹ˆì–´ê°€ ì´í›„ì— ì‹œìŠ¤í…œì„ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•˜ë¼. ìš”êµ¬ì‚¬í•­ ë³€ê²½ ê°™ì€ ì˜ˆê¸°ì¹˜ ì•Šì€ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì ìš©í•˜ê¸° ì‰½ë‹¤. ìœ ì—°ì„±, ìˆ˜ì • ê°€ëŠ¥ì„±, ì ì‘ì„±ìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆë‹¤. ì‹ ë¢°ì„±, í™•ì¥ì„±ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•œ ì‰¬ìš´ í•´ê²°ì±…ì€ ì—†ìœ¼ë¯€ë¡œ, ìš´ìš©ì„±, ë‹¨ìˆœì„±, ë°œì „ì„±ì„ ì—¼ë‘ì— ë‘ê³  ì‹œìŠ¤í…œì„ ìƒê°í•˜ë ¤ ë…¸ë ¥í•´ì•¼í•œë‹¤.\nìš´ìš©ì„±: ìš´ì˜ì˜ í¸ë¦¬í•¨ ë§Œë“¤ê¸° ì¢‹ì€ ìš´ì˜ì€ ì¢…ì¢… ë‚˜ìœ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ì œì•½ì„ í”¼í•˜ëŠ” ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ë¼ë„ ë‚˜ì˜ê²Œ ìš´ì˜í•  ê²½ìš° ì‘ë™ì„ ì‹ ë¢°í•  ìˆ˜ ì—†ë‹¤ëŠ” ë§ì´ ìˆë‹¤.\nìš´ì˜ ì¤‘ ì¼ë¶€ ì¸¡ë©´ì€ ìë™í™”í•  ìˆ˜ ìˆê³  ë˜ ìë™í™” í•´ì•¼í•œë‹¤. ìë™í™”ë¥¼ ì²˜ìŒ ì„¤ì •í•˜ê³  ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì¼ì€ ì—¬ì „íˆ ì‚¬ëŒì˜ ëª«ì´ë‹¤. ì‹œìŠ¤í…œì´ ì§€ì†í•´ì„œ ì›í• í•˜ê²Œ ì‘ë™í•˜ë ¤ë©´ ìš´ì˜íŒ€ì´ í•„ìˆ˜ì´ë©°, ì¢‹ì€ ìš´ì˜íŒ€ì€ ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—… ë“±ì„ ì±…ì„ì§„ë‹¤.\nì‹œìŠ¤í…œ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ê³  ìƒíƒœê°€ ì¢‹ì§€ ì•Šë‹¤ë©´ ë¹ ë¥´ê²Œ ì„œë¹„ìŠ¤ë¥¼ ë³µì› ì‹œìŠ¤í…œ ì¥ì• , ì„±ëŠ¥ ì €í•˜ ë“±ì˜ ë¬¸ì œì˜ ì›ì¸ì„ ì¶”ì  ë³´ì•ˆ íŒ¨ì¹˜ë¥¼ í¬í•¨í•´ ì†Œí”„íŠ¸ì›¨ì–´ì™€ í”Œë«í¼ì„ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€ ë‹¤ë¥¸ ì‹œìŠ¤í…œì´ ì„œë¡œ ì–´ë–»ê²Œ ì˜í–¥ì„ ì£¼ëŠ”ì§€ í™•ì¸í•´ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë³€ê²½ ì‚¬í•˜ì‘ã„¹ ì†ìƒì„ ì…íˆê¸° ì „ì— ì°¨ë‹¨ ë¯¸ë˜ì— ë°œìƒ ê°€ëŠ¥í•œ ë¬¸ì œë¥¼ ì˜ˆì¸¡í•´ ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ì „ì— í•´ê²°(ex. ìš©ëŸ‰ ê³„íš ë“±) ë°°í¬, ì„¤ì • ê´€ë¦¬ ë“±ì„ ìœ„í•œ ëª¨ë²” ì‚¬ë¡€ì™€ ë„êµ¬ë¥¼ ë§ˆë ¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ íŠ¹ì • í”Œë«í¼ì—ì„œ ë‹¤ë¥¸ í”Œë«í¼ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë“± ë³µì¡í•œ ìœ ì§€ë³´ìŠ¤ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰ ì„¤ì • ë³€ê²½ìœ¼ë¡œ ìƒê¸°ëŠ” ì‹œìŠ¤í…œ ë³´ì•ˆ ìœ ì§€ë³´ìˆ˜ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìš´ì˜ê³¼ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ í™˜ê²½ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ì ˆì°¨ ì •ì˜ ê°œì¸ ì¸ì‚¬ ì´ë™ì—ë„ ì‹œìŠ¤í…œì— ëŒ€í•œ ì¡°ì§ì˜ ì§€ì‹ì„ ë³´ì¡´ ì¢‹ì€ ìš´ì˜ì„±ì´ë€ ë™ì¼í•˜ê²Œ ë°˜ë³µë˜ëŠ” íƒœìŠ¤í¬ë¥¼ ì‰½ê²Œ ìˆ˜í–‰í•˜ê²Œë” ë§Œë“¤ì–´ ìš´ì˜íŒ€ì´ ê³ ë¶€ê°€ê°€ì¹˜ í™œë„ì— ë…¸ë ¥ì„ ì§‘ì¤‘í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\nì¢‹ì€ ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ëŸ°íƒ€ì„ ë™ì‘ê³¼ ì‹œìŠ¤í…œì˜ ë‚´ë¶€ì— ëŒ€í•œ ê°€ì‹œì„± ì œê³µ í‘œì¤€ ë„êµ¬ë¥¼ ì´ìš©í•´ ìë™í™”ì™€ í†µí•©ì„ ìœ„í•œ ìš°ìˆ˜í•œ ìì›ì„ ì œê³µ ê°œë³„ ì¥ë¹„ ì˜ì¡´ì„±ì„ íšŒí”¼. ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•´ ì¥ë¹„ë¥¼ ë‚´ë¦¬ë”ë¼ë„ ì‹œìŠ¤í…œ ì „ì²´ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ê³„ì†í•´ì„œ ìš´ì˜ ê°€ëŠ¥í•´ì•¼í•¨ ì¢‹ì€ ë¬¸ì„œì™€ ì´í•´í•˜ê¸° ì‰¬ìš´ ìš´ì˜ ëª¨ë¸(ex. Xë¥¼ í•˜ë©´ Yê°€ ë°œìƒí•œë‹¤.) ì œê³µ ë§Œì¡±í•  ë§Œí•œ ê¸°ë³¸ ë™ì‘ì„ ì œê³µí•˜ê³ , í•„ìš”í•  ë•Œ ê¸°ë³¸ê°’ì„ ë‹¤ì‹œ ì •ì˜í•  ìˆ˜ ìˆëŠ” ììœ ë¥¼ ê´€ë¦¬ìì—ê²Œ ë¶€ì—¬ ì ì ˆí•˜ê²Œ ìê¸° íšŒë³µì´ ê°€ëŠ¥í•  ë¿ ì•„ë‹ˆë¼ í•„ìš”ì— ë”°ë¼ ê´€ë¦¬ìê°€ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆê²Œ í•¨ ì—ì¸¡ ê°€ëŠ¥í•˜ê²Œ ë™ì‘í•˜ê³  ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí™©ì„ ìµœì†Œí™”í•¨ ë‹¨ìˆœì„±: ë³µì¡ë„ ê´€ë¦¬ í”„ë¡œì íŠ¸ê°€ ì»¤ì§ì— ë”°ë¼ ì‹œìŠ¤í…œì€ ë§¤ìš° ë³µì¡í•˜ê³  ì´í•´í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤.\në³µì¡ë„ëŠ” ê°™ì€ ì‹œìŠ¤í…œì—ì„œ ì‘ì—…í•´ì•¼ í•˜ëŠ” ëª¨ë“  ì‚¬ëŒì˜ ì§„í–‰ì„ ëŠë¦¬ê²Œ í•˜ê³  ë‚˜ì•„ê°€ ìœ ì§€ ë³´ìˆ˜ ë¹„ìš©ì´ ì¦ê°€í•œë‹¤.\nì»¤ë‹¤ë€ ì§„í™ ë©ì–´ë¦¬(big ball of mud)ë¡œ ë¬˜ì‚¬í•œë‹¤. ë³µì¡ë„ëŠ” ë‹¤ì–‘í•œ ì¦ìƒìœ¼ë¡œ ë‚˜íƒ€ë‚œë‹¤.\nìƒíƒœ ê³µê°„ì˜ ê¸‰ì¦ ëª¨ë“ˆ ê°„ ê°•í•œ ì»¤í”Œë§(tight coupling) ë³µì¡í•œ ì˜ì¡´ì„± ì¼ê´€ì„± ì—†ëŠ” ëª…ëª…ê³¼ ìš©ì–´ ì„±ëŠ¥ ë¬¸ì œ í•´ê²°ì„ ëª©í‘œë¡œ í•œ í•´í‚¹ ì„ì‹œë°©í¸ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•œ íŠ¹ìˆ˜ ì‚¬ë¡€ ë“± ë³µì¡ë„ê°€ ë†’ì•„ ì‹œìŠ¤í…œ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ìš¸ ë•Œ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œë“¤ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì˜ˆì‚°ê³¼ ì¼ì •ì´ ì´ˆê³¼ ë³€ê²½ì´ ìˆì„ ë•Œ ë²„ê·¸ê°€ ìƒê¸¸ ìœ„í—˜ì´ ë” í¼ ê°œë°œìê°€ ì‹œìŠ¤í…œì„ ì´í•´í•˜ê³  ì¶”ë¡ í•˜ê¸° ì–´ë ¤ì›Œì§€ë©´ì„œ ì‹œìŠ¤í…œì— ìˆ¨ê²¨ì§„ ê°€ì •ê³¼ ì˜ë„ì¹˜ì•Šì€ ê²°ê³¼ ë° ì˜ˆê¸°ì¹˜ ì•Šì€ ìƒí˜¸ì‘ìš©ì„ ê°„ê³¼í•˜ê¸° ì‰¬ì›€ ë°˜ëŒ€ë¡œ ë³µì¡ë„ë¥¼ ì¤„ì´ë©´ ì†Œí”„íŠ¸ì›¨ì–´ ìœ ì§€ë³´ìˆ˜ì„±ì´ í¬ê²Œ í–¥ìƒë˜ë¯€ë¡œ, ë‹¨ìˆœì„±ì´ êµ¬ì¶•í•˜ë ¤ëŠ” ì‹œìŠ¤í…œì˜ í•µì‹¬ ëª©í‘œì—¬ì•¼ í•œë‹¤.\nì‹œìŠ¤í…œì„ ë‹¨ìˆœí•˜ê²Œ ë§Œë“œëŠ” ì¼ì€ ë‹¨ìˆœíˆ ê¸°ëŠ¥ì„ ì¤„ì¸ë‹¤ëŠ” ì˜ë¯¸ëŠ” ì•„ë‹ˆë©°, ìš°ë°œì  ë³µì¡ë„(accidental complexity) ë¥¼ ì¤„ì¸ë‹¤ëŠ” ëœ»ì— ë” ê°€ê¹ë‹¤.\nìš°ë°œì  ë³µì¡ë„: ì†Œí”„íŠ¸ì›¨ì–´ê°€ í’€ì–´ì•¼ í•  (ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ”) ë¬¸ì œì— ë‚´ì¬í•˜ê³  ìˆì§€ ì•Šê³  êµ¬í˜„ì—ì„œë§Œ ë°œìƒí•˜ëŠ” ê²ƒ ìš°ë°œì  ë³µì¡ë„ë¥¼ ì œê±°í•˜ê¸° ìœ„í•œ ìµœìƒì˜ ë„êµ¬ëŠ” ì¶”ìƒí™”ì´ë‹¤.\nê¹”ë”í•˜ê³  ì§ê´€ì ì¸ ì™¸ê´€ ì•„ë˜ë¡œ ë§ì€ ì„¸ë¶€ êµ¬í˜„ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤. ì¢‹ì€ ì¶”ìƒí™”ëŠ” ë‹¤ë¥¸ ë‹¤ì–‘í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\nì´ëŸ¬í•œ ì¬ì‚¬ìš©ì€ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ ì—¬ëŸ¬ ë²ˆ ì¬êµ¬í˜„ í•˜ëŠ” ê²ƒë³´ë‹¤ ë” íš¨ìœ¨ì ì¼ ë¿ë§Œ ì•„ë‹ˆë¼ ì¶”ìƒí™”ëœ êµ¬ì„± ìš”ì†Œì˜ í’ˆì§ˆ í–¥ìƒì´ ì´ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë„ì›€ì„ ì£¼ë¯€ë¡œ ê³ í’ˆì§ˆ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ì´ì–´ì§„ë‹¤.\ní•˜ì§€ë§Œ ì¢‹ì€ ì¶”ìƒí™”ë¥¼ ì°¾ê¸°ëŠ” ë§¤ìš° ì–´ë µë‹¤.\në¶„ì‚° ì‹œìŠ¤í…œ ë¶„ì•¼ì—ì„œëŠ” ì—¬ëŸ¬ ì¢‹ì€ ì•Œê³ ë¦¬ì¦˜ì´ ìˆì§€ë§Œ ê´€ë¦¬ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì—ì„œ ì‹œìŠ¤í…œ ë³µì¡ë„ë¥¼ ìœ ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ì¶”ìƒí™”ë¡œ ì´ëŸ° ì•Œê³ ë¦¬ì¦˜ì„ ë¬¶ëŠ” ë°©ë²•ì€ ëª…í™•í•˜ì§€ ì•Šë‹¤.\në°œì „ì„±: ë³€í™”ë¥¼ ì‰½ê²Œ ë§Œë“¤ê¸° ì‹œìŠ¤í…œì˜ ìš”êµ¬ì‚¬í•­ì´ ëŠì„ì—†ì´ ë³€í•  ê°€ëŠ¥ì„±ì´ í¬ë‹¤.\nìƒˆë¡œìš´ ì‚¬ì‹¤ì„ ë°°ì›€ ë¯¸ì²˜ ì˜ˆê¸°ì¹˜ ì•Šì€ ì‚¬ìš© ì‚¬ë¡€ ë°œê²¬ ë¹„ì¦ˆë‹ˆìŠ¤ ìš°ì„ ìˆœìœ„ ë³€ê²½ ì‚¬ìš©ìì˜ ìƒˆë¡œìš´ ë‹ˆì¦ˆ ìƒˆë¡œìš´ í”Œë«í¼ ë“±ì¥ ë²•ì  ë˜ëŠ” ê·œì œ ìš”êµ¬ì‚¬í•­ ë³€ê²½ ì‹œìŠ¤í…œì˜ ì„±ì¥ìœ¼ë¡œ ì¸í•œ ì•„í‚¤í…ì²˜ ë³€í™” ì¡°ì§ í”„ë¡œì„¸ìŠ¤ ì¸¡ë©´ì—ì„œ ì• ìì¼ ì‘ì—… íŒ¨í„´ì€ ë³€í™”ì— ì ì‘í•˜ê¸° ìœ„í•œ í”„ë ˆì„ì›Œí¬ë¥¼ ì œê³µí•œë‹¤. ë˜í•œ ì• ìì¼ ì»¤ë®¤ë‹ˆí‹°ëŠ” TDD, ë¦¬íŒ©í† ë§ ê°™ì´ ìì£¼ ë³€í™”í•˜ëŠ” í™˜ê²½ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê°œë°œí•  ë•Œ ë„ì›€ì´ ë˜ëŠ” ê¸°ìˆ  ë„êµ¬ì™€ íŒ¨í„´ì„ ê°œë°œí•˜ê³  ìˆë‹¤.\nì• ìì¼ ê¸°ë²•ì— ëŒ€í•œ ì„¤ëª…ì€ ëŒ€ë¶€ë¶„ ë§¤ìš° ì‘ê³ , ë¡œì»¬ ê·œëª¨(ë™ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ ì†ŒìŠ¤ì½”ë“œ íŒŒì¼ì´ ëª‡ ê°œë°˜ ìˆìŒ)ì— ì´ˆì ì„ ë§ì¶”ê³  ìˆëŠ”ë°, ì´ ì±…ì—ì„œëŠ” ë‹¤ì–‘í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ë‹¤ë¥¸ íŠ¹ì„±ì„ ê°€ì§„ ì„œë¹„ìŠ¤ë¡œ êµ¬ì„±ëœ ëŒ€ê·œëª¨ ë°ì´í„° ì‹œìŠ¤í…œ ìˆ˜ì¤€ì—ì„œ ë¯¼ì²©ì„±ì„ ë†’ì´ëŠ” ë°©ë²•ì„ ì°¾ëŠ”ë‹¤.\në°ì´í„° ì‹œìŠ¤í…œ ë³€ê²½ì„ ì‰½ê²Œ í•˜ê³  ë³€í™”ëœ ìš”êµ¬ì‚¬í•­ì— ì‹œìŠ¤í…œì„ ë§ì¶”ëŠ” ë°©ë²•ì€ ì‹œìŠ¤í…œì˜ ê°„ë‹¨í•¨ê³¼ ì¶”ìƒí™”ì™€ ë°€ì ‘í•œ ê´€ë ¨ì´ ìˆë‹¤.\nê°„ë‹¨í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ ì‹œìŠ¤í…œì€ ëŒ€ê°œ ë³µì¡í•œ ì‹œìŠ¤í…œë³´ë‹¤ ìˆ˜ì •í•˜ê¸° ì‰½ë‹¤. ë°ì´í„° ì‹œìŠ¤í…œ ìˆ˜ì¤€ì—ì„œ ë¯¼ì²©ì„±ì„ ì–¸ê¸‰í•  ë•ŒëŠ” ë°œì „ì„± ì‚¬ìš©í•œë‹¤. ì •ë¦¬ ì´ë²ˆ ì¥ì—ì„œëŠ” ë°ì´í„° ì¤‘ì‹¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒê°í•˜ëŠ” ê¸°ë³¸ì ì¸ ë°©ë²• ëª‡ ê°€ì§€ë¥¼ ì‚´í´ë´¤ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìœ ìš©í•˜ë ¤ë©´ ë‹¤ì–‘í•œ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±ì‹œì¼œì•¼ í•œë‹¤.\nê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­ ì—¬ëŸ¬ ë°©ë²•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì¡°íšŒí•˜ê³  ê²€ìƒ‰í•˜ê³  ì²˜ë¦¬í•˜ê²Œë” í—ˆìš©í•˜ëŠ” ì‘ì—…ê³¼ ê°™ì´ í•´ì•¼í•˜ëŠ” ì¼ ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­ ë³´ì•ˆ, ì‹ ë¢°ì„±, ë²•ê·œ ì¤€ìˆ˜, í™•ì¥ì„±, í˜¸í™˜ì„±, ìœ ì§€ë³´ìˆ˜ì„±ê³¼ ê°™ì€ ì¼ë°˜ ì†ì„± ì´ë²ˆ ì¥ì—ì„œëŠ” ì‹ ë¢°ì„±, í™•ì¥ì„±, ìœ ì§€ë³´ìˆ˜ì„±ì„ ìì„¸íˆ ì‚´íˆë‹¤.\nì‹ ë¢°ì„± ê²°í•¨ì´ ë°œìƒí•´ë„ ì‹œìŠ¤í…œì´ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ê²Œ ë§Œë“ ë‹¤ëŠ” ì˜ë¯¸ ê²°í•¨ì€ í•˜ë“œì›¨ì–´ì™€ ì†Œí”„íŠ¸ì›¨ì–´ ë²„ê·¸ì™€ ì‚¬ëŒì—ê²Œ ìˆì„ ìˆ˜ ìˆìŒ ë‚´ê²°í•¨ì„± ê¸°ìˆ ì€ ìµœì¢… ì‚¬ìš©ìì—ê²Œ íŠ¹ì • ìœ í˜•ì˜ ê²°í•¨ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. í™•ì¥ì„± ë¶€í•˜ê°€ ì¦ê°€í•´ë„ ì¢‹ì€ ì„±ëŠ¥ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ì „ëµ í™•ì¥ì„±ì„ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì–‘ì ìœ¼ë¡œ ë¶€í•˜ì™€ ì„±ëŠ¥ì„ ì„¤ëª…í•˜ëŠ” ë°©ë²•ì´ í•„ìš”í•¨ í™•ì¥ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì—ì„œëŠ” ë¶€í•˜ê°€ ë†’ì€ ìƒíƒœì—ì„œ ì‹ ë¢°ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì²˜ë¦¬ ìš©ëŸ‰ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŒ ìœ ì§€ë³´ìˆ˜ì„± ë³¸ì§ˆì€ ì‹œìŠ¤í…œì—ì„œ ì‘ì—…í•˜ëŠ” ì—”ì§€ë‹ˆì–´ì™€ ìš´ì˜ íŒ€ì˜ ì‚¶ì„ ê°œì„ í•˜ëŠ” ë° ìˆìŒ ì¢‹ì€ ì¶”ìƒí™”ëŠ” ë³µì¡ë„ë¥¼ ì¤„ì´ê³  ì‰½ê²Œ ì‹œìŠ¤í…œì„ ë³€ê²½í•  ìˆ˜ ìˆê²Œí•˜ë©° ìƒˆë¡œìš´ ì‚¬ìš© ì‚¬ë¡€ì— ì ìš©í•˜ëŠ” ë° ë„ì›€ì´ë¨ ì¢‹ì€ ìš´ìš©ì„±ì´ë€ ì‹œìŠ¤í…œì˜ ê±´ê°• ìƒíƒœë¥¼ ì˜ ê´€ì°°í•  ìˆ˜ ìˆê³  ì‹œìŠ¤í…œì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë³´ìœ í•œë‹¤ëŠ” ì˜ë¯¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹ ë¢°í•  ìˆ˜ ìˆê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ê°„ë‹¨í•œ í•´ê²°ì±…ì€ ì—†ë‹¤.\ní•˜ì§€ë§Œ ì—¬ëŸ¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê³„ì† ì¬í˜„ë˜ëŠ” íŠ¹ì • íŒ¨í„´ê³¼ ê¸°ìˆ ì´ ìˆìœ¼ë©°, ë°ì´í„° ì‹œìŠ¤í…œ ëª‡ ê°€ì§€ë¥¼ ì˜ˆì œë¡œ ì‚´í´ë³´ê³  ì´ëŸ° ëª©í‘œë¥¼ í–¥í•´ ë°ì´í„° ì‹œìŠ¤í…œì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ë¶„ì„í•œë‹¤.\n","date":"2025-01-02T13:54:49+09:00","image":"https://codemario318.github.io/post/designing-data-intensive-application/1/cover_hu03451f961cb1218aaf8d95eea6944999_534781_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/designing-data-intensive-application/1/","title":"1. ì‹ ë¢°í•  ìˆ˜ ìˆê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì–´í”Œë¦¬ì¼€ì´ì…˜"},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” ì˜¨ë¼ì¸ ì¦ê¶Œ ê±°ë˜ ì‹œìŠ¤í…œì„ ì„¤ê³„í•´ë³¸ë‹¤.\nê±°ë˜ì†Œì˜ ê¸°ë³¸ ê¸°ëŠ¥ì€ êµ¬ë§¤ìì™€ íŒë§¤ìê°€ íš¨ìœ¨ì ìœ¼ë¡œ ì—°ê²°ë  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ê²ƒì´ë‹¤.\nì»´í“¨í„°ê°€ ì´ ì—°ê²° ê³¼ì •ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ë©´ì„œ, ê±°ë˜ ì§€í˜•ì„ í¬ê²Œ ë³€í™”ì‹œì¼°ê³ , ì˜¨ë¼ì¸ì—ì„œ ì „ìì ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ê±°ë˜ëŸ‰ì€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•˜ê³  ìˆë‹¤.\nì¦ê¶Œ ê±°ë˜ì†Œì—ëŠ” ë‰´ìš• ì¦ê¶Œ ê±°ë˜ì†Œ(NYSE)ë‚˜ ë‚˜ìŠ¤ë‹¥ ì™¸ì—ë„ ì—¬ëŸ¬ ìœ í˜•ì˜ ê±°ë˜ì†Œê°€ ìˆë‹¤.\nê¸ˆìœµ ì‚°ì—…ì˜ ìˆ˜ì§ì  ì„¸ë¶„í™”ì— ì´ˆì ì„ ë§ì¶”ê³  ê¸°ìˆ ì  ì¸¡ë©´ì„ ê°•ì¡°í•˜ëŠ” ìœ í˜• ê³µì •ì„±ì— ì¤‘ì ì„ ë‘ëŠ” ìœ í˜• ë”°ë¼ì„œ ë©´ì ‘ê´€ì—ê²Œ ì§ˆë¬¸ì„ ë˜ì ¸ ê±°ë˜ì†Œ ê·œëª¨ ë“± ì¤‘ìš” íŠ¹ì§•ì„ ë¨¼ì € í™•ì¸í•´ì•¼í•œë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • í˜„ëŒ€ì ì€ ì¦ê¶Œ ê±°ë˜ì†ŒëŠ” ì§€ì—°ì‹œê°„, ì²˜ë¦¬ëŸ‰, ì•ˆì •ì„±ì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ì´ ì—„ê²©í•œ ì•„ì£¼ ë³µì¡í•œ ì‹œìŠ¤í…œì´ë‹¤.\nê°„ë‹¨í•˜ê²Œ ì£¼ì‹ë§Œ ê±°ë˜ ìƒˆ ì£¼ë¬¸ì„ ë„£ì„ ìˆ˜ ìˆìŒ ì²´ê²°ë˜ì§€ ì•Šì€ ì£¼ë¬¸ì€ ì·¨ì†Œí•  ìˆ˜ë„ ìˆìŒ ì£¼ë¬¸ ìœ í˜•ì€ ì§€ì •ê°€ ì£¼ë¬¸ë§Œ ê°€ëŠ¥ ì‹œê°  ì™¸ ê±°ë˜ ì§€ì› ì•ˆí•¨ ìƒˆë¡œìš´ ì§€ì •ê°€ ì£¼ë¬¸ ì ‘ìˆ˜ ê¸°ì¡´ ì£¼ë¬¸ ì·¨ì†Œ ì£¼ë¬¸ì´ ì²´ê²°ëœ ê²½ìš° ì‹¤ì‹œê°„ìœ¼ë¡œ ê·¸ ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆì–´ì•¼í•¨ í˜¸ê°€ì°½(ë§¤ìˆ˜ ë° ë§¤ë„ ì£¼ë¬¸ ëª©ë¡ í‘œì‹œ) ìµœì†Œ ìˆ˜ë§Œ ëª… ì‚¬ìš©ìê°€ ë™ì‹œì— ê±°ë˜í•  ìˆ˜ ìˆì–´ì•¼ í•¨ ìµœì†Œ 100ê°€ì§€ ì£¼ì‹ ê±°ë˜ê°€ ê°€ëŠ¥í•´ì•¼í•¨ í•˜ë£¨ì— ìˆ˜ì‹­ì–µ ê±°ëŠì´ ì£¼ë¬¸ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ ê·œì œ ì‹œì„¤ì´ë¯€ë¡œ ìœ„í—˜ì„± ì ê²€ì´ ê°€ëŠ¥í•´ì•¼í•¨ ìœ„í—˜ì„± ì ê²€ í•œ ì‚¬ìš©ìê°€ í•˜ë£¨ì— ê±°ë˜í•  ìˆ˜ ìˆëŠ” ì£¼ì‹ì„ ì œí•œ ë“± ê±°ë˜ ì „ ì¶©ë¶„í•œ ìê¸ˆì´ ìˆëŠ”ì§€ ë¨¼ì € í™•ì¸í•´ì•¼í•¨ ì•„ì§ ì²´ê²°ë˜ì§€ ì•Šì€ ì£¼ë¬¸ì´ ìˆëŠ” ê²½ìš° í•´ë‹¹ ì£¼ë¬¸ì— ì´ìš©ëœ ìê¸ˆì€ ë‹¤ë¥¸ ì£¼ë¬¸ì— ì“°ì¼ ìˆ˜ ì—†ìŒ ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ìµœì†Œ 100ê°€ì§€ ì£¼ì‹, ìˆ˜ë§Œ ëª… ì‚¬ìš©ìê°™ì€ ìš”êµ¬ì‚¬í•­ì€ ì†Œê·œëª¨ì—ì„œ ì¤‘ê°„ ê·œëª¨ ì •ë„ì˜ ê±°ë˜ì†Œë¥¼ ì„¤ê³„í•´ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\në§ì€ ë©´ì ‘ê´€ì´ í›„ì† ì§ˆë¬¸ ê³¼ì •ì—ì„œ ì„¤ê³„ì˜ í™•ì¥ì„±ì„ í™•ì¸í•˜ëŠ” ë° ì´ˆì ì„ ë§ì¶”ë¯€ë¡œ ë” ë§ì€ ì£¼ì‹ê³¼ ì‚¬ìš©ìë¥¼ ì§€ì›í•  ìˆ˜ ìˆê²Œ í™•ì¥ ê°€ëŠ¥í•œ ì„¤ê³„ì¸ì§€ë„ í™•ì¸ì´ í•„ìš”í•˜ë‹¤.\nê°€ìš©ì„±: ìµœì†Œ 99.99% ê±°ë˜ì†Œì˜ ê°€ìš©ì„±ì€ ë§¤ìš° ì¤‘ìš”í•œ ë¬¸ì œë‹¤. ë‹¨ ëª‡ì´ˆì˜ ì¥ì• ë¡œë„ í‰íŒì´ í¬ê²Œ ì†ìƒë  ìˆ˜ ìˆë‹¤. ê²°í•¨ ë‚´ì„±: í”„ë¡œë•ì…˜ ì¥ì• ì˜ íŒŒê¸‰ì„ ì¤„ì´ë ¤ë©´ ê²°í•¨ ë‚´ì„±ê³¼ ë¹ ë¥¸ ë³µêµ¬ ë§¤ì»¤ë‹ˆì¦˜ì´ í•„ìš”í•˜ë‹¤. ì§€ì—° ì‹œê°„: ì™•ë³µ ì§€ì—° ì‹œê°„ì€ ë°€ë¦¬ì´ˆ ìˆ˜ì¤€ì´ì–´ì•¼ í•˜ë©°, íŠ¹íˆ p99 ì§€ì—° ì‹œê°„ì´ ì¤‘ìš”í•˜ë‹¤. p99 ì§€ì—° ì‹œê°„ì´ ê³„ì† ë†’ìœ¼ë©´ ì¼ë¶€ ì‚¬ìš©ìì˜ ê±°ë˜ì†Œ ì´ìš© ê²½í—˜ì´ ì•„ì£¼ ë‚˜ë¹ ì§„ë‹¤. ë³´ì•ˆ: ê±°ë˜ì†ŒëŠ” ê³„ì • ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°–ì¶”ì–´ì•¼ í•œë‹¤. ë²•ë¥  ë° ê·œì • ì¤€ìˆ˜ë¥¼ ìœ„í•´ ê±°ë˜ì†ŒëŠ” ìƒˆ ê³„ì¢Œ ê°œì„¤ ì „ ì‚¬ìš©ìì˜ ì‹ ì› í™•ì¸ì„ ìœ„í•œ KYC(Know Your Client) í™•ì¸ì„ ìˆ˜í–‰í•œë‹¤. ì‹œì¥ ë°ì´í„°ê°€ í¬í•¨ëœ ì›¹ í˜ì´ì§€ ë“±ì˜ ê³µê°œ ìì›ì˜ ê²½ìš° DDoS ê³µê²©ì„ ë°©ì§€í•˜ëŠ” ì¥ì¹˜ë¥¼ êµ¬ë¹„í•´ë‘ì–´ì•¼ í•œë‹¤. ê°œëµì  ê·œëª¨ ì¶”ì • ê°„ë‹¨í•œ ê³„ì‚°ì„ í†µí•´ ê°œëµì ì¸ ê·œëª¨ë¥¼ ì¶”ì •í•´ë³´ì.\n100ê°€ì§€ ì£¼ì‹ í•˜ë£¨ 10ì–µ ê±´ì˜ ì£¼ë¬¸ ì›”ìš”ì¼ ë¶€í„° ê¸ˆìš”ì¼ ê¹Œì§€, ì˜¤ì „ 9ì‹œ 30ë¶„ë¶€í„° ì˜¤í›„ 4ì‹œê¹Œì§€ ì˜ì—…(ì´ 6.5 ì‹œê°„) QPS = 10ì–µ / 6.5ì‹œê°„ * 3600 =~ 43,000 ìµœëŒ€ QPS = 5 * OPS = 215,000 ê±°ë˜ëŸ‰ì€ ì¥ ì‹œì‘ ì§í›„, ê·¸ë¦¬ê³  ì¥ ë§ˆê° ì§ì „ì— í›¨ì”¬ ë†’ë‹¤. 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ì„¤ê³„ì•ˆì„ ì‚´í´ë³´ê¸° ì „, ê±°ë˜ì†Œ ì„¤ê³„ì— ë„ì›€ì´ ë  ëª‡ ê°€ì§€ ê¸°ë³¸ ê°œë…ê³¼ ìš©ì–´ë¥¼ ì‚´í´ë³¸ë‹¤.\nì¦ê¶Œ ê±°ë˜ 101 ë¸Œë¡œì»¤\nëŒ€ë¶€ë¶„ì˜ ê°œì¸ ê³ ê°ì€ ë¸Œë¡œì»¤ ì‹œìŠ¤í…œì„ í†µí•´ ê±°ë˜ì†Œì™€ ê±°ë˜í•œë‹¤.\nex) ì°°ìŠ¤ ìŠˆì™‘(Charles Schwab), ë¡œë¹ˆí›„ë“œ(Robinhood), E*Trade, í”¼ë¸ë¦¬í‹°(Fidelity) ë¸Œë¡œì»¤ ì‹œìŠ¤í…œì€ ê°œì¸ ì‚¬ìš©ìê°€ ì¦ê¶Œì„ ê±°ë˜í•˜ê³  ì‹œì¥ ë°ì´í„°ë¥´ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í¸ë¦¬í•œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.\nê¸°ê´€ ê³ ê°\nê¸°ê´€ ê³ ê°(institutional client)ì€ ì „ë¬¸ ì¦ê¶Œ ê±°ë˜ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ëŸ‰ìœ¼ë¡œ ê±°ë˜í•œë‹¤.\nê¸°ê´€ ê³ ê°ë§ˆë‹¤ ê±°ë˜ ì‹œìŠ¤í…œì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ì€ ë‹¤ë¥´ë‹¤.\nì—°ê¸°ê¸ˆ(pension funds): ì•ˆì •ì ì¸ ìˆ˜ìµì„ ëª©í‘œë¡œ í•˜ë¯€ë¡œ ê±°ë˜ ë¹ˆë„ëŠ” ë‚®ì§€ë§Œ ê±°ë˜ëŸ‰ì€ ë§ìŒ ëŒ€ê·œëª¨ ì£¼ë¬¸ì´ ì‹œì¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ì£¼ë¬¸ ë¶„í•  ê°™ì€ ê¸°ëŠ¥ì„ í•„ìš”ë¡œ í•¨ í—¤ì§€ í€ë“œ(hedge funds): ì‹œì¥ ì¡°ì„±ì„ ì „ë¬¸ìœ¼ë¡œ í•˜ë©° ìˆ˜ìˆ˜ë£Œ ë¦¬ë² ì´íŠ¸ë¥¼ í†µí•´ ìˆ˜ìµì„ ì–»ê¸° ë•Œë¬¸ì— ì•„ì£¼ ë‚®ì€ ì‘ë‹µ ì‹œê°„ìœ¼ë¡œ ê±°ë˜í•˜ê¸¸ ì›í•¨ ì¼ë°˜ ì‚¬ìš©ìì²˜ëŸ¼ ì›¹í˜ì´ì§€ë‚˜ ëª¨ë°”ì¼ ì•±ì—ì„œ ì‹œì¥ ë°ì´í„°ë¥¼ í™•ì¸í•˜ê²Œ í•˜ë©´ ê³¤ë€í•˜ë‹¤.\nì§€ì •ê°€ ì£¼ë¬¸\nì§€ì •ê°€ ì£¼ë¬¸(limit order)ì€ ê°€ê²©ì´ ê³ ì •ëœ ë§¤ìˆ˜ ë˜ëŠ” ë§¤ë„ ì£¼ë¬¸ì´ë‹¤.\nì‹œì¥ê°€ ì£¼ë¬¸ê³¼ëŠ” ë‹¬ë¦¬ ì²´ê²°ì´ ì¦‰ì‹œ ì´ë£¨ì–´ì§€ì§€ ì•Šì„ ìˆ˜ ìˆê³ , ë¶€ë¶„ì ìœ¼ë¡œë§Œ ì²´ê²°ë  ìˆ˜ë„ ìˆë‹¤.\nì‹œì¥ê°€ ì£¼ë¬¸\nì‹œì¥ê°€ ì£¼ë¬¸(market order)ì€ ê°€ê²©ì„ ì§€ì •í•˜ì§€ ì•ŠëŠ” ì£¼ë¬¸ìœ¼ë¡œ, ì‹œì¥ê°€ë¡œ ì¦‰ì‹œ ì²´ê²°ëœë‹¤.\nì²´ê²°ì€ ë³´ì¥ë˜ë‚˜ ë¹„ìš© ë©´ì—ì„œëŠ” ì†í•´ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.\nì‹œì¥ ë°ì´í„° ìˆ˜ì¤€\në¯¸êµ­ ì£¼ì‹ì‹œì¥ì—ì„œëŠ” L1, L2, L3 ì„¸ ê°€ì§€ ê°€ê²© ì •ë³´(price quote) ë“±ê¸‰ì´ ìˆë‹¤.\nL1: ìµœê³  ë°°í˜¸ í˜¸ê°€(best bid price), ë§¤ë„ í˜¸ê°€(ask price) ë° ìˆ˜ëŸ‰(quantity)ì´ í¬í•¨ L2: L1ì— ë”í•´ ì²´ê²°ì„ ê¸°ë‹¤ë¦¬ëŠ” ë¬¼ëŸ‰ì˜ í˜¸ê°€ë¥¼ ë³´ì—¬ì¤Œ, ì–´ë”” ê¹Œì§€ ë³´ì—¬ì¤„ ì§€ë¥¼ ì˜ë¯¸í•˜ëŠ” ê¹Šì´(depth) í¬í•¨ L3: ê° ì£¼ë¬¸ ê°€ê²©ì— ì²´ê²°ì„ ê¸°ë‹¤ë¦¬ëŠ” ë¬¼ëŸ‰ ì •ë³´ê¹Œì§€ ë³´ì—¬ì¤Œ ë´‰ ì°¨íŠ¸\níŠ¹ì • ê¸°ê°„ ë™ì•ˆì˜ ì£¼ê°€ë¡œ í•˜ë‚˜ì˜ ë´‰ ë§‰ëŒ€ë¡œ ì¼ì • ì‹œê°„ ê°„ê²© ë™ì•ˆ ì‹œì¥ì˜ ì‹œì‘ê°€, ì¢…ê°€, ìµœê³ ê°€, ìµœì €ê°€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ 1ë¶„, 5ë¶„, 1ì‹œê°„, 1ì¼, 1ì£¼ì¼, 1ê°œì›” ë‹¨ìœ„ë¡œ ì§€ì›í•œë‹¤. FIX\nFinancial Information Exchange Protocol(ê¸ˆìœµ ì •ë³´ êµí™˜ í”„ë¡œí† ì½œ)ì˜ ì•½ì–´ë¡œ ì¦ê¶Œ ê±°ë˜ ì •ë³´ êµí™˜ì„ ìœ„í•œ ê¸°ì—… ì¤‘ë¦½ì  í†µì‹  í”„ë¡œí† ì½œì´ë‹¤.\n1 8=FIX.4.2 | 9=176 | 35=8 | 49=PHLX | 56=PERS | 52=20071123-05:30:00.000 | 11=ATOMNOCCC9990900 | 20=3 | 150=E | 39=E | 55=MSFT | 167=CS | 54=1 | 38=15 | 40=2 | 44=15 | 58=PHLX EQUITY TESTING | 59=0 | 47=C | 32=0 | 31=0 | 151=15 | 14=0 | 6=0 | 10=128 | ê°œëµì  ì„¤ê³„ì•ˆ ê±°ë˜ íë¦„\nê±°ë˜ íë¦„(trading flow)ì„ í†µí•´ í•˜ë‚˜ì˜ ì£¼ë¬¸ì´ ì–´ë–¤ ì ˆì°¨ë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€ ì‚´í´ë³¸ë‹¤.\nì§€ì—° ì‹œê°„ ìš”ê±´ì´ ì—„ê²©í•œ, ì¤‘ìš” ê²½ë¡œ(critical path)ë¡œ ì´ ê²½ë¡œë¥¼ ë”°ë¼ íë¥´ëŠ” ëª¨ë“  ì •ë³´ëŠ” ì‹ ì†í•˜ê²Œ ì²˜ë¦¬ë˜ì–´ì•¼ í•œë‹¤.\n1ë‹¨ê³„: ê³ ê°ì´ ë¸Œë¡œì»¤ì˜ ì›¹ ë˜ëŠ” ëª¨ë°”ì¼ ì•±ì„ í†µí•´ ì£¼ë¬¸ 2ë‹¨ê³„: ë¸Œë¡œì»¤ê°€ ì£¼ë¬¸ì„ ê±°ë˜ì†Œì— ì „ì†¡ 3ë‹¨ê³„: ì£¼ë¬¸ì´ í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ë¥¼ í†µí•´ ê±°ë˜ì†Œë¡œ ë“¤ì–´ê° í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ëŠ” ì…ë ¥ ìœ íš¨ì„± ê²€ì‚¬, ì†ë„ ì œí•œ, ì¸ì¦, ì •ê·œí™” ë“±ê³¼ ê°™ì€ ê¸°ë³¸ì ì¸ ê²Œì´íŠ¸í‚¤í•‘ ê¸°ëŠ¥ì„ ìˆ˜í–‰ ê·¸ í›„ ì£¼ë¬¸ì„ ì£¼ë¬¸ ê´€ë¦¬ìì—ê²Œ ì „ë‹¬ 4~5ë‹¨ê³„: ì£¼ë¬¸ ê´€ë¦¬ìê°€ ìœ„í—˜ ê´€ë¦¬ìê°€ ì„¤ì •í•œ ê·œì¹™ì— ë‹¤ë¼ ìœ„í—˜ì„± ì ê²€ì„ ìˆ˜í–‰ 6ë‹¨ê³„: í†µê³¼í•œ ì£¼ë¬¸ì— ëŒ€í•´ ì§€ê°‘ì— ì£¼ë¬¸ ì²˜ë¦¬ ìê¸ˆìœ¼ ì¶©ë¶„í•œì§€ í™•ì¸ 7~9ë‹¨ê³„: ì£¼ë¬¸ì´ ì²´ê²° ì—”ì§„ìœ¼ë¡œ ì „ì†¡ ì²´ê²° ê°€ëŠ¥ ì£¼ë¬¸ì´ ë°œê²¬ë˜ë©´ ë§¤ìˆ˜ ì¸¡ê³¼ ë§¤ë„ ì¸¡ì— ê°ê° í•˜ë‚˜ì”© ë‘ ê°œì˜ ì§‘í–‰(execution, fill(ì¶©ì¡±)ì´ë¼ê³ ë„ í•¨) ê¸°ë¡ ìƒì„± ê·¸ ê³¼ì •ì„ ì¬ìƒí•  ë•Œ í•­ìƒ ê²°ì •ë¡ ì ìœ¼ë¡œ ë™ì¼í•œ ê²°ê³¼ê°€ ë‚˜ì˜¤ë„ë¡ ë³´ì¥í•˜ê¸° ìœ„í•´ ì‹œí€€ì„œëŠ” ì£¼ë¬¸ ë° ì§‘í–‰ ê¸°ë¡ì„ ì¼ì • ìˆœì„œë¡œ ì •ë ¬ 10~14ë‹¨ê³„: ì£¼ë¬¸ ì§‘í–‰ ì‚¬ì‹¤ì„ í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡ ì‹œì¥ ë°ì´í„° íë¦„\nì‹œì¥ ë°ì´í„° íë¦„(market data flow)ì„ ë”°ë¼ì„œ í•˜ë‚˜ì˜ ì£¼ë¬¸ì´ ì²´ê²° ì—”ì§„ë¶€í„° ë°ì´í„° ì„œë¹„ìŠ¤ë¥¼ ê±°ì³ ë¸Œë¡œì»¤ë¡œ ì „ë‹¬ë˜ì–´ ì§‘í–‰ë˜ê¸°ê¹Œì§€ì˜ ê³¼ì •ì„ ì¶”ì í•´ë³¸ë‹¤.\nM1 ë‹¨ê³„: ì²´ê²° ì—”ì§„ì€ ì£¼ë¬¸ì´ ì²´ê²°ë˜ë©´ ì§‘í–‰ ê¸°ë¡ ìŠ¤íŠ¸ë¦¼(ë˜ëŠ” ì¶©ì¡± ê¸°ë¡ ìŠ¤íŠ¸ë¦¼)ì„ ë§Œë“ ë‹¤. ì‹œì¥ ë°ì´í„° ê²Œì‹œ ì„œë¹„ìŠ¤ë¡œ ì „ì†¡ëœë‹¤. M2 ë‹¨ê³„: ì‹œì¥ ë°ì´í„° ê²Œì‹œ ì„œë¹„ìŠ¤ëŠ” ì§‘í–‰ ê¸°ë¡ ë° ì£¼ë¬¸ ìŠ¤íŠ¸ë¦¼ì—ì„œ ì–»ì€ ë°ì´í„°ë¥¼ ì‹œì¥ ë°ì´í„°ë¡œ ì‚¬ìš©í•˜ì—¬ ë´‰ ì°¨íŠ¸ì™€ í˜¸ê°€ ì°½ì„ êµ¬ì„±í•œë‹¤. ì‹œì¥ ë°ì´í„°ë¥¼ ë°ì´í„° ì„œë¹„ìŠ¤ë¡œ ë³´ë‚¸ë‹¤. M3 ë‹¨ê³„: ì‹¤ì‹œê°„ ë¶„ì„ ì „ìš© ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ëœë‹¤. ë¸Œë¡œì»¤ëŠ” ë°ì´í„° ì„œë²„ìŠ¤ë¥¼ í†µí•´ ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°ë¥¼ ì½ëŠ”ë‹¤. ì½ì€ ë°ì´í„°ë¥¼ ê³ ê°ì—ê²Œ ì „ë‹¬í•œë‹¤. ë³´ê³  íë¦„\nR1 ~ R2 ë‹¨ê³„: ë³´ê³  ì„œë¹„ìŠ¤(reporter)ëŠ” ì£¼ë¬¸ ë° ì‹¤í–‰ ê¸°ë¡ì—ì„œ ë³´ê³ ì— í•„ìš”í•œ ëª¨ë“  í•„ë“œì˜ ê°’ì„ ëª¨ì€ë‹¤ìŒ ê·¸ ê°’ì„ ì¢…í•©í•´ ë§Œë“  ë ˆì½”ë“œë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡í•œë‹¤. ex) client_id, price, quantity, order_type, filled_quantity, remaining_quantity ë“± ê±°ë˜ íë¦„ì€ ì¤‘ìš” ê²½ë¡œë¥¼ ë”°ë¼ ì§„í–‰ë˜ì§€ë§Œ ì‹œì¥ ë°ì´í„° íë¦„ì´ë‚˜ ë³´ê³  íë¦„ì€ ì§€ì—° ì‹œê°„ ìš”êµ¬ì‚¬í•­ì´ ë‹¤ë¥´ë‹¤.\nê±°ë˜ íë¦„ ê±°ë˜ íë¦„ì€ ê±°ë˜ì†Œì˜ ì¤‘ìš” ê²½ë¡œìƒì—ì„œ ì§„í–‰ëœë‹¤.\nì²´ê²° ì—”ì§„\nì²´ê²° ì—”ì§„(matching engine)ì€ êµì°¨ ì—”ì§„(cross engine)ì´ë¼ê³ ë„ ë¶€ë¥´ë©°, ì£¼ìš” ì—­í• ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nê° ì£¼ì‹ ì‹¬ë²Œì— ëŒ€í•œ ì£¼ë¬¸ì„œ(order book) ë‚´ì§€ í˜¸ê°€ ì°½ì„ ìœ ì§€ ê´€ë¦¬ íŠ¹ì • ì£¼ì‹ì— ëŒ€í•œ ë§¤ìˆ˜ ë° ë§¤ë„ ì£¼ë¬¸ ëª©ë¡ ë§¤ìˆ˜ ì£¼ë¬¸ê³¼ ë§¤ë„ ì£¼ë¬¸ì„ ì—°ê²° ì£¼ë¬¸ ì²´ê²° ê²°ê³¼ë¡œ ë‘ ê°œì˜ ì§‘í–‰ ê¸°ë¡ì´ ë§Œë“¤ì–´ì§(ë§¤ìˆ˜ 1, ë§¤ë„ 1) ì²´ê²°ì€ ë¹ ë¥´ê³  ì‹ ì†í•˜ê²Œ ì²˜ë¦¬ë˜ì–´ì•¼ í•œë‹¤. ì§‘í–‰ ê¸°ë¡ ìŠ¤íŠ¸ë¦¼ì„ ì‹œì¥ ë°ì´í„°ë¡œ ë°°í¬ ê°€ìš©ì„± ë†’ì€ ì²´ê²° ì—”ì§„ êµ¬í˜„ì²´ê°€ ë§Œë“œëŠ” ì²´ê²° ìˆœì„œëŠ” ê²°ì •ë¡ ì (deterministic)ì´ì–´ì•¼ í•œë‹¤.\nì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” ì£¼ë¬¸ ìˆœì„œê°€ ê°™ìœ¼ë©´ ì²´ê²° ì—”ì§„ì´ ë§Œë“œëŠ” ì§‘í–‰ ê¸°ë¡ ìˆœì„œëŠ” ì–¸ì œë‚˜ ë™ì¼í•´ì•¼ í•¨ ì‹œí€€ì„œ\nì‹œí€€ì„œ(sequencer)ëŠ” ì²´ê²° ì—”ì§„ì„ ê²°ì •ë¡ ì ìœ¼ë¡œ ë§Œë“œëŠ” í•µì‹¬ êµ¬ì„± ìš”ì†Œì´ë‹¤.\nì£¼ë¬¸ì„ ì „ë‹¬í•˜ê¸° ì „ ìˆœì„œ IDë¥¼ ë¶™ì—¬ ë³´ëƒ„ ì²˜ë¦¬ë¥¼ ëë‚¸ ëª¨ë“  ì§‘í–‰ ê¸°ë¡ ìŒì—ë„ ìˆœì„œ IDë¥¼ ë¶™ì„ ì¦‰ ì…ë ¥ ì‹œí€€ì„œì™€ ì¶œë ¥ ì‹œí€€ì„œ ë‘ ê°€ì§€ê°€ ê°ê° ê³ ìœ í•œ ìˆœì„œë¥¼ ìœ ì§€í•˜ë©°, ì‹œí€€ì„œê°€ ë§Œë“œëŠ” ìˆœì„œ IDëŠ” ëˆ„ë½ëœ í•­ëª©ì„ ì‰½ê²Œ ë°œê²¬í•  ìˆ˜ ìˆëŠ” ì¼ë ¨ë²ˆí˜¸ì—¬ì•¼ í•œë‹¤.\nì…ë ¥ë˜ëŠ” ì£¼ë¬¸ê³¼ ì¶œë ¥í•˜ëŠ” ì‹¤í–‰ ëª…ë ¹ì— ìˆœì„œ IDë¥¼ ì§ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\nì‹œì˜ì„±(timeliness) ë° ê³µì •ì„±(fairness) ë¹ ë¥¸ ë³µêµ¬(recovery) ë° ì¬ìƒ(replay) ì •í™•í•œ 1íšŒ ì‹¤í–‰ ë³´ì¦(exactly-once guarantee) ì‹œí€€ì„œëŠ” ìˆœì„œ IDë§Œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ë©”ì‹œì§€ í ì—­í• ë„ í•œë‹¤.\nì²´ê²° ì—”ì§„ì— ë©”ì‹œì§€(ìˆ˜ì‹  ì£¼ë¬¸)ë¥¼ ë³´ë‚´ëŠ” í ì£¼ë¬¸ ê´€ë¦¬ìì—ê²Œ ë©”ì‹œì§€(ì§‘í–‰ ê¸°ë¡)ë¥¼ íšŒì‹ í•˜ëŠ” í ì£¼ë¬¸ê³¼ ì§‘í–‰ ê¸°ë¡ì„ ìœ„í•œ ì´ë²¤íŠ¸ ì €ì¥ì†Œë¡œ ë³¼ ìˆ˜ë„ ìˆë‹¤.\nì²´ê²° ì—”ì§„ì— ë‘ ê°œ ì¹´í”„ì¹´ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼ì´ ì—°ê²¨ë¡œë””ì–´ ìˆëŠ” ê²ƒê³¼ ë¹„ìŠ·í•¨ ì…ë ¥ë˜ëŠ” ì£¼ë¬¸ìš©, ì¶œë ¥ë  ì§‘í–‰ ê¸°ë¡ìš© ì£¼ë¬¸ ê´€ë¦¬ì\nì£¼ë¬¸ ê´€ë¦¬ì(order manager)ëŠ” í•œìª½ì—ì„œ ì£¼ë¬¸ì„ ë°›ê³  ë‹¤ë¥¸ ìª½ì—ì„œëŠ” ì§‘í–‰ ê¸°ë¡ì„ ë°›ì•„ ì£¼ë¬¸ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì—­í• ì´ë‹¤.\nì£¼ë¬¸ ê´€ë¦¬ìëŠ” í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ë¥¼ í†µí•´ ì£¼ë¬¸ì„ ìˆ˜ì‹ í•˜ê³  ë‹¤ìŒì„ ì‹¤í–‰í•œë‹¤.\nìœ„í—˜ì„± ê²€í†  ex) ì‚¬ìš©ìì˜ ê±°ë˜ëŸ‰ì´ í•˜ë£¨ 100ë§Œ ë‹¬ë¼ ë¯¸ë§Œì¸ì§€? ì¶©ë¶„í•œ ìê¸ˆì´ ìˆëŠ”ì§€ í™•ì¸ ì£¼ë¬¸ì„ ì‹œí€€ì„œì— ì „ë‹¬ í•´ë‹¹ ì£¼ë¬¸ì— ìˆœì„œ IDë¥¼ ì°ê³  ì²´ê²° ì—”ì§„ì— ë³´ë‚´ì–´ ì²˜ë¦¬í•¨ ë©”ì‹œì§€ í¬ê¸°ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ë§ì€ ì†ì„± ì¤‘ í•„ìš”í•œ ì†ì„±ë§Œ ì „ì†¡ ì£¼ë¬¸ ê´€ë¦¬ìëŠ” ì‹œí€€ì„œë¥¼ í†µí•´ ì²´ê²° ì—”ì§„ìœ¼ë¡œ ë¶€í„° ì§‘í–‰ ê¸°ë¡ë„ ë°›ëŠ”ë°, ì²´ê²°ëœ ì£¼ë¬¸ì— ëŒ€í•œ ì§‘í–‰ ê¸°ë¡ì„ í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ë¥¼ í†µí•´ ë¸Œë¡œì»¤ì— ë°˜í™˜í•œë‹¤.\nì£¼ë¬¸ ê´€ë¦¬ìëŠ” ë¹ ë¥´ê³  íš¨ìœ¨ì ì´ë©° ì •í™•í•´ì•¼ í•œë‹¤.\nì£¼ë¬¸ ê´€ë¦¬ìëŠ” ì£¼ë¬¸ì˜ í˜„ì¬ ìƒíƒœë¥¼ ìœ ì§€ê´€ë¦¬ í•´ì•¼í•˜ë¯€ë¡œ ë‹¤ì–‘í•œ ìƒíƒœ ë³€í™”ë¥¼ ê´€ë¦¬í•´ì•¼í•˜ëŠ” ë¬¸ì œ ë•Œë¬¸ì— êµ¬í˜„ì´ ì•„ì£¼ ë³µì¡í•˜ë‹¤. ì´ë²¤íŠ¸ ì†Œì‹±ì€ ì£¼ë¬¸ ê´€ë¦¬ì ì„¤ê³„ì— ì í•¨í•˜ë‹¤. í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´\nê±°ë˜ì†Œì˜ ë¬¸ì§€ê¸° ì—­í• ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì£¼ë¬¸ì„ ë°›ì•„ ì£¼ë¬¸ ê´€ë¦¬ìì—ê²Œ ë³´ë‚¸ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ëŠ” ì¤‘ìš” ê²½ë¡œìƒì— ë†“ì´ë¯€ë¡œ ì§€ì—° ì‹œê°„ì— ì¤‘ìš”í•œ ê¸°ëŠ¥ë“¤ì„ ì‹ ì†í•˜ê²Œ ì²˜ë¦¬í•˜ì—¬ ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ ì˜¬ë°”ë¥¸ ëª©ì ì§€ë¡œ ì£¼ë¬¸ì„ ì „ë‹¬í•´ì•¼ í•œë‹¤.\në”°ë¼ì„œ ì–´ë–¤ ê¸°ëŠ¥ì„ í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ì— ë„£ì„ì§€ ë§ì§€ëŠ” íƒ€í˜‘ì ìœ¼ë¡œ ìƒê°í•´ì•¼í•œë‹¤.\në³µì¡í•œ ê¸°ëŠ¥ì´ë¼ë©´ ì²´ê²° ì—”ì§„ì´ë‚˜ ìœ„í—˜ ì ê²€ ì»´í¬ë„ŒíŠ¸ì— ë§¡ê²¨ì•¼ í•œë‹¤. ê³ ê° ìœ í˜•ë³„(ê°œì¸/ê¸°ì—…)ë¡œ ì§€ì—° ì‹œê°„, ê±°ë˜ëŸ‰, ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ë“± ê³ ë ¤ì‚¬í•­ì´ ë‹¤ë¥´ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ë„ ë‹¤ì–‘í•´ì§ˆ ìˆ˜ ìˆë‹¤.\nex) ì‹œì¥ ì¡°ì„±ì(market maker)ëŠ” ê±°ë˜ì†Œì— ìœ ë™ì„±ì˜ ìƒë‹¹ ë¶€ë¶„ì„ ê³µê¸‰í•˜ë¯€ë¡œ ë§¤ìš° ë‚®ì€ ì§€ì—° ì‹œê°„ì„ ìš”êµ¬í•œë‹¤. ê·¹ë‹¨ì ì¸ ì‚¬ë¡€ì¸ ì½”ë¡œì¼€ì´ì…˜(colocation, colo) ì—”ì§„ì€ ë¸Œë¡œì»¤ê°€ ê±°ë˜ì†Œ ë°ì´í„° ì„¼í„°ì—ì„œ ì„ëŒ€í•œ ì„œë²„ ì¼ë¶€ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê±°ë˜ ì—”ì§„ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ ì§€ì—°ì‹œê°„ì´ ë¹›ì˜ ì†ë„ ì •ë„ì´ë‹¤.\nì‹œì¥ ë°ì´í„° íë¦„ ì‹œì¥ ë°ì´í„° ê²Œì‹œ ì„œë¹„ìŠ¤(Market Data Publisher, MDP)ëŠ” ì²´ê²° ì—”ì§„ì—ì„œ ì§‘í–‰ ê¸°ë¡ì„ ìˆ˜ì‹ í•˜ê³  ì§‘í–‰ ê¸°ë¡ ìŠ¤íŠ¸ë¦¼ì—ì„œ í˜¸ê°€ ì°½ê³¼ ë´‰ ì°¨íŠ¸ë¥¼ ë§Œë“¤ì–´ ë‚¸ë‹¤.\ní˜¸ê°€ ì°½ê³¼ ë´‰ ì°¨íŠ¸ë¥¼ í†µì¹­í•˜ì—¬ ì‹œì¥ ë°ì´í„°ë¼ê³  í•œë‹¤. ì‹œì¥ ë°ì´í„°ëŠ” ë°ì´í„° ì„œë¹„ìŠ¤ë¡œ ì „ì†¡ë˜ì–´ í•´ë‹¹ ì„œë¹„ìŠ¤ì˜ êµ¬ë…ìê°€ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\në³´ê³  íë¦„ ê±°ë˜ì†Œì—ì„œ í•„ìˆ˜ì ì¸ ë¶€ë¶„ ê°€ìš´ë° í•˜ë‚˜ë¡œ, ë³´ê³  ì„œë¹„ìŠ¤ëŠ” ê±°ë˜ì˜ ì¤‘ìš” ê²½ë¡œìƒì— ìˆì§€ëŠ” ì•Šì§€ë§Œ ì—¬ì „íˆ ì‹œìŠ¤í…œì˜ ì¤‘ìš”í•œ ë¶€ë¶„ì´ë‹¤.\nê±°ë˜ ì´ë ¥, ì„¸ê¸ˆ ë³´ê³ , ê·œì • ì¤€ìˆ˜ ì—¬ë¶€ ë³´ê³ , ê²°ì‚°(settlement) ë“±ì˜ ê¸°ëŠ¥ ì œê³µ ê±°ë˜ íë¦„ê³¼ ë‹¬ë¦¬ ë³´ê³  ì„œë¹„ìŠ¤ëŠ” ì •í™•ì„±ê³¼ ê·œì • ì¤€ìˆ˜ê°€ í•µì‹¬ì ì´ë‹¤.\nì…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ì£¼ë¬¸ê³¼ ê·¸ ê²°ê³¼ë¡œ ë‚˜ê°€ëŠ” ì§‘í–‰ ê¸°ë¡ ëª¨ë‘ì—ì„œ ì •ë³´ë¥¼ ëª¨ì•„ ì†ì„±(attributes)ë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì  ê´€í–‰ì´ë‹¤.\nìƒˆ ì£¼ë¬¸ì€ ì£¼ë¬¸ ì„¸ë¶€ ì •ë³´ë§Œ í¬í•¨ ì§‘í–‰ ê¸°ë¡ì—ëŠ” ì£¼ë¬¸ ID, ê°€ê²©, ìˆ˜ëŸ‰ ë° ì§‘í–‰ ìƒíƒœ ì •ë³´ë§Œ í¬í•¨ ë³´ê³  ì„œë¹„ìŠ¤ëŠ” ë‘ ê°€ì§€ ì¶œì²˜ì—ì„œ ì˜¤ëŠ” ì •ë³´ë¥¼ ì˜ ë³‘í•©í•˜ì—¬ ë³´ê³ ì„œë¥¼ ë§Œë“ ë‹¤.\nAPI ì„¤ê³„ ê³ ê°ì€ ë¸Œë¡œì»¤ë¥¼ í†µí•´ ì¦ê¶Œ ê±°ë˜ì†Œì™€ ìƒí˜¸ ì‘ìš©í•˜ì—¬ ì£¼ë¬¸, ì²´ê²° ì¡°íšŒ, ì‹œì¥ ë°ì´í„° ì¡°íšŒ, ë¶„ì„ì„ ìœ„í•œ ê³¼ê±° ë°ì´í„° ë‹¤ìš´ë¡œë“œ ë“±ì„ ìˆ˜í–‰í•œë‹¤.\në¸Œë¡œì»¤ì™€ í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ ê°„ì˜ ì¸í„°í˜ì´ìŠ¤ ëª…ì„¸ ì‘ì„±ì—ëŠ” RESTful ì»¨ë²¤ì…˜ì„ ì‚¬ìš©í•œë‹¤.\nRESTful APIë¡œëŠ” ì§€ì—° ì‹œê°„ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ì§€ ëª»í•  ìˆ˜ë„ ìˆì–´ ë‹¤ë¥¸ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ê°€ëŠ¥ì„±ì´ ë†’ì§€ë§Œ, ì–´ë–¤ í”„ë¡œí† ì½œë„ ì•„ë˜ ì–¸ê¸‰í•œ ê¸°ë³¸ ê¸°ëŠ¥ì€ ë™ì¼í•˜ê²Œ ì œê³µë˜ì–´ì•¼ í•œë‹¤. ì£¼ë¬¸\n1 POST /v1/order ì£¼ë¬¸ì„ ì²˜ë¦¬í•˜ë©°, ì¸ì¦ì´ í•„ìš”í•˜ë‹¤.\nì¸ì symbol: ì£¼ì‹ì„ ë‚˜íƒ€ë‚´ëŠ” ì‹¬ë³¼ side: ë§¤ìˆ˜ ë˜ëŠ” ë§¤ë„ price: ì§€ì •ê°€ ì£¼ë¬¸ ê°€ê²© orderType: ì§€ì •ê°€ ë˜ëŠ” ì‹œì¥ê°€ quantity: ì£¼ë¬¸ ìˆ˜ëŸ‰ ì‘ë‹µ id: ì£¼ë¬¸ ID creationTime: ì£¼ë¬¸ì´ ì‹œìŠ¤í…œì— ìƒì„±ëœ ì‹œê°„ filledQuantity: ì§‘í–‰ì´ ì™„ë£Œëœ ìˆ˜ëŸ‰ remainingQuantity: ì•„ì§ ì²´ê²°ë˜ì§€ ì•Šì€ ì£¼ë¬¸ ìˆ˜ëŸ‰ status: new/canceled/filled ì½”ë“œ 200: ì„±ê³µ 40x: ì¸ì ì˜¤ë¥˜/ì ‘ê·¼ ë¶ˆê°€/ê¶Œí•œ ì—†ìŒ 500: ì„œë²„ ì˜¤ë¥˜ ì§‘í–‰\n1 GET /v1/execution?symbol={:symbol}\u0026amp;orderId={:orderId}\u0026amp;startTime={:startTime}\u0026amp;endTime={:endTime} ì§‘í–‰ ì •ë³´ë¥¼ ì§ˆì˜í•˜ë©° ì¸ì¦ì´ í•„ìš”í•˜ë‹¤.\nì¸ì symbol: ì£¼ì‹ ì‹¬ë³¼ orderId: ì£¼ë¬¸ ID(optional) startTime: ì§ˆì˜ ì‹œì‘ ì‹œê°„ endTime: ì§ˆì˜ ì¢…ë£Œ ì‹œê°„ ì‘ë‹µ ë³¸ë¬¸ executions: ë²”ìœ„ ë‚´ì˜ ëª¨ë“  ì§‘í–‰ ê¸°ë¡ ë°°ì—´ id: ì§‘í–‰ ê¸°ë¡ orderId: ì£¼ë¬¸ ID symbol: ì£¼ì‹ ì‹¬ë³¼ side: ë§¤ìˆ˜ í˜¹ì€ ë§¤ë„ price: ì²´ê²° ê°€ê²© orderType: ì§€ì •ê°€ ë„ëŠ” ì‹œì¥ê°€ quantity: ì²´ê²° ìˆ˜ëŸ‰ ì‘ë‹µ ì½”ë“œ 200: ì„±ê³µ 40x: ì¸ì ì˜¤ë¥˜/í•´ë‹¹ ìì› ì—†ìŒ/ì ‘ê·¼ ë¶ˆê°€/ê¶Œí•œ ì—†ìŒ 500: ì„œë²„ ì˜¤ë¥˜ ê°€ê²© ë³€ë™ ì´ë ¥(ìº”ë“¤ ì°¨íŠ¸)\n1 GET /marketdata/candles?symbol={:symbol}\u0026amp;resolution={:resolution}\u0026amp;startTime={:startTime}\u0026amp;endTime={:endTime} ì£¼ì–´ì§„ ì‹œê°„ ë²”ìœ„, í•´ìƒë„(resolution), ì‹¬ë³¼ì— ëŒ€í•œ ë´‰ ì°¨íŠ¸ ë°ì´í„° ì§ˆì˜ ê²°ê³¼ë¥¼ ë°˜í™˜\nì¸ì symbol: ì‹¬ë³¼ resolution: ìœˆë„ ê¸¸ì´ startTime: ì§ˆì˜ ì‹œì‘ ì‹œê°„ endTime: ì§ˆì˜ ì¢…ë£Œ ì‹œê°„ ì‘ë‹µ ë³¸ë¬¸ candles: ê° ë´‰ì˜ ë°ì´í„°ë¥¼ ë‹´ì€ ë°°ì—´ open: í•´ë‹¹ ë´‰ì˜ ì‹œê°€ close: í•´ë‹¹ ë´‰ì˜ ì¢…ê°€ high: í•´ë‹¹ ë´‰ì˜ ê³ ê°€ low: í•´ë‹¹ ë´‰ì˜ ì €ê°€ ì‘ë‹µ ì½”ë“œ 200: ì„±ê³µ 40x: ì¸ì ì˜¤ë¥˜/í•´ë‹¹ ìì› ì—†ìŒ/ì ‘ê·¼ ë¶ˆê°€/ê¶Œí•œ ì—†ìŒ 500: ì„œë²„ ì˜¤ë¥˜ ë°ì´í„° ëª¨ë¸ ì¦ê¶Œ ê±°ë˜ì†Œì—ëŠ” ì„¸ ê°€ì§€ ìœ í˜•ì˜ ì£¼ìš” ë°ì´í„°ê°€ ìˆë‹¤.\nìƒí’ˆ, ì£¼ë¬¸, ì§‘í–‰ ìƒí’ˆ\nìƒí’ˆ(product)ì€ ê±°ë˜ ëŒ€ìƒ ì£¼ì‹(ì‹¬ë²Œ)ì´ ê°€ì§„ ì†ì„±ìœ¼ë¡œ ì •ì˜ëœë‹¤.\nìƒí’ˆì˜ ìœ í˜•, ê±°ë˜ì— ì“°ì´ëŠ” ì‹¬ë²Œ, UIì— í‘œì‹œë  ì‹¬ë²Œ, ê²°ì‚°ì— ì´ìš©ë˜ëŠ” í†µí™” ë‹¨ìœ„, ë§¤ë§¤ ìˆ˜ëŸ‰ ë‹¨ìœ„(lot size), í˜¸ê°€ ê°€ê²© ë‹¨ìœ„(tick size) ë“± ìì£¼ ë³€ê²½ë˜ì§€ ì•Šê³  ì£¼ë¡œ UI í‘œì‹œë¥¼ ìœ„í•œ ë°ì´í„°ì´ë¯€ë¡œ, ì•„ë¬´ ë°ì´í„°ë² ì´ìŠ¤ì—ë‚˜ ì €ì¥ ê°€ëŠ¥í•˜ë©°, ìºì‹œë¥¼ ì ìš©í•˜ê¸°ì—ë„ ì¢‹ë‹¤.\nì£¼ë¬¸, ì§‘í–‰\nì£¼ë¬¸ì€ ë§¤ìˆ˜ ë˜ëŠ” ë§¤ë„ë¥¼ ì‹¤í–‰í•˜ë¼ëŠ” ëª…ë ¹ì´ë©°, ì§‘í–‰ ê¸°ë¡ì€ ì²´ê²°ì´ ì´ë£¨ì–´ì§„ ê²°ê³¼ì´ë‹¤.\nì§‘í–‰ ê¸°ë¡ì€ ì¶©ì¡±(fill)ì´ë¼ê³ ë„ ë¶€ë¦„ ëª¨ë“  ì£¼ë¬¸ì´ ì§‘í–‰ë˜ì§€ëŠ” ì•Šìœ¼ë©°, ì²´ê²° ì—”ì§„ì€ í•˜ë‚˜ì˜ ì£¼ë¬¸ ì²´ê²°ì— ê´€ì—¬í•œ ë§¤ìˆ˜ í–‰ìœ„ì™€ ë§¤ë„ í–‰ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë‘ ê°œì˜ ì§‘í–‰ ê¸°ë¡ì„ ê²°ê³¼ë¡œ ì¶œë ¥í•œë‹¤.\nì£¼ë¬¸ê³¼ ì§‘í–‰ ê¸°ë¡ì€ ê±°ë˜ì†Œê°€ ì·¨ê¸‰í•˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ë°ì´í„°ì´ë‹¤.\nì¤‘ìš” ê±°ë˜ ê²½ë¡œëŠ” ì£¼ë¬¸ ê³¼ ì§‘í–‰ ê¸°ë¡ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ì„±ëŠ¥ì„ ë†’ì´ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ì—ì„œ ê±°ë˜ë¥¼ ì²´ê²°í•˜ê³  í•˜ë“œë””ìŠ¤í¬ë‹¤ ê³µìœ  ë©”ëª¨ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ì£¼ë¬¸ê³¼ ì§‘í–‰ ê¸°ë¡ì„ ì €ì¥í•˜ê³  ê³µìœ í•œë‹¤. ë¹ ë¥¸ ë³µêµ¬ë¥¼ ìœ„í•´ ì‹œí€€ì„œì— ì €ì¥í•˜ë©°, ë°ì´í„° ë³´ê´€ì€ ì¥ ë§ˆê° í›„ì— ì‹¤í–‰í•œë‹¤. ë³´ê³  ì„œë¹„ìŠ¤ëŠ” ì¡°ì •ì´ë‚˜ ì„¸ê¸ˆ ë³´ê³  ë“±ì„ ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ì— ì£¼ë¬¸ ë° ì§‘í–‰ ê¸°ë¡ì„ ì €ì¥í•œë‹¤. ì§‘í–‰ ê¸°ë¡ì€ ì‹œì¥ ë°ì´í„° í”„ë¡œì„¸ì„œë¡œ ì „ë‹¬ë˜ì–´ í˜¸ê°€ ì°½/ì£¼ë¬¸ì„œì™€ ë´‰ ì°¨íŠ¸ ë°ì´í„° ì¬ê³ ì„±ì— ì“°ì¸ë‹¤. í˜¸ê°€ ì°½ í˜¸ê°€ ì°½ì€ íŠ¹ì • ì¦ê¶Œ ë˜ëŠ” ê¸ˆìœµ ìƒí’ˆì— ëŒ€í•œ ë§¤ìˆ˜ ë° ë§¤ë„ ì£¼ë¬¸ ëª©ë¡ìœ¼ë¡œ, ê°€ê²© ìˆ˜ì¤€ë³„ë¡œ ì •ë¦¬ë˜ì–´ ìˆë‹¤.\nì²´ê²° ì—”ì§„ì´ ë¹ ë¥¸ ì£¼ë¬¸ ì²´ê²°ì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ ìë£Œêµ¬ì¡°ë¡œ, ë‹¤ìŒ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•  ìˆ˜ ìˆëŠ” íš¨ìœ¨ì„±ì´ ë†’ì€ ê²ƒ ì´ì–´ì•¼í•œë‹¤.\nì¼ì •í•œ ì¡°íšŒ ì‹œê°„: íŠ¹ì • ê°€ê²© ìˆ˜ì¤€ì˜ ì£¼ë¬¸ëŸ‰ ì¡°íšŒ íŠ¹ì • ê°€ê²© ë²”ìœ„ ë‚´ì˜ ì£¼ë¬¸ëŸ‰ ì¡°íšŒ ë“± ë¹ ë¥¸ ì¶”ê°€/ì·¨ì†Œ/ì‹¤í–‰ ì†ë„: ê°€ê¸‰ì  O(1) ì‹œê°„ ë³µì¡ë„ë¥¼ ë§Œì¡±í•´ì•¼ í•œë‹¤. ìƒˆ ì£¼ë¬¸ ë„£ê¸°, ê¸°ì¡´ ì£¼ë¬¸ ì·¨ì†Œí•˜ê¸°, ì£¼ë¬¸ ì²´ê²°í•˜ê¸° ë“± ë¹ ë¥¸ ì—…ë°ì´íŠ¸: ì£¼ë¬¸ êµì²´ ë“± ìµœê³  ë§¤ìˆ˜ í˜¸ê°€/ìµœì € ë§¤ìˆ˜ í˜¸ê°€ ì§ˆì˜ ê°€ê²© ìˆ˜ì¤€ ìˆœíšŒ(iteration) ì˜ˆì œì—ì„œ ìµœì € ë§¤ë„ í˜¸ê°€ íì˜ ëª¨ë“  ë§¤ë„ ì£¼ë¬¸ê³¼ ì²´ê²°ëœ í›„ì— í˜¸ê°€ 100.11 íì˜ ì²« ë²ˆì§¸ ë§¤ë„ ì£¼ë¬¸ê³¼ ì²´ê²°ë˜ë©° ê±°ë˜ê°€ ëë‚œë‹¤.\nì´ ê²°ê³¼ë¡œ ë§¤ìˆ˜/ë§¤ë„ í˜¸ê°€ ìŠ¤í”„ë ˆë“œ ê°„ì˜ ê°€ê²© ì°¨ì´ê°€ ë„“ì–´ì§€ê³  ì£¼ì‹ ê°€ê²©ì€ í•œ ë‹¨ê³„ ìƒìŠ¹í•˜ê²Œëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 class PriceLevel{ private Price limitPrice; private long totalVolume; private List\u0026lt;Order\u0026gt; orders; } class Book\u0026lt;Side\u0026gt; { private Side side; private Map\u0026lt;Price, PriceLevel\u0026gt; limitMap; } class OrderBook { private Book\u0026lt;Buy\u0026gt; buyBook; private Book\u0026lt;Sell\u0026gt; sellBook; private PriceLevel bestBid; private PriceLevel bestOffer; private Map\u0026lt;OrderID, Order\u0026gt; orderMap; } ì¼ë°˜ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ ëª¨ë“  ì„¤ê³„ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•  ìˆ˜ ì—†ë‹¤.\nex) ì§€ì •ê°€ ì£¼ë¬¸ ì¶”ê°€/ì·¨ì†ŒëŠ” O(1)ì´ ì•„ë‹˜ ë³´ë‹¤ íš¨ìœ¨ì ì¸ í˜¸ê°€ ì°½ì„ ë§Œë“¤ë ¤ë©´ ordersì˜ ìë£Œ êµ¬ì¡°ëŠ” ì´ì¤‘ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¡œ ë³€ê²½í•˜ì—¬ ëª¨ë“  ì‚­ì œ ì—°ì‚°(ì£¼ë¬¸ ì·¨ì†Œë‚˜ ì²´ê²° ì²˜ë¦¬ ë“±)ì´ O(1)ì— ì²˜ë¦¬ë˜ë„ë¡ í•´ì•¼í•œë‹¤.\nìƒˆ ì£¼ë¬¸ì€ PriceLevel ë¦¬ìŠ¤íŠ¸ ë§ˆì§€ë§‰ì— ìƒˆ Order ì¶”ê°€ë¥¼ ì˜ë¯¸(O(1)) ì£¼ë¬¸ ì²´ê²°ì€ PriceLevel ë¦¬ìŠ¤íŠ¸ ë§¨ ì•ì— Order ì‚­ì œë¥¼ ì˜ë¯¸(O(1)) ì£¼ë¬¸ ì·¨ì†ŒëŠ” OrderBookì—ì„œ Order ì‚­ì œë¥¼ ì˜ë¯¸(O(1)) OrderBook ë‚´ì˜ í•¼í¼ ìë£Œ êµ¬ì¡° Map\u0026lt;OrderID, Order\u0026gt; orderMapì„ í™œìš©í•˜ë©´ O(1) ì‹œê°„ìœ¼ë¡œ ì·¨ì†Œí•  ì£¼ë¬¸ì„ ì°¾ì„ ìˆ˜ ìˆìŒ ì´ì¤‘ ì—°ê²° ë¦¬ìŠ¤íŠ¸ì´ë¯€ë¡œ Orderì˜ ì´ì „ ì£¼ë¬¸ì„ ê°€ë¥´í‚¤ëŠ” í¬ì¸í„°ê°€ ìˆìœ¼ë¯€ë¡œ ì „ì²´ ì£¼ë¬¸ ëª©ë¡ì„ ìˆœíšŒí•˜ì§€ ì•Šê³  ì£¼ë¬¸ì„ ì‚­ì œí•  ìˆ˜ ìˆìŒ í˜¸ê°€ ì°½ ìë£Œ êµ¬ì¡°ëŠ” ì§‘í–‰ ê¸°ë¡ ìŠ¤íŠ¸ë¦¼ì—ì„œ L1, L2, L3 ë°ì´í„°ë¥¼ ì¬êµ¬ì„± í•˜ê¸° ìœ„í•´ ì‹œì¥ ë°ì´í„° í”„ë¡œì„¸ì„œë„ ë§ì´ ì‚¬ìš©í•˜ê²Œëœë‹¤.\në´‰ ì°¨íŠ¸ ë´‰ ì°¨íŠ¸ëŠ” ì‹œì¥ ë°ì´í„° í”„ë¡œì„¸ì„œê°€ ì‹œì¥ ë°ì´í„°ë¥¼ ë§Œë“¤ ë•Œ í˜¸ê°€ ì°½ê³¼ ë”ë¶ˆì–´ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ ìë£Œêµ¬ì¡°ì´ë‹¤.\në´‰ ì°¨íŠ¸ë¥¼ ëª¨ë¸ë§ í•˜ê¸° ìœ„í•´ì„œ Candlestick í´ë˜ìŠ¤ì™€ CandlestickChart í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 class Candlestick { private long openPrice; private long closePrice; private long highPrice; private long lowPrice; private long volume; private long timestamp; private int interval; } class CandlestickChart { private LinkedList\u0026lt;Candlestick\u0026gt; sticks; } í•˜ë‚˜ì˜ ë´‰ì´ ì»¤ë²„í•˜ëŠ” ì‹œê°„ ë²”ìœ„ê°€ ê²½ê³¼í•˜ë©´ ë‹¤ìŒ ì£¼ê¸°ë¥¼ ì»¤ë²„í•  ìƒˆ Candlestick í´ë˜ìŠ¤ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ CandlestickChart ê°ì²´ì˜ ë‚´ë¶€ ì—°ê²° ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•œë‹¤.\në´‰ ì°¨íŠ¸ì—ì„œ ë§ì€ ì¢…ëª©ì˜ ê°€ê²© ì´ë ¥ì„ ë‹¤ì–‘í•œ ì‹œê°„ ê°„ê²©ì„ ì‚¬ìš©í•´ ì¶”ì í•˜ë ¤ë©´ ë©”ëª¨ë¦¬ê°€ ë§ì´ í•„ìš”í•˜ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\në¯¸ë¦¬ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•´ ë‘” ë§(ring) ë²„í¼ì— ë´‰ì„ ë³´ê³ ë‚˜í•˜ë©´ ìƒˆ ê°ì²´ í• ë‹¹ íšŸìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë©”ëª¨ë¦¬ì— ë‘ëŠ” ë´‰ì˜ ê°œìˆ˜ë¥¼ ì œí•œí•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ë””ìŠ¤í¬ì— ë³´ê´€í•œë‹¤. ì‹œì¥ ë°ì´í„°ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‹¤ì‹œê°„ ë¶„ì„ì„ ìœ„í•´ ë©”ëª¨ë¦¬ ìƒì£¼ ì¹¼ëŸ¼í˜• ë°ì´í„°ë² ì´ìŠ¤(KDB) ì— ë‘”ë‹¤.\nì‹œì¥ì´ ë§ˆê°ëœ í›„ì—ëŠ” ë°ì´í„°ë¥¼ ì´ë ¥ ìœ ì§€ ì „ìš© ë°ì´í„°ë² ì´ìŠ¤ì—ë„ ì €ì¥ 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ í˜„ëŒ€ì˜ ê±°ë˜ì†ŒëŠ” ì§„í™”í•˜ì—¬ í•˜ë‚˜ì˜ ê±°ëŒ€ ì„œë²„ë¡œ ê±°ì˜ ëª¨ë“  ê²ƒì„ ìš´ì˜í•˜ëŠ” í˜•íƒœë¡œ ë°œì „í–ˆë‹¤.\nì„±ëŠ¥ ê±°ë˜ì†ŒëŠ” í‰ê·  ì§€ì—° ì‹œê°„ì€ ë‚®ì•„ì•¼ í•˜ê³ , ì „ë°˜ì ì¸ ì§€ì—° ì‹œê°„ ë¶„í¬ëŠ” ì•ˆì •ì ì´ì–´ì•¼ í•œë‹¤.\nì§€ì—° ì‹œê°„ì´ ì•ˆì •ì ì¸ì§€ ë³´ëŠ” ì¢‹ì€ ì²™ë„ëŠ” P99(99% ë°±ë¶„ìœ„ìˆ˜) ì§€ì—°ì‹œê°„ì´ë‹¤. ì§€ì—° ì‹œê°„ì„ ì¤„ì´ëŠ” ë°©ë²•ì—ëŠ” ëŒ€í‘œì ìœ¼ë¡œ ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.\nì¤‘ìš” ê²½ë¡œì—ì„œ ì‹¤í–‰í•  ì‘ì—… ìˆ˜ë¥¼ ì¤„ì¸ë‹¤. ê° ì‘ì—…ì˜ ì†Œìš” ì‹œê°„ì„ ì¤„ì¸ë‹¤. ë„¤íŠ¸ì›Œí¬ ë° ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ê²½ê° ê° ì‘ì—…ì˜ ì‹¤í–‰ ì‹œê°„ ê²½ê° ì¤‘ìš” ê²½ë¡œ ìµœì í™”\nì¤‘ìš” ê²½ë¡œì—ëŠ” ê¼­ í•„ìš”í•œ êµ¬ì„± ìš”ì†Œë§Œ ë‘”ë‹¤.\në¡œê¹…ë„ ì§€ì—° ì‹œê°„ì„ ì¤„ì´ê¸° ìœ„í•´ ì¤‘ìš” ê²½ë¡œì—ì„œëŠ” ëº€ë‹¤. ì‘ì—… ì†Œìš”ì‹œê°„ ìµœì í™”\ní•µì‹¬ ê²½ë¡œì˜ êµ¬ì„±ìš”ì†Œê°€ ë„¤íŠ¸ìœ„ì»¤ë¥¼ í†µí•´ ì—°ê²°ëœ ê°œë³„ ì„œë²„ì—ì„œ ì‹¤í–‰ëœë‹¤ê³  ê°€ì •í•˜ë©´, ì™•ë³µ ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì‹œê°„ì€ ì•½ 500ë§ˆì´í¬ë¡œ ì´ˆ ì´ë¯€ë¡œ í•µì‹¬ ê²½ë¡œì— ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ í†µì‹ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë§ìœ¼ë©´ ì§€ì—° ì‹œê°„ì€ í•œ ìë¦¿ìˆ˜ ë°€ë¦¬ì´ˆ ê¹Œì§€ ëŠ˜ì–´ë‚œë‹¤.\në˜í•œ ì‹œí€€ì„œëŠ” ì´ë²¤íŠ¸ë¥¼ ë””ìŠ¤í¬ì— ì €ì¥í•˜ëŠ” ì´ë²¤íŠ¸ ì €ì¥ì†Œë¡œ ìˆœì°¨ì  ì“°ê¸°ì˜ ì„±ëŠ¥ ì´ì ì„ í™œìš©í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ì„¤ê³„í•œë‹¤ í•´ë„ ë””ìŠ¤í¬ ì—‘ì„¸ìŠ¤ ì§€ì—° ì‹œê°„ì€ ì—¬ì „íˆ ìˆ˜ì‹­ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ì´ë‹¤.\në„¤íŠ¸ì›Œí¬ ë° ë””ìŠ¤í¬ ì—‘ì„¸ìŠ¤ ì§€ì—° ì‹œê°„ì„ ëª¨ë‘ ê³ ë ¤í•˜ë©´ ì´ ë‹¨ëŒ€ë‹¨(end-to-end) ì§€ì—° ì‹œê°„ì€ ìˆ˜ì‹­ ë°€ë¦¬ì´ˆì— ë‹¬í•œë‹¤.\nê±°ë˜ì†ŒëŠ” ì£¼ë¡œ ë„¤íŠ¸ì›Œí¬ ë° ë””ìŠ¤í¬ ì•¡ì„¸ìŠ¤ ì§€ì—° ì‹œê°„ì„ ì¤„ì´ê±°ë‚˜ ì—†ì• ëŠ” ë°©ì•ˆì„ í†µí•´ ì¤‘ìš” ê²½ë¡œì˜ ë‹¨ëŒ€ë‹¨ ì§€ì—° ì‹œê°„ì„ ìˆ˜ì‹­ ë§ˆì´í¬ë¡œì´ˆë¡œ ì¤„ì˜€ë‹¤.\nëª¨ë“  ê²ƒì„ ë™ì¼í•œ ì„œë²„ì— ë°°ì¹˜í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•˜ëŠ” êµ¬ê°„ì„ ì—†ì• ê³ , ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ ì€ ì´ë²¤íŠ¸ ì €ì¥ì†Œì¸ nmapì„ í†µí•œë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ ë£¨í”„ì˜ ì£¼ëœ ì‘ì—… ì‹¤í–‰ ë§¤ì»¤ë‹ˆì¦˜ì€ while ìˆœí™˜ë¬¸ì„ í†µí•´ ì‹¤í–‰í•  ì‘ì—…ì„ ê³„ì† í´ë§í•œë‹¤.\nì—„ê²©í•œ ì§€ì—° ì‹œê°„ ìš”ê±´ì„ ë§Œì¡±í•˜ë ¤ë©´ ëª©ì  ë‹¬ì„±ì— ê°€ì¥ ì¤‘ìš”í•œ ì‘ì—…ë§Œ ì´ ìˆœí™˜ë¬¸ ì•ˆì—ì„œ ì²˜ë¦¬í•´ì•¼í•œë‹¤. ì´ ë§¤ì»¤ë‹ˆì¦˜ì˜ í­í‘œëŠ” ê° êµ¬ì„± ìš”ì†Œì˜ ì‹¤í–‰ ì‹œê°„ì„ ì¤„ì—¬ ì „ì²´ì ì¸ ì‹¤í–‰ ì‹œê°„ì´ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë„ë¡(ex. p99 ì§€ì—° ì‹œê°„ì„ ë‹ì¶”ì–´) ë³´ì¥í•˜ëŠ” ê²ƒ ì´ë‹¤.\nì»´í¬ë„ŒíŠ¸ëŠ” ì„œë²„ì˜ í”„ë¡œì„¸ìŠ¤ë¡œ CPU íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™” í•˜ê¸° ìœ„í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ ë£¨í”„ëŠ” ë‹¨ì¼ ìŠ¤ë ˆë“œë¡œ êµ¬í˜„í•˜ë©°, íŠ¹ì • CPU ì½”ì–´ì— ê³ ì •ì‹œí‚¨ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ ë£¨í”„ë¥¼ CPUì— ê³ ì •í•˜ë©´ ìƒë‹¹í•œ ì´ì ì´ ìˆë‹¤.\nì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹˜ê°€ ì—†ë‹¤. CPUê°€ ì£¼ë¬¸ ê´€ë¦¬ìì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ë£¨í”„ ì²˜ë¦¬ì— ì˜¨ì „íˆ í• ë‹¹ëœë‹¤. ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ë¿ì´ë¼ì„œ ë½ì„ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ë‹¤. ì ê¸ˆ ê²½í•©(lock contention)ë„ ì—†ë‹¤. CPUë¥¼ ê³ ì •í•˜ëŠ” ë°©ë²•ì˜ ë‹¨ì ì€ ì½”ë”©ì´ ë” ë³µì¡í•´ì§„ë‹¤ëŠ” ê²ƒì´ë‹¤.\nì—”ì§€ë‹ˆì–´ëŠ” ê° ì‘ì—…ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ë£¨í”„ ìŠ¤ë ˆë“œë¥¼ ë„ˆë¬´ ì˜¤ë˜ ì ìœ í•˜ì§€ ì•Šë„ë¡ ê° ì‘ì—…ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ì‹ ì¤‘í•˜ê²Œ ë¶„ì„í•˜ì—¬ í›„ì† ì‘ì—…ì´ ì œë•Œ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤. mmapì€ íŒŒì¼ì„ í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ì— ë§¤í•‘í•˜ëŠ” mmap(2)ë¼ëŠ” ì´ë¦„ì˜ POSIX í˜¸í™˜ UNIX ì‹œìŠ¤í…œ ì½œì„ ì¼ì»«ëŠ”ë‹¤.\nmmap(2)ì€ í”„ë¡œì„¸ìŠ¤ ê°„ ê³ ì„±ëŠ¥ ë©”ëª¨ë¦¬ ê³µìœ  ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•˜ë©°, ë©”ëª¨ë¦¬ì— ë§¤í•‘í•  íŒŒì¼ì´ ë©”ëª¨ë¦¬ ê¸°ë°˜ íŒŒì¼ ì‹œìŠ¤í…œì¸ /dev/shmì— ìˆì„ ë•Œ ì„±ëŠ¥ ì´ì ì€ ë”ìš± ì»¤ì§„ë‹¤.\n/dev/shmì— ìˆëŠ” íŒŒì¼ì— mmap(2)ì„ ìˆ˜í–‰í•˜ë©´ ê³µìœ  ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•´ë„ ë””ìŠ¤í¬ I/OëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì„œë²„ì—ì„œ mmap(2)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ìš” ê²½ë¡œì— ë†“ì¸ êµ¬ì„± ìš”ì†Œê°€ ì„œë¡œ í†µì‹ í•  ë•Œ ì´ìš©í•  ë©”ì‹œì§€ ë²„ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ê°€ëŠ¥í•œ í•œ ë””ìŠ¤í¬ ì ‘ê·¼ì´ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ í•œë‹¤.\nì´ í†µì‹  ê²½ë¡œë¥¼ ì‚¬ìš©í•˜ë©´ ë„¤íŠ¸ì›Œí¬ë‚˜ ë””ìŠ¤í¬ì— ì ‘ê·¼í•˜ëŠ” ì¼ì€ ì—†ë‹¤. ë©”ì‹œì§€ ì „ì†¡ì— ë§ˆì´í¬ë¡œ ì´ˆ ë¯¸ë§Œì˜ ì‹œê°„ì´ ê±¸ë¦°ë‹¤. ì´ì™€ ê°™ì€ ì´ë²¤íŠ¸ ì €ì¥ì†Œì— ì´ë²¤íŠ¸ ì†Œì‹± ì„¤ê³„ íŒ¨ëŸ¬ë‹¤ì„ì„ ê²°í•©í•˜ë©´ ì„œë²„ì— ì§€ì—° ì‹œê°„ì´ ë‚®ì€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ì„ êµ¬ì¶•í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nì´ë²¤íŠ¸ ì†Œì‹± ì „í†µì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ìƒíƒœë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ìœ ì§€í•˜ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì›ì¸ì„ ì¶”ì í•˜ê¸° ì–´ë µë‹¤.\në°ì´í„°ë² ì´ìŠ¤ëŠ” í˜„ì¬ ìƒíƒœë§Œ ìœ ì§€í•  ë¿, í˜„ì¬ ìƒíƒœë¥¼ ì´ˆë˜í•œ ì´ë²¤íŠ¸ì˜ ê¸°ë¡ì€ ì—†ê¸° ë•Œë¬¸ ì´ë²¤íŠ¸ ì†Œì‹± ì•„í‚¤í…ì²˜ëŠ” í˜„ì¬ ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ëŒ€ì‹  ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ëª¨ë“  ì´ë²¤íŠ¸ì˜ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ(immutable) ë¡œê·¸ë¥¼ ìœ ì§€í•œë‹¤.\nì´ë²¤íŠ¸ ì†Œì‹± ì•„í‚¤í…ì²˜ëŠ” ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ì¶”ì í•˜ë¯€ë¡œ, ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ìˆœì„œëŒ€ë¡œ ì¬ìƒí•˜ë©´ ì£¼ë¬¸ ìƒíƒœë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.\nmmap ì´ë²¤íŠ¸ ì €ì¥ì†Œë¥¼ ë©”ì‹œì§€ ë²„ìŠ¤ë¡œ ì‚¬ìš©í•˜ëŠ” ì´ë²¤íŠ¸ ì†Œì‹± ì„¤ê³„ì•ˆìœ¼ë¡œ, ì¹´í”„ì¹´ì˜ íì„­(pub-sub) ëª¨ë¸ê³¼ ì•„ì£¼ ë¹„ìŠ·í•˜ë‹¤. (ì§€ì—° ì‹œê°„ì— ëŒ€í•œ ì—„ê²©í•œ ìš”êµ¬ì‚¬í•­ë§Œ ì—†ì—ˆìœ¼ë©´ ì¹´í”„ì¹´ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.)\nê²Œì´íŠ¸ì›¨ì´ëŠ” ë¹ ë¥´ê³  ê°„ê²°í•œ ì¸ì½”ë”©ì„ ìœ„í•´ FIXë¥¼ SBE(Fix over Simple Binary Encoding)ë¡œ ë³€í™˜í•˜ê³ , ê° ì£¼ë¬¸ì„ ì´ë²¤íŠ¸ ì €ì¥ì†Œ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¯¸ë¦¬ ì •ì˜ëœ í˜•ì‹ì˜ NewOrderEvent í˜•íƒœë¡œ ì „ì†¡í•œë‹¤. ì²´ê²° ì—”ì§„ì— ë‚´ì¥ëœ ì£¼ë¬¸ ê´€ë¦¬ìëŠ” ì´ë²¤íŠ¸ ì €ì¥ì†Œë¡œë¶€í„° NewOrderEventë¥¼ ìˆ˜ì‹ í•˜ë©´ ìœ íš¨ì„± ê²€ì‚¬í•œ ë‹¤ìŒ ë‚´ë¶€ ì£¼ë¬¸ ìƒíƒœì— ì¶”ê°€í•˜ë©°, í•´ë‹¹ ì£¼ë¬¸ì€ ì²˜ë¦¬ ë‹´ë‹¹ CPU ì½”ì–´ë¡œ ì „ì†¡ëœë‹¤. ì£¼ë¬¸ì´ ì²´ê²°ë˜ë©´ OrderFilledEventê°€ ìƒì„±ë˜ì–´ ì´ë²¤íŠ¸ ì €ì¥ì†Œë¡œ ì „ì†¡ëœë‹¤. ì‹œì¥ ë°ì´í„° í”„ë¡œì„¸ì„œ ë° ë³´ê³  ì„œë¹„ìŠ¤ ê°™ì€ ë‹¤ë¥¸ êµ¬ì„±ìš”ì†ŒëŠ” ì´ë²¤íŠ¸ ì €ì¥ì†Œë¥¼ êµ¬ë…í•˜ê³ , ì´ë²¤íŠ¸ë¥¼ ë°›ì„ ë•Œë§ˆë‹¤ ì ì ˆíˆ ì²˜ë¦¬í•œë‹¤. ì´ ì„¤ê³„ëŠ” ì•ì„œ ì‚´í´ë³¸ ê°œëµì  ì„¤ê³„ì•ˆì— ëŒ€ì²´ì ìœ¼ë¡œ ë¶€í•©í•˜ì§€ë§Œ ì´ë²¤íŠ¸ ì†Œì‹± ì•„í‚¤í…ì²˜ì—ì„œ ë” íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì¡°ì •í•œ ë¶€ë¶„ì´ ëª‡ ê°€ì§€ ìˆë‹¤.\nì£¼ë¬¸ ê´€ë¦¬ì\nì´ë²¤íŠ¸ ì†Œì‹± ì•„í‚¤í…ì²˜ì—ì„œ ì£¼ë¬¸ ê´€ë¦¬ìëŠ” ì»´í¬ë„ŒíŠ¸ì— ë‚´ì¥ë˜ëŠ” ì¬ì‚¬ìš© ê°€ëŠ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.\nì¤‘ì•™í™”ëœ ì£¼ë¬¸ ê´€ë¦¬ìë¥¼ ì´ìš©í•˜ë„ë¡ í•  ê²½ìš° ì§€ì—° ì‹œê°„ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ ì‹œí€€ì„œ\nì´ ë‹¤ì´ì–´ê·¸ë¨ì—ëŠ” ì‹œí€€ì„œê°€ ì—†ë‹¤.\nì´ë²¤íŠ¸ ì €ì¥ì†Œì— ë³´ê´€ë˜ëŠ” í•­ëª©ì—ëŠ” sequence í•„ë“œê°€ ìˆê³  ì´ í•„ë“œì˜ ê°’ì€ ì´ë²¤íŠ¸ ì €ì¥ì†Œì— ìˆëŠ” ì‹œí€€ì„œê°€ ë„£ëŠ”ë‹¤.\nê° ì´ë²¤íŠ¸ ì €ì¥ì†Œì—ëŠ” í•˜ë‚˜ì˜ ì‹œí€€ì„œë§Œ ìˆë‹¤.(ì €ì¥ì†Œ ì“°ê¸° ê¶Œí•œì„ ìœ„í•œ ê²½ìŸ ë°©ì§€) ë”°ë¼ì„œ ì‹œí€€ì„œëŠ” ì´ë²¤íŠ¸ ì €ì¥ì†Œì— ë³´ë‚´ê¸° ì „ì— ì´ë²¤íŠ¸ë¥¼ ìˆœì„œëŒ€ë¡œ ì •ë ¬í•˜ëŠ” ìœ ì¼í•œ ì“°ê¸° ì—°ì‚° ì£¼ì²´ì´ë©°, ê°œëµì  ì„¤ê³„ì™€ ë‹¬ë¦¬ ë©”ì‹œì§€ ì €ì¥ì†Œ ì—­í• ì„ í•˜ì§€ì•ŠëŠ” í•œê°€ì§€ ê°„ë‹¨í•œ ì—­í• ë§Œ ìˆ˜í–‰í•˜ë¯€ë¡œ ì•„ì£¼ ë¹ ë¥´ë‹¤.\nê° ì»´í¬ë„ŒíŠ¸ì— ê³ ìœ í•œ ë§ ë²„í¼ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ê°€ì ¸ì˜¨ í›„ ìˆœì„œ IDë¥¼ ì°ê³  ë‹¤ìŒ ì´ë²¤íŠ¸ ì €ì¥ì†Œë¡œ ë³´ë‚¸ë‹¤.\nì£¼ ì‹œí€€ì„œê°€ ë‹¤ìš´ë  ê²½ìš°ë¥¼ ëŒ€ë¹„í•´, ë°±ì—… ì‹œí€€ì„œë¥¼ ë‘ë©´ ê°€ìš©ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤. ê³ ê°€ìš©ì„± ë³¸ ì„¤ê³„ì•ˆì€ 99.99% ê°€ìš©ì„±ì„ ì—¼ë‘ì— ë‘ê³  ì„¤ê³„í•˜ì˜€ìœ¼ë©°, ì´ëŠ” ê±°ë˜ì†Œê°€ ë‹¤ìš´ë  ìˆ˜ ìˆëŠ” ì‹œê°„ì´ í•˜ë£¨ì— 8.64ì´ˆë¥¼ ë„˜ìœ¼ë©´ ì•ˆëœë‹¤ëŠ” ëœ»ì´ë‹¤.\në”°ë¼ì„œ ì„œë¹„ìŠ¤ê°€ ë‹¤ìš´ë˜ë©´ ì¦‰ê° ë³µêµ¬ë˜ì–´ì•¼ í•œë‹¤.\nê°€ìš©ì„±ì„ ë†’ì—¬ì•¼ í•  ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‚¬í•­ì„ ì‚´í´ì•¼í•œë‹¤.\në‹¨ì¼ ì¥ì•  ì§€ì ì„ ì‹ë³„ ex) ì²´ê²° ì—”ì§„ì— ë°œìƒí•˜ëŠ” ì¥ì• ëŠ” ê±°ë˜ì†Œì—ëŠ” ì¬ì•™ì´ë‹¤. ì£¼ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ì¤‘í™”í•´ì•¼ í•œë‹¤. ì¥ì•  ê°ì§€ ë° ë°±ì—… ì¸ìŠ¤í„´ìŠ¤ë¡œì˜ ì¥ì•  ì¡°ì¹˜ ê²°ì •ì´ ë¹¨ë¼ì•¼í•¨ í´ë¼ì´ì–¸íŠ¸ ê²Œì´íŠ¸ì›¨ì´ì™€ ê°™ì€ ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ì˜ ê²½ìš°, ì„œë²„ë¥¼ ì¶”ê°€í•˜ë©´ ì‰½ê²Œ ìˆ˜í‰ì  í™•ì¥ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ì£¼ë¬¸ ê´€ë¦¬ìë‚˜ ì²´ê²° ì—”ì§„ì²˜ëŸ¼ ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ”, ì‚¬ë³¸ ê°„ì— ìƒíƒœ ë°ì´í„°ë¥¼ ë³µì‚¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\në¶€ ì²´ê²° ì—”ì§„ì€ ë™ì¼í•œ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ê³  ì²˜ë¦¬í•˜ì§€ë§Œ ì´ë²¤íŠ¸ ì €ì¥ì†Œë¡œ ì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nì£¼ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¤ìš´ë˜ë©´ ë¶€ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì¦‰ì‹œ ì£¼ ì¸ìŠ¤í„´ìŠ¤ ì§€ìœ„ë¥¼ ìŠ¹ê³„í•œ í›„ ì´ë²¤íŠ¸ë¥¼ ì „ì†¡ ë¶€ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¤ìš´ëœ ê²½ìš° ì¼ë‹¨ ì¬ì‹œì‘ í›„ ì´ë²¤íŠ¸ ì €ì¥ì†Œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ ëª¨ë“  ìƒíƒœ ë³µêµ¬ ì´ë²¤íŠ¸ ì†Œì‹± ì•„í‚¤í…ì²˜ëŠ” ê²°ì •ë¡ ì  íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ìƒíƒœ ë³µêµ¬ê°€ ì‰½ê³  ì •í™•í•˜ì—¬ ê±°ë˜ì†Œì— ì í•©í•˜ë‹¤.\nì´ ì•„í‚¤í…ì²˜ì—ì„œëŠ” ì£¼ ì²´ê²° ì—”ì§„ì˜ ë¬¸ì œë¥¼ ìë™ ê°ì§€í•  ë©”ì»¤ë‹ˆì¦˜ì´ í•„ìš”í•˜ë‹¤.\ní•˜ë“œì›¨ì–´ì™€ í”„ë¡œì„¸ìŠ¤ë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ì¼ë°˜ì ì¸ ë°©ì•ˆ ì²´ê²° ì—”ì§„ê³¼ ë°•ë™ ë©”ì‹œì§€ë¥¼ ì£¼ê³  ë°›ëŠ” ë°©ì•ˆ ìœ„ ì£¼/ë¶€ ì²´ê²° ì—”ì§„ ì„¤ê³„ì•ˆì˜ ë¬¸ì œì ì€ ë‹¨ì¼ ì„œë²„ ì•ˆì—ì„œë§Œ ë™ì‘í•œë‹¤ëŠ” ê²ƒìœ¼ë¡œ, ê³ ê°€ìš©ì„±ì„ ë‹¬ì„±í•˜ë ¤ë©´ ì´ ê°œë…ì„ ì—¬ëŸ¬ ì„œë²„ ë˜ëŠ” ë°ì´í„° ì„¼í„° ì „ë°˜ìœ¼ë¡œ í™•ì¥í•´ì•¼ í•œë‹¤.\nì£¼/ë¶€ ì²´ê²° ì—”ì§„ì´ ì•„ë‹ˆë¼ ì£¼/ë¶€ ì„œë²„ì˜ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•´ì•¼í•¨ ì´ë²¤íŠ¸ ì €ì¥ì†Œë¥¼ ì—¬ëŸ¬ ì„œë²„ë¡œ ë³µì œí•˜ëŠ” ë°ëŠ” ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ë¯€ë¡œ ì•ˆì •ì  UDP(reliable UDP)ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë¶€ ì„œë²„ì— ì´ë²¤íŠ¸ ë©”ì‹œì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤.\nê²°í•¨ ë‚´ì„± ì£¼/ë¶€ ì„¤ê³„ì•ˆì€ ë¹„êµì  ì˜ ë™ì‘í•˜ì§€ë§Œ ë¶€ ì„œë²„ê¹Œì§€ ì „ë¶€ ë‹¤ìš´ë˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ì— ëŒ€ë¹„í•´ì•¼í•œë‹¤.\ní•µì‹¬ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ì§€ì—­ì˜ ë°ì´í„°ì„¼í„°ì— ë³µì œí•˜ì—¬ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ë°, ê²°í•¨ ë‚´ì„±(fault-tolerant) ì‹œìŠ¤í…œì„ ë§Œë“¤ë ¤ë©´ ë§ì€ í™•ì¸ì´ í•„ìš”í•˜ë‹¤.\nì£¼ ì„œë²„ê°€ ë‹¤ìš´ë˜ë©´ ì–¸ì œ, ê·¸ë¦¬ê³  ì–´ë–»ê²Œ ë¶€ ì„œë²„ë¡œ ìë™ ì „í™˜í•˜ëŠ” ê²°ì •ì„ ë‚´ë¦¬ëŠ”ê°€? ë¶€ ì„œë²„ ê°€ìš´ë° ìƒˆë¡œìš´ ë¦¬ë”ëŠ” ì–´ë–»ê²Œ ì„ ì¶œí•˜ëŠ”ê°€? ë³µêµ¬ ì‹œê°„ ëª©í‘œ(Recovery Time Objective, RTO)ëŠ” ì–¼ë§ˆì¸ê°€? ì–´ë–¤ ê¸°ëŠ¥ì„ ë³µêµ¬í•´ì•¼ í•˜ëŠ”ê°€(Recovery Point Objective, RPO)? ì‹œìŠ¤í…œì´ ì„±ëŠ¥ ì €í•˜ ìƒíƒœë¡œë„ ë™ì‘í•  ìˆ˜ ìˆëŠ”ê°€? ë¨¼ì € ì¥ì• ê°€ ìƒê²¼ë‹¤ëŠ” ê²ƒì´ ì‹¤ì œ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì´í•´í•´ì•¼í•œë‹¤.\nì‹œìŠ¤í…œì—ì„œ ì˜ëª»ëœ ê²½ë³´ë¥¼ ì „ì†¡í•˜ë©´ ë¶ˆí•„ìš”í•œ ì¥ì•  ê·¹ë³µ ì ˆì°¨, ì¦‰ ë¶€ ì‹œìŠ¤í…œìœ¼ë¡œì˜ ìë™ ì „í™˜ ë°œìƒ ê°€ëŠ¥ ì½”ë“œì˜ ë²„ê·¸ë¡œ ì¸í•´ ì£¼ ì„œë²„ê°€ ë‹¤ìš´ë˜ì—ˆë‹¤ë©´ ë¶€ ì„œë²„ë¡œ ìë™ ì „í™˜ë˜ë”ë¼ë„ ê°™ì€ ë²„ê·¸ ë•Œë¬¸ì— ë¶€ ì„œë²„ê¹Œì§€ ë‹¤ìš´ë  ìˆ˜ ìˆìŒ ëª¨ë“  ì£¼/ë¶€ ì„œë²„ê°€ ì¤‘ë‹¨ë˜ë©´ ì‹œìŠ¤í…œì€ ë” ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ìƒíƒœì— ë¹ ì§ ì´ëŠ” ì–´ë ¤ìš´ ë¬¸ì œë¡œ ëª‡ ê°€ì§€ í•´ê²°ì±…ì„ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤.\nìƒˆ ì‹œìŠ¤í…œì„ ì²˜ìŒ ì¶œì‹œí•  ë•ŒëŠ” ìˆ˜ë™ìœ¼ë¡œ ì¥ì•  ë³µêµ¬ ì¡°ì¹˜ë¥¼ ìˆ˜í–‰ ì¶©ë¶„í•œ ì‹œê·¸ë„, ìš´ì˜ ê²½í—˜ì„ ì¶•ì í•˜ì—¬ ì‹œìŠ¤í…œì˜ ì´í•´ë„ë¥¼ ë†’ì´ê³  ìë™ìœ¼ë¡œ ì¥ì• ë¥¼ ê°ì§€í•˜ì—¬ ë³µêµ¬í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë„ì… ì¹´ì˜¤ìŠ¤ ì—”ì§€ë‹ˆì–´ë§(chaos engineering)ì€ ë“œë¬¼ê²Œ ë°œìƒí•˜ëŠ” ê¹Œë‹¤ë¡œìš´ ì‚¬ë¡€ë¥¼ ìˆ˜ë©´ìœ¼ë¡œ ì´ëŒì–´ë‚´ê³  ìš´ì˜ ê²½í—˜ì„ ë¹ ë¥´ê²Œ ì¶•ì í•˜ëŠ” ë° ì¢‹ì€ ë°©ë²• ë˜í”„íŠ¸\nì¥ì•  ë³µêµ¬ ì¡°ì¹˜ë¥¼ ìë™ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ í•  ìˆ˜ ìˆë‹¤ë©´ ì–´ë–¤ ì„œë²„ê°€ ì£¼ ì„œë²„ ì—­í• ì„ ì¸ê³„ ë°›ì„ì§€ ê²°ì •í•˜ëŠ” ê²€ì¦ëœ ë¦¬ë” ì„ ì¶œ ì•Œê³ ë¦¬ì¦˜ë“¤ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nëŒ€í‘œì ìœ¼ë¡œ ë˜í”„íŠ¸ê°€ ìˆë‹¤.\nìˆ˜ì‹ ëœ ì´ë²¤íŠ¸ëŠ” íŒ”ë¡œì–´ì˜ ìì²´ mmap ì´ë²¤íŠ¸ ì €ì¥ì†Œì— ì €ì¥ëœë‹¤.\në¦¬ë”ëŠ” íŒ”ë¡œì–´ì—ê²Œ ë°•ë™ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³ , ì¼ì • ê¸°ê°„ ë™ì•ˆ ë°•ë™ ë©”ì‹œì§€ë¥¼ ë°›ì§€ ëª»í•œ íŒ”ë¡œì–´ëŠ” ìƒˆ ë¦¬ë”ë¥¼ ì„ ì¶œí•˜ëŠ” ì„ ê±° íƒ€ì´ë¨¸ë¥¼ ì‹œì‘í•œë‹¤.(AppendEnties) ê°€ì¥ ë¨¼ì € íƒ€ì´ë¨¸ê°€ íƒ€ì„ì•„ì›ƒëœ íŒ”ë¡œì–´ëŠ” í›„ë³´ê°€ ë˜ê³ , ë‹¤ë¥¸ ë‚˜ë¨¸ì§€ íŒ”ë¡œì–´ì—ê²Œ íˆ¬í‘œë¥¼ ìš”ì²­í•œë‹¤.(RequestVote) ê·¸ íŒ”ë¡œì–´ê°€ ê³¼ë°˜ ìˆ˜ ì´ìƒì˜ í‘œë¥¼ ë°›ìœ¼ë©´ ìƒˆë¡œìš´ ë¦¬ë”ê°€ ëœë‹¤. ì²«ë²ˆ ì§¸ íŒ”ë¡œì–´ì˜ ì„ê¸°(term) ê°’ì´ ìƒˆ ë…¸ë“œë³´ë‹¤ ì§§ìœ¼ë©´ ë¦¬ë”ê°€ ë  ìˆ˜ ì—†ìœ¼ë©°, ì—¬ëŸ¬ ëª…ì˜ íŒ”ë¡œì–´ê°€ ë™ì‹œì— í›„ë³´ê°€ ë˜ëŠ” ê²½ìš° ë¶„í•  íˆ¬í‘œ(split vote)ë¼ê³  í•œë‹¤.\nì´ ê²½ìš° ê¸°ì¡´ ì„ ê±°ì˜ íƒ€ì„ì•„ì›ƒì„ ì„ ì–¸í•˜ê³  ìƒˆë¡œìš´ ì„ ê±°ë¥¼ ì‹œì‘í•œë‹¤.\në³µêµ¬ ì‹œê°„ ëª©í‘œ\në³µêµ¬ ì‹œê°„ ëª©í‘œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë‹¤ìš´ë˜ì–´ë„ ì‚¬ì—…ì— ì‹¬ê°í•œ í”¼í•´ê°€ ì—†ëŠ” ì‹œê°„ì˜ ìµœëŒ€ê°’ì´ë‹¤.\nì¦ê¶Œ ê±°ë˜ì†Œì˜ ê²½ìš° 2ë“±ê¸‰ì„ RTOë¥¼ ë‹¬ì„±í•´ì•¼í•˜ëŠ”ë°, ì´ë¥¼ ìœ„í•´ ì„œë¹„ìŠ¤ì˜ ìë™ ë³µêµ¬ê°€ ë°˜ë“œì‹œ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\nìš°ì„ ìˆœìœ„ì— ë”°ë¼ ì„œë¹„ìŠ¤ë¥¼ ë¶„ë¥˜í•˜ê³  ìµœì†Œ ì„œë¹„ìŠ¤ ìˆ˜ì¤€ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ì„±ëŠ¥ ì €í•˜ ì „ëµ(degradation strategy)ì„ ì •ì˜í•œë‹¤. ë³µêµ¬ ì§€ì  ëª©í‘œ\nRPOëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ì— ì‹¬ê°í•œ í”¼í•´ê°€ ë°œìƒí•˜ê¸° ì „ ì†ì‹¤ë  ìˆ˜ ìˆëŠ” ë°ì´í„°ì˜ ì–‘, ì¦‰ ì†ì‹¤ í—ˆìš© ë²”ìœ„ë¥¼ ì˜ë¯¸í•œë‹¤.\nì‹¤ë¬´ì—ì„œëŠ” ë°ì´í„°ëŠ” ìì£¼ ë°±ì—…í•´ì•¼ í•œë‹¤ëŠ” ê²ƒê³¼ ê°™ì€ ëœ»ìœ¼ë¡œ ë°›ì•„ë“¤ì¸ë‹¤. ì¦ê¶Œ ê±°ë˜ì†ŒëŠ” ë°ì´í„° ì†ì‹¤ì„ ìš©ë‚©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ RPOê°€ 0ì— ê°€ê¹ë‹¤.\në ˆí”„íŠ¸ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ë©´ ë°ì´í„° ì‚¬ë³¸ì€ ë§ê³ , ëª¨ë“  í´ëŸ¬ìŠ¤í„° ë…¸ë“œê°€ ê°™ì€ ìƒíƒœë¥¼ ê°–ë„ë¡ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.\nì²´ê²° ì•Œê³ ë¦¬ì¦˜ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 Context handleOrder(OrderBook orderBook, OrderEvent orderEvent) { if (orderEvent.getSequenceId() != nextSequence) { return Error(OUT_OF_ORDER, nextSequence); } if (!validateOrder(symbol, price, quantity)) { return ERROR(INVALID_ORDER, orderEvent); } Order order = createOrderFromEvent(orderEvent); switch (msgType): case NEW: return handleNew(orderBook, order); case CANCEL: return handleCancel(orderBook, order); default: return ERROR(INVALID_MSG_TYPE, msgType); } Context handleNew(OrderBook orderBook, Order order) { if (BUY.equals(order.side)) { return match(orderBook.sellBook, order); } else { return match(orderBook.buyBook, order); } } Context handleCancel(OrderBook orderBook, Order order) { if (!orderBook.orderMap.contains(order.orderId)) { return ERROR(CANNOT_CANCEL_ALREADY_MATCHED, order); } removeOrder(order); setOrderStatus(order, CANCELED); return SUCCESS(CANCEL_SUCCESS, order); } Context match(OrderBook book, Order order) { Quantity leavesQuantity = order.quantity - order.matchedQuantity; Iterator\u0026lt;Order\u0026gt; limitIter = book.limitMap.get(order.price).orders; while (limitIter.hasNext() \u0026amp;\u0026amp; leavesQuantity \u0026gt; 0) { Quantity matched = min(limitIter.next.quantity, order.quantity); order.matchedQuantity += matched; leavesQuantity = order.quantity - order.matchedQuantity; remove(limitIter.next); generateMatchedFill(); } return SUCCESS(MATCH_SUCCESS, order); } ì´ ì˜ì‚¬ ì½”ë“œëŠ” FIFO ì²´ê²° ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤.\níŠ¹ì • ê°€ê²© ìˆ˜ì¤€ì—ì„œ ë¨¼ì € ë“¤ì–´ì˜¨ ì£¼ë¬¸ì´ ë¨¼ì € ì²´ê²°ë˜ê³ , ë§ˆì§€ë§‰ ì£¼ë¬¸ì´ ê°€ì¥ ë‚˜ì¤‘ì— ì²´ê²°ëœë‹¤.\nì²´ê²° ì•Œê³ ë¦¬ì¦˜ì€ ë‹¤ì–‘í•˜ë‹¤.\nFIFO + LLM(Lead Market Maker): LLMì— ë¨¼ì € ì¼ì • ìˆ˜ëŸ‰ì„ í• ë‹¹ ë‹¤í¬ í’€(dark pool) ê²°ì •ë¡  ê²°ì •ë¡ (determinism)ì—ëŠ” ê¸°ëŠ¥ì  ê²°ì •ë¡ (functional determinism)ê³¼ ì§€ì—° ì‹œê°„ ê²°ì •ë¡ (latency determinism)ì´ ìˆë‹¤.\nê¸°ëŠ¥ì  ê²°ì •ë¡ \nì´ë²¤íŠ¸ë¥¼ ë™ì¼í•œ ìˆœì„œë¡œ ì¬ìƒí•˜ë©´ í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” ì‹¤ì œ ì‹œê°„ì€ ëŒ€ì²´ë¡œ ì¤‘ìš”í•˜ì§€ ì•Šê³ , ë°œìƒí•œ ìˆœì„œ ìì²´ê°€ ì¤‘ìš”í•˜ë‹¤.\nì‹œê°„ ì¶• ìœ„ì— ë¶ˆê·œì¹™í•˜ê²Œ ë‚˜ì—´ëœ íƒ€ì„ìŠ¤íƒ¬í”„ë“¤ì´ ì—°ì†ëœ ì ë“¤ë¡œ ë³€í™˜ë˜ì—ˆëŠ”ë°, ê·¸ë ‡ê²Œ ë˜ë©´ ì¬ìƒê³¼ ë³µêµ¬ì— ì†Œìš”ë˜ëŠ” ì‹œê°„ì´ í¬ê²Œ ì¤„ì–´ë“ ë‹¤.\nì§€ì—° ì‹œê°„ ê²°ì •ë¡ \níŠ¹ì • ì‘ì—…ì„ ì™„ë£Œí•˜ê±°ë‚˜ ì…ë ¥ì— ë°˜ì‘í•˜ëŠ” ë° ê±¸ë¦¬ëŠ” ì‹œê°„ì´ ì–¼ë§ˆë‚˜ ì¼ê´€ë˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œì§€ë¥¼ ì˜ë¯¸í•œë‹¤.\nê²°ì •ë¡ ì  ì‹œìŠ¤í…œì€ ì§€ì—° ì‹œê°„ì˜ ë³€ë™ì„±ì„ ìµœì†Œí™”í•˜ì—¬ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì¼ê´€ëœ ì‘ë‹µ ì‹œê°„ì„ ë³´ì¥í•œë‹¤.(ì‘ë‹µ ì‹œê°„ë„ ê²°ì •ë˜ì–´ì•¼í•œë‹¤.)\nê° ê±°ë˜ì˜ ì²˜ë¦¬ ì‹œê°„ì´ ê±°ì˜ ê°™ë‹¤ëŠ” ëœ»ìœ¼ë¡œ ì‚¬ì—…ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì´ë‹¤.\n99ë²ˆ ë°±ë¶„ìœ„ìˆ˜ ì§€ì—° ì‹œê°„ì´ë‚˜ 99.99ë²ˆ ë°±ë¶„ìœ„ìˆ˜ ì§€ì—° ì‹œê°„ì„ ì¸¡ì •í•˜ì—¬ í™•ì¸í•œë‹¤. p99 ì§€ì—° ì‹œê°„ì´ ë‚®ë‹¤ëŠ” ê²ƒì€ ê±°ë˜ì†Œê°€ ê±°ì˜ ëª¨ë“  ê±°ë˜ì— ì•ˆì •ì ì¸ ì„±ëŠ¥ì„ ì œê³µí•œë‹¤ëŠ” ëœ» ì´ë‹¤.\nì§€ì—° ì‹œê°„ ë³€ë™ í­ì´ ì»¤ì§€ë©´ ì›ì¸ ì¡°ì‚¬ê°€ í•„ìš”í•˜ë‹¤.\nì‹œì¥ ë°ì´í„° ê²Œì‹œ ì„œë¹„ìŠ¤ ìµœì í™” L3 í˜¸ê°€ ì°½/ì£¼ë¬¸ì„œ ë°ì´í„°ë¥¼ ë³´ë©´ ì‹œì¥ì„ ë” ì˜ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.\ní•˜ë£¨ì¹˜ ë´‰ ì°¨íŠ¸ ë°ì´í„°ëŠ” ë¬´ë£Œë¡œ ì–»ì„ ìˆ˜ ìˆì§€ë§Œ ìì„¸í•œ L2/L3 í˜¸ê°€ ì°½ ë°ì´í„°ë¥¼ ì–»ìœ¼ë ¤ë©´ ë¹„ìš©ì´ ë§ì´ ë“¤ê¸° ë•Œë¬¸ì—, ë§ì€ í—¤ì§€ í€ë“œê°€ ê±°ë˜ì†Œ ì‹¤ì‹œê°„ APIë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì§ì ‘ ê¸°ë¡í•˜ì—¬ ê¸°ìˆ ì  ë¶„ì„ì„ ìœ„í•œ ë§ì€ ì°¨íŠ¸ë¥¼ ìì²´ì ìœ¼ë¡œ êµ¬ì¶•í•œë‹¤.\nì‹œì¥ ë°ì´í„° ê²Œì‹œ ì„œë¹„ìŠ¤(Market Data Publisher, MDP)ëŠ” ì²´ê²° ì—”ì§„ì˜ ì²´ê²° ê²°ê³¼ë¥¼ ë°›ì•„ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜¸ê°€ ì°½ê³¼ ë´‰ ì°¨íŠ¸ë¥¼ ì¬êµ¬ì¶• í•œ ë‹¤ìŒ êµ¬ë…ìì—ê²Œ ê·¸ ë°ì´í„°ë¥¼ ê²Œì‹œí•œë‹¤.\nMDPëŠ” ë‹¤ì–‘í•œ ìˆ˜ì¤€ì˜ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ”ë°, MDPì˜ ë©”ëª¨ë¦¬ëŠ” ë¬´í•œëŒ€ë¡œ í™•ì¥í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë´‰ ì°¨íŠ¸ì—ëŠ” ìƒí•œì„ ì„ ë‘ì–´ì•¼í•œë‹¤.\nì´ ì„¤ê³„ì•ˆì€ ë§ ë²„í¼ë¥¼ í™œìš©í•œë‹¤. ì›í˜• ë²„í¼ë¼ê³ ë„ í•˜ëŠ” ë§ ë²„í¼ëŠ” ì•ê³¼ ëì´ ì—°ê²°ëœ ê³ ì • í¬ê¸°ì˜ íë¡œ, ìƒì‚°ìëŠ” ê³„ì† ë°ì´í„°ë¥¼ ë„£ê³  í•˜ë‚˜ ì´ìƒì˜ ì†Œë¹„ìëŠ” ë°ì´í„°ë¥¼ êº¼ë‚¸ë‹¤.\në§ ë²„í¼ì˜ ê³µê°„ì€ ì‚¬ì „ì— í• ë‹¹ëœ ê²ƒìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ì—°ì‚°ì´ í•„ìš”ì—†ê³ , ë½ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\níŒ¨ë”©(padding)ì€ ë§ ë²„í¼ì˜ ìˆœì„œ ë²ˆí˜¸ê°€ ë‹¤ë¥¸ ê²ƒê³¼ ê°™ì€ ìºì‹œ ë¼ì¸ì— ì˜¤ì§€ ì•Šë„ë¡ í•œë‹¤. ì‹œì¥ ë°ì´í„°ì˜ ê³µì •í•œ ë°°í¬ ê±°ë˜ì†Œì—ì„œ ë‹¤ë¥¸ ì‚¬ëŒë³´ë‹¤ ì§€ì—° ì‹œê°„ì´ ë‚®ë‹¤ëŠ” ê²ƒì€ ë¯¸ë˜ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒê³¼ ê°™ì€ ì˜ë¯¸ë¡œ, ê·œì œë¥¼ ë°›ëŠ” ê±°ë˜ì†Œì˜ ê²½ìš° ëª¨ë“  ìˆ˜ì‹ ìê°€ ë™ì‹œì— ì‹œì¥ ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì•ˆì •ì  UDPë¥¼ ì‚¬ìš©í•˜ëŠ” ë©€í‹° ì¼€ìŠ¤íŠ¸ëŠ” í•œ ë²ˆì— ë§ì€ ì°¸ê°€ìì—ê²Œ ì—…ë°ì´íŠ¸ë¥¼ ë¸Œë¡œíŠ¸ìºìŠ¤íŠ¸ í•˜ê¸° ì¢‹ì€ ì†”ë£¨ì…˜ì´ë‹¤. ì—°ê²°í•˜ëŠ” ìˆœì„œë¡œ ë°ì´í„°ë¥¼ ì£¼ëŠ” ëŒ€ì‹ , ë¬´ì‘ìœ„ ìˆœì„œë¡œ ì£¼ëŠ” ë°©ë²•ë„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. ê±°ë˜ì†Œ ì„¤ê³„ì—ëŠ” ë³´í¸ì ìœ¼ë¡œ ë©€í‹°ìºìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©°, ê°™ì€ ë©€í‹°ìºìŠ¤íŠ¸ ê·¸ë£¹ì— ì†í•œ ìˆ˜ì‹ ìëŠ” ì´ë¡ ì ìœ¼ë¡œëŠ” ë™ì‹œì— ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•œë‹¤.\nê·¸ëŸ¬ë‚˜ UDPëŠ” ì‹ ë¢°ì„±ì´ ë‚®ì€ í”„ë¡œí† ì½œì´ë©° ê·¸ ë°ì´í„°ê·¸ë¨ì´ ëª¨ë“  ìˆ˜ì‹ ìì—ê²Œ ë„ë‹¬í•˜ì§€ ëª»í•¦ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìœ ì˜í•œë‹¤. ì½”ë¡œì¼€ì´ì…˜ ë§ì€ ê±°ë˜ì†Œê°€ í—¤ì§€ í€ë“œ ë˜ëŠ” ë¸Œë¡œì»¤ì˜ ì„œë²„ë¥¼ ê±°ë˜ì†Œì™€ ê°™ì€ ë°ì´í„° ì„¼í„°ì— ë‘˜ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì½”ë¡œì¼€ì´ì…˜ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.\nì²´ê²° ì—”ì§„ì— ì£¼ë¬¸ì„ ë„£ëŠ” ì§€ì—° ì‹œê°„ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì „ì†¡ ê²½ë¡œ ê¸¸ì´ì— ë¹„ë¡€í•œë‹¤. ìœ ë£Œ VIP ì„œë¹„ìŠ¤ë¡œ ì·¨ê¸‰í•œë‹¤. ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ê±°ë˜ì†ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ ëª‡ ê°€ì§€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê³µê°œí•˜ê³  ìˆê¸° ë•Œë¬¸ì— DDoS ê³µê²©ì— ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ê°–ì¶”ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nê³µê°œ ì„œë¹„ìŠ¤ì™€ ë°ì´í„°ë¥¼ ë¹„ê³µê°œ ì„œë¹„ìŠ¤ì—ì„œ ë¶„ë¦¬í•˜ì—¬ DDoS ê³µê²©ì´ ê°€ì¥ ì¤‘ìš”í•œ í´ë¼ì´ì–¸íŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ í•œë‹¤. ë™ì¼í•œ ë°ì´í„°ë¥¼ ì œê³µí•´ì•¼ í•˜ëŠ” ê²½ìš° ì½ê¸° ì „ìš© ì‚¬ë³¸ì„ ì—¬ëŸ¬ ê°œ ë§Œë“¤ì–´ ë¬¸ì œë¥¼ ê²©ë¦¬ ìì£¼ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠëŠ” ë°ì´í„°ëŠ” ìºì‹± URLì„ ê°•í™” íš¨ê³¼ì ì¸ í—ˆìš©/ì°¨ë‹¨ ë¦¬ìŠ¤íŠ¸ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš© ì²˜ë¦¬ìœ¨ ì œí•œ 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ëŒ€í˜• ê±°ë˜ì†Œë¥¼ ìœ„í•œ ì´ìƒì ì¸ ë°°í¬ ëª¨ë¸ì€ ëª¨ë“  ê²ƒì„ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ì„œë²„ ë„ëŠ” ë‹¨ì¼ í”„ë¡œì„¸ìŠ¤ì— ë°°ì¹˜í•˜ëŠ” ê²ƒì´ë¼ëŠ” ê²°ë¡ ì— ë„ë‹¬í•  ê²ƒì´ë‹¤.\nì¼ë¶€ ê±°ë˜ì†ŒëŠ” ì´ëŸ° ë°©ì‹ì„ ë”°ë¥¸ë‹¤. ì•”í˜¸í™”í ì‚°ì—…ì´ ë°œì „í•¨ì— ë”°ë¼ ë§ì€ ì•”í˜¸í™”í ê±°ë˜ì†Œê°€ í´ë¼ìš°ë“œ ì¸í”„ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•œë‹¤.\ní´ë¼ìš°ë“œ ìƒíƒœê³„ê°€ ì œê³µí•˜ëŠ” í¸ë¦¬í•¨ì€ ì„¤ê³„ì˜ ë°©í–¥ì„ ë°”êµ¬ì—ˆì„ ë¿ ì•„ë‹ˆë¼ ì—…ê³„ ì§„ì… ë¬¸í„±ë„ ë‚®ì¶”ê³  ìˆë‹¤.\n","date":"2024-12-15T14:38:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/13/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/13/","title":"13. ì¦ê¶Œ ê±°ë˜ì†Œ"},{"content":"6ì£¼ì— ê±¸ì¹œ íŒ€ í”„ë¡œì íŠ¸ê°€ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤.ğŸ¥³\nê¸´ ì‹œê°„ì´ ì•„ë‹ˆì–´ì„œ ê·¸ë¬ëŠ”ì§€ ì‹œê°„ì´ ì •ë§ ë¹ ë¥´ê²Œ í˜ëŸ¬ ë°œí‘œê¹Œì§€ ë§ˆë¬´ë¦¬ ë˜ì—ˆë„¤ìš”\nì´ë²ˆ íšŒê³ ì—ì„œëŠ” í”„ë¡œì íŠ¸ì˜ ê¸°ìˆ ì ì¸ ì„±ê³¼ ë³´ë‹¤ëŠ” ì œê°€ ì–´ë–¤ ë§ˆìŒ ê°€ì§ìœ¼ë¡œ í”„ë¡œì íŠ¸ì— ì°¸ì—¬í•˜ì˜€ê³ , ì´ë¥¼ ìœ„í•´ ì·¨í–ˆë˜ í–‰ë™ê³¼ ê·¸ ê²°ê³¼ì— ëŒ€í•´ ì¨ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\nê¸°ìˆ ì ì¸ ë‚´ìš©ì´ ê¶ê¸ˆí•˜ì‹œë‹¤ë©´ ì•„ë˜ ë‚¨ê²¨ë†“ì€ ë§í¬ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”ğŸ˜Š\nBooQuiz - Github BooQuiz - Notion ì´ì œ ê° í•­ëª©ë“¤ì„ ì‚´í´ë³´ë©´ì„œ íšŒê³ ë¥¼ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.\nê°œì¸ ëª©í‘œ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ê¸° ì „, ì €ëŠ” ì• ìì¼ìŠ¤ëŸ¬ìš´ ê°œë°œì„ ê°œì¸ ëª©í‘œë¡œ ì •í–ˆì–´ìš”\nì‹ ì… ê°œë°œìë¥¼ ì±„ìš©í•  ì—¬ë ¥ì´ ìˆëŠ” íšŒì‚¬ë“¤ì€ ì–´ëŠì •ë„ ê·œëª¨ê°€ ìˆëŠ” íšŒì‚¬ì¸ ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.\nê·¸ëŸ¬í•œ ì´ìœ ë¡œ ì‹ ì… ê°œë°œìë“¤ì€ ì´ë¯¸ ë§Œë“¤ì–´ì ¸ìˆëŠ” í™˜ê²½ì„ ì˜ í™œìš©í•  ìˆ˜ ìˆë„ë¡ ì„±ì¥ì´ ìœ ë„ëœë‹¤ê³  ëŠê»´ì¡Œì–´ìš”\nê·¸ë˜ì„œ ê¸°ì¡´ í™˜ê²½ì— ì˜ ì ì‘í•˜ê³  ë‚œ í›„ì—ëŠ” ë‹¨ìˆœ ìš´ì˜ ì—…ë¬´ë“¤ì´ ë§ì€ ê²ƒ ê°™ê³ , ê¸°ì¡´ ê°œë°œìë“¤ê³¼ ì—­ëŸ‰ ì°¨ì´ê°€ ë§ì´ ë‚˜ëŠ” ìƒí™©ì—ì„œëŠ” ìƒˆë¡œìš´ ì—…ë¬´ë‚˜ ê·œëª¨ê°€ í° ì‘ì—…ë“± ì¤‘ìš”í•œ ì—­í• ì— ëŒ€í•´ ê¸°íšŒë¥¼ ë°›ê¸° ì–´ë ¤ìš´ ìƒí™©ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.(ë¬¼ë¡  ì‚¬ë°”ì‚¬ íŒ€ë°”íŒ€)\në•Œë¬¸ì— í° íšŒì‚¬ì— ì¬ì§ì¤‘ì´ë”ë¼ë„ ì–´ëŠì •ë„ ì—°ì°¨ê°€ ìŒ“ì˜€ì„ ë•Œ ìŠ¤íƒ€íŠ¸ì—… ë“±ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ë³´ì´ëŠ” ê²ƒ ê°™ì•„ìš” ì´ì²˜ëŸ¼ ì„œë¹„ìŠ¤ê°€ ë¹ ë¥´ê²Œ ì„±ì¥ ë˜ëŠ” ë³€í™”, ì§„í™”í•´ë‚˜ê°€ëŠ” ê²½í—˜ì€ í° íšŒì‚¬ì— ë‹¤ë‹ˆë˜ ì‚¬ëŒë“¤ì´ ì´ì§ì„ ì„ íƒí•˜ê²Œ ë˜ëŠ” í° ì´ìœ ì¤‘ í•˜ë‚˜ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.\nì €ëŠ” ì§§ì€ ê¸°ê°„ë™ì•ˆ ë¹ ë¥´ê²Œ ë¦´ë¦¬ì¦ˆë¥¼ ë°°í¬í•˜ëŠ” ê²½í—˜ì€ ì´ëŸ¬í•œ ê³¼ì •ì˜ ì¶•ì†Œ, ì••ì¶•íŒ ì´ë¼ê³  ìƒê°í–ˆê³ , ì´ëŸ¬í•œ ì• ìì¼í•œ ê°œë°œ ê²½í—˜ì„ ë™ë£Œë“¤ê³¼ í•¨ê»˜ í•´ë³´ê³  ì‹¶ì—ˆì–´ìš”\nì´ëŸ¬í•œ ë„ì „ì—ì„œ ì´ë¯¸ ì •ì ì„ ì°ê³  ë‚´ë ¤ì˜¤ëŠ” ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•´ë´¤ë˜ ê²½í—˜ì´ ìˆë˜ ì €ëŠ”, ë‹¤ë¥¸ ë™ë£Œë“¤ì—ê²Œ ë°©í–¥ì„ ì œì‹œí•´ ì¤„ ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\nì™„ë²½í•˜ì§„ ì•Šì•„ë„ í™•ì¥ì„ ê³ ë ¤í•  ìˆ˜ ìˆëŠ” ì•„í‚¤í…ì²˜ ì ì ˆí•œ ë¦¬í™í† ë§ ì‹œì  í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¦´ë¦¬ì¦ˆ ë‹¨ê³„ë³„ë¡œ í•„ìš”í•œ í™˜ê²½ê³¼ ë„êµ¬ë“¤ í”„ë¡œì íŠ¸ ìˆ˜í–‰í•˜ë©° ì›í™œí•˜ê²Œ ì§„í–‰ë  ìˆ˜ ìˆë„ë¡ ìœ„ì™€ ê°™ì€ ë‚´ìš©ë“¤ì— ëŒ€í•´ì„œ ë§ì€ ì‹ ê²½ì„ ê¸°ìš¸ì˜€ìŠµë‹ˆë‹¤.ğŸ˜Š\ní”„ë¡œì íŠ¸ ëª©í‘œ ì´ˆê¸° ì†Œê·œëª¨ ì„œë¹„ìŠ¤ì—ì„œ ì‹œì‘í•˜ì—¬ ì ì§„ì ì¸ í™•ì¥ì„ í†µí•œ ê¸°ìˆ ì ìœ¼ë¡œ ì™„ì„±ë„ ë†’ì€ ì„œë¹„ìŠ¤ ë§Œë“¤ê¸°\nê²°ê³¼ë¶€í„° ë§ì”€ë“œë¦¬ë©´, ì´ˆê¸° ì†Œê·œëª¨ ì„œë¹„ìŠ¤ì—ì„œ ì‹œì‘í•˜ì—¬ ì ì§„ì ì¸ í™•ì¥ì„ í†µí•œ ê¸°ìˆ ì ìœ¼ë¡œ ì™„ì„±ë„ ë†’ì€ ì„œë¹„ìŠ¤ ë§Œë“¤ê¸°ë¥¼ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ëª©í‘œë¡œ ì„ ì •í•˜ì˜€ìŠµë‹ˆë‹¤.\nì²˜ìŒ íŒ€ ë¹Œë”© ê³¼ì •ì—ì„œ ì €ì˜ ê°œì¸ ëª©í‘œì¸ ì• ìì¼í•œ ê°œë°œ ê²½í—˜ì„ ë§ì”€ë“œë ¸ê³ , ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ë“¤ì„ í†µí•´ íŒ€ì›ë¶„ë“¤ì˜ ê³µê°ì„ ì–»ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ ê¸°ê°„ ì¤‘ ì‹¤ì§ˆì ìœ¼ë¡œ ê°œë°œí•  ìˆ˜ ìˆëŠ” ê¸°ê°„ì€ 4ì£¼ ì •ë„ ë¿ì„ í”„ë¡œì íŠ¸ì˜ ì¼ì •ì„ ì •í™•íˆ ì‚°ì •í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›€ ì²˜ìŒë¶€í„° ê·œëª¨ë¥¼ í¬ê²Œ ì¡ì„ ê²½ìš° ì´í›„ ë³€ìˆ˜ê°€ ìƒê²¼ì„ ë•Œ í”„ë¡œì íŠ¸ë¥¼ ì—ì–´ì•¼ í•˜ëŠ” ìƒí™©ë„ ì¢…ì¢… ë°œìƒí•¨ ì´ëŸ¬í•œ ê²½ìš° ê¸°ìˆ ì  ì™„ì„±ë„ ìì²´ê°€ í”ë“¤ë¦´ ìˆ˜ ìˆìŒ ë“± ë‹¤ë¥¸ ë¶„ë“¤ë„ ê°œë°œ ê²½í—˜ì„ ìœ„í•œ í”„ë¡œì íŠ¸ì˜ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì€ ê¸°ìˆ ì  ì™„ì„±ë„ê°€ í•µì‹¬ì´ë¼ëŠ” ê²ƒì— ê³µê°í•´ì£¼ì…¨ê³ , ì•ì„œ ë§ì”€ë“œë¦° ì—¬ëŸ¬ ì´ìœ ë“¤ì—ë„ ë‚©ë“ í•´ì£¼ì…”ì„œ ì ì§„ì ìœ¼ë¡œ ì™„ì„±ë„ ë†’í˜€ë‚˜ê°€ëŠ” ë°©í–¥ìœ¼ë¡œ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì €í¬ íŒ€ì˜ ê¸°ì¤€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.\níŒ€ êµ¬ì„± í”„ë¡œì íŠ¸ ì‹œì‘ ì „ 1, 2, 3ìˆœìœ„ ê°œë°œ ì£¼ì œì™€ ì˜¨ë¼ì¸, ì˜¤í”„ë¼ì¸ ì§„í–‰ ì—¬ë¶€ë¥¼ ì‚¬ì „ ì„¤ë¬¸ìœ¼ë¡œ ì„ íƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì €ëŠ” ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤, ì˜¤í”„ë¼ì¸ ì§„í–‰ì„ ì„ íƒí–ˆì–´ìš” íŒ€ì›ì€ ì‚¬ì „ ì„¤ë¬¸ì„ ê¸°ì¤€ìœ¼ë¡œ ëœë¤í•˜ê²Œ ë½‘í˜”ìŠµë‹ˆë‹¤.(ê±°ë¦¬ë„ ì–´ëŠì •ë„ ê³ ë ¤í•´ì£¼ì‹œëŠ” ê²ƒ ê°™ì•˜ì–´ìš”)\nê²°ê³¼ì ìœ¼ë¡œ ì €í¬ íŒ€ì€ ì„¸ë¶€ ì„ íƒ ë¶„ì•¼ ê¸°ì¤€ìœ¼ë¡œ ë°±ì—”ë“œ 4ëª…, í”„ë¡ íŠ¸ì—”ë“œ 1ëª…ì¸ ë¹„ëŒ€ì¹­í•œ ë¹„ìœ¨ë¡œ ì¸ì›ì´ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\nì˜¨ë¼ì¸ í¸ì§‘ ë„êµ¬ ê°™ì€ ê²½ìš° í”„ë¡ íŠ¸ì—”ë“œ 5ëª…ìœ¼ë¡œ êµ¬ì„±ëœ íŒ€ë„ ìˆì—ˆìŠµë‹ˆë‹¤ğŸ˜‚ ë‹¤í–‰íˆë„ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì„ íƒí•˜ì‹  ì¸ì›ì´ ì¸í„´ ë° ëŒ€ì™¸í™œë™ ë“±ìœ¼ë¡œ í”„ë¡œì íŠ¸ ê²½í—˜ì´ ë§ìœ¼ì…¨ë˜ í¸ì´ì–´ì„œ ìµœì•…ì€ ì•„ë‹ˆì—ˆì§€ë§Œ, í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ì˜ ì—…ë¬´ ë¶€í•˜ê°€ ì‹¬í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ì—ˆì–´ìš”\nê·¸ë˜ì„œ ì›ë˜ í’€ìŠ¤íƒ ê°œë°œìë¡œ ì¼í–ˆë˜ ê²½í—˜ì´ ìˆë˜ ì œê°€ ë°±ì—”ë“œì™€ í•¨ê»˜ í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ì„ ê°™ì´ ê°œë°œí•˜ëŠ” ê²ƒìœ¼ë¡œ ì´ì•¼ê¸° ë˜ì—ˆìŠµë‹ˆë‹¤.\ní˜ì–´ í”„ë¡œê·¸ë˜ë° ëª¨ë“  êµ¬ì„±ì›ë“¤ì˜ í”„ë¡œì íŠ¸ ì´í•´ë„ë¥¼ ë†’ì´ë ¤ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\nì €í¬ íŒ€ì€ í”„ë¡œì íŠ¸ì˜ ëŒ€ë¶€ë¶„ì„ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ ì ê·¹ì ìœ¼ë¡œ í™œìš©í–ˆëŠ”ë°, ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤.\në°±ì—”ë“œ ì˜ì—­ì„ ì„ íƒí•˜ì‹  ì„¸ ë¶„ì˜ í”„ë¡œì íŠ¸ ìˆ˜í–‰ ê²½í—˜ ë¶€ì¬ ë°±ì—”ë“œ ì˜ì—­ì„ ì„ íƒí•˜ì‹  ì„¸ ë¶„ ì¤‘ ë‘ ë¶„ì´ í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ ê°œë°œ ì°¸ì—¬ ì˜ì§€ê°€ ìˆì—ˆìŒ ì €ì˜ í’€ìŠ¤íƒ ê°œë°œ ë° CI/CD ë“± í­ë„“ì€ í”„ë¡œì íŠ¸ ë° ì„œë¹„ìŠ¤ ìš´ì˜ ê²½í—˜ ì €ì˜ ê°œì¸ì ì¸ ê²½í—˜ìœ¼ë¡œëŠ” íŒ€ì›ì˜ ì—­ëŸ‰ ê°„ê²©ì´ í° íŒ€ êµ¬ì„±ì—ì„œ ì¼ì •ì´ ì´‰ë°•í•´ì§ˆìˆ˜ë¡ ì—­ëŸ‰ì´ ì¢‹ì€ ì¸ì›ì´ ëŒ€ë¶€ë¶„ì˜ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ê²Œë˜ëŠ” ì¦‰, ì†Œìˆ˜ì˜ ì¸ì›ì´ ìºë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ì–´ìš”\nì´ëŸ¬í•œ ìƒí™©ì´ ë°œìƒí–ˆì„ ë•Œ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œë“¤ì´ ìš°ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤.\nìºë¦¬í•˜ëŠ” ì¸ì› ì—­ëŸ‰ì— í”„ë¡œì íŠ¸ì˜ ì™„ì„±ë„ê°€ ê²°ì •ë¨ ìºë¦¬í•˜ëŠ” ì¸ì›ì˜ í”¼ë¡œë„ë¡œ ì¸í•´ ì™„ì„±ë„ ë‚®ì€ ê²°ê³¼ë¬¼ì´ ë§Œë“¤ì–´ì§ ê³ ìƒì€ ê³ ìƒëŒ€ë¡œ í•˜ì§€ë§Œ ì–»ëŠ” ê²ƒì´ ë§ì´ ì—†ìŒ í”¼ë¡œë„ë¡œ ì¸í•´ ì˜ˆë¯¼í•´ì§€ê³ , ë‹¤íˆ¼ ë“±ìœ¼ë¡œ ê°ì •ê¹Œì§€ ìƒí•¨ ìºë¦¬ ë°›ëŠ” ì…ì¥ì—ì„œë„ ë§‰ìƒ ì±™ê²¨ê°€ëŠ” ê²ƒì€ ì—†ìŒ ì €ëŠ” ì´ëŸ¬í•œ ë¬¸ì œê°€ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì´í•´ë„ê°€ ê°€ì¥ í° ë¬¸ì œë¼ê³  ìƒê°í–ˆì–´ìš”\nê·¸ë˜ì„œ í˜„ì—…ì—ì„œ ìƒˆë¡œìš´ ì¸ì›ì„ íŒ€ì— ë¹ ë¥´ê²Œ ì ì‘ì‹œí‚¤ê¸° ìœ„í•´ ê¸°ì¡´ ì¸ì›ê³¼ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ ì‹œë„í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ì €í¬ íŒ€ì—ë„ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ ì œì•ˆ ë“œë ¸ê³  ì ìš©í•´ë³´ë ¤í–ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ê²°ì •ìœ¼ë¡œ ì£¼ì°¨ë³„ ëª©í‘œì— ë§ê²Œ í˜ì–´ë¥¼ êµ¬ì„±í•˜ë˜, ì œê°€ í•´ë‹¹ ëª©í‘œì— ë§ëŠ” ë¬¸ì œ í•´ê²° ë°©ë²•ì„ ê°œëµì ìœ¼ë¡œ ì •í•´ë“œë¦¬ê³  ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆì–´ìš”\në³¸ê²©ì ì¸ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì´ ì‹œì‘ëœ í›„ ì§„í–‰ ì´ˆë°˜ì— ì•½ê°„ì˜ ê°ˆë“±ë„ ìˆì—ˆìŠµë‹ˆë‹¤ğŸ¥²\ní”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ì˜ ê²½ìš° ê°€ì¥ ë¨¼ì € ê³µí†µ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ê³  ìŠ¤í† ë¦¬ë¶ì„ ì ìš©í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì§„í–‰ë˜ì—ˆì—ˆëŠ”ë°, í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ ê°œë°œì— ì˜ì§€ê°€ ìˆì—ˆë˜ ë‘ ë¶„ì´ ê°œë°œì— ì°¸ì—¬í•˜ë©´ ì´í›„ì— í° ë„ì›€ì´ ë  ê²ƒì´ë¼ íŒë‹¨í•˜ì—¬ ê¸°ì¡´ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ ì›í•˜ì…¨ë˜ í•œ ë¶„ì„ ì£¼ì¶•ìœ¼ë¡œ ì´ ì„¸ ë¶„ì„ í˜ì–´ë¡œ êµ¬ì„±í–ˆì–´ìš”\nì´ ê³¼ì •ì—ì„œ ë‘ ë¶„ì´ í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ì— ëŒ€í•œ ì´í•´ë„ê°€ ë¶€ì¡±í•˜ì…¨ê¸° ë•Œë¬¸ì—, ì£¼ë„í•´ì£¼ì‹  í•œ ë¶„ì´ ë‚˜ë¨¸ì§€ ë‘ ë¶„ì„ ì´í•´ì‹œí‚¤ë©° ì§„í–‰í•˜ëŠ” ê³¼ì •ì— ë§ì€ ì‹œê°„ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.\nì´ë¡œ ì¸í•´ ì§„í–‰ ì†ë„ê°€ ë”ëŒ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì£¼ë„í•˜ì‹  ì¸ì›ì´ ì¼ì •ì— ëŒ€í•œ ìš°ë ¤ë¥¼ í‘œí–ˆê³ , ë‚˜ë¨¸ì§€ ë‘ ë¶„ë„ ë³¸ì¸ë“¤ë¡œ ì¸í•´ í”„ë¡œì íŠ¸ ì¼ì •ì— ì§€ì¥ì´ ìƒê¸°ëŠ” ê²ƒì„ ê±±ì •í•˜ì—¬ ìì‹ ê°ì´ ë–¨ì–´ì§€ê³ ìˆëŠ” ìƒí™©ì´ì—ˆì–´ìš”\nê·¸ë˜ì„œ ì €í¬ íŒ€ì—ì„œ ëª©í‘œë¡œ í–ˆë˜ 1ìˆœìœ„ ê°œë°œ ëª©í‘œë¥¼ 0ìˆœìœ„ ê°œë°œ ëª©í‘œë¡œ ë” ì‘ê²Œ ë§Œë“¤ì–´ ì‘ì—… ë¶„ëŸ‰ì„ ìµœì†Œí•œìœ¼ë¡œ ì¤„ì´ëŠ” ê²ƒìœ¼ë¡œ ì¼ì •ì— ëŒ€í•œ ë¶€ë‹´ì„ ëœì–´ë“œë¦¼ê³¼ ë™ì‹œì— \u0026ldquo;ë‹¹ì¥ ì§„í–‰ ì†ë„ê°€ ëŠë¦¬ë”ë¼ë„ í”„ë¡œì íŠ¸ í›„ë°˜ë¶€ì— ê°€ë©´ í›¨ì”¬ í° ì´ë“ì„ ë³¼ ìˆ˜ ìˆì„ ê²ƒ\u0026rdquo; ì´ë¼ëŠ” ë¯¿ìŒì„ ë“œë¦¬ë ¤ê³  ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì˜ ëª°ëë˜ ë‘ ë¶„ì´ Reactì— ëŒ€í•œ ê¸°ë³¸ì ì¸ í™œìš© ë¿ë§Œ ì•„ë‹ˆë¼ ê°œë°œ ì˜ì—­ì— ëŒ€í•œ ì´í•´ë¥¼ ë°”íƒ•ìœ¼ë¡œ, í”„ë¡œì íŠ¸ ë§‰ë°”ì§€ ì§„í–‰í–ˆë˜ ì‚¬ìš©ì„± ê°œì„  ë° ì•ˆì •í™” ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ í° ë„ì›€ì„ ì£¼ì…¨ìŠµë‹ˆë‹¤ğŸ˜„\në°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ í¸í•˜ê²Œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ë¶„ìœ„ê¸°ë¥¼ ë§Œë“¤ê¸°ìœ„í•´ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\në¶€ìŠ¤íŠ¸ìº í”„ì—ì„œ í”„ë¡œì íŠ¸ ì¼ì • ê°€ì´ë“œë¥¼ í†µí•´ ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì„ ì§„í–‰í•  ê²ƒì„ ê¶Œì¥í•˜ì˜€ëŠ”ë°ìš”\nì €í¬ íŒ€ì€ ì ì§„ì ì¸ ê°œì„ ì„ ëª©í‘œë¡œ í•˜ëŠ”ë§Œí¼ í˜•ì‹ì ì¸ ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì´ ì•„ë‹Œ ì‹¤ì§ˆì ìœ¼ë¡œ ë„ì›€ì´ ë˜ëŠ” ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì´ ë  ìˆ˜ ìˆë„ë¡ ë§ì€ ë…¸ë ¥ì„ ê¸°ìš¸ì˜€ìŠµë‹ˆë‹¤.\níŠ¹íˆ ì´ë¥¼ ìœ„í•´ í¸í•˜ê²Œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œë ¤ ë…¸ë ¥í–ˆì–´ìš”\nì‹ ì… ê°œë°œìê°€ í”„ë¡œì íŠ¸ ì¼ì • ì§€ì—°ì´ ë°œìƒí•˜ëŠ” ì´ìœ ë¡œ ì§„í–‰ ìƒí™©ê³¼ ë‹¹ë©´í•œ ë¬¸ì œì— ëŒ€í•´ ê³µìœ í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ë§ì´ ê¼½ì•„ ì£¼ì‹œëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì €ë„ ì´ì „ì— ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ë©° ê·¸ëŸ° ê²½í—˜ì´ ìˆì—ˆê¸° ë•Œë¬¸ì— í”„ë¡œì íŠ¸ ê²½í—˜ì´ ì ì€ ì¸ì›ì´ ë§ì€ ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œë„ ê·¸ëŸ¬í•œ ë¬¸ì œê°€ ë°œìƒë  ê²ƒ ì´ë¼ê³  ì˜ˆìƒë˜ì—ˆì–´ìš”\nì € ê°™ì€ ê²½ìš°ëŠ” ì•„ë˜ì™€ ê°™ì€ ì´ìœ ë“¤ì´ ê°€ì¥ í° ì›ì¸ì´ì—ˆëŠ”ë°\nì§„í–‰ì— ì–´ë ¤ì›€ì„ ê²ªê³  ìˆë‹¤ëŠ” ê²ƒ ìì²´ê°€ ë¶€ë„ëŸ¬ì›€ ë„ì›€ì„ ìš”ì²­í•˜ëŠ” ê²ƒì— ëŒ€í•œ ë¶€ë‹´ ì¡°ê¸ˆ ë” ê³ ë¯¼í•´ë³´ë©´ ì¢‹ì€ ë°©ë²•ì´ ë– ì˜¤ë¥¼ ê²ƒ ê°™ë‹¤ëŠ” ìƒê° ê·¸ë˜ì„œ ì˜ ëª¨ë¥´ëŠ” ê²ƒê³¼ ì–´ë ¤ì›€ì„ ê²ªëŠ” ê²ƒì— ëŒ€í•´ ë¶€ë„ëŸ¬ìš´ ì¼ì´ ì•„ë‹˜ì„ ëŠì„ì—†ì´ ê°•ì¡°í•˜ë©° ìì‹ ê°ì„ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ ë§ì€ ë…¸ë ¥ì„ ê¸°ìš¸ì˜€ìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ì €ì˜ ì˜ˆìƒë³´ë‹¤ ì§„í–‰ì´ ë”ë”˜ ê²½ìš° ë¨¼ì € ì–´ë ¤ì›€ì„ ëŠë¼ëŠ” ë¶€ë¶„ì— ì§ˆë¬¸í•˜ê³  ë°©í–¥ì„±ì„ ì¡ì•„ ë“œë¦¬ë ¤ ë…¸ë ¥í–ˆì–´ìš”\nì½”ë“œ ë¦¬ë·°ì™€ ë¦¬íŒ©í† ë§ ìŠ¤ìŠ¤ë¡œ ì˜ í•  ìˆ˜ ìˆì„ ê²ƒì´ë€ ë¯¿ìŒì„ ë“œë¦¬ë ¤ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\nì´ì „ê¹Œì§€ì˜ ê²½í—˜ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©° ì–´ë ¤ì›€ì„ ëŠê¼ˆë˜ ë¶€ë¶„ ì¤‘ í•˜ë‚˜ëŠ” ë‚´ê°€ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„í•˜ê³  ìˆì„ê¹Œ? ì— ëŒ€í•œ ì˜ë¬¸ì´ì—ˆì–´ìš”\nì´ë¡œ ì¸í•´ ì € ê°™ì€ ê²½ìš°ëŠ” êµ¬í˜„ì´ ë§ì„¤ì—¬ì§€ê³ , ê³„ì†í•´ì„œ ê°™ì€ ì˜ì—­ì„ ìƒˆë¡œ êµ¬í˜„í•˜ëŠ” ë“±ì˜ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ ì´ˆë°˜ì— ì—­ì‹œë‚˜ ë‹¤ë¥¸ ì¸ì›ë“¤ì—ê²Œì„œë„ ì´ëŸ¬í•œ ëª¨ìŠµë“¤ì´ ì¡°ê¸ˆì”© ë³´ì´ê³  ìˆì—ˆì–´ìš” ê·¸ë˜ì„œ ì ê·¹ì ì¸ ì½”ë“œ ë¦¬ë·°ë¥¼ í†µí•´ ë” ë‚˜ì€ ë°©ë²•ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³¼ ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ë§Œë“¤ê¸°ìœ„í•´ ë…¸ë ¥í–ˆì„ ë¿ë§Œ ì•„ë‹ˆë¼, ë¦¬íŒ©í† ë§ì„ í•¨ê»˜ ìˆ˜í–‰í•˜ë©° ì‹¤ì œë¡œ ë” ë‚˜ì€ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\nì´ë¥¼ í†µí•´ì„œ ë‹¹ì¥ ì™„ë²½í•˜ì§€ëŠ” ì•Šì•„ë„ ê²°ê³¼ì ìœ¼ë¡œ ë” ì¢‹ì€ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ê°ˆ ê²ƒì´ë¼ëŠ” ë¯¿ìŒì„ ë§Œë“¤ì–´ë“œë¦¬ë ¤ê³  ë…¸ë ¥í–ˆì–´ìš”\nì´ëŸ¬í•œ ë…¸ë ¥ ë•ì— ë‹¤ë¥¸ ì¸ì›ë“¤ì´ ì¡°ê¸ˆ ë” ìì‹ ê°ìˆê²Œ ê°œë°œì„ ì§„í–‰í•  ìˆ˜ ìˆì§€ ì•Šì•˜ì„ê¹Œ ìƒê°í•´ë´…ë‹ˆë‹¤ğŸ¤£\nTDDì™€ í…ŒìŠ¤íŠ¸ ì½”ë“œ TDD ì• ìì¼ ê°œë°œ ë°©ë²•ë¡ ì—ì„œ ë¹ ì§€ì§€ì•Šê³  ì–¸ê¸‰ë˜ëŠ” ë‚´ìš©ì¸ë°ìš”\nì €í¬ë„ ì ì§„ì ì€ ê°œë°œê³¼ ë°°í¬ë¥¼ ëª©í‘œë¡œ ì‚¼ì•˜ë˜ ë§Œí¼ TDDë¥¼ í–ˆìœ¼ë©´ ì¢‹ê² ë‹¤ê³  ì œì•ˆí•˜ì˜€ìŠµë‹ˆë‹¤.\nTDDì— ëŒ€í•´ ê°œë°œ ì§„í–‰ ì†ë„ì— ëŒ€í•´ ìš°ë ¤í•´ì£¼ì‹œëŠ” ë¶„ë“¤ì— ëŒ€í•´ ë‹¨ìˆœ êµ¬í˜„ ì‹œê°„ë§Œ ë”°ì§„ë‹¤ë©´ ë” ëŠë¦´ìˆ˜ ìˆì§€ë§Œ, QA ë“±ì„ í¬í•¨í•œ ë°°í¬ê¹Œì§€ì˜ ê¸°ê°„ì„ ë”°ì§„ë‹¤ë©´ ì˜¤íˆë ¤ ë¹ ë¥¼ ìˆ˜ë„ ìˆë‹¤ê³  ì„¤ë“í•˜ì—¬ ì§„í–‰í•˜ë©° ì¼ì •ì— ë¬¸ì œê°€ ìˆì„ ê²½ìš° í…ŒìŠ¤íŠ¸ ì½”ë“œë§Œ í™œìš©í•˜ëŠ” ì¡°ê±´ìœ¼ë¡œ ì±„íƒë˜ì—ˆì–´ìš”\ní…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í”„ë¡œì íŠ¸ì˜ ìŠ¤í™ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ëŠ” ì¡°ì–¸ì„ í† ëŒ€ë¡œ ê¸°íš ë‹¨ê³„ì—ì„œ ì—í”½, ìŠ¤í† ë¦¬, íƒœìŠ¤í¬ë¥¼ ëª…í™•íˆ ë§Œë“¤ë ¤ê³  ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\nê°œë°œ ì´ˆë°˜ì—ëŠ” ê¼¼ê¼¼í•˜ê²Œ ë§Œë“  ë°±ë¡œê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì˜ ì§„í–‰ì´ ë˜ì—ˆëŠ”ë°, í”„ë¡œì íŠ¸ê°€ ì§„í–‰ë  ìˆ˜ë¡ ì§ìœ¼ë¡œ ëŠê»´ì¡Œì–´ìš”\níŠ¹íˆ í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ì˜ ê²½ìš°ëŠ” UIì˜ ì‘ì€ ë³€ê²½ë§Œìœ¼ë¡œë„ í…ŒìŠ¤íŠ¸ê°€ í¬ê²Œ ë³€ê²½ë˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ìŠµë‹ˆë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ ì£¼ìš” ì„œë¹„ìŠ¤ ë¡œì§ì—ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì ìš©ì„ ë°©ì‹ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì „í™˜ë˜ì—ˆì–´ìš”\nì£¼ìš” ë¡œì§ì€ ì»¤ë²„ë¦¬ì§€ 90% ì •ë„ ì˜€ìŠµë‹ˆë‹¤.ğŸ˜‚ ì €í¬ê°€ íŒë‹¨í•œ ì›ì¸ë“¤ì€ ì•„ë˜ì™€ ê°™ì•˜ìŠµë‹ˆë‹¤.\në°±ë¡œê·¸ ìì²´ì˜ ë³€ê²½ ì´ˆê¸° ì„¤ê³„ê°€ í¬ê²Œ ë³€ê²½ ë„ˆë¬´ ë¹ ë¥¸ ìŠ¤í”„ë¦°íŠ¸ ì£¼ê¸° í…ŒìŠ¤íŠ¸ ë„êµ¬ ìˆ™ë ¨ë„ (ex. ws-supertest) ë“± ì œê°€ ìƒê°í•˜ëŠ” ê°€ì¥ í° ë¬¸ì œëŠ” ìŠ¤í”„ë¦°íŠ¸ ì£¼ê¸°ê°€ ë„ˆë¬´ ì§§ì•˜ë˜ ê²ƒì´ ì•„ë‹ê¹Œ ìƒê°í•´ë´¤ì–´ìš”\ní…ŒìŠ¤íŠ¸ ì½”ë“œ ìì²´ê°€ ë¯¸ë˜ ë³€ê²½ì„ ìœ„í•œ íˆ¬ìë¼ëŠ” ë§ì„ ìì£¼ ë“¤ì—ˆëŠ”ë°, ê°™ì€ ì˜ì—­ì— ëŒ€í•œ ë³€ê²½ì´ ë„ˆë¬´ ì¦ê²Œ ë°œìƒí•˜ë‹¤ë³´ë‹ˆ ì¥ì ë³´ë‹¤ ë‹¨ì ì„ ë” í¬ê²Œ ëŠë‚€ê²ƒì´ ì•„ë‹ê¹Œ ìƒê°í•´ë´…ë‹ˆë‹¤.\nìƒì„±í˜• AI í™œìš© ìƒì„±í˜• AIëŠ” ì˜¤ëœ ì‹œê°„ ë§Œì— í˜„ì—…ì— ê°€ê¹Œìš´ ê°œë°œì€ ì§„í–‰í•œ ë§Œí¼ ì´ì „ê³¼ ê°€ì¥ ë‹¬ë¼ì§„ ë¶€ë¶„ ì¤‘ í•˜ë‚˜ì˜€ìŠµë‹ˆë‹¤.\níŠ¹íˆ ìƒì„±í˜• AIë¥¼ í†µí•´ ë¬¸ì„œí™”ì™€ ì„±ëŠ¥ ë¶„ì„ì—ì„œ í° ë„ì›€ì„ ë°›ì•˜ì–´ìš”\nPR ë° Commit ë©”ì‹œì§€ ìƒì„± StoryBook, Swagger ë“±ì˜ ì ìš© ë¦¬íŒ©í† ë§ ì„±ê³¼ ì¸¡ì • ë¶€í•˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„ ì„±ëŠ¥ í‰ê°€ ê²°ê³¼ ë¶„ì„ ë“± ì €ëŠ” í‰ì†Œì— ë¬¸ì„œí™”ë¥¼ í˜ë“¤ì–´ í•˜ëŠ” í¸ ì´ì—ˆëŠ”ë°, ìƒì„±í˜• AIì˜ ë„ì›€ ë°›ì•„ë³´ë‹ˆ ë„ˆë¬´ ì‰½ê²Œ ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.\nì´ë²ˆ ê¸°íšŒë¥¼ í†µí•´ ìƒì„±í˜• AIê°€ ê°œë°œ ìƒì‚°ì„±ì— í° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì²´ê°í•  ìˆ˜ ìˆì—ˆê³ , ì˜ í™œìš©í•  ìˆ˜ ìˆë„ë¡ ë§ì€ ì‹œë„ë¥¼ í•´ë´ì•¼ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆì–´ìš”\nëìœ¼ë¡œ ì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” ë¦¬ë” ì—­í• ì„ ìˆ˜í–‰í•˜ë©° í”„ë¡œì íŠ¸ê°€ ì˜ ìˆ˜í–‰ë  ìˆ˜ ìˆë„ë¡ ë§ì€ ì‹œë„ë¥¼ í•´ë´¤ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nê°œì¸ì ìœ¼ë¡œëŠ” ë¶€ë¶„ ë¶€ë¶„ ì•„ì‰¬ìš´ ì ì´ ë³´ì´ê¸´ í•˜ì§€ë§Œ ëŒ€ì²´ë¡œ ì›í™œí•˜ê²Œ ì§„í–‰ëœ ê²ƒìœ¼ë¡œ ë³´ì•„ ì—­í•  ìˆ˜í–‰ì„ ê½¤ ì˜í•˜ì§€ ì•Šì•˜ì„ê¹Œ ë¼ëŠ” ìƒê°ì„ í•´ë´…ë‹ˆë‹¤.ğŸ˜\n1ì›” 6ì¼ë¶€í„° í”„ë¡œì íŠ¸ ë¦¬íŒ©í† ë§ì„ ì§„í–‰í•˜ê²Œ ë˜ì—ˆëŠ”ë°ìš”, ê¸°ì¡´ íŒ€ì›ë“¤ ì¤‘ ê°€ëŠ¥í•œ ì¸ì›ë“¤ì´ ëª¨ì—¬ì„œ ì§„í–‰í–ˆë˜ í”„ë¡œì íŠ¸ë¥¼ ê°œì„ í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.\nì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§ì— ëŒ€í•œ ìš°ë ¤ ë•Œë¬¸ì— ì ìš©í•˜ì§€ ì•Šì•˜ë˜ ê¸°ìˆ ë“¤ì„ ì ê·¹ì ìœ¼ë¡œ ì ìš©í•´ë³¼ ê²ƒ ê°™ê³ , AIë¥¼ í™œìš©í•œ ê¸°ëŠ¥ ê°œì„ ë„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë„¤ìš”\në§ˆì§€ë§‰ì€ ë¶€ë„ëŸ½ì§€ë§Œ í”„ë¡œì íŠ¸ ìˆ˜í–‰ì— ëŒ€í•œ ë™ë£Œë“¤ì˜ í‰ê°€ë¥¼ ìë‘í•˜ê³  ê°€ê² ìŠµë‹ˆë‹¤ğŸ¤£\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.\n","date":"2024-12-11T10:39:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/membership/6/cover_hud9fb725339af3a8bae61969a7c0c823b_45611_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/membership/6/","title":"ìµœì¢… íŒ€ í”„ë¡œì íŠ¸ íšŒê³ "},{"content":"ê²°ì œ í”Œë«í¼ì€ ì¼ë°˜ì ìœ¼ë¡œ ê³ ê°ê²Œì— ì „ì ì§€ê°‘ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ì—¬ ì§€ê°‘ì— ëˆì„ ë„£ì–´ë‘ê³  í•„ìš”í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nê²°ì œ ê¸°ëŠ¥ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ì§€ê°‘ìœ¼ë¡œ ì§ì ‘ ì†¡ê¸ˆ ì€í–‰ ê°„ ì´ì²´ë³´ë‹¤ ë¹ ë¥´ë©°, ì¼ë°˜ì ìœ¼ë¡œ ì¶”ê°€ ìˆ˜ìˆ˜ë£Œë¥¼ ë¶€ê³¼í•˜ì§€ ì•ŠëŠ”ë‹¤. ì „ì ì§€ê°‘ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°±ì—”ë“œë¥¼ ì„¤ê³„í•´ë³¸ë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ì „ì ì§€ê°‘ ê°„ ì´ì²´ 10,000,000 TPS 99.99% ì•ˆì •ì„± íŠ¸ëœì­ì…˜ ì¬í˜„ì„± ê°œëµì  ì¶”ì • TPSë¥¼ ê±°ë¡ í•œë‹¤ëŠ” ê²ƒì€ íŠ¸ëœì­ì…˜ ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ëœ»í•œë‹¤.\nì¼ë°˜ì ì¸ ë°ì´í„°ì„¼í„° ë…¸ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ˆë‹¹ ìˆ˜ì²œ ê±´ì˜ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•  ìˆ˜ ìˆë‹¤.\nì„¤ê³„ì•ˆì—ì„œ ì‚¬ìš©í•  ë°ì´í„°ë² ì´ìŠ¤ ë…¸ë“œëŠ” 1,000 TPSë¥¼ ì§€ì›í•  ìˆ˜ ìˆë‹¤ê³  ê°€ì • 1ë°±ë§Œ TPSë¥¼ ì§€ì›í•˜ë ¤ë©´ 1,000ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ ë…¸ë“œê°€ í•„ìš”í•¨ ì´ì²´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë ¤ë©´ í•œ ê³„ì¢Œì—ì„œ ì¸ì¶œ, ë‹¤ë¥¸ ê³„ì¢Œì—ì„œ ì…ê¸ˆì„ ì‹¤í–‰í•´ì•¼í•˜ë¯€ë¡œ, ì‹¤ì œë¡œëŠ” 2ë°±ë§Œ TPSë¥¼ ì§€ì›í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, 2,000ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ ë…¸ë“œê°€ í•„ìš”í•˜ë‹¤.\ní•˜ë“œì›¨ì–´ê°€ ê°™ì•„ê³  ê°€ì •í•  ë•Œ, í•œ ë…¸ë“œê°€ ì´ˆë‹¹ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” íŠ¸ëœì­ì…˜ ìˆ˜ê°€ ë§ì„ìˆ˜ë¡ í•„ìš”í•œ ì´ ë…¸ë“œ ìˆ˜ëŠ” ì¤„ì–´ë“¤ì–´ í•˜ë“œì›¨ì–´ ë¹„ìš©ì€ ë‚®ì•„ì§„ë‹¤.\në…¸ë“œë‹¹ TPS ë…¸ë“œ ìˆ˜ 100 20,000 1,000 2,000 10,000 200 ë”°ë¼ì„œ ë‹¨ì¼ ë…¸ë“œê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” íŠ¸ëœì­ì…˜ ìˆ˜ë¥¼ ìµœëŒ€í•œ ëŠ˜ë ¤ ê´€ë¦¬í•´ì•¼í•  ë…¸ë“œ ìˆ˜ë¥¼ ì¤„ì¸ë‹¤.\n2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° API ì„¤ê³„ ì„¸ê°€ì§€ ê°œëµì  ì„¤ê³„ì•ˆ ê°„ë‹¨í•œ ë©”ëª¨ë¦¬ ê¸°ë°˜ ì†”ë£¨ì…˜ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ë¶„ì‚° íŠ¸ëœì­ì…˜ ì†”ë£¨ì…˜ ì¬í˜„ì„±ì„ ê°–ì¶˜ ì´ë²¤íŠ¸ ì†Œì‹±(event sourcing) ì†”ë£¨ì…˜ API ì„¤ê³„ RESTful ê·œì•½ì„ ë”°ë¥´ëŠ” í•˜ë‚˜ì˜ APIë§Œ í•„ìš”í•˜ë‹¤.\nAPI ê¸°ëŠ¥ POST /v1/wallet/balance_transfer í•œ ì§€ê°‘ì—ì„œ ë‹¤ë¥¸ ì§€ê¸‰ìœ¼ë¡œ ìê¸ˆ ì´ì²´ ìš”ì²­ ì¸ì\ní•„ë“œ ì„¤ëª… ìë£Œí˜• from_account ì¸ì¶œ ê³„ì¢Œ string to_account ì´ì²´ ê³„ì¢Œ string amount ê¸ˆì•¡ string currency í†µí™” ë‹¨ìœ„ string transaction_id ì¤‘ë³µ ì œê±° ID uuid ìœ ì˜í•  ë¶€ë¶„ì€ amount í•„ë“œì˜ ìë£Œí˜•ì´ string ì´ë¼ëŠ” ì ì¸ë°(11ì¥ ì°¸ê³ ), ì‹¤ì œë¡œëŠ” floatì´ë‚˜ doubleì„ ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì™€ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— íƒí•˜ëŠ” ê²½ìš°ë„ ë§ë‹¤.\nì •ë°€ë„ë¥¼ ìƒì„ ìœ„í—˜ì„ ì¸ì§€í•˜ê³  ì‚¬ìš©í•œë‹¤ë©´ ì ì ˆí•œ ì„ íƒì¼ ìˆ˜ ìˆë‹¤. ì¸ë©”ëª¨ë¦¬ ìƒ¤ë”© ì§€ê°‘ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ëª¨ë“  ì‚¬ìš©ì ê³„ì •ì˜ ì”ì•¡ì„ ìœ ì§€í•œë‹¤.\nì‚¬ìš©ìì™€ ì”ì•¡ì˜ ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ê¸° ì¢‹ì€ ìë£Œ êµ¬ì¡°ëŠ” í‚¤-ê°’ ìë£Œêµ¬ì¡°ì´ê³ , ì¸ë©”ëª¨ë¦¬ í‚¤-ê°’ ì €ì¥ì†ŒëŠ” ë ˆë””ìŠ¤ê°€ ê°€ì¥ ì¸ê¸°ìˆë‹¤.\nê·¸ëŸ¬ë‚˜ ë ˆë””ìŠ¤ ë…¸ë“œ í•œëŒ€ë¡œ 100ë§Œ TPSëŠ” ë²…ì°¨ê¸° ë•Œë¬¸ì— í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•˜ê³  ì‚¬ìš©ì ê³„ì •ì„ ëª¨ë“  ë…¸ë“œì— ê· ë“±í•˜ê²Œ ë¶„ì‚°ì‹œì¼œì•¼ í•œë‹¤.\níŒŒí‹°ì…”ë‹ ë˜ëŠ” ìƒ¤ë”© í‚¤-ê°’ ë°ì´í„°ë¥¼ nê°œ íŒŒí‹°ì…˜ì— ê³ ë¥´ê²Œ ë¶„ë°°í•˜ë ¤ë©´ í‚¤ì˜ í•´ì‹œ ê°’ì„ ê³„ì‚°í•˜ê³  ì´ë¥¼ íŒŒí‹°ì…˜ì˜ ìˆ˜ nìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\n1 2 3 String accountId = \u0026#34;A\u0026#34;; Int partitionNumber = 7; Int myPartition = accountId.hashCode() % partitionNumber; ëª¨ë“  ë ˆë””ìŠ¤ ë…¸ë“œì˜ íŒŒí‹°ì…˜ ìˆ˜ ë° ì£¼ì†ŒëŠ” í•œ êµ°ë° ì €ì¥í•´ ë‘”ë‹¤.\në†’ì€ ê°€ìš©ì„±ì„ ë³´ì¥í•˜ëŠ” ì„¤ì • ì •ë³´ ì „ë¬¸ ì €ì¥ì†Œ **ì£¼í‚¤í¼(ZooKeeper)**ë¥¼ ì´ ìš©ë„ë¡œ ì“°ë©´ ì¢‹ë‹¤. ì´ ë°©ì•ˆì˜ ë§ˆì§€ë§‰ êµ¬ì„± ìš”ì†ŒëŠ” ì´ì²´ ëª…ë ¹ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ(ì§€ê°‘ ì„œë¹„ìŠ¤, wallet service) ë‹¤ìŒê³¼ ê°™ì€ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nì´ì²´ ëª…ë ¹ ìˆ˜ì‹  ì´ì²´ ëª…ë ¹ì˜ ìœ íš¨ì„± ê²€ì¦ ëª…ë ¹ì´ ìœ íš¨í•œ ê²ƒìœ¼ë¡œ í™•ì¸ë˜ë©´ ì´ì²´ì— ê´€ê³„ëœ ë‘ ê³„ì •ì˜ ì”ì•¡ ê°±ì‹  ë‘ ê³„ì •ì€ ë‹¤ë¥¸ ë ˆë””ìŠ¤ ë…¸ë“œì— ìˆì„ ìˆ˜ ìˆìŒ ì´ ì„œë¹„ìŠ¤ëŠ” ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ì´ë¯€ë¡œ ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì— ìœ ë¦¬í•˜ë‹¤.\nì´ ì„¤ê³„ëŠ” ì‘ë™ì€ í•˜ì§€ë§Œ ì •í™•ì„± ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ì§€ ëª»í•œë‹¤.\në‘ ê°œì˜ ë ˆë””ìŠ¤ ë…¸ë“œë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ”ë°, ê·¸ ë‘ ì—°ì‚°ì´ ëª¨ë‘ ì„±ê³µí•œë‹¤ëŠ” ë³´ì¥ì„ í•  ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ë‘ ì—…ë°ì´íŠ¸ ì—°ì‚°ì´ í•˜ë‚˜ì˜ ì›ìì  íŠ¸ëœì­ì…˜(atomic transaction)ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼í•œë‹¤.\në¶„ì‚° íŠ¸ëœì­ì…˜ ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”© ì„œë¡œ ë‹¤ë¥¸ ë‘ ê°œ ì €ì¥ì†Œ ë…¸ë“œë¥¼ ê°±ì‹ í•˜ëŠ” ì—°ì‚°ì„ ì›ìì ìœ¼ë¡œ ìˆ˜í–‰í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ë“¤ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\në ˆë””ìŠ¤ ë…¸ë“œë¥¼ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ë…¸ë“œë¡œ êµì²´\ní´ë¼ì´ì–¸íŠ¸ì˜ ì”ì•¡ ì •ë³´ê°€ ë ˆë””ìŠ¤ ë…¸ë“œê°€ ì•„ë‹Œ 3ê°œì˜ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ë…¸ë“œë¡œ ë¶„ì‚°ëœë‹¤.\níŠ¸ëœì­ì…˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ë„ ìœ„ì™€ ê°™ì€ ë°©ì‹ì´ë¼ë©´ ë¬¸ì œì˜ ì¼ë¶€ë°˜ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\ní•œ ì´ì²´ ëª…ë ¹ì´ ì„œë¡œ ë‹¤ë¥¸ ë‘ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì— ìˆëŠ” ê³„ì • ë‘ ê°œë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•  ê°€ëŠ¥ì„±ì´ ì•„ì£¼ ë†’ì€ë°, ì´ ë‘ ì‘ì—…ì´ ì •í™•íˆ ë™ì‹œì— ì²˜ë¦¬ëœë‹¤ëŠ” ë³´ì¥ì´ ì—†ë‹¤. ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ í•œ íŠ¸ëœì­ì…˜ì—ì„œëŠ” ì—¬ëŸ¬ ë…¸ë“œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ê´€ì—¬í•  ìˆ˜ ìˆë‹¤.\në¶„ì‚° íŠ¸ëœì­ì…˜ì€ ì´ë“¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ì›ìì ì¸ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ëŠ” ë°©ì•ˆì¸ë°, êµ¬í˜„ë²•ìœ¼ë¡œ ì €ìˆ˜ì¤€ ë°©ì•ˆê³¼ ê³ ìˆ˜ì¤€ ë°©ì•ˆì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\n2ë‹¨ê³„ ì»¤ë°‹ ë°ì´í„°ë² ì´ìŠ¤ ìì²´ì— ì˜ì¡´í•˜ëŠ” ë°©ì•ˆì¸ ì €ìˆ˜ì¤€ ë°©ì•ˆì—ì„œ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.\nì¡°ì •ìëŠ” ì •ìƒì ìœ¼ë¡œ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì½ê¸° ë° ì“°ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ A, Cì—ëŠ” ë½ì´ ê±¸ë¦°ë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ë ¤ í•  ë•Œ ì¡°ì •ìëŠ” ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì— íŠ¸ëœì­ì…˜ ì¤€ë¹„ë¥¼ ìš”ì²­í•œë‹¤. ì¡°ì •ìëŠ” ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì˜ ë“±ë‹µì„ ë°›ì•„ ë‹¤ìŒ ì ˆì°¨ë¥¼ ìˆ˜í–‰í•œë‹¤. ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ê°€ \u0026lsquo;ì˜ˆ\u0026rsquo;ë¼ê³  ì‘ë‹µí•˜ë©´ ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì— í•´ë‹¹ íŠ¸ëœì­ì…˜ ì»¤ë°‹ì„ ìš”ì²­í•œë‹¤. í•œ ë°ì´í„°ë² ì´ìŠ¤ë¼ë„ \u0026lsquo;ì•„ë‹ˆì˜¤\u0026rsquo;ë¼ê³  ì‘ë‹µí•˜ë©´ ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì— íŠ¸ëœì­ì…˜ ì¤‘ë‹¨ì„ ìš”ì²­í•œë‹¤. ì¤€ë¹„ ë‹¨ê³„ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ ì‹¤í–‰ ë°©ì‹ì„ ë³€ê²½í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì €ìˆ˜ì¤€ ë°©ì•ˆìœ¼ë¡œ ì—¬ê²¨ì§„ë‹¤.\n2PCì˜ ê°€ì¥ í° ë¬¸ì œì ì€ ë‹¤ë¥¸ ë…¸ë“œì˜ ë©”ì‹œì§€ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ë½ì´ ì˜¤ë«ë™ì•ˆ ì ê¸´ ìƒíƒœë¡œ ë‚¨ì„ ìˆ˜ ìˆì–´ ì„±ëŠ¥ì´ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ì¡°ì •ìê°€ SPOFê°€ ë  ìˆ˜ ìˆë‹¤. ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ê°€ X/Open XA í‘œì¤€ì„ ë§Œì¡±í•´ì•¼í•œë‹¤. ë¶„ì‚° íŠ¸ëœì­ì…˜: TC/C TC/C(ì‹œë„-í™•ì •/ì·¨ì†Œ, Try-Confirm/Cancel)ëŠ” ë‘ ë‹¨ê³„ë¡œ êµ¬ì„±ëœ ë³´ìƒ íŠ¸ëœì­ì…˜ì´ë‹¤.\nì¡°ì •ìëŠ” ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì— íŠ¸ëœì­ì…˜ì— í•„ìš”í•œ ìì› ì˜ˆì•½ì„ ìš”ì²­í•œë‹¤. ì¡°ì •ìëŠ” ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° íšŒì‹ ì„ ë°›ëŠ”ë‹¤. ëª¨ë‘ \u0026lsquo;ì˜ˆ\u0026rsquo; ë¼ê³  ì‘ë‹µí•˜ë©´ ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì— ì‘ì—… í™•ì¸ì„ ìš”ì²­í•œë‹¤.(ì‹œë„-í™•ì •, Try-Confirm) í•˜ë‚˜ë¼ë„ \u0026lsquo;ì•„ë‹ˆì˜¤\u0026rsquo; ë¼ê³  ì‘ë‹µí•˜ë©´ ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì— ì‘ì—… ì·¨ì†Œë¥¼ ìš”ì²­í•œë‹¤. (ì‹œë„-ì·¨ì†Œ, Try-Cancel) 2PCì˜ ë‘ ë‹¨ê³„ëŠ” í•œ íŠ¸ëœì­ì…˜ì´ì§€ë§Œ, TC/Cì—ì„œëŠ” ê° ë‹¨ê³„ê°€ ë³„ë„ íŠ¸ëœì­ì…˜ì´ë¼ëŠ” ì ì„ ìœ ì˜í•˜ì.\nTC/C ì‚¬ë¡€ ê³„ì¢Œ A ì—ì„œ ê³„ì¢Œ Cë¡œ 1ë‹¬ëŸ¬ë¥¼ ì´ì²´í•œë‹¤ê³  ê°€ì •í•œë‹¤.\në‹¨ê³„ ì‹¤í–‰ì—°ì‚° A C 1 ì‹œë„ ì”ì•¡ ë³€ê²½: -$1 ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ 2 í™•ì¸ ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ ì”ì•¡ ë³€ê²½: +$1 ì·¨ì†Œ ì”ì•¡ ë³€ê²½: +$1 ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ ì§€ê°‘ ì„œë¹„ìŠ¤ê°€ TC/Cì˜ ì¡°ì •ìë¡œê³  ê°€ì •í•˜ê³ , ë¶„ì‚° íŠ¸ëœì­ì…˜ì´ ì‹œì‘ë  ë•Œ ê³„ì • Aì˜ ì”ì•¡ì€ 1ë‹¬ëŸ¬ì´ê³  ê³„ì • Cì˜ ì”ì•¡ì€ 0ë‹¬ëŸ¬ì´ë‹¤.\nì²« ë²ˆì§¸ ë‹¨ê³„: ì‹œë„\nì‹œë„ ë‹¨ê³„ì—ì„œëŠ” ì¡°ì •ì ì—­í• ì„ í•˜ëŠ” ì§€ê°‘ ì„œë¹„ìŠ¤ê°€ ë‘ ê°œì˜ íŠ¸ëœì­ì…˜ ëª…ë ¹ì„ ë‘ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì „ì†¡í•œë‹¤.\nê³„ì • Aê°€ í¬í•¨ëœ ë°ì´í„°ë² ì´ìŠ¤ì— ì”ì•¡ì„ 1ë‹¬ëŸ¬ ê°ì†Œì‹œí‚¤ëŠ” íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•œë‹¤. ê³„ì • Cê°€ í¬í•¨ëœ ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ì•„ë¬´ ì‘ì—…ë„ í•˜ì§€ ì•ŠëŠ”ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì— NOP(No Operation) ëª…ë ¹ì„ ë³´ë‚´ë©°, í•­ìƒ ì„±ê³µí•œë‹¤ëŠ” ì‘ë‹µì„ ë³´ë‚¸ë‹¤. ë‘ ë²ˆì§¸ ë‹¨ê³„: í™•ì •\në‘ ë°ì´í„°ë² ì´ìŠ¤ê°€ ëª¨ë‘ ì˜ˆë¼ê³  ì‘ë‹µí•˜ë©´ ì§€ê°‘ ì„œë¹„ìŠ¤ëŠ” í™•ì • ë‹¨ê³„ë¥¼ ì‹œì‘í•œë‹¤.\nê³„ì • Aì˜ ì”ì•¡ì€ ì´ë¯¸ ì²« ë²ˆì§¸ ë‹¨ê³„ì—ì„œ ê°±ì‹ ë˜ì—ˆìœ¼ë¯€ë¡œ ì”ì•¡ì„ ë³€ê²½í•  í•„ìš”ê°€ ì—†ìœ¼ë‚˜, ê³„ì • Cì—ì„œ 1ë‹¬ëŸ¬ë¥¼ ë°›ì§€ ëª»í–ˆìœ¼ë¯€ë¡œ í™•ì¸ ë‹¨ê³„ì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼í•œë‹¤.\nì„¸ ë²ˆì§¸ ë‹¨ê³„: ì·¨ì†Œ\nì²«ë²ˆì§¸ ì‹œë„ ë‹¨ê³„ì—ì„œ C ê³„ì •ì´ ë¶ˆë²• ê³„ì •ì´ë¼ë˜ê°€í•˜ëŠ” ì´ìœ ë¡œ ì‹¤íŒ¨í•œë‹¤ë©´ ë¶„ì‚° íŠ¸ëœì­ì…˜ì„ ì·¨ì†Œí•˜ê³  ê´€ë ¨ëœ ìì›ì„ ë°˜í™˜í•´ì•¼í•œë‹¤.\nì‹œë„ ë‹¨ê³„ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ê³„ì • Aì˜ ì”ì•¡ì€ ì´ë¯¸ ë°”ë€Œì—ˆê¸° ë•Œë¬¸ì— ë˜ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ì—¬ ê³„ì • Aì— ë‹¤ì‹œ 1ë‹¬ë¼ë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤.\nì‹œë„ ë‹¨ê³„ì—ì„œ ê³„ì • Cì˜ ì”ì•¡ì€ ì—…ë°ì´íŠ¸í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ, ê³„ì • Cì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” NOP ëª…ë ¹ë§Œ ë³´ë‚´ë©´ ëœë‹¤. 2PCì™€ TC/C ë¹„êµ 2PCì™€ TC/C ê°„ì—ëŠ” ë§ì€ ìœ ì‚¬ì ì´ ìˆì§€ë§Œ ì°¨ì´ì ë„ ìˆë‹¤.\nì²« ë²ˆì§¸ ë‹¨ê³„ ë‘ ë²ˆì§¸ ë‹¨ê³„: ì„±ê³µ ë‘ ë²ˆì§¸ ë‹¨ê³„: ì‹¤íŒ¨ 2PC ë¡œì»¬ íŠ¸ëœì­ì…˜ì€ ì•„ì§€ ì™„ë£Œë˜ì§€ ì•Šì€ ìƒíƒœ ëª¨ë“  ë¡œì»¬ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹ ëª¨ë“  ë¡œì»¬ íŠ¸ëœì­ì…˜ì„ ì·¨ì†Œ TC/C ëª¨ë“  ë¡œì»¬ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë˜ê±°ë‚˜ ì·¨ì†Œëœ ìƒíƒœë¡œ ì¢…ë£Œ í•„ìš”í•œ ê²½ìš° ìƒˆ ë¡œì»¬ íŠ¸ëœì­ì…˜ ì‹¤í–‰ ì´ë¯¸ ì»¤ë°‹ëœ íŠ¸ëœì­ì…˜ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë˜ëŒë¦¼ TC/CëŠ” ë³´ìƒ ê¸°ë°˜ ë¶„ì‚° íŠ¸ëœì­ì…˜(distributed transaction by compensation)ì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.\nì‹¤í–‰ ì·¨ì†Œ ì ˆì°¨ë¥¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ìœ¼ë¡œ êµ¬í˜„í•˜ë¯€ë¡œ ê³ ìˆ˜ì¤€ í•´ë²•ì´ë‹¤. ì¥ì ì€ ë°ì´í„°ë² ì´ìŠ¤ê°€ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•œë‹¤ë©´ ë™ì‘í•˜ë¯€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— êµ¬ì• ë°›ì§€ ì•ŠëŠ”ë‹¤.\ní•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ ì„¸ë¶€ ì‚¬í•­ì„ ê´€ë¦¬í•˜ê³  ë¶„ì‚° íŠ¸ëœì­ì…˜ì˜ ë³µì¡ì„±ì„ ê´€ë¦¬í•´ì•¼í•œë‹¤.\në‹¨ê³„ë³„ ìƒíƒœ í…Œì´ë¸” TC/C ì‹¤í–‰ ë„ì¤‘ ì§€ê°‘ ì„œë¹„ìŠ¤ê°€ ë‹¤ì‹œ ì‹œì‘ëœë‹¤ë©´ ê³¼ê±° ëª¨ë“  ì‘ì—… ê¸°ë¡ì´ ì‚¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì´ë¡œì¸í•´ ì–´ë–»ê²Œ ë³µêµ¬í•´ì•¼ í• ì§€ ì•Œ ìˆ˜ ì—†ê²Œ ëœë‹¤.\ní•´ê²°ì±…ì€ ê°„ë‹¨í•œë°, TC/Cì˜ ì§„í–‰ ìƒí™©, íŠ¹íˆ ê° ë‹¨ê³„ ìƒíƒœ ì •ë³´ë¥¼ íŠ¸ëœì­ì…˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë©´ ëœë‹¤.\nì´ë¥¼ ìœ„í•´ ìƒíƒœ ì •ë³´ëŠ” ìµœì†Œí•œ ë‹¤ìŒ ë‚´ìš©ì„ í¬í•¨í•´ì•¼í•œë‹¤.\në¶„ì‚° íŠ¸ëœì­ì…˜ì˜ IDì™€ ë‚´ìš© ê° ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì‹œë„(Try) ë‹¨ê³„ì˜ ìƒíƒœ not sent yet, has been sent, response received ë‘ ë²ˆì§¸ ë‹¨ê³„ì˜ ì´ë¦„ Confirm, Cancel ë‘ ë²ˆì§¸ ë‹¨ê³„ì˜ ìƒíƒœ ìˆœì„œê°€ ì–´ê¸‹ë‚¬ìŒì„ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸ ë‹¨ê³„ë³„ ìƒíƒœ í…Œì´ë¸”(phase status table)ì€ ì¼ë°˜ì ìœ¼ë¡œ ëˆì„ ì¸ì¶œí•  ì§€ê°‘ì˜ ê³„ì •ì´ ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ë‘”ë‹¤.\në¶ˆê· í˜• ìƒíƒœ ëª¨ë“  ê²ƒì´ ìˆœì¡°ë¡­ê²Œ ì§„í–‰ëœë‹¤ê³  ê°€ì •í•˜ë©´ ì‹œë„ ë‹¨ê³„ê°€ ëë‚¬ì„ ë•Œ ê³„ì • Aì—ì„œ 1ë‹¬ëŸ¬ê°€ ì°¨ê°ë˜ê³ , ê³„ì • CëŠ” ë³€í™”ê°€ ì—†ë‹¤.\nì´ëŠ” ê³„ì¢Œì˜ ì´ ì”ê³ ê°€ TC/Cë¥¼ ì‹œì‘ ì‹œì ë³´ë‹¤ ì‘ì€ ê°’ì„ì„ ì˜ë¯¸í•˜ë©°, ê±°ë˜ í›„ì—ë„ ì”ì•¡ ì´í•©ì€ ë™ì¼í•´ì•¼ í•œë‹¤ëŠ” íšŒê³„ ê¸°ë³¸ ì›ì¹™ì„ ìœ„ë°˜í•œë‹¤.\në‹¤í–‰ìŠ¤ëŸ½ê²Œë„ íŠ¸ëœì­ì…˜ ë³´ì¦(transactional guarantee)ì€ TC/C ë°©ì•ˆì—ì„œë„ ì—¬ì „íˆ ìœ íš¨í•˜ë‹¤.\nTC/CëŠ” ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ ë¡œì»¬ íŠ¸ëœì­ì…˜ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.\nTC/Cì˜ ì‹¤í–‰ ì£¼ì²´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë©°, ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì´ëŸ° ë…ë¦½ì  ë¡œì»¬ íŠ¸ëœì­ì…˜ì´ ë§Œë“œëŠ” ì¤‘ê°„ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì´ë‚˜ 2PC ê°™ì€ ë¶„ì‚° íŠ¸ëœì­ì…˜ì˜ ê²½ìš° ì‹¤í–‰ ì£¼ì²´ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì´ë©° ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì¤‘ê°„ ì‹¤í–‰ ê²°ê³¼ë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤. ë¶„ì‚° íŠ¸ëœì­ì…˜ ì‹¤í–‰ ë„ì¤‘ì—ëŠ” í•­ìƒ ë°ì´í„°ì˜ ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ í•˜ìœ„ ì‹œìŠ¤í…œì—ì„œ ë¶ˆì¼ì¹˜ë¥¼ ìˆ˜ì •í•˜ëŠ” ê²½ìš°ì—ëŠ” ê·¸ ì‚¬ì‹¤ì„ ì•Œ í•„ìš”ëŠ” ì—†ì§€ë§Œ, TC/C ê°™ì€ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ì§ì ‘ ì²˜ë¦¬í•´ì•¼í•œë‹¤.\nìœ íš¨í•œ ì—°ì‚° ìˆœì„œ\nì‹œë„ ë‹¨ê³„ì—ì„œ í•  ìˆ˜ ìˆëŠ” ì¼ì€ ì„¸ ê°€ì§€ë‹¤.\nì„ íƒì§€ A B ì„ íƒ 1 -$1 NOP ì„ íƒ 2 NOP +$1 ì„ íƒ 3 -$1 +$1 ë‘ ë²ˆì§¸ ì„ íƒì§€ì˜ ê²½ìš°, ê³„ì • Cì˜ ì—°ì‚°ì€ ì„±ê³µí•˜ì˜€ìœ¼ë‚˜ ê³„ì • Aì—ì„œ ì‹¤íŒ¨í•œ ê²½ìš°(NOP) ì§€ê°‘ ì„œë¹„ìŠ¤ëŠ” ì·¨ì†Œ ë‹¨ê³„ë¥¼ ì‹¤í–‰í•´ì•¼ í•œë‹¤.\nì·¨ì†Œ ë‹¨ê³„ ì‹¤í–‰ ì „ ëˆ„êµ°ê°€ C ê²Œì •ì—ì„œ 1ë‹¬ëŸ¬ë¥¼ ì´ì²´í•˜ì˜€ë‹¤ë©´, Cì—ì„œ 1ë‹¬ëŸ¬ë¥¼ ì°¨ê°í•˜ë ¤ í•  ë•Œ ë‚¨ì€ ì”ì•¡ì´ ì—†ê¸°ë•Œë¬¸ì— ë¶„ì‚° íŠ¸ëœì­ì…˜ì˜ íŠ¸ëœì­ì…˜ ë³´ì¦ì„ ìœ„ë°˜í•˜ê²Œëœë‹¤. ì„¸ ë²ˆì§¸ ì„ íƒì§€ì˜ ê²½ìš°, 1ë‹¬ëŸ¬ë¥¼ Aì—ì„œ ì°¨ê°í•˜ê³  ë™ì‹œì— Cì— ì¶”ê°€í•˜ë©´ ë§ì€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nC ê³„ì¢Œì—ì„œ 1ë‹¬ëŸ¬ë¥¼ ì¶”ê°€í•˜ì˜€ìœ¼ë‚˜ Aì—ì„œ 1ë‹¬ëŸ¬ë¥¼ ì°¨ê°í•˜ëŠ” ì—°ì‚°ì„ ì‹¤íŒ¨í•œë‹¤ë©´ ìœ íš¨í•˜ì§€ ì•Šë‹¤. ë”°ë¼ì„œ ì„ íƒì§€ 1ë§Œ ì˜¬ë°”ë¥¸ ë°©ë²•ì´ë‹¤.\nì˜ëª»ëœ ìˆœì„œë¡œ ì‹¤í–‰ëœ ê²½ìš° TC/Cì—ëŠ” ì‹¤í–‰ ìˆœì„œê°€ ì–´ê¸‹ë‚  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.\nì‹œë„ ë‹¨ê³„ì—ì„œ Aì— ëŒ€í•œ ì‘ì—…ì´ ì‹¤íŒ¨í•˜ì—¬ ì§€ê°‘ ì„œë¹„ìŠ¤ì— ì‹¤íŒ¨ë¥¼ ë°˜í™˜í•œ ë‹¤ìŒ ì·¨ì†Œ ë‹¨ê³„ë¡œ ì§„ì…í•˜ì—¬ Aì™€ C ëª¨ë‘ì— ì·¨ì†Œ ëª…ë ¹ì„ ì „ì†¡í•˜ëŠ” ê³¼ì •ì— ê³„ì • Cë¥¼ ê´€ë¦¬í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë¡œ ì‹œë„ ëª…ë ¹ ì „ ì·¨ì†Œ ëª…ë ¹ë¶€í„° ë°›ê²Œ ë˜ì—ˆë‹¤ê³  ê°€ì •í•œë‹¤.\nê·¸ ì‹œì ì—ì„œ ì·¨ì†Œí•  ê²ƒì´ ì—†ëŠ” ìƒíƒœ ìˆœì„œê°€ ë°”ë€Œì–´ ë„ì°©í•˜ëŠ” ëª…ë ¹ë„ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•˜ë ¤ë©´ ê¸°ì¡´ ë¡œì§ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ë©´ ëœë‹¤.\nì·¨ì†Œ ëª…ë ¹ì´ ë¨¼ì € ë„ì°©í•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ì— ì•„ì§ ìƒì‘í•˜ëŠ” ì‹œë„ ëª…ë ¹ì„ ëª» ë³´ì•˜ìŒì„ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸ë¥¼ ì°¸ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ì €ì¥í•´ë‘”ë‹¤. ì‹œë„ ëª…ë ¹ì´ ë„ì°©í•˜ë©´ í•­ìƒ ë¨¼ì € ë„ì°©í•œ ì·¨ì†Œ ëª…ë ¹ì´ ìˆì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤. ìˆë‹¤ë©´ ë°”ë¡œ ì‹¤íŒ¨ë¥¼ ë°˜í™˜í•œë‹¤. ë‹¨ê³„ë³„ ìƒíƒœ í…Œì´ë¸” ì ˆì—ì„œ í…Œì´ë¸”ì— ìˆœì„œê°€ ì–´ê¸‹ë‚œ ê²½ìš°ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ í”Œë˜ê·¸ë¥¼ ë§ˆë ¨í–ˆë˜ ê²ƒì€ ì´ë¥¼ ìœ„í•´ì„œì´ë‹¤.\në¶„ì‚° íŠ¸ëœì­ì…˜: ì‚¬ê°€ ì„ í˜•ì  ëª…ë ¹ ìˆ˜í–‰ ì‚¬ê°€ëŠ” ìœ ëª…í•œ ë¶„ì‚° íŠ¸ëœì­ì…˜ ì†”ë£¨ì…˜ ê°€ìš´ë° í•˜ë‚˜ë¡œ MSA ì—ì„œëŠ” ì‚¬ì‹¤ìƒ í‘œì¤€ì´ë‹¤.\nëª¨ë“  ì—°ì‚°ì€ ìˆœì„œëŒ€ë¡œ ì •ë ¬ëœë‹¤. ê° ì—°ì‚°ì€ ìê¸° ë°ì´í„°ë² ì´ìŠ¤ì— ë…ë¦½ì ì¸ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤. ì—°ì‚°ì€ ì²« ë²ˆì§¸ë¶€í„° ë§ˆì§€ë§‰ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ëœë‹¤. í•œ ì—°ì‚°ì´ ì™„ë£Œë˜ë©´ ë‹¤ìŒ ì—°ì‚°ì´ ê°œì‹œëœë‹¤. ì—°ì‚°ì´ ì‹¤íŒ¨í•˜ë©´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ëŠ” ì‹¤íŒ¨í•œ ì—°ì‚°ë¶€í„° ë§¨ ì²˜ìŒ ì—°ì‚°ê¹Œì§€ ì—­ìˆœìœ¼ë¡œ ë³´ìƒ íŠ¸ëœì­ì…˜ì„ í†µí•´ ë¡¤ë°±ëœë‹¤. nê°œì˜ ì—°ì‚°ì„ ì‹¤í–‰í•˜ëŠ” ë¶„ì‚° íŠ¸ëœì­ì…˜ì€ ë³´ìƒ íŠ¸ëœì­ì…˜ì„ ìœ„í•œ nê°œì˜ ì—°ì‚°ê¹Œì§€ ì´ 2nê°œì˜ ì—°ì‚°ì„ ì¤€ë¹„í•´ì•¼í•œë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì´ì²´ëŠ” ë¡¤ë°±ë˜ê³  í´ë¼ì´ì–¸íŠ¸ëŠ” ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë°›ëŠ”ë‹¤.\nìœ íš¨í•œ ì—°ì‚° ìˆœì„œì—ì„œ ì–¸ê¸‰í–ˆë“¯ ì…ê¸ˆ ì „ ì¸ì¶œë¶€í„° í•´ì•¼í•˜ëŠ”ë°, ì—°ì‚° ì‹¤í–‰ ìˆœì„œ ì¡°ìœ¨ì€ 2ê°€ì§€ ë°©ë²•ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.\në¶„ì‚° ì¡°ìœ¨(Choreography, ì•ˆë¬´) ì‚¬ê°€ ë¶„ì‚° íŠ¸ëœì­ì…˜ì— ê´€ë ¨ëœ ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì˜ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ ì™„ì „íˆ íƒˆ ì¤‘ì•™í™”ëœ ì¡°ìœ¨ ë°©ì‹ ì¤‘ì•™ ì§‘ì¤‘í˜• ì¡°ìœ¨(Orchestration) í•˜ë‚˜ì˜ ì¡°ì •ì(coordinator)ê°€ ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ì‘ì—…ì„ ì‹¤í–‰í•˜ë„ë¡ ì¡°ìœ¨ ì–´ë–¤ ë°©ì‹ì„ í™œìš©í• ì§€ëŠ” ì‚¬ì—…ìƒì˜ í•„ìš”ì™€ ëª©í‘œì— ë”°ë¼ ì •í•œë‹¤.\në¶„ì‚° ì¡°ìœ¨ ë°©ì‹ì€ ì„œë¹„ìŠ¤ê°€ ì„œë¡œ ë¹„ë™ê¸°ì‹ìœ¼ë¡œ í†µì‹ í•˜ë¯€ë¡œ ëª¨ë“  ì„œë²„ìŠ¤ëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤ê°€ ë°œìƒì‹œí‚¨ ì´ë²¤íŠ¸ ê²°ê³¼ë¡œ ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í• ì§€ ì •í•˜ê¸° ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ ìƒíƒœ ê¸°ê³„ë¥¼ ìœ ì§€í•´ì•¼í•œë‹¤.\nì„œë¹„ìŠ¤ê°€ ë§ìœ¼ë©´ ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë³µì¡í•œ ìƒí™©ì„ ì˜ ì²˜ë¦¬í•˜ëŠ” ì¤‘ì•™ ì§‘ì¤‘í˜• ì¡°ìœ¨ ë°©ì‹ì´ ì„ í˜¸ëœë‹¤.\nTC/C vs ì‚¬ê°€ ëª¨ë‘ ì• í”Œë¦¬ì¼€ì´ì…˜ ìˆ˜ì¤€ ë¶„ì‚° íŠ¸ëœì­ì…˜ì´ì§€ë§Œ ì°¨ì´ì ë„ ì¡´ì¬í•œë‹¤.\nTC/C ì‚¬ê°€ ë³´ìƒ íŠ¸ëœì­ì…˜ ì‹¤í–‰ ì·¨ì†Œ ë‹¨ê³„ì—ì„œ ë¡¤ë°± ë‹¨ê³„ì—ì„œ ì¤‘ì•™ ì¡°ì • ì˜ˆ ì˜ˆ(ì¤‘ì•™ ì§‘ì¤‘í˜• ì¡°ìœ¨ ëª¨ë“œ) ì‘ì—… ì‹¤í–‰ ìˆœì„œ ì„ì˜ ì„ í˜• ë³‘ë ¬ ì‹¤í–‰ ê°€ëŠ¥ì„± ì˜ˆ ì•„ë‹ˆì˜¤(ì„ í˜•ì  ì‹¤í–‰) ì¼ì‹œì ìœ¼ë¡œ ì¼ê´€ë˜ì§€ ì•Šì€ ìƒíƒœ í—ˆìš© ì˜ˆ ì˜ˆ êµ¬í˜„ ê³„ì¸µ: ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤ë¬´ì—ì„œëŠ” ì§€ì—° ì‹œê°„(latency) ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë‘˜ ê°€ìš´ë° í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë©´ ëœë‹¤.\nì§€ì—° ì‹œê°„ ìš”êµ¬ì‚¬í•­ì´ ì—†ê±°ë‚˜ ì•ì„œ ì‚´í´ë³¸ ì†¡ê¸ˆ ì‚¬ë¡€ì²˜ëŸ¼ ì„œë¹„ìŠ¤ ìˆ˜ê°€ ë§¤ìš° ì ë‹¤ë©´ ì•„ë¬´ê±°ë‚˜ ì“´ë‹¤. MSAì—ì„œ í”íˆ í•˜ëŠ”ë°ë¡œ í•˜ê³ ì‹¶ë‹¤ë©´ ì‚¬ê°€ë¥¼ ì„ íƒ ì§€ì—° ì‹œê°„ì— ë¯¼ê°í•˜ê³  ë§ì€ ì„œë¹„ìŠ¤/ìš´ì˜ì´ ê´€ê³„ëœ ì‹œìŠ¤í…œì´ë¼ë©´ TC/Cê°€ ë” ë‚«ë‹¤. ì´ë²¤íŠ¸ ì†Œì‹± ë¶„ì‚° íŠ¸ëœì­ì…˜ ë°©ì•ˆë„ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ ìˆ˜ì¤€ì—ì„œ ì˜ëª» ëœ ì‘ì—…ì„ ì…ë ¥(ì…ë ¥ëœ ê¸ˆì•¡ ìì²´ê°€ ì˜ëª»ë¨) ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì„ ì—­ì¶”ì í•˜ê³  ëª¨ë“  ê³„ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì—°ì‚°ì„ ê°ì‚¬í•  ë°©ë²•ì´ ìˆìœ¼ë©´ ì¢‹ë‹¤.\nì „ì ì§€ê°‘ ì„œë¹„ìŠ¤ ì œê³µ ì—…ì²´ë„ ì™¸ë¶€ ê°ì‚¬ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.\níŠ¹ì • ì‹œì ì˜ ê³„ì • ì”ì•¡ì€? ê³¼ê±° ë° í˜„ì¬ ê³„ì • ì”ì•¡ì´ ì •í™•í•œì§€? ì½”ë“œ ë³€ê²½ í›„ì—ë„ ì‹œìŠ¤í…œ ë¡œì§ì´ ì˜¬ë°”ë¥¸ì§€ ê²€ì¦ ë°©ë²•ì€? ì´ëŸ¬í•œ ì§ˆë¬¸ì— ì²´ê³„ì ìœ¼ë¡œ ë‹µí•  ìˆ˜ ìˆëŠ” ì„¤ê³„ ì² í•™ ì¤‘ í•˜ë‚˜ëŠ” ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„(Domain-Driven Design, DDD)ì—ì„œ ê°œë°œëœ ê¸°ë²•ì¸ ì´ë²¤íŠ¸ ì†Œì‹±ì´ë‹¤.\nì •ì˜ ì´ë²¤íŠ¸ ì†Œì‹±ì—ëŠ” ë„¤ê°€ì§€ ì¤‘ìš”í•œ ìš©ì–´ê°€ ìˆë‹¤.\nëª…ë ¹\nëª…ë ¹ì€ ì™¸ë¶€ì—ì„œ ì „ë‹¬ëœ, ì˜ë„ê°€ ëª…í™•í•œ ìš”ì²­ì´ë‹¤.\nex) Aì—ì„œ Cë¡œ 1ë‹¬ëŸ¬ ì´ì²´ ì´ë²¤íŠ¸ ì†Œì‹±ì—ì„œ ìˆœì„œëŠ” ì•„ì£¼ ì¤‘ìš”í•˜ë¯€ë¡œ ëª…ë ¹ì€ ì¼ë°˜ì ìœ¼ë¡œ FIFO íì— ì €ì¥ëœë‹¤.\nì´ë²¤íŠ¸\nëª…ë ¹ì€ ì˜ë„ê°€ ëª…í™•í•˜ì§€ë§Œ ì‚¬ì‹¤(fact)ëŠ” ì•„ë‹ˆê¸° ë•Œë¬¸ì— ìœ íš¨í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.\nìœ íš¨í•˜ì§€ ì•Šì€ ëª…ë ¹ì€ ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤.\nex) ì´ì²´ í›„ ì”ì•¡ì´ ìŒìˆ˜ê°€ ëœë‹¤ë©´ ì´ì²´ëŠ” ì‹¤íŒ¨í•œë‹¤. ì‘ì—… ì´í–‰ ì „ì—ëŠ” ë°˜ë“œì‹œ ëª…ë ¹ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ê²€ì‚¬ë¥¼ í†µê³¼í•œ ëª…ë ¹ì€ ë°˜ë“œì‹œ ì´í–‰(fulfill)ë˜ì–´ì•¼ í•œë‹¤.\nì´ë ‡ê²Œ ì´í–‰ëœ ê²°ê³¼ë¥¼ ì´ë²¤íŠ¸ë¼ê³  ë¶€ë¥¸ë‹¤.\nì´ë²¤íŠ¸ëŠ” ê²€ì¦ëœ ì‚¬ì‹¤ë¡œ ì‹¤í–‰ì´ ëë‚œ ìƒíƒœì´ë‹¤. ì´ë²¤íŠ¸ì— ëŒ€í•´ ì´ì•¼ê¸° í•  ë•ŒëŠ” ê³¼ê±° ì‹œì œë¥¼ ì‚¬ìš©í•œë‹¤. ëª…ë ¹ì—ëŠ” ë¬´ì‘ìœ„ì„±(randomness)ì´ë‚˜ I/Oê°€ í¬í•¨ë  ìˆ˜ ìˆì§€ë§Œ ì´ë²¤íŠ¸ëŠ” ê²°ì •ë¡ ì (deterministic)ì´ë‹¤. ì´ë²¤íŠ¸ëŠ” ê³¼ê±°ì— ì‹¤ì œë¡œ ìˆì—ˆë˜ ì¼ì´ë‹¤. ì´ë²¤íŠ¸ ìƒì„± í”„ë¡œì„¸ìŠ¤ì—ëŠ” ë‘ ê°€ì§€ ì¤‘ìš”í•œ íŠ¹ì„±ì´ ìˆë‹¤.\ní•˜ë‚˜ì˜ ëª…ë ¹ìœ¼ë¡œ ì—¬ëŸ¬ ì´ë²¤íŠ¸ê°€ ë§Œë“¤ì–´ì§ˆ ìˆ˜ ìˆë‹¤.(0 ì´ìƒ) ì´ë²¤íŠ¸ ìƒì„± ê³¼ì •ì—ëŠ” ë¬´ì‘ìœ„ì„±ì´ ê°œì…ë  ìˆ˜ ìˆì–´ ê°™ì€ ëª…ë ¹ì— í•­ìƒ ë™ì¼í•œ ì´ë²¤íŠ¸ë“¤ì´ ë§Œë“¤ì–´ì§„ë‹¤ëŠ” ë³´ì¥ì´ ì—†ë‹¤. ì´ë²¤íŠ¸ ìƒì„± ê³¼ì •ì—ëŠ” ì™¸ë¶€ I/O ë˜ëŠ” ë‚œìˆ˜ê°€ ê°œì…ë  ìˆ˜ ìˆë‹¤. ì´ë²¤íŠ¸ ìˆœì„œëŠ” ëª…ë ¹ ìˆœì„œë¥¼ ë”°ë¼ì•¼í•˜ë¯€ë¡œ ì´ë²¤íŠ¸ë„ FIFO íì— ì €ì¥í•œë‹¤.\nìƒíƒœ\nìƒíƒœëŠ” ì´ë²¤íŠ¸ê°€ ì ìš©ë  ë•Œ ë³€ê²½ë˜ëŠ” ë‚´ìš©ì´ë‹¤.\nì§€ê°‘ ì‹œìŠ¤í…œì—ì„œ ìƒíƒœëŠ” ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ ê³„ì •ì˜ ì”ì•¡ìœ¼ë¡œ, ë§µ ìë£Œ êµ¬ì¡°ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\ní‚¤ëŠ” ê³„ì • ì´ë¦„ ë˜ëŠ” ID ê°’ì€ ê³„ì • ì”ì•¡ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë„ í‚¤-ê°’ ì €ì¥ì†Œë¡œ ë³¼ ìˆ˜ ìˆë‹¤.\ní‚¤ëŠ” PK, ê°’ì€ ë ˆì½”ë“œ ìƒíƒœ ê¸°ê³„\nìƒíƒœ ê¸°ê³„ëŠ” ì´ë²¤íŠ¸ ì†Œì‹± í”„ë¡œì„¸ìŠ¤ë¥¼ êµ¬ë™í•œë‹¤.\nëª…ë ¹ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ê³  ì´ë²¤íŠ¸ë¥¼ ìƒì„± ì´ë²¤íŠ¸ë¥¼ ì ìš©í•˜ì—¬ ìƒíƒœë¥¼ ê°±ì‹  ì´ë²¤íŠ¸ ì†Œì‹±ì„ ìœ„í•œ ìƒíƒœ ê¸°ê³„ëŠ” ê²°ì •ë¡ ì ìœ¼ë¡œ ë™ì‘í•´ì•¼ í•˜ë¯€ë¡œ ë¬´ì‘ìœ„ì„±ì„ ë‚´í¬í•  ìˆ˜ ì—†ë‹¤.\nI/Oë¥¼ í†µí•´ ì™¸ë¶€ì—ì„œ ë¬´ì‘ìœ„ì  ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ë‚œìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë²¤íŠ¸ë¥¼ ìƒíƒœì— ë°˜ì˜í•˜ëŠ” ê²ƒ ë˜í•œ í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ë³´ì¥í•´ì•¼í•œë‹¤. ëª…ë ¹ì„ ì´ë²¤íŠ¸ë¡œ ë³€í™˜í•˜ê³  ì´ë²¤íŠ¸ë¥´ ì ìš©í•˜ëŠ” ë‘ ê°€ì§€ ê¸°ëŠ¥ì„ ì§€ì›í•´ì•¼ í•˜ë¯€ë¡œ ëª…ë ¹ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìœ„í•œ ìƒíƒœ ê¸°ê³„ í•˜ë‚˜ì™€ ì´ë²¤íŠ¸ ì ìš©ì„ ìœ„í•œ ìƒíƒœ ê¸°ê³„ í•˜ë‚˜ë¥¼ ë‘”ë‹¤.\nì—¬ê¸°ì— ì‹œê°„ì„ í•˜ë‚˜ì˜ ì°¨ì›ìœ¼ë¡œ ì¶”ê°€í•˜ë©´ ë™ì  ê´€ì ìœ¼ë¡œë„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nëª…ë ¹ì„ ìˆ˜ì‹ í•˜ê³  ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì„ ê³„ì† ë°˜ë³µí•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.\nì§€ê°‘ ì„œë¹„ìŠ¤ ì˜ˆì‹œ ì§€ê°‘ ì„œë¹„ìŠ¤ì˜ ê²½ìš° ëª…ë ¹ì€ ì´ì²´ ìš”ì²­ì¼ ê²ƒì´ë‹¤.\nëª…ë ¹ì€ FIFO íì— ê¸°ë¡í•˜ë©°, íë¡œëŠ” ì¹´í”„ì¹´ë¥¼ ë„ë¦¬ ì‚¬ìš©í•œë‹¤.\nìƒíƒœ, ì¦‰ ê³„ì • ì”ì•¡ì€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ìˆë‹¤ê³  ê°€ì • ìƒíƒœ ê¸°ê³„ëŠ” ëª…ë ¹ íì— ë“¤ì–´ê°„ ìˆœì„œëŒ€ë¡œ í™•ì¸í•œë‹¤.\nëª…ë ¹ í•˜ë‚˜ë¥¼ ì½ì„ ë•Œë§ˆë‹¤ ê³„ì •ì— ì¶©ë¶„í•œ ì”ì•¡ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ë©°, ì¶©ë¶„í•˜ë‹¤ë©´ ìƒíƒœ ê¸°ê³„ëŠ” ê° ê³„ì •ì— ëŒ€í•œ ì´ë²¤íŠ¸ë¥¼ ë§Œë“ ë‹¤.\nëª…ë ¹ì´ A -\u0026gt; $1 -\u0026gt; Cë¼ë©´ A: -$1, C: +$1 ë‘ ì´ë²¤íŠ¸ë¥¼ ë§Œë“ ë‹¤. ëª…ë ¹ ëŒ€ê¸°ì—´ì—ì„œ ëª…ë ¹ì„ ì½ëŠ”ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì”ì•¡ ìƒíƒœë¥¼ ì½ëŠ”ë‹¤. ëª…ë ¹ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ê³  ìœ íš¨í•˜ë©´ ê³„ì •ë³„ë¡œ ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤. ë‹¤ìŒ ì´ë²¤íŠ¸ë¥¼ ì½ëŠ”ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì˜ ì”ì•¡ì„ ê°±ì‹ í•˜ì—¬ ì´ë²¤íŠ¸ ì ìš©ì„ ë§ˆì¹œë‹¤. ì¬í˜„ì„± ì´ë²¤íŠ¸ ì†Œì‹±ì´ ë‹¤ë¥¸ ì•„í‚¤í…ì²˜ì— ë¹„í•´ ê°–ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì¥ì ì€ ì¬í˜„ì„±(reproducibility)ì´ë‹¤.\në¶„ì‚° íŠ¸ëœì­ì…˜ ë°©ì•ˆì˜ ê²½ìš° ì§€ê°‘ ì„œë¹„ìŠ¤ëŠ” ê°±ì‹ í•œ ê³„ì • ì”ì•¡(ìƒíƒœ)ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë©°, íŠ¹ì • ì‹œì ì˜ ì”ì•¡ì´ ì–¼ë§ˆì¸ì§€ë§Œ ë³´ì—¬ì¤€ë‹¤.\nê³„ì • ì”ì•¡ì´ ë³€ê²½ëœ ì´ìœ ëŠ” ì•Œê¸° ì–´ë µë‹¤. í•œë²ˆ ì—…ë°ì´íŠ¸ê°€ ì´ë£¨ì–´ì§€ê³  ë‚˜ë©´ ê³¼ê±° ì”ì•¡ì´ ì–¼ë§ˆì˜€ëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤. í•˜ì§€ë§Œ ì´ë²¤íŠ¸ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì¬ìƒí•˜ë©´ ê³¼ê±° ì”ì•¡ ìƒíƒœëŠ” ì–¸ì œë“  ì¬êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.\nì´ë²¤íŠ¸ ë¦¬ìŠ¤íŠ¸ëŠ” ë¶ˆë³€ì´ê³ (ê³¼ê±°ì˜ ë°œìƒí•œ ì´ë²¤íŠ¸ ì´ë ¥ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤) ìƒíƒœ ê¸°ê³„ ë¡œì§ì€ ê²°ì •ë¡ ì ì´ë¯€ë¡œ ì´ë²¤íŠ¸ ì´ë ¥ì„ ì¬ìƒí•˜ì—¬ ë§Œë“¤ì–´ë‚¸ ìƒíƒœëŠ” ì–¸ì œë‚˜ ë™ì¼í•˜ë‹¤.\nì¬í˜„ì„±ì„ ê°–ì¶”ë©´ ê°ì‚¬ê´€ì´ ë˜ì§€ëŠ” ê¹Œë‹¤ë¡œìš´ ì§ˆë¬¸ì— ì‰½ê²Œ ë‹µí•  ìˆ˜ ìˆë‹¤.\níŠ¹ì • ì‹œì ì˜ ê³„ì • ì”ì•¡ì„ ì•Œ ìˆ˜ ìˆëŠ”ê°€? ì‹œì‘ë¶€í„° ê³„ì • ì”ì•¡ì„ ì•Œê³ ì‹¶ì€ ì‹œì ê¹Œì§€ ì´ë²¤íŠ¸ë¥¼ ì¬ìƒí•œë‹¤. ê³¼ê±° ë° í˜„ì¬ ê³„ì • ì”ì•¡ì´ ì •í™•í•œì§€ ì•Œ ìˆ˜ ìˆëŠ”ê°€? ì´ë²¤íŠ¸ ì´ë ¥ì—ì„œ ê³„ì • ì”ì•¡ì„ ë‹¤ì‹œ ê³„ì‚°í•´ ë³´ë©´ ì”ì•¡ì´ ì •í™•í•œì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì½”ë“œ ë³€ê²½ í›„ì—ë„ ì‹œìŠ¤í…œ ë¡œì§ì´ ì˜¬ë°”ë¥¸ì§€ ì¦ëª…í•  ìˆ˜ ìˆëŠ”ê°€? ìƒˆë¡œìš´ ì½”ë“œì— ë™ì¼í•œ ì´ë²¤íŠ¸ ì´ë ¥ì„ ì…ë ¥ìœ¼ë¡œ ì£¼ê³  ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•œë‹¤. ëª…ë ¹-ì§ˆì˜ ì±…ì„ ë¶„ë¦¬(CQRS) ì§€ê¸ˆê¹Œì§€ íš¨ê³¼ì ì¸ ê³„ì¢Œ ì´ì²´ê°€ ê°€ëŠ¥í•œ ì§€ê°‘ ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í–ˆë‹¤.\ní•˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ëŠ” ì—¬ì „íˆ ê³„ì • ì”ì•¡ì„ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì´ë²¤íŠ¸ ì†Œì‹± í”„ë ˆì„ì›Œí¬ ì™¸ë¶€ì˜ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒíƒœ(ì”ì•¡)ì„ ì•Œë„ë¡ í•  ë°©ë²•ì´ í•„ìš”í•˜ë‹¤.\nì§ê´€ì ì¸ í•´ê²°ì±… í•˜ë‚˜ëŠ” ìƒíƒœ ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì½ê¸° ì „ìš© ì‚¬ë³¸ì„ ìƒì„±í•œ í›„ ì™¸ë¶€ì™€ ê³µìœ í•˜ëŠ” ê²ƒì¸ë° ì´ë²¤íŠ¸ ì†Œì‹±ì€ ì´ì™€ëŠ” ì¡°ê¸ˆ ë‹¤ë¥¸ í•´ê²°ì±…ì„ ì œì‹œí•œë‹¤.\nì´ë²¤íŠ¸ ì†Œì‹±ì€ ìƒíƒœ, ì¦‰ ê³„ì • ì”ì•¡ì„ ê³µê°œí•˜ëŠ” ëŒ€ì‹  ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ì™¸ë¶€ì— ë³´ë‚¸ë‹¤.\në”°ë¼ì„œ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ì™¸ë¶€ ì£¼ì²´ê°€ ì§ì ‘ ìƒíƒœë¥¼ ì¬êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.\nì´ëŸ° ì„¤ê³„ ì² í•™ì„ ëª…ë ¹-ì§ˆì˜ ì±…ì„ ë¶„ë¦¬(Command-Query Responsibility Separation, CQRS)ë¼ê³  ë¶€ë¥¸ë‹¤.\nCQRSì—ì„œëŠ” ìƒíƒœ ê¸°ë¡ì„ ë‹´ë‹¹í•˜ëŠ” ìƒíƒœ ê¸°ê³„ëŠ” í•˜ë‚˜ê³ , ì½ê¸° ì „ìš© ìƒíƒœ ê¸°ê³„ëŠ” ì—¬ëŸ¬ ê°œ ìˆì„ ìˆ˜ ìˆë‹¤.\nì½ê¸° ì „ìš© ìƒíƒœ ê¸°ê³„ëŠ” ìƒíƒœ ë·°ë¥¼ ë§Œë“¤ê³ , ì´ ë·°ëŠ” ì§ˆì˜ì— ì´ìš©ëœë‹¤.\nì½ê¸° ì „ìš© ìƒíƒœ ê¸°ê³„ëŠ” ì´ë²¤íŠ¸ íì—ì„œ ë‹¤ì–‘í•œ ìƒíƒœ í‘œí˜„ì„ ë„ì¶œí•  ìˆ˜ ìˆë‹¤.\ní´ë¼ì´ì–¸íŠ¸ì˜ ì”ì•¡ ì§ˆì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë³„ë„ ë°ì´í„°ë² ì´ìŠ¤ì— ìƒíƒœë¥¼ ê¸°ë¡í•œë‹¤. ì´ì¤‘ ì²­êµ¬ ë“±ì˜ ë¬¸ì œë¥¼ ì‰½ê²Œ ì¡°ì‚¬í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ íŠ¹ì • ê¸°ê°„ ë™ì•ˆì˜ ìƒíƒœë¥¼ ë³µì›í•  ìˆ˜ë„ ìˆë‹¤. ì½ê¸° ì „ìš© ìƒíƒœ ê¸°ê³„ëŠ” ì‹¤ì œ ìƒíƒœì— ì–´ëŠ ì •ë„ ë’¤ì²˜ì§ˆ ìˆ˜ ìˆìœ¼ë‚˜ ê²°êµ­ì—ëŠ” ê°™ì•„ì§€ë¯€ë¡œ ê²°ê³¼ì  ì¼ê´€ì„± ëª¨ë¸ì„ ë”°ë¥¸ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.\n3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ë†’ì€ ì„±ëŠ¥ê³¼ ì•ˆì •ì„± ë° í™•ì¥ì„±ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•œ ê¸°ìˆ ì— ëŒ€í•´ ìì„¸íˆ ì‚´í´ë³¸ë‹¤.\nê³ ì„±ëŠ¥ ì´ë²¤íŠ¸ ì†Œì‹± ì¹´í”„ì¹´ë¥¼ ëª…ë ¹ ë° ì´ë²¤íŠ¸ ì €ì¥ì†Œë¡œ, ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒíƒœ ì €ì¥ì†Œë¡œ ì‚¬ìš©í–ˆëŠ”ë° ê°€ëŠ¥í•œ ìµœì í™” ë°©ì•ˆì„ ì‚´í´ë³¸ë‹¤.\níŒŒì¼ ê¸°ë°˜ ëª…ë ¹ ë° ì´ë²¤íŠ¸ ëª©ë¡ ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•˜ëŠ” ë°©ì•ˆ\nëª…ë ¹ê³¼ ì´ë²¤íŠ¸ë¥¼ ì¹´í”„ì¹´ ê°™ì€ ì›ê²© ì €ì¥ì†Œê°€ ì•„ë‹Œ ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•˜ëŠ” ë°©ì•ˆì„ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤.\në„¤íŠ¸ì›Œí¬ë¥¼ í†µí•œ ì „ì†¡ ì‹œê°„ì„ í”¼í•  ìˆ˜ ìˆë‹¤. ì´ë²¤íŠ¸ ëª©ë¡ì€ ì¶”ê°€ ì—°ì‚°ë§Œ ê°€ëŠ¥í•œ ìë£Œ êµ¬ì¡°ì— ì €ì¥í•œë‹¤. ì¶”ê°€ëŠ” ìˆœì°¨ì  ì“°ê¸° ì—°ì‚°ìœ¼ë¡œ ì¼ë°˜ì ìœ¼ë¡œ ë§¤ìš° ë¹ ë¥´ë‹¤.\nìš´ì˜ì²´ì œëŠ” ë³´í†µ ìˆœì°¨ì  ì½ê¸° ë° ì“°ê¸° ì—°ì‚°ì— ìµœì í™” ë˜ì–´ìˆì–´ HDDì—ì„œë„ ì˜ ì‘ë™í•œë‹¤. ê²½ìš°ì— ë”°ë¼ì„œëŠ” ë¬´ì‘ìœ„ ë©”ëª¨ë¦¬ ì ‘ê·¼ë³´ë‹¤ ë¹ ë¥´ê²Œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤. ìµœê·¼ ëª…ë ¹ê³¼ ì´ë²¤íŠ¸ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•˜ëŠ” ë°©ì•ˆ\nëª…ë ¹ê³¼ ì´ë²¤íŠ¸ëŠ” ì§€ì†ì„± ì €ì¥ì†Œì— ë³´ê´€ëœ ì´í›„ì— ì²˜ë¦¬ë˜ë¯€ë¡œ, ë©”ëª¨ë¦¬ì— ìºì‹œí•´ ë†“ìœ¼ë©´ ë¡œì»¬ ë””ìŠ¤í¬ì—ì„œ ë‹¤ì‹œ ë¡œë“œí•˜ì§€ ì•Šì•„ë„ ëœë‹¤.\nmmap ê¸°ìˆ ì€ ì•ì„œ ì–¸ê¸‰í•œ ìµœì í™” êµ¬í˜„ì— ìœ ìš©í•˜ë‹¤.\në¡œì»¬ ë””ìŠ¤í¬ì— ì“°ëŠ” ë™ì‹œì— ìµœê·¼ ë°ì´í„°ëŠ” ë©”ëª¨ë¦¬ì— ìë™ìœ¼ë¡œ ìºì‹œí•  ìˆ˜ ìˆë‹¤. ë””ìŠ¤í¬ íŒŒì¼ì„ ë©”ëª¨ë¦¬ ë°°ì—´ì— ëŒ€ì‘ì‹œí‚¨ë‹¤. ìš´ì˜ì²´ì œëŠ” íŒŒì¼ì˜ íŠ¹ì • ë¶€ë¶„ì„ ë©”ëª¨ë¦¬ì— ìºì‹œí•˜ì—¬ ì½ê¸° ë° ì“°ê¸° ì—°ì‚°ì„ ë†’íˆë¯€ë¡œ, ì¶”ê°€ë§Œ ê°€ëŠ¥í•œ íŒŒì¼ì— ì´ë£¨ì–´ì§€ëŠ” ì—°ì‚°ì˜ ê²½ìš° í•„ìš”í•œ ëª¨ë“  ë°ì´í„°ëŠ” ê±°ì˜ í•­ìƒ ë©”ëª¨ë¦¬ì— ìˆìœ¼ë¯€ë¡œ ì‹¤í–‰ ì†ë„ë¥¼ ë†’í ìˆ˜ ìˆë‹¤.\níŒŒì¼ ê¸°ë°˜ ìƒíƒœ ì´ë²ˆ ì„¤ê³„ì•ˆì—ì„œëŠ” ìƒíƒœ, ì¦‰ ì”ì•¡ ì •ë³´ë¥¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í–ˆëŠ”ë°, í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ë…ë¦½í˜• ì„œë²„ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹¤í–‰í•œë‹¤.\nê·¸ëŸ¬ë‚˜ ëª…ë ¹ ë° ì´ë²¤íŠ¸ ì €ì¥ì†Œ ìµœì í™” ë°©ì•ˆê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ìƒíƒœ ì •ë³´ë„ ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤.\níŒŒì¼ ê¸°ë°˜ ë¡œì»¬ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ SQLiteë¥¼ ì‚¬ìš©í•œë‹¤. ë¡œì»¬ íŒŒì¼ ê¸°ë°˜ í‚¤-ê°’ ì €ì¥ì†Œ RocksDBë¥¼ ì‚¬ìš©í•œë‹¤. ë³¸ ì„¤ê³„ì•ˆì—ì„œëŠ” ì“°ê¸° ì‘ì—…ì— ìµœì í™”ëœ ìë£Œ êµ¬ì¡°ì¸ LSM(Log-Structured Merge-tree)ë¥¼ ì‚¬ìš©í•˜ëŠ” RocksDBë¥¼ ì‚¬ìš©í•œë‹¤.\nìŠ¤ëƒ…ìˆ ëª¨ë“  ê²ƒì´ íŒŒì¼ ê¸°ë°˜ì¼ ë•Œ ì¬í˜„ í”„ë¡œì„¸ìŠ¤ì˜ ì†ë„ë¥¼ ë†’í ë°©ë²•ì„ ê³ ë¯¼í•´ë³´ì.\nì¬í˜„ì„± í™•ë³´ë¥¼ ìœ„í•´ ì‚¬ìš©í•œ ë°©ë²•ì€ ìƒíƒœ ê¸°ê³„ë¡œ í•˜ì—¬ê¸ˆ ì´ë²¤íŠ¸ë¥¼ í•­ìƒ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì½ë„ë¡ í•˜ëŠ” ê²ƒ ì´ì—ˆëŠ”ë°, ê·¸ ëŒ€ì‹  ì£¼ê¸°ì ìœ¼ë¡œ ìƒíƒœ ê¸°ê³„ë¥¼ ë©ˆì¶”ê³  í˜„ì¬ ìƒíƒœë¥¼ íŒŒì¼ì— ì €ì¥í•œë‹¤ë©´ ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤. ì´ íŒŒì¼ì„ ìŠ¤ëƒ…ìˆ ì´ë¼ê³  í•œë‹¤.\nìŠ¤ëƒ…ìˆì€ ê³¼ê±° íŠ¹ì • ì‹œì ì˜ ìƒíƒœë¡œ ë³€ê²½ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ìŠ¤ëƒ…ìˆì„ ì €ì¥í•˜ê³ ë‚˜ë©´ ìƒíƒœ ê¸°ê³„ëŠ” ë” ì´ìƒ ìµœì´ˆ ì´ë²¤íŠ¸ì—ì„œ ì‹œì‘í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤. ì–´ëŠ ì‹œì ì— ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ í™•ì¸ í›„ ê·¸ ì‹œì ë¶€í„° ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ ì‹œì‘í•œë‹¤. ì§€ê°‘ ì„œë¹„ìŠ¤ ê°™ì€ ê¸ˆìœµ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ 00:00ì— ìŠ¤ëƒ…ìˆì„ ì°ëŠ” ì¼ì´ ë§ë‹¤.\nê·¸ë˜ì•¼ë§Œ ì¬ë¬´íŒ€ì´ ë‹¹ì¼ ë°œìƒí•œ ëª¨ë“  ê±°ë˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ìŠ¤ëƒ…ìˆì„ ì‚¬ìš©í•˜ë©´ ì½ê¸° ì „ìš© ìƒíƒœ ê¸°ê³„ëŠ” í•´ë‹¹ ë°ì´í„°ê°€ í¬í•¨ëœ ìŠ¤ëƒ…ìˆ í•˜ë‚˜ë§Œ ë¡œë“œí•˜ë©´ ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ìŠ¤ëƒ…ìˆì€ ê±°ëŒ€í•œ ì´ì§„ íŒŒì¼ì´ë©°, ì¼ë°˜ì ìœ¼ë¡œëŠ” HDFS(Hadoop Distributed File System)ê³¼ ê°™ì€ ê°ì²´ ì €ì¥ì†Œì— ì €ì¥í•œë‹¤.\nëª¨ë“  ê²ƒì´ íŒŒì¼ ê¸°ë°˜ì¼ ë•Œ ì‹œìŠ¤í…œì€ ì»´í“¨í„° í•˜ë“œì›¨ì–´ì˜ I/O ì²˜ë¦¬ëŸ‰ì„ ê·¸ í•œê³„ê¹Œì§€ ìµœëŒ€ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì´ë²¤íŠ¸ ì†Œì‹± ë¡œì»¬ íŒŒì¼ ê¸°ë°˜ì˜ ì†”ë£¨ì…˜ ì„±ëŠ¥ì€ ì›ê²© ì¹´í”„ì¹´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ì•¡ì„¸ìŠ¤í•˜ëŠ” ì‹œìŠ¤í…œë³´ë‹¤ëŠ” ì¢‹ë‹¤ê³  í•  ìˆ˜ ìˆìœ¼ë‚˜, ë¡œì»¬ ë””ìŠ¤í¬ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì„œë²„ëŠ” ë” ì´ìƒ ë¬´ìƒíƒœ ì„œë²„ê°€ ì•„ë‹ˆë©°, ë‹¨ì¼ ì¥ì•  ì§€ì ì´ ë  ìˆ˜ ìˆë‹¤.\nì‹ ë¢°ì„± ë¶„ì„ ê°œë…ì ìœ¼ë¡œ ì„œë²„ ë…¸ë“œê°€ í•˜ëŠ” ì¼ì€ ë°ì´í„°ì™€ ì—°ì‚°ì´ë¼ëŠ” ë‘ ê°€ì§€ ê°œë…ì— ê´€ê³„ë˜ì–´ ìˆë‹¤.\nê·¸ëŸ¬ë‚˜ ë°ì´í„° ë‚´êµ¬ì„±ì´ ë³´ì¥ë˜ëŠ” í•œ, ê³„ì‚° ê²°ê³¼ëŠ” ì½”ë“œë¥¼ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ëŒë¦¬ë©´ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.\në°ì´í„° ì‹ ë¢°ì„±ì´ í›¨ì”¬ ì¤‘ìš”í•˜ë‹¤. ë°ì´í„°ê°€ ì†ì‹¤ë˜ë©´ ê³„ì‚° ê²°ê³¼ë¥¼ ë³µì›í•  ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ ì´ëŸ¬í•œ ì´ìœ ë¡œ ì‹œìŠ¤í…œ ì‹ ë¢°ì„± ë¬¸ì œëŠ” ëŒ€ë¶€ë¶„ ë°ì´í„° ì‹ ë¢°ì„± ë¬¸ì œì´ë‹¤.\níŒŒì¼ ê¸°ë°˜ ëª…ë ¹ ì´ë²¤íŠ¸ëŠ” ëª…ë ¹ì„ í†µí•´ ë§Œë“¤ì–´ì§€ë‹ˆ ëª…ë ¹ì˜ ì‹ ë¢°ì„±ë§Œ ê°•ë ¥í•˜ê²Œ ë³´ì¥í•˜ë©´ ì¶©ë¶„í•  ê²ƒ ê°™ì§€ë§Œ ì•„ë‹ˆë‹¤. ì´ë²¤íŠ¸ ìƒì„±ì€ ê²°ì •ë¡ ì  ê³¼ì •ì´ ì•„ë‹ˆë©°, ë‚œìˆ˜ë‚˜ ì™¸ë¶€ ì…ì¶•ë ¥ ë“±ì˜ ë¬´ì‘ìœ„ì  ìš”ì†Œê°€ í¬í•¨ë  ìˆ˜ ìˆë‹¤. ëª…ë ¹ì˜ ì‹ ë¢°ì„± ë§Œìœ¼ë¡œëŠ” ì´ë²¤íŠ¸ì˜ ì¬í˜„ì„±ì„ ë³´ì¥í•  ìˆ˜ ì—†ë‹¤. íŒŒì¼ ê¸°ë°˜ ì´ë²¤íŠ¸ ìƒíƒœ(ì”ì•¡)ì— ë³€í™”ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê³¼ì €ì˜ ì‚¬ì‹¤ì´ë‹¤. ì´ë²¤íŠ¸ëŠ” ë¶ˆë³€ì´ë©° ìƒíƒœ ì¬êµ¬ì„±ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŒŒì¼ ê¸°ë°˜ ìƒíƒœ ì´ë²¤íŠ¸ ëª©ë¡ì„ ì¬ìƒí•˜ë©´ ì–¸ì œë“  ë‹¤ì‹œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.(ì´ë²¤íŠ¸ ëª©ë¡ì˜ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ë©´ ë”°ë¼ì˜¨ë‹¤.) ìƒíƒœ ìŠ¤ëƒ…ìˆ ì´ë²¤íŠ¸ ëª©ë¡ì„ ì¬ìƒí•˜ë©´ ì–¸ì œë“  ë‹¤ì‹œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.(ì´ë²¤íŠ¸ ëª©ë¡ì˜ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ë©´ ë”°ë¼ì˜¨ë‹¤.) ë”°ë¼ì„œ ë†’ì€ ì‹ ë¢°ì„±ì„ ë³´ì¥í•  ìœ ì¼í•œ ë°ì´í„°ëŠ” ì´ë²¤íŠ¸ ë¿ì´ë‹¤.\ní•©ì˜ ë†’ì€ ì•ˆì •ì„±ì„ ì œê³µí•˜ë ¤ë©´ ì´ë²¤íŠ¸ ëª©ë¡ì„ ì—¬ëŸ¬ ë…¸ë“œì— ë³µì œí•´ì•¼ í•˜ë©° ë‹¤ìŒì„ ë³´ì¥í•´ì•¼í•œë‹¤.\në°ì´í„° ì†ì‹¤ ì—†ìŒ ë¡œê·¸ íŒŒì¼ ë‚´ ë°ì´í„°ì˜ ìƒëŒ€ì  ìˆœì„œëŠ” ëª¨ë“  ë…¸ë“œì— ë™ì¼ ì´ëŸ¬í•œ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ë°ëŠ” í•©ì˜ ê¸°ë°˜ ë³µì œ(consensus-based replication) ë°©ì•ˆì´ ì í•©í•˜ë‹¤.\nëª¨ë“  ë…¸ë“œê°€ ë™ì¼í•œ ì´ë²¤íŠ¸ ëª©ë¡ì— í•©ì˜í•˜ë„ë¡ ë³´ì¥í•œë‹¤. ë˜í”„íŠ¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë©´ ë…¸ë“œì˜ ì ˆë°˜ ì´ìƒì´ ì˜¨ë¼ì¸ ìƒíƒœì¼ ë•Œ ê·¸ ëª¨ë‘ì— ë³´ê´€ëœ ì¶”ê°€ ì „ìš© ë¦¬ìŠ¤íŠ¸ëŠ” ê°™ì€ ë°ì´í„°ë¥¼ ê°€ì§„ë‹¤.\në˜í”„íŠ¸ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ë…¸ë“œëŠ” ì„¸ ê°€ì§€ ì—­í• ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\në¦¬ë” í›„ë³´ íŒ”ë¡œì–´ ìµœëŒ€ í•˜ë‚˜ì˜ ë…¸ë“œë§Œ í´ëŸ¬ìŠ¤í„°ì˜ ë¦¬ë”ê°€ ë˜ê³  ë‚˜ë¨¸ì§€ ë…¸ë“œëŠ” íŒ”ë¡œì–´ê°€ ëœë‹¤.\në¦¬ë”ëŠ” ì™¸ë¶€ ëª…ë ¹ì„ ìˆ˜ì‹ í•˜ê³  í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ê°„ì— ë°ì´í„°ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ë³µì œí•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nê³ ì‹ ë¢°ì„± ì†”ë£¨ì…˜ ë³µì œ ë§¤ì»¤ë‹ˆì¦˜ì„ í™œìš©í•˜ë©´ íŒŒì¼ ê¸°ë°˜ ì´ë²¤íŠ¸ ì†Œì‹± ì•„í‚¤í…ì²˜ì—ì„œ ë‹¨ì¼ ì¥ì•  ì§€ì  ë¬¸ì œë¥¼ ì—†ì•¨ ìˆ˜ ìˆë‹¤.\në¦¬ë”ëŠ” ì™¸ë¶€ ì‚¬ìš©ìë¡œ ë¶€í„° ë“¤ì–´ì˜¤ëŠ” ëª…ë ¹ ìš”ì²­ì„ ë°›ì•„ ì´ë²¤íŠ¸ë¡œ ë³€í™˜í•˜ê³  ë¡œì»¬ ì´ë²¤íŠ¸ ëª©ë¡ì— ì¶”ê°€í•œë‹¤.\në˜í”„íŠ¸ ì•Œê³ ë¦¬ì¦˜ì€ ìƒˆë¡œìš´ ì´ë²¤íŠ¸ë¥¼ ëª¨ë“  íŒ”ë¡œì›Œì— ë³µì œí•œë‹¤. íŒ”ë¡œì–´ë¥¼ í¬í•¨í•œ ëª¨ë“  ë…¸ë“œê°€ ì´ë²¤íŠ¸ ëª©ë¡ì„ ì²˜ë¦¬í•˜ê³  ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.\në˜í”„íŠ¸ ì•Œê³ ë¦¬ì¦˜ì€ ë¦¬ë”ì™€ íŒ”ë¡œì–´ê°€ ë™ì¼í•œ ì´ë²¤íŠ¸ ëª©ë¡ì„ ê°–ë„ë¡ í•˜ë©°, ì´ë²¤íŠ¸ ì†Œì‹±ì€ ë™ì¼í•œ ì´ë²¤íŠ¸ ëª©ë¡ì—ì„œ í•­ìƒ ë™ì¼í•œ ìƒíƒœê°€ ë§Œë“œëŸ¬ì§€ë„ë¡ í•œë‹¤.\në¦¬ë”ì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ ë˜í”„íŠ¸ ì•Œê³ ë¦¬ì¦˜ì€ ë‚˜ë¨¸ì§€ ì •ìƒ ë…¸ë“œ ì¤‘ì—ì„œ ìƒˆ ë¦¬ë”ë¥¼ ì„ ì¶œí•œë‹¤.\nìœ ì˜í•  ê²ƒì€ ë¦¬ë” ì¥ì• ê°€ ëª…ë ¹ ëª©ë¡ì´ ì´ë²¤íŠ¸ë¡œ ë³€í™˜ë˜ê¸° ì „ì— ë°œìƒ í•˜ëŠ” ê²½ìš°ì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ì‹œê°„ ì´ˆê³¼ ë˜ëŠ” ì˜¤ë¥˜ ì‘ë‹µì„ ë°›ê³  ìƒˆë¡œ ì„ ì¶œëœ ë¦¬ë”ì—ê²Œ ê°™ì€ ëª…ë ¹ì„ ë‹¤ì‹œ ë³´ë‚´ì•¼í•œë‹¤. íŒ”ë¡œì–´ì— ì¥ì• ê°€ ìƒê¸°ë©´ ë˜í”„íŠ¸ëŠ” ì£½ì€ ë…¸ë“œê°€ ë‹¤ì‹œ ì‹œì‘ë˜ê±°ë‚˜ ìƒˆë¡œìš´ ë…¸ë“œë¡œ ëŒ€ì²´ë  ë•Œ ê¹Œì§€ ê¸°í•œì—†ì´ ì¬ì‹œë„í•˜ì—¬ ì¥ì• ë¥¼ ì²˜ë¦¬í•œë‹¤.\në¶„ì‚° ì´ë²¤íŠ¸ ì†Œì‹± 100ë§Œ TPSë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´ ì„œë²„ í•œ ëŒ€ë¡œëŠ” ì¶©ë¶„í•˜ì§€ ì•Šë‹¤.\nì§€ê¸ˆê¹Œì§€ ì„¤ê³„í•œ ì•„í‚¤í…ì²˜ëŠ” ì‹ ë¢°ì„± ë¬¸ì œëŠ” í•´ê²°í•˜ì§€ë§Œ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆë‹¤.\nì „ì ì§€ê°‘ ì—…ë°ì´íŠ¸ ê²°ê³¼ëŠ” ì¦‰ì‹œ ë°›ê³  ì‹¶ë‹¤. CQRS ì‹œìŠ¤í…œì—ì„œëŠ” ìš”ì²­/ì‘ë‹µ íë¦„ì´ ëŠë¦´ ìˆ˜ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì§€ê°‘ì˜ ì—…ë°ì´íŠ¸ ì‹œì ì„ ì •í™•íˆ ì•Œ ìˆ˜ ì—†ì–´ ì£¼ê¸°ì  í´ë§ì— ì˜ì¡´í•´ì•¼ í•  ìˆ˜ ìˆë‹¤. ë‹¨ì¼ ë˜í”„íŠ¸ ê·¸ë£¹ì˜ ìš©ëŸ‰ì€ ì œí•œë˜ì–´ ìˆë‹¤. ì¼ì • ê·œëª¨ ì´ìƒì—ì„œëŠ” ë°ì´í„°ë¥¼ ìƒ¤ë”©í•˜ê³  ë¶„ì‚° íŠ¸ëœì­ì…˜ì„ êµ¬í˜„í•´ì•¼í•œë‹¤. í’€ vs í‘¸ì‹œ í’€ ëª¨ë¸ì—ì„œëŠ” ì™¸ë¶€ ì‚¬ìš©ìê°€ ì½ê¸° ì „ìš© ìƒíƒœ ê¸°ê³„ì—ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ ìƒíƒœë¥¼ ì½ëŠ”ë‹¤.\nëª¨ë¸ì€ ì‹¤ì‹œê°„ì´ ì•„ë‹ˆë¯€ë¡œ ì½ëŠ” ì£¼ê¸°ë¥¼ ë„ˆë¬´ ì§§ê²Œ ì„¤ì •í•˜ë©´ ì§€ê°‘ ì„œë¹„ìŠ¤ì— ê³¼ë¶€í•˜ê°€ ê±¸ë¦´ ìˆ˜ë„ ìˆë‹¤.\nì™¸ë¶€ ì‚¬ìš©ìì™€ ì´ë²¤íŠ¸ ì†Œì‹± ì‚¬ì´ì— ì—­ë°©í–¥ í”„ë½ì‹œë¥¼ ì¶”ê°€í•˜ë©´ ê°œì„ ë  ìˆ˜ ìˆë‹¤.\nì™¸ë¶€ ì‚¬ìš©ìëŠ” ì—­ë°©í–¥ í”„ë½ì‹œì— ëª…ë ¹ì„ ë³´ë‚´ê³ , ì—­ë°©í–¥ í”„ë½ì‹œëŠ” ëª…ë ¹ì„ ì´ë²¤íŠ¸ ì†Œì‹± ë…¸ë“œë¡œ ì „ë‹¬í•˜ëŠ” í•œí¸ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ ìƒíƒœë¥¼ ì§ˆì˜í•œë‹¤.\nì—¬ì „íˆ í†µì‹ ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì´ë£¨ì–´ì§€ì§€ëŠ” ì•–ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì˜ ë¡œì§ì€ ë‹¨ìˆœí•´ì§„ë‹¤. ì—­ë°©í–¥ í”„ë½ì‹œë¥´ ë‘ê³  ë‚˜ë©´ ì½ê¸° ì „ìš© ìƒíƒœ ê¸°ê³„ë¥¼ ìˆ˜ì •í•˜ì—¬ ì‘ë‹µ ì†ë„ë¥¼ ë†’í ìˆ˜ ìˆë‹¤.\nì¼ê¸° ì „ìš© ìƒíƒœ ê¸°ê³„ë¡œ í•˜ì—¬ê¸ˆ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ìë§ˆì ì‹¤í–‰ ìƒíƒœë¥¼ ì—­ë°©í–¥ í”„ë½ì‹œì— í‘¸ì‹œí•˜ë„ë¡ í•˜ë©´, ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‘ë‹µì´ ì´ë£¨ì–´ì§€ëŠ” ëŠë‚Œì„ ì¤„ ìˆ˜ ìˆë‹¤.\në¶„ì‚° íŠ¸ëœì­ì…˜ ëª¨ë“  ì´ë²¤íŠ¸ ì†Œì‹± ë…¸ë“œ ê·¸ë£¹ì´ ë™ê¸°ì  ì‹¤í–‰ ëª¨ë¸ì„ ì±„íƒí•˜ë©´ TC/Cë‚˜ ì‚¬ê°€ ê°™ì€ ë¶„ì‚° íŠ¸ëœì­ì…˜ ì†”ë£¨ì…˜ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\ní‚¤ì˜ í•´ì‹œ ê°’ì„ 2ë¡œ ë‚˜ëˆ„ì–´ ë°ì´í„°ê°€ ìœ„ì¹˜í•  íŒŒí‹°ì…˜ì„ ì •í•œë‹¤ê³  ê°€ì • ì†¡ê¸ˆì—ëŠ” 2ê°œì˜ ë¶„ì‚° ì—°ì‚°(A: -$1, C: +$1)ì´ í•„ìš”í•˜ë‹¤.\nAê°€ ì‚¬ê°€ ì¡°ì •ìì—ê²Œ ë¶„ì‚° íŠ¸ëœì­ì…˜ì„ ë³´ë‚¸ë‹¤.(A: -$1, C: +$1) ì‚¬ê°€ ì¡°ì •ìëŠ” ë‹¨ê³„ë³„ ìƒíƒœ í…Œì´ë¸”ì— ë ˆì½”ë“œë¥¼ ìƒì„±í•˜ì—¬ íŠ¸ëœì­ì…˜ ìƒíƒœë¥¼ ì¶”ì í•œë‹¤. ì‚¬ê°€ ì¡°ì •ìëŠ” ì‘ì—… ìˆœì„œë¥¼ ê²€í† í•œ í›„ A: -$1ë¥¼ ë¨¼ì € ì²˜ë¦¬í•˜ê¸°ë¡œ ê²°ì •í•˜ê³  A: -$1 ëª…ë ¹ì„ ê³„ì • ì •ë³´ Aê°€ ìˆëŠ” íŒŒí‹°ì…˜ 1ë¡œ ë³´ë‚¸ë‹¤. íŒŒí‹°ì…˜ 1ì˜ ë˜í”„íŠ¸ ë¦¬ë”ëŠ” A: -$1 ëª…ë ¹ì„ ìˆ˜ì‹ í•˜ê³  ëª…ë ¹ ëª©ë¡ì— ì €ì¥í•œ í›„, ëª…ë ¹ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ê³  ì´ë²¤íŠ¸ë¡œ ë³€í™˜í•œë‹¤. ë˜í”„íŠ¸ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ë™ê¸°í™”ê°€ ì™„ë£Œë˜ë©´ ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ëœë‹¤. ì´ë²¤íŠ¸ê°€ ë™ê¸°í™”ë„ë©´ íŒŒì´ì…˜ 1ì˜ ì´ë²¤íŠ¸ ì†Œì‹± í”„ë ˆì„ì›Œí¬ê°€ CQRSë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì½ê¸° ê²½ë¡œë¡œ ë™ê¸°í™”í•œë‹¤. ì½ê¸° ê²½ë¡œëŠ” ìƒíƒœ ë° ì‹¤í–‰ ìƒíƒœë¥¼ ì¬êµ¬ì„±í•œë‹¤. íŒŒí‹°ì…˜ 1ì˜ ì½ê¸° ê²½ë¡œëŠ” ì´ë²¤íŠ¸ ì†Œì‹± í”„ë ˆì„ì›Œí¬ë¥¼ í˜¸ì¶œí•œ ì‚¬ê°€ ì¡°ì •ìì—ê²Œ ìƒíƒœë¥¼ í‘¸ì‹œí•œë‹¤. ì‚¬ê°€ ì¡°ì •ìëŠ” íŒŒí‹°ì…˜ 1ì—ì„œ ì„±ê³µ ìƒíƒœë¥¼ ìˆ˜ì‹ í•œë‹¤. ì‚¬ê°€ ì¡°ì •ìëŠ” ë‹¨ê³„ë³„ ìƒíƒœ í…Œì´ë¸”ì— íŒŒí‹°ì…˜ 1ì˜ ì‘ì—…ì´ ì„±ê³µí–ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” ë ˆì½”ë“œë¥¼ ìƒì„±í•œë‹¤. ì²« ë²ˆì§¸ ì‘ì—…ì´ ì„±ê³µí–ˆìœ¼ë¯€ë¡œ ì‚¬ê°€ ì¡°ì •ìëŠ” ë‘ ë²ˆì§¸ ì‘ì—…ì¸ C: +$1ë¥¼ ì‹¤í–‰í•œë‹¤. ì¡°ì •ìëŠ” ê³„ì • Cì˜ ì •ë³´ê°€ í¬í•¨ëœ íŒŒí‹°ì…˜ 2ì— ëª…ë ¹ì„ ë³´ë‚¸ë‹¤. íŒŒí‹°ì…˜ 2ì˜ ë˜í”„íŠ¸ ë¦¬ë”ê°€ C: +$1 ëª…ë ¹ì„ ìˆ˜ì‹ í•˜ì—¬ ëª…ë ¹ ëª©ë¡ì— ì €ì¥í•œë‹¤. ìœ íš¨í•œ ëª…ë ¹ì´ë©´ ì´ë²¤íŠ¸ë¡œ ë³€í™˜ë˜ê³  ë°ì´í„°ë¥¼ ë™ê¸°í™”í•œë‹¤. ë™ê¸°í™”ê°€ ëë‚˜ë©´ í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ëœë‹¤. ì´ë²¤íŠ¸ê°€ ë™ê¸°í™”ë˜ë©´ íŒŒí‹°ì…˜ 2ì˜ ì´ë²¤íŠ¸ ì†Œì‹± í”„ë ˆì„ì›Œí¬ëŠ” CQRSë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì½ê¸° ê²½ë¡œë¡œ ë™ê¸°í™”í•œë‹¤. ì½ê¸° ê²½ë¡œëŠ” ìƒíƒœ ë° ì‹¤í–‰ ìƒíƒœë¥¼ ì¬êµ¬ì„±ã…ë‚˜ë‹¤. íŒŒí‹°ì…˜ 2ì½ê¸° ê²½ë¡œëŠ” ì´ë²¤íŠ¸ ì†Œì‹± í”„ë ˆì„ìœ„í¬ë¥¼ í˜¸ì¶œí•œ ì‚¬ê°€ ì¡°ì¥ìì— ìƒíƒœë¥¼ í‘¸ì‹œí•œë‹¤. ì‚¬ê°€ ì¡°ì •ìëŠ” íŒŒí‹°ì…˜ 2ë¡œë¶€í„° ì„±ê³µ ìƒíƒœë¥¼ ë°›ëŠ”ë‹¤. ì‚¬ê°€ ì¡°ì •ìëŠ” ë‹¨ê³„ë³„ ìƒíƒœ í…Œì´ë¸”ì— íŒŒí‹°ì…˜ 2ì˜ ì‘ì—…ì´ ì„±ê³µí–ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” ë ˆì½”ë“œë¥¼ ìƒì„±í•œë‹¤. ëª¨ë“  ì‘ì—…ì´ ì„±ê³µí•˜ê³  ë¶„ì‚° íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë˜ë©° ì‚¬ê°€ ì¡°ì •ìëŠ” í˜¸ì¶œìì—ê²Œ ê²°ê³¼ë¥¼ ì‘ë‹µí•œë‹¤. 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì´ë²ˆ ì¥ì—ì„œëŠ” ì´ˆë‹¹ 100ë§Œ ê±´ ì´ìƒ ê²°ì œ ëª…ë ¹ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì§€ê°‘ ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í•´ ë³´ì•˜ë‹¤.\në ˆë””ìŠ¤ ê°™ì€ ì¸ë² ëª¨ë¦¬ í‚¤-ê°’ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” ì†”ë£¨ì…˜ ë°ì´í„°ê°€ ë‚´êµ¬ì„±ì´ ì—†ëŠ” ë¬¸ì œì  ì¸ë©”ëª¨ë¦¬ ìºì‹œë¥¼ íŠ¸ëœì­ì…˜ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë°”ê¿ˆ ì—¬ëŸ¬ ë…¸ë“œì— ê±¸ì¹œ ë¶„ì‚° íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ê¸° ìœ„í•œ 2PC, TC/C, ì‚¬ê°€ì™€ ê°™ì€ íŠ¸ëœì­ì…˜ í”„ë¡œí† ì½œ ë°ì´í„° ê°ì‚¬ê°€ ì–´ë µë‹¤ëŠ” ë¬¸ì œì  ì´ë²¤íŠ¸ ì†Œì‹± ë°©ì•ˆ ì™¸ë¶€ ë°ì´í„°ë² ì´ìŠ¤ì™€ íë¥¼ ì‚¬ìš© ì„±ëŠ¥ì´ ë–¨ì–´ì§ ëª…ë ¹ ì´ë²¤íŠ¸, ìƒíƒœ ë°ì´í„°ë¥¼ ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œì— ì €ì¥í•˜ë„ë¡ ê°œì„  ë°ì´í„°ë¥¼ í•œ ê³³ì— ë‘ë©´ SPOFê°€ ë˜ëŠ” ë¬¸ì œê°€ ìˆìŒ ë˜í”„íŠ¸ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ ëª©ë¡ì„ ì—¬ëŸ¬ ë…¸ë“œì— ë³µì œ ì´ë²¤íŠ¸ ì†Œì‹±ì— CQRS ê°œë… ë„ì… ì™¸ë¶€ ì‚¬ìš©ìì—ê²Œ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì†Œì‹± í”„ë ˆì„ì›Œí¬ë¥¼ ë™ê¸°ì‹ì²˜ëŸ¼ ì œê³µí•˜ê¸° ìœ„í•œ ì—­ë°©í–¥ í”„ë½ì‹œ ì¶”ê°€ TC/C, ì‚¬ê°€ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ ì–´ëŸ¬ ë…¸ë“œì— ëª…ë ¹ ì‹¤í–‰ì„ ì¡°ìœ¨í•˜ëŠ” ë°©ë²• ","date":"2024-12-07T13:51:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/12/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/12/","title":"12. ì „ì ì§€ê°‘"},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” ê²°ì œ ì‹œìŠ¤í…œ(Payment system)ì„ ì„¤ê³„í•œë‹¤.\nì „ì ìƒê±°ë˜ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ë°”ë¡œ ê²°ì œ ì‹œìŠ¤í…œì´ë©°, ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•˜ë©° ìœ ì—°í•œ ê²°ì œ ì‹œìŠ¤í…œì€ í•„ìˆ˜ë‹¤.\nê²°ì œ ì‹œìŠ¤í…œ?\nê²°ì œ ì‹œìŠ¤í…œì€ ê¸ˆì „ì  ê°€ì¹˜ì˜ ì´ì „ì„ í†µí•´ ê¸ˆìœµ ê±°ë˜ë¥¼ ì •ì‚°í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì‹œìŠ¤í…œ\nê²°ì œ ì‹œìŠ¤í…œì˜ êµ¬ì¡° ìì²´ëŠ” ì–´ë µì§€ ì•Šì§€ë§Œ, ì‘ì€ ì‹¤ìˆ˜ë¡œë„ ìƒë‹¹í•œ ë§¤ì¶œ ì†ì‹¤ì´ ë°œìƒí•˜ê³ , ì‚¬ìš©ìì˜ ë¯¿ìŒì´ ë¬´ë„ˆì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì‘ì—…í•˜ê¸° ë¶€ë‹´ìŠ¤ëŸ¬ìš´ ì‹œìŠ¤í…œì´ë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ì• í”Œ í˜ì´ë‚˜ êµ¬ê¸€ í˜ì´ ê°™ì€ ë””ì§€í„¸ ì§€ê°‘, í˜ì´íŒ”, ìŠ¤íŠ¸ë¼ì´í”„ ê°™ì€ ê²°ì œ ì²˜ë¦¬ ë°±ì—”ë“œëª¨ë‘ ê²°ì œ ì‹œìŠ¤í…œ ì´ë¯€ë¡œ, ë©´ì ‘ì„ ì‹œì‘í•  ë•Œ ì •í™•í•œ ìš”êµ¬ì‚¬í•­ì„ íŒŒì•…í•˜ì—¬ ì„¤ê³„ë¥¼ ì‹œì‘í•´ì•¼í•œë‹¤.\nQ. ì–´ë–¤ ê²°ì œ ì‹œìŠ¤í…œ? A. ì „ììƒê±°ë˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ê²°ì œ ë°±ì—”ë“œ êµ¬ì¶•, ëˆì˜ íë¦„ì— ëŒ€í•œ ëª¨ë“  ê²ƒì„ ì²˜ë¦¬í•´ì•¼í•¨ Q. ì–´ë–¤ ê²°ì œ ë°©ë²• ì§€ì›? A. ì´ë²ˆ ë©´ì ‘ì—ì„œëŠ” ì‹ ìš© ì¹´ë“œ ê²°ì œë§Œ ì²˜ë¦¬ Q. ì‹ ìš© ì¹´ë“œ ê²°ì œ ì²˜ë¦¬ë¥¼ ì§ì ‘ ìˆ˜í–‰? A. ì „ë¬¸ ê²°ì œ ì„œë¹„ìŠ¤ ì—…ì²´ í™œìš© Q. ì‹ ìš© ì¹´ë“œ ë°ì´í„°ë¥¼ ì‹œìŠ¤í…œì— ì €ì¥? A. ë³´ì•ˆ ë° ë²•ê·œ ì¤€ìˆ˜ì— ëŒ€í•œ ì–´ë ¤ì›€ìœ¼ë¡œ ê²°ì œ ì²˜ë¦¬ ì—…ì²´ì— ì˜ì¡´ Q. ë‹¤ì–‘í•œ í†µí™” ë° êµ­ì œ ê²°ì œ ì§€ì›? A. No Q. í•˜ë£¨ì— ë°œìƒí•˜ëŠ” ê²°ì œ ê±´ìˆ˜ëŠ”? A. 100ë§Œê±´ Q. ì •ì‚° ì²˜ë¦¬ ì§€ì›? A. Yes Q. ë‹¤ë¥¸ ì£¼ì˜ì‚¬í•­ì€? A. ë§ì€ ë‚´ë¶€ ì„œë¹„ìŠ¤ ë° ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ ì—°ë™í•˜ë¯€ë¡œ ì¡°ì • ì‘ì—…ì„ í†µí•´ ë¶ˆì¼ì¹˜ë¥¼ ë°œê²¬í•˜ê³  êµì •í•´ì•¼í•¨ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ëŒ€ê¸ˆ ìˆ˜ì‹ (pay-in) íë¦„ ê²°ì œ ì‹œìŠ¤í…œì´ íŒë§¤ìë¥¼ ëŒ€ì‹ í•˜ì—¬ ê³ ê°ìœ¼ë¡œë¶€í„° ëŒ€ê¸ˆì„ ìˆ˜ë ¹ ëŒ€ê¸ˆ ì •ì‚°(pay-out) íë¦„ ê²°ì œ ì‹œìŠ¤í…œì´ ì „ ì„¸ê³„ì˜ íŒë§¤ìì—ê²Œ ì œí’ˆ íŒë§¤ ëŒ€ê¸ˆì„ ì†¡ê¸ˆ ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì‹ ë¢°ì„± ë° ë‚´ê²°í•¨ì„± ê²°ì œ ì‹¤íŒ¨ëŠ” ì‹ ì¤‘í•˜ê²Œ ì²˜ë¦¬ ë‚´ë¶€ ì„œë¹„ìŠ¤(ê²°ì œ, íšŒê³„)ì™€ ì™¸ë¶€ ì„œë¹„ìŠ¤(ê²°ì œ ì„œë¹„ìŠ¤ ì œê³µ ì—…ì²´) ê°„ ì¡°ì • í”„ë¡œì„¸ìŠ¤ ì‹œìŠ¤í…œ ê°„ì˜ ê²°ì œ ì •ë³´ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„ë™ê¸°ì ìœ¼ë¡œ í™•ì¸ ê°œëµì  ê·œëª¨ ì¶”ì • í•˜ë£¨ì— 100ë§Œ ê±´ì˜ íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•´ì•¼í•˜ë¯€ë¡œ 1,000,000 ë§Œê±´ / 10^5ì´ˆ = 10 TPSì´ë‹¤.\n10TPSëŠ” ì¼ë°˜ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë³„ ë¬¸ì œ ì—†ì´ ì²˜ë¦¬ ê°€ëŠ¥í•œ ì–‘ì´ë¯€ë¡œ, ì²˜ë¦¬ ëŒ€ì—­í­ ëŒ€ì‹  ê²°ì œ íŠ¸ëœì­ì…˜ì˜ ì •í™•í•œ ì²˜ë¦¬ì— ì´ˆì ì„ ë§ì¶° ì§„í–‰í•´ì•¼í•œë‹¤.\n2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ëŒ€ê¸ˆ ìˆ˜ì‹  íë¦„ ê²°ì œ ì„œë¹„ìŠ¤\nì‚¬ìš©ìë¡œë¶€í„° ê²°ì œ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ë½í•˜ê³  ê²°ì œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¡°ìœ¨í•˜ëŠ”ë°, ì¼ë°˜ì ìœ¼ë¡œ ê°€ì¥ ë¨¼ì € ìœ„í—˜ ì ê²€(risk check)ì„ ìˆ˜í–‰í•œë‹¤.\nAML/CFT ê°™ì€ ê·œì •ì„ ì¤€ìˆ˜ ì—¬ë¶€ í™•ì¸ ìê¸ˆ ì„¸íƒì´ë‚˜ í…ŒëŸ¬ ìê¸ˆ ì¡°ë‹¬ê³¼ ê°™ì€ ë²”ì£„ í–‰ìœ„ì˜ ì¦ê±°ê°€ ìˆëŠ”ì§€ í‰ê°€ ìœ„í—˜ í™•ì¸ ì„œë¹„ìŠ¤ëŠ” ë§¤ìš° ë³µì¡í•˜ê³  ê³ ë„ë¡œ ì „ë¬¸í™”ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì œ3ì ì œê³µ ì—…ì²´ë¥¼ ì´ìš©í•œë‹¤.\nê²°ì œ ì‹¤í–‰ì\nê²°ì œ ì„œë¹„ìŠ¤ ê³µê¸‰ì(PSP)ë¥¼ í†µí•´ ê²°ì œ ì£¼ë¬¸(payment order) í•˜ë‚˜ë¥¼ ì‹¤í–‰í•œë‹¤.\ní•˜ë‚˜ì˜ ê²°ì œ ì´ë²¤íŠ¸ì—ëŠ” ì—¬ëŸ¬ ê²°ì œ ì£¼ë¬¸ì´ í¬í•¨ë  ìˆ˜ ìˆë‹¤. ê²°ì œ ì„œë¹„ìŠ¤ ê³µê¸‰ì\nPSP(Payment Service Provider)ëŠ” A ê³„ì •ì—ì„œ B ê³„ì •ìœ¼ë¡œ ëˆì„ ì˜®ê¸°ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nêµ¬ë§¤ìì˜ ì‹ ìš© ì¹´ë“œ ê³„ì¢Œì—ì„œ ëˆì„ ì¸ì¶œí•˜ëŠ” ì—­í•  ë“± ì¹´ë“œ ìœ í˜•\nì¹´ë“œì‚¬ëŠ” ì‹ ìš© ì¹´ë“œ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¡°ì§ì´ë‹¤.\në¹„ì, ë§ˆìŠ¤í„°ì¹´ë“œ ë“± ì›ì¥ ledger\nê²°ì œ íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ê¸ˆìœµ ê¸°ë¡ì´ë‹¤.\nì‚¬ìš©ìê°€ íŒë§¤ìì—ê²Œ 1ë‹¬ëŸ¬ë¥¼ ê²°ì œí•˜ë©´ ì‚¬ìš©ìë¡œë¶€í„° 1ë‹¬ëŸ¬ ì¸ì¶œ, íŒë§¤ìì—ê²Œ 1ë‹¬ëŸ¬ ì§€ê¸‰í•˜ëŠ” ê¸°ë¡ ì›ì¥ ì‹œìŠ¤í…œì€ ì „ììƒê±°ë˜ ì›¹ì‚¬ì´íŠ¸ì˜ ì´ ìˆ˜ìµì„ ê³„ì‚°í•˜ê±°ë‚˜ í–¥í›„ ìˆ˜ìµì„ ì˜ˆì¸¡í•˜ëŠ” ë“±, ê²°ì œ í›„ ë¶„ì„(post-payment analysis)ì—ì„œ ë§¤ìš° ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.\nì§€ê°‘\níŒë§¤ìì˜ ê³„ì • ì”ì•¡ì„ ê¸°ë¡í•œë‹¤.\níŠ¹ì • ì‚¬ìš©ìê°€ ê²°ì œí•œ ì´ ê¸ˆì•¡ì„ ê¸°ë¡í•  ìˆ˜ë„ ìˆë‹¤. ê²°ì œ ì„œë¹„ìŠ¤ API POST /v1/payments\nê²°ì œ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤.\ní•˜ë‚˜ì˜ ê²°ì œ ì´ë²¤íŠ¸ì—ëŠ” ì—¬ëŸ¬ ê²°ì œ ì£¼ë¬¸ì´ í¬í•¨ë  ìˆ˜ ìˆë‹¤.\nbuyer_info\nêµ¬ë§¤ì ì •ë³´ checkout_id\ní•´ë‹¹ ê²°ì œ ì´ë²¤íŠ¸ë¥¼ ì‹ë³„í•˜ëŠ” ì „ì—­ì ìœ¼ë¡œ ê³ ìœ í•œ ID credit_card_info\nì•”í˜¸í™”ëœ ì‹ ìš© ì¹´ë“œ ì •ë³´ ë˜ëŠ” ê²°ì œ í† í°. PSPë§ˆë‹¤ ë‹¤ë¦„ payment_orders\nê²°ì œ ì£¼ë¬¸ ëª©ë¡ payment_order seller_account amount doubleê°™ì€ ìë£Œí˜•ì€ ë°˜ì˜¬ë¦¼ ì˜¤ì°¨, í™”í ë‹¨ìœ„ì˜ ì°¨ì´ ë“±ìœ¼ë¡œ ì¸í•´ stringìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. currency payment_order_id ì „ì—­ì ìœ¼ë¡œ ê³ ìœ í•œ ID ê²°ì œ ì‹¤í–‰ìê°€ ì¤‘ë³µ ì œê±°ë¥¼ ìœ„í•œ ë©±ë“±í‚¤ë¡œ ì‚¬ìš©í•œë‹¤. GET /v1/payments/{:id}\npayment_order_idê°€ ê°€ë¥´í‚¤ëŠ” ë‹¨ì¼ ê²°ì œ ì£¼ë¬¸ì˜ ì‹¤í–‰ ìƒíƒœë¥¼ ë°˜í™˜í•œë‹¤.\nê²°ì œ ì„œë¹„ìŠ¤ ë°ì´í„° ëª¨ë¸ ê²°ì œ ì´ë²¤íŠ¸ì™€ ê²°ì œ ì£¼ë¬¸ ë‘ ê°œì˜ í…Œì´ë¸”ì´ í•„ìš”í•˜ë‹¤.\nê²°ì œ ì‹œìŠ¤í…œìš© ì €ì¥ì†Œ ì†”ë£¨ì…˜ì„ ê³ ë¥¼ ë•Œ ì¼ë°˜ì ìœ¼ë¡œ ì„±ëŠ¥ì€ ê°€ì¥ ì¤‘ìš”í•œ ê³ ë ¤ì‚¬í•­ì€ ì•„ë‹ˆë©°, ë‹¤ìŒ ì‚¬í•­ì— ì¤‘ì ì„ ë‘¬ì•¼í•œë‹¤.\nì•ˆì •ì„± ë‹¤ë¥¸ ëŒ€í˜• ê¸ˆìœµ íšŒì‚¬ì—ì„œ ê¸´ ê¸°ê°„ë™ì•ˆ ê¸ì •ì ì¸ í”¼ë“œë°±ì„ ë°›ìœ¼ë©° ì‚¬ìš©ëœ ì ì´ ìˆëŠ”ê°€? ëª¨ë‹ˆí„°ë§ ë° ë°ì´í„° íƒì‚¬ ê´€ë ¨ ê¸°ëŠ¥ì„ ìœ„í•œ ë„êµ¬ê°€ í’ë¶€í•˜ê²Œ ì§€ì›ë˜ëŠ”ê°€? ì¸ì¬í’€ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ì ì±„ìš© ì‹œì¥ì˜ ì„±ìˆ™ë„ ì¼ë°˜ì ìœ¼ë¡œëŠ” NoSQL/NewSQL ë³´ë‹¤ëŠ” ACID íŠ¸ëœì­ì…˜ì„ ì§€ìš°ë„ˆí•˜ëŠ” ì „í†µì ì¸ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„ í˜¸í•œë‹¤.\nerDiagram PaymentEvent { checkout_id string PK buyer_info string seller_info string credit_card_info string is_payment_done boolean } í•œë²ˆì˜ ê²°ì œ í–‰ìœ„ëŠ” í•˜ë‚˜ì˜ ê²°ì œ ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ê³ , í•˜ë‚˜ì˜ ê²°ì œ ì´ë²¤íŠ¸ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ ê²°ì œ ì£¼ë¬¸ì´ í¬í•¨ë  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ìì˜ ê²°ì œë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¤‘ì—ëŠ” íŒë§¤ìì˜ ì‘í–‰ ê³„ì¢Œê°€ ì•„ë‹Œ êµ¬ë§¤ìì˜ ì¹´ë“œ ì •ë³´ë§Œ í•„ìš”í•˜ë‹¤. erDiagram PaymentOrder { payment_order_id string pk buyer_account string amount string currency string checkout_id string FK payment_order_status string ledger_updated boolean wallet_updated boolean } payment_order_statusëŠ” ê²°ì œ ì£¼ë¬¸ì˜ ì‹¤í–‰ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ” ì—´ê±° ìë£Œí˜•ì´ë‹¤.\nNOT_STARTED, EXECUTING, SUCCESS, FAILED ì—…ë°ì´íŠ¸ ë¡œì§ì˜ íë¦„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nì´ˆê¸°ê°’ì€ NOT_STARTED ê²°ì œ ì„œë¹„ìŠ¤ëŠ” ê²°ì œ ì‹¤í–‰ìì— ì£¼ë¬¸ì„ ì „ì†¡í•˜ë©´ payment_order_statusì˜ ê°’ì„ EXECUTINGìœ¼ë¡œ ë°”ê¾¼ë‹¤. ê²°ì œ ì„œë¹„ìŠ¤ëŠ” ê²°ì œ ì²˜ë¦¬ìì˜ ì‘ë‹µì— ë”°ë¼ payment_order_statusì˜ ê°’ì„ SUCCESS ë˜ëŠ” FAILë¡œ ë°”ê¾¼ë‹¤. payment_order_status ê°’ì´ SUCCESSë¡œ ê²°ì •ë˜ë©´ ê²°ì œ ì„œë¹„ìŠ¤ëŠ” ì§€ê°‘ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ì—¬ íŒë§¤ì ì”ì•¡ì„ ì—…ë°ì´íŠ¸í•˜ê³ , wallet_updated í•„ë“œì˜ ê°’ì€ trueë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.\nì´ ì ˆì°¨ê°€ ëë‚˜ë©´ ê²°ì œ ì„œë¹„ìŠ¤ëŠ” ì›ì¥ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ì—¬ ledger_updated í•„ë“œë¥¼ trueë¡œ ê°±ì‹ í•œë‹¤.\në™ì¼í•œ check_id ì•„ë˜ì˜ ëª¨ë“  ê²°ì œ ì£¼ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©´ ê²°ì œ ì„œë¹„ìŠ¤ëŠ” ê²°ì œ ì´ë²¤íŠ¸ í…Œì´ë¸”ì˜ is_payment_doneì„ trueë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì¢…ê²°ë˜ì§€ ì•Šì€ ê²°ì œ ì£¼ë¬¸ì„ ëª¨ë‹ˆí„°ë§ í•˜ê¸° ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ì„ ë§ˆë ¨í•´ë‘”ë‹¤.\nì„ê³„ê°’ í˜•íƒœë¡œ ì„¤ì •ëœ ê¸°ê°„ì´ ì§€ë‚˜ë„ë¡ ì™„ë£Œë˜ì§€ ì•Šì€ ê²°ì œ ì£¼ë¬¸ì´ ìˆì„ ê²½ìš° ì‚´í´ë³´ë„ë¡ ì—”ì§€ë‹ˆì–´ì—ê²Œ ê²½ë³´ë¥¼ ë³´ë‚¸ë‹¤. ë³µì‹ë¶€ê¸° ì›ì¥ ì‹œìŠ¤í…œ ì›ì¥ ì‹œìŠ¤í…œì—ëŠ” ë³µì‹ë¶€ê¸°(double-entry)ë¼ëŠ” ì¤‘ìš”í•œ ì„¤ê³„ ì›ì¹™ì´ ìˆë‹¤.\në³µì‹ë¶€ê¸° íšŒê³„(accounting)/ë¶€ê¸°(bookeeping)ë¼ê³ ë„ í•œë‹¤. ë³µì‹ë¶€ê¸°ëŠ” ëª¨ë“  ê²°ì œ ì‹œìŠ¤í…œì— í•„ìˆ˜ ìš”ì†Œì´ë©° ì •í™•í•œ ê¸°ë¡ì„ ë‚¨ê¸°ëŠ” ë° í•µì‹¬ì  ì—­í• ì„ í•œë‹¤.\nëª¨ë“  ê²°ì œ ê±°ë˜ë¥¼ ë‘ ê°œì˜ ë³„ë„ ì›ì¥ ê³„ì¢Œì— ê°™ì€ ê¸ˆì•¡ìœ¼ë¡œ ê¸°ë¡í•˜ë©°, í•œ ê³„ì¢Œì—ì„œëŠ” ì°¨ê°, ë‹¤ë¥¸ ê³„ì¢Œì—ì„œëŠ” ì…ê¸ˆì´ ì´ë£¨ì–´ì§„ë‹¤.\në³µì‹ë¶€ê¸° ì‹œìŠ¤í…œì—ì„œ ëª¨ë“  ê±°ë˜ í•­ëª©ì˜ í•©ê³„ëŠ” 0ì´ì–´ì•¼ í•œë‹¤.\nì´ ì‹œìŠ¤í…œì„ í™œìš©í•˜ë©´ ìê¸ˆì˜ íë¦„ì„ ì‹œì‘ë¶€í„° ëê¹Œì§€ ì¶”ì í•  ìˆ˜ ìˆìœ¼ë©°, ê²°ì œ ì£¼ê¸° ì „ë°˜ì— ê±¸ì³ ì¼ê´€ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.\nì™¸ë¶€ ê²°ì œ í˜ì´ì§€ ëŒ€ë¶€ë¶„ ê¸°ì—…ì€ ì‹ ìš© ì¹´ë“œ ì •ë³´ë¥¼ ë‚´ë¶€ì— ì €ì¥í•˜ë©´ ë³µì¡í•œ ê·œì •ì„ ì¤€ìˆ˜í•´ì•¼ í•˜ë¯€ë¡œ ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.\në”°ë¼ì„œ PSPì—ì„œ ì œê³µí•˜ëŠ” **ì™¸ë¶€ ì‹ ìš© ì¹´ë“œ í˜ì´ì§€(hosted credit card page)**ë¥¼ ì‚¬ìš©í•œë‹¤.\nìœ„ì ¯, iframe, SDKë“± ì´ë¥¼ í†µí•´ ìš°ë¦¬ ê²°ì œ ì„œë¹„ìŠ¤ê°€ ì•„ë‹Œ PSPê°€ ì œê³µí•˜ëŠ” ì™¸ë¶€ ê²°ì œ í˜ì´ê°€ ì§ì ‘ ê³ ê° ì¹´ë“œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•œë‹¤.\nëŒ€ê¸ˆ ì •ì‚° íë¦„ ëŒ€ê¸ˆ ìˆ˜ì‹  íë¦„ê³¼ ì•„ì£¼ ìœ ì‚¬í•˜ë‹¤.\ní•œ ê°€ì§€ ì°¨ì´ëŠ” PSPë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ë§¤ìì˜ ì‹ ìš© ì¹´ë“œì—ì„œ ì „ì ìƒê±°ë˜ ì›¹ì‚¬ì´íŠ¸ ì€í–‰ ê³„ì¢Œë¡œ ëˆì„ ì´ì²´í•˜ëŠ” ëŒ€ì‹ , íƒ€ì‚¬ ì •ì‚° ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì ìƒê±°ë˜ ì›¹ì‚¬ì´íŠ¸ ì€í–‰ ê³„ì¢Œì—ì„œ íŒë§¤ì ì€í–‰ ê³„ì¢Œë¡œ ëˆì„ ì´ì²´í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì™¸ìƒ ë§¤ì…ê¸ˆ(accounts payable) ì§€ê¸‰ ì„œë¹„ìŠ¤ ì œê³µ ì—…ì²´ë¥¼ ì´ìš©í•œë‹¤.\në§ˆì°¬ê°€ì§€ë¡œ ë‹¤ì–‘í•œ ê·œì œ ìš”êµ¬ì‚¬í•­ë“¤ì´ ìˆê¸° ë•Œë¬¸ 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ì´ë²ˆ ì ˆì—ì„œëŠ” ì‹œìŠ¤í…œì„ ë” ë¹ ë¥´ê³  ê°•ë ¥í•˜ë©° ì•ˆì „í•˜ê²Œ ë§Œë“œëŠ” ë° ì´ˆì ì„ ë§ì¶˜ë‹¤.\në¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ì˜¤ë¥˜ì™€ ì¥ì• ëŠ” í”¼í•  ìˆ˜ ì—†ì„ ë¿ë§Œ ì•„ë‹ˆë¼ í”í•˜ë‹¤. PSP ì—°ë™ ê²°ì œ ì‹œìŠ¤í…œì´ ì¹´ë“œ ì‹œìŠ¤í…œì— ì§ì ‘ ì—°ê²°í•  ìˆ˜ ìˆë‹¤ë©´ PSP ì—†ì´ë„ ê²°ì œí•  ìˆ˜ ìˆì§€ë§Œ, ë§¤ìš° í° íšŒì‚¬ë§Œ ê°€ëŠ¥í•˜ì—¬ íŠ¹ìˆ˜í•œ ê²½ìš°ë¡œ ê°„ì£¼í•œë‹¤.\nëŒ€ë¶€ë¶„ íšŒì‚¬ëŠ” ë‘ ê°€ì§€ ë°©ë²• ì¤‘ í•˜ë‚˜ë¡œ ê²°ì œ ì‹œìŠ¤í…œì„ PSPì™€ ì—°ë™í•œë‹¤.\në¯¼ê° ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥í•  ìˆ˜ ìˆë‹¤ë©´ APIë¥¼ í†µí•´ PSPì™€ ì—°ë™í•œë‹¤. íšŒì‚¬ëŠ” ê²°ì œ ì›¹í˜ì´ì§€ ê°œë°œ, ë¯¼ê° ì •ë³´ ìˆ˜ì§‘ PSPëŠ” ì€í–‰ ì—°ê²°, ë‹¤ì–‘í•œ ì¹´ë“œ ì§€ì› ë¯¼ê° ì •ë³´ë¥¼ ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ PSPë¥¼ ì „ë¶€ í™œìš© ëŒ€ë¶€ë¶„ ê¸°ì—…ë“¤ì´ íƒí•˜ëŠ” ì ‘ê·¼ë²• ì¡°ì • ì‹œìŠ¤í…œ êµ¬ì„± ìš”ì†Œê°€ ë¹„ë™ê¸°ì ìœ¼ë¡œ í†µì‹ í•˜ëŠ” ê²½ìš° ë©”ì‹œì§€ê°€ ì „ë‹¬ë˜ê±°ë‚˜ ì‘ë‹µì´ ë°˜í™˜ëœë‹¤ëŠ” ë³´ì¥ì´ ì—†ë‹¤.\nì‹œìŠ¤í…œ ì„±ëŠ¥ì„ ë†’ì´ê¸° ìœ„í•´ ë¹„ë™ê¸° í†µì‹ ì„ ìì£¼ ì‚¬ìš©í•˜ëŠ” ê²°ì œ ê´€ë ¨ ì‚¬ì—…ì— ì¼ë°˜ì ì¸ ë¬¸ì œ PSPë‚˜ ì€í–‰ ê°™ì€ ì™¸ë¶€ ì‹œìŠ¤í…œë„ ë¹„ë™ê¸° í†µì‹ ì„ ì„ í˜¸í•˜ë¯€ë¡œ ì¡°ì •ì„ í†µí•´ ì •í™•ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.\nì¡°ì • Reconciliation\nê´€ë ¨ ì„œë¹„ìŠ¤ ê°„ì˜ ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ ê²°ì œ ì‹œìŠ¤í…œì˜ ë§ˆì§€ë§‰ ë°©ì–´ì„ ìœ¼ë¡œ ë°›ì•„ë“¤ì—¬ì§„ë‹¤.\në§¤ì¼ ë°¤ PSPë‚˜ ì€í–‰ì€ ê³ ê°ì—ê²Œ ì •ì‚° íŒŒì¼ì„ ë³´ë‚¸ë‹¤.\nì€í–‰ ê³„ì¢Œì˜ ì”ì•¡, í•˜ë£¨ ë™ì•ˆ ê³„ì¢Œì—ì„œ ë°œìƒí•œ ëª¨ë“  ê±°ë˜ ë‚´ì—­ì´ ê¸°ì¬ ì¡°ì • ì‹œìŠ¤í…œì€ ì •ì‚° íŒŒì¼ì˜ ì„¸ë¶€ ì •ë³´ë¥¼ ì½ì–´ ì›ì¥ ì‹œìŠ¤í…œê³¼ ë¹„êµí•œë‹¤.\nì¡°ì •ì€ ê²°ì œ ì‹œìŠ¤í…œì˜ ë‚´ë¶€ ì¼ê´€ì„±ì„ í™•ì¸í•  ë•Œë„ ì‚¬ìš©ëœë‹¤.\nì›ì¥ê³¼ ì§€ê°‘ì˜ ìƒíƒœê°€ ê°™ì€ì§€ í™•ì¸ ì¡°ì • ì¤‘ ë°œê²¬ëœ ì°¨ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì¬ë¬´íŒ€ì— ì˜ë¢°í•˜ì—¬ ìˆ˜ë™ìœ¼ë¡œ ê³ ì¹˜ê²Œë˜ëŠë° ë°œìƒ ê°€ëŠ¥í•œ ë¶ˆì¼ì¹˜ ë¬¸ì œ ë° í•´ê²° ë°©ì•ˆì€ ì„¸ ê°€ì§€ ë²”ì£¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nì–´ë–¤ ìœ í˜•ì˜ ë¬¸ì œì¸ì§€ ì•Œê³  ìˆìœ¼ë©° ë¬¸ì œ í•´ê²° ì ˆì°¨ë¥¼ ìë™í™”í•  ìˆ˜ ìˆëŠ” ê²½ìš° ìë™í™” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤. ì–´ë–¤ ìœ í˜•ì˜ ë¬¸ì œì¸ì§€ëŠ” ì•Œë‹ˆë§Œ ìë™í™”í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì‘ì—… ëŒ€ê¸°ì—´ì— ë„£ê³  ì¬ë¬´íŒ€ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì •í•˜ë„ë¡ í•œë‹¤. ë¶„ë¥˜í•  ìˆ˜ ì—†ëŠ” ìœ í˜• ë¬¸ì œì¸ ê²½ìš° íŠ¹ë³„ ì‘ì—… ëŒ€ê¸°ì—´ì— ë„£ê³  ì¬ë¬´íŒ€ì—ì„œ ì¡°ì‚¬í•˜ë„ë¡ í•œë‹¤. ê²°ì œ ì§€ì—° ì²˜ë¦¬ ê²°ì œ ìš”ì²­ì€ ë§ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì¹˜ë©°, ë‚´ë¶€ ë° ì™¸ë¶€ì˜ ë‹¤ì–‘í•œ ì²˜ë¦¬ ì£¼ì²´ì™€ ì—°ë™í•œë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê²½ìš° ê²°ì œ ìš”ì²­ì€ ëª‡ ì´ˆë§Œì— ì²˜ë¦¬ë˜ì§€ë§Œ, ì™„ë£Œë˜ê±°ë‚˜ ê±°ë¶€ë˜ê¸°ê¹Œì§€ ëª‡ ì‹œê°„ ë˜ëŠ” ë©°ì¹ ì´ ê±¸ë¦¬ëŠ” ê²½ìš°ë„ ìˆë‹¤.\nPSPê°€ í•´ë‹¹ ê²°ì œ ìš”ì²­ì˜ ìœ„í—˜ì„±ì´ ë†’ë‹¤ê³  ë³´ê³  ë‹´ë‹¹ì ê²€í† ë¥¼ ìš”êµ¬í•˜ëŠ” ê²½ìš° ì‹ ìš© ì¹´ë“œì‚¬ê°€ êµ¬ë§¤ í™•ì¸ ìš©ë„ë¡œ ì¹´ë“œ ì†Œìœ ìì˜ ì¶”ê°€ ì •ë³´ë¥¼ ìš”ì²­í•˜ëŠ” 3D ë³´ì•ˆ ì¸ì¦ ê°™ì€ ì¶”ê°€ ë³´í˜¸ ì¥ì¹˜ë¥¼ ìš”êµ¬í•˜ëŠ” ê²½ìš° ê²°ì œ ì„œë¹„ìŠ¤ëŠ” ì²˜ë¦¬í•˜ëŠ” ë° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ìœ„ì™€ ê°™ì€ ìš”ì²­ì—ë„ ëŒ€ì‘í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©°, êµ¬ë§¤ í˜ì´ì§€ê°€ ì™¸ë¶€ PSPì— í˜¸ìŠ¤íŒ… ë˜ëŠ” ê²½ìš° PSPëŠ” ëŒ€ë¶€ë¶„ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•œë‹¤.\nê²°ì œê°€ ëŒ€ê¸° ìƒíƒœì„ì„ ì•Œë¦¬ëŠ” ìƒíƒœ ì •ë³´ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í˜¸ë‚˜í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ë¥¼ ì‚¬ìš©ìì—ê²Œ í‘œì‹œí•œë‹¤. ìš°ë¦¬ íšŒì‚¬ë¥¼ ëŒ€ì‹ í•˜ì—¬ ëŒ€ê¸° ì¤‘ì¸ ê²°ì œì˜ ì§„í–‰ ìƒí™©ì„ ì¶”ì í•˜ê³ , ìƒíƒœê°€ ë°”ë€Œë©´ PSPì— ë“±ë¡ëœ ì›¹í›…ì„ í†µí•´ ê²°ì œ ì„œë¹„ìŠ¤ì— ì•Œë¦°ë‹¤. ê²°ì œ ìš”ì²­ì´ ìµœì¢…ì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ PSPëŠ” ì›¹í›…ì„ í˜¸ì¶œí•œë‹¤.\nê²°ì œ ì„œë¹„ìŠ¤ëŠ” ë‚´ë¶€ ì‹œìŠ¤í…œì— ê¸°ë¡ëœ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í•˜ê³  ê³ ê°ì—ê²Œ ë°°ì†¡ì„ ì™„ë£Œí•œë‹¤.\nì–´ë–¤ PSPëŠ” ì›¹í›…ì„ í†µí•´ ê²°ì œ ì„œë¹„ìŠ¤ì— ê²°ì œ ìƒíƒœ ë³€ê²½ì„ ì•Œë¦¬ëŠ” ëŒ€ì‹ , ê²°ì œ ì„œë¹„ìŠ¤ë¡œ í•˜ì—¬ê¸ˆ ëŒ€ê¸° ì¤‘ì¸ ê²°ì œ ìš”ì²­ì˜ ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸í•˜ë„ë¡ í•˜ê¸°ë„ í•œë‹¤. ë‚´ë¶€ ì„œë¹„ìŠ¤ ê°„ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë‘ ê°€ì§€ íŒ¨í„´ì´ ìˆë‹¤.\në™ê¸°ì‹ í†µì‹ \nHTTP ê°™ì€ ë™ê¸°ì‹ í†µì‹ ì€ ì†Œê·œëª¨ ì‹œìŠ¤í…œì—ì„œëŠ” ì˜ ì‘ë™í•˜ì§€ë§Œ ê·œëª¨ê°€ ì»¤ì§€ë©´ ë‹¨ì ì´ ë¶„ëª…í•´ì§€ë©°, í•œ ìš”ì²­ì— ì‘ë‹µì„ ë§Œë“œëŠ” ì²˜ë¦¬ ì£¼ê¸°ëŠ” ê´€ë ¨ëœ ì„œë¹„ìŠ¤ê°€ ë§ì„ìˆ˜ë¡ ê¸¸ì–´ì§„ë‹¤.\nì„±ëŠ¥ ì €í•˜ ì²˜ë¦¬ì— ê´€ê³„ëœ ì„œë¹„ìŠ¤ ê°€ìš´ë° í•˜ë‚˜ì— ë°œìƒí•œ ì„±ëŠ¥ ë¬¸ì œê°€ ì „ì²´ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ë¼ì¹œë‹¤. ì¥ì•  ê²©ë¦¬ ê³¤ë€ PSP ë“±ì˜ ì„œë¹„ìŠ¤ì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ë” ì´ìƒ ì‘ë‹µì„ ë°›ì§€ ëª»í•œë‹¤. ë†’ì€ ê²°í•©ë„ ìš”ì²­ ë°œì‹ ìëŠ” ìˆ˜ì‹ ìë¥¼ ì•Œì•„ì•¼ í•œë‹¤. ë‚®ì€ í™•ì •ì„± íë¥¼ ë²„í¼ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê³ ì„œëŠ” ê°‘ì‘ìŠ¤ëŸ¬ìš´ íŠ¸ë˜í”½ ì¦ê°€ì— ëŒ€ì‘í•  ìˆ˜ ìˆë„ë¡ ì‹œìŠ¤í…œì„ í™•ì¥í•˜ê¸° ì–´ë µë‹¤. ë¹„ë™ê¸° í†µì‹ \ní¬ê²Œ ë‘ê°€ì§€ ì ì£¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\në‹¨ì¼ ìˆ˜ì‹ ì ìš”ì²­ì€ í•˜ë‚˜ì˜ ìˆ˜ì‹ ì ë˜ëŠ” ì„œë¹„ìŠ¤ê°€ ì²˜ë¦¬í•œë‹¤. ê³µìœ  ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í•œë‹¤. ë³µìˆ˜ êµ¬ë…ìê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë‚˜ ì²˜ë¦¬ëœ ë©”ì‹œì§€ëŠ” íì—ì„œ ë°”ë¡œ ì œê±° ë‹¤ì¤‘ ìˆ˜ì‹ ì ë©”ì‹œì§€ëŠ” ì—¬ëŸ¬ ìˆ˜ì‹ ì ë˜ëŠ” ì„œë²„ê°€ ì²˜ë¦¬í•œë‹¤. ì¹´í”„ì¹´ê°€ ì í•©í•˜ë‹¤. ì†Œë¹„ìê°€ ìˆ˜ì‹ í•œ ë©”ì‹œì§€ëŠ” ì¹´í”„ì¹´ì—ì„œ ë°”ë¡œ ì‚¬ë¼ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì— ë™ì¼í•œ ë©”ì‹œì§€ë¥¼ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ê°€ ë°›ì•„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ê²°ì œì‹œìŠ¤í…œì—ì„œëŠ” í•˜ë‚˜ì˜ ìš”ì²­ì´ í‘¸ì‹œ ì•Œë¦¼, ì¬ë¬´ ë³´ê³  ì—…ë°ì´íŠ¸, ë¶„ì„ ê²°ê³¼ ì—…ë°ì´íŠ¸ ë“± ë‹¤ì–‘í•œ ìš©ë„ë¡œ ì“°ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì í•©í•˜ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë™ê¸°ì‹ í†µì‹ ì€ ì„¤ê³„í•˜ê¸° ì‰½ì§€ë§Œ ì„œë¹„ìŠ¤ì˜ ììœ¨ì„±ì„ ë†’ì´ê¸°ì—ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤.\nì˜ì¡´ì„± ê·¸ë˜í”„ê°€ ì»¤ì§€ë©´ ì „ë°˜ì  ì„±ëŠ¥ì€ ë‚®ì•„ì§„ë‹¤. ë¹„ë™ê¸° í†µì‹ ì€ ì„¤ê³„ì˜ ë‹¨ìˆœì„±ê³¼ ë°ì´í„° ì¼ê´€ì„±ì„ ì‹œìŠ¤í…œ í™•ì¥ì„± ë° ì¥ì•  ê°ë‚´ ëŠ¥ë ¥ê³¼ ë§ë°”ê¾¼ ê²°ê³¼ë‹¤.\në¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë³µì¡í•˜ê³  íƒ€ì‚¬ ì„œë¹„ìŠ¤ ì˜ì¡´ì„±ì´ ë†’ì€ ëŒ€ê·œëª¨ ê²°ì œ ì‹œìŠ¤í…œì—ëŠ” ë¹„ë™ê¸° í†µì‹ ì´ ë” ë‚˜ì€ ì„ íƒì´ë‹¤. ê²°ì œ ì‹¤íŒ¨ ì²˜ë¦¬ ëª¨ë“  ê²°ì œ ì‹œìŠ¤í…œì€ ì•ˆì •ì„± ë° ê²°í•¨ ë‚´ì„±ì´ í•µì‹¬ì  ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì‹¤íŒ¨í•œ ê²°ì œë¥¼ ì ì ˆíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.\nê²°ì œ ìƒíƒœ ì¶”ì \nê²°ì œ ì£¼ê¸°ì˜ ëª¨ë“  ë‹¨ê³„ì—ì„œ ê²°ì œ ìƒíƒœë¥¼ ì •í™•í•˜ê²Œ ìœ ì§€í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.\nì‹¤íŒ¨ê°€ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ ê²°ì œ ê±°ë˜ì˜ í˜„ì¬ ìƒíƒœë¥¼ íŒŒì•…í•˜ê³  ì¬ì‹œë„ ë˜ëŠ” í™˜ë¶ˆì´ í•„ìš”í•œì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤.\nê²°ì œ ìƒíƒœëŠ” ë°ì´í„° ì¶”ê°€ë§Œ ê°€ëŠ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì— ë³´ê´€í•œë‹¤. ì¬ì‹œë„ í ë° ì‹¤íŒ¨ ë©”ì‹œì§€ í\nì‹¤íŒ¨ë¥¼ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” ì¬ì‹œë„ íì™€ ì‹¤íŒ¨ ë©”ì‹œì§€ íë¥¼ ë‘ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.\nì¬ì‹œë„ í ì¼ì‹œì  ì˜¤ë¥˜ ê°™ì€ ì¬ì‹œë„ ê°€ëŠ¥ ì˜¤ë¥˜ëŠ” ì¬ì‹œë„ íì— ë³´ë‚¸ë‹¤. ì‹¤íŒ¨ ë©”ì‹œì§€ í ë°˜ë³µì ìœ¼ë¡œ ì²˜ë¦¬ì— ì‹¤íŒ¨í•œ ë©”ì‹œì§€ëŠ” ì‹¤íŒ¨ ë©”ì‹œì§€ íë¡œ ë³´ë‚¸ë‹¤. ë¬¸ì œê°€ ìˆëŠ” ë©”ì‹œì§€ë¥¼ ë””ë²„ê¹…í•˜ê³  ê²°ê¸°í•˜ì—¬ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì´ìœ ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•œ ê²€ì‚¬ì— ìœ ìš©í•˜ë‹¤. ì •í™•íˆ í•œ ë²ˆ ì „ë‹¬ ê²°ì œ ì‹œìŠ¤í…œì— ë°œìƒ ê°€ëŠ¥í•œ ê°€ì¥ ì‹¬ê°í•œ ë¬¸ì œ ì¤‘ í•˜ë‚˜ëŠ” ê³ ê°ì—ê²Œ ì´ì¤‘ìœ¼ë¡œ ì²­êµ¬í•˜ëŠ” ê²ƒì´ë‹¤.\nê²°ì œ ì£¼ë¬¸ì´ ì •í™•íˆ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ ê²°ì œ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì–´ë ¤ìš´ ë¬¸ì œë¡œ ë³´ì´ì§€ë‚¨ ë¬¸ì œë¥¼ ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ„ë©´ í›¨ì”¬ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆìœ¼ë©° ìˆ˜í•™ì ìœ¼ë¡œ ë‹¤ìŒ ìš”ê±´ì´ ì¶©ì¡±ë˜ë©´ ì£¼ì–´ì§„ ì—°ì‚°ì€ ì •í™•íˆ í•œ ë²ˆ ì‹¤í–‰ëœë‹¤.\nìµœì†Œ í•œ ë²ˆì€ ì‹¤í–‰ëœë‹¤. ìµœëŒ€ í•œ ë²ˆ ì‹¤í–‰ëœë‹¤. ì¬ì‹œë„ë¥¼ í†µí•´ ìµœì†Œ í•œ ë²ˆ ì‹¤í–‰ì„ ë³´ì¦í•˜ëŠ” ë°©ë²•ê³¼ ë©±ë“±ì„± ê²€ì‚¬ë¥¼ í†µí•´ ìµœëŒ€ í•œ ë²ˆ ì‹¤í–‰ì„ ë³´ì¦í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¸ë‹¤.\nì¬ì‹œë„\në„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ë‚˜ ì‹œê°„ ì´ˆê³¼ë¡œ ì¸í•´ ê²°ì œ ê±°ë˜ë¥¼ ë‹¤ì‹œ ì‹œë„í•´ì•¼ í•˜ëŠ” ê²½ìš° ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ì„ í™œìš©í•˜ë©´ ì–´ë–¤ ê²°ì œê°€ ìµœì†Œ í•œ ë²ˆì€ ì‹¤í–‰ë˜ë„ë¡ ë³´ì¥ ê°€ëŠ¥í•˜ë‹¤.\nì¬ì‹œë„ ë§¤ì»¤ë‹ˆì¦˜ì„ ë„ì…í•  ë•ŒëŠ” ì–¼ë§ˆë‚˜ ê°„ê²©ì„ ë‘ê³  ì¬ì‹œë„í• ì§€ ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì¦‰ì‹œ ì¬ì‹œë„(immediate retry) í´ë¼ì´ì–¸íŠ¸ëŠ” ì¦‰ì‹œ ìš”ì²­ì„ ë‹¤ì‹œ ë³´ë‚¸ë‹¤. ê³ ì • ê°„ê²©(fixed interval) ì¬ì‹œë„ ì „ì— ì¼ì • ì‹œê°„ì„ ê¸°ë‹¤ë¦°ë‹¤. ì¦ë¶„ ê°„ê²©(incremental interval) ì¬ì‹œë„ ì „ì— ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„ì„ íŠ¹ì •í•œ ì–‘ ë§Œí¼ ì ì§„ì ìœ¼ë¡œ ëŠ˜ë ¤ë‚˜ê°„ë‹¤. ì§€ìˆ˜ì  ë°±ì˜¤í”„(exponential backoff) ì¬ì‹œë„ ì „ì— ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„ì„ ì§ì „ ì¬ì‹œë„ ëŒ€ë¹„ ë‘ ë°°ì”© ëŠ˜ë ¤ ë‚˜ê°€ëŠ” ë°©ì•ˆ ì·¨ì†Œ(cancel) ìš”ì²­ì„ ì² íšŒí•œë‹¤. ì‹¤íŒ¨ê°€ ì˜êµ¬ì ì´ê±°ë‚˜ ì¬ì‹œë„ë¥¼ í•˜ë”ë¼ë„ ì„±ê³µ ê°€ëŠ¥ì„±ì´ ë‚®ì€ ê²½ìš° í”íˆ ì‚¬ìš©ëœë‹¤. ëª¨ë“  ìƒí™©ì— ë§ëŠ” í•´ê²°ì±…ì€ ì—†ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œê°€ ë‹¨ì‹œê°„ í•´ê²°ë  ê²ƒ ê°™ì§€ ì•Šë‹¤ë©´ ì§€ìˆ˜ì  ë°±ì˜¤í”„ë¥¼ ì‚¬ìš©í•œë‹¤.\nì§€ë‚˜ì¹˜ê²Œ ê³µê²©ì ì¸ ì¬ì‹œë„ ì „ëµì€ ì»´í“¨íŒ… ìì›ì„ ë‚­ë¹„í•˜ê³  ì„œë¹„ìŠ¤ ê³¼ë¶€í•˜ë¥¼ ìœ ë°œí•œë‹¤.\nì—ëŸ¬ ì½”ë“œë¥¼ ë°˜í™˜í•  ë•ŒëŠ” Retry-After í—¤ë”ë¥¼ ê°™ì´ ë¶™ì—¬ ë´°ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤. ë©±ë“±ì„±\në©±ë“±ì„±ì€ ìµœëŒ€ í•œ ë²ˆ ì‹¤í–‰ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ í•µì‹¬ ê°œë…ì´ë‹¤.\në©±ë“±ì„± Idempotency\nìˆ˜í•™ ë˜ëŠ” ì»´í“¨í„° ê³¼í•™ì  ì—°ì‚°ì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” í•œ ê°€ì§€ ì†ì„±ìœ¼ë¡œ, ì—°ì‚°ì„ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•˜ì—¬ë„ ìµœì´ˆ ì‹¤í–‰ ê²°ê³¼ê°€ ê·¸ëŒ€ë¡œ ë³´ì¡´ë˜ëŠ” íŠ¹ì„± ì¼ê±·ëŠ”ë‹¤.\nAPI ê´€ì ì—ì„œ ë³´ìë©´ í´ë¼ì´ì–¸íŠ¸ê°€ API ì—¬ëŸ¬ë²ˆ í˜¸ì¶œí•´ë„ í•­ìƒ ë™ì¼í•œ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤ëŠ” ëœ»ì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ í†µì‹ ì„ ìœ„í•´ì„œ ì¼ë°˜ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒì„±í•˜ê³  ì¼ì • ì‹œê°„ì´ ì§€ë‚˜ë©´ ë§Œë£Œë˜ëŠ” ê³ ìœ í•œ ê°’ì„ ë©±ë“± í‚¤ë¡œ ì‚¬ìš©í•œë‹¤.\nUUIDë¥¼ ë©±ë“± í‚¤ë¡œ êµ°ì¥í•˜ë©° ì‹¤ì œ ë„ë¦¬ ì“°ì¸ë‹¤. ì‹œë‚˜ë¦¬ì˜¤ 1: ê³ ê°ì´ ê²°ì œ ë²„íŠ¼ì„ ë¹ ë¥´ê²Œ ë‘ ë²ˆ í´ë¦­í•˜ëŠ” ê²½ìš°\nìš”ì²­ì— í¬í•¨ëœ ë©±ë“± í‚¤ë¥¼ ì´ì „ì— ë°›ì€ ì ì´ ìˆë‹¤ë©´ ì¬ì‹œë„ë¡œ ì²˜ë¦¬í•˜ë©°, ì´ì „ ê²°ì œ ìš”ì²­ì˜ ê°€ì¥ ìµœê·¼ ìƒíƒœë¥¼ í™œìš©í•œë‹¤.\në™ì¼í•œ ë©±ë“± í‚¤ë¡œ ë™ì‹œì— ë§ì€ ìš”ì²­ì„ ë°›ìœ¼ë©´ ê²°ì œ ì„œë¹„ìŠ¤ëŠ” ê·¸ ê°€ìš´ë° í•˜ë‚˜ë§Œ ì²˜ë¦¬í•˜ê³  ë‚˜ë¨¸ì§€ì— ëŒ€í•´ì„œ 429 Too Many Requests ìƒíƒœ ì½”ë“œë¥¼ ë°˜í™˜í•œë‹¤.\në©±ë“±ì„±ì„ ì§€ì›í•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê³ ìœ  í‚¤ ì œì•½ ì¡°ê±´ì„ í™œìš©í•˜ì—¬ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë©±ë“±í‚¤ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‹œë‚˜ë¦¬ì˜¤ 2: PSPê°€ ê²°ì œë¥¼ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬í–ˆì§€ë§Œ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ë¡œ ì‘ë‹µì´ ê²°ì œ ì‹œìŠ¤í…œì— ì „ë‹¬ë˜ì§€ ì•Šì•„ ì‚¬ìš©ìê°€ ê²°ì œ ë²„íŠ¼ì„ ë‹¤ì‹œ í´ë¦­í•˜ëŠ” ê²½ìš°\nê²°ì œ ì„œë¹„ìŠ¤ëŠ” PSPì— ë¹„ì¤‘ë³µ ë‚œìˆ˜ë¥¼ ì „ì†¡í•˜ê³  PSPëŠ” í•´ë‹¹ ë‚œìˆ˜ì— ëŒ€ì‘ë˜ëŠ” í† í°ì„ ë°˜í™˜í•œë‹¤.\nì´ ë‚œìˆ˜ëŠ” ê²°ì œ ì£¼ë¬¸ì„ ìœ ì¼í•˜ê²Œ ì‹ë³„í•˜ë©°, í•´ë‹¹ í† í°ì€ ê·¸ ë‚œìˆ˜ì— ì¼ëŒ€ì¼ë¡œ ëŒ€ì‘ë˜ì–´ í† í° ë˜í•œ ê²°ì œ ì£¼ë¬¸ì„ ìœ ì¼í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ìê°€ ê²°ì œ ë²„íŠ¼ì„ ë‹¤ì‹œ ëˆ„ë¥¸ë‹¤ê³  í•´ë„ ê²°ì œ ì£¼ë¬¸ì´ ê°™ìœ¼ë‹ˆ PSPë¡œ ì „ë™ë˜ëŠ” í† í°ë„ ê°™ê¸° ë•Œë¬¸ì—, PSPê°€ ì´ì¤‘ ê²°ì œë¡œ íŒë‹¨í•˜ê³  ì¢…ì „ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê²Œ ëœë‹¤.\nì¼ê´€ì„± ê²°ì œ ì‹¤í–‰ ê³¼ì •ì—ì„œ ìƒíƒœ ì •ë³´ë¥¼ ìœ ì§€ ê´€ë¦¬í•˜ëŠ” ì—¬ëŸ¬ ì„œë¹„ìŠ¤ê°€ í˜¸ì¶œëœë‹¤.\nê²°ì œ ì„œë¹„ìŠ¤ ë¹„ì¤‘ë³µ ë‚œìˆ˜, í† í°, ê²°ì œ ì£¼ë¬¸, ì‹¤í–‰ ìƒíƒœ ë“± ê²°ì œ ê´€ë ¨ ë°ì´í„° ì›ì¥ ëª¨ë“  íšŒê³„ ë°ì´í„° ì§€ê°‘ íŒë§¤ìì˜ ê³„ì • ì”ì•¡ PSP ê²°ì œ ì‹¤í–‰ ìƒíƒœ + ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì‚¬ë³¸ì— ë³µì œë  ìˆ˜ ìˆë‹¤. ë¶„ì‚° í™˜ê²½ì—ì„œëŠ” ì„œë¹„ìŠ¤ ê°„ í†µì‹  ì‹¤íŒ¨ë¡œ ë°ì´í„°ì˜ ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‚´ë¶€ ì„œë¹„ìŠ¤ ê°„ ë°ì´í„° ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë ¤ë©´ ìš”ì²­ì´ ì •í™•íˆ í•œ ë²ˆ ì²˜ë¦¬ë˜ë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒì´ ì•„ì£¼ ì¤‘ìš”í•˜ë‹¤.\në‚´ë¶€ ì„œë¹„ìŠ¤ì™€ ì™¸ë¶€ ì„œë¹„ìŠ¤(PSP) ê°„ì˜ ë°ì´í„° ì¼ê´€ì„± ìœ ì§€ë¥¼ ìœ„í•´ ì¼ë°˜ì ìœ¼ë¡œ ë©±ë“±ì„±ê³¼ ì¡°ì • í”„ë¡œì„¸ìŠ¤ë¥¼ í™œìš©í•œë‹¤. í•˜ì§€ë§Œ ì™¸ë¶€ ì„œë¹„ìŠ¤ê°€ ë©±ë“± APIë¥¼ ì§€ì›í•˜ë”ë¼ë„ í•­ìƒ ì˜³ë‹¤ê³  ê°€ì •í•  ìˆ˜ëŠ” ì—†ë‹¤.\në°ì´í„°ë¥¼ ë‹¤ì¤‘í™”í•˜ëŠ” ê²½ìš° ë³µì œ ì§€ì—°ìœ¼ë¡œ ì¸í•´ ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ì™€ ì‚¬ë³¸ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë¶ˆì¼ì¹˜í•˜ëŠ” ì¼ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©° ë‘ ê°€ì§€ í•´ê²° ë°©ë²•ì´ ìˆë‹¤.\nì£¼ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œë§Œ ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ìˆ˜í–‰ ì„¤ì •ì€ ì‰½ì§€ë§Œ ê·œëª¨ í™•ì¥ì„±ì´ ë–¨ì–´ì§„ë‹¤. ì‚¬ë³¸ì€ ë°ì´í„° ì•ˆì •ì„± ë³´ì¥ì—ë§Œ í™œìš©í•˜ê³  íŠ¸ë˜í”½ì€ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ìì› ë‚­ë¹„ ëª¨ë“  ì‚¬ë³¸ì„ í•­ìƒ ë™ê¸°í™” íŒ©ì„œìŠ¤, ë˜í”„íŠ¸ ê°™ì€ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš© YugabyteDb, CockroachDBì™€ ê°™ì€ í•©ì˜ ê¸°ë°˜ ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤. ê²°ì œ ë³´ì•ˆ ê²°ì œ ë³´ì•ˆì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤. ì‚¬ì´ë²„ ê³µê²©ê³¼ ì¹´ë“œ ë„ë‚œì— ëŒ€ì‘í•˜ê¸° ìœ„í•œ ëª‡ ê°€ì§€ ê·¸ìˆ ì„ ê°„ëµí•˜ê²Œ ì‚´í´ë³¸ë‹¤.\në¬¸ì œ í•´ê²°ì±… ìš”ì²­/ì‘ë‹µ ë„ì²­ HTTPS ë°ì´í„° ë³€ì¡° ì•”í˜¸í™” ë° ë¬´ê²°ì„± ê°•í™” ëª¨ë‹ˆí„°ë§ ì¤‘ê°„ì ê³µê²© ì¸ì¦ì„œ ê³ ì •ê³¼ í•¨ê»˜ SSL ì‚¬ìš© ë°ì´í„° ì†ì‹¤ ì—¬ëŸ¬ ì§€ì—­ì— ê±¸ì³ ë°ì´í„°ë² ì´ìŠ¤ ë³µì œ ë° ìŠ¤ëƒ…ìˆ ìƒì„± ë¶„ì‚° ì„œë¹„ìŠ¤ ê±°ë¶€ ê³µê²© ì²˜ë¦¬ìœ¨ ì œí•œ ë° ë°©í™”ë²½ ì¹´ë“œ ë„ë‚œ í† í°í™”. ì‹¤ì œ ì¹´ë“œ ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  í† í°ì„ ì €ì¥í•˜ê³  ê²°ì œì— ì‚¬ìš© PCI êµ¬ì • ì¤€ìˆ˜ PCI DSSëŠ” ë¸Œëœë“œ ì‹ ìš© ì¹´ë“œë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¡°ì§ì„ ìœ„í•œ ì •ë³´ ë³´ì•ˆ í‘œì¤€ ì‚¬ê¸° ì£¼ì†Œ í™•ì¸, ì¹´ë“œ í™•ì¸ ë²ˆí˜¸(CVV), ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ë“± 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ëŒ€ê¸ˆ ìˆ˜ì‹ ê³¼ ì •ì‚° íë¦„ì„ ì‚´í´ë³´ê³  ì¬ì‹œë„, ë©±ë“±ì„±, ì¼ê´€ì„±ì— ëŒ€í•´ì„œë„ ìì„¸íˆ ì‚´í´ë³´ì•˜ë‹¤.\nê²°ì œ ì‹œìŠ¤í…œì€ ì•„ì£¼ ë³µì¡í•˜ë©° ë‹¤ë£¨ì§€ ì•Šì•˜ì§€ë§Œ ì¤‘ìš”í•œ ì£¼ì œë“¤ë„ ë§ì´ ë‚¨ì•„ìˆë‹¤.\nëª¨ë‹ˆí„°ë§ ì£¼ìš” ì§€í‘œë¥¼ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ê²ƒì€ ëª¨ë“  í˜„ëŒ€ì  ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì•„ì£¼ ì¤‘ìš”í•˜ë‹¤. ê´‘ë²”ìœ„í•œ ëª¨ë‹ˆí„°ë§ì„ í†µí•´ ë§ì€ ì •ë³´ë“¤ì„ ì•Œ ìˆ˜ ìˆë‹¤. ëŒ€ì‹œë³´ë“œë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤. ê²½ë³´ ë¹„ì •ìƒì ì¸ ì‚¬ìš”í•­ì´ ë°œìƒí•˜ë©´ ì˜¨ì½œ ì¤‘ì¸ ê°œë°œìì—ê²Œ ì•Œë ¤ ì‹ ì†í•˜ê²Œ ëŒ€ì•™í˜ ìˆ˜ ìˆë„ë¡ í•œë‹¤. ë””ë²„ê¹… ë„êµ¬ ì—”ì§€ë‹ˆì–´ì™€ ê³ ê° ì§€ì›íŒ€ì´ ë” ì‰½ê²Œ ë””ë²„ê¹… í•  ìˆ˜ ìˆë„ë¡ ê²°ì œ ê±°ë˜ì˜ ìƒíƒœ, ì²˜ë¦¬ ì„œë²„ ê¸°ë¡, PSP ê¸°ë¡ ë“±ì„ ê²€í† í•  ìˆ˜ ìˆëŠ” ë„êµ¬ë¥¼ ê°œë°œí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. í™˜ìœ¨ êµ­ì œì ì¸ ê²°ì œ ì‹œìŠ¤í…œ ì„¤ê³„ì— ì¤‘ìš”í•œ ê³ ë ¤ ì‚¬í•­ ì§€ì—­ ì§€ì—­ë§ˆë‹¤ ê°€ìš©í•œ ê²°ì œ ìˆ˜ë‹¨ì´ ì™„ì „íˆ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤. í˜„ê¸ˆ ê²°ì œ êµ¬ê¸€/ì• í”Œ í˜ì´ ì—°ë™ ë“± ","date":"2024-11-24T18:10:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/11/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/11/","title":"11. ê²°ì œ ì‹œìŠ¤í…œ"},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” ì˜¨ë¼ì¸ ê²Œì„ ë¦¬ë”ë³´ë“œ, ì¦‰ ìˆœìœ„í‘œë¥¼ ì„¤ê³„í•´ë³¸ë‹¤.\nìˆœìœ„í‘œ?\nëˆ„ê°€ ì„ ë‘ë¥¼ ë‹¬ë¦¬ê³  ìˆëŠ”ì§€ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ê²Œì„ ë“±ì—ì„œ í”íˆ ì‚¬ìš©í•˜ëŠ” ì¥ì¹˜ë¡œ, ê°€ì¥ ë§ì€ í¬ì¸íŠ¸ë¥¼ íšë“í•œ ì‚¬ëŒì´ ìˆœìœ„í‘œì˜ ë§¨ ìœ„ì— ìë¦¬í•œë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ê²Œì„ì— ìŠ¹ë¦¬í•˜ë©´ í¬ì¸íŠ¸ íšë“ ëª¨ë“  í”Œë ˆì´ì–´ê°€ ìˆœìœ„í‘œì— í¬í•¨ ìƒˆë¡œìš´ í† ë„ˆë¨¼íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ ë§ˆë‹¤ ìƒˆë¡œìš´ ìˆœìœ„í‘œ ìƒì„± ìƒìœ„ 10ëª…ì˜ ì‚¬ìš©ìì™€ íŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ìˆœìœ„í‘œì— í‘œì‹œ íŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ë³´ì—¬ì¤„ ë•Œ ìœ„, ì•„ë˜ë¡œ 4ìˆœìœ„ ì°¨ì´ ì‚¬ìš©ì í¬í•¨(ì¶”ê°€ ìš”êµ¬ì‚¬í•­) DAU 500ë§Œëª…, MAU 2,500ë§Œëª… ê° ì„ ìˆ˜ëŠ” í•˜ë£¨ì— í‰ê·  10 ê²½ê¸° ì§„í–‰ ì‹¤ì‹œê°„ ë˜ëŠ” ì‹¤ì‹œê°„ì— ê°€ê¹ê²Œ ê²°ê³¼ë¥¼ í‘œì‹œ ëˆ„ì ëœ ê²°ê³¼ ì´ë ¥ì„ ë³´ì—¬ì£¼ëŠ”ê±´ ë°”ëŒì§í•˜ì§€ ì•ŠìŒ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ìˆœìœ„í‘œì— ìƒìœ„ 10ëª…ì˜ í”Œë ˆì´ì–´ë¥¼ í‘œì‹œ íŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ í‘œì‹œ ì–´ë–¤ ì‚¬ìš©ìë³´ë‹¤ 4ìˆœìœ„ ìœ„, ì•„ë˜ì— ìˆëŠ” ì‚¬ìš©ìë¥¼ í‘œì‹œ(ì¶”ê°€ ìš”êµ¬ ì‚¬í•­) ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì ìˆ˜ ì—…ë°ì´íŠ¸ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆœìœ„í‘œì— ë°˜ì˜ ì¼ë°˜ì ì¸ í™•ì¥ì„±, ê°€ìš©ì„± ë° ì•ˆì •ì„± ìš”êµ¬ì‚¬í•­ ê°œëµì ì¸ ê·œëª¨ ì¶”ì • ì„¤ê³„ë¥¼ í†µí•´ í•´ê²°í•´ì•¼ í•  ë¬¸ì œì˜ ì ì¬ì  ê·œëª¨ì™€ ê³¼ì œë¥¼ ê²°ì •í•˜ê¸° ìœ„í•œ ëª‡ê°€ì§€ ê³„ì‚° ê²°ê³¼ë¥¼ ì‚´í´ë³¸ë‹¤.\nê²Œì„ì€ ëŒ€ë¶€ë¶„ ì‚¬ìš©ëŸ‰ì´ ê· ë“±í•œ ê²½ìš°ê°€ ì—†ìœ¼ë©°, ë¶ë¯¸ ê¸°ì¤€ ì €ë… ì‹œê°„ì´ í”¼í¬ ì‹œê°„ëŒ€ì¼ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.\nì´ë¥¼ ê³ ë ¤í•˜ì—¬ ìµœëŒ€ ë¶€í•˜ëŠ” í‰ê· ì˜ ë‹¤ì„¯ë°° ì •ë„ë¡œ ê°€ì •í•œë‹¤.\nì‚¬ìš©ì ìˆ˜\n500ë§Œ / 10^5 ì´ˆ =~ 50 * 5 = ì´ˆë‹¹ 250 ì‚¬ìš©ì ì ìˆ˜ íšë“ QPS\ní•œ ì‚¬ìš©ìê°€ í•˜ë£¨ í‰ê·  10ê°œì˜ ê²Œì„ì„ í”Œë ˆì´í•œë‹¤ê³  ê°€ì • ì ìˆ˜ë¥¼ íšë“í•˜ëŠ” ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ëŠ” í‰ê·  QPSëŠ” 50 * 10 =~ 500 ìµœëŒ€ QPSëŠ” í‰ê· ì˜ 5ë°°ë¡œ ê°€ì •í•˜ì˜€ìœ¼ë¯€ë¡œ 500 * 5 = 2,500 ìƒìœ„ 10ëª… ìˆœìœ„í‘œ ê°€ì ¸ì˜¤ê¸°\nê° ì‚¬ìš©ìê°€ í•˜ë£¨ í•œ ë²ˆ ê²Œì„ì„ ì‹¤í–‰ ìƒìœ„ 10ëª… ìˆœìœ„í‘œëŠ” ì‚¬ìš©ìê°€ ì²˜ìŒ ê²Œì„ì„ ì—´ ë•Œë§Œ í‘œì‹œí•œë‹¤ê³  ê°€ì • QPS =~ 50 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° API ì„¤ê³„ ê°œëµì ìœ¼ë¡œ 3ê°€ì§€ APIê°€ í•„ìš”í•˜ë‹¤.\nPOST /v1/scores\nì‚¬ìš©ìê°€ ê²Œì„ì—ì„œ ìŠ¹ë¦¬í•˜ë©´ ìˆœìœ„í‘œì—ì„œ ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ê°±ì‹ í•œë‹¤.\nAPIëŠ” ê²Œì„ ì„œë²„ì—ì„œë§Œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ë‚´ë¶€ APIë¡œ í´ë¼ì´ì–¸íŠ¸ëŠ” í•´ë‹¹ APIë¥¼ í†µí•˜ì§€ ì•Šê³  ìˆœìœ„í‘œ ì ìˆ˜ë¥¼ ì§ì ‘ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ì—†ë‹¤.\nìš”ì²­ í•„ë“œ ì„¤ëª… user_id ê²Œì„ì—ì„œ ìŠ¹ë¦¬í•œ ì‚¬ìš©ì points ì‚¬ìš©ìê°€ ê²Œì„ì—ì„œ ìŠ¹ë¦¬í•˜ì—¬ íšë“í•œ í¬ì¸íŠ¸ ìˆ˜ ì‘ë‹µ ì´ë¦„ ì„¤ëª… 200 OK ì‚¬ìš©ì ì ìˆ˜ë¥¼ ì„±ê³µì ìœ¼ë¡œ ê°±ì‹  400 Bad Request ì˜ëª»ëœ ì¸ìê°€ ì „ë‹¬ë˜ì–´ ì‚¬ìš©ì ì ìˆ˜ë¥¼ ê°±ì‹ í•  ìˆ˜ ì—†ìŒ GET /v1/scores\nìˆœìœ„í‘œì—ì„œ ìƒìœ„ 10ëª…ì˜ í”Œë ˆì´ì–´ë¥¼ ì¡°íšŒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 { \u0026#34;data\u0026#34;: [ { \u0026#34;user_id\u0026#34;: \u0026#34;user_id1\u0026#34;, \u0026#34;user_name\u0026#34;: \u0026#34;alice\u0026#34;, \u0026#34;rank\u0026#34;: 1, \u0026#34;score\u0026#34;: 12543 }, { \u0026#34;user_id\u0026#34;: \u0026#34;user_id2\u0026#34;, \u0026#34;user_name\u0026#34;: \u0026#34;bob\u0026#34;, \u0026#34;rank\u0026#34;: 2, \u0026#34;score\u0026#34;: 11500 } ], ... \u0026#34;total\u0026#34;: 10 } `GET /v1/scores/{:user_id}\níŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ê°€ì ¸ì˜´\ní•„ë“œ ì„¤ëª… user_id ìˆœìœ„ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ì‚¬ìš©ì ID 1 2 3 4 5 6 7 { \u0026#34;user_info\u0026#34;: { \u0026#34;user_id\u0026#34;: \u0026#34;user5\u0026#34;, \u0026#34;score\u0026#34;: 1000, \u0026#34;rank\u0026#34;: 6, } } ê°œëµì  ì„¤ê³„ì•ˆ ë‘ ê°€ì§€ ì„œë¹„ìŠ¤ê°€ í¬í•¨ëœë‹¤.\nê²Œì„ ì„œë¹„ìŠ¤ ì‚¬ìš©ìê°€ ê²Œì„ì„ í”Œë ˆì´í•  ìˆ˜ ìˆë„ë¡ í•¨ ìˆœìœ„í‘œ ì„œë¹„ìŠ¤ ìˆœìœ„í‘œë¥¼ ìƒì„±í•˜ê³  í‘œì‹œí•˜ëŠ” ì—­í•  ë‹´ë‹¹ ì‚¬ìš©ìê°€ ê²Œì„ì—ì„œ ìŠ¹ë¦¬í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ê²Œì„ ì„œë¹„ìŠ¤ì— ìš”ì²­ì„ ë³´ë‚¸ë‹¤. ê²Œì„ ì„œë¹„ìŠ¤ëŠ” í•´ë‹¹ ìŠ¹ë¦¬ê°€ ì •ë‹¹í•˜ê³  ìœ íš¨í•œ ê²ƒì¸ì§€ í™•ì¸í•œ ë‹¤ìŒ ìˆœìœ„í‘œ ì„œë¹„ìŠ¤ì— ì ìˆ˜ ê°±ì‹  ìš”ì²­ì„ ë³´ë‚¸ë‹¤. ìˆœìœ„í‘œ ì„œë¹„ìŠ¤ëŠ” ìˆœìœ„í‘œ ì €ì¥ì†Œì— ê¸°ë¡ëœ í•´ë‹¹ ì‚¬ìš©ìì˜ ì ìˆ˜ë¥¼ ê°±ì‹ í•œë‹¤. í•´ë‹¹ ì‚¬ìš©ìì˜ í´ë¼ì´ì–¸íŠ¸ëŠ” ìˆœìœ„í‘œ ì„œë¹„ìŠ¤ì— ì§ì ‘ ìš”ì²­í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ìƒìœ„ 10ëª… ìˆœìœ„í‘œ í•´ë‹¹ ì‚¬ìš©ì ìˆœìœ„ ë‹¤ë¥¸ ëŒ€ì•ˆë“¤ë„ ìˆì§€ë§Œ ì±„íƒí•˜ì§€ ì•Šì€ ì´ìœ ë¥¼ ì‚´í´ë³´ë©´ ë„ì›€ì´ ë  ê²ƒì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ê°€ ìˆœìœ„í‘œ ì„œë¹„ìŠ¤ì™€ ì§ì ‘ í†µì‹ í•´ì•¼ í•˜ë‚˜?\ní´ë¼ì´ì–¸íŠ¸ê°€ ì ìˆ˜ë¥¼ ì •í•˜ëŠ” ë°©ì‹(í´ë¼ì´ì–¸íŠ¸ê°€ ì§ì ‘ ìˆœìœ„í‘œ ì„œë¹„ìŠ¤ì— ìš”ì²­í•˜ëŠ” ë°©ì‹)ì€, ì‚¬ìš©ìê°€ í”„ë½ì‹œë¥¼ ì„¤ì¹˜í•˜ê³  ì ìˆ˜ë¥¼ ë§ˆìŒëŒ€ë¡œ ë°”ê¾¸ëŠ” ì¤‘ê°„ì ê³µê²©ì„ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë³´ì•ˆìƒ ì•ˆì „í•˜ì§€ ì•Šë‹¤.\nì„œë²„ê°€ ê²Œì„ ì „ë°˜ì„ í†µì†”í•˜ëŠ” ê²½ìš° í´ë¼ì´ì–¸íŠ¸ê°€ ì ìˆ˜ë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œ ê²Œì„ ì„œë²„ë¥¼ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•  í•„ìš”ê°€ ì—†ì„ìˆ˜ë„ ìˆë‹¤.\nê²Œì„ ì„œë²„ê°€ ëª¨ë“  ê²Œì„ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ê²Œì„ì´ ì–¸ì œ ëë‚˜ëŠ”ì§€ ì•Œê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ì˜ ê°œì… ì—†ì´ë„ ì ìˆ˜ë¥¼ ì •í•  ìˆ˜ ìˆë‹¤. ê²Œì„ ì„œë¹„ìŠ¤ì™€ ìˆœìœ„í‘œ ì„œë²„ ì‚¬ì´ì— ë©”ì‹œì§€ íê°€ í•„ìš”í•œê°€?\nê²Œì„ ì ìˆ˜ê°€ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ì— ë”°ë¼ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\ní•´ë‹¹ ë°ì´í„°ê°€ ë‹¤ë¥¸ ê³³ì—ì„œë„ ì´ìš©ë˜ê±°ë‚˜ ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ì§€ì›í•´ì•¼ í•œë‹¤ë©´ ì¹´í”„ì¹´ì— ë°ì´í„°ë¥¼ ë„£ëŠ” ê²ƒì´ í•©ë¦¬ì ì¼ ìˆ˜ ìˆë‹¤.\në°ì´í„° ëª¨ë¸ ìˆœìœ„í‘œ ì €ì¥ì†ŒëŠ” ì‹œìŠ¤í…œì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œ ì¤‘ í•˜ë‚˜ë‹¤.\nì €ì¥ì†Œ êµ¬í˜„ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì„¸ ê°€ì§€ ê¸°ìˆ ì„ ì‚´í´ë³¸ë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê·œëª¨ í™•ì •ì„±ì´ ì¤‘ìš”í•˜ì§€ ì•Šê³ , ì‚¬ìš©ì ìˆ˜ê°€ ì ë‹¤ë©´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nê° ì›”ë³„ ìˆœìœ„í‘œëŠ” ì‚¬ìš©ì IDì™€ ì ìˆ˜ ì—´ì„ ê°–ëŠ” ë°ì´ë¸”ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ìê°€ ì ìˆ˜ë¥¼ ë”´ ê²½ìš°\nì ìˆ˜ê°€ 1ì ì”©ë§Œ ëŠ˜ì–´ë‚œë‹¤ê³  ê°€ì •í•˜ë©´ í•´ë‹¹ ì›”ì˜ ìˆœìœ„í‘œì— ì•„ì§ í–Šë‹¹ ì‚¬ìš©ìê°€ ì—†ë‹¤ë©´ ìƒˆë¡œìš´ ë ˆì½”ë“œë¥¼ ë§Œë“¤ì–´ ë„£ê³ ,\n1 INSERT INTO leaderboard (user_id, score) VALUES (\u0026#39;mary1934\u0026#39;, 1); ìˆë‹¤ë©´ ì¦ê°€ì‹œí‚¨ë‹¤.\n1 UPDATE leaderboard set score=score + 1 where user_id=\u0026#39;mary1934\u0026#39;; íŠ¹ì • ì‚¬ìš©ì ìˆœìœ„ ê²€ìƒ‰\nì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ ìˆœìœ„í‘œ í…Œì´ë¸”ì„ ì ìˆ˜ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œ í›„ ìˆœìœ„ë¥¼ ë§¤ê¸´ë‹¤.\n1 2 3 4 SELECT (@rownum := @rownum + 1) AS rank, user_id, score FROM leaderboard ORDER BY score DESC LIMIT 10; ì´ ë°©ì•ˆì€ ë°ì´í„°ê°€ ë§ì§€ ì•Šì„ ë•ŒëŠ” íš¨ê³¼ì ì´ì§€ë§Œ, ë ˆì½”ë“œê°€ ìˆ˜ë°±ë§Œ ê°œ ì •ë„ë¡œ ë§ì•„ì§€ë©´ ì„±ëŠ¥ì´ ë„ˆë¬´ ë‚˜ë¹ ì§€ëŠ” ë¬¸ì œê°€ ìˆë‹¤.\nì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ íŒŒì•…í•˜ë ¤ë©´ ëª¨ë“  í”Œë ˆì´ì–´ë¥¼ ìˆœì™¸í‘œì˜ ì •í™•ì‚° ìœ„ì¹˜ì— ì •ë ¬í•´ì•¼í•œë‹¤. ê°™ì€ ì ìˆ˜ë¥¼ ë°›ì€ ì‚¬ìš©ìê°€ ì—¬ëŸ¿ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìˆœìœ„ëŠ” ë‹¨ìˆœíˆ í•´ë‹¹ ëª©ë¡ ë‚´ì˜ ì‚¬ìš©ì ìœ„ì¹˜ë¼ê³ ë„ í•  ìˆ˜ ì—†ë‹¤. SQL ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì§€ì†ì ìœ¼ë¡œ ë³€í™”í•˜ëŠ” ëŒ€ëŸ‰ì˜ ì •ë³´ë¥¼ ì‹ ì†í•˜ê²Œ ì²˜ë¦¬í•˜ì§€ ëª»í•œë‹¤.\nìˆ˜ë°±ë§Œ ê°œ ë ˆì½”ë“œì— ìˆœìœ„ë¥¼ ë§¤ê¸°ë ¤ë©´ ëŒ€ëµ ìˆ˜ì‹­ ì´ˆ ì •ë„ê°€ ê±¸ë¦°ë‹¤. ë”°ë¼ì„œ ì‹¤ì‹œê°„ì„±ì„ ìš”êµ¬í•˜ëŠ” ì• í”Œë ˆí‚¤ì—ì…˜ì—ëŠ” ì í•©í•˜ì§€ ì•Šê³ , ë°ì´í„°ê°€ ì§€ì†ì ìœ¼ë¡œ ë³€ê²½ë˜ë¯€ë¡œ ìºì‹œ ë„ì…ë„ ì–´ë µë‹¤.\nì¼ê´„ ì‘ì—…(ë°°ì¹˜)ë¡œ ì²˜ë¦¬í•˜ë©´ ê°€ëŠ¥í•  ìˆ˜ ìˆì§€ë§Œ ì‹¤ì‹œê°„ ìˆœìœ„ë¥¼ ë³´ì—¬ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ì—ëŠ” ì ì ˆì¹˜ ì•Šë‹¤. ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ê³  LIMIT ì ˆì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ìº”í•  í˜ì´ì§€ ìˆ˜ë¥¼ ì œí•œí•  ìˆ˜ ìˆì§€ë§Œ, í™•ì¥ì„±ì´ ì¢‹ì§€ ì•Šë‹¤.\n1 2 3 4 SELECT (@rownum := @rownum + 1) AS rank, user_id, score FROM leaderboard ORDER BY score DESC LIMIT 10; íŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ì•Œì•„ë‚´ë ¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì „ì²´ í…Œì´ë¸”ì„ í›‘ì–´ì•¼ í•œë‹¤. ìˆœìœ„í‘œ ìƒë‹¨ì— ìˆì§€ ì•Šì€ ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ê°„ë‹¨íˆ ì°¾ì„ ìˆ˜ ì—†ë‹¤. ë ˆë””ìŠ¤ ë ˆë””ìŠ¤ëŠ” ë©”ëª¨ë¦¬ ê¸°ë°˜ í‚¤-ê°’ ì €ì¥ì†Œ ì‹œìŠ¤í…œìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ì„œ ë™ì‘í•˜ì—¬ ë¹ ë¥¸ ì½ê¸° ë° ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤.\nì´ë¥¼ í†µí•´ ìˆ˜ë°±ë§Œ ëª…ì˜ ì‚¬ìš©ìì— ëŒ€í•´ì„œë„ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ã……ì–´ëŠ¥ã…‡ë¥´ ì œê³µí•˜ê³  ë³µì¡í•œ DB ì¿¼ë¦¬ ì—†ì´ë„ ì¼ë°˜ì ì¸ ìˆœìœ„í‘œ ì‘ì—…ì„ ì‰½ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\nì•„ìš¸ëŸ¬ ìˆœìœ„í‘œ ì‹œìŠ¤í…œ ì„¤ê³„ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° ì´ìƒì ì¸ ì •ë ¬ ì§‘í•©(sorted set)ì´ë¼ëŠ” ìë£Œí˜•ì„ ì œê³µí•œë‹¤.\nì •ë ¬ ì§‘í•©ì´ë€?\nì§‘í•©ê³¼ ìœ ì‚¬í•­ ìë£Œí˜•ìœ¼ë¡œ ì €ì¥ëœ ê° ì›ì†ŒëŠ” ì ìˆ˜ì— ì—°ê²°ë˜ì–´ ìˆë‹¤.\nì§‘í•© ë‚´ ì›ì†ŒëŠ” ê³ ìœ í•´ì•¼ í•˜ì§€ë§Œ ê°™ì€ ì ìˆ˜ëŠ” ìˆì„ ìˆ˜ë„ ìˆê³ , ì •ë ¬ ì§‘í•© ë‚´ ì›ì†Œë¥¼ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•˜ëŠ” ë° ì´ìš©ëœë‹¤.\nì •ë ¬ ì§‘í•©ì€ ë‚´ë¶€ì ìœ¼ë¡œ í•´ì‹œ í…Œì´ë¸”ê³¼ ìŠ¤í‚µ ë¦¬ìŠ¤íŠ¸ë¼ëŠ” ë‘ ê°€ì§€ ìë£Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤.\ní•´ì‹œ í…Œì´ë¸”: ì‚¬ìš©ìì˜ ì ìˆ˜ë¥¼ ì €ì¥ ìŠ¤í‚µ ë¦¬ìŠ¤íŠ¸: íŠ¹ì • ì ìˆ˜ë¥¼ ë”´ ì‚¬ìš©ìë“¤ì˜ ëª©ë¡ì„ ì €ì¥ ì‚¬ìš©ìëŠ” ì ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤.\nì ìˆ˜ ë° ì‚¬ìš©ì ì—´ì´ ìˆëŠ” í…Œì´ë¸”ë¡œ ìƒê°í•˜ë©´ ì´í•´í•˜ê¸° ì‰½ë‹¤. ìŠ¤í‚µ ë¦¬ìŠ¤íŠ¸\në¹ ë¥¸ ê²€ìƒ‰ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ìë£Œêµ¬ì¡°ë¡œ, ì •ë ¬ëœ ì—°ê²° ë¦¬ìŠ¤íŠ¸ì— ë‹¤ë‹¨ê³„ ìƒ‰ì¸ì„ ë‘ëŠ” êµ¬ì¡°ì´ë‹¤.\nì´ ìë£Œ êµ¬ì¡°ì˜ ê·¼ê°„ì€ ì •ë ¬ëœ ë‹¨ë°©í–¥ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¡œ, ì´ ì—°ê²° ë¦¬ìŠ¤íŠ¸ì— ì‚½ì…, ì‚­ì œ, ê²€ìƒ‰ ì—°ì‚°ì„ ì‹¤í–‰í•˜ëŠ” ì‹œê°„ ë³µì¡ë„ëŠ” O(n)ì´ë‹¤.\nì—°ì‚°ì´ ë” ë¹¨ë¦¬ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ì´ì§„ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ì¤‘ê°„ ì§€ì ì— ë” ë¹¨ë¦¬ ë„ë‹¬í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nì¤‘ê°„ ë…¸ë“œë¥¼ í•˜ë‚˜ì”© ê±´ë„ˆë›°ëŠ” 1ì°¨ ìƒ‰ì¸ê³¼ 1ì°¨ ìƒ‰ì¸ ë…¸ë“œë¥¼ í•˜ë‚˜ì”© ê±´ë„ˆ ë›°ëŠ” 2ì°¨ ìƒ‰ì¸ì„ ì¶”ê°€í•œë‹¤. ìƒˆë¡œìš´ ìƒ‰ì¸ì„ ì¶”ê°€í•  ë•Œë§ˆë‹¤ ì´ì „ ì°¨ìˆ˜ì˜ ë…¸ë“œë¥¼ í•˜ë‚˜ì”© ê±´ë„ˆë›¸ ìˆ˜ ìˆë‹¤.\në…¸ë“œ ì‚¬ì´ì˜ ê±°ë¦¬ê°€ n-1ì´ ë˜ë©´ ë” ì´ìƒì˜ ìƒ‰ì¸ì„ ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤. nì€ ì´ ë…¸ë“œì˜ ê°œìˆ˜ ë‹¤ë‹¨ê³„ ìƒ‰ì¸ì„ ì‚¬ìš©í•˜ë©´ íŠ¹ì • ê°’ì„ í›¨ì”¬ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë‹¤.\në°ì´í„° ì–‘ì´ ì ì„ ë•ŒëŠ” ìŠ¤í‚µ ë¦¬ìŠ¤íŠ¸ì˜ ì†ë„ ê°œì„  íš¨ê³¼ê°€ ë¶„ëª…í•˜ì§€ ì•Šì§€ë§Œ, 5ì°¨ ìƒ‰ì¸ê¹Œì§€ ì‚¬ìš©í•˜ëŠ” ìŠ¤í‚µ ë¦¬ìŠ¤íŠ¸ë¥¼ ì˜ˆì‹œë¡œ ë“¤ë©´ ê°œì„ ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nê¸°ë³¸ ë¦¬ìŠ¤íŠ¸ë§Œ ìˆëŠ” ê²½ìš° ì°¾ëŠ” ë…¸ë“œì— ë„ë‹¬í•˜ê¸° ìœ„í•´ 62ê°œì˜ ë…¸ë“œë¥¼ ê±°ì³ì•¼í•˜ì§€ë§Œ, ìŠ¤í‚µ ë¦¬ìŠ¤íŠ¸ì˜ ê²½ìš°ì—ëŠ” 11ê°œì˜ ë…¸ë“œë§Œ í†µê³¼í•˜ë©´ ëœë‹¤.\nì •ë ¬ ì§‘í•©ì€ ì‚½ì…ì´ë‚˜ ê°±ì‹  ì—°ì‚°ì„ í•  ë•Œ ëª¨ë“  ì›ì†Œê°€ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ìë™ìœ¼ë¡œ ë°°ì¹˜ë˜ë©° ìƒˆ ì›ì†Œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ ì›ì†Œë¥¼ ê²€ìƒ‰í•˜ëŠ” ì—°ì‚°ì˜ ì‹œê°„ ë³µì¡ë„ê°€ O(log(n))ì´ë¯€ë¡œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë³´ë‹¤ ì„±ëŠ¥ì´ ì¢‹ë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ê³„ì‚°í•˜ë ¤ë©´ ì¤‘ì²© ì§ˆì˜ë¬¸ì„ ìˆ˜í–‰í•´ì•¼í•œë‹¤.\n1 2 3 4 SELECT *,(SELECT COUNT(*) FROM leaderboard lb2 WHERE lb2.score \u0026gt;= lb1.score) RANK FROM leaderboard lb1 WHERE lb1.user_id = {:user_id}; ë ˆë””ìŠ¤ ì •ë ¬ ì§‘í•©ì„ ì‚¬ìš©í•œ êµ¬í˜„\nìˆœìœ„í‘œ êµ¬í˜„ì— ì‚¬ìš©í•  ë ˆë””ìŠ¤ ì—°ì‚°ë“¤ì„ ì‚´í´ë³¸ë‹¤.\nZADD ê¸°ì¡´ì— ì—†ë˜ ì‚¬ìš©ìë¥¼ ì§‘í•©ì— ì¶”ê°€í•œë‹¤. ê¸°ì¡´ ì‚¬ìš©ìì˜ ê²½ìš°ì—ëŠ” ì ìˆ˜ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤. O(log(n)) ZINCRBY ì‚¬ìš©ì ì ìˆ˜ë¥¼ ì§€ì •ëœ ê°’ ë§Œí¼ ì¦ê°€ì‹œí‚¨ë‹¤. ì§‘í•©ì— ì—†ëŠ” ì‚¬ìš©ìëŠ” 0ì ìœ¼ë¡œ ê°€ì •í•œë‹¤. O(log(n)) ZRANGE/ZREVRANGE ì ìˆ˜ì— ë”°ë¼ ì •ë ¬ëœ ì‚¬ìš©ì ì¤‘ íŠ¹ì • ë²”ìœ„ì— ë“œëŠ” ì‚¬ìš©ìë“¤ì„ ê°€ì ¸ì˜¨ë‹¤. ìˆœì„œ, í•­ëª© ìˆ˜, ì‹œì‘ ìœ„ì¹˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. O(log(n) + m) m: ê°€ì ¸ì˜¬ í•­ëª© ìˆ˜ n: ì •ë ¬ ì§‘í•©ì˜ í¬ê¸° ZRANK/ZREVRANK ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•˜ì˜€ì„ ë•Œ íŠ¹ì • ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ ê°€ì ¸ì˜¨ë‹¤. O(log(n)) ZREVRANGEëŠ” í–¥í›„ ì‚¬ìš©ì´ ì¤‘ë‹¨ë  ëª…ë ¹ìœ¼ë¡œ, ZRANGE ëª…ë ¹ì— ì¶”ê°€ ì†ì„±ì„ ì „ë‹¬í•˜ë©´ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ìê°€ ì ìˆ˜ë¥¼ íšë“í•œ ê²½ìš°\në§¤ ì›” ìƒˆë¡œìš´ ìˆœìœ„í‘œë¥¼ ìœ„í•œ ì •ë ¬ ì§‘í•©ì„ ë§Œë“¤ê³  ì´ì „ ìˆœìœ„í‘œëŠ” ì´ë ¥ ë°ì´í„° ì €ì¥ì†Œë¡œ ë³´ë‚¸ë‹¤.\nì‚¬ìš©ìëŠ” ìŠ¹ë¦¬í•˜ë©´ ì ìˆ˜ë¥¼ ì–»ì€ë°, ZINCRBYë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ì ì ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ê±°ë‚˜ ìˆœìœ„í‘œ ì„¸íŠ¸ì— ì—†ëŠ” ê²½ìš° ì‚¬ìš©ìë¥¼ ìˆœìœ„í‘œ ì§‘í•©ì— ì¶”ê°€í•œë‹¤.\n1 ZINCRBY leaderboard_feb_2021 1 \u0026#39;mary1934\u0026#39; ì‚¬ìš©ìê°€ ìˆœìœ„í‘œ ìƒìœ„ 10ëª…ì„ ì¡°íšŒí•˜ëŠ” ê²½ìš°\nê°€ì¥ ë†’ì€ ì ìˆ˜ë¥¼ ë°›ì€ ì‚¬ìš©ìë¡œë¶€í„° ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œ ê²°ê³¼ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ë¯€ë¡œ ZREVRANGEë¥¼ í˜¸ì¶œí•œë‹¤.\nì‚¬ìš©ì ëª©ë¡ë¿ ì•„ë‹ˆë¼ ê° ì‚¬ìš©ìì˜ í˜„ì¬ ì ìˆ˜ë„ ê°€ì ¸ì™€ì•¼ í•˜ë¯€ë¡œ WITHSCORES ì†ì„±ë„ ì „ë‹¬í•œë‹¤.\n1 ZREVRANGE leaderboard_feb_2021 0 9 WITHSCORES ë‹¤ìŒê³¼ ê°™ì€ ëª©ë¡ì´ ë°˜í™˜ëœë‹¤.\n1 [(user2,score2),(user1,score1),(user5,score5)...] ì‚¬ìš©ìê°€ ìê¸° ìˆœìœ„ë¥¼ ì¡°íšŒí•˜ëŠ” ê²½ìš°\nZREVRANKë¥¼ í˜¸ì¶œí•˜ë©´ íŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.\n1 ZREVRANGE leaderboard_feb_2021 357 365 íŠ¹ì • ì‚¬ìš©ì ìˆœìœ„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¼ì • ë²”ìœ„ ë‚´ ì‚¬ìš©ìë¥¼ ì§ˆì˜í•˜ëŠ” ê²½ìš°\nZREVRANGEë¥¼ í™œìš©í•˜ë©´ íŠ¹ì •í•œ ì‚¬ìš©ì ì „/í›„ ìˆœìœ„ ì‚¬ìš©ì ëª©ë¡ì„ ì–»ì–´ë‚¼ ìˆ˜ ìˆë‹¤.\nMallow007ì˜ ì‚¬ìš©ìê°€ 361ë“±ì´ê³ , ì „ í›„ë¡œ 4ëª…ì”© ì¡°íšŒí•œë‹¤ë©´\n1 ZREVRANGE leaderboard_feb_2021 357 365 ì €ì¥ì†Œ ìš”êµ¬ì‚¬í•­ ìµœì†Œí•œ ì‚¬ìš©ì IDì™€ ì ìˆ˜ëŠ” ì €ì¥í•´ì•¼ í•œë‹¤.\nìµœì•…ì˜ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì›”ê°„ í™œì„± ì‚¬ìš©ì 2,500ë§Œ ëª… ëª¨ë‘ê°€ ìµœì†Œ í•œ ë²ˆ ì´ìƒ ê²Œì„ì—ì„œ ìŠ¹ë¦¬í•˜ëŠ” ë°”ëŒì— ëª¨ë‘ ì›” ìˆœìœ„í‘œì— ì˜¬ë¼ì•¼ í•˜ëŠ” ê²½ìš°ì´ë‹¤.\nID: 24ì ë¬¸ìì—´ ì ìˆ˜: 16ë¹„íŠ¸ ì •ìˆ˜ ìˆœìœ„í‘œ í•œ í•­ëª©ë‹¹ 26ë°”ì´íŠ¸ í•„ìš” MAU ìˆœìœ„í‘œ í•­ëª©ì´ í•˜ë‚˜ë¼ëŠ” ìµœì•…ì˜ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê°€ì •í•˜ë©´ 26ë°”ì´íŠ¸ * 2,500ë§Œ = 650MB ì´ ì •ë„ë¼ë©´ ìŠ¤í‚µ ë¦¬ìŠ¤íŠ¸ êµ¬í˜„ì— í•„ìš”í•œ ì˜¤ë² í—¤ë“œì™€ ì •ë ¬ ì§‘í•© í•´ì‹œë¥¼ ê³ ë ¤í•´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ë‘ ë°°ë¡œ ëŠ˜ë¦°ë‹¤ê³  í•´ë„ ìµœì‹  ë ˆë””ìŠ¤ ì„œë²„ í•œ ëŒ€ë§Œìœ¼ë¡œë„ ë°ì´í„°ë¥¼ ì¶©ë¶„íˆ ì €ì¥í•  ìˆ˜ ìˆë‹¤.\nCPU ë° I/O ì‚¬ìš©ëŸ‰\nê°œëµì ì¸ ì¶”ì •ì¹˜ì— ë”°ë¥´ë©´ ê°±ì‹  ì—°ì‚°ì˜ ìµœëŒ€ QPSëŠ” 2500/ì´ˆ ì •ë„ë¡œ ë ˆë””ìŠ¤ ì„œë²„ë¡œë„ ì¶©ë¶„íˆ ê°ë‹¹í•  ìˆ˜ ìˆëŠ” ë¶€í•˜ì´ë‹¤.\ní•˜ì§€ë§Œ ë ˆë””ìŠ¤ ë…¸ë“œì— ì¥ì•  ë°œìƒìœ¼ë¡œ ì¸í•œ ì˜ì†ì„±ì„ ê³ ë ¤í•´ì•¼í•œë‹¤.\në ˆë””ìŠ¤ëŠ” ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ì˜ì†ì ìœ¼ë¡œ ë³´ê´€í•˜ëŠ” ì˜µì…˜ë„ ì§€ì›í•˜ë‚˜, ë””ìŠ¤í¬ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ ëŒ€ê·œëª¨ ë ˆë””ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¬ì‹œì‘í•˜ë ¤ë©´ ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤.\nê·¸ë˜ì„œ ë³´í†µì€ ë ˆë””ìŠ¤ì— ì½ê¸° ì‚¬ë³¸ì„ ë‘ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±í•œë‹¤. MySQLê³¼ ê°™ì€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ì‚¬ìš©ìì™€ ì ìˆ˜ í…Œì´ë¸”ì´ í•„ìš”í•˜ë‹¤.\nì ìˆ˜ í…Œì´ë¸”ì—ëŠ” ì‚¬ìš©ì ID, ì ìˆ˜, ê²Œì„ì—ì„œ ìŠ¹ë¦¬í•œ ì‹œê°(íƒ€ì„ìŠ¤í…œí”„)ë¥¼ ì €ì¥í•˜ì—¬ ê²½ì—° ê¸°ë¡ ë“±ê³¼ ê°™ì€ ë‹¤ë¥¸ ê²Œì„ ê¸°ëŠ¥ êµ¬í˜„ì— í™œìš©ë  ìˆ˜ ìˆê³ , ì¸í”„ë¼ ì¥ì•  ë°œìƒ ì‹œ ë ˆë””ìŠ¤ ìˆœìœ„í‘œë¥¼ ë³µêµ¬í•˜ëŠ” ë°ì—ë„ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nê°€ì¥ ìì£¼ ê²€ìƒ‰ë˜ëŠ” ìƒìœ„ 10ëª…ì˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ìºì‹œí•˜ë©´ ì‰½ê²Œ ì„±ëŠ¥ì„ ìµœì í™” í•  ìˆ˜ ìˆë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì‚¬ìš© ì—¬ë¶€ ì†”ë£¨ì…˜ ë°°í¬ ë°©ì‹ì€ ê¸°ì¡´ ì¸í”„ë¼ êµ¬ì„± í˜•íƒœì— ë”°ë¼ ì¼ë°˜ì ìœ¼ë¡œ ë‘ ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nìì²´ ì„œë¹„ìŠ¤ ì‚¬ìš© ë§¤ì›” ì •ë ¬ ì§‘í•©ì„ ìƒì„±í•˜ì—¬ ì‚¬ìš©ì ë° ì ìˆ˜ ì •ë³´ë¥¼ ì´ìš©í•´ í•´ë‹¹ ê¸°ê°„ì˜ ìˆœìœ„í‘œë¥¼ ì €ì¥í•œë‹¤. ì´ë¦„ ë° í”„ë¡œí•„ ì´ë¯¸ì§€ì™€ ê°™ì€ ì‚¬ìš©ì ì„¸ë¶€ ì •ë³´ëŠ” MySQL ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤. ìˆœìœ„í‘œë¥¼ ê°€ì ¸ì˜¬ ë•Œ API ì„œë²„ëŠ” ìˆœìœ„ ë°ì´í„°ì™€ ë”ë¶ˆì–´ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ì‚¬ìš©ì ì´ë¦„ê³¼ í”„ë¡œí•„ ì´ë¯¸ì§€ë„ ê°€ì ¸ì˜¨ë‹¤.\nì´ ì‘ì—…ì´ ì¥ê¸°ì ìœ¼ë¡œ ë„ˆë¬´ ë¹„íš¨ìœ¨ì ì´ë©´ ìƒìœ„ ì‚¬ìš©ì 10ëª…ì˜ ì„¸ë¶€ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í”„ë¡œí•„ ìºì‹œë¥¼ ë‘ì–´ í•´ê²°í•  ìˆ˜ ìˆë‹¤. í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì´ìš© ê¸°ì¡´ ì¸í”„ë¼ê°€ AWSì— ìˆì–´ í´ë¼ìš°ë“œë¡œ ìˆœìœ„í‘œë¥¼ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ìì—°ìŠ¤ëŸ¬ìš´ ìƒí™©ì´ë¼ ê°€ì •í•œë‹¤.\nì•„ë§ˆì¡´ API ê²Œì´íŠ¸ì›¨ì´ì™€ AWS ëŒë‹¤(Lambda) ë‘ ê°€ì§€ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nAPI ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì‚¬ìš©í•˜ë©´ RESTful APIì˜ HTTP ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì •ì˜í•˜ê³  ì•„ë¬´ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ì—ë‚˜ ì—°ê²°í•  ìˆ˜ ìˆë‹¤. API ëŒë‹¤ í•¨ìˆ˜ GET /v1/scores LeaderboardFetchTop10 GET /v1/scores/{:user_id} LeaderboardFetchPlayerRank GET /v1/scores LeaderboardUpdateScores AWS ëŒë‹¤\nê°€ì¥ ì¸ê¸°ìˆëŠ” ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ… í”Œë«í¼ ì¤‘ í•˜ë‚˜ë¡œ ì„œë²„ë¥¼ ì§ì ‘ ì¤€ë¹„í•˜ê±°ë‚˜ ê´€ë¦¬í•  í•„ìš” ì—†ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nëŒë‹¤ëŠ” í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰ë˜ë©° íŠ¸ë˜í”½ì— ë”°ë¼ ê·œëª¨ê°€ ìë™ìœ¼ë¡œ í™•ì¥ëœë‹¤.\nê°œëµì ìœ¼ë¡œ ì„¤ëª…í•˜ë©´\nAPI ê²Œì´íŠ¸ì›¨ì´ë¥¼ í˜¸ì¶œ ê²Œì´íŠ¸ì›¨ì´ëŠ” ì ì ˆí•œ ëŒë‹¤ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ ìŠ¤í† ë¦¬ì§€ ê³„ì¸µ(ë ˆë””ìŠ¤ ë° MySQL)ì˜ ëª…ë ¹ì„ í˜¸ì¶œí•˜ì—¬ ì–»ì€ ê²°ê³¼ë¥¼ API ê²Œì´íŠ¸ì›¨ì´ì— ë°˜í™˜ API ê²Œì´íŠ¸ì›¨ì´ëŠ” ê·¸ ê²°ê³¼ë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì „ë‹¬ ëŒë‹¤ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ ì§ˆì˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ë ˆë””ìŠ¤ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ë¥¼ ì œê³µí•œë‹¤. ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ë©´ DAU ì„±ì¥ì„¸ì— ë§ì¶° ìë™ìœ¼ë¡œ ì„œë¹„ìŠ¤ ê·œëª¨ë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ì ìˆ˜ íšë“\nìˆœìœ„ ê²€ìƒ‰\nëŒë‹¤ëŠ” ì„œë¹„ë¦¬ìŠ¤ ì ‘ê·¼ ë°©ì‹ì´ë¼ ì¸í”„ë¼ì˜ ê·œëª¨ê°€ í•„ìš”ì— ë§ê²Œ ìë™ìœ¼ë¡œ í™•ì¥ë˜ë©°, í™˜ê²½ ì„¤ì •, ìœ ì§€ ë³´ìˆ˜ ë“±ì˜ ë¬¸ì œë¥¼ ì§ì ‘ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤.\në ˆë””ìŠ¤ ê·œëª¨ í™•ì¥ 5ë°±ë§Œ DAU ì •ë„ë¼ë©´ í•œ ëŒ€ì˜ ë ˆë””ìŠ¤ ìºì‹œ ì„œë²„ë¡œë„ ì¶©ë¶„íˆ ì§€ì› ê°€ëŠ¥í•˜ë‚˜, ì›ë˜ ê·œëª¨ì˜ 100ë°°ì¸ 5ì–µ DAUë¥¼ ì²˜ë¦¬í•´ì•¼í•œë‹¤ë©´ ê·œëª¨ í™•ì¥ì´ í•„ìš”í•˜ë‹¤.\nì €ì¥ ìš©ëŸ‰ì€ 65GB 250,000 QPS ì²˜ë¦¬ ì´ ì •ë„ ê·œëª¨ë¥¼ ê°ë‹¹í•˜ë ¤ë©´ ìƒ¤ë”©ì´ í•„ìš”í•˜ë‹¤.\në°ì´í„° ìƒ¤ë”© ë°©ì•ˆ ê³ ì • íŒŒí‹°ì…˜ê³¼ í•´ì‹œ íŒŒí‹°ì…˜ ë°©ì‹ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nê³ ì • íŒŒí‹°ì…˜\nìˆœìœ„í‘œì— ë“±ì¥í•˜ëŠ” ì ìˆ˜ì˜ ë²”ìœ„ì— ë”°ë¼ íŒŒí‹°ì…˜ì„ ë‚˜ëˆ„ëŠ” ë°©ì•ˆì´ë‹¤.\níšë“í•  ìˆ˜ ìˆëŠ” ì ìˆ˜ê°€ 1~1000 ì´ë¼ë©´ ë°ì´í„°ë¥¼ ë²”ìœ„ë³„ë¡œ ë‚˜ëˆˆë‹¤. (1~100), (101~200) \u0026hellip;, (901, 1000) ì´ ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ë ¤ë©´ ìˆœìœ„í‘œ ì „ë°˜ì— ì ìˆ˜ê°€ ê³ ë¥´ê²Œ ë¶„í¬ë˜ì–´ì•¼ í•˜ë©°, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ê° ìƒ¤ë“œì— í• ë‹¹ë˜ëŠ” ì ìˆ˜ ë²”ìœ„ë¥¼ ì¡°ì •í•˜ì—¬ ë¹„êµì  ê³ ë¥¸ ë¶„í¬ê°€ ë˜ë„ë¡ í•´ì•¼í•œë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìƒ¤ë”© ì²˜ë¦¬ì˜ ì¶”ì œë¼ë©´ íŠ¹ì • ì‚¬ìš©ìì˜ ì ìˆ˜ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ ê°±ì‹ í•  ë•Œ í•´ë‹¹ ì‚¬ìš©ìê°€ ì–´ëŠ ìƒ¤ë“œì— ìˆëŠ”ì§€ ì•Œì•„ì•¼ í•œë‹¤.\nMySQL ì§ˆì˜ë¡œ ì‚¬ìš©ìì˜ í˜„ì¬ ì ìˆ˜ë¥¼ ê³„ì‚°í•˜ì—¬ ì•Œì•„ë‚¼ ìˆ˜ë„ ìˆë‹¤. ì‚¬ìš©ì IDì™€ ì ìˆ˜ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì €ì¥í•˜ëŠ” 2ì°¨ ìºì‹œë¥¼ í™œìš©í•˜ë©´ ì„±ëŠ¥ì„ ë” ë†’ì¼ ìˆ˜ ìˆë‹¤. ì‚¬ìš©ìì˜ ì ìˆ˜ê°€ ë†’ì•„ì ¸ì„œ ë‹¤ë¥¸ ìƒ¤ë“œë¡œ ì˜®ê²¨ì•¼ í•  ë•ŒëŠ” ê¸°ì¡´ ìƒ¤ë“œì—ì„œ í•´ë‹¹ ì‚¬ìš©ìë¥¼ ì œê±°í•œ ë‹¤ìŒ ìƒˆ ìƒ¤ë“œë¡œ ì˜®ê²¨ì•¼ í•œë‹¤.\nìˆœìœ„í‘œì—ì„œ ìƒìœ„ 10ëª…ì˜ í”Œë ˆì´ì–´ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´, ê°€ì¥ ë†’ì€ ì ìˆ˜ê°€ ì €ì¥ë˜ëŠ” ìƒ¤ë“œì—ì„œ ìƒìœ„ 10ëª…ì„ ê°€ì ¸ì˜¨ë‹¤.\níŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ì•Œë ¤ë©´ í•´ë‹¹ ì‚¬ìš©ìê°€ ì†í•œ ìƒ¤ë“œ ë‚´ ìˆœìœ„ë¿ ì•„ë‹ˆë¼ í•´ë‹¹ ìƒ¤ë“œë³´ë‹¤ ë†’ì€ ì ìˆ˜ë¥¼ ì»¤ë²„í•˜ëŠ” ëª¨ë“  ìƒ¤ë“œì˜ ëª¨ë“  ì‚¬ìš©ì ìˆ˜ë¥¼ ì•Œì•„ì•¼ í•œë‹¤.\níŠ¹ì • ìƒ¤ë“œì— ì†í•œ ëª¨ë“  ì‚¬ìš©ì ìˆ˜ëŠ” info keyspace ëª…ë ¹ì„ í†µí•´ O(1)ì‹œê°„ì— ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤. í•´ì‹œ íŒŒí‹°ì…˜\në ˆë””ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ìë“¤ì˜ ì ìˆ˜ê°€ íŠ¹ì • ëŒ€ì—­ì— ê³¼ë„í•˜ê²Œ ëª¨ì—¬ìˆëŠ” ê²½ìš° íš¨ê³¼ì ì´ë‹¤.\në ˆë””ìŠ¤ í´ëŸ¬ìŠ¤í„°\nì•ˆì • í•´ì‹œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ ê° í‚¤ê°€ íŠ¹ì •í•œ í•´ì‹œ ìŠ¬ë¡¯ì— ì†í•˜ë„ë¡ í•˜ëŠ” ìƒ¤ë”© ê¸°ë²•ì„ ì‚¬ìš©í•œë‹¤.\nì´ 16384ê°œ í•´ì‹œ ìŠ¬ë¡¯ì´ ìˆìœ¼ë©°, CRC16(key) % 16384ì˜ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ì—¬ ì–´ë–¤ í‚¤ê°€ ì–´ëŠ ìŠ¬ë¡¯ì— ì†í•˜ëŠ”ì§€ ê³„ì‚°í•œë‹¤. ëª¨ë“  í‚¤ë¥¼ ì¬ë¶„ë°°í•˜ì§€ ì•Šì•„ë„ í´ëŸ¬ìŠ¤í„°ì— ì‰½ê²Œ ë…¸ë“œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ìˆë‹¤.\nì ìˆ˜ ê°±ì‹ \nì ìˆ˜ë¥¼ ê°±ì‹ í•˜ë ¤ë©´ í•´ë‹¹ ì‚¬ìš©ìì˜ ìƒ¤ë“œë¥¼ ì°¾ì•„(CRC16(key) % 16394) í•´ë‹¹ ì‚¬ìš©ìì˜ ì ìˆ˜ë¥¼ ë³€ê²½í•œë‹¤.\nìƒìœ„ 10ëª… í”Œë ˆì´ì–´ ê²€ìƒ‰\nëª¨ë“  ìƒ¤ë“œì—ì„œ ìƒìœ„ 10ëª…ì„ ë°›ì•„ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ ë‹¤ì‹œ ì •ë ¬í•˜ëŠ” ë¶„ì‚°-ìˆ˜ì§‘(scatter-gather) ì ‘ê·¼ë²•ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nëª¨ë“  ìƒ¤ë“œì— ì‚¬ìš©ìë¥¼ ì§ˆì˜í•˜ëŠ” ì ˆì°¨ë¥¼ ë³‘ë ¬í™”í•˜ë©´ ì§€ì—° ì‹œê°„ì„ ì¤„ì¼ìˆ˜ ìˆì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìˆë‹¤.\nìƒìœ„ kê°œì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•´ì•¼ í•˜ëŠ” ê²½ìš°(këŠ” ë§¤ìš° í° ê°’) ê° ìƒ¤ë“œì—ì„œ ë§ì€ ë°ì´í„°ë¥¼ ì½ê³  ì •ë ¬í•´ì•¼ í•˜ë¯€ë¡œ ì§€ì—° ì‹œê°„ì´ ëŠ˜ì–´ë‚œë‹¤. ê°€ì¥ ëŠë¦° íŒŒí‹°ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ë‹¤ ì½ê³  ë‚˜ì„œì•¼ ì§ˆì˜ ê²°ê³¼ë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì§€ì—° ì‹œê°„ì´ ê¸¸ì–´ì§„ë‹¤. íŠ¹ì • ì‚¬ìš©ìì˜ ìˆœìœ„ë¥¼ ê²°ì •í•  ê°„ë‹¨í•œ ë°©ë²•ì´ ì—†ë‹¤. ë”°ë¼ì„œ ê³ ì • íŒŒí‹°ì…˜ ë°©ì•ˆì„ í™œìš©í•œë‹¤.\në ˆë””ìŠ¤ ë…¸ë“œ í¬ê¸° ì¡°ì • ë ˆë””ìŠ¤ ë…¸ë“œì˜ í¬ê¸°ë¥¼ ì¡°ì •í•  ë•Œ ì—¬ëŸ¬ê°€ì§€ë¥¼ ê³ ë ¤í•´ì•¼í•œë‹¤.\nì“°ê¸° ì‘ì—…ì´ ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì¥ì• ì— ëŒ€ë¹„í•´ ìŠ¤ëƒ‡ìˆì„ ìƒì„±í•  ë•Œ í•„ìš”í•œ ëª¨ë“  ì“°ê¸° ì—°ì‚°ì„ ê°ë‹¹í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ ë§ì€ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•˜ë‹¤.\në©”ëª¨ë¦¬ë¥¼ ë‘ ë°° ë” í• ë‹¹í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤. ë ˆë””ìŠ¤ëŠ” ì„±ëŠ¥ ë°´ì²´ë§ˆí‚¹ì„ ìœ„í•´ redis-benchmarkë¼ëŠ” ë„êµ¬ë¥¼ ì œê³µí•˜ë¯€ë¡œ, ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ë™ì‹œì— ì—¬ëŸ¬ ì§ˆì˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ì‹¤ë®¬ë ˆì´ì…˜í•˜ì—¬ ì£¼ì–´ì§„ í•˜ë“œì›¨ì–´ë¡œ ì´ˆë‹¹ ì–¼ë§ˆë‚˜ ë§ì€ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ ì¸¡ì •í•  ìˆ˜ ìˆë‹¤.\nëŒ€ì•ˆ: NoSQL NoSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ ì†”ë£¨ì…˜ìœ¼ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì´ìƒì ì´ë‹¤.\nì“°ê¸° ì—°ì‚°ì— ìµœì í™” ê°™ì€ íŒŒí‹°ì…˜ ë‚´ì˜ í•­ëª©ì„ ì ìˆ˜ì— ë”°ë¼ íš¨ìœ¨ì ìœ¼ë¡œ ì •ë ¬ ê°€ëŠ¥ ì•„ë§ˆì¡´ DynamoDB, ì¹´ì‚°ë“œë¼, MongoDB ë“±ì„ ê³ ë ¤í•  ìˆ˜ ìˆëŠ”ë°, DynamoDBë¥¼ ì˜ˆì‹œë¡œ ì‚¬ìš©í•œë‹¤.\nDynamoDB\nì•ˆì •ì ì¸ ì„±ëŠ¥ê³¼ ë›°ì–´ë‚œ í™•ì¥ì„±ì„ ì œê³µí•˜ëŠ” ì™„ì „ ê´€ë¦¬í˜• NoSQL ë°ì´í„°ë² ì´ìŠ¤ë¡œ, ê¸°ë³¸í‚¤ ì´ì™¸ì˜ ì†ì„±ì„ í™œìš©í•˜ì—¬ ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì§ˆì˜í•  ìˆ˜ ìˆë„ë¡, ì „ì—­ ë³´ì¡° ìƒ‰ì¸ì„ ì œê³µí•œë‹¤.\nì „ì—­ ë³´ì¡° ìƒ‰ì¸ì€ ë¶€ëª¨ í…Œì´ë¸”ì˜ ì†ì„±ë“¤ë¡œ êµ¬ì„±ë˜ì§€ë§Œ ê¸°ë³¸ í‚¤ëŠ” ë¶€ëª¨ í…Œì´ë¸”ê³¼ëŠ” ë‹¤ë¥´ë‹¤.\nì²´ìŠ¤ ê²Œì„ì˜ ìˆœìœ„í‘œë¥¼ ì„¤ê³„í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì€ ìˆœìœ„í‘œì™€ ì‚¬ìš©ì í…Œì´ë¸”ì„ ë¹„ì •ê·œí™” í•œ ê²ƒìœ¼ë¡œ ìˆœìœ„í‘œë¥¼ í™”ë©´ì— í‘œì‹œí•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤.\nì´ ë°©ì•ˆì€ ë ˆì½”ë“œê°€ ë§ì•„ì§€ë©´ ìƒìœ„ ì ìˆ˜ë¥¼ ì°¾ê¸° ìœ„í•´ ì „ì²´ í…Œì´ë¸”ì„ ë’¤ì ¸ì•¼ í•˜ë¯€ë¡œ ì‚¬ìš©ìê°€ ë§ì•„ì§€ë©´ ì„±ëŠ¥ì´ ë–¨ì–´ì ¸ ê·œëª¨ í™•ì¥ì´ ì–´ë µë‹¤.\nìœ„ì™€ ê°™ì´ game_name#{year-month}ë¥¼ íŒŒí‹°ì…˜ í‚¤ë¡œ, ì ìˆ˜ë¥¼ ì •ë ¬ í‚¤ë¡œ ì‚¬ìš©í•˜ë©´ í…Œì´ë¸” ì „ì²´ë¥¼ ì½ì–´ì•¼ í•˜ëŠ” ì¼ì„ í”¼í•  ìˆ˜ ìˆì§€ë§Œ, ë¶€í•˜ê°€ ë†’ì„ ë•Œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.\nDynamoDBëŠ” ì•ˆì • í•´ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ë…¸ë“œì— ë°ì´í„°ë¥¼ ë¶„ì‚°í•˜ëŠ”ë°, ê° í•­ëª©ì´ íŒŒí‹°ì…˜ í‚¤ì— ë”°ë¼ ì„ ì •ëœ ë…¸ë“œì— ì €ì¥ëœë‹¤.\nìœ„ì™€ ê°™ì´ í…Œì´ë¸”ì„ ì„¤ê³„í•˜ë©´ ê°€ì¥ ìµœê·¼ í•œ ë‹¬ì¹˜ ë°ì´í„°ê°€ ë™ì¼í•œ íŒŒí‹°ì…˜ì— ì €ì¥ë  ë¿ ì•„ë‹ˆë¼ í•« íŒŒí‹°ì…˜ì´ ë˜ê³  ë§Œë‹¤.\në”°ë¼ì„œ ë°ì´í„°ë¥¼ nê°œ íŒŒí‹°ì…˜ìœ¼ë¡œ ë¶„í• í•˜ê³  íŒŒí‹°ì…˜ ë²ˆí˜¸(user_id % number_of_partitinons)ë¥¼ íŒŒí‹°ì…˜ í‚¤ì— ì¶”ê°€í•˜ëŠ” ì“°ê¸° ìƒ¤ë”©ì´ë¼ê³  ë¶€ë¥´í‹‘ íŒ¨í„´ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì½ê¸° ë° ì“°ê¸° ì‘ì—… ëª¨ë‘ë¥¼ ë³µì¡í•˜ê²Œ ë§Œë“œë¯€ë¡œ, ì¥ë‹¨ì ì„ ê¼¼ê¼¼íˆ ë”°ì ¸ë´ì•¼ í•œë‹¤. ì“°ê¸° ë³¼ë¥¨ ë˜ëŠ” DAUë¥¼ ê¸°ì¤€ìœ¼ë¡œ íŒŒí‹°ì…˜ì˜ ìˆ˜ë¥¼ ê²°ì •í•  ìˆ˜ ìˆìœ¼ë‚˜ íŒŒí‹°ì…˜ì´ ë°›ëŠ” ë¶€í•˜ì™€ ì½ê¸° ë³µì¡ë„ ì‚¬ì´ì—ëŠ” íƒ€í˜‘ì ì¸ ë¶€ë¶„ì´ ìˆë‹¤.\nê°™ì€ ë‹¬ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ íŒŒí‹°ì…˜ì— ê³ ë¥´ê²Œ ë¶„ì‚°ì‹œí‚¤ë©´ í•œ íŒŒí‹°ì…˜ì´ ë°›ëŠ” ë¶€í•˜ëŠ” ë‚®ì•„ì§ íŠ¹ì •í•œ ë‹¬ì˜ ë°ì´í„°ë¥¼ ì½ìœ¼ë ¤ê³  í•˜ë©´ ëª¨ë“  íŒŒí‹°ì…˜ì„ ì§ˆì˜í•œ ê²°ê³¼ë¥¼ í•©ì³ì•¼ í•˜ë¯€ë¡œ êµ¬í˜„ì€ ë³µì¡í•´ì§ íŒŒí‹°ì…˜ í‚¤ëŠ” game#{year-moth}#p{partition_number}ì™€ ê°™ì´ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\nì „ì—­ ë³´ì¡° ìƒ‰ì¸ì€ game#{year-moth}#p{partition_number}ë¥¼ íŒŒí‹°ì…˜ í‚¤ë¡œ, ì ìˆ˜ë¥¼ ì •ë ¬ í‚¤ë¡œ ì‚¬ìš©í•˜ê²Œ êµ¬ì„±í•œë‹¤.\nê°™ì€ íŒŒí‹°ì…˜ ë‚´ ë°ì´í„°ëŠ” ì „ë¶€ ì ìˆ˜ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ëœ nê°œì˜ íŒŒí‹°ì…˜ì´ ë§Œë“¤ì–´ì§„ë‹¤. 3ê°œ íŒŒí‹°ì…˜ì´ ìˆë‹¤ê³  í–ˆì„ ë•Œ ìƒìœ„ 10ëª…ì˜ ì‚¬ìš©ìë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ ë¶„ì‚°-ìˆ˜ì§‘ ì ‘ê·¼ë²•ì„ ì‚¬ìš©í•œë‹¤.\níŒŒí‹°ì…˜ ìˆ˜ëŠ” ì‹ ì¤‘í•œ ë²¤ì¹˜ë§ˆí‚¹ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.\níŒŒí‹°ì…˜ì´ ë§ìœ¼ë©´ ê° íŒŒí‹°ì…˜ì˜ ë¶€í•˜ëŠ” ì¤„ì§€ë§Œ ìµœì¢… ìˆœìœ„í‘œë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì½ì–´ì•¼ í•˜ëŠ” íŒŒí‹°ì…˜ì€ ë” ë§ìœ¼ë¯€ë¡œ ë³µì¡ì„±ì€ ì¦ê°€ ê·¸ëŸ¬ë‚˜ ì•ì„œ ì–¸ê¸‰í•œ ë ˆë””ìŠ¤ íŒŒí‹°ì…˜ ê¸°ë²•ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì‚¬ìš©ìì˜ ìƒëŒ€ì  ìˆœìœ„ë¥¼ ì‰½ê²Œ ì •í•  ìˆ˜ ì—†ë‹¤.\ní•˜ì§€ë§Œ ì‚¬ìš©ìì˜ ìœ„ì¹˜ì˜ ë°±ë¶„ìœ„ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ê²ƒì€ ê°€ëŠ¥í•˜ë©°, ì¶©ë¶„íˆ ê´œì°®ì€ ë°©ë²•ì¼ ìˆ˜ ìˆë‹¤.\nex) ìƒìœ„ 10~20%ì— ì†í•¨ ê·œëª¨ê°€ ì¶©ë¶„íˆ ì»¤ì„œ ìƒ¤ë”©ì´ í•„ìš”í•œ ìƒí™©ì´ë¼ë©´ ëª¨ë“  ìƒ¤ë“œì˜ ì ìˆ˜ ë¶„í¬ëŠ” ê±°ì˜ ê°™ë‹¤ê³  ê°€ì •í•  ìˆ˜ ìˆë‹¤. ì´ ê°€ì •ì´ ì‚¬ì‹¤ì´ë¼ë©´ ê° ìƒ¤ë“œì˜ ì ìˆ˜ ë¶„í¬ë¥¼ ë¶„ì„í•œ ê²°ê³¼ë¥¼ ìºì‹œí•˜ëŠ” í¬ë¡  ì‘ì—…ì„ ë§Œë“¤ì–´ ë³¼ ìˆ˜ë„ ìˆë‹¤.\n1 2 3 4 10th percentile = score \u0026lt; 100 20th percentile = score \u0026lt; 500 ... 90th percentile = score \u0026lt; 6500 ì´ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ìƒëŒ€ì  ìˆœìœ„ë¥¼ ë¹ ë¥´ê²Œ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.\n4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì´ë²ˆ ì¥ì—ì„œëŠ” ìˆ˜ë°±ë§Œ DAU ê·œëª¨ì˜ ì‹¤ì‹œê°„ ê²Œì„ ìˆœìœ„í‘œë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ ì†”ë£¨ì…˜ì„ ì„¤ê³„í•´ ë³´ì•˜ë‹¤.\nMySQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì†”ë£¨ì…˜ë¶€í„° ê²€í† í•˜ì—¬, ì •ë ¬ ì§‘í•©ì„ ì‚¬ìš©í•˜ì—¬ ìˆœìœ„í‘œë¥¼ êµ¬í˜„í•˜ê¸°ë¡œ í–ˆë‹¤. ì—¬ëŸ¬ ë ˆë””ìŠ¤ ìºì‹œì— ë°ì´í„°ë¥´ ìƒ¤ë”©í•˜ì—¬ 5ì–µ DAUë„ ì§€ì–¸í•  ìˆ˜ ìˆë„ë¡ ê·œëª¨ë¥¼ í™•ì¥í•˜ëŠ” ë°©ì•ˆë„ ì‚´í´ë³´ì•˜ë‹¤. ëŒ€ì•ˆìœ¼ë¡œ NoSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ë„ ì‚´í´ë³´ì•˜ë‹¤. ì‹œê°„ì´ ë‚¨ëŠ”ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ì£¼ì œë„ ì‚´í´ë³¼ ìˆ˜ ìˆì„ê²ƒì´ë‹¤.\në” ë¹ ë¥¸ ì¡°íšŒ ë° ë™ì ì ìˆœìœ„ íŒì • ë ˆë””ìŠ¤ í•´ì‹œë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ìì—´ í•„ë“œì™€ ê°’ ì‚¬ì´ì˜ ëŒ€ì‘ ê´€ê³„ë¥¼ ì €ì¥í•´ ë‘˜ ìˆ˜ ìˆìœ¼ë©° ì•„ë˜ì™€ ê°™ì´ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nìˆœìœ„í‘œì— í‘œì‹œí•  ì‚¬ìš©ì IDì™€ ì‚¬ìš©ì ê°ì²´ ì‚¬ì´ì˜ ëŒ€ì‘ ê´€ê³„ë¥¼ ì €ì¥í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ì§ˆì˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë™ì ìëŠ” ëˆ„ê°€ ë¨¼ì € ì ìˆ˜ë¥¼ ë°›ì•˜ëŠ”ì§€ì— ë”°ë¼ ìˆœìœ„ë¥¼ ì •í•  ìˆ˜ ìˆë‹¤. ì‹œìŠ¤í…œ ì¥ì•  ë³µêµ¬ ë ˆë””ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ë„ ëŒ€ê·œëª¨ ì¥ì• ëŠ” ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ ì„¤ê³„ì•ˆì—ì„œëŠ” ì‚¬ìš©ìê°€ ê²Œì„ì—ì„œ ì´ê¸¸ ë•Œë§ˆë‹¤ MySQL ë°ì´í„°ë² ì´ìŠ¤ì— íƒ€ì„ ìŠ¤íƒ¬í”„ì™€ í•¨ê»˜ ì €ì¥í•˜ë¯€ë¡œ, ì´ë¥¼ í™œìš©í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ì–´ ê°„ë‹¨íˆ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ìë³„ë¡œ ëª¨ë“  ë ˆì½”ë“œë¥¼ í›‘ìœ¼ë©° ë ˆì½”ë“œë‹¹ í•œ ë²ˆì”© ZINFRBYë¥¼ í˜¸ì¶œ ","date":"2024-11-17T14:41:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/10/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/10/","title":"10. ì‹¤ì‹œê°„ ê²Œì„ ìˆœìœ„í‘œ"},{"content":"ìµœê·¼ Nest.jsë¥¼ ì´ìš©í•´ì„œ ë‹¤ì¤‘ ì‚¬ìš©ìê°€ ë™ì‹œì— ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” ì›¹ ê¸°ë°˜ í€´ì¦ˆ ê²Œì„ì„ ë§Œë“œëŠ” í”„ë¡œì íŠ¸ì˜ ë°±ì—”ë“œë¥¼ êµ¬í˜„í•˜ê³  ìˆìŠµë‹ˆë‹¤.(ê³¼ê±°ì— ìœ í–‰í–ˆì—ˆë˜ íí”Œë ˆì´ì™€ ë¹„ìŠ·í•œ í”„ë¡œì íŠ¸ë¼ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤.)\níŒ€ êµ¬ì„±ì›ë“¤ê³¼ ì• ìì¼í•œ ê°œë°œì„ ê²½í—˜í•˜ê¸° ìœ„í•´ í•„ìˆ˜ì ì¸ ìš”ì†Œë“¤ì„ ë°°í¬í•˜ê³  ì ì§„ì ìœ¼ë¡œ í™•ì¥í•˜ê¸°ë¡œ ê²°ì •í–ˆê¸° ë•Œë¬¸ì— ì§„í–‰ ì´ˆë°˜ì¸ ì§€ê¸ˆì€ 1ì¸ì„ í”Œë ˆì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê¸°ëŠ¥ë“¤ì„ ë§Œë“¤ì–´ê°€ê³  ìˆëŠ”ë°ìš”\nê·¸ëŸ¬í•œ ì´ìœ ë¡œ í˜„ì¬ êµ¬í˜„ì¤‘ì¸ í€´ì¦ˆ í”Œë ˆì´ ì •ë³´(ì´í•˜ í€´ì¦ˆì¡´)ëŠ” ì‚¬ìš©ìê°€ ì ë‹¤ëŠ” ê²ƒì„ ê°€ì •í•˜ì—¬ ì„œë²„ì˜ ë©”ëª¨ë¦¬ì—ì„œ ê´€ë¦¬í•˜ë„ë¡ êµ¬í˜„í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.\nê·¸ëŸ°ë° êµ¬í˜„í•˜ëŠ” ê³¼ì •ì—ì„œ ê±±ì • ê±°ë¦¬ê°€ ìƒê²¼ì–´ìš”\nìµœì¢… ê¸°íšì€ ë‹¤ì¤‘ ì‚¬ìš©ìë¡œ í™•ì • ì´í›„ ì±„íŒ… ê¸°ëŠ¥ì„ ì§€ì›í•  ìˆ˜ ìˆìŒ í”„ë¡œì íŠ¸ê°€ ë°œì „í• ìˆ˜ë¡ ì„œë²„ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì´ ì•„ì‰¬ì›Œ ì§ˆ ìˆ˜ ìˆê³ , ì„œë²„ í•œëŒ€ë¡œ ë¶€ì¡±í•  ìˆ˜ ìˆê¸°ë•Œë¬¸ì— Redis ê°™ì€ ê²ƒë“¤ì„ ì´ìš©í•´ì„œ í™•ì¥í•´ì•¼í•˜ì§€ ì•Šì„ê¹Œ? ë¼ëŠ” ê±±ì •ì´ì—ˆì–´ìš”\në¬¼ë¡  ìµìŠ¤íŠ¸ë¦¼ í”„ë¡œê·¸ë˜ë°(XP)ì˜ ì›ì¹™ ì¤‘ YAGNI(You aren\u0026rsquo;t gonna need it)ì´ë‚˜ KISS(Keep it simple, stupid)ì²˜ëŸ¼ ë‹¹ì¥ í•„ìš”í•˜ì§€ ì•Šì€ ê²ƒë“¤ì€ êµ¬í˜„í•˜ì§€ ì•Šì„ ê²ƒì„ ê°•ì¡°í•˜ê¸´í•©ë‹ˆë‹¤ë§Œ\u0026hellip;\nì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ í™•ì¥ì„±ê³¼ ë³€ê²½ì— ëŒ€í•œ ì•ˆì „ì¥ì¹˜ë¡œ ì¸í„°í˜ì´ìŠ¤ëŠ” ë‹¹ì¥ í•„ìš”í•œ ê²ƒì´ ì•„ë‹Œê°€?! ë¼ëŠ” íŒë‹¨í•©ë¦¬í™”ì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ í€´ì¦ˆì¡´ì´ ì €ì¥ë  ìŠ¤í† ë¦¬ì§€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³ , ë©”ëª¨ë¦¬ë¥¼ í™œìš©í•˜ëŠ” ìŠ¤í† ë¦¬ì§€ë¥¼ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•´ êµ¬í˜„í•˜ê¸°ë¡œ ê²°ì •í–ˆì–´ìš”\nì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ êµ¬í˜„ëœ ìŠ¤í† ë¦¬ì§€ë¥¼ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë„ë¡ ë§Œë“¤ê¸° ìœ„í•´ì„œ ì¸í„°í˜ì´ìŠ¤ ì˜ì¡´ì„± ì£¼ì…ì´ ê¼­ í•„ìš”í–ˆìŠµë‹ˆë‹¤.\nì´ ê³¼ì •ì—ì„œ ì œê°€ í•™ìŠµí•˜ê³  ì ìš©í•œ ê³¼ì •ì„ ì ì–´ë³´ë ¤ê³ í•©ë‹ˆë‹¤.\nNest.jsì˜ ì² í•™ ë¨¼ì € Nestì˜ ì² í•™ì„ ì‚´í´ë³´ë©´ ì•ìœ¼ë¡œ ì„¤ëª…í•  ë‚´ìš©ë“¤ì´ ì¡°ê¸ˆ ë” ì˜ ì´í•´ë ê²ë‹ˆë‹¤.\nê³µì‹ ë¬¸ì„œì˜ ë‚˜ì™€ìˆëŠ” Nestì˜ ì² í•™ì„ ì‚´í´ë³¼ê¹Œìš”?\n/* ìƒëµ\u0026hellip; */\nHowever, while plenty of superb libraries, helpers, and tools exist for Node (and server-side JavaScript), none of them effectively solve the main problem of - Architecture.\nNest provides an out-of-the-box application architecture which allows developers and teams to create highly testable, scalable, loosely coupled, and easily maintainable applications.\nìœ„ì—ì„œ ì–¸ê¸‰í•œ ë‚´ìš©ì²˜ëŸ¼ NestëŠ” ì•„í‚¤í…ì²˜ ë¬¸ì œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í•´ê²°í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.\nì´ ì² í•™ì„ ë°”íƒ•ìœ¼ë¡œ, ê¸°ëŠ¥ë“¤ì„ ëª¨ë“ˆí™”í•˜ê³  ì—­í• ë³„ë¡œ ë¶„ë¦¬í•˜ì—¬ í™•ì¥ì„±ê³¼ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±ì„ í™•ë³´í•˜ëŠ” ê²ƒì´ Nestì˜ í° ì¥ì  ì¤‘ í•˜ë‚˜ì´ê³  ì´ë¥¼ êµ¬ì¡°ì ìœ¼ë¡œ ê°•ì œí•˜ê³ ìˆì–´ìš”\nDDDì™€ Nest Module NestëŠ” ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„(DDD)ë¥¼ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.\nNest CLIì˜ nest g resource ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ íŠ¹ì • ë„ë©”ì¸ì— ëŒ€í•œ ëª¨ë“ˆ, ì„œë¹„ìŠ¤, ì»¨íŠ¸ë¡¤ëŸ¬ ë“±ì„ ìƒì„±í•˜ë©´, ê´€ë ¨ ê¸°ëŠ¥ë“¤ì´ í•œ ëª¨ë“ˆì— ëª¨ì—¬ìˆëŠ” DDD í˜•ì‹ìœ¼ë¡œ êµ¬ì¡°ê°€ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ê²Œ ë˜ì–´ìš”\në°˜ëŒ€ë¡œ ì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ ëª¨ë“ˆë“¤ì„ ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ í™œìš©í•˜ë ¤ë©´ ì¶”ê°€ì ì¸ ì„¤ì •ì„ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— í™•ì‹¤í•˜ê²Œ ë„ë©”ì¸ìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ì•¼ ì‰½ê³  í¸í•˜ê²Œ ê°œë°œí•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ê°•ì œí•˜ê³  ìˆìŠµë‹ˆë‹¤.\nì˜ì¡´ì„± ì£¼ì… Nestì—ì„œëŠ” ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•´ ê°ì²´ ê°„ì˜ ì˜ì¡´ì„±ì„ í•´ê²°í•©ë‹ˆë‹¤.\nDIëŠ” @Injectable ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ í”„ë¡œë°”ì´ë”ë¥¼ ì •ì˜í•˜ê³ , ì´ë¥¼ ìƒì„±ìì—ì„œ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n1 2 @Injectable() export class QuizService {} ìœ„ì™€ ê°™ì´ êµ¬í˜„ëœ í€´ì¦ˆ ì„œë¹„ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ì´ ê°™ì€ ë””ë ‰í„°ë¦¬ì— ë§Œë“¤ì–´ì§„ quiz.module.tsì— ì•„ë˜ì™€ ê°™ì´ í™œìš©ë©ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 @Module({ controllers: [QuizController], providers: [ QuizService, ], exports: [QuizService], }) export class QuizModule {} ì—¬ê¸°ì„œëŠ” ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í€´ì¦ˆ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë©”ëª¨ë¦¬ ê¸°ë°˜ ì²˜ë¦¬ì™€, í™•ì¥ì´ í•„ìš”í•œ ê²½ìš° ë ˆë””ìŠ¤ì™€ ê°™ì€ ì™¸ë¶€ ìŠ¤í† ë¦¬ì§€ë¥¼ í™œìš©í•˜ë„ë¡ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì¸í„°í˜ì´ìŠ¤ ì˜ì¡´ì„± ì£¼ì… ê¸°ë³¸ì ì¸ í™œìš©ë²•ì€ í™•ì¸í–ˆê³ , ê¸°ì¡´ì— ì œê°€ í•´ê²°í•˜ë ¤ê³  í–ˆë˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ë©´ì„œ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?\nê³¼ì •ì„ í•˜ë‚˜ì”© ê±°ì¹˜ë©° í™•ì¸í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\nì¸í„°í˜ì´ìŠ¤ ì •ì˜ ë¨¼ì € QuizRepositoryë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•´ë³¼ê²Œìš”\n1 2 3 4 export interface QuizRepository { saveQuiz(quiz: Quiz): Promise\u0026lt;void\u0026gt;; getQuiz(id: string): Promise\u0026lt;Quiz\u0026gt;; } ì¼ë‹¨ ê°„ë‹¨í•˜ê²Œ í€´ì¦ˆë¥¼ ì €ì¥í•˜ëŠ” saveQuiz, ì €ì¥ëœ í€´ì¦ˆë¥¼ ê°€ì ¸ì˜¤ëŠ” getQuizë§Œ êµ¬í˜„í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.\në©”ëª¨ë¦¬ ê¸°ë°˜ êµ¬í˜„ ì´ì œ ë©”ëª¨ë¦¬ ê¸°ë°˜ ë¦¬í¬ì§€í† ë¦¬ í´ë˜ìŠ¤ë¥¼ QuizRepository ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì‘ì„±í•©ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 @Injectable() export class QuizMemoryRepository implements QuizRepository { private readonly quizzes: Map\u0026lt;string, QuizData\u0026gt; = new Map(); saveQuiz(quiz: Quiz): void { this.quizzes.set(quiz.id, quiz); } getQuiz(id: string): QuizData | undefined { return this.quizzes.get(id); } } ê°„ë‹¨í•˜ì£ ?\nëª¨ë“ˆì— í”„ë¡œë°”ì´ë” ì„¤ì • Nestì˜ @Moduleì— QuizMemoryRepositoryë¥¼ QuizRepository íƒ€ì…ìœ¼ë¡œ ë“±ë¡í•´ ì¤ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 @Module({ providers: [ QuizService, { provide: \u0026#39;QuizRepository\u0026#39;, useClass: QuizMemoryRepository }, ], exports: [\u0026#39;QuizStorage\u0026#39;], }) export class QuizModule {} ë¦¬í¬ì§€í† ë¦¬ ì‚¬ìš© ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œëŠ” ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ìœ¼ë¡œ ìŠ¤í† ë¦¬ì§€ë¥¼ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 @Injectable() export class QuizService { constructor( @Inject(\u0026#39;QuizRepository\u0026#39;) private readonly repository: QuizRepository ) {} createQuiz(data: QuizData) { this.storage.saveQuiz(data); } } ì´ë ‡ê²Œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ë©´, ì¶”í›„ ìŠ¤í† ë¦¬ì§€ê°€ ë³€ê²½ë˜ë”ë¼ë„ ì½”ë“œ ìˆ˜ì • ì—†ì´ ìƒˆë¡œìš´ ìŠ¤í† ë¦¬ì§€ë¥¼ ì ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì–´ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.\në¦¬í¬ì§€í† ë¦¬ ê°œì„  ê·¸ë ‡ë‹¤ë©´ ë©”ëª¨ë¦¬ ë¦¬í¬ì§€í† ë¦¬ì˜ ì˜ì¡´ì„±ì¸ Mapë„ @Injectë¡œ ì£¼ì…í•  ìˆ˜ ìˆê² ì£ ?\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Injectable() export class QuizMemoryRepository implements QuizRepository { constructor( @Inject(\u0026#39;QuizStorage\u0026#39;) storage: Map\u0026lt;string, Quiz\u0026gt; ) {} saveQuiz(quiz: Quiz): void { this.quizzes.set(quiz.id, quiz); } getQuiz(id: string): QuizData | undefined { return this.quizzes.get(id); } } @Moduleì— ë“±ë¡í•´ì¤ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 @Module({ providers: [ QuizService, { provide: \u0026#39;QuizRepository\u0026#39;, useClass: QuizMemoryRepository }, { provide: \u0026#39;QuizStorage\u0026#39;, useValue: new Map() }, ], exports: [\u0026#39;QuizStorage\u0026#39;], }) export class QuizModule {} í° ì˜ë¯¸ëŠ” ì—†ì–´ ë³´ì´ì§€ë§Œ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ë©´ ì•½ê°„ì˜ ì´ì ì„ ì–»ì„ ìˆ˜ ìˆì–´ìš”\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 describe(\u0026#39;QuizZoneService\u0026#39;, () =\u0026gt; { let service: QuizZoneService; let storage: Map\u0026lt;string, QuizZone\u0026gt;; beforeEach(async () =\u0026gt; { storage = new Map(); const module: TestingModule = await Test.createTestingModule({ providers: [ QuizZoneService, { provide: \u0026#39;QuizRepository\u0026#39;, useClass: QuizMemoryRepository, }, { provide: \u0026#39;QuizStorage\u0026#39;, useValue: storage, }, ], }).compile(); service = module.get\u0026lt;QuizZoneService\u0026gt;(QuizZoneService); }); describe(\u0026#39;ì‚¬ìš©ìê°€ í€´ì¦ˆì¡´ ìƒì„± ìš”ì²­ì„ ë³´ë‚´ë©´ í€´ì¦ˆì¡´ì„ ìƒì„±í•œë‹¤.\u0026#39;, () =\u0026gt; { it(\u0026#39;ì‚¬ìš©ìì˜ ì„¸ì…˜ IDë¥¼ ì´ìš©í•˜ì—¬ í€´ì¦ˆì¡´ì„ ìƒì„±í•œë‹¤.\u0026#39;, async () =\u0026gt; { const sid = \u0026#39;1234\u0026#39;; await service.create(sid); const { player } = storage.get(sid); expect(player.id).toEqual(sid); }); }); }); ì¼ë°˜ì ìœ¼ë¡œ ì£¼ì…ë°›ì€ ì˜ì¡´ì„±ì€ privateìœ¼ë¡œ ì„ ì–¸ë˜ê¸° ë•Œë¬¸ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì§€ë§Œ, ì™¸ë¶€ì—ì„œ ì£¼ì…í•´ì£¼ê¸° ë•Œë¬¸ì— ì‹¤ì œ storageì— ê°’ì´ ì ì ˆíˆ ë“¤ì–´ê°”ëŠ”ì§€ í™•ì‹¤í•˜ê²Œ íŒë‹¨í•  ìˆ˜ ìˆê²Œë˜ì—ˆìŠµë‹ˆë‹¤.\në§ˆë¬´ë¦¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œ ì˜ì¡´ì„± ì£¼ì…ì€ í™•ì¥ì„±ì— êµ‰ì¥íˆ í° ë„ì›€ì„ ì£¼ê²Œë©ë‹ˆë‹¤.\nì €ì˜ ê²½ìš°ì—ëŠ” Repositoryë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ì—ˆê¸° ë•Œë¬¸ì— ì¶”í›„ ë ˆë””ìŠ¤ì™€ ê°™ì€ ìŠ¤í† ë¦¬ì§€ë¡œ ë³€ê²½ í•„ìš”í•  ë•Œ Repositoryë¥¼ êµ¬í˜„í•˜ê¸°ë§Œ í•˜ë©´ ì†ì‰½ê²Œ êµì²´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\nê·¸ë¦¬ê³  MemoryRepositoryê°€ Mapì„ ì™¸ë¶€ì—ì„œ ì£¼ì…ë°›ë„ë¡ í–ˆê¸° ë•Œë¬¸ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í…ŒìŠ¤íŠ¸ í•  ë•Œë„ ì‹¤ì œ ì²˜ë¦¬ê°€ ì˜ ì´ë£¨ì–´ì§€ëŠ”ì§€ í™•ì¸í•˜ê¸° ìš©ì´í–ˆì—ˆì£ ! ë¬¼ë¡  ëª¨í‚¹ì„ í•˜ê³  ì˜ë„ëŒ€ë¡œ ë™ì‘ë˜ëŠ”ì§€ë§Œ í™•ì¸í•´ë„ ê´œì°®ì„ ê²ƒ ê°™ê¸´í•´ìš”\nì‘ê³  ë³´ì˜ê²ƒ ì—†ëŠ” ì˜ˆì‹œì´ì§€ë§Œ, ëê¹Œì§€ ë´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ˜Š\në‹¤ìŒë²ˆì—ëŠ” Nestì—ì„œ ì˜ì¡´ì„± ì£¼ì…í•˜ëŠ” ê³¼ì •ì„ ê¹Šê²Œ íŒŒë³¼ê²Œìš”ğŸ˜\n","date":"2024-11-09T10:37:29+09:00","image":"https://codemario318.github.io/post/nest/di/cover_hu090a5700ed1a918e2464c0afb86f7bb9_17269_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/nest/di/","title":"ì¸í„°í˜ì´ìŠ¤ ì˜ì¡´ì„± ì£¼ì…"},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” ì•„ë§ˆì¡´ S3(Simple Storage Service)ì™€ ìœ ì‚¬í•œ ê°ì²´ ì €ì¥ì†Œ ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í•œë‹¤.\nS3ëŠ” AWSê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ RESTful API ê¸°ë°˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ì´ìš© ê°€ëŠ¥í•œ ê°ì²´ ì €ì¥ì†Œë‹¤.\nê°ì²´ ì €ì¥ì†Œì— ëŒ€í•´ ë” ìì„¸íˆ ì‚´í´ë³´ê¸° ì „, ì¼ë°˜ì ìœ¼ë¡œ ì €ì¥ì†Œë€ ì–´ë–¤ ì‹œìŠ¤í…œì¸ì§€ ì•Œì•„ë³´ê³ , ëª‡ ê°€ì§€ ìš©ì–´ë¥¼ ì •ì˜í•´ë³¸ë‹¤.\nì €ì¥ì†Œ ì‹œìŠ¤í…œ 101 ê°œëµì ìœ¼ë¡œ ë³´ë©´ ì €ì¥ì†Œ ì‹œìŠ¤í…œì—ëŠ” 3ê°€ì§€ ë¶€ë¥˜ê°€ ìˆë‹¤.\në¸”ë¡ ì €ì¥ì†Œ HDD, SSD ì²˜ëŸ¼ ì„œë²„ì— ë¬¼ë¦¬ì ìœ¼ë¡œ ì—°ê²°ë˜ëŠ” í˜•íƒœì˜ ë“œë¼ì´ë¸ŒëŠ” ë¸”ë¡ ì €ì¥ì†Œì— ê°€ì¥ í”í•œ í˜•íƒœì´ë‹¤.\në¸”ë¡ì €ì¥ì†ŒëŠ” ì›ì‹œ ë¸”ë¡(raw block)ì„ ì„œë²„ì— ë³¼ë¥¨ í˜•íƒœë¡œ ì œê³µí•˜ëŠ” ê°€ì¥ ìœ ì—°í•˜ê³  ìœµí†µì„± ë†’ì€ ì €ì¥ì†Œë‹¤.\nì„œë²„ëŠ” ì›ì‹œ ë¸”ë¡ì„ í¬ë§·í•œ ë‹¤ìŒ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ì´ìš©í•˜ê±°ë‚˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë¸”ë¡ ì œì–´ê¶Œì„ ë„˜ê²¨ ë²„ë¦´ ìˆ˜ë„ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ê°€ìƒ ë¨¸ì‹  ì—”ì§„ ê°™ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì›ì‹œ ë¸”ë¡ì„ ì§ì ‘ ì œì–´í•˜ì—¬ ìµœëŒ€í•œì˜ ì„±ëŠ¥ì„ ëŒì–´ë‚¸ë‹¤. ì„œë²„ì— ë¬¼ë¦¬ì ìœ¼ë¡œ ì§ì ‘ ì—°ê²¨ë¡œë””ëŠ” ì €ì¥ì†Œì— êµ­í•œë˜ì§€ ì•ŠëŠ”ë‹¤.\nê³ ì† ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì—°ê²°ë  ìˆ˜ë„ ìˆë‹¤. ì—…ê³„ í‘œì¤€ ì—°ê²° í”„ë¡œí† ì½œì€ FC(Fiber Channel)ì´ë‚˜ ISCSIë¥¼ í†µí•´ ì—°ê²°ë  ìˆ˜ë„ ìˆë‹¤. ê°œë…ì ìœ¼ë¡œ ë³´ë©´ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì—°ê²°ë˜ëŠ” ë¸”ë¡ ì €ì¥ì†Œë„ ì›ì‹œ ë¸”ë¡ì„ ì œê³µí•œë‹¤ëŠ” ì ì—ì„œ ë‹¤ë¥´ì§€ ì•Šìœ¼ë©°, ì„œë²„ ì…ì¥ì—ì„œ ë³´ë©´ ë¬¼ë¦¬ì ìœ¼ë¡œ ì—°ê²°ëœ ë¸”ë¡ ì €ì¥ì†Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë™ì‘í•œë‹¤.\níŒŒì¼ ì €ì¥ì†Œ íŒŒì¼ ì €ì¥ì†ŒëŠ” ë¸”ë¡ ì €ì¥ì†Œ ìœ„ì— êµ¬í˜„ëœë‹¤.\níŒŒì¼ê³¼ ë””ë ‰í„°ë¦¬ë¥¼ ì†ì‰½ê²Œ ë‹¤ë£¨ëŠ” ë° í•„ìš”í•œ, ë” ë†’ì€ ìˆ˜ì¤€ì˜ ì¶”ìƒí™”ë¥¼ ì œê³µí•œë‹¤. ë°ì´í„°ëŠ” ê³„ì¸µì ìœ¼ë¡œ êµ¬ì„±ë˜ëŠ” ë””ë ‰í„°ë¦¬ ì•ˆì— ë³´ê´€ëœë‹¤. íŒŒì¼ ì €ì¥ì†ŒëŠ” ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë²”ìš© ì €ì¥ì†Œ ì†”ë£¨ì…˜ìœ¼ë¡œ, SMB/CIFSë‚˜ NFSì™€ ê°™ì€ íŒŒì¼ ìˆ˜ì¤€ ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ë©´ í•˜ë‚˜ì˜ ì €ì¥ì†Œë¥¼ ì—¬ëŸ¬ ì„œë²„ì— ë™ì‹œì— ë¶™ì¼ ìˆ˜ë„ ìˆë‹¤.\níŒŒì¼ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” ì„œë²„ëŠ” ë¸”ë¡ì„ ì§ì ‘ ì œì–´í•˜ê³ , ë³¼ë¥¨ì„ í¬ë§·í•˜ëŠ” ë“±ì˜ ê¹Œë‹¤ë¡œìš´ ì‘ì—…ì„ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ë‹¤.\në‹¨ìˆœí•˜ê¸° ë•Œë¬¸ì— í´ë”ë‚˜ íŒŒì¼ì„ ê°™ì€ ì¡°ì§ êµ¬ì„±ì›ì— ê³µìœ í•˜ëŠ” ì†”ë£¨ì…˜ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì¢‹ë‹¤. ê°ì²´ ì €ì¥ì†Œ ìƒˆë¡œìš´ í˜•íƒœì˜ ì €ì¥ì†Œë¡œ ë°ì´í„° ì˜ì†ì„±ì„ ë†’ì´ê³  ëŒ€ê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì§€ì›í•˜ë©° ë¹„ìš©ì„ ë‚®ì¶”ê¸° ìœ„í•´ ì˜ë„ì ìœ¼ë¡œ ì„±ëŠ¥ì„ í¬ìƒí•œë‹¤.\nì‹¤ì‹œê°„ìœ¼ë¡œ ê°±ì‹ í•  í•„ìš”ê°€ ì—†ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì°¨ê°€ìš´(cold) ë°ì´í„° ë³´ê´€ì— ì´ˆì ì„ ë§ì¶”ë©°, ë°ì´í„° ì•„ì¹´ì´ë¸Œë‚˜ ë°±ì—…ì— ì£¼ë¡œ ì“°ì¸ë‹¤. ëª¨ë“  ë°ì´í„°ë¥¼ ìˆ˜í‰ì  êµ¬ì¡° ë‚´ì— ê°ì²´ë¡œ ë³´ê´€í•œë‹¤.\nê³„ì¸µì  ë””ë ‰í„°ë¦¬ êµ¬ì¡°ëŠ” ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ë°ì´í„° ì ‘ê·¼ì€ ë³´í†µ RESTful APIë¥¼ ì‚¬ìš©í•˜ë©°, ë‹¤ë¥¸ ìœ í˜•ì˜ ì €ì¥ì†Œì— ë¹„í•´ ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¬ë‹¤.\në¹„êµ ë¸”ë¡ ì €ì¥ì†Œ íŒŒì¼ ì €ì¥ì†Œ ê°ì²´ ì €ì¥ì†Œ ì €ì¥ëœ ë‚´ìš©ì˜ ë³€ê²½ ê°€ëŠ¥ì„± Y Y N(ìƒˆë¡œìš´ ë²„ì „ì˜ ê°ì²´ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ê°€ëŠ¥) ë¹„ìš© ê³  ì¤‘ ~ ê³  ì € ì„±ëŠ¥ ì¤‘ ~ ê³  í˜¹ì€ ìµœìƒ ì¤‘ ~ ê³  ì € ~ ì¤‘ ë°ì´í„° ì¼ê´€ì„± ê°•ë ¥ ê°•ë ¥ ê°•ë ¥ ë°ì´í„° ì ‘ê·¼ SAS/iSCSI/FC í‘œì¤€ íŒŒì¼ ì ‘ê·¼, CIFS/SMB, NFS RESTful API ê·œëª¨ í™•ì¥ì„± ì¤‘ ê³  ìµœìƒ ì í•©í•œ ì‘ìš© ê°€ìƒë¨¸ì‹ , ë°ì´í„°ë² ì´ìŠ¤ ê°™ì€ ë†’ì€ ì„±ëŠ¥ì´ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë²”ìš©ì  íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼ ì´ì§„ ë°ì´í„°, êµ¬ì¡°í™”ë˜ì§€ ì•Šì€ ë°ì´í„° ìš©ì–´ ì •ë¦¬ ê°ì²´ ì €ì¥ì†Œì˜ í•µì‹¬ ê°œë…ì„ ë¨¼ì € ì´í•´í•  í•„ìš”ê°€ ìˆë‹¤.\në²„í‚·(bucket) ê°ì²´ë¥¼ ë³´ê´€í•˜ëŠ” ë…¼ë¦¬ì  ì»¨í…Œì´ë„ˆ ë²„í‚· ì´ë¦„ì€ ì „ì—­ì ìœ¼ë¡œ ìœ ì¼í•´ì•¼ í•¨(globally unique) ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•˜ë ¤ë©´ ìš°ì„  ë²„í‚·ë¶€í„° ë§Œë“¤ì–´ì•¼ í•¨ ê°ì²´(Object) ë²„í‚·ì— ì €ì¥í•˜ëŠ” ê°œë³„ ë°ì´í„° ë°ì´í„°(í˜ì´ë¡œë“œë¼ê³ ë„ í•¨)ì™€ ë©”íƒ€ë°ì´í„°ë¥¼ ê°€ì§ ê°ì²´ ë°ì´í„°ë¡œëŠ” ì–´ë–¤ ê²ƒë„ ê°€ëŠ¥í•¨ ë©”íƒ€ë°ì´í„°ëŠ” ê°ì²´ë¥¼ ê¸°ìˆ í•˜ëŠ” ì´ë¦„-ê°’ ìŒ ë²„ì „(version) í•œ ê°ì²´ì˜ ì—¬ëŸ¬ ë²„ì „ì„ ê°™ì€ ë²„í‚· ì•ˆì— ë‘˜ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ ë²„í‚·ë§ˆë‹¤ ë³„ë„ ì„¤ì • ê°€ëŠ¥ ê°ì²´ë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆë„ë¡ í•¨ URI(Uniform Resource Identifier) ê°ì²´ ì €ì¥ì†ŒëŠ” ë²„í‚·ê³¼ ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” RESTful APIë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ê° ê°ì²´ëŠ” í•´ë‹¹ API URIë¥¼ í†µí•´ ê³ ìœ í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆë‹¤. SLA(ì„œë¹„ìŠ¤ ìˆ˜ì¤€ í˜‘ì•½, Service-Level Agreement) ì„œë¹„ìŠ¤ ì œê³µìì™€ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ì— ë§ºì–´ì§€ëŠ” ê³„ì•½ ì—¬ëŸ¬ AZ(availability zone)ì— ê±¸ì³ 99.999999999%ì˜ ê°ì²´ ë‚´êµ¬ì„±ì„ ì œê³µ í•˜ë‚˜ì˜ ê°€ìš©ì„± êµ¬ì—­ ì „ì²´ê°€ ì†Œì‹¤ë˜ì–´ë„ ë°ì´í„° ë³µì› ê°€ëŠ¥ ì—°ê°„ 99.9%ì˜ ê°€ìš©ì„± ì œê³µ 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ë‹¤ìŒ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” S3ì™€ ìœ ì‚¬í•œ ê°ì²´ ì €ì¥ì†Œ ì‹œìŠ¤í…œ ì„¤ê³„ ë²„í‚· ìƒì„± ê°ì²´ ì—…ë¡œë“œ ë° ë‹¤ìš´ë¡œë“œ ê°ì²˜ ë²„ì „ ë²„í‚· ë‚´ ê°ì²´ ëª©ë¡ ì¶œë ¥ ê¸°ëŠ¥(aws s3 ls) ì•„ì£¼ í° ê°ì²´(ìˆ˜ GB ì´ìƒ)ì™€ ë‹¤ëŸ‰ì˜ ì†Œí˜• ê°ì²´(ìˆ˜ KB ì •ë„)ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆì–´ì•¼í•¨ ë§¤ë…„ ì¶”ê°€ë˜ëŠ” ë°ì´í„°ëŠ” 100PB 99.9999%ì˜ ë°ì´í„° ë‚´êµ¬ì„±ê³¼ 99.99% ì„œë¹„ìŠ¤ ê°€ìš©ì„±ì„ ë³´ì¥ ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ 100PB ë°ì´í„° ì‹ìŠ¤ ë‚˜ì¸(six nines, 99.9999%) ìˆ˜ì¤€ì˜ ë°ì´í„° ë‚´êµ¬ì„± í¬ ë‚˜ì¸(four nines, 99.99%) ìˆ˜ì¤€ì˜ ì„œë¹„ìŠ¤ ê°€ìš©ì„± ì €ì¥ì†Œ íš¨ìœ¨ì„± ë†’ì€ ìˆ˜ì¤€ì˜ ì•ˆì •ì„±ê³¼ ì„±ëŠ¥ì€ ë³´ì¦í•˜ë˜ ì €ì¥ì†Œ ë¹„ìš©ì˜ ìµœëŒ€í•œ ë‚®ì¶°ì•¼í•¨ ëŒ€ëµì  ê·œëª¨ ì¶”ì • ê°ì²´ ì €ì¥ì†ŒëŠ” ë””ìŠ¤í¬ ìš©ëŸ‰ì´ë‚˜ ì´ˆë‹¹ ë””ìŠ¤í¬ IO(IOPS)ê°€ ë³‘ëª©ì´ ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.\në””ìŠ¤í¬ ìš©ëŸ‰: ê°ì²´ í¬ê¸°ëŠ” ë‹¤ìŒ ë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤. ê°ì²´ ê°€ìš´ë° 20%ëŠ” ê·¸ í¬ê¸°ê°€ 1MB ë¯¸ë§Œì˜ ì‘ì€ ê°ì²´ 60% ì •ë„ì˜ ê°ì²´ëŠ” 1MB ~ 64MB ì •ë„ì˜ ì¤‘ê°„ í¬ê¸° ê°ì²´ ë‚˜ë¨¸ì§€ 20% ì •ë„ëŠ” 64MB ì´ìƒì˜ ëŒ€í˜• ê°ì²´ IOPS SATA ì¸í„°í˜ì´ìŠ¤ë¥¼ íƒ‘ì¬í•˜ê³  7200rpmì„ ì§€ì›í•˜ëŠ” í•˜ë“œ ë””ìŠ¤í¬ í•˜ë‚˜ê°€ ì´ˆë‹¹ 100 ~ 150 ì„ì˜ ë°ì´í„° íƒìƒ‰ì„ ì§€ì›í•  ìˆ˜ ìˆë‹¤ê³  ê°€ì •(100 ~ 150 IOPS) ì´ ê°€ì •ì— ê¸°ë°˜í•˜ì—¬ ì‹œìŠ¤í…œì´ ì €ì¥ ê°€ëŠ¥í•œ ê°ì²´ ìˆ˜ë¥¼ ê°€ëŠ í•  ìˆ˜ ìˆë‹¤.\n100PB = 100 * 1000 * 1000 * 1000MB = 10MB (10^11 * 0.4) / (0.2 * 0.5MB + 0.6 * 32MB + 0.2 * 200MB) = 6ì–µ 8ì²œë§Œ ê°œ ëª¨ë“  ê°ì²´ì˜ ë©”íƒ€ë°ì´í„° í¬ê¸°ê°€ ëŒ€ëµ 1KBë¼ê³  ê°€ì •í•˜ë©´ ë©”íƒ€ë°ì´í„° ì •ë³´ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ì•½ 0.68TB í•„ìš”í•¨ 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ê°ì²´ ì €ì¥ì†Œì˜ ì†ì„± ì„¤ê³„ë¥¼ ì§„í–‰í•˜ê¸° ì „ ì„¤ê³„ì•ˆì— ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆëŠ” ê°ì²´ ì €ì¥ì†Œì˜ ëª‡ ê°€ì§€ ì†ì„±ì„ ì‚´í´ë³¸ë‹¤.\nê°ì²´ ë¶ˆë³€ì„±(object immutability) ê°ì²´ ì €ì¥ì†Œì™€ ë‹¤ë¥¸ ë‘ ê°€ì§€ ìœ í˜•ì˜ ì €ì¥ì†Œ ì‹œìŠ¤í…œì˜ ê°€ì¥ í° ì°¨ì´ëŠ” ê°ì²´ ì €ì¥ì†Œì— ë³´ê´€ë˜ëŠ” ê°ì²´ë“¤ì€ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤. ì‚­ì œí•œ ë‹¤ìŒ ìƒˆ ë²„ì „ ê°ì²´ë¡œ ì™„ì „íˆ ëŒ€ì²´í•  ìˆ˜ëŠ” ìˆì–´ë„ ê·¸ ê°’ì„ ì ì§„ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ëŠ” ì—†ë‹¤. í‚¤-ê°’ ì €ì¥ì†Œ(key-value store) ê°ì²´ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í•´ë‹¹ ê°ì²´ì˜ URIë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. ì´ë•Œ URIëŠ” í‚¤ì´ê³  ë°ì´í„°ëŠ” ê°’ì— í•´ë‹¹í•˜ë¯€ë¡œ í‚¤-ê°’ ì €ì¥ì†Œë¡œ ë³¼ ìˆ˜ ìˆë‹¤. ì €ì¥ì€ 1íšŒ, ì½ê¸°ëŠ” ì—¬ëŸ¬ë²ˆ ë§í¬ë“œì¸ì—ì„œ ì¡°ì‚¬í•œ ê²°ê³¼ì— ë”°ë¥´ë©´ ê°ì²´ ì €ì¥ì†Œì— ëŒ€í•œ ìš”ì²­ ê°€ìš´ë° 95%ê°€ ì½ê¸° ìš”ì²­ ì†Œí˜• ë° ëŒ€í˜• ê°ì²´ ë™ì‹œ ì§€ì› ê°ì²´ ì €ì¥ì†Œì˜ ì„¤ê³„ ì² í•™ì€ UNIX íŒŒì¼ ì‹œìŠ¤í…œì˜ ì„¤ê³„ ì² í•™ê³¼ ì•„ì£¼ ë¹„ìŠ·í•˜ë‹¤.\níŒŒì¼ì„ ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œì— ì €ì¥í•˜ë©´ íŒŒì¼ì˜ ì´ë¦„ê³¼ ë°ì´í„°ëŠ” ê°™ì€ ê³³ì— ì €ì¥ë˜ì§€ ì•ŠìŒ ì•„ì´ë…¸ë“œ(inode)ë¼ê³  ë¶ˆë¦¬ëŠ” ìë£Œ êµ¬ì¡°ì— ë³´ê´€ë˜ê³  íŒŒì¼ì˜ ë°ì´í„°ëŠ” ë””ìŠ¤í¬ì˜ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ë“¤ì–´ê° ì•„ì´ë…¸ë“œì—ëŠ” íŒŒì¼ ë¸”ë¡ í¬ì¸í„° ëª©ë¡(ë””ìŠ¤í¬ìƒì˜ ìœ„ì¹˜ë¥¼ ê°€ë¥´í‚´)ì´ ë“¤ì–´ê° ê°ì²´ ì €ì¥ì†Œì˜ ë™ì‘ ë°©ì‹ë„ ë¹„ìŠ·í•˜ë‹¤.\nê°ì²´ ì €ì¥ì†Œì˜ ë©”íƒ€ë°ì´í„° ì €ì¥ì†ŒëŠ” ì•„ì´ë…¸ë“œì— í•´ë‹¹ íŒŒì¼ ë¸”ë¡ í¬ì¸í„° ëŒ€ì‹  ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë°ì´í„° ì €ì¥ì†Œì— ë³´ê´€ëœ ê°ì²´ë¥¼ ìš”ì²­í•˜ëŠ” ë° í•„ìš”í•œ ì‹ë³„ìê°€ ë³´ê´€ ë°ì´í„° ì €ì¥ì†ŒëŠ” í•˜ë“œ ë””ìŠ¤í¬ì— í•´ë‹¹ ë©”íƒ€ë°ì´í„°ì™€ ê°ì²´ì˜ ì‹¤ì œ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•˜ë©´ ì„¤ê³„ê°€ ë‹¨ìˆœí•´ì§„ë‹¤.\në°ì´í„° ì €ì¥ì†Œì— ë³´ê´€ë˜ëŠ” ë°ì´í„°ëŠ” ë¶ˆë³€ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì— ë³´ê´€ë˜ëŠ” ë°ì´í„°ëŠ” ë³€ê²½ ê°€ëŠ¥ ì´ë ‡ê²Œ ë¶„ë¦¬í•´ ë‘ë©´ ê·¸ ë‘ ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„í•˜ê³  ìµœì í™” í•  ìˆ˜ ìˆë‹¤.\nê°œëµì  ì„¤ê³„ì•ˆ ë¡œë“œë°¸ëŸ°ì„œ ìš”ì²­ì„ API ì„œë²„ë“¤ì— ë¶„ì‚° API ì„œë¹„ìŠ¤ IAM ì„œë¹„ìŠ¤, ë©”íƒ€ë°ì´í„° ì„œë¹„ìŠ¤, ì €ì¥ì†Œ ì„œë¹„ìŠ¤ì— ëŒ€í•œ í˜¸ì¶œì„ ì¡°ìœ¨í•˜ëŠ” ì—­í•  ë‹´ë‹¹ ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ì´ë¯€ë¡œ ìˆ˜í‰ì ì¸ ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥ IAM ì„œë¹„ìŠ¤ ì¸ì¦, ê¶Œí•œ ë¶€ì—¬, ì ‘ê·¼ ì œì–´ ë“±ì„ ì¤‘ì•™ì—ì„œ ë§¡ì•„ ì²˜ë¦¬ ë°ì´í„° ì €ì¥ì†Œ ì‹¤ì œ ë°ì´í„°ë¥¼ ë³´ê´€í•˜ê³  í•„ìš”í•  ë•Œë§ˆë‹¤ ì½ì–´ê°€ëŠ” ì¥ì†Œ ëª¨ë“  ë°ì´í„° ê´€ë ¨ ì—°ì‚°ì€ ê°ì²´ ID(UUID)ë¥¼ í†µí•¨ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œ ê°ì²´ ë©”íƒ€ë°ì´í„°ë¥¼ ë³´ê´€ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì™€ ë°ì´í„° ì €ì¥ì†ŒëŠ” ë…¼ë¦¬ì ì€ êµ¬ë¶„ì´ ë¿ì´ë©° êµ¬í˜„ ë°©ë²•ì€ ì—¬ëŸ¬ê°€ì§€ ìˆì„ ìˆ˜ ìˆë‹¤.\nRGW(Ceph\u0026rsquo;s Rados Gateway)ëŠ” ë…ë¦½ì ì¸ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œë¥¼ ë‘ì§€ ì•Šê³  ê°ì²´ ë²„í‚·ì„ í¬í•¨í•œ ëª¨ë“  ê°ì²´ëŠ” í•˜ë‚˜ ì´ìƒì˜ ë¼ë„ìŠ¤ ê°ì²´ë¡œ ì €ì¥ë¨ ê°ì²´ ì—…ë¡œë“œ í´ë¼ì´ì–¸íŠ¸ëŠ” bucket-to-share ë²„í‚·ì„ ìƒì„±í•˜ê¸° ìœ„í•œ HTTP PUT ìš”ì²­ì„ ë³´ë‚¸ë‹¤. API ì„œë¹„ìŠ¤ëŠ” IAMì„ í˜¸ì¶œí•˜ì—¬ WRITE ê¶Œí•œì„ ê°€ì¡ŒëŠ”ì§€ í™•ì¸í•œë‹¤. API ì„œë¹„ìŠ¤ëŠ” ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ì— ë²„í‚· ì •ë³´ë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•´ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œë¥¼ í˜¸ì¶œí•œë‹¤. ë²„í‚· ì •ë³´ê°€ ë§Œë“¤ì–´ì§€ë©´ ê·¸ ì‚¬ì‹¤ì„ ì•Œë¦¬ëŠ” ë©”ì‹œì§€ê°€ í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡ëœë‹¤. ë²„í‚·ì´ ë§Œë“¤ì–´ì§€ê³  ë‚˜ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” script.txt ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ HTTP PUT ìš”ì²­ì„ ë³´ë‚¸ë‹¤. API ì„œë¹„ìŠ¤ëŠ” í•´ë‹¹ ì‚¬ìš©ì ì‹ ì› ë° WRITE ê¶Œí•œì„ í™•ì¸í•œë‹¤. ë¬¸ì œê°€ ì—†ë‹¤ë©´ HTTP PUT ìš”ì²­ bodyì— ì‹¤ë¦° ê°ì²´ ë°ì´í„°ë¥¼ ë°ì´í„° ì €ì¥ì†Œë¡œ ë³´ë‚¸ë‹¤. ë°ì´í„° ì €ì¥ì†ŒëŠ” í•´ë‹¹ ë°ì´í„°ë¥¼ ê°ì²´ë¡œ ì €ì¥í•˜ê³  í•´ë‹¹ ê°ì²´ì˜ UUIDë¥¼ ë°˜í™˜í•œë‹¤. API ì„œë¹„ìŠ¤ëŠ” ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆë¡œìš´ í•­ëª©ì„ ë“±ë¡í•œë‹¤. object_id: UUID bucket_id: í•´ë‹¹ ê°ì²´ê°€ ì†í•œ ë²„í‚· object_name ê°ì²´ ë‹¤ìš´ë¡œë“œ ë²„í‚·ì€ ë””ë ‰í„°ë¦¬ ê°™ì€ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ ë²„í‚· ì´ë¦„ê³¼ ê°ì²´ ì´ë¦„ì„ ì—°ê²°í•˜ë©´ í´ë” êµ¬ì¡°ë¥¼ í‰ë‚´ ë‚´ëŠ” ë…¼ë¦¬ì  ê³„ì¸µì„ ë§Œë“¤ìˆ˜ëŠ” ìˆë‹¤.\nê°ì²´ ì´ë¦„ì„ script.txt ëŒ€ì‹  bucket-to-share/script.txtë¡œ ì„¤ì •í•œë‹¤. ì•ì„œ ì–¸ê¸‰í•œ ëŒ€ë¡œ ë°ì´í„° ì €ì¥ì†ŒëŠ” ê°ì²´ ì´ë¦„ì„ ë³´ê´€í•˜ì§€ ì•Šìœ¼ë©° object_id(UUID)ë¥¼ í†µí•œ ê°ì²´ ì—°ì‚°ë§Œ ì§€ì›í•œë‹¤.\në”°ë¼ì„œ ê°ì²´ë¥¼ ë‹¤ìš´ë¡œë“œ í•˜ë ¤ë©´ ê°ì²´ ì´ë¦„ì„ ìš°ì„  UUIDë¡œ ë³€í™˜í•´ì•¼ í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ìš”ì²­ì„ ë¡œë“œë°¸ëŸ°ì„œë¡œ ë³´ë‚´ê³ , ë¡œë“œë°¸ëŸ°ì„œëŠ” ì´ ìš”ì²­ì„ API ì„œë²„ë¡œ ë³´ë‚¸ë‹¤. API ì„œë²„ëŠ” IAMì„ í†µí•´ READ ê¶Œí•œ í™•ì¸í•œë‹¤. ê¶Œí•œì´ ìˆë‹¤ë©´ í•´ë‹¹ ê°ì²´ì˜ UUIDë¥¼ ë©”íƒ€ë°ì´í„° ìì¥ì†Œì—ì„œ ê°€ì ¸ì˜¨ë‹¤. í•´ë‹¹ UUIDë¥¼ ì´ìš©í•´ ã„±ë°ì´í„° ì €ì¥ì†Œì—ì„œ ê°ì²´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. HTTP GET ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ í•´ë‹¹ ê°ì²´ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ë°ì´í„° ì €ì¥ì†Œ API ì„œë¹„ìŠ¤ëŠ” ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë°›ìœ¼ë©´ ê·¸ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë‹¤ë¥¸ ë‚´ë¶€ ì„œë¹„ìŠ¤ë“¤ì„ í˜¸ì¶œí•œë‹¤.\nê°ì²´ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì€ ë°ì´í„° ì €ì¥ì†Œë¥¼ í˜¸ì¶œí•˜ì—¬ ì¹˜ë¦¬í•œë‹¤.\në°ì´í„° ì €ì¥ì†Œì˜ ê°œëµì  ì„¤ê³„ ì„¸ ê°€ì§€ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ëœë‹¤.\në°ì´í„° ë¼ìš°íŒ… ì„œë¹„ìŠ¤ ë°ì´í„° ë…¸ë“œ í´ëŸ¬ìŠ¤í„°ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ RESTful ë˜ëŠ” gRPC ì„œë¹„ìŠ¤ë¥´ ì œê³µí•œë‹¤.\në” ë§ì€ ì„œë²„ë¥¼ ì¶”ê°€í•˜ì—¬ ì‰½ê²Œ ê·œëª¨ë¥¼ í™•ì¥í•  ìˆ˜ ìˆëŠ” ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ë‹¤.\në°°ì¹˜ ì„œë¹„ìŠ¤(placement service)ë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•  ìµœì ì˜ ë°ì´í„° ë…¸ë“œë¥¼ íŒë‹¨ ë°ì´í„° ë…¸ë“œì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ API ì„œë¹„ìŠ¤ì— ë°˜í™˜ ë°ì´í„° ë…¸ë“œì— ë°ì´í„° ê¸°ë¡ ë°°ì¹˜ ì„œë¹„ìŠ¤ ì–´ëŠ ë°ì´í„° ë…¸ë“œì— ë°ì´í„°ë¥¼ ì €ì¥í•  ì§€ ê²°ì •í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\në°ì´í„° ë…¸ë“œì—ëŠ” ì£¼ ë°ì´í„° ë…¸ë“œì™€ ë¶€ ë°ì´í„° ë…¸ë“œê°€ ìˆë‹¤. ë°°ì¹˜ ì„œë¹„ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ê°€ìƒ í´ëŸ¬ìŠ¤í„° ì§€ë„(virtual cluster map)ë¥¼ ìœ ì§€í•˜ëŠ”ë°, ë¯ˆëŸ¬ìŠ¤í„°ì˜ ë¬¼ë¦¬ì  í˜•ìƒ ì •ë³´ê°€ ë³´ê´€ëœë‹¤.\nì´ ì§€ë„ì— ë³´ê´€ë˜ëŠ” ë°ì´í„° ë…¸ë“œì˜ ìœ„ì¹˜ ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„° ì‚¬ë³¸ì´ ë¬¼ë¦¬ì ìœ¼ë¡œ ë‹¤ë¥¸ ìœ„ì¹˜ì— ë†“ì´ë„ë¡ í•œë‹¤. ë¬¼ë¦¬ì ì¸ ë¶„ë¦¬ëŠ” ë†’ì€ ë°ì´í„° ë‚´êµ¬ì„±ì„ ë‹¬ì„±í•˜ëŠ” í•µì‹¬ ìš”ì†Œì´ë‹¤. ë°°ì¹˜ ì„œë¹„ìŠ¤ëŠ” ëª¨ë“  ë°ì´í„° ë…¸ë“œì™€ ì§€ì†ì ìœ¼ë¡œ ë°•ë™ ë©”ì‹œì§€ë¥¼ ì£¼ê³ ë°›ìœ¼ë©° ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§ í•œë‹¤.\n15ì´ˆì˜ ìœ ì˜ˆ ê¸°ê°„(grace period) ë™ì•ˆ ë°•ë™ ë©”ì‹œì§€ì— ì‘ë‹µí•˜ì§€ ì•ŠëŠ” ë°ì´í„° ë…¸ë“œëŠ” ì§€ë„ì— ì£½ì€ ë…¸ë“œë¡œ í‘œì‹œí•œë‹¤. ë°°ì¹˜ ì„œë¹„ìŠ¤ëŠ” ì•„ì£¼ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ì´ë¯€ë¡œ 5ê°œì—ì„œ 7ê°œì˜ ë…¸ë“œë¥¼ ê°–ëŠ” ë°°ì¹˜ ì„œë¹„ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ íŒ©ì„œìŠ¤(Paxos)ë‚˜ ë˜í”„íŠ¸(Raft) ê°™ì€ í•©ì˜ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ êµ¬ì¶•ì‚´ ê²ƒì„ ê¶Œì¥í•œë‹¤.\n7ê°œ ë…¸ë“œë¡œ êµ¬ì„±ëœ ë°°ì¹˜ ì„œë¹„ìŠ¤ í´ëŸ¬ìŠ¤í„°ëŠ” ìµœëŒ€ 3ê°œê¹Œì§€ì˜ ë…¸ë“œ ì¥ì• ëŠ” ê°ë‚´í•  ìˆ˜ ìˆë‹¤. ë°ì´í„° ë…¸ë“œ ì‹¤ì œ ê°ì²´ ë°ì´í„°ê°€ ë³´ê´€ë˜ëŠ” ê³³ìœ¼ë¡œ ì—¬ëŸ¬ ë…¸ë“œì— ë°ì´í„°ë¥¼ ë³µì œí•¨ìœ¼ë¡œì¨ ë°ì´í„°ì˜ ì•ˆì •ì„±ê³¼ ë‚´êµ¬ì„±ì„ ë³´ì¦í•œë‹¤.(ë‹¤ì¤‘í™” ê·¸ë£¹, replication group)\nê° ë°ì´í„° ë…¸ë“œì—ëŠ” ë°°ì¹˜ ì„œë¹„ìŠ¤ì— ì£¼ê¸°ì ìœ¼ë¡œ ë°•ë™ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ì„œë¹„ìŠ¤ ë°ëª¬(service daemon)ì´ ëˆë‹¤.\në°•ë™ ë©”ì‹œì§€ì—ëŠ” ë‹¤ì€ê³¼ ê°™ì€ ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤.\ní•´ë‹¹ ë°ì´í„° ë…¸ë“œì— ë¶€ì°©ëœ ë””ìŠ¤í¬ ë“œë¼ì´ë¸Œ(HDD/SSD) ìˆ˜ ê° ë“œë¼ì´ë¸Œì— ì €ì¥ëœ ë°ì´í„°ì˜ ì–‘ ë°°ì¹˜ ì„œë¹„ìŠ¤ëŠ” ëª» ë³´ë˜ ë°ì´í„° ë…¸ë“œì—ì„œ ë°•ë™ ë©”ì‹œì§€ë¥¼ ì²˜ìŒ ë°›ìœ¼ë©´ í•´ë‹¹ ë…¸ë“œì— IDë¥¼ ë¶€ì—¬í•˜ê³  ê°€ìƒ í´ëŸ¬ìŠ¤í„° ì§€ë„ì— ì¶”ê°€í•œ ë‹¤ìŒ, ì•„ë˜ ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤.\ní•´ë‹¹ ë°ì´í„° ë…¸ë“œì— ë¶€ì—¬í•œ ê³ ìœ  ì‹ë³„ì ê°€ìƒ í´ëŸ¬ìŠ¤í„° ì§€ë„ ë°ì´í„° ì‚¬ë³¸ì„ ë³´ê´€í•  ìœ„ì¹˜ ë°ì´í„° ì €ì¥ íë¦„ API ì„œë¹„ìŠ¤ëŠ” ê°ì²´ ë°ì´í„°ë¥¼ ë°ì´í„° ì €ì¥ì†Œë¡œ í¬ì›Œë”©í•œë‹¤. ë°ì´í„° ë¼ìš°íŒ… ì„œë¹„ìŠ¤ëŠ” í•´ë‹¹ ê°ì²´ì— UUIDë¥¼ í• ë‹¹í•˜ê³  ë°°ì¹˜ ì„œë¹„ìŠ¤ì— í•´ë‹¹ ê°ì²´ë¥¼ ë³´ê´€í•  ë°ì´í„° ë…¸ë“œë¥¼ ì§ˆì˜í•œë‹¤. ë°°ì¹˜ ì„œë¹„ìŠ¤ëŠ” ê°€ìƒ í´ëŸ¬ìŠ¤í„° ì§€ë„ë¥¼ í™•ì¸í•˜ì—¬ ë°ì´í„°ë¥¼ ë³´ê´€í•  ì£¼ ë°ì´í„° ë…¸ë“œë¥¼ ë°˜í™˜í•œë‹¤. ë°ì´í„° ë¼ìš°íŒ… ì„œë¹„ìŠ¤ëŠ” ì €ì¥í•  ë°ì´í„°ë¥¼ UUIDì™€ í•¨ê»˜ ì£¼ ë°ì´í„° ë…¸ë“œì— ì§ì ‘ ì „ì†¡í•œë‹¤. ì£¼ ë°ì´í„° ë…¸ë“œëŠ” ë°ì´í„°ë¥¼ ìê¸° ë…¸ë“œì— ì§€ê²©ì ìœ¼ë¡œ ì €ì¥í•˜ë©´ì„œ ë‘ ê°œì˜ ë¶€ ë°ì´í„° ë…¸ë“œì— ë‹¤ì¤‘í™”í•œë‹¤. ì£¼ ë°ì´í„° ë…¸ë“œëŠ” ë°ì´í„°ë¥¼ ëª¨ë“  ë¶€ ë°ì´í„° ë…¸ë“œì— ì„±ê³µì ìœ¼ë¡œ ë‹¤ì¤‘í™”í•˜ê³  ë‚˜ë©´ ë°ì´í„° ë¼ìš°íŒ… ì„œë¹„ìŠ¤ì— ì‘ë‹µì„ ë³´ë‚¸ë‹¤. ê°ì²´ì˜ UUID(ê°ì²´ ID)ë¥¼ API ì„œë¹„ìŠ¤ì— ë°˜í™˜í•œë‹¤. 2ë‹¨ê³„ëŠ” ë°°ì¹˜ ì„œë¹„ìŠ¤ì— UUIDë¥¼ ì…ë ¥ìœ¼ë¡œ ì£¼ê³  ì§ˆì˜í•˜ë©´ í•´ë‹¹ ê°ì²´ì— ëŒ€í•œ ë‹¤ì¤‘í™” ê·¸ë£¹ì´ ë°˜í™˜ëœë‹¤ëŠ” ëœ»ì´ë‹¤.\nê³„ì‚° ê²°ê³¼ëŠ” ê²°ì •ì (deterministric)ì´ì–´ì•¼ í•œë‹¤. ë‹¤ì¤‘í™” ê·¸ë£¹ì´ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë˜ëŠ” ê²½ìš°ì—ë„ ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤. ì•ˆì •í•´ì‹œë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. 4ë‹¨ê³„ëŠ” ì‘ë‹µì„ ë°˜í™˜í•˜ê¸° ì „ ë°ì´í„°ë¥¼ ëª¨ë“  ë¶€ ë…¸ë“œì— ë‹¤ì¤‘í™”í•˜ì—¬ ëª¨ë“  ë°ì´í„° ë…¸ë“œì— ê°•ë ¥í•œ ë°ì´í„° ì¼ê´€ì„±ì„ ë³´ì¥í•œë‹¤.\nê°€ì¥ ëŠë¦° ì‚¬ë³¸ì— ëŒ€í•œ ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ì‘ë‹µì„ ë°˜í™˜í•˜ì§€ ëª»í•˜ë¯€ë¡œ, ì§€ì—° ì‹œê°„ ì¸¡ë©´ì—ì„œëŠ” ì†í•´ì´ë‹¤. ë°ì´í„° ì¼ê´€ì„±ê³¼ ì§€ì—° ì‹œê°„ì˜ ê´€ê³„\në°ì´í„°ë¥¼ ì„¸ ë…¸ë“œì— ì „ë¶€ ë³´ê´€í•˜ë©´ ì„±ê³µì ìœ¼ë¡œ ë³´ê´€í•˜ì˜€ë‹¤ê³  ê°„ì£¼ ë°ì´í„° ì¼ê´€ì„± ì¸¡ë©´ì—ì„œëŠ” ìµœì„ ì´ì§€ë§Œ ì‘ë‹µ ì§€ì—°ì€ ê°€ì¥ ë†’ë‹¤. ë°ì´í„°ë¥´ ì£¼ ë°ì´í„° ë° ë‘ ê°œ ë¶€ ë…¸ë“œ ê°€ìš´ë° í•˜ë‚˜ì— ì„±ê³µì ìœ¼ë¡œ ë³´ê´€í•˜ë©´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥í•˜ì˜€ë‹¤ê³  ê°„ì£¼ ì¤‘ê°„ ì •ë„ì˜ ë°ì´í„° ì¼ê´€ì„± ë° ì‘ë‹µ ì§€ì—°ì„ ì œê³µ ë°ì´í„°ë¥¼ ì£¼ ë°ì´í„°ì— ë³´ê´€í•˜ê³  ë‚˜ë©´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥í–ˆë‹¤ê³  ê°„ì£¼ ë°ì´í„° ì¼ê´€ì„± ì¸¡ë©´ì—ì„œëŠ” ìµœì•…ì´ì§€ë§Œ ì‘ë‹µ ì§€ì—°ì€ ê°€ì¥ ë‚®ë‹¤. 2, 3ì€ ëª¨ë‘ ê²°ê³¼ì  ì¼ê´€ì„±(eventual consistency)ì˜ í•œ í˜•íƒœë¡œ ë³¼ ìˆ˜ ìˆë‹¤.\në°ì´í„°ëŠ” ì–´ë–»ê²Œ ì €ì¥ë˜ëŠ”ê°€ ê°€ì¥ ë‹¨ìˆœí•œ ë°©ì•ˆì€ ê°ê°ì˜ ê°ì²´ë¥¼ ê°œë³„ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ê²ƒ ì´ì§€ë§Œ ì‘ì€ íŒŒì¼ì´ ë§ì•„ì§€ë©´ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤.\në‚­ë¹„ë˜ëŠ” ë°ì´í„° ë¸”ë¡ ìˆ˜ê°€ ëŠ˜ì–´ë‚œë‹¤. íŒŒì¼ ì‹œìŠ¤í…œì€ ë³´í†µ 4KBì˜ ë””ìŠ¤í¬ ë¸”ë¡ìœ¼ë¡œ íŒŒì¼ì„ ì €ì¥í•˜ëŠ”ë° í¬ê¸°ê°€ ì‘ì•„ë„ í•˜ë‚˜ì˜ ë¸”ë¡ì„ ëª¨ë‘ ì‚¬ìš©í•œë‹¤. ì‹œìŠ¤í…œì˜ ì•„ì´ë…¸ë“œ(inode) ìš©ëŸ‰ í•œê³„ë¥¼ ì´ˆê³¼í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë…¸ë“œ ìˆ˜ëŠ” ë””ìŠ¤í¬ê°€ ì´ˆê¸°í™” ë˜ëŠ” ìˆœê°„ ê²°ì •ë˜ê³ , ì‘ì€ íŒŒì¼ì˜ ìˆ˜ê°€ ë§¤ìš° ë§ì•„ì§€ë©´ ì „ë¶€ ì†Œì§„ë  ìˆ˜ ìˆë‹¤. íŒŒì¼ ì‹œìŠ¤í…œ ë©”íƒ€ë°ì´í„°ë¥¼ ê³µê²©ì ìœ¼ë¡œ ìºì‹±í•˜ëŠ” ì „ëµì„ ì·¨í•˜ë”ë¼ë„ ì•„ì£¼ ë§ì€ ì–‘ì˜ ì•„ì´ë…¸ë“œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì§€ ëª»í•œë‹¤. ë”°ë¼ì„œ ì‘ì€ ê°ì²´ë¥¼ ê°œë³„ íŒŒì¼ í˜•íƒœë¡œ ì €ì¥í•˜ëŠ” ë°©ì•ˆì€ í˜„ì‹¤ì—ì„œëŠ” ì“¸ëª¨ì—†ìœ¼ë©°, ì‘ì€ ê°ì²´ë“¤ì„ í° íŒŒì¼ í•˜ë‚˜ë¡œ ëª¨ì•„ì„œ ì²˜ë¦¬í•´ì•¼í•œë‹¤.\nê°œë…ì ìœ¼ë¡œëŠ” WAL(Write-Ahead Log)ì™€ ê°™ì´ ê°ì²´ë¥¼ ì €ì¥í•  ë•Œ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íŒŒì¼ì— ì¶”ê°€í•˜ëŠ” ë°©ì‹ ìš©ëŸ‰ ì„ê³„ì¹˜ì— ë„ë‹¬í•œ íŒŒì¼(ë³´í†µ ìˆ˜ GB)ì€ ì½ê¸° ì „ìš© íŒŒì¼ë¡œ ë³€ê²½í•˜ê³  ìƒˆë¡œìš´ íŒŒì¼ì„ ë§Œë“ ë‹¤. ì½ê¸°-ì“°ê¸° íŒŒì¼ì— ëŒ€í•œ ì“°ê¸° ì—°ì‚°ì€ ìˆœì°¨ì ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ì•¼ í•¨ ê°ì²´ëŠ” íŒŒì¼ì— ì¼ë ¬ë¡œ ì €ì¥ë¨ ì—¬ëŸ¬ CPU ì½”ì–´ê°€ ì“°ê¸° ì—°ì‚°ì„ ë³‘ë ¬ë¡œ ì§„í–‰í•˜ë”ë¼ë„ ê°ì²´ ë‚´ìš©ì´ ë’¤ì„ì´ë©´ ì•ˆëœë‹¤. íŒŒì¼ì— ê°ì²´ë¥¼ ê¸°ë¡í•˜ê¸° ìœ„í•´ ìˆœì„œë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤. ì“°ê¸° ëŒ€ì—­í­ì´ ì‹¬ê°í•˜ê²Œ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì— ì„œë²„ì— ì˜¤ëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì½”ì–´ë³„ë¡œ ì „ë‹´ ì½ê¸°-ì“°ê¸° íŒŒì¼ì„ ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê°ì²´ ì†Œì¬ í™•ì¸ ê°ê°ì˜ ë°ì´í„° íŒŒì¼ ì•ˆì— ë§ì€ ì‘ì€ ê°ì²´ê°€ ë“¤ì–´ ìˆë‹¤ë©´ ë°ì´í„°ë…¸ë“œê°€ UUIDë¡œ ê°ì²´ë¥¼ ì°¾ê¸° ìœ„í•´ ë‹¤ìŒ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤.\nê°ì²´ê°€ ë³´ê´€ëœ ë°ì´í„° íŒŒì¼ ë°ì´í„° íŒŒì¼ ë‚´ ê°ì²´ ì˜¤í”„ì…‹ ê°ì²´ í¬ê¸° classDiagram class object_mapping { object_id file_name start_offset object_size } ì´ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë° ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.\níŒŒì¼ ê¸°ë°˜ í‚¤-ê°’ ì €ì¥ì†Œ(ex. RocksDB) SSTableì— ê¸°ë°˜í•œ ë°©ë²•ìœ¼ë¡œ ì“°ê¸° ì—°ì‚° ì„±ëŠ¥ì€ ì¢‹ì§€ë§Œ ì½ê¸° ì„±ëŠ¥ì€ ëŠë¦¬ë‹¤. ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ B+ íŠ¸ë¦¬ ê¸°ë°˜ ì €ì¥ ì—”ì§„ì„ ì´ìš©í•˜ë©° ì½ê¸° ì—°ì‚° ì„±ëŠ¥ì€ ì¢‹ì§€ë§Œ ì“°ê¸° ì„±ëŠ¥ì€ ëŠë¦¬ë‹¤. ê°ì²´ ì €ì¥ì†Œì˜ ë°ì´í„°ëŠ” í•œ ë²ˆ ê¸°ë¡ëœ í›„ì—ëŠ” ë³€ê²½ë˜ì§€ ì•Šê³ , ì½ê¸° ì—°ì‚°ì´ ë§¤ìš° ë§ì´ ë°œìƒí•˜ë¯€ë¡œ ì½ê¸° ì—°ì‚° ì„±ëŠ¥ì´ ì¢‹ì€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ë” ë‚˜ì€ ì„ íƒì´ë‹¤.\nê°ì²´ ìœ„ì¹˜ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì˜ ë°ì´í„° ì–‘ì€ ë§‰ëŒ€í•˜ë¯€ë¡œ, í•˜ë‚˜ì˜ ê±°ëŒ€ í´ëŸ¬ìŠ¤í„°ì— ëª¨ë“  ë°ì´í„° ë…¸ë“œë¥¼ ì €ì¥í•˜ëŠ” ë°©ì•ˆë„ ê°€ëŠ¥í•˜ì§€ë§Œ ê´€ë¦¬ê°€ ê¹Œë‹¤ë¡­ë‹¤.\ní•˜ì§€ë§Œ ë°ì´í„° ë…¸ë“œì— ì €ì¥ë˜ëŠ” ìœ„ì¹˜ ë°ì´í„°ë¥¼ ë‹¤ë¥¸ ë°ì´í„° ë…¸ë“œì™€ ê³µìœ í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ë°ì´í„° ë…¸ë“œë§ˆë‹¤ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ì•ˆì´ ê°€ëŠ¥í•˜ë‹¤.\nSQLiteëŠ” ì´ëŸ° ê²½ìš° ë”± ë§ŒëŠ” íŒŒì¼ ê¸°ë°˜ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì´ë‹¤. ê°œì„ ëœ ë°ì´í„° ì €ì¥ íë¦„ API ì„œë¹„ìŠ¤ëŠ” ìƒˆë¡œìš´ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ìš”ì²­ì„ ë°ì´í„° ë…¸ë“œ ì„œë¹„ìŠ¤ì— ì „ì†¡í•œë‹¤. ë°ì´í„° ë…¸ë“œ ì„œë¹„ìŠ¤ëŠ” ìƒˆë¡œìš´ ê°ì²´ë¥¼ ì½ê¸°-ì“°ê¸° íŒŒì¼ /data/cì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì— ì¶”ê°€í•œë‹¤. í•´ë‹¹ ê°ì²´ì— ëŒ€í•œ ìƒˆë¡œìš´ ë ˆì½”ë“œë¥¼ object_mapping í…Œì´ë¸”ì— ì¶”ê°€í•œë‹¤. ë°ì´í„° ë…¸ë“œ ì„œë¹„ìŠ¤ëŠ” API ì„œë¹„ìŠ¤ì— í•´ë‹¹ ê°ì²´ì˜ UUIDë¥¼ ë°˜í™˜í•œë‹¤. ë°ì´í„° ë‚´êµ¬ì„± ë°ì´í„° ì•ˆì •ì„±ì€ ë°ì´í„° ì €ì¥ ì‹œìŠ¤í…œì— ì•„ì£¼ ì¤‘ìš”í•˜ë‹¤.\nì‹ìŠ¤ ë‚˜ì¸ ìˆ˜ì¤€ì˜ ë°ì´í„° ë‚´êµ¬ì„±ì„ ì œê³µí•˜ëŠ” ì €ì¥ì†Œ ì‹œìŠ¤í…œì„ ë§Œë“¤ë ¤ë©´ ì¥ì• ê°€ ë°œìƒí•  ëª¨ë“  ê²½ìš°ë¥¼ ì„¸ì‹¬í•˜ê²Œ ì‚´í•€ ë‹¤ìŒ ë°ì´í„°ë¥¼ ì ì ˆíˆ ë‹¤ì¤‘í™”í•´ì•¼í•œë‹¤.\ní•˜ë“œì›¨ì–´ ì¥ì• ì™€ ì¥ì•  ë„ë©”ì¸\nê¸°ë¡ ë§¤ì²´ ì¢…ë¥˜ì™€ ê´€ê³„ì—†ì´, í•˜ë“œ ë””ìŠ¤í¬ ì¥ì• ëŠ” í•„í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë“œë¼ì´ë¸Œ í•œ ëŒ€ë¡œ ì›í•˜ëŠ” ë‚´êµ¬ì„± ëª©í‘œë¥¼ ë‹¬ì„± ë¶ˆê°€ëŠ¥í•˜ë‹¤.\në‚´êµ¬ì„±ì„ ë†’ì´ëŠ” ê²€ì¦ëœ ë°©ë²•ì€ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ëŒ€ì˜ í•˜ë“œ ë“œë¼ì´ë¸Œì— ë³µì œí•˜ì—¬ ì–´ë–¤ ë“œë¼ì´ë¸Œì—ì„œ ë°œìƒí•œ ì¥ì• ê°€ ì „ì²´ ë°ì´í„° ê°€ìš©ì„±ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒ ì´ë‹¤.\në³¸ ì„¤ê³„ì•ˆì—ì„œëŠ” ë°ì´í„°ë¥¼ 3ì¤‘ ë³µì œ í•œë‹¤.\níšŒì „ì‹ ë“œë¼ì´ë¸Œ ì—°ê°„ ì¥ì• ìœ¨ì´ 0.81%ë¼ë©´ 3ì¤‘ ë³µì œí–ˆì„ ë•Œ ë‚´êµ¬ì„±ì€ 1 - 0.0081^3 = ~0.999999 ì´ë‹¤. ì™„ì „í•œ ë‚´êµ¬ì„± í‰ê°€ë¥¼ ìœ„í•´ì„œëŠ” ì—¬ëŸ¬ ì¥ì•  ë„ë©”ì¸ì˜ ì˜í–¥ì„ ë³µí•©ì ìœ¼ë¡œ ê³ ë ¤í•  í•„ìš”ê°€ ìˆë‹¤.\nì¥ì•  ë„ë§¤ì¸\nì¤‘ìš”í•œ ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ ë¶€ì •ì ì¸ ì˜í–¥ì„ ë°›ëŠ” ë¬¼ë¦¬ì  ë˜ëŠ” ë…¼ë¦¬ì  êµ¬íš\nëŒ€ê·œëª¨ì˜ ì¥ì•  ë„ë©”ì¸ ì‚¬ë¡€ë¡œëŠ” ë°ì´í„°ì„¼í„°ì˜ ê°€ìš©ì„± êµ¬ì—­(Availability Zone, AZ)ê°€ ìˆë‹¤.(ë‹¤ë¥¸ ë°ì´í„°ì„¼í„°ì™€ ë¬¼ë¦¬ì  ì¸í”„ë¼ë¥¼ ê³µìœ í•˜ì§€ ì•ŠëŠ” ë…ë¦½ì  ë°ì´í„°ì„¼í„° í•˜ë‚˜)\në°ì´í„°ë¥¼ ì—¬ëŸ¬ AZì— ë³µì œí•´ ë†“ìœ¼ë©´ ì¥ì•  ì—¬íŒŒë¥¼ ìµœì†Œí™”í•  ìˆ˜ ìˆë‹¤.\nì†Œê±° ì½”ë“œ\nì†Œê±° ì½”ë“œ(erasure coding)ë¼ëŠ” ë°©ì•ˆìœ¼ë¡œ ë‚´êµ¬ì„±ì„ ë‹¬ì„±í•˜ëŠ” ë°©ì•ˆë„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\në°ì´í„°ë¥¼ ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í• í•˜ì—¬ ë‹¤ë¥¸ ì„œë²„ì— ë°°ì¹˜í•˜ëŠ” í•œí¸, ê·¸ ê°€ìš´ë° ì¼ë¶€ê°€ ì†Œì‹¤ë˜ì—ˆì„ ë•Œ ë³µêµ¬í•˜ê¸° ìœ„í•œ íŒ¨ë¦¬í‹°(parity)ë¼ëŠ” ì •ë³´ë¥¼ ë§Œë“¤ì–´ ì¤‘ë³µì„±(redundancy)ë¥¼ í™•ë³´í•œë‹¤.\nì¥ì• ê°€ ìƒê¸°ë©´ ë‚¨ì€ ë°ì´í„°ì™€ íŒ¨ë¦¬í‹°ë¥¼ ì¡°í•©í•˜ì—¬ ì†Œì‹¤ëœ ë¶€ë¶„ì„ ë³µêµ¬í•œë‹¤.\nì›ë³¸ ë°ì´í„°ëŠ” 8ì¡°ê°ìœ¼ë¡œ ë¶„í• í•˜ê³  4ê°œì˜ íŒ¨ë¦¬í‹°ë¥¼ ê³„ì‚° ê·¸ ê²°ê³¼ë¡œ ë§Œë“¤ì–´ì§„ 12ì¡°ê°ì˜ ë°ì´í„°ëŠ” ì „ë¶€ ê°™ì€ í¬ê¸°ë¡œ, 12ê°œì˜ ì¥ì•  ë„ë©”ì¸ì— ë¶„ì‚° ì†Œê±° ì½”ë“œ ì´ë©°ëŠì´ ìˆ˜ì‹ìœ¼ë¡œ ìµœëŒ€ 4ëŒ€ ë…¸ë“œì— ì¥ì• ê°€ ë™ì‹œì— ë°œìƒí•˜ë”ë¼ë„ ì›ë³¸ ë°ì´í„°ë¥¼ ë³µì›í•´ ë‚¼ ìˆ˜ ìˆë‹¤.\në°ì´í„°ë¥¼ ë‹¤ì¤‘í™” í•  ê²½ìš° ë°ì´í„° ë¼ìš°í„°ëŠ” ê°ì²´ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ ê±´ê°•í•œ ë…¸ë“œì—ì„œ ì½ìœ¼ë©´ ì¶©ë¶„í•˜ê² ì§€ë§Œ ì†Œê±° ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ìµœëŒ€ 8ê°œì˜ ê±´ê°•í•œ ë…¸ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤.\nì‘ë‹µ ì§€ì—°ì€ ë†’ì•„ì§€ëŠ” ëŒ€ì‹  ë‚´êµ¬ì„±ì€ í–¥ìƒë˜ê³  ì €ì¥ì†Œ ë¹„ìš©ì€ ë‚®ì•„ì§„ë‹¤. ê°ì²´ ì €ì¥ì†ŒëŠ” ì €ì¥ ë¹„ìš©ì´ ëŒ€ë¶€ë¶„ì´ì–´ì„œ ê³ ë ¤í•  ê°€ì¹˜ê°€ ìˆë‹¤. ì†Œê±° ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë©´ 2ê°œ ë°ì´í„° ë¸”ë¡ì— í•˜ë‚˜ì˜ íŒ¨ë¦¬í‹° ë¸”ë¡ì´ í•„ìš”í•˜ë¯€ë¡œ ì €ì¥ ê³µê°„ì´ 50% ë” í•„ìš”í•˜ë‹¤. 3ì¤‘ ë³µì œ ë‹¤ì¤‘í™” ë°©ì•ˆì„ ì±„íƒí•œë‹¤ë©´ 200% ì†Œê±° ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë…¸ë“œì˜ ì—°ì‚° ì¥ì•  ë°œìƒë¥ ì´ 0.81%ë¼ê³  í–ˆì„ ë•Œ 11 ë‚˜ì¸ ë‚´êµ¬ì„±ì„ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤.\në¹„êµ\në‹¤ì¤‘í™” ì†Œê±° ì½”ë“œ ë‚´êµ¬ì„± 3ì¤‘ ë³µì œì‹œ 4-nines 8+4 ì†Œê±° ì½”ë“œ ì‚¬ìš©ì‹œ 11-nines ì €ì¥ì†Œ íš¨ìœ¨ì„± 200% ì˜¤ë²„í—¤ë“œ 50%ì˜ ì˜¤ë²„í—¤ë“œ ê³„ì‚° ìì› ê³„ì‚°ì´ í•„ìš”ì—†ìŒ íŒ¨ë¦¬í‹° ê³„ì‚°ì— ë§ì€ ê³„ì‚° ìì› ì†Œëª¨ ì“°ê¸° ì„±ëŠ¥ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë…¸ë“œì— ë³µì œí•˜ë¯€ë¡œ ì¶”ê°€ë¡œ í•„ìš”í•œ ê³„ì‚°ì€ ì—†ìŒ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ê¸° ì „ì— íŒ¨ë¦¬í‹° ê³„ì‚°ì´ í•„ìš”í•˜ë¯€ë¡œ ì“°ê¸° ì—°ì‚°ì˜ ì‘ë‹µ ì§€ì—° ì¦ê°€ ì½ê¸° ì„±ëŠ¥ ì¥ì• ê°€ ë°œìƒí•˜ì§€ ì•Šì€ ë…¸ë“œì—ì„œ ë°ì´í„°ë¥¼ ì½ìŒ ë°ì´í„°ë¥¼ ì½ì–´ì•¼í•  ë•Œë§ˆë‹¤ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ì—¬ëŸ¬ ë…¸ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•¨. ì¥ì• ê°€ ë°œìƒí•œ ê²½ìš° ë¹ ì§„ ë°ì´í„°ë¥¼ ë¨¼ì € ë³µì›í•´ì•¼í•˜ë¯€ë¡œ ì§€ì—° ì‹œê°„ ì¦ê°€ ì‘ë‹µ ì§€ì—°ì´ ì¤‘ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë‹¤ì¤‘í™” ë°©ì•ˆì´ ì¢‹ì„ ìˆ˜ ìˆë‹¤. ì €ì¥ì†Œ ë¹„ìš©ì´ ì¤‘ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì†Œê±° ì½”ë“œê°€ ì¢‹ì„ ìˆ˜ ìˆë‹¤. ì†Œê±° ì½”ë“œëŠ” ë¹„ìš© íš¨ìœ¨ê³¼ ë‚´êµ¬ì„± ì¸¡ë©´ì—ì„œ ë§¤ë ¥ì ì´ì§€ë§Œ ë°ì´í„° ë…¸ë“œì˜ ì„¤ê³„ ì¸¡ë©´ì—ì„œëŠ” ê¹Œë‹¤ë¡­ë‹¤.\nì •í™•ì„± ê²€ì¦ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì˜ ê²½ìš° ë°ì´í„° í›¼ì† ë¬¸ì œëŠ” ë””ìŠ¤í¬ì— êµ­í•œë˜ì§€ ì•Šê³ , ë©”ëª¨ë¦¬ì˜ ë°ì´í„°ê°€ ë§ê°€ì§€ëŠ” ì¼ë„ ìì£¼ ì¼ì–´ë‚œë‹¤.\në©”ëª¨ë¦¬ ë°ì´í„°ê°€ í›¼ì†ë˜ëŠ” ë¬¸ì œëŠ” í”„ë¡œì„¸ìŠ¤ ê²½ê³„ì— ë°ì´í„° ê²€ì¦ì„ ìœ„í•œ ì²´í¬ì„¬ì„ ë‘ì–´ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\nì²´í¬ì„¬\në°ì´í„° ì—ëŸ¬ë¥¼ ë°œê²¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì‘ì€ í¬ê¸°ì˜ ë°ì´í„° ë¸”ë¡\nì›ë³¸ ë°ì´í„°ì˜ ì²´í¬ì„¬ì„ ì•Œë©´ ì „ì†¡ ë°›ì€ ë°ì´í„°ì˜ ì •í™•ì„±ì€ í•´ë‹¹ ë°ì´í„°ì˜ ì²´í¬ì„¬ì„ ë‹¤ì‹œ ê³„ì‚°í•œ í›„ ë‹¤ìŒê³¼ ì ˆì°¨ë¡œ í™•ì¸í•œë‹¤.\nìƒˆë¡œ ê³„ì‚°í•œ ì²´í¬ ì„¬ì´ ì›ë³¸ ì²´í¬ì„¬ê³¼ ë‹¤ë¥´ë©´ ë°ì´í„°ê°€ ë§Œê°€ì§„ ê²ƒì´ë‹¤. ê°™ì€ ê²½ìš°ì—ëŠ” ì•„ì£¼ ë†’ì€ í™•ë¥ ë¡œ ë°ì´í„°ëŠ” ì˜¨ì „í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. 100%ëŠ” ì•„ë‹ˆì§€ë§Œ ì•„ì£¼ ë‚®ë‹¤. ì¢‹ì€ ì²´í¬ì„¬ ì•Œê³ ë¦¬ì¦˜ì€ ì…ë ¥ì´ ì¡°ê¸ˆì´ë¼ë„ ë‹¬ë¼ì§€ë©´ í¬ê²Œ ë‹¬ë¼ì§„ ì²´í¬ì„¬ì„ ë‚´ë†“ëŠ”ë‹¤.\nì²´í¬ì„¬ì€ ê°ì²´ ë°ì´í„° ëì— ë‘ë©°, íŒŒì¼ì„ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì „í™˜í•˜ê¸° ì§ì „ì— ì „ì²´ íŒŒì¼ì˜ ì²´í¬ì„¬ì„ ê³„ì‚°í•œ í›„ íŒŒì¼ ëì— ì¶”ê°€í•œë‹¤.\n(8 + 4) ì†Œê±° ì½”ë“œì™€ ì²´í¬ì„¬ í™•ì¸ ë§¤ì»¤ë‹ˆì¦˜ì„ ë™ì‹œì— í™œìš©í•˜ëŠ” ê²½ìš° ê°ì²´ ë°ì´í„°ë¥¼ ì½ì„ ë•Œë§ˆë‹¤ ë‹¤ìŒ ì ˆì°¨ë¥¼ ìˆ˜í–‰í•œë‹¤.\nê°ì²´ ë°ì´í„°ì™€ ì²´í¬ì„¬ì„ ê°€ì ¸ì˜¨ë‹¤. ìˆ˜ì‹ ëœ ë°ì´í„°ì˜ ì²´í¬ì„¬ì„ ê³„ì‚°í•œë‹¤. ë‘ ì²´í¬ì„¬ì´ ì¼ì¹˜í•˜ë©´ ë°ì´í„°ì—ëŠ” ì—ëŸ¬ê°€ ì—†ë‹¤ê³  ê°„ì£¼í•œë‹¤. ì²´í¬ì„¬ì´ ë‹¤ë¥´ë©´ ë§ê°€ì§„ ê²ƒ ì´ë¯€ë¡œ ë‹¤ë¥¸ ì¥ì•  ë„ë©”ì¸ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ë³µêµ¬ë¥¼ ì‹œë„í•œë‹¤. ë°ì´í„° 8ì¡°ê°ì„ ì „ë¶€ ìˆ˜ì‹ í•  ë•Œ ê¹Œì§€ 1ê³¼ 2ë¥¼ ë°˜ë³µí•œ í›„, ì›ë˜ ê°ì²´ë¥¼ ë³µì›í•œ ë‹¤ìŒ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ë‚¸ë‹¤. ë©”íƒ€ë°ì´í„° ë°ì´í„° ëª¨ë¸ ìŠ¤í‚¤ë§ˆ\nì´ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆëŠ” ë‹¤ìŒ 3ê°€ì§€ ì§ˆì˜ë¥¼ ì§€ì›í•´ì•¼í•œë‹¤.\nê°ì²´ ì´ë¦„ìœ¼ë¡œ ê°ì²´ ID ì°¾ê¸° ê°ì²´ ì´ë¦„ì— ê¸°ë°˜í•˜ì—¬ ê°ì²´ ì‚½ì… ë˜ëŠ” ì‚­ì œ ê°™ì€ ì ‘ë‘ì–´ë¥¼ ê°–ëŠ” ë²„í‚· ë‚´ì˜ ëª¨ë“  ê°ì²´ ëª©ë¡ í™•ì¸ bucket í…Œì´ë¸” ê·œëª¨ í™•ì¥\në³´í†µ í•œ ì‚¬ìš©ìê°€ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë²„í‚·ì˜ ìˆ˜ì—ëŠ” ì œí•œì´ ìˆìœ¼ë¯€ë¡œ, í…Œì´ë¸”ì˜ í¬ê¸°ëŠ” ì‘ê¸° ë•Œë¬¸ì— ìµœì‹  ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ í•œ ëŒ€ì— ì¶©ë¶„íˆ ì €ì¥í•  ìˆ˜ ìˆë‹¤.\në°±ë§Œëª… ê³ ê°ì´ 10ê°œì˜ ë²„í‚·ì„ ê°€ì§€ê³  ìˆê³ , ë ˆì½”ë“œê°€ 10KBë¼ë©´ 10GB ì •ë„ í•„ìš”í•¨ í•˜ì§€ë§Œ ëª¨ë“  ì½ê¸° ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸°ì—ëŠ” CPU ìš©ëŸ‰ì´ë‚˜ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì´ ë¶€ì¡±í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ë³¸ì„ ë§Œë“¤ì–´ ì½ê¸° ë¶€í•˜ë¥¼ ë¶„ì‚°í•œë‹¤.\nobject í…Œì´ë¸”ì˜ ê·œëª¨ í™•ì¥\nobject í…Œì´ë¸”ì—ëŠ” ê°ì²´ ë©”íƒ€ë°ì´í„°ê°€ ë³´ê´€ë˜ëŠ”ë°, ì„¤ê³„ì•ˆì´ ë‹¤ë£¨ëŠ” ê·œëª¨ì˜ ê²½ìš° ê°ì²´ ë©”íƒ€ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ í•œ ëŒ€ì— ë³´ê´€í•˜ê¸°ëŠ” ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ìƒ¤ë”©ì„ í†µí•´ í™•ì¥í•´ì•¼í•œë‹¤.\ní…Œì´ë¸”ì„ ìƒ¤ë”©í•  ë•Œ bucket_idì„ ìƒ¤ë”©í‚¤ë¡œ ì‚¬ìš©í•˜ê²Œë˜ë©´, í•«ìŠ¤íŒŸ ìƒ¤ë“œë¥¼ ì§€ì›í•˜ì§€ ëª»í•˜ë¯€ë¡œ ì¢‹ì€ ë°©ì•ˆì€ ì•„ë‹ˆë‹¤. object_idë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒ¤ë”©í•˜ë©´ ë¶€í•˜ë¥¼ ê· ë“±í•˜ê²Œ ë¶„ì‚°í•  ìˆ˜ëŠ” ìˆì§€ë§Œ URIë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ì§ˆì˜ 1, 2ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì§€ì›í•˜ì§€ ëª»í•œë‹¤. ëŒ€ë¶€ë¶„ì˜ ë©”íƒ€ë°ì´í„° ê´€ë ¨ ì—°ì‚°ì´ ê°ì²´ URIë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” íŠ¹ì„±ì„ ê³ ë ¤í•˜ì—¬ bucket_nameê³¼ object_nameì„ ê²°í•©í•˜ì—¬ ìƒ¤ë”©ì— ì‚¬ìš©í•œë‹¤.\nbucket_nameê³¼ ë°ì´í„°ë¥¼ ê· ë“±í•˜ê²Œ ë¶„ì‚°í•˜ê¸°ìœ„í•´ object_nameì˜ ìˆœì„œìŒì„ í•´ì‹±í•œ ê°’ì„ ìƒ¤ë”©í‚¤ë¡œ ì‚¬ìš©í•œë‹¤. ë²„í‚· ë‚´ ê°ì²´ ëª©ë¡ í™•ì¸ ê°ì²´ ì €ì¥ì†ŒëŠ” ê°ì²´ë¥¼ íŒŒì¼ ì‹œìŠ¤í…œì²˜ëŸ¼ ê³„ì¸µì  êµ¬ì¡°ë¡œ ë³´ê´€í•˜ì§€ ì•ŠëŠ”ë‹¤.\ns3://mybucket/abc/d/e/f/file.txtì™€ ê°™ì€ ê²½ë¡œê°€ ìˆë‹¤ë©´\nmybucketì€ ë²„í‚· ì´ë¦„ abc/d/e/f/file.txtëŠ” íŒŒì¼ ì´ë¦„ S3ëŠ” ì‚¬ìš©ìê°€ ë²„í‚· ë‚´ ê°ì²´ë“¤ì„ ì˜ ì •ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì ‘ë‘ì–´(prefix)ë¼ëŠ” ê°œë…ì„ ì§€ì›í•œë‹¤.\nì ‘ë‘ì–´ëŠ” ê°ì²´ ì´ë¦„ì˜ ì‹œì‘ ë¶€ë¶„ ë¬¸ìì—´ì„ ì¼ì»«ëŠ”ë°, ì˜ ì‚¬ìš©í•œë‹¤ë©´ ë””ë ‰í„°ë¦¬ì™€ ë¹„ìŠ·í•˜ê²Œ ë°ì´í„°ë¥¼ ì˜ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì ‘ë‘ì–´ëŠ” ë””ë ‰í„°ë¦¬ê°€ ì•„ë‹ˆë¯€ë¡œ ì–´ë–¤ ì ‘ë‘ì–´ì— ëŒ€ì‘ë˜ëŠ” ê°ì²´ ëª©ë¡ì„ ì–»ìœ¼ë ¤ í•˜ë©´ ì˜¤ì§ í•´ë‹¹ ì ‘ë‘ì–´ë¡œ ì‹œì‘í•˜ëŠ” ì´ë¦„ì˜ ê°ì²´ë§Œ ë°˜í™˜ë  ê²ƒì´ë‹¤.\ns3://mybucket/abc/d/e/f/file.txtì˜ ì ‘ë‘ì–´ëŠ” abc/d/e/f S3ê°€ ì œê³µí•˜ëŠ” ëª©ë¡ ì¶œë ¥ ëª…ë ¹ì–´ëŠ” ë³´í†µ ë‹¤ìŒê³¼ ê°™ì´ ì“°ì¸ë‹¤.\nì–´ë–¤ ì‚¬ìš©ìê°€ ê°€ì§„ ëª¨ë“  ë²„í‚· ëª©ë¡ ì¶œë ¥ 1 aws s3 list-buckets ì£¼ì–´ì§„ ì ‘ë‘ì–´ë¥¼ ê°€ì§„ ê°™ì€ ë²„í‚· ë‚´ ëª¨ë“  ê°ì²´ ëª©ë¡ ì¶œë ¥ 1 aws s3 ls s3://mybucket/abc/ ì£¼ì–´ì§„ ì ‘ë‘ì–´ë¥¼ ê°€ì§„, ê°™ì€ ë²„í‚· ë‚´ ëª¨ë“  ê°ì²´ë¥¼ ì¬ê·€ì ìœ¼ë¡œ ì¶œë ¥ 1 aws s3 ls s3://mybucket/abc/ --recursive ë‹¨ì¼ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ë‹¨ì¼ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¡œ ëª©ë¡ ì¶œë ¥ ëª…ë ¹ì–´ë¥¼ ì–´ë–»ê²Œ ì§€ì›í•˜ëŠ”ì§€ ì‚´í´ë³¸ë‹¤.\n1 2 3 4 5 SELECT * FROM object WHERE bucket_id = 123 AND object_name LIKE `abc/%` ; ëª©ë¡ ì¶œë ¥ ëª…ë ¹ì–´ì˜ ë‘ë²ˆì§¸ ëª…ë ¹ê³¼ ê°™ì´ í•´ë‹¹ ì ‘ë‘ì–´ ì´í›„ì— ë” ë§ì€ ìƒë˜ì‹œ ê¸°í˜¸ê°€ í¬í•¨ëœ ì´ë¦„ì„ ê°€ì§„ ê°ì²´ë“¤ì„ ë””ë ‰í„°ë¦¬ì²˜ëŸ¼ ë³´ì´ë„ë¡ ë¬¶ëŠ” ì‘ì—…ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë‹´ë‹¹í•œë‹¤.\në¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ ë©”íƒ€ë°ì´í„° í…Œì´ë¸”ì„ ìƒ¤ë”©í•˜ë©´ ì–´ë–¤ ìƒ¤ë“œì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ ëª¨ë¥´ë¯€ë¡œ ëª©ë¡ ì¶œë ¥ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ì–´ë µë‹¤.\nê°€ì¥ ë‹¨ìˆœí•œ í•´ê²°ì±…ì€ ê²€ìƒ‰ ì§ˆì˜ë¥¼ ëª¨ë“  ìƒ¤ë“œì— ëŒë¦° ë‹¤ìŒ ê²°ê³¼ë¥¼ ì·¨í•©í•˜ëŠ” ê²ƒ ì´ì§€ë§Œ í˜ì´ì§€ ë‚˜ëˆ”(pagination) ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ë³µì¡í•˜ë‹¤.\nê°ì²´ê°€ ì—¬ëŸ¬ ìƒ¤ë“œì— ë‚˜ëˆ ì ¸ ìˆìœ¼ë¯€ë¡œ, ìƒ¤ë“œë§ˆë‹¤ ë°˜í˜¸ë‚˜í•˜ëŠ” ê°ì²´ ìˆ˜ëŠ” ì œê°ê°ì´ë‹¤.\nì–´ë–¤ ìƒ¤ë“œì—ëŠ” í•œ í˜ì´ì§€ë¥¼ ê½‰ ì±„ìš¸ ê°ì²´ê°€ ìˆì„ ìˆ˜ ìˆì§€ë§Œ, ì ê±°ë‚˜ ì—†ëŠ” ìƒ¤ë“œë„ ìˆì„ ìˆ˜ ìˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œëŠ” ëª¨ë“  ìƒ¤ë“œì˜ ì§ˆì˜ ê²°ê³¼ë¥¼ ë°›ì•„ ì·¨í•©í•œ ë‹¤ìŒ ì •ë ¬í•˜ì—¬ ê·¸ì¤‘ 10ê°œë§Œ ì¶”ë ¤ì•¼í•œë‹¤.\nì´ë²ˆì— ë°˜í™˜í•  í˜ì´ì§€ì— í¬í•¨ë˜ì§€ ëª»í•œ ê°ì²´ëŠ” ë‹¤ìŒì— ë‹¤ì‹œ ê³ ë ¤í•´ì•¼í•˜ë¯€ë¡œ, ìƒ¤ë“œë§ˆë‹¤ ì¶”ì í•´ì•¼í•˜ëŠ” ì˜¤í”„ì…‹ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ì„œë²„ëŠ” ëª¨ë“  ìƒ¤ë“œì˜ ì˜¤í”„ì…‹ì„ ì¶”ì í•˜ì—¬ ì»¤ì„œì— ê²°ë¶€ì‹œí‚¬ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§„ë‹¤.\nì´ ë¬¸ì œë¥¼ í•´ê²°í•  ë°©ë²•ì€ ìˆìœ¼ë‚˜ ê°ì²´ ì €ì¥ì†ŒëŠ” ê·œëª¨ì™€ ë‚´êµ¬ì„± ìµœì í™”ì— ì¹˜ì¤‘í•˜ê³ , ê°ì²´ ëª©ë¡ ì¶œë ¥ ëª…ë ¹ì˜ ì„±ëŠ¥ì„ ë³´ì¥í•˜ëŠ” ê²ƒì€ ìš°ì„ ìˆœìœ„ê°€ ë‚®ë‹¤.\nê·¸ ì‚¬ì‹¤ì„ ê°ì•ˆí•˜ì—¬ ë²„í‚· IDë¡œ ìƒ¤ë”©í•˜ëŠ” ë³„ë„ í…Œì´ë¸”ì— ëª©ë¡ ë°ì´í„°ë¥¼ ë¹„ì •ê·œí™”í•  ìˆ˜ ìˆë‹¤.\nê°ì²´ ëª©ë¡ì„ ì¶œë ¥í•  ë•ŒëŠ” ì´ í…Œì´ë¸”ì— ìˆëŠ” ë°ì´í„°ë§Œ ì‚¬ìš©í•œë‹¤. ëª©ë¡ ì§ˆì˜ë¬¸ì„ í•œ ëŒ€ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¡œ ëŒë¦´ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, êµ¬í˜„ì„ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ê°ì²´ ë²„ì „ ê°ì²´ ë²„ì „ì€ ë²„í‚· ì•ˆì— í•œ ê°ì²´ì˜ ì—¬ëŸ¬ ë²„ì „ì„ ë‘˜ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ì‹¤ìˆ˜ë¡œ ì§€ìš°ê±°ë‚˜ ë®ì–´ ì“´ ê°ì²´ë¥¼ ì‰½ê²Œ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.\në¬¸ì„œë¥¼ ìˆ˜ì •í•œ ë‹¤ìŒ ê°™ì€ ë²„í‚· ì•ˆì— ê°™ì€ ì´ë¦„ìœ¼ë¡œ ì €ì¥í–ˆë‹¤ë©´\në²„ì „ ê¸°ëŠ¥ì´ ì—†ìœ¼ë©´ í•´ë‹¹ ë¬¸ì„œì˜ ì´ì „ ë©”íƒ€ë°ì´í„°ëŠ” ìƒˆ ë©”íƒ€ë°ì´í„°ë¡œ ì™„ì „íˆ ëŒ€ì²´ëœë‹¤. ì´ì „ ë¬¸ì„œëŠ” ì‚­ì œëœ ê²ƒìœ¼ë¡œ í‘œì‹œë˜ê³ , ì“°ë ˆê¸° ìˆ˜ì§‘ê¸°ê°€ íšŒìˆ˜í•œë‹¤. ë²„ì „ ê¸°ëŠ¥ì´ ìˆìœ¼ë©´ ê°ì²´ ì €ì¥ì†ŒëŠ” í•´ë‹¹ ë¬¸ì„œì˜ ëª¨ë“  ì´ì „ ë²„ì „ì„ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì— ìœ ì§€í•œë‹¤. ì´ì „ ë²„ì „ì— ì‚­ì œ í‘œì‹œë¥¼ í•  ìˆ˜ ìˆë‹¤(ì•ˆí•´ë„ ëœë‹¤.) ë²„ì „ì´ ë‹¤ë¥¸ ê°ì²´ ì—…ë¡œë“œ\në²„ì „ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì˜ ê°ì²´ í…Œì´ë¸”ì—ëŠ” object_versionì´ë¼ëŠ” ì»¬ëŸ¼ì´ ìˆê³ , ë²„ì „ ê¸°ëŠ¥ì´ í™œì„±í™” ë˜ì—ˆì„ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•œë‹¤.\nê¸°ì¡´ ë ˆì½”ë“œë¥¼ ë®ì–´ì“°ëŠ” ëŒ€ì‹ , bucket_id, object_nameì€ ê°™ì§€ë§Œ object_id, object_versionì€ ìƒˆë¡œìš´ ê°’ì¸ ë ˆì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤. object_id: ìƒˆ ê°ì²´ì˜ UUID object_version: ìƒˆë¡œìš´ ë ˆì½”ë“œê°€ í…Œì´ë¸”ì— ì¶”ê°€ë  ë•Œ ë§Œë“¤ì–´ì§€ëŠ” TIMEUUID ê°’ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œë¡œ ì–´ë–¤ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„ íƒí•˜ê±´, íŠ¹ì • ê°ì²´ì˜ í˜„ì¬ ë²„ì „ì„ ì¡°íšŒí•˜ëŠ” ì—°ì‚°ì€ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nê°ì²´ ì‚­ì œ\nê°ì²´ë¥¼ ì‚­ì œí•  ë•ŒëŠ” í•´ë‹¹ ê°ì²´ì˜ ëª¨ë“  ë²„ì „ì„ ë²„í‚· ì•ˆì— ê·¸ëŒ€ë¡œ ë‘” ì±„ ì‚­ì œ í‘œì‹ë§Œ ì¶”ê°€í•œë‹¤.\nì‚­ì œ í‘œì‹ì€ ê°ì²´ì˜ ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ì‚½ì…ë˜ëŠ” ìˆœê°„ í•´ë‹¹ ê°ì²´ì˜ ìƒˆë¡œìš´ í˜„ì¬ ë²„ì „ì´ ëœë‹¤.\ní˜„ì¬ ë²„ì „ ê°ì²´(ì‚­ì œëœ ë²„ì „)ë¥¼ ê°€ì ¸ì˜¤ëŠ” GET ìš”ì²­ì€ ë³´ë‚´ë©´ 404 Object Not Found ì˜¤ë¥˜ê°€ ë°˜í™˜ëœë‹¤. í° íŒŒì¼ì˜ ì—…ë¡œë“œ ì„±ëŠ¥ ìµœì í™” í° íŒŒì¼(ëª‡ GB ì´ìƒ)ì„ë²œë‹›ì— ì§ì ‘ ì—…ë¡œë“œí•˜ëŠ” ê²ƒë„ ê°€ëŠ¥ì€ í•˜ì§€ë§Œ ì‹œê°„ì´ ë§¤ìš° ì˜¤ë˜ ê±¸ë¦´ ê²ƒì´ë‹¤.\nì—…ë¡œë“œ ì¤‘ê°„ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œê°€ ìƒê¸°ë©´ ë‹¤ì‹œ ì—…ë¡œë“œ í•´ì•¼í•œë‹¤ëŠ” ë¬¸ì œë„ ìˆë‹¤.\në”°ë¼ì„œ í° ê°ì²´ëŠ” ì‘ê²Œ ìª¼ê°  ë‹¤ìŒ ë…ë¦½ì ìœ¼ë¡œ ì—…ë¡œë“œí•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ ë°©ë²•ì´ë‹¤.\në©€í‹°íŒŒíŠ¸(multipart) ì—…ë¡œë“œ\ní¬ê¸°ê°€ í° ëŒ€ìƒì„ ìª¼ê°œ ë…ë¦½ì ìœ¼ë¡œ ì—…ë¡œë“œí•œ í›„ ëª¨ë“  ì¡°ê°ì´ ì—…ë¡œë“œë˜ë©´ ê·¸ ì¡°ê°ì„ ëª¨ì•„ ì›ë³¸ì„ ë³µì›í•˜ëŠ” ë°©ë²•\nê°ì²´ ì¡°ë¦½ì´ ëë‚œ ë’¤ì—ëŠ” ì¡°ê°ë“¤ì€ ë”ì´ìƒ ì“¸ëª¨ê°€ ì—†ì–´ì§€ë¯€ë¡œ ì´ëŸ¬í•œ ì¡°ê°ì„ ì‚­ì œí•˜ì—¬ ì €ì¥ ìš©ëŸ‰ì„ í™•ë³´í•˜ëŠ” ì“°ë ˆê¸° ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤ë¥¼ êµ¬í˜„í•  í•„ìš”ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.\nì“°ë ˆê¸° ìˆ˜ì§‘ ì“°ë ˆê¸° ìˆ˜ì§‘(garbage collection)ì€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë°ì´í„°ì— í• ë‹¹ëœ ì €ì¥ ê³µê°„ì„ ìë™ìœ¼ë¡œ íšŒìˆ˜í•˜ëŠ” ì ˆì°¨ì´ë‹¤.\në³¸ ì‹œìŠ¤í…œì€ ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš° ì“°ë ˆê¸° ë°ì´í„°ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.\nê°ì²´ì˜ ì§€ì—°ëœ ì‚­ì œ(lazy object deletion) ì‚­ì œí–ˆë‹¤ê³  í‘œì‹œëŠ” í•˜ì§€ë§Œ ì‹¤ì œë¡œ ì§€ìš°ì§€ëŠ” ì•ŠëŠ”ë‹¤. ê°ˆ ê³³ ì—†ëŠ” ë°ì´í„°(orphaned data) ë°˜ì¯¤ ì—…ë¡œë“œëœ ë°ì´í„°, ë˜ëŠ” ì·¨ì†Œëœ ë©€í‹° íŒŒíŠ¸ ì—…ë¡œë“œ ë°ì´í„° í›¼ì†ëœ ë°ì´í„°(corrupted data) ì²´í¬ì„¬ ê²€ì‚¬ì— ì‹¤íŒ¨í•œ ë°ì´í„° ì“°ë ˆê¸° ìˆ˜ì§‘ê¸°ëŠ” ê°ì²´ë¥¼ ë°ì´í„° ì €ì¥ì†Œì— ë°”ë¡œ ì§€ìš°ì§€ ì•Šê³  ì •ë¦¬(compaction) ë©”ì»¤ë‹ˆì¦˜ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ì—¬ ì§€ìš´ë‹¤.\nì“°ë ˆê¸° ìˆ˜ì§‘ê¸°ëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì‚¬ë³¸ì— í• ë‹¹ëœ ì €ì¥ ê³µê°„ì„ íšŒìˆ˜í•˜ëŠ” ì—­í• ë„ ë‹´ë‹¹í•œë‹¤.\në°ì´í„°ë¥¼ ë‹¤ì¤‘í™”í•˜ëŠ” ê²½ìš° ê°ì²´ëŠ” ì£¼ ì €ì¥ì†Œ ë…¸ë“œì—ì„œ ë¿ ì•„ë‹ˆë¼ ë¶€ ì €ì¥ì†Œ ë…¸ë“œì—ì„œë„ ì§€ì›Œì•¼ í•œë‹¤. (8+2) ì†Œê±° ì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° 12ê°œ ë…¸ë“œì—ì„œ ì „ë¶€ ì§€ì›Œì•¼í•œë‹¤. ì“°ë ˆê¸° ìˆ˜ì§‘ê¸°ëŠ” /data/bì˜ ê°ì²´ë¥¼ /data/dë¡œ ë³µì‚¬í•œë‹¤. ëª¨ë“  ê°ì²´ë¥¼ ë³µì‚¬í•œ ë‹¤ìŒ object_mapping í…Œì´ë¸”ì„ ê°±ì‹ í•œë‹¤. ê°ì²´ 3ì˜ ê²½ìš° file_nameê³¼ start_offset ê°’ì€ ìƒˆ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ìˆ˜ì •ëœë‹¤. ë°ì´í„° ì¼ê´€ì„±ì„ ìœ„í•´ ê°™ì€ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤. ì •ë¦¬ í›„ ìƒˆ íŒŒì¼ì˜ í¬ê¸°ëŠ” ì¢…ì „ë³´ë‹¤ ì‘ë‹¤.\nì‘ì€ íŒŒì¼ì„ ë§ì´ ë§Œë“¤ì§€ ì•Šê¸° ìœ„í•´ ì“°ë ˆê¸° ìˆ˜ì§‘ê¸°ëŠ” ë³´í†µ ì••ì¶œí•  ì½ê¸° ì „ìš© íŒŒì¼ì´ ë§ì•„ì§ˆ ë•Œê°€ì§€ ê¸°ë‹¤ë¦¬ë©°, ì••ì¶•ì„ ì§„í–‰í•˜ë©´ì„œ ì—¬ëŸ¬ ì½ê¸° ì „ìš© íŒŒì¼ì— ê¸°ë¡ëœ ê°ì²´ë¥¼ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ëª¨ì€ë‹¤.\n4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ë¸”ë¡ ì €ì¥ì†Œ, íŒŒì¼ ì €ì¥ì†Œ, ê°ì²´ ì €ì¥ì†Œì˜ ì°¨ì´ ê°ì²´ ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ, ë²„í‚· ë‚´ ê°ì²´ ëª©ë¡ í‘œì‹œ, ê°ì²´ ë²„ì „ ë“±ì˜ ê¸°ëŠ¥ì˜ êµ¬í˜„ ë°ì´í„° ì €ì¥ì†Œì™€ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œ êµ¬í˜„ ë°ì´í„° ì €ì¥ì†Œì— ì–´ë–»ê²Œ ì˜ì†ì ìœ¼ë¡œ ì €ì¥ë˜ëŠ”ì§€ ë°ì´í„° ì•ˆì •ì„±ê³¼ ë‚´êµ¬ì„±ì„ ë†’ì´ëŠ” ë‘ ê°€ì§€ ë°©ì•ˆ(ë‹¤ì¤‘í™”, ì†Œê±° ì½”ë“œ) ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ ì“°ë ˆê¸° ìˆ˜ì§‘ ì¥ë²• ","date":"2024-11-03T19:14:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/9/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/9/","title":"9. S3ì™€ ìœ ì‚¬í•œ ê°ì²´ ì €ì¥ì†Œ"},{"content":"ì•ˆë…•í•˜ì„¸ìš”ğŸ˜ ì˜¤ëŠ˜ì€ ì œê°€ ìƒê°í•˜ëŠ” ORM(Object Relational Mapping)ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì— ëŒ€í•œ ê°œì¸ì ì¸ ìƒê°ì„ ì¨ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\nì €ëŠ” í˜„ì¬ ë¶€ìŠ¤íŠ¸ìº í”„ ì›¹ í’€ìŠ¤íƒ 9ê¸° ë©¤ë²„ì‹­ ê³¼ì •ì— ì°¸ì—¬ì¤‘ì¸ë°, í”¼ì–´ ì„¸ì…˜ì´ë¼ë˜ê°€ ìŠ¤í„°ë”” ê·¸ë£¹ì—ì„œ ë‹¤ë¥¸ ë¶„ë“¤ê³¼ ORMì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ í•  ì¼ì´ ë§ì•˜ì–´ìš”\nì´ì•¼ê¸° ë‚˜ëˆ´ë˜ ë¶„ë“¤ì´ ë§í•˜ëŠ” ORMì€ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì´ ëŒ€ë¶€ë¶„ì´ì—ˆìŠµë‹ˆë‹¤.\nORMì€ ì¿¼ë¦¬ ë¹Œë”ì²˜ëŸ¼ ì§ì ‘ SQLì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì£¼ëŠ” ë„êµ¬ì´ë‹¤. RDB í…Œì´ë¸”ì„ ê°ì²´ ì§€í–¥ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ë„êµ¬ì´ë‹¤. ì¼ê´€ëœ êµ¬ì¡°ë¥¼ í™œìš©í•˜ê¸° ë•Œë¬¸ì— ìœ ì§€ë³´ìˆ˜ê°€ í¸ë¦¬í•´ì§„ë‹¤. ìœ„ ì²˜ëŸ¼ ì œê°€ ì´ì•¼ê¸°ë‚˜ëˆ´ë˜ ë¶„ë“¤ì€ ëŒ€ë¶€ë¶„ í¸ì˜ì„±ì— ì´ˆì ì„ ë§ì¶”ì‹œëŠ” ê²ƒ ê°™ì•˜ì–´ìš”\nì¡°ê¸ˆ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ë³´ë©´ ORMì€ RDB í…Œì´ë¸”ì— ì €ì¥ëœ ë°ì´í„° ì¡°íšŒí•˜ì—¬ ì£¼ìš” ê´€ì‹¬ì‚¬ ë‹¨ìœ„ì¸ ì—”í‹°í‹° ê°ì²´ë¡œ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.\në‹¤ë¥¸ ë¶„ë“¤ì´ ë§ì”€í•´ì£¼ì…¨ë˜ ë‚´ìš© ëª¨ë‘ ë§ëŠ” ë§ ì…ë‹ˆë‹¤. ê·¸ëŸ°ë° ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë˜ ì¥ì ë“¤ì´ ORMì„ ì‚¬ìš©í•˜ëŠ” ë³¸ì§ˆì ì¸ ì´ìœ ì¼ê¹Œìš”?\nì´ëŠ” ì‚¬ì‹¤ ORMì„ ì‚¬ìš©í–ˆì„ ë•Œ ë¶€ê°€ì ìœ¼ë¡œ ë”°ë¼ì˜¤ëŠ” ì¥ì ì´ë©° ì €ëŠ” ì¡°ê¸ˆ ë” ê·¼ë³¸ì ì¸ ì´ìœ ê°€ ë°”ë¡œ ì•„í‚¤í…ì²˜ì— ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\nRDBMSì™€ ì•„í‚¤í…ì²˜ ë¨¼ì € ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ì— ì–´ë–¤ ì˜í–¥ì„ ì£¼ëŠ”ì§€ ì‚´í´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”\nì•„ì§ê¹Œì§€ë„ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì›¹ì„œë¹„ìŠ¤ì—ì„œ ê°€ì¥ ë§ì´ í™œìš©ë˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°ì´í„°ë¥¼ í‘œ(table) í˜•ì‹ìœ¼ë¡œ êµ¬ì„±í•˜ì—¬ ì €ì¥í•˜ê³ , ì—°ê´€ëœ ë°ì´í„°ëŠ” ê° í…Œì´ë¸”ì˜ ê´€ê³„ë¥¼ í†µí•´ ê´€ë¦¬í•  ìˆ˜ ìˆì£ \nì±… í´ë¦° ì•„í‚¤í…ì²˜ì—ì„œëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ëŠ” ì„¸ë¶€ì‚¬í•­ì— ì˜ì¡´í•˜ë©´ ìœ ì—°í•˜ì§€ ëª»í•œ ì•„í‚¤í…ì²˜ê°€ ëœë‹¤ëŠ” ê²ƒì„ í•­ìƒ ê°•ì¡°í•˜ê³  ìˆìŠµë‹ˆë‹¤.\në°ì´í„°ë² ì´ìŠ¤ëŠ” ì„¸ë¶€ì‚¬í•­ì´ë‹¤ ë‹¨ë½ì„ ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ë“¤ì´ ì–¸ê¸‰ë©ë‹ˆë‹¤.\nì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ë³¼ ë•Œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—”í‹°í‹°ê°€ ì•„ë‹ˆë‹¤.\në°ì´í„° ëª¨ë¸ê³¼ëŠ” ë‹¬ë¦¬ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì„¸ë¶€ì‚¬í•­ì´ë¼ ì•„í‚¤í…ì²˜ì˜ êµ¬ì„± ìš”ì†Œ ìˆ˜ì¤€ìœ¼ë¡œ ëŒì–´ì˜¬ë¦´ ìˆ˜ ì—†ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì¼ ë¿ì´ë©°, ë°ì´í„°ì— ì ‘ê·¼í•  ë°©ë²•ì„ ì œê³µí•˜ëŠ” ìœ í‹¸ë¦¬í‹°ë‹¤.\nê·¸ë¦¬ê³  ì•„í‚¤í…ì²˜ ê´€ì ì˜ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ ì¤‘ìš”í•˜ê²Œ ì–¸ê¸‰í•˜ëŠ”ë°ìš”, ì•„í‚¤í…ì²˜ ê´€ì ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„¤ëª…í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nì»´í¬ë„ŒíŠ¸ëŠ” ì‹œìŠ¤í…œì˜ êµ¬ì„± ìš”ì†Œë¡œ ë°°í¬í•  ìˆ˜ ìˆëŠ” ê°€ì¥ ì‘ì€ ë‹¨ìœ„ë‹¤.\n\u0026lt;ì¤‘ëµ\u0026hellip;\u0026gt;\nì»´í¬ë„ŒíŠ¸ê°€ ë§ˆì§€ë§‰ì— ì–´ë–¤ í˜•íƒœë¡œ ë°°í¬ë˜ë“ , ì˜ ì„¤ê³„ëœ ì»´í¬ë„ŒíŠ¸ë¼ë©´ ë°˜ë“œì‹œ ë…ë¦½ì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥í•œ, ë”°ë¼ì„œ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ ê°€ëŠ¥í•œ ëŠ¥ë ¥ì„ ê°–ì¶°ì•¼í•œë‹¤.\nì´ëŸ¬í•œ ì´ìœ  ë•Œë¬¸ì— Spring ê°™ì€ ê²½ìš°ëŠ” ë°ì´í„° ì €ì¥ì†Œì— ëŒ€í•œ ì¼ê´€ëœ ì²˜ë¦¬ ì¶”ìƒí™”í•œ Spring Dataë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ì œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ í´ë¦° ì•„í‚¤í…ì²˜ì—ì„œ ì–¸ê¸‰í–ˆë˜ ì»´í¬ë„ŒíŠ¸ ê·¸ë¦¬ê³  ì„¸ë¶€ì‚¬í•­ì„ ì¤‘ì‹¬ìœ¼ë¡œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ í™œìš©ì„ ë‹¤ì‹œ ìƒê°í•´ë³¼ê²Œìš”\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì™¸ë˜í‚¤ë¡œ í‘œí˜„ë˜ëŠ” ì˜ì¡´ ê´€ê³„ëŠ” ê° ë°ì´í„°ë² ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œ ì—”í‹°í‹°ê°„ ê²°í•©ì´ ë°œìƒí•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\nì´ ë•Œë¬¸ì— ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒ ìì²´ì™€ ì—”í‹°í‹°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬ë  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê²°í•©ì´ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê³ ì „ì ì¸ ì²˜ë¦¬ ë°©ì‹ ì¼ë‹¨ ORMì„ í™œìš©í•˜ì§€ ì•ŠëŠ” RDBë¥¼ ì‚¬ìš©í•˜ë˜ ë°©ì‹ì„ í™•ì¸í•´ë³´ë©´ ë„ì›€ì´ ë  ê²ƒ ê°™ì•„ìš”\nì´ì „ì—ëŠ” ë¬¼ë¦¬ì ì¸ ì œí•œìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì§€ì—°(ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ ë“±)ê³¼ ê³ ì „ì ì¸ SSR ê°™ì€ ì´ìœ ë¡œ í˜ì´ì§€ë‚˜ API ì—”ë“œí¬ì¸íŠ¸ ë³„ë¡œ í•˜ë‚˜ì˜ í° ì¿¼ë¦¬(í•œë°© ì¿¼ë¦¬ ë¼ê³ ë„ í•œë‹¤ê³  í•˜ë„¤ìš”)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì •ì„ì´ì—ˆìŠµë‹ˆë‹¤.\nê²Œì‹œê¸€, ëŒ“ê¸€ì„ ì˜ˆì‹œë¡œ í™•ì¸í•´ë³¼ê¹Œìš”?\nerDiagram User { int user_id PK string user_name } Post { int post_id PK int user_id FK string post_title string post_content } Reply { int reply_id PK int user_id FK int post_id FK string reply_content } User ||--o{ Post : \"\" User ||--o{ Reply : \"\" Post ||--o{ Reply : \"\" ìœ„ í…Œì´ë¸” êµ¬ì¡°ì—ì„œ ê³ ì „ì ì¸ SSRì„ ì´ìš©í•˜ì—¬ ê²Œì‹œê¸€ ìƒì„¸ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ë¥¼ ë Œë”ë§í•´ì•¼ í•œë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.\nê²Œì‹œê¸€ ì •ë³´ ê²Œì‹œê¸€ ì‘ì„±ì ì •ë³´ ëŒ“ê¸€ ì •ë³´ ëŒ“ê¸€ ì‘ì„±ì ì •ë³´ ê²Œì‹œê¸€ì— ë‹¬ë¦° ëŒ“ê¸€ ìˆ˜ ëŒ“ê¸€ í˜ì´ì§€ë„¤ì´ì…˜ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 SELECT p.post_id, p.post_title, p.post_content, u.user_name post_author, (SELECT COUNT(*) FROM reply WHERE post_id = :post_id) reply_count, r.reply_id, r.reply_content, ru.user_name reply_author FROM post p JOIN user u ON p.user_id = u.user_id LEFT JOIN reply r ON p.post_id = r.post_id LEFT JOIN user ru ON r.user_id = ru.user_id WHERE p.post_id = :post_id ORDER BY r.reply_id DESC LIMIT :limit OFFSET :offset ; ì•„ë§ˆ ìœ„ì™€ ê°™ì€ ì¿¼ë¦¬ë¡œ ëª¨ë“  ë°ì´í„°ë¥¼ ì¡°íšŒí•œ í›„ ì„œë¹„ìŠ¤ ë¡œì§ì—ì„œì˜ ì²˜ë¦¬ë¥¼ í†µí•´ HTMLì„ ê·¸ë ¤ì¤¬ì„ê±°ì—ìš”\në§Œì•½ ì¿¼ë¦¬ë¥¼ ë‚˜ëˆ„ê³  ì‹¶ë‹¤ë˜ê°€, Ajaxë¡œ ëŒ“ê¸€ ì •ë³´ë§Œ ë³„ë„ë¡œ ë¶ˆëŸ¬ì˜¨ë‹¤ë©´ reply í…Œì´ë¸”ì— ëŒ€í•œ ì¡°íšŒë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆì„ê²ë‹ˆë‹¤. ì•„ë˜ì²˜ëŸ¼ìš”!\n1 2 3 4 5 6 7 8 9 10 SELECT p.post_id, p.post_title, p.post_content, u.user_name author FROM post p JOIN user u ON p.user_id = u.user_id WHERE p.post_id = :post_id ; 1 2 3 4 5 6 7 8 9 10 11 12 13 SELECT (SELECT COUNT(*) FROM reply WHERE post_id = :post_id) reply_count r.reply_id, r.reply_content, ru.user_name reply_author FROM reply r JOIN user ru ON r.user_id = ru.user_id WHERE r.post_id = :post_id ORDER BY r.reply_id DESC LIMIT :limit OFFSET :offset ; ìœ„ ì˜ˆì‹œëŠ” ê°„ë‹¨í•œ í¸ ì´ì§€ë§Œ, ì‹¤ì œ ìš´ì˜ë˜ëŠ” ì„œë¹„ìŠ¤ëŠ” ë³µì¡í•˜ê³  ì—°ê´€ëœ ë°ì´í„°ê°€ í›¨ì”¬ ë§ê¸° ë•Œë¬¸ì— ë§ì€ ìˆ˜ì˜ í…Œì´ë¸”ì„ JOIN í•´ì•¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ì²˜ëŸ¼ ì´ì „ì—ëŠ” ì„œë²„ì™€ ë°ì´í„°ë² ì´ìŠ¤ê°„ í†µì‹  ì˜¤ë²„í—¤ë“œ, ì„œë²„ì˜ ì‘ë‹µ ì²˜ë¦¬ ë°©ì‹, ë¶„ì‚° ì²˜ë¦¬ì˜ ì—¬ëŸ¬ì›€(í•˜ë“œì›¨ì–´ ë¹„ìš©, ê¸°ìˆ  ë¶€ì¬) ë“±ìœ¼ë¡œ ì¸í•´ ì¿¼ë¦¬ë¥¼ ì‘ê²Œ ë‚˜ëˆ  ì¡°íšŒí•˜ëŠ” ê²ƒ ë³´ë‹¤ í•œë²ˆì— ì¡°íšŒí•˜ëŠ” ë°©ì‹ì´ ì„±ëŠ¥ì„ ìœ„í•´ ë” ì¢‹ì€ ë°©ì‹ìœ¼ë¡œ ì—¬ê²¨ì¡ŒìŠµë‹ˆë‹¤.\ní•œë²ˆì— ì¡°íšŒí•´ì•¼ í•  ë‹¨ìœ„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µí•´ì•¼ í•  ë°ì´í„° ì „ì²´ì´ë¯€ë¡œ, ì¿¼ë¦¬ ìì²´ë„ ì œê³µí•´ì•¼í•  ë·°ë‚˜ API ì‘ë‹µ ê²°ê³¼ì— ì¢…ì†ì ì´ ëœë‹¤ëŠ” ë¬¸ì œë„ ìˆì—ˆì–´ìš”\nìœ„ì™€ ê°™ì€ ê³ ì „ì ì¸ ë°©ì‹ì„ í™œìš©í•  ë•Œ, í…Œì´ë¸”ì— ì €ì¥ë˜ëŠ” ë°ì´í„°ê°€ ë„ˆë¬´ ì»¤ì ¸ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ê³  ì‹¶ë‹¤ë˜ê°€, NoSQLë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ê³  ì‹¶ë‹¤ë˜ê°€, MSAë¡œ ë³€ê²½í•˜ì—¬ ê°ê°ì„ ë…ë¦½ì ìœ¼ë¡œ ìš´ì˜í•´ì•¼í•œë‹¤ë©´ ì–´ë–¤ ë¬¸ì œê°€ ìˆì„ê¹Œìš”?\në§¤ìš° ê·€ì°®ê³  ë³µì¡í•œ ì¼ ì´ë¯€ë¡œ, ì„œë¹„ìŠ¤ì˜ ê·œëª¨ê°€ í¬ë‹¤ë©´ ì‘ì—…ì„ ì‹œì‘í•˜ê¸°ë„ ì–´ë ¤ìš¸ê²ë‹ˆë‹¤ğŸ¥²\nì²˜ë¦¬ ë°©ì‹ì˜ ë³€í™” ì‹œê°„ì´ íë¥´ë©´ì„œ í•˜ë“œì›¨ì–´, ì†Œí”„íŠ¸ì›¨ì–´ì˜ ë°œì „ê³¼ ë¹„ìš© ê°ì†Œ ë“± ì—¬ëŸ¬ ì´ìœ ë¡œ ìˆ˜í‰ í™•ì¥ì´ ì‰¬ì›Œì§€ê²Œ ë˜ì—ˆì–´ìš”\ní•„ìš”ì— ë”°ë¼ ì„œë²„ë¥¼ ë§ì´ ë°°í¬í•˜ëŠ” ê²ƒì´ ì–´ë ¤ìš´ ì¼ì´ ì•„ë‹ˆê²Œë˜ì—ˆê³ , ë°ì´í„°ë² ì´ìŠ¤ë„ ë§ì€ ìˆ˜ì˜ Read Replicaë¥¼ í™•ë³´í•´ì„œ ì¡°íšŒ ìš”ì²­ì— ëŒ€í•œ íŠ¸ë˜í”½ì— ë¹„êµì  ì‰½ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ìœ„ì—ì„œ ì‚´ì§ ë³´ì—¬ë“œë¦° ê²ƒ ì²˜ëŸ¼ ì»¤ë‹¤ë€ ì¿¼ë¦¬ë¥¼ ì‘ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì„±ëŠ¥ í–¥ìƒì— ë” ìœ ë¦¬í•˜ë‹¤ê³  ì—¬ê²¨ì§€ê²Œ ë˜ì—ˆì–´ìš” ì¿¼ë¦¬ íŠœë‹ë„ í›¨ì”¬ ì‰¬ì›Œì§‘ë‹ˆë‹¤\nì´ì „ê³¼ ë‹¬ë¦¬ ë‹¤ë¤„ì•¼í•˜ëŠ” ë°ì´í„°ì˜ ë²”ìœ„ì™€ í¬ê¸°ë„ ì‘ì•„ì¡Œê¸° ë•Œë¬¸ì— ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ë¹„êµì  ìš©ì´í•´ì¡Œê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ë“¤ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì—”í‹°í‹° ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì ê·¹ì ìœ¼ë¡œ ê³ ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ì—ì„œ ì—”í‹°í‹°(Entity)ëŠ” ë„ë©”ì¸ ëª¨ë¸ì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œë¡œ, ì‹œìŠ¤í…œì´ ë‹¤ë£¨ëŠ” ì¤‘ìš”í•œ ê°œì²´ í˜¹ì€ ê°œë…ì´ì—ìš”\nì¡°ê¸ˆ ë” ì„¤ëª…í•˜ë©´ ì‹œìŠ¤í…œì˜ ë„ë©”ì¸ì—ì„œ ê³ ìœ í•œ ì†ì„±ê³¼ í–‰ë™ì„ ê°€ì§„ ë°ì´í„° ë‹¨ìœ„ë¡œì„œ, ì‹œìŠ¤í…œì˜ ì£¼ì²´ê°€ë˜ê³  ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ê¸°ë³¸ ë‹¨ìœ„ì…ë‹ˆë‹¤.\nì•ì—ì„œ ì–¸ê¸‰í–ˆë˜ ì•„í‚¤í…ì²˜ ê´€ì ì˜ ì»´í¬ë„ŒíŠ¸ì˜ ë‹¨ìœ„ê°€ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nìœ„ ê·¸ë¦¼ì€ ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ì˜ ë°ì´í„° íë¦„ì„ í‘œí˜„í•œ ê²ƒ ì¸ë°, Business Layerì—ì„œ íŠ¹ì • ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì£¼ìš” ì†ì„±ì„ ë¬¶ì€ ë‹¨ìœ„(ê°ì²´ ë“±)ë¥¼ ì—”í‹°í‹°ë¼ê³  í‘œí˜„í•  ìˆ˜ ìˆì–´ìš”\nORMê³¼ ì•„í‚¤í…ì²˜ì˜ ê´€ê³„ ì—¬ê¸°ê¹Œì§€ ì“°ê³ ë‚˜ë‹ˆ ì¡°ê¸ˆ ëŒì•„ì˜¨ ê¸°ë¶„ì´ ë“œëŠ”êµ°ìš”ğŸ¤£ ê·¸ë˜ì„œ ORMê³¼ ì•„í‚¤í…ì²˜ê°€ ë¬´ìŠ¨ ê´€ê³„ëƒ?!\nìœ„ì—ì„œ ì–¸ê¸‰í–ˆë˜ ë‚´ìš©ì„ ë‹¤ì‹œ ì‚´í´ë³´ë©´ ORMì€ RDBì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ì—¬ ì—”í‹°í‹° ê°ì²´ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ì—­í• ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ì–´ìš”\nì´ ë•Œë¬¸ì— ORMì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì—”í‹°í‹°ë¥¼ ë¶„ë¦¬í•´ì•¼í•˜ê³ , ì´ëŠ” ê´€ì‹¬ì‚¬ì— ëŒ€í•œ ìˆ˜ì§ ë¶„í•´ê°€ ë˜ì—ˆë‹¤ëŠ” ì˜ë¯¸ì´ê¸°ë„ í•©ë‹ˆë‹¤.\në˜í•œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ì‚¬ì‹¤ì€ ë³€í•˜ì§€ ì•Šì•˜ì§€ë§Œ ì„¤ì • ê°’ìœ¼ë¡œ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ë¯€ë¡œ ì–´ëŠì •ë„ ìˆ˜í‰ ë¶„í•´ë¥¼ ìœ„í•œ ì¶”ìƒí™”ê°€ ë˜ì—ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆì–´ìš”\nì—¬ê¸°í•´ ë”í•´ ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ì˜ ì˜ˆì‹œì—ì„œ Persistence Layer ì—­í• ì„ í•˜ëŠ” ê³„ì¸µì„ ë¶„ë¦¬í–ˆë‹¤ë©´, ì¸í„°í˜ì´ìŠ¤ ë“±ì„ í†µí•´ ì˜ì¡´ì„± ì—­ì „ì„ í™œìš©í•˜ì—¬ ì™„ì „íˆ ë‹¤ë¥¸ ìœ í˜•ì˜ ë°ì´í„°ë² ì´ìŠ¤(ë˜ëŠ” API ì‘ë‹µ)ì— ëŒ€í•´ ê±°ì˜ ì™„ì „í•˜ê²Œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.\nì—°ê´€ ê´€ê³„ ë¶„ë¦¬ ì—°ê´€ ê´€ê³„ê°€ ìˆëŠ” í…Œì´ë¸”ë“¤ë„ ë§ˆì°¬ê°€ì§€ë¡œ ORMì„ ì‚¬ìš©í•˜ì—¬ ê´€ê³„ë¥¼ ê´€ë¦¬í•´ì£¼ê¸° ìœ„í•´ ë³„ë„ ì—”í‹°í‹°ë¡œ ë¶„ë¦¬í•´ì¤˜ì•¼í•©ë‹ˆë‹¤.\nê·¸ë ‡ê¸° ë•Œë¬¸ì— ìì—°ìŠ¤ëŸ½ê²Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œì˜ ê²°í•©ì´ ë‚®ì•„ì§€ê²Œ ë˜ì–´ìš”\në”°ë¼ì„œ ì™„ì „íˆ ë‹¤ë¥¸ ë°ì´í„° ì£¼ì²´ë¡œ ë³€ê²½ëœë‹¤ê³  í•˜ë”ë¼ë„ ì—°ê´€ ê´€ê³„ì— ìˆëŠ” ì—”í‹°í‹°ì— ë³€ê²½ ë‚´ì—­ì´ ë¹„êµì  ì ì–´ì§ˆ ê²ƒì„ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê²°ë¡  ê·¸ë˜ì„œ ì œê°€ í•˜ê³ ì‹¶ì—ˆë˜ ë§ì„ ì •ë¦¬í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nORMì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ì˜ ì£¼ìš” ê´€ì‹¬ì‚¬ì¸ ì—”í‹°í‹°ì— ëŒ€í•œ ë¶„ë¦¬ê°€ ì „ì œë˜ì–´ì•¼í•œë‹¤. ë°ì´í„°ë¥¼ ì¡°íšŒ ê³„ì¸µ ë¶„ë¦¬ë¥¼ í†µí•´ ì¶”ìƒí™”ë¥¼ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆê³ , ì´ë¥¼ í†µí•´ ì¡°íšŒ ì£¼ì²´ì— ëŒ€í•œ ì˜ì¡´ì„±ì´ ì—†ì–´ì§„ë‹¤. ê·¸ëŸ¬í•œ ì´ìœ ë¡œ ë…ë¦½ì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥í•œ ë‹¨ìœ„ì¸ ì•„í‚¤í…ì²˜ ê´€ì ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬ëœë‹¤. ORM ë°©ì‹ë„ ì—¬ëŸ¬ ë¬¸ì œê°€ ìˆì§€ë§Œ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ì¥ì ì´ ìˆê¸° ë•Œë¬¸ì— ê³„ì†í•´ì„œ í™œìš©ë˜ê³  ìˆëŠ” ê²ƒ ê°™ë‹¤. ì‚¬ì‹¤ ORMì„ ì‚¬ìš©í•´ì„œë¼ê¸°ë³´ë‹¤ëŠ” \u0026ldquo;ì¢‹ì€ ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ê°œë³„ ë°°í¬ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬ê°€ í•„ìš”í•œë°, ORMì´ ì´ëŸ¬í•œ ë°©í–¥ì„ ì¶”êµ¬í•˜ê³  ìˆê³ , ì–´ëŠì •ë„ ê°•ì œí•˜ê³  ìˆê¸° ë•Œë¬¸ì— ìì—°ìŠ¤ëŸ½ê²Œ ì¢‹ì€ ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“ ë‹¤.\u0026rdquo; ê°€ ì´ ê¸€ì˜ ê²°ë¡ ì´ê² ë„¤ìš”\nì¶”ê°€ë¡œ \u0026ldquo;ORM ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì´ëŸ¬í•œ ì•„í‚¤í…ì²˜ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ë„êµ¬ì¼ ë¿ì´ë‹¤.\u0026rdquo;, \u0026ldquo;ORMì„ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„(ì§ì ‘ êµ¬í˜„í•˜ë”ë¼ë„) ê´€ì‹¬ì‚¬ë¥¼ ì˜ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\u0026rdquo; ë¼ëŠ” ê±¸ ë§ì”€ ë“œë¦¬ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.\në‹¤ ì“°ê³  ë³´ë‹ˆ ì •ë§ ë§ì´ ëŒì•„ì™”ë„¤ìš”\u0026hellip; ì“´ê²Œ ì•„ê¹Œì›Œì„œ ì§€ìš°ì§„ ì•Šê² ìŠµë‹ˆë‹¤ğŸ¤£\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.\n","date":"2024-11-02T10:11:49+09:00","image":"https://codemario318.github.io/post/common/architect-orm/cover_hu4df64d5e24bcaccc3d64e54ad938fd06_127791_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/common/architect-orm/","title":"ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ORMì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ "},{"content":"4ì£¼ê°„ì˜ ë‘ ë²ˆì§¸ í•™ìŠµ ìŠ¤í”„ë¦°íŠ¸ë„ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ¥³\n2ì°¨ í•™ìŠµ ìŠ¤í”„ë¦°íŠ¸ëŠ” ì„¸ë¶€ íŠ¸ë™ì„ ì„ íƒí•˜ê³  ê·¸ì— ë”°ë¼ 1ì°¨ í•™ìŠµ ìŠ¤í”„ë¦°íŠ¸ë³´ë‹¤ ë” ììœ ë„ê°€ ë†’ì€ ë¯¸ì…˜ì´ ì£¼ì–´ì¡Œì–´ìš”(ì €ëŠ” ë°±ì—”ë“œë¡œ ì„ íƒí–ˆì–´ìš”!)\nê·¸ë¦¬ê³  ì˜¤í”„ë¼ì¸ í™œë™ê³¼ ì˜¨ë¼ì¸ í™œë™ì´ ë³‘í–‰ë˜ì–´ ìŠ¤í„°ë”” ê·¸ë£¹ì›ê³¼ ë§Œë‚˜ í•™ìŠµí•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.ë§›ìˆëŠ” ê²ƒë„ ë§ì´ ë¨¹ì—ˆì–´ìš”ğŸ˜‚\ní•™ìŠµ ê³¼ì •ì—ì„œ ìƒê°ë³´ë‹¤ ë§ì€ ë³€í™”ê°€ ìˆì—ˆë„¤ìš”! ì´ì „ê³¼ ë‹¬ëë˜ ë¶€ë¶„ë“¤ì„ ì¤‘ì ì ìœ¼ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nì˜¤í”„ë¼ì¸ í™œë™ ì²˜ìŒìœ¼ë¡œ ì˜¤í”„ë¼ì¸ í™œë™ì— ëŒ€í•´ì„œ ë§ì”€ë“œë¦¬ê³  ì‹¶ì–´ìš”\nì˜¤í”„ë¼ì¸ í™œë™ì€ ë¶€ìŠ¤íŠ¸ìº í”„ì—ì„œ êµìœ¡ì„ ë‹´ë‹¹í•˜ëŠ” ì½”ë“œ ìŠ¤ì¿¼ë“œ(ì–‘ì¬)ì™€ ìš´ì˜ì„ ë‹´ë‹¹í•˜ëŠ” ì»¤ë„¥íŠ¸ ì¬ë‹¨(ìˆ˜ë‚´)ì—ì„œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\nê°ê° ë§¤ì£¼ ì›”ìš”ì¼ ~ í™”ìš”ì¼, ìˆ˜ìš”ì¼ ~ ëª©ìš”ì¼ ë‘ ìœ í˜•ìœ¼ë¡œ ì£¼ì— 2ì¼ ì˜¤í”„ë¼ì¸ í™œë™ì´ ì§„í–‰ë˜ì—ˆì–´ìš”(ì½”ì–´ íƒ€ì„ì€ ì´ì „ê³¼ ë™ì¼í–ˆìŠµë‹ˆë‹¤.)\nê°€ëŠ¥í•œ ìœ„ì¹˜ì™€ ê¸°ê°„ì„ ì„ íƒí•˜ì—¬ ì‹ ì²­í•˜ë©´ ìš´ì˜ì§„ì´ ë°°ì •í•´ì£¼ëŠ” ë°©ì‹ì´ì—ˆëŠ”ë°, ëª¨ë“  ìœ„ì¹˜ì™€ ê¸°ê°„ì„ ì„ íƒí•œ ê²½ìš°ì—ëŠ” ì–‘ì¬, ìˆ˜ë‚´ ì„ì—¬ì„œ ë°°ì •ë˜ì‹  ë¶„ë“¤ë„ ê³„ì…¨ìŠµë‹ˆë‹¤.\nì € ê°™ì€ ê²½ìš° ì–‘ì¬ê°€ 1ì‹œê°„, ìˆ˜ë‚´ê°€ 1ì‹œê°„ 20ë¶„ ì •ë„ ê±¸ë ¤ì„œ ê³ ë¯¼í•˜ë‹¤ê°€ ëª¨ë“  ì„ íƒì§€ì— ì²´í¬í–ˆëŠ”ë°, ì²« 2ì£¼ëŠ” ì–‘ì¬ ìˆ˜~ëª© ë‘ë²ˆ ì§¸ 2ì£¼ëŠ” ì–‘ì¬ ì›”~í™”ì— ë°°ì •ëœ ê²ƒìœ¼ë¡œë³´ì•„ ê±°ë¦¬ë„ ì–´ëŠì •ë„ëŠ” ê³ ë ¤í•´ì£¼ì‹œëŠ” ê²ƒ ê°™ì•˜ì–´ìš”\në‚´ê°€ ë…¸ë ¥í•œ ë¶€ë¶„ ì˜¤í”„ë¼ì¸ í™œë™ì´ ì‚¬ì‘ë˜ë©´ì„œ ê·¸ë£¹ì›ë“¤ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ê°™ì´ ì†Œí†µí•  ìˆ˜ ìˆëŠ” ì‹œê°„ì´ ë§ì•„ì§ˆ ê²ƒì´ ë‹¹ì—°í–ˆìŠµë‹ˆë‹¤.\nì•„ë¬´ë˜ë„ ì˜¨ë¼ì¸ìœ¼ë¡œ ì§„í–‰í–ˆì„ ë•Œë³´ë‹¤ ì ê·¹ì ìœ¼ë¡œ ì˜ì‚¬ì†Œí†µ í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ì—ˆì–´ìš”\nì´ëŸ¬í•œ ì¥ì ì„ ë”ìš± ëŒì–´ì˜¬ë¦¬ê¸° ìœ„í•´ ê·¸ë£¹ì›ë“¤ê³¼ ì¹œë°€ê°ì„ ë†’íˆë ¤ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\nì„œë¡œ ì¹œí•´ì§€ë©´ ë” í¸í•˜ê²Œ ì§ˆë¬¸í•  ìˆ˜ ìˆê³ , ì¡°ê¸ˆ ë” ì§ì ‘ì ì¸ í”¼ë“œë°±ì„ ë“œë ¤ë„ ë¹„êµì  ê¸°ë¶„ë‚˜ì˜ì§€ ì•Šê²Œ ë°›ì•„ë“¤ì¼ ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ì—ìš”\nê·¸ë˜ì„œ ì œê°€ ì·¨ë¯¸ë¡œ í•˜ê³  ìˆëŠ” í•¸ë“œë“œë¦½ ì»¤í”¼ë¥¼ ê°™ì´ ë‚˜ëˆ  ë§ˆì‹œê¸°ë„ í•˜ê³ , ì‹ì‚¬ ì‹œê°„, ì‰¬ëŠ” ì‹œê°„ì— ì„œë¡œ ê°œì¸ì ì¸ ì´ì•¼ê¸°ì™€ ë†ë‹´ë“¤ì„ ë§ì´ í•˜ê¸°ë„ í–ˆê³ , ì˜¤í”„ë¼ì¸ í™œë™ì´ ëë‚˜ê³ ë„ ê°™ì´ ì €ë…ì„ ë¨¹ê±°ë‚˜ ê°„ë‹¨í•˜ê²Œ ë§¥ì£¼ í•œì” í•˜ë©´ì„œ ë§ì´ ì¹œí•´ì§ˆ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì½”ë“œ ìŠ¤ì¿¼ë“œ ì˜†ì— ìˆë˜ í”¼ìì§‘ì´ ì •ë§ ë§›ìˆì—ˆì–´ìš” ğŸ¤£ ì´ì™¸ì—ë„ ë‹¤ë¥¸ ê·¸ë£¹ì›ì´ í˜¼ìì„œ ê³ ë¯¼í•˜ëŠ” ëª¨ìŠµì´ ë³´ì¼ ë•Œ ë¨¼ì € ì–´ë ¤ìš´ ì ì„ ë¬¼ì–´ë³´ê³ , ì¼ë°˜ì ìœ¼ë¡œ ì¢‹ê²Œ ì—¬ê²¨ì§€ëŠ” ë°©ë²•ë“¤ì´ë‚˜ ì €ì˜ ê°œì¸ì ì¸ ì˜ê²¬ì„ ë“œë¦¬ë©° ìµœëŒ€í•œ ë„ì›€ì´ ë˜ë ¤ê³  ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\nì¥ì  í™•ì‹¤íˆ ì˜¨ë¼ì¸ìœ¼ë¡œ ì§„í–‰í•  ë•Œ ë³´ë‹¤ í›¨ì”¬ ë§ì€ ë„ì›€ì„ ë“œë¦´ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì¹œë°€ê°ì„ ë†’íˆë ¤ í–ˆë˜ ë…¸ë ¥ ë•ë¿ì¸ì§€ ì˜¤í”„ë¼ì¸ì´ë¼ëŠ” íŠ¹ì„± ë•Œë¬¸ì¸ì§€ ë¯¸ì…˜ì„ ìˆ˜í–‰í•  ë•Œ ì˜¨ë¼ì¸ìœ¼ë¡œ ì§„í–‰ë  ë•Œ ë³´ë‹¤ í›¨ì”¬ ë§ì€ ì§ˆë¬¸ë“¤ì„ ë°›ì„ ìˆ˜ ìˆì—ˆì–´ìš”\nê·¸ë¦¬ê³  í˜¼ì ê³ ë¯¼í•˜ì‹œëŠ” ëª¨ìŠµì´ ë³´ì¼ ë•Œ ë¨¼ì € ì–´ë–¤ ë¬¸ì œê°€ ìˆì—ˆëŠ”ì§€ ë¬¼ì–´ë³´ê³  ì˜ê²¬ì„ ë§ì”€ ë“œë¦¬ëŠ” ê³¼ì •ì´ ë°˜ë³µë˜ë©° ìì—°ìŠ¤ëŸ½ê²Œ ê·¸ë£¹ì›ë“¤ê°„ì˜ ì˜ê²¬ì„ ë‚˜ëˆ„ëŠ” ì‹œê°„ì´ ë§ˆë ¨ë˜ì—ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ í™˜ê²½ìœ¼ë¡œ ì¸í•´ í˜¼ì ê³ ë¯¼í•˜ëŠ” ì‹œê°„ì„ ë§ì´ ì“°ê¸° ë³´ë‹¤ëŠ” ì„œë¡œì˜ ì˜ê²¬ì„ ë¬¼ì–´ë³´ëŠ” í™˜ê²½ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì¡°ì„±ë˜ì–´ì„œ ë­”ê°€ ë¿Œë“¯í–ˆìŠµë‹ˆë‹¤ğŸ˜Š\në‹¨ì  ì˜¨ë¼ì¸ìœ¼ë¡œ ì§„í–‰ë  ë•Œë³´ë‹¤ëŠ” ì‹œê°„ì´ ë¶€ì¡±í–ˆë˜ ë¬¸ì œê°€ ê°€ì¥ í° ë‹¨ì ì´ì—ˆì–´ìš”\nì•„ë¬´ë˜ë„ ì € ê°™ì€ ê²½ìš°ëŠ” ì½”ë“œ ìŠ¤ì¿¼ë“œê¹Œì§€ 1ì‹œê°„ ì •ë„ ì†Œìš”ë˜ë‹¤ë³´ë‹ˆ, í”¼ë¡œë„ê°€ í™•ì‹¤íˆ ìˆì—ˆìŠµë‹ˆë‹¤.\nìš´ë™ì„ ë§ì´ ë¹¼ë¨¹ì—ˆë„¤ìš”ğŸ˜­ ì›ë˜ ì¼ê³¼ ì‹œì‘ ì „ 1ì‹œê°„ ì •ë„ë¥¼ ë‹¤ë¥¸ ê·¸ë£¹ì›ë“¤ì˜ ì½”ë“œë¥¼ ë¦¬ë·°í•˜ëŠ” ë£¨í‹´ì„ ì§€í‚¤ê¸° ìœ„í•´ ë” ë¹ ë¥´ê²Œ ì›€ì§ì—¬ì•¼ í–ˆì–´ìš”\nêµìœ¡ì¥ì´ 9ì‹œ 20ë¶„ ~ 9ì‹œ 30ë¶„ ì‚¬ì´ì— ì—´ë¦¬ë‹¤ë³´ë‹ˆ ì•„ë¬´ë˜ë„ ì½”ë“œ ë¦¬ë·°ì— ì‹œê°„ì„ ì¡°ê¸ˆ ëœ ì“¸ìˆ˜ë°–ì— ì—†ì—ˆë˜ ë¶€ë¶„ì´ ì¡°ê¸ˆ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤.\në¯¸ì…˜ ë¯¸ì…˜ì€ ìœ„ì—ì„œ ì‚´ì§ ì–¸ê¸‰í–ˆë˜ ê²ƒ ì²˜ëŸ¼ ì´ì „ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ì¡°ê¸ˆ ë” ì €ìˆ˜ì¤€ ê¹Œì§€ ì§ì ‘ êµ¬í˜„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.\nhttp, express ê°™ì€ ëª¨ë“ˆ ëŒ€ì‹  net ëª¨ë“ˆë¡œ ì§ì ‘ ì†Œì¼“ í”„ë¡œê·¸ë˜ë°ì„ í•´ì•¼í–ˆê³ , HTTP ìš”ì²­ì— ëŒ€í•œ ì²˜ë¦¬, ì •ì  ë¦¬ì†ŒìŠ¤ ì œê³µ ë“±ì„ ìœ„í•œ ì›¹ì„œë²„(Tomcat ê°™ì€), WASë¥¼ ì§ì ‘ êµ¬í˜„í•´ì•¼ í–ˆì–´ìš”\nì´ë¥¼ ìœ„í•´ HTTP ìš”ì²­ì— ëŒ€í•œ íŒŒì‹±ê³¼ ì—¬ëŸ¬ ë¯¸ë””ì–´ íƒ€ì… ì •ì  ë¦¬ì†ŒìŠ¤ ì œê³µ, ë¦¬ë‹¤ì´ë ‰íŠ¸ì™€ ê°™ì€ ì²˜ë¦¬, WASì˜ ì²˜ë¦¬ ê²°ê³¼(ë™ì  HTML)ë¥¼ í†µí•´ ì‘ë‹µì„ ë§Œë“¤ê¸° ìœ„í•´ì„œ HTTP ë¬¸ì„œì— ëŒ€í•œ ê¹Šì´ìˆëŠ” í•™ìŠµê³¼ ì´ë¥¼ í™œìš©í•˜ëŠ” ë¸Œë¼ìš°ì € ë™ì‘ê³¼ ê´€ë ¨ëœ í•™ìŠµë„ í•„ìˆ˜ì ì´ì—ˆìŠµë‹ˆë‹¤.\nì €ë„ ê¸°ì–µì´ ê°€ë¬¼ê°€ë¬¼í•œ ë‚´ìš©ë“¤ì´ ê½¤ ìˆì–´ì„œ ê·¸ë£¹ì›ë“¤ê³¼ ê°™ì´ í•™ìŠµí•˜ë©° ê¸°ì–µì„ ë³µê¸°í•˜ëŠ”ë° í° ë„ì›€ì´ ë˜ì—ˆë˜ ê²ƒ ê°™ë„¤ìš”\në§ˆìŠ¤í„° í´ë˜ìŠ¤ ë§ˆìŠ¤í„° í´ë˜ìŠ¤ë„ ì„ íƒí•œ ì„¸ë¶€ íŠ¸ë™ì— ë”°ë¼ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\në°±ì—”ë“œë¥¼ ì„ íƒí•œ ì €ëŠ” ë°±ì—”ë“œ ë§ˆìŠ¤í„°ì´ì‹  í˜¸ëˆ…ìŠ¤ë‹˜ì˜ ë§ˆìŠ¤í„° í´ë˜ìŠ¤ì— ì°¸ì—¬í•˜ì˜€ì–´ìš”\në§ˆìŠ¤í„° í´ë˜ìŠ¤ëŠ” ë¯¸ì…˜ êµ¬í˜„ì— ë„ì›€ì´ ë˜ëŠ” ë‚´ìš© ì¼ë¶€ì™€ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ë‚´ìš©ë“¤ì„ í•™ìŠµí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ì „ ì§ì¥ì—ì„œ ì‹¤ë¬´ë¥¼ í•  ë•ŒëŠ” ORMì´ë‚˜ ì¿¼ë¦¬ ë¹Œë”ë¥¼ ì´ìš©í•˜ì§€ ì•Šì•˜ì—ˆê¸° ë•Œë¬¸ì— ì§ì ‘ ì¿¼ë¦¬ë¥¼ ì§œì•¼ í–ˆê³ , ë°°ì¹˜ ë“±ì„ ì§ì ‘ êµ¬í˜„í•˜ë©´ì„œ ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ë§ì´ ë§Œë“¤ì–´ì•¼ í–ˆê¸° ë•Œë¬¸ì— ê°œì¸ì ì¸ í•™ìŠµë„ ê½¤ í•œ í¸ì´ë¼ê³  ìƒê°í•´ì„œ ì–´ëŠì •ë„ ìì‹ ì´ ìˆì—ˆëŠ”ë°ìš”\nMySQLì—ì„œ ë°ì´í„°ì˜ ë¬¼ë¦¬ì  ì €ì¥ êµ¬ì¡°, ë…¼ë¦¬ì  ì¡°ì¸ê³¼ ë¬¼ë¦¬ì  ì¡°ì¸, ì‹¤í–‰ ê³„íš ë“± ì—¬ëŸ¬ ë‚´ìš©ì„ ë“¤ìœ¼ë©° ê°œë…ë§Œ ì•Œê³  ìˆë˜ ë‚´ìš©ë“¤ì´ ë¨¸ë¦¬ì†ì—ì„œ ì •ë¦¬ë˜ëŠ” ëŠë‚Œì„ ë°›ì„ ìˆ˜ ìˆì–´ì„œ ì •ë§ ì¢‹ì•˜ìŠµë‹ˆë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ì „ë¬¸ê°€ì´ì‹  í˜¸ëˆ…ìŠ¤ë‹˜ì˜ ì´í•´í•˜ê¸° ì‰¬ìš°ë©´ì„œë„ ì „ë¬¸ì ì¸ ê°•ì˜ê°€ ì •ë§ í° ë„ì›€ì´ ë˜ì—ˆì–´ìš”!\në§ˆë¬´ë¦¬ 4ì£¼ ë™ì•ˆì˜ 2ì°¨ í•™ìŠµ ìŠ¤í”„ë¦°íŠ¸ë„ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤.\nì˜¤í”„ë¼ì¸ì´ ë³‘í–‰ë˜ì—ˆë‹¤ë³´ë‹ˆ ì‹œê°„ì´ ë” ë¹ ë¥´ê²Œ ì§€ë‚˜ê°€ëŠ” ëŠë‚Œì´ì—ˆë„¤ìš”\n1ì£¼ì˜ ì¸í„°ë¯¸ì…˜ì´ ì§€ë‚˜ë©´ 6ì£¼ê°„ì˜ íŒ€ í”„ë¡œì íŠ¸ê°€ ì‹œì‘ë©ë‹ˆë‹¤.\nì´ì „ ê¸°ìˆ˜ë“¤ê³¼ ë‹¬ë¦¬ ì´ë²ˆì—ëŠ” íŠ¹ì • ì£¼ì œë¥¼ ìˆœìœ„ë³„ë¡œ ì„ íƒí•˜ê³  ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ íŒ€ì›ë“¤ì´ ë¶„ì•¼ë³„ ëœë¤ ë§¤ì¹­ìœ¼ë¡œ ì§„í–‰ëœë‹¤ê³ í•´ìš”\nì°¸ê³ ë¡œ ì €ëŠ” ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\nê°™ì´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  íŒ€ì› ë¶„ë“¤ì´ ë²Œì¨ ê¸°ëŒ€ê°€ ë˜ë„¤ìš”. ê¸€ì€ ì—¬ê¸°ì„œ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. â˜ºï¸\n","date":"2024-10-27T09:29:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/membership/5/cover_hud9fb725339af3a8bae61969a7c0c823b_45611_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/membership/5/","title":"ë©¤ë²„ì‹­ 2ì°¨ í•™ìŠµ ìŠ¤í”„ë¦°íŠ¸ íšŒê³ "},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” ì§€ë©”ì¼, ì•„ì›ƒë£© ê°™ì€ ëŒ€ê·œëª¨ ì´ë©”ì¼ ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í•´ë³¸ë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • í˜„ëŒ€ì  ì´ë©”ì¼ ì„œë¹„ìŠ¤ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ê°–ì¶˜ ë³µì¡í•œ ì‹œìŠ¤í…œìœ¼ë¡œ ë°œì „í–ˆë‹¤. ë”°ë¼ì„œ ì§§ì€ì‹œê°„ì— ì„¤ê³„ëŠ” ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ì§ˆë¬¸ì„ í†µí•´ ì„¤ê³„ ë²”ìœ„ë¥¼ ì¢í˜€ì•¼í•œë‹¤.\nì¸ì¦ ì´ë©”ì¼ ë°œì†¡/ìˆ˜ì‹  ëª¨ë“  ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸° ì½ìŒ ì—¬ë¶€ì— ë”°ë¥¸ ì´ë©”ì¼ í•„í„°ë§ ì œëª©, ë°œì‹ ì¸, ë©”ì¼ ë‚´ìš©ì— ë”°ë¥¸ ê²€ìƒ‰ ê¸°ëŠ¥ ìŠ¤íŒ¸ ë° ë°”ì´ëŸ¬ìŠ¤ ë°©ì§€ ê¸°ëŠ¥ í”„ë¡œí† ì½œ SMTP, POP, IMAP ë“±ê³¼ ê°™ì€ ì„œë¹„ìŠ¤ ì œê³µì ì „ìš© í”„ë¡œí† ì½œì´ ìˆìœ¼ë‚˜ HTTP ì‚¬ìš©í•œë‹¤ê³  ê°€ì • ì²¨ë¶€íŒŒì¼ ì§€ì› ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­ ì•ˆì •ì„± ì´ë©”ì¼ ë°ì´í„°ëŠ” ì†Œì‹¤ë˜ì–´ì„  ì•ˆëœë‹¤. ê°€ìš©ì„± ì´ë©”ì¼ê³¼ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë…¸ë“œì— ìë™ìœ¼ë¡œ ë³µì œí•˜ì—¬ ê°€ìš©ì„±ì„ ë³´ì¥í•´ì•¼í•œë‹¤. ë¶€ë¶„ì ìœ¼ë¡œ ì¥ì• ê°€ ë°œìƒí•´ë„ ì‹œìŠ¤í…œì€ ê³„ì† ë™ì‘í•´ì•¼ í•œë‹¤. í™•ì •ì„± ì‚¬ìš©ì ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ë”ë¼ë„ ê°ë‹¹í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì‚¬ìš©ìë‚˜ ì´ë©”ì¼ì´ ë§ì•„ì ¸ë„ ì‹œìŠ¤í…œ ì„±ëŠ¥ì€ ì €í•˜ë˜ì§€ ì•Šì•„ì•¼ í•œë‹¤. ìœ ì—°ì„±ê³¼ í™•ì¥ì„± ìƒˆ ì»´í¬ë„ŒíŠ¸ë¥¼ ë”í•˜ì—¬ ì‰½ê²Œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³  ì„±ëŠ¥ì„ ê°œì„ í•  ìˆ˜ ìˆëŠ” ìœ ì—°í•˜ê³  í™•ì¥ì„± ë†’ì€ ì‹œìŠ¤í…œì´ì–´ì•¼ í•œë‹¤. POPë‚˜ IMAP ê°™ì€ ê¸°ì¡´ ì´ë©”ì¼ í”„ë¡œí† ì½œì€ ê¸°ëŠ¥ì´ ë§¤ìš° ì œí•œì ì´ë¯€ë¡œ, ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ê¸° ìœ„í•´ ë§ì¶¤í˜• í”„ë¡œí† ì½œì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤. ê°œëµì ì¸ ê·œëª¨ ì¶”ì • 10ì–µ ì‚¬ìš©ì í•œ ì‚¬ëŒì´ í•˜ë£¨ì— ë³´ë‚´ëŠ” í‰ê·  ì´ë©”ì¼ ìˆ˜ëŠ” 10ê±´ ê°€ì • QPS = 10^9 * 10 / 10^5 = 100,000 í•œ ì‚¬ëŒì´ í•˜ë£¨ì— ìˆ˜ì‹ í•˜ëŠ” ì´ë©”ì¼ ìˆ˜ëŠ” í‰ê·  40ê±´ ê°€ì • ë©”ì¼ í•˜ë‚˜ì˜ ë©”íƒ€ë°ì´í„°ëŠ” í‰ê·  50KBë¡œ ê°€ì •(ì²¨ë¶€íŒŒì¼ X) ë©”íƒ€ë°ì´í„°ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤ê³  ê°€ì • 1ë…„ê°„ ë©”íƒ€ë°ì´í„°ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•œ ìŠ¤í† ë¦¬ì§€ ìš”êµ¬ì‚¬í•­ì€ 10ì–µ ì‚¬ìš©ì * í•˜ë£¨ 40ê±´ * 365ì¼ * 50KB = 730PB ì²¨ë¶€ íŒŒì¼ì„ í¬í•¨í•˜ëŠ” ì´ë©”ì¼ì˜ ë¹„ìœ¨ì€ 20%, í‰ê·  í¬ê¸°ëŠ” 50KB ê°€ì • 1ë…„ê°„ ì²¨ë¶€ íŒŒì¼ì„ ë³´ê´€í•˜ëŠ” ë° í•„ìš”í•œ ì €ì¥ ìš©ëŸ‰ì€ 10ì–µ ì‚¬ìš©ì * í•˜ë£¨ 40ê±´ * 365 * 20% * 500KB = 1,460PB ë§ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•´ì•¼í•˜ë¯€ë¡œ ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ ì†”ë£¨ì…˜ì´ í•„ìš”í•˜ë‹¤.\n2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ì´ë©”ì¼ ì„œë²„ì— ëŒ€í•´ ì•Œì•„ì•¼ í•  ê¸°ë³¸ì ì¸ ì‚¬í•­ê³¼ ë”ë¶ˆì–´ ì„œë²„ê°€ ì‹œê°„ì´ íë¦„ì— ë”°ë¼ ì–´ë–»ê²Œ ì§„í™”í•˜ëŠ”ì§€ ë…¼ì˜í•œë‹¤.\nê·¸ í›„ ë¶„ì‚° ì´ë©”ì¼ ì„œë²„ì˜ ê°œëµì ì¸ ì„¤ê³„ì•ˆì„ ì‚´í´ë³¸ë‹¤.\nì´ë©”ì¼ 101 ì´ë©”ì¼ì„ ì£¼ê³ ë°›ëŠ” í”„ë¡œí† ì½œì—ëŠ” ëŒ€ë¶€ë¶„ POP, IMAP, SMTP ê°™ì€ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•´ì™”ë‹¤.\nì´ë©”ì¼ í”„ë¡œí† ì½œ SMTP(Simple Mail Transfer Protocol) ì´ë©”ì¼ì„ í•œ ì„œë²„ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ë³´ë‚´ëŠ” í‘œì¤€ í”„ë¡œí† ì½œ POP(Post Office Protocol) ì´ë©”ì¼ì„ ê°€ì ¸ì˜¤ëŠ” ëª©ì ìœ¼ë¡œ ë„ë¦¬ ì‚¬ìš© ì´ë©”ì¼ í´ë¼ì´ì–¸íŠ¸ê°€ ì›ê²© ë©”ì¼ ì„œë²„ì—ì„œ ì´ë©”ì¼ì„ ìˆ˜ì‹ í•˜ê³  ë‹¤ìš´ë¡œë“œí•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” í‘œì¤€ í”„ë¡œí† ì½œ ë‹¨ë§ë¡œ ë‹¤ìš´ë¡œë“œëœ ì´ë©”ì¼ì€ ì„œë²„ì—ì„œ ì‚­ì œ ê²°ê³¼ì ìœ¼ë¡œ í•œ ëŒ€ ë‹¨ë§ì—ì„œë§Œ ì´ë©”ì¼ì„ ì½ì„ ìˆ˜ ìˆìŒ ì´ë©”ì¼ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ì „ë¶€ ë‚´ë ¤ë°›ì•„ì•¼ í•¨ ìš©ëŸ‰ì´ í° ì²¨ë¶€ íŒŒì¼ì´ ë¶™ì€ ì´ë©”ì¼ì€ ì½ìœ¼ë ¤ë©´ ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¼ IMAP(Internet Mail Access Protocol) ì´ë©”ì¼ì„ ê°€ì ¸ì˜¤ëŠ” ëª©ì ìœ¼ë¡œ ë„ë¦¬ ì‚¬ìš© POPê³¼ ë‹¬ë¦¬ í´ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ë©”ì‹œì§€ëŠ” ë‹¤ìš´ë¡œë“œ ë˜ì§€ ì•Šìœ¼ë©°, ë©”ì¼ ì„œë²„ì—ì„œ ì§€ì›Œì§€ì§€ë„ ì•ŠìŒ ì—¬ëŸ¬ ë‹¨ë§ì—ì„œ ì´ë©”ì¼ì„ ì½ì„ ìˆ˜ ìˆìŒ ê°œì¸ ì´ë©”ì¼ ê³„ì •ì—ì„œ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” í”„ë¡œí† ì½œ ì´ë©”ì¼ì„ ì‹¤ì œë¡œ ì—´ê¸° ì „ì—ëŠ” í—¤ë”ë§Œ ë‹¤ìš´ë¡œë“œ ì¸í„°ë„· ì†ë„ê°€ ëŠë ¤ë„ ì˜ ë™ì‘í•¨ HTTPS ë©”ì¼ ì „ì†¡ í”„ë¡œí† ì½œì€ ì•„ë‹ˆì§€ë§Œ ì›¹ ê¸°ë°˜ ì´ë©”ì¼ ì‹œìŠ¤í…œì˜ ë©”ì¼í•¨ ì ‘ì†ì— ì´ìš©ë  ìˆ˜ ìˆìŒ ex) ì•„ì›ƒë£©ì˜ ì•¡í‹°ë¸Œ ì‹±í¬ DNS - ë„ë©”ì¸ ì´ë¦„ ì„œë¹„ìŠ¤ ìˆ˜ì‹ ì ë„ë©”ì¸ì˜ ë©”ì¼ êµí™˜ê¸° ë ˆì½”ë“œ(Mail Exchange, MX) ê²€ìƒ‰ì— ì´ìš©ëœë‹¤.\nìˆ«ìëŠ” ìš°ì„ ìˆœìœ„ ê°’ìœ¼ë¡œ ì„ í˜¸ë„ë¥¼ ë‚˜íƒ€ë‚´ì–´ ê°’ì´ ë‚®ìœ¼ë©´ ë†’ì€ ìš°ì„ ìˆœìœ„ë¡œ ì²˜ë¦¬ë¨ ì²¨ë¶€ íŒŒì¼ ì²¨ë¶€ íŒŒì¼ì€ ì´ë©”ì¼ ë©”ì‹œì§€ì™€ í•¨ê»˜ ì „ì†¡ë˜ë©° ì¼ë°˜ì ìœ¼ë¡œ Base64 ì¸ì½”ë”©ì„ í™œìš©í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì²¨ë¶€ íŒŒì¼ì—ëŠ” í¬ê¸° ì œí•œì´ ìˆê³ , ì„¤ì • ê°€ëŠ¥í•œ ìˆ˜ì¹˜ë¡œ, ê°œì¸ ê³„ì •ì´ëƒ ê¸°ì—… ê³„ì •ì´ëƒì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì„¤ì •ëœë‹¤.(í•„ìš”í•œ ë§Œí¼ ì•Œì•„ì„œ ì„¤ì •í•œë‹¤)\nì•„ì›ƒë£© 20MB, ì§€ë©”ì¼ 25MB MIME( Multi-purpose Internet Mail Extension)\nì¸í„°ë„·ì„ í†µí•´ ì²¨ë¶€ íŒŒì¼ì„ ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í‘œì¤€ ê·œê²©\nì „í†µì  ë©”ì¼ ì„œë²„ ë¶„ì‚° ë©”ì¼ ì„œë²„ì— ì•Œì•„ë³´ê¸° ì „ ê¸°ì¡´ ë©”ì¼ ì„œë²„ì˜ ì—­ì‚¬ì™€ ë™ì‘ ë°©ì‹ì— ëŒ€í•´ ì‚´í´ë³¸ë‹¤.\nì „í†µì ì¸ ë©”ì¼ ì„œë²„ëŠ” ë³´í†µ ì„œë²„ í•œ ëŒ€ë¡œ ìš´ìš©ë˜ëŠ”, ì‚¬ìš©ìê°€ ë§ì§€ ì•Šì„ ë•Œ ì˜ ë™ì‘í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.\nì „í†µì  ë©”ì¼ ì„œë²„ ì•„í‚¤í…ì²˜\në³´ë‚´ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë©”ì¼ ì„œë²„ë¡œ ì „ì†¡ëœë‹¤.(SMTP) ë©”ì¼ ì„œë²„ëŠ” DNS ì§ˆì˜ë¥¼ í†µí•´ ìˆ˜ì‹  SMTP ì„œë²„ë¥¼ ì°¾ê³  í•´ë‹¹ ì„œë²„ë¡œ ì´ë©”ì¼ì„ ë³´ë‚¸ë‹¤(SMTP) ë©”ì¼ì„ ìˆ˜ì‹ í•œ ì„œë²„ëŠ” ì´ë©”ì¼ì„ ì €ì¥í•˜ê³  ìˆ˜ì‹ ìê°€ ì½ì–´ê°ˆ ìˆ˜ ìˆë„ë¡ í•œë‹¤. ìˆ˜ì‹ ìê°€ ë¡œê·¸ì¸í•˜ë©´ IMAP/POP ì„œë²„ë¥¼ í†µí•´ ìƒˆ ì´ë©”ì¼ì„ ê°€ì ¸ì˜¨ë‹¤. ì €ì¥ì†Œ\nì „í†µì  ë©”ì¼ ì„œë²„ëŠ” ì´ë©”ì¼ì„ íŒŒì¼ ì‹œìŠ¤í…œì˜ ë””ë ‰í„°ë¦¬ì— ì €ì¥í•œë‹¤.\nê°ê°ì˜ ì´ë©”ì¼ì€ ê³ ìœ í•œ ì´ë¦„ì„ ê°€ì§„ ë³„ë„ íŒŒì¼ë¡œ ë³´ê´€ë„ë©°, ê° ì‚¬ìš©ìì˜ ì„¤ì • ë°ì´í„°ì™€ ë©”ì¼í•¨ì€ ì‚¬ìš©ì ë””ë ‰í„°ë¦¬ì— ë³´ê´€í•œë‹¤.\nì´ëŸ¬í•œ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ë¥¼ Maildir ì´ë¼ê³  í•¨ íŒŒì¼ê³¼ ë””ë ‰í„°ë¦¬ë¥¼ í™œìš©í•˜ëŠ” ë°©ì•ˆì€ ì‚¬ìš©ìê°€ ë§ì§€ ì•Šì„ ë•ŒëŠ” ì˜ ë™ì‘í•˜ë‚˜ ë””ìŠ¤í¬ I/Oë¡œ ì¸í•œ ë³‘ëª©ìœ¼ë¡œ ì¸í•´ ìˆ˜ì‹­ì–µ ê°œì˜ ì´ë©”ì¼ì„ ê²€ìƒ‰í•˜ê³  ë°±ì—…í•˜ëŠ” ëª©ì ìœ¼ë¡œ í™œìš©í•˜ê¸°ì—ëŠ” ê³¤ë€í–ˆë‹¤.\nê·¸ë¦¬ê³  ì´ë©”ì¼ì„ ì„œë²„ì˜ íŒŒì¼ ì‹œìŠ¤í…œì— ë³´ê´€í•˜ì˜€ê¸° ë•Œë¬¸ì— ê°€ìš©ì„±ê³¼ ì•ˆì •ì„± ìš”êµ¬ì‚¬í•­ë„ ë§Œì¡±í•  ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸ì— ë” ì•ˆì •ì ì¸ ë¶„ì‚° ë°ì´í„° ì €ì¥ì†Œ ê³„ì¸µì´ í•„ìš”í–ˆë‹¤.\në””ìŠ¤í¬ ì†ìƒ, ì„œë²„ ì¥ì•  ë“± ì´ë©”ì¼ ê¸°ëŠ¥ì€ 1960ë…„ëŒ€ì— ë°œëª…ëœ ì´ë˜ë¡œ í…ìŠ¤íŠ¸ ì¤‘ì‹¬ì—ì„œ ë©€í‹°ë¯¸ë””ì–´, ë©”ì¼ ìŠ¤ë ˆë“œ, ê²€ìƒ‰, ë ˆì´ë¸” ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì§€ì›í•˜ë„ë¡ ë°œì „í•´ ì™”ì§€ë§Œ, POP, IMAP, SMTP ê°™ì€ ì´ë©”ì¼ í”„ë¡œí† ì½œì€ ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ ì§€ì›í•˜ë„ë¡ ì„¤ê³„ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— í™•ì¥í•  ìˆ˜ ì—†ì—ˆë‹¤.\në¶„ì‚° ë©”ì¼ ì„œë²„ ë¶„ì‚° ë©”ì¼ ì„œë²„ëŠ” í˜„ëŒ€ì  ì‚¬ìš© íŒ¨í„´ì„ ì§€ì›í•˜ê³  í™•ì¥ì„±ê³¼ ì•ˆì •ì„± ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.\nì´ë©”ì¼ API ì´ë©”ì¼ APIì˜ ì˜ë¯¸ëŠ” ë©”ì¼ í´ë¼ì´ì–¸íŠ¸, ì´ë©”ì¼ ìƒëª…ì£¼ê¸° ë‹¨ê³„ë§ˆë‹¤ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\nëª¨ë°”ì¼ ë‹¨ë§ í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ SMTP/POP/IMAP API ì†¡ì‹  ì¸¡ ë©”ì¼ ì„œë²„ì™€ ìˆ˜ì‹  ì¸¡ ë©”ì¼ ì„œë²„ ê°„ì˜ SMTP í†µì‹  ëŒ€í™”í˜• ì›¹ ê¸°ë°˜ ì´ë©”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ HTTP ê¸°ë°˜ RESTful API ì´ ì±…ì—ì„œëŠ” ê°€ì¥ ì¤‘ìš”í•œ APIë§Œ ë‹¤ë£¨ë©°, ì›¹ë©”ì¼ í†µì‹ ì—ëŠ” ì¼ë°˜ì ìœ¼ë¡œ HTTP í”„ë¡œí† ì½œì´ ì“°ì¸ë‹¤.\nPOST /v1/messages\nTo, Tc, Bcc í—¤ë”ì— ëª…ì‹œëœ ìˆ˜ì‹ ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•œë‹¤.\nGET /v1/folders\nì£¼ì–´ì§„ ì´ë©”ì¼ ê³„ì •ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  í´ë”ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 [{ \u0026#34;id\u0026#34;: string, \u0026#34;name\u0026#34;: string, \u0026#34;user_id\u0026#34;: string }] GET /v1/folders/{:folder_id}/messages\nì£¼ì–´ì§„ í´ë” ì•„ë˜ì˜ ëª¨ë“  ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•œë‹¤.\në‹¨ìˆœí™”í•œ ëª…ì„¸ë¡œ í˜ì´ì§€ë„¤ì´ì…˜ì„ ì§€ì›í•´ì•¼ í•˜ëŠ” ë“± í›¨ì”¬ ë³µì¡í•  ìˆ˜ ìˆë‹¤. GET /v1/messages/{:message_id}\nì£¼ì–´ì§„ íŠ¹ì • ë©”ì‹œì§€ì— ëŒ€í•œ ëª¨ë“  ì •ë³´ë¥¼ ë°˜í™˜í•œë‹¤.\në©”ì‹œì§€ëŠ” ì´ë©”ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œì´ë‹¤.\në°œì‹ ì, ìˆ˜ì‹ ì, ë©”ì‹œì§€ ì œëª©, ë³¸ë¬¸, ì²¨ë¶€ íŒŒì¼ ë“±ì˜ ì •ë³´ë¡œ êµ¬ì„± ë¶„ì‚° ë©”ì¼ ì„œë²„ ì•„í‚¤í…ì²˜ ì „í†µì ì¸ ì´ë©”ì¼ ì„œë²„ê°€ ë‹¨ì¼ ì¥ë¹„ ìœ„ì—ì„œë§Œ ë™ì‘í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì— í•œ ëŒ€ ì´ìƒì˜ ì„œë²„ë¡œ ê·œëª¨ë¥¼ ëŠ˜ë¦¬ëŠ” ê²ƒì€ ê¹Œë‹¤ë¡­ë‹¤.\nì—¬ëŸ¬ ì„œë²„ ì‚¬ì´ì— ë°ì´í„°ë¥¼ ë™ê¸°í™”í•˜ëŠ” ê²ƒì€ ì–´ë ¤ìš´ ì‘ì—…ì´ë‹¤. ìˆ˜ì‹ ì ë©”ì¼ ì„œë²„ì—ì„œ ì´ë©”ì¼ì´ ìŠ¤íŒ¸ìœ¼ë¡œ ì˜ëª» ë¶„ë¥˜ë˜ì§€ ì•Šë„ë¡ í•˜ë ¤ë©´ ê¹Œë‹¤ë¡œìš´ ë¬¸ì œë“¤ì„ í’€ì–´ì•¼í•œë‹¤. ì´ë²ˆ ì ˆì—ì„œëŠ” í´ë¼ìš°ë“œ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì‰½ê²Œ í‘¸ëŠ” ë°©ë²•ì„ ì•Œì•„ë³¸ë‹¤.\nì›¹ë©”ì¼ ì‚¬ìš©ìëŠ” ì›¹ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•´ ë©”ì¼ì„ ë°›ê³  ë³´ëƒ„ ì›¹ì„œë²„ ì‚¬ìš©ìê°€ ì´ìš©í•˜ëŠ” ìš”ì²­/ì‘ë‹µ ì„œë¹„ìŠ¤ë¡œ, ë¡œê·¸ì¸, ê°€ì…, ì‚¬ìš©ì í”„ë¡œíŒŒì¼ ë“±ì— ëŒ€í•œ ê´€ë¦¬ ê¸°ëŠ¥ì„ ë‹´ë‹¹ ë³¸ ì„¤ê³„ì•ˆì—ì„œëŠ” ì´ë©”ì¼ ë°œì†¡, í´ë” ëª©ë¡ í™•ì¸, í´ë” ë‚´ ëª¨ë“  ë©”ì‹œì§€ í™•ì¸ ë“± ì‹¤ì‹œê°„ ì„œë²„ ìƒˆë¡œìš´ ì´ë©”ì¼ ë‚´ì—­ì„ í´ë¼ì´ì–¸íŠ¸ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ì „ë‹¬í•œë‹¤. ì§€ì†ì„± ì—°ê²°ì„ ë§ºê³  ìœ ì§€í•´ì•¼í•˜ë¯€ë¡œ ìƒíƒœ ìœ ì§€ ì„œë²„ë‹¤. ë¡±í´ë§, ì›¹ì†Œì¼“ ë“± ì›¹ì†Œì¼“ì´ ì¢€ ë” ìš°ì•„í•˜ì§€ë§Œ ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì›¹ ì†Œì¼“ì„ ì“°ë˜ ì—¬ì˜ì¹˜ ì•Šìœ¼ë©´ ë¡± í´ë§ì„ ë°±ì—…ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆë‹¤. ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ì´ë©”ì¼ ì œëª©, ë³¸ë¬¸, ë°œì‹ ì¸, ìˆ˜ì‹ ì¸ ëª©ë¡ ë“± ë©”íƒ€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì²¨ë¶€ íŒŒì¼ ì €ì¥ì†Œ ì•„ë§ˆì¡´ S3(Simple Storage Service) ê°™ì€ ê°ì²´ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤. ì´ë¯¸ì§€ë‚˜ ë™ì˜ìƒ ë“±ì˜ ëŒ€ìš©ëŸ‰ íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ë° ì í•©í•˜ê³  í™•ì¥ì´ ìš©ì´í•œ ì¸í”„ë¼ì´ë‹¤. ì²¨ë¶€íŒŒì¼ í¬ê¸°ëŠ” 25MBë¡œ ì œí•œí•œë‹¤. ë¶„ì‚° ìºì‹œ ìµœê·¼ì— ìˆ˜ì‹ ëœ ì´ë©”ì¼ì€ ìì£¼ ì½ì„ ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ í•˜ì—¬ê¸ˆ ë©”ëª¨ë¦¬ì— ìºì‹œí•´ ë‘ë„ë¡ í•˜ë©´ ë©”ì¼ì„ í‘œì‹œí•˜ëŠ” ì‹œê°„ì„ ë§ì´ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë ˆë””ìŠ¤ ë¦¬ìŠ¤íŠ¸ì™€ ê°™ì€ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³ , ê·œëª¨ í™•ì¥ì´ ìš©ì´í•˜ë‹¤. ê²€ìƒ‰ ì €ì¥ì†Œ ê²€ìƒ‰ ì €ì¥ì†ŒëŠ” ë¶„ì‚° ë¬¸ì„œ ì €ì¥ì†Œì´ë‹¤. ê³ ì† í…ìŠ¤íŠ¸ ê²€ìƒ‰ì„ ì§€ì›í•˜ëŠ” ì—­ ì¸ë±ìŠ¤ë¥¼ ìë£Œ êµ¬ì¡°ë¡œ ì‚¬ìš©í•œë‹¤. ì¹´ì‚°ë“œë¼ê°€ ì²¨ë¶€ íŒŒì¼ ì €ì¥ì†Œë¡œ ì í•©í•˜ì§€ ì•Šì€ ì´ìœ \nì¹´ì‚°ë“œë¼ê°€ BLOB ìë£Œí˜•ì„ ì§€ì›í•˜ê³  í•´ë‹¹ ìë£Œí˜•ì´ ì§€ì›í•˜ëŠ” ë°ì´í„°ì˜ ìµœëŒ€ í¬ê¸°ê°€ 2GBì´ê¸´ í•˜ì§€ë§Œ ì‹¤ì§ˆì ìœ¼ë¡œëŠ” 1MB ì´ìƒì˜ íŒŒì¼ì€ ì§€ì›í•˜ì§€ ëª»í•œë‹¤. ì¹´ì‚°ë“œë¼ì— ì²¨ë¶€ íŒŒì¼ì„ ì €ì¥í•˜ë©´ ì²¨ë¶€ íŒŒì¼ì´ ë„ˆë¬´ ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ê²Œë˜ì–´ ë ˆì½”ë“œ ìºì‹œë¥¼ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤. ì´ë©”ì¼ ì „ì†¡ ì ˆì°¨ ì‚¬ìš©ìê°€ ì›¹ì—ì„œ ë©”ì¼ì„ ì •ì†¡í•˜ë©´ ìš”ì²­ì€ ë¡œë“œë°¸ëŸ°ì„œë¡œ ì „ì†¡ëœë‹¤. ë¡œë“œë²¨ëŸ°ì„œê°€ ì²˜ë¦¬ìœ¨ ì œí•œ í•œë„ë¥¼ ë„˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ ìš”ì²­ì„ ì›¹ ì„œë²„ë¡œ ì „ë‹¬í•œë‹¤. ì›¹ ì„œë²„ëŠ” ë‹¤ìŒ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤. ê¸°ë³¸ì ì¸ ì´ë©”ì¼ ê²€ì¦ ì´ë©”ì¼ í¬ê¸° í•œë„ ê°™ì€ ì‚¬ì „ ë¯¸ë¦¬ ì •ì˜ëœ ê·œì¹™ì„ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì‹ ëœ ì´ë©”ì¼ì„ ê²€ì‚¬í•œë‹¤. ìˆ˜ì‹ ì ì´ë©”ì¼ ì£¼ì†Œ ë„ë©”ì¸ì´ ì†¡ì‹ ì ì´ë©”ì¼ ì£¼ì†Œ ë„ë©”ì¸ê³¼ ê°™ì€ì§€ ê²€ì‚¬ ì´ë©”ì¼ ë‚´ìš©ì˜ ìŠ¤íŒ¸ ì—¬ë¶€ì™€ ë°”ì´ëŸ¬ìŠ¤ ê°ì—¼ ì—¬ë¶€ë¥¼ ê²€ì‚¬ ê²€ì‚¬ë¥¼ í†µê³¼í•œ ì´ë©”ì¼ì€ ì†¡ì‹ ì¸ì˜ ë³´ë‚¸ í¸ì§€í•¨ê³¼ ìˆ˜ì‹ ì¸ì˜ ë°›ì€ í¸ì§€í•¨ì— ì €ì¥ ìˆ˜ì‹ ì¸ ì¸¡ í´ë¼ì´ì–¸íŠ¸ëŠ” RESTful APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë©”ì¼ì„ ë°”ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì–´ 4ë‹¨ê³„ ì´í›„ëŠ” ìˆ˜í–‰í•  í•„ìš”ê°€ ì—†ë‹¤. ë©”ì‹œì§€ í ê¸°ë³¸ì ì¸ ê²€ì¦ì„ í†µê³¼í•œ ì´ë©”ì¼ì€ ì™¸ë¶€ ì „ì†¡ íë¡œ ì „ë‹¬ëœë‹¤. ì²¨ë¶€ íŒŒì¼ì˜ í¬ê¸°ê°€ ë„ˆë¬´ í° ì´ë©”ì¼ì˜ ê²½ìš° ì²¨ë¶€ íŒŒì¼ì„ ê°ì²´ ì €ì¥ì†Œì— ë”°ë¡œ ì €ì¥í•˜ê³  í•´ë‹¹ ì €ì¥ ìœ„ì¹˜ì— ëŒ€í•œ ì°¸ì¡° ì •ë³´ë§Œ ì €ì¥í•œë‹¤. ê¸°ë³¸ì ì¸ ê²€ì¦ì— ì‹¤íŒ¨í•œ ì´ë©”ì¼ì€ ì—ëŸ¬ íì— ë³´ê´€í•œë‹¤. ì™¸ë¶€ ì „ì†¡ ë‹´ë‹¹ SMTP ì‘ì—„ í”„ë¡œì„¸ìŠ¤ëŠ” ì™¸ë¶€ ì „ì†¡ íì—ì„œ ë©”ì‹œì§€ë¥¼ êº¼ë‚´ì–´ ì´ë©”ì¼ì˜ ìŠ¤íŒ¸ ë° ë°”ì´ëŸ¬ìŠ¤ ê°ì—¼ ì—¬ë¶€ë¥¼ í™•ì¸í•œë‹¤. ê²€ì¦ ì ˆì°¨ë¥¼ í†µê³¼í•œ ì´ë©”ì¼ì€ ì €ì¥ì†Œ ê³„ì¸µ ë‚´ì˜ ë³´ë‚¸ í¸ì§€í•¨ì— ì €ì¥ëœë‹¤. ì™¸ë¶€ ì „ì†¡ ë‹´ë‹¹ SMTP ì‘ì—… í”„ë¡œì„¸ìŠ¤ê°€ ìˆ˜ì‹ ìì˜ ë©”ì¼ ì„œë²„ë¡œ ë©”ì¼ì„ ì „ì†¡í•œë‹¤. ì™¸ë¶€ ì „ì†¡ íì— ë³´ê´€ë˜ëŠ” ëª¨ë“  ë©”ì‹œì§€ì—ëŠ” ì´ë©”ì¼ì„ ìƒì„±í•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  ë©”íƒ€ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.\në¶„ì‚° ë©”ì‹œì§€ íëŠ” ë¹„ë™ê¸°ì  ë©”ì¼ ì²˜ë¦¬ë¥¼ ê°€ëŠ¥ì¼€ í•˜ëŠ” í•µì‹¬ì  ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\nì›¹ ì„œë²„ì—ì„œ ì™¸ë¶€ ì „ì†¡ ë‹´ë‹¹ SMTP í”„ë¡œì„¸ìŠ¤ë¥¼ ë¶„ë¦¬í•¨ìœ¼ë¡œ ì „ì†¡ìš© SMTP í”„ë¡œì„¸ìŠ¤ì˜ ê·œëª¨ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì™¸ë¶€ ì „ì†¡ íì˜ í¬ê¸°ë¥¼ ëª¨ë‹ˆí„°ë§ í•  ë•Œ ë©”ì¼ì´ ì²˜ë¦¬ë˜ì§€ ì•Šê³  íì— ì˜¤ë«ë™ì•ˆ ë‚¨ì•„ ìˆìœ¼ë©´ ê·¸ ì´ìœ ë¥¼ ë¶„ì„í•´ì•¼í•œë‹¤.\nìˆ˜ì‹ ì ì¸¡ ë©”ì¼ ì„œë²„ì— ì¥ì•  ë°œìƒ ë‚˜ì¤‘ì— ë©”ì¼ì„ ë‹¤ì‹œ ì „ì†¡í•´ì•¼ í•œë‹¤. ex) ì§€ìˆ˜ì  ë°±ì˜¤í”„(Exponential Backoff) ì´ë©”ì¼ì„ ë³´ë‚¼ íì˜ ì†Œë¹„ì ìˆ˜ê°€ ë¶ˆì¶©ë¶„ ë” ë§ì€ ì†Œë¹„ìë¥¼ ì¶”ê°€í•˜ì—¬ ì²˜ë¦¬ ì‹œê°„ì„ ë‹¨ì¶•í•˜ëŠ” ë°©ë²•ì„ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤. ì´ë©”ì¼ ìˆ˜ì‹  ì ˆì°¨ ì´ë©”ì¼ì´ SMTP ë¡œë“œë°¸ëŸ°ì„œì— ë„ì°© íŠ¸ë˜í”½ì„ ì—¬ëŸ¬ SMTP ì„œë²„ë¡œ ë¶„ì‚° SMTP ì—°ê²°ì—ëŠ” ì´ë©”ì¼ ìˆ˜ë½ ì •ì±…ì„ êµ¬ì„±í•˜ì—¬ ì ìš© ê°€ëŠ¥ ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ì€ ë°©ì†¡í•˜ë„ë¡ í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì´ë©”ì¼ ì²˜ë¦¬ë¥¼ í”¼í•  ìˆ˜ ìˆìŒ ì´ë©”ì¼ì˜ ì²¨ë¶€ íŒŒì¼ì´ íì— ë“¤ì–´ê°€ê¸° ë„ˆë¬´ í° ê²½ìš° ì²¨ë¶€ íŒŒì¼ ì €ì¥ì†Œ(S3)ì— ë³´ê´€ ì´ë©”ì¼ì„ ìˆ˜ì‹  ì´ë©”ì¼ íì— ë„£ëŠ”ë‹¤ ë©”ì¼ ì²˜ë¦¬ ì‘ì—… í”„ë¡œì„¸ìŠ¤ì™€ SMTP ê°„ ê²°í•©ë„ë¥¼ ë‚®ì¶”ì–´ ê°ì ë…ë¦½ì ìœ¼ë¡œ ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•˜ë„ë¡ í•¨ ìˆ˜ì‹  ì´ë©”ì¼ì´ í­ì¦í•˜ëŠ” ê²½ìš° ë²„í¼ ì—­í• ë„ í•˜ê²Œë¨ ë©”ì¼ ì²˜ë¦¬ ì‘ì—… í”„ë¡œì„¸ìŠ¤(worker)ëŠ” ìŠ¤íŒ¸ ë©”ì¼ì„ ê±¸ëŸ¬ë‚´ê³  ë°”ì´ëŸ¬ìŠ¤ë¥¼ ì°¨ë‹¨í•˜ëŠ” ë“±ì˜ ë‹¤ì–‘í•œ ì—­í•  ë‹´ë‹¹ ì´í›„ ì²˜ë¦¬ëŠ” ê²€ì¦ ì‘ì—…ì´ ëë‚œ ì´ë©”ì¼ì„ ëŒ€ìƒìœ¼ë¡œ ì²˜ë¦¬ ì´ë©”ì¼ì„ ë©”ì¼ ì €ì¥ì†Œ, ìºì‹œ, ê°ì²´ ì €ì¥ì†Œ ë“±ì— ë³´ê´€ ìˆ˜ì‹ ìê°€ ì˜¨ë¼ì¸ ìƒíƒœì¼ ê²½ìš° ì‹¤ì‹œê°„ ì„œë²„ë¡œ ì „ë‹¬ ì‹¤ì‹œê°„ ì„œë²„ëŠ” ìˆ˜ì‹ ì í´ë¼ì´ì–¸íŠ¸ê°€ ìƒˆ ì´ë©”ì¼ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì›¹ì†Œì¼“ ì„œë²„ ì˜¤í”„ë¼ì¸ ìƒíƒœ ì‚¬ìš©ìì˜ ì´ë©”ì¼ì€ ì €ì¥ì†Œ ê³„ì¸µì— ë³´ê´€ ì˜¨ë¼ì¸ ìƒíƒœê°€ ë˜ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ì›¹ ì„œë²„ì— RESTful APIë¥¼ í†µí•´ ì—´ê²°ë¨ ìƒˆë¡œìš´ ì´ë©”ì¼ì„ ì €ì¥ì†Œ ê³„ì¸µì—ì„œ ê°€ì ¸ì™€ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜ 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ëª‡ ê°€ì§€ í•µì‹¬ ìš”ì†Œì— ëŒ€í•´ ë” ìì„¸íˆ ì•Œì•„ë³´ê³  ê·œëª¨ í™•ì¥ ë°©ì•ˆì„ ì ê²€í•œë‹¤.\në©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ì´ë©”ì¼ ë©”íƒ€ë°ì´í„°ì˜ íŠ¹ì„±ì„ ì•Œì•„ë³´ê³  ì˜¬ë°”ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë°ì´í„° ëª¨ë¸ì„ ê³ ë¥´ëŠ” ë¬¸ì œ, ì´ë©”ì¼ ìŠ¤ë ˆë“œ ì§€ì› ë°©ì•ˆì— ëŒ€í•´ ì•Œì•„ë³¸ë‹¤.\nì´ë©”ì¼ ë©”íƒ€ë°ì´í„°ì˜ íŠ¹ì„± ì´ë©”ì¼ì˜ í—¤ë”ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‘ê³ , ë¹ˆë²ˆí•˜ê²Œ ì´ìš© ì´ë©”ì¼ ë³¸ë¬¸ì˜ í¬ê¸°ëŠ” ë‹¤ì–‘í•˜ì§€ë§Œ ì‚¬ìš© ë¹ˆë„ëŠ” ë‚®ìŒ ì¼ë°˜ì ìœ¼ë¡œ í•œ ë²ˆë§Œ ì½ìŒ ì´ë©”ì¼ ê°€ì ¸ì˜¤ê¸°, ì½ì€ ë©”ì¼ë¡œ í‘œì‹œ, ê²€ìƒ‰ ë“±ì˜ ì´ë©”ì¼ ê´€ë ¨ ì‘ì—…ì€ ì‚¬ìš©ì ë³„ë¡œ ê²©ë¦¬ ìˆ˜í–‰ë˜ì–´ì•¼í•¨ ì–´ë–¤ ì‚¬ìš©ìì˜ ì´ë©”ì¼ì€ í•´ë‹¹ ì‚¬ìš©ìë§Œ ì½ì„ ìˆ˜ ìˆì–´ì•¼í•¨ ì´ë©”ì¼ì— ëŒ€í•œ ì‘ì—…ë„ ê·¸ ì‚¬ìš©ìë§Œì´ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´ì•¼í•¨ ë°ì´í„° ì‹ ì„ ë„ëŠ” ë°ì´í„° ì‚¬ìš© íŒ¨í„´ì— ì˜í–¥ì„ ë¯¸ì¹¨ ì‚¬ìš©ìëŠ” ë³´í†µ ìµœê·¼ ë©”ì¼ë§Œ ì½ìŒ ë§Œë“¤ì–´ì§„ ì§€ 16ì¼ ì´í•˜ì— ë°œìƒí•˜ëŠ” ì½ê¸° ì§ˆì˜ ë¹„ìœ¨ì€ ì „ì²´ ì§ˆì˜ì˜ 82%ì— ë‹¬í•¨ ë°ì´í„°ì˜ ë†’ì€ ì•ˆì •ì„±ì´ ë³´ì¥ë˜ì–´ì•¼ í•¨ ë°ì´í„° ì†ì‹¤ì€ ìš©ë‚©ë˜ì§€ ì•ŠìŒ ì˜¬ë°”ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì„ ì • ì§€ë©”ì¼ì´ë‚˜ ì•„ì›ƒë£© ì •ë„ì˜ ê·œëª¨ê°€ ë˜ë©´ ì‹œìŠ¤í…œì˜ ë¶€í•˜ë¡œ ì¸í•´, ì´ˆë‹¹ ì…/ì¶œë ¥ ì—°ì‚° ë¹ˆë„(Input/Output Operations Per Second, IOPS)ë¥¼ ë‚®ì¶”ê¸° ìœ„í•œ ë§ì¶¤ ì œì¥ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.\nì˜¬ë°”ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒì€ ì‰½ì§€ ì•Šì€ë°, ê°€ëŠ¥í•œ ëª¨ë“  ì„ íƒì§€ë¥¼ ë¯¸ë¦¬ ì‚´í´ë³´ë©´ ë„ì›€ì´ ëœë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê³ ë¥´ëŠ” ì£¼ëœ ë™ê¸°ëŠ” ì´ë©”ì¼ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì  ë•Œë¬¸ì´ë‹¤.\nì´ë©”ì¼ í—¤ë”ì™€ ë³¸ë¬¸ì— ëŒ€í•œ ì¸ë±ìŠ¤ë¥¼ ë§Œë“¤ë©´ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°ì´í„° í¬ê¸°ê°€ ì‘ì„ ë•Œ ì í•©í•˜ë‹¤.\nì´ë©”ì¼ì€ ìˆ˜ KBë³´ë‹¤ í¬ê³  HTMLì´ í¬í•¨ë˜ë©´ ì‰½ê²Œ 100KBë¥¼ ë„˜ì–´ê°„ë‹¤. BLOB ìë£Œí˜•ì„ ì“°ë©´ í° ì´ë©”ì¼ë„ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë‚˜, ë¹„ì •í˜• BLOBì— ëŒ€í•œ ê²€ìƒ‰ ì§ˆì˜ ì„±ëŠ¥ì€ ì¢‹ì§€ ì•Šë‹¤. BLOBì´ ê³ ì •ëœ í¬ê¸° í˜ì´ì§€ë¥¼ ì—°ê²°í•˜ì—¬ í° ë°ì´í„°ë¥¼ ì €ì¥í•˜ë„ë¡ í•˜ê³  ìˆì–´ í•´ë‹¹ ì»¬ëŸ¼ì˜ ë°ì´í„°ë¥¼ ì ‘ê·¼í•  ë•Œë§ˆë‹¤ ë§ì€ ë””ìŠ¤í¬ I/Oê°€ ë°œìƒí•œë‹¤ ë”°ë¼ì„œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°”ëŒì§í•˜ì§€ ì•Šë‹¤.\në¶„ì‚° ê°ì²´ ì €ì¥ì†Œ\nì´ë©”ì¼ì˜ ì›ì‹œ ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ ì•„ë§ˆì¡´ S3 ê°™ì€ ê°ì²´ ì €ì¥ì†Œì— ë³´ê´€í•˜ëŠ” ë°©ë²•ë„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ê°ì²´ ì €ì¥ì†ŒëŠ” ë°±ì—… ë°ì´í„°ë¥¼ ë³´ê´€í•˜ê¸°ì—ëŠ” ì¢‹ì§€ë§Œ ì´ë©”ì¼ì˜ ì½ìŒ í‘œì‹œ, í‚¤ì›Œë“œ ê²€ìƒ‰, ì´ë©”ì¼ ìŠ¤ë ˆë“œ ë“œì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸°ì— ê·¸ë‹¤ì§€ ì¢‹ì§€ ì•Šë‹¤.\nNoSQL ë°ì´í„°ë² ì´ìŠ¤\nì§€ë©”ì¼ì€ êµ¬ê¸€ ë¹…í…Œì´ë¸”ì„ ì €ì¥ì†Œë¡œ ì‚¬ìš©í•˜ëŠ”ë° ì¶©ë¶„íˆ ì‹¤í˜„ ê°€ëŠ¥í•œ ë°©ì•ˆì´ë‹¤.\ní•˜ì§€ë§Œ ë¹…í…Œì´ë¸”ì€ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê³µê°œë˜ì–´ ìˆì§€ ì•Šê³  ì´ë©”ì¼ ê²€ìƒ‰ì„ ë¹…í…Œì´ë¸” ìœ„ì—ì„œ ì–´ë–»ê²Œ êµ¬í˜„í–ˆëŠ”ì§€ëŠ” ê³µê°œë˜ì–´ìˆì§€ì•Šë‹¤.\nì¹´ì‚°ë“œë¼ê°€ ì¢‹ì€ ëŒ€ì•ˆì´ ë  ìˆ˜ë„ ìˆì§€ë§Œ ëŒ€í˜• ì´ë©”ì¼ ì„œë¹„ìŠ¤ ì œê³µ ì—…ì²´ ê°€ìš´ë° ì¹´ì‚°ë“œë¼ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì€ ì•„ì§ í™•ì¸ëœ ë°”ê°€ ì—†ë‹¤.\nìœ„ í›„ë³´ë“¤ì„ ë´¤ì„ ë•Œ ë³¸ ì„¤ê³„ì•ˆì´ í•„ìš”ë¡œ í•˜ëŠ” ê¸°ëŠ¥ì„ ì™„ë²½íˆ ì§€ì›í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—†ë‹¤ê³  ë´ë„ ì¢‹ì„ ê²ƒ ê°™ë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ëŒ€í˜• ì´ë©”ì¼ ì„œë²„ìŠ¤ ì—…ì²´ëŠ” ëŒ€ì²´ë¡œ ë…ìì ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ ì‚¬ìš©í•œë‹¤.\nì´ëŸ¬í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ê³„í•˜ê¸°ì—” ì‹œê°„ì´ ë¶€ì¡±í•˜ë¯€ë¡œ, í•´ë‹¹ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë˜ì™€ ê°™ì€ ì¡°ê±´ì„ ì¶©ì¡±í•´ì•¼ í•œë‹¤ëŠ” ì ì„ ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.\nì–´ë–¤ ë‹¨ì¼ ì»¬ëŸ¼ì˜ í¬ê¸°ëŠ” í•œ ìë¦¬ìˆ˜ì˜ MB ì •ë„ì¼ ìˆ˜ ìˆë‹¤. ê°•ë ¥í•œ ë°ì´í„° ì¼ê´€ì„±ì´ ë³´ì¥ë˜ì–´ì•¼ í•œë‹¤. ë””ìŠ¤í¬ I/Oê°€ ìµœì†Œí™”ë˜ë„ë¡ ì„¤ê³„ë˜ì–´ì•¼ í•œë‹¤. ê°€ìš©ì„±ì´ ì•„ì£¼ ë†’ì•„ì•¼ í•˜ê³  ì¼ë¶€ ì¥ì• ë¥¼ ê°ë‚´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì¦ë¶„ ë°±ì—…(incremental backup)ì´ ì‰¬ì›Œì•¼ í•œë‹¤. ë°ì´í„° ëª¨ë¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•ì€ user_idë¥¼ íŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ íŠ¹ì •í•œ ì‚¬ìš©ìì˜ ë°ì´í„°ëŠ” í•­ìƒ ê°™ì€ ìƒ¤ë“œì— ë³´ê´€í•˜ëŠ” ê²ƒì´ë‹¤.\në©”ì‹œì§€ë¥¼ ì—¬ëŸ¬ ì‚¬ìš©ìì™€ ê³µìœ í•  ìˆ˜ ì—†ì§€ë§Œ ìš”êµ¬ì‚¬í•­ê³¼ëŠ” ê´€ê³„ ì—†ë‹¤. ê¸°ë³¸ í‚¤ëŠ” íŒŒí‹°ì…˜ í‚¤(partition key)ì™€ í´ëŸ¬ìŠ¤í„° í‚¤(clustering key)ì˜ ë‘ ê°€ì§€ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.\níŒŒí‹°ì…˜ í‚¤ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë…¸ë“œì— ë¶„ì‚°í•˜ëŠ” ê¸°ì¤€ ë°ì´í„°ê°€ ëª¨ë“  ë…¸ë“œì— ê· ë“±í•˜ê²Œ ë¶„ì‚°ë˜ë„ë¡ í•˜ëŠ” íŒŒí‹°ì…˜ í‚¤ë¥¼ ê³¨ë¼ì•¼í•¨ í´ëŸ¬ìŠ¤í„° í‚¤ íŒŒí‹°ì…˜ì— ì†í•œ ë°ì´í„°ë¥¼ ì •ë ¬í•˜ëŠ” ê¸°ì¤€ ê°œëµì ìœ¼ë¡œ ì´ë©”ì¼ ì„œë¹„ìŠ¤ì˜ ë°ì´í„° ê³„ì¸µì€ ë‹¤ìŒê³¼ ê°™ì€ ì§ˆì˜ë¥¼ ì§€ì›í•´ì•¼ í•œë‹¤.\nì£¼ì–´ì§„ ì‚¬ìš©ìì˜ ëª¨ë“  í´ë”ë¥¼ êµ¬í•œë‹¤. íŠ¹ì • í´ë” ë‚´ì˜ ëª¨ë“  ì´ë©”ì¼ì„ í‘œì‹œí•œë‹¤. ë©”ì¼ì„ ìƒì„±, ì‚­ì œ, ì¡°íšŒí•œë‹¤. ì½ì€ ë©”ì¼ ì „ë¶€, ë˜ëŠ” ì½ì§€ ì•Šì€ ë©”ì¼ ì „ë¶€ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì´ë©”ì¼ ìŠ¤ë ˆë“œë¥¼ ì „ë¶€ ê°€ì ¸ì˜¨ë‹¤. ì§ˆì˜ 1: íŠ¹ì • ì‚¬ìš©ìì˜ ëª¨ë“  í´ë” ì§ˆì˜\níŒŒí‹°ì…˜ í‚¤ëŠ” user_idë‹¤. ë”°ë¼ì„œ ì–´ë–¤ ì‚¬ìš©ìì˜ ëª¨ë“  í´ë”ëŠ” ê°™ì€ íŒŒí‹°ì…˜ ì•ˆì— ìˆë‹¤.\nì§ˆì˜ 2: íŠ¹ì • í´ë”ì— ì†í•œ ëª¨ë“  ì´ë©”ì¼ í‘œì‹œ\nì‚¬ìš©ìê°€ ìê¸° ë©”ì¼ í´ë”ë¥¼ ì—´ë©´ ì´ë©”ì¼ì€ ê°€ì¥ ìµœê·¼ ì´ë©”ì¼ë¶€í„° ì˜¤ë˜ëœ ê²ƒ ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ í‘œì‹œëœë‹¤.\nê°™ì€ í´ë”ì— ì†í•œ ëª¨ë“  ì´ë©”ì¼ì´ ê°™ì€ íŒŒí‹°ì…˜ì— ì†í•˜ë„ë¡ í•˜ë ¤ë©´ \u0026lt;user_id, foler_id\u0026gt; í˜•íƒœì˜ ë³µí•© íŒŒí‹°ì…˜ í‚¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nemail_idì˜ ìë£Œí˜•ì€ TIMEUUIDë¡œ ì´ë©”ì¼ì„ ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í´ëŸ¬ìŠ¤í„° í‚¤ë‹¤.\nì§ˆì˜ 3: ì´ë©”ì¼ ìƒì„±/ì‚­ì œ/ìˆ˜ì‹ \nì´ë©”ì¼ ìƒì„¸ ì •ë¡œë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì„ ì‚´í´ë³¸ë‹¤.\n1 SELECT * FROM emails_by_user WHERE email_id = 123; ì´ ì§ˆì˜ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ë‘ í…Œì´ë¸”ì´ í•„ìš”í•˜ë‹¤.\ní•œ ì´ë©”ì¼ì—ëŠ” ì—¬ëŸ¬ ì²¨ë¶€ íŒŒì¼ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, email_id, filename í•„ë“œë¥¼ ê°™ì´ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ì²¨ë¶€ íŒŒì¼ì„ ì§ˆì˜í•  ìˆ˜ ìˆë‹¤.\nì§ˆì˜ 4: ì½ì€, ë˜ëŠ” ì½ì§€ ì•Šì€ ëª¨ë“  ë©”ì¼\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë„ë©”ì¸ ëª¨ë¸ì„ êµ¬í˜„í•˜ëŠ” ê²½ìš°, ì½ì€ ë©”ì¼ ì „ë¶€ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì§ˆì˜í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 SELECT * FROM emails_by_folder WHERE user_id = \u0026lt;%user_id%\u0026gt; AND folder_id = \u0026lt;%folder_id%\u0026gt; AND is_read = true ORDER BY email_id ; ë³¸ ì„¤ê³„ì•ˆì˜ ë°ì´í„°ëª¨ë¸ì€ NoSQLë¡œ ë³´í†µ íŒŒí‹°ì…˜ í‚¤ì™€ í´ëŸ¬ìŠ¤í„° í‚¤ì— ëŒ€í•œ ì§ˆì˜ë§Œ í—ˆìš©í•˜ë¯€ë¡œ emails_by_folder í…Œì´ë¸”ì˜ is_read í•„ë“œëŠ” ì´ì— í•´ë‹¹í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ì˜ NoSQL ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ìœ„ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤.\nì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ ì£¼ì–´ì§„ í´ë”ì— ì†í•œ ëª¨ë“  ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì—ì„œ í•„í„°ë§ í•´ì¤„ ìˆ˜ ìˆë‹¤.\nëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ì—ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤. ë”°ë¼ì„œ ì´ëŸ° ë¬¸ë°ëŠ” NoSQL ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ë¹„ì •ê·œí™”(denormalization)í•˜ì—¬ í•´ê²°í•˜ëŠ” ê²ƒì´ ë³´í†µì´ë‹¤.\nemails_by_folder í…Œì´ë¸”ì„ ë‘ í…Œì´ë¸”ë¡œ ë¶„í• í•œë‹¤. read_emails: ì½ì€ ìƒíƒœì˜ ëª¨ë“  ì´ë©”ì¼ì„ ë³´ê´€ unread_eamils: ì½ì§€ ì•Šì€ ëª¨ë“  ì´ë©”ì¼ì„ ë³´ê´€ íŠ¹ì • í´ë” ì•ˆì˜ ì½ì§€ ì•Šì€ ëª¨ë“  ë©”ì¼ì„ ê°€ì ¸ì˜¤ëŠ” ì§ˆì˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„ë  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 SELECT * FROM unread_mails WHERE user_id = \u0026lt;%user_id%\u0026gt; AND folder_id = \u0026lt;%folder_id%\u0026gt; ORDER BY email_id ; ì´ëŸ¬í•œ ë¹„ì •ê·œí™”ëŠ” í”í•œ ê´€í–‰ìœ¼ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œê°€ ì¢€ ë” ë³µì¡í•´ì§€ê³  ê´€ë¦¬í•˜ê¸° ê¹Œë‹¤ë¡œì›Œì§€ì§€ë§Œ, ì§ˆì˜ ì„±ëŠ¥ì€ ëŒ€ê·œëª¨ ì„œë¹„ìŠ¤ì— ì–´ìš¸ë¦¬ëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ê°œì„ í•œë‹¤.\në³´ë„ˆìŠ¤: ì´ë©”ì¼ ìŠ¤ë ˆë“œ ê°€ì ¸ì˜¤ê¸°\nì´ë©”ì¼ ìŠ¤ë ˆë“œëŠ” ë§ì€ ì´ë©”ì¼ í´ë¼ì´ì–¸íŠ¸ê°€ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ëª¨ë“  ë‹µì¥ì„ ìµœì´ˆ ë©”ì‹œì§€ì— ìŠ¤ë ˆë“œë¡œ ì—®ì–´ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤.\nì‚¬ìš©ìê°€ íŠ¹ì •í•œ ëŒ€í™”ì— ê´€ë ¨ëœ ëª¨ë“  ë©”ì¼ì„ í•œ ë²ˆì— í™•ì¸í•  ìˆ˜ ìˆê²Œëœë‹¤.\nì „í†µì ìœ¼ë¡œ JWZ ê°™ì€ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ êµ¬í˜„í•œë‹¤. 1 2 3 4 5 6 7 8 9 { \u0026#34;headers\u0026#34;: { \u0026#34;Message-Id\u0026#34;: \u0026#34;\u0026lt;7BA04B2A-430C-4D12-8B57-862103C34501@gmail.com\u0026gt;\u0026#34;, \u0026#34;In-Reply-To\u0026#34;: \u0026#34;\u0026lt;CAEWTXuPfN=LzECjDJtgY9Vu03kgFvJnJUSHTt6TW@gmail.com\u0026gt;\u0026#34;, \u0026#34;References\u0026#34;: [ \u0026#34;\u0026lt;7BA04B2A-430C-4D12-8B57-862103C34501@gmail.com\u0026gt;\u0026#34; ] } } Message-Id ë©”ì‹œì§€ ì‹ë³„ì ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ìƒì„± In-Reply-To ì–´ë–¤ ë©”ì‹œì§€ê°€ ì–´ë–¤ ë©”ì‹œì§€ì— ëŒ€í•œ ë‹µì‹ ì¸ì§€ ë‚˜íƒ€ë‚´ëŠ” ì‹ë³„ì References ìŠ¤ë ˆë“œì— ê´€ê³„ëœ ë©”ì‹œì§€ ì‹ë³„ì ëª©ë¡ ì´ í•„ë“œë“¤ë¡œ ì´ë©”ì¼ í´ë¼ì´ì–¸íŠ¸ëŠ” íƒ€ë˜ ë‚´ì˜ ëª¨ë“  ë©”ì‹œì§€ê°€ ì‚¬ì „ì— ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ì–´ ìˆëŠ” ê²½ìš° ì „ì²´ ëŒ€í™” ìŠ¤ë ˆë“œë¥¼ ì¬êµ¬ì„±í•´ ë‚¼ ìˆ˜ ìˆê²Œëœë‹¤.\nì¼ê´€ì„± ë¬¸ì œ ë†’ì€ ê°€ìš©ì„±ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ë‹¤ì¤‘í™”ì— ì˜ì¡´í•˜ëŠ” ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°ì´í„° ì¼ê´€ì„±ê³¼ ê°€ìš©ì„± ì‚¬ì´ì—ì„œ íƒ€í˜‘ì ì¸ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ë°–ì— ì—†ë‹¤.\nì´ë©”ì¼ ì‹œìŠ¤í…œì˜ ê²½ìš° ë°ì´í„°ì˜ ì •í™•ì„±ì´ ì•„ì£¼ ì¤‘ìš”í•˜ë¯€ë¡œ, ëª¨ë“  ë©”ì¼í•¨ì€ ë°˜ë“œì‹œ í•˜ë‚˜ì˜ã… ì£¼ ì‚¬ë³¸ì„ í†µí•´ ì„œë¹„ìŠ¤ëœë‹¤ê³  ê°€ì •í•´ì•¼í•œë‹¤.\në”°ë¼ì„œ ì¥ì• ê°€ ë°œìƒí•˜ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” ë‹¤ë¥¸ ì‚¬ë³¸ì„ í†µí•´ ì£¼ ì‚¬ë³¸ì´ ë³µì›ë  ë•Œê¹Œì§€ ë™ê¸°í™”/ê°±ì‹  ì‘ì—…ì„ ì™„ë£Œí•  ìˆ˜ ì—†ë‹¤.\nì¼ê´€ì„±ì„ ìœ„í•´ ê°€ìš©ì„±ì„ í¬ìƒí•œë‹¤. ì´ë©”ì¼ ì „ì†¡ ê°€ëŠ¥ì„± ë©”ì¼ ì„œë²„ë¥¼ êµ¬ì„±í•˜ê³  ì´ë©”ì¼ì„ ë³´ë‚´ëŠ” ê²ƒì€ ì‰½ì§€ë§Œ íŠ¹ì • ì‚¬ìš©ìì˜ ë©”ì¼í•¨ì— ì‹¤ì œë¡œ ë©”ì¼ì´ ì „ë‹¬ë˜ë„ë¡ í•˜ëŠ” ê²ƒì€ ì–´ë ¤ìš´ ë¬¸ì œì´ë‹¤.\nì´ë©”ì¼ì´ ìŠ¤íŒ¸ í´ë”ì— ë“¤ì–´ê°€ ë²„ë¦¬ë©´ ìˆ˜ì‹ ìê°€ ë©”ì¼ì„ ì½ì„ ê°€ëŠ¥ì„±ì€ ì•„ì£¼ ë‚®ì•„ì§„ë‹¤.\nì—°êµ¬ì— ë”°ë¥´ë©´ ë©”ì¼ ê°€ìš´ë° 50%ê°€ ê·¸íŒ¸ìœ¼ë¡œ ë¶„ë¥˜ëœë‹¤. ìƒˆë¡œ êµ¬ì„±í•œ ë©”ì¼ ì„œë²„ëŠ” ì¸í„°ë„·ì—ì„œ ì¢‹ì€ í‰íŒì„ ìŒ“ì„ ê¸°íšŒê°€ ì „í˜€ ì—†ì—ˆê¸° ë•Œë¬¸ì— ë³´ë‚´ëŠ” ë©”ì¼ì´ ëŒ€ë¶€ë¶„ ìŠ¤íŒ¸ í´ë”ë¡œ ë–¨ì–´ì§„ë‹¤.\në”°ë¼ì„œ ì´ë©”ì¼ì˜ ì „ì†¡ ê°€ëŠ¥ì„±ì„ ë†’ì´ê¸° ì´ã…œí•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ìš”ì†Œë“¤ì„ ê³ ë ¤í•œë‹¤.\nì „ìš© IP ì „ìš© IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ë¼ ëŒ€ë¶€ë¶„ì˜ ì´ë©”ì¼ ì„œë¹„ìŠ¤ ì‚¬ì—…ìëŠ” ì•„ë¬´ ì´ë ¥ì´ ì—†ëŠ” IP ìƒˆë¡œìš´ IP ì£¼ì†Œì—ì„œ ì˜¨ ë©”ì¼ì„ ë¬´ì‹œí•œë‹¤. ë²”ì£¼í™” ë²”ì£¼ê°€ ë‹¤ë¥¸ ì´ë©”ì¼ì€ ë‹¤ë¥¸ IP ì£¼ì†Œë¥¼ í†µí•´ ë³´ë‚´ë¼ ë§ˆì¼€íŒ… ëª©ì ì˜ ë©”ì¼ì„ ì¤‘ìš”í•œ ì´ë©”ì¼ê³¼ ê°™ì€ ì„œë²„ì—ì„œ ë°œì†¡í•˜ë©´ ISPê°€ ëª¨ë“  ì´ë©”ì¼ì„ íŒì´‰ ë©”ì¼ë¡œ ë¶„ë¥˜í•  ìˆ˜ë„ ìˆë‹¤. ë°œì‹ ì¸ í‰íŒ ìƒˆë¡œìš´ ì´ë©”ì¼ ì„œë²„ì˜ IP ì£¼ì†ŒëŠ” ì‚¬ìš© ë¹ˆë„ë¥¼ ì„œì„œíˆ ì˜¬ë¦¬ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê·¸ë˜ì•¼ ì¢‹ì€ í‰íŒì´ ìŒ“ì—¬ í•´ë‹¹ IP ì£¼ì†Œì—ì„œ ë°œì†¡ë˜ëŠ” ë©”ì¼ì„ ìŠ¤íŒ¸ìœ¼ë¡œ ë¶„ë¥˜í•  ê°€ëŠ¥ì„±ì´ ë‚®ì•„ì§„ë‹¤. ì•„ë§ˆì¡´ SESì— ë”°ë¥´ë©´ ìƒˆë¡œìš´ IP ì£¼ì†Œë¥¼ ë©”ì¼ ë°œì†¡í•´ ì•„ë¬´ ë¬¸ì œ ì—†ì´ ì“¸ ìˆ˜ ìˆê²Œ ë˜ëŠ” ë°ëŠ” ëŒ€ëµ 2 ~ 6ì£¼ê°€ ì†Œìš”ëœë‹¤. ìŠ¤íŒ¸ ë°œì†¡ìì˜ ì‹ ì†í•œ ì°¨ë‹¨ ìŠ¤íŒ¸ì„ ë¿Œë¦¬ëŠ” ì‚¬ìš©ìëŠ” ì„œë²„ í‰íŒì„ ì‹¬ê°í•˜ê²Œ í›¼ì†í•˜ê¸° ì „ì— ì‹œìŠ¤í…œì—ì„œ ì‹ ì†íˆ ì°¨ë‹¨í•œë‹¤. í”¼ë“œë°± ì²˜ë¦¬ ë¶ˆë§Œ ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ëŠ” ë¹„ìœ¨ì„ ë‚®ì¶”ê³  ìŠ¤íŒ¸ ê³„ì •ì„ ì‹ ì†íˆ ì°¨ë‹¨í•˜ê¸°ìœ„í•´ì„œëŠ” ISP ì¸¡ì—ì„œì˜ í”¼ë“œë°±ì„ ì‰½ê²Œ ë°›ì•„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ë¡œë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. ì´ë©”ì¼ì´ ì „ë‹¬ë˜ì§€ ëª»í•˜ê±°ë‚˜ ì‚¬ìš©ìë¡œë¶€í„° ë¶ˆë§Œ ì‹ ê³ ê°€ ì ‘ìˆ˜ëœ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì€ ì¼ë“¤ì´ ë²Œì–´ì§ˆ ìˆ˜ ìˆë‹¤. ê²½ì„± ë°˜ì†¡(hard bounce) ìˆ˜ì‹ ì¸ì˜ ì´ë©”ì¼ ì£¼ì†Œê°€ ì˜¬ë°”ë¥´ì§€ ì•Šì•„ ISPê°€ ì „ë‹¬ì„ ê±°ë¶€í•œ ê²½ìš° ì—°ì„± ë°˜ì†¡(soft bounce) ISP ì¸¡ì˜ ì´ë©”ì¼ ì²˜ë¦¬ ìì› ë¶€ì¡± ë“±ì˜ ì´ìœ ë¡œ ì¼ì‹œì ìœ¼ë¡œ ì´ë©”ì¼ì„ ì „ë‹¬í•  ìˆ˜ ì—†ì—ˆë˜ ê²½ìš° ë¶ˆë§Œ ì‹ ê³ (complaint) ìˆ˜ì‹ ì¸ì´ ìŠ¤íŒ¸ìœ¼ë¡œ ì‹ ê³  ë²„íŠ¼ì„ ëˆ„ë¥´ëŠ” ê²½ìš° ì´ë©”ì¼ ì¸ì¦ 2018ë…„ë„ ë°ì´í„° ìœ ì¶œ ì¡°ì‚¬ ë³´ê³ ì„œì— ë”°ë¥´ë©´ ã…í”¼ì‹±ì´ë‚˜ í”„ë¦¬í…ìŠ¤íŒ…ì´ ì „ì²´ ìœ ì²  ì‚¬ê³ ì—ì„œ ì°¨ì§€í•˜ëŠ” ë¹„ì¤‘ì€ 93%ì— ë‹¬í•œë‹¤. ë³´í¸ì ìœ¼ë¡œ SPF(Sender Policy Framework), DKIM(DomainKeys Identified Mail), DMARC(Domain-based Message Authentication, Reporting and Conformance) ë“±ìœ¼ë¡œ í”¼ì‹±ì— ëŒ€ì‘í•œë‹¤. ëª…ì‹¬í•´ì•¼í•  ì ì€ ì´ë©”ì¼ì´ ëª©ì ì§€ì— ì„±ê³µì ìœ¼ë¡œ ë„ì°©í•˜ë„ë¡ í•˜ê¸° ì–´ë µë‹¤ëŠ” ì‚¬ì‹¤ì´ë‹¤. ë„ë©”ì¸ ì§€ì‹ì€ ë¬¼ë¡  ISPì™€ ì¢‹ì€ ê´€ê³„ë¥¼ ìœ ì§€í•  í•„ìš”ë„ ìˆë‹¤.\nê²€ìƒ‰ ê¸°ë³¸ì ì¸ ì´ë©”ì¼ ê²€ìƒ‰ì€ ë³´í†µ ì´ë©”ì¼ ì œëª©ì´ë‚˜ ë³¸ë¬¸ì— íŠ¹ì • í‚¤ì›Œë“œê°€ í¬í•¨ë˜ì—ˆëŠ”ì§€ ì°¾ëŠ” ê²ƒì„ ëœ»í•˜ë©°, ê³ ê¸‰ ê¸°ëŠ¥ì—ëŠ” ë°œì‹ ì¸, ì œëª©, ì½ì§€ ì•ŠìŒ ê°™ì´ ë©”ì¼ ì†ì„±ì— ë”°ë¥¸ í•„í„°ë§ ê¸°ëŠ¥ì´ í¬í•¨ëœë‹¤.\nê²€ìƒ‰ ê¸°ëŠ¥ì„ ì œê³µí•˜ë ¤ë©´ ì´ë©”ì¼ì´ ì „ì†¡, ìˆ˜ì‹ , ì‚­ì œ ë  ë•Œë§ˆë‹¤ ìƒ‰ì¸(indexing) ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.\nê·¸ì— ë°˜í•´ ê²€ìƒ‰ì€ ì‚¬ìš©ìê°€ ê²€ìƒ‰ ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë§Œ ì‹¤í–‰ë˜ë¯€ë¡œ, ì´ë©”ì¼ ì‹œìŠ¤í…œì˜ ê²€ìƒ‰ ê¸°ëŠ¥ì—ì„œëŠ” ì“°ê¸° ì—°ì‚°ì´ ì½ê¸° ì—°ì‚°ë³´ë‹¤ í›¨ì”¬ ë§ì´ ë°œìƒí•œë‹¤.\nê²€ìƒ‰ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ì¼ë˜ìŠ¤í‹±ì„œì¹˜(ElasticSearch)ë¥¼ ì´ìš©í•˜ëŠ” ë°©ì•ˆê³¼ ë°ì´í„° ì €ì¥ì†Œì— ë‚´ì¥ëœ ê¸°ë³¸ ê²€ìƒ‰ ê¸°ëŠ¥ì„ í™œìš©í•˜ëŠ” ë°©ì•ˆì˜ ë‘ ê°€ì§€ ì„ íƒì§€ë¥¼ ë¹„êµí•´ë³¸ë‹¤.\në°©ì•ˆ 1: ì¼ë˜ìŠ¤í‹±ì„œì¹˜\nì§ˆì˜ê°€ ëŒ€ë¶€ë¶„ ì‚¬ìš©ìì˜ ì´ë©”ì¼ ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ user_idë¥¼ íŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ ê°™ì€ ì‚¬ìš©ìì˜ ì´ë©”ì¼ì€ ê°™ì€ ë…¸ë“œì— ë¬¶ì–´ ë†“ëŠ”ë‹¤.\nì‚¬ìš©ìê°€ ê²€ìƒ‰ ë²„íŠ¼ì„ ëˆ„ë¥¸ ë‹¤ìŒ ê²°ê³¼ê°€ ìˆ˜ì‹ ë  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ë¯€ë¡œ, ê²€ìƒ‰ ìš”ì²­ì€ ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ì•¼ í•œë‹¤. ì´ë©”ì¼ ì „ì†¡, ì´ë©”ì¼ ìˆ˜ì‹ , ì´ë©”ì¼ ì‚­ì œ ê°™ì€ ì´ë²¤íŠ¸ëŠ” ì²˜ë¦¬ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ë‹¬í•  í•„ìš”ëŠ” ì—†ìœ¼ë©°, ì¶”ê°€ë¡œ ìƒ‰ì¸ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. ë³¸ ì„¤ê³„ì•ˆì€ ì¹´í”„ì¹´ë¥¼ í™œìš©í•˜ì—¬ ìƒ‰ì¸ ì‘ì—…ì„ ì‹œì‘í•˜ëŠ” ì„œë¹„ìŠ¤ì™€ ì‹¤ì œë¡œ ìƒ‰ì¸ì„ ìˆ˜í–‰í•  ì„œë¹„ìŠ¤ ì‚¬ì´ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” ë°©ì•ˆì„ ì±„íƒí•œë‹¤.\nì¼ë˜ìŠ¤í‹±ì„œì¹˜ëŠ” 2021ë…„ 6ì›” ê¸°ì¤€ìœ¼ë¡œ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ê³  ìˆëŠ” ê²€ìƒ‰ ì—”ì§„ ë°ì´í„°ë² ì´ìŠ¤ì´ë©° ì´ë©”ì¼ ê²€ìƒ‰ì— í•„ìš”í•œ í…ìŠ¤íŠ¸ ê¸°ë°˜ ê²€ìƒ‰ì„ ì˜ ì§€ì›í•œë‹¤. ì¼ë˜ìŠ¤í‹±ì„œì¹˜ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì£¼ ì´ë©”ì¼ ì €ì¥ì†Œì™€ ë™ê¸°í™”ë¥¼ ë§ì¶”ëŠ” ë¶€ë¶„ì´ ê¹Œë‹¤ë¡­ë‹¤.\në°©ì•ˆ 2: ë§ì¶¤í˜• ê²€ìƒ‰ ì†”ë£¨ì…˜\nëŒ€ê·œëª¨ ì´ë©”ì¼ ì„œë¹„ìŠ¤ ì‚¬ì—…ìëŠ” ë³´í†µ ìê¸° ì œí’ˆì— ê³ ìœ í•œ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±ì‹œí‚¤ê¸° ìœ„í•´ ê²€ìƒ‰ ì—”ì§„ì„ ìì²´ì ìœ¼ë¡œ ê°œë°œí•´ ì‚¬ìš©í•œë‹¤.\në§¤ìš° ì–´ë µê³  ë²”ìœ„ë¥¼ ë„˜ì–´ì„œê¸° ë•Œë¬¸ì— ìì²´ì ìœ¼ë¡œ ê²€ìƒ‰ ì†”ë£¨ì…˜ì„ êµ¬í˜„í•˜ëŠ” ê²½ìš° ë§ˆì£¼í•˜ê²Œ ë  ì£¼ìš” ê³¼ì œì¸ ë””ìŠ¤í¬ I/O ë³‘ëª© ë¬¸ì œë¥¼ ì‚´í´ë³¸ë‹¤.\nê°œëµì  ê·œëª¨ ì¶”ì • ê²°ê³¼ ë©”íƒ€ ë°ì´í„°ì™€ ì²¨ë¶€ íŒŒì¼ì€ ë§¤ì¼ í˜íƒ€ë°”ì´íŠ¸ ìˆ˜ì¤€ìœ¼ë¡œ ì €ì¥ì†Œì— ì¶”ê°€ë˜ë©°, í•˜ë‚˜ì˜ ì´ë©”ì¼ ê³„ì •ì— ëª‡ì‹­ ë§Œê°œ ë„˜ëŠ” ì´ë©”ì¼ì´ ì €ì¥ë˜ëŠ” ê²ƒë„ í”í•˜ë‹¤.\në”°ë¼ì„œ ë©”ì¼ ìƒ‰ì¸ ì„œë²„ì˜ ì£¼ëœ ë³‘ë³µì€ ë³´í†µ ë””ìŠ¤í¬ I/Oë‹¤. ìƒ‰ì¸ì„ êµ¬ì¶•í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ëŸ‰ì˜ ì“°ê¸° ì—°ì‚°ì„ ë°œìƒì‹œí‚¬ ìˆ˜ ë°–ì— ì—†ìœ¼ë¯€ë¡œ LSM(Log-Structured Merge)íŠ¸ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë””ìŠ¤í¬ì— ì €ì¥ë˜ëŠ” ìƒ‰ì¸ì„ êµ¬ì¡°í™”í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•œ ì „ëµì´ë‹¤.\nì“°ê¸° ê²½ë¡œëŠ” ìˆœì°¨ì  ì“°ê¸° ì—°ì‚°(sequential write)ë§Œ ìˆ˜í–‰í•˜ë„ë¡ ìµœì í™” ë˜ì–´ìˆë‹¤. ë¹…í…Œì´ë¸”ì´ë‚˜ ì¹´ì‚°ë“œë¼, RocksDB ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ í•µì‹¬ ìë£Œ êµ¬ì¡°ë‹¤. ìƒˆë¡œìš´ ì´ë©”ì¼ì´ ë„ì°©í•˜ë©´ ìš°ì„  ë©”ëª¨ë¦¬ ìºì‹œë¡œ êµ¬í˜„ë˜ëŠ” 0ë²ˆ ê³„ì¸µì— ì €ì¥ëœë‹¤. ë©”ëª¨ë¦¬ì— ë³´ê´€ëœ ë°ì´í„°ì˜ ì–‘ì´ ì‚¬ì „ì— ì •ì˜ëœ ì„ê³„ì¹˜ë¥¼ ë„˜ìœ¼ë©´ ë°ì´í„°ëŠ” ë‹¤ìŒ ê³„ì¸µì— ë³‘í•©ëœë‹¤. ìì£¼ ë°”ë€ŒëŠ” ë°ì´í„°ë¥¼ ê·¸ë ‡ì§€ ì•Šì€ ë°ì´í„°ì™€ ë¶„ë¦¬í•˜ëŠ” íš¨ê³¼ë„ ì–»ì„ ìˆ˜ ìˆë‹¤.\nì´ë©”ì¼ ë°ì´í„°ëŠ” ë³´í†µ ë°”ë€Œì§€ ì•Šì§€ë§Œ ë©”ì¼ í´ë”ì˜ ì •ë³´ëŠ” ìƒì´í•œ í•„í„°ë§ ê·œì¹™ë“¤ ë•Œë¬¸ì— ìì£¼ ë°”ë€ŒëŠ” ê²½í–¥ì´ ìˆë‹¤. ë°ì´í„°ë¥¼ ë‘ ê°œ íŒŒíŠ¸ë¡œ ë‚˜ëˆ„ê±° ì–´ë–¤ ìš”ì²­ì´ í´ë” ë³€ê²½ì— ê´€í•œ ê²ƒ ì´ë©´ í´ë” ì •ë³´ë§Œ ë°”ê¾¸ê³  ì´ë©”ì¼ ë°ì´í„°ëŠ” ë‚´ë²¼ë ¤ë‘”ë‹¤. ì†Œê·œëª¨ì˜ ì´ë©”ì¼ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ê²½ìš° í†µí•©í•˜ê¸° ì‰½ê³  ì—”ì§€ë‹ˆì–´ë§ì— ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•˜ì§€ ì•Šì€ ì¼ë˜ìŠ¤í‹±ì„œì¹˜ê°€ ì¢‹ì€ ì„ íƒì§€ì´ë‹¤.\nëŒ€ê·œëª¨ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ê²½ì—ë„ ì¼ë˜ìŠ¤í‹±ì„œì¹˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê² ì§€ë§Œ ì´ë©”ì¼ ê²€ìƒ‰ ì¸í”„ë¼ë¥¼ ê°œë°œí•˜ê³  ê´€ë¦¬í•˜ëŠ” ì „ë‹´ íŒ€ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.\nì§€ë©”ì¼ì´ë‚˜ ì•„ì›ƒë£© ê·œëª¨ì˜ ì´ë©”ì¼ ì‹œìŠ¤í…œì„ ì§€ì›í•˜ë ¤ë©´ ë…ë¦½ì ì¸ ê²€ìƒ‰ ì „ìš© ì‹œìŠ¤í…œì„ ë‘ê¸°ë³´ë‹¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ë‚´ì¥ëœ ì „ìš© ê²€ìƒ‰ ì†”ë£¨ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•  ìˆ˜ë„ ìˆë‹¤.\nê·œëª¨ í™•ì¥ì„± ë° ê°€ìš©ì„± ê° ì‚¬ìš©ìì˜ ë°ì´í„° ì ‘ê·¼ íŒ¨í„´ì€ ë‹¤ë¥¸ ì‚¬ìš©ìì™€ ë¬´ê³ ë‚˜í•˜ë¯€ë¡œ, ì‹œìŠ¤í…œì˜ ëŒ€ë¶€ë¶„ ì»´í¬ë„ŒíŠ¸ëŠ” ìˆ˜í‰ì ìœ¼ë¡œ ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•  ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•  ìˆ˜ ìˆë‹¤.\nê°€ìš©ì„±ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë°ì´í„°ì„¼í„°ì— ë‹¤ì¤‘í™”í•˜ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.\nìì‹ ê³¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ê°€ê¹Œìš´ ë©”ì¼ ì„œë²„ì™€ í†µì‹ í•œë‹¤. ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜ ë°œìƒì‹œ ë‹¤ë¥¸ ë°ì´í„°ì„¼í„°ì— ë³´ê´€ëœ ë©”ì‹œì§€ë¥¼ ì´ìš©í•œë‹¤. 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ë©´ì ‘ì¥ì—ì„œ ì‹œê°„ì´ ë‚¨ëŠ”ë‹¤ë©´ ì¶”ê°€ë¡œ ë…¼ì˜í•´ ë³¼ ë§Œí•œ ì£¼ì œë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆë‹¤.\nê²°í•¨ ë‚´ì„± ë…¸ë“œ ì¥ì• , ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ, ì´ë²¤íŠ¸ ì „ë‹¬ ì§€ì—° ë“±ì˜ ë¬¸ì œì— ì–´ë–»ê²Œ ëŒ€ì²˜í• ì§€ ì‚´í´ë³´ë©´ ì¢‹ì„ ê²ƒì´ë‹¤. ê·œì • ì¤€ìˆ˜ ì „ ì„¸ê³„ ë‹¤ì–‘í•œ ì‹œìŠ¤í…œê³¼ ì—°ë™í•´ì•¼ í•˜ê³  ê° ë‚˜ë¼ì—ëŠ” ì¤€ìˆ˜í•´ì•¼í•  ë²•ê·œê°€ ìˆë‹¤. ë³´ì•ˆ ë¯¼ê°í•œ ì •ë³´ê°€ í¬í•¨ë˜ë¯€ë¡œ ë³´ì•ˆì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤. í”¼ì‹± ë°©ì§€, ì•ˆì „ ë¸Œë¼ìš°ì§•, ì²¨ë¶€ íŒŒì¼ ì‚¬ì „ ê²½ê³ , ê³„ì • ì•ˆì „, ê¸°ë°€ ëª¨ë“œ, ì´ë©”ì¼ ì•”í˜¸í™” ë“± ìµœì í™” ê°™ì€ ì´ë©”ì¼ì´ ì—¬ëŸ¬ ìˆ˜ì‹ ìì— ì „ì†¡ë˜ëŠ” ê²½ìš° ë™ì¼í•œ ì²¨ë¶€ íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìµœì í™”ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤. ","date":"2024-10-23T13:53:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/8/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/8/","title":"8. ë¶„ì‚° ë©”ì¼ ì„œë¹„ìŠ¤"},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” í˜¸í…” ì²´ì¸ì˜ ì˜ˆì•½ ì‹œìŠ¤í…œì„ ì„¤ê³„í•œë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • í˜¸í…” ì˜ˆì•½ ì‹œìŠ¤í…œì€ ë³µì¡í•˜ê³  ê·¸ ì»´í¬ë„ŒíŠ¸ëŠ” ì‹œìŠ¤í…œì„ ì‚¬ì—…ì— ì–´ë–»ê²Œ ì´ìš©í• ì§€ì— ë”°ë¼ ë‹¬ë¼ì§€ë¯€ë¡œ ë²”ìœ„ë¥¼ ëª…í™•íˆ í•´ì•¼í•œë‹¤.\në¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë†’ì€ ìˆ˜ì¤€ì˜ ë™ì‹œì„± ì§€ì› ì„±ìˆ˜ê¸°, ëŒ€ê·œëª¨ ì´ë²¤íŠ¸ ê¸°ê°„ì—ëŠ” ì¼ë¶€ ì¸ê¸° í˜¸í…”ì˜ íŠ¹ì • ê°ì‹¤ì„ ì˜ˆì•½í•˜ë ¤ëŠ” ê³ ê°ì´ ë§ì´ ëª°ë¦´ ìˆ˜ ìˆë‹¤. ì ì ˆí•œ ì§€ì—° ì‹œê°„ ì‚¬ìš©ìê°€ ì˜ˆì•½ì„ í•  ë•ŒëŠ” ì‘ë‹µ ì‹œê°„ì´ ë¹ ë¥´ë©´ ì´ìƒì ì´ê² ìœ¼ë‚˜ ì˜ˆì•½ ìš”ì²­ ì²˜ë¦¬ì— ëª‡ ì´ˆ ì •ë„ ê±¸ë¦¬ëŠ” ê²ƒì€ ê´œì°®ë‹¤. ê°œëµì  ê·œëª¨ ì¶”ì • ì´ 5,000ê°œ í˜¸í…”, 100ë§Œ ê°œì˜ ê°ì‹¤ì´ ìˆë‹¤ê³  ê°€ì • í‰ê·  ê°ì‹¤ì˜ 70%ê°€ ì‚¬ìš© ì¤‘, í‰ê·  íˆ¬ìˆ™ ê¸°ê°„ì€ 3ì¼ì´ë¼ê³  ê°€ì • ì¼ì¼ ì˜ˆìƒ ì˜ˆì•½ ê±´ìˆ˜ = (1ë°±ë§Œ * 0.7) / 3 ~= 240,000 ì´ˆë‹¹ ì˜ˆì•½ ê±´ìˆ˜ = 240,000 / í•˜ë£¨ì— 10^5ì´ˆ ~= 3 ì´ˆë‹¹ ì˜ˆì•½ íŠ¸ëœì­ì…˜ ìˆ˜(TPS)ëŠ” ë†’ì§€ ì•Šë‹¤. ì‹œìŠ¤í…œ ë‚´ ëª¨ë“  í˜ì´ì§€ì˜ QPSë¥¼ ê³„ì‚°í•´ë³¸ë‹¤.\ní˜¸í…” ì˜ˆì•½ ì‹œìŠ¤í…œì€ ì¼ë°˜ì ìœ¼ë¡œ ê³ ê°ì´ ì•„ë˜ì™€ ê°™ì€ íë¦„ì„ ê±°ì¹œë‹¤.\ní˜¸í…”/ê°ì‹¤ ìƒì„¸ í˜ì´ì§€ ì‚¬ìš©ìê°€ í˜¸í…”/ê°ì‹¤ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.(ì¡°íšŒ) ì˜ˆì•½ ìƒì„¸ ì •ë³´ í˜ì´ì§€ ë‚ ì§œ, íˆ¬ìˆ™ ì¸ì›, ê²°ì œ ë°©ë²• ë“±ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì˜ˆì•½ ì „ì— í™•ì¸í•œë‹¤.(ì¡°íšŒ) ê°ì‹¤ ì˜ˆì•½ í˜ì´ì§€ ì‚¬ìš©ìê°€ \u0026lsquo;ì˜ˆì•½\u0026rsquo; ë²„íŠ¼ì„ ëˆŒëŸ¬ ê°ì‹¤ì„ ì˜ˆì•½í•œë‹¤.(íŠ¸ëœì­ì…˜ ë°œìƒ) ëŒ€ëµ 10%ì˜ ì‚¬ìš©ìê°€ ê°„ ë‹¨ê³„ì—ì„œ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì§„í–‰í•œë‹¤ê³  ê°€ì •í•˜ë©´ ìµœì¢… ì˜ˆì•½ TPSëŠ” 3ì´ë¯€ë¡œ, ì˜ˆì•½ í˜ì´ì§€ì˜ QPSëŠ” 30, ê°ì‹¤ ì •ë³´ í™•ì¸ í˜ì´ì§€ì˜ QPSëŠ” 300ì´ë‹¤.\n2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° API ì„¤ê³„ í˜¸í…” ì˜ˆì•½ ì‹œìŠ¤í…œì˜ ê°€ì¥ ì¤‘ìš”í•œ APIë§Œ RESTful ê´€ë¡€ì— ë”°ë¼ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\nê²€ìƒ‰ ê¸°ëŠ¥ ë“±ì˜ ì§ê´€ì ì¸ ê¸°ëŠ¥ë„ í•„ìš”í•˜ë‚˜, ê¸°ìˆ ì ìœ¼ë¡œ ë„ì „ì ì´ì§€ëŠ” ì•Šë‹¤. í˜¸í…” ê´€ë ¨ API\nAPI ì„¤ëª… GET /v1/hotels/id í˜¸í…”ì˜ ìƒì„¸ ì •ë³´ ë°˜í™˜ POST /v1/hotels ì‹ ê·œ í˜¸í…” ì¶”ê°€(ê´€ë¦¬ì) PUT /v1/hotels/id í˜¸í…” ì •ë³´ ê°±ì‹ (ê´€ë¦¬ì) DELETE /v1/hotels/id í˜¸í…” ì •ë³´ ì‚­ì œ(ê´€ë¦¬ì) ê°ì‹¤ ê´€ë ¨ API\nAPI ì„¤ëª… GET /v1/hotels/:id/rooms/id ê°ì‹¤ ìƒì„¸ ì •ë³´ ë°˜í™˜ POST /v1/hotels/:id/rooms ì‹ ê·œ ê°ì‹¤ ì¶”ê°€(ê´€ë¦¬ì) PUT /v1/hotels/:id/rooms/id ê°ì‹¤ ì •ë³´ ê°±ì‹ (ê´€ë¦¬ì) DELETE /v1/hotels/:id/rooms/id ê°ì‹¤ ì •ë³´ ì‚­ì œ(ê´€ë¦¬ì) ì˜ˆì•½ ê´€ë ¨ API\nAPI ì„¤ëª… GET /v1/reservations ë¡œê·¸ì¸ ì‚¬ìš©ìì˜ ì˜ˆì•½ ì´ë ¥ ë°˜í™˜ GET /v1/reservations/id íŠ¹ì • ì˜ˆì•½ì˜ ìƒì„¸ ì •ë³´ ë°˜í™˜ POST /v1/reservations ì‹ ê·œ ì˜ˆì•½ DELETE /v1/reservations/id ì˜ˆì•½ ì·¨ì†Œ ì‹ ê·œ ì˜ˆì•½ ì ‘ìˆ˜ëŠ” ì•„ì£¼ ì¤‘ìš”í•œ ê¸°ëŠ¥ìœ¼ë¡œ, ìƒˆ ì˜ˆì•½ì„ ë§Œë“¤ ë•Œ ì „ë‹¬í•˜ëŠ” ì¸ìì˜ í˜•íƒœëŠ” ì•„ë˜ì™€ ê°™ì€ë°\n1 2 3 4 5 6 7 { \u0026#34;startDate\u0026#34;: \u0026#34;2021-04-28\u0026#34;, \u0026#34;endDate\u0026#34;: \u0026#34;2021-04-30\u0026#34;, \u0026#34;hotelID\u0026#34;: \u0026#34;245\u0026#34;, \u0026#34;roomID\u0026#34;: \u0026#34;U12354673389\u0026#34;, \u0026#34;reservationID\u0026#34;: \u0026#34;13422445\u0026#34; } researvationIDëŠ” ì´ì¤‘ ì˜ˆì•½ì„ ë°©ì§€í•˜ê³  ë™ì¼í•œ ì˜ˆì•½ì€ ë‹¨ í•œ ë²ˆë§Œ ì´ë£¨ì–´ì§€ë„ë¡ ë³´ì¦í•˜ëŠ” ë©±ë“± í‚¤(idempotent key)ë‹¤.\në©±ë“±ì„±? ì—°ì‚°ì„ ì—¬ëŸ¬ ë²ˆ ì ìš©í•˜ë”ë¼ë„ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ì§€ ì•ŠëŠ” ì„±ì§ˆ\në°ì´í„° ëª¨ë¸ ì–´ë–¤ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í• ì§€ ê²°ì •í•˜ê¸°ìœ„í•´ ë°ì´í„° ì ‘ê·¼ íŒ¨í„´ì„ í™•ì¸í•´ì•¼í•œë‹¤.\ní˜¸í…” ìƒì„¸ ì •ë³´ í™•ì¸ ì§€ì •ëœ ë‚ ì§œ ë²”ìœ„ì— ì‚¬ìš© ê°€ëŠ¥í•œ ê°ì‹¤ ìœ í˜• í™•ì¸ ì˜ˆì•½ ì •ë³´ ê¸°ë¡ ì˜ˆì•½ ë‚´ì—­ ë˜ëŠ” ê³¼ê±° ì˜ˆì•½ ì´ë ¥ ì •ë³´ ì¡°íšŒ ì‹œìŠ¤í…œ ê·œëª¨ê°€ í¬ì§€ ì•Šì§€ë§Œ ëŒ€ê·œëª¨ ì´ë²¤íŠ¸ ë“±ìœ¼ë¡œ ì¸í•´ íŠ¸ë˜í”½ì´ ê¸‰ì¦í•  ìˆ˜ë„ ìˆìœ¼ë‹ˆ ëŒ€ë¹„ê°€ í•„ìš”í•˜ë‹¤.\nì´ëŸ° ìš”êµ¬ì‚¬í•­ì„ ì¢…í•©ì ìœ¼ë¡œ ê³ ë ¤í•˜ì˜€ì„ ë•Œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì ì ˆí•´ë³´ì¸ë‹¤.\nì½ê¸° ë¹ˆë„ê°€ ì“°ê¸° ì—°ì‚°ì— ë¹„í•´ ë†’ì€ ì‘ì—… íë¦„ì„ ì˜ ì§€ì›í•œë‹¤. ì½ê¸° ë°˜ë„ê°€ ì••ë„ì ì¸ ì‘ì—… íë¦„ì€ ì¶©ë¶„íˆ ì˜ ì§€ì›í•œë‹¤. NoSQL ë°ì´í„°ë² ì´ìŠ¤ëŠ” ëŒ€ì²´ë¡œ ì“°ê¸° ì—°ì‚°ì— ìµœì í™”ë˜ì–´ ìˆë‹¤. ACID ì†ì„±(ì›ìì„±, ì¼ê´€ì„±, ê²©ë¦¬ì„±, ì˜ì†ì„±)ì„ ë³´ì¥í•œë‹¤. ì˜ˆì•½ì´ë¼ëŠ” ë„ë©”ì¸ íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ACID ì†ì„±ì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤. ACIDë¥¼ ë³´ì¥í•˜ì§€ ì•Šìœ¼ë©´ ì”ì•¡ ë§ˆì´ë„ˆìŠ¤ ë¬¸ì œ, ì´ì¤‘ ì²­êµ¬ ë¬¸ì œ, ì´ì¤‘ ì˜ˆì•½ ë¬¸ì œ ë“±ì„ ë°©ì§€í•˜ê¸° ì–´ë µë‹¤. ACID ì†ì„±ì´ ì¶©ì¡±ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œëŠ” ë‹¨ìˆœí•´ì§€ê³  ì´í•´í•˜ê¸° ì‰¬ì›Œì§„ë‹¤. ë°ì´í„°ë¥¼ ì‰½ê²Œ ëª¨ë¸ë§ í•  ìˆ˜ ìˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°ì˜ êµ¬ì¡°ë¥¼ ëª…í™•í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆì„ ë¿ ì•„ë‹ˆë¼ ì—”í‹°í‹° ê°„ì˜ ê°„ê³„ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì§€ì›í•  ìˆ˜ ìˆë‹¤. reservation í…Œì´ë¸”ì˜ status í•„ë“œëŠ” Pending, Paid, Refunded, Canceled, Rejected ë‹¤ì„¯ ìƒíƒœ ê°€ìš´ë° í•˜ë‚˜ë¥¼ ê°’ìœ¼ë¡œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ ìŠ¤í‚¤ë§ˆì—ì„œ room_idëŠ” ì—ì–´ë¹„ì—”ë¹„ ê°™ì€ íšŒì‚¬ì—ëŠ” ì í•©í•˜ë‚˜, íŠ¹ì • í˜¸í…”ì˜ íŠ¹ì • ê°ì‹¤ ìœ í˜•ì„ ì˜ˆì•½í•˜ëŠ” í˜¸í…”ì—ëŠ” ì ì ˆí•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nê°ì‹¤ ë²ˆí˜¸ëŠ” ì˜ˆì•½í•  ë•Œê°€ ì•„ë‹Œ, íˆ¬ìˆ™ê°ì´ ì²´í¬ì¸ í•˜ëŠ” ì‹œì ì— ë¶€ì—¬ëœë‹¤. ê°œëµì  ì„¤ê³„ì•ˆ ì´ë²ˆ í˜¸í…” ì˜ˆì•½ ì‹œìŠ¤í…œì—ëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•œë‹¤.\në§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ ê°„ ìƒí˜¸ì‘ìš©ì„ ë‚˜íƒ€ë‚´ëŠ” í™”ì‚´í‘œ ìƒë‹¹ìˆ˜ë¥¼ ìƒëµí•˜ì˜€ë‹¤.\nì‹¤ì œ ìƒì—…ì ìœ¼ë¡œ ì´ìš©ë˜ëŠ” ì‹œìŠ¤í…œì˜ ì„œë¹„ìŠ¤ ê°„ í†µì‹ ì—ëŠ” gRPCì™€ ê°™ì€ ê³ ì„±ëŠ¥ ì›ê²© í”„ë¡œì„¸ì„œ í˜¸ì¶œ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ê³¤ í•œë‹¤.\ngRPC?\ngRPCëŠ” Googleì—ì„œ ê°œë°œí•œ ê³ ì„±ëŠ¥, ì˜¤í”ˆ ì†ŒìŠ¤ ì›ê²© í”„ë¡œì‹œì € í˜¸ì¶œ(Remote Procedure Call, RPC) í”„ë ˆì„ì›Œí¬ì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì— ì›ê²© í”„ë¡œì‹œì €ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ í•´ ì£¼ë©°, ë§ˆì¹˜ ë¡œì»¬ì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì²˜ëŸ¼ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë‹¤ë¥¸ ì‹œìŠ¤í…œì˜ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì£¼ë¡œ í”„ë¡œí† ì½œ ë²„í¼(Protocol Buffers, protobuf)ë¼ëŠ” ì§ë ¬í™” ë°©ì‹ì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì „ì†¡í•˜ë©°, HTTP/2ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•´ ì„±ëŠ¥ê³¼ í™•ì¥ì„±ì„ ë†’ì¸ë‹¤.\n3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ê°œì„ ëœ ë°ì´í„° ëª¨ë¸ í˜¸í…” ê°ì‹¤ì„ ì˜ˆì•½í•  ë•ŒëŠ” íŠ¹ì • ê°ì‹¤ì´ ì•„ë‹ˆë¼ íŠ¹ì •í•œ ê°ì‹¤ ìœ í˜•ì„ ì˜ˆì•½í•˜ê²Œ ëœë‹¤.\nì´ëŸ¬í•œ íŠ¹ì„±ì„ ë°˜ì˜í•˜ê¸° ìœ„í•´ ì˜ˆì•½ APIì˜ ê²½ìš° í˜¸ì¶œ ì¸ì ê°€ìš´ë° roomIDëŠ” roomTypeIDë¡œ ë³€ê²½í•œë‹¤.\n1 2 3 4 5 6 7 { \u0026#34;startDate\u0026#34;: \u0026#34;2021-04-28\u0026#34;, \u0026#34;endDate\u0026#34;: \u0026#34;2021-04-30\u0026#34;, \u0026#34;hotelID\u0026#34;: \u0026#34;245\u0026#34;, \u0026#34;roomTypeID\u0026#34;: \u0026#34;U12354673389\u0026#34;, \u0026#34;reservationID\u0026#34;: \u0026#34;13422445\u0026#34; } ìŠ¤í‚¤ë§ˆëŠ” ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ëœë‹¤.\nì£¼ìš” ë³€ê²½ ì‚¬í•­ì€ ì•„ë˜ì™€ ê°™ë‹¤.\nroom: ê°ì‹¤ì— ê´€ê³„ëœ ì •ë³´ room_type_rate: íŠ¹ì • ê°ì‹¤ ìœ í˜•ì˜ íŠ¹ì • ì¼ì ìš”ê¸ˆ ì •ë³´ reservation: íˆ¬ìˆ™ê° ì˜ˆì•½ ì •ë³´ room_type_inventory: í˜¸í…”ì˜ ëª¨ë“  ê°ì‹¤ ìœ í˜• hotel_id: í˜¸í…” ì‹ë³„ì room_type_id: ê°ì‹¤ ìœ í˜• ì‹ë³„ì date: ì¼ì total_inventory: ì´ ê°ì‹¤ ìˆ˜ì—ì„œ ì¼ì‹œì ìœ¼ë¡œ ì œì™¸í•œ ê°ì‹¤ ìˆ˜ë¥¼ ëº€ ê°’ ìœ ì§€ ë³´ìˆ˜ë¥¼ ìœ„í•´ ì˜ˆì•½ ê°€ëŠ¥ ëª©ë¡ì—ì„œ ì œì™¸í•  ìˆ˜ë„ ìˆë‹¤. total_reserved: ì €ì •ëœ hotel_id, room_type_id, dateì— ì˜ˆì•½ëœ ëª¨ë“  ê°ì‹¤ì˜ ìˆ˜ ë‚ ì§œë‹¹ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë‚ ì§œ ë²”ìœ„ ë‚´ì—ì„œ ì˜ˆì•½ì„ ì‰½ê²Œ ê´€ë¦¬í•˜ê³  ì§ˆì˜í•  ìˆ˜ ìˆë‹¤.\nì´ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ëŠ” (hotel_id, room_type_id, date)ì˜ ë³µí•©í‚¤ë¡œ, 2ë…„ ì´ë‚´ ëª¨ë“  ë¯¸ë˜ ë‚ ì§œì— ëŒ€í•œ ê°€ìš© ê°ì‹¤ ë°ì´í„° ì§ˆì˜ ê²°ê³¼ë¥¼ í† ëŒ€ë¡œ ë¯¸ë¦¬ ì±„ì›Œ ë†“ê³ , ì‹œê°„ì´ íë¦„ì— ë”°ë¼ ìƒˆë¡œ ì¶”ê°€í•´ì•¼ í•˜ëŠ” ê°ì‹¤ ì •ë³´ëŠ” ë§¤ì¼ í•œ ë²ˆì”© ì¼ê´„ ì‘ì—…ì„ ëŒë ¤ ë°˜ì˜í•œë‹¤.\n5,000ê°œì˜ í˜¸í…”ì´ ìˆê³  ê° í˜¸í…”ì—ëŠ” 20ê°œì˜ ê°ì‹¤ ìœ í˜•ì´ ìˆìœ¼ë¯€ë¡œ í…Œì´ë¸”ì— ì €ì¥í•´ì•¼ í•˜ëŠ” ë ˆì½”ë“œì˜ ìˆ˜ëŠ” 5,000 * 20 * 2ë…„ * 365ì¼ = 7,300ë§Œ ê°œ ì •ë„ì´ë‹¤.\në§ì€ ë°ì´í„°ê°€ ì•„ë‹ˆë¯€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ í•˜ë‚˜ë©´ ì €ì¥í•˜ê¸° ì¶©ë¶„í•˜ì§€ë§Œ, í•˜ë‚˜ë§Œ ë‘”ë‹¤ë©´ SPOF ë¬¸ì œë¥¼ í”¼í•  ìˆ˜ ì—†ê²Œëœë‹¤.\nê³ ê°€ìš©ì„±ì„ ë‹¬ì„±í•˜ë ¤ë©´ ì—¬ëŸ¬ ì§€ì—­, ë˜ëŠ” ê°€ìš©ì„± êµ¬ì—­ì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³µì œí•´ ë‘ì–´ì•¼ í•œë‹¤.\nroom_type_inventory í…Œì´ë¸”ì€ ê³ ê°ì´ íŠ¹ì • ìœ í˜•ì˜ ê°ì‹¤ì„ ì˜ˆì•½í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•  ë•Œ ì‚¬ìš©í•œë‹¤.\nì…ë ¥ startDate endDate roomTypeId hotelId numberOfRoomsToReserve ì¶œë ¥ í•´ë‹¹ ìœ í˜•ì˜ ê°ì‹¤ì— ì—¬ìœ ê°€ ìˆê³  ì˜ˆì•½ ê°€ëŠ¥í•œ ìƒíƒœë¼ë©´ True, ì•„ë‹ˆë©´ Falseë¥¼ ë°˜í™˜í•œë‹¤. SQL ê´€ì ì—ì„œ ë‘ ì ˆì°¨ë¥¼ ê±°ì¹œë‹¤.\nì£¼ì–´ì§„ ê¸°ê°„ì— í•´ë‹¹í•˜ëŠ” ë ˆì½”ë“œë¥¼ êµ¬í•œë‹¤.\n1 2 3 4 5 SELECT date, total_inventory, total_reserved FROM room_type_inventory WHERE room_type_id = ${roomTypeId} AND hotel_id = ${hotelId} AND date BETWEEN ${startDate} and ${endDate} ; ë°˜í™˜í•œ ê° ë ˆì½”ë“œë§ˆë‹¤ ë‹¤ìŒ ì¡°ê±´ì„ í™•ì¸í•œë‹¤.\n1 if ((total_reserved + ${numberOfRoomsToReserve}) \u0026lt;= total_inventory) ë ˆì½”ë“œì˜ ëª¨ë“  í–‰ì„ ê²€ì‚¬í•œ ê²°ê³¼ Trueê°€ ë°˜í™˜ë˜ë©´ ì£¼ì–´ì§„ ê¸°ê°„ ë‚´ ëª¨ë“  ë‚ ì§œì— ì¶©ë¶„í•œ ê°ì‹¤ì´ ìˆë‹¤ëŠ” ëœ» ì´ë‹¤. ì˜ˆì•½ ë°ì´í„°ê°€ ë‹¨ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë‹´ê¸°ì— ë„ˆë¬´ í¬ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë°©ì•ˆì„ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤.\ní˜„ì¬ ë° í–¥í›„ ì˜ˆì•½ ë°ì´í„°ë§Œ ì €ì¥í•œë‹¤. ì˜ˆì•½ ì´ë ¥ì€ ìì£¼ ì ‘ê·¼í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì•„ì¹´ì´ë¹™ í•˜ê±°ë‚˜ ëƒ‰ë™ ì €ì¥ì†Œë¡œ ì˜®ê¸¸ ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒ¤ë”©í•œë‹¤. ìì£¼ ì‚¬ìš©ë˜ëŠ” ì§ˆì˜ëŠ” ì˜ˆì•½ ë° ì˜ˆì•½ í™•ì¸ì´ë¯€ë¡œ, ë‘ ì§ˆì˜ì—ì„œ ëª¨ë‘ ë¨¼ì € ì•Œì•„ì•¼í•˜ëŠ” hotel_idë¥¼ ìƒ¤ë”©í‚¤ë¡œ ì‚¬ìš©í•œë‹¤. ë°ì´í„°ëŠ” hash(hotel_id) % number_of_service ë™ì‹œì„± ë¬¸ì œ ë˜ í•˜ë‚˜ì˜ ì¤‘ìš”í•œ ë¬¸ì œëŠ” ì´ì¤‘ ì˜ˆì•½ ë°©ì§€ì´ë©°, ì´ë¥¼ ìœ„í•´ ë‘ê°€ì§€ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼í•œë‹¤.\nê°™ì€ ì‚¬ìš©ìê°€ ì˜ˆì•½ ìš”ì²­ì„ ì—¬ëŸ¬ë²ˆ ì‹œë„í•  ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ê°™ì€ ê°ì‹¤ì„ ë™ì‹œì— ì˜ˆì•½í•˜ë ¤ í•  ìˆ˜ ìˆë‹¤. ê°™ì€ ì‚¬ìš©ìê°€ ê°™ì€ ì˜ˆì•½ ìš”ì²­ì„ ì‹œë„í•˜ëŠ” ê²½ìš° ì´ ë¬¸ì œë¥¼ í‘¸ëŠ” ì¼ë°˜ì ì¸ ì ‘ê·¼ë²•ìœ¼ë¡œëŠ” ë‹¤ìŒ ë‘ê°€ì§€ê°€ ìˆë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ì¸¡ êµ¬í˜„ ìš”ì²­ ì „ì†¡ í›„ ì˜ˆì•½ ë²„íŠ¼ì„ ë¹„í™œì„±í™” í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìš°íšŒ ê°€ëŠ¥í•˜ë‹¤. ë©±ë“± API ì˜ˆì•½ API ìš”ì²­ì— ë©±ë“± í‚¤ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì•ˆ reservation_idë¥¼ ë©±ë“± í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ ì´ì¤‘ ì˜ˆì•½ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ì•ˆì´ë‹¤. ì˜ˆì•½ ì£¼ë¬¸ì„œë¥¼ ë§Œë“ ë‹¤. ê³ ê°ì´ ê²€í† í•  ìˆ˜ ìˆë„ë¡ ì˜ˆì•½ ì£¼ë¬¸ì„œë¥¼ ë°˜í™˜í•œë‹¤. ë°˜í™˜ ê²°ê³¼ì— reservation_idë¥¼ ë„£ëŠ”ë‹¤.(ì „ì—­ì  ìœ ì¼ì„±ì„ ë³´ì¦í•˜ëŠ” ID, ì˜ˆì œì—ì„œëŠ”ì˜ ì˜ˆì•½ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤) ê²€í† ê°€ ëë‚œ ì˜ˆì•½ì„ ì „ì†¡í•œë‹¤. ìš”ì²­ì— reservation_idë¥¼ í¬í•¨í•œë‹¤. ì˜ˆì•½ ì™„ë£Œ ë²„íŠ¼ì„ í•œ ë²ˆ ë” ëˆŒëŸ¬ ë³´ë‚´ë„ reservation_idê°€ ì˜ˆì•½ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì´ë¯€ë¡œ ìœ ì¼ì„± ì¡°ê±´ì— ìœ„ë°˜ë˜ì–´ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤. ì—¬ëŸ¬ ì‚¬ìš©ìê°€ í•˜ë‚˜ë¿ì¸ ê°ì‹¤ì„ ë™ì‹œì— ì˜ˆì•½í•˜ëŠ” ê²½ìš° ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ì–´ë–¤ í˜•íƒœë¡œë“  ë½ì„ í™œìš©í•´ì•¼ í•œë‹¤.\në¹„ê´€ì  ë½\në¹„ê´€ì  ë½ì€ ë¹„ê´€ì  ë™ì‹œì„± ì œì–´ ë°©ì•ˆì´ë¼ê³ ë„ ë¶ˆë¦¬ë©°, ì‚¬ìš©ìê°€ ë ˆì½”ë“œë¥¼ ê°±ì‹ í•˜ë ¤ê³  í•˜ëŠ” ìˆœê°„ ì¦‰ì‹œ ë½ì„ ê±¸ì–´ ë™ì‹œ ì—…ë°ì´íŠ¸ë¥¼ ë°©ì§€í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.\në”°ë¼ì„œ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ê°±ì‹ í•˜ë ¤ëŠ” ë‹¤ë¥¸ ì‚¬ìš©ìëŠ” ë½ í•´ì œë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤.\nMySQL ê°™ì€ ê²½ìš°ëŠ” SELECT ... FOR UPDATE ë¬¸ì„ ì‹¤í–‰í•˜ë©´ SELECTê°€ ë°˜í™˜í•œ ë ˆì½”ë“œì— ë½ì´ ê±¸ë¦°ë‹¤. ì¥ì  ë³€ê²½ ì¤‘ì´ê±°ë‚˜ ë³€ê²½ì´ ëë‚œ ë°ì´í„°ë¥¼ ê°±ì‹ í•˜ëŠ” ì¼ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤. êµ¬í˜„ì´ ì‰½ê³  ëª¨ë“  ê°±ì‹  ì—°ì‚°ì„ ì§ë ¬í™”í•˜ì—¬ ì¶©ëŒì„ ë§‰ëŠ”ë‹¤. ë°ì´í„°ì— ëŒ€í•œ ê²½í•©ì´ ì‹¬í•  ë•Œ ìœ ìš©í•˜ë‹¤. ë‹¨ì  ì—¬ëŸ¬ ë ˆì½”ë“œì— ë½ì„ ê±¸ë©´ êµì°© ìƒíƒœê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. êµì°© ìƒíƒœê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ì½”ë“œ ì‘ì„±ì€ ì–´ë µë‹¤ í™•ì¥ì„±ì´ ë‚®ë‹¤. íŠ¸ëœì­ì…˜ì´ ë„ˆë¬´ ì˜¤ë«ë™ì•ˆ ë½ì„ í•´ì œí•˜ì§€ ì•Šê³  ìˆìœ¼ë©´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì€ ë½ì´ ê±¸ë¦° ìì›ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì–´ íŠ¸ëœì­ì…˜ ìˆ˜ëª…ì´ ê¸¸ê±°ë‚˜ ë§ì€ ì—”í‹°í‹°ì— ê´€ë ¨ëœ ê²½ìš° ì„±ëŠ¥ì— ì‹¬ê°í•œ ì˜í–¥ì„ ë¼ì¹œë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ë¹„ê´€ì  ë½ ë©”ì»¤ë‹ˆì¦˜ì€ êµ°ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.\në‚™ê´€ì  ë½\në‚™ê´€ì  ë½ì€ ë‚™ê´€ì  ë™ì‹œì„± ì œì–´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ë°©ì•ˆìœ¼ë¡œ ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ë™ì‹œì— ê°™ì€ ìì›ì„ ê°±ì‹ í•˜ë ¤ ì‹œë„í•˜ëŠ” ê²ƒì„ í—ˆìš©í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë²„ì „ ë²ˆí˜¸(version_number)ì™€ íƒ€ì„ìŠ¤íƒ¬í”„(timestamp) ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ êµ¬í˜„í•œë‹¤.\nì„œë²„ ì‹œê³„ëŠ” ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë¶€ì •í™•í•´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œëŠ” ë²„ì „ ë²ˆí˜¸ë¥¼ ë” ë‚˜ì€ ì„ íƒì§€ë¡œ ë³¸ë‹¤. ë‚™ê´€ì  ë½ì€ ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ë½ì„ ê±¸ì§€ ì•Šìœ¼ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œ ë¹„ê´€ì  ë½ ë³´ë‹¤ ë¹ ë¥´ì§€ë§Œ ë™ì‹œì„± ìˆ˜ì¤€ì´ ì•„ì£¼ ë†’ìœ¼ë©´ ì„±ëŠ¥ì´ ê¸‰ê²©íˆ ë‚˜ë¹ ì§„ë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ì„¤ëª…í•˜ë©´ ì”ì—¬ ê°ì‹¤ ìˆ˜ë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” í´ë¼ì´ì–¸íŠ¸ ìˆ˜ì—ëŠ” ì œí•œì´ ì—†ìœ¼ë¯€ë¡œ, ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ëŠ” ê°™ì€ ì”ì—¬ ê°ì‹¤ ìˆ˜ì™€ ê°™ì€ ë²„ì „ ì •ë³´ë¥¼ ì·¨ë“í•˜ê²Œ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ëŠ” ê°™ì€ ì”ì—¬ ê°ì‹¤ ìˆ˜ì™€ ê°™ì€ ë²„ì „ ë²ˆí˜¸ ì •ë³´ë¥¼ ì·¨ë“í•œë‹¤.\ní•˜ì§€ë§Œ ì‹¤ì œë¡œ ë²„ì „ ë²ˆí˜¸ ê°±ì‹ ì— ì„±ê³µí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” í•˜ë‚˜ì´ë¯€ë¡œ, ë‹¤ë¥¸ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ëŠ” ë²„ì „ ë²ˆí˜¸ ê²€ì‚¬ì— ì‹¤íŒ¨í•˜ê²Œëœë‹¤.\nì¥ì  ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìœ íš¨í•˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ í¸ì§‘í•˜ëŠ” ì¼ì„ ë§‰ëŠ”ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ìì›ì— ë½ì„ ê±¸ í•„ìš”ê°€ ì—†ë‹¤.(ë°ì´í„°ë² ì´ìŠ¤ ê´€ì ì—ì„œ ë½ì€ ì—†ë‹¤.) ì±…ì„ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ìˆë‹¤. ë°ì´í„°ì— ëŒ€í•œ ê²½ìŸì´ ì¹˜ì—´í•˜ì§€ ì•Šì€ ìƒí™©ì— ì í•©í•˜ë‹¤. ë½ì„ ê´€ë¦¬í•˜ëŠ” ë¹„ìš© ì—†ì´ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ë‹¨ì  ë°ì´í„°ì— ëŒ€í•œ ê²½ìŸì´ ì¹˜ì—´í•œ ìƒí™©ì—ì„œëŠ” ì„±ëŠ¥ì´ ì¢‹ì§€ ëª»í•˜ë‹¤. ë‚™ê´€ì  ë½ì€ ì˜ˆì•½ QPSê°€ ì¼ë°˜ì ìœ¼ë¡œ ë†’ì§€ ì•Šì€ í˜¸í…” ì˜ˆì•½ ì‹œìŠ¤í…œì—ì„œëŠ” ì í•©í•œ ì„ íƒì§€ì´ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ì œì•½ ì¡°ê±´\në‚™ê´€ì  ë½ê³¼ ì•„ì£¼ ìœ ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤.\nroom_type_inventory í…Œì´ë¸”ì— ë‹¤ìŒ ì œì•½ ì¡°ê±´ì„ ì¶”ê°€í•œë‹¤.\n1 CONSTRAINT `check_room_count` CHECK((`total_inventory - total_reserved` \u0026gt;= 0)); ì‚¬ìš©ìê°€ ê°ì‹¤ì„ ì˜ˆì•½í•˜ë ¤ë©´ total_reservedì˜ ê°’ì´ 101ìœ¼ë¡œ ì œì•½ ì¡°ê±´ì„ ìœ„ë°˜í•˜ê²Œë˜ì–´ ë¡¤ë°±ëœë‹¤.\nì¥ì  êµ¬í˜„ì´ ì‰½ë‹¤. ë°ì´í„°ì— ëŒ€í•œ ê²½ìŸì´ ì‹¬í•˜ì§€ ì•Šì„ ë•Œ ì˜ ë™ì‘í•œë‹¤. ë‹¨ì  ë°ì´í„°ì— ëŒ€í•œ ê²½ìŸì´ ì‹¬í•˜ë©´ ì‹¤íŒ¨í•˜ëŠ” ì—°ì‚° ìˆ˜ê°€ ë§¤ìš° ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì œì•½ ì¡°ê±´ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì™€ ë‹¬ë¼ì„œ ë²„ì „ì„ í†µì œí•˜ê¸° ì–´ë µë‹¤. ì œì•½ ì¡°ê±´ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ë°ì´í„°ë² ì´ìŠ¤ë„ ìˆìœ¼ë¯€ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ë“±ì— ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤. ì‹œìŠ¤í…œ ê·œëª¨ í™•ì¥ ì¼ë°˜ì ìœ¼ë¡œ í˜¸í…” ì˜ˆì•½ ì‹œìŠ¤í…œì— ëŒ€í•œ ë¶€í•˜ëŠ” ë†’ì§€ ì•Šì§€ë§Œ, ìœ ëª…í•œ ì—¬í–‰ ì˜ˆì•½ ì›¹ ì‚¬ì´íŠ¸ì™€ ì—°ë™ì´ ë˜ì–´ì•¼í•œë‹¤ë©´ QPSëŠ” ë§¤ìš° ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤.\nì‹œìŠ¤í…œ ë¶€í•˜ê°€ ë†’ì„ ë•ŒëŠ” ë¬´ì—‡ì´ ë³‘ëª©ì´ ë  ìˆ˜ ìˆëŠ”ì§€ ì´í•´í•´ì•¼í•œë‹¤.\ní•´ë‹¹ ì‹œìŠ¤í…œì˜ ëª¨ë“  ì„œë¹„ìŠ¤ëŠ” ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ì´ë¯€ë¡œ ì„œë²„ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ì„±ëŠ¥ ë¬¸ì œëŠ” í•´ê²°í•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë‹¨ìˆœíˆ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ëŠ˜ë¦¬ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ì„±ëŠ¥ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ì—†ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”© ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—¬ëŸ¬ ëŒ€ ë‘ê³ , ê°ê°ì— ë°ì´í„°ì˜ ì¼ë¶€ë§Œ ë³´ê´€í•˜ë„ë¡ í•˜ëŠ” ë°©ì‹ì´ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒ¤ë”©í•  ë•ŒëŠ” ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë¶„ë°°í•  ì§€ ë¨¼ì € ì •í•œë‹¤.\nhotel_idë¥¼ í•„í„°ë§ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ìƒ¤ë”© ì¡°ê±´ìœ¼ë¡œ ì“°ë©´ ì¢‹ë‹¤. ìœ„ëŠ” 16ê°œ ìƒ¤ë“œë¡œ ë¶„ì‚°í•˜ëŠ” ì‚¬ë¡€ë¡œ, QPSê°€ 30,000ì´ë¼ë©´ ìƒ¤ë”© í›„ì—ëŠ” 1875QPS ì •ë„ë¡œ í•œ ëŒ€ì˜ MySQL ì„œë²„ë¡œë„ ê°ë‹¹í•  ìˆ˜ ìˆëŠ” ë¶€í•˜ê°€ ëœë‹¤.\nìºì‹œ í˜¸í…” ì”ì—¬ ê°ì‹¤ ë°ì´í„°ëŠ” í˜„ì¬ì™€ ë¯¸ë˜ì˜ ë°ì´í„°ë§Œ ì¤‘ìš”í•˜ë‹¤ëŠ” íŠ¹ì„±ì´ ìˆë‹¤.\në”°ë¼ì„œ ë°ì´í„°ë¥¼ ë³´ê´€í•  ë•Œ ë‚¡ì€ ë°ì´í„°ëŠ” ìë™ì ìœ¼ë¡œ ì†Œë©¸ë˜ë„ë¡ TTLì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ë©´ ë°”ëŒì§í•˜ë‹¤.\nì´ë ¥ ë°ì´í„°ëŠ” ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ ì§ˆì˜í•˜ë„ë¡ í•˜ë©´ ëœë‹¤. ì´ëŸ° ìƒí™©ì— ë ˆë””ìŠ¤ëŠ” ë§¤ìš° ì í•©í•˜ë‹¤.\në°ì´í„° ë¡œë”© ì†ë„ì™€ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¥ì„±ì´ ë¬¸ì œê°€ ë˜ê¸° ì‹œì‘í•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ ì•ì— ìºì‹œ ê³„ì¸µì„ ë‘ê³  ì”ì—¬ ê°ì‹¤ í™•ì¸ ë° ê°ì‹¤ ì˜ˆì•½ ë¡œì§ì´ í•´ë‹¹ ê³„ì¸µì—ì„œ ì‹¤í–‰ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.\nìš”ì²­ì˜ ì¼ë¶€ë§Œ ì”ì—¬ ê°ì‹¤ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì²˜ë¦¬í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ìºì‹œê°€ ë‹´ë‹¹í•˜ë„ë¡ í•œë‹¤.\në ˆë””ìŠ¤ ìºì‹œ ë°ì´í„°ì—ëŠ” ì”ì—¬ ê°ì‹¤ì´ ì¶©ë¶„í•´ ë³´ì—¬ë„ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ì•¼í•œë‹¤. ì˜ˆì•½ ì„œë¹„ìŠ¤: ë‹¤ìŒê³¼ ê°™ì€ ì”ì—¬ ê°ì‹¤ ê´€ë¦¬ APIë¥¼ ì œê³µí•œë‹¤.\nì§€ì •ëœ í˜¸í…”ê³¼ ê°ì‹¤ ìœ í˜•, ì£¼ì–´ì§„ ë‚ ì§œ ë²”ìœ„ì— ì´ìš© ê°€ëŠ¥í•œ ê°ì‹¤ì˜ ìˆ˜ë¥¼ ì§ˆì˜ ê°ì‹¤ì„ ì˜ˆì•½í•˜ê³  total_reservedì˜ ê°’ì„ 1 ì¦ê°€ ê³ ê°ì´ ì˜ˆì•½ì„ ì·¨ì†Œí•˜ë©´ ì”ì—¬ ê°ì‹¤ ìˆ˜ë¥¼ ê°±ì‹  ì”ì—¬ ê°ì‹¤ ìºì‹œ\nëª¨ë“  ì”ì—¬ ê°ì‹¤ ê´€ë¦¬ì— í•„ìš”í•œ ì§ˆì˜ëŠ” ë ˆë””ìŠ¤ë¡œ êµ¬í˜„ë˜ëŠ” ì”ì—¬ ê°ì‹¤ ìºì‹œë¡œ ì˜®ê¸´ë‹¤. ë”°ë¼ì„œ ì‚¬ì „ì— ì”ì—¬ ê°ì‹¤ ì •ë³´ë¥¼ ìºì‹œì— ë¯¸ë¦¬ ì €ì¥í•´ë‘ì–´ì•¼ í•œë‹¤. ìºì‹œì— ì €ì¥ë˜ëŠ” ë°ì´í„° í˜•ì‹ í‚¤: hotelID_roomTypeId_{ë‚ ì§œ} ê°’ ì£¼ì–´ì§„ í˜¸í…” ID ê°ì‹¤ ìœ í˜• ID ë‚ ì§œì— ë§ëŠ” ì”ì—¬ ê°ì‹¤ ìˆ˜ í˜¸í…” ì˜ˆì•½ ì‹œìŠ¤í…œì€ ì”ì—¬ ê°ì‹¤ í™•ì¸ ì‘ì—… ë•Œë¬¸ì— ì½ê¸° ì—°ì‚° ë¹ˆë„ê°€ ì“°ê¸° ì—°ì‚°ë³´ë‹¤ í›¨ì”¬ ë§ìœ¼ë¯€ë¡œ ëŒ€ë¶€ë¶„ì˜ ì½ê¸° ì—°ì‚°ì„ ìºì‹œë¡œ ì²˜ë¦¬í•˜ë©´ ì¢‹ë‹¤. ì”ì—¬ ê°ì‹¤ ë°ì´í„°ë² ì´ìŠ¤\nì”ì—¬ ê°ì‹¤ ìˆ˜ì— ëŒ€í•œ ê°€ì¥ ë¯¿ì„ ë§Œí•œ ì •ë³´ê°€ ë³´ê´€ë˜ëŠ” ì¥ì†Œ ìºì‹œê°€ ì£¼ëŠ” ìƒˆë¡œìš´ ê³¼ì œ\nìºì‹œ ê³„ì¸µì„ ì¶”ê°€í•˜ë©´ ì‹œìŠ¤í…œì˜ í™•ì¥ì„±ê³¼ ì²˜ë¦¬ëŸ‰ì€ ëŒ€í­ ì¦ê°€í•˜ì§€ë§Œ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìºì‹œ ì‚¬ì´ì˜ ë°ì´í„° ì¼ê´€ì„± ìœ ì§€ì— ê´€í•œ ìƒˆë¡œìš´ ë¬¸ì œê°€ ìƒê¸´ë‹¤.\nì‚¬ìš©ìê°€ ê°ì‹¤ì„ ì˜ˆì•½í•  ë•Œ ì•„ë¬´ ë¬¸ì œê°€ ì—†ëŠ” ê²½ìš°ì—ëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ ì‘ì—…ì´ ì´ë£¨ì–´ì§„ë‹¤.\nì”ì—¬ ê°ì‹¤ ìˆ˜ë¥¼ ì§ˆì˜í•˜ì—¬ ì¶©ë¶„í•œì§€ í™•ì¸(ìºì‹œ) ì”ì—¬ ê°ì‹¤ ë°ì´í„°ë¥¼ ê°±ì‹  ë°ì´í„°ë² ì´ìŠ¤ ê°±ì‹  ì´í›„ ìºì‹œ ê°±ì‹  ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ ë³€ê²½ ë°ì´í„° ê°ì§€(CDC) ë§¤ì»¤ë‹ˆì¦˜ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°œìƒí•œ ë³€í™”ë¥¼ ê°ì§€í•˜ì—¬ í•´ë‹¹ ë³€ê²½ ë‚´ì—­ì„ ë‹¤ë¥¸ ì‹œìŠ¤í…œì— ì ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜ ì”ì—¬ ê°ì‹¤ ë°ì´í„°ì— ëŒ€í•œ ë³€í™”ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë¨¼ì € ë°˜ì˜í•˜ë¯€ë¡œ ìºì‹œì—ëŠ” ìµœì‹  ë°ì´í„°ê°€ ì—†ì„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤.\nì´ëŸ¬í•œ ë¶ˆì¼ì¹˜ ë¬¸ì œëŠ” ë°ì´í„°ë² ì´ìŠ¤ê°€ ìµœì¢…ì ìœ¼ë¡œ ì”ì—¬ ê°ì‹¤ í™•ì¸ì„ í•˜ë„ë¡ í•œë‹¤ë©´ ë¬¸ì œê°€ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nì¥ì \nì½ê¸° ì§ˆì˜ë¥¼ ìºì‹œê°€ ì²˜ë¦¬í•˜ë¯€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¶€í•˜ê°€ í¬ê²Œ ì¤„ì–´ë“ ë‹¤. ì½ê¸° ì§ˆì˜ë¥¼ ë©”ëª¨ë¦¬ì—ì„œ ì‹¤í–‰í•˜ë¯€ë¡œ ë†’ì€ ì„±ëŠ¥ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤. ë‹¨ì \në°ì´í„°ë² ì´ìŠ¤ì™€ ìºì‹œ ì‚¬ì´ì˜ ë°ì´í„° ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ë°ì´í„° ë¶ˆì¼ì¹˜ê°€ ì‚¬ìš©ì ê²½í—˜ì— ë¼ì¹˜ëŠ” ì˜í–¥ì„ ì‹ ì¤‘í•˜ê²Œ ì‚´í´ì•¼í•œë‹¤. ì„œë¹„ìŠ¤ ê°„ ë°ì´í„° ì¼ê´€ì„± ëª¨ë…¸ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ì˜ ê²½ìš° ë°ì´í„°ì˜ ì¼ê´‘ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê³µìœ í•˜ëŠ” ê²ƒì´ ë³´í†µì´ì§€ë§Œ, í•´ë‹¹ ì‹œìŠ¤í…œì€ ì˜ˆì•½ í…Œì´ë¸”ê³¼ ì”ì—¬ ê°ì‹¤ í…Œì´ë¸”ë§Œ ë™ì¼í•œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” MSA í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ë²•ì„ ì‚¬ìš©í•œë‹¤.\nì´ë¥¼ í†µí•´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ACID ì†ì„±ì„ í™œìš©í•˜ì—¬ ë™ì‹œì„± ë¬¸ì œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ëŒ€ì‘í•  ìˆ˜ ìˆì§€ë§Œ, MSA ìˆœìˆ˜ ì£¼ì˜ìë¼ë©´ ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ê°€ ë…ìì ì¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê°–ì¶”ê³  ìˆì–´ì•¼ í•œë‹¤ê³  ì£¼ì¥í•  ìˆ˜ ìˆë‹¤.\nëª¨ë…¸ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ëŠ” í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ ì—¬ëŸ¬ ì—°ì‚°ì„ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ ACID ì†ì„±ì´ ë§Œì¡±ë˜ë„ë¡ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì„œë¹„ìŠ¤ê°€ ë…ìì ì¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê°–ë„ë¡ í•˜ë©´, ë…¼ë¦¬ì ìœ¼ë¡œëŠ” í•˜ë‚˜ì˜ ì›ìì  ì—°ì‚°ì´ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ì— ê±¸ì³ ì‹¤í–‰ë˜ëŠ” ì¼ì„ í”¼í•  ìˆ˜ ì—†ë‹¤.\ní•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë°ì´í„° ì¼ê´€ì„±ì„ ë³´ì¦í•˜ëŠ” ê¸°ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì´ëŸ¬í•œ ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì€ 2ê°€ì§€ ì •ë„ê°€ ìˆë‹¤.\n2ë‹¨ê³„ ì»¤ë°‹(2-phase commit, 2PC) ì—¬ëŸ¬ ë…¸ë“œì— ê±¸ì¹œ ì›ìì  íŠ¸ëœì­ì…˜ ì‹¤í–‰ì„ ë³´ì¦í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ í”„ë¡œí† ì½œ ëª¨ë“  ë…¸ë“œê°€ ì„±ê³µí•˜ë“  ì•„ë‹ˆë©´ ì‹¤íŒ¨í•˜ë“  ë‘˜ ì¤‘ í•˜ë‚˜ë¡œ íŠ¸ëœì­ì…˜ì´ ë§ˆë¬´ë¦¬ë˜ë„ë¡ ë³´ì¦ ë¹„ì¤‘ë‹¨ ì‹¤í–‰ì´ ê°€ëŠ¥í•œ í”„ë¡œí† ì½œì´ ì•„ë‹ˆë¯€ë¡œ ì–´ëŠ í•œ ë…¸ë“œì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ í•´ë‹¹ ì¥ì• ê°€ ë³µêµ¬ë  ë•Œê¹Œì§€ ì§„í–‰ì´ ì¤‘ë‹¨ëœë‹¤.(ì„±ëŠ¥ì´ ë›°ì–´ë‚œ í”„ë¡œí† ì½œì€ ì•„ë‹ˆë‹¤.) ì‚¬ê°€(Saga) ê° ë…¸ë“œì— êµ­ì§€ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” íŠ¸ëœì­ì…˜ì„ í•˜ë‚˜ë¡œ ì—®ëŠ”ë‹¤. ê°ê°ì˜ íŠ¸ëœì­ì…˜ì€ ì™„ë£Œë˜ë©´ ë‹¤ìŒ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ëŠ” íŠ¸ë¦¬ê±°ë¡œ ì“°ì¼ ë©”ì‹œì§€ë¥¼ ë§Œë“œëŸ¬ ë³´ë‚¸ë‹¤. í•œ íŠ¸ëœì­ì…˜ì´ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ê·¸ ì´ì „ íŠ¸ëœì­ì…˜ì˜ ê²°ê³¼ë¥¼ ì „ë¶€ ë˜ë ë¦¬ëŠ” íŠ¸ëœì­ì…˜ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•œë‹¤. 2pcëŠ” ì—¬ëŸ¬ ë…¸ë“œì— ê±¸ì¹œ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì„ í†µí•´ ACID ì†ì„±ì„ ë§Œì¡±ì‹œí‚¤ëŠ” ê°œë…ì´ì§€ë§Œ ì‚¬ê°€ëŠ” ê° ë‹¨ê³„ê°€ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì´ë¼ì„œ ê²°ê³¼ì  ì¼ê´€ì„±ì— ì˜ì¡´í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³¸ë‹¤. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ì˜ ë°ì´í„° ë¶ˆì¼ì¹˜ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ë³µì¡í•œ ë§¤ì»¤ë‹ˆì¦˜ì€ ì‹œìŠ¤í…œ ì „ì²´ ì„¤ê³„ì˜ ë³µì¡ì„±ì„ í¬ê²Œ ì¦ê°€ì‹œí‚¨ë‹¤.\nì¦ê°€í•œ ë³µì¡ì„±ì´ ê·¸ë§Œí•œ ê°€ì¹˜ê°€ ìˆëŠ” ì§€ ê²°ì •í•˜ëŠ” ê²ƒì€ ì„¤ê³„ìì˜ ëª«ì´ë‹¤.\nì´ë²ˆ ì„¤ê³„ì•ˆì€ ê·¸ë§Œí•œ ê°€ì¹˜ëŠ” ì—†ë‹¤ê³  íŒë‹¨í•˜ì—¬ ì˜ˆì•½ ë° ì”ì—¬ ê°ì‹¤ ì •ë³´ë¥¼ ë™ì¼í•œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” ì¢€ ë” ì‹¤ìš©ì ì¸ ì ‘ê·¼ ë°©ë²•ì„ ì„ íƒí–ˆë‹¤. 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ê²½ìŸ ì¡°ê±´ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì‹œë‚˜ë¦¬ì˜¤ ë¹„ê´€ì  ë½ ë‚™ê´€ì  ë½ ë°ì´í„°ë² ì´ìŠ¤ ì œì•½ ì¡°ê±´ ê·œëª¨ í™•ì¥ ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”© ë ˆë””ìŠ¤ ìºì‹œ ë§ˆì´í¬ë¡œì•„í‚¤í…ì²˜ì˜ ë°ì´í„° ì¼ê´€ì„± ë¬¸ì œ ","date":"2024-10-12T14:59:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/7/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/7/","title":"7. í˜¸í…” ì˜ˆì•½ ì‹œìŠ¤í…œ"},{"content":"ì´ë²ˆ ì¥ì€ í˜ì´ìŠ¤ë¶ì´ë‚˜ êµ¬ê¸€ ê·œëª¨ì— ê±¸ë§ëŠ” ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ ì§‘ê³„ ì‹œìŠ¤í…œ(ad click event aggregation system)ì„ ì„¤ê³„í•´ë³¸ë‹¤.\nê¸°ìˆ ì ì¸ ì„¸ë¶€ì‚¬í•­ì„ ê¹Šì´ ì‚´í´ë³´ê¸° ì „ ì˜¨ë¼ì¸ ê´‘ê³ ì˜ í•µì‹¬ ê°œë…ë¶€í„° ì‚´í´ë³¸ë‹¤.\nì˜¨ë¼ì¸ ê´‘ê³ ì˜ í•µì‹¬ì  í˜œíƒì€ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ í†µí•´ ê´‘ê³  íš¨ê³¼ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ì¸¡ì •í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.\ní•µì‹¬ í”„ë¡œì„¸ìŠ¤ëŠ” RTB(Real-Time Bidding)ìœ¼ë¡œ, ì´ ê²½ë§¤ ì ˆì°¨ë¥¼ í†µí•´ ê´‘ê³ ê°€ ë‚˜ê°ˆ ì§€ë©´(inventory)ì„ ê±°ë˜í•œë‹¤.\nflowchart LR subgraph ì§€ë©´ìˆ˜ìš”ì direction LR ê´‘ê³ ì£¼ --\u003e DSP[DSP: ìˆ˜ìš”ì í”Œë«í¼] end DSP --\u003e ê´‘ê³ ê±°ë˜ì†Œ SSP --\u003e ê´‘ê³ ê±°ë˜ì†Œ subgraph ì§€ë©´ê³µê¸‰ì direction RL ê³µê¸‰ì --\u003e SSP[SSP: ê³µê¸‰ì í”Œë«í¼] end ì†ë„ ë³´í†µ 1ì´ˆ ë‚´ì— ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ë§ˆë¬´ë¦¬ë˜ì–´ì•¼ í•œë‹¤. ë°ì´í„° ì •í™•ì„± ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ ì§‘ê³„ëŠ” ì˜¨ë¼ì¸ ê´‘ê³ ê°€ ì–¼ë§ˆë‚˜ íš¨ìœ¨ì ì´ì—ˆëŠ”ì§€ ì¸¡ì •í•˜ëŠ” ë° ê²°ì •ì ì¸ ì—­í• ì„ í•œë‹¤. ê´‘ê³ ì£¼ê°€ ì–¼ë§ˆë‚˜ ë§ì€ ëˆì„ ì§€ë¶ˆí• ì§€ì— ì˜í–¥ì„ ë¼ì¹œë‹¤. í´ë¦­ ì§‘ê³„ ê²°ê³¼ì— ë”°ë¼ ê´‘ê³  ìº í˜ì¸ ê´€ë¦¬ìëŠ” ì˜ˆì‚°ì„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤. íƒ€ê¹ƒì´ë‚˜ í‚¤ì›Œë“œë¥¼ ë³€ê²½í•˜ëŠ” ë“± ê³µê³  ì „ëµì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤. CTR(Click-Through Rate, í´ë¦­ë¥ ), CVR(Conversion Rate, ì „í™˜ë¥ ) 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì§€ë‚œ Më¶„ ë™ì•ˆì˜ ad_id í´ë¦­ ìˆ˜ ì§‘ê³„ ë§¤ë¶„ ê°€ì¥ ë§ì´ í´ë¦­ëœ ìƒìœ„ 100ê°œ ê´‘ê³  ì•„ì´ë””ë¥¼ ë°˜í™˜ ë‹¤ì–‘í•œ ì†ì„±ì— ë”°ë¥¸ ì§‘ê³„ í•„í„°ë§ì„ ì§€ì› ë°ì´í„°ì˜ ì–‘ì€ í˜ì´ìŠ¤ë¶ì´ë‚˜ êµ¬ê¸€ ê·œëª¨ ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì§‘ê³„ ê²°ê³¼ ì •í™•ì„±ì€ ë°ì´í„°ê°€ RTB ë° ê´‘ê³  ê³¼ê¸ˆì— ì‚¬ìš©ë˜ë¯€ë¡œ ì¤‘ìš” ì§€ì—°ë˜ê±°ë‚˜ ì¤‘ë³µëœ ì´ë²¤íŠ¸ë¥¼ ì ì ˆíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•¨ ê²¬ê³ ì„± ë¶€ë¶„ì ì¸ ì¥ì• ëŠ” ê°ë‚´í•  ìˆ˜ ìˆì–´ì•¼í•¨ ì§€ì—° ì‹œê°„ ìš”êµ¬ì‚¬í•­ ì „ì²´ ì²˜ë¦¬ ì‹œê°„ì€ ìµœëŒ€ ìˆ˜ ë¶„ì„ ë„˜ì§€ ì•Šì•„ì•¼í•¨ ê°œë ¥ì  ì¶”ì • ì‹œìŠ¤í…œ ê·œëª¨ ë° í’€ì–´ì•¼ í•  ì ì¬ì  ë¬¸ì œì ì„ íŒŒì•…í•˜ê¸° ì´í•´ ê°œëµì ì¸ ê·œëª¨ë¥¼ ì¶”ì •í•´ë³¸ë‹¤.\nDAU 10ì–µ ê° ì‚¬ìš©ìëŠ” í•˜ë£¨ì— í‰ê·  1ê°œ ê´‘ê³ ë¥¼ í´ë¦­í•œë‹¤ ê°€ì • ë”°ë¼ì„œ í•˜ë£¨ì— 10ì–µ ê±´ì˜ ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ ê´‘ê³  í´ë¦­ QPS = 10^9 / 10^5 = 10,000 ìµœëŒ€ ê´‘ê³  í´ë¦­ QPSëŠ” í‰ê·  QPSì˜ 5ë°°ë¡œ ê°€ì •(50,000) ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ í•˜ë‚˜ë‹¹ 0.1KB ìš©ëŸ‰ì´ í•„ìš”í•˜ë‹¤ê³  ê°€ì • ì¼ì¼ ì €ì¥ì†Œ ìš”êµ¬ëŸ‰ = 0.1KB * 10ì–µ = 100GB ì›”ê°„ ì €ì¥ ìš©ëŸ‰ ìš”êµ¬ëŸ‰ì€ ëŒ€ëµ 3TB 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ì§ˆì˜ API ì„¤ê³„ APIë¥¼ ì„¤ê³„í•˜ëŠ” ëª©ì ì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ í†µì‹  ê·œì•½ì„ ë§Œë“œëŠ” ê²ƒ ì´ë‹¤.\në³¸ ì„¤ê³„ì•ˆì˜ í´ë¼ì´ì–¸íŠ¸ëŠ” ëŒ€ì‹œë³´ë“œë¥¼ ì´ìš©í•˜ëŠ” ë°ì´í„° ê³¼í•™ì, ì œí’ˆ ê´€ë¦¬ì, ê´‘ê³ ì£¼ ê°™ì€ ì‚¬ëŒìœ¼ë¡œ, ëŒ€ì‹œë³´ë“œë¥¼ ì´ìš©í•˜ëŠ” ìˆœê°„ ì§‘ê³„ ì„œë¹„ìŠ¤ì— ì§ˆì˜ê°€ ë°œìƒí•œë‹¤.\nì§€ë‚œ Më¶„ê°„ ê° ad_idì— ë°œìƒí•œ í´ë¦­ ìˆ˜ ì§‘ê³„\nAPI ìš©ë„ GET /v1/ads/{:ad_id}/aggregated_count ì£¼ì–´ì§„ ad_idì— ë°œìƒí•œ ì´ë²¤íŠ¸ ìˆ˜ë¥¼ ì§‘ê³„í•˜ì—¬ ë°˜í™˜ í˜¸ì¶œ ì¸ì\nfrom : ì§‘ê³„ ì‹œì‘ ì‹œê°„ to: ì§‘ê³„ ì¢…ë£Œ ì‹œê°„ filter: í•„í„°ë§ ì „ëµ ì‹ë³„ì ë°˜í™˜ ì‘ë‹µ\nad_id: ê´‘ê³  ì‹ë³„ì count: ì§‘ê³„ëœ í´ë¦­ íšŸìˆ˜ ì§€ë‚œ Më¶„ê°„ ê°€ì¥ ë§ì€ í´ë¦­ì´ ë°œìƒí•œ ìƒìœ„ Nê°œ ad_id ëª©ë¡\nAPI ìš©ë„ GET /v1/ads/popular_ads ì§€ë‚œ Më¶„ê°„ ê°€ì¥ ë§ì€ í´ë¦­ì´ ë°œìƒí•œ ìƒìœ„ Nê°œ ê´‘ê³  ëª©ë¡ ë°˜í™˜ í˜¸ì¶œ ì¸ì count: ìƒìœ„ ëª‡ ê°œì˜ ê´‘ê³ ë¥¼ ë°˜í™˜í•  ê²ƒì¸ê°€ window: ë¶„ ë‹¨ìœ„ë¡œ í‘œí˜„ëœ ì§‘ê³„ ìœˆë„ í¬ê¸° filter: í•„í„°ë§ ì „ëµ ì‹ë³„ì ì‘ë‹µ ad_ids: ê³µê³  ì‹ë³„ì ëª©ë¡ ë°ì´í„° ëª¨ë¸ ì´ ì‹œìŠ¤í…œì€ ì›ì‹œ ë°ì´í„°ì™€ ì§‘ê³„ ê²°ê³¼ ë°ì´í„°ë¥¼ ë‹¤ë£¬ë‹¤.\nì›ì‹œ ë°ì´í„°\në¡œê·¸ íŒŒì¼ ë“±ìœ¼ë¡œ ì €ì¥ëœ ê°€ê³µë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ì˜ë¯¸í•œë‹¤.\n1 [AdClickEvent] ad001, 2021-01-01 00:00:01, user 1, 270.148.22.22, USA ìœ„ì™€ ê°™ì€ ë°ì´í„°ê°€ ì—¬ëŸ¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì— ì‚°ì¬í•´ìˆë‹¤.\nì§‘ê³„ ê²°ê³¼ ë°ì´í„°\nê³µê³  í´ë¦­ ì´ë²¤íŠ¸ê°€ ë§¤ë¶„ ì§‘ê³„ëœë‹¤ê³  ê°€ì •í•œë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ í‘œí˜„ë  ìˆ˜ ìˆë‹¤.\nad_id click_minute count ad001 202101010000 5 ad001 202101010001 7 ê´‘ê³  í•„í„°ë§ì„ ì§€ì›í•˜ê¸° ìœ„í•´ filter_idë¥¼ ì¶”ê°€í•˜ê³  ê°™ì€ ad_idì™€ click_minute ê°’ì„ ê°–ëŠ” ë ˆì½”ë“œë¥¼ filter_idê°€ ê°€ë¦¬í‚¤ëŠ” í•„í„° ì ìš© ê²°ê³¼ì— ë”°ë¼ ì§‘ê³„í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë§Œë“¤ì–´ì§„ë‹¤.\nad_id click_minute filter_id count ad001 2021010000 0012 2 ad001 2021010000 0023 3 ad001 2021010001 0012 1 ad001 2021010001 0023 6 filter_id region ip user_id 0012 US 0012 * 0013 * 0023 123.1.2.3 ì§€ë‚œ Më¶„ ë™ì•ˆ ê°€ì¥ ë§ì´ í´ë¦­ëœ ìƒìœ„ Nê°œì˜ ê´‘ê³ ë¥¼ ë°˜í™˜í•˜ëŠ” ì§ˆì˜ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤.\nerDiagram most_clicked_ads { window_size integer update_time_minute timestamp most_clicked_ads array } ë¹„êµ\nì›ì‹œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì•ˆê³¼ ì§‘ê³„ ê²°ê³¼ ë°ì´í„°ë§Œ ë³´ê´€í•˜ëŠ” ë°©ì•ˆì˜ ì¥ì ì„ ë¹„êµí•´ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\nì›ì‹œ ë°ì´í„°ë§Œ ë³´ê´€í•˜ëŠ” ë°©ì•ˆ ì¥ì  ì›ë³¸ ë°ì´í„°ë¥¼ ì†ì‹¤ ì—†ì´ ë³´ê´€ ë°ì´í„° í•„í„°ë§ ë° ì¬ê³„ì‚° ì§€ì› ë‹¨ì  ë§‰ëŒ€í•œ ë°ì´í„° ìš©ëŸ‰ ë‚®ì€ ì§ˆì˜ ì„±ëŠ¥ ì§‘ê³„ ê²°ê³¼ ë°ì´í„°ë§Œ ë³´ê´€í•˜ëŠ” ë°©ì•ˆ ì¥ì  ë°ì´í„° ìš©ëŸ‰ ì ˆê° ë¹ ë¥¸ ì§ˆì˜ ê¸°ëŠ¥ ë‹¨ì  ë°ì´í„° ì†ì‹¤ ì›ë³¸ ë°ì´í„°ê°€ ì•„ë‹Œ ê³„ì‚°/ìœ ë„ëœ ë°ì´í„°ë¥¼ ì €ì •í•˜ëŠ” ë°ì„œ ì˜¤ëŠ” ê²°ê³¼ì„ ì˜ˆì‹œ \u0026gt; 10ê°œì˜ ì›ë³¸ ë°ì´í„°ëŠ” 1ê°œì˜ ì§‘ê³„ ê²°ê³¼ë¡œ ì¶•ì•½ëœë‹¤ ì›ì‹œ ë°ì´í„°ì™€ ì§‘ê³„ ê²°ê³¼ ë°ì´í„°ì˜ íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ëª¨ë‘ ì €ì¥í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.\në¬¸ì œê°€ ë°œìƒí•˜ë©´ ë””ë²„ê¹…ì— í™œìš©í•  ìˆ˜ ìˆë„ë¡ ì›ì‹œ ë°ì´í„°ë„ ë³´ê´€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë°ì´í„°ê°€ ì†ìƒë˜ë©´ ë²„ê·¸ ìˆ˜ì • í›„ì— ì›ì‹œ ë°ì´í„°ì—ì„œ ì§‘ê³„ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì›ì‹œ ë°ì´í„°ëŠ” ì–‘ì´ ì—„ì²­ë‚˜ë¯€ë¡œ ì§ì ‘ ì§ˆì˜í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë‹¤. ì§‘ê³„ ê²°ê³¼ ë°ì´í„°ë¥¼ ì§ˆì˜í•œë‹¤. ì›ì‹œ ë°ì´í„°ëŠ” ë°±ì—… ë°ì´í„°ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤. ì¬ê³„ì‚°ì„ í•˜ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ êµ³ì´ ì›ì‹œ ë°ì´í„°ë¥¼ ì§ˆì˜í•  í•„ìš”ëŠ” ì—†ë‹¤. ì˜¤ë˜ëœ ì›ì‹œ ë°ì´í„°ëŠ” cold storageë¡œ ì˜®ê¸°ë©´ ë¹„ìš©ì„ ì ˆê°í•  ìˆ˜ ìˆë‹¤. ì§‘ê³„ ê²°ê³¼ ë°ì´í„°ëŠ” í™œì„± ë°ì´í„° êµ¬ì‹¤ì„ í•œë‹¤. ì§ˆì˜ ì„±ëŠ¥ì„ ë†’ì´ê¸° ìœ„í•´ íŠœë‹í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ì˜¬ë°”ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ ì˜¬ë°”ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„ íƒí•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ì‚¬í•­ì„ ê³ ë ¤í•´ì•¼í•œë‹¤.\në°ì´í„°ëŠ” ì–´ë–¤ ëª¨ìŠµì¸ê°€? ê´€ê³„í˜• ë°ì´í„°?, ë¬¸ì„œ ë°ì´í„°?, ì´ì§„ ëŒ€í˜• ê°ì²´(BLOB)? ì‘ì—… íë¦„ì´ ì½ê¸° ì¤‘ì‹¬ì¸ê°€ ì“°ê¸° ì¤‘ì‹¬ì¸ê°€?(ì•„ë‹˜ ë‘˜ë‹¤?) íŠ¸ëœì­ì…˜ì„ ì§€ì›í•´ì•¼ í•˜ëŠ”ê°€? ì§ˆì˜ ê³¼ì •ì—ì„œ SUM, COUNT ê°™ì€ ì˜¨ë¼ì¸ ë¶„ì„ ì²˜ë¦¬ í•¨ìˆ˜ë¥¼ ë§ì´ í™œìš©í•´ì•¼ í•˜ëŠ”ê°€? ì›ì‹œ ë°ì´í„°\nì¼ìƒì ì¸ ì‘ì—…ì„ ìœ„í•´ì„œë¼ë©´ ì§ˆì˜í•  í•„ìš”ê°€ ì—†ì§€ë§Œ, ë°ì´í„° ê³¼í•™ìë‚˜ ê¸°ê³„ í•™ìŠµ ì—”ì§€ë‹ˆì–´ê°€ ì—°êµ¬ë“±ìœ¼ë¡œ í™œìš©ë  ìˆ˜ ìˆë‹¤.\nì´ ì„¤ê³„ì•ˆì´ ë‹¤ë£¨ëŠ” ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•˜ëŠ” í‰ê·  ì“°ê¸° QPSëŠ” 10,000, ìµœëŒ€ 50,000 ì´ë¯€ë¡œ ì“°ê¸° ì¤‘ì‹¬ ì‹œìŠ¤í…œì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì›ì‹œ ë°ì´í„°ëŠ” ë°±ì—…ê³¼ ì¬ê³„ì‚° ìš©ë„ë¡œ í™œìš©í•˜ë¯€ë¡œ ì½ê¸° ì—°ì‚° ë¹ˆë„ëŠ” ë‚®ë‹¤. ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë„ í™œìš© ê°€ëŠ¥í•˜ì§€ë§Œ í° ê·œëª¨ì˜ ì“°ê¸° ì—°ì‚°ì´ ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±í•˜ê¸° ë§¤ìš° ì–´ë ¤ìš°ë¯€ë¡œ, ì“°ê¸° ë° ì‹œê°„ ë²”ìœ„ ì§ˆì˜ì— ìµœì í™”ëœ ì¹´ì‚°ë“œë¼ë‚˜ InfluxDBë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢€ ë” ë°”ëŒì§í•˜ë‹¤.\nì¹¼ëŸ¼í˜•(columnar) ë°ì´í„° í˜•ì‹ ê°€ìš´ë° í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ë§ˆì¡´ S3ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•ë„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. ORC, íŒŒì¼€ì´(Parquet), AVRO ê° íŒŒì¼ì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ì œí•œí•˜ë©´ ì›ì‹œ ë°ì´í„° ê¸°ë¡ ë‹´ë‹¹ ìŠ¤íŠ¸ë¦¼ í”„ë¡œì„¸ì„œê°€ ìƒˆ íŒŒì¼ì„ ë§Œë“ ë‹¤ ì§‘ê³„ ë°ì´í„°\nì§‘ê³„ ë°ì´í„°ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ì‹œê³„ì—´ ë°ì´í„°ì´ë©°, ì´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì›Œí¬ í”Œë¡œëŠ” ì½ê¸° ì—°ì‚°ê³¼ ì“°ê¸° ì—°ì‚° ë‘˜ ë‹¤ ë§ì´ ì‚¬ìš©í•œë‹¤.\nì§‘ê³„ ì„œë¹„ìŠ¤ê°€ ë°ì´í„°ë¥¼ ë§¤ ë¶„ ì§‘ê³„í•˜ê³  ê·¸ ê²°ê³¼ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°ëŠ” ê°™ì€ ìœ í˜•ì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤(ì¹´ì‚°ë“œë¼).\nê°œëµì  ì„¤ê³„ì•ˆ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¹…ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•Œ ë°ì´í„°ëŠ” ë³´í†µ ë¬´ì œí•œìœ¼ë¡œ ì‹œìŠ¤í…œì— í˜ëŸ¬ë“¤ì–´ì™”ë‹¤ê°€ ë‚˜ê°„ë‹¤.\nflowchart subgraph ì…ë ¥ logMonitor[ë¡œê·¸ëª¨ë‹ˆí„°] end subgraph í”„ë¡œì„¸ìŠ¤ dataAgg[ë°ì´í„° ì§‘ê³„ ì„œë¹„ìŠ¤] end subgraph ì¶œë ¥ db[(ë°ì´í„°ë² ì´ìŠ¤)] end subgraph í‘œì‹œ query[ì§ˆì˜ ì„œë¹„ìŠ¤] end logMonitor --ë°ì´í„° í‘¸ì‹œ--\u003e dataAgg dataAgg --ê´‘ê³  ìˆ˜--\u003e db dataAgg --ê°€ì¥ ë§ì´ í´ë¦­ëœ ìƒìœ„ 100ê°œ ê´‘ê³ --\u003e db query --ì§ˆì˜--\u003e db ë¹„ë™ê¸° ì²˜ë¦¬\nì œì‹œí•œ ì„¤ê³„ì•ˆì€ ë™ê¸°ì‹ ì²˜ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì§€ë§Œ, ìƒì‚°ìì™€ ì†Œë¹„ìì˜ ìš©ëŸ‰ì´ í•­ìƒ ê°™ì„ ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì— ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\níŠ¸ë˜í”½ì´ ê°‘ìê¸° ì¦ê°€í•˜ì—¬ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ ìˆ˜ê°€ ì†Œë¹„ìì˜ ì²˜ë¦¬ ìš©ëŸ‰ì„ í›¨ì”¬ ë„˜ì–´ì„œëŠ” ê²½ìš° ì†Œë¹„ìëŠ” ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜ ë“±ì˜ ì˜ˆê¸°ì¹˜ ì•Šì€ ë¬¸ì œë¥¼ ê²ªê²Œ ë  ìˆ˜ ìˆë‹¤. ë™ê¸°ì‹ ì‹œìŠ¤í…œì˜ ê²½ìš° íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì˜ ì¥ì• ëŠ” ì „ì²´ ì‹œìŠ¤í…œì˜ ì¥ì• ë¡œ ì´ì–´ì§„ë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì¼ë°˜ì ì¸ ë°©ì•ˆì€ ì¹´í”„ì¹´ ê°™ì€ ë©”ì‹œì§€ íë¥¼ ë„ì…í•˜ì—¬ ìƒì‚°ìì™€ ì†Œë¹„ìì˜ ê²°í•¨ì„ ëŠëŠ” ê²ƒì´ë‹¤.\nì „ì²´ í”„ë¡œì„¸ìŠ¤ê°€ ë¹„ë™ê¸°ë¡œ ë™ì‘í•˜ê²Œëœë‹¤. ë¹„ë™ê¸°ë¡œ ë™ì‘í•˜ë¯€ë¡œ ìƒì‚°ìì™€ ì†Œë¹„ìì˜ ê·œëª¨ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í™•ì¥í•´ ë‚˜ê°ˆ ìˆ˜ ìˆê²Œëœë‹¤. ë¡œê·¸ ê°ì‹œì, ì§‘ê³„ ì„œë¹„ìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë‘ ê°œì˜ ë©”ì‹œì§€ íë¡œ ë¶„ë¦¬ë˜ì–´ìˆë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ê¸°ë¡ í”„ë¡œì„¸ìŠ¤ëŠ” ë©”ì‹œì§€ëŠ” ë©”ì‹œì§€ íì—ì„œ ë°ì´í„°ë¥¼ êº¼ë‚´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì§€ì›í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜ í›„ ê¸°ë¡í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\nì²« ë²ˆì§¸ ë©”ì‹œì§€ í ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ê°€ ê¸°ë¡ëœë‹¤. ad_id, click_timestamp, user_id, ip, country ë‘ ë²ˆì§¸ ë©”ì‹œì§€ í ë¶„ ë‹¨ìœ„ë¡œ ì§‘ê²Œëœ ê´‘ê³  í´ë¦­ ìˆ˜ ë¶„ ë‹¨ìœ„ë¡œ ì§‘ê³„í•œ, ê°€ì¥ ë§ì´ í´ë¦­í•œ ìƒìœ„ Nê°œ ê´‘ê³  ì§‘ê³„ ê²°ê³¼ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë°”ë¡œ ê¸°ë¡í•˜ì§€ ì•ŠëŠ” ì´ìœ ëŠ” ì •í™•í•˜ê²Œ í•œ ë²ˆ(exactly once) ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´(atomic commit, ì›ìì  ì»¤ë°‹) ì¹´í”„ì¹´ ê°™ì€ ì‹œìŠ¤í…œì„ ë‘ ë²ˆ ì§¸ ë©”ì‹œì§€ íë¡œ ë„ì…í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\nì§‘ê³„ ì„œë¹„ìŠ¤ ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì§‘ê³„í•˜ëŠ” ì¢‹ì€ ë°©ì•ˆ í•˜ë‚˜ëŠ” ë§µë¦¬ë“€ìŠ¤(MapReduce) í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì´ë‹¤.\në§µë¦¬ë“€ìŠ¤ í”„ë ˆì„ì›Œí¬ì— ì¢‹ì€ ëª¨ë¸ì€ ìœ í–¥ ë¹„ìˆœí™˜ ê·¸ë˜í”„(DAG) ëª¨ë¸ì´ë©°, ì‹œìŠ¤í…œì„ ë§µ/ì§‘ê³„/ë¦¬ë“€ìŠ¤ ë…¸ë“œ ë“œìœ¼ì´ ì‘ì€ ì»´í“¨íŒ… ë‹¨ìœ„ë¡œ ì„¸ë¶„í™” í•  ìˆ˜ ìˆë‹¤.\nê° ë…¸ë“œëŠ” í•œ ê°€ì§€ ì‘ì—…ë§Œ ì²˜ë¦¬í•˜ë©°, ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë‹¤ìŒ ë…¸ë“œì— ì¸ê³„í•œë‹¤. flowchart LR data --ë°ì´í„° ì…ë ¥--\u003e Map((Map)) --ad_id % 2 = 0--\u003e node1((ì§‘ê³„ ë…¸ë“œ 1)) Map --ad_id % 2 = 1--\u003e node2((ì§‘ê³„ ë…¸ë“œ 2)) ë§µ ë…¸ë“œ\në§µ ë…¸ë“œëŠ” ë°ì´í„° ì¶œì²˜ì—ì„œ ì½ì€ ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³  ë³€í™˜í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nì¹´í”„ì¹´ íŒŒí‹°ì…˜ì´ë‚˜ íƒœê·¸ë¥¼ êµ¬ì„±í•œ í›„ ì§‘ê³„ ë…¸ë“œê°€ ì¹´í”„ì¹´ë¥¼ ì§ì ‘ êµ¬ë…í•˜ë„ë¡ í•  ê²½ìš° ë§µ ë…¸ë“œë¥¼ í™œìš©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ, ì…ë ¥ ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ê±°ë‚˜ ì •ê·œí™”í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” ë§µ ë…¸ë“œê°€ í•„ìš”í•˜ë‹¤. ë°ì´í„°ê°€ ìƒì„±ë˜ëŠ” ë°©ì‹ì— ëŒ€í•œ ì œì–´ê¶Œì´ ì—†ëŠ” ê²½ìš° ë™ì¼í•œ ad_idë¥¼ ê°–ëŠ” ì´ë²¤íŠ¸ê°€ ì„œë¡œ ë‹¤ë¥¸ ì¹´í”„ì¹´ íŒŒí‹°ì…˜ì— ì…ë ¥ë  ìˆ˜ ìˆë‹¤. ì§‘ê³„ ë…¸ë“œ\nì§‘ê³„ ë…¸ë“œëŠ” ad_id ë³„ ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ ìˆ˜ë¥¼ ë§¤ ë¶„ ë©”ëª¨ë¦¬ì—ì„œ ì§‘ê³„í•œë‹¤.\në§µë¦¬ë“€ìŠ¤ íŒ¨ëŸ¬ë‹¤ì„ì—ì„œ ì‚¬ì‹¤ ì§‘ê³„ ë…¸ë“œëŠ” ë¦¬ë“€ìŠ¤ í”„ë¡œì„¸ìŠ¤ì˜ ì¼ë¶€ì—¬ì„œ, ë§µ-ì§‘ê³„-ë¦¬ë“€ìŠ¤ í”„ë¡œì„¸ìŠ¤ëŠ” ë§µ-ë¦¬ë“€ìŠ¤-ë¦¬ë“€ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¼ê³ ë„ í•  ìˆ˜ ìˆë‹¤.\në¦¬ë“€ìŠ¤ ë…¸ë“œ\në¦¬ë“€ìŠ¤ ë…¸ë“œëŠ” ëª¨ë“  ì§‘ê³„ ë…¸ë“œê°€ ì‚°ì¶œí•œ ê²°ê³¼ë¥¼ ìµœì¢… ê²°ê³¼ë¡œ ì¶•ì•½í•œë‹¤.\nDAGëŠ” ë§µë¦¬ë“€ìŠ¤ íŒ¨ëŸ¬ë‹¤ì„ì„ í‘œí˜„í•˜ê¸° ìœ„í•œ ëª¨ë¸ë¡œ, ë¹…ë°ì´í„°ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ ë³‘ë ¬ ë¶„ì‚° ì»´í“¨íŒ… ìì›ì„ í™œìš©í•˜ì—¬ ë¹…ë°ì´í„°ë¥¼ ì‘ì€(ì¼ë°˜ì ) í¬ê¸° ë°ì´í„°ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ ëª¨ë¸ì´ë‹¤.\nì¤‘ê°„ ë°ì´í„°ëŠ” ë©”ëª¨ë¦¬ì— ì €ì¥ë  ìˆ˜ ìˆìœ¼ë©°, ë…¸ë“œ ê°„ í†µì‹ ì€ ì„œë¡œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²½ìš° TCP, ì„œë¡œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í•´ì˜¤ë””ëŠ” ê²½ìš° ê³µìœ  ë©”ëª¨ë¦¬ë¡œ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆë‹¤.\nì£¼ìš” ì‚¬ìš© ì‚¬ë¡€\ní´ë¦­ ì´ë²¤íŠ¸ ìˆ˜ ì§‘ê³„ ê°€ì¥ ë§ì´ í´ë¦­ëœ ìƒìœ„ Nê°œ ê´‘ê³  ë°˜í™˜ ë°ì´í„° í•„í„°ë§ í•„í„°ë§ ê¸°ì¤€ì„ ì‚¬ì „ì— ì •ì˜í•œ í›„ í•´ë‹¹ ê¸°ì¤€ì— ë”°ë¼ ì§‘ê³„í•œë‹¤. ìŠ¤íƒ€ ìŠ¤í‚¤ë§ˆ\në°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ì—ì„œ ë„ë¦¬ ì“°ì´ëŠ” ê¸°ë²•ìœ¼ë¡œ, í•„í„°ë§ì— ì‚¬ìš©ë˜ëŠ” í•„ë“œëŠ” ì°¨ì›ì´ë¼ ë¶€ë¥¸ë‹¤.\nì¥ì  ì´í•´í•˜ê¸° ì‰½ê³  êµ¬ì¶•í•˜ê¸° ê°„ë‹¨í•˜ë‹¤. ê¸°ì¡´ ì§‘ê³„ ì„œë¹„ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ ìŠ¤íƒ€ ìŠ¤í‚¤ë§ˆì— ë” ë§ì€ ì°¨ì›ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ë‹¤ë¥¸ ì¶”ê°€ ì»´í¬ë„ŒíŠ¸ëŠ” í•„ìš”ì—†ë‹¤. ê²°ê³¼ë¥¼ ë¯¸ë¦¬ ê³„ì‚°í•´ ë‘ëŠ” ë°©ì‹ì´ë¯€ë¡œ, í•„í„°ë§ ê¸°ì¤€ì— ë”°ë¼ ë°ì´í„°ì— ë¹ ë¥´ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ë‹¨ì  ë§ì€ ë²„í‚·ê³¼ ë ˆì½”ë“œê°€ ìƒì„±ëœë‹¤. (í•„í„°ë§ ê¸°ì¤€ì´ ë§ì„ ê²½ìš° ë”ë”ìš±) 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ìŠ¤íŠ¸ë¦¬ë° vs ì¼ê´„ ì²˜ë¦¬ ì„œë¹„ìŠ¤(ì˜¨ë¼ì¸ ì‹œìŠ¤í…œ) ì¼ê´„ ì²˜ë¦¬ ì‹œìŠ¤í…œ(ì˜¤í”„ë¼ì¸ ì‹œìŠ¤í…œ) ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ ì‹œìŠ¤í…œ(ì‹¤ì‹œê°„ì— ê°€ê¹ê²Œ ì²˜ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œ) ì‘ë‹µì„± í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë¹ ë¥´ê²Œ ì‘ë‹µ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µí•  í•„ìš”ê°€ ì—†ìŒ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µí•  í•„ìš”ê°€ ì—†ìŒ ì…ë ¥ ì‚¬ìš©ìì˜ ìš”ì²­ ìœ í•œí•œ í¬ê¸°ë¥¼ ê°–ëŠ” ì…ë ¥. í° ê·œëª¨ì˜ ë°ì´í„° ì…ë ¥ì— ê²½ê³„ê°€ ì—†ìŒ(ë¬´í•œ ìŠ¤íŠ¸ë¦¼) ì¶œë ¥ í´ë¼ì´ì–¸íŠ¸ì— ëŒ€í•œ ì‘ë‹µ êµ¬ì²´í™” ë·°, ì§‘ê³„ ê²°ê³¼ ì§€í‘œ ë“± êµ¬ì²´í™” ë·°, ì§‘ê³„ ê²°ê³¼ ì§€í‘œ ë“± ì„±ëŠ¥ ì¸¡ì • ê¸°ì¤€ ê°€ìš©ì„±, ì§€ì—° ì‹œê°„ ì²˜ë¦¬ëŸ‰ ì²˜ë¦¬ëŸ‰, ì§€ì—° ì‹œê°„ ì‚¬ë¡€ ì˜¨ë¼ì¸ ì‡¼í•‘ ë§µë¦¬ë“€ìŠ¤ í”Œë§í¬ ë³¸ ì„¤ê³„ì•ˆì€ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ì™€ ì¼ê´„ ì²˜ë¦¬ ë°©ì‹ì„ ëª¨ë‘ ì‚¬ìš©í•œë‹¤.\nìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ëŠ” ë°ì´í„°ë¥¼ ì˜¤ëŠ” ëŒ€ë¡œ ì²˜ë¦¬í•˜ê³  ê±°ì˜ ì‹¤ì‹œê°„ìœ¼ë¡œ ì§‘ê³„ëœ ê²°ê³¼ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©í•œë‹¤. ì¼ê´„ ì²˜ë¦¬ëŠ” ì´ë ¥ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê¸° ìœ„í•´ í™œìš©í•œë‹¤. ëŒë‹¤ ì•„í‚¤í…ì²˜\nì¼ê´„ ë° ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ ê²½ë¡œë¥¼ ë™ì‹œì— ì§€ì›í•˜ëŠ” ì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ë¥¼ ëŒë‹¤(lambda)ë¼ê³  ë¶€ë¥¸ë‹¤.\nëŒë‹¤ ì•„í‚¤í…ì²˜ì˜ ë‹¨ì ì€ ë‘ ê°€ì§€ ì²˜ë¦¬ ê²½ë¡œë¥¼ ì§€ì›í•˜ë¯€ë¡œ ìœ ì§€ ê´€ë¦¬ í•´ì•¼í•  ì½”ë“œê°€ ë‘ ë²Œì´ë¼ëŠ” ì ì´ë‹¤.\nì¹´íŒŒ ì•„í‚¤í…ì²˜\nì¹´íŒŒ ì•„í‚¤í…ì²˜(Kappa architecture)ëŠ” ì¼ê´„ ì²˜ë¦¬ì™€ ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ ê²½ë¡œë¥¼ í•˜ë‚˜ë¡œ ê²°í•©í•˜ì—¬ ëŒë‹¤ ì•„í‚¤í…ì²˜ì˜ ë‹¨ì ì„ í•´ê²°í•œë‹¤.\ní•µì‹¬ ì•„ì´ë””ì–´ëŠ” ë‹¨ì¼ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ì—”ì§„ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬ ë° ëŠì„ì—†ëŠ” ë°ì´í„° ì¬ì²˜ë¦¬ ë¬¸ì œë¥¼ ëª¨ë‘ í•´ê²°í•˜ëŠ” ê²ƒì´ë‹¤.\në³¸ ì‹œìŠ¤í…œì˜ ê°œëµì  ì„¤ê³„ì•ˆì€ ì¹´íŒŒ ì•„í‚¤í…ì²˜ë¥¼ ë”°ë¥¸ë‹¤. ë”°ë¼ì„œ ì´ë ¥ ë°ì´í„°ì˜ ì¬ì²˜ë¦¬ë„ ì‹¤ì‹œê°„ ì§‘ê³„ ì„œë¹„ìŠ¤ë¥¼ ê±°ì¹˜ê²Œëœë‹¤.\në°ì´í„° ì¬ê³„ì‚° ì´ë¯¸ ì§‘ê³„í•œ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ê³„ì‚°í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ë¥¼ ì´ë ¥ ë°ì´í„° ì¬ì²˜ë¦¬(historical data replay)ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.\nì›ì‹œ ë°ì´í„° ì €ì¥ì†Œì—ì„œ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•œë‹¤. ì¶”ì¶œëœ ë°ì´í„°ë¥¼ ì „ìš© ì§‘ê³„ ì„œë¹„ìŠ¤ë¡œ ì „ì†¡í•œë‹¤. ì „ìš© ì§‘ê³„ ì„œë¹„ìŠ¤ëŠ” ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬ ê³¼ì •ì´ ê³¼ê±° ë°ì´í„° ì¬ì²˜ë¦¬ í”„ë¡œì„¸ìŠ¤ì™€ ê°„ì„­í•˜ëŠ” ì¼ì„ ë§‰ê¸° ìœ„í•´ ì¶”ê°€í•œë‹¤. ì§‘ê³„ ê²°ê³¼ëŠ” ë‘ ë²ˆì§¸ ë©”ì‹œì§€ íë¡œ ì „ì†¡ë˜ì–´ ì§‘ê³„ ê²°ê³¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜ëœë‹¤. ì¬ê³„ì‚° í”„ë¡œì„¸ìŠ¤ëŠ” ë°ì´í„° ì§‘ê³„ ì„œë¹„ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•˜ê¸°ëŠ” í•˜ì§€ë§Œ ì²˜ë¦¬ ëŒ€ìƒ ë°ì´í„°ëŠ” ë‹¤ë¥¸ ê³³ì—ì„œ ì½ëŠ”ë‹¤(ì›ì‹œ ë°ì´í„°).\nì‹œê°„ ì§‘ê³„ë¥¼ í•˜ë ¤ë©´ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ í•„ìš”í•œë°, íƒ€ì„ ìŠ¤íƒ¬í”„ëŠ” ë‘ ê°€ì§€ ë‹¤ë¥¸ ìœ„ì¹˜ì—ì„œ ë§Œë“¤ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ë²¤íŠ¸ ì‹œê°: ê´‘ê³  í´ë¦­ì´ ë°œìƒí•œ ì‹œê° ì²˜ë¦¬ ì‹œê°: ì§‘ê³„ ì„œë²„ê°€ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•œ ì‹œìŠ¤í…œ ì‹œê° ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ë‚˜ ë¹„ë™ê¸° ì²˜ë¦¬ í™˜ê²½(ë°ì´í„°ê°€ ë©”ì‹œì§€ íë¥¼ ê±°ì³ì•¼ í•˜ëŠ” í™˜ê²½)ë•Œë¬¸ì— ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ì‹œê°ê³¼ ì²˜ë¦¬ ì‹œê° ì‚¬ì´ì˜ ê°„ê²©ì´ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ì‹œê°ì„ ì§‘ê³„ì— ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì§€ì—°ëœ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¬¸ì œë¥¼ ì˜ í•´ê²°í•´ì•¼ í•˜ë©°, ì²˜ë¦¬ ì‹œê°ì„ ì§‘ê³„ì— ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì§‘ê³„ ê²°ê³¼ê°€ ë¶€ì •í™•í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.\nì™„ë²½í•œ ì†”ë£¨ì…˜ì€ ì—†ìœ¼ë¯€ë¡œ, ë‘ ë°©ì€ì˜ ì¥ë‹¨ì ì„ ê³ ë ¤í•˜ì—¬ ì ì ˆí•œ ê²°ì •ì„ ë‚´ë¦°ë‹¤.\nì´ë²¤íŠ¸ ë°œìƒ ì‹œê° ì¥ì  ê´‘ê³  í´ë¦­ ì‹œì ì„ ì •í™•íˆ ì•„ëŠ” ê²ƒì€ í´ë¼ì´ì–¸íŠ¸ì´ë¯€ë¡œ ì§‘ê³„ ê²°ê³¼ê°€ ë³´ë‹¤ ì •í™• ë‹¨ì  í´ë¼ì´ì–¸íŠ¸ê°€ ìƒì„±í•œ íƒ€ì„ìŠ¤íƒ¬í”„ì— ì˜ì¡´í•˜ëŠ” ë°©ì‹ì´ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ì— ì„¤ì •ëœ ì‹œê°ì´ ì˜ëª» ë˜ì—ˆê±°ë‚˜ ì•…ì„± ì‚¬ìš©ìê°€ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ê³ ì˜ë¡œ ì¡°ì‘í•˜ëŠ” ë¬¸ì œì—ì„œ ììœ ë¡œìš¸ ìˆ˜ ì—†ìŒ ì²˜ë¦¬ ì‹œê° ì¥ì  ì„œë²„ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ í´ë¼ì´ì–¸íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„ë³´ë‹¤ ì•ˆì •ì  ë‹¨ì  ì´ë²¤íŠ¸ê°€ ì‹œìŠ¤í…œì— ë„ì°©í•œ ì‹œê°ì´ í•¨ì°¸ ë’¤ì¸ ê²½ìš°ì—ëŠ” ì§‘ê³„ ê²°ê³¼ê°€ ë¶€ì •í™•í•´ì§ ë°ì´í„° ì •í™•ë„ëŠ” ì•„ì£¼ ì¤‘ìš”í•˜ë¯€ë¡œ, ì´ë²¤íŠ¸ ë°œìƒ ì‹œê°ì„ ì‚¬ìš©í•  ê²ƒì„ ì¶”ì²œí•œë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ì‹œìŠ¤í…œì— ëŠ¦ê²Œ ë„ì°©í•œ ì´ë²¤íŠ¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì›Œí„°ë§ˆí¬(watermark)ë¼ëŠ” ê¸°ìˆ ì´ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.\nì´ë²¤íŠ¸ ë°œìƒ ì‹œê°ì„ ê¸°ì¤€ìœ¼ë¡œ ì´ë²¤íŠ¸ê°€ ì–´ë–¤ ìœˆë„ì— ì†í•˜ëŠ”ì§€ ê²°ì •í•˜ë©´ ì´ë²¤íŠ¸ê°€ ì§‘ê³„ ìœˆë„ê°€ ëë‚˜ëŠ” ì‹œì ë³´ë‹¤ ì‚´ì§ ëŠ¦ê²Œ ë„ì°©í•˜ê²Œë˜ëŠ” ê²½ìš° ì§‘ê³„ì— ì‹¤íŒ¨í•˜ê²Œëœë‹¤.\nì›Œí„°ë§ˆí¬ëŠ” ì§‘ê³„ ìœˆë„ë¥¼ í™•ì¥í•˜ì—¬ ì§‘ê³„ ì •í™•ë„ë¥¼ ë†’í ìˆ˜ ìˆë‹¤.\n15ì´ˆ ì›Œí„°ë§ˆí¬ë¥¼ ìœˆë„ ë§ˆë‹¤ ë¶™ì´ë©´ ìœˆë„ 1, 3ì´ ëˆ„ë½ëœ ì´ë²¤íŠ¸ë¥¼ ì§‘ê³„í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nì›Œí„°ë§ˆí¬ì˜ í¬ê¸°ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë‹¬ë¦¬ ì¡ëŠ”ë‹¤.\nì›Œí„°ë§ˆí¬ êµ¬ê°„ì´ ê¸¸ë©´ ëŠ¦ê²Œ ë„ì°©í•˜ëŠ” ì´ë²¤íŠ¸ë„ í¬ì°©í•  ìˆ˜ ìˆì§€ë§Œ ì‹œìŠ¤í…œì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ ì‹œê°„ì€ ëŠ˜ì–´ë‚œë‹¤. ì§§ìœ¼ë©´ ë°ì´í„° ì •í™•ë„ëŠ” ë–¨ì–´ì§€ì§€ë§Œ ì‹œìŠ¤í…œì˜ ì‘ë‹µ ì§€ì—°ì€ ë‚®ì•„ì§„ë‹¤. ì›Œí„°ë§ˆí¬ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ ì‹œê°„ì´ í•œì°¸ íë¥¸ í›„ì— ì‹œìŠ¤í…œì— ë„ë‹¬í•˜ëŠ” ì´ë²¤íŠ¸ëŠ” ì²˜ë¦¬í•  ìˆ˜ ì—†ë‹¤.\në°œìƒí•  í™•ë¥ ì´ ë‚®ì€ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì‹œìŠ¤í…œì„ ë³µì¡í•˜ê²Œ ì„¤ê³„í•˜ë©´ íˆ¬ì ëŒ€ë¹„ íš¨ëŠ¥(ROI)ëŠ” ë–¨ì–´ì§€ê³ , ì‚¬ì†Œí•œ ë°ì´í„° ì˜¤ë¥˜ëŠ” í•˜ë£¨ì¹˜ ë°ì´í„° ì²˜ë¦¬ë¥¼ ë§ˆê°í•  ë•Œ ì¡°ì •í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì›Œí„°ë§ˆí¬ êµ¬ê°„ì„ ê¸¸ê²Œ ê°€ì ¸ê°ˆ ì´ìœ ëŠ” ì—†ë‹¤.\nì§‘ê³„ ìœˆë„ ìœˆë„ì—ëŠ” í…€ë¸”ë§ ìœˆë„(tumbling window, ê³ ì • ìœˆë„(fixed window) ë¼ê³ ë„ í•¨), í˜¸í•‘ ìœˆë„(hopping window), ìŠ¬ë¼ì´ë”© ìœˆë„(sliding window), ì„¸ì…˜ ìœˆë„(session window) ì´ ë„¤ ì¢…ë¥˜ê°€ ìˆë‹¤.\nì´ ê°€ìš´ë° í…€í”Œë§ ìœˆë„ì™€ ìŠ¬ë¼ì´ë”© ìœˆë„ê°€ ì„¤ê³„ì•ˆê³¼ ê´€ë ¨ìˆë‹¤.\ní…€ë¸”ë§ ìœˆë„\nì‹œê°„ì„ ê°™ì€ í¬ê¸°ì˜ ê²¹ì¹˜ì§€ ì•ŠëŠ” êµ¬ê°„ìœ¼ë¡œ ë¶„í• í•˜ë¯€ë¡œ, ë§¤ ë¶„ ë°œìƒí•œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì§‘ê³„í•˜ê¸° ì í•©í•˜ë‹¤.\nìŠ¬ë¼ì´ë”© ìœˆë„\në°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ë¯¸ë„ëŸ¬ì ¸ ë‚˜ì•„ê°€ë©´ì„œ ê°™ì€ ì‹œê°„ êµ¬ê°„ ì•ˆì— ìˆëŠ” ì´ë²¤íŠ¸ë¥¼ ì§‘ê³„í•œë‹¤. ìŠ¬ë¼ì´ë”© ìœˆë„ëŠ” ì„œë¡œ ê²¹ì¹  ìˆ˜ ìˆì–´ ì‹œìŠ¤í…œì˜ ë‘ ë²ˆì§¸ ìš”êµ¬ì‚¬í•­ì¸ ì§€ë‚œ Më¶„ê°„ ê°€ì¥ ë§ì´ í´ë¦­ëœ ìƒìœ„ Nê°œ ê´‘ê³ ë¥¼ ì•Œì•„ë‚´ê¸° ì í•©í•˜ë‹¤.\nì „ë‹¬ ë³´ì¥ ì§‘ê³„ ê²°ê³¼ëŠ” ê³¼ê¸ˆ ë“±ì— í™œìš©ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë°ì´í„°ì˜ ì •í™•ì„±ê³¼ ë¬´ê²°ì„±ì´ ì•„ì£¼ ì¤‘ìš”í•˜ë‹¤.\nì´ë²¤íŠ¸ì˜ ì¤‘ë³´ ì²˜ë¦¬ë¥¼ ì–´ë–»ê²Œ í”¼í•  ìˆ˜ ìˆëŠ”ê°€? ëª¨ë“  ì´ë²¤íŠ¸ì˜ ì²˜ë¦¬ë¥¼ ì–´ë–»ê²Œ ë³´ì¥í•  ìˆ˜ ìˆëŠ”ê°€? ì¹´í”„ì¹´ì™€ ê°™ì€ ë©”ì‹œì§€ íëŠ” ë³´í†µ ìµœëŒ€ í•œ ë²ˆ, ìµœì†Œ í•œ ë²ˆ, ì •í™•íˆ í•œ ë²ˆ ì´ ì„¸ ê°€ì§€ ìœ í˜•ì˜ ì „ë‹¬ ë°©ì‹ì„ ì§€ì›í•œë‹¤.\nì–´ë–¤ ì „ë‹¬ ë°©ì‹ì„ íƒí•  ê²ƒ ì¸ê°€?\nì•½ê°„ì˜ ì¤‘ë³µì´ ê´œì°®ë‹¤ë©´ ëŒ€ì²´ë¡œ ìµœ ì†Œ í•œë²ˆì´ ì ì ˆí•˜ë‚˜, ë³¸ ì„¤ê³„ì•ˆì€ ë°ì´í„°ì˜ ëª‡ í¼ì„¼íŠ¸ ì°¨ì´ê°€ ìˆ˜ë°±ë§Œ ë‹¬ëŸ¬ ì°¨ì´ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì •í™•íˆ í•œ ë²ˆë°©ì‹ì„ ê¶Œì¥í•œë‹¤.\në°ì´í„° ì¤‘ë³µ ì œê±°\nê°€ì¥ í”í•œ ë°ì´í„° í’ˆì§ˆ ì´ìŠˆ ê°€ìš´ë° í•˜ë‚˜ëŠ” ì¤‘ë³µëœ ë°ì´í„°ì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ì¸¡ í•œ í´ë¼ì´ì–¸íŠ¸ê°€ ê°™ì€ ì´ë²¤íŠ¸ë¥¼ ì—¬ëŸ¬ ë²ˆ ë³´ë‚´ëŠ” ê²½ìš° ì•…ì˜ì ì¸ ì˜ë„ë¡œ ì „ì†¡ë˜ëŠ” ì¤‘ë³µ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°ëŠ” ê´‘ê³  ì‚¬ê¸°/ìœ„í—˜ ì œì–´ ì»´í¬ë„ŒíŠ¸(ad fraud/risk controller)ê°€ ì í•©í•˜ë‹¤. ì„œë²„ ì¥ì•  ì§‘ê³„ ë„ì¤‘ì— ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œì—ì„œ ì¥ì• ê°€ ë°œìƒí•˜ì˜€ê³ , ì—… ìŠ¤íŠ¸ë¦¼ ì„œë¹„ìŠ¤ê°€ ì´ë²¤íŠ¸ ë©”ì‹œì§€ì— ëŒ€í•´ ì‘ë‹µì„ ë°›ì§€ ëª»í•œê²½ìš°, ê°™ì€ ì´ë²¤íŠ¸ê°€ ë‹¤ì‹œ ì „ì†¡ë˜ì–´ ì¬ì°¨ ì§‘ê³„ë  ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œì— ì¥ì• ê°€ ìƒê²¨ 6ë‹¨ê³„ë¥¼ ì‹¤í–‰í•˜ì§€ ëª»í•˜ë©´ 100ì—ì„œ 110 ê¹Œì§€ì˜ ì´ë²¤íŠ¸ëŠ” ì´ë¹„ ë‹¤ìš´ ìŠ¤íŠ¸ë¦¼ì— ì „ì†¡ë˜ì—ˆìœ¼ë‚˜ ìƒˆ ì˜¤í”„ì…‹ì€ ì—…ìŠ¤íŠ¸ë¦¼ ì¹´í”„ì¹´ì— ë°˜ì˜ë˜ì§€ ì•Šì•„, ìƒˆë¡œ ë¶ê³ ëœ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œëŠ” ì˜¤í”„ì…‹ 100ë¶€í„° ì´ë²¤íŠ¸ë¥¼ ë‹¤ì‹œ ì†Œë¹„í•˜ë ¤ê³  í•  ê²ƒì´ë‹¤, ê·¸ ê²°ê³¼ë¡œ ë°ì´í„° ì¤‘ë³µì´ ë°œìƒí•œë‹¤.\nì´ ë¬¸ì œì˜ ê°„ë‹¨í•œ í•´ê²°ì±…ìœ¼ë¡œ HDFSë‚˜ S3 ê°™ì€ ì™¸ë¶€ íŒŒì¼ ì €ì¥ì†Œì— ì˜¤í”„ì…‹ì„ ê¸°ë¡í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.\nì§‘ê³„ ê²°ê³¼ë¥¼ ë‹¤ìš´ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ì†¡í•˜ê¸° ì „ì— ì˜¤í”„ì…‹ì„ ì™¸ë¶€ì— ì €ì¥í•˜ê³  ìˆëŠ”ë°, ë§Œì¼ ê·¸ ì§í›„ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œì— ì¥ì• ê°€ ë°œìƒí•˜ì—¬ 4ë‹¨ê³„ë¥¼ ì™„ë£Œí•˜ì§€ ëª»í–ˆë‹¤ë©´, ì™¸ë¶€ ì €ì¥ì†Œì— ì €ì¥ëœ ì˜¤í”„ì…‹ì€ 110ì´ë¯€ë¡œ ë³µêµ¬ëœ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œëŠ” 100ë¶€í„° 110 ê¹Œì§€ì˜ ì´ë²¤íŠ¸ë¥¼ ë‹¤ì‹œ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤.\në”°ë¼ì„œ ë°ì´í„° ì†ì‹¤ì„ ë§‰ìœ¼ë ¤ë©´ ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ì—ì„œ ì§‘ê³„ ê²°ê³¼ ìˆ˜ì‹  í™•ì¸ ì‘ë‹µì„ ë°›ì€ í›„ì— ì˜¤í”„ì…‹ì„ ì €ì¥í•´ì•¼ í•œë‹¤.\nì´ë²¤íŠ¸ë¥¼ ì •í™•í•˜ê²Œ í•œ ë²ˆë§Œ ì²˜ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ 4ë‹¨ê³„ë¶€í„° 6ë‹¨ê³„ê°€ì§€ì˜ ì‘ì—…ì„ í•˜ë‚˜ì˜ ë¶„ì‚° íŠ¸ëœì­ì…˜ì— ë„£ì–´ì•¼í•œë‹¤.\në¶„ì‚° íŠ¸ëœì­ì…˜ì€ ì—¬ëŸ¬ ë…¸ë“œì—ì„œ ì‘ë™í•˜ëŠ” íŠ¸ëœì­ì…˜ìœ¼ë¡œ ê·¸ ì•ˆì—ì„œ ì‹¤í–‰í•˜ëŠ” ì‘ì—… ê°€ìš´ë° í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ëª¨ë“  ì‘ì—…ì˜ ìƒíƒœë¥¼ ì‹¤í–‰ ì „ìœ¼ë¡œ ë˜ëŒë¦°ë‹¤.\nì‹œìŠ¤í…œ ê·œëª¨ í™•ì¥ ë³¸ ì„¤ê³„ì•ˆì€ ë©”ì‹œì§€ í, ì§‘ê³„ ì„œë²„, ë°ì´í„°ë² ì´ìŠ¤ì˜ ì„¸ ê°€ì§€ ë…ë¦½ êµ¬ì„± ìš”ì†Œë¡œ ì´ë£¨ì–´ì ¸, ìƒí˜¸ ê²°í•©ë„ê°€ ë‚®ìœ¼ë¯€ë¡œ ê°ê¸° ë…ë¦½ì ìœ¼ë¡œ ê·œëª¨ë¥¼ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤.\në©”ì‹œì§€ íì˜ ê·œëª¨ í™•ì¥\në©”ì‹œì§€ íì˜ ê·œëª¨ í•™ì¥ë²•ì— ëŒ€í•´ì„œëŠ” 4ì¥ ë¶„ì‚° ë©”ì‹œì§€ íì—ì„œ ê´‘ë²”ìœ„í•˜ê²Œ ì„¤ëª…í–ˆìœ¼ë¯€ë¡œ ìš”ì ë§Œ í™•ì¸í•œë‹¤.\nìƒì‚°ì ìƒì‚°ì ì¸ìŠ¤í„´ìŠ¤ ìˆ˜ì—ëŠ” ì œí•œì„ ë‘ì§€ ì•Šìœ¼ë¯€ë¡œ ë”°ë¼ì„œ í™•ì •ì„±ì€ ì‰½ê²Œ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤. ì†Œë¹„ì ì†Œë¹„ì ê·¸ë£¹ ë‚´ì˜ ì¬ì¡°ì • ë§¤ì»¤ë‹ˆì¦˜ì€ ë…¸ë“œ ì¶”ê°€/ì‚­ì œë¥¼ í†µí•´ ê·¸ ê·œëª¨ë¥¼ ì‰½ê²Œ ì¡°ì¥í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ìˆ˜ë°± ê°œ ì¹´í”„ì¹´ ì†Œë¹„ìê°€ ìˆëŠ” ê²½ìš° ì¬ì¡°ì • ì‘ì—… ì‹œê°„ì´ ê¸¸ì–´ì ¸ì„œ ìˆ˜ ë¶„ ì´ìƒ ê±¸ë¦¬ê²Œ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë” ë§ì€ ì†Œë¹„ìë¥¼ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì€ ì‹œìŠ¤í…œ ì‚¬ìš©ëŸ‰ì´ ë§ì§€ ì•Šì€ ì‹œê°„ì— ì‹¤í–‰í•˜ì—¬ ì˜í–¥ì„ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në¸Œë¡œì»¤\ní•´ì‹œ í‚¤ ê°™ì€ ad_idë¥¼ ê°–ëŠ” ì´ë²¤íŠ¸ë¥¼ ê°™ì€ ì¹´í”„ì¹´ íŒŒí‹°ì…˜ì— ì €ì¥í•˜ê¸° ìœ„í•´ ad_idë¥¼ í•´ì‹œ í‚¤ë¡œ ì‚¬ìš©í•œë‹¤. ì§‘ê³„ ì„œë¹„ìŠ¤ëŠ” ê°™ì€ ad_idë¥¼ ê°–ëŠ” ì´ë²¤íŠ¸ë¥¼ ì „ë¶€ ê°™ì€ íŒŒí‹°ì…˜ì—ì„œ êµ¬ë…í•  ìˆ˜ ìˆë‹¤. íŒŒí‹°ì…˜ì˜ ìˆ˜ íŒŒí‹°ì…˜ì˜ ìˆ˜ê°€ ë³€í•˜ë©´ ê°™ì€ ad_idë¥´ ã„¹ê°–ëŠ” ì´ë²¤íŠ¸ê°€ ë‹¤ë¥¸ íŒŒí‹°ì…˜ì— ê¸°ë¡ë˜ëŠ” ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‚¬ì „ì— ì¶©ë¶„í•œ íŒŒí‹°ì…˜ì„ í™•ë³´í•˜ì—¬ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ íŒŒí‹°ì…˜ì˜ ìˆ˜ê°€ ë™ì ìœ¼ë¡œ ëŠ˜ì–´ë‚˜ëŠ” ì¼ì„ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. í† í”½ì˜ ë¬¼ë¦¬ì  ìƒ¤ë”© í•˜ë‚˜ì˜ í† í”½ë§Œìœ¼ë¡œ ì¶©ë¶„í•œ ê²½ìš°ëŠ” ê±°ì˜ ì—†ë‹¤. ì§€ì—­ì— ë”°ë¼, ì‚¬ì—… ìœ í˜•ì— ë”°ë¼ ì—¬ëŸ¬ í† í”½ì„ ë‘˜ ìˆ˜ ìˆë‹¤. ì¥ì  ë°ì´í„°ë¥¼ ì—¬ëŸ¬ í† í”½ìœ¼ë¡œ ë‚˜ëˆ„ë©´ ì‹œìŠ¤í…œì˜ ì²˜ë¦¬ ëŒ€ì—­í­ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤. ë‹¨ì¼ í† í”½ì— ëŒ€í•œ ì†Œë¹„ìì˜ ìˆ˜ê°€ ì¤„ë©´ ì†Œë¹„ì ê·¸ë£¹ì˜ ì¬ì¡°ì • ì‹œê°„ë„ ë‹¨ì¶•ëœë‹¤. ë‹¨ì  ë³µì¡ì„±ì´ ì¦ê°€í•˜ê³  ìœ ì§€ ê´€ë¦¬ ë¹„ìš©ì´ ëŠ˜ì–´ë‚œë‹¤. ì§‘ê²Œ ì„œë¹„ìŠ¤ì˜ ê·œëª¨ í™•ì¥\nì§‘ê³„ ì„œë¹„ìŠ¤ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ë§µë¦¬ë“€ìŠ¤ ì—°ì‚°ìœ¼ë¡œ êµ¬í˜„ëœë‹¤.\nì§‘ê³„ ì„œë¹„ìŠ¤ì˜ ê·œëª¨ëŠ” ë…¸ë“œì˜ ì¶”ê°€/ì‚­ì œë¥¼ í†µí•´ ìˆ˜í‰ì ìœ¼ë¡œ ì¡°ì •ì´ ê°€ëŠ¥í•˜ë‹¤.\nì§‘ê³„ ì„œë¹„ìŠ¤ì˜ ì²˜ë¦¬ ëŒ€ì—­í­ì„ ë†’ì´ëŠ” ë°©ë²•ìœ¼ë¡œ ë‘ ê°€ì§€ ì„ íƒì§€ê°€ ìˆë‹¤.\nad_idë§ˆë‹¤ ë³„ë„ì˜ ì²˜ë¦¬ ìŠ¤ë ˆë“œë¥¼ ë‘ëŠ” ë°©ì‹ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œë¥¼ ì•„íŒŒì¹˜ í•˜ë‘¡ YARN ê°™ì€ ìì› ê³µê¸‰ìì— ë°°í¬í•˜ëŠ” ë°©ì‹ ë‘ ê°€ì§€ ë°©ì•ˆ ì¤‘ ì²« ë²ˆì§¸ê°€ ë” êµ¬í˜„í•˜ê¸° ì‰½ê³ , ìì› ê³µê¸‰ìì— ëŒ€í•œ ì˜ì¡´ ê´€ê³„ë„ ì—†ë‹¤.\ní•˜ì§€ë§Œ, ë” ë§ì€ ì»´í“¨íŒ… ìì›ì„ ì¶”ê°€í•˜ì—¬ ì‹œìŠ¤í…œì˜ ê·œëª¨ë¥¼ í™•ì¥í•  ìˆ˜ ìˆëŠ” ë‘ ë²ˆì§¸ ë°©ì•ˆì´ ë§ì´ í™œìš©ëœë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì˜ ê·œëª¨ í™•ì¥\nì¹´ì‚°ë“œë¼ëŠ” ì•ˆì • í•´ì‹œì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ìˆ˜í‰ì ì¸ ê·œëª¨ í™•ì¥ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì›í•œë‹¤.\ní•«ìŠ¤íŒŸ ë¬¸ì œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë‚˜ ìƒ¤ë“œë³´ë‹¤ ë” ë§ì€ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ì„œë¹„ìŠ¤ë‚˜ ìƒ¤ë“œë¥¼ í•«ìŠ¤íŒŸì´ë¼ ë¶€ë¥¸ë‹¤.\nê´‘ê³  í´ë¦­ ì§‘ê³„ ì‹œìŠ¤í…œì€ í° íšŒì‚¬ê°€ í° ê´‘ê³ ì˜ˆì‚°ì„ ì§‘í–‰í•˜ì—¬ ë” ë§ì€ ë…¸ì¶œì„ í•˜ê²Œ ë§Œë“¤ìˆ˜ ìˆê³ , ì´ë¡œ ì¸í•´ íŠ¹ì • ê´‘ê³ ì— ë” ë§ì€ í´ë¦­ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì´ë²¤íŠ¸ íŒŒí‹°ì…˜ì„ ad_idë¡œ ë‚˜ëˆ„ê¸° ë•Œë¬¸ì— ì–´ë–¤ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œëŠ” ë‹¤ë¥¸ ë…¸ë“œë³´ë‹¤ ë” ë§ì€ ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ê²Œ ë  ê²ƒì´ê³ , ê·¸ëŸ¬ë‹¤ë³´ë©´ ì„œë²„ ê³¼ë¶€í•˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œëŠ” ë” ë§ì€ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œë¥¼ í• ë‹¹í•˜ì—¬ ì™„í™”í•  ìˆ˜ ìˆë‹¤.\nì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œì— 300ê°œ ì´ë²¤íŠ¸ê°€ ë„ì°©í•˜ì—¬ ë…¸ë“œê°€ ê°ë‹¹í•  ìˆ˜ ìˆëŠ” ì–‘ì„ ì´ˆê³¼ í•˜ì˜€ê¸° ë•Œë¬¸ì— ìì› ê´€ë¦¬ìì—ê²Œ ì¶”ê°€ ìì›ì„ ì‹ ì²­í•œë‹¤. ìì› ê´€ë¦¬ìëŠ” í•´ë‹¹ ì„œë¹„ìŠ¤ ë…¸ë“œì— ê³¼ë¶€í•˜ê°€ ê±¸ë¦¬ì§€ ì•Šë„ë¡, ì¶”ê°€ ìì›ì„ í• ë‹¹í•œë‹¤.(ì˜ˆì‹œëŠ” ë‘ ê°œì˜ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œ) ì›ë˜ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œëŠ” ê° ì„œë¹„ìŠ¤ ë…¸ë“œê°€ 100ê°œì”©ì˜ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì´ë²¤íŠ¸ë¥¼ ì„¸ ê°œ ê·¸ë£¹ìœ¼ë¡œ ë¶„í• í•œë‹¤. ì§‘ê³„ê°€ ëë‚˜ ì¶•ì•½ëœ ê²°ê³¼ëŠ” ë‹¤ì‹œ ì›ë˜ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œì— ê¸°ë¡í•œë‹¤. ì „ì—­-ì§€ì—­ ì§‘ê³„(Global-Local Aggregation)ë‚˜ ë¶„í•  ê³ ìœ  ì§‘ê³„(Split Distinct Aggregation) ê°™ì€ ë³µì¡í•œ ë°©ë²•ë„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nê²°í•¨ ë‚´ì„± ì§‘ê²ŒëŠ” ë©”ëª¨ë¦¬ì—ì„œ ì´ë£¨ì–´ì§€ë¯€ë¡œ ì§‘ê³„ ë…¸ë“œì— ì¥ì• ê°€ ìƒê¸°ë©´ ì§‘ê³„ ê²°ê³¼ë„ ì†ì‹¤ëœë‹¤.\ní•˜ì§€ë§Œ ì—…ìŠ¤íŠ¸ë¦¼ ì¹´í”„ì¹´ ë¸Œë¡œì»¤ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ë‹¤ì‹œ ë°›ì•„ì˜¤ë©´ ê·¸ ìˆ«ìë¥¼ ë‹¤ì‹œ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆë‹¤.\nì¹´í”„ì¹´ ë°ì´í„°ë¥¼ ì›ì  ì£¼í„° ë‹¤ì‹œ ì¬ìƒí•˜ì—¬ ì§‘ê³„í•˜ë©´ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ë¯€ë¡œ, ì—…ìŠ¤íŠ¸ë¦¼ ì˜¤í”„ì…‹ ê°™ì€ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ìŠ¤ëƒ…ìˆìœ¼ë¡œ ì €ì¥í•˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì €ì¥ëœ ìƒíƒœë¶€í„° ë³µêµ¬í•´ ë‚˜ê°€ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.\nì‹œìŠ¤í…œ ìƒíƒœì— í•´ë‹¹í•˜ëŠ” ì •ë³´ëŠ” ì—…ìŠ¤íŠ¸ë¦¼ ì˜¤í”„ì…‹ ë¿ë§Œ ì•„ë‹ˆë¼ ì§€ë‚œ Më¶„ê°„ ê°€ì¥ ë§ì´ í´ë¦­ëœ ê´‘ê³  Nê°œ ê°™ì€ ë°ì´í„°ë„ ì‹œìŠ¤í…œ ìƒíƒœì˜ ì¼ë¶€ë¡œ ì €ì¥í•œë‹¤. ìŠ¤ëƒ…ìˆì„ ì´ìš©í•˜ë©´ ì§‘ê³„ ì„œë¹„ìŠ¤ì˜ ë³µêµ¬ ì ˆì°¨ê°€ ë‹¨ìˆœí•´ì§„ë‹¤.\nì–´ë–¤ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œ í•˜ë‚˜ì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ í•´ë‹¹ ë…¸ë“œë¥¼ ìƒˆ ê²ƒìœ¼ë¡œ ëŒ€ì²´í•œ ë‹¤ìŒ ë§ˆì§€ë§‰ ìŠ¤ëƒ…ìˆì—ì„œ ë°ì´í„°ë¥¼ ë³µêµ¬í•˜ë©´ ëœë‹¤.\në°ì´í„° ëª¨ë‹ˆí„°ë§ ë° ì •í™•ì„± ì§‘ê³„ ê²°ê³¼ëŠ” RTB ë° ì²­êµ¬ì„œ ë°œí–‰ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œã…“ ì‹œìŠ¤í…œì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ì§€ ëª¨ë‹ˆí„°ë§ í•˜ê³  ë°ì´í„° ì •í™•ì„±ì„ ë³´ì¥í•˜ëŠ” ê²ƒì€ ì•„ì£¼ ì¤‘ìš”í•œ ê³¼ì œì´ë‹¤.\nì§€ì†ì  ëª¨ë‹ˆí„°ë§\nì§€ì—° ì‹œê°„ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê° ë‹¨ê³„ë§ˆë‹¤ ì§€ì—° ì‹œê°„ì´ ì¶”ê°€ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì‹œìŠ¤í…œì˜ ì¤‘ìš” ë¶€ë¶„ë§ˆë‹¤ ì‹œê° ì¶”ì ì´ ê°€ëŠ¥í•˜ë„ë¡ í•´ì•¼í•œë‹¤. ê¸°ë¡ëœ ì‚¬ê° ì‚¬ì´ì˜ ì°¨ì´ë¥¼ ì§€ì—° ì‹œê°„ ì§€í‘œë¡œ ë³€í™˜í•´ì„œ ëª¨ë‹ˆí„°ë§í•œë‹¤. ë©”ì‹œì§€ í í¬ê¸° íì˜ í¬ê¸°ê°€ ê°‘ìê¸° ëŠ˜ì–´ë‚œë‹¤ë©´ ë” ë§ì€ ì§‘ê³„ ì„œë¹„ìŠ¤ ë…¸ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•  ìˆ˜ ìˆë‹¤. ì¹´í”„ì¹´ëŠ” ë¶„ì‚° ì»¤ë°‹ ë¡œê·¸ í˜•íƒœë¡œ êµ¬í˜„ëœ ë©”ì‹œì§€ í ì´ë¯€ë¡œ, ì¹´í”„ì¹´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë ˆì½”ë“œ ì²˜ë¦¬ ì§€ì—° ì§€í‘œë¥¼ ëŒ€ì‹  ì¶”ì í•œë‹¤. ì§‘ê³„ ë…¸ë“œì˜ ì‹œìŠ¤í…œ ìì› CPU, ë””ìŠ¤í¬, JVM ê°™ì€ ê²ƒì— ê´€ê³„ëœ ì§€í‘œ ì¡°ì •\nì¡°ì •(reconciliation)ì€ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ë¹„êµí•˜ì—¬ ë°ì´í„° ë¬´ê²°ì„±ì„ ë³´ì¦í•˜ëŠ” ê¸°ë²•ì„ ì¼ì»«ëŠ”ë‹¤.\nê´‘ê³  í´ë¦­ ì§‘ê²Œ ê²°ê³¼ëŠ” ë¹„êµí•  ì œ 3ìê°€ ì—†ìœ¼ë¯€ë¡œ ë§¤ì¼ ê° íŒŒì´ì…˜ì— ê¸°ë¡ëœ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì´ë²¤íŠ¸ ë°œìƒ ì‹œê°ì— ë”°ë¼ ì •ë ¬í•œ ê²°ê³¼ë¥¼ ì¼ê´„ ì²˜ë¦¬í•˜ì—¬ ë§Œë“¤ì–´ë‚¸ í›„, ì‹¤ì‹œê°„ ì§‘ê³„ ê²°ê³¼ì™€ ë¹„êµí•´ ë³¼ ìˆ˜ ìˆë‹¤.\në” ë†’ì€ ì •í™•ë„ê°€ í•„ìš”í•˜ë‹¤ë©´ ë”ì‘ì€ ì§‘ê³„ ì‘ì€ ì§‘ê³„ ìœˆë„ë¥¼ ì‚¬ìš©í•œë‹¤. ìœˆë„ í¬ê¸°ì™€ ê´€ê³„ ì—†ì´ ì¼ë¶€ ì´ë²¤íŠ¸ëŠ” ëŠ¦ê²Œ ë„ì°©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë°°ì¹˜ ì‘ì—… ê²°ê³¼ê°€ ì‹¤ì‹œê°„ ì§‘ê³„ ê²°ê³¼ì™€ ì •í™•íˆ ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ëŒ€ì•ˆì  ì„¤ê³„ì•ˆ ë‹¤ë¥¸ í•œ ê°€ì§€ ê°€ëŠ¥í•œ ì„¤ê³„ì•ˆì€ ê´‘ê³  í´ë¦­ ë°ì´í„°ë¥¼ í•˜ì´ë¸Œì— ì €ì¥í•œ ë‹¤ìŒ ë¹ ë¥¸ ì§ˆì˜ëŠ” ì¼ë˜ìŠ¤í‹±ì„œì¹˜ ê³„ì¸µì„ ì–¹ì–´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\nì§‘ê³„ëŠ” í´ë¦­í•˜ìš°ìŠ¤, ë“œë£¨ì´ë“œ ê°™ì€ OLAP ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì´ë²ˆ ì¥ì—ì„œëŠ” í˜ì´ìŠ¤ë¶ì´ë‚˜ êµ¬ê¸€ ê·œëª¨ì˜ ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ ì§‘ê³„ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¤ë£¨ì–´ ë³´ì•˜ë‹¤.\në°ì´í„° ëª¨ë¸ ë° API ì„¤ê³„ ë§µë¦¬ë“€ìŠ¤ ë°ì´í„° ì²˜ë¦¬ íŒ¨ëŸ¬ë‹¤ì„ì„ í†µí•´ ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì§‘ê³„í•˜ëŠ” ë°©ë²• ë©”ì‹œì§€ í, ì§‘ê³„ ì„œë¹„ìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ì˜ ê·œëª¨ í™•ì¥ ë°©ì•ˆ í•«ìŠ¤íŒŸ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ì•ˆ ì‹œìŠ¤í…œì˜ ì§€ì†ì  ëª¨ë‹ˆí„°ë§ ë°ì´í„° ì¡°ì •ì„ í†µí•œ ì •í™•ì„± ë³´ì¦ ë°©ì•ˆ ê²°í•¨ ë‚´ì„± ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ ì§‘ê³„ ì‹œìŠ¤í…œì€ ì „í˜•ì ì¸ ë¹…ë°ì´í„° ì²˜ë¦¬ ì‹œìŠ¤í…œì´ë‹¤.\nì•„íŒŒì¹˜ ì¹´í”„ì¹´, ì•„íŒŒì¹˜ í”Œë§í¬, ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ ê°™ì€ ì—…ê³„ í‘œì¤€ ì†”ë£¨ì…˜ì— ëŒ€í•œ ì‚¬ì „ ì§€ì‹ì´ë‚˜ ê²½í—˜ì´ ìˆë‹¤ë©´ ì´í•´í•˜ê³  ì„¤ê³„í•˜ê¸° ì‰¬ìš¸ ê²ƒì´ë‹¤.\n","date":"2024-10-06T17:20:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/6/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/6/","title":"6. ê´‘ê³  í´ë¦­ ì´ë²¤íŠ¸ ì§‘ê³„"},{"content":"ì¶”ì„ì„ ì•ë‘ê³  4ì£¼ê°„ì˜ 1ì°¨ í•™ìŠµìŠ¤í”„ë¦°íŠ¸ê°€ ë§ˆë¬´ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤ğŸ¥³\ní•™ìŠµìŠ¤í”„ë¦°íŠ¸ê°€ ëë‚˜ê³  1ì£¼ê°„ ì¸í„°ë¯¸ì…˜ ê¸°ê°„ì´ ì£¼ì–´ì¡ŒëŠ”ë° ì´ ë˜í•œ ëë‚˜ê°€ë„¤ìš”\nì¸í„°ë¯¸ì…˜ì´ ëë‚˜ê¸° ì „ì— 1ì°¨ í•™ìŠµìŠ¤í”„ë¦°íŠ¸ë¥¼ ëŒì•„ë³´ë ¤í•©ë‹ˆë‹¤.\në°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ ì´ì „ íšŒê³ ì—ì„œ ì–¸ê¸‰í–ˆë“¯ í•™ìŠµìŠ¤í”„ë¦°íŠ¸ëŠ” 2ì£¼ê°„ ìœ ì§€ë˜ëŠ” ìŠ¤í„°ë”” ê·¸ë£¹ì›ë“¤ê³¼ ë§¤ì¼ ì•„ì¹¨ ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì„ ì§„í–‰í•˜ê²Œë©ë‹ˆë‹¤.\në°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì—ì„œëŠ” ê°œì¸ë‹¹ 5ë¶„ì •ë„ì˜ ì‹œê°„ì´ ì£¼ì–´ì ¸, ìì‹ ì´ ì–´ì œ ì‘ì—…í•œ ë‚´ìš©ê³¼ ì˜¤ëŠ˜ ì‘ì—…í•  ë‚´ìš© ê°™ì€ ë¯¸ì…˜ ì§„í–‰ ìƒí™©ì„ ê³µìœ í•˜ëŠ” ì‹œê°„ì´ì—ˆì–´ìš”\në°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì— ì‹œê°„ì´ ë§ì´ ì£¼ì–´ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì— ì›í™œí•œ ì§„í–‰ì„ ìœ„í•´ ë§¤ì¼ ë§Œë“¤ì–´ì•¼í•˜ëŠ” PRì— ì–´ë–¤ ê³ ë¯¼ì„ í†µí•´ ì–´ë–¤ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì—ˆëŠ”ì§€ ê°„ëµí•˜ì§€ë§Œ ì˜ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì‘ì„±í•´ì•¼í–ˆìŠµë‹ˆë‹¤.\në‹¤ì–‘í•œ ë¶„ë“¤ì˜ PRì„ ë³´ë©´ì„œ í¥ë¯¸ë¡œìš´ ë¶€ë¶„ì´ ê½¤ ìˆì—ˆì–´ìš”\nì €ëŠ” PRì„ ê°„ëµí•˜ê²Œ ì ëŠ” í¸ ì´ì—ˆëŠ”ë°, ëª‡ëª‡ ë¶„ ê»˜ì„œëŠ” ìì‹ ì´ ì–´ë–¤ ê³ ë¯¼ì„ í–ˆëŠ”ì§€, ê·¸ ê³ ë¯¼ì„ í•˜ê¸°ìœ„í•´ ì–´ë–¤ ë‚´ìš©ë“¤ì„ ê³µë¶€í–ˆëŠ”ì§€, ê·¸ë¦¬ê³  ê·¸ê²ƒì„ ì–´ë–»ê²Œ ì ìš©í–ˆëŠ”ì§€ ë„ˆë¬´ë‚˜ ê¼¼ê¼¼í•˜ê²Œ ì ì–´ì£¼ì‹œëŠ” ë¶„ë“¤ë„ ê³„ì…”ì„œ ë³´ëŠ” ì¬ë¯¸ë„ ìˆì—ˆìŠµë‹ˆë‹¤.\nì´ë¥¼ ë³´ê³  ì €ë„ PRì„ ì •ë§ ê¼¼ê¼¼íˆ ë‚¨ê²¨ì•¼ê² ë‹¤ê³  ë°˜ì„±í•˜ê²Œ ë˜ì—ˆë„¤ìš”ğŸ¤£\nê·¸ë£¹ ë¦¬ë·° ë§¤ì¼ ì§„í–‰ë˜ëŠ” ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì— ë”í•´ ë§¤ì£¼ í™”ìš”ì¼ê³¼ ëª©ìš”ì¼ì€ ê·¸ë£¹ ë¦¬ë·°ê°€ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\në°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì—ì„œëŠ” ê°œì¸ë‹¹ 5ë¶„ì •ë„ì˜ ì‹œê°„ì´ ì£¼ì–´ì ¸, ìì‹ ì´ ì–´ì œ ì‘ì—…í•œ ë‚´ìš©ê³¼ ì˜¤ëŠ˜ ì‘ì—…í•  ë‚´ìš© ê·¸ë¦¬ê³  ë°©í–¥ì„±ì— ëŒ€í•œ ì•½ê°„ì˜ ê³ ë¯¼ ì •ë„ë¥¼ ì´ì•¼ê¸°í•˜ëŠ” ì‹œê°„ì´ì—ˆë‹¤ë©´, ê·¸ë£¹ ë¦¬ë·°ëŠ” ì„œë¡œì˜ ì¤‘ê°„ ê²°ê³¼ë¬¼ê³¼ í•™ìŠµ ë‚´ìš©ì— ëŒ€í•˜ì—¬ ë¦¬ë·°í•˜ê³ , ì§„í–‰ ìƒí™©ì— ëŒ€í•œ í”¼ë“œë°±ì„ ì£¼ê³ ë°›ëŠ” ì‹œê°„ìœ¼ë¡œ ê½¤ ë§ì€ ì‹œê°„ì´ ì£¼ì–´ì¡Œì–´ìš”\nì € ê°™ì€ ê²½ìš°ëŠ” ë§¤ì¼ ì•„ì¹¨ ë‹¤ë¥¸ ê·¸ë£¹ì›ë“¤ì˜ ì½”ë“œë¥¼ ì½ê³  PRì— ì½”ë“œë¦¬ë·°ë¥¼ ë‚¨ê¸°ëŠ” í™œë™ì„ ì§€ì†ì ìœ¼ë¡œ í•˜ê³  ìˆì—ˆëŠ”ë°, ì´ ë•Œ ë‹¤ë¥¸ ê·¸ë£¹ì›ë“¤ì˜ ì˜í•œ ì , ì•„ì‰¬ìš´ ì , ë‹¤ì–‘í•œ ì ‘ê·¼ ë°©ë²•ì´ ë‚˜ì˜¬ìˆ˜ ìˆëŠ” ë‚´ìš© ë“± í† ë¡ í•˜ê³  ì‹¶ì€ ì£¼ì œë¥¼ ê¸°ì–µí•˜ê³  ìˆë‹¤ê°€ ê·¸ë£¹ ë¦¬ë·°ì—ì„œ ì–¸ê¸‰í•˜ì—¬ ê°™ì´ ì´ì•¼ê¸°í•´ ë³´ëŠ” ì‹œê°„ì„ ê°€ì§€ë ¤ê³  í–ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ë’¤ì—ì„œ ì–¸ê¸‰í•  ë©˜í† ë‹˜ì˜ ì½”ë“œë¦¬ë·°ì—ì„œ ê·¸ë£¹ì›ë“¤ì´ ê°ê° ë°›ì€ í”¼ë“œë°±ì— ëŒ€í•œ ìì‹ ì˜ í•´ì„ì´ë‚˜, ì• ë§¤í•˜ë‹¤ê³  ëŠê»´ì§€ëŠ” í”¼ë“œë°±ì— ëŒ€í•´ ë‹¤ë¥¸ ê·¸ë£¹ì›ë“¤ì˜ ì˜ê²¬ë„ ë‚˜ëˆ ë³´ëŠ” ì‹œê°„ë„ ì°¸ ì˜ë¯¸ìˆì—ˆë„¤ìš” ğŸ˜Š\ní”¼ì–´ì„¸ì…˜ í”¼ì–´ì„¸ì…˜ì€ ë§¤ì¼ ì•„ì¹¨ì— ì§„í–‰í–ˆì—ˆë˜ ì±Œë¦°ì§€ ê³¼ì •ì˜ í”¼ì–´ì„¸ì…˜ê³¼ ë‹¬ë¦¬ ë§¤ì£¼ ê¸ˆìš”ì¼ ì˜¤ì „ì— ì§„í–‰ëœ í™œë™ìœ¼ë¡œ, ê¸°ì¡´ ìŠ¤í„°ë”” ê·¸ë£¹ì›ë“¤ì´ ì•„ë‹Œ ìƒˆë¡œ ë°°ì •ëœ ë‹¤ë¥¸ ìº í¼ë‹˜ë“¤ì˜ í•œ ì£¼ê°„ì˜ ê³¼ì •ì„ ì‚´í´ë³´ê³  ê²°ê³¼ë¬¼ì— ëŒ€í•´ ë¦¬ë·°í•˜ëŠ” ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤.\nê°™ì€ ì£¼ì œë¡œ ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ê¸°ëŠ” í•˜ì§€ë§Œ ìº í¼ë¶„ë“¤ ê°ê° ë‹¤ë¥¸ ì ‘ê·¼ ë°©ë²•ì„ ì‹œë„í•œë‹¤ëŠ” ì ê³¼ ì§€ê¸ˆê¹Œì§€ ìˆ˜í–‰í•œ ì‘ì—…ë“¤ì„ ëª¨ë‘ í™•ì¸í•´ì•¼í•œë‹¤ëŠ” ì  ë“± ì—¬ëŸ¬ ì´ìœ ë¡œ í”¼ì–´ì„¸ì…˜ì„ ì¤€ë¹„í•˜ëŠ” ì‹œê°„ì´ 1ì‹œê°„ ì •ë„ ë³„ë„ë¡œ ì£¼ì–´ì¡Œì–´ìš”\ní”¼ì–´ì„¸ì…˜ì— ì°¸ì—¬í•˜ì‹œëŠ” ìº í¼ë‹˜ë“¤ì€ ê·¸ë£¹ì›ë“¤ê³¼ ë‹¬ë¦¬ ì œ ì½”ë“œë¥¼ ì²˜ìŒ í™•ì¸í•˜ê¸° ë•Œë¬¸ì— ì‘ì—… ë‚´ìš©ê³¼ ê³¼ì •, íë¦„ ë“±ì„ ì‰½ê²Œ íŒŒì•…í•˜ì‹¤ ìˆ˜ ìˆë„ë¡ READMEì— í•œ ì£¼ê°„ì˜ ì‘ì—… ë‚´ìš©ì„ ì˜ ì •ë¦¬í•˜ê³ , ë§¤ì¼ ë‚¨ê¸°ëŠ” PRì— ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ì™œ ê·¸ëŸ° ì„ íƒì„ í–ˆëŠ”ì§€ ì˜ ë“œëŸ¬ë‚˜ë„ë¡ ë‚¨ê¸°ë ¤ê³  ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\ní”¼ì–´ì„¸ì…˜ì—ì„œ ë§Œë‚¬ë˜ ìº í¼ë¶„ë“¤ ì¤‘ì—ëŠ” ë¯¸ì…˜ì„ ì°©ì‹¤íˆ ìˆ˜í–‰í•˜ê³ ê³„ì‹  ë¶„ë“¤ì´ ë§ì•˜ì§€ë§Œ, ì¼ë¶€ëŠ” Nest, React ê°™ì€ ê²ƒë“¤ì„ ì§ì ‘ êµ¬í˜„í•´ë³´ëŠ” ë“± ìì‹ íˆ í•˜ê³ ì‹¶ì—ˆë˜ ê²ƒì„ ìœ„í•´ ë…¸ë ¥í•˜ì…¨ë˜ ë¶„ë“¤ë„ ìˆì—ˆì–´ìš”\níŠ¹íˆ ê¸°ì–µì— ë‚¨ëŠ” í”¼ì–´ì„¸ì…˜ì€, í•œ ë¶„ì€ Nestë¥¼ êµ¬í˜„í•˜ì…¨ê³ , í•œ ë¶„ì€ expressì˜ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ë“¤ì„ í™œìš©í•˜ì—¬ ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ì‹  ë¶„ì´ ëª¨ì˜€ë˜ í”¼ì–´ì„¸ì…˜ì´ì—ˆìŠµë‹ˆë‹¤.\nNestë¥¼ êµ¬í˜„í•˜ì‹  ë¶„ì€ @Controller, @Serviceì™€ ê°™ì€ ì–´ë…¸í…Œì´ì…˜ ë“±ì„ ë¹„ë¡¯í•œ ì—¬ëŸ¬ í¸ì˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ê¸° ìœ„í•´ êµ‰ì¥íˆ ë³µì¡í•œ ë¡œì§ë“¤ì„ êµ¬í˜„í•˜ì‹  ë°˜ë©´, expressì˜ ê¸°ë³¸ ê¸°ëŠ¥ìœ¼ë¡œë§Œ ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ì…¨ë˜ ë¶„ì€ ë§¤ìš° ê°„ê²°í•œ ë¡œì§ìœ¼ë¡œ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ë§Œë“œì…¨ëŠ”ë°, ì´ ì–‘ê·¹ë‹¨ì˜ ì½”ë“œë¥¼ ë¹„êµí•˜ëŠ”ê²Œ êµ‰ì¥íˆ í¥ë¯¸ë¡œì› ë„¤ìš” ğŸ˜\nNestë¥¼ êµ¬í˜„í•˜ì‹  ë¶„ì˜ ì‘ì—…ë¬¼ì—ì„œ ë³µì¡í•œ ë¡œì§ì„ í†µí•´ ë§Œë“  í¸ì˜ì„±ìœ¼ë¡œ, ê°œë°œìê°€ ì‹¤ì œë¡œ ì‘ì„±í•˜ê²Œ ë  ì˜ì—­ë“¤ì´ ë§¤ìš° ê¹”ë”í•´ì§€ëŠ” ê²ƒì„ ë³´ë©° ê°íƒ„í–ˆì—ˆê³ ,\nexpressì˜ ê¸°ë³¸ ê¸°ëŠ¥ìœ¼ë¡œë§Œ êµ¬í˜„í•˜ì‹  ë¶„ë“¤ì˜ ì‘ì—…ë¬¼ì„ ë³´ë©°, ë‚´ê°€ ì¢€ ê²‰ë©‹ì´ ë“¤ì—ˆë‚˜?, ë‚´ê°€ ì‘ì„±í•œ ì½”ë“œëŠ” ì •ë§ë¡œ í•„ìš”í–ˆë˜ ê²ƒì¼ê¹Œ?, ë” ê°„ê²°í•˜ê²Œ í’€ì–´ë‚¼ ìˆ˜ëŠ” ì—†ì—ˆë˜ ê²ƒ ì¼ê¹Œ? ê°™ì€ ìƒê°ì´ ë“¤ë©´ì„œ ì œ ìì‹ ì„ ëŒì•„ë³´ëŠ” ê³„ê¸°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ˜Œ\nê·¸ë£¹ íšŒê³  ê·¸ë£¹ íšŒê³ ëŠ” ë§¤ ì£¼ ê¸ˆìš”ì¼ í”¼ì–´ì„¸ì…˜ì´ ëë‚˜ê³  ì§„í–‰ëœ í™œë™ìœ¼ë¡œ ê·¸ë£¹ì›ë“¤ê³¼ í•œ ì£¼ê°„ì˜ ê·¸ë£¹ í™œë™ì— ëŒ€í•´ ëŒì•„ë³´ëŠ” ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤.\nì£¼ë¡œ ì§ì „ í”¼ì–´ì„¸ì…˜ì—ì„œ ì¸ìƒê¹Šì—ˆë˜ ë‚´ìš©ë“¤ì— ëŒ€í•´ ê³µìœ í•˜ì—¬ ê·¸ë£¹ì›ë“¤ ë¼ë¦¬ë„ ê³ ë¯¼í•´ë³´ëŠ” ì‹œê°„ê³¼ ë” ë‚˜ì€ ê·¸ë£¹ í™œë™ì„ ìœ„í•´ ê°ì ê·¸ë£¹ í™œë™ê°„ì— ì¢‹ì•˜ë˜ ì , ì•„ì‰¬ì› ë˜ ì , ëŠë‚€ ì  ë“±ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³´ê³  ê·¸ë¼ìš´ë“œ ë£°ì„ ë‹¤ì‹œ ì¡°ì •í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ì¡Œê³ , ìì—°ìŠ¤ëŸ½ê²Œ ìƒˆë¡­ê²Œ ì•Œê²Œëœ ë‚´ìš©ë“¤ì— ëŒ€í•´ì„œ ê³µìœ í•˜ê¸°ë„ í–ˆì–´ìš”\nìƒˆë¡­ê²Œ ì•Œê²Œëœ ë‚´ìš©ë“¤ì„ ê³µìœ í•˜ëŠ” ì‹œê°„ì—ì„œ í•™ìŠµí–ˆë˜ ë‚´ìš©ì¸ \u0026ldquo;MySQLì—ì„œ UUIDë¥¼ PKë¡œ ì‚¬ìš©í–ˆì„ë•Œ ì„±ëŠ¥\u0026rdquo; ì— ëŒ€í•œ ì•„í‹°í´ê³¼ \u0026ldquo;ìœ ì¼í•œ ID ìƒì„±í•˜ëŠ” ë°©ë²•\u0026rdquo; ì— ëŒ€í•œ ì•„í‹°í´ì„ ê³µìœ í•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.\nê·¸ë£¹ í™œë™ì— ëŒ€í•œ ëŠë‚€ì ì„ ê³µìœ í•˜ëŠ” ì‹œê°„ì—ëŠ” ì‚¬ì‹¤ ê·¸ë£¹ í™œë™ë³´ë‹¤ëŠ” ìì‹ ì´ ë¶€ì¡±í•´ì„œ ì•„ì‰¬ì› ë˜ ë‚´ìš©ë“¤ì´ ì£¼ë¡œ ì–¸ê¸‰ë˜ì—ˆì–´ìš”\nê·¸ë˜ì„œ ì €ëŠ” ë‹¤ë¥¸ ê·¸ë£¹ì›ë“¤ì´ ìì‹ ê°ì„ ê°€ì§€ì‹¤ ìˆ˜ ìˆë„ë¡ ì—´ì‹¬íˆ ì‘ì›í•˜ë ¤ê³  ë…¸ë ¥í•´ë´¤ìŠµë‹ˆë‹¤ ğŸ‘Š\nê·¸ ì¤‘ í•˜ë‚˜ëŠ” \u0026ldquo;ë¯¸ì…˜ ê´€ë ¨ ì´ì•¼ê¸°ë¥¼ í•  ë•Œ ìì‹ ì˜ ê¸°ìˆ ì ì¸ ë¶€ì¡±í•¨ ë•Œë¬¸ì— ì ê·¹ì ìœ¼ë¡œ ì°¸ì—¬í•˜ëŠ”ê²Œ ë§ì„¤ì—¬ì§„ë‹¤.\u0026rdquo; ì™€ ê°™ì€ ê³ ë¯¼ì„ í† ë¡œí•´ì£¼ì‹  ë¶„ì´ ê³„ì…¨ëŠ”ë°, \u0026ldquo;ì •ë‹µë„ ì¤‘ìš”í•˜ì§€ë§Œ ê·¸ë³´ë‹¤ ì–´ë–¤ ìƒê°ì„ ê°€ì§€ê³  ë¬¸ì œë¥¼ ì ‘ê·¼í•˜ëŠ”ì§€ê°€ ë” ì¤‘ìš”í•˜ê³ , ì´ë¥¼ í†µí•´ ë” í° ì˜ê°ì„ ì–»ì„ ìˆ˜ ìˆë‹¤\u0026rdquo; ì™€ ê°™ì€ ë‹µë³€ì„ ë“œë ¸ì—ˆëŠ”ë°, ë„ì›€ì´ ë˜ì—ˆë‹¤ê³  ë§ì”€í•˜ì…”ì„œ ë¿Œë“¯í–ˆì—ˆë„¤ìš” ğŸ˜\nì½”ë“œë¦¬ë·° ì±Œë¦°ì§€ ê³¼ì •ì—ì„œëŠ” ë§¤ì¼ ì§„í–‰ë˜ëŠ” í”¼ì–´ì„¸ì…˜ì—ì„œ Gistë¥¼ í†µí•´ ê³µìœ ëœ ê°ìì˜ ê²°ê³¼ë¬¼ì„ ë¦¬ë·°í–ˆì—ˆê¸° ë•Œë¬¸ì—, ë§¤ì¼ ì•„ì¹¨ì— ë‹¤ë¥¸ ë¶„ë“¤ì˜ ê²°ê³¼ë¬¼ì„ í™•ì¸í–ˆì—ˆëŠ”ë°ìš”\në§´ë²„ì‹­ ê³¼ì •ì—ì„œëŠ” ë§¤ì¼ ìˆ˜í–‰í•œ ì‘ì—…ì— ëŒ€í•´ PRì„ ë‚¨ê²¨ì•¼ í–ˆê³ , ë‚¨ê¸° PRì„ ê¸°ë°˜ìœ¼ë¡œ ì½”ë“œ ë¦¬ë·°ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ê°ìì˜ ê²°ê³¼ë¬¼ì„ ë¦¬ë·°í•  ì‹œê°„ì´ í• ë‹¹ë˜ì§€ëŠ” ì•Šì•˜ì•˜ê³ , ë¹„ë™ê¸°ì ìœ¼ë¡œ ì½”ë“œë¦¬ë·°ë¥¼ ê°ì ì§„í–‰í•  ê²ƒì´ ê¶Œì¥ë˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ì €ëŠ” ì±Œë¦°ì§€ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë§¤ì¼ ì•„ì¹¨ ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ ì „ ë‹¤ë¥¸ ê·¸ë£¹ì›ë“¤ì˜ ì½”ë“œë¥¼ ë¦¬ë·°í•˜ëŠ” ì‹œê°„ì„ ë£¨í‹´ìœ¼ë¡œ ìœ ì§€í•˜ì—¬ PRì„ í†µí•´ ê°œì„ ì , ì˜í•œì , ê¶ê¸ˆí•œì  ë“±ì„ ë‚¨ê²¼ì–´ìš”\në©˜í† ë‹˜ì˜ ì½”ë“œë¦¬ë·° ìŠ¤í”„ë¦°íŠ¸ 3ì£¼ì°¨ ë¶€í„° ë©˜í† ë‹˜ì˜ ì½”ë“œë¦¬ë·°ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.\në©˜í† ë‹˜ì˜ ì½”ë“œë¦¬ë·°ëŠ” ì •ë‹µì„ ì•Œë ¤ì£¼ê¸°ë³´ë‹¤ëŠ” ì •ë‹µì„ ì°¾ì•„ê°ˆ ìˆ˜ ìˆëŠ” ì½”ë©˜íŠ¸ë“¤ ë‚¨ê²¨ì£¼ì…”ì„œ ëª°ëë˜ ë‚´ìš©ì„ ì•Œì•„ê°€ê¸°ë„ í•˜ê³ , ê¹Šê²Œ ê³ ë¯¼í•˜ì§€ ì•Šì•˜ë˜ ë‚´ìš©ë“¤ì„ ì¡°ê¸ˆ ë” ê¹Šê²Œ ê³ ë¯¼í•´ë³´ëŠ” ê³„ê¸°ê°€ ë˜ì–´ ê°œì¸ì ìœ¼ë¡œëŠ” ë„ˆë¬´ ì¢‹ì•˜ì–´ìš”\nì €í¬ ê·¸ë£¹ì„ ë‹´ë‹¹í•´ì£¼ì…¨ë˜ ë©˜í† ë‹˜ì€ í˜„ì—…ì—ì„œ ë°”ë‹ë¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ í•˜ê³ ê³„ì…¨ëŠ”ë°, ê·¸ë˜ì„œì¸ì§€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì²˜ëŸ¼ í™œìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ë§ì´ ê³ ë¯¼í•´ë³¼ ìˆ˜ ìˆëŠ” ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê²¨ ì£¼ì…¨ìŠµë‹ˆë‹¤.\nì¼ë¡€ë¡œ íƒ€ì…ì„ ì¶”ë¡ ì´ ê°€ëŠ¥í•˜ê²Œí•˜ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë²•, Narrowing, Assertionì„ ìµœì†Œí™” í•˜ëŠ” ë²• ë“±ì— ëŒ€í•œ ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê²¨ì£¼ì…”ì„œ ê°œì¸ì ìœ¼ë¡œ í•™ìŠµê³¼ ê³ ë¯¼ì„ í•´ë³¼ ìˆ˜ ìˆì—ˆê³ , ë‹¤ë¥¸ ê·¸ë£¹ì›ë“¤ê³¼ë„ ê°™ì´ ì´ì•¼ê¸° í•´ë³´ê¸°ë„ í–ˆì–´ìš” ì•„ì§ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ ë§ì§€ë§Œ\në§ˆë¬´ë¦¬ 4ì£¼ê°„ ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ë©´ì„œ ì‹œê°„ì´ êµ‰ì¥íˆ ë¹¨ë¦¬ ê°€ë”ë¼êµ¬ìš”! í•œê²Œ ë§ì´ ì—†ë‹¤ê³  ìƒê°í–ˆëŠ”ë° ëŒì•„ë³´ë‹ˆ ìƒê°ë³´ë‹¤ ë§ì€ ë°°ì›€ì´ ìˆì—ˆë˜ ê²ƒ ê°™ë„¤ìš” ğŸ¤£\në‹¤ìŒ ì£¼ ë¶€í„°ëŠ” ì´ì „ì— ì„ íƒí–ˆë˜ ë” ì§‘ì¤‘í•´ì„œ ê²½í—˜í•˜ê³  ì‹¶ì€ ë¶„ì•¼ì— ëŒ€í•œ ë¯¸ì…˜ì´ ì£¼ì–´ì§‘ë‹ˆë‹¤. (ì €ëŠ” ë°±ì—”ë“œë¥¼ ì„ íƒí–ˆì–´ìš”)\në¯¸ì…˜ì€ ê·¸ëŒ€ë¡œ í’€ìŠ¤íƒìœ¼ë¡œ ì§„í–‰ë˜ì§€ë§Œ ì„ íƒ ë¶„ì•¼ì˜ ë¹„ì¤‘ì„ 7:3 ì •ë„ë¡œ ì¡°ì ˆëœë‹¤ê³ í•´ìš”\nê·¸ë¦¬ê³  ì‹ ì²­ìì— í•œí•´ì„œ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ í™œë™ì´ ì§„í–‰ë˜ëŠ”ë°, ì €ëŠ” ì–‘ì¬ì— ìˆëŠ” ì½”ë“œ ìŠ¤ì¿¼ë“œì—ì„œ ì°¸ì—¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë§ì´ ê¸°ëŒ€ë˜ëŠ”êµ°ìš” ã…ã…\nì´ì œ ë‚¨ì€ ì¸í„°ë¯¸ì…˜ì„ ì¦ê¸°ëŸ¬ ê°€ë³´ê² ìŠµë‹ˆë‹¤. ëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ˜\n","date":"2024-09-20T11:29:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/membership/4/cover_hud9fb725339af3a8bae61969a7c0c823b_45611_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/membership/4/","title":"ë©¤ë²„ì‹­ 1ì°¨ í•™ìŠµìŠ¤í”„ë¦°íŠ¸ íšŒê³ "},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” ê·œëª¨ í™•ì¥ì´ ìš©ì´í•œ ì§€í‘œ ëª¨ë‹ˆí„°ë§ ë° ê²½ë³´ ì‹œìŠ¤í…œì˜ ì„¤ê³„ì•ˆì„ ì‚´í´ë³¸ë‹¤.\nì˜ ì„œë¡€ëœ ì§€í‘œ ëª¨ë‹ˆí„°ë§ ë° ê²½ë³´ ì‹œìŠ¤í…œì€ ì¸í”„ë¼ì˜ ìƒíƒœë¥¼ ì„ ëª…í•˜ê²Œ ë³¼ ìˆ˜ ìˆë„ë¡ í•˜ì—¬ ë†’ì€ ê°€ìš©ì„±ê³¼ ì•ˆì •ì„±ì„ ë‹¬ì„±í•˜ëŠ” ë° ì¤‘ì¶”ì  ì—­í• ì„ í•œë‹¤.\nëŒ€í˜• IT ì—…ì²´ì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•œ ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í•´ë³¸ë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ì§€í‘œ ëª¨ë‹ˆí„°ë§ ë° ê²½ì†Œ ë¹„ìŠ¤í…œì˜ ì˜ë¯¸ëŠ” íšŒì‚¬ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì •í™•í•œ ìš”êµ¬ì‚¬í•­ì„ ì•Œì•„ë‚´ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì¸í”„ë¼ ì§€í‘œì— ê´€ì‹¬ì´ ìˆë‹¤ë©´ ì›¹ì„œë²„ ì—ëŸ¬ ë¡œê·¸ë‚˜ ì—‘ì„¸ìŠ¤ ë¡œê·¸ì— ì´ˆì ì„ ë§ì¶˜ ì‹œìŠ¤í…œì„ ë§Œë“¤ë©´ ê³¤ë€í•˜ë‹¤.\nQ. ì‹œìŠ¤í…œì˜ ì‚¬ìš©ìëŠ”? ëŒ€í˜• IT ì—…ì²´ê°€ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ì‹œìŠ¤í…œ í˜¹ì€ ë°ì´í„°ë…, ìŠ¤í”Œí‘í¬ ê°™ì€ SasS?\nA. íšŒì‚¬ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ì‹œìŠ¤í…œ Q. ì–´ë–¤ ì§€í‘œë¥¼ ìˆ˜ì§‘?\nA. ì‹œìŠ¤í…œ ìš´ì˜ ì§€í‘œ(Operational system metrics) ìˆ˜ì§‘. CPU ë¶€í•˜, ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ , ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ê°™ì€ ì €ìˆ˜ì¤€ ì§€í‘œì™€ ì„œë²„ê°€ ì²˜ë¦¬í•˜ëŠ” ì´ˆë‹¹ ìš”ì²­ ìˆ˜(Requests per second)ë‚˜ ì›¹ ì„œë²„ í”„ë¡œì„¸ìŠ¤ ê°œìˆ˜ ê°™ì€ ê³ ì°¨ì›ì  ê°œë… ì§€í‘œ. ì‚¬ì—… ì§€í‘œ(Business metrics)ëŠ” ì œì™¸ Q. ëª¨ë‹ˆí„°ë§ í•  ì¸í”„ë¼ì˜ ê·œëª¨ëŠ”?\nA. ì¼ê°„ ëŠ¥ë™ ì‚¬ìš©ì ìˆ˜ëŠ” 1ì–µ ëª…, 1000ê°œì˜ ì„œë²„ í’€ì´ ìˆê³ , í’€ë§ˆë‹¤ 100ê°œì˜ ì„œë²„ í•˜ë“œì›¨ì–´ë¥¼ ìœ ì§€í•˜ê³  ìˆìŒ Q. ì§€í‘œ ë³´ê´€ ê¸°ê°„\nA. 1ë…„ Q. ì¥ê¸° ë³´ê´€ ì „ì˜ ì €ì¥ì†Œë¡œ ì˜®ê¸¸ ë•Œ ì§€í‘œì˜ í•´ìƒë„(resolution)ì„ ë‚®ì¶”ì–´ë„ ê´œì°®ì€ê°€?\nA. ìƒˆë¡œ ìˆ˜ì§‘í•œ ë°ì´í„°ëŠ” 7ì¼ ë³´ê´€, 7ì¼ ë’¤ì—ëŠ” 1ë¶„ ë‹¨ìœ„ë¡œ 30ì¼, ê·¸ ë’¤ì—ëŠ” 1ì‹œê°„ ë‹¨ìœ„ë¡œ ë³€í™˜í•˜ì—¬ ë³´ê´€ Q. ê²½ë³´ ì±„ë„ë¡œ ì§€ì›í•´ì•¼í•˜ëŠ” ê²ƒë“¤\nA. ì´ë©”ì¼, ì „í™”, í˜ì´ì €ë“€í‹°(PagerDuty), ì›¹í›…(Webhook, ì¦‰ HTTP í”„ë¡œí† ì½œì„ ì§€ì›í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸) ë“± Q. ì—ëŸ¬ ë¡œê·¸ë‚˜ ì—‘ì„¸ìŠ¤ ë¡œê·¸ ë“±ì— ëŒ€í•œ ìˆ˜ì§‘ ê¸°ëŠ¥ ì œê³µ?\nA. NO Q. ë¶„ì‚° ì‹œìŠ¤í…œ ì¶”ì (distributed system tracing) ê¸°ëŠ¥ ì œê³µ?\nA. NO ê°œëµì  ìš”êµ¬ì‚¬í•­ ë° ê°€ì • ìš”êµ¬ì‚¬í•­ì„ ë‹¤ì‹œ ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\nëŒ€ê·œëª¨ ì¸í”„ë¼ë¥¼ ëª¨ë‹ˆí„°ë§ í•´ì•¼í•¨ DAU 1ì–µ ì„œë²„ í’€ 1,000ê°œ, í’€ë‹¹ ì„œë²„ ìˆ˜ 100ê°œ, ì„œë²„ë‹¹ 100ê°œì˜ ìš´ì˜ ì§€í‘œ ìˆ˜ì§‘í•œë‹¤ë©´ ëª¨ë‹ˆí„°ë§ í•´ì•¼ í•˜ëŠ” ì§€í‘œì˜ ìˆ˜ëŠ” ì²œë§Œ ê°œ ìˆ˜ì¤€ ë°ì´í„° ë³´ê´€ ê¸°ê°„ì€ 1ë…„ ìˆ˜ì§‘í•œ ê·¸ëŒ€ë¡œ ë°ì´í„°ë¥¼ ë³´ê´€í•˜ëŠ” ê¸°ê°„ì€ ì¼ì£¼ì¼, ê·¸ ë’¤ì—ëŠ” 1ë¶„ ë‹¨ìœ„ ë°ì´í„°ë¡œ ë³€í˜¸ë‚˜ í›„ì— 30ì¼ ë³´ê´€, ê·¸ ë’¤ì—ëŠ” 1ì‹œê°„ ë‹¨ìœ„ ë°ì´í„°ë¡¤ ë³€í™˜í•œ ë’¤ì— 1ë…„ ë³´ê´€ ëª¨ë‹ˆí„°ë§ í•´ì•¼í•˜ëŠ” ì§€í‘œ CPU ì‚¬ìš©ë¥  ìš”ì²­ ìˆ˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë©”ì‹œì§€ í ë‚´ì˜ ë©”ì‹œì§€ ìˆ˜ ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ê·œëª¨ í™•ì¥ì„± ì‹œìŠ¤í…œì€ ëŠ˜ì–´ë‚˜ëŠ” ì§€í‘œ ìˆ˜ì™€ ì •ë³´ì˜ ì–‘ì— ë§ê²Œ í™•ì¥ë  ìˆ˜ ìˆì–´ì•¼í•¨ ë‚®ì€ ì‘ë‹µ ì§€ì—° ëŒ€ì‹œë³´ë“œ(dashboard)ì™€ ê²½ë³´(alert)ì„ ì‹ ì†í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡, ì§ˆì˜(query)ì— ëŒ€í•œ ë‚®ì€ ì‘ë‹µ ì§€ì—°ì„ ë³´ì¥í•´ì•¼í•¨ ì•ˆì •ì„± ë†’ì€ ì•ˆì •ì„±ì„ ì œê³µí•˜ì—¬ ì¤‘ìš” ì •ë³´ë¥¼ ë†“ì¹˜ì§€ ì•Šë„ë¡ í•´ì•¼í•¨ ìœ ì—°ì„± ê¸°ìˆ ì€ ê³„ì† ë³€í™”í•˜ë¯€ë¡œ, ë¯¸ë˜ì˜ ì‹ ê¸°ìˆ ì„ ì‰½ê²Œ í†µí•©í•  ìˆ˜ ìˆë„ë¡ ìœ ì—°í•˜ê²Œ ë³€ê²½ ê°€ëŠ¥í•œ íŒŒì´í”„ë¼ì¸ì„ ì´ìš©í•´ êµ¬ì¶•í•œ ì‹œìŠ¤í…œì´ì–´ì•¼í•¨ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ê´´ëŠ” ìš”êµ¬ì‚¬í•­ì€ ì•„ë˜ì™€ ê°™ë‹¤.\në¡œê·¸ ëª¨ë‹ˆí„°ë§(log monitoring) ì—˜ë¼ìŠ¤í‹±ì„œì¹˜, ë¡œê·¸ìŠ¤íƒœì‹œ, í‚¤ë°”ë‚˜ ë“±ì´ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ìš©ë„ë¡ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì‹œìŠ¤í…œ ë¶„ì‚° ì‹œìŠ¤í…œ ì¶”ì (distributed system tracing) ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìš”ì²­ì´ ë¶„ì‚°ì‹œìŠ¤í…œ ë‚´ë¶€ë¥¼ ì–´ë–»ê²Œ í˜ëŸ¬ ë‹¤ë‹ˆëŠ”ì§€ ì¶”ì í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì‹œìŠ¤í…œ ìš”ì²­ì´ í•œ ì„œë¹„ìŠ¤ì—ì„œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¡œ ì´ë™í•  ë•Œë§ˆë‹¤ ë°ì´í„°ë¥¼ ìˆ˜ì§‘ 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ì‹œìŠ¤í…œ êµ¬ì¶•ì„ ìœ„í•œ ê¸°ë³¸ì  ì‚¬í•­ê³¼ ë°ì´í„° ëª¨ë¸, ê·¸ë¦¬ê³  ê°œëµì  ì„¤ê³„ì•ˆì„ ë…¼ì˜í•œë‹¤.\nê¸°ë³¸ì  ì‚¬í•­ ì§€í‘œ ëª¨ë‹ˆí„°ë§ ë° ê²½ë³´ ì‹œìŠ¤í…œì€ ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ì„¯ ê°€ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ìš©í•œë‹¤.\nflowchart LR mo[[ì§€í‘œ ëª¨ë‹ˆí„°ë§ ë° ê²½ë³´ ì‹œìŠ¤í…œ]] mo --\u003e o[ë°ì´í„° ìˆ˜ì§‘] mo --\u003e t[ë°ì´í„° ì „ì†¡] mo --\u003e th[ë°ì´í„° ì €ì¥ì†Œ] mo --\u003e f[ê²½ë³´] mo --\u003e ff[ì‹œê°í™”] ë°ì´í„° ìˆ˜ì§‘(data collection) ì—¬ëŸ¬ ì¶œì²˜ë¡œë¶€í„° ì§€í‘œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘ ë°ì´í„° ì „ì†¡(data transmission) ì§€í‘œ ë°ì´í„°ë¥¼ ì§€í‘œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œìœ¼ë¡œ ì „ì†¡ ë°ì´í„° ì €ì¥ì†Œ(data storage) ì „ì†¡ë˜ì–´ ì˜¤ëŠ” ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ê³  ì €ì¥ ê²½ë³´(alerting) ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ì´ìƒ ì§•í›„ ê°ì§€í•˜ì—¬ ê²½ë³´ë¥¼ ë°œìƒì‹œí‚´ ë‹¤ì–‘í•œ í†µì‹  ì±„ë„ë¡œ ê²½ë³´ ë°œì†¡ ê°€ëŠ¥ ì‹œê°í™”(visualization) ë°ì´í„°ë¥¼ ì°¨íŠ¸ë‚˜ ê·¸ë˜í”„ ë“±ìœ¼ë¡œ ì œê³µ ë°ì´í„°ë¥¼ ì‹œê°ì ìœ¼ë¡œ í™©ì¸í•˜ë©´ íŒ¨í„´, ì¶”ì´, ë¬¸ì œì ì„ ë” ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤. ë°ì´í„° ëª¨ë¸ ì§€í‘œ ë°ì´í„°ëŠ” í†µìƒ ì‹œê³„ì—´(time series) ë°ì´í„° í˜•íƒœë¡œ ê¸°ë¡í•œë‹¤.\nê°’ ì§‘í•©ì— íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ë¶™ì€ í˜•íƒœ ê°ê°ì— ê³ ìœ í•œ ì´ë¦„ì´ ë¶™ê³ , ì„ íƒì ìœ¼ë¡œ ë ˆì´ë¸”(label)ì„ ë¶™ì´ê¸°ë„ í•¨ í…Œì´ë¸”ë¡œ í‘œí˜„í•œ ë°ì´í„°\nmetric_name cpu.load labels host:i631,env:prod timestamp 1613707265 value 0.29 ì‹œê³„ì—´ ë°ì´í„°\n1 2 CPU.load host=webserver01,region=us-west 1613707265 50 ... ì´ë¦„ ìë£Œí˜• ì§€í‘œ ì´ë¦„ ë¬¸ìì—´ íƒœê·¸/ë ˆì´ë¸” ì§‘í•© \u0026lt;í‚¤:ê°’\u0026gt; ìŒì˜ ë¦¬ìŠ¤íŠ¸ ì§€í‘œ ê°’ ë° ê·¸ íƒ€ì„ìŠ¤íƒ¬í”„ì˜ ë°°ì—´ \u0026lt;ê°’, íƒ€ì„ìŠ¤íƒ¬í”„\u0026gt; ìŒì˜ ë°°ì—´ ë°ì´í„° ì ‘ê·¼ íŒ¨í„´\nyì¶•ì— ë¶™ì€ ë ˆì´ë¸”ì€ í•˜ë‚˜ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ê³ (ì´ë¦„ê³¼ ë ˆì´ë¸”ì„ í†µí•´ ìœ ì¼í•˜ê²Œ ì‹ë³„ë˜ëŠ” ë°ì´í„°), xì¶•ì— ë¶™ì€ ë ˆì´ë¸”ì€ ì‹œê°„ì´ë‹¤.\nì´ ì‹œìŠ¤í…œì— ëŒ€í•œ ì“°ê¸° ë¶€í•˜ëŠ” ì‹œì ì„ ë§‰ë¡ í•˜ê³  ë§‰ëŒ€í•œ ì‹œê³„ì—´ ë°ì´í„°ê°€ ê¸°ë¡ë  ìˆ˜ ìˆë‹¤.\në§¤ì¼ ì²œë§Œ ê°œ ìš´ì˜ ì§€í‘œ ê¸°ë¡ ìƒë‹¹ìˆ˜ì˜ ì§€í‘œëŠ” ë°œìƒ ë¹ˆë„ë„ ë†’ë‹¤. ë°˜ë©´ ì½ê¸° ë¶€í•˜ëŠ” ì¼ì‹œì ìœ¼ë¡œ ì¹˜ì†Ÿí•¬ë‹¤ ì‚¬ë¼ì§€ëŠ”(spiky)í•œ í¸ì´ë‹¤.\nì‹œê°í™”ì™€ ê²½ë³´ ì„œë¹„ìŠ¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì½ê¸° ì—°ì‚°ì„ ë°œìƒì‹œí‚¤ë¯€ë¡œ ê·¸ë˜í”„ë‚˜ ê²½ë³´ë¥¼ í™•ì¸í•˜ëŠ” íŒ¨í„´ì— ë”°ë¼ ì¼ì‹œì ìœ¼ë¡œ ì¦ê°€í•˜ì˜€ë‹¤ê°€ ì ì í•´ì§„ë‹¤. ë‹¤ì‹œ ë§í•˜ë©´ ì´ ì‹œìŠ¤í…œì€ ì–¸ì œë‚˜ ë§ì€ ì–‘ì˜ ì“°ê¸° ì—°ì‚° ë¶€í•˜ë¥¼ ê°ë‹¹í•´ì•¼í•˜ì§€ë§Œ, ì½ê¸° ì—°ì‚°ì˜ ë¶€í•˜ëŠ” ê°ì‹œ ê¸‰ë“±í–ˆë‹¤ê°€ ê³§ ì‚¬ë¼ì§€ê³¤ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.\në°ì´í„° ì €ì¥ì†Œ ì‹œìŠ¤í…œ ë°ì´í„° ì €ì¥ì†Œ ìŠ¤ìŠ¤í…œì€ ì„¤ê³„ì•ˆì˜ í•µì‹¬ì´ë‹¤.\nì§€í‘œ ëª¨ë‹ˆí„°ë§ ë° ê²½ë³´ ì‹œìŠ¤í…œì„ ìœ„í•œ ì €ì¥ì†Œ ì‹œìŠ¤í…œì„ ì§ì ‘ ì„¤ê³„í•˜ê±°ë‚˜, MySQL ê°™ì€ ë²”ìš© ì €ì¥ì†Œ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ëŠ” ì„ íƒì§€ ê°€ìš´ë° ì–´ë–¤ ê²ƒë„ ì¶”ì²œí•˜ì§€ ì•ŠëŠ”ë‹¤.\në²”ìš© ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ë¡ ì ìœ¼ë¡œ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ, ì„¤ê³„ì•ˆì´ ê°ë‹¹í•˜ë ¤ëŠ” ë¶€í•˜ ê·œëª¨ì— ë§ì¶”ë ¤ë©´ ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ íŠœë‹ì´ í•„ìš”í•˜ë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ëŒ€ìƒìœ¼ë¡œ í†µìƒì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì—°ì‚°ì— ìµœì í™”ë˜ì–´ ìˆì§€ ì•Šë‹¤. ì‹œê³„ì—´ ë°ì´í„°ì˜ ì§€ìˆ˜ ì´ë™ í‰ê· (exponential moving average) ê°’ì„ ì§€ì†ì ìœ¼ë¡œ ê°±ì‹ í•˜ëŠ” ê²ƒ ë“± íƒœê·¸/ë ˆì´ë¸”ì— ëŒ€í•œ ì§ˆì˜ë¥¼ ì§€ì›í•˜ë ¤ë©´ íƒœê·¸ë§ˆë‹¤ ì¸ë±ìŠ¤ë¥¼ ì§€ì •í•´ì•¼í•œë‹¤. ë§ì€ ì–‘ì˜ ì“°ê¸° ì—°ì‚°ì´ ì €ì†ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” í™˜ê²½ì—ì„œëŠ” ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì´ì§€ ëª»í•œë‹¤. ì„¤ê³„ì•ˆì´ ê°ë‹¹í•˜ë ¤ëŠ” ì—°ì‚° ê·œëª¨ì— ë§ì¶”ë ¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ íŠœë‹ì— ìƒë‹¹í•œ ë…¸ë ¥ì„ ê¸°ìš¸ì—¬ì•¼ë§Œ í•  ê²ƒì´ê³ , ì„¤ì‚¬ ê·¸ë ‡ê²Œ í•˜ë‹¤ëŸ¬ë„ ë§Œì¡±í•  ë§Œí•œ ì„±ëŠ¥ì´ ë‚˜ì˜¤ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì¹´ì‚°ë“œë¼, ë¹…í…Œì´ë¸” ì²˜ëŸ¼ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ê³  ì•Œë ¤ì§„ NoSQL ë°ì´í„°ë² ì´ìŠ¤ë“¤ì´ ë‚˜ì™€ìˆê¸´ í•˜ì§€ë§Œ ì—¬ëŸ¬ ë¬¸ì œë“¤ì´ ìˆë‹¤.\nì‹œê³„ì—´ ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ì§ˆì˜í•˜ê¸° ìœ„í•´ì„œëŠ” í™•ì¥ì´ ìš©ì´í•œ ìŠ¤í‚¤ë§ˆë¥¼ ì„¤ê³„í•´ì•¼í•˜ë©°, ê·¸ë¡œì¸í•´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•œ í•´ë°•í•œ ì§€ì‹ì´ í•„ìš”í•˜ë‹¤. ì‹œê³„ì—´ ë°ì´í„°ì— ìµœì í™”ëœ ì €ì¥ì†Œ ì‹œìŠ¤í…œì€ ì‹œì¥ì— ë§ê³ , ì˜ ìµœì í™”ëœ ë•ì— ê°™ì€ ì–‘ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ë” ì ì€ ì„œë²„ì— ë³´ê´€í•  ìˆ˜ ìˆë‹¤. ì‹œê³„ì—´ ë°ì´í„°ì— ìµœì í™”ëœ ì €ì¥ì†Œ ì‹œìŠ¤í…œì˜ ìƒë‹¹ìˆ˜ëŠ” ì‹œê³„ì—´ ë°ì´í„° ë¶„ì„ì— ì í•©í•˜ë©° SQLë³´ë‹¤ ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ ì§ˆì˜ ì¸í…Œí˜ì´ìŠ¤ë„ ê°–ì¶”ê³  ìˆìœ¼ë©°, ë°ì´í„° ë³´ê´€ ê¸°ê°„ì„ ì„¤ì •í•˜ê±°ë‚˜ ë°ì´í„° ì§‘ê³„(aggregation) ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì œí’ˆë„ ë‚˜ì™€ìˆë‹¤.\nOpenTSDB, MetricsDB, Timestream, ë“± ì‹œì¥ì—ì„œ ê°€ì¥ ì¸ê¸°ìˆëŠ” ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” InfluxDB, Prometheus ì´ë‹¤.\në‹¤ëŸ‰ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ë¹ ë¥¸ ì‹¤ì‹œê°„ ë¶„ì„ì„ ì§€ì›í•œë‹¤. ë©”ëª¨ë¦¬ ìºì‹œì™€ ë””ìŠ¤í¬ ì €ì¥ì†Œë¥¼ í•¨ê»˜ ì‚¬ìš©í•œë‹¤. ì˜ì†ì„± ìš”ê±´ê³¼ ë†’ì€ ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­ë„ ì˜ ë§Œì¡±í•œë‹¤. ì¢‹ì€ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë§‰ëŒ€í•œ ì–‘ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ë ˆì´ë¸”(íƒœê·¸) ê¸°ì¤€ìœ¼ë¡œ ì§‘ê³„í•˜ê³  ë¶„ì„í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\nInfluxDBëŠ” ë ˆì´ë¸” ê¸°ë°˜ ì‹ ì†í•œ ë°ì´í„° ì§ˆì˜ë¥¼ ìœ„í•´ ë ˆì´ë¸”ë³„ë¡œ ì¸ë±ìŠ¤ë¥¼ êµ¬ì¶•í•˜ë©°, ë ˆì´ë¸”ì„ ì´ìš©í•  ë•Œ ë°ì´í„°ë² ì´ìŠ¤ ê³¼ë¶€í•˜ë¥¼ í”¼í•˜ëŠ” ì§€ì¹¨ë„ ì œê³µí•œë‹¤. ê° ë ˆì´ë¸”ì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê°’ì˜ ê°€ì§“ìˆ˜(cardinality)ê°€ ë‚®ì•„ì•¼í•œë‹¤. ë°ì´í„° ì‹œê°í™”ì— íŠ¹íˆ ì¤‘ìš”í•˜ë©°, ë²”ìš© ë°ì´í„°ë² ì´ìŠ¤ë¡œ êµ¬ì¶•í•˜ê¸° ë§¤ìš° ê¹Œë‹¤ë¡­ë‹¤. ê°œëµì  ì„¤ê³„ì•ˆ flowchart a[ì§€í‘œ ì¶œì²˜] --\u003e b[ì§€í‘œ ìˆ˜ì§‘ê¸°] --\u003e c[(ì‹œê³„ì—´ ë°ì´í„° ë² ì´ìŠ¤)] d[ì§ˆì˜ ì‹œìŠ¤í…œ] --\u003e c e[ê²½ë³´ ì‹œìŠ¤í…œ] -.ì§ˆì˜ ì „ì†¡.-\u003e d f[ì‹œê°í™” ì‹œìŠ¤í…œ] -.ì§ˆì˜ ì „ì†¡.-\u003e d e --\u003e g[ì´ë©”ì¼] e --\u003e h[ë‹¨ë¬¸ ë©”ì‹œì§€] e --\u003e i[í˜ì´ì €ë“€í‹°] e --\u003e j[HTTPS ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸] ì§€í‘œ ì¶œì²˜(metrics source) ì§€í‘œ ë°ì´í„°ê°€ ë§Œë“¤ì–´ì§€ëŠ” ê³³ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„, SQL ë°ì´í„°ë² ì´ìŠ¤, ë©”ì‹œì§€ í ë“± ì§€í‘œ ìˆ˜ì§‘ê¸°(metrics collector) ì§€í‘œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ì‹œê³„ì—´ ë°ì´í„°ì— ê¸°ë¡ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤(time-series database) ì§€í‘œ ë°ì´í„°ë¥¼ ì‹œê³„ì—´ ë°ì´í„° í˜•íƒœë¡œ ë³´ê´€ ë‹¤ëŸ‰ì˜ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ìš”ì•½í•˜ëŠ” ë° ì í•©í•˜ë„ë¡ ì„¤ê³„ëœ ì§ˆì˜ ì¸í„°í˜ì´ìŠ¤ ì œê³µ ì§ˆì˜ ì„œë¹„ìŠ¤(query service) ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ê´€ëœ ë°ì´í„°ë¥¼ ì§ˆì˜í•˜ê³  ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì„ ë•ëŠ” ì„œë¹„ìŠ¤ ì¢‹ì€ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê³¨ëë‹¤ë©´, ì´ ì„œë¹„ìŠ¤ëŠ” ë§ì€ ì¼ì„ í•˜ì§€ ì•Šì•„ë„ë¨(ì§ˆì˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ëŒ€ì²´í•  ìˆ˜ë„ ìˆìŒ) ê²½ë³´ ì‹œìŠ¤í…œ(alerting system) ê²½ë³´ë¥¼ ë°›ì•„ì•¼ í•˜ëŠ” ë‹¤ì–‘í•œ ëŒ€ìƒìœ¼ë¡œ ê²½ë³´ ì•Œë¦¼ì„ ì „ì†¡í•˜ëŠ” ì—­í•  ë‹´ë‹¹ ì‹œê°í™” ì‹œìŠ¤í…œ(visualization system) ì§€í‘œë¥¼ ë‹¤ì–‘í•œ í˜•íƒœì˜ ê·¸ë˜í”„/ì°¨íŠ¸ë¡œ ì‹œê°í™” í•˜ëŠ” ê¸°ëŠ¥ ì œê³µ 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ëª‡ ê°€ì§€ í•µì‹¬ì  ì»´í¬ë„ŒíŠ¸ë‚˜ ì²˜ë¦¬ íë¦„ì— ëŒ€í•œ ìƒì„¸ ì„¤ê³„ì•ˆì„ ì œì‹œí•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nì§€í‘œ ìˆ˜ì§‘ ì¹´ìš´í„°(counter)ë‚˜ CPU ì‚¬ìš©ëŸ‰ ê°™ì€ ì§€í‘œë¥¼ ìˆ˜ì§‘í•  ë•ŒëŠ” ë•Œë¡œ ë°ì´í„°ê°€ ì†Œì‹¤ë˜ì–´ë„ ì•„ì£¼ ì‹¬ê°í•œ ë¬¸ì œëŠ” ì•„ë‹ˆë‹¤.\nì§€í‘œë¥¼ ë³´ë‚´ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” ì„±ê³µì ìœ¼ë¡œ ë°ì´í„°ê°€ ì „ì†¡ë˜ì—ˆëŠ”ì§€ ì‹ ê²½ ì“°ì§€ ì•Šì•„ë„ ìƒê´€ ì—†ë‹¤.\nflowchart LR subgraph ì§€í‘œ ìˆ˜ì§‘ a[ì§€í‘œ ì¶œì²˜] --\u003e b[ì§€í‘œ ìˆ˜ì§‘] end b --\u003e c[(ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤)] í’€ vs í‘¸ì‹œ ëª¨ë¸ ì§€í‘œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘ ë°©ë²•ì—ëŠ” ë‘ ê°€ì§€ ëª¨ë¸ì´ ìˆë‹¤. ë”±íˆ ì •ë‹µì€ ì—†ë‹¤.\ní’€ ëª¨ë¸\nflowchart LR e[ì§€í‘œ ìˆ˜ì§‘ê¸°] subgraph ì§€í‘œ ì¶œì²˜ a[ì›¹ ì„œë²„] b[DB í´ëŸ¬ìŠ¤í„°] c[í í´ëŸ¬ìŠ¤í„°] d[ìºì‹œ í´ëŸ¬ìŠ¤í„°] end subgraph SDS f[etcd] g[ì£¼í‚¤í¼] end e --\u003e SDS e -.\"ì§€í‘œ ìˆ˜ì§‘ (pull)\".-\u003e a e -.\"ì§€í‘œ ìˆ˜ì§‘ (pull)\".-\u003e b e -.\"ì§€í‘œ ìˆ˜ì§‘ (pull)\".-\u003e c e -.\"ì§€í‘œ ìˆ˜ì§‘ (pull)\".-\u003e d HTTP ê¸°ë°˜ í’€ ëª¨ë¸ì„ ì´ìš©í•˜ëŠ” ì§€í‘œ ìˆ˜ì§‘ íë¦„ìœ¼ë¡œ, ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ì§€í‘œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì§€í‘œ ìˆ˜ì§‘ê°€ê°€ ì´ íë¦„ì˜ ì¤‘ì‹¬ì´ë‹¤.\nì´ëŸ¬í•œ ì ‘ê·¼ë²•ì—ì„œëŠ” ì§€í‘œ ìˆ˜ì§‘ê¸°ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ì„œë¹„ìŠ¤ ëª©ë¡ì„ ì•Œì•„ì•¼í•œë‹¤.\nì§€í‘œ ìˆ˜ì§‘ê¸° ì„œë²„ ì•ˆì— ëª¨ë“  ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ì˜ DNS/IP ì •ë³´ë¥¼ ë‹´ì€ íŒŒì¼ì„ ë‘ë©´ ê°€ì¥ ê°„ë‹¨í•˜ë‹¤. ì„œë²„ê°€ ìˆ˜ì‹œë¡œ ì¶”ê°€/ì‚­ì œë˜ëŠ” ëŒ€ê·œëª¨ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ì ìš©í•˜ê¸° ì–´ë µë‹¤. etcdë‚˜ ì•„íŒŒì¹˜ ì£¼í‚¤í¼ ê°™ì€ ì„œë¹„ìŠ¤ íƒìƒ‰(Service Discovery) ê¸°ìˆ ì„ í™œìš©í•˜ë©´ ì´ ë¬¸ì œëŠ” í•´ê²°í•  ìˆ˜ ìˆë‹¤.\nê° ì„œë¹„ìŠ¤ëŠ” ìì‹ ì˜ ê°€ìš©ì„± ê´€ë ¨ ì •ë³´ë¥¼ ì„œë¹„ìŠ¤ íƒìƒ‰ ì„œë¹„ìŠ¤(SDS)ì— ê¸°ë¡í•˜ê³ , SDSëŠ” ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸í„° ëª©ë¡ì— ë³€í™”ê°€ ìƒê¸¸ ë•Œë§ˆë‹¤ ì§€í‘œ ìˆ˜ì§‘ê¸°ì— í†µë³´í•œë‹¤. SDSì—ëŠ” ì–¸ì œ ì–´ë””ì„œ ì§€í‘œë¥¼ ìˆ˜ì§‘í•˜ë©´ ë˜ëŠ”ì§€ì— ê´€í•œ ì„¤ì • ì •ë³´ë¥¼ ê¸°ë¡í•œë‹¤. flowchart metricsCollector[ì§€í‘œ ìˆ˜ì§‘ê¸°] subgraph SDS etcd[etcd] zookeeper[ì£¼í‚¤í¼] end metricsCollector -- \"1 \u003e ì§€í‘œ ìˆ˜ì§‘ ëŒ€ìƒ ëª©ë¡ í™•ë³´\" --\u003e SDS webServer[ì›¹ ì„œë²„] metricsCollector -- \"2 \u003e /metrics ì—”ë“œí¬ì¸íŠ¸ ì œê³µ\" --\u003e webServer ì§€í‘œ ìˆ˜ì§‘ê¸°ëŠ” SDSì—ì„œ ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ ì„¤ì • ë©”íƒ€ë°ì´í„° ëª©ë¡ì„ ê°€ì ¸ì˜¨ë‹¤. ì§€í‘œ ìˆ˜ì§‘ ì£¼ê¸°(pulling interval), IP ì£¼ì†Œ, íƒ€ì„ì•„ì›ƒ(timeout), ì¬ì‹œë„ ì¸ì(retry parameter) ë“± ì§€í‘œ ìˆ˜ì§‘ê¸°ëŠ” ì‚¬ì „ í•©ì˜ëœ HTTP ì—”ë“œí¬ì¸íŠ¸(/metrics) ì§€í‘œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìˆ˜ì§‘ê¸°ì— ë…¸ì¶œí•˜ê¸° ìœ„í•´, í†µìƒ ì„œë¹„ìŠ¤ì— íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•œë‹¤. ì§€í‘œ ìˆ˜ì§‘ê¸°ëŠ” ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡ì˜ ë³€í™”ë¥¼ í†µì§€ ë°›ê¸° ìœ„í•œ ë³€ê²½ ì´ë²¤íŠ¸ ì•Œë¦¼(change event notification) ì½œë°±ì„ ì„œë¹„ìŠ¤ íƒìƒ‰ ì»´í¬ë„ŒíŠ¸ì— ë“±ë¡í•  ìˆ˜ ìˆë‹¤. ì£¼ê¸°ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ íƒìƒ‰ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡ì„ ë‹¤ì‹œ ê°€ì ¸ì™€ë„ ëœë‹¤. ìˆ˜ì²œ ëŒ€ ì„œë²„ê°€ ë§Œë“¤ì–´ë‚´ëŠ” ì§€í‘œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ë ¤ë©´ ì§€í‘œ ìˆ˜ì§‘ê¸° ì„œë²„ í•œëŒ€ë¡œëŠ” ë¶€ì¡±í•˜ê¸° ë•Œë¬¸ì— ì§€í‘œ ìˆ˜ì§‘ê¸° ì„œë²„ í’€ì„ ë§Œë“¤ì–´ì•¼ ì„¤ê³„ì•ˆì—ì„œ ë‹¤ë£¨ëŠ” ì§€í‘œ ë°ì´í„° ê·œëª¨ë¥¼ ê°ë‹¹í•  ìˆ˜ ìˆë‹¤.\nì§€í‘œ ìˆ˜ì§‘ê¸° ì„œë²„ë¥¼ ì—¬ëŸ¬ ëŒ€ ë‘˜ ë•Œ ì—¬ëŸ¬ ì„œë²„ê°€ ê°™ì€ ì¶œì²˜ì—ì„œ ë°ì´í„°ë¥¼ ì¤‘ë³µí•´ì„œ ê°€ì ¸ì˜¬ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë¯€ë¡œ, ì•ˆì • í•´ì‹œ ë§(consistent hash ring)ì„ í†µí•´ ì§€í‘œ ìˆ˜ì§‘ ì„œë²„ê°„ì— ì¤‘ì¬ ë§¤ì»¤ë‹ˆì¦˜ì„ ë§Œë“ ë‹¤.\ní•´ì‹œ ë§ êµ¬ê°„ë§ˆë‹¤ í•´ë‹¹ êµ¬ê°„ì— ì†í•œ ì„œë²„ë¡œë¶€í„° ìƒì‚°ë˜ëŠ” ì§€í‘œì˜ ìˆ˜ì§‘ì„ ë‹´ë‹¹í•˜ëŠ” ìˆ˜ì§‘ê¸° ì„œë²„ë¥¼ ì§€ì •í•˜ì—¬ íŠ¹ì • ì„œë²„ì˜ ì§€í‘œ ë°ì´í„°ê°€ í•­ìƒ í•˜ë‚˜ì˜ ìˆ˜ì§‘ ì„œë²„ê°€ ì²˜ë¦¬í•¨ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.\ní‘¸ì‹œ ëª¨ë¸\ní‘¸ì‹œ ëª¨ë¸ì€ ì§€í‘œ ì¶œì²˜ì— í•´ë‹¹í•˜ëŠ” ì„œë²„ê°€ ì§ì ‘ ì§€í‘œë¥¼ ìˆ˜ì§‘ê¸°ì— ì „ì†¡í•˜ëŠ” ëª¨ë¸ì´ë‹¤.\nì›¹ì„œë²„, ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ë“± í‘¸ì‹œ ëª¨ë¸ì˜ ê²½ìš°, ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ ì„œë²„ì— í†µìƒ ìˆ˜ì§‘ ì—ì´ì „íŠ¸(Collection agent)ë¼ê³  ë¶€ë¥´ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ì¹˜í•œë‹¤.\nìˆ˜ì§‘ ì—ì´ì „íŠ¸\ní•´ë‹¹ ì¥ë¹„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì„œë¹„ìŠ¤ê°€ ìƒì‚°í•˜ëŠ” ì§€í‘œ ë°ì´í„°ë¥¼ ë°›ì•„ ëª¨ì€ í›„ ì£¼ê¸°ì ìœ¼ë¡œ ìˆ˜ì§‘ê¸°ì— ì „ë‹¬í•œë‹¤.\nê°„ë‹¨í•œ ì¹´ìš´í„° ì§€í‘œëŠ” ìˆ˜ì§‘ê¸°ì— ë³´ë‚´ê¸° ì „ ì—ì´ì „íŠ¸ê°€ ì§ì ‘ ë°ì´í„° ì§‘ê³„ ë“±ì˜ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆë‹¤.\në°ì´í„° ì§‘ê³„(aggregation)ëŠ” ìˆ˜ì§‘ê¸°ì— ë³´ë‚´ëŠ” ë°ì´í„°ì˜ ì–‘ì„ ì¤„ì´ëŠ” íš¨ê³¼ì ì¸ ë°©ë²•ì´ë‹¤.\në°ì´í„° ì „ì†¡ íŠ¸ë˜í”½ì˜ ì–‘ì´ ë§‰ëŒ€í•˜ì—¬ ìˆ˜ì§‘ê°€ê°€ ì¼ì‹œì ìœ¼ë¡œ ì „ì†¡ë˜ëŠ” ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ê²Œ ë˜ì–´ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ë©´, ì—ì´ì „íŠ¸ëŠ” ë‚´ë¶€ì˜ ì†Œê·œëª¨ ë²„í¼ì— ë°ì´í„°ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ë³´ê´€í•œ ë‹¤ìŒ ë‚˜ì¤‘ì— ì¬ì „ì†¡ í•  ìˆ˜ ìˆë‹¤. ì—ì´ì „íŠ¸ê°€ ìœ„ì¹˜í•œ ì„œë²„ í´ëŸ¬ìŠ¤í„°ê°€ ìë™ ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ ì„œë²„ê°€ ë™ì ìœ¼ë¡œ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë˜ëŠ” ê³¼ì •ì—ì„œ í•´ë‹¹ ë°ì´í„°ëŠ” ì†Œì‹¤ë  ìˆ˜ë„ ìˆë‹¤. flowchart LR subgraph ì§€í‘œ ì¶œì²˜ webServer[ì›¹ ì„œë²„] subgraph agents direction TB metric1[ì§€í‘œ 1] ~~~ metric2[ì§€í‘œ 2] ~~~ metric3[ì§€í‘œ 3] end webServer --\u003e agents end agents --ë©”ì‹œì§€ ì „ì†¡--\u003e lb[ë¡œë“œë²¨ëŸ°ì„œ] lb --\u003e metricsCollectorCluster[[ì§€í‘œ ìˆ˜ì§‘ê¸° ì„œë²„ í´ëŸ¬ìŠ¤í„°]] í‘¸ì‹œ ëª¨ë¸ì„ ì±„íƒí•œ ì§€í‘œ ìˆ˜ì§‘ê¸°ê°€ ë°€ë ¤ë“œëŠ” ì§€í‘œ ë°ì´í„°ë¥¼ ì œë•Œ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” ì¼ì„ ë°©ì§€í•˜ë ¤ë©´, ì§€í‘œ ìˆ˜ì§‘ê¸° í´ëŸ¬ìŠ¤í„° ìì²´ë„ ìë™ ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±í•˜ê³  ê·¸ ì•ì— ë¡œë“œë°¸ëŸ°ì„œë¥¼ ë‘ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.\ní’€ ëª¨ë¸ vs í‘¸ì‹œ ëª¨ë¸ ì¥ë‹¨ì  ë¹„êµ\nìƒí™©ì— ì í•©í•œ ëª¨ë¸ì´ ë¬´ì—‡ì¸ì§€ëŠ” ì •ë‹µì´ ì—†ìœ¼ë©°, ì‹¤ì œë¡œ ì´ ë‘ ëª¨ë¸ì€ êµ¬ë¶„ ì—†ì´ ë„ë¦¬ ì‚¬ìš©ë˜ê³  ìˆë‹¤.\ní’€ ëª¨ë¸: í”„ë¡œë©”í…Œìš°ìŠ¤ í‘¸ì‹œ ëª¨ë¸: ì•„ë§ˆì¡´ í´ë¼ìš°ë“œ ì™€ì¹˜(CloudWatch), ê·¸ë˜íŒŒì´íŠ¸(Graphite) ë‘ ëª¨ë¸ì˜ ì¥ë‹¨ì ì„ ë¹„êµí•˜ì—¬ ì ì ˆíˆ ì´ìš©í•œë‹¤.\ní’€ ëª¨ë¸ í‘¸ì‹œ ëª¨ë¸ ì†ì‰¬ìš´ ë””ë²„ê¹… ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì— /metrics ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë‘ë„ë¡ ê°•ì œí•˜ë¯€ë¡œ í•„ìš”í•˜ë‹¤ë©´ ì–¸ì œë“  ì§€í‘œ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ìƒíƒœ ì§„ë‹¨(health check) ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ê°€ í’€ ìš”ì²­ì— ì‘ë‹µí•˜ì§€ ì•Šìœ¼ë©´ ë°”ë¡œ í•´ë‹¹ ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•œ ê²ƒìœ¼ë¡œ ì§„ë‹¨í•  ìˆ˜ ìˆë‹¤(ë” ì‰½ë‹¤) ì§€í‘œ ìˆ˜ì§‘ê¸°ê°€ ì§€í‘œë¥¼ ë°›ì§€ ëª»í•˜ë©´ ë„¤íŠ¸ì›Œí¬ ì¥ì• ê°€ ì›ì¸ì¸ì§€ ì„œë²„ ì¥ì• ê°€ ì›ì¸ì¸ì§€ ì•Œê¸° ì–´ë µë‹¤. ìƒì¡´ ê¸°ê°„ì´ ì§§ì€ í”„ë¡œì„¸ìŠ¤ ìƒëª… ì£¼ê¸°ê°€ ì§§ì€ ì¼ê´„ ì‘ì—… í”„ë¡œì„¸ìŠ¤ì˜ ê²½ìš° ìˆ˜ì§‘ê¸°ê°€ ë¯¸ì²˜ ì§€í‘œë¥¼ ëŒì–´ê°€ê¸°ë„ ì „ì— ì¢…ë£Œë  ìˆ˜ ìˆë‹¤. ê·¸ëŸ° ì ì—ì„œ í‘¸ì‹œ ëª¨ë¸ì´ ì¡°ê¸ˆë” ë‚«ë‹¤(í’€ ëª¨ë¸ë„ í‘¸ì‹œ ê²Œì´íŠ¸ì›¨ì´ë¥¼ ë„ì…í•˜ë©´ í•´ë‹¹ ë¬¸ì œì ì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤ ë°©í™”ë²½ ë“±ì˜ ë³µì¡í•œ ë„¤íŠ¸ì›Œí¬ êµ¬ì„± ìˆ˜ì§‘ê¸° ì„œë²„ê°€ ì§€í‘œ ë°ì´í„°ë¥¼ ì œëŒ€ë¡œ ëŒì–´ê°€ë ¤ë©´ ëª¨ë“  /metrics ì—”ë“œí¬ì¸íŠ¸ê°€ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±ë˜ì–´ì•¼í•œë‹¤. ë°ì´í„°ì„¼í„°ë¥¼ ì—¬ëŸ¬ ê°œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” ë¬¸ì œê°€ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ ì¸í”„ë¼ë¥¼ ì„¸ì‹¬íˆ ì„¤ê³„í•´ì•¼í•œë‹¤. ì§€í‘œ ìˆ˜ì§‘ê¸°ê°€ ë¡œë“œë°¸ëŸ°ì„œ ë° ìë™ ê·œëª¨ í™•ì¥ í´ëŸ¬ìŠ¤í„° í˜•íƒœë¡œ êµ¬ì„±ë˜ì—ˆë‹¤ë©´ ì–´ë””ì„œ ì˜¤ëŠ” ì§€í‘œë¼ë„ ìˆ˜ì§‘ ê°€ëŠ¥í•˜ë‹¤.(ë” ë‚«ë‹¤) ì„±ëŠ¥ í’€ ëª¨ë¸ì€ ì¼ë°˜ì ìœ¼ë¡œ TCPë¥¼ ì‚¬ìš©í•œë‹¤. í‘¸ì‹œ ëª¨ë¸ì€ ë³´í†µ UDPë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€í‘œ ì „ì†¡ ì§€ì—°ì´ ë” ë‚®ë‹¤.(TCPë³´ë‹¤ ì˜¤ë²„í—¤ë“œê°€ ë‚®ìœ¼ë¯€ë¡œ) ë°ì´í„° ì‹ ë¹™ì„± ì§€í‘œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì˜ ëª©ë¡ì´ ì´ë¯¸ ì •ì˜ëœ ìƒíƒœì´ë¯€ë¡œ í•´ë‹¹ ì„œë²„ì—ì„œ ìˆ˜ì§‘í•œ ë°ì´í„°ëŠ” ë¯¿ì„ ìˆ˜ ìˆë‹¤. ì•„ë¬´ë‚˜ ì§€í‘œ ìˆ˜ì§‘ê¸°ì— ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆì–´, ì§€í‘œ ì „ì†¡ì„ í—ˆìš©í•  ì„œë²„ì˜ ëª©ë¡ì„ ìˆ˜ì§‘ê¸° ì¸¡ì— ìœ ì§€í•˜ê±°ë‚˜ ì¸ì¦ì„ ê°•ì œí•˜ë©´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤. í’€ ëª¨ë¸ê³¼ í‘¸ì‹œ ëª¨ë¸ ê°€ìš´ë° ë¬´ì—‡ì´ ë‚˜ì€ì§€ëŠ” ë…¼ìŸì ì¸ ì£¼ì œì´ê³  ì •ë‹µë„ ì—†ë‹¤.\nì„œë²„ë¦¬ìŠ¤(serverless) ê¸°ìˆ ì´ ê°ê´‘ ë°›ìŒì— ë”°ë¼ ë§ì€ ì¡°ì§ì´ ë‘ ëª¨ë¸ì„ ëª¨ë‘ ì§€ì›í•˜ê³  ìˆë‹¤.\nì§€í‘œ ìˆ˜ì§‘ ì—ì´ì „íŠ¸ë¥¼ ì„¤ì¹˜í•  ì„œë²„ê°€ ë§ˆë•…íˆ ì¡´ì¬í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. ì§€í‘œ ì „ì†¡ íŒŒì´í”„ë¼ì¸ì˜ ê·œëª¨ í™•ì¥ ì§€í‘œ ìˆ˜ì§‘ê¸°ì™€ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¢€ ë” ìì„¸íˆ ì‚´í´ë³´ì.\nflowchart LR metricsOrigin[ì§€í‘œ ì¶œì²˜] --\u003e metricsCollector subgraph \" \" metricsCollector[ì§€í‘œ ìˆ˜ì§‘ê¸°] --\u003e timeseriesDB[(ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤)] end querySystem[ì¿¼ë¦¬ ì‹œìŠ¤í…œ] --\u003e timeseriesDB í’€ ëª¨ë¸ê³¼ í‘¸ì‹œ ëª¨ë¸ ê°€ìš´ë° ë¬´ì—‡ì„ ì±„íƒí• ì§€ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´, ì§€í‘œ ìˆ˜ì§‘ê¸°ëŠ” ì„œë²„ í´ëŸ¬ìŠ¤í„° í˜•íƒœì´ë©° ì—„ì²­ë‚œ ì–‘ì˜ ë°ì´í„°ë¥¼ ë°›ì•„ ì²˜ë¦¬í•´ì•¼í•œë‹¤.\nì´ í´ëŸ¬ìŠ¤í„°ëŠ” ìë™ìœ¼ë¡œ ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•˜ì—¬ ì–¸ì œë‚˜ ë°ì´í„° ì²˜ë¦¬ì— ì¶©ë¶„í•œ ìˆ˜ì§‘ê¸° ì„œë²„ê°€ ì¡´ì¬í•˜ë„ë¡ í•´ì•¼í•œë‹¤. í•˜ì§€ë§Œ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì— ì¥ì• ê°€ ìƒê¸°ë©´ ë°ì´í„° ì†ì‹¤ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆëŠ”ë°, íë¥¼ ë‘ë©´ ê·¸ëŸ° ë¬¸ì œë“¤ì„ í•´ì†Œí•  ìˆ˜ ìˆë‹¤.\nflowchart LR metricsOrigin[ì§€í‘œ ì¶œì²˜] --\u003e kafka subgraph \" \" kafka[[ì¹´í”„ì¹´]] --\u003e metricsCollector[ì§€í‘œ ìˆ˜ì§‘ê¸°] --\u003e timeseriesDB[(ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤)] end querySystem[ì¿¼ë¦¬ ì‹œìŠ¤í…œ] --\u003e timeseriesDB ìë£Œ ìˆ˜ì§‘ê¸°ëŠ” ì§€í‘œ ë°ì´í„°ë¥¼ ì¹´í”„ì¹´ì™€ ê°™ì€ í ì‹œìŠ¤í…œì— ì „ì†¡í•˜ë©´ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ì„œë¹„ìŠ¤ê°€ í•´ë‹¹ ë°ì´í„°ë¥¼ ë°›ì•„ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤.(ì•„íŒŒì¹˜ ìŠ¤í†°ì´ë‚˜ í”Œë§í¬, ìŠ¤íŒŒí¬ ê°™ì€ ì†Œë¹„ì)\nì´ëŸ¬í•œ êµ¬ì¡°ëŠ” ëª‡ ê°€ì§€ ì¥ì ì´ ìˆë‹¤.\nì¹´í”„ì¹´ëŠ” ê³ ë„ë¡œ ì•ˆì •ì ì´ê³  ê·œëª¨ í™•ì¥ì„±ì´ ë›°ì–´ë‚œ ë¶„ì‚° ë©”ì‹œì§€ í”Œë«í¼ì´ë‹¤. ë°ì´í„° ìˆ˜ì§‘ ì»´í¬ë„ŒíŠ¸ì™€ ì²˜ë¦¬ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶˜ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì— ì¥ì• ê°€ ìƒê²¨ë„ ì¹´í”„ì¹´ì— ë³´ê´€í•´ ë‘ë©´ ë˜ë¯€ë¡œ ë°ì´í„°ê°€ ì†Œì‹¤ë˜ì§€ ì•ŠëŠ”ë‹¤. ì¹´í”„ì¹´ë¥¼ ì´ìš©í•œ ê·œëª¨ í™•ì¥ ì¹´í”„ì¹´ì— ë‚´ì¥ëœ íŒŒí‹°ì…˜ ë§¤ì»¤ë‹ˆì¦˜ì„ í™œìš©í•˜ì—¬ ì‹œìŠ¤í…œì˜ ê·œëª¨ë¥¼ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆë‹¤.\nflowchart metricsCollector[ì§€í‘œ ìˆ˜ì§‘ê¸°] subgraph Kafka partition0[\"íŒŒí‹°ì…˜ 0 (ì§€í‘œ 1)\"] partition1[\"íŒŒí‹°ì…˜ 1 (ì§€í‘œ 2)\"] partition2[\"íŒŒí‹°ì…˜ 2 (ì§€í‘œ 3)\"] end ëŒ€ì—­í­ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ íŒŒí‹°ì…˜ì˜ ìˆ˜ë¥¼ ê²°ì •í•œë‹¤. ì§€í‘œ ì´ë¦„ì— ë”°ë¼ ì–´ë–¤ ì§€í‘œë¥¼ ì–´ëŠ íŒŒí‹°ì…˜ì— ë°°ì¹˜í•  ì§€ ê²°ì •í•˜ë©´ ì†Œë¹„ìëŠ” ì§€í‘œ ì´ë¦„ì— ë”°ë¼ ë°ì´í„°ë¥¼ ì§‘ê³„í•  ìˆ˜ ìˆë‹¤. í…Œê·¸/ë ˆì´ë¸”ì— ë”°ë¼ ì§€í‘œ ë°ì´í„°ë¥¼ ë”ìš± ì„¸ë¶„í™”í•œ íŒŒí‹°ì…˜ìœ¼ë¡œ ë‚˜ëˆˆë‹¤. ì¤‘ìš” ì§€í‘œê°€ ë¨¼ì € ì²˜ë¦¬ë  ìˆ˜ ìˆë„ë¡ ì§€í‘œë¥¼ ë¶„ë¥˜í•˜ê³  ìš°ì„ ìˆœìœ„ë¥¼ ì§€ì •í•œë‹¤. ì¹´í”„ì¹´ì˜ ëŒ€ì•ˆ ìƒìš© êµ¬ë¬˜ì˜ ì¹´í”„ì¹´ ì‹œìŠ¤í…œ êµ¬ì¶•ì€ ì‰½ì§€ ì•Šê¸° ë•Œë¬¸ì— ë°˜ëŒ€í•  ìˆ˜ë„ ìˆë‹¤.\nì‹œì¥ì—ëŠ” í ì—†ì´ë„ ëŒ€ê·œëª¨ ë°ì´í„° ì²˜ë¦¬ê°€ ê°€ëŠ¥í•œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ ìˆë‹¤.\ní˜ì´ìŠ¤ë¶ì˜ ë©”ëª¨ë¦¬ ê¸°ë°˜ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ ê³ ë¦´ë¼(Gorilla) ë“± ê³ ë¦´ë¼ëŠ” ì¼ë¶€ì— ë„¤íŠ¸ì›Œí¬ ì¥ì• ê°€ ë°œìƒí•´ë„ ë†’ì€ ìˆ˜ì¤€ì˜ ì“°ê¸° ì—°ì‚° ê°€ìš©ì„±ì„ ìœ ì§€í•˜ëŠ”ë°, ì´ëŸ° ì‹œìŠ¤í…œì„ ì“´ë‹¤ë©´ ì¹´í”„ì¹´ ê°™ì€ ë©”ì‹œì§€ íê°€ ì—†ì–´ë„ ê°™ì€ ìˆ˜ì¤€ì˜ ì•ˆì •ì„±ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.\në°ì´í„° ì§‘ê³„ ì§€ì  ì§€í‘œ ì§‘ê³„ëŠ” ë‹¤ì–‘í•œ ì§€ì ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤.\nìˆ˜ì§‘ ì—ì´ì „íŠ¸(í´ë¼ì´ì–¸íŠ¸ ì§‘ê³„ ë°©ì•ˆ) ë°ì´í„° ìˆ˜ì§‘(ingestion) íŒŒì´í”„ë¼ì¸(ì €ì¥ì†Œ ê¸°ë¡ ì „ì— ì§‘ê³„ í•˜ëŠ” ë°©ì•ˆ) ì§ˆì˜ ì‹œì (ì €ì¥ì†Œ ê¸°ë¡ í›„ì— ì§‘ê³„) ìˆ˜ì§‘ ì—ì´ì „íŠ¸ê°€ ì§‘ê³„í•˜ëŠ” ë°©ì•ˆ\ní´ë¼ì´ì–¸íŠ¸ì— ì„¤ì¹˜ëœ ìˆ˜ì§‘ ì—ì´ì „íŠ¸ëŠ” ë³µì¡í•œ ì§‘ê³„ ë¡œì§ì€ ì§€ì›í•˜ê¸° ì–´ë µë‹¤.\nì–´ë–¤ ì¹´ìš´í„° ê°’ì„ ë¶„ ë‹¨ìœ„ë¡œ ì§‘ê³„í•˜ì—¬ ì§€í‘œ ìˆ˜ì§‘ê¸°ì— ë³´ë‚´ëŠ” ì •ë„ëŠ” ê°€ëŠ¥ ë°ì´í„° ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸ì—ì„œ ì§‘ê³„í•˜ëŠ” ë°©ì•ˆ\në³´í†µ í”Œë§í¬ ê°™ì€ ìŠ¤íŠ¸ë¦¼ í”„ë¡œì„¸ì‹± ì—”ì§„ì´ í•„ìš”í•˜ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ê³„ì‚° ê²°ê³¼ë§Œ ê¸°ë¡í•˜ë¯€ë¡œ, ì‹¤ì œë¡œ ê¸°ë¡ë˜ëŠ” ì–‘ì€ ì—…ì²­ë‚˜ê²Œ ì¤„ì–´ë“ ë‹¤.\nëŠ¦ê²Œ ë„ì°©í•˜ëŠ” ì§€í‘œ ë°ì´í„°ì˜ ì²˜ë¦¬ê°€ ì–´ë µë‹¤. ì›ë³¸ ë°ì´í„°ë¥¼ ë³´ê´€í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì •ë°€ë„ë‚˜ ìœ ì—°ì„± ì¸¡ë³€ì—ì„œ ì†í•´ë¥¼ ë³´ê²Œëœë‹¤. ì§ˆì˜ ì‹œì— ì§‘ê³„í•˜ëŠ” ë°©ì•ˆ\në°ì´í„°ë¥¼ ë‚ ê²ƒ ê·¸ëŒ€ë¡œ ë³´ê´€í•œ ë‹¤ìŒ ì§ˆì˜í•  ë•Œ í•„ìš”í•œ ì‹œê°„ êµ¬ê°„ì— ë§ê²Œ ì§‘ê³„í•œë‹¤.\në°ì´í„° ì†ì‹¤ ë¬¸ì œëŠ” ì—†ìœ¼ë‚˜ ì§ˆì˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ìˆœê°„ì— ì „ì²´ ë°ì´í„°ì„¸íŠ¸ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì§‘ê²Œ ê²°ê³¼ë¥¼ ê³„ì‚°í•´ì•¼ í•˜ë¯€ë¡œ ì†ë„ëŠ” ëŠë¦´ ê²ƒì´ë‹¤. ì§ˆì˜ ì„œë¹„ìŠ¤ ì§ˆì˜ ì„œë²„ í´ëŸ¬ìŠ¤í„° í˜•íƒœë¡œ êµ¬í˜„ë˜ë©°, ì‹œê°í™” ë˜ëŠ” ê²½ë³´ ì‹œìŠ¤í…œì—ì„œ ì ‘ìˆ˜ëœ ìš”ì²­ì„ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nì§ˆì˜ ì²˜ë¦¬ ì „ë‹´ ì„œë¹„ìŠ¤ë¥¼ ë‘ë©´ í´ë¼ì´ì–¸íŠ¸(ì‹œê°í™” ë˜ëŠ” ê²½ë³´ ì‹œìŠ¤í…œ) ì™€ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶œ ìˆ˜ ìˆë‹¤.\nì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ììœ ë¡­ê²Œ ë‹¤ë¥¸ ì œí’ˆìœ¼ë¡œ êµì²´í•  ìˆ˜ ìˆë‹¤. ìºì‹œ ê³„ì¸µ flowchart timeseriesDB[ì‹œê³„ì—´ ë°ì´í„° ë² ì´ìŠ¤] subgraph \" \" queryService[ì§ˆì˜ ì„œë¹„ìŠ¤] --\u003e cache[ìºì‹œ] end queryService --\u003e timeseriesDB alertSystem[ê²½ë³´ ì‹œìŠ¤í…œ] --\u003e queryService monitoringSystem[ì‹œê°í™” ì‹œìŠ¤í…œ] --\u003e queryService ì§ˆì˜ ê²°ê³¼ë¥¼ ì €ì¥í•  ìºì‹œ ì„œë²„ë¥¼ ë„ì…í•˜ë©´ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì§ˆì˜ ë¶€í•˜ë¥¼ ë‚®ì¶”ê³  ì§ˆì˜ ì„œë¹„ìŠ¤ì˜ ì„±ëŠ¥ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.\nì§ˆì˜ ì„œë¹„ìŠ¤ë¥¼ ë‘ë©´ ê³¤ë€í•œ ê²½ìš° ëŒ€ë¶€ë¶„ ìƒìš© ì‹œê°í™” ë° ê²½ë³´ ì‹œìŠ¤í…œì€ ì‹œì¥ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì—°ë™ì„ ì²˜ë¦¬í•˜ëŠ” ê°•ë ¥í•œ í”ŒëŸ¬ê·¸ì¸ì„ ì´ë¯¸ ê°–ì¶”ê³  ìˆëŠ” ê²½ìš°ê°€ ë§ë‹¤.\në³„ë„ ìºì‹œë¥¼ ë„ì…í•  í•„ìš”ê°€ ì—†ëŠ” ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ ì§ˆì˜ì–´ í”„ë¡œë©”í…Œìš°ìŠ¤ë‚˜ InfluxDB ê°™ì€ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì§€í‘œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œë“¤ì€ ì‹œê³„ì—´ ë°ì´í„°ê°€ SQLë¡œëŠ” ì§ˆì˜í•˜ê¸°ê°€ ê¹Œë‹¤ë¡­ë‹¤ëŠ” íŠ¹ì„± ë•Œë¬¸ì— SQLì´ ì•„ë‹Œ ë…ì ì§ˆì˜ì–´ë¥¼ ì œê³µí•œë‹¤.\nì €ì¥ì†Œ ê³„ì¸µ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•  ê²ƒ í˜ì´ìŠ¤ë¶ì—ì„œ ë‚´ë†“ì€ ì—°êµ¬ ë…¼ë¬¸ì— ë‹¤ë¥´ë©´ ìš´ì˜ ë°ì´í„° ì €ì¥ì†Œì— ëŒ€í•œ ì§ˆì˜ì˜ 80%ëŠ” ì§€ë‚œ 26ì‹œê°„ ë‚´ì— ìˆ˜ì§‘ëœ ë°ì´í„°ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•œë‹¤.\nì´ ì‚¬ì‹¤ì„ ì˜ í™œìš©í•˜ëŠ” ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê³ ë¥´ë©´ ì„±ëŠ¥ ì¸¡ë©´ì—ì„œ í° ì´ë“ì„ ë³¼ ìˆ˜ ìˆë‹¤.\nì €ì¥ ìš©ëŸ‰ ìµœì í™” ì§€í‘œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì— ì €ì¥í•  ë°ì´í„° ì•¼ì€ ë§‰ëŒ€í•˜ë¯€ë¡œ, ì´ë¥¼ ìœ„í•œ ëª‡ ê°€ì§€ ì „ëµì´ ìˆë‹¤.\në°ì´í„° ì¸ì½”ë”© ë° ì••ì¶•\në°ì´í„°ë¥¼ ì¸ê³ ë”©í•˜ê³  ì••ì¶•í•˜ë©´ í¬ê¸°ë¥¼ ìƒë‹¹íˆ ì¤„ì¼ ìˆ˜ ìˆìœ¼ë©°, ì¢‹ì€ ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ëŒ€ë¶€ë¶„ ì´ ê¸°ëŠ¥ì„ ë‚´ì¥í•˜ê³  ìˆë‹¤.\nì‹œê³„ì—´ ë°ì´í„°ëŠ” íŠ¹ì • ì‹œê°„ëŒ€ì— ì—°ì†ì ìœ¼ë¡œ ìˆ˜ì§‘ëœë‹¤ëŠ” íŠ¹ì§•ì„ ê°€ì§„ë‹¤.\në”°ë¼ì„œ 1610087371ê³¼ 1610087381ì€ 10ì´ˆ ë§Œí¼ë§Œ ë‹¤ë¥¸ ê°’ì´ë¯€ë¡œ ê°’ì˜ ì°¨ì´ë¥¼ ì €ì¥í•œë‹¤ë©´ ìš©ëŸ‰ì„ í¬ê²Œ ì•„ë‚„ ìˆ˜ ìˆë‹¤.\në°ì´í„°ë¥¼ ì™„ì „í•œ í˜•íƒœê°€ ì•„ë‹Œ ê¸°ì¤€ ê°’ê³¼ ì°¨ì´ë¥¼ ì €ì¥í•œë‹¤. ë‹¤ìš´ ìƒ˜í”Œë§\në°ì´í„°ì˜ í•´ìƒë„ë¥¼ ë‚®ì¶° ì €ì¥ì†Œ ìš”êµ¬ëŸ‰ì„ ì¤„ì´ëŠ” ê¸°ë²•ì´ë‹¤.\nìš”êµ¬ëœ ë°ì´í„° ë³´ê´€ ê¸°ê°„ì€ 1ë…„ì´ë¯€ë¡œ, ë‚¡ì€ ë°ì´í„°ëŠ” í•´ìƒë„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\nëƒ‰ë™ ì €ì¥ì†Œ\nëƒ‰ë™ ì €ì¥ì†Œ(cold storage)ëŠ” ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë¹„í™œì„± ìƒíƒœ ë°ì´í„°ë¥¼ ë³´ê´€í•˜ëŠ” ê³³ìœ¼ë¡œ ì¼ë°˜ ì €ì¥ì†Œì— ë¹„í•´ ë¹„ìš©ì´ í›¨ì”¬ ì‹¸ë‹¤.\nê²½ë³´ ì‹œìŠ¤í…œ ëŒ€ì²´ì ìœ¼ë¡œ ì‹œê°í™”ì™€ ê²½ë³´ ì‹œìŠ¤í…œì€ ì§ì ‘ ë§Œë“¤ê¸°ë³´ë‹¤ ì‚¬ìš©í’ˆì„ ê°€ì ¸ë‹¤ ì“°ëŠ” í¸ì´ í›¨ì”¬ ë‚«ì§€ë§Œ ê²½ë³´ ì‹œìŠ¤í…œì˜ êµ¬ì„± ë°©ë²•ì„ ì‚´í´ë³´ë©´ ì¢‹ë‹¤.\nì„¤ì • íŒŒì¼ì„ ê°€ì ¸ì™€ ìºì‹œ ì„œë²„ì— ë³´ê´€í•œë‹¤. ê²½ë³´ ê·œì¹™ì€ ë””ìŠ¤í¬ì— íŒŒì¼ ìƒíƒœë¡œ ë³´ê´€í•˜ë©°, YAMLì´ ë„ë¦¬ ì‚¬ìš©ëœë‹¤. ê²½ë³´ ê´€ë¦¬ì(alert manager)ëŠ” ì •ë³´ ì„¤ì • ë‚´ì—­ì„ ìºì‹œì—ì„œ ê°€ì ¸ì˜¨ë‹¤. ì„¤ì •ëœ ê·œì¹™ì— ê·¼ê±°í•˜ì—¬ ê²½ë³´ ê´€ë¦¬ìëŠ” ì§€ì •ëœ ì‹œê°„ë§ˆë‹¤ ì§ˆì˜ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ê³ , ì§ˆì˜ ê²°ê³¼ê°€ ì„¤ì •ëœ ì„ê³„ê°’ì„ ìœ„ë°˜í•˜ë©´ ê²½ë³´ ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤. ê²½ë³´ í•„í„°ë§ , ë³‘í•©, ì¤‘ë³µ ì œê±° ì§§ì€ ì‹œê°„ ë™ì•ˆ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë°œìƒí•œ ê²½ë³´ë¥¼ ë³‘í•©í•œë‹¤. ì ‘ê·¼ ì œì–´ íŠ¹ì •í•œ ê²½ë³´ ê´€ë¦¬ ì‘ì—…ì€ ë°©ë“œì‹œ íŠ¹ì •í•œ ê°œì¸ë§Œì´ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì œí•œí•´ì•¼í•œë‹¤. ì¬ì‹œë„ ê²½ë³´ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  ì•Œë¦¼ì´ ìµœì†Œ í•œë²ˆì€ ì „ë‹¬ë¨ì„ ë³´ì¥í•´ì•¼í•œë‹¤. ê²½ë³´ ì €ì¥ì†ŒëŠ” ì¹´ì‚°ë“œë¼ ê°™ì€ í˜•íƒœì˜ í‚¤-ê°’ ì €ì¥ì†Œë¡œ, ëª¨ë“  ê²½ë³´ì˜ ìƒíƒœ(ë¹„í™œì„±, ì‘ë‹µ ëŒ€ê¸°, ê²½ë³´ ë°œë ¹, ë¬¸ì œ í•´ê²° ë“±)ê°€ ë³´ê´€ë˜ì–´, ì•ŒëŒì´ ì ì–´ë„ í•œ ë²ˆ ì´ìƒ ì „ë‹¬ë˜ë„ë¡ ë³´ì¥í•˜ëŠ”ë° ì“°ì¸ë‹¤. ê²½ë³´ ì´ë²¤íŠ¸ë¥¼ ì¹´í”„ì¹´ì— ì „ë‹¬í•œë‹¤. ê²½ë³´ ì†Œë¹„ìëŠ” ì¹´í”„ì¹´ì—ì„œ ê²½ë³´ ì´ë²¤íŠ¸ë¥¼ ì½ëŠ”ë‹¤. ê²½ë³´ ì†Œë¹„ìëŠ” ì¹´í”„ì¹´ì—ì„œ ì½ì€ ê²½ë³´ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ì—¬ ì´ë©”ì¼, ë‹¨ë¬¸ ë©”ì‹œì§€, í˜ì´ì €ë“€í‹°, HTTP ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ ë“œìœ¼ì´ ë‹¤ì–‘í•œ ì±„ë„ë¡œ ì•Œë¦¼ì„ ì „ì†¡í•œë‹¤. ë§Œë“¤ ê²ƒì¸ê°€ êµ¬ë§¤í•  ê²ƒì¸ê°€ ê¸°ì—…ì´ í•„ìš”ë¡œí•˜ëŠ” ê·œëª¨ë¥¼ ë°”ë¡œ ì§€ì› ê°€ëŠ¥í•œ ê²½ë³´ ì‹œìŠ¤í…œì€ ì‹œì¥ì— ë§ìœ¼ë©°, ëŒ€ë¶€ë¶„ ìœ ëª… ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µí•©ë˜ì–´ ìˆê³ , ë‹¤ì–‘í•œ ì•Œë¦¼ ì±„ë„ì„ ì§€ì›í•œë‹¤.\në”°ë¼ì„œ ì‹¤ë¬´ì—ì„œëŠ” ê²½ë³´ ì‹œìŠ¤í…œì„ ë°‘ë°”ë‹¥ë¶€í„° êµ¬í˜„í•˜ê² ë‹¤ëŠ” ì•„ì´ë””ì–´ëŠ” ìˆ˜ìš©ë˜ê¸° ì–´ë µë‹¤.\nì‹œê°í™” ì‹œìŠ¤í…œ ì‹œê°í™” ì‹œìŠ¤í…œì€ ë°ì´í„° ê³„ì¸µ ìœ„ì— ë§Œë“¤ì–´ì§„ë‹¤.\nì§€í‘œ ëŒ€ì‹œë³´ë“œì—ëŠ” ë‹¤ì–‘í•œ ì‹œê°„ ë²”ìœ„ë¡œ í‘œì‹œí•˜ê³ , ê²½ë³´ ëŒ€ì‹œë³´ë“œì—ëŠ” ë‹¤ì–‘í•œ ê²½ë³´ì˜ ìƒíƒœë¥¼ í‘œì‹œí•œë‹¤.\ní’ˆì§ˆ ì¢‹ì€ ì‹œê°í™” ì‹œìŠ¤í…œì€ êµ¬í˜„í•˜ê¸° ì–´ë ¤ìš°ë¯€ë¡œ, ìƒìš©í’ˆì„ êµ¬ì…í•´ì„œ ì“°ìê³  ì£¼ì¥í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.\nê·¸ë¼íŒŒë‚˜ ë“± 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì§€í‘œ ëª¨ë‹ˆí„°ë§ ê²½ë³´ ì‹œìŠ¤í…œì— ëŒ€í•œ ì„¤ê³„ì•ˆì„ ì‚´í´ë³´ì•˜ë‹¤.\nì§€í‘œ ë°ì´í„° ìˆ˜ì§‘ ëª¨ë¸: í’€ ëª¨ë¸ VS í‘¸ì‹œ ëª¨ë¸ ì¹´í”„ì¹´ë¥¼ í™œìš©í•œ ê·œëª¨ í™•ì¥ ë°©ì•ˆ ìµœì  ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì„ ì • ë‹¤ìš´ìƒ˜í”Œë§ì„ í†µí•œ ë°ì´í„° í¬ê¸° ì ˆê° ê²½ë³´/ì‹œê°í™” ì‹œìŠ¤í…œ: êµ¬í˜„í•  ê²ƒì¸ê°€ êµ¬ì…í•  ê²ƒì¸ê°€ ","date":"2024-09-19T14:13:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/5/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/5/","title":"5. ì§€í‘œ ëª¨ë‹ˆí„°ë§ ë° ê²½ë³´ ì‹œìŠ¤í…œ"},{"content":"ë©¤ë²„ì‹­ ê³¼ì • ì„¸ ë²ˆì§¸ ì£¼ê°€ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ¥³\nì €ë²ˆì£¼ì— ì–¸ê¸‰í–ˆë˜ ê²ƒ ì²˜ëŸ¼ ì´ë²ˆì£¼ ë¶€í„°ëŠ” ë©˜í† ë‹˜ì˜ ì½”ë“œë¦¬ë·°ê°€ ì‹œì‘ë˜ì—ˆëŠ”ë°, ì €í¬ ê·¸ë£¹ì„ ë‹´ë‹¹í•´ì£¼ì‹  ë©˜í† ë‹˜ì´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•œ ê²½í—˜ì´ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤.\nì½”ë“œë¦¬ë·°ì—ì„œ ì œê°€ í™œìš©í•˜ë˜ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ëª‡ ê°€ì§€ ì£¼ì˜í•  ì ì„ ì§šì–´ì£¼ì…¨ê³  ë•ë¶„ì— í° ë„ì›€ì´ ë˜ì—ˆì–´ìš”!\nì´ëŸ¬í•œ ë¶€ë¶„ë“¤ì„ ê°™ì´ í™•ì¸í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œì˜ ì¸í„°í˜ì´ìŠ¤ ì € ê°™ì€ ê²½ìš°ëŠ” ë°±ì—”ë“œë¥¼ ì„¤ê³„í•  ë•Œ ì—¬ëŸ¬ í”„ë ˆì„ì›Œí¬ë“¤ì˜ ì¥ì ë“¤ì„ ë½‘ì•„ êµ¬ì„±í•´ë³´ë ¤ê³  í–ˆì—ˆìŠµë‹ˆë‹¤.\nê·¸ ì¤‘ ì‹¤ì œ ë°ì´í„°ì— ì ‘ê·¼ì´ í•„ìš”í•œ ë¶€ë¶„ì„ Spring dataë¥¼ ì°¸ê³ í•˜ì—¬ ì €ì¥ì†Œ íŒ¨í„´(Repository Pattern) ì„ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.\nì €ì¥ì†Œ íŒ¨í„´ì€ ê°ì²´ì§€í–¥ ì„¤ê³„ì—ì„œ ë„ë©”ì¸ ëª¨ë¸(í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§) ê³¼ ë°ì´í„° ì†ŒìŠ¤ ì‚¬ì´ì˜ ì¶”ìƒí™”ë¥¼ í†µí•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ì‹¤ì œ ë°ì´í„° ì €ì¥ ì²˜ë¦¬ì˜ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.\nì‚¬ì‹¤ ì´ ìì²´ëŠ” ë¬¸ì œê°€ ì—†ì—ˆì§€ë§Œ ì´ë¥¼ í™œìš©í•˜ê¸° ìœ„í•œ ì½”ë“œì— ì•½ê°„ì˜ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\nì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ í•˜ì—¬ ì„œë¹„ìŠ¤ ë¡œì§ì—ì„œ í™œìš©í•˜ë„ë¡ í–ˆëŠ”ë°, ì œê°€ ì‘ì„±í•œ ì½”ë“œë¥¼ ê²Œì‹œê¸€ì„ ì˜ë¯¸í•˜ëŠ” Postë¡œ ë°”ê¾¸ì–´ í™•ì¸í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 interface Post { id: string, title: string, content: string, createdAt: Date, updatedAt: Date, } interface PostRepository { findById(id: string): Promise\u0026lt;Post | null\u0026gt;; } class PostDummyRepository { constructor( private readonly data: Post[] ) { } async findById(id: string): Promise\u0026lt;Post\u0026gt; { return this.data.find(post =\u0026gt; post.id === id) ?? null; } } class PostService { constructor( private readonly postRepository: PostRepository ) {} async findPost(id: string) { const post = await this.postRepository.findById(id); if (post === null) { throw new Error(`${id}ì— í•´ë‹¹í•˜ëŠ” ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.`) } return post; } /* ... */ } ì–¸ëœ» ë³´ë©´ ë‚˜ì˜ì§€ ì•Šì•„ ë³´ì´ì£ ? ë©˜í† ë‹˜ì€ ì•„ë˜ì™€ ê°™ì€ ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê²¨ì£¼ì…¨ì–´ìš”.\nì´ ì¸í„°í˜ì´ìŠ¤ê°€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê°œë°œ ëŠë‚Œë³´ë‹¤ëŠ” ìë°”ë¡œ ê°œë°œì„ í•˜ëŠ”ê±° ê°™ë‹¤ëŠ” ëŠë‚Œì„ ë§ì´ ì£¼ë„¤ìš”\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì´ëŸ° ì¸í„°í˜ì´ìŠ¤ëŠ” ì–´ë–¤ ì˜ë¯¸ë¥¼ ê°€ì§€ê²Œ ë ê¹Œìš”?\nê·¸ë˜ì„œ ì™œ ì´ëŸ° ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê¸°ì…¨ì„ê¹Œ ê³ ë¯¼í•´ë³¸ê²°ê³¼ëŠ” ë°”ë¡œ ë• íƒ€ì´í•‘ì´ì—ˆìŠµë‹ˆë‹¤.\në• íƒ€ì´í•‘ ë• íƒ€ì´í•‘(duck typing)ì€ ë™ì  íƒ€ì´í•‘ì˜ í•œ ì¢…ë¥˜ë¡œ, ê°ì²´ì˜ ë³€ìˆ˜ ë° ë©”ì†Œë“œì˜ ì§‘í•©ì´ ê°ì²´ì˜ íƒ€ì…ì„ ê²°ì •í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì€ ë¬¸êµ¬ëŠ” í•œë²ˆ ì¯¤ ë“¤ì–´ë³´ì…¨ì„ê±°ì—ìš”\në§Œì•½ ì–´ë–¤ ìƒˆê°€ ì˜¤ë¦¬ì²˜ëŸ¼ ê±·ê³ , í—¤ì—„ì¹˜ê³ , ê½¥ê½¥ê±°ë¦¬ëŠ” ì†Œë¦¬ë¥¼ ë‚¸ë‹¤ë©´ ë‚˜ëŠ” ê·¸ ìƒˆë¥¼ ì˜¤ë¦¬ë¼ê³  ë¶€ë¥¼ ê²ƒì´ë‹¤.\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë„ íƒ€ì…ì„ ë• íƒ€ì´í•‘ìœ¼ë¡œ íƒ€ì…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì œê°€ ì‘ì„±í•œ ì½”ë“œëŠ” ì–´ë– í•œ ë¬¸ì œê°€ ìˆì—ˆë˜ê±¸ê¹Œìš”? ìƒˆë¡œìš´ ì˜ˆì‹œë¥¼ í•œë²ˆ ë³´ê² ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 interface Comment { id: string, postId: string, title: string, content: string, createdAt: Date, updatedAt: Date, } interface CommentRepository { findById(id: string): Promise\u0026lt;Comment | null\u0026gt;; findByPostId(postId: string): Promise\u0026lt;Comment[]\u0026gt;; } class CommentDummyRepository { constructor( private readonly data: Post[] ) { } async findById(id: string): Promise\u0026lt;Comment\u0026gt; { return this.data.find(comment =\u0026gt; comment.id === id) ?? null; } async findByPostId(postId: string): Promise\u0026lt;Comment[]\u0026gt; { return this.data.filter(comment =\u0026gt; comment.postId === postId); } } ìœ„ì²˜ëŸ¼ Commentë¼ëŠ” ë„ë©”ì¸ ëª¨ë¸ì´ ìˆë‹¤ê³  ê°€ì •í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œëŠ” ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.\n1 2 3 const data: Comment[] = []; const repository = new CommentDummyRepository(data); const service = new PostService(repository); ì´ê²Œ ë°”ë¡œ ë• íƒ€ì´í•‘ ë•ë¿ì¸ë°ìš”, PostRepositoryê°€ ìš”êµ¬í•˜ëŠ” êµ¬ì„± ìš”ì†Œë“¤ì„ CommentDummyRepositoryê°€ ëª¨ë‘ í¬í•¨í•˜ê³  ìˆê³ , ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” Commentë„ Postê°€ ìš”êµ¬í•˜ëŠ” êµ¬ì„± ìš”ì†Œë“¤ì„ ëª¨ë‘ í¬í•¨í•˜ê³  ìˆê¸° ë•Œë¬¸ì— CommentDummyRepositoryë¥¼ PostRepositoryë¡œ ë³´ëŠ”ê²ƒì´ì£ \në©˜í† ë‹˜ì´ ìë°”ê°™ë‹¤ê³  í•˜ì‹  ì´ìœ ë„, ìë°”ì˜€ë‹¤ë©´ ì „í˜€ ë¬¸ì œê°€ ì—†ì„ ì½”ë“œì˜€ê¸° ë•Œë¬¸ì´ì—ˆê² ì£ ?\nê·¸ë˜ì„œ ì œê°€ ìƒê°í•œ ê·¼ë³¸ì ì¸ ë¬¸ì œëŠ” ì¸í„°í˜ì´ìŠ¤ì— ì„ ì–¸ëœ ë©”ì†Œë“œê°€ ì¶©ë¶„íˆ ì„œìˆ ì ì´ì§€ ì•Šì€ ê²ƒì´ ë¬¸ì œì˜€ë˜ ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.\nì—”í‹°í‹°ëŠ” ì–´ì©”ìˆ˜ì—†ë‹¤ê³  í•˜ë”ë¼ë„ ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ì´ ë§Œë“ ë‹¤ë©´ ë¬¸ì œë¥¼ ì¶©ë¶„íˆ ì˜ˆë°©í•  ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 interface PostRepository { findPostById(id: string): Promise\u0026lt;Post | null\u0026gt;; } interface CommentRepository { findCommentById(id: string): Promise\u0026lt;Comment | null\u0026gt;; findCommentsByPostId(postId: string): Promise\u0026lt;Comment[]\u0026gt;; } no-return-await ESLintì—ì„œ ì œê³µí•˜ëŠ” ê·œì¹™ ì¤‘ í•˜ë‚˜ì¸ no-return-awaitëŠ” ì½”ë“œì—ì„œ return awaitì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¸ˆì§€í•˜ëŠ” ê·œì¹™ì…ë‹ˆë‹¤. ì €ëŠ” ì‚¬ì‹¤ ì•„ë˜ ì˜ˆì‹œì²˜ëŸ¼ awaitë¥¼ ì“°ê³  ìˆì—ˆì–´ìš”\n1 2 3 async function example() { return await someAsyncFunction(); } ì €ë ‡ê²Œ return awaitë¥¼ í•˜ì§€ ì•Šìœ¼ë©´ Promise\u0026lt;Promise\u0026lt;??\u0026gt;\u0026gt; í˜•ì‹ìœ¼ë¡œ ë°˜í™˜ë  ê²ƒì´ë¼ê³  ìƒê°í–ˆì—ˆê¸° ë•Œë¬¸ì¸ë°ìš”..ğŸ˜…\nasync í•¨ìˆ˜ëŠ” ìë™ìœ¼ë¡œ Promiseë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ, await ì—†ì´ë„ Promiseê°€ ì œëŒ€ë¡œ ì²˜ë¦¬ë˜ëŠ”ê±¸ ì´ì œì•¼ ì•Œì•˜ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë„ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ë©ë‹ˆë‹¤.\n1 2 3 async function example() { return someAsyncFunction(); } return awaitëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì¶”ê°€ì ì¸ Promise ì²˜ë¦¬ ë‹¨ê³„ë¥¼ ìœ ë°œí•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê±¸ ê¶Œí•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.\nì•„ë˜ì™€ ê°™ì€ ê²½ìš°ëŠ” return awaitê°€ í•„ìš”í•œ ê²½ìš°ì…ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 async function example() { try { return await someAsyncFunction(); } catch (error) { console.error(\u0026#39;Error occurred:\u0026#39;, error); throw error; } } ìœ„ì™€ ê°™ì€ ê²½ìš°ëŠ” await returnì„ í•˜ì§€ ì•Šìœ¼ë©´, ë¡œì§ ì‹¤í–‰ì´ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë˜ê¸°ë•Œë¬¸ì— try...catch ë¸”ë¡ ë‚´ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•  ë•Œ ì˜ë„ëŒ€ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\níƒ€ì… ì¶”ë¡  íƒ€ì… ì¶”ë¡ (Type Inference)ì€ ê°œë°œìê°€ ëª…ì‹œì ìœ¼ë¡œ íƒ€ì…ì„ ì§€ì •í•˜ì§€ ì•Šì•„ë„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬ê°€ ë³€ìˆ˜ë‚˜ í‘œí˜„ì‹ì˜ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì¶”ë¡ í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\nì‚¬ì‹¤ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë¿ë§Œ ì•„ë‹ˆë¼ Go, Kotlin ê°™ì€ ì–¸ì–´ì—ì„œë„ ì œê³µí•©ë‹ˆë‹¤.\në§¤ì£¼ ê¸ˆìš”ì¼ ì§„í–‰ë˜ëŠ” ë§ˆìŠ¤í„° ì„¸ì…˜ì—ì„œëŠ” ì§€ì›ìì˜ ì½”ë“œë¥¼ ë§ˆìŠ¤í„°ë‹˜ì´ ì§ì ‘ ë¦¬ë·°í•´ì£¼ì‹œëŠ”ë°, ê·¸ë•Œ ë‚˜ì™”ë˜ ì£¼ì œ ì¤‘ í•˜ë‚˜ì˜€ì–´ìš”\nê²°ë¡ ì€ íƒ€ì…ì„ ì ê²Œ ì“¸ìˆ˜ë¡ ì¢‹ë‹¤. ì˜€ìŠµë‹ˆë‹¤.\nê°œì¸ì ìœ¼ë¡œ ì°¾ì•„ë³´ë‹ˆ íƒ€ì… ì¶”ë¡ ì„ ì˜ í™œìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì¥ì ì´ ìˆë‹¤ê³  í•©ë‹ˆë‹¤.\nì½”ë“œ ê°„ê²°ì„± ê°œë°œ ìƒì‚°ì„± í–¥ìƒ ê°œë°œìê°€ íƒ€ì…ì„ ì¼ì¼ì´ ì§€ì •í•˜ëŠ” ìˆ˜ê³ ë¥¼ ëœ ìˆ˜ ìˆë‹¤. ì¡°ê¸ˆ ë” ìƒê°í•´ë³´ë‹ˆ íƒ€ì… ì¶”ë¡ ì´ ì˜ ì´ë£¨ì–´ì§€ëŠ” ì½”ë“œë“¤ì€ ì²˜ë¦¬í•´ì•¼í•  ì‘ì—…ì˜ ì‹œì‘, ë ì •ë„ë§Œ íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•´ë„ ì˜ ë™ì‘í•˜ëŠ” ì½”ë“œì´ë”êµ°ìš”\nê·¸ë˜ì„œ ì‚¬ì‹¤ ë³¸ì²´ëŠ” íƒ€ì… ì¶”ë¡ ì´ ì˜ ë˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì„¸ë¶€ì‚¬í•­ì— ëŒ€í•œ ì„¤ê³„, ê´€ì‹¬ì‚¬ ë¶„ë¦¬ë‚˜ ê¸°ëŠ¥ ë¶„ë¦¬ê°€ ì˜ ëœ ì½”ë“œì˜€ë˜ê²Œ ì•„ë‹ê¹Œ ì‹¶ìŠµë‹ˆë‹¤.\nì•„ì§ í™•ì‹ ì€ ì—†ì§€ë§Œ íƒ€ì… ì¶”ë¡ ì„ ìµœëŒ€í•œ í™œìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ì„ í•´ë´ì•¼í•  ê²ƒ ê°™ì•„ìš” ğŸ¤£\nì˜ê²¬ê³¼ ëª¨ë¥´ëŠ” ê²ƒ ì´ë²ˆ ì£¼ ê·¸ë£¹ íšŒê³ ì—ì„œ í•œ ìº í¼ë¶„ì´ ë³¸ì¸ì˜ ì•„ì‰¬ìš´ ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ì´ì•¼ê¸°ë¥¼ í•˜ì…¨ìŠµë‹ˆë‹¤.\në‹¤ë¥¸ ë¶„ë“¤ì˜ ì§ˆë¬¸ì— ëŒ€í•´ ì˜ ëª°ë¼ì„œ ë§ì€ ë‹µë³€ì„ í•´ë“œë¦´ ìˆ˜ ì—†ì—ˆë˜ ë¶€ë¶„ì´ ì•„ì‰¬ì› ì–´ìš”\nê·¸ë˜ì„œ ì €ëŠ” ì•„ë˜ì™€ ê°™ì€ ë‹µë³€ì„ ë“œë ¸ì–´ìš”\nê¼­ ì•Œì•„ì•¼ë§Œ ë‹µë³€ì„ í•  ìˆ˜ ìˆëŠ”ê±¸ê¹Œìš”?\në‹µë³€ì´ ë§ê³  í‹€ë¦¬ê³ ëŠ” ìƒê´€ ì—†ì´ ì˜ê²¬ ìì²´ë¥¼ ê³µìœ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•œ ê²ƒ ì•„ë‹ê¹Œìš”?\nëŒì´ì¼œë³´ë©´ ì €ë„ ì´ëŸ° ê³ ë¯¼ë“¤ì„ ë§ì´ í–ˆë˜ ê²ƒ ê°™ê³ , ì§€ê¸ˆë„ ì¡°ê¸ˆì€ í•˜ê³  ìˆëŠ” ê²ƒ ê°™ì•„ìš”.\në­”ê°€ ë‚˜ì˜ ì˜ê²¬ì´ ì •ë‹µì´ ì•„ë‹ˆì—ˆìœ¼ë©´ í° ì˜ëª»ì„ í•œ ê²ƒ ê°™ê³ , ë‚´ ë‹µë³€ì´ í•˜ì°®ì•„ì„œ ë„ì›€ì´ ì•ˆë˜ë©´ ì°½í”¼í•˜ê¸°ë„ í•˜ê³ , ë“±ë“± ì´ëŸ° ìƒê°ë“¤ì„ ì£¼ë¡œ í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nê·¸ëŸ°ë° ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì´ëŸ° ìƒê°ë“¤ì„ ë§ì´ í•˜ì§€ ì•Šê²Œëœ ê²ƒ ê°™ì•„ìš”\nê·¸ëŸ¬í•œ ì²« ë²ˆì§¸ ì´ìœ ë¡œ ì‹¤ì œ ì¼ì„ í•´ë³´ë©´ì„œ ì´ë¯¸ ë„ë¦¬ ì•Œë ¤ì§„ ë°©ë²•ë“¤ì´ ë‚´ê°€ í’€ì–´ì•¼í•˜ëŠ” ë¬¸ì œì— ë”± ë“¤ì–´ë§ëŠ” ê²½ìš°ëŠ” ë§ì´ ì—†ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.(ê·¸ë˜ì„œ ì–´ë ¤ìš´ ê²ƒ ì´ê² ì§€ë§Œìš” ã…ã…)\nê·¸ë˜ì„œ ì •ë‹µì— ëŒ€í•œ ì˜ê²¬ì€ ê±°ì˜ ë“¤ì„ ìˆ˜ ì—†ì—ˆì„ ë¿ë”ëŸ¬, ë°©í–¥ì„±ì´ë‚˜ ë¬¸ì œì— ëŒ€í•œ ì˜ê²¬ì„ ë§ì´ ë“¤ì—ˆì„ ë•Œ ê·¸ ìƒí™©ì—ì„œ í•  ìˆ˜ ìˆëŠ” ìµœì„ ì˜ ì„ íƒì„ ì°¾ì„ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ì•„ìš”\në‘ ë²ˆì§¸ ì´ìœ ë¡œëŠ” ê°œë°œìëŠ” ê²°êµ­ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì‚¬ëŒì´ë¼ëŠ” ì  ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì–´ë– í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•  ë•Œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ê°™ì€ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í•´ì„í•˜ëŠ”ì§€, ì–´ë–¤ ë¶€ë¶„ë“¤ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ”ì§€ ì™€ ê°™ì€ ìƒê°ë“¤ì„ ë“¤ì—ˆì„ ë•Œ ì‹¤ì œë¡œ ì €ì˜ ë¬¸ì œë¥¼ ë°”ë¼ë³´ëŠ” ì‹œì•¼ë¼ë˜ê°€, ë¬¸ì œë¥¼ í•´ì„í•˜ëŠ” ê·¼ë³¸ì ì¸ ì—­ëŸ‰ì´ í–¥ìƒëœë‹¤ê³  ëŠê»´ì¡Œì—ˆê¸° ë•Œë¬¸ì´ì—ìš”\nê·¸ë˜ì„œ ì €ëŠ” ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì–´ë– í•œ ë¬¸ì œì— ëŒ€í•´ ì§ˆë¬¸ í–ˆì„ ë•Œ, ì œê°€ ìƒê°í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê²ƒì„ ë‹¤ ë™ì›í•´ì„œ ê°™ì´ ê³ ë¯¼í•´ì£¼ê³  ìˆëŠ” ê²ƒ ê°™ì•„ìš”, ê·¸ ì‚¬ëŒì´ ì €ì˜ ê´€ì ì„ ì–´ë–»ê²Œ í•´ì„í•˜ëŠ”ì§€ë„ ë„ˆë¬´ ê¶ê¸ˆí•˜ê±°ë“ ìš”\nê·¸ë˜ì„œ ê²°ë¡ ì€ ê°œì¸ì˜ ì˜ê²¬ì€ ë„ˆë¬´ë‚˜ë„ ì†Œì¤‘í•˜ê³  ê°’ì§„ ê²ƒ ì´ë‹ˆê¹Œ ì„œë¡œ ë§ì´ ê³µìœ í•´ìš” ì˜€ë„¤ìš”ğŸ˜„\në§ˆë¬´ë¦¬ ì•„ì§ ë©˜í† ë‹˜ì˜ í”¼ë“œë°±ì„ ëª¨ë‘ ë°˜ì˜í•˜ì§€ ëª»í–ˆëŠ”ë° ë‹¤ìŒì£¼ëŠ” ë”ìš± ë” ë°”ì  ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në‹¤ìŒì£¼ê¹Œì§€ ëë‚˜ë©´ ì²«ë²ˆì§¸ ê°œì¸ í”„ë¡œì íŠ¸ê°€ ëë‚˜ê³  ì¸í„°ë¯¸ì…˜ê¸°ê°„ì´ ì£¼ì–´ì§„ë‹¤ê³ í•´ìš”\nì´ë²ˆ ì£¼ëŠ” í• ì¼ì´ ë§ì´ ë‚¨ì€ ë§Œí¼ ì—´ì‹¬íˆ ë¶ˆíƒœìš°ê³  ì¸í„°ë¯¸ì…˜ ê¸°ê°„ì— í‘¹ ì‰¬ì–´ì•¼ê² ìŠµë‹ˆë‹¤.\ní•œ ì£¼ ëª¨ë‘ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤ğŸ”¥\n","date":"2024-09-08T17:34:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/membership/3/cover_hud9fb725339af3a8bae61969a7c0c823b_45611_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/membership/3/","title":"ë©¤ë²„ì‹­ ê³¼ì • 3ì£¼ì°¨ íšŒê³ "},{"content":"í˜„ëŒ€ì  ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ë¥¼ ë”°ë¥´ëŠ” ì‹œìŠ¤í…œì€ ì˜ ì •ì˜ëœ ì¸í…Œí”¼ì´ìŠ¤ë¥¼ ê²½ê³„ë¡œ ë‚˜ë‰œ ì‘ê³  ë…ë¦½ì ì¸ ë¸”ë¡ë“¤ë¡œ êµ¬ì„±ëœë‹¤.\në©”ì‹œì§€ íëŠ” ì´ ë¸”ë¡ ì‚¬ì´ì˜ í†µì‹ ê³¼ ì¡°ìœ¨ì„ ë‹´ë‹¹í•˜ë©°, ì•„ë˜ì™€ ê°™ì€ ì´ë“ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.\nê²°í•©ë„ ì™„í™”(decoupling) ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ê°•í•œ ê²°í•©ì´ ì‚¬ë¼ì§€ë¯€ë¡œ ê°ê°ì„ ë…ë¦½ì ìœ¼ë¡œ ê°±ì‹ í•  ìˆ˜ ìˆë‹¤. ê·œëª¨ í™•ì¥ì„± ê°œì„  ë©”ì‹œì§€ íì— ë°ì´í„°ë¥¼ ìƒì‚°í•˜ëŠ” ìƒì‚°ìì™€ íì—ì„œ ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” ì†Œë¹„ì ì‹œìŠ¤í…œ ê·œëª¨ë¥¼ íŠ¸ë˜í”½ ë¶€í•˜ì— ë§ê²Œ ë…ë¦½ì ìœ¼ë¡œ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤. ex) íŠ¸ë˜í”½ì´ ë§ì´ ëª°ë¦¬ëŠ” ì‹œê°„ì—ëŠ” ë” ë§ì€ ì†Œë¹„ìë¥¼ ì¶”ê°€í•˜ì—¬ ì²˜ë¦¬ ìš©ëŸ‰ì„ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤. ê°€ìš©ì„± ê°œì„  ì‹œìŠ¤í…œì˜ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì— ì¥ì• ê°€ ë°œìƒí•´ë„ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ëŠ” íì™€ ê³„ì† ìƒí˜¸ì‘ìš©ì„ ì´ì–´ê°ˆ ìˆ˜ ìˆë‹¤. ì„±ëŠ¥ ê°œì„  ë¹„ë™ê¸° í†µì‹ ì´ ì‰½ê²Œ ê°€ëŠ¥í•˜ë‹¤. ìƒì‚°ìëŠ” ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ ë„ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆê³ , ì†Œë¹„ìëŠ” ì½ì„ ë©”ì‹œì§€ê°€ ìˆì„ ë•Œë§Œ í•´ë‹¹ ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•œë‹¤. ì„œë¡œ ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ë‹¤. ë©”ì‹œì§€ í VS ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼\nì—„ë°€í•˜ê²Œ ë”°ì§€ë©´ ì¹´í”„ì¹´ë‚˜ í„ì‚¬ëŠ” ë©”ì‹œì§€ íê°€ ì•„ë‹ˆë¼ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ì´ë‹¤.\ní•˜ì§€ë§Œ ë©”ì‹œí‚¤ íì™€ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ ì‚¬ì´ì˜ ì°¨ì´ëŠ” ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì´ ì„œë¡œ ìˆ˜ë ´í•˜ë©´ì„œ ì ì°¨ í¬ë¯¸í•´ì§€ê³  ìˆë‹¤.\nì „í˜•ì ì¸ ë©”ì‹œì§€ í RabbitMQëŠ” ì˜µì…˜ìœ¼ë¡œ ì œê³µë˜ëŠ” ìŠ¤íŠ¸ë¦¬ë° ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ ë©”ì‹œì§€ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì†Œë¹„í•  ìˆ˜ ìˆëŠ” ë™ì‹œì— ì¥ê¸° ë³´ê´€ë„ ê°€ëŠ¥í•˜ë‹¤. ê·¸ ê¸°ëŠ¥ì€ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ì²˜ëŸ¼ ë°ì´í„° ì¶”ê°€ë§Œ ê°€ëŠ¥í•œ ë¡œê·¸ë¥¼ í†µí•´ êµ¬í˜„ë˜ì–´ ìˆë‹¤. ì´ë²ˆ ì¥ì—ì„œëŠ” ë°ì´í„° ì¥ê¸° ë³´ê´€(long data retention), ë©”ì‹œì§€ ë°˜ë³µ ì†Œë¹„(repeated consumption of messages) ë“±ì˜ ë¶€ê°€ ê¸°ëŠ¥ì„ ê°–ì¶˜ ë¶„ì‚° ë©”ì‹œì§€ íë¥¼ ì„¤ê³„í•œë‹¤.\ní†µìƒì ìœ¼ë¡œ ì–¸ê¸‰í•œ ë¶€ê°€ ê¸°ëŠ¥ì€ ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ì—ì„œë§Œ ì´ìš© ê°€ëŠ¥í•˜ë©° ì¢€ ë” ê¹Œë‹¤ë¡­ë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ë©”ì‹œì§€ íëŠ” ìƒì‚°ìëŠ” ë©”ì‹œì§€ë¥¼ íì— ë³´ë‚´ê³ , ì†Œë¹„ìëŠ” íì—ì„œ ë©”ì‹œì§€ë¥¼ êº¼ë‚¼ ìˆ˜ ìˆìœ¼ë©´ ëœë‹¤.\ní•˜ì§€ë§Œ ì´ ê¸°ë³¸ ê¸°ëŠ¥ ì™¸ì—ë„ ì„±ëŠ¥, ë©”ì‹œì§€ ì „ë‹¬ ë°©ì‹, ë°ì´í„° ë³´ê´€ ê¸°ê°„ ë“± ê³ ë ¤í•  ì‚¬í•­ì€ ë‹¤ì–‘í•˜ë‹¤.\nQ. ë©”ì‹œì§€ì˜ í˜•íƒœì™€ í‰ê·  í¬ê¸°ëŠ”? A. í…ìŠ¤íŠ¸ í˜•íƒœ ë©”ì‹œì§€ë§Œ ì§€ì›, í¬ê¸°ëŠ” ìˆ˜ í‚¬ë¡œë°”ì´íŠ¸ ìˆ˜ì¤€ Q. ë©”ì‹œì§€ëŠ” ë°˜ë³µì ìœ¼ë¡œ ì†Œë¹„ë  ìˆ˜ ìˆì–´ì•¼ í•˜ëŠ”ê°€? A. Y, í•˜ë‚˜ì˜ ë©”ì‹œì§€ë¥¼ ì—¬ëŸ¬ ì†Œë¹„ìê°€ ìˆ˜ì‹ í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥(ë¶€ê°€ ê¸°ëŠ¥) ì „í†µì ì¸ ë¶„ì‚° ë©”ì‹œì§€ íëŠ” í•œ ì†Œë¹„ìë¼ë„ ë°›ì•„ê°„ ë©”ì‹œì§€ëŠ” ì§€ì›Œë²„ë¦¬ë¯€ë¡œ ë°˜ë³µí•´ì„œ ì „ë‹¬í•  ìˆ˜ ì—†ìŒ Q. ë©”ì‹œì§€ íì— ì „ë‹¬ëœ ìˆœì„œëŒ€ë¡œ ì†Œë¹„ë˜ì–´ì•¼ í•˜ëŠ”ê°€? A. Y ì „í†µì ì¸ ë©”ì‹œì§€ íëŠ” ë³´í†µ ì†Œë¹„ ìˆœì„œëŠ” ë³´ì¦í•˜ì§€ ì•ŠìŒ Q. ë°ì´í„°ì˜ ì§€ì†ì„± ë³´ì¥? A. 2ì£¼ ì „í†µì ì¸ ë©”ì‹œì§€ íëŠ” ë©”ì‹œì§€ì˜ ì§€ì†ì„± ë³´ê´€ì„ ë³´ì¦í•˜ì§€ ì•ŠìŒ Q. ì§€ì›í•´ì•¼ í•˜ëŠ” ìƒì‚°ìì™€ ì†Œë¹„ì ìˆ˜ A. ë§ì„ ìˆ˜ë¡ ì¢‹ìŒ Q. ì–´ë–¤ ë©”ì‹œì§€ ì „ë‹¬ ë°©ì‹ì„ ì§€ì›? A. ìµœì†Œ í•œë²ˆ ë°©ì‹ì€ ë°˜ë“œì‹œ ì§€ì›, ì´ìƒì ìœ¼ë¡œëŠ” ëª¨ë“  ì „ì†¡ë°©ì‹ ì§€ì› ë° ì„ íƒ ê°€ëŠ¥ ìµœëŒ€ í•œ ë²ˆ, ìµœì†Œ í•œ ë²ˆ, ì •í™•íˆ í•œ ë²ˆ Q. ëª©í‘œ ëŒ€ì—­í­ê³¼ ë‹¨ëŒ€ë‹¨ ì§€ì—° ì‹œê°„ì€? A. ë¡œê·¸ ìˆ˜ì§‘ ë“±ì„ ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì–´ì•¼ í•˜ë¯€ë¡œ ë†’ì€ ìˆ˜ì¤€ì˜ ëŒ€ì—­í­ì„ ì œê³µí•´ì•¼í•¨, ì¼ë°˜ì ì¸ ë©”ì‹œì§€ íê°€ ì§€ì›í•˜ëŠ” ì •í†µì  ë°©ë²•ë„ ì§€ì›í•´ì•¼ í•˜ë¯€ë¡œ ë‚®ì€ ì „ì†¡ ì§€ì—°ë„ í•„ìˆ˜ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ìƒì‚°ìëŠ” ë©”ì‹œì§€ íì— ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆì–´ì•¼ í•¨ ì†Œë¹„ìëŠ” ë©”ì‹œì§€ íë¥¼ í†µí•´ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆì–´ì•¼ í•¨. ë©”ì‹œì§€ëŠ” ë°˜ë³µì ìœ¼ë¡œ ìˆ˜ì‹ í•  ìˆ˜ë„ ìˆì–´ì•¼ í•˜ê³ , ë‹¨ í•œ ë²ˆë§Œ ìˆ˜ì‹ í•˜ë„ë¡ ì„¤ì •ë  ìˆ˜ë„ ìˆì–´ì•¼ í•¨. ì˜¤ë˜ëœ ì´ë ¥ ë°ì´í„°ëŠ” ì‚­ì œë  ìˆ˜ ìˆìŒ ë©”ì‹œì§€ í¬ê¸°ëŠ” í‚¬ë¡œë°”ì´íŠ¸ ìˆ˜ì¤€ ë©”ì‹œì§€ê°€ ìƒì‚°ëœ ìˆœì„œëŒ€ë¡œ ì†Œë¹„ìì—ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆì–´ì•¼ í•¨ ë©”ì‹œì§€ ì „ë‹¬ ë°©ì‹ì€ ìµœì†Œ í•œ ë²ˆ, ìµœëŒ€ í•œ ë²ˆ, ì •í™•íˆ í•œ ë²ˆ ê°€ìš´ë° ì„¤ì •í•  ìˆ˜ ìˆì–´ì•¼ í•¨. ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë†’ì€ ëŒ€ì—­í­ê³¼ ë‚®ì€ ì „ì†¡ ì§€ì—° ê°€ìš´ë° í•˜ë‚˜ë¥¼ ì„¤ì •ìœ¼ë¡œ ì„ íƒ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê¸°ëŠ¥ ê·œëª¨ í™•ì¥ì„± ì‹œìŠ¤í…œ íŠ¹ì„±ìƒ ë¶„ì‚° ì‹œìŠ¤í…œì¼ ìˆ˜ ë°–ì— ì—†ìœ¼ë¯€ë¡œ ë©”ì‹œì§€ ì–‘ì´ ê¸‰ì¦í•´ë„ ì²˜ë¦¬ ê°€ëŠ¥í•´ì•¼í•¨ ì§€ì†ì„± ë° ë‚´êµ¬ì„±(persistency and durability) ë°ì´í„°ëŠ” ë””ìŠ¤í¬ì— ì§€ì†ì ìœ¼ë¡œ ë³´ê´€ë˜ì–´ì•¼ í•˜ë©° ì—¬ëŸ¬ ë…¸ë“œì— ë³µì œë˜ì–´ì•¼ í•œë‹¤. ì „í†µì ì¸ ë©”ì‹œì§€ íì™€ ë‹¤ë¥¸ì  RabbitMQì™€ ê°™ì€ ì „í†µì ì¸ ë©”ì‹œì§€ íëŠ” ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ì²˜ëŸ¼ ë©”ì‹œì§€ ë³´ê´€ë¬¸ì œë¥¼ ì¤‘ìš”í•˜ê²Œ ë‹¤ë£¨ì§€ ì•Šê³ , ë©”ì‹œì§€ ì†Œë¹„ ìˆœì„œë„ ë³´ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤(ìƒì‚° ìˆœì„œì™€ ì†Œë¹„ ìˆœì„œê°€ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤).\nì „í†µì ì¸ ë©”ì‹œì§€ íëŠ” ë©”ì‹œì§€ê°€ ì†Œë¹„ìì— ì „ë‹¬ë˜ê¸° ì¶©ë¶„í•œ ê¸°ê°„ ë™ì•ˆë§Œ ë©”ëª¨ë¦¬ì— ë³´ê´€í•œë‹¤. ì²˜ë¦¬ ìš©ëŸ‰ì„ ë„˜ì–´ì„  ë©”ì‹œì§€ëŠ” ë””ìŠ¤í¬ì— ë³´ê´€í•˜ê¸°ë„ í•˜ì§€ë§Œ ì•„ì£¼ ë‚®ì€ ìˆ˜ì¤€ì´ë‹¤. ì´ëŸ¬í•œ ì°¨ì´ë¥¼ ê°ì•ˆí•˜ë©´ ì„¤ê³„ëŠ” í¬ê²Œ ë‹¨ìˆœí•´ì§ˆ ìˆ˜ ìˆë‹¤.\n2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ë©”ì‹œì§€ íì˜ ê¸°ë³¸ ê¸°ëŠ¥ë¶€í„° ì‚´í´ë³¸ë‹¤.\nìƒì‚°ìëŠ” ë©”ì‹œì§€ë¥¼ ë©”ì‹œì§€ íì— ë°œí–‰ ì†Œë¹„ìëŠ” íë¥¼ êµ¬ë…í•˜ê³ , êµ¬ë…í•œ ë©”ì‹œì§€ë¥¼ ì†Œë¹„ ë©”ì‹œì§€ íëŠ” ìƒì‚°ìì™€ ì†Œë¹„ì ì‚¬ì´ì˜ ê²°í•©ì„ ëŠìŠ¨í•˜ê²Œ í•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ, ìƒì‚°ìì™€ ì†Œë¹„ìì˜ ë…ë¦½ì ì¸ ìš´ì˜ ë° ê·œëª¨ í™•ì¥ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì—­í•  ë‹´ë‹¹ ìƒì‚°ìì™€ ì†Œë¹„ìëŠ” ëª¨ë‘ í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ëª¨ë¸ ê´€ì ì—ì„œ í´ë¼ì´ì–¸íŠ¸ê³  ì„œë¹„ ì—­í• ì„ í•˜ëŠ” ê²ƒì€ ë©”ì‹œì§€íì´ë©° ì´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ í†µì‹  ë©”ì‹œì§€ ëª¨ë¸ ê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” ë©”ì‹œì§€ ëª¨ë¸ì€ ì¼ëŒ€ì¼ê³¼ ë°œí–‰-êµ¬ë… ëª¨ë¸ì´ë‹¤.\nì¼ëŒ€ì¼ ëª¨ë¸\nì „í†µì ì¸ ë©”ì‹œì§€ íì—ì„œ í”íˆ ë°œê²¬ë˜ëŠ” ëª¨ë¸ë¡œ, ì „ì†¡ëœ ë©”ì‹œì§€ëŠ” ì˜¤ì§ í•œ ì†Œë¹„ìë§Œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤.\nì–´ë–¤ ì†Œë¹„ìê°€ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ê°”ë‹¤ëŠ” ì‚¬ì‹¤ì„ íì— ì•Œë¦¬ë©´ í•´ë‹¹ ë¯¸ì‹œì§€ëŠ” íì—ì„œ ì‚­ì œëœë‹¤. ë°ì´í„° ë³´ê´€ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ìš”êµ¬í•˜ëŠ” ì„¤ê³„ì•ˆì€ ë©”ì‹œì§€ë¥´ ã„¹ë‘ ì£¼ ë™ì•ˆì€ ë³´ê´€í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì§€ì†ì„± ê³„ì¸µì„ í¬í•¨í•˜ê³ , í•´ë‹¹ ê³„ì¸µì„ í†µí•´ ë©”ì‹œì§€ê°€ ë°˜ë³µì ìœ¼ë¡œ ì†Œë¹„ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nì¼ëŒ€ì¼ ëª¨ë¸ë„ ì§€ì›í•  ìˆ˜ ìˆê¸°ëŠ” í•˜ì§€ë§Œ, ê·¸ ê¸°ëŠ¥ì€ ë°œí–‰ êµ¬ë… ëª¨ë¸ ìª½ì— ì¢€ ë” ìì—°ìŠ¤ëŸ½ê²Œ ë¶€í•©í•œë‹¤.\në°œí–‰-êµ¬ë… ëª¨ë¸\në°¸í–‰-êµ¬ë… ëª¨ë¸ì„ ì„¤ëª…í•˜ë ¤ë©´ í† í”½ì´ë¼ëŠ” ìƒˆë¡œìš´ ê°œë…ì„ ë„ì…í•´ì•¼í•œë‹¤.\ní† í”½ì€ ë©”ì‹œì§€ë¥¼ ì£¼ì œë³„ë¡œ ì •ë¦¬í•˜ëŠ” ë° ì‚¬ìš©í•˜ë©°, ê° í† í”½ì€ ë©”ì‹œì§€ í ì„œë¹„ìŠ¤ ì „ë°˜ì— ê³ ìœ í•œ ì´ë¦„ì„ ê°€ì§„ë‹¤.\në©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ë°›ì„ ë•ŒëŠ” í† í”½ì— ë³´ë‚´ê³  ë°›ê²Œ ëœë‹¤. í† í”½ì— ì „ë‹¬ëœ ë©”ì‹œì§€ëŠ” í•´ë‹¹ í† í”½ì„ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì†Œë¹„ìì—ê²Œ ì „ë‹¬ëœë‹¤.\ní† í”½, íŒŒí‹°ì…˜, ë¸Œë¡œì»¤ í† í”½ì— ë³´ê´€ë˜ëŠ” ë°ì´í„°ì˜ ì–‘ì´ ì»¤ì ¸ì„œ ì„œë²„ í•œ ëŒ€ë¡œ ê°ë‹¹í•˜ê¸° í˜ë“± ìƒí™©ì„ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ íŒŒí‹°ì…˜(partition), ì¦‰ ìƒ¤ë”©(sharding) ê¸°ë²•ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.\ní† í”½ì„ ì—¬ëŸ¬ íŒŒí‹°ì…˜ìœ¼ë¡œ ë¶„í• í•œ ë‹¤ìŒ, ë©”ì‹œì§€ë¥¼ ëª¨ë“  íŒŒí‹°ì…˜ì— ê· ë“±í•˜ê²Œ ë‚˜ëˆ  ë³´ë‚¸ë‹¤.\ní† í”½ì— ë³´ë‚¼ ë©”ì‹œì§€ì˜ ì‘ì€ ë¶€ë¶„ì§‘í•©ìœ¼ë¡œ ìƒê°í•˜ë©´ ì¢‹ë‹¤. íŒŒí‹°ì…˜ì„ ë©”ì‹œì§€ í í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ì„œë²„ì— ê³ ë¥´ê²Œ ë¶„ì‚° ë°°ì¹˜í•˜ëŠ”ë°, ì´ ë•Œ íŒŒí‹°ì…˜ì„ ìœ ì§€í•˜ëŠ” ì„œë²„ëŠ” ë³´í†µ ë¸Œë¡œì»¤ë¼ ë¶€ë¥¸ë‹¤.\níŒŒí‹°ì…˜ì„ ë¸Œë¡œì»¤ì— ë¶„ì‚°í•˜ëŠ” ê²ƒì´ ë†’ì€ ê·œëª¨ í™•ì¥ì„±ì„ ë‹¬ì„±í•˜ëŠ” ë¹„ê²°ì´ë‹¤. í† í”½ì˜ ìš©ëŸ‰ì„ í™•ì¥í•˜ê³  ì‹¶ìœ¼ë©´ íŒŒí‹°ì…˜ ê°œìˆ˜ë¥¼ ëŠ˜ë¦°ë‹¤. ê° í† í”½ íŒŒí‹°ì…˜ì€ FIFO íì²˜ëŸ¼ ë™ì‘í•˜ë©°, íŒŒí‹°ì…˜ ë‚´ì—ì„œì˜ ë©”ì‹œì§€ ìœ„ì¹˜ëŠ” ì˜¤í”„ì…‹(offset)ì´ë¼ê³  í•œë‹¤.\nìƒì‚°ìê°€ ë³´ë‚¸ ë©”ì‹œì§€ëŠ” í•´ë‹¹ í† í”½ì˜ íŒŒí‹°ì…˜ ê°€ìš´ë° í•˜ë‚˜ë¡œ ë³´ë‚´ì§€ë©°, ë©”ì‹œì§€ì—ëŠ” ì‚¬ìš©ì ID ê°™ì€ í‚¤ë¥¼ ë¶™ì¼ ìˆ˜ ìˆëŠ”ë°, ê°™ì€ í‚¤ë¥¼ ê°€ì§„ ëª¨ë“  ë©”ì‹œì§€ëŠ” ê°™ì€ íŒŒí‹°ì…˜ìœ¼ë¡œ ë³´ë‚´ì§€ê³ , ì—†ëŠ” ë©”ì‹œì§€ëŠ” ë¬´ì‘ìœ„ë¡œ ì‚°íƒëœ íŒŒí‹°ì…˜ìœ¼ë¡œ ì „ì†¡ëœë‹¤.\ní† í”½ì„ êµ¬ë…í•˜ëŠ” ì†Œë¹„ìëŠ” í•˜ë‚˜ ì´ìƒì˜ íŒŒí‹°ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê²Œ ë˜ëŠ”ë°, í† í”½ì„ êµ¬ë…í•˜ëŠ” ì†Œë¹„ìê°€ ì—¬ëŸ¿ì¸ ê²½ìš°, ê° êµ¬ë…ìëŠ” í•´ë‹¹ í† í”½ì„ êµ¬ì„±í•˜ëŠ” íŒŒí‹°ì…˜ì˜ ì¼ë¶€ë¥¼ ë‹´ë‹¹í•˜ê²Œ ëœë‹¤.\nì´ ì†Œë¹„ìë“¤ì„ í•´ë‹¹ í† í”½ì˜ ì†Œë¹„ì ê·¸ë£¹ì´ë¼ ë¶€ë¥¸ë‹¤.\nì†Œë¹„ì ê·¸ë£¹ ì†Œë¹„ì ê·¸ë£¹ ë‚´ ì†Œë¹„ìëŠ” í† í”½ì—ì„œ ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ê¸° ìœ„í•´ ì„œë¡œ í˜‘ë ¥í•œë‹¤.\ní•˜ë‚˜ì˜ ì†Œë¹„ì ê·¸ë£¹ì€ ì—¬ëŸ¬ í† í”½ì„ êµ¬ë…í•  ìˆ˜ ìˆê³  ì˜¤í”„ì…‹ì„ ë³„ë„ë¡œ ê´€ë¦¬í•˜ë©°, ê°™ì€ ê·¸ë£¹ ë‚´ì˜ ì†Œë¹„ìëŠ” ë©”ì‹œì§€ë¥¼ ë³‘ë ¬ë¡œ ì†Œë¹„í•  ìˆ˜ ìˆë‹¤.\nê³¼ê¸ˆ(billing)ìš© ê·¸ë£¹, íšŒê³„(accounting)ìš© ê·¸ë£¹ ë“± ì†Œë¹„ì ê·¸ë£¹ 1ì€ í† í”½ Aë¥¼ êµ¬ë…í•œë‹¤. ì†Œë¹„ì ê·¸ë£¹ 2ëŠ” í† í”½ Aì™€ í† í”½ Bë¥¼ êµ¬ë…í•œë‹¤. í† í”½ AëŠ” ê·¸ë£¹-1ê³¼ ê·¸ë£¹-2ê°€ êµ¬ë…í•˜ë¯€ë¡œ, í•´ë‹¹ í† í”½ ë‚´ ë©”ì‹œì§€ëŠ” ê·¸ë£¹-1ê³¼ ê·¸ë£¹-2 ë‚´ì˜ ì†Œë¹„ìì—ê²Œ ì „ë‹¬ëœë‹¤. ë°œí–‰-êµ¬ë… ëª¨ë¸ì„ ì§€ì›í•œë‹¤. ë°ì´í„°ë¥´ ë³‘ë ¬ë¡œ ì½ìœ¼ë©´ ëŒ€ì—­í­ ì¸¡ë©´ì—ì„œëŠ” ì¢‹ì§€ë§Œ ê°™ì€ íŒŒí‹°ì…˜ ì•ˆì— ìˆëŠ” ë©”ì‹œì§€ë¥¼ ìˆœì„œëŒ€ë¡œ ì†Œë¹„í•  ìˆ˜ëŠ” ì—†ë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ì†Œë¹„ì-1ê³¼ ì†Œë¹„ì-2ê°€ ê°™ì€ íŒŒí‹°ì…˜-1ì˜ ë©”ì‹œì§€ë¥¼ ì½ì–´ì•¼ í•œë‹¤ê³  ê°€ì •í•˜ë©´, íŒŒí‹°ì…˜-1 ë‚´ì˜ ë©”ì‹œì§€ ì†Œë¹„ ìˆœì„œë¥¼ ë³´ì¥í•  ìˆ˜ ì—†ê²Œ ëœë‹¤(ìµœì¢… ì²˜ë¦¬ ìˆœì„œ)\në”°ë¼ì„œ ì–´ë–¤ íŒŒí‹°ì…˜ì˜ ë©”ì‹œì§€ëŠ” í•œ ê·¸ë£¹ ì•ˆì—ì„œëŠ” ì˜¤ì§ í•œ ì†Œë¹„ìë§Œ ì½ì„ ìˆ˜ ìˆë„ë¡ í•˜ë©´(í† í”½ì€ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ íŒŒí‹°ì…˜ì€ ì§ë ¬ë¡œ ì²˜ë¦¬ëœë‹¤.) ìµœì¢… ì²˜ë¦¬ ìˆœì„œë¥¼ ë³´ì¥í•  ìˆ˜ ìˆê²Œëœë‹¤.\nê·¸ë£¹ ë‚´ ì†Œë¹„ìì˜ ìˆ˜ê°€ êµ¬ë…í•˜ëŠ” í† í”½ì˜ íŒŒí‹°ì…˜ ìˆ˜ë³´ë‹¤ í¬ë©´, ì–´ë–¤ ì†Œë¹„ìëŠ” í•´ë‹¹ í† í”½ì—ì„œ ë°ì´í„°ë¥¼ ì½ì§€ ëª»í•˜ê²Œ ëœë‹¤.\ní† í”½-Bì˜ ê²½ìš° íŒŒí‹°ì…˜ í•˜ë‚˜ì´ë¯€ë¡œ, ì†Œë¹„ì ê·¸ë£¹ ì¤‘ í•œ ì†Œë¹„ìë§Œ ë‹´ë‹¹í•  ìˆ˜ ìˆë‹¤. ì´ ì œì•½ì‚¬í•­ì„ ë„ì…í•œ í›„ ëª¨ë“  ì†Œë¹„ìë¥¼ ê°™ì€ ì†Œë¹„ì ê·¸ë£¹ì— ë‘ë©´ ê°™ì€ íŒŒí‹°ì…˜ì˜ ë©”ì‹œì§€ëŠ” ì˜¤ì§ í•œ ì†Œë¹„ìë§Œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê²°êµ­ ì¼ëŒ€ì¼ ëª¨ë¸ì— ìˆ˜ë ´í•˜ê²Œ ëœë‹¤.\níŒŒí‹°ì…˜ì€ ê°€ì¥ ì‘ì€ ì €ì¥ ë‹¨ìœ„ì´ë¯€ë¡œ ë¯¸ë¦¬ ì¶©ë¶„í•œ íŒŒí‹°ì…˜ì„ í• ë‹¹í•´ ë‘ë©´íŒŒí‹°ì…˜ì˜ ìˆ˜ë¥¼ ë™ì ìœ¼ë¡œ ëŠ˜ë¦¬ëŠ” ì¼ì€ í”¼í•  ìˆ˜ ìˆë‹¤.\nì²˜ë¦¬ ìš©ëŸ‰ì„ ëŠ˜ë¦¬ë ¤ë©´ ë‹¨ìˆœíˆ ì†Œë¹„ìë¥¼ ë” ì¶”ê°€í•˜ë©´ ëœë‹¤. ê°œëµì  ì„¤ê³„ì•ˆ í´ë¼ì´ì–¸íŠ¸\nìƒì‚°ì ë©”ì‹œì§€ë¥¼ íŠ¹ì • í† í”½ìœ¼ë¡œ ë³´ë‚¸ë‹¤. ì†Œë¹„ì ê·¸ë£¹ í† í”½ì„ êµ¬ë…í•˜ê³  ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•œë‹¤. í•µì‹¬ ì„œë¹„ìŠ¤ ë° ì €ì¥ì†Œ\në¸Œë¡œì»¤ íŒŒí‹°ì…˜ë“¤ì„ ìœ ì§€í•œë‹¤. í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ì€ íŠ¹ì • í† í”½ì— ëŒ€í•œ ë©”ì‹œì§€ì˜ ë¶€ë¶„ ì§‘í•©ì„ ìœ ì§€í•œë‹¤. ì €ì¥ì†Œ ë°ì´í„° ì €ì¥ì†Œ ë©”ì‹œì§€ëŠ” íŒŒí‹°ì…˜ ë‚´ ë°ì´í„° ì €ì¥ì†Œì— ë³´ê´€ëœë‹¤. ìƒíƒœ ì €ì¥ì†Œ ì†Œë¹„ì ìƒíƒœëŠ” ì´ ì €ì¥ì†Œì— ìœ ì§€ëœë‹¤. ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œ í† í”½ ì„¤ì •, í† í”½ ì†ì„± ë“±ì€ ì´ ì €ì¥ì†Œì— ìœ ì§€ëœë‹¤. ì¡°ì • ì„œë¹„ìŠ¤(coordination service) ì„œë¹„ìŠ¤ íƒìƒ‰(service discovery) ì–´ë–¤ ë¸Œë¡œì»¤ê°€ ì‚´ì•„ìˆëŠ”ì§€ ì•Œë ¤ì¤€ë‹¤. ë¦¬ë” ì„ ì¶œ(leader election) ë¸Œë¡œì»¤ ê°€ìš´ë° í•˜ë‚˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ì—­í• ì„ ë‹´ë‹¹í•´ì•¼ í•˜ë©°, í•œ í´ëŸ¬ìŠ¤í„°ì—ëŠ” ë°˜ë“œì‹œ í™œì„± ìƒíƒœ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í•˜ë‚˜ ìˆì–´ì•¼í•œë‹¤. ì´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ íŒŒí‹°ì…˜ ë°°ì¹˜ë¥¼ ì±…ì„ì§„ë‹¤. ì•„íŒŒì¹˜ ì£¼í‚¤í¼(Apache ZooKeeper)ë‚˜ etcdê°€ ë³´í†µ ì»¨íŠ¸ë¡¤ëŸ¬ ì„ ì¶œì„ ë‹´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ë„ë¦¬ ì´ìš©ëœë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ë°ì´í„°ì˜ ì¥ê¸° ë³´ê´€ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ë©´ì„œ ë†’ì€ ëŒ€ì—­í­ì„ ì œê³µí•˜ê¸° ìœ„í•´ ì„¸ê°€ì§€ ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë ¤ì•¼í•œë‹¤.\níšŒì „ ë””ìŠ¤í¬(rotational disk)ì˜ ë†’ì€ ìˆœì°¨ íƒìƒ‰ ì„±ëŠ¥ê³¼ í˜„ëŒ€ì  ìš´ì˜ì²´ì œê°€ ì œê³µí•˜ëŠ” **ì ê·¹ì  ë””ìŠ¤í¬ ìºì‹œ ì „ëµ(aggressive disk caching strategy)**ì„ ì˜ ì´ìš©í•˜ëŠ” ë””ìŠ¤í¬ ê¸°ë°˜ ìë£Œ êµ¬ì¡°(on-disk data structure) ë¥¼ í™œìš©í•œë‹¤. ë©”ì‹œì§€ê°€ ìƒì‚°ìë¡œë¶€í„° ì†Œë¹„ìì—ê²Œ ì „ë‹¬ë˜ëŠ” ìˆœê°„ê¹Œì§€ ì•„ë¬´ ìˆ˜ì • ì—†ì´ë„ ì „ì†¡ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ë©”ì‹œì§€ ìë£Œ êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ê³  í™œìš©í•  ê²ƒì´ë‹¤. ì „ì†¡ ë°ì´í„°ì˜ ì–‘ì´ ë§‰ëŒ€í•œ ê²½ìš°ì— ë©”ì‹œì§€ ë³µì‚¬ì— ë“œëŠ” ë¹„ìš©ì„ ìµœì†Œí™”í•œë‹¤. ì¼ê´„ ì²˜ë¦¬(batching) ë¥¼ ìš°ì„ í•˜ëŠ” ì‹œìŠ¤í…œì„ ì„¤ê³„í•œë‹¤. ì†Œê·œëª¨ì˜ I/Oê°€ ë§ìœ¼ë©´ ë†’ì€ ëŒ€ì—­í­ì„ ì§€ì›í•˜ê¸° ì–´ë µë‹¤. ìƒì‚°ìëŠ” ë©”ì‹œì§€ë¥¼ ì¼ê´„ ì „ì†¡í•˜ê³ , ë©”ì‹œì§€ íëŠ” ê·¸ ë©”ì‹œì§€ë“¤ì„ ë” í° ë‹¨ìœ„ë¡œ ë¬¶ì–´ ë³´ê´€í•œë‹¤. ì†Œë¹„ìë„ ê°€ëŠ¥í•˜ë©´ ë©”ì‹œì§€ë¥¼ ì¼ê´„ ìˆ˜ì‹ í•˜ë„ë¡ í•œë‹¤. ë°ì´í„° ì €ì¥ì†Œ ê°€ì¥ ì¢‹ì€ ë©”ì‹œì§€ ì €ì¥ ë°©ë²•ì„ ì„ íƒí•˜ê¸° ìœ„í•´ ë©”ì‹œì§€ íì˜ íŠ¸ë˜í”½ íŒ¨í„´ì„ ë¶„ì„í•´ë´ì•¼í•œë‹¤.\nì½ê¸°ì™€ ì“°ê¸°ê°€ ë¹ˆë²ˆí•˜ê²Œ ì¼ì–´ë‚œë‹¤. ê°±ì‹ /ì‚­ì œ ì—°ì‚°ì€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì „í†µì ì¸ ë©”ì‹œì§€ íëŠ” ë©”ì‹œì§€ê°€ ì‹ ì†í•˜ê²Œ ì „ë‹¬ë˜ì§€ ëª»í•´ íê°€ ì œë•Œ ë¹„ì›Œì§€ì§€ ì•ŠëŠ” ê²½ìš°ë¥¼ ì œì™¸í•˜ë©´ ë©”ì‹œì§€ë¥¼ ì§€ì†ì ìœ¼ë¡œ ë³´ê´€í•˜ì§€ ì•ŠëŠ”ë‹¤. íì—ì„œ ë©”ì‹œì§€ê°€ ì œë•Œ ì†Œë¹„ë˜ê¸° ì‹œì‘í•˜ë©´ ì €ì¥ëœ ë©”ì‹œì§€ì— ëŒ€í•œ ì‚­ì œ ì—°ì‚°ì´ ë°œìƒí•˜ê¸°ëŠ” í•  ê²ƒì´ë‹¤. ìˆœì°¨ì ì¸ ì½ê¸°/ì“°ê¸°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤. ì„ íƒì§€ 1: ë°ì´í„°ë² ì´ìŠ¤\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ í† í”½ë³„ë¡œ í…Œì´ë¸”ì„ ë§Œë“ ë‹¤. í† í”½ì— ë³´ë‚´ëŠ” ë©”ì‹œì§€ëŠ” í•´ë‹¹ í…Œì´ë¸”ì— ìƒˆë¡œìš´ ë ˆì½”ë“œë¡œ ì¶”ê°€í•œë‹¤. NoSQL ë°ì´í„°ë² ì´ìŠ¤ í† í”½ë³„ë¡œ ì»¬ë ‰ì…˜(collection)ì„ ë§Œë“ ë‹¤. í† í”½ì— ë³´ë‚´ëŠ” ë©”ì‹œì§€ëŠ” í•˜ë‚˜ì˜ ë¬¸ì„œê°€ ëœë‹¤. ë°ì´í„°ë² ì´ìŠ¤ë¼ë©´ ë°ì´í„° ì €ì¥ ìš”êµ¬ì‚¬í•­ì„ ë§ì¶œìˆ˜ëŠ” ìˆìœ¼ë‚˜, ì½ê¸° ì—°ì‚°ê³¼ ì“°ê¸° ì—°ì‚°ì´ ë™ì‹œì— ëŒ€ê·œëª¨ë¡œ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ëŠ” ìƒí™©ì„ ì˜ ì²˜ë¦¬í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì„¤ê³„í•˜ê¸° ë§¤ìš° ì–´ë µë‹¤.\në°ì´í„°ë² ì´ìŠ¤ëŠ” ì˜¤íˆë ¤ ì‹œìŠ¤í…œ ë³‘ëª©ì´ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê³ ë ¤í•  ìˆ˜ ì—†ë‹¤.\nì„ íƒì§€ 2: ì“°ê¸° ìš°ì„  ë¡œê·¸(Write-Ahead Log, WAL)\nWALì€ ìƒˆë¡œìš´ í•­ëª©ì´ ì¶”ê°€ë˜ê¸°ë§Œ í•˜ëŠ”(append-only) ì¼ë°˜ íŒŒì¼ì„ ì˜ë¯¸í•œë‹¤.\nMySQLì˜ ë¦¬ë‘ ë¡œê·¸, ì•„íŒŒì¹˜ ì£¼í‚¤í¼ ë“±ì—ì„œ í™œìš©í•œë‹¤. WALì— ëŒ€í•œ ì ‘ê·¼ íŒ¨í„´ì€ ì½ê¸°/ì“°ê¸° ëª¨ë‘ ìˆœì°¨ì ì´ë©°, ë””ìŠ¤í¬ëŠ” ì ‘ê·¼ íŒ¨í„´ì´ ìˆœì°¨ì ì¼ ë•Œ ì•„ì£¼ ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤.\níšŒì „ì‹ ë””ìŠ¤í¬ ê¸°ë°˜ ì €ì¥ì¥ì¹˜ëŠ” í° ìš©ëŸ‰ì„ ì €ë ´í•œ ê°€ê²©ì— êµ¬ë§¤í•  ìˆ˜ ìˆë‹¤. ìƒˆë¡œìš´ ë©”ì‹œì§€ëŠ” íŒŒí‹°ì…˜ ê¼¬ë¦¬ ë¶€ë¶„ì— ì¶”ê°€ë˜ë©°, ì˜¤í”„ì…‹ì€ ê·¸ ê²°ê³¼ë¡œ ì ì§„ì €ê¸ë¡œ ì¦ê°€í•œë‹¤.\nê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ ë¡œê·¸ íŒŒì¼ ì¤„ ë²ˆí˜¸(line number)ë¥¼ ì˜¤í”„ì…‹ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì¸ë°, íŒŒì¼ì˜ í¬ê¸°ë„ ë¬´í•œì • ì»¤ì§ˆ ìˆ˜ ì—†ìœ¼ë‹ˆ, ì„¸ê·¸ë¨¼íŠ¸(segment) ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.\nì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ìƒˆ ë©”ì‹œì§€ëŠ” í™œì„± ìƒíƒœì˜ ì„¸ê·¸ë¨¼íŠ¸ íŒŒì¼ì—ë§Œ ì¶”ê°€ë˜ë©°, í•´ë‹¹ ì„¸ê·¸ë¨¼íŠ¸ì˜ í¬ê¸°ê°€ ì¼ì • í•œê³„ì— ë„ë‹¬í•˜ë©´ ìƒˆ í™œì„± ì„¸ê·¸ë¨¼íŠ¸ íŒŒì¼ì´ ë§Œë“¤ì–´ì ¸ ìƒˆë¡œìš´ ë©”ì‹œì§€ë¥¼ ìˆ˜ìš©í•˜ê³ , ì¢…ì „ê¹Œì§€ í™œì„± ìƒíƒœì˜€ë˜ ì„¸ê·¸ë¨¼íŠ¸ íŒŒì¼ì€ ë‹¤ë¥¸ ë‚˜ë¨¸ì§€ ì„¸ê·¸ë¨¼íŠ¸ íŒŒì¼ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë¹„í™œì„± ìƒíƒœë¡œ ë°”ë€ë‹¤.\në¹„í™œì„± ì„¸ê·¸ë¨¼íŠ¸ íŒŒì¼ì€ ì½ê¸° ìš”ì²­ë§Œ ì²˜ë¦¬í•œë‹¤. ë‚¡ì€ ë¹„í™œì„± ì„¸ê·¸ë¨¼íŠ¸ íŒŒì¼ì€ ë³´ê´€ ê¸°í•œì´ ë§Œë£Œë˜ê±°ë‚˜ ìš©ëŸ‰ í•œê³„ì— ë„ë‹¬í•˜ë©´ ì‚­ì œí•´ë²„ë¦´ ìˆ˜ ìˆë‹¤. ê°™ì€ íŒŒí‹°ì…˜ì— ì†í•œ ì„¸ê·¸ë¨¼íŠ¸ íŒŒì¼ì€ Partition-{:partition_id} í´ë„ ì•„ë˜ì— ì €ì¥ëœë‹¤.\në””ìŠ¤í¬ ì„±ëŠ¥ ê´€ë ¨ ìœ ì˜ì‚¬í•­\në°ì´í„° ì¥ê¸° ë³´ê´€ì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ ë•Œë¬¸ì— ë³¸ ì„¤ê³„ì•ˆì€ ë””ìŠ¤í¬ ë“œë¼ì´ë¸Œë¥¼ í™œìš©í•˜ì—¬ ë‹¤ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë³´ê´€í•œë‹¤.\níšŒì „ì‹ ë””ìŠ¤í¬ê°€ ì •ë§ë¡œ ëŠë ¤ì§€ëŠ” ê²ƒì€ ë°ì´í„° ì ‘ê·¼ íŒ¨í„´ì´ ë¬´ì‘ìœ„ì¼ ë•Œì¸ë°, ìˆœì°¨ì  ë°ì´í„° ì ‘ê·¼ íŒ¨í„´ì„ ì ê·¹ í™œìš©í•˜ëŠ” ë””ìŠ¤í¬ ê¸°ë°˜ ìë£Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´, RAIDë¡œ êµ¬ì„±ëœ í˜„ëŒ€ì  ë””ìŠ¤í¬ ë“œë¼ì´ë¸Œì—ì„œ ìˆ˜ë°± MB/s ìˆ˜ì¤€ì˜ ì½ê¸°/ì“°ê¸° ì„±ëŠ¥ì„ ë‹¬ì„±í•˜ëŠ” ê²ƒì€ ì–´ë µì§€ ì•Šë‹¤.\në˜í•œ í˜„ëŒ€ì  ìš´ì˜ì²´ì œëŠ” ë””ìŠ¤í¬ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì•„ì£¼ ì ê·¹ì ìœ¼ë¡œ ìºì‹œí•˜ë¯€ë¡œ, ê°€ìš©í•œ ë©”ëª¨ë¦¬ ì „ë¶€ë¥¼ ë””ìŠ¤í¬ ë°ì´í„°ë¥¼ ìºì‹œí•˜ëŠ” ë° í™œìš©í•  ìˆ˜ ìˆë‹¤.\në©”ì‹œì§€ ìë£Œ êµ¬ì¡° ë©”ì‹œì§€ êµ¬ì¡°ëŠ” ë†’ì€ ëŒ€ì—­í­ ë‹¬ì„±ì˜ ì—´ì‡ ì´ë‹¤.\në©”ì‹œì§€ ìë£Œ êµ¬ì¡°ëŠ” ìƒì‚°ì, ë©”ì‹œì§€ í, ì†Œë¹„ì ì‚¬ì´ì˜ ê³„ì•½(contract) ì´ë‹¤.\në©”ì‹œì§€ê°€ íë¥¼ ê±°ì³ ì†Œë¹„ìì—ê²Œ ì „ë‹¬ë˜ëŠ” ê³¼ì •ì—ì„œ ë¶ˆí•„ìš”í•œ ë³µì‚¬ê°€ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ í•¨ìœ¼ë¡œ ë†’ì€ ëŒ€ì—­í­ì„ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤.\ní•„ë“œ ì´ë¦„ ë°ì´í„° ìë£Œí˜• key byte[] value byte[] topic string partition integer offset long timestamp long size integer crc integer ì‹œìŠ¤í…œì˜ ì»´í¬ë„ŒíŠ¸ ê°€ìš´ë° ì´ ê³„ì•½ì„ ìˆëŠ” ê·¸ëŒ€ë¡œ ë°›ì•„ë“¤ì´ì§€ ëª»í•˜ëŠ” ê²ƒì´ ìˆìœ¼ë©´ ë©”ì‹œì§€ëŠ” ë³€ê²½ë˜ì–´ì•¼í•˜ê¸° ë•Œë¬¸ì—, ë³€ê²½ë˜ëŠ” ê³¼ì •ì—ì„œ ê°’ë¹„ì‹¼ ë³µì‚¬ê°€ ë°œìƒí•˜ê²Œë˜ê³ , ê·¸ë¡œ ì¸í•´ ì „ë°™ê±°ì¸ ì„±ëŠ¥ì´ ì‹¬ê°í•˜ê²Œ ë‚®ì•„ì§ˆ ìˆ˜ ìˆë‹¤.\në©”ì‹œì§€ì˜ í‚¤\në©”ì‹œì§€ì˜ í‚¤ëŠ” íŒŒí‹°ì…˜ì„ ì •í•  ë•Œ ì‚¬ìš©ëœë‹¤.\ní‚¤ê°€ ì£¼ì–´ì§€ì§€ ì•Šì€ ë©”ì‹œì§€ì˜ íŒŒí‹°ì…˜ì€ ë¬´ì‘ìœ„ì ìœ¼ë¡œ ê²°ì •ëœë‹¤. í‚¤ê°€ ì£¼ì–´ì§„ ê²½ìš° íŒŒí‹°ì…˜ì€ hash(key) % numPartitionsë¡œ ê²°ì •ëœë‹¤. ë” ìœ ì—°í•œ ì„¤ê³„ê°€ í•„ìš”í•˜ë‹¤ë©´ ìƒì‚°ìëŠ” íŒŒí‹°ì…˜ ì„¤ì • ë§¤ì»¤ë‹ˆì¦˜ì„ ì§ì ‘ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤. ë©”ì‹œì§€ í‚¤ëŠ” íŒŒí‹°ì…˜ì˜ ë²ˆí˜¸ê°€ ì•„ë‹ˆë‹¤. í‚¤ëŠ” ë¬¸ìì—´ ì¼ ìˆ˜ë„ ìˆê³  ìˆ«ìì¼ ìˆ˜ë„ ìˆë‹¤. ë³´í†µ ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ë ¨ ì •ë³´ê°€ ë‹´ê¸´ë‹¤.\níŒŒí‹°ì…˜ ë²ˆí˜¸ëŠ” ë©”ì‹œì§€ í ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê°œë…ì´ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë…¸ì¶œë˜ì–´ì„œëŠ” ì•ˆëœë‹¤.\ní‚¤ë¥¼ íŒŒí‹°ì…˜ì— ëŒ€ì•™ì‹œí‚¤ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ì ì ˆíˆ ì •ì˜í•´ë†“ìœ¼ë©´ íŒŒí‹°ì…˜ì˜ ìˆ˜ê°€ ë‹¬ë¼ì ¸ë„ ëª¨ë“  íŒŒí‹°ì…˜ì— ë©”ì‹œì§€ê°€ ê³„ì† ê· ë“±íˆ ë¶„ì‚°ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.\në©”ì‹œì§€ ê°’\në©”ì‹œì§€ ê°’(message value)ëŠ” ë©”ì‹œì§€ì˜ ë‚´ìš©, ì¦‰ í˜ì´ë¡œë“œë¥¼ ë§í•œë‹¤.\në©”ì‹œì§€ ê°’ì€ ì¼ë°˜ í…ìŠ¤íŠ¸ì¼ ìˆ˜ë„ ìˆê³  ì••ì¶•ëœ ì´ì§„ ë¸”ë¡(block)ì¼ ìˆ˜ë„ ìˆë‹¤.\në©”ì‹œì§€ì˜ í‚¤ê³¼ ê°’ì€ í‚¤-ê°’ ì €ì¥ì†Œì—ì„œ ì´ì•¼ê¸°í•˜ëŠ” í‚¤ë‚˜ ê°’ê³¼ëŠ” ë‹¤ë¥´ë‹¤.\ní‚¤-ê°’ ì €ì¥ì†Œì˜ ê²½ìš° í‚¤ëŠ” ê³ ìœ í•˜ë¯€ë¡œ ì›í•˜ëŠ” ê°’ì€ í‚¤ë¥¼ í†µí•´ ì°¾ì„ ìˆ˜ ìˆì§€ë§Œ, ë©”ì‹œì§€ì˜ í‚¤ëŠ” ë©”ì‹œì§€ë§ˆë‹¤ ê³ ìœ í•  í•„ìš”ê°€ ì—†ë‹¤. ë©”ì‹œì§€ì— ë°˜ë“œì‹œ í‚¤ë¥¼ ë‘ì–´ì•¼ í•˜ëŠ” ê²ƒë„ ì•„ë‹ˆê³  í‚¤ë¥¼ ì‚¬ìš©í•´ ê°’ì„ ì°¾ì„ í•„ìš”ë„ ì—†ë‹¤.\në©”ì‹œì§€ì˜ ê¸°íƒ€ í•„ë“œ\ní† í”½ ë©”ì‹œì§€ê°€ ì†í•œ í† í”½ì˜ ì´ë¦„ íŒŒí‹°ì…˜ ë©”ì‹œì§€ê°€ ì†í•œ íŒŒí‹°ì…˜ì˜ ID ì˜¤í”„ì…‹ íŒŒí‹°ì…˜ ë‚´ ë©”ì‹œì§€ì˜ ìœ„ì¹˜ í† í”½, íŒŒí‹°ì…˜, ì˜¤í”„ì…‹ ì„¸ ê°€ì§€ ì •ë³´ë¥¼ ì•Œë©´ ì°¾ì„ ìˆ˜ ìˆë‹¤. íƒ€ì„ìŠ¤íƒ¬í”„ ë©”ì‹œì§€ê°€ ì €ì¥ëœ ì‹œê° í¬ê¸° ë©”ì‹œì§€ì˜ í¬ê¸° CRC(Cyclic Redundancy Check) ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ëŠ”ë° ì´ìš© ì´ ì™¸ì—ë„ ë” ë§ì€ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ì„ íƒì  í•„ë“œê°€ ìˆì„ ìˆ˜ ìˆë‹¤.\ntags í•„ë“œê°€ ìˆë‹¤ë©´ ë©”ì‹œì§€ë¥¼ íƒœê·¸ë¥¼ ì‚¬ìš©í•´ í•„í„°ë§ í•˜ëŠ” ë“± ì¼ê´„ ì²˜ë¦¬ ì´ë²ˆ ì„¤ê³„ì—ì„œëŠ” ìƒì‚°ì, ì†Œë¹„ì, ë©”ì‹œì§€ íëŠ” ë©”ì‹œì§€ë¥¼ ê°€ê¸‰ì  ì¼ê´„ ì²˜ë¦¬í•œë‹¤.\nì¼ê´„ ì²˜ë¦¬ê°€ ì„±ëŠ¥ ê°œì„ ì— ì¤‘ìš”í•œ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\nì—¬ëŸ¬ ë©”ì‹œì§€ë¥´ í•œ ë²ˆì˜ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ìœ¼ë¡œ ì „ì†¡í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê°’ë¹„ì‹¼ ë„¤íŠ¸ì›Œí¬ ì™•ë³µ ë¹„ìš©ì„ ì œê±°í•  ìˆ˜ ìˆë‹¤. ë¸Œë¡œì»¤ê°€ ì—¬ëŸ¬ ë©”ì‹œì§€ë¥¼ í•œ ë²ˆì— ë¡œê·¸ì— ê¸°ë¡í•˜ë©´ ë” í° ê·œëª¨ì˜ ìˆœì°¨ ì“°ê¸° ì—°ì‚°ì´ ë°œìƒí•˜ê³ , ìš´ì˜ì²´ì œê°€ ê´€ë¦¬í•˜ëŠ” ë””ìŠ¤í¬ ë§¤ì‹œì—ì„œ ë” í° ê·œëª¨ì˜ ì—°ì†ëœ ê³µê°„ì„ ì ìœ í•˜ì—¬ ë” ë†’ì€ ë””ìŠ¤í¬ ì ‘ê·¼ ëŒ€ì—­í­ì„ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤. ë†’ì€ ëŒ€ì—­í­ê³¼ ë‚®ì€ ì‘ë‹µ ì§€ì—°ì€ ë™ì‹œì— ë‹¬ì„±í•˜ê¸° ì–´ë ¤ìš´ ëª©í‘œì´ë‹¤.\nì‹œìŠ¤í…œì´ ë‚®ì€ ì‘ë‹µ ì§€ì—°ì´ ì¤‘ìš”í•œ ì „í†µì  ë©”ì‹œì§€ íë¡œ ì´ìš©ëœë‹¤ë©´ ë””ìŠ¤í¬ ì„±ëŠ¥ì€ ë‹¤ì†Œ ë‚®ì•„ì§ˆ ìˆ˜ ìˆìœ¼ë‚˜ ì¼ê´„ ì²˜ë¦¬ ë©”ì‹œì§€ ì–‘ì„ ë‚®ì¶°ì•¼í•œë‹¤.\nì²˜ë¦¬ëŸ‰ì„ ë†’ì—¬ì•¼ í•œë‹¤ë©´ í† í”½ ë‹¹ íŒŒí‹°ì…˜ì˜ ìˆ˜ëŠ” ëŠ˜ë ¤ ë‚®ì•„ì§„ ìˆœì°¨ ì“°ê¸° ì—°ì‚° ëŒ€ì—­í­ì„ ë²Œì¶©í•  ìˆ˜ ìˆë‹¤.\nìƒì‚°ì ì¸¡ ì‘ì—… íë¦„ ë¼ìš°íŒ… ê³„ì¸µì„ ë„ì…í•˜ì—¬ ìƒì‚°ì ì ì ˆí•œ ë¸Œë¡œì»¤ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë„ë¡ í•œë‹¤.\në¸Œë¡œì»¤ë¥¼ ì—¬ëŸ¬ ê°œë¡œ ë³µì œí•˜ì—¬ ìš´ìš©í•˜ëŠ” ê²½ìš°ì— ë©”ì‹œì§€ë¥¼ ë°›ì„ ì ì ˆí•œ ë¸Œë¡œì»¤ëŠ” ë¦¬ë” ë¸Œë¡œì»¤ì´ë‹¤. ìƒì‚°ìëŠ” ë©”ì‹œì§€ë¥¼ ë¼ìš°íŒ… ê³„ì¸µìœ¼ë¡œ ë³´ë‚¸ë‹¤. ë¼ìš°íŒ… ê³„ì¸µì€ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì—ì„œ ì‚¬ë³¸ ë¶„ì‚° ê³„íš(replica distribution plan)ì„ ì½ì–´ ìê¸° ìºì‹œì— ë³´ê´€í•œë‹¤. ë©”ì‹œì§€ê°€ ë„ì°©í•˜ë©´ ë¼ìš°íŒ… ê³„ì¸µì€ íŒŒí‹°ì…˜-1ì˜ ë¦¬ë” ì‚¬ë³¸ì— ë³´ë‚¸ë‹¤. ë¦¬ë” ì‚¬ë³¸ì´ ìš°ì„  ë©”ì‹œì§€ë¥¼ ë°›ê³  í•´ë‹¹ ë¦¬ë”ë¥¼ ë”°ë¥´ëŠ” ë‹¤ë¥¸ ì‚¬ë³¸ì€ í•´ë‹¹ ë¦¬ë”ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤. ì¶©ë¶„í•œ ìˆ˜ì˜ ì‚¬ë³¸ì´ ë™ê¸°í™”ë˜ë©´ ë¦¬ë”ëŠ” ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•œë‹¤. ë°ì´í„°ê°€ ì†Œë¹„ ê°€ëŠ¥ ìƒíƒœê°€ ëœë‹¤. ê¸°ë¡ì´ ëë‚˜ë©´ ìƒì‚°ìì—ê²Œ íšŒì‹ ì„ ë³´ë‚¸ë‹¤. ë¦¬ë”ì™€ ì‚¬ë³¸ì€ ì¥ì•  ê°ë‚´ê°€ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•˜ë‹¤.\nì´ëŸ¬í•œ ë¼ìš°íŒ… ê³„ì¸µ í™œìš©ì€ ë™ì‘í•˜ì§€ë§Œ ëª‡ê°€ì§€ ë‹¨ì ì´ ìˆë‹¤.\në¼ìš°íŒ… ê³„ì¸µì„ ë„ì…í•˜ë©´ ê±°ì³ì•¼ í•  ë„¤íŠ¸ì›Œí¬ ë…¸ë“œê°€ í•˜ë‚˜ ë” ëŠ˜ì–´ë‚˜ê²Œ ë˜ë¯€ë¡œ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ì „ì†¡ ì§€ì—°ì´ ëŠ˜ì–´ë‚œë‹¤. ì¼ê´„ ì²˜ë¦¬ê°€ ê³ ë ¤ë˜ì§€ ì•Šì€ ì„¤ê³„ì´ë‹¤. ìœ„ ì„¤ê³„ì•ˆì€ ìƒì‚°ì í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(producer client library)ì˜ ì¼ë¶€ë¡œ ìƒì‚°ìì— ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ìƒì‚°ì ë‚´ë¶€ë¡œ ë¼ìš°íŒ… ê³„ì¸µì„ í¸ì… ì‹œí‚¤ê³  ë²„í¼ë¥¼ ë„ì…í•œë‹¤.\në„¤íŠ¸ì›Œí¬ë¥¼ ê±°ì¹  í•„ìš”ê°€ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì— ì „ì†¡ ì§€ì—°ë„ ì¤„ì–´ë“ ë‹¤. ìƒì‚°ìëŠ” ë©”ì‹œì§€ë¥¼ ì–´ëŠ íŒŒí‹°ì…˜ì— ë³´ë‚¼ ì§€ ê²°ì •í•˜ëŠ” ìì‹ ë§Œì˜ ë¡œì§ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ì „ì†¡í•  ë©”ì‹œì§€ë¥¼ ë²„í¼ ë©”ëª¨ë¦¬ì— ë³´ê´€í–ˆë‹¤ê°€ ëª©ì ì§€ë¡œ ì¼ê´„ ì „ì†¡í•˜ì—¬ ëŒ€ì—­í­ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤. ì¼ê´„ ì²˜ë¦¬í•˜ëŠ” ë©”ì‹œì§€ì˜ ì–‘ì„ ê²°ì •í•˜ëŠ” ê²ƒì€ ëŒ€ì—­í­ê³¼ ì‘ë‹µ ì§€ì—° ì‚¬ì´ì—ì„œ íƒ€í˜‘ì ‘ì„ ì°¾ëŠ” ë¬¸ì œì´ë‹¤.\në©”ì‹œì§€ì˜ ì–‘ì„ ëŠ˜ë¦¬ë©´ ëŒ€ì—­í­ì€ ëŠ˜ì–´ë‚˜ì§€ë§Œ ì¼ê´„ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•  ì–‘ì˜ ë©”ì‹œì§€ê°€ ìŒ“ì´ê¸¸ ê¸°ë‹¤ë ¤ì•¼ í•˜ë¯€ë¡œ ì‘ë‹µ ì†ë„ëŠ” ëŠë ¤ì§„ë‹¤.\nì–‘ì„ ì¤„ì´ë©´ ë©”ì‹œì§€ë¥¼ ë” ë¹¨ë¦¬ ë³´ë‚¼ ìˆ˜ ìˆì–´ ì§€ì—°ì€ ì¤„ì–´ë“¤ì§€ë§Œ ëŒ€ì—­í­ì€ ì†í•´ë¥¼ ë³´ê²Œëœë‹¤.\në”°ë¼ì„œ ìƒì‚°ìëŠ” ë©”ì‹œì§€ íì˜ ìš©ë„ë¥¼ ê°ì•ˆí•˜ì—¬ ì¼ê´„ ì²˜ë¦¬ ë©”ì‹œì§€ ì–‘ì„ ì¡°ì ˆí•´ì•¼í•œë‹¤.\nì†Œë¹„ì ì¸¡ ì‘ì—… íë¦„ ì†Œë¹„ìëŠ” íŠ¹ì • íŒŒí‹°ì…˜ì˜ ì˜¤í”„ì…‹ì„ ì£¼ê³  í•´ë‹¹ ìœ„ì¹˜ì—ì„œë¶€í„° ì´ë²¤íŠ¸ë¥¼ ë¬¶ì–´ ê°€ì ¸ì˜¨ë‹¤.\ní‘¸ì‹œ vs í’€ ë¸Œë¡œì»¤ê°€ ë°ì´í„°ë¥¼ ì†Œë¹„ìì—ê²Œ ë³´ë‚¼ ê²ƒì¸ì§€, ì†Œë¹„ìê°€ ë¸Œë¡œì»¤ì—ì„œ ê°€ì ¸ê°ˆ ê²ƒì¸ì§€ ê²°ì •í•˜ëŠ” ê²ƒì€ ì¤‘ìš”í•œ ë¬¸ì œì´ë‹¤.\ní‘¸ì‹œ ëª¨ë¸\nì¥ì  ë‚®ì€ ì§€ì—°: ë¸Œë¡œì»¤ëŠ” ë©”ì‹œì§€ë¥´ ë°›ëŠ” ì¦‰ì‹œ ì†Œë¹„ìì—ê²Œ ë³´ë‚¸ë‹¤. ë‹¨ì  ì†Œë¹„ìê°€ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì†ë„ê°€ ìƒì‚°ìê°€ ë©”ì‹œì§€ë¥¼ ë§Œë“œëŠ” ì†ë„ë³´ë‹¤ ëŠë¦´ ê²½ìš°, ì†Œë¹„ìì—ê²Œ í° ë¶€í•˜ê°€ ê±¸ë¦°ë‹¤. ìƒì‚°ìê°€ ë°ì´í„° ì „ì†¡ ì†ë„ë¥¼ ì¢Œìš°í•˜ë¯€ë¡œ, ì†Œë¹„ìëŠ” í•­ìƒ ê·¸ì— ë§ëŠ” ì²˜ë¦¬ê°€ ê°€ëŠ¥í•œ ì»´í“¨íŒ… ìì›ì„ ì¤€ë¹„í•´ ë‘ì–´ì•¼í•œë‹¤. í’€ ëª¨ë¸\nì¥ì  ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” ì†ë„ëŠ” ì†Œë¹„ìê°€ ì•Œì•„ì„œ ê²°ì •í•˜ë¯€ë¡œ ì–´ë–¤ ì†Œë¹„ìëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ, ì–´ë–¤ ì†Œë¹„ìëŠ” ì¼ê´„ë¡œ ê°€ì ¸ê°€ëŠ” ë“±ì˜ êµ¬ì„±ì´ ê°€ëŠ¥í•˜ë‹¤. ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” ì†ë„ê°€ ìƒì‚° ì†ë„ë³´ë‹¤ ëŠë ¤ì§€ë©´ ì†Œë¹„ìë¥¼ ëŠ˜ë ¤ í•´ê²°í•  ìˆ˜ ìˆê³ , ìƒì‚° ì†ë„ë¥¼ ë”°ë¼ì¡ì„ ë•Œ ê¹Œì§€ ê¸°ë‹¤ë ¤ë„ ëœë‹¤. ì¼ê´„ ì²˜ë¦¬ì— ì í•©í•˜ë‹¤. í‘¸ì‹œ ëª¨ë¸ì€ ë¸Œë¡œì»¤ê°€ ì†Œë¹„ìì˜ ì—¬ê±´ì„ í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì œ ë•Œ ì²˜ë¦¬í•˜ì§€ ëª»í•œ ë©”ì‹œì§€ëŠ” ë²„í¼ì— ìŒ“ì—¬ ì²˜ë¦¬ë¥¼ ê¸°ë‹¤ë¦¬ê²Œëœë‹¤. ë°˜ë©´ í’€ ëª¨ë¸ì€ ì†Œë¹„ìê°€ ì§€ë‚œë²ˆ ë§ˆì§€ë§‰ìœ¼ë¡œ ê°€ì ¸ê°„ ë¡œê·¸ ìœ„ì¹˜ ë‹¤ìŒì— ì˜¤ëŠ” ëª¨ë“  ë©”ì‹œì§€ë¥¼ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤. ê³µê²©ì ì¸ ì¼ê´„ ì²˜ë¦¬ì— ì¢€ ë” ì í•©í•˜ë‹¤. ë‹¨ì  ë¸Œë¡œì»¤ì— ë©”ì‹œì§€ê°€ ì—†ì–´ë„ ì†Œë¹„ìëŠ” ê³„ì† ë°ì´í„°ë¥¼ ëŒì–´ê°€ë ¤ ì‹œë„í•˜ì—¬ ì»´í“¨íŒ… ìì›ì´ ë‚­ë¹„ëœë‹¤. ë¡± í´ë§ ëª¨ë“œë¥¼ ì§€ì›í•˜ì—¬ ë‹¹ì¥ ê°€ì ¸ê°ˆ ë©”ì‹œì§€ê°€ ì—†ë”ë¼ë„ ì¼ì • ì‹œê°„ì€ ê¸°ë‹¤ë¦°ë‹¤. ì´ëŸ¬í•œ ì´ìœ ë“¤ë¡œ ëŒ€ë¶€ë¶„ì˜ ë©”ì‹œì§€ íëŠ” í‘¸ì‹œ ëª¨ë¸ ëŒ€ì‹  í’€ ëª¨ë¸ì„ ì§€ì›í•œë‹¤.\nì†Œë¹„ì ì¬ì¡°ì • ì†Œë¹„ì ì¬ì¡°ì •(consumer rebalancing)ì€ ì–´ë–¤ ì†Œë¹„ìê°€ ì–´ë–¤ íŒŒí‹°ì…˜ì„ ì±…ì„ì§€ëŠ”ì§€ ë‹¤ì‹œ ì •í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¡œ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì— ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nìƒˆë¡œìš´ ì†Œë¹„ìê°€ í•©ë¥˜ ê¸°ì¡´ ì†Œë¹„ìê°€ ê·¸ë£¹ì„ ì´íƒˆ ì–´ë–¤ ì†Œë¹„ìì— ì¥ì• ê°€ ë°œìƒ íŒŒí‹°ì…˜ë“¤ì´ ì¡°ì • ì´ ì ˆì°¨ì— ì½”ë””ë„¤ì´í„°ê°€ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ê²Œëœë‹¤.\nì½”ë””ë„¤ì´í„°\nì½”ë””ë„¤ì´í„°ëŠ” ì†Œë¹„ì ì¬ì¡°ì •ì„ ìœ„í•´ ì†Œë¹„ìë“¤ê³¼ í†µì‹ í•˜ëŠ” ë¸Œë¡œì»¤ ë…¸ë“œë¡œ ì†Œë¹„ìë¡œ ë¶€í„° ì˜¤ëŠ” ë°•ë™(heartbeat) ë©”ì‹œì§€ë¥¼ ì‚´í´ ê° ì†Œë¹„ìì˜ íŒŒí‹°ì…˜ ë‚´ ì˜¤í”„ì…‹ ì •ë³´ë¥¼ ê´€ë¦¬í•œë‹¤.\nì½”ë””ë„¤ì´í„°ì™€ ì†Œë¹„ìì˜ ìƒí˜¸ì‘ìš©\nê°™ì€ ê·¸ë£¹ì˜ ëª¨ë“  ì†Œë¹„ìëŠ” ê°™ì€ ì½”ë””ë„¤ì´í„°ì— ì—°ê²°í•œë‹¤. ì†Œë¹„ìëŠ” íŠ¹ì • ê·¸ë£¹ì— ì†í•˜ë©°, ìƒˆë‹¹ ê·¸ë£¹ ì „ë‹´ ì½”ë””ë„¤ì´í„°ëŠ” ê·¸ë£¹ ì´ë¦„ì„ í•´ì‹±í•˜ì—¬ ì°¾ì„ ìˆ˜ ìˆë‹¤. ì½”ë””ë„¤ì´í„°ëŠ” ìì‹ ì— ì—°ê²°í•œ ì†Œë¹„ì ëª©ë¡ì„ ìœ ì§€í•œë‹¤. ëª©ë¡ì— ë³€í™”ê°€ ìƒê¸°ë©´ ì½”ë””ë„¤ì´í„°ëŠ” í•´ë‹¹ ê·¸ë£¹ì˜ ìƒˆë¡œìš´ ë¦¬ë”ë¥¼ ì„ ì¶œí•œë‹¤. ìƒˆ ë¦¬ë”ëŠ” ìƒˆ íŒŒí‹°ì…˜ ë°°ì¹˜ ê³„íš(partition dispatch plan)ì„ ë§Œë“¤ê³  ì½”ë””ë„¤ì´í„°ì—ê²Œ ì „ë‹¬í•œë‹¤. ì½”ë””ë„¤ì´í„°ëŠ” í•´ìƒ ê³„íšì„ ê·¸ë£¹ ë‚´ ë‹¤ë¥¸ ëª¨ë“  ì†Œë¹„ìì—ê²Œ ì•Œë¦°ë‹¤. ë¶„ì‚° ì‹œìŠ¤í…œì´ë¯€ë¡œ ì†Œë¹„ìëŠ” ë„¤íŠ¸ì›Œí¬ ì´ìŠˆë¥¼ ë¹„ë¡¯í•œ ë‹¤ì–‘í•œ ì¥ì• ë¥¼ ê²ªì„ ìˆ˜ ìˆë‹¤.\nì½”ë””ë„¤ì´í„°ëŠ” ë°•ë™ ì‹ í˜¸ê°€ ì‚¬ë¼ì§€ëŠ” í˜„ìƒì„ í†µí•´ ì†Œë¹„ìì—ê²Œ ë°œìƒí•œ ì¥ì• ë¥¼ ê°ì§€í•  ìˆ˜ ìˆë‹¤.\nì†Œë¹„ìì˜ ì¥ì• ë¥¼ ê°ì§€í•˜ë©´ ì½”ë””ë„¤ì´í„°ê°€ ì¬ì¡°ì • í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ì—¬ íŒŒí‹°ì…˜ì„ ì¬ë°°ì¹˜í•œë‹¤.\nìƒíƒœ ì €ì¥ì†Œ ë©”ì‹œì§€ í ë¸Œë¡œì»¤ì˜ ìƒíƒœ ì €ì¥ì†Œ(state storage)ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ê°€ ì €ì¥ëœë‹¤.\nì†Œë¹„ìì— ëŒ€í•œ íŒŒí‹°ì…˜ì˜ ë°°ì¹˜ ê´€ê³„ ê° ì†Œë¹„ì ê·¸ë£¹ì´ ê° íŒŒí‹°ì…˜ì—ì„œ ë§ˆì§€ë§‰ìœ¼ë¡œ ê°€ì ¸ê°„ ë©”ì‹œì§€ì˜ ì˜¤í”„ì…‹ ì†Œë¹„ìì— ì¥ì• ê°€ ìƒê¸°ë©´ ê°™ì€ ê·¸ë£¹ì˜ ìƒˆë¡œìš´ ì†Œë¹„ìê°€ ì´ì–´ë°›ì•„ í•´ë‹¹ ìœ„ì¹˜ë¶€í„° ë‹¤ìŒ ë©”ì‹œì§€ë¥¼ ì½ì–´ê°„ë‹¤.\nì†Œë¹„ì ìƒíƒœ ì •ë³´ ë°ì´í„°ê°€ ì´ìš©ë˜ëŠ” íŒ¨í„´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nì½ê¸°ì™€ ì“°ê¸°ê°€ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ì§€ë§Œ ì–‘ì€ ë§ì§€ ì•Šë‹¤. ë°ì´í„° ê°±ì‹ ì€ ë¹ˆë²ˆí•˜ê²Œ ì¼ì–´ë‚˜ì§€ë§Œ ì‚­ì œë˜ëŠ” ì¼ì€ ê±°ì˜ ì—†ë‹¤. ì½ê¸°ì™€ ì“°ê¸° ì—°ì‚°ì€ ë¬´ì‘ìœ„ì  íŒ¨í„´ì„ ë³´ì¸ë‹¤. ë°ì´í„°ì˜ ì¼ê´€ì„±(consistency)ê°€ ì¤‘ìš”í•˜ë‹¤. ì´ëŸ¬í•œ ë°ì´í„° ì¼ê´€ì„± ë° ë†’ì€ ì½ê¸°/ì“°ê¸° ì†ë„ì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ì„ ê³ ë ¤í•˜ì˜€ì„ ë•Œ, ì•„íŒŒì¹˜ ì£¼í‚¤í¼(Apache ZooKeeper) ê°™ì€ ê¸°-ê°’ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§ í•  ìˆ˜ ìˆë‹¤.\nì¹´í”„ì¹´ëŠ” ì˜¤í”„ì…‹ ì €ì¥ì†Œë¡œ ì£¼í‚¤í¼ë¥¼ ì‚¬ìš©í•˜ë‹¤ê°€ ì¹´í”„ì¹´ ë¸Œë¡œì»¤ë¡œ ì´ì „í•˜ì˜€ë‹¤.\në©”íƒ€ë°ì´í„° ì €ì¥ì†Œ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì—ëŠ” í† í”½ ì„¤ì •ì´ë‚˜ ì†ì„± ì •ë³´ë¥¼ ë³´ê´€í•œë‹¤.\níŒŒí‹°ì…˜ ìˆ˜, ë©”ì‹œì§€ ë³´ê´€ ê¸°ê°„, ì‚¬ë³¸ ë°°ì¹˜ ì •ë³´ ë“± ë©”íƒ€ë°ì´í„°ëŠ” ìì£¼ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©° ì–‘ë„ ì ì§€ë§Œ ë†’ì€ ì¼ê´€ì„±ì„ ìš”êµ¬í•œë‹¤.\nì´ëŸ¬í•œ ë°ì´í„° ë³´ê´€ì—ëŠ” ì£¼í‚¤í¼ê°€ ì ì ˆí•˜ë‹¤.\nì£¼í‚¤í¼ ì£¼í‚¤í¼ëŠ” ê³„ì¸µì  í‚¤-ê°’ ì €ì¥ì†Œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì— í•„ìˆ˜ì ì¸ ì„œë¹„ìŠ¤ì´ë‹¤.\në³´í†µ ë¶„ì‚° ì„¤ì • ì„œë¹„ìŠ¤(distributed configuration service), ë™ê¸°í™” ì„œë¹„ìŠ¤(synchronization service), ì´ë¦„ ë ˆì§€ìŠ¤íŠ¸ë¦¬(naming registry) ë“±ìœ¼ë¡œ ì´ìš©ëœë‹¤.\në©”íƒ€ë°ì´í„°ì™€ ìƒíƒœ ì €ì¥ì†ŒëŠ” ì£¼í‚¤í¼ë¥¼ ì´ìš©í•´ êµ¬í˜„ ë¸Œë¡œì»¤ëŠ” ì´ì œ ë©”ì‹œì§€ ë°ì´í„° ì €ì¥ì†Œë§Œ ìœ ì§€í•¨ ì£¼í‚¤í¼ê°€ ë¸Œë¡œì»¤ í´ëŸ¬ìŠ¤í„°ì˜ ë¦¬ë” ì„ ì¶œ ê³¼ì •ì„ ë„ì›€ ë³µì œ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ í•˜ë“œì›¨ì–´ ì¥ì• ëŠ” í”í•œ ì¼ì´ë¯€ë¡œ ë¬´ì‹œí•´ì„œëŠ” ì•ˆ ëœë‹¤.\në””ìŠ¤í¬ì— ì†ìƒì´ë‚˜ ì˜êµ¬ì  ì¥ì• ê°€ ë°œìƒí•˜ë©´ ë°ì´í„°ëŠ” ì‚¬ë¼ì§€ëŠ”ë°, ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ë†’ì€ ê°€ìš©ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì „í†µì ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ëœ ë°©ë²•ì´ ë³µì œ(replication)ë‹¤.\nì§™ì€ ìƒ‰ìœ¼ë¡œ ê°•ì¡°í•œ ì‚¬ë³¸ì€ í•´ë‹¹ íŒŒí‹°ì…˜ì˜ ë¦¬ë”ì´ê³ , ë‚˜ë¨¸ì§€ëŠ” ë‹¨ìˆœ ì‚¬ë³¸ì´ë‹¤.\nìƒì‚°ìëŠ” íŒŒí‹°ì…˜ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œ ë¦¬ë”ì—ê²Œë§Œ ë³´ë‚´ë©°, ë‹¤ë¥¸ ì‚¬ë³¸ì€ ë¦¬ë”ì—ì„œ ìƒˆ ë©”ì‹œì§€ë¥¼ ì§€ì†ì ìœ¼ë¡œ ê°€ì ¸ì™€ ë™ê¸°í™”í•œë‹¤.\në©”ì‹œì§€ë¥¼ í™˜ì „íˆ ë™ê¸°í™”í•œ ì‚¬ë³¸ì˜ ê°œìˆ˜ê°€ ì§€ì •ëœ ì„ê³„ê°’ì„ ë„˜ìœ¼ë©´ ë¦¬ë”ëŠ” ìƒì‚°ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ì˜ ë°›ì•˜ë‹¤ëŠ” ì‘ë‹µì„ ë³´ë‚¸ë‹¤.\nì‚¬ë³¸ì„ íŒŒí‹°ì…˜ì— ì–´ë–»ê²Œ ë¶„ì‚°í•  ì§€ ê¸°ìˆ í•˜ëŠ” ê²ƒì„ ì‚¬ë³¸ ë¶„ì‚° ê³„íš(replica distribution plan)ì´ë¼ê³  í•˜ë©° ì¡°ì • ì„œë¹„ìŠ¤ì˜ ë„ì›€ìœ¼ë¡œ ë¸Œë¡œì»¤ ë…¸ë“œ ê°€ìš´ë° í•˜ë‚˜ê°€ ë¦¬ë”ë¡œ ì„ ì¶œë˜ë©´ í•´ë‹¹ ë¦¬ë” ë¸Œë¡œì»¤ ë…¸ë“œê°€ ì‚¬ë³¸ ë¶„ì‚° ê³„íšì„ ë§Œë“œë¡ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì— ë³´ê´€í•˜ê²Œëœë‹¤.\nì‚¬ë³¸ ë™ê¸°í™” ì–´ë–¤ í•œ ë…¸ë“œì˜ ì¥ì• ë¡œ ë©”ì‹œì§€ê°€ ì†Œì‹¤ë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´ ë©”ì‹œì§€ëŠ” ì—¬ëŸ¬ íŒŒí‹°ì…˜ì— ë‘ë©°, ê° íŒŒí‹°ì…˜ì€ ë‹¤ì‹œ ì—¬ëŸ¬ ì‚¬ë³¸ìœ¼ë¡œ ë³µì œí•œë‹¤.\në©”ì‹œì§€ëŠ” ë¦¬ë”ë¡œë§Œ ë³´ë‚´ê³  ë‹¤ë¥¸ ë‹¨ìˆœ ì‚¬ë³¸ì€ ë¦¬ë”ì—ì„œ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ê°€ ë™ê¸°í™” í•˜ëŠ”ë°, ê·¸ ëª¨ë‘ë¥¼ ì–´ë–»ê²Œ ë™ê¸°í™” ì‹œí‚¬ ê²ƒ ì¸ì§€ê°€ ì¤‘ìš”í•˜ë‹¤.\në™ê¸°í™”ëœ ì‚¬ë³¸(In-Sync Replicas, ISR)ì€ ë¦¬ë”ì™€ ë™ê¸°í™”ëœ ì‚¬ë³¸ì„ ì¼ì»«ëŠ” ìš©ì–´ë¡œ, ë™ê¸°í™”ë˜ì—ˆë‹¤ëŠ” ê²ƒì´ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠëƒëŠ” í† í”½ì˜ ì„¤ì •ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.\nì˜ˆë¥¼ ë“¤ë©´ replica.lag.max.messagesì˜ ê°’ì´ 4ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´, ë‹¨ìˆœ ì‚¬ë³¸ì— ë³´ê´€ëœ ë©”ì‹œì§€ ê°œìˆ˜ì™€ ë¦¬ë” ì‚¬ì´ì˜ ì°¨ì´ê°€ 3ì´ë¼ë©´ í•´ë‹¹ ì‚¬ë³¸ì€ ì—¬ì „íˆ ISRì´ë‹¤(ë¦¬ë”ëŠ” í•­ìƒ ISR).\nISRì€ ì„±ëŠ¥ê³¼ ì˜ì†ì„± ì‚¬ì´ì˜ íƒ€í˜‘ì ì´ë‹¤.\nìƒì‚°ìê°€ ë³´ë‚¸ ì–´ë–¤ ë©”ì‹œì§€ë„ ì†Œì‹¤í•˜ì§€ ì•ŠëŠ” ê°€ì¥ ì•ˆì „í•œ ë°©ë²•ì€ ìƒì‚°ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ì˜ ë°›ì•˜ë‹¤ëŠ” ì‘ë‹µì„ ë³´ë‚´ê¸° ì „ì— ëª¨ë“  ì‚¬ë³¸ì„ ë™ê¸°í™”í•˜ëŠ” ê²ƒ ì´ë‹¤.\ní•˜ì§€ë§Œ ì–´ëŠ ì‚¬ë³¸ í•˜ë‚˜ë¼ë„ ë™ê¸°í™”ë¥¼ ì‹ ì†í•˜ê²Œ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ê²Œ ë˜ë©´ íŒŒí‹°ì…˜ ì „ë¶€ê°€ ëŠë ¤ì§€ê±°ë‚˜ ì•„ì˜ˆ ëª» ì“°ê²Œ ë˜ëŠ” ì¼ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nACK=all\nACK=allë¡œ ì„¤ì •ëœ ê²½ìš° ìƒì‚°ìëŠ” ëª¨ë“  ISRì´ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•œ ë’¤ì— ACK ì‘ë‹µì„ ë°›ëŠ”ë‹¤.\nëŠë¦° ISRì˜ ì‘ë‹µì„ ê¸°ë‹¤ë ¤ì•¼ í•˜ë¯€ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸° ìœ„í•œ ì‹œê°„ì´ ê¸¸ì–´ì§€ì§€ë§Œ, ì˜ì†ì„± ì¸¡ë©´ì—ì„œëŠ” ê°€ì¥ ì¢‹ì€ êµ¬ì„±ì´ë‹¤.\nACK=1\në¦¬ë”ê°€ ë©”ì‹œì§€ë¥¼ ì €ì¥í•˜ê³  ë‚˜ë©´ ë°”ë¡œ ACK ì‘ë‹µì„ ë°›ëŠ”ë‹¤.\në°ì´í„°ê°€ ë™ê¸°í™”ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šìœ¼ë¯€ë¡œ ì‘ë‹µ ì§€ì—°ì€ ê°œì„ ë˜ì§€ë§Œ, ë©”ì‹œì§€ ACKì„ ë³´ë‚¸ ì§í›„ ë¦¬ë”ì— ì¥ì• ê°€ ìƒê¸°ë©´ í•´ë‹¹ ë©”ì‹œì§€ëŠ” ë‹¤ë¥¸ ì‚¬ë³¸ì— ë°˜ì˜ë˜ì§€ ëª»í•˜ì˜€ìœ¼ë¯€ë¡œ ì†Œì‹¤ëœë‹¤.\nì´ëŸ° êµ¬ì„±ì€ ë°ì´í„°ê°€ ì‚¬ë¼ì ¸ë„ ìƒê´€ì—†ëŠ” ëŒ€ì‹  ë‚®ì€ ì‘ë‹µ ì§€ì—°ì„ ë³´ì¥í•´ì•¼ í•˜ëŠ” ì‹œìŠ¤í…œì— ì í•©í•˜ë‹¤.\nACK=0\në³´ë‚¸ ë©”ì‹œì§€ì— ëŒ€í•œ ìˆ˜ì‹  í™•ì¸ ë©”ì‹œì§€ë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ê³„ì† ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ë©° ì–´ë–¤ ì¬ì‹œë„ë„ í•˜ì§€ ì•ŠëŠ”ë‹¤.\në‚®ì€ ì‘ë‹µ ì§€ì—°ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ë©”ì‹œì§€ ì†ì‹¤ì€ ê°ìˆ˜í•˜ëŠ” êµ¬ì„±ìœ¼ë¡œ, ì§€í‘œ ìˆ˜ì§‘ì´ë‚˜ ë°ì´í„° ë¡œê¹… ë“± ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ë©”ì‹œì§€ì˜ ì–‘ì´ ë§ê³  ë•Œë¡œ ë°ì´í„° ì†ì‹¤ì´ ë°¸ìƒí•´ë„ ìƒê´€ ì—†ëŠ” ê²½ìš° ì‚¬ìš©ëœë‹¤.\nì´ì²˜ëŸ¼ ACK ì„¤ì •ì„ ë³€ê²½ ê°€ëŠ¥í•˜ë„ë¡ í•´ ë‘ë©´ ì„±ëŠ¥ì„ ë†’ì—¬ì•¼ í•  ê²½ìš° ì˜ì†ì„±ì„ ë‹¤ì†Œ í¬ìƒí•  ìˆ˜ë„ ìˆê²Œ ëœë‹¤.\nì†Œë¹„ì ì¸¡ë©´ì—ì„œ ê°€ì¥ ì‰¬ìš´ êµ¬ì„±ì€ ì†Œë¹„ìë¡œ í•˜ì—¬ê¸ˆ ë¦¬ë”ì—ì„œ ë©”ì‹œì§€ë¥¼ ì½ì–´ê°€ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.\nISR ìš”ê±´ì„ ë§Œì¡±í•˜ëŠ” ì‚¬ë³´ë„¹ì„œëŠ” ë©”ì‹œì§€ë¥¼ ê°€ì ¸ê°€ì§€ ì•ŠëŠ” ì´ìœ ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\nì„¤ê³„ ë° ìš´ì˜ì´ ë‹¨ìˆœí•˜ë‹¤. íŠ¹ì • íŒŒí‹°ì…˜ì˜ ë©”ì‹œì§€ëŠ” ê°™ì€ ì†Œë¹„ì ê·¸ë£¹ ì•ˆì—ì„œëŠ” ì˜¤ì§ í•œ ì†Œë¹„ìë§Œ ì½ì–´ê°ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¦¬ë” ì‚¬ë³¸ì— ëŒ€í•œ ì—°ê²°ì€ ë§ì§€ ì•Šë‹¤. ì•„ì£¼ ì¸ê¸° ìˆëŠ” í† í”½ì´ ì•„ë‹ˆë¼ë©´ ë¦¬ë” ì‚¬ë³¸ì— ëŒ€í•œ ì—°ê²°ì˜ ìˆ˜ëŠ” ê·¸ë ‡ê²Œ ë§ì§€ ì•Šë‹¤. ì•„ì£¼ ì¸ê¸° ìˆëŠ” í† í”½ì˜ ê²½ìš°ì—ëŠ” íŒŒí‹°ì…˜ ë° ì†Œë¹„ì ìˆ˜ë¥¼ ëŠ˜ë ¤ ê·œëª¨ë¥¼ í™•ì¥í•˜ë©´ ëœë‹¤. í•˜ì§€ë§Œ ì†Œë¹„ìê°€ ë¦¬ë” ì‚¬ë³¸ì—ì„œ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ë¹„ìš©ì´ í›¨ì”¬ ë” í¬ë‹¤ë©´ ë‹¤ë¥¸ ISR ì‚¬ë³¸ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nISRì€ ì•„ì£¼ ì¤‘ìš”í•œë°, ì–´ë–¤ ì‚¬ë³¸ì´ ISRì¸ì§€ëŠ” ì–´ë–»ê²Œ íŒë³„í•  ìˆ˜ ìˆì„ê¹Œ?\në³´í†µ ê° íŒŒí‹°ì…˜ ë‹´ë‹¹ ë¦¬ë”ëŠ” ìê¸° ì‚¬ë³¸ë“¤ì´ ì–´ëŠ ë©”ì‹œì§€ê°€ì§€ ê°€ì ¸ê°”ëŠ”ì§€ ì¶”ì í•˜ì—¬ ISR ëª©ë¡ì„ ê´€ë¦¬í•œë‹¤.\nê·œëª¨ í™•ì¥ì„± ì£¼ìš” ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ì˜ ê·œëª¨ í™•ì¥ì„±ì„ ì•Œì•„ë³¸ë‹¤.\nìƒì‚°ì\nê·¸ë£¹ ë‹¨ìœ„ì˜ ì¡°ì •ì— ê°€ë‹´í•  í•„ìš”ê°€ ì „í˜€ ì—†ìœ¼ë¯€ë¡œ ì†Œë¹„ìì— ë¹„í•´ ê°œë…ì ìœ¼ë¡œëŠ” í›¨ì”¬ ê°„ë‹¨í•˜ë‹¤.\nìƒˆë¡œìš´ ìƒì‚°ìë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•¨ìœ¼ë¡œì¨ ì‰½ê²Œ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤.\nì†Œë¹„ì\nì†Œë¹„ì ê·¸ë£¹ì€ ì„œë¡œ ë…ë¦½ì ì´ë¯€ë¡œ ìƒˆ ì†Œë¹„ì ê·¸ë£¹ì€ ì‰½ê²Œ ì¶”ê°€í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆë‹¤.\nê°™ì€ ì†Œë¹„ì ê·¸ë£¹ ë‚´ì˜ ì†Œë¹„ìê°€ ìƒˆë¡œ ì¶”ê°€/ì‚­ì œ ë˜ê±°ë‚˜ ì¥ì• ë¡œ ì œê±°ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° ì¬ì¡°ì •(rebalancing) ë§¤ì»¤ë‹ˆì¦˜ì´ ë§¡ì•„ ì²˜ë¦¬í•œë‹¤.\nì†Œë¹„ì ì¸¡ì˜ ê·œëª¨ í™•ì¥ì„±ê³¼ ê²°í•¨ ë‚´ì„±ì„ ë³´ì¥í•˜ëŠ” ê²ƒì€ ë°”ë¡œ ì†Œë¹„ì ê·¸ë£¹ê³¼ ì¬ì¡°ì • ë§¤ì»¤ë‹ˆì¦˜ì´ë‹¤.\në¸Œë¡œì»¤\në¸Œë¡œì»¤ì˜ ê·œëª¨ í™•ì¥ì„±ì„ ì‚´í´ë³´ê¸° ì „ì— ë¸Œë¡œì»¤ì˜ ê²°í•¨ ë‚´ì„±ì— ëŒ€í•´ ë¨¼ì € í™•ì¸í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤.\níŠ¹ì • ë¸Œë¡œì»¤ ë…¸ë“œì— ì¥ì• ê°€ ë°œìƒí•˜ì—¬ í•´ë‹¹ ë…¸ë“œì˜ ëª¨ë“  íŒŒí‹°ì…˜ì´ ì†Œì‹¤ë˜ì—ˆë‹¤ë©´ íŒŒí‹°ì…˜ ê³„íšì´ ë³€ê²½ë˜ê³ , ë¸Œë¡œì»¤ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë¸Œë¡œì»¤ ë…¸ë“œê°€ ì‚¬ë¼ì¡ŒìŒì„ ê°ì§€í•œ í›„ ìƒˆë¡œìš´ íŒŒí‹°ì…˜ ë¶„ì‚° ê³„íšì„ ë§Œë“¤ì–´ë‚´ë©°, ìƒˆë¡œ ì¶”ê°€ëœ ì‚¬ë³¸ì€ ë‹¨ìˆœ ì‚¬ë³¸ìœ¼ë¡œ ë¦¬ë”ì— ë³´ê´€ëœ ë©”ì‹œì§€ë¥¼ ë”°ë¼ì¡ëŠ” ë™ì‘ì„ ê°œì‹œí•˜ê²Œëœë‹¤.\në¸Œë¡œì»¤ì˜ ê²°í•¨ ë‚´ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ì‚¬í•­ì„ ì¶”ê°€ ê³ ë ¤í•´ì•¼í•œë‹¤.\në©”ì‹œì§€ê°€ ì„±ê³µì ìœ¼ë¡œ í•©ì˜ ë˜ì—ˆë‹¤ê³  íŒë‹¨í•˜ë ¤ë©´ ì–¼ë§ˆë‚˜ ë§Œì€ ì‚¬ë³¸ì— ë©”ì‹œì§€ê°€ ë°˜ì˜ë˜ì–´ì•¼í•˜ëŠ”ê°€ ë†’ì„ìˆ˜ë¡ ì•ˆì „í•˜ì§€ë§Œ ì‘ë‹µ ì§€ì—°ì´ ë°œìƒí•œë‹¤. íŒŒí‹°ì…˜ì˜ ëª¨ë“  ì‚¬ë³¸ì´ ê°™ì€ ë¸Œë¡œì»¤ ë…¸ë“œì— ìˆìœ¼ë©´ í•´ë‹¹ ë…¸ë“œì— ì¥ì• ê°€ ë°œìƒí•  ê²½ìš° í•´ë‹¹ íŒŒí‹°ì…˜ì€ ì™„ì „íˆ ì†Œì‹¤ëœë‹¤. ê°™ì€ ë…¸ë“œì— ë°ì´í„°ë¥¼ ë³µì œí•˜ëŠ” ê²ƒì€ ìì› ë‚­ë¹„ì´ë‹¤. íŒŒí‹°ì…˜ì˜ ëª¨ë“  ì‚¬ë³¸ì— ë¬¸ì œê°€ ìƒê¸°ë©´ í•´ë‹¹ íŒŒí‹°ì…˜ì˜ ë°ì´í„°ëŠ” ì˜ì›íˆ ì‚¬ë¼ì§„ë‹¤. ì—¬ëŸ¬ ë°ì´í„° ì„¼í„°ì— ë¶„ì‚°í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤. ë°ì´í„° ë¯¸ëŸ¬ë§ì„ ë„ì…í•˜ì—¬ ë°ì´í„° ì„¼í„° ê°„ ë°ì´í„° ë³µì‚¬ë¥¼ ìš©ì´í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. ë¸Œë¡œì»¤ì˜ ê·œëª¨ í™•ì •ì„±ì˜ ê°€ì¥ ê°„ë‹¨í•œ í•´ë²•ì€ ë¸Œë¡œì»¤ ë…¸ë“œê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë  ë•Œ ì‚¬ë³¸ì„ ì¬ë°°ì¹˜í•˜ëŠ” ê²ƒì´ë‹¤.\në” ë‚˜ì€ ë°©ë²•ì€ ë¸Œë¡œì»¤ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ í•˜ì—¬ê¸ˆ í•œì‹œì ìœ¼ë¡œ ì‹œìŠ¤í…œì— ì„¤ì •ëœ ì‚¬ë³¸ ìˆ˜ë³´ë‹¤ ë§ì€ ì‚¬ë³¸ì„ í—ˆìš©í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.\nìƒˆë¡œ ì¶”ê°€ëœ ë¸Œë¡œì»¤ ë…¸ë“œê°€ ê¸°ì¡´ ë¸Œë¡œì»¤ ìƒíƒœë¥¼ ë”°ë¼ì¡ê³  ë‚˜ë©´ ë” ì´ìƒ í•„ìš”ì—†ëŠ” ë…¸ë“œëŠ” ì œê±°í•œë‹¤.\nì´ëŸ¬í•œ ì ˆì°¨ë¥¼ í†µí•´ ë¸Œë¡œì»¤ë¥¼ ì¶”ê°€í•˜ëŠ” ë„ì¤‘ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë°ì´í„° ì†ì‹¤ì„ í”¼í•  ìˆ˜ ìˆë‹¤. (ì œê±°í•  ë•Œë„ ë¹„ìŠ·í•œ ë°©ë²•ì„ ì ìš©í•˜ë©´ ì•ˆì „í•˜ê²Œ ì œê±°í•  ìˆ˜ ìˆë‹¤.)\níŒŒí‹°ì…˜ ìš´ì˜ìƒì˜ ì´ìœ ë¡œ íŒŒí‹°ì…˜ì˜ ìˆ˜ë¥¼ ì¡°ì •í•´ì•¼ í•˜ëŠ” ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤.\ní† í”½ì˜ ê·œëª¨ë¥¼ ëŠ˜ë¦°ë‹¤. ëŒ€ì—­í­ì„ ì¡°ì •í•œë‹¤. ê°€ìš©ì„±ê³¼ ëŒ€ì—­í­ ì‚¬ì´ì˜ ê· í˜•ì„ ë§ì¶˜ë‹¤. ë“± ìƒì‚°ìëŠ” ë¸Œë¡œì»¤ì™€ í†µì‹ í•  ë•Œ ê·¸ ì‚¬ì‹¤ì„ í†µì§€ ë°›ìœ¼ë©°, ì†Œë¹„ìëŠ” ì¬ì¡°ì •ì„ ì‹œí–‰í•œë‹¤.\në”°ë¼ì„œ íŒŒí‹°ì…˜ ìˆ˜ì˜ ì¡°ì •ì€ ìƒì‚°ìì™€ ì†Œë¹„ìì˜ ì•ˆì „ì„±ì—ëŠ” ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•ŠëŠ”ë‹¤.\nê·¸ëŸ¬ë‹ˆ íŒŒí‹°ì…˜ì˜ ìˆ˜ê°€ ë‹¬ë¼ì§€ë©´ ë°ì´í„° ì €ì¥ ê³„ì¸µì—ëŠ” ë³€í™”ë¥¼ ì‚´í´ë³¸ë‹¤.\níŒŒí‹°ì…˜ ì¶”ê°€\nì§€ì†ì ìœ¼ë¡œ ë³´ê´€ëœ ë©”ì‹œì§€ëŠ” ì—¬ì „íˆ ê¸°ì¡´ íŒŒí‹°ì…˜ì— ì¡´ì¬í•˜ë©° í•´ë‹¹ ë°ì´í„°ëŠ” ì´ë™í•˜ì§€ ì•ŠëŠ”ë‹¤. ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì´ ì¶”ê°€ë˜ë©´ ê·¸ ì´í›„ ì˜¤ëŠ” ë©”ì‹œì§€ëŠ” 3ê°œ íŒŒí‹°ì…˜ ì „ë¶€ì— ì§€ì†ì ìœ¼ë¡œ ë³´ê´€ë˜ì–´ì•¼ í•œë‹¤. ë”°ë¼ì„œ íŒŒí‹°ì…˜ì„ ëŠ˜ë¦¬ë©´ ê°„ë‹¨íˆ í† í”½ì˜ ê·œëª¨ë¥¼ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤.\níŒŒí‹°ì…˜ ì‚­ì œ\níŒŒí‹°ì…˜ ì‚­ì œ ì ˆì°¨ëŠ” ì¢€ ë” ê¹Œë‹¤ë¡­ë‹¤.\níŒŒí‹°ì…˜ì„ í‡´ì—­ ì‹œí‚¨ë‹¤ëŠ” ê²°ì •ì´ ë‚´ë ¤ì§€ë©´ ìƒˆë¡œìš´ ë©”ì‹œì§€ëŠ” ë‹¤ë¥¸ íŒŒí‹°ì…˜ì—ë§Œ ë³´ê´€ëœë‹¤. í‡´ì—­ëœ íŒŒí‹°ì…˜ì€ ë°”ë¡œ ì œê±°í•˜ì§€ ì•Šê³  ì¼ì • ì‹œê°„ ë™ì•ˆ ìœ ì§€í•œë‹¤. í•´ë‹¹ íŒŒí‹°ì…˜ì˜ ë°ì´í„°ë¥¼ ì½ê³  ìˆëŠ” ì†Œë¹„ìê°€ ìˆì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ ìœ ì§€ ê¸°ê°„ì´ ì§€ë‚˜ê³  ë‚˜ë©´ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ì €ì¥ ê³µê°„ì„ ë°˜í™˜í•œë‹¤. íŒŒí‹°ì…˜ì„ ì¤„ìš”ë„ ì €ì¥ ìš©ëŸ‰ì€ ë°”ë¡œ ëŠ˜ì§€ ì•ŠëŠ”ë‹¤. íŒŒí‹°ì…˜ í‡´ì—­ í›„ ì‹¤ì œë¡œ ì œê±°ê°€ ì´ë£¨ì–´ì§€ëŠ” ì‹œì ê¹Œì§€ ìƒì‚°ìëŠ” ë©”ì‹œì§€ë¥¼ ë‚¨ì€ ë‘ íŒŒí‹°ì…˜ìœ¼ë¡œë§Œ ë³´ë‚´ì§€ë§Œ ì†Œë¹„ìëŠ” ì„¸ íŒŒí‹°ì…˜ ëª¨ë‘ì—ì„œ ë©”ì‹œì§€ë¥¼ ì½ëŠ”ë‹¤. ì‹¤ì œë¡œ íŒŒí‹°ì…˜ì´ ì œê±°ë˜ëŠ” ì‹œì ì´ ì˜¤ë©´ ìƒì‚°ì ê·¸ë£¹ì€ ì¬ì¡°ì • ì‘ì—…ì„ ê°œì‹œí•´ì•¼í•œë‹¤. ë©”ì‹œì§€ ì „ë‹¬ ë°©ì‹ ë¶„ì‚° ë©”ì‹œì§€ íê°€ ì§€ì›í•´ì•¼ í•˜ëŠ” ë‹¤ì–‘í•œ ë©”ì‹œì§€ ì „ë‹¬ ë°©ì‹ì„ ì‚´í´ë³¸ë‹¤.\nìµœëŒ€ í•œ ë²ˆ\në©”ì‹œì§€ë¥¼ ìµœëŒ€ í•œ ë²ˆ(at-most once) ë§Œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë©”ì‹œì§€ê°€ ì „ë‹¬ ê³¼ì •ì—ì„œ ì†Œì‹¤ë˜ë”ë¼ë„ ë‹¤ì‹œ ì „ë‹¬ë˜ëŠ” ì¼ì€ ì—†ë‹¤.\nìƒì‚°ìëŠ” í† í”½ì— ë¹„ë™ê¸°ì ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ìˆ˜ì‹  ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ”ë‹¤.(ACK=0) ì¬ì‹œë„ X ì†Œë¹„ìëŠ” ë©”ì‹œì§€ë¥¼ ì½ê³  ì²˜ë¦¬í•˜ê¸° ì „ì— ì˜¤í”„ì…‹ë¶€í„° ê°±ì‹ í•œë‹¤. ì˜¤í”„ì…‹ì´ ê°±ì‹ ëœ ì§í›„ì— ì†Œë¹„ìê°€ ì¥ì• ë¡œ ì£½ìœ¼ë©´ ë©”ì‹œì§€ëŠ” ë‹¤ì‹œ ì†Œë¹„ë  ìˆ˜ ì—†ë‹¤. ìµœì†Œ í•œ ë²ˆ\nê°™ì€ ë©”ì‹œì§€ê°€ í•œ ë²ˆ ì´ìƒ ì „ë‹¬ë  ìˆ˜ëŠ” ìˆìœ¼ë‚˜ ë©”ì‹œì§€ ì†Œì‹¤ì€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ì „ë‹¬ ë°©ì‹ì´ë‹¤.\nìƒì‚°ìëŠ” ë©”ì‹œì§€ë¥¼ ë™ê¸°ì /ë¹„ë™ê¸°ì ìœ¼ë¡œ ë³´ë‚¼ ìˆ˜ ìˆìœ¼ë©°, ACK=1 ë˜ëŠ” ACK=allì˜ êµ¬ì„±ì„ ì´ìš©í•œë‹¤. ë©”ì‹œì§€ê°€ ë¸Œë¡œì»¤ì—ê²Œ ì „ë‹¬ë˜ì—ˆìŒì„ ë°˜ë“œì‹œ í™•ì¸í•œë‹¤. ë©”ì‹œì§€ ì „ë‹¬ì´ ì‹¤íŒ¨í•˜ê±°ë‚˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•œ ê²½ìš° ê³„ì† ì¬ì‹œë„í•œë‹¤. ì†Œë¹„ìëŠ” ë°ì´í„°ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬í•œ ë’¤ì—ë§Œ ì˜¤í”„ì…‹ì„ ê°±ì‹ í•œë‹¤. ë©”ì‹œì§€ ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•œ ê²½ìš°ì—ëŠ” ë©”ì‹œì§€ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¤ë¯€ë¡œ ë°ì´í„°ê°€ ì†ì‹¤ë˜ëŠ” ì¼ì€ ì—†ë‹¤. ë©”ì‹œì§€ëŠ” ë¸Œë¡œì»¤ë‚˜ ì†Œë¹„ìì—ê²Œ í•œ ë²ˆ ì´ìƒ ì „ë‹¬ë  ìˆ˜ ìˆë‹¤. ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•œ ì†Œë¹„ìê°€ ë¯¸ì²˜ ì˜¤í”„ì…‹ì„ ê°±ì‹ í•˜ì§€ ëª»í•˜ê³  ì£½ì—ˆë‹¤ê°€ ë‹¤ì‹œ ì‹œì‘í•˜ë©´ ë©”ì‹œì§€ëŠ” ì¤‘ë³µ ì²˜ë¦¬ëœë‹¤. ì •í™•íˆ í•œ ë²ˆ\nêµ¬í˜„í•˜ê¸° ê°€ì¥ ê¹Œë‹¤ë¡œìš´ ì „ì†¡ ë°©ì‹ìœ¼ë¡œ, ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” í¸ë¦¬í•˜ì§€ë§Œ, ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ ë° êµ¬í˜„ ë³µì¡ë„ ì¸¡ë©´ì—ì„œëŠ” í° ëŒ€ê°€ë¥¼ ì§€ë¶ˆí•´ì•¼í•œë‹¤.\nì§€ë¶ˆ, ë§¤ë§¤, íšŒê³„ ë“± ê¸ˆìœµ ê´€ë ¨ ì‘ìš©ì—ëŠ” ì´ ì „ì†¡ ë°©ì‹ì´ ì í•©í•˜ë‹¤. ì¤‘ë³µì„ í—ˆìš©í•˜ì§€ ì•Šìœ¼ë©°, êµ¬í˜„ì— ì´ìš©í•  ì„œë¹„ìŠ¤ë‚˜ ì œ3ì ì œí’ˆì´ ê°™ì€ ì…ë ¥ì— í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ë‚´ ë†“ë„ë¡ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•Šì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹íˆ ì¤‘ìš”í•œ ë°©ì‹ì´ë‹¤.\nê³ ê¸‰ ê¸°ëŠ¥ ë©”ì‹œì§€ í•„í„°ë§, ì§€ì—° ì „ì†¡, ì˜ˆì•½ ì „ì†¡ ë“±ì˜ ê³ ê¸‰ ê¸°ëŠ¥ì„ ì‚´í´ë³¸ë‹¤.\në©”ì‹œì§€ í•„í„°ë§\ní† í”½ì€ ê°™ì€ ìœ í˜•ì˜ ë©”ì‹œì§€ë¥¼ ë‹´ì•„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë„ì…ëœ ë…¼ë¦¬ì  ê°œë…(abstraction)ì´ë‹¤.\nì–´ë–¤ ì†Œë¹„ì ê·¸ë£¹ì€ ê·¸ ê°€ìš´ë°ì„œë„ íŠ¹ì •í•œ ì„¸ë¶€/í•˜ìœ„ ìœ í˜•ì˜ ë©”ì‹œì§€ì—ë§Œ ê´€ì‹¬ì´ ìˆëŠ”ë°, íŠ¹ì • í† í”½ì„ ë§Œë“¤ì–´ ë¶„ë¦¬í•˜ëŠ” ê²ƒì€ ì•„ë˜ì™€ ê°™ì€ ìš°ë ¤ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.\në¹„ìŠ·í•œ ìš”êµ¬ì‚¬í•­ë§ˆë‹¤ ì „ìš© í† í”½ì„ ë§Œë“¤ ê²ƒ ì¸ê°€? ê°™ì€ ë©”ì‹œì§€ë¥¼ ì—¬ëŸ¬ í† í”½ì— ì €ì¥í•˜ëŠ” ê²ƒì€ ìì› ë‚­ë¹„ì´ë‹¤. ìƒˆë¡œìš´ ì†Œë¹„ì°¨ ì¸¡ ìš”êµ¬ì‚¬í•­ì´ ë“±ì¥í•  ë•Œë§ˆë‹¤ ìƒì‚°ì êµ¬í˜„ì„ ë°”ê¿”ì•¼í•  ìˆ˜ ìˆë‹¤. ìƒì‚°ìì™€ ì†Œë¹„ìì˜ ê²°í•©ì´ ë†’ì•„ì¡Œìœ¼ë¯€ë¡œ ë©”ì‹œì§€ í•„í„°ë§ì„ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ë¬¸ì œë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤.\nê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ ì†Œë¹„ìê°€ ì¼ë‹¨ ëª¨ë“  ë©”ì‹œì§€ë¥¼ ë°›ì€ ë‹¤ìŒ í•„ìš”ì—†ëŠ” ë©”ì‹œì§€ë¥¼ ë²„ë¦¬ëŠ” ë°©ë²•ì¸ë°, ìœ ì—°ì„±ì´ ë†’ì§€ë§Œ ë¶ˆí•„ìš”í•œ íŠ¸ë˜í”½ì´ ë°œìƒí•˜ì—¬ ì‹œìŠ¤í…œ ì„±ëŠ¥ì´ ì €í•˜ë˜ëŠ” ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆë‹¤.\në” ë‚˜ì€ ë°©ë²•ì€ ë¸Œë¡œì»¤ì—ì„œ ë©”ì‹œì§€ë¥¼ í•„í„°ë§í•˜ì—¬ ì†Œë¹„ìëŠ” ì›í•˜ëŠ” ë©”ì‹œì§€ë§Œ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ë©°, ì´ë¥¼ ìœ„í•´ ì„¸ì‹¬í•˜ê²Œ ì‚´í´ì•¼í•  ê²ƒë“¤ì´ ë§ë‹¤.\në³µí˜¸í™”ì™€ ì—­ì§ë ¬í™”ê°€ í•„ìš”í•˜ë‹¤ë©´ ë¸Œë¡œì»¤ ì„±ëŠ¥ì€ ì €í•˜ë˜ë¯€ë¡œ, ë¸Œë¡œì»¤ì— êµ¬í˜„í•  í•„í„°ë§ ë¡œì§ì€ ë©”ì‹œì§€ì˜ ë‚´ìš©ì„ ì¶”ì¶œí•´ì„œëŠ” ì•ˆëœë‹¤. í•„í„°ë§ì— ì‚¬ìš©ë  ë°ì´í„°ëŠ” ë©”ì‹œì§€ì˜ ë©”íƒ€ë°ì´í„° ì˜ì—­ì— ë‘ì–´ ë¸Œë¡œì»¤ë¡œ í•˜ì—¬ê¸ˆ íš¨ìœ¨ì ìœ¼ë¡œ ì½ì–´ê°ˆ ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤. ë©”ì‹œì§€ë§ˆë‹¤ íƒœê·¸ë¥¼ ë‘ë©´ ì†Œë¹„ìëŠ” ì–´ë–¤ íƒœê·¸ë¥¼ ê°€ì§„ ë©”ì‹œì§€ë¥¼ êµ¬ë…í• ì§€ ì§€ì •í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\në©”ì‹œì§€ì˜ ì§€ì—° ì „ì†¡ ë° ì˜ˆì•½ ì „ì†¡\nì†Œë¹„ìì—ê²Œ ë³´ë‚¼ ë©”ì‹œì§€ë¥¼ ì¼ì • ì‹œê°„ë§Œí¼ ì§€ì—°ì‹œì¼œì•¼ í•˜ëŠ” ì¼ì´ ìˆì„ ìˆ˜ ìˆë‹¤.\në°œì†¡ ì¦‰ì‹œ ì „ë‹¬ë˜ëŠ” ë©”ì‹œì§€ì™€ëŠ” ë‹¬ë¦¬, ì´ëŸ° ë©”ì‹œì§€ëŠ” í† í”½ì— ë°”ë¡œ ì €ì¥í•˜ì§€ ã…‡ë‚³ê³  ë¸Œë¡œì»¤ ë‚´ë¶€ì˜ ì„ì‹œ ì €ì¥ì†Œì— ë„£ì–´ ë‘ì—ˆë‹¤ê°€ ì‹œê°„ì´ ë˜ë©´ í† í”½ìœ¼ë¡œ ì˜®ê¸´ë‹¤.\nì´ ì‹œìŠ¤í…œì˜ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ëŠ” ì„ì‹œ ì €ì¥ì†Œ ë° íƒ€ì´ë° ê¸°ëŠ¥ì´ë‹¤.\ní•˜ë‚˜ ì´ìƒì˜ íŠ¹ë³„ ë©”ì‹œì§€ í† í”½ì„ ì„ì‹œ ì €ì¥ì†Œë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤. íƒ€ì´ë° ê¸°ëŠ¥ì€ ë‘ ë²”ì£¼ì˜ ê¸°ìˆ ì´ ë„ë¦¬ í™œìš©ë˜ê³  ìˆë‹¤ ë©”ì‹œì§€ ì§€ì—° ì „ì†¡ ì „ìš© ë©”ì‹œì§€ íë¥¼ ì‚¬ìš© íŠ¹ì • ë©”ì‹œì§€ íëŠ” ì„ì˜ ì‹œê°„ ë™ì•ˆ ë©”ì‹œì§€ ì „ì†¡ì„ ì§€ì—°í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆë‹¤. ê³„ì¸µì  íƒ€ì´ë° íœ  ë©”ì‹œì§€ ì˜ˆì•½ ì „ì†¡ì€ ì§€ì •ëœ ì‹œê°„ì— ì†Œë¹„ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ, ë©”ì‹œì§€ ì§€ì—° ì „ì†¡ ì‹œìŠ¤í…œê³¼ ìœ ì‚¬í•˜ë‹¤.\n4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì´ë²ˆ ì¥ì—ì„œëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ì—ì„œ í”íˆ ë°œê²¬ë˜ëŠ” ê³ ê¸‰ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ë¶„ì‚° ë©”ì‹œì§€ í ì‹œìŠ¤í…œ ì„¤ê³„ì•ˆì„ ì‚´í´ë³´ì•˜ë‹¤.\nì‹¤ì œ ë©´ì ‘ ì‹œ ì‹œê°„ì´ ì¡°ê¸ˆ ë‚¨ëŠ”ë‹¤ë©´ ë©´ì ‘ê´€ê³¼ ë‹¤ìŒ ì‚¬í•­ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ì´ë‹¤.\ní”„ë¡œí† ì½œ\në…¸ë“œ ì‚¬ì´ì— ì˜¤ê³  ê°€ëŠ” ë°ì´í„°ì— ëŒ€í•œ ê·œì¹™, ë¬¸ë²•, APIë¡œ ë¶„ì‚° ë©”ì‹œì§€ í ì‹œìŠ¤í…œì˜ ê²½ìš° í”„ë¡œí† ì½œì€ ë‹¤ìŒ ì‚¬í•­ì„ ê¸°ìˆ í•´ì•¼í•œë‹¤. ë©”ì‹œì§€ ìƒì‚°ê³¼ ì†Œë¹„, ë°•ë™ ë©”ì‹œì§€ êµí™˜ ë“œìœ¼ì´ ëª¨ë“  í™œë™ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì „ì†¡í•  ë°©ë²• ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ ê²€ì¦í•  ë°©ë²• AMQP, ì¹´í”„ì¹´ í”„ë¡œí† ì½œ ë“±ì´ ìˆë‹¤. ë©”ì‹œì§€ ì†Œë¹„ ì¬ì‹œë„\nì¬ëŒ€ë¡œ ë°›ì•„ ì²˜ë¦¬í•˜ì§€ ëª»í•œ ë©”ì‹œì§€ëŠ” ì¼ì • ì‹œê°„ ë’¤ì— ë‹¤ì‹œ ì²˜ë¦¬ë¥¼ ì‹œë„í•´ì•¼í•œë‹¤. ì‹¤íŒ¨í•œ ë©”ì‹œì§€ëŠ” ì¬ì‹œë„ ì „ìš© í† í”½ì— ë³´ë‚¸ ë‹¤ìŒ ë‚˜ì¤‘ì— ë‹¤ì‹œ ì†Œë¹„ ë“± ì´ë ¥ ë°ì´í„° ì•„ì¹´ì´ë¸Œ ì‹œê°„ ê¸°ë°˜ í˜¹ì€ ìš©ëŸ‰ ê¸°ë°˜ ë¡œê·¸ ë³´ê´€ ë©”ì»¤ë‹ˆì¦˜ì´ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ ì´ë¯¸ ì‚­ì œëœ ë©”ì‹œì§€ë¥¼ ë‹¤ì‹œ ì²˜ë¦¬í•˜ê¸¸ ì›í•˜ëŠ” ì‚¬ìš©ìê°€ ìˆë‹¤ë©´, HDFSê°™ì€ ëŒ€ìš©ëŸ‰ ì €ì¥ì†Œ ì‹œìŠ¤í…œì´ë‚˜ ê°ì²´ ì €ì¥ì†Œì— ë³´ê´€í•´ë‘˜ ìˆ˜ ìˆë‹¤. ","date":"2024-09-07T15:12:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/4/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/4/","title":"4. ë¶„ì‚° ë©”ì‹œì§€ í"},{"content":"ë©¤ë²„ì‹­ ê³¼ì • ë‘ ë²ˆì§¸ ì£¼ê°€ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ¥³\nì´ë²ˆì£¼ëŠ” ì˜ˆìƒëŒ€ë¡œ 1ì£¼ì°¨ì— ë§Œë“  ê²°ê³¼ë¬¼ì— ìƒˆë¡œìš´ ê¸°ìˆ ë“¤ì„ ì´ìš©í•˜ì—¬ ê°œì„ í•˜ëŠ” ë¯¸ì…˜ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\ní”„ë¡ íŠ¸ì—”ë“œëŠ” DOM API, Event, Fetch APIë¥¼ í™œìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì˜ì—­ì—ì„œì˜ ë™ì ì¸ UIë¡œ ê°œì„ í•˜ëŠ” ë‚´ìš©ì´ ì£¼ì–´ì¡Œê³ , ë°±ì—”ë“œëŠ” ê°€ìƒí™˜ê²½ì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ì¹˜í•˜ê³ , ì„œë²„ì—ì„œ ì—°ë™í•˜ëŠ” ë¯¸ì…˜ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\nì‚¬ì‹¤ í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ì€ ì²˜ìŒë¶€í„° CSRë¡œ ì•„ì˜ˆ ë¶„ë¦¬í•´ì„œ ì§„í–‰í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— í° ë³€ê²½ì€ ì—†ì—ˆì–´ìš”, ê·¸ë˜ì„œ ë¦¬í™í† ë§ì„ ìœ„ì£¼ë¡œ ì§„í–‰í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në°±ì—”ë“œë„ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì˜ ë¶„ë¦¬í–ˆì—ˆê¸° ë•Œë¬¸ì— í° ì´ìŠˆ ì—†ì´ ì§„í–‰ë˜ì—ˆì–´ìš”\nê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ìƒˆë¡­ê²Œ ë°°ìš´ ë‚´ìš©ë“¤ì€ ì œë²• ìˆì—ˆëŠ”ë°, ê·¸ ë‚´ìš©ë“¤ì„ ì–¸ê¸‰í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”ğŸ˜\ní”„ë¡ íŠ¸ì—”ë“œ í”„ë¡ íŠ¸ì—”ë“œ ì˜ì—­ì€ ì´ë¯¸ ì–¸ê¸‰í–ˆë˜ ê²ƒ ì²˜ëŸ¼ í° ë³€ê²½ì‚¬í•­ì€ ì—†ì—ˆìŠµë‹ˆë‹¤. HTML, CSS êµ¬ì¡°ë¥¼ ì¡°ê¸ˆ ê°œì„ í•˜ê³ , TS ì½”ë“œë“¤ì„ ì¡°ê¸ˆ ê°œì„ í•˜ì˜€ì–´ìš”\nê·¸ ì¤‘ ê°€ì¥ í° ê°œì„ ì„ ê¼½ìœ¼ë¼ë©´ ì´ë²¤íŠ¸ ìœ„ì„(Event Delegation)ì„ í†µí•´ TS ì½”ë“œë¥¼ ê°œì„ í–ˆë˜ ê²ƒì„ ê¼½ì„ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì´ë²¤íŠ¸ ìœ„ì„ ì €ëŠ” í˜„ì—…ì—ì„œ Vue3ë¡œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ê°œë°œí–ˆì—ˆëŠ”ë°ìš”, ê·¸ë ‡ê¸° ë•Œë¬¸ì— v-onì„ ì´ìš©í•˜ì—¬ DOM ìš”ì†Œì— ì´ë²¤íŠ¸ë¥¼ ì§ì ‘ ë°”ì¸ë”© í•˜ëŠ” ë°©ì‹ì— ì ì‘ë˜ì–´ìˆì—ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  í˜¼ì ì‚¬ìš©í•´ë´¤ë˜ Reactì—ì„œë„ onClick ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì§ì ‘ ë°”ì¸ë”©í•´ì¤¬ì—ˆì–´ìš”.\nê·¸ë˜ì„œ ì´ë²ˆ Vanilla TypeScriptë¡œ ê°œë°œì„ ì§„í–‰í•˜ë©´ì„œë„ ë³„ ìƒê°ì—†ì´ \u0026lt;li\u0026gt; ì²˜ëŸ¼ ë°˜ë³µì ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ìš”ì†Œì˜ ì´ë²¤íŠ¸ ë“±ë¡ì„ ê°ê° ë°”ì¸ë”© í•´ì£¼ëŠ” ë°©ì‹ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ì²˜ëŸ¼ìš”!\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 const renderItemListElement = (items: Item[]): HTMLUListElement =\u0026gt; { const $ul = document.querySelector(\u0026#39;ul.item-list\u0026#39;); const $items = items.map(item =\u0026gt; makeItemElement(item)); $ul.replaceChildren(...items); return $ul; } /* ... */ const makeItemElement = (item: Item): HTMLLIElement =\u0026gt; { const $li = document.createElement(\u0026#39;li\u0026#39;); $li.classList.add(\u0026#39;item\u0026#39;) /* ... */ const $button = document.createElement(\u0026#39;button\u0026#39;); $button.classList.add(\u0026#39;item-btn\u0026#39;); $button.addEventListener(\u0026#39;click\u0026#39;, handleClickItemButton); return li; } const handleClickItemButton = (event: Event) =\u0026gt; { /* ... */ } ê·¸ëŸ°ë° ë¬¸ì œëŠ” Vueì—ì„œëŠ” ë™ì ìœ¼ë¡œ ìƒì„±ëœ DOM ì´ë¼ê³  í•˜ë”ë¼ë„ ì–¸ë§ˆìš´íŠ¸ë  ë•Œ ìë™ìœ¼ë¡œ ë°”ì¸ë”© ëœ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë“¤ì´ ì •ë¦¬ë˜ì–´ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ê³ , Reactê°™ì€ ê²½ìš°ëŠ” Synthetic Event Systemì„ í†µí•´ ìµœìƒìœ„ ë£¨íŠ¸ ë…¸ë“œì—ì„œ ëª¨ë“  ì´ë²¤íŠ¸ë“¤ì„ ìœ„ì„ë°›ì•„ ê° ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì„±ëŠ¥ìƒì˜ ì´ì ì„ ì œê³µí•œë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nìœ„ ì˜ˆì‹œì²˜ëŸ¼ ì´ë²¤íŠ¸ ìœ„ì„ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš° ëª‡ ê°€ì§€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì„±ëŠ¥ ë¬¸ì œ\në™ì ìœ¼ë¡œ ìƒì„±ëœ ì—¬ëŸ¬ ê°œì˜ ìš”ì†Œì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ê°œë³„ì ìœ¼ë¡œ ì¶”ê°€í•˜ë©´, DOMì— ë§ì€ ìˆ˜ì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë°”ì¸ë”©ë©ë‹ˆë‹¤.\nì´ë¡œ ì¸í•´ ë§¤ìš° ë§ì€ ìš”ì†Œê°€ ìˆì„ ê²½ìš° ê°ê°ì˜ ë¦¬ìŠ¤ë„ˆê°€ ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ë©´ì„œ ë Œë”ë§ ì†ë„ê°€ ëŠë ¤ì§€ê±°ë‚˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ê¸‰ê²©íˆ ì¦ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në˜í•œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ëª¨ë“  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë…ë¦½ì ìœ¼ë¡œë™ì‘í•˜ë¯€ë¡œ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nìœ ì§€ë³´ìˆ˜ì„± ë¬¸ì œ\në™ì¼í•œ ìœ í˜•ì˜ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ìš”ì†Œì— ìœ ì‚¬í•œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì¤‘ë³µìœ¼ë¡œ ì‘ì„±ë˜ì–´ ìˆ˜ì •ì´ í•„ìš”í•  ë•Œ ì‹¤ìˆ˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në˜í•œ ì½”ë“œì˜ ë³µì¡ì„±ì„ ë†’íˆê²Œ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë™ì ìœ¼ë¡œ ìš”ì†Œê°€ ì¶”ê°€, ì‚­ì œë˜ëŠ” ê²½ìš°, ê°ê°ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì ì ˆí•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›Œ ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ì €ëŠ” ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì½”ë“œë“¤ì„ ê°œì„ í•˜ì˜€ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 const renderItemListElement = ($ul: HTMLUListElement, items: Item[]) =\u0026gt; { const $items = items.map(item =\u0026gt; makeItemElement(item)); $ul.replaceChildren(...$items); // ...items ëŒ€ì‹  ...$items return $ul; } const bindItemListElement = ($ul: HTMLUListElement) =\u0026gt; { $ul.addEventListener(\u0026#39;click\u0026#39;, (event: Event) =\u0026gt; { const target = event.target as HTMLElement; if (target \u0026amp;\u0026amp; target.classList.contains(\u0026#39;item-btn\u0026#39;)) { handleClickItemButton(event); } }); } /* ... */ const makeItemElement = (item: Item): HTMLLIElement =\u0026gt; { const $li = document.createElement(\u0026#39;li\u0026#39;); $li.classList.add(\u0026#39;item\u0026#39;); /* ... */ const $button = document.createElement(\u0026#39;button\u0026#39;); $button.classList.add(\u0026#39;item-btn\u0026#39;); $li.appendChild($button); return $li; } const handleClickItemButton = (event: Event) =\u0026gt; { /* ... */ } ë°±ì—”ë“œ ë°±ì—”ë“œ ë¯¸ì…˜ì—ì„œëŠ” ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë˜ëŒ€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—°ë™í•´ì•¼í•˜ëŠ” ë¯¸ì…˜ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\nì²˜ìŒ ê°€ìƒ í™˜ê²½ìœ¼ë¡œ ë¦¬ëˆ…ìŠ¤ ì„œë²„ë¥¼ êµ¬ì„±í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ë§Œë“¤ì—ˆì–´ì•¼ í–ˆëŠ”ë°, ë§ˆìŠ¤í„°ì´ì‹  í˜¸ëˆ…ìŠ¤ë‹˜ì´ AWS EC2ë¡œ í•´ë³´ëŠ” ê²ƒë„ í—ˆìš©í•˜ì…”ì„œ EC2ë¥¼ ë„ì›Œ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ êµ¬ì„±í•˜ì˜€ì–´ìš”\nì´ë²ˆ ë¯¸ì…˜ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ê´€ë ¨í•˜ì—¬ ìƒˆë¡­ê²Œ ì•Œê²Œëœ ì ì„ ê³µìœ í•´ë³´ë ¤ê³ í•©ë‹ˆë‹¤.\nì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ ì„¤ì • ë¬¸ì œ ì €ëŠ” ì§€ê¸ˆê¹Œì§€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ê³„í•  ë•ŒëŠ” ì™¸ë˜í‚¤ ì œì•½ ì¡°ê±´ì„ í‘œì‹œí•˜ì§€ë§Œ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ì™¸ë˜í‚¤ë¥¼ ì„¤ì •í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¼ë°˜ì ì¸ ê²ƒìœ¼ë¡œ ì•Œê³  ìˆì—ˆìŠµë‹ˆë‹¤.\nì‚¬ì‹¤ í‹€ë¦° ë§ì€ ì•„ë‹Œ ê²ƒ ê°™ì•„ìš”. ì´ì „ ì§ì¥ì—ì„œ ì œê°€ í™œìš©í–ˆë˜ ëŒ€ë¶€ë¶„ì˜ í…Œì´ë¸”ì—ëŠ” ì™¸ë˜í‚¤ ì œì•½ ì¡°ê±´ì´ ì„¤ì •ë˜ì–´ìˆì§€ ì•Šì•˜ê³ , ëª‡ëª‡ ê°•ì˜ì—ì„œë„ ê´€ë ¨ ë‚´ìš©ë“¤ì„ ì–¸ê¸‰í•©ë‹ˆë‹¤.\nì´ì „ ì§ì¥ì—ì„œ ê½¤ í° ê°œí¸ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©° ê¸°ì¡´ í…Œì´ë¸”ì„ ë§ˆì´ê·¸ë ˆì´ì…˜ í–ˆì—ˆëŠ”ë°, ì´ë•Œ DBA ì—ê²Œ ë¬¼ì–´ë´¤ì„ ë•ŒëŠ” ì„±ëŠ¥ ë¬¸ì œì™€ ì‘ì—… í¸ì˜ì„± ë“±ì„ ì´ìœ ë¡œ ë§ì”€í•´ì£¼ì…¨ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ì œê°€ í•™ìŠµí–ˆë˜ ì±…ì¸ Real MySQL 8.0ì—ì„œë„ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì„¤ëª…í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì™¸ë˜ í‚¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ìš´ì˜ì˜ ë¶ˆí¸í•¨ ë•Œë¬¸ì— ì„œë¹„ìŠ¤ìš© ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ìƒì„±í•˜ì§€ ì•ŠëŠ” ê²½ìš°ë„ ìì£¼ ìˆë‹¤. ë¼ëŠ” ë‚´ìš©ì„ ì–¸ê¸‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nê·¸ëŸ°ë° ì´ë²ˆ ë§ˆìŠ¤í„° ì„¸ì…˜ì—ì„œ ê´€ë ¨ ì´ì•¼ê¸°ê°€ ë‚˜ì™”ê³ , ì¡°ê¸ˆ ë‹¤ë¥¸ ì˜ê²¬ì„ ë“¤ì„ ìˆ˜ ìˆì—ˆì–´ìš”\nì¼ë‹¨ ì™¸ë˜í‚¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤ê³  ì£¼ì¥í•˜ëŠ” ì´ìœ ë¥¼ ì¡°ê¸ˆ ë” ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nì„±ëŠ¥ ë¬¸ì œ\nì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ì€ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë°ì´í„° ë¬´ê²°ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì°¸ì¡° ë¬´ê²°ì„±ì„ í™•ì¸í•´ì•¼í•˜ë¯€ë¡œ, ë°ì´í„° ì‚½ì…, ìˆ˜ì •, ì‚­ì œ ì‹œ ì¶”ê°€ì ì¸ ì—°ì‚°(ì ê¸ˆ)ì´ ë°œìƒí•˜ê³ , ì´ëŸ¬í•œ ì²˜ë¦¬ê°€ ì„±ëŠ¥ì˜ ì €í•˜ë¥¼(ë°ë“œë½ ë“±) ë°œìƒì‹œí‚¨ë‹¤.\në°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜\në°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì‘ì—… ì¤‘ ì™¸ë˜í‚¤ ì œì•½ ì¡°ê±´ì´ ìˆëŠ” ê²½ìš°, ë°ì´í„° ì‚½ì… ìˆœì„œì— ë”°ë¼ ì œì•½ì¡°ê±´ ìœ„ë°˜ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í”¼í•˜ê¸° ìœ„í•´ ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ì„ ì‚¬ìš©í•˜ì§€ ì•Šê±°ë‚˜, ì¼ì‹œì ìœ¼ë¡œ ë¹„í™œì„±í™”í•œ í›„ ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼í•œë‹¤.\nëŒ€í‘œì ìœ¼ë¡œ ì–¸ê¸‰ëœ ë‘ ê°€ì§€ ë¬¸ì œë¡œ ì¸í•´ ì–´í”Œë¦¬ì¼€ì´ì…˜ë‹¨ì—ì„œì˜ ì²˜ë¦¬ë¥¼ í†µí•´ ì™¸ë˜í‚¤ ì œì•½ ì¡°ê±´ ë¬¸ì œë¥¼ í•´ì†Œí•˜ë ¤ê³  í•˜ëŠ” ì‹œë„ê°€ ë§ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në‘ ê°€ì§€ ì´ìœ  ëª¨ë‘ íƒ€ë‹¹í•˜ì§€ë§Œ ì™¸ë˜í‚¤ ì œì•½ ì¡°ê±´ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì„±ëŠ¥ ì €í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì˜ë¯¸ìˆëŠ” ìˆ˜ì¤€ì€ ì•„ë‹ˆë¼ê³  í•´ìš”\në‹¤ë§Œ ë°ì´í„°ê°€ ê½¤ ë§ì´ ì ì¬ë˜ì–´ìˆëŠ” ìƒíƒœì—ì„œ ë³µì¡í•œ ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ì´ ì„¤ì •ë˜ì–´ìˆëŠ” ì»¬ëŸ¼ì„ ìˆ˜ì •í•˜ëŠ” ì‘ì—…ì€ ìœ„í—˜í•˜ê³ , ë¹„ìš©ì´ ë§ì´ ë°œìƒí•˜ëŠ” ì‘ì—…ì´ê¸° ë•Œë¬¸ì—, ë³€ê²½ì´ ë§ì´ í•„ìš”í•  ìˆ˜ ìˆëŠ” í…Œì´ë¸”ì—ëŠ” ì™¸ë˜í‚¤ ì œì•½ ì¡°ê±´ì„ ì„¤ì •í•˜ì§€ ì•ŠëŠ” ê²ƒì´ íƒ€ë‹¹í•  ìˆ˜ ìˆë‹¤ê³  í•©ë‹ˆë‹¤.\nê·¸ë ‡ê¸° ë•Œë¬¸ì— í”„ë¡œì íŠ¸ê°€ ì¶©ë¶„íˆ ì•ˆì •í™”ë˜ì—ˆë‹¤ë©´, ì´í›„ ì œì•½ ì¡°ê±´ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ëŠ” ê²ƒì´ ì¢‹ë‹¤ëŠ” ì˜ê²¬ì´ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ê²°ë¡ ì ìœ¼ë¡œ ì´ì•¼ê¸°í•˜ë©´ ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì€ êµ­ë£°ì€ ì•„ë‹ˆë‹¤. ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ì„ ë¬´ë¶„ë³„í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì§€ì–‘í•˜ì ì •ë„ë¡œ ìš”ì•½í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ê°œì¸ ì·¨í–¥ì¸ê°€ ì‹¶ì–´ìš”\nUUID ì„±ëŠ¥ ë¬¸ì œ ì´ë²ˆ ë°ì´í„° ëª¨ë¸ì„ ì„¤ê³„í•˜ë©´ì„œ ëª¨ë“  ID ì»¬ëŸ¼ì€ UUIDë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.\nì‚¬ì‹¤ UUIDëŠ” ìƒì„±ë˜ëŠ” íŠ¹ì§•ìœ¼ë¡œ ì¸í•´ ì „ì—­ì ìœ¼ë¡œ ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë‚®ì€ ê³ ìœ í•œ IDë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´, ë¶„ì‚° í™˜ê²½ì—ì„œ ë§ì´ ì‚¬ìš©í•˜ê²Œë©ë‹ˆë‹¤.\nì´ë²ˆ ë¯¸ì…˜ì€ RDBMSë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì´ì—ˆê³ , RDBMSëŠ” ë™ê¸°í™”ì˜ ì–´ë ¤ì›€ìœ¼ë¡œ ì¸í•´ ë§ˆìŠ¤í„° DBë¥¼ ì—¬ëŸ¬ëŒ€ ë‘ëŠ” ë°©ì‹ì„ ì ê·¹ì ìœ¼ë¡œ ê³ ë ¤í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œì¸ì§€ ìŠ¤í„°ë”” ê·¸ë£¹ì› ì¤‘ í•œë¶„ì´ AUTO_INCREMENTë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  UUIDë¥¼ ì‚¬ìš©í•œ ì´ìœ ë¥¼ ì§ˆë¬¸í•´ì£¼ì…¨ì–´ìš”. ê·¸ë˜ì„œ ì €ëŠ” ì•„ë˜ì™€ê°™ì´ ë‹µë³€ì„ í–ˆìŠµë‹ˆë‹¤.\ní‚¤ ìƒì„± ì²˜ë¦¬ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¶„ë¦¬\nì¼ë‹¨ ì €ëŠ” í‚¤ê°’ì„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìƒì„±í•œë‹¤ëŠ” ê²ƒ ìì²´ê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì˜ì¡´ì˜ ìƒê¸´ë‹¤ê³  ìƒê°í–ˆì–´ìš”! ì´ëŠ” ì¶”í›„ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ NoSQLë¡œ ë³€ê²½í•œë‹¤ë˜ê°€ ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì „í™˜í•œë‹¤ë˜ê°€ í•˜ëŠ” ë¬¸ì œì—ì„œ ë¹„êµì  ììœ ë¡œìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nAUTO_INCREMENTê°€ ì¶©ëŒì—†ëŠ” í‚¤ ê°’ì„ ë§Œë“¤ì–´ì•¼í•˜ëŠ” ê·œì¹™ì—ì„œë„ ììœ ë¡œìš¸ ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\ní‚¤ ìƒì„±ì„ ì„œë²„ê°€ ë‹´ë‹¹\nRDBMSì˜ AUTO_INCREMENTë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì€ ê²°êµ­ ê´€ë ¨ ì²˜ë¦¬ë¥¼ ìœ„í•œ ìì›ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”\nëŒ€ë¶€ë¶„ ì›¹ ì„œë²„ëŠ” HTTPë¥¼ í™œìš©í•œ ë¬´ìƒíƒœì„±ì„ ìœ ì§€í•˜ë„ë¡ êµ¬í˜„ë˜ê¸° ë•Œë¬¸ì— ìˆ˜í‰ í™•ì¥ì´ ë¹„êµì  ì‰¬ìš´ ë°˜ë©´, RDBMSëŠ” ë™ê¸°í™”ì˜ ì–´ë ¤ì›€ìœ¼ë¡œ ì¸í•´ ì½ê¸° ì‘ì—… ì™¸ì˜ ê¸°ëŠ¥ì€ ê²°êµ­ ë§ˆìŠ¤í„° ë°ì´í„°ë² ì´ìŠ¤ 1ëŒ€ê°€ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.\në§ì”€í•´ì£¼ì‹ ê²ƒì²˜ëŸ¼ AUTO_INCREMENTë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì›¹ ì„œë²„ê°€ ê´€ë ¨ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë¶€í•˜ê°€ ëœ ë°œìƒí•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ê²°ê³¼ì ìœ¼ë¡œ ì„±ëŠ¥ì˜ ë³‘ëª©ì´ë˜ê¸° ì‰¬ìš´ RDBMSì˜ ë¶€í•˜ë¥¼ ì¦ê°€ ì‹œí‚¤ê²Œ ë˜ëŠ” ê²ƒì´ì£ \nUUID ìƒì„±ì—ëŠ” ë§ì€ ë¶€í•˜ê°€ ë°œìƒí•˜ì§€ ì•Šê³ , ì›¹ ì„œë²„ëŠ” ìˆ˜í‰ì  í™•ì¥ì´ ì‰½ê¸° ë•Œë¬¸ì— ë§ì€ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°œìƒí•˜ëŠ” ë¶€í•˜ë¥¼ ì¡°ê¸ˆì´ë‚˜ë§ˆ ì¤„ì¼ ìˆ˜ ìˆì„ ê²ƒì´ë¼ê³  ìƒê°í–ˆì–´ìš”\nì½”ë“œ í’ˆì§ˆ\nì²« ë²ˆì§¸ì™€ ë§ì´ ê²¹ì¹˜ëŠ” ë¶€ë¶„ì´ê¸´í•œë°, ì œ ë°±ì—”ë“œ ì²˜ë¦¬ë¥¼ ë³´ì‹œë©´ ì„œë¹„ìŠ¤ ë¡œì§ì—ì„œ ì‚¬ìš©ìì˜ ìš”ì²­ìœ¼ë¡œ ë°›ì€ ì…ë ¥ìœ¼ë¡œ ì—”í‹°í‹°ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³´ì‹¤ ìˆ˜ ìˆì„ê±°ì—ìš”\nì´ ë•Œ ìµœì´ˆ ìƒì„±í•˜ëŠ” ì—”í‹°í‹°ì— ëŒ€í•´ì„œëŠ” UUIDë¥¼ ì§ì ‘ ë§Œë“¤ì–´ì£¼ê³  ìˆëŠ”ë°, AUTO_INCREMENTë¥¼ ì‚¬ìš©í•˜ê²Œë˜ë©´ RDBMSì—ì„œ ê°’ì„ ìƒì„±í•´ì£¼ê¸° ì „ ê¹Œì§€ëŠ” id ê°’ì„ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í•´ë‹¹ ê°’ì— nullì„ í—ˆìš©í•´ì•¼í•œë‹¤ëŠ” ë¬¸ì œ? ë„ ìˆë‹¤ê³  ìƒê°í–ˆì–´ìš”\nnull í—ˆìš©í•˜ê²Œ ë˜ì—ˆì„ ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë“¤ê³¼ nullì„ ì²˜ë¦¬í•´ì•¼í•¨ìœ¼ë¡œ ì¸í•´ ë§Œë“¤ì–´ì§€ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ê·¸ë¦¬ê³  nullë¡œ ì¸í•œ ì½”ë“œ ì˜¤ì—¼ì„ ì˜ˆë°©í•˜ê¸° ìœ„í•´ ì¡°ê¸ˆ ë” ì—„ê²©í•œ íƒ€ì…ì„ ì‚¬ìš©í•˜ë ¤ëŠ” ì˜ë„ë„ ìˆì—ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¥¼ ë“¤ì–´ì„œ ì„¤ëª…í–ˆëŠ”ë° ì‘ì—…í•˜ë‹¤ë³´ë‹ˆ ë‘ ë²ˆì§¸ ì´ìœ ì¸ í‚¤ ìƒì„±ì„ ì„œë²„ê°€ ë‹´ë‹¹í•˜ì—¬ RDBMSì˜ ë¶€í•˜ë¥¼ ì¡°ê¸ˆì´ë‚˜ë§ˆ ëœê² ë‹¤. ëŠ” ì´ìœ ëŠ” í‹€ë¦´ìˆ˜ë„ ìˆì§€ ì•Šì„ê¹Œë¼ëŠ” ìƒê°ì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nMySQLì˜ PK MySQLì˜ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ê²Œë˜ë©´, ëª¨ë“  í…Œì´ë¸”ì€ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë§ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.\nPKë¥¼ B-Tree ê³„ì—´ ìë£Œ êµ¬ì¡°ë¥¼ í†µí•´ ê°’ì˜ ìˆœì„œëŒ€ë¡œ ë””ìŠ¤í¬ì— ì €ì¥í•˜ê²Œë˜ê³ , ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë ˆì½”ë“œì˜ ì£¼ì†Œ ëŒ€ì‹  í”„ë¼ì´ë¨¸ë¦¬ì˜ í‚¤ ê°’ì„ ë…¼ë¦¬ì ì€ ì£¼ì†Œë¡œ ì‚¬ìš©í•˜ê²Œë˜ì–´ìš”\nì´ëŸ¬í•œ íŠ¹ì„± ë•Œë¬¸ì— ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ì§€ê·¹íˆ ë‚®ì€ ëœë¤í•œ ê°’ì„ ë§Œë“¤ì–´ë‚´ëŠ” UUID v4ë¡œ PKë¡œ ì„¤ì •í•˜ë©´, ì„±ëŠ¥ì˜ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìœ„ ê·¸ë˜í”„ëŠ” ë°°ì¹˜ë‹¹ 100,000ê±´ì˜ ë°ì´í„°ë¥¼ INSERTí•˜ëŠ” ì¿¼ë¦¬ì—ì„œ ì„±ëŠ¥ ì°¨ì´ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.\nê·¹ë‹¨ì ì¸ ìƒí™©ì´ê¸´ í•˜ì§€ë§Œ, íˆìŠ¤í† ê·¸ë¨ì„ ì‚´í´ë³´ë©´ AUTO_INCREMENTì— ë¹„í•´ì„œ UUID v4ê°€ ì„±ëŠ¥ì´ í¬ê²Œ ë–¨ì–´ì§€ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¶€í•˜ë¥¼ ì¤„ì¸ë‹¤. ëŠ” ë§ì€ í‹€ë ¸ë‹¤ê³  ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në¬¼ë¡  ì´ ê·¸ë˜í”„ì˜ ì¶œì²˜ì—ì„œëŠ” Sequential UUID v4ë¥¼ ì‚¬ìš©í–ˆì„ ê²½ìš° ì„±ëŠ¥ì´ ì˜ë¯¸ìˆëŠ” ìˆ˜ì¤€ì˜ ì°¨ì´ëŠ” ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì‚¬ìš©í•  ê²ƒì„ ê¶Œí•˜ê³ ëŠ” ìˆìŠµë‹ˆë‹¤.ğŸ¤£\nMySQLì˜ UUID ì²˜ë¦¬ ë°©ì‹ MySQLì€ ì»¬ëŸ¼ íƒ€ì…ìœ¼ë¡œ UUIDë¥¼ ì œê³µí•˜ê³  ìˆì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì‚¬ìš©í•˜ë ¤ë©´ ëª‡ê°€ì§€ ì ˆì°¨ê°€ í•„ìš”í•©ë‹ˆë‹¤.\nì•„ë˜ëŠ” í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.\nUUIDë¥¼ CHAR(36) í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©\n1 2 3 4 5 6 7 CREATE TABLE users ( id CHAR(36) NOT NULL DEFAULT (UUID()), username VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (id) ); UUIDë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ëŠ” ì¡´ì¬í•˜ì§€ë§Œ ì»¬ëŸ¼ íƒ€ì…ìœ¼ë¡œëŠ” ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, CHAR(36)ìœ¼ë¡œ ì§€ì •í•œ ëª¨ìŠµì…ë‹ˆë‹¤.\nì—¬ê¸°ì—ì„œ ì»¬ëŸ¼ì˜ í¬ê¸°ë¥¼ ì‘ê²Œ ë§Œë“œëŠ” ë°©ë²•ë„ ì ìš© ê°€ëŠ¥í•´ìš”\nUUIDë¥¼ BINARY(16) í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©\n1 2 3 4 5 6 7 CREATE TABLE users ( id BINARY(16) NOT NULL DEFAULT (UUID_TO_BIN(UUID())), username VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (id) ); UUIDë¥¼ BINARY(16)ìœ¼ë¡œ ì„ ì–¸í•˜ê³ , ì €ì¥í•  ë–¼ UUIDë¥¼ BINARYë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.\nì„±ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ, í•¨ìˆ˜ë¡œ ì¸í•œ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤ëŠ” ë¶€ë¶„ì´ ì¡°ê¸ˆ êº¼ë¦¼ì§í•˜ë”ë¼êµ¬ìš”ğŸ˜…\nìœ„ì™€ ê°™ì´ BINARY(16)ìœ¼ë¡œ ì„ ì–¸í–ˆë‹¤ë©´, ì½ì–´ì˜¬ë•Œë„ ë³€í™˜ì´ í•„ìš”í•˜ê²Œë©ë‹ˆë‹¤.\n1 2 3 4 5 6 SELECT BIN_TO_UUID(id) AS id, username, email, created_at FROM users; UUID_TO_BINê³¼ ë°˜ëŒ€ë¡œ BIN_TO_UUIDë¥¼ ì¨ì„œ ë³€í™˜í•´ì¤˜ì•¼í•´ìš”\në¬¼ë¡  UUIDë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì—ì„œ ìƒì„±í•˜ê³ ìˆê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì—ì„œ ë³€í™˜í•˜ëŠ” ì²˜ë¦¬ê°€ ë“¤ì–´ê°€ë©´ ë¬¸ì œê°€ ì‘ì•„ì§ˆ ê²ƒ ê°™ì§€ë§Œ ê·¸ë˜ë„ ë­”ê°€\u0026hellip; ì¢€ ë¶ˆí¸í•œ ëŠë‚Œì€ ì§€ìš¸ ìˆ˜ ì—†ëŠ” ê²ƒ ê°™ì•„ìš”ğŸ¥²\në§ˆë¬´ë¦¬ ì´ë²ˆì£¼ëŠ” ìƒê°ë³´ë‹¤ ë§ì€ ë‚´ìš©ë“¤ì„ ë°°ì›Œê°€ëŠ” ê²ƒ ê°™ì•„ìš”.\nì±…ë“¤ë¡œ í•™ìŠµí–ˆë˜ ë‚´ìš©ë“¤ì„ ì €ì˜ ì½”ë“œì— ë°˜ì˜í•´ë³´ë ¤ê³ í•˜ë‹ˆ ì—¬ëŸ¬ ë‹¤ë¥¸ ê²ƒë“¤ë„ ì•Œ ìˆ˜ ìˆê²Œ ë˜ì–´ ëœ» ê¹Šì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në‹¤ìŒì£¼ ë¶€í„°ëŠ” ë©˜í† ë‹˜ì´ ë¶™ì–´ ì§ì ‘ ì½”ë“œë¦¬ë·°ë¥¼ í•´ì£¼ì‹ ë‹¤ê³  í•˜ëŠ”êµ°ìš”! ê·¸ë¦¬ê³  ì–´ë–¤ ë¯¸ì…˜ë“¤ì´ ë‚˜ì˜¬ê¹Œ ì •ë§ ê¸°ëŒ€ë©ë‹ˆë‹¤.\në˜ 2ì£¼ê°„ í•¨ê»˜í–ˆë˜ ìŠ¤í„°ë”” ê·¸ë£¹ì›ë“¤ê³¼ë„ í—¤ì–´ì§€ê³  ìƒˆë¡œìš´ ìŠ¤í„°ë”” ê·¸ë£¹ì›ë“¤ì„ ë§Œë‚˜ëŠ”ë° ì–´ë–¤ ë¶„ë“¤ì¼ì§€ ê¸°ëŒ€ë˜ë„¤ìš”\ní•œ ì£¼ê°„ ëª¨ë‘ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤. ë‹¤ìŒì£¼ë„ ìµœì„ ì„ ë‹¤í•´ë´ìš”ğŸ”¥\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ˜Š\n","date":"2024-09-01T21:00:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/membership/2/cover_hud9fb725339af3a8bae61969a7c0c823b_45611_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/membership/2/","title":"ë©¤ë²„ì‹­ ê³¼ì • 2ì£¼ì°¨ íšŒê³ "},{"content":"ë©¤ë²„ì‹­ ê³¼ì • ì²« ì£¼ê°€ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ¥³\në©¤ë²„ì‹­ ê³¼ì •ì€ ì‹¤ë¬´í˜• í”„ë¡œì íŠ¸ë¥¼ ë°˜ë³µ ìˆ˜í–‰í•˜ë©° ë„ë©”ì¸ ì§€ì‹ê³¼ ê¸°ìˆ ì„ í•™ìŠµí•˜ëŠ” í•™ìŠµ ìŠ¤í”„ë¦°íŠ¸ 8ì£¼, íŒ€ì„ ì´ë¤„ ê¸°ìˆ ì ìœ¼ë¡œ ì™„ì„±ë„ ìˆëŠ” ì„œë¹„ìŠ¤ë¥¼ ë§Œë“œëŠ” ê·¸ë£¹í”„ë¡œì íŠ¸ 6ì£¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nì²« 4ì£¼ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì•Œì•„ì•¼í•˜ëŠ” ë„ë©”ì¸ ì§€ì‹ê³¼ ê¸°ìˆ ì„ ëª¨ë‘ í™œìš©í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ë©° í•™ìŠµí•˜ê³ , ì´í›„ 4ì£¼ëŠ” ì¡°ê¸ˆ ë” ì•Œê³  ì‹¶ì€ ë„ë©”ì¸ì„ ì„ íƒí•˜ì—¬ ë” ê¹Šê²Œ í•™ìŠµí•´ë³´ëŠ” ê³¼ì •ì´ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ì²« ì£¼ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœì˜ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ë°”ë‹ë¼ë¡œ ë§Œë“¤ì–´ ë³´ëŠ” ë¯¸ì…˜ì´ ì£¼ì–´ì¡Œì–´ìš”\nì•„ë§ˆ ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€ë˜ê³ , ê¸°ì¡´ ê¸°ëŠ¥ì„ ê°œì„ í•´ë³´ëŠ” ë¯¸ì…˜ì´ ì£¼ì–´ì§€ë©° ì ì  ë” ì™„ì„±ë„ ë†’ì€ ì„œë¹„ìŠ¤ë¡œ ë°”ê¿”ê°€ëŠ” íë¦„ìœ¼ë¡œ ì§„í–‰ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì±Œë¦°ì§€ì™€ ë‹¤ë¥¸ì  ë©¤ë²„ì‹­ ê³¼ì •ì€ ì±Œë¦°ì§€ ê³¼ì •ê³¼ëŠ” ì¶”êµ¬í•˜ëŠ” ë°©í–¥ì€ ê°™ì§€ë§Œ ì§„í–‰ë˜ëŠ” ë°©ì‹ì´ ì¡°ê¸ˆ ë‹¬ëìŠµë‹ˆë‹¤.\ní›¨ì”¬ í˜„ì—…ê³¼ ê°™ì€ í™˜ê²½ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©° ê°œë°œì— í•„ìš”í•œ ë‚´ìš©ë“¤ì„ ìŠ¤ìŠ¤ë¡œ í•™ìŠµ ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆì–´ìš”\në°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ê³¼ í”¼ì–´ì„¸ì…˜ í•™ìŠµ ìŠ¤í”„ë¦°íŠ¸ë¼ëŠ” ë‹¨ì–´ë¥¼ ë³´ê³  ëˆˆì¹˜ ì±„ì…¨ì„ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ì€ë°ìš”!\nì±Œë¦°ì§€ ê³¼ì •ì—ì„œëŠ” ë§¤ì¼ ë™ë£Œë“¤ì˜ í”¼ë“œë°±ì„ ë°›ê³ , ì„œë¡œì˜ ìƒê°ì„ ê³µìœ í•´ë³´ëŠ” í”¼ì–´ì„¸ì…˜ì„ ê°€ì¡Œë‹¤ë©´, ë©¤ë²„ì‹­ ê³¼ì •ì˜ í•™ìŠµ ìŠ¤í”„ë¦°íŠ¸ì—ì„œëŠ” ì• ìì¼ ë°©ë²•ë¡  ì¤‘ í•˜ë‚˜ì¸ ìŠ¤í¬ëŸ¼ì„ ì§„í–‰í•˜ë“¯ ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì„ ì§„í–‰í•©ë‹ˆë‹¤.\nì±Œë¦°ì§€ ê³¼ì •ì˜ í”¼ì–´ì„¸ì…˜ê³¼ëŠ” ë‹¬ë¦¬ ìŠ¤í„°ë”” ê·¸ë£¹ì˜ êµ¬ì„±ì›ì´ 2ì£¼ê°„ ê°™ì´ í•™ìŠµí•œë‹¤ëŠ” ì ë„ ë‹¤ë¥¸ ë¶€ë¶„ì´ë„¤ìš”\në©¤ë²„ì‹­ ê³¼ì •ì˜ í”¼ì–´ì„¸ì…˜ì€ ë§¤ì£¼ ê¸ˆìš”ì¼ ì•„ì¹¨ 3ì‹œê°„ ë™ì•ˆ 1ë²ˆë§Œ ì§„í–‰í•˜ê²Œë©ë‹ˆë‹¤.\në°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì€ 30ë¶„ ì •ë„ ì§§ì€ ì‹œê°„ë™ì•ˆ ì–´ì œ ìˆ˜í–‰í•œ ì‘ì—… ë‚´ìš©ê³¼ ì˜¤ëŠ˜ ìˆ˜í–‰í•  ì‘ì—…ë‚´ìš© ê·¸ë¦¬ê³  í•˜ë©´ì„œ ë°œìƒí–ˆë˜ ë¬¸ì œë“¤ì„ ê³µìœ í•˜ëŠ” ì‹œê°„ì´ì—ˆì–´ìš”\në°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ì—ì„œ ê·¸ë£¹ì›ë“¤ì˜ ì• ë¡œì‚¬í•­ì— ëŒ€í•´ ë°©í–¥ì„±ì„ ì œì‹œí•´ì£¼ë ¤ê³  ë…¸ë ¥í–ˆëŠ”ë°, ë„ì›€ì´ ë§ì´ ë˜ì…¨ë‹¤ê³  ë§ì”€í•´ì£¼ì…”ì„œ ë¿Œë“¯í–ˆìŠµë‹ˆë‹¤ ğŸ¤©\nPRê³¼ ì½”ë“œë¦¬ë·° ì±Œë¦°ì§€ ê³¼ì •ì—ì„œëŠ” ë‹¹ì¼ ì˜¤ì „ 9ì‹œê¹Œì§€ ì œì¶œí•œ ê²°ê³¼ë¬¼ì„ ë°”íƒ•ìœ¼ë¡œ ì–´ëŠì •ë„ êµ¬í˜„í–ˆëŠ”ì§€, ì˜í•œì , ê°œì„ í•  ì  ë“±ì„ ì°¾ì•„ í”¼ì–´ì„¸ì…˜ì— ê³µìœ í•˜ì˜€ë‹¤ë©´, ë©¤ë²„ì‹­ ê³¼ì •ì—ì„œëŠ” 1ì¼ 1PRì„ ë§Œë“¤ê³  ìì •ì— ìë™ìœ¼ë¡œ ë¨¸ì§€ë˜ëŠ” ë°©ì‹ì´ì—ˆìŠµë‹ˆë‹¤.\nPRì„ ë‚¨ê¸¸ ë•Œ ì–´ë–¤ ë¶€ë¶„ì„ ì‘ì—…í–ˆëŠ”ì§€, ì–´ë–¤ ë¶€ë¶„ë“¤ì„ í•™ìŠµí–ˆëŠ”ì§€, ì–´ë–¤ ë¶€ë¶„ì—ì„œ ê³ ë¯¼ì´ ìˆì—ˆê³  ì–´ë–»ê²Œ í•´ê²°í•˜ì˜€ëŠ”ì§€ ê¼­ ë‚¨ê²¨ì•¼ í–ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ì´ PRì„ ê¸°ë°˜ìœ¼ë¡œ ì‹œê°„ì´ ë‚  ë•Œë§ˆë‹¤ ê°ì ì•Œì•„ì„œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì½”ë“œ ë¦¬ë·°ë¥¼ ì§„í–‰í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°€ì´ë“œ ë˜ì—ˆì–´ìš”\nì €ëŠ” í‰ê· ì ìœ¼ë¡œ ë§¤ì¼ ì•„ì¹¨ 9ì‹œë¶€í„° ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼ ì „ ê¹Œì§€ ê·¸ë£¹ì›ë“¤ì˜ ì½”ë“œë¥¼ í™•ì¸í•˜ê³  ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê¸°ë ¤ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\ní‡´ì‚¬ ì „ì—ëŠ” ì¶œê·¼í•˜ê³  ì˜¤ì „ ë™ì•ˆì—ëŠ” VOCë¥¼ í™•ì¸ í›„ì— ì½”ë“œë¦¬ë·°í•˜ëŠ” ê²ƒì´ ë£¨í‹´ì´ì—ˆëŠ”ë°, ì˜¤ëœë§Œì— ì¶œê·¼í•´ì„œ ì¼í•˜ëŠ” ëŠë‚Œì´ì—ˆë„¤ìš”ğŸ˜‚\në¯¸ì…˜ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒ ì²˜ëŸ¼ ì¡°ê¸ˆ ë” ì‹¤ë¬´ì— ê°€ê¹Œìš´ ë¯¸ì…˜ë“¤ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\nFigma ì‚°ì¶œë¬¼ì„ ì§ì ‘ ë¶„ì„í•˜ê³  í”„ë¡œì íŠ¸ë¥¼ ì„¤ê³„í•´ì•¼ í–ˆì—ˆë„¤ìš”\ní’€ìŠ¤íƒ ê°œë°œìë¡œ ì¼ í• ë•ŒëŠ” í¼ë¸”ë¦¬ì…” ë¶„ë“¤ì´ ê³„ì…”ì„œ Figmaë¥¼ ë³¼ ì¼ì´ ì˜ ì—†ì—ˆëŠ”ë° ë°˜ê°€ì› ìŠµë‹ˆë‹¤ğŸ˜„\në§¤ì£¼ ì›”ìš”ì¼ì— ë¯¸ì…˜ì´ ê³µê°œë˜ëŠ”ë°, ì›”ìš”ì¼ PRì—ëŠ” ë‚˜ë§Œì˜ ì£¼ê°„ ê³„íšì„œë¥¼ ê¼­ í¬í•¨ì‹œì¼œì•¼ í•œë‹¤ëŠ” ê°€ì´ë“œê°€ ìˆì—ˆì–´ìš”\ní˜„ì—…ì—ì„œëŠ” WBSë¥¼ ì‘ì„±í–ˆê² ì§€ë§Œ ì¡°ê¸ˆ ê³¼í•œ ê²ƒ ê°™ì•„ mermaidë¥¼ ì´ìš©í•´ gantt ì°¨íŠ¸ë¥¼ ì¼ ë³„ ì‘ì—…ì— ë§ì¶”ì–´ ê·¸ë ¤ ì£¼ê°„ ê³„íšì„œë¥¼ ë§Œë“¤ì–´ ë´¤ìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ë¶€ë¶„ë„ í˜‘ì—…ê³¼ ë§¤ìš° ìœ ì‚¬í•˜ë‹¤ê³  ëŠê»´ì¡Œì–´ìš” ã…ã…\nì´ë ‡ê²Œ ì„¸ìš´ ê³„íšì— ë§ì¶”ì–´ ìì‹ ë§Œì˜ ì†ë„ë¡œ ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ë©´ ë˜ì—ˆìŠµë‹ˆë‹¤.\ní•™ìŠµ ë‚´ìš© ì²« 4ì£¼ëŠ” í’€ìŠ¤íƒ ê³¼ì •ì¸ ë§Œí¼ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ëª¨ë‘ êµ¬í˜„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.\nì–´ë–¤ ë‚´ìš©ì¸ì§€ëŠ” ë¹„ë°€ì´ì§€ë§ŒğŸ¤« expressì™€ í…œí”Œë¦¿ ì—”ì§„, Vanilla JSë¥¼ ì´ìš©í•˜ëŠ” ê³ ì „ì ì¸ ë°©ì‹ì˜ SSRë¡œ ë§Œë“¤ì–´ ë³´ëŠ” ê²ƒì´ ëª©í‘œì˜€ìŠµë‹ˆë‹¤.ì €ëŠ” ëª©í‘œëŒ€ë¡œ ì•ˆí–ˆë„¤ìš”\nFigmaì™€ ì–¸ì–´ ì •ë„ë¥¼ ì œì™¸í•˜ë©´ í° ì œì•½ì´ ì—†ì–´ êµ‰ì¥í•œ ììœ ë„ê°€ ì£¼ì–´ì¡Œì–´ìš”\nì €ëŠ” PHP ë°±ì—”ë“œì— jQueryë¥¼ ì´ìš©í•˜ëŠ” ë ˆê±°ì‹œë¥¼ ìš´ì˜í–ˆì—ˆê¸° ë•Œë¬¸ì— ê³ ì „ì ì¸ ë°©ì‹ì˜ SSRì„ êµ¬í˜„í•˜ëŠ” ë° ìµìˆ™í•´ì„œ ìƒ‰ë‹¤ë¥´ê²Œ Vanilla TSë¥¼ í™œìš©í•œ SPAë¥¼ ì‹œë„í–ˆìŠµë‹ˆë‹¤.\ní”„ë¡ íŠ¸ì—”ë“œ HTML/CSS\nì¼ë‹¨ ì§ì ‘ HTML, CSSë¥¼ ì´ìš©í•˜ì—¬ UIë¥¼ êµ¬í˜„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.\nì‚¬ì‹¤ ì €ëŠ” UI ê°œë°œ ì¸í„´ì„ ê²½í—˜í–ˆê¸° ë•Œë¬¸ì— ë§ˆí¬ì—…ì´ ìµìˆ™í•œ í¸ ì´ì—ˆëŠ”ë°\u0026hellip;\ní’€ìŠ¤íƒ ê°œë°œìë¡œ ì¼í•  ë•ŒëŠ” ë§ˆí¬ì—…ì„ ì§ì ‘ êµ¬í˜„í•˜ì§€ ì•Šì•„ì„œ ê·¸ëŸ°ì§€ ì˜¤ëœë§Œì— í•˜ë ¤ë‹ˆ ì²˜ìŒì—” ì¡°ê¸ˆ ì–´ìƒ‰í•˜ë”ë¼êµ¬ìš”ğŸ¥²í•˜ì§€ë§Œ ê¸ˆë°© ìµìˆ™í•´ì¡Œì–´ìš”\nì ì‘í•˜ëŠ” ë° ì‹œê°„ì´ ì¡°ê¸ˆ ë” í•„ìš”í–ˆë˜ ë¶€ë¶„ì€ Floxbox ë ˆì´ì•„ì›ƒì´ì—ˆìŠµë‹ˆë‹¤.\nì´ì „ UI ê°œë°œ ì¸í„´ì—ì„œëŠ” IE 8 ëŒ€ì‘ì„ ê¸°ë³¸ìœ¼ë¡œ í•™ìŠµí–ˆê¸° ë•Œë¬¸ì— floatì— ë” ìµìˆ™í–ˆê¸° ë•Œë¬¸ì¸ë°ìš”\nFigmaë„ ë°•ìŠ¤ ëª¨ë¸ì„ ê¸°ì¤€ì´ ì•„ë‹Œ Flexboxì„ ê¸°ì¤€ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ ìˆì—ˆìŠµë‹ˆë‹¤.\nFlexboxì— ìµìˆ™í•´ì§€ê³  ë‚˜ì„œì•¼ Figmaë¥¼ ì œëŒ€ë¡œ ì´í•´í•  ìˆ˜ ìˆì—ˆë„¤ìš”\u0026hellip;\nIE8 ëŒ€ì‘í•  ë•Œ ì‚¬ìš©í•˜ì§€ ì•Šë˜ CSS ë³€ìˆ˜, í•¨ìˆ˜ë“±ì´ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ ìˆì–´ì„œ ì²˜ìŒì—” ë§ì´ í˜¼ë€ìŠ¤ëŸ¬ì› ìŠµë‹ˆë‹¤.\nVanilla TS\në°”ë‹ë¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ SPA ë°©ì‹ì„ í™œìš©í•˜ê¸° ìœ„í•´ Viteë¥¼ ì´ìš©í•´ ê°œë°œ í™˜ê²½ì„ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.\nVite ê°™ì€ ê²½ìš° í˜„ì—…ì—ì„œ Vue3ë¥¼ ì´ìš©í•˜ì—¬ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œí•  ë•Œ ì¢‹ì•˜ë˜ ê²½í—˜ì´ ìˆì—ˆê³ , Vanilla TS í™˜ê²½ì„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ì œê³µí•´ì¤˜ì„œ í™œìš©í•´ë´¤ìŠµë‹ˆë‹¤.\në°±ì—”ë“œ expressë¥¼ í™œìš©í•˜ì—¬ ì„œë²„ë¥¼ êµ¬ì„±í•´ì•¼í–ˆìŠµë‹ˆë‹¤.ë§ˆìŠ¤í„°ì¸ í˜¸ëˆ…ìŠ¤ë‹˜ì´ ì²˜ìŒì—ëŠ” node httpë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•˜ì…¨ë‹¤ê³  í•˜ë„¤ìš”\nì €ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ í™œìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í–ˆëŠ”ë°, ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ììœ ë¡œì›€ì„ ì œí•œí•˜ê³ , íƒ€ì…ì˜ ì¥ì ì„ ì·¨í•˜ê¸° ìœ„í•´ì„œì˜€ì–´ìš”\nì´ë¥¼ ìµœëŒ€í•œ í™œìš©í•˜ê¸° ìœ„í•´ ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ì™€ DIë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ì„œë²„ë¥¼ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.\nexpressì—ì„œ ë¼ìš°í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ê°€ Laravel, Ruby on Railsì™€ ë¹„ìŠ·í•˜ë‹¤ê³  ëŠê»´ì„œ ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ì„±í•´ë´¤ì–´ìš”\nì²˜ìŒì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì ˆëŒ€ í™œìš©í•˜ì§€ ë§ê³  ëª©ì—… ë°ì´í„°ë¥¼ í™œìš©í•´ì„œ ê°œë°œí•˜ë¼ëŠ” ì œì•½ ì‚¬í•­ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ì €ëŠ” Spring Dataë¥¼ ì°¸ê³ í•˜ì—¬ Repository(Model)ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ êµ¬í˜„í•˜ê³ , ë”ë¯¸ ë°ì´í„°ë¥¼ ì£¼ì…ë°›ì€ Repositoryë¥¼ êµ¬í˜„í•˜ì—¬ ì´í›„ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ëŒ€ì‘í•´ë´¤ìŠµë‹ˆë‹¤.\nì•„ì‰¬ì› ë˜ ì  í…ŒìŠ¤íŠ¸ ì½”ë“œ ì±Œë¦°ì§€ ê³¼ì •ì—ì„œëŠ” TDD í™œìš©í•˜ì—¬ ë¯¸ì…˜ë“¤ì„ ìˆ˜í–‰í•˜ë ¤í–ˆì—ˆëŠ”ë°, ì´ë²ˆì£¼ ë¯¸ì…˜ì—ì„œëŠ” TDDëŠ” ì»¤ë…• í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ì‘ì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤ ğŸ˜…\në°±ì—”ë“œ ì½”ë“œëŠ” ë”ë¯¸ ë°ì´í„°ë¥¼ í™œìš©í•˜ëŠ” ë‹¨ìˆœí•œ ì²˜ë¦¬ì˜€ê¸° ë•Œë¬¸ì— êµ³ì´ ë¶™ì—¬ì•¼ í•˜ë‚˜? ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆë˜ ê²ƒ ê°™ê³ , í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œëŠ” ì²˜ìŒ ê³ ì „ì ì¸ ë°©ì‹ì˜ SSRì—ì„œ SPAë¡œ ë„˜ì–´ê°€ëŠ” ê³¼ì •ì—ì„œ êµ¬ì¡° ë³€ê²½ì´ ì¦ì•„ ë§ˆì§€ë§‰ ë‚ ì—ì•¼ ì„¤ê³„ê°€ í™•ì •ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  FEìª½ì€ ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼í•  ì§€ ê°ì´ ì•ˆì˜¤ë”êµ°ìš” ğŸ¥²\nì´ë²ˆì£¼ì— ì„¤ê³„ê°€ í™•ì •ëœ ë§Œí¼ ë‹¤ìŒì£¼ì—ëŠ” TDDë¥¼ ì‹œë„í•´ ë³¼ ìˆ˜ëŠ” ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. TTD ê¹Œì§€ëŠ” ì•„ë‹ˆë”ë¼ë„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì–´ë–»ê²Œ ë¶™ì—¬ì•¼í•  ì§€ ê³ ë¯¼ì„ ë§ì´ í•´ë³´ê²Œë  ê²ƒ ê°™ì•„ìš” ğŸ™ƒ\nì»¤ë®¤ë‹ˆí‹° í™œë™ ì±Œë¦°ì§€ ê³¼ì •ì—ì„œëŠ” Slackì— ì˜¬ë¼ì˜¤ëŠ” ì§ˆë¬¸ì´ë‚˜ ì˜ê²¬ì— ë‹µë³€ì„ ë§ì´ í•˜ë ¤ê³  ë…¸ë ¥í–ˆì—ˆëŠ”ë°, í”„ë¡ íŠ¸ ê°œë°œì´ ë“¤ì–´ê°€ì„œ ê·¸ëŸ°ì§€ ëª¨ë‹ˆí„°ë¥¼ Slackì— í• ë‹¹í•  ìˆ˜ ì—†ì–´ ê´€ì‹¬ì„ ë§ì´ ëª» ì¤¬ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.ë³€ëª…\në‹¤ìŒì£¼ì—ëŠ” Slackì— ì¡°ê¸ˆ ë” ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ë ¤ê³  ì˜ì‹ì ìœ¼ë¡œ ë…¸ë ¥í•´ë´ì•¼ê² ì–´ìš”ğŸ”¥\në§ˆë¬´ë¦¬ ë°ì¼ë¦¬ ìŠ¤í¬ëŸ¼, ê·¸ë£¹ ë¦¬ë·°, í”¼ì–´ ì„¸ì…˜, ì½”ë“œë¦¬ë·°ì—ì„œ ì œê°€ ì•„ëŠ” ëª¨ë“  ê²ƒì„ ê³µìœ í•˜ë ¤ê³  ì—´ì‹¬íˆ ë…¸ë ¥í–ˆëŠ”ë° ë‹¤ë¥¸ ë¶„ë“¤ì—ê²Œ ë„ì›€ì´ ë˜ì—ˆì„ì§€ ê¶ê¸ˆí•˜ë„¤ìš”\nê·¸ë£¹ë¼ë¦¬ í•˜ëŠ” í™œë™ì„ ë„˜ì–´ ë‹¤ë¥¸ ë¶„ë“¤ì—ê²Œë„ ê¸ì •ì ì¸ ì˜í–¥ì„ ì£¼ê³  ì˜ê°ì„ ì£¼ê¸° ìœ„í•´ ë” ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në‚¨ì€ ê¸°ê°„ë„ ëê¹Œì§€ ëª¨ë‘ í™”ì´íŒ…~~~ğŸ”¥ğŸ”¥ğŸ”¥\n","date":"2024-08-25T21:00:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/membership/1/cover_hud9fb725339af3a8bae61969a7c0c823b_45611_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/membership/1/","title":"ë©¤ë²„ì‹­ ê³¼ì • 1ì£¼ì°¨ íšŒê³ "},{"content":"êµ¬ê¸€ ë§µì€ ìœ„ì„± ì´ë¯¸ì§€, ê±°ë¦¬ ë·°, ì‹¤ì‹œê°„ êµí†µ ìƒí•­, ê²½ë¡œ ê³„íš ë“± ë‹¤ì–‘í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê³  ìˆë‹¤.\nì—„ì²­ë‚˜ê²Œ ë³µì¡í•œ ì œí’ˆì´ë¯€ë¡œ, ì„¤ê³„ì— ì•ì„œ ì–´ë–¤ ê¸°ëŠ¥ì— ì´ˆì ì„ ë§ì¶”ì–´ì•¼ í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • Q. ì¼ê°„ ëŠ¥ë™ ì‚¬ìš©ì ìˆ˜ëŠ”? A. 10ì–µ DAU Q. ì´ˆì ì„ ë‘ì–´ì•¼í•˜ëŠ” ê¸°ëŠ¥ì€? A. ìœ„ì¹˜ ê°±ì‹ , ê²½ë¡œ ì•ˆë‚´, ETA, ì§€ë„ í‘œì‹œ Q. ë„ë¡œ ë°ì´í„°ëŠ” ì–´ëŠì •ë„, ë°ì´í„°ëŠ” í™•ë³´ ë˜ì—ˆë‹¤ê³  ê°€ì •? A. ë„ë¡œ ë°ì´í„°ëŠ” ë‹¤ì–‘í•œ ê²°ë¡œë¡œ í™•ë³´í•´ ë‘ì—ˆë‹¤ê³  ê°€ì •, ìˆ˜ TB ìˆ˜ì¤€ì˜ ê°€ê³µë˜ì§€ ì•Šì€ ë°ì´í„° Q. êµí†µ ìƒí™©ë„ ê³ ë ¤í•´ì•¼í•˜ëŠ”ê°€? A. Y Q. ì—¬ëŸ¬ ì´ë™ ìˆ˜ë‹¨ ê³ ë ¤? A. Y Q. ê²½ìœ ì§€ ì„ íƒ ê°€ëŠ¥? A. N Q. ì‚¬ì—…ì¥ ì •ë³´ë„ í¬í•¨? A. N ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì´ë²ˆ ì¥ì—ì„œëŠ” 3ê°€ì§€ ê¸°ëŠ¥ì— ì§‘ì¤‘ í•  ê²ƒì´ë©°, ì§€ì›í•  ì£¼ ë‹¨ë§ì€ ìŠ¤ë§ˆíŠ¸í°ì´ë‹¤.\nì‚¬ìš©ì ìœ„ì¹˜ ê°±ì‹  ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤(ETA í¬í•¨) ì§€ë„ í‘œì‹œ ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë° ì œì•½ì‚¬í•­ ì •í™•ë„ ì‚¬ìš©ìì—ê²Œ ì˜ëª»ëœ ê²½ë¡œë¥¼ ì•ˆë‚´í•˜ë©´ ì•ˆë¨ ë¶€ë“œëŸ¬ìš´ ê²½ë¡œ í‘œì‹œ ì œê³µë˜ëŠ” ê²½ë¡œëŠ” í™”ë©´ì— ë¶€ë“œëŸ½ê²Œ í‘œì‹œë˜ê³  ê°±ì‹ ë˜ì–´ì•¼í•¨ ë°ì´í„° ë° ë°°í„°ë¦¬ ì‚¬ìš©ëŸ‰ í´ë¼ì´ì–¸íŠ¸ê°€ ìµœì†Œí•œì˜ ë°ì´í„°ì™€ ë°°í„°ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼í•¨ ì¼ë°˜ì ìœ¼ë¡œ ë„ë¦¬ í†µìš©ë˜ëŠ” ê°€ìš©ì„± ë° ê·œëª¨ í™•ì¥ì„± ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•´ì•¼í•¨ ì§€ë„ 101 ì¸¡ìœ„ ì‹œìŠ¤í…œ\nì¸¡ìœ„ ì‹œìŠ¤í…œì€ êµ¬ í‘œë©´ìƒì˜ ìœ„ì¹˜ë¥¼ í‘œí˜„í•˜ëŠ” ì²´ê³„ë¥¼ ë§í•œë‹¤.\nìœ„ê²½ë„ ê¸°ë°˜ ì¸¡ìœ„ ì‹œìŠ¤í…œì˜ ê²½ìš°, ìµœìƒë‹¨ì—ëŠ” ë¶ê·¹ì´ ìˆê³  ìµœí•˜ë‹¨ì—ëŠ” ë‚¨ê·¹ì´ ìˆë‹¤.\nìœ„ë„(Latitude, Lat.) ì£¼ì–´ì§„ ìœ„ì¹˜ê°€ ì–¼ë§ˆë‚˜ ë‚¨/ë¶ìª½ì¸ì§€ ê²½ë„(Longitude) ì–¼ë§ˆë‚˜ ë™/ì„œ ìª½ì¸ì§€ 3ì°¨ì› ìœ„ì¹˜ë¥¼ 2ì°¨ì› ë³€í™˜\n3ì°¨ì› êµ¬ ìœ„ì˜ ìœ„ì¹˜ë¥¼ 2ì°¨ì› í‰ë©´ì— ëŒ€ì‘ì‹œí‚¤ëŠ” ì ˆì°¨ë¥¼ ì§€ë„ íˆ¬ì˜ë²•(map projection)ë˜ëŠ” ë„ë²•ì´ë¼ ë¶€ë¥¸ë‹¤.\nì—¬ëŸ¬ ë„ë²•ì´ ìˆìœ¼ë©° ê°ê° ì°¨ë³„ë˜ëŠ” ì¥ì ì´ ìˆìœ¼ë‚˜ ê³µí†µì ìœ¼ë¡œ ì‹¤ì œ ì§€í˜•ì˜ ê¸°í•˜í•™ì  í‹ì„±ì„ ì™œê³¡í•œë‹¤ëŠ” ê³µí†µì ì„ ê°–ëŠ”ë‹¤.\nêµ¬ê¸€ ë§µì€ ë©”ë¥´ì¹´í† ë¥´ ë„ë²•ì„ ì¡°ê¸ˆ ë³€ê²½í•œ ì›¹ ë©”ë¥´ì¹´í† ë¥´(WebMercator) ë„ë²•ì„ ì‚¬ìš©í•œë‹¤.\nì§€ì˜¤ì½”ë”©\nì§€ì˜¤ì½”ë”©ì€ ì£¼ì†Œë¥¼ ì§€ë¦¬ì  ì¸¡ìœ„ ì‹œìŠ¤í…œì˜ ì¢Œí‘œë¡œ ë³€í™˜í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì´ë‹¤.\nì§€ì˜¤ ì½”ë”©ì„ ìˆ˜í–‰í•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•ì€ GISì™€ ê°™ì€ ë‹¤ì–‘í•œ ì‹œìŠ¤í…œì´ ì œê³µí•˜ëŠ” ë°ì´í„°ë¥¼ ê²°í•©í•˜ëŠ” ì¸í„°í´ë ˆì´ì…˜(interpolation)ì´ ìˆë‹¤.\nGIS - Geographic Information System\në„ë¡œë§ì„ ì§€ë¦¬ì  ì¢Œí‘œ ê³µê°„ì— ëŒ€ì‘ì‹œí‚¤ëŠ” ë°©ë²•ì„ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œë“¤ ì¤‘ í•˜ë‚˜\nì§€ì˜¤í•´ì‹±\nì§€ë„ ìœ„ íŠ¹ì • ì˜ì—­ì„ ì˜ë¬¸ìì™€ ìˆ«ìë¡œ êµ¬ì„±ëœ ì§§ì€ ë¬¸ìì—´ì— ëŒ€ì‘ì‹œí‚¤ëŠ” ì¸ì½”ë”© ì²´ê³„ì´ë‹¤.\n2ì°¨ì›ì˜ í‰ë©´ ê³µê°„ìœ¼ë¡œ í‘œí˜„ëœ ì§€ë¦¬ì  ì˜ì—­ ìœ„ì˜ ê²©ìë¥¼ ë” ì‘ì€ ê²©ìë¡œ ì¬ê·€ì ìœ¼ë¡œ ë¶„í• í•´ë‚˜ê°„ë‹¤.\nê° ê²©ìëŠ” ì •ì‚¬ê°í˜•, ì‚¬ê°í˜• ì¼ ìˆ˜ ìˆë‹¤. ê²©ìë¥¼ ì¬ê·€ì ìœ¼ë¡œ ë¶„í• í•œ ê²°ê³¼ë¡œ ìƒì„±ëœ ë” ì‘ì€ ê²©ìì—ëŠ” 0~3ì˜ ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•œë‹¤.\nì´ë²ˆ ì„¤ê³„ì—ì„œëŠ” ë§µ íƒ€ì¼ê´€ë¦¬ë¥¼ ìœ„í•´ ì§€ì˜¤í•´ì‹±ì„ í™œìš©í•œë‹¤.\nì§€ë„ í‘œì‹œ\nì§€ë„ë¥¼ í™”ë©´ì— í‘œì‹œí•˜ëŠ” ë° ê°€ì¥ ê¸°ë³¸ì´ ë˜ëŠ” ê°œë…ì€ íƒ€ì¼(Tile)ì´ë‹¤.\nì§€ë„ ì „ë¶€ë¥¼ í•˜ë‚˜ì˜ ì´ë¯¸ì§€ë¡œ í‘œì‹œí•˜ëŠ” ëŒ€ì‹ , ì‘ì€ íƒ€ì¼ë¡œ ìª¼ê°œì–´ í‘œí˜„í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ë³´ë ¤ëŠ” ì˜ì—­ì— ê´€ê³„ëœ íƒ€ì¼ë§Œ ë‹¤ìš´ë°›ì•„ ëª¨ìì´í¬ì²˜ëŸ¼ ì´ì–´ ë¶™ì¸ ë‹¤ìŒ í™”ë©´ì— ë¿Œë¦°ë‹¤. í™•ëŒ€/ì¶•ì†Œë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ í™•ëŒ€ ìˆ˜ì¤€ì— ë”°ë¼ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ íƒ€ì¼ì„ ì¤€ë¹„í•œë‹¤.\nê²½ë¡œ ì•ˆë‚´ ì•Œê³ ë¦¬ì¦˜ì„ ìœ„í•œ ë„ë¡œ ë°ì´í„° ì²˜ë¦¬\nëŒ€ë¶€ë¶„ì˜ ê²½ë¡œ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ ë°ì´í¬ìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì´ë‚˜ A* ì•Œê³ ë¦¬ì¦˜ì˜ ë³€ì¢…ì´ë‹¤.(ê·¸ë˜í”„ ê¸°ë°˜ ìµœë‹¨ê±°ë¦¬ íƒìƒ‰)\në”°ë¼ì„œ ëª¨ë“  ê²½ë¡œ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ êµì°¨ë¡œë¥¼ ë…¸ë“œ, ë„ë¡œë¥¼ ê°„ì„ ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ê·¸ë˜í”„ ìë£Œ êµ¬ì¡°ë¥¼ ê°€ì •í•œë‹¤.\nëŒ€ë¶€ë¶„ ê²½ë¡œ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ ì£¼ì–´ì§„ ê·¸ë˜í”„ í¬ê¸°ì— ì„±ëŠ¥ì´ ì¢Œìš°ëœë‹¤.\në”°ë¼ì„œ ì„±ëŠ¥ì„ ìœ„í•´ ì „ ì„¸ê³„ ë„ë¡œë§ì„ í•˜ë‚˜ì˜ ê·¸ë˜í”„ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ê´€ë¦¬ ê°€ëŠ¥ ë‹¨ìœ„ë¡œ ë¶„í• í•´ì•¼í•œë‹¤.\níƒ€ì¼ ê¸°ë°˜ ë¶„í• ë²•ì„ ì ìš©í•˜ì—¬ ì„¸ê³„ë¥¼ ì‘ì€ ê²©ìë¡œ ë‚˜ëˆ„ê³ , ê° ê²©ì ì•ˆì˜ ë„ë¡œë§ì„ ë…¸ë“œì™€ ê°„ì„ ìœ¼ë¡œ êµ¬ì„±ëœ ê·¸ë˜í”„ ìë£Œêµ¬ì¡°ë¡œ ë³€í™˜í•œë‹¤.\nê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ë¡œ ë¶„í• í•œë‹¤. ê° íƒ€ì¼ì€ ë„ë¡œë¡œ ì—°ê²°ëœ ë‹¤ë¥¸ íƒ€ì¼ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ìœ ì§€í•œë‹¤. ë„ë¡œë§ì„ ì–¸ì œë“  ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆëŠ” ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ë¡œ ë¶„í• í•´ ë†“ìœ¼ë©´ ì—¬ëŸ¬ ì¥ì ì´ ìˆë‹¤.\nê²½ë¡œ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì´ ë™ã…ˆê°€í•˜ëŠ” ë° í•„ìš”í•œ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ì„ ë‚®ì¶œ ìˆ˜ ìˆë‹¤. í•œ ë²ˆì— ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ê²½ë¡œì˜ ì–‘ì´ ì¤€ë‹¤. í•„ìš”í•œ ë§Œí¼ ë§Œ ë¶ˆëŸ¬ì˜¤ë©´ ë˜ë¯€ë¡œ ê²½ë¡œ íƒìƒ‰ ì„±ëŠ¥ë„ ì¢‹ì•„ì§„ë‹¤. ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ì€ ì§€ë„ì™€ ë‹¤ë¥´ê²Œ ë„ë¡œ ë°ì´í„°ë¡œ ì´ë£¨ì–´ì§„ ì´ì§„ íŒŒì¼(binary file)ì´ë‹¤.\nê³„ì¸µì  ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼\nê²½ë¡œ ì•ˆë‚´ê°€ íš¨ê³¼ì ìœ¼ë¡œ ë™ì‘í•˜ë ¤ë©´ í•„ìš”í•œ ìˆ˜ì¤€ì˜ êµ¬ì²´ì„±ì„ ê°–ì¶˜ ë„ë¡œ ë°ì´í„°ê°€ í•„ìš”í•˜ë‹¤.\në³´í†µ êµ¬ì²´ì„± ì •ë„ë¥¼ ìƒ, ì¤‘, í•˜ë¡œ êµ¬ë¶„í•˜ì—¬ ì„¸ ê°€ì§€ ì¢…ë¥˜ì˜ ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ì„ ì¤€ë¹„í•œë‹¤.\nìƒ ì§€ë°©ë„(local roads) ë°ì´í„°ë¥¼ ë‘”ë‹¤. ì¤‘ ê·œëª¨ê°€ ë¹„êµì  í° ê´€í• êµ¬(district)ë¥¼ ì‡ëŠ” ê°„ì„  ë„ë¡œ ë°ì´í„°ë¥¼ ë‘”ë‹¤. í•˜ ë„ì‹œì™€ ì£¼ë¥¼ ì—°ê²°í•˜ëŠ” ì£¼ìš” ê³ ì†ë„ë¡œ ë°ì´í„°ë§Œ ë‘”ë‹¤. ê°œëµì  ê·œëª¨ ì¶”ì • ì„¤ê³„ ì´ˆì ì´ ëª¨ë°”ì¼ ë‹¨ë§ì´ë¯€ë¡œ, ë°ì´í„° ì‚¬ìš©ëŸ‰ê³¼ ë°°í„°ë¦¬ íš¨ìœ¨ì„ ì¤‘ìš”í•˜ê²Œ ë”°ì ¸ ë´ì•¼ í•œë‹¤.\nì €ì¥ì†Œ ì‚¬ìš©ëŸ‰ - ì„¸ê³„ ì§€ë„\nì§€ì›í•˜ëŠ” í™•ëŒ€ ìˆ˜ì¤€(Zoom level)ë³„ë¡œ ì§€ë„ íƒ€ì¼ì„ í•œ ë²Œì”© ë‘ì–´ì•¼ í•œë‹¤.\nì§€ë„ë¥¼ í™•ëŒ€í•  ë•Œ ë§ˆë‹¤ í•˜ë‚˜ì˜ íƒ€ì¼ì„ ë„¤ ì¥ì˜ íƒ€ì¼ë¡œ í¼ì¹œë‹¤ê³  ê°€ì •í•˜ë©´, ì„¸ê³„ ì§€ë„ë¥¼ 21ë²ˆ í™•ëŒ€í•˜ì—¬ ë³¼ ìˆ˜ ìˆìœ¼ë ¤ë©´ ìµœëŒ€ í™•ëŒ€ ìˆ˜ì¤€ì„ ëŒ€ì‚°ìœ¼ë¡œ í•˜ì˜€ì„ ë•Œ ì•½ 4.4ì¡°ê°œì˜ íƒ€ì¼ì´ í•„ìš”í•˜ë‹¤.\ní•œ ì¥ì˜ íƒ€ì¼ì´ 256 * 256 PNG íŒŒì¼ì´ë¼ë©´ ì¥ë‹¹ 100KBì˜ ì €ì¥ ê³µê°„ì´ í•„ìš”í•˜ë¯€ë¡œ 440PB ë§Œí¼ì˜ ì €ì¥ ê³µê°„ì´ í•„ìš”í•˜ë‹¤. í•˜ì§€ë§Œ ì§€êµ¬ í‘œë©´ ê°€ìš´ë° 90%ëŠ” ì¸ê°„ì´ ì‚´ì§€ ì•ŠëŠ” ìì—° ê·¸ëŒ€ë¡œì˜ ë°”ë‹¤, ì‚¬ë§‰, í˜¸ìˆ˜, ì‚°ê°„ ì§€ì—­ì´ë¼ ì•„ì£¼ ë†’ì€ ë¹„ìœ ë¡¤ ì••ì¶•í•  ìˆ˜ ìˆë‹¤.\në³´ìˆ˜ì ìœ¼ë¡œ 80% ~ 90% ì €ì¥ ìš©ëŸ‰ì„ ì ˆê°í•  ìˆ˜ ìˆë‹¤ê³  ê°€ì •í•˜ë©´, 50PB ì •ë„ í•„ìš”í•˜ë‹¤.\n1 ~ 21 ê¹Œì§€ ìˆ˜ì¤€ì„ ì§€ì›í•˜ê¸° ìœ„í•´ 50 + (50/4) + (50/16) ... = ~ 67PB ì •ë„ë¡œ ëŒ€ì¶© 100PB ì •ë„ê°€ ì†Œìš”ëœë‹¤.\nì„œë²„ ëŒ€ì—­í­\nì„œë²„ ëŒ€ì—­í­ì„ ì¶”ì •í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë–¤ ìœ í˜•ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ì§€ ì‚´í´ ë´ì•¼ í•œë‹¤.\nê²½ë¡œ ì•ˆë‚´ ìš”ì²­ í´ë¼ì´ì–¸íŠ¸ê°€ ê²½ë¡œ ì•ˆë‚´ ì„¸ì…˜ì„ ì‹œì‘í•  ë•Œ ì „ì†¡í•˜ëŠ” ë©”ì‹œì§€ ìœ„ì¹˜ ê°±ì‹  ìš”ì²­ í´ë¼ì´ì–¸íŠ¸ê°€ ê²½ë¡œ ì•ˆë‚´ë¥¼ ì§„í–‰í•˜ëŠ” ë™ì•ˆ ë³€ê²½ëœ ì‚¬ìš©ì ìœ„ì¹˜ë¥¼ ì „ì†¡í•˜ëŠ” ë©”ì‹œì§€ ê²½ë¡œ ì•ˆë‚´ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ëŒ€ì—­í­ì„ ê³„ì‚°í•´ë³¸ë‹¤.\nDAU 10ì–µ, í‰ê·  ì£¼ë‹¹ 35ë¶„ ì‚¬ìš©í•œë‹¤ê³  ê°€ì • í•˜ë£¨ì— 50ì–µ ë¶„ ìš”ì²­ì„ í´ë¼ì´ì–¸íŠ¸ ìª½ì— ëª¨ì•„ë‘ì—ˆë‹¤ê°€ ëœ ìì£¼ë³´ë‚´ë„ë¡ í•˜ë©´ QPSë¥¼ ë‚®ì¶œ ìˆ˜ ìˆë‹¤. 15ì´ˆë§ˆë‹¤ í•œ ë²ˆì”© ë³´ë‚¸ë‹¤ê³  ê°€ì •í•˜ë©´ QPSëŠ” 20ë§Œ 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ìœ„ì¹˜ ì„œë¹„ìŠ¤ ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤ ì§€ë„ í‘œì‹œ ìœ„ì¹˜ ì„œë¹„ìŠ¤ ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ ê¸°ë¡í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nflowchart TD mobile([ëª¨ë°”ì¼ ì‚¬ìš©ì]) --\u003e loadBalancer[ë¡œë“œë°¸ëŸ°ì„œ] --\u003e location[ìœ„ì¹˜ ì„œë¹„ìŠ¤] --\u003e db[(ì‚¬ìš©ì ìœ„ì¹˜ DB)] í´ë¼ì´ì–¸íŠ¸ê°€ tì´ˆë§ˆë‹¤ ìê¸° ìœ„ì¹˜ë¥¼ ì „ì†¡í•œë‹¤ê³  ê°€ì •í•˜ëŠ”ë°, ì£¼ê¸°ì ìœ¼ë¡œ ìœ„ì¹˜ ì •ë³´ë¥¼ ì „ì†¡í•˜ë©´ ëª‡ ê°€ì§€ ì¢‹ì€ ì ì´ ìˆë‹¤.\ní•´ë‹¹ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ í™œìš©í•˜ì—¬ ì‹œìŠ¤í…œì„ ì ì°¨ ê°œì„ í•  ìˆ˜ ìˆë‹¤. ì‹¤ì‹œê°„ êµí†µ ìƒí™© ëª¨ë‹ˆí„°ë§ ìƒˆë¡œ ë§Œë“¤ì–´ì§„ ë„ë¡œë‚˜ íì‡„ëœ ë„ë¡œ íƒì§€ ì‚¬ìš©ì í–‰ë™ ì–‘íƒœë¥¼ ë¶„ì„í•˜ì—¬ í™œìš© í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚´ëŠ” ìœ„ì¹˜ ì •ë³´ê°€ ì‹¤ì‹œê°„ ì •ë³´ì— ê°€ê¹Œìš°ë¯€ë¡œ ETAë¥¼ ì¢€ ë” ì •í™•í•˜ê²Œ ì‚°ì¶œí•  ìˆ˜ ìˆë‹¤. êµí†µ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¸ ê²½ë¡œë¥¼ ì•ˆë‚´í•  ìˆ˜ë„ ìˆë‹¤. ìœ„ì¹˜ ì´ë ¥ì„ í´ë¼ì´ì–¸íŠ¸ì— ë²„í¼ë§í•´ ë‘ì—ˆë‹¤ê°€ ì¼ê´„ ìš”ì²­í•˜ë©´ ì „ì†¡ ë¹ˆë„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\nìœ„ì¹˜ ê°±ì‹  ìš”ì²­ ë¹ˆë„ë¥¼ ì¤„ì—¬ë„ ì—¬ì „íˆ ë§ì€ ì“°ê¸° ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼í•˜ë¯€ë¡œ ì•„ì£¼ ë†’ì€ ì“°ê¸° ìš”ì²­ ë¹ˆë„ì— ìµœì í™”ë˜ì–´ ìˆê³  ê·œëª¨ í™•ì¥ì´ ìš©ì´í•œ ì¹´ì‚°ë“œë¼ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ê°€ í•„ìš”í•˜ë‹¤.\nì¹´í”„ì¹´ ê°™ì€ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ì—”ì§„ì„ í™œìš©í•˜ì—¬ ìœ„ì¹˜ ë°ì´í„°ë¥¼ ë¡œê¹…í•´ì•¼ í•  ìˆ˜ë„ ìˆë‹¤.\n1 2 3 POST /v1/locations body: locs: JSONìœ¼ë¡œ ì¸ì½”ë”©í•œ (ìœ„ë„, ê²½ë„, ì‹œê°) ìˆœì„œìŒ ë°°ì—´ ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤ Aì—ì„œ B ì§€ì ìœ¼ë¡œ ê°€ëŠ” í•©ë¦¬ì ìœ¼ë¡œ ë¹ ë¥¸ ê²½ë¡œë¥¼ ì°¾ì•„ ì£¼ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nê²°ê³¼ë¥¼ ì–»ëŠ” ë° ë“œëŠ” ì‹œê°„ ì§€ì—°ì€ ì–´ëŠ ì •ë„ ê°ë‚´í•  ìˆ˜ ìˆë‹¤. ìµœë‹¨ ì‹œê°„ ê²½ë¡œì¼ í•„ìš”ëŠ” ì—†ìœ¼ë‚˜ ì •í™•ë„ëŠ” ë³´ì¥ë˜ì–´ì•¼ í•œë‹¤. 1 GET /v1/nav?origin=1355+market+street,SF\u0026amp;destination=Disneyland ì§€ë„ í‘œì‹œ í™•ëŒ€ ìˆ˜ì¤€ë³„ë¡œ í•œ ë²Œì”© ì§€ë„ íƒ€ì¼ì„ ì €ì¥í•˜ë ¤ë©´ ìˆ˜ë°± PBê°€ í•„ìš”í•˜ë¯€ë¡œ, ê·¸ ëª¨ë‘ë¥¼ í´ë¼ì´ì–¸íŠ¸ê°€ ê°€ì§€ê³  ìˆëŠ” ê²ƒì€ ì‹¤ìš©ì ì´ì§€ ì•Šë‹¤.\ní´ë¼ì´ì–¸íŠ¸ì˜ ìœ„ì¹˜ ë° í˜„ì¬ í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ëŠ” í™•ëŒ€ ìˆ˜ì¤€ì— ë”°ë¼ í•„ìš”í•œ íƒ€ì„ì„ ì„œë²„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ì ‘ê·¼ë²•ì´ ë°”ëŒì§í•˜ë‹¤.\nì‚¬ìš©ìê°€ ì§€ë„ë¥¼ í™•ëŒ€ ë˜ëŠ” ì´ë™ì‹œí‚¤ë©° ì£¼ë³€ì„ íƒìƒ‰ ê²½ë¡œ ì•ˆë‚´ê°€ ì§„í–‰ë˜ëŠ” ë™ì•ˆ ì‚¬ìš©ìì˜ ìœ„ì¹˜ê°€ í˜„ì¬ ì§€ë„ íƒ€ì¼ì„ ë²—ì–´ë‚˜ ì¸ì ‘í•œ íƒ€ì¼ë¡œ ì´ë™ ë‹¤ëŸ‰ì˜ ì§€ë„ íƒ€ì¼ ë°ì´í„°ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ë“¤ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nì„ íƒì§€ 1\ní´ë¼ì´ì–¸íŠ¸ê°€ ë³´ëŠ” ì§€ë„ì˜ í™•ëŒ€ ìˆ˜ì¤€ì— ê·¼ê±°í•˜ì—¬ í•„ìš”í•œ ì§€ë„ íƒ€ì¼ì„ ì¦‰ì„ì—ì„œ ë§Œë“ ë‹¤.\nì‚¬ìš©ì ìœ„ì¹˜ ë° í™•ëŒ€ ìˆ˜ì¤€ì˜ ì¡°í•©ì´ ë¬´í•œí•˜ë¯€ë¡œ ëª‡ ê°€ì§€ ì‹¬ê°í•œ ë¬¸ì œê°€ ìˆë‹¤.\nëª¨ë“  ì§€ë„ íƒ€ì¼ì„ ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ì„œë²„ í´ëŸ¬ìŠ¤í„°ì— ì‹¬ê°í•œ ë¶€í•˜ê°€ ê±¸ë¦°ë‹¤. ìºì‹œë¥¼ í™œìš©í•˜ê¸° ì–´ë µë‹¤. ì„ íƒì§€ 2\në¯¸ë¦¬ ë§Œë“¤ì–´ ë‘” ì§€ë„ íƒ€ì¼ì„ í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬í•˜ê¸°ë§Œ í•œë‹¤.\nì§€ë„ íƒ€ì¼ì´ ë‹´ë‹¹í•˜ëŠ” ì§€ë¦¬ì  ì˜ì—­ì€ ì§€ì˜¤í•´ì‹± ê°™ì€ ë¶„í• ë²•ì„ ì‚¬ìš©í•´ ë§Œë“  ê³ ì •ëœ ì‚¬ê°í˜•ì˜ ê²©ìë¡œ í‘œí˜„ë˜ì–´ ì •ì ì´ë‹¤.\nì§€ë„ íƒ€ì¼ì´ í•„ìš”í•  ê²½ìš° í˜„ì¬ í™•ëŒ€ ìˆ˜ì¤€ì— ê·¼ê±°í•˜ì—¬ í•„ìš”í•œ ì§€ë„ íƒ€ì¼ ì§‘í•©ì„ ê²°ì •í•˜ê³ , ê° ìœ„ì¹˜ë¥¼ ì§€ì˜¤í•´ì‹œ URLë¡œ ë³€í™˜í•˜ì—¬ ë³´ë‚¸ë‹¤. ë¯¸ë¦¬ ë§Œë“¤ì–´ ë‘” ì •ì  ì´ë¯¸ì§€ë¥¼ CDNì„ í†µí•´ ì„œë¹„ìŠ¤í•œë‹¤. ì´ ì ‘ê·¼ë²•ì€ ê·œëª¨ í™•ì¥ì´ ìš©ì´í•˜ê³  ì„±ëŠ¥ ì¸¡ë©´ì—ì„œë„ ìœ ë¦¬í•˜ë‹¤.\nê°€ì¥ ê°€ê¹Œìš´ POPì—ì„œ íŒŒì¼ì„ ì„œë¹„ìŠ¤í•œë‹¤. ì§€ë„ íƒ€ì¼ì€ ì •ì ì´ë¯€ë¡œ ìºì‹œë¥¼ í†µí•´ ì„œë¹„ìŠ¤í•˜ê¸° ì•„ì£¼ ì í•©í•˜ë‹¤. ì§€ë„ íƒ€ì¼ì€ ì´ë¯¸ ì •ì˜ëœ ê²©ìì— ë§ê²Œ í™•ëŒ€ ìˆ˜ì¤€ë³„ë¡œ í•œ ë²Œì‹ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë‘” ê²ƒì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\nì§€ì˜¤í•´ì‹œë¥¼ ì‚¬ìš©í•´ ê²©ìë¥¼ ë‚˜ëˆ„ë¯€ë¡œ ëª¨ë“  ê²©ìëŠ” ê³ ìœ í•œ ì§€ì˜¤í•´ì‹œ ê°’ì„ ê°–ëŠ”ë‹¤.\në”°ë¼ì„œ ìœ„ë„/ê²½ë„ë¡œ í‘œí˜„ëœ í´ë¼ì´ì–¸íŠ¸ì˜ ìœ„ì¹˜ ë° í˜„ì¬ ì§€ë„ í™•ëŒ€ ìˆ˜ì¤€ì„ ì…ë ¥ìœ¼ë¡œ í™”ë©´ì— í‘œì‹œí•  ì§€ë„ íƒ€ì¼ì— ëŒ€ì‘ë˜ëŠ” ì§€ì˜¤í•´ì‹œëŠ” ì•„ì£¼ ì‰½ê²Œ ê³„ì‚°í•´ ë‚¼ ìˆ˜ ìˆë‹¤.\nì´ ê³„ì‚°ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ìˆ˜í–‰í•˜ë©°, í•´ë‹¹ ì§€ì˜¤í•´ì‹œ ë° URLë¡œ CDNì—ì„œ ì§€ë„ íƒ€ì¼ì„ ê°€ì ¸ì˜¤ë©´ ëœë‹¤.\nì§€ì˜¤í•´ì‹œ ê³„ì‚°ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ìˆ˜í–‰í•´ë˜ ê´œì°®ì§€ë§Œ, ì•Œê³ ë¦¬ì¦˜ì„ í´ë¼ì´ì–¸íŠ¸ ë‹¨ì— êµ¬í˜„í•  ê²½ìš° ì§€ì›í•´ì•¼ í•  í”Œë«í¼ì´ ë§ì„ ë•Œ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤.\nëª¨ë°”ì¼ ì•± ì—…ë°ì´íŠ¸ ë°°í¬ëŠ” ì‹œê°„ë„ ë§ì´ ê±¸ë¦¬ê³  ë•Œë¡œëŠ” ìœ„í—˜í•˜ë¯€ë¡œ ì•ìœ¼ë¡œ ì˜¤ë«ë™ì•ˆ ë§µ íƒ€ì¼ ì¸ì½”ë”©ì—ëŠ” ì§€ì˜¤í•´ì‹±ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤ëŠ” ì „ì œê°€ ìˆì–´ì•¼ í•œë‹¤.\në‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë³€ê²½ì´ í•„ìš”í•˜ë‹¤ë©´ ë§ì€ ë…¸ë ¥ê³¼ ìœ„í—˜ì´ ë”°ë¥¸ë‹¤. ì´ì—ë”°ë¼ ì£¼ì–´ì§„ ìœ„ë„/ê²½ë„ ë° í™•ëŒ€ ìˆ˜ì¤€ì„ íƒ€ì¼ URLë¡œ ë³€í™˜í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ì„ ë³„ë„ ì„œë¹„ìŠ¤ì— ë‘ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nflowchart user([user]) lb[ë¡œë“œë°¸ëŸ°ì„œ] service[ì§€ë„ íƒ€ì¼ ì„œë¹„ìŠ¤ 3. íƒ€ì¼ URLë“¤ì„ ìƒì„±] cdn((CDN)) user---|'1. íƒ€ì¼ URL ì§‘í•© ìš”ì²­'| lb lb---|'2. ìš”ì²­ ì „ë‹¬'| service user---|'4. íƒ€ì¼ ë‹¤ìš´ë¡œë“œ'| cdn ìƒˆë¡œìš´ ìœ„ì¹˜ë¡œ ì´ë™í•˜ê±°ë‚˜ í™•ëŒ€ ìˆ˜ì¤€ì„ ë³€ê²½í•˜ë©´ ì§€ë„ íƒ€ì¼ ì„œë¹„ìŠ¤ëŠ” ì–´ë–¤ íƒ€ì¼ì´ í•„ìš”í•œì§€ ê²°ì •í•˜ì—¬ í•´ë‹¹ íƒ€ì¼ë“¤ì„ ê°€ì ¸ì˜¤ëŠ” ë° í•„ìš”í•œ URL ì§‘í•©ì„ ê³„ì‚°í•˜ì—¬ ì‘ë‹µí•œë‹¤.\n3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ë°ì´í„° ëª¨ë¸ ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ í™•ë³´í•œ ë„ë¡œ ë°ì´í„°ëŠ” ê°€ê³µë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ ì²˜ë¦¬ ì„œë¹„ìŠ¤ë¼ ë¶ˆë¦¬ëŠ” ì˜¤í”„ë¼ì¸ ë°ì´í„° ê°€ê³µ íŒŒì´í”„ë¼ì¸ì„ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•˜ì—¬ ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ë¡œ ë³€í™˜í•´ì•¼í•œë‹¤.\në„ë¡œ ë°ì´í„°ì— ë°œìƒí•œ ìƒˆë¡œìš´ ë³€ê²½ì‚¬í•­ì„ ë°˜ì˜í•˜ê¸° ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•œë‹¤. ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ì„ ë§Œë“¤ ë•ŒëŠ” í•´ë‹¹ë„ë¥¼ ë‹¬ë¦¬ í•˜ì—¬ ì„¸ ë²Œ(ìƒ, ì¤‘, í•˜) ë§Œë“ ë‹¤.\nê·¸ë˜í”„ì˜ ë…¸ë“œì™€ ê°„ì„ ìœ¼ë¡œ í‘œí˜„ëœ í•´ë‹¹ ì§€ì—­ ë‚´ êµì°¨ë¡œì™€ ë„ë¡œ ì •ë³´ ë‹¤ë¥¸ íƒ€ì¼ì˜ ë„ë¡œì™€ ì—°ê²°ë˜ëŠ” ê²½ìš° í•´ë‹¹ íƒ€ì¼ì— ëŒ€í•œ ì°¸ì¡° ì •ë³´ í¬í•¨ ê²½ë¡œ ì•ˆë‚´ ì•Œê³ ë¦¬ì¦˜ì€ ì´ë“¤ íƒ€ì¼ì´ ëª¨ì¸ ê²°ê³¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ë„ë¡œë§ ë°ì´í„°ë¥¼ ì ì§„ì ìœ¼ë¡œ ì†Œë¹„í•œë‹¤.\nê°€ê³µ ê²°ê³¼ë¡œ ë§Œë“¤ì–´ì§„ íƒ€ì¼ì€ ì–´ë””ì— ì €ì¥í•´ì•¼ í• ê¹Œ?\nì¼ë°˜ì ìœ¼ë¡œ ê·¸ë˜í”„ ë°ì´í„°ëŠ” ë©”ëª¨ë¦¬ì— ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë³´ê´€í•˜ë‚˜, ë©”ëª¨ë¦¬ì— ë‘ê¸°ì—ëŠ” ì–‘ì´ ë„ˆë¬´ ë§ë‹¤.\nê·¸ë˜í”„ì˜ ë…¸ë“œì™€ ê°„ì„ ì„ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì½”ë“œë¡œ ì €ì¥í•˜ëŠ” ê²ƒ ë„ ë°©ë²•ì´ê² ì§€ë§Œ ë¹„ìš©ì´ ë§ì´ ë“¤ ê²ƒì´ë©°, ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ì˜ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ í•„ìš” ì—†ë‹¤.\në”°ë¼ì„œ S3 ê°™ì€ ê°ì²´ ì €ì¥ì†Œì— íŒŒì¼ì„ ë³´ê´€í•˜ê³  ê·¸ íŒŒì¼ì„ ì´ìš©í•  ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤ì—ì„œ ì ê·¹ì ìœ¼ë¡œ ìºì‹±í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nìœ„ë„ì™€ ê²½ë„ê°€ ì£¼ì–´ì¡Œì„ ë•Œ íƒ€ì¼ì„ ì‹ ì†í•˜ê²Œ ì°¾ê¸° ìœ„í•´ ì§€ì˜¤í•´ì‹œ ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¥˜í•´ ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì‚¬ìš©ì ìœ„ì¹˜ ë°ì´í„° ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ëŠ” ì•„ì£¼ ê°’ì§„ ë°ì´í„°ë‹¤.\në„ë¡œ ë°ì´í„° ë° ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ì„ ê°±ì‹ í•˜ëŠ”ë° ì´ìš©ëœë‹¤. ì‹¤ì‹œê°„ êµí†µ ìƒí™© ë°ì´í„°ë‚˜ êµí†µ ìƒí™© ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°ë„ í™œìš©ëœë‹¤. ë°ì´í„° ìŠ¤íŠ¸ë¦¼ í”„ë¡œì„¸ì‹± ì„œë¹„ìŠ¤ëŠ” ì´ ìœ„ì¹˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ì—¬ ì§€ë„ ë°ì´í„°ë¥¼ ê°±ì‹ í•œë‹¤. ì‚¬ìš©ì ìœ„ì¹˜ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë ¤ë©´ ì—„ì²­ë‚œ ì–‘ì˜ ì“°ê¸° ì—°ì‚°ì„ ì˜ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©´ì„œ ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ê°€ í•„ìš”í•˜ë‹¤.\nì¹´ì‚°ë“œë¼ user_id timestamp user_mode driving_mode location 101 1635740977 active driving (20.0, 30.5) ì§€ì˜¤ì½”ë”© ë°ì´í„°ë² ì´ìŠ¤ ì£¼ì†Œë¥¼ ìœ„ë„/ê²½ë„ ìŒìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì •ë³´ë¥¼ ë³´ê´€í•œë‹¤.\nì½ê¸° ì—°ì‚°ì€ ë¹ˆë²ˆí•œ ë°˜ë©´ ì“°ê¸° ì—°ì‚°ì€ ë“œë¬¼ê²Œ ë°œìƒí•˜ëŠ” íŠ¹ì„±ìœ¼ë¡œ ë ˆë””ìŠ¤ì™€ ê°™ì´ ë¹ ë¥¸ ì½ê¸° ì—°ì‚°ì„ ì œê³µí•˜ëŠ” í‚¤-ê°’ ì €ì¥ì†Œê°€ ì í•©í•˜ë‹¤.\nì¶œë°œì§€ì™€ ëª©ì ì§€ ì£¼ì†ŒëŠ” ê²½ë¡œ ê³„íš ì„œë¹„ìŠ¤ì— ì „ë‹¬í•˜ê¸° ì „ ì´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ ìœ„ë„/ê²½ë„ ìŒìœ¼ë¡œ ë³€í™˜ëœë‹¤.\në¯¸ë¦¬ ë§Œë“¤ì–´ ë‘” ì§€ë„ ì´ë¯¸ì§€ ë‹¨ë§ì´ íŠ¹ì • ì˜ì—­ì˜ ì§€ë„ë¥¼ ìš”ì²­í•˜ë©´ ì¸ê·¼ ë„ë¡œ ì •ë³´ë¥¼ ì·¨í•©í•˜ì—¬ ëª¨ë“  ë„ë¡œ ë° ê´€ë ¨ ìƒì„¸ ì •ë³´ê°€ í¬í•¨ëœ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ì–´ ë‚´ì•¼ í•œë‹¤.\nê³„ì‚° ìì›ì„ ë§ì´ ì‚¬ìš©í•œë‹¤. ê°™ì€ ì´ë¯¸ì§€ë¥¼ ì¤‘ë³µ ìš”ì²­í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì´ë¯¸ì§€ëŠ ã„´í•œ ë²ˆë§Œ ê³„ì‚°í•˜ê³  ê·¸ ê²°ê³¼ëŠ” ìºì‹œí•´ ë‘ëŠ” ì „ëµì„ ì“°ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì´ë¯¸ì§€ëŠ” ì§€ë„ í‘œì‹œì— ì‚¬ìš©í•˜ëŠ” í™•ëŒ€ ìˆ˜ì¤€ ë³„ë¡œ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë‘ê³  CDNì„ í†µí•´ ì „ì†¡í•œë‹¤.\nì„œë¹„ìŠ¤ ìœ„ì¹˜ ì„œë¹„ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ì‚¬ìš©ì ìœ„ì¹˜ ì •ë³´ê°€ ì´ìš©ë˜ëŠ” ë°©ì‹ì— ì´ˆì ì„ ë§ì¶”ì–´ ìƒì„¸ ì„¤ê³„ë¥¼ ì§„í–‰í•´ë³¸ë‹¤.\nì‚¬ìš©ì ìœ„ì¹˜ ë°ì´í„° ì €ì¥ì—ëŠ” í‚¤-ê°’ ì €ì¥ì†Œë¥¼ í™œìš©í•œë‹¤.\nflowchart TD mobile([ëª¨ë°”ì¼ ì‚¬ìš©ì]) --\u003e loadBalancer[ë¡œë“œë°¸ëŸ°ì„œ] --\u003e location[ìœ„ì¹˜ ì„œë¹„ìŠ¤] --\u003e db[(ì‚¬ìš©ì ìœ„ì¹˜ DB)] ì´ˆë‹¹ ë°±ë§Œ ê±´ì˜ ìœ„ì¹˜ ì •ë³´ ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•œë‹¤ëŠ” ì ì„ ê°ì•ˆí•˜ë©´ ì“°ê¸° ì—°ì‚° ì§€ì›ì— íƒì›”í•œ ë°ì´í„°ë² ì´ìŠ¤ê°€ í•„ìš”í•˜ë‹¤. ì‚¬ìš©ì ìœ„ì¹˜ëŠ” ê³„ì† ë³€í™”í•˜ë©°, ì¼ë‹¨ ë³€ê²½ë˜ê³  ë‚˜ë©´ ì´ì „ ì •ë³´ëŠ” ë°”ë¡œ ë¬´ìš©í•´ì§€ë¯€ë¡œ, ë°ì´í„° ì¼ê´€ì„± ë³´ë‹¤ëŠ” ê°€ìš©ì„±ì´ ë” ì¤‘ìš”í•˜ë‹¤. CAP ì •ë¦¬ ì´ëŸ¬í•œ ìš”êµ¬ì‚¬í•­ì—ëŠ” NoSQL í‚¤-ê°’ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ì—´-ì¤‘ì‹¬ ë°ì´í„°ë² ì´ìŠ¤(column-oriented database)ê°€ ì í•©í•˜ë©°, ì´ ì¤‘ ê°€ìš©ì„±ê³¼ ë¶„í•  ë‚´ì„± ë‘ê°€ì§€ë¥¼ ë§Œì¡± ì‹œí‚¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ì¹´ì‚°ë“œë¼ê°€ ìˆë‹¤.\në°ì´í„° ë² ì´ìŠ¤ í‚¤ë¡œëŠ” (user_id, timestamp) ì¡°í•©ì„ ì‚¬ìš©í•˜ë©°, í•´ë‹¹ í‚¤ì— ë§¤ë‹¬ë¦¬ëŠ” ê°’ìœ¼ë¡œ ìœ„ë„/ê²½ë„ ìŒì„ ì €ì¥í•œë‹¤.\nuser_idëŠ” íŒŒí‹°ì…˜ í‚¤ ê°™ì€ íŒŒí‹°ì…˜ í‚¤ë¥¼ ê°–ëŠ” ë°ì´í„°ëŠ” í•¨ê»˜ ì €ì¥ë¨ timestampëŠ” í´ëŸ¬ìŠ¤í„°ë§ í‚¤ í´ëŸ¬ìŠ¤í„°ë§ í‚¤ ê°’ì— ë”°ë¼ ì •ë ¬ëœë‹¤. ì´ë ‡ê²Œ í•´ ë‘ë©´ íŠ¹ì • ì‚¬ìš©ìì˜ íŠ¹ì • ê¸°ê°„ ë‚´ ìœ„ì¹˜ë„ íš¨ìœ¨ì ìœ¼ë¡œ ì½ì–´ë‚¼ ìˆ˜ ìˆë‹¤.\nkey(uesr_id) timestamp lat long user_mode navigation_mode 51 132053000 21.9 89.8 active driving ì‚¬ìš©ì ìœ„ì¹˜ ë°ì´í„°ëŠ” ì–´ë–»ê²Œ ì´ìš©ë˜ëŠ”ê°€ ì‚¬ìš©ì ìœ„ì¹˜ëŠ” ì“°ì„ìƒˆê°€ ë‹¤ì–‘í•œ ì¤‘ìš” ë°ì´í„°ë‹¤.\nìƒˆë¡œ ê°œì„¤ë˜ì—ˆê±°ë‚˜ íì‡„ëœ ë„ë¡œë¥¼ ê°ì§€í•  ìˆ˜ ìˆë‹¤. ì§€ë„ ë°ì´í„°ì˜ ì •í™•ì„±ì„ ì ì°¨ë¡œ ê°œì„ í•˜ëŠ” ì…ë ¥ìœ¼ë¡œ í™œìš©ë  ìˆ˜ ìˆë‹¤. ì‹¤ì‹œê°„ êµí†µ í˜„í™©ì„ íŒŒì•…í•˜ëŠ” ì…ë ¥ì´ ë  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ìš©ë¡€ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ì‚¬ìš©ì ìœ„ì¹˜ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡í•˜ëŠ” ê²ƒê³¼ ë³„ë„ë¡œ ì¹´í”„ì¹´ì™€ ê°™ì€ ë©”ì‹œì§€ íì— ë¡œê¹…í•œë‹¤.\nê°œë³„ ì„œë¹„ìŠ¤ë“¤ì€ ì¹´í”„ì¹´ë¥¼ í†µí•´ ì „ë‹¬ë˜ëŠ” ì‚¬ìš©ì ìœ„ì¹˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ê°ì ìš©ë„ì— ë§ê²Œ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nì§€ë„ í‘œì‹œ ì§€ë„ íƒ€ì¼ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ëŠ” ë°©ë²•ê³¼ ì§€ë„ í‘œì‹œ ìµœì í™” ê¸°ë²•ì„ ì‚´í´ë³¸ë‹¤.\nì§€ë„ íƒ€ì¼ ì‚¬ì „ ê³„ì‚° ì‚¬ìš©ìê°€ ë³´ëŠ” ì§€ë„ í¬ê¸°ë‚˜ í™•ëŒ€ ìˆ˜ì¤€ì— ë§ëŠ” ì„¸ë¶€ì‚¬í•­ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ í™•ëŒ€ ìˆ˜ì¤€ë³„ ì§€ë„ íƒ€ì¼ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ ë‘˜ í•„ìš”ê°€ ìˆë‹¤.\nêµ¬ê¸€ë§µì€ 21ë‹¨ê³„ë¡œ ì§€ë„ë¥¼ í™•ëŒ€í•  ìˆ˜ ìˆë‹¤. í™•ëŒ€ ìˆ˜ì¤€ 0ì€ ì„¸ê³„ ì „ë¶€ë¥¼ 256 * 256 í”½ì…€ì§œë¦¬ íƒ€ì¼ í•˜ë‚˜ë¡œ í‘œí˜„í•˜ë©°, 1ë‹¨ê³„ ì˜¬ë¦´ ë•Œë§ˆë‹¤ ë™ì„œ, ë‚¨ë¶ ë°©í–¥ìœ¼ë¡œ 2ë°° ì”© ëŠ˜ì–´ë‚œë‹¤.\në”°ë¼ì„œ í•´ìƒë„ë„ 4ë°° ì¦ê°€í•˜ê²Œ ëœë‹¤.\nì´ë ‡ê²Œ ëŠ˜ì–´ë‚œ í•´ìƒë„ ë•ì— ì‚¬ìš©ìì—ê²Œ ë” ìƒì„¸í•œ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆìœ¼ë©°, í´ë¼ì´ì–¸íŠ¸ëŠ” í•´ë‹¹ ì •ë³´ë¥¼ ì œê³µí•˜ê¸° ìœ„í•œ íƒ€ì„ì„ ë‹¤ìš´ ë°›ëŠ” ë° ë§ì€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì„ ì†Œì§„í•˜ì§€ ì•Šê³ ë„ í´ë¼ì´ì–¸íŠ¸ì— ì„¤ì •ëœ í™•ëŒ€ ìˆ˜ì¤€ì— ìµœì ì¸ í¬ê¸°ì˜ ì§€ë„ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.\nìµœì í™”: ë²¡í„° ì‚¬ìš© ì§€ë„ í‘œì‹œì— WebGL ê¸°ìˆ ì„ ì±„íƒí•˜ì—¬ ì´ë¯¸ì§€ ëŒ€ì‹  ê²½ë¡œì™€ ë‹¤ê°í˜• ë“±ì˜ ë²¡í„° ì •ë³´ë¥¼ ë³´ë‚¸ë‹¤.\në²¡í„° íƒ€ì¼ì€ ì´ë¯¸ì§€ì— ë¹„í•´ ì›”ë“±í•œ ì••ì¶•ë¥ ì„ ê°€ì§€ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì„ ë§ì´ ì•„ë‚„ ìˆ˜ ìˆë‹¤. ë ˆìŠ¤í„° ë°©ì‹ ì´ë¯¸ì§€(Rasterized image)ëŠ” í™•ëŒ€ ìˆ˜ì¤€ì„ ë†’ì´ëŠ” ìˆœê°„ ì´ë¯¸ì§€ê°€ ëŠ˜ì–´ì§€ê³  í”½ì…€ì´ ë„ë“œë¼ì ¸ ë³´ì´ëŠ” ê²ƒê³¼ ë‹¬ë¦¬ ë²¡í„°í™” ëœ ì´ë¯¸ì§€ëŠ” ì´ëŸ¬í•œ ë‹¨ì ì´ ì—†ë‹¤. ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤ ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤ëŠ” ê°€ì¥ ë¹ ë¥¸ ê²½ë¡œë¥¼ ì•ˆë‚´í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nflowchart ac(ëª¨ë°”ì¼ ì‚¬ìš©ì) lb[ë¡œë“œë°¸ëŸ°ì„œ] ns[ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤] gs[ì§€ì˜¤ì½”ë”© ì„œë¹„ìŠ¤] nps[ê²½ë¡œ ê³„íš ì„œë¹„ìŠ¤] rnks[ìˆœìœ„ ê²°ì • ì„œë¹„ìŠ¤] fsns[ìµœë‹¨ ê²½ë¡œ ì„œë¹„ìŠ¤] arrs[ì˜ˆìƒ ë„ì°© ì„œë¹„ìŠ¤] pss[ì‹¤ì‹œê°„ êµí†µ ìƒí™© ì„œë¹„ìŠ¤] gdb(ì§€ì˜¤ì½”ë”© DB) ndb(ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ DB) pdb(êµí†µëŸ‰ DB) udb(ì‚¬ìš©ì ìœ„ì¹˜ DB) ac--\u003elb lb--\u003ens ns--\u003egs ns--\u003enps gs--\u003egdb nps--\u003efsns nps--\u003ernks nps--\u003earrs fsns--\u003endb arrs--\u003epdb pss--\u003epdb pss--\u003eudb ì§€ì˜¤ì½”ë”© ì„œë¹„ìŠ¤ ì£¼ì†Œë¥¼ ìœ„ë„ì™€ ê²½ë„ ìŒìœ¼ë¡œ ë°”ê¾¸ì–´ì¤€ë‹¤.\nì£¼ì†Œì˜ í‘œí˜„ ë°©ì‹ì€ ë‹¤ì–‘í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê³ ë ¤í•´ì•¼í•œë‹¤.\nì¥ì†Œ ì´ë¦„ìœ¼ë¡œ ë‚˜íƒ€ë‚¸ ì£¼ì†Œ ì§€ë²ˆ í˜•íƒœë¡œ ë‚˜íƒ€ë‚¸ ì£¼ì†Œ ë“± ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤ëŠ” ì´ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¶œë°œì§€ì™€ ëª©ì ì§€ ì£¼ì†Œë¥¼ ìœ„ë„/ê²½ë„ ìŒìœ¼ë¡œ ë³€í™˜í•œ ë’¤ ì¶”í›„ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ í˜¸ì¶œì— ì´ìš©í•œë‹¤.\nê²½ë¡œ ê³„íš ì„œë¹„ìŠ¤ ê²½ë¡œ ê³„íš ì„œë¹„ìŠ¤(route planner service)ëŠ” í˜„ì¬ êµí†µ ìƒí™©ê³¼ ë„ë¡œ ìƒíƒœì— ì…ê°í•˜ì—¬ ì´ë™ ì‹œê°„ ì¸¡ë©´ì—ì„œ ìµœì í™”ëœ ê²½ë¡œë¥¼ ì œì•ˆí•œë‹¤.\nìµœë‹¨ ê²½ë¡œ ì„œë¹„ìŠ¤ ìµœë‹¨ ê²½ë¡œ ì„œë¹„ìŠ¤(shortest path service)ëŠ” ì¶œë°œì§€ì™€ ëª©ì ì§€ ìœ„ë„/ê²½ë„ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ kê°œì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ë°˜í™˜í•˜ëŠ” ì„œë¹„ìŠ¤ì´ë‹¤.\nì´ë•Œ êµí†µì´ë‚˜ ë„ë¡œ ìƒí™©ì€ ê³ ë ¤í•˜ì§€ ì•Šê³ , ë„ë¡œ êµ¬ì¡°ì—ë§Œ ì˜ì¡´í•˜ì—¬ ê³„ì‚°ì„ ìˆ˜í–‰í•œë‹¤.\në„ë¡œë§ ê·¸ë˜í”„ëŠ” ê±°ì˜ ì •ì ì´ë¯€ë¡œ ìºì‹œí•´ ë‘ë©´ ì¢‹ë‹¤. ìµœë‹¨ ê²½ë¡œ ì„œë¹„ìŠ¤ëŠ” ê°ì²´ ì €ì¥ì†Œì— ì €ì¥ëœ ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ì— ëŒ€í•´ A* ê²½ë¡œ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì˜ í•œ í˜•íƒœë¥¼ ì‹¤í–‰í•œë‹¤.\nì…ë ¥ìœ¼ë¡œ ì¶œë°œì§€ì™€ ëª©ì ì§€ì˜ ìœ„ë„/ê²½ë„ë¥¼ ë°›ëŠ”ë‹¤. ì´ ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì˜¤í•´ì‹œë¡œ ë³€í˜¸ë‚˜í•œ ë‹¤ìŒ ì¶œë°œì§€ì™€ ëª©ì ì§€ ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ì„ ì–»ëŠ”ë‹¤. ì¶œë°œì§€ íƒ€ì¼ì—ì„œ ì‹œì‘í•˜ì—¬ ê·¸ë˜í”„ ìë£Œ êµ¬ì¡°ë¥¼ íƒìƒ‰í•´ ë‚˜ê°„ë‹¤. íƒìƒ‰ ë²”ìœ„ë¥¼ ë„“íˆëŠ” ê³¼ì •ì—ì„œ í•„ìš”í•œ ì£¼ë³€ íƒ€ì¼ì€ ê°ì²´ ì €ì¥ì†Œ(ìºì‹œ)ì—ì„œ ê°€ì ¸ì˜¨ë‹¤. ê°™ì€ ì§€ì—­ì˜ ë‹¤ë¥¸ í™•ëŒ€ ìˆ˜ì¤€ íƒ€ì¼ë¡œë„ ì—°ê²°ì´ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤. ìµœë‹¨ ê²½ë¡œê°€ ì¶©ë¶„íˆ í™•ë³´ë  ë•Œê¹Œì§€ ì•Œê³ ë¦¬ì¦˜ì€ ê²€ìƒ‰ ë²”ìœ„ë¥¼ ê³„ì† í™•ëŒ€í•´ ë‚˜ê°€ë©´ì„œ í•„ìš”í•œ ë§Œí¼ íƒ€ì¼ì„ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì„ ë°˜ë³µí•œë‹¤.\nì˜ˆìƒ ë„ì°© ì‹œê°„ ì„œë¹„ìŠ¤ ê²½ë¡œ ê³„íš ì„œë¹„ìŠ¤ëŠ” ìµœë‹¨ ê²½ë¡œ ëª©ë¡ì„ ìˆ˜ì‹ í•˜ë©´ ì˜ˆìƒ ë„ì°© ì‹œê°„ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ì—¬ ê·¸ ê²½ë¡œ ê°ê°ì— ëŒ€í•œ ì†Œìš” ì‹œê°„ ì¶”ì •ì¹˜ë¥¼ êµ¬í•œë‹¤.\nê¸°ê³„ í•™ìŠµì„ í™œìš©í•´ í˜„ì¬ êµí†µ ìƒí™© ë° ê³¼ê±° ì´ë ¥ì— ê·¼ê±°í•˜ì—¬ ì˜ˆìƒ ë„ì°© ì‹œê°„ì„ ê³„ì‚°í•œë‹¤.\nì´ ë•Œ ì‹¤ì‹œê°„ êµí†µ ìƒí™© ë°ì´í„° ë¿ë§Œ ì•„ë‹ˆë¼ ì•ìœ¼ë¡œ 10ë¶„ì—ì„œ 20ë¶„ ë’¤ì˜ êµí†µ ìƒí™©ì´ ì–´ë–»ê²Œ ë‹¬ë¼ì§ˆì§€ë„ ì˜ˆì¸¡í•´ì•¼í•œë‹¤.\nìˆœìœ„ ê²°ì • ì„œë¹„ìŠ¤ ETA ì˜ˆìƒì¹˜ë¥¼ êµ¬í•˜ê³  ë‚˜ë©´ ìˆœìœ„ ê²°ì • ì„œë¹„ìŠ¤(ranker)ì— ê´€ë ¨ ì •ë³´ë¥¼ ëª¨ë‘ ì „ë‹¬í•˜ì—¬ ì‚¬ìš©ìê°€ ì •ì˜í•œ í•„í„°ë§ ì¡°ê±´ì„ ì ìš©í•œë‹¤.\nìœ ë£Œ ë„ë¡œ ì œì™¸, ê³ ì†ë„ë¡œ ì œì™¸ ë“± í•„í„°ë§ì´ ëë‚˜ê³  ë‚¨ì€ ê²½ë¡œë¥¼ ì†Œìš” ì‹œê°„ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ìµœë‹¨ ì‹œê°„ ê²½ë¡œ kê°œë¥¼ êµ¬í•œ í›„ ê²½ë¡œ ì•ˆë‚´ ì„œë¹„ìŠ¤ì— ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.\nì¤‘ìš” ì •ë³´ ê°±ì‹  ì„œë¹„ìŠ¤ë“¤ ì´ ë¶€ë¥˜ì˜ ì„œë¹„ìŠ¤ëŠ” ì¹´í”„ì¹´ ìœ„ì¹˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ êµ¬ë…í•˜ê³  ìˆë‹¤ê°€ ì¤‘ìš” ë°ì´í„°ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ì—¬ ê·¸ ìƒíƒœë¥¼ í•­ìƒ ìµœì‹ ìœ¼ë¡œ ìœ ì§€í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nì‹¤ì‹œê°„ êµí†µ ì •ë³´ ë°ì´í„°ë² ì´ìŠ¤ í™œì„±í™” ìƒíƒœ ì‚¬ìš©ìê°€ ë³´ë‚´ëŠ” ìœ„ì¹˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì—ì„œ êµí†µ ìƒí™© ì •ë³´ë¥¼ ì¶”ì¶œ ì‹¤ì‹œê°„ êµí†µ ìƒí™© ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜ë˜ì–´ ì˜ˆìƒ ë„ì°© ì‹œê°„ ì„œë¹„ìŠ¤ê°€ ë”ìš± ì •í™•í•œ ê²°ê³¼ë¥¼ ë‚´ëŠ”ë° ì“°ì¸ë‹¤. ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ ë„ë¡œ ë°ì´í„°ì— ìƒˆë¡œ ë°œê²¬ëœ ë„ë¡œ, íì‡„ë˜ì—ˆìŒì´ í™•ì¸ëœ ë„ë¡œ ì •ë³´ë¥¼ ë°˜ì˜í•˜ì—¬ ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ì„ ì§€ì†ì ìœ¼ë¡œ ê°±ì‹  ìµœë‹¨ ê²½ë¡œ ì„œë¹„ìŠ¤ëŠ” ë” ì •í™•í•œ ê²°ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆê²Œ ëœë‹¤. ì ì‘í˜• ETAì™€ ê²½ë¡œ ë³€ê²½ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ì„œë²„ëŠ” í˜„ì¬ ê²½ë¡œ ì•ˆë‚´ë¥¼ ë°›ê³  ìˆëŠ” ëª¨ë“  ì‚¬ìš©ìë¥¼ ì¶”ì í•˜ë©´ì„œ êµí†µ ìƒí™©ì´ ë‹¬ë¼ì§ˆ ë•Œë§ˆë‹¤ ê° ì‚¬ìš©ìì˜ ETAë¥¼ ë³€ê²½í•´ ì£¼ì–´ì•¼ í•œë‹¤.\ní˜„ì¬ ê²½ë¡œ ì•ˆë‚´ë¥¼ ë°›ê³  ìˆëŠ” ì‚¬ìš©ìëŠ” ì–´ë–»ê²Œ ì¶”ì í•˜ë‚˜? ìˆ˜ë°±ë§Œ ê²½ë¡œ ê°€ìš´ë° êµí†µ ìƒí™© ë³€í™”ì— ì˜í–¥ì„ ë°›ëŠ” ê²½ë¡œì™€ ì‚¬ìš©ìë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê°€ë ¤ë‚¼ ë°©ë²•ì€? ì‚¬ìš©ì user_1ì´ ì•ˆë‚´ë°›ì€ ê²½ë¡œê°€ ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼ r_1 \u0026hellip; r_7 êµ¬ì„±ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•œë‹¤.\níš¨ìœ¨ì ì´ì§€ ì•Šì€ ë°©ë²•\nì‚¬ìš©ìì™€ ê²½ë¡œ ì •ë³´ë¥¼ ë°ì´í„° ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤ê³  í•˜ë©´ ì•„ë˜ì™€ ê°™ì„ ê²ƒ ì´ë‹¤.\n1 2 3 4 user_1: r_1, r_2 ..., r_k user_2: r_1, r_2 ..., r_n user_3: r_2, r_3 ..., r_m user_4: r_3, r_10 ..., r_l ì´ ë•Œ r_2ì—ì„œ êµí†µ ì‚¬ê³ ê°€ ë°œìƒí–ˆë‹¤ë©´, ì–´ë–¤ ì‚¬ìš©ìê°€ ì˜í–¥ì„ ë°›ëŠ”ì§€ ì•Œì•„ë‚´ê¸° ìœ„í•´ ë ˆì½”ë“œë¥¼ ì „ìˆ˜ ì¡°ì‚¬í•´ì•¼í•œë‹¤.\ní…Œì´ë¸”ì— ë³´ê´€ëœ ë ˆì½”ë“œ ìˆ˜ê°€ nì´ê³  ì•ˆë‚´ë˜ëŠ” ê²½ë¡œì˜ í‰ê·  ê¸¸ì´ê°€ mì´ë¼ë©´ ëª¨ë“  ì‚¬ìš©ì ê²€ìƒ‰ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” O(n * m)ì´ë‹¤.\nê°œì„ ëœ ë°©ë²•\nê²½ë¡œ ì•ˆë‚´ë¥¼ ë°›ëŠ” ì‚¬ìš©ì ê°ê°€ì˜ í˜„ì¬ ê²½ë¡œ ì•ˆë‚´ íƒ€ì¼, ê·¸ íƒ€ì¼ì„ í¬í•¨í•˜ëŠ” ìƒìœ„ íƒ€ì¼(í™•ëŒ€ ìˆ˜ì¤€ì´ ë” ë‚®ì€ íƒ€ì¼), ê·¸ ìƒìœ„ íƒ€ì¼ì˜ ìƒìœ„ íƒ€ì¼ì„ ì¶œë°œì§€ì™€ ëª©ì ì§€ê°€ ëª¨ë‘ í¬í•¨ëœ íƒ€ì¼ì„ ì°¾ì„ ë•Œê¹Œì§€ ì¬ê·€ì ìœ¼ë¡œ ë”í•˜ì—¬ ë³´ê´€í•œë‹¤.\n1 user_1, r_1, super(r_1), super(super(r_1)), ... ì–´ë–¤ íƒ€ì¼ì˜ êµí†µ ìƒí™©ì´ ë³€í–ˆì„ ë•Œ ê²½ë¡œ ì•ˆë‚´ ETAê°€ ë‹¬ë¼ì§€ëŠ” ì‚¬ìš©ìëŠ”, í•´ë‹¹ ì‚¬ìš©ìì˜ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì½”ë“œ ë§ˆì§€ë§‰ íƒ€ì¼ì— ê·¸ íƒ€ì¼ì´ ì†í•˜ëŠ” ì‚¬ìš©ìê°€ ëœë‹¤.\nê·¸ ì´ì™¸ì˜ ì‚¬ìš©ìì—ê²ŒëŠ” ì•„ë¬´ëŸ° ì˜í–¥ì´ ì—†ìœ¼ë¯€ë¡œ ê²€ìƒ‰ ì‹œê°„ ë³µì¡ë„ê°€ O(n)ìœ¼ë¡œ ì¤„ì–´ë“¤ì–´ ì¢€ ë” íš¨ìœ¨ì ì´ë‹¤.\nê·¸ëŸ¬ë‚˜ ì´ ì ‘ê·¼ë²•ì€ êµí†µ ìƒí™©ì´ ê°œì„ ë˜ì—ˆì„ ë•Œ í•´ì•¼ í•˜ëŠ” ì¼ê¹Œì§€ í•´ê²°í•´ ì£¼ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ íƒ€ì¼ 2ì˜ êµí†µ ìƒí™©ì´ íšŒë³µë˜ì–´ì„œ ì‚¬ìš©ìê°€ ì˜›ë‚  ê²½ë¡œë¡œ ëŒì•„ê°€ë„ ëœë‹¤ê³  í•  ë•Œ ê²½ë¡œ ì¬ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ê°ì§€í•˜ê³  ì•Œë ¤ì•¼í•œë‹¤.\ní•œ ê°€ì§€ ë°©ì•ˆì€ í˜„ì¬ ê²½ë¡œ ì•ˆë‚´ë¥¼ ë°›ëŠ” ì‚¬ìš©ìê°€ ì´ìš© ê°€ëŠ¥í•œ ê²½ë¡œì˜ ETAë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì¬ê³„ì‚°í•˜ì—¬ ë” ì§§ì€ ETAë¥¼ ê°„ì¦ ê²½ë¡œê°€ ë°œê²¬ë˜ë©´ ì•Œë¦¬ëŠ” ê²ƒ ì´ë‹¤.\nì „ì†¡ í”„ë¡œí† ì½œ ê²½ë¡œ ì•ˆë‚´ ì¤‘ì— ê²½ë¡œ ìƒí™©ì´ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë°ì´í„°ë¥¼ ëª¨ë°”ì¼ í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡í•  ì•ˆì •ì ì¸ ë°©ë²•ì´ í•„ìš”í•˜ë‹¤.\nì´ ê²½ìš° ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ë° í™œìš©í•  ìˆ˜ ìˆëŠ” í”„ë¡œí† ì½œë¡œëŠ” ëª¨ë°”ì¼ í‘¸ì‹œ ì•Œë¦¼, ë¡± í´ë§, ì›¹ì†Œì¼“, ì„œë²„ ì „ì†¡ ì´ë²¤íŠ¸ ë“±ì´ ìˆë‹¤.\nëª¨ë°”ì¼ í‘¸ì‹œ ì•Œë¦¼ ë©”ì‹œì§€ í¬ê¸°ê°€ ë§¤ìš° ì œí•œì ì´ë¯€ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²Œ ë°”ëŒì§í•˜ë‹¤. ì›¹ì†Œì¼“ ì„œë²„ì— ì£¼ëŠ” ë¶€ë‹´ì´ í¬ì§€ ì•Šì•„ ì¼ë°˜ì ìœ¼ë¡œ ë¡± í´ë§ë³´ë‹¤ ì¢‹ì€ ë°©ì•ˆìœ¼ë¡œ ë³¸ë‹¤. ì›¹ì†Œì¼“ SSE ëª¨ë‘ ê´œì°®ì€ ë°©ë²•ì´ì§€ë§Œ ë³¸ ì„¤ê³„ì•ˆì—ì„œëŠ” ì›¹ì†Œì¼“ì„ ì‚¬ìš©í•œë‹¤.\nì–‘ë°©í–¥ í†µì‹ ì„ ì§€ì›í•˜ì—¬ íŒ¨í‚¤ì§€ë‚˜ ìƒí’ˆì´ ëª©ì ì§€ì— ê°€ê¹Œì›Œì¡Œì„ ë•ŒëŠ” ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹ ì´ í•„ìš”í•œ ê²½ìš°ë„ ìˆê¸° ë•Œë¬¸ 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì‹œìŠ¤í…œì˜ í™•ì¥ì— ê´€ì‹¬ì´ ìˆë‹¤ë©´, ê¸°ì—… ê³ ê° ëŒ€ìƒìœ¼ë¡œ ì¤‘ê°„ ê²½ìœ ì§€ ì„¤ì • ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ë©´ ì¢‹ë‹¤.\ní•˜ë‚˜ê°€ ì•„ë‹Œ ì—¬ëŸ¬ ëª©ì ì§€ë¥¼ ì…ë ¥ìœ¼ë¡œ í•˜ë©´ ê·¸ ëª¨ë‘ë¥¼ ì–´ë–¤ ìˆœì„œë¡œ ë°©ë¬¸í•´ì•¼ ê°€ì¥ ë¹¨ë¦¬ ê²½ìœ í•  ìˆ˜ ìˆì„ì§€ ì‹¤ì‹œê°„ êµí†µ ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ ì•ˆë‚´ ë„ì–´ëŒ€ì‹œ, ìš°ë²„, ë¦¬í”„íŠ¸ ê°™ì€ ë°°ë‹¬ ì„œë¹„ìŠ¤ì— ìœ ìš© ","date":"2024-08-24T16:38:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/3/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/3/","title":"3. êµ¬ê¸€ ë§µ"},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” ì£¼ë³€ ì¹œêµ¬(nearby friends)ë¼ëŠ” ëª¨ë°”ì¼ ì•± ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ê·œëª¨ í™•ì¥ì´ ìš©ì´í•œ ë°±ì—”ë“œ ì‹œìŠ¤í…œì„ ì„¤ê³„í•´ë³¸ë‹¤.\nì•± ì‚¬ìš©ì ê°€ìš´ë° ë³¸ì¸ ìœ„ì¹˜ ì •ë³´ ì ‘ê·¼ ê¶Œí•œì„ í—ˆë½í•œ ì‚¬ìš©ìì— í•œì— ì¸ê·¼ì˜ ì¹œêµ¬ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” ì‹œìŠ¤í…œ\n1ì¥ ê·¼ì ‘ì„± ì„œë¹„ìŠ¤ì™€ ì£¼ë³€ ì¹œêµ¬ ëŠ” ë¹„ìŠ·í•´ ë³´ì´ì§€ë§Œ í° ì°¨ì´ê°€ ìˆë‹¤.\nê·¼ì ‘ì„± ì„œë¹„ìŠ¤ì˜ ì‚¬ì—…ì¥ ì£¼ì†ŒëŠ” ì •ì ì´ë‹¤. ì£¼ë³€ ì¹œêµ¬ ìœ„ì¹˜ëŠ” ìì£¼ ë°”ë€ë‹¤. 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • í˜ì´ìŠ¤ë¶ ê·œëª¨ë¥¼ ì§€ì›í•˜ëŠ” ë°±ì—”ë“œ ì‹œìŠ¤í…œì€ ë³µì¡í•˜ë‹¤. ë”°ë¼ì„œ ì„¤ê³„ ì‹œì‘ ì „ ì§ˆë¬¸ì„ í†µí•´ ì„¤ê³„ ë²”ìœ„ë¥¼ ì¢í˜€ì•¼í•œë‹¤.\nQ. ì§€ë¦¬ì ìœ¼ë¡œ ì–¼ë§ˆë‚˜ ê°€ê¹Œì›Œì•¼ ì£¼ë³€ì— ìˆë‹¤ê³  í•  ìˆ˜ ìˆëŠ”ê°€? A. 5ë§ˆì¼. ì´ ìˆ˜ì¹˜ëŠ” ì„¤ì • ê°€ëŠ¥í•´ì•¼í•œë‹¤. Q. ë‘ ì‚¬ìš©ì ì‚¬ì´ì˜ ì§ì„  ê±°ë¦¬ë¼ê³  ê°€ì •? A. Y Q. ì–¼ë§ˆë‚˜ ë§ì€ ì‚¬ìš©ìê°€ ì´ ì•±ì„ ì‚¬ìš©í•˜ëŠ”ê°€? 10ì–µëª…ì„ ê°€ë„í•˜ê³ , ê·¸ ê°€ìš´ë° 10% ì •ë„ê°€ ì´ ê¸°ëŠ¥ì„ í™œìš©í•œë‹¤ê³  ìƒê°í•´ë„ ê´œì°®ì€ê°€? A. Y Q. ì‚¬ìš©ìì˜ ì´ë™ ì´ë ¥ì„ ë³´ê´€í•´ ë‘¬ì•¼í•˜ëŠ”ê°€? A. Y Q. ì¹œêµ¬ ê´€ê³„ì— ìˆëŠ” ì‚¬ìš©ìê°€ 10ë¶„ ì´ìƒ ë¹„í™œì„± ìƒíƒœë©´ í•´ë‹¹ ì‚¬ìš©ìë¥¼ ì£¼ë³€ ì¹œêµ¬ ëª©ë¡ì—ì„œ ì‚¬ë¼ì§€ë„ë¡ í•´ì•¼í•˜ëŠ”ê°€? ë§ˆì§€ë§‰ í™•ì¸ ìœ„ì¹˜ë¥¼ í‘œì‹œí•˜ëŠ”ê°€? A. ì‚¬ë¼ì§€ê²Œ í•  ê²ƒ Q. GDPR, CCPA ê°™ì€ ì‚¬ìƒí™œ ë° ë°ì´í„° ë³´í˜¸ë²•ë„ ê³ ë ¤í•´ì•¼í•˜ëŠ”ê°€? A. ê³¼ì •ì´ ë„ˆë¬´ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë°°ì œ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì‚¬ìš©ìëŠ” ëª¨ë°”ì¼ ì•±ì—ì„œ ì£¼ë³€ ì¹œêµ¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. í•´ë‹¹ ì¹œêµ¬ê¹Œì§€ì˜ ê±°ë¦¬ í‘œì‹œ ì •ë³´ê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ ê°±ì‹ ëœ ì‹œê°„ì´ í•¨ê»˜ í‘œì‹œ ì´ ì¹œêµ¬ ëª©ë¡ì€ ëª‡ ì´ˆë§ˆë‹¤ í•œë²ˆ ì”© ê°±ì‹  ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë‚®ì€ ì§€ì—° ì‹œê°„(low latency) ì£¼ë³€ ì¹œêµ¬ì˜ ìœ„ì¹˜ ë³€í™”ê°€ ë°˜ì˜ë˜ëŠ” ë° ë„ˆë¬´ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ì§€ ì•Šì•„ì•¼í•¨ ì•ˆì •ì„± ì „ë°˜ì ìœ¼ë¡œ ì•ˆì •ì ì´ì–´ì•¼ í•˜ì§€ë§Œ, ê°€ë” ëª‡ ê°œ ë°ì´í„°ê°€ ìœ ì‹¤ë˜ëŠ” ê²ƒ ì •ë„ëŠ” ìš©ì¸ ê°€ëŠ¥ ê²°ê³¼ì • ì¼ê´€ì„± ìœ„ì¹˜ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ê°•í•œ ì¼ê´€ì„±ì„ ì§€ì›í•˜ëŠ” ë°ì´í„° ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤. ë³µì œë³¸ì˜ ë°ì´í„°ê°€ ì›ë³¸ê³¼ ë™ì¼í•˜ê²Œ ë³€ê²½ë˜ê¸°ê¹Œì§€ ëª‡ ì´ˆ ì •ë„ ê±¸ë¦¬ëŠ” ê²ƒì€ ìš©ì¸ ê°œëµì  ê·œëª¨ ì¶”ì • ì œì‹œí•  ì†”ë£¨ì…˜ì´ í’€ì–´ì•¼ í•  ë„ì „ì  ê³¼ì œë¥¼ ê²°ì •í•˜ê¸° ìœ„í•´, ê°œëµì ìœ¼ë¡œ ë¬¸ì œ ê·œëª¨ë¥¼ ì¶”ì •í•œë‹¤.\nì£¼ë³€ ì¹œêµ¬ëŠ” 5ë§ˆì¼(8km) ë°˜ê²½ ì´ë‚´ ì¹œêµ¬ë¡œ ì •ì˜ ìœ„ì¹˜ ì •ë³´ëŠ” 30ì´ˆ ì£¼ê¸°ë¡œ ê°±ì‹  ì‚¬ëŒì˜ ê±·ëŠ” ì†ë„ê°€ 4-6km/h ì •ë„ë¡œ ëŠë¦¼ 30ì´ˆ ì£¼ê¸°ë¼ë©´ ì£¼ë³€ ì¹œêµ¬ ê²€ìƒ‰ ê²°ê³¼ê°€ í¬ê²Œ ë‹¬ë¼ì§€ì§€ëŠ” ì•ŠìŒ í‰ê· ì ìœ¼ë¡œ ë§¤ì¼ ì£¼ë³€ ì¹œêµ¬ ê²€ìƒ‰ ê¸°ëŠ¥ì„ í™œìš©í•˜ëŠ” ì‚¬ìš©ìëŠ” 1ì–µëª…ìœ¼ë¡œ ê°€ì • ë™ì‹œ ì ‘ì† ì‚¬ìš©ìì˜ ìˆ˜ëŠ” **DAUì˜ 10%**ë¡œ ê°€ì • ì²œë§Œëª…ì´ ë™ì‹œì— ì‹œìŠ¤í…œì„ ì´ìš©í•œë‹¤ê³  ê°€ì • í‰ê· ì ìœ¼ë¡œ í•œ ì‚¬ìš©ìëŠ” 400ëª…ì˜ ì¹œêµ¬ë¥¼ ê°–ëŠ”ë‹¤ê³  ê°€ì • ëª¨ë“  ì¹œêµ¬ê°€ ì£¼ë³€ ì¹œêµ¬ ê²€ìƒ‰ ê¸°ëŠ¥ì„ í™œìš©í•œë‹¤ê³  ê°€ì • ì´ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì•±ì€ í•œ í˜ì´ì§€ë‹¹ 20ëª…ì˜ ì£¼ë³€ ì¹œêµ¬ë¥¼ í‘œì‹œ ì‚¬ìš©ìì˜ ìš”ì²­ì´ ìˆë‹¤ë©´ ë” ë§ì€ ì£¼ë³€ ì¹œêµ¬ë¥¼ ë…¸ì¶œ QPS ê³„ì‚°\n1ì–µ DAU ë™ì‹œ ì ‘ì† ì‚¬ìš©ì: 10% * 1ì–µ = ì²œë§Œ ì‚¬ìš©ìëŠ” 30ì´ˆë§ˆë‹¤ ìê¸° ìœ„ì¹˜ë¥¼ ì‹œìŠ¤í…œì— ì „ì†¡ ìœ„ì¹˜ ì •ë³´ ê°±ì‹  QPS = ì²œë§Œ / 30 = ~334,000 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ìœ„ì¹˜ ì •ë³´ë¥¼ ëª¨ë“  ì¹œêµ¬ì—ê²Œ ì „ì†¡í•´ì•¼ í•œë‹¤ëŠ” ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ì¸í•´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì˜ í†µì‹  í”„ë¡œí† ì½œë¡œ ë‹¨ìˆœí•œ HTTP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ë  ìˆ˜ ìˆìŒì„ ê°ì•ˆí•´ì•¼í•œë‹¤.\nê°œëµì  ì„¤ê³„ì•ˆ ì´ë²ˆ ë¬¸ì œëŠ” ë©”ì‹œì§€ì˜ íš¨ê³¼ì  ì „ì†¡ì„ ê°€ëŠ¥ì¼€ í•  ì„¤ê³„ì–€ì„ ìš”êµ¬í•œë‹¤.\nê°œë…ì ìœ¼ë¡œ ë³´ë©´ ì‚¬ìš©ìëŠ” ê·¼ë°©ì˜ ëª¨ë“  í™œì„± ìƒíƒœ ì¹œêµ¬ì˜ ìƒˆ ìœ„ì¹˜ ì •ë³´ë¥¼ ìˆ˜ì‹ í•˜ê³ ì í•œë‹¤. ì´ë¡ ì ìœ¼ë¡œ ìˆœìˆ˜í•œ P2P(peer-to-peer) ë°©ì‹ìœ¼ë¡œë„ í•´ê²° ê°€ëŠ¥í•œ ë¬¸ì œì´ë‹¤.\në‹¤ì‹œ ë§í•´, í™œì„± ìƒíƒœì¸ ê·¼ë°© ëª¨ë“  ì¹œêµ¬ì™€ í•­êµ¬ì  í†µì‹  ìƒíƒœë¥¼ ìœ ì§€í•˜ë©´ ë˜ëŠ” ê²ƒì´ë‹¤.\nP2P í†µì‹ ì€ ì‹¤ìš©ì ì¸ ì•„ì´ë””ì–´ëŠ” ì•„ë‹ˆì§€ë§Œ ì¶”êµ¬í•´ì•¼ í•  ì„¤ê³„ ë°©í–¥ì— ëŒ€í•œ í†µì°°ì€ ì–»ì„ ìˆ˜ ìˆë‹¤.\nì´ë³´ë‹¤ ì¡°ê¸ˆ ë” ì‹¤ìš©ì ì¸ ì„¤ê³„ì•ˆì€ ê³µìš© ë°±ì—”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.\në°±ì—”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nëª¨ë“  í™œì„± ìƒíƒœ ì‚¬ìš©ìì˜ ìœ„ì¹˜ ë³€í™” ë‚´ì—­ì„ ìˆ˜ì‹  ì‚¬ìš©ì ìœ„ì¹˜ ë³€ê²½ ë‚´ì—­ì„ ìˆ˜ì‹ í•  ë•Œë§ˆë‹¤ í•´ë‹¹ ì‚¬ìš©ìì˜ ëª¨ë“  í™œì„± ìƒíƒœ ì¹œêµ¬ë¥¼ ì°¾ì•„ ê·¸ ì¹œêµ¬ë“¤ì˜ ë‹¨ë§ë¡œ ë³€ê²½ ë‚´ì—­ì„ ì „ë‹¬ ë‘ ì‚¬ìš©ì ì‚¬ì´ì˜ ê±°ë¦¬ê°€ íŠ¹ì • ì„ê³„ì¹˜ë³´ë‹¤ ë¨¼ ê²½ìš° ë³€ê²½ ë‚´ì—­ì„ ì „ì†¡í•˜ì§€ ì•ŠìŒ ê°„ë‹¨í•´ ë³´ì´ì§€ë§Œ ë¬¸ì œì˜ ê°€ì •ì´ í™œì„± ìƒíƒœì˜ ë™ì‹œ ì ‘ì† ì‚¬ìš©ì ì²œë§Œ ëª…ì´ë¯€ë¡œ í° ê·œëª¨ì— ì ìš©í•˜ê¸°ê°€ ì‰½ì§€ ì•Šë‹¤.\nì²œë§Œëª…ì´ ìê¸° ìœ„ì¹˜ ì •ë³´ë¥¼ 30ì´ˆë§ˆë‹¤ ê°±ì‹ í•˜ë©´ 334,000ë²ˆì˜ ìœ„ì¹˜ ì •ë³´ ê°±ì‹  ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤. ì‚¬ìš©ì 1ëª…ì€ 400ëª…ì˜ ì¹œêµ¬ë¥¼ ê°€ì§€ê³ , ê·¸ ì¤‘ 10%ê°€ ì¸ê·¼ì—ì„œ í™œì„±í™” ìƒíƒœë¼ë©´, ì´ˆë‹¹ 334,000 * 400 * 10% = 1400ë§Œ ê±´ì˜ ìœ„ì¹˜ ì •ë³´ ê°±ì‹  ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼í•œë‹¤. ì—„ì²­ë‚œ ì–‘ì˜ ê°±ì‹  ë‚´ì—­ì„ ì‚¬ìš©ì ë‹¨ë§ë¡œ ë³´ë‚´ì•¼í•œë‹¤. ì„¤ê³„ì•ˆ ìš°ì„  ì†Œê·œëª¨ ë°±ì—”ë“œë¥¼ ìœ„í•œ ê°œëµì  ì„¤ê³„ì•ˆì—ì„œ ì‹œì‘í•˜ì—¬ ë” í° ê·œëª¨ì— ë§ê²Œ í™•ì¥í•´ë‚˜ê°„ë‹¤.\në¡œë“œ ë°¸ëŸ°ì„œ\nRESTful API ì„œë²„ ë° ì–‘ë°©í–¥ ìœ ìƒíƒœ ì›¹ì†Œì¼“ ì„œë²„ ì•ë‹¨ì— ìœ„ì¹˜í•œë‹¤.\në¶€í•˜ë¥¼ ê³ ë¥´ê²Œ ë¶„ì‚°í•˜ê¸° ìœ„í•´ íŠ¸ë˜í”½ì„ ì„œë²„ë“¤ì— ë°°ë¶„í•˜ëŠ” ì—­í• ì„ í•œë‹¤.\nRESTful API ì„œë²„\në¬´ìƒíƒœ API ì„œë²„ì˜ í´ëŸ¬ìŠ¤í„° í†µìƒì ì¸ ìš”ì²­/ì‘ë‹µ íŠ¸ë˜í”½ì„ ì²˜ë¦¬ ì¹œêµ¬ë¥¼ ì¶”ê°€/ì‚­ì œí•˜ê±°ë‚˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°±ì‹ í•˜ëŠ” ë“±ì˜ ë¶€ê°€ì ì¸ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.\nì›¹ì†Œì¼“ ì„œë²„\nì¹œêµ¬ ìœ„ì¹˜ ì •ë³´ ë³€ê²½ì„ ê±°ì˜ ì‹¤ì‹œê°„ì— ê°€ê¹ê²Œ ì²˜ë¦¬í•˜ëŠ” ìœ ìƒíƒœ ì„œë²„ í´ëŸ¬ìŠ¤í„°ì´ë‹¤.\nê° í´ë¼ì´ì–¸íŠ¸ëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ í•œ ëŒ€ ì„œë²„ì™€ ì›¹ì†Œì¼“ ì—°ê²°ì€ ì§€ì†ì ìœ¼ë¡œ ìœ ì§€ ê²€ìƒ‰ ë°˜ê²½ ë‚´ ì¹œêµ¬ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ë©´ í•´ë‹¹ ë‚´ì—­ì€ ì´ ì—°ê²°ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ ì£¼ë³€ ì¹œêµ¬ ê¸°ëŠ¥ì„ ì´ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì´ˆê¸°í™” ë‹´ë‹¹ ì˜¨ë¼ì¸ ìƒíƒœì¸ ëª¨ë“  ì£¼ë³€ ì¹œêµ¬ ìœ„ì¹˜ë¥¼ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ ë ˆë””ìŠ¤ ìœ„ì¹˜ ì •ë³´ ìºì‹œ\ní™œì„± ìƒíƒœ ì‚¬ìš©ìì˜ ê°€ì¥ ìµœê·¼ ìœ„ì¹˜ ì •ë³´ë¥¼ ìºì‹œí•˜ëŠ” ë° ì‚¬ìš©í•œë‹¤.\në ˆë””ìŠ¤ì— ë³´ê´€í•˜ëŠ” ìºì‹œ í•­ëª©ì—ëŠ” TTL(Time-To-Live) í•„ë“œê°€ ìˆì–´, ì„¤ì •í•œ ê¸°ê°„ì´ ì§€ë‚˜ë©´ í•´ë‹¹ ì‚¬ìš©ìëŠ” ë¹„í™œì„±ìœ¼ë¡œ ë°”ë€Œê³  ìœ„ì¹˜ ì •ë³´ëŠ” ìºì‹œì—ì„œ ì‚­ì œëœë‹¤. ìºì‹œì— ë³´ê´€ëœ ì •ë³´ë¥¼ ê°±ì‹ í•  ë•Œ TTLë„ ê°±ì‹ í•œë‹¤. ë ˆë””ìŠ¤ê°€ ì•„ë‹ˆë”ë¼ë„ TTLì„ ì§€ì›í•˜ëŠ” í‚¤-ê°’ ì €ì¥ì†ŒëŠ” ìºì‹œë¡œ í™œìš©ë  ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ì ë°ì´í„° ë² ì´ìŠ¤\nì‚¬ìš©ì ë°ì´í„° ë° ì‚¬ìš©ìì˜ ì¹œêµ¬ ê´€ê³„ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤, NoSQL ì–´ëŠ ìª½ì´ë“  ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\nìœ„ì¹˜ ì´ë™ ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤\nì‚¬ìš©ìì˜ ìœ„ì¹˜ ë³€ë™ ì´ë ¥ì„ ë³´ê´€í•œë‹¤.\nì£¼ë³€ ì¹œêµ¬ í‘œì‹œì™€ ì§ì ‘ ê´€ê³„ëœ ê¸°ëŠ¥ì€ ì•„ë‹ˆë‹¤.\në ˆë””ìŠ¤ í/ì„­ ì„œë²„\në ˆë””ìŠ¤ í/ì„­ì€ ì´ˆê²½ëŸ‰ ë©”ì‹œì§€ ë²„ìŠ¤(message bus)ë‹¤.\në ˆë””ìŠ¤ í/ì„­ì— ìƒˆë¡œìš´ ì±„ë„ì„ ìƒì„±í•˜ëŠ” ê²ƒì€ ì•„ì£¼ ê°’ì‹¼ ì—°ê²°ì´ë‹¤. ê¸°ê°€ë°”ì´íŠ¸ê¸‰ ë©”ëª¨ë¦¬ë¥¼ ê°–ì¶˜ ìµœì‹  ë ˆë””ìŠ¤ ì„œë²„ì—ëŠ” ìˆ˜ë°±ë§Œ ê°œì˜ ì±„ë„(í† í”½)ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ì›¹ì†Œì¼“ ì„œë²„ë¥¼ í†µí•´ ìˆ˜ì‹ í•œ íŠ¹ì • ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ ë³€ê²½ ì´ë²¤íŠ¸ëŠ” í•´ë‹¹ ì‚¬ìš©ìì—ê²Œ ë°°ì •ëœ í/ì„­ ì±„ë„ì— ë°œí–‰í•œë‹¤. í•´ë‹¹ ì‚¬ìš©ìì˜ ì¹œêµ¬ ê°ê°ê³¼ ì—°ê²°ëœ ì›¹ì†Œì¼“ ì—°ê²° í•¸ë“¤ëŸ¬ëŠ” í•´ë‹¹ ì±„ë„ì˜ êµ¬ë…ìë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤. íŠ¹ì • ì‚¬ìš©ìì˜ ìœ„ì¹˜ê°€ ë°”ë€Œë©´ í•´ë‹¹ ì‚¬ìš©ìì˜ ëª¨ë“  ì¹œêµ¬ì˜ ì›¹ì†Œì¼“ ì—°ê²° í•¸ë“¤ëŸ¬ê°€ í˜¸ì¶œëœë‹¤. í•¸ë“¤ëŸ¬ëŠ” ìœ„ì¹˜ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•  ì¹œêµ¬ê°€ í™œì„± ìƒíƒœë©´ ê±°ë¦¬ë¥¼ ë‹¤ì‹œ ê³„ì‚°í•œë‹¤. ê²€ìƒ‰ ë°˜ê²½ ì´ë‚´ë©´ ê°±ì‹ ëœ ìœ„ì¹˜ì™€ ê°±ì‹  ì‹œê°„ì„ ì›¹ì†Œì¼“ ì—°ê²°ì„ í†µí•´ í•´ë‹¹ ì¹œêµ¬ì˜ í´ë¼ì´ì–¸íŠ¸ ì•±ìœ¼ë¡œ ë³´ë‚¸ë‹¤. ë‹¤ë¥¸ ë©”ì‹œì§€ ë²„ìŠ¤ ê¸°ìˆ ë„ ê²½ëŸ‰ì˜ í†µì‹  ì±„ë„ë§Œ ì œê³µí•œë‹¤ë©´ ê°™ì€ í˜•íƒœë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\nì£¼ê¸°ì  ìœ„ì¹˜ ê°±ì‹ \nëª¨ë°”ì¼ í´ë¼ì´ì–¸íŠ¸ëŠ” í•­êµ¬ì ìœ¼ë¡œ ìœ ì§€ë˜ëŠ” ì›¹ì†Œì¼“ ì—°ê²°ì„ í†µí•´ ì£¼ê¸°ì ìœ¼ë¡œ ìœ„ì¹˜ ë³€ê²½ ë‚´ì—­ì„ ì „ì†¡í•œë‹¤.\nëª¨ë°”ì¼ í´ë¼ì´ì–¸íŠ¸ê°€ ìœ„ì¹˜ê°€ ë³€ê²½ëœ ì‚¬ì‹¤ì„ ë¡œë“œë°¸ëŸ°ì„œì— ì „ì†¡ ë¡œë“œë°¸ëŸ°ì„œëŠ” ê·¸ ìœ„ì¹˜ ë³€ê²½ ë‚´ì—­ì„ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ì™€ ì›¹ì†Œì¼“ ì„œë²„ ì‚¬ì´ì— ì„¤ì •ëœ ì—°ê²°ì„ í†µí•´ ì›¹ì†Œì¼“ ì„œë²„ë¡œ ë³´ëƒ„ ì•„ë˜ ì‘ì—…ì„ ë³‘ë ¬ë¡œ ìˆ˜í–‰ ì›¹ì†Œì¼“ ì„œë²„ëŠ” í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ìœ„ì¹˜ ì´ë™ ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ ì›¹ì†Œì¼“ ì„œë²„ëŠ” ìƒˆ ìœ„ì¹˜ë¥¼ ìœ„ì¹˜ ì •ë³´ ìºì‹œì— ë³´ê´€ TTLë„ ìƒˆë¡­ê²Œ ê°±ì‹  ì›¹ì†Œì¼“ ì—°ê²° í•¸ë“¤ëŸ¬ ì•ˆì˜ ë³€ìˆ˜ì— í•´ë‹¹ ìœ„ì¹˜ë¥¼ ë°˜ì˜(ê±°ë¦¬ ê³„ì‚°ì— í™œìš©) ì›¹ì†Œì¼“ ì„œë²„ëŠ” ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ì˜ í•´ë‹¹ ì‚¬ìš©ì ì±„ë„ì— ìƒˆ ìœ„ì¹˜ë¥¼ ë°œí–‰ ë ˆë””ìŠ¤ í/ì„­ ì±„ë„ì— ë°œí–‰ëœ ìƒˆë¡œìš´ ìœ„ì¹˜ ë³€ê²½ ì´ë²¤íŠ¸ëŠ” ëª¨ë“  êµ¬ë…ì(ì›¹ì†Œì¼“ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬)ì—ê²Œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ëœë‹¤. êµ¬ë…ìëŠ” ìœ„ì¹˜ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ë³´ë‚¸ ì‚¬ìš©ìì˜ ì˜¨ë¼ì¸ ìƒíƒœ ì¹œêµ¬ë“¤ êµ¬ë…ìì˜ ì›¹ì†Œì¼“ ì—°ê²° í•¸ë“¤ëŸ¬ëŠ” ì¹œêµ¬ì˜ ìœ„ì¹˜ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹  ë©”ì‹œì§€ë¥¼ ë°›ëŠ” ì›¹ ì†Œì¼“ ì„œë²„, ì¦‰ ì›¹ ì†Œì¼“ ì—°ê²° í•¸ë“¤ëŸ¬ê°€ ìœ„ì¹˜í•œ ì›¹ ì†Œì¼“ ì„œë²„ëŠ” ìƒˆ ìœ„ì¹˜ë¥¼ ë³´ë‚¸ ì‚¬ìš©ìì™€ ë©”ì‹œì§€ë¥¼ ë°›ì€ ì‚¬ìš©ì ì‚¬ì´ì˜ ê±°ë¦¬ë¥¼ ìƒˆë¡œ ê³„ì‚° ê²€ìƒ‰ ë°˜ê²½ì„ ë„˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìƒˆ ìœ„ì¹˜ ë° í•´ë‹¹ ìœ„ì¹˜ë¡œì˜ ì´ë™ì´ ë°œìƒí•œ ì‹œê°ì„ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ í•´ë‹¹ êµ¬ë…ìì˜ í´ë¼ì´ì–¸íŠ¸ ì•±ìœ¼ë¡œ ì „ì†¡ ë„˜ì€ ê²½ìš°ì—ëŠ” ë³´ë‚´ì§€ ì•ŠìŒ ì‚¬ìš©ì 1ì˜ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ë©´ ê·¸ ë³€ê²½ ë‚´ì—­ì€ ì‚¬ìš©ì 1ê³¼ì˜ ì—°ê²°ì„ ìœ ì§€í•˜ê³  ìˆëŠ” ì›¹ì†Œì¼“ ì„œë²„ì— ì „ì†¡ë¨ í•´ë‹¹ ë³€ê²½ ë‚´ì—­ì€ ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ ë‚´ì˜ ì‚¬ìš©ì 1 ì „ìš© ì±„ë„ë¡œ ë°œí–‰ ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ëŠ” í•´ë‹¹ ë³€ê²½ ë‚´ì—­ì„ ëª¨ë“  êµ¬ë…ìì—ê²Œ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•œë‹¤. êµ¬ë…ìëŠ” ì‚¬ìš©ì 1ê³¼ ì¹œêµ¬ ê´€ê³„ì— ìˆëŠ” ëª¨ë“  ì›¹ì†Œì¼“ ì—°ê²° í•¸ë“¤ëŸ¬ ìœ„ì¹˜ ë³€ê²½ ë‚´ì—­ì„ ë³´ë‚¸ ì‚¬ìš©ìì™€ êµ¬ë…ì ì‚¬ì´ì˜ ê±°ë¦¬(ì‚¬ìš©ì 1ê³¼ 2 ì‚¬ì´ì˜ ê±°ë¦¬)ê°€ ê²€ìƒ‰ ë°˜ê²½ì„ ë„˜ì§€ ì•Šì„ ê²½ìš° ìƒˆë¡œìš´ ìœ„ì¹˜ëŠ” ì‚¬ìš©ì 2ì˜ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ ì´ ê³„ì‚° ê³¼ì •ì€ í•´ë‹¹ ì±„ë„ì˜ ëª¨ë“  êµ¬ë…ìì—ê²Œ ë°˜ë³µ ì ìš©ëœë‹¤.\ní•œ ì‚¬ìš©ìì˜ ìœ„ì¹˜ê°€ ë°”ë€” ë•Œë§ˆë‹¤ ì´ì¹˜ ì •ë³´ ì „ì†¡ì€ 40ê±´ ì •ë„ ë°œìƒí•  ê²ƒì´ë‹¤. API ì„¤ê³„ í•„ìš”í•œ APIë¥¼ ë‚˜ì—´í•´ë³¸ë‹¤.\nì›¹ì†Œì¼“\nì‚¬ìš©ìëŠ” ì›¹ì†Œì¼“ í”„ë¡œí† ì½œì„ í†µí•´ ìœ„ì¹˜ ì •ë³´ ë³€ê²½ ë‚´ì—­ì„ ì „ì†¡í•˜ê³  ìˆ˜ì‹ í•˜ë¯€ë¡œ, ìµœì†Œí•œ ë‹¤ìŒ APIëŠ” êµ¬ë¹„ë˜ì–´ì•¼ í•œë‹¤.\n[ì„œë²„ API] ì£¼ê¸°ì ì¸ ìœ„ì¹˜ ì •ë³´ ê°±ì‹  ìš”ì²­ ìœ„ë„, ê²½ë„, ì‹œê° ì •ë³´ ì‘ë‹µ ì—†ìŒ [í´ë¼ì´ì–¸íŠ¸ API] í´ë¼ì´ì–¸íŠ¸ê°€ ê°±ì‹ ëœ ì¹œêµ¬ ìœ„ì¹˜ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ë° ì‚¬ìš©í•  API ì „ì†¡ë˜ëŠ” ë°ì´í„° ì¹œêµ¬ ìœ„ì¹˜ ë°ì´í„°ì™€ ë³€ê²½ëœ ì‹œê°ì„ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì„ìŠ¤íƒ¬í”„ [ì„œë²„ API] ì›¹ì†Œì¼“ ì´ˆê¸°í™” API ìš”ì²­ ìœ„ë„, ê²½ë„, ì‹œê° ì •ë³´ ì‘ë‹µ ìê¸° ì¹œêµ¬ë“¤ì˜ ìœ„ì¹˜ ë°ì´í„° [í´ë¼ì´ì–¸íŠ¸ API] ìƒˆ ì¹œêµ¬ êµ¬ë… API ìš”ì²­ ì¹œêµ¬ ID ì‘ë‹µ ê°€ì¥ ìµœê·¼ì˜ ìœ„ë„, ê²½ë„, ì‹œê° ì •ë³´ [í´ë¼ì´ì–¸íŠ¸ API] êµ¬ë… í•´ì§€ API ìš”ì²­ ì¹œêµ¬ ID ì‘ë‹µ ì—†ìŒ HTTP ìš”ì²­\nAPI ì„œë²„ëŠ” ì¹œêµ¬ë¥¼ ì¶”ê°€/ì‚­ì œí•˜ê±°ë‚˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°±ì‹ í•˜ëŠ” ë“œìœ¼ì´ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nì•„ì£¼ í”í•œ ì¢…ë¥˜ì˜ APIì´ë¯€ë¡œ ìƒì„¸í•œ ë‚´ìš©ì€ ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤.\në°ì´í„° ëª¨ë¸ ì‚´í´ë´ì•¼í•˜ëŠ” ì¤‘ìš”í•œ ì£¼ì œì¤‘ í•˜ë‚˜ëŠ” ë°ì´í„° ëª¨ë¸ì´ë‹¤.\nìœ„ì¹˜ ì •ë³´ ìºì‹œì™€ ìœ„ì¹˜ ì´ë™ ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì‚´í´ë³¸ë‹¤.\nìœ„ì¹˜ ì •ë³´ ìºì‹œ\nìœ„ì¹˜ ì •ë³´ ìºì‹œëŠ” ì£¼ë³€ ì¹œêµ¬ê¸°ëŠ¥ì„ ì¼  í™œì„± ìƒíƒœ ì¹œêµ¬ì˜ ê°€ì¥ ìµœê·¼ ìœ„ì¹˜ë¥¼ ë³´ê´€í•œë‹¤.\nì„¤ê³„ì•ˆì—ì„œëŠ” ë ˆë””ìŠ¤ë¥¼ ì‚¬ìš©í•´ ì´ í‚¤ìƒˆë¥¼ êµ¬í˜„í•˜ë©°, í•´ë‹¹ ìºì‹œì— ë³´ê´€ë  í‚¤/ê°’ ìŒì€ ì•„ë˜ì™€ ê°™ë‹¤.\ní‚¤ ê°’ ì‚¬ìš©ì ID {ìœ„ë„, ê²½ë„, ì‹œê°} ìœ„ì¹˜ ì •ë³´ ì €ì¥ì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ìœ ëŠ”?\nì£¼ë³€ ì¹œêµ¬ ê¸°ëŠ¥ì€ ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ë§Œ ì‚¬ìš©í•˜ë¯€ë¡œ, ì‚¬ìš©ì ìœ„ì¹˜ëŠ” í•˜ë‚˜ë§Œ ë³´ê´€í•˜ë©´ ì¶©ë¶„í•˜ë‹¤.\nì½ê¸° ë° ì“°ê¸° ì—°ì‚° ì†ë„ê°€ ë§¤ìš° ë¹ ë¥´ë‹¤. TTLì„ ì§€ì›í•˜ì—¬ í™œì„± ìƒíƒœê°€ ì•„ë‹Œ ì‚¬ìš©ì ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ì œê±°í•  ìˆ˜ ìˆë‹¤. í™œìš©í•˜ëŠ” ìœ„ì¹˜ ì •ë³´ëŠ” ì˜ì†ì„±ì„ ë³´ì¥í•  í•„ìš”ê°€ ì—†ë‹¤. ì¥ì•  ë°œìƒì‹œ ìƒˆ ì„œë²„ë¡œ ë°”ê¾¼ í›„ ê°±ì‹ ëœ ìœ„ì¹˜ ì •ë³´ê°€ ìºì‹œì— ì±„ì›Œì§€ê¸°ë§Œ í•˜ë©´ ì¶©ë¶„í•˜ë‹¤. ìºì‹œê°€ ë°ì›Œì§ˆ ë™ì•ˆì€ ê°±ì‹  ì£¼ê¸°ê°€ í•œë‘ ë²ˆ ì •ë„ ê²½ê³¼í•˜ì—¬ ë³€ê²½ ë‚´ì—­ì„ ë†“ì¹  ìˆ˜ë„ ìˆì§€ë§Œ ìˆ˜ìš© ê°€ëŠ¥í•˜ë‹¤. ìœ„ì¹˜ ì´ë™ ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤\nìœ„ì¹˜ ì´ë™ ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ ë³€ê²½ ì´ë ¥ì„ ë‹¤ìŒ ìŠ¤í‚¤ë§ˆë¥¼ ë”°ë¥´ëŠ” í…Œì´ë¸”ì— ì €ì¥í•œë‹¤.\nuser_id latitude longitude timestamp í•„ìš”ë¡œ í•˜ëŠ” ê²ƒì€ ë§‰ëŒ€í•œ ì“°ê¸° ì—°ì‚° ë¶€í•˜ë¥¼ ê°ë‹¹í•  ìˆ˜ ìˆê³ , ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•œ ë°ì´í„°ë² ì´ìŠ¤ë‹¤.\nì¹´ì‚°ë“œë¼(Cassandra)ëŠ” ì´ëŸ¬í•œ ìš”êµ¬ì— ì˜ ë¶€í•©í•œë‹¤.\nê´€ê³„í˜• ë°ì´í„° ë² ì´ìŠ¤ë„ ì‚¬ìš©í•  ìˆ˜ëŠ” ìˆìœ¼ë‚˜ ì´ë ¥ ë°ì´í„°ì˜ ì–‘ì´ ì„œë²„ í•œ ëŒ€ì— ë³´ê´€í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ë§ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìƒ¤ë”©ì´ í•„ìš”í•˜ë‹¤. ì‚¬ìš©ì IDë¥¼ ê¸°ì¤€ ì‚¼ëŠ” ìƒ¤ë”© ë°©ì•ˆì´ ê°€ì¥ ê¸°ë³¸ ë¶€í•˜ë¥¼ ëª¨ë“  ìƒ¤ë“œì— ê³ ë¥´ê²Œ ë¶„ì‚°ì‹œí‚¬ ìˆ˜ ìˆê³ , ë°ì´í„°ë² ì´ìŠ¤ ìš´ì˜ ê´€ë¦¬ë„ ê°„í¸í•˜ë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ê°œëµì  ì„¤ê³„ì•ˆì€ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° í†µí•˜ì§€ë§Œ, ì£¼ì–´ì§„ ë¬¸ì œì˜ ê·œëª¨ë¥¼ ê°ë‹¹í•˜ê¸°ëŠ” ì–´ë ¤ìš¸ ê²ƒì´ë‹¤.\nì´ë²ˆ ì ˆì—ì„œëŠ” ê·œëª¨ë¥¼ ëŠ˜ë ¤ ë‚˜ê°€ë©´ì„œ ë³‘ëª© ë° í•´ê²°ì±…ì„ ì°¾ëŠ”ë° ì§‘ì¤‘í•œë‹¤.\nì¤‘ìš” êµ¬ì„±ìš”ì†Œë³„ ê·œëª¨ í™•ì¥ì„± API ì„œë²„ RESTful API ì„œë²„ì˜ ê·œëª¨ í™•ì¥ ë°©ë²•ì€ ë„ë¦¬ ì•Œë ¤ì ¸ìˆë‹¤.\në³¸ ì„¤ê³„ì•ˆì˜ API ì„œë²„ëŠ” ë¬´ìƒíƒœë¡œ ì´ëŸ° ì„œë²„ë¡œ êµ¬ì„±ëœ í´ëŸ¬ìŠ¤í„°ì˜ ê·œëª¨ë¥¼ CPU ì‚¬ìš©ë¥ ì´ë‚˜ ë¶€í•˜, I/O ìƒíƒœì— ë”°ë¼ ìë™ìœ¼ë¡œ ëŠ˜ë¦¬ëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•˜ë‹¤.\nì›¹ì†Œì¼“ ì„œë²„ ì›¹ì†Œì¼“ í´ëŸ¬ìŠ¤í„°ë„ ì‚¬ìš©ë¥ ì— ë”°ë¼ ê·œëª¨ë¥¼ ìë™ìœ¼ë¡œ ëŠ˜ë¦¬ëŠ” ê²ƒì€ ê·¸ë‹¤ì§€ ì–´ë µì§€ ì•Šë‹¤.\ní•˜ì§€ë§Œ ì›¹ì†Œì¼“ ì„œë²„ëŠ” ìœ ìƒíƒœ ì„œë²„ë¼ ê¸°ì¡´ ì„œë²„ë¥¼ ì œê±°í•  ë•ŒëŠ” ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\në…¸ë“œë¥¼ ì œê±°í•˜ê¸° ì „ ê¸°ì¡´ ì—°ê²°ë¶€í„° ì¢…ë£Œë  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤. ë¡œë“œ ë°¸ëŸ°ì„œê°€ ì¸ì‹í•˜ëŠ” ë…¸ë“œ ìƒíƒœë¥¼ **ì—°ê²° ì¢…ë£Œ ì¤‘(draining)**ìœ¼ë¡œ ë³€ê²½í•´ë‘”ë‹¤. í•´ë‹¹ ì„œë²„ë¡œëŠ” ìƒˆë¡œìš´ ì›¹ì†Œì¼“ ì—°ê²°ì´ ë§Œë“¤ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤. ëª¨ë“  ì—°ê²°ì´ ì¢…ë£Œë˜ë©´(ì¶©ë¶„í•œ ì‹œê°„ì´ íë¥¸ í›„) ì„œë²„ë¥¼ ì œê±°í•œë‹¤. ì›¹ì†Œì¼“ ì„œë²„ì— ìƒˆë¡œìš´ ë²„ì „ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ì¹˜í•  ë•Œë„ ë§ˆì°¬ê°€ì§€ë¡œ ìœ ì˜í•´ì•¼í•œë‹¤.\nìœ ìƒíƒœ ì„œë²„ í´ëŸ¬ìŠ¤í„°ì˜ ê·œëª¨ë¥¼ ìë™ìœ¼ë¡œ í™•ì¥í•˜ë ¤ë©´ ì¢‹ì€ ë¡œë“œë°¸ëŸ°ì„œê°€ ìˆì–´ì•¼í•œë‹¤.\nëŒ€ë¶€ë¶„ì˜ í´ë¼ìš°ë“œ ë¡œë“œë°¸ëŸ°ì„œëŠ” ì´ëŸ° ì¼ì„ ì˜ ì²˜ë¦¬í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ëª¨ë°”ì¼ í´ë¼ì´ì–¸íŠ¸ëŠ” ê¸°ë™ë˜ë©´ ì›¹ì†Œì¼“ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ì„œë²„ ê°€ìš´ë° í•˜ë‚˜ì™€ ì§€ì†ì„± ì›¹ì†Œì¼“ ì—°ê²°ì„ ë§ºëŠ”ë‹¤.\nì—°ê²°ì´ ì˜¤ëœ ì‹œê°„ ìœ ì§€ëœë‹¤. í˜„ëŒ€ì  í”„ë¡œê·¸ë˜ë° ì–¸ì–´ëŠ” ì´ëŸ° ì—°ê²° ìœ ì§€ì— ë§ì€ ë©”ëª¨ë¦¬ë¥¼ í•„ìš”ë¡œ í•˜ì§€ ì•ŠëŠ”ë‹¤. ì›¹ì†Œì¼“ ì—°ê²°ì´ ì´ˆê¸°í™”ë˜ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” í•´ë‹¹ ëª¨ë°”ì¼ ë‹¨ë§ì˜ ìœ„ì¹˜, ì¦‰ í•´ë‹¹ ë‹¨ë§ì„ ì´ìš©ì¤‘ì¸ ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ë¥¼ ì „ì†¡í•œë‹¤.\nê·¸ ì •ë³´ë¥¼ ë°›ì€ ì›¹ ì†Œì¼“ ì—°ê²° í•¸ë“¤ëŸ¬ëŠ” ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\nìœ„ì¹˜ ì •ë³´ ìºì‹œì— ë³´ê´€ëœ í•´ë‹¹ ì‚¬ìš©ìì˜ ìœ„ì¹˜ë¥¼ ê°±ì‹  í•´ë‹¹ ìœ„ì¹˜ ì •ë³´ëŠ” ë’¤ì´ì€ ê³„ì‚° ê³¼ì •ì— ì´ìš©ë˜ë¯€ë¡œ, ì—°ê²° í•¸ë“¤ëŸ¬ ë‚´ì˜ ë³€ìˆ˜ì— ì €ì¥í•´ë‘”ë‹¤. ì‚¬ìš©ì ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë’¤ì ¸ í•´ë‹¹ ì‚¬ìš©ìì˜ ëª¨ë“  ì¹œêµ¬ ì •ë³´ë¥¼ ì¡°íšŒ ìœ„ì¹˜ ì •ë³´ ìºì‹œì— ì¼ê´„(batch) ìš”ì²­ì„ ë³´ë‚´ ëª¨ë“  ì¹œêµ¬ì˜ ìœ„ì¹˜ë¥¼ í•œë²ˆì— ì¡°íšŒ ë¹„í™œì„±í™” ì¹œêµ¬ì˜ ìœ„ì¹˜ëŠ” ìºì‹œì— ì—†ì„ ê²ƒ ì¹œêµ¬ ìœ„ì¹˜ ê°ê°ì— ëŒ€í•´, í•´ë‹¹ ì¹œêµ¬ì™€ ì‚¬ìš©ì ì‚¬ì´ì˜ ê±°ë¦¬ë¥¼ ê³„ì‚° ê²€ìƒ‰ ë°˜ê²½ ì´ë‚´ë©´ í•´ë‹¹ ì¹œêµ¬ì˜ ìƒì„¸ ì •ë³´, ìœ„ì¹˜, ë§ˆì§€ë§‰ìœ¼ë¡œ í™•ì¸ëœ ì‚¬ê°ì„ ì›¹ì†Œì¼“ ì—°ê²°ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜ ê° ì¹œêµ¬ì˜ ë ˆë””ìŠ¤ ì„œë²„ í/ì„­ ì±„ë„ì„ êµ¬ë… ì±„ë„ ìƒì„± ë° êµ¬ë… ë¹„ìš©ì´ ì €ë ´í•˜ë¯€ë¡œ í™œì„± ìƒíƒœì— ê´€ê³„ì—†ì´ ëª¨ë“  ì¹œêµ¬ ì±„ë„ì„ êµ¬ë…í•  ìˆ˜ ìˆìŒ ë¹„í™œì„±í™” ì¹œêµ¬ì˜ ì±„ë„ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•˜ì§€ë§Œ ë§¤ìš° ì ê³ , í™œì„± ì „ê¹Œì§€ CPUë‚˜ I/Oë¥¼ ì „í˜€ ì´ìš©í•˜ì§€ ì•ŠìŒ ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ì˜ ì „ìš© ì±„ë„ì„ í†µí•´ ëª¨ë“  ì¹œêµ¬ì—ê²Œ ì „ì†¡ ì‚¬ìš©ì ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ë‘ ê°€ì§€ ì¢…ë¥˜ì˜ ë°ì´í„°ê°€ ë³´ê´€ëœë‹¤.\nì‚¬ìš©ì ID, ì‚¬ìš©ìëª…, í”„ë¡œíŒŒì¼ ì´ë¯¸ì§€ì˜ URL ë“± ì‚¬ìš©ì ìƒì„¸ ì •ë³´(í”„ë¡œí•„ ë°ì´í„°) ì¹œêµ¬ ê´€ê³„ ë°ì´í„° ì´ë²ˆ ì¥ì—ì„œ ë‹¤ë£¨ëŠ” ì„¤ê³„ì•ˆì˜ ê·œëª¨ë¥¼ ê°ì•ˆí•˜ë©´ í•œ ëŒ€ì˜ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¡œëŠ” ê°ë‹¹í•  ìˆ˜ ì—†ìœ¼ë‚˜, ì‚¬ìš©ì IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìƒ¤ë”©í•˜ë©´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¼ í•´ë„ ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•˜ë‹¤.\nì„¤ê³„í•˜ê³  ìˆëŠ” ê·œëª¨ì˜ ì‹œìŠ¤í…œì„ ì‹¤ì œë¡œ ìš´ì˜í•˜ë ¤ë©´ ì‚¬ìš©ì ë° ì¹œêµ¬ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” íŒ€ì´ ë”°ë¡œ í•„ìš”í•  ê²ƒì´ë‹¤.\nì›¹ì†Œì¼“ ì„œë²„ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§ì ‘ ì§ˆì˜í•˜ëŠ” ëŒ€ì‹  APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ì ë° ì¹œêµ¬ ê´€ê³„ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤.\nìœ„ì¹˜ ì •ë³´ ìºì‹œ í™œì„±í™” ìƒíƒœ ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ë¥¼ ìºì‹œí•˜ê¸° ìœ„í•´ ë ˆë””ìŠ¤ë¥¼ í™œìš©í•œë‹¤.\nê° í•­ëª©ì˜ í‚¤ì—ëŠ” TTLì„ ì„¤ì •í•œë‹¤. ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ê°€ ê°±ì‹ ë  ë•Œë§ˆë‹¤ ì´ˆê¸°í™”ëœë‹¤. ë”°ë¼ì„œ ìµœëŒ€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ ì¼ì • í•œë„ ì•„ë˜ë¡œ ìœ ì§€ëœë‹¤. í•˜ì§€ë§Œ ì²œ ë§Œëª…ì˜ í™œì„± ì‚¬ìš©ìê°€ ëŒ€ëµ 30ì´ˆë§ˆë‹¤ ë³€ê²½ëœ ìœ„ì¹˜ ì •ë³´ë¥¼ ì „ì†¡í•œë‹¤ê³  ê°€ì •í•˜ë©´ ë ˆë””ìŠ¤ ì„œë²„ê°€ ê°ë‹¹í•´ì•¼ í•˜ëŠ” ê°±ì‹  ì—°ì‚°ì˜ ìˆ˜ëŠ” ì´ˆë‹¹ 334Kì— ë‹¬í•˜ê²Œë˜ëŠ”ë°, ìµœì‹  ê³ ì‚¬ì–‘ ì„œë²„ë¥¼ ì“´ë‹¤ í•´ë„ ë¶€ë‹´ë˜ëŠ” ìˆ˜ì¹˜ì´ë‹¤.\në‹¤í–‰íˆë„ ê° ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ëŠ” ì„œë¡œ ë…ë¦½ì ì¸ ë°ì´í„°ì´ë¯€ë¡œ ì‚¬ìš©ì IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì—¬ëŸ¬ ì„œë²„ì— ìƒ¤ë”©í•˜ë©´ ë¶€í•˜ ë˜í•œ ê³ ë¥´ê²Œ ë¶„ë°°í•  ìˆ˜ ìˆë‹¤.\nê°€ìš©ì„±ì„ ë†’ì´ë ¤ë©´ ê° ìƒ¤ë“œì— ë³´ê³ ë‚˜í•˜ëŠ” ìœ„ì¹˜ ì •ë³´ë¥¼ ëŒ€ê¸°(standby) ë…¸ë“œì— ë³µì œí•´ ë‘ë©´ ëœë‹¤. ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ ë³¸ ì„¤ê³„ì•ˆì—ì„œ í/ì„­ ì„œë²„ë¥¼ ëª¨ë“  ì˜¨ë¼ì¸ ì¹œêµ¬ì—ê²Œ ë³´ë‚´ëŠ” ìœ„ì¹˜ ë³€ê²½ ë‚´ì—­ ë©”ì‹œì§€ì˜ ë¼ìš°íŒ…(routing)ê³„ì¸µìœ¼ë¡œ í™œìš©í•œë‹¤.\në ˆë””ìŠ¤ í/ì„­ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ì±„ë„ì„ ë§Œë“¤ê³  ìœ ì§€í•˜ëŠ” ë¹„ìš©ì´ ë§¤ìš° ì €ë ´í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\nìƒˆ ì±„ë„ì€ êµ¬ë…í•˜ë ¤ëŠ” ì±„ë„ì´ ì—†ì„ ë•Œ ìƒì„±í•œë‹¤. êµ¬ë…ìê°€ ì—†ëŠ” ì±„ë„ë¡œ ì „ì†¡ë˜ ë©”ì‹œì§€ëŠ” ê·¸ëŒ€ë¡œ ë²„ë ¤ì§€ëŠ”ë°, ì„œë²„ì— ê°€í•´ì§€ëŠ” ë¶€í•˜ëŠ” ê±°ì˜ ì—†ë‹¤. ì±„ë„ í•˜ë‚˜ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” êµ¬ë…ì ê´€ê³„ë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ í•´ì‹œ í…Œì´ë¸”ê³¼ ì—°ê²° ë¦¬ìŠ¤íŠ¸ê°€ í•„ìš”í•œë° ì•„ì£¼ ì†ŒëŸ‰ì˜ ë©”ëª¨ë¦¬ë§Œ ì‚¬ìš©í•œë‹¤. ì˜¤í”„ë¼ì¸ ì‚¬ìš©ìë¼ ì–´ë–¤ ë³€ê²½ë„ ì—†ëŠ” ì±„ë„ì˜ ê²½ìš°ì—ëŠ” ìƒì„±ëœ ì´í›„ì— CPU ìì›ì€ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ë³¸ ì„¤ê³„ì•ˆì€ ê·¸ ì ì„ í™œìš©í•˜ì—¬ ì£¼ë³€ ì¹œêµ¬ ê¸°ëŠ¥ì„ í™œìš©í•˜ëŠ” ëª¨ë“  ì‚¬ìš©ìì— ì±„ë„ í•˜ë‚˜ì”©ì„ ë¶€ì—¬í•œë‹¤.\ní•´ë‹¹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìì˜ ì•±ì€ ì´ˆê¸°í™” ì‹œì— ëª¨ë“  ì¹œêµ¬ì˜ ì±„ë„ê³¼ êµ¬ë… ê´€ê³„ë¥¼ ì„¤ì •í•œë‹¤.(ì¹œêµ¬ê°€ ë¹„í™œì„±ì´ë¼ë„) í™œì„±í™” ìƒíƒœë¡œ ë°”ë€ ì¹œêµ¬ì˜ ì±„ë„ì„ êµ¬ë…í•˜ê±°ë‚˜ ë¹„í™œì„± ìƒíƒœê°€ ëœ ì¹œêµ¬ì˜ ì±„ë„ì„ êµ¬ë… ì¤‘ë‹¨í•˜ëŠ” ì‘ì—…ì´ í•„ìš” ì—†ì–´ì§€ë¯€ë¡œ ì„¤ê³„ê°€ ê°„ë‹¨í•´ì§„ë‹¤.\në” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ì§€ë§Œ, ë©”ëª¨ë¦¬ê°€ ë³‘ëª©ì´ ë  ê°€ëŠ¥ì„±ì€ ë§¤ìš° ë‚®ë‹¤. ì•„í‚¤í…ì²˜ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ ìˆ˜ ì‡ë‹¤ë©´ ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ íˆ¬ì…í•  ê°€ì¹˜ëŠ” ì¶©ë¶„í•˜ë‹¤.\nì–¼ë§ˆë‚˜ ë§ì€ ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ê°€ í•„ìš”í•œê°€? ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰\nì£¼ë³€ ì¹œêµ¬ ì°¾ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì±„ë„ í•˜ë‚˜ì”© í• ë‹¹í•˜ë©´ ì±„ë„ ìˆ˜ëŠ” 1ì–µê°œ êµ¬ë…ì í•œ ëª…ì„ ì¶”ì í•˜ê¸° ìœ„í•´ ë‚´ë¶€ í•´ì‹œ í…Œì´ë¸”ê³¼ ì—°ê²° ë¦¬ìŠ¤íŠ¸ì— 20ë°”ì´íŠ¸ ìƒë‹¹ì˜ í¬ì¸í„°ë“¤ì„ ì €ì¥í•´ì•¼í•¨ 1ì–µ * 20ë°”ì´íŠ¸ * 100ëª… ì¹œêµ¬ / 10^9 = 200GB 100GB ë©”ëª¨ë¦¬ ì„œë²„ 2ëŒ€ë¡œ ì¶©ë¶„í•˜ë‹¤.\nCPU ì‚¬ìš©ëŸ‰\ní/ì„­ ì„œë²„ê°€ êµ¬ë…ìì—ê²Œ ì „ì†¡í•´ì•¼í•˜ëŠ” ìœ„ì¹˜ ì •ë³´ ì—…ë°ì´íŠ¸ ì–‘ì€ ì´ˆë‹¹ 1400ë§Œ ê±´ì— ë‹¬í•œë‹¤.\nìµœì‹  ë ˆë””ìŠ¤ ì„œë²„ í•œ ëŒ€ë¡œ ì–¼ë§ˆë‚˜ ë§ì€ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆëŠ”ì§€ ì •í™•íˆ ì•Œ ìˆ˜ëŠ” ì—†ì§€ë§Œ, ì„œë²„ í•œ ëŒ€ë¡œëŠ” ê³¤ë€í• ê²ƒì´ë‹¤.\në³´ìˆ˜ì ìœ¼ë¡œ ê¸°ê°€ë¹„íŠ¸ ë„¤íŠ¸ì›Œí¬ ì¹´ë“œë¥¼ íƒ‘ì¬í•œ í˜„ëŒ€ì  ì•„í‚¤í…ì²˜ì˜ ì„œë²„ í•œ ëŒ€ë¡œ ê°ë‹¹ ê°€ëŠ¥í•œ êµ¬ë…ìì˜ ìˆ˜ëŠ” 100,000ì´ë¼ê³  ê°€ì • ì´ ì¶”ì •ì¹˜ì— ë”°ë¥´ë©´ í•„ìš”í•œ ë ˆë””ìŠ¤ ì„œë²„ì˜ ìˆ˜ëŠ” 1400ë§Œ / 100,000 = 140ì´ë‹¤.\nìœ„ ê³„ì‚° ê²°ê³¼ë¥¼ í†µí•´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ë¡ ì„ ë‚´ë¦´ ìˆ˜ ìˆë‹¤.\në ˆë””ìŠ¤ í/ì„­ ì„œë²„ì˜ ë³‘ëª©ì€ ë©”ëª¨ë¦¬ê°€ ì•„ë‹ˆë¼ CPU ì‚¬ìš©ëŸ‰ì´ë‹¤. ë¬¸ì œì˜ ê·œëª¨ë¥¼ ê°ë‹¹í•˜ë ¤ë©´ ë¶„ì‚° ë ˆë””ìŠ¤ í/ì„­ í´ëŸ¬ìŠ¤í„°ê°€ í•„ìš”í•˜ë‹¤. ë¶„ì‚° ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ í´ëŸ¬ìŠ¤í„° ëª¨ë“  ì±„ë„ì„ ì„œë¡œ ë…ë¦½ì ì´ë¯€ë¡œ, ë©”ì‹œì§€ë¥¼ ë°œí–‰í•  ì‚¬ìš©ì IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ í/ì„­ ì„œë²„ë“¤ì„ ìƒ¤ë”©í•œë‹¤.\ní•˜ì§€ë§Œ í˜„ì‹¤ì ìœ¼ë¡œëŠ” ìˆ˜ë°± ëŒ€ì˜ í/ì„­ ì„œë²„ê°€ ê´€ë ¨ëœ ë¬¸ì œì´ë¯€ë¡œ ë™ì‘ ë°©ì‹ì„ ìƒì„¸í•˜ê²Œ ì§‘ì–´ë³¼ í•„ìš”ê°€ ìˆë‹¤.\nì„œë²„ì—ëŠ” í•„ì—°ì ìœ¼ë¡œ ì¥ì• ê°€ ìƒê¸°ê²Œ ë§ˆë ¨ì´ë¯€ë¡œ, ë§¤ë„ëŸ¬ìš´ ìš´ì˜ì„ ìœ„í•´ í•„ìš”í•˜ë‹¤. ë³¸ ì„¤ê³„ì•ˆì—ì„œëŠ” ì„œë¹„ìŠ¤ íƒìƒ‰(Service discovery) ì»´í¬ë„ŒíŠ¸ë¥¼ ë„ì…í•˜ì—¬ ì´ ë¬¸ì œë¥¼ í‘¼ë‹¤.\netcd ì£¼í‚¤í¼(ZooKeeper) ì„œë¹„ìŠ¤ íƒìƒ‰ ì»´í¬ë„ŒíŠ¸ì˜ ì•„ë˜ ê¸°ëŠ¥ì„ í™œìš©í•œë‹¤.\nê°€ìš©í•œ ì„œë²„ ëª©ë¡ì„ ìœ ì§€í•˜ëŠ” ê¸°ëŠ¥ ë° í•´ë‹¹ ëª©ë¡ì„ ê°±ì‹ í•˜ëŠ” ë° í•„ìš”í•œ UIë‚˜ API ì„œë¹„ìŠ¤ íƒìƒ‰ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì„¤ì • ë°ì´í„°ë¥¼ ë³´ê´€í•˜ê¸° ìœ„í•œ ì†Œê·œëª¨ì˜ í‚¤-ê°’ ì €ì¥ì†Œë¼ê³  ë³´ë©´ ëœë‹¤. í‚¤: /config/pub_sub_ring ê°’: [\u0026quot;p_1\u0026quot;, \u0026quot;p_2\u0026quot;, \u0026quot;p_3\u0026quot;, \u0026quot;p_4\u0026quot;] í´ë¼ì´ì–¸íŠ¸(ì›¹ì†Œì¼“ ì„œë²„)ë¡œ í•˜ì—¬ê¸ˆ ê°’ì— ëª…ì‹œëœ ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ì—ì„œ ë°œìƒí•œ ë³€ê²½ ë‚´ì—­ì„ êµ¬ë…í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ í‚¤ì— ë§¤ë‹¬ë¦° ê°’ì—ëŠ” í™œì„± ìƒíƒœì˜ ëª¨ë“  ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ë¡œ êµ¬ì„±ëœ í•´ì‹œ ë§ì„ ë³´ê´€í•œë‹¤.\në ˆë””ìŠ¤ í/ì„­ ì„œë²„ëŠ” ë©”ì‹œì§€ë¥¼ ë°œí–‰í•  ì±„ë„ì´ë‚˜ êµ¬ë…í•  ì±„ë„ì„ ì •í•´ì•¼ í•  ë•Œ ì´ í•´ì‹œë§ì„ ì°¸ì¡°í•œë‹¤.\nì›¹ì†Œì¼“ ì„œë²„ê°€ íŠ¹ì • ì‚¬ìš©ì ì±„ë„ì— ìœ„ì¹˜ ì •ë³´ ë³€ê²½ ë‚´ì—­ì„ ë°œí–‰í•˜ëŠ” ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ë‹¤.\ní•´ì‹œ ë§ì„ ì°¸ì¡°í•˜ì—¬ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•  ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ë¥¼ ì„ ì •í•œë‹¤. ì •í™•í•œ ì •ë³´ëŠ” ì„œë¹„ìŠ¤ íƒìƒ‰ ì»´í¬ë„ŒíŠ¸ì— ë³´ê´€ë˜ì–´ ìˆìœ¼ë‚˜ í•´ì‹œ ë§ ì‚¬ë³¸ì„ ì›¹ì†Œì¼“ ì„œë²„ì— ìºì‹œí•œë‹¤ë©´ ì„±ëŠ¥ì„ ë†’í ìˆ˜ ìˆë‹¤. ê·¸ ê²½ìš° ì›¹ì†Œì¼“ ì„œë²„ëŠ” í•´ì‹œ ë§ ì›ë³¸ì— êµ¬ë… ê´€ë¡€ë¥¼ ì„¤ì •í•˜ì—¬ ì‚¬ë³¸ì„ ì›ë³¸ê³¼ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ë„ë¡ í•´ì•¼í•œë‹¤. ì›¹ì†Œì¼“ ì„œë²„ëŠ” í•´ë‹¹ ì„œë²„ê°€ ê´€ë¦¬í•˜ëŠ” ì‚¬ìš©ì ì±„ë„ì— ìœ„ì¹˜ ì •ë³´ ë³€ê²½ ë‚´ì—­ì„ ë°œí–‰í•œë‹¤. êµ¬ë…í•  ì±„ë„ì´ ì¡´ì¬í•˜ëŠ” ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ë¥¼ ì°¾ëŠ” ê³¼ì •ë„ ì´ì™€ ë™ì¼í•˜ë‹¤.\në ˆë””ìŠ¤ í/ì„­ ì„œë²„ í´ëŸ¬ìŠ¤í„°ì˜ ê·œëª¨ í™•ì¥ ê³ ë ¤ì‚¬í•­ ë¬´ìƒíƒœ ì„œë²„ë¼ë©´ íŠ¸ë˜í”½ í”¼í„´ì— ë”°ë¼ í¬ê¸°ë¥¼ ëŠ˜ë¦¬ê±°ë‚˜ ì¤„ì´ëŠ” ë°©ë²•ì´ ìœ„í—˜ì„±ì´ ë‚®ê³  ë¹„ìš©ì„ ì ˆê°í•˜ê¸°ë„ ì¢‹ì•„ ë„ë¦¬ í™œìš©ë˜ì§€ë§Œ, ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ í´ëŸ¬ìŠ¤í„° íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ê³ ë ¤í•˜ê¸° ì–´ë µë‹¤.\ní/ì„­ ì±„ë„ì— ì „ì†¡ë˜ëŠ” ë©”ì‹œì§€ëŠ” ë©”ëª¨ë¦¬ë‚˜ ë””ìŠ¤í¬ì— ì§€ì†ì ìœ¼ë¡œ ë³´ê´€ë˜ì§€ì•Šì§€ë§Œ, ì±„ë„ì— ëŒ€í•œ ìƒíƒœ ì •ë³´ë¥¼ ë³´ê´€í•œë‹¤.(ê° ì±„ë„ì˜ êµ¬ë…ì ëª©ë¡)\në”°ë¼ì„œ íŠ¹ì •í•œ ì±„ë„ì„ ë‹´ë‹¹í•˜ë˜ í/ì„­ ì„œë²„ë¥¼ êµì²´í•˜ê±°ë‚˜ í•´ì‹œ ë§ì—ì„œ ì œê±°í•˜ëŠ” ê²½ìš° ê¸°ì¡´ ì±„ë„ì— ëŒ€í•œ êµ¬ë… ê´€ê³„ë¥¼ í•´ì§€í•˜ê³  ìƒˆ ì„œë²„ì— ë§ˆë ¨ëœ ëŒ€ì²´ ì±„ë„ì„ ë‹¤ì‹œ êµ¬ë…í•˜ê¸° ìœ„í•´ ì±„ë„ì„ ë‹¤ë¥¸ ì„œë²„ë¡œ ì´ë™ì‹œì¼œì•¼ í•˜ê³ , í•´ë‹¹ ì±„ë„ì˜ ëª¨ë“  êµ¬ë…ìì—ê²Œ ê·¸ ì‚¬ì‹¤ì„ ì•Œë ¤ì•¼í•œë‹¤.\nìœ ìƒíƒœ ì„œë²„ í´ëŸ¬ìŠ¤í„°ì˜ ê·œëª¨ë¥¼ ëŠ˜ë¦¬ê±°ë‚˜ ì¤„ì´ëŠ” ê²ƒì€ ìš´ì˜ ë¶€ë‹´ê³¼ ìœ„í—˜ì´ í° ì‘ì—…ì´ë¯€ë¡œ ì£¼ì˜ ê¹Šê²Œ ê³„íší•˜ê³  ì§„í–‰í•´ì•¼í•œë‹¤.\nìœ ìƒíƒœ ì„œë²„ í´ëŸ¬ìŠ¤í„°ëŠ” í˜¼ì¡ ì‹œê°„ëŒ€ íŠ¸ë˜í”½ì„ ë¬´ë¦¬ ì—†ì´ ê°ë‹¹í•˜ê³  ë¶ˆí•„ìš”í•œ í¬ê¸° ë³€í™”ë¥¼ í”¼í•  ìˆ˜ ìˆë„ë¡ ì–´ëŠ ì •ë„ ì—¬ìœ ë¥¼ ë‘ê³  ì˜¤ë²„ í”„ë¡œë¹„ì €ë‹(over provisioning)í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ë¶ˆê°€í”¼í•˜ê²Œ ê·œëª¨ë¥¼ ëŠ˜ë ¤ì•¼ í•  ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒì— ìœ ì˜í•˜ì—¬ì•¼ í•œë‹¤.\ní´ëŸ¬ìŠ¤í„°ì˜ í¬ê¸°ë¥¼ ì¡°ì •í•˜ë©´ ë§ì€ ì±„ë„ì´ ê°™ì€ í•´ì‹œ ë§ ìœ„ì˜ ë‹¤ë¥¸ ì—¬ëŸ¬ ì„œë²„ë¡œ ì´ë™í•œë‹¤. ì„œë¹„ìŠ¤ íƒìƒ‰ ì»´í¬ë„ŒíŠ¸ê°€ ëª¨ë“  ì›¹ì†Œì¼“ ì„œë²„ì— í•´ì‹œ ë§ì´ ê°±ì‹ ë˜ì—ˆìŒì„ ì•Œë¦¬ë©´ ì—„ì²­ë‚œ ì¬êµ¬ë… ìš”ì²­ì´ ë°œìƒí•  ê²ƒì´ë‹¤. ì¬êµ¬ë… ìš”ì²­ì„ ì²˜ë¦¬í•˜ë‹¤ ë³´ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚´ëŠ” ìœ„ì¹˜ ì •ë³´ ë³€ê²½ ë©”ì‹œì§€ì˜ ì²˜ë¦¬ê°€ ëˆ„ë½ë  ìˆ˜ ìˆë‹¤. ì–´ëŠ ì •ë„ëŠ” í—ˆìš©í•  ìˆ˜ ìˆìœ¼ë‚˜ ë¹ˆë„ëŠ” ë°˜ë“œì‹œ ìµœì†Œí™”í•´ì•¼í•œë‹¤. ì„œë¹„ìŠ¤ì˜ ìƒíƒœê°€ ë¶ˆì•ˆì •í•´ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë¯€ë¡œ í´ëŸ¬ìŠ¤í„° í¬ê¸° ì¡°ì •ì€ í•˜ë£¨ ì¤‘ ì‹œìŠ¤í…œ ë¶€í•˜ê°€ ê°€ì¥ ë‚®ì€ ì‹œê°„ì„ ê³¨ë¼ ì‹œí–‰í•œë‹¤. í´ëŸ¬ìŠ¤í„°ì˜ í¬ê¸° ì¡°ì • ìì²´ëŠ” ê½¤ ê°„ë‹¨í•˜ë‹¤.\nìƒˆë¡œìš´ ë§ í¬ê¸°ë¥¼ ê³„ì‚°í•œë‹¤. í¬ê¸°ê°€ ëŠ˜ì–´ë‚œë‹¤ë©´ ìƒˆ ì„œë²„ë¥¼ ì¤€ë¹„í•œë‹¤. í•´ì‹œ ë§ì˜ í‚¤ì— ë§¤ë‹¬ë¦° ê°’ì„ ìƒˆë¡œìš´ ë‚´ìš©ìœ¼ë¡œ ê°±ì‹ í•œë‹¤. ëŒ€ì‹œë³´ë“œë¥¼ ëª¨ë‹ˆí„°ë§í•œë‹¤. ì›¹ì†Œì¼“ í´ëŸ¬ìŠ¤í„°ì˜ CPU ì‚¬ìš©ëŸ‰ì´ ì–´ëŠ ì •ë„ íŠ€ëŠ” ê²ƒì´ ë³´ì—¬ì•¼ í•œë‹¤. p_5, p_6 ë‘ ë…¸ë“œê°€ ì¶”ê°€ëœë‹¤ë©´ í•´ì‹œ ë§ì€ ë‹¤ìŒê³¼ ê°™ì´ ë°”ë€ë‹¤.\në³€ê²½ ì „ [p_1, p_2, p_3, p_4] ë³€ê²½ í›„ [p_1, p_2, p_3, p_4, p_5, p_6] ìš´ì˜ ê³ ë ¤ì‚¬í•­ ê¸°ì¡´ ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ë¥¼ ìƒˆ ì„œë²„ë¡œ êµì²´í•  ë•ŒëŠ” êµì²´ë˜ëŠ” ì„œë²„ì˜ ì±„ë„ë§Œ ì²˜ë¦¬í•˜ë¯€ë¡œ ìš´ì˜ ë¬¸ì œê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì€ í´ëŸ¬ìŠ¤í„° í¬ê¸°ë¥¼ ì¡°ì •í•  ë•Œë³´ë‹¤ í›¨ì”¬ ë‚®ë‹¤.\ní/ì„­ ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ ëª¨ë‹ˆí„°ë§ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì˜¨ì½œ(on-call) ì—”ì§€ë‹ˆì–´ì—ê²Œ ê²½ë³´ë¥¼ ë°œì†¡í•˜ë©°, ì˜¨ì½œ ë‹´ë‹¹ìëŠ” ì•„ë˜ì™€ ê°™ì€ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.\nì„œë¹„ìŠ¤ íƒìƒ‰ ì»´í¬ë„ŒíŠ¸ì˜ í•´ì‹œ ë§ í‚¤ì— ë§¤ë‹¬ë¦° ê°’ì„ ê°±ì‹ í•˜ì—¬ ì¥ì• ê°€ ë°œìƒí•œ ë…¸ë“œë¥¼ ëŒ€ê¸° ì¤‘ì¸ ë…¸ë“œì™€ êµì²´ êµì²´ ì‚¬ì‹¤ì€ ëª¨ë“  ì›¹ì†Œì¼“ ì„œë²„ì— í†µì§€ë˜ê³ , ê° ì›¹ì†Œì¼“ ì„œë²„ëŠ” ì‹¤í–‰ ì¤‘ì¸ ì—°ê²° í•¸ë“¤ëŸ¬ì—ê²Œ ìƒˆ í/ì„­ ì„œë²„ì˜ ì±„ë„ì„ ë‹¤ì‹œ êµ¬ë…í•˜ë¼ê³  ì•Œë¦¼ ê° ì—°ê²° í•¸ë“¤ëŸ¬ëŠ” êµ¬ë… ì¤‘ì¸ ì±„ë„ì˜ ëª©ë¡ì„ ìœ ì§€í•˜ê³  ìˆìœ¼ë¯€ë¡œ, ëª¨ë“  ì±„ë„ì„ í•´ì‹œ ë§ê³¼ ëŒ€ì¡°í•˜ì—¬ ìƒˆ ì„œë²„ë¡œ êµ¬ë… ê´€ê³„ë¥¼ ë‹¤ì‹œ ì„¤ì •í•´ì•¼ í•˜ëŠ”ì§€ ê²€í†  ì¹œêµ¬ ì¶”ê°€/ì‚­ì œ ìƒˆ ì¹œêµ¬ë¥¼ ì¶”ê°€í•˜ë©´ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ì— ì—°ê²°ëœ ì›¹ì†Œì¼“ ì„œë²„ì˜ ì—°ê²° í•¸ë“¤ëŸ¬ì— ê·¸ ì‚¬ì‹¤ì„ ì•Œë ¤ ìƒˆ ì¹œêµ¬ì˜ í/ì„­ ì±„ë„ì„ êµ¬ë…í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤.\nì£¼ë³€ ì¹œêµ¬ ê¸°ëŠ¥ì€ í° ì•±ì˜ ì¼ë¶€ë¡œ, ìƒˆ ì¹œêµ¬ê°€ ì¶”ê°€ë˜ë©´ í˜¸ì¶œë  ì½œë°±ì„ í•´ë‹¹ ì•±ì— ë“±ë¡í•´ ë‘˜ ìˆ˜ ìˆë‹¤. ì½œë°±ì´ í˜¸ì¶œë˜ë©´ ì›¹ì†Œì¼“ ì„œë²„ë¡œ ìƒˆ ì¹œêµ¬ì˜ í/ì„­ ì±„ë„ì„ êµ¬ë…í•˜ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ë‹¤. ì´ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•œ ì›¹ì†Œì¼“ ì„œë²„ëŠ” í•´ë‹¹ ì¹œêµ¬ê°€ í™œì„±í™” ìƒíƒœì¸ ê²½ìš° ê°€ì¥ ìµœê·¼ ìœ„ì¹˜ ë° ì‹œê° ì •ë³´ë¥¼ ì‘ë‹µ ë©”ì‹œì§€ì— ë‹´ì•„ ë³´ë‚¸ë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ì¹œêµ¬ê°€ ì‚­ì œë˜ë©´ í˜¸ì¶œë  ì½œë°±ë„ ì•±ì— ë“±ë¡í•´ ë‘˜ ìˆ˜ ìˆë‹¤.\nì½œë°±ì´ í˜¸ì¶œë˜ë©´ í•´ë‹¹ ì¹œêµ¬ì˜ í/ì„­ ì±„ë„ êµ¬ë…ì„ ì·¨ì†Œí•˜ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ì›¹ì†Œì¼“ ì„œë²„ë¡œ ë³´ë‚¸ë‹¤. ì¹œêµ¬ê°€ ìœ„ì¹˜ ì •ë³´ ì •ë³´ ì „ì„±ì„ í—ˆê°€/ì·¨ì†Œí•˜ëŠ” ê²½ìš°ì˜ ì²˜ë¦¬ì—ë„ í™œìš©ë  ìˆ˜ ìˆë‹¤.\nì¹œêµ¬ê°€ ë§ì€ ì‚¬ìš©ì ì¹œêµ¬ê°€ ë§ì€ ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œ ì„±ëŠ¥ ë¬¸ì œë¥¼ ì•¼ê¸°í•  ê°€ëŠ¥ì„±ì´ ìˆëŠ”ì§€ ë…¼ì˜í•´ë³¼ ë§Œí•œ ì£¼ì œì´ë‹¤.\nì¹œêµ¬ ìˆ˜ì˜ ìƒí•œì´ ìˆë‹¤ê³  ê°€ì •(í˜ì´ìŠ¤ë¶ì€ 5,000ëª…) ì¹œêµ¬ ê´€ê³„ëŠ” ì–‘ë°©í–¥ íŒ”ë¡œì›Œ ëª¨ë¸ ê°™ì€ ë‹¨ë°©í–¥ ê´€ê³„ëŠ” ë°°ì œ ìˆ˜ì²œ ëª…ì˜ ì¹œêµ¬ë¥¼ êµ¬ë…í•˜ëŠ” ë° í•„ìš”í•œ í/ì„­ êµ¬ë… ê´€ê³„ëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ë§ì€ ì›¹ì†Œì¼“ ì„œë²„ì— ë¶„ì‚°ë˜ì–´ ìˆì„ ê²ƒì´ë‹¤.\në”°ë¼ì„œ ì¹œêµ¬ë“¤ì˜ ìœ„ì¹˜ ë³€ê²½ì—ì„œ ì˜¤ëŠ” ë¶€í•˜ëŠ” ê° ì›¹ì†Œì¼“ ì„œë²„ê°€ ë‚˜ëˆ„ì–´ ì²˜ë¦¬í•˜ë¯€ë¡œ í•«ìŠ¤íŒŸ ë¬¸ì œëŠ” ë°œìƒí•˜ì§€ ì•Šì„ ê²ƒ ì´ë‹¤. ë‹¤ë§Œ ë§ì€ ì¹œêµ¬ë¥¼ ë‘” ì‚¬ìš©ìì˜ ì±„ë„ì´ ì¡´ì¬í•˜ëŠ” í/ì„­ ì„œë²„ì˜ ê²½ìš°ëŠ” ì¡°ê¸ˆ ë” ë§ì€ ë¶€í•˜ë¥¼ ê°ë‹¹í•˜ê²Œ ë  ìˆ˜ ìˆì§€ë§Œ, í´ëŸ¬ìŠ¤í„° ì•ˆì— 100ëŒ€ê°€ ë„˜ëŠ” í/ì„­ ì„œë²„ê°€ ìˆê³ , ê·¸ëŸ° í—¤ë¹„ ìœ ì €ë“¤ì˜ ì±„ë„ë“¤ì´ ëª¨ë“  í/ì„­ ì„œë²„ì— ë¶„ì‚°ëœë‹¤ëŠ” ì ì„ ê°ì•ˆí•˜ë©´, íŠ¹ì • ì„œë²„ì— ë§‰ëŒ€í•œ ë¶€ë‹´ì„ ì¤„ ì¼ì€ ì—†ì„ ê²ƒì´ë‹¤.\nì£¼ë³€ì˜ ì„ì˜ ì‚¬ìš©ì ì •ë³´ ê³µìœ ì— ë™ì˜í•œ ì£¼ë³€ ì‚¬ìš©ìë¥¼ ë¬´ì‘ìœ„ë¡œ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ í•œë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?\nê¸°ì¡´ ì„¤ê³„ì•ˆì„ í¬ê²Œ í›¼ì†í•˜ì§€ ì•Šìœ¼ë©´ì„œ í•´ë‹¹ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•ì€ ì§€ì˜¤í•´ì‹œì— ë”°ë¼ êµ¬ì¶•ëœ í/ì„­ ì±„ë„ í’€ì„ ë‘ëŠ” ê²ƒ ì´ë‹¤.\nì§€ì˜¤ í•´ì‹œ ê²©ìë¡œ ë‚˜ëˆˆ ë‹¤ìŒ ê²©ì ë§ˆë‹¤ ì±„ë„ì„ í•˜ë‚˜ì”© ë§Œë“¤ì–´ ë‘”ë‹¤. í•´ë‹¹ ê²©ì ë‚´ì˜ ëª¨ë“  ì‚¬ìš©ìëŠ” í•´ë‹¹ ê²©ìì— í• ë‹¹ëœ ì±„ë„ì„ êµ¬ë…í•œë‹¤.\nì‚¬ìš©ìì˜ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ë©´ ì›¹ì†Œì¼“ ì—°ê²° í•¸ë“¤ëŸ¬ëŠ” í•´ë‹¹ ì‚¬ìš©ìì˜ ì§€ì˜¤í•´ì‹œ IDë¥¼ ê³„ì‚°í•œ í›„, í•´ë‹¹ ì§€ì˜¤í•´ì‹œ IDë¥¼ ë‹´ë‹¹í•˜ëŠ” ì±„ë„ì— ìƒˆ ìœ„ì¹˜ë¥¼ ì „ì†¡í•œë‹¤. ê·¼ë°©ì— ìˆëŠ” ì‚¬ìš©ì ê°€ìš´ë° í•´ë‹¹ ì±„ë„ì„ êµ¬ë…í•˜ê³  ìˆëŠ” ì‚¬ìš©ìëŠ” ì‚¬ìš©ì 2ì˜ ìœ„ì¹˜ê°€ ë³€ê²¨ì˜¤ë””ì—ˆë‹¤ëŠ” ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•œë‹¤. ê²½ê³„ì— ìœ„ì¹˜í•œ ì‚¬ìš©ìë¥¼ ì˜ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ëŠ” ì‚¬ìš©ìê°€ ìœ„ì¹˜í•œ ì§€ì˜¤í•´ì‹œ ë¿ ì•„ë‹ˆë¼ ì£¼ë³€ ì§€ì˜¤í•´ì‹œ ê²©ìë¥¼ ë‹´ë‹¹í•˜ëŠ” ì±„ë„ë„ êµ¬ë…í•œë‹¤.\në ˆë””ìŠ¤ í/ì„­ ì™¸ì˜ ëŒ€ì•ˆ ì–¼ë­(Erlang)ì€ ì´ë¬¸ì œì— íŠ¹íˆ ìœ ìš©í•œ í•´ê²°ì±…ì´ ë  ìˆ˜ ìˆë‹¤.\nì˜¤íˆë ¤ ë” ì¢‹ì€ ì†”ë£¨ì…˜ì´ ë  ìˆ˜ ìˆë‹¤. ì–¼ë­ì€ ì‚¬ìš©ìê°€ ì ì–´ ì¢‹ì€ ê°œë°œìë¥¼ êµ¬í•˜ê¸° ì–´ë µë‹¤ ì–¼ë­ ì „ë¬¸ê°€ê°€ ìˆë‹¤ë©´ ì¢‹ì€ ì„ íƒì§€ê°€ ë  ìˆ˜ ìˆë‹¤. ì–¼ë­ì€ ê³ ë„ë¡œ ë¶„ì‚°ëœ ë³‘ë ¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•´ ê³ ì•ˆëœ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì´ì ëŸ°íƒ€ì„ í™˜ê²½ì´ë‹¤.\n4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ê°œë…ì ìœ¼ë¡œ ë³´ìë©´ ì–´ë–¤ ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ ë³€ê²½ ë‚´ì—­ì„ ê·¸ ì¹œêµ¬ì—ê²Œ íš¨ìœ¨ì ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ì‹œìŠ¤í…œì„ ì„¤ê³„í–ˆë‹¤.\nì„¤ê³„ì•ˆì˜ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\nì›¹ì†Œì¼“ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì˜ ì‹¤ì‹œê°„ í†µì‹ ì„ ì§€ì›í•œë‹¤. ë ˆë””ìŠ¤ ìœ„ì¹˜ ë°ì´í„°ì˜ ë¹ ë¥¸ ì½ê¸°/ì“°ê¸°ë¥¼ ì§€ì›í•œë‹¤. ë ˆë””ìŠ¤ í/ì„­ í•œ ì‚¬ìš©ìì˜ ìœ„ì¹˜ ì •ë³´ ë³€ê²½ ë‚´ì—­ì„ ëª¨ë“  ì˜¨ë¼ì¸ ì¹œêµ¬ì—ê²Œ ì „ë‹¬í•˜ëŠ” ë¼ìš°íŒ… ê³„ì¸µ ì†Œê·œëª¨ íŠ¸ë˜í”½ì— ì í•©í•œ ê°œëµì  ì„¤ê³„ì•ˆë¶€í„° ì‹œì‘í•˜ì—¬, ê·œëª¨ê°€ ì»¤ì§ì— ë”°ë¼ ë°œìƒ ê°€ëŠ¥í•œ ë„ì „ì  ë¬¸ì œë“¤ì„ ì‚´í´ë³´ì•˜ë‹¤.\nRESTful API ì„œë²„ ì›¹ì†Œì¼“ ì„œë²„ ë°ì´í„° ê³„ì¸µ ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ í´ëŸ¬ìŠ¤í„° ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ì˜ ëŒ€ì•ˆ ì¹œêµ¬ê°€ ë§ì€ ì‚¬ìš©ìì—ê²Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì ì¬ì  ì„±ëŠ¥ ë³‘ëª©ë¬¸ì œì™€, ì£¼ë³€ì˜ ì„ì˜ ì‚¬ìš©ìë¥¼ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì˜ ì„¤ê³„ì•ˆë„ ì‚´í´ë³´ì•˜ë‹¤.\nìš”ì•½ flowchart LR nearby(ì£¼ë³€ ì¹œêµ¬) --\u003e first((1ë‹¨ê³„)) nearby --\u003e second((2ë‹¨ê³„)) nearby --\u003e third((3ë‹¨ê³„)) first --\u003e giyogu[ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­] giyogu --\u003e display[ì£¼ë³€ ì¹œêµ¬ ëª©ë¡ í‘œì‹œ] giyogu --\u003e update[ì£¼ë³€ ì¹œêµ¬ ëª©ë¡ ê°±ì‹ ] first --\u003e biyogu[ë¹„ ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­] biyogu --\u003e low_latenty[ë‚®ì€ ì§€ì—° ì‹œê°„] first --\u003e choo[ì¶”ì •] choo --\u003e mile[5ë§ˆì¼ ê²€ìƒ‰ ë°˜ê²½] choo --\u003e interval[ìœ„ì¹˜ ê°±ì‹  ì£¼ê¸°: 30ì´ˆ] choo --\u003e updatedata[ìœ„ì¹˜ ì •ë³´ ê°±ì‹  QPS: 334k/s] second --\u003e rufh[ê°œëµì  ì„¤ê³„ì•ˆ] rufh --\u003e rest[RESTful API ì„œë²„] rufh --\u003e websocket[ì›¹ì†Œì¼“ ì„œë²„] rufh --\u003e redis[ë ˆë””ìŠ¤ ìœ„ì¹˜ ì •ë³´ ìºì‹œ] rufh --\u003e casandra[ìœ„ì¹˜ ì´ë™ ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤] rufh --\u003e pubsub[ë ˆë””ìŠ¤ í/ì„­ ì„œë²„] second --\u003e intervalpos[ì£¼ê¸°ì  ìœ„ì¹˜ ê°±ì‹ ] second --\u003e api[API ì„¤ê³„] second --\u003e datamodel[ë°ì´í„° ëª¨ë¸] datamodel --\u003e position[ìœ„ì¹˜ ì •ë³´ ìºì‹œ] datamodel --\u003e positionlog[ìœ„ì¹˜ ì´ë™ ì´ë ¥ ë°ì´í„°ë² ì´ìŠ¤] third --\u003e components[ê° ì»´í¬ë„ŒíŠ¸ì˜ ê·œëª¨ í™•ì¥] components --\u003e apiComponent[API ì„œë²„] components --\u003e websocket_cluster[ì›¹ì†Œì¼“ ì„œë²„ í´ëŸ¬ìŠ¤í„°] components --\u003e userDB[ì‚¬ìš©ì ì •ë³´ ë°ì´í„°ë² ì´ìŠ¤] components --\u003e positionCache[ìœ„ì¹˜ ì •ë³´ ìºì‹œ] components --\u003e pubsubCluster[ë ˆë””ìŠ¤ í/ì„­ ì„œë²„ í´ëŸ¬ìŠ¤í„°] components --\u003e erlang[ë ˆë””ìŠ¤ í/ì„­ ì™¸ ëŒ€ì•ˆ] third --\u003e friendUD[ì¹œêµ¬ ì¶”ê°€/ì‚­ì œ] third --\u003e manyFriend[ì¹œêµ¬ê°€ ë§ì€ ì‚¬ìš©ì] third --\u003e random[ì£¼ë³€ ì„ì˜ ì‚¬ìš©ì] ","date":"2024-08-18T15:59:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/2/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/2/","title":"2. ì£¼ë³€ ì¹œêµ¬"},{"content":"ë¶€ìŠ¤íŠ¸ìº í”„ ì›¹Â·ëª¨ë°”ì¼ 9ê¸° ì±Œë¦°ì§€ê³¼ì •ì´ 8ì›” 9ì¼ë¡œì¨ ë§ˆë¬´ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤ğŸ‘ğŸ‘ğŸ‘\n6ì›” 24ì¼ ì‹œì‘ëœ ë² ì´ì§ë¶€í„° ì°¸ì—¬í–ˆìœ¼ë‹ˆ ê±°ì˜ 2ê°œì›” ì •ë„ì˜ ì‹œê°„ì´ ì •ì‹ ì—†ì´ í˜ëŸ¬ê°”ë„¤ìš”\nì±Œë¦°ì§€ 1ì£¼ì°¨ íšŒê³ ë¥¼ ë³´ì‹œë©´ ì•„ì‹œê² ì§€ë§Œ ì €ëŠ” ë¶€ìŠ¤íŠ¸ìº í”„ ì›¹Â·ëª¨ë°”ì¼ 5ê¸° ì±Œë¦°ì§€ ê³¼ì •ì„ ìˆ˜ë£Œí–ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ë¦„ ë“¤ìœ¼ë©´ ëŒ€ë¶€ë¶„ ì•„ì‹¤ë§Œí•œ ì¤‘ê²¬ ì„œë¹„ìŠ¤ ê¸°ì—…ì—ì„œ 2ë…„ ì¡°ê¸ˆ ì•ˆë˜ëŠ” ê²½ë ¥ë„ ìˆì–´ìš”\nê·¸ë˜ì„œì¸ì§€ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ë§í–ˆì„ ë•ŒëŠ” \u0026ldquo;ë„ˆ ì´ë¯¸ ê½¤ í•˜ì–ì•„? ë¶€íŠ¸ìº í”„ì— ë‹¤ì‹œ ê°ˆ í•„ìš”ê°€ ìˆì–´?\u0026rdquo; ë¼ëŠ” ë°˜ì‘ì´ ì£¼ ì˜€ë˜ ê²ƒ ê°™ê³ , 1ì£¼ì°¨ ê·¸ë£¹íšŒê³ ì—ì„œ ìˆ˜ë£Œìƒì„ì„ ë°í˜”ì„ ë•ŒëŠ” \u0026ldquo;í˜¹ì‹œ.. êµ³ì´ ë‹¤ì‹œ í•˜ì‹  ì´ìœ ë¥¼ ë¬¼ì–´ë´ë„ ê´œì°®ì„ê¹Œìš”?\u0026rdquo; ë¼ëŠ” ë°˜ì‘ì´ ìˆì—ˆì–´ìš”.\nê·¸ë˜ì„œ ì´ë²ˆ íšŒê³ ì—ì„œ ì–´ë–¤ ë¶€ë¶„ì´ ì¢‹ì•˜ì—ˆëŠ”ì§€, ì™œ ë¶€ìŠ¤íŠ¸ìº í”„ë¥¼ ë‹¤ì‹œ ì„ íƒí–ˆëŠ”ì§€, ë‹¤ì‹œ ì°¸ì—¬í–ˆì–´ë„ ì„±ì¥í–ˆëŠ”ì§€ ë“±ì„ í•¨ê»˜ ë‚¨ê¸°ë©´, ë‹¤ìŒ ì°¸ì—¬í•˜ì‹¤ ë¶„ë“¤ì—ê²Œ í° ë„ì›€ì´ ë  ê²ƒ ê°™ì•„ ê¸€ì„ ë‚¨ê¹ë‹ˆë‹¤.\në¶€ìº ë¥¼ í†µí•´ ì–»ì„ ìˆ˜ ìˆì—ˆë˜ ê²ƒë“¤ ë¶€ìŠ¤íŠ¸ìº í”„ë¥¼ í†µí•´ ë‹¨ê¸°ê°„ì— ë¹ ë¥¸ ì—­ëŸ‰ í–¥ìƒì„ í•  ìˆ˜ ìˆì—ˆì–´ìš”, í•˜ì§€ë§Œ ê°œë°œ ì—­ëŸ‰ í–¥ìƒì€ ë¶€ìº ì—ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ê²ƒë“¤ ì¤‘ì— ê°€ì¥ ì‚¬ì†Œí•œ ë¶€ë¶„ì…ë‹ˆë‹¤.\nì € ê°™ì€ ê²½ìš°ëŠ” ë¶€ìŠ¤íŠ¸ìº í”„ ì›¹Â·ëª¨ë°”ì¼ 5ê¸° ì±Œë¦°ì§€ê³¼ì •ì„ ìˆ˜ë£Œí•œ ì§í›„ ë³´ë‹¤, í˜„ì—…ì—ì„œ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ë©° ì¢‹ì€ ê²½í—˜ì´ì—ˆë‹¤ëŠ” ê²ƒì„ ì‹¤ê°í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ì•„ìš”!\nì±Œë¦°ì§€ ê³¼ì •ì—ì„œì˜ ì–´ë–¤ ë¶€ë¶„ë“¤ì´ ì €ì—ê²Œ í° ìì‚°ì´ ë˜ì—ˆëŠ”ì§€ ë§ì”€ë“œë ¤ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤ğŸ˜€\nì¸ì‹ì˜ ë¶€ì¬ì™€ ìš°ë§¤í•¨ì˜ ë´‰ìš°ë¦¬ í•„ë¦½ G.ì•„ëª¨ì–´ê°€ ì§‘í•„í•œ The Laws Of Software Processë¼ëŠ” ì±…ì—ì„œ ë¬´ì§€ì˜ ë‹¤ì„¯ ê°€ì§€ ë‹¨ê³„ì— ëŒ€í•´ì„œ ì–¸ê¸‰í•˜ëŠ”ë°\nì†Œí”„íŠ¸ì›¨ì–´ ì „ë¬¸ê°€ë“¤ì´ ìì‹ ì´ ì•Œê³  ìˆëŠ” ê²ƒê³¼ ì•Œì§€ ëª»í•˜ëŠ” ê²ƒì„ ì´í•´í•˜ëŠ” ì§€í‘œë¡œ ì‚¬ìš©í•  ê²ƒì„ ê¶Œí•˜ê³  ìˆìŠµë‹ˆë‹¤.\n0 ë‹¨ê³„: ë¬´ì§€ì˜ ë¶€ì¬ ì–´ë–¤ ê²ƒì„ ì•Œê³  ìˆìŒì„ ì¦ëª…í•  ìˆ˜ ìˆëŠ” ìƒíƒœ 1 ë‹¨ê³„: ì§€ì‹ì˜ ë¶€ì¬ ì–´ë–¤ ê²ƒì„ ì•Œì§€ ëª»í•˜ëŠ” ìƒíƒœ 2 ë‹¨ê³„: ì¸ì‹ì˜ ë¶€ì¬ ì–´ë–¤ ê²ƒì„ ì•Œì§€ ëª»í•œë‹¤ëŠ” ê·¸ ìì²´ë¥¼ ëª¨ë¥´ëŠ” ìƒíƒœ 3 ë‹¨ê³„: íš¨ìœ¨ì ì¸ í”„ë¡œì„¸ìŠ¤ì˜ ê²°ì—¬ ë¬´ì–¸ê°€ë¥¼ ëª¨ë“ ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œì§€ ëª»í•œë‹¤ëŠ” ê²ƒì„ ë°í˜€ë‚¼ ì ì ˆí•˜ê³  íš¨ê³¼ì ì¸ ë°©ë²•ì´ ì—†ëŠ” ìƒíƒœ 4 ë‹¨ê³„: ë©”íƒ€ë¬´ì§€ ë¬´ì§€ì˜ 5ë‹¨ê³„ì— ê´€í•´ ì•Œì§€ ëª»í•˜ëŠ” ìƒíƒœ ì €ëŠ” ì´ëŸ° ë¬´ì§€ì˜ ë‹¨ê³„ë¥¼ ë³´ë©° ë”ë‹ í¬ë£¨ê±° íš¨ê³¼(ì¸ì§€ í¸í–¥ ê·¸ë˜í”„)ê°€ ê°™ì´ ë– ì˜¬ëì–´ìš”\nìì‹ ì´ ê°€ëŠ¥ ëŠ¥ë ¥ì— ë¹„í•´ ìì‹ ì˜ ëŠ¥ë ¥ì„ ê³¼ëŒ€í‰ê°€ ë‹¤ë¥¸ ì‚¬ëŒì˜ ëŠ¥ë ¥ì„ ì•Œì•„ë³´ì§€ ëª»í•¨ ìì‹ ì˜ ëŠ¥ë ¥ë¶€ì¡±ìœ¼ë¡œ ì§ë©´í•˜ëŠ” ì–´ë ¤ì›€ì— ëŒ€í•œ ì¸ì‹ì €í•˜ ê¹¨ë‹¬ìŒê³¼ ì§€ì‹ì˜ ì¦ê°€ë¥¼ í†µí•´ ëŠ¥ë ¥ì´ ì¦ê°€í•œ í›„ ìì‹ ì˜ ëŠ¥ë ¥ë¶€ì¡±ì„ ì¸ì§€, ì¸ì • ë”ë‹ í¬ë£¨ê±° íš¨ê³¼ëŠ” ìš°ë§¤í•¨ì˜ ë´‰ìš°ë¦¬(mount stupid)ë¡œ ìœ ëª…í•œë°ìš”, ê¸°ì¡´ì— ì•Œê³  ìˆëŠ” ê²ƒì´ ì‚¬ì‹¤ê³¼ ë‹¤ë¥´ê±°ë‚˜ í‹€ë¦¬ë‹¤ëŠ” ê²ƒì„ ì¸ì§€í•˜ê²Œ ë˜ë©´ì„œ ê²¸ì†í•œ ìì„¸ë¡œ ë°°ìš°ë ¤ëŠ” íƒœë„ë¥¼ ê°–ê²Œ ëœë‹¤ëŠ” ê²ƒì„ ì„¤ëª…í•©ë‹ˆë‹¤.\në¶€ìº ì— ì…ê³¼í•˜ëŠ” ëŒ€ë¶€ë¶„ ìº í¼ë¶„ë“¤ì€ í•™êµì—ì„œ ê½¤ ì˜í•˜ëŠ”, ë™ì•„ë¦¬ ì—ì´ìŠ¤ ë“± ê°ì ë³¸ì¸ ì—­ëŸ‰ì— ìë¶€ì‹¬ì´ ìˆìœ¼ì…¨ì„ê±°ì—ìš”\nì € ê°™ì€ ê²½ìš° ì´ëŸ¬í•œ ìë¶€ì‹¬ì€ 5ë‹¨ê³„ ë¬´ì§€ ì¤‘ 2ë‹¨ê³„ì¸ ì¸ì‹ì˜ ë¶€ì¬ê°€ ë°”íƒ•ì´ ë˜ì—ˆì—ˆëŠ”ë°ìš”\nê·¸ëŸ¬í•œ ì´ìœ ë¡œ ê°ì í•œë”°ê¹Œë¦¬ ì˜ í•˜ì‹œë˜ ë¶„ë“¤ì´ ë§Œë“¤ì–´ë‚¸ ê°ì ë‹¤ë¥´ê²Œ ì˜í•œ ê²°ê³¼ë¬¼ë“¤ì„ í†µí•´ ë¬¸ì œë¥¼ í•œë²ˆì— ë§ì´ ì¸ì‹í•˜ê²Œë˜ê³ , ì ˆë§ì˜ ê³„ê³¡ìœ¼ë¡œ ë¹ ë¥´ê²Œ ë–¨ì–´ì§€ê²Œë©ë‹ˆë‹¤ğŸ¢\nì•„ëŠ”ë§Œí¼ ë³´ì¸ë‹¤ëŠ” ë§ì˜ ëœ»ì„ ì•Œê²Œë©ë‹ˆë‹¤ğŸ˜‚\nì´ëŸ¬í•œ ë¶€ë¶„ì€ ì£¼ë‹ˆì–´ë¼ë©´ ì–¸ì  ê°„ ê¼­ ëŠë¼ê²Œ ë˜ëŠ” ê²½í—˜ì¸ë°, ì´í›„ ìƒê°í•´ë³´ë‹ˆ ë¹¨ë¦¬ ê²½í—˜í•´ì„œ ì˜¤íˆë ¤ ì¢‹ì•„!ë¼ëŠ” ìƒê°ì´ ë“¤ë”ë¼êµ¬ìš”\në‚¨ë“¤ë³´ë‹¤ ë¹ ë¥´ê²Œ ê¹¨ë‹¬ìŒì˜ ì˜¤ë¥´ë§‰ì„ ì˜¤ë¥´ê²Œë˜ë©°, ê²¸ì†í•´ì§€ëŠ” ê²ƒì€ ë¬¼ë¡ ì´ê³  ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì˜ê²¬ì„ ì¡´ì¤‘í•  ìˆ˜ ë°–ì— ì—†ê²Œ ë˜ì–´ë²„ë¦½ë‹ˆë‹¤.\nì¢‹ì€ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ê¸°ì¤€ ë¶€ìŠ¤íŠ¸ìº í”„ ì±Œë¦°ì§€ì—ì„œì˜ ê²½í—˜ì´ ì—†ì—ˆë‹¤ë©´, ì•„ë§ˆë„\u0026hellip; ê°œë°œìë¡œ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ ê¸¸ì„ ìƒê³  í•´ë§¸ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì„ ë§ì´ í–ˆì—ˆì–´ìš”\nì´ëŸ¬í•œ ìƒê°ì„ í•˜ê²Œ ë˜ì—ˆë˜ ì´ìœ ëŠ” ê°œë°œìê°€ ë§Œë“¤ì–´ë‚´ëŠ” ê²°ê³¼ë¬¼ì˜ í’ˆì§ˆì€ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤ê³  ìƒê°í•˜ëŠ” í™˜ê²½ì´ í›¨ì”¬ ë” ë§ë‹¤ê³  ëŠê»´ì¡Œê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\nì´ë¡œ ì¸í•´ ì¡°ì§ì—ì„œ ì •ì˜í•˜ëŠ” ì¢‹ì€ ê°œë°œìì˜ ê¸°ì¤€ë„ ì´ìƒì ì¸ ê°œë°œìì˜ ê¸°ì¤€ê³¼ëŠ” ìƒê°ë³´ë‹¤ ë§ì€ ì°¨ì´ê°€ ìˆì—ˆì–´ìš”\nì •ë§ ì•„ì‰½ê²Œë„ ê¸°ìˆ ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ì§€ ì•ŠëŠ”(ë§ë¡œë§Œ ì¤‘ìš”í•˜ë‹¤ê³  í•˜ëŠ”, ê¸°ì¤€ì´ ë‚®ì€) íšŒì‚¬ë“¤ì´ ì •ë§ ë§ìŠµë‹ˆë‹¤.\ní´ë¦°ì½”ë“œì™€ ê°™ì€ ì—¬ëŸ¬ ì±… ë“¤ì—ì„œë„ ì–¸ê¸‰ë˜ëŠ” ë‚´ìš©ì´ì§€ë§Œ, ì´ëŸ¬í•œ íšŒì‚¬ë“¤ì€ ëŒ€ë¶€ë¶„ ë¬´ë¦¬í•œ ì¼ì •ìœ¼ë¡œ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ë‚´ê¸¸ ì›í•˜ê³  ì´ëŸ¬í•œ ê³¼ì •ì´ ë°˜ë³µë˜ë©° ì•…ìˆœí™˜ì´ ë°œìƒí•©ë‹ˆë‹¤.\nì‚¬ì‹¤ ì„œë¥˜ìƒìœ¼ë¡œ ì±…ì„ì„ íšŒí”¼ì„ í•˜ê¸° ìœ„í•´ ê·¸ëŸ¬ëŠ” ê²ƒ ê°™ë‹¤ê³  ëŠê»´ì§€ê¸°ë„ í–ˆì–´ìš” ì´ëŸ° í™˜ê²½ì´ ê³ ì°©í™”ë˜ë©´ êµ‰ì¥íˆ ë§ì€ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ë§Œ, ê·¸ ì¤‘ì—ì„œë„ í’ˆì§ˆì— ëŒ€í•œ ê¸°ì¤€ì´ ì—†ì–´ì§€ê±°ë‚˜ ì™œê³¡ë˜ëŠ” í˜„ìƒì´ ì‹ ì… ê°œë°œìì—ê²Œ ê°€ì¥ ì¹˜ëª…ì ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.\nê²½í—˜ì´ ì ì€ ì‹ ì… ê°œë°œìê°€ ì´ëŸ¬í•œ í™˜ê²½ì— ë…¸ì¶œë˜ë©´, ì™œê³¡ëœ í’ˆì§ˆ ê¸°ì¤€ì´ ì˜³ì€ ë°©í–¥ì´ë¼ê³  ë¯¿ê²Œ ë˜ì–´ë²„ë¦¬ëŠ” ë¬¸ì œê¹Œì§€ ë°œìƒí•  ìˆ˜ ìˆê³ , ì•ˆíƒ€ê¹ê²Œë„ ì‹¤ì œë¡œ ë§ì´ ë³´ì´ëŠ” ì‚¬ë¡€ì…ë‹ˆë‹¤.\n\u0026ldquo;ì´ëŸ¬í•œ í™˜ê²½ì—ì„œ ë¶€ìŠ¤íŠ¸ìº í”„ëŠ” ì €ì—ê²Œ ì¢‹ì€ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ê¸°ì¤€ì„ ì¡ì•„ì¤¬ìŠµë‹ˆë‹¤.\u0026rdquo;\nì‹ ì… í˜¹ì€ ì˜ˆë¹„ ê°œë°œìë“¤ì€ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì¸ì‹ì˜ ë¶€ì¬ ì¦‰, ì¢‹ì€ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ê¸°ì¤€ì´ ì—†ê±°ë‚˜, ë§ì´ ë‚®ê¸° ë•Œë¬¸ì— ìœ„ê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•˜ê²Œ ëœë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\nì¢‹ì€ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ê¸°ì¤€ì„ ì¡ê¸° ìœ„í•´ì„œëŠ” ë‹¹ì—°í•˜ê²Œë„ ì¢‹ì€ ê²°ê³¼ë¬¼ì„ ë§ì´ ì ‘í•´ë´ì•¼í•˜ì§€ë§Œ í˜„ì‹¤ì ìœ¼ë¡œ ë„ˆë¬´ ì–´ë ¤ìš´ ì¼ì´ì£ \u0026hellip;\ní•˜ì§€ë§Œ! ë¶€ìŠ¤íŠ¸ìº í”„ì—ì„œ ë‹¤ì–‘í•œ ê°•ì ì„ ê°€ì§„ ë¶„ë“¤ì´ ëª¨ì—¬ ê°ê¸° ë§Œë“¤ì–´ë‚¸ ì¢‹ì€ ê²°ê³¼ë¬¼ë“¤ì„ ë§ì´ ì ‘í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ì €ëŠ” ì™œê³¡ëœ í’ˆì§ˆ ê¸°ì¤€ì´ ì˜³ì€ ë°©í–¥ì´ë¼ê³  ë¯¿ê²Œ ë˜ì–´ë²„ë¦¬ëŠ” ë¬¸ì œì—ì„œ ë¹„êµì  ììœ ë¡œìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\níš¨ì§„ì  ì‚¬ê³  ìµœê·¼ ë§ˆë¬´ë¦¬ëœ ì˜¬ë¦¼í”½ ì‚¬ê²© ì—¬ì ê³µê¸°ì†Œì´ 10m êµ­ê°€ëŒ€í‘œì¸ ë°©íš¨ì§„ ì„ ìˆ˜ë‹˜ì€ \u0026ldquo;ë‚˜ë„ ë¶€ì¡±í•˜ì§€ë§Œ ë‚¨ë„ ë³„ê±° ì•„ë‹ˆë‹¤.\u0026ldquo;ë¼ë©° ë¶ˆì•ˆì„ ì¸ì •í•˜ëŠ” íš¨ì§„ì  ì‚¬ê³ ë¡œ ê·¸ ë¶€ë‹´ê°ì„ ê·¹ë³µí•˜ê³  ê¸ˆë§¤ë‹¬ì„ ë”° ë‚´ì‹¤ ìˆ˜ ìˆì—ˆë‹¤ëŠ” ì¸í„°ë·°ë¥¼ ë´¤ìŠµë‹ˆë‹¤.\nì €ë„ 5ê¸° ì±Œë¦°ì§€ê°€ ëë‚˜ê³  ë©¤ë²„ì‰½ì— ê°€ì§€ ëª»í–ˆê³ , ì˜ í•˜ì‹œëŠ”ë¶„ë“¤ì„ ì§ì ‘ ë§ì´ ì ‘í•˜ë‹¤ë³´ë‹ˆ ì €ì˜ ì—­ëŸ‰ì— ëŒ€í•´ì„œ ìì‹ ê°ì´ ë§ì´ ë–¨ì–´ì ¸ ìˆì—ˆì–´ìš”\ní•˜ì§€ë§Œ ì‹œê°„ì´ íë¥¼ìˆ˜ë¡ ì œ ìì‹ ì´ ì„±ì¥í–ˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë˜ ê³„ê¸°ë“¤ì´ ìˆì—ˆê³ , ê²°ê³¼ì ìœ¼ë¡œ ì´ëŸ¬í•œ íš¨ì§„ì  ì‚¬ê³ ë¥¼ íƒ‘ì¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nì‘. ë§ì•„ ë‚˜ ì§€ê¸ˆì€ ì˜ ëª»í•´.\nê·¼ë° ë‚´ê°€ í‰ìƒ ëª» í•  ê²ƒ ê°™ì•„?\në‚˜ëŠ” ê³„ì† ë…¸ë ¥í•  ê±°ê³  ì¡°ê¸ˆì”© ì„±ì¥í•´ì™”ì–´\nì–¸ì  ê°„ ì˜ í•˜ê²Œ ë  ê±°ì•¼!\nìš´ì˜ì§„ ì œì´ë‹˜ì´ ê³µìœ í•´ì£¼ì…¨ë˜ ëª…ì–¸ë„ ë‹¤ì‹œ ìƒê°ë‚˜ë„¤ìš”\nì–µê¹Œì—ë„ ê°•í•´ì§‘ë‹ˆë‹¤.\nê¸€ì„ ì“°ê³ ë³´ë‹ˆ ëª¨ë‘ ë™ë£Œ ìº í¼ë“¤ ë•ë¶„ì— ìƒê¸°ëŠ” ê¸ì •ì ì¸ ì˜í•­ì´ì—ˆêµ°ìš”!\në¶€ìº ì— ë‹¤ì‹œ ì§€ì›í•œ ì´ìœ  ê·¸ë˜ì„œ ì™œ ë‹¤ì‹œ ì§€ì›í–ˆëŠëƒë¼ê³  ë¬¼ì–´ë³´ì‹ ë‹¤ë©´..! ì•„ë˜ì™€ ê°™ì€ ì´ìœ ë“¤ì´ ìˆìŠµë‹ˆë‹¤.\në™ê¸°ë¶€ì—¬ í‡´ì‚¬ í›„ í‘¹ ì‰¬ê³  ë‹¤ì‹œ ì¤€ë¹„ë¥¼ ì‹œì‘í•˜ëŠ”ë°\u0026hellip; ë„ˆë¬´ ì¬ë¯¸ê°€ ì—†ì—ˆì–´ìš”\ní‡´ì‚¬ ì „ 1ë…„ê°„ íŒ€ì—ì„œ ê°€ì¥ ë§ì€ í‹°ì¼“ì„ ëŠì€ í‹°ì¼“ë¨¸ì‹ ì´ì—ˆë˜ ì €ëŠ” ë¹¡ë¹¡í•œ ê°œë°œ ì¼ì •ìœ¼ë¡œë¶€í„° ë‚˜ì˜¤ëŠ” ë„íŒŒë¯¼ì— ë‡Œê°€ ì ˆì—¬ì € ìˆì—ˆê¸° ë•Œë¬¸ì—, ì €ì˜ ì˜ì§€ë§Œìœ¼ë¡œëŠ” ë™ê¸°ë¶€ì—¬ë¥¼ í•˜ê¸° í„±ì—†ì´ ë¶€ì¡±í–ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ì €ë¥¼ ë¶€ì¶”ê¸¸ ê°•í•œ í”„ë ˆì…”ê°€ í•„ìš”í–ˆì–´ìš”ğŸ¤£\në¶€ìº ì˜ ì–´ë ¤ìš´ ë¯¸ì…˜ê³¼ ë¹¡ì„¼ ì¼ì •ì´ë¼ë©´ ì €ë¥¼ ì›€ì§ì´ê²Œ ë§Œë“¤ ê²ƒ ì´ë¼ê³  ìƒê°í–ˆê³ , ì´ëŸ¬í•œ í™˜ê²½ì— ì €ë¥¼ ë˜ì ¸ì•¼í–ˆìŠµë‹ˆë‹¤.\në‚´ ìˆ˜ì¤€ íŒŒì•…í•˜ê¸° ë¶€ìº ì€ ê²½ë ¥ 2ë…„ ì´í•˜ì˜ ì£¼ë‹ˆì–´ê¹Œì§€ ì°¸ì—¬ ê°€ëŠ¥í•œ ë§Œí¼ ì™œ ì˜¤ì…¨ì„ê¹Œ ìƒê°ì´ ë“¤ ë§Œí¼ ì˜ í•˜ì‹œëŠ” ë¶„ë“¤ë„ ë§ì´ ê³„ì…¨ìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ê²½ë ¥ì´ ì—†ëŠ”ë° ì´ë ‡ê²Œê¹Œì§€ ì˜í•´ì§ˆ ìˆ˜ ìˆë‚˜ ì‹¶ì„ ì •ë„ë¡œ ì˜ í•˜ì‹œëŠ” ë¶„ë“¤ë„ ë§ì´ ê³„ì…¨ì—ˆì£ \nê·¸ë˜ì„œ ì´ ë¶„ë“¤ê³¼ ì €ë¥¼ ë¹„êµí•˜ë©´ ì €ì˜ ìˆ˜ì¤€ì„ ì–´ëŠì •ë„ íŒŒì•…í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\në„ì›€ì„ ë“œë¦¬ê³  ì‹¶ì–´ìš” ê°œë°œìë¡œ ì–¼ë§ˆ ì•ˆë˜ëŠ” ê¸°ê°„ ì¼ í•˜ë©´ì„œ í•™êµ í›„ë°°, ë™ë£Œ ê°œë°œì ë“± ì—¬ëŸ¬ ì£¼ë‹ˆì–´ ê°œë°œìë“¤ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€í™”í•  ê¸°íšŒë“¤ì´ ìˆì—ˆëŠ”ë°, ê°™ì´ ê³ ë¯¼ì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ë‹¤ë³´ë©´ ê°œì¸ì ìœ¼ë¡œ ì•ˆíƒ€ê¹Œìš´ ìƒí™©ë“¤ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê²½ìš°ëŠ” ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë˜ ë”ë‹-í¬ë£¨ê±° íš¨ê³¼ì˜ ìš°ë§¤í•¨ì˜ ë´‰ìš°ë¦¬ì™€ ì ˆë§ì˜ ê³„ê³¡ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤ì´ì—ˆì–´ìš”\nìš°ë§¤í•¨ì˜ ë´‰ìš°ë¦¬\nê°œë°œì ì±„ìš© ì„¤ëª…íšŒì— ì°¸ì—¬í•´ë³¸ ë¶„ë“¤ì€ ì‹ ì… ê°œë°œìëŠ” ì—­ëŸ‰ìœ¼ë¡œ ë½‘ì§€ ì•ŠëŠ”ë‹¤. ë˜ê°€ ì ì¬ë ¥ì´ ì¤‘ìš”í•˜ë‹¤. ì´ëŸ° ë§ì”€ì„ ë§ì´ ë“¤ì–´ë³´ì…¨ì„ê²ë‹ˆë‹¤.\nì´ëŸ° ë‚´ìš©ì„ ë“¤ìœ¼ë©´ ë“£ê¸° ì¢‹ìœ¼ë¼ê³  í•˜ëŠ” ì†Œë¦¬ë‹¤. ìŠ¤í™ì´ ì ì¬ë ¥ ì•„ë‹ˆëƒë¼ê³  ìƒê°í•˜ì‹œëŠ” ë¶„ë“¤ì´ ë§ì€ ê²ƒ ê°™ì•„ìš”(ì•„ì˜ˆ í‹€ë¦° ë§ì€ ì•„ë‹ˆë¼ê³  ìƒê°í•©ë‹ˆë‹¤.)\nê·¸ë˜ì„œ ê²°êµ­ ì‹¤ë ¥ìœ¼ë¡œ ì¦ëª…í•´ì•¼í•œë‹¤ ë¼ê³  ê²°ë¡ ì„ ë‚¸ ë¶„ë“¤ì„ ë§ì´ ì ‘í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nê·¸ëŸ°ë° ì¼í•´ë³´ë‹ˆê¹Œ ì •ë§ ê·¸ë ‡ì§€ ì•Šì•„ìš” ì •ë§ ì—­ëŸ‰ìœ¼ë¡œë§Œ ë½‘ì§€ ì•Šê³ , ì„±ê³¼ë¥¼ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” íšŒì‚¬ë“¤ì€ ìŠ¤í™ì€ í¬ê²Œ ê³ ë ¤í•˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì •í™•íˆ ë§í•˜ë©´ ì—­ëŸ‰ì„ ê¸°ì¤€ìœ¼ë¡œ ì¡ìœ¼ë©´ ë½‘ì„ ì‚¬ëŒì´ ì—†ì–´ìš”. ê·¸ëŸ´ê±°ë©´ ì‹ ì… ë§ê³  ê²½ë ¥ì„ ë½‘ëŠ”ê²Œ ë” ì¢‹ê² ì£ (ì € í¬í•¨ ì‹ ì…ë“¤ ë‹¤ ì™ ë§Œí¼ í•©ë‹ˆë‹¤.) ì´ë ‡ê²Œ ì‹¤ë ¥ìœ¼ë¡œ ì¦ëª…í•œë‹¤ë¼ê³  ê²°ë¡ ì„ ë‚´ë¦¬ì‹  ë¶„ë“¤ì€ ëŒ€ë¶€ë¶„ ë³¸ì¸ì´ ë½‘íë§Œí•œ ì—­ëŸ‰ì´ë¼ê³  ë¯¿ëŠ” ë¶„ë“¤ì´ ë§ìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ìš°ë§¤í•¨ì˜ ë´‰ìš°ë¦¬ ì¯¤ì— ìˆëŠ” ìƒíƒœë¡œ ë³¸ì¸ì˜ ë¶€ì¡±í•¨ì„ ì¸ì§€í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„ìš”\nì „ ì§ì¥ì— í•œ ê¸°ìˆ˜ ë¨¼ì € ë“¤ì–´ì˜¨ ì£¼ë‹ˆì–´ ê°œë°œìì˜ ì‚¬ë¡€ë¥¼ ë§ì”€ë“œë¦´ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”, ì·¨ì—… ì¤€ë¹„ ê¸°ê°„ì„ ì˜¤ë˜ ê°–ì§€ ì•Šìœ¼ì‹œê³  ê±°ì˜ í˜„ì—­ìœ¼ë¡œ ì…ì‚¬í–ˆë˜ ê°œë°œìì˜€ìŠµë‹ˆë‹¤.\nì´ ë¶„ì€ ì „í™˜í˜• ì¸í„´ ê³¼ì •ì—ì„œ ì ê·¹ì ì¸ ì˜ì‚¬ í‘œí˜„ê³¼ íƒœë„, ì—´ì •ì„ ë†’ê²Œ í‰ê°€ë°›ì•„ ë†’ì€ ì„±ì ìœ¼ë¡œ ì „í™˜ë˜ì—ˆì§€ë§Œ, ë³¸ì¸ì€ ê°œë°œìë¡œì„œì˜ ì—­ëŸ‰ì„ ë†’ê²Œ í‰ê°€ë°›ì•„ ì „í™˜ë˜ì—ˆë‹¤ê³  ë¯¿ê³  ìˆì—ˆìŠµë‹ˆë‹¤.\nì „í™˜ ì´í›„ì—ë„ ì—´ì •ì ìœ¼ë¡œ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ì…¨ì£ , í•˜ì§€ë§Œ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ì—°ì°¨ê°€ ë‚®ì„ ë•ŒëŠ” ìš©ì¸í•  ìˆ˜ ìˆëŠ” ì‹¤ìˆ˜ë‚˜ ë‚®ì€ í’ˆì§ˆì˜ ì½”ë“œê°€ ê°œì„ ë˜ì§€ì•Šì•„ í‰ê°€ê°€ ë‚˜ë¹ ì¡Œì–´ìš”\nê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ë³¸ì¸ì´ ì—­ëŸ‰ì´ ê´œì°®ì€ ê°œë°œìë¼ëŠ” ë¯¿ìŒì„ ë²„ë¦¬ì§€ ëª»í•˜ì…¨ê³ , ê²°êµ­ì—” ì„±ì¥ì„ í¬ê¸°í•˜ì‹œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nì´ ë¬¸ì œê°€ ì•ì„œ ì–¸ê¸‰í–ˆë˜ ì ˆë§ì˜ ê³„ê³¡ì— ë¹ ë¥´ê²Œ ì§„ì…í•˜ì§€ ëª»í–ˆê³ , ì¢‹ì€ ê²°ê³¼ë¬¼ì— ëŒ€í•œ ê¸°ì¤€ì´ ì—†ì—ˆê¸° ë•Œë¬¸ì— ë°œìƒí•œ ë¬¸ì œë¡œ ìƒê°í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nì¡°ê¸ˆ ê·¹ë‹¨ì ì¸ ì˜ˆì‹œì´ì§€ë§Œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê²½í—˜í•˜ì§€ ì•Šê¸° ìœ„í•´ì„œ, ê·¹ë³µí•˜ê¸° ìœ„í•´ì„œëŠ” ì¡°ê¸ˆì´ë¼ë„ ë¹¨ë¦¬ ì¢‹ì€ ê²°ê³¼ë¬¼ë“¤ì„ ë§ì´ ë³´ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í–ˆì–´ìš”\nê·¸ë˜ì„œ ì €ë„ ì´ëŸ¬í•œ ì¢‹ì€ ê²°ê³¼ë¬¼ì— ì¡°ê¸ˆì´ë¼ë„ ë„ì›€ì´ ë  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œë¼ëŠ” ìƒê°í–ˆìŠµë‹ˆë‹¤.\nì ˆë§ì˜ ê³„ê³¡\nìš°ë§¤í•¨ì˜ ë´‰ìš°ë¦¬ì—ì„œ ë‚´ë ¤ì™”ë‹¤ë©´ ë‹¤ìŒ ë¬¸ì œì¸ ì ˆë§ì˜ ê³„ê³¡ì„ ë§Œë‚˜ê²Œ ë©ë‹ˆë‹¤.\nì ˆë§ì˜ ê³„ê³¡ì—ì„œ í° íƒ€ê²©ì„ ì…ìœ¼ì‹œëŠ” ë¶„ë“¤ì€ ë³¸ì¸ì— ì—­ëŸ‰ì— ìë¶€ì‹¬ì´ ê°•í•˜ë˜ ë¶„ë“¤ì´ì‹œì£ \nìœ„ ì‚¬ë¡€ë¡œ ì–¸ê¸‰í–ˆë˜ ì£¼ë‹ˆì–´ ê°œë°œìëŠ” ì ˆë§ì˜ ê³„ê³¡ì— ë“¤ì–´ì„œëŠ” ê³¼ì •ì—ì„œ ë³¸ì¸ì´ ì—­ëŸ‰ì´ ë–¨ì–´ì§€ëŠ” ê°œë°œìë¼ëŠ” ê²ƒì„ ì¸ì •í•˜ê¸° ì–´ë ¤ì› ê³ , ê²°ê³¼ì ìœ¼ë¡œ ìµœì•…ì´ë¼ê³  ìƒê°ë˜ëŠ” íšŒí”¼ë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤.\nì €ë„ í•™êµë‚˜ ë™ì•„ë¦¬, ëŒ€ì™¸ í™œë™ì—ì„œ ì£¼ë¡œ ë²„ìŠ¤ ê¸°ì‚¬ ì—­í• ì„ í–ˆì—ˆê³  ë‚˜ë¦„ ì œ ì—­ëŸ‰ì— ëŒ€í•œ ìë¶€ì‹¬ë„ ìˆì—ˆê¸° ë•Œë¬¸ì—, ë¶€ìº ì„ ëë‚´ê³  ì ˆë§ì˜ ê³„ê³¡ì—ì„œ ë²—ì–´ë‚˜ì§€ ëª»í•˜ê³  í•œë™ì•ˆ í˜ë“¤ì—ˆë˜ ê²½í—˜ì´ ìˆì—ˆì–´ìš”\nì ˆë§ì˜ ê³„ê³¡ì—ì„œ ëŠë¼ëŠ” ê°ì •ë“¤ì€ ì„±ì¥ì„ ìœ„í•´ ê¼­ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\nê·¸ë ‡ì§€ë§Œ ì˜¤ë˜ ëŠë‚„ í•„ìš”ëŠ” ì—†ë‹¤ê³  ìƒê°í•´ìš”\nìì¹« ì €ì™€ ê°™ì´ ê·¹ë³µí•˜ëŠ” ë° ì˜¤ëœ ì‹œê°„ì´ í•„ìš”í•œ ë¶„ë“¤ì´ ìˆì„ ìˆ˜ ìˆê³ (ì‚¬ì‹¤ ë§ì„ ê²ƒ ê°™ë‹¤ê³  ìƒê°í–ˆì–´ìš”) ê·¸ëŸ° ë¶„ë“¤ì—ê²Œ í¬ê¸°í•˜ì§€ ì•Šë„ë¡, ê¸ˆë°© íšŒë³µí•  ìˆ˜ ìˆë„ë¡ í˜ì„ ë“œë¦¬ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.\nì´ì „ê³¼ ë‹¬ë¼ì§„ ì  ë¶€ìŠ¤íŠ¸ìº í”„ ì›¹ãƒ»ëª¨ë°”ì¼ 9ê¸°ëŠ” ì´ì „ê³¼ ê°™ì´ ê¸°ë³¸ê¸°ì™€ ë¬¸ì œ í•´ê²°ë ¥ì— ëŒ€í•œ ë‚´ìš©ë“¤ì„ ê¹Šê²Œ ì²´í—˜í•´ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ì ì€ ê°™ì•˜ì§€ë§Œ, 5ê¸°ì™€ ë¹„êµí–ˆì„ ë•Œ ë§ì€ ê²ƒì´ ë‹¬ë¼ì ¸ ìˆì—ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ì–´ë– í•œ ë¶€ë¶„ì´ ë‹¬ëëŠ”ì§€ ì‚´í´ë³´ê³ , ì œê°€ ì–´ë–¤ ë¶€ë¶„ì—ì„œ ì‹ ê²½ì„ ì»ëŠ”ì§€ ì‚´í´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”\në² ì´ì§ ê³¼ì • ì²˜ìŒìœ¼ë¡œ ë² ì´ì§ ê³¼ì •ì´ ì‹ ì„¤ë˜ì—ˆìŠµë‹ˆë‹¤.\në² ì´ì§ ê³¼ì •ì€ 1ì°¨ ë¬¸ì œí•´ê²°ë ¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì— ë”°ë¼ ì„ íƒì ìœ¼ë¡œ ì°¸ì—¬í•˜ëŠ” ê³¼ì •ì´ì—ˆëŠ”ë°, ì € ê°™ì€ ê²½ìš° 2ì°¨ ë¬¸ì œí•´ê²°ë ¥ í…ŒìŠ¤íŠ¸ ì§í–‰ì´ì—ˆì§€ë§Œ ì°¸ì—¬í–ˆì–´ìš”\nì œ ê¸°ì–µì—ëŠ” ëŒ€ëµ 1,000ëª… ì´ìƒì´ ë² ì´ì§ ê³¼ì •ì— ì°¸ì—¬í•˜ì…¨ë˜ ê²ƒìœ¼ë¡œ ì•Œê³ ìˆìŠµë‹ˆë‹¤.\n5ê¸° ì±Œë¦°ì§€ ê³¼ì •ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ê²°ê³¼ë¬¼ì„ í™•ì¸í•  ìˆ˜ë„ ìˆì—ˆê³ , íŒ€ í™œë™ë„ ìˆë‹¤ëŠ” ì ì´ íŠ¹ë³„í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nê²°ê³¼ë¬¼ì—ëŠ” ìì‹ ì´ ë¬¸ì œë¥¼ í•´ê²°í•´ë‚˜ê°„ ê³¼ì •ì„ READMEë¥¼ í†µí•´ ê¼­ ë‚¨ê²¨ì•¼ í–ˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì‚¬ëŒì˜ ì ‘ê·¼ ë°©ì‹ë“¤ë„ ì˜ íŒŒì•…í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì•„ë§ˆ ê°œë°œ ê´€ë ¨ í•™ìŠµì„ ì˜¤ë˜ í•˜ì‹œì§€ ì•Šì•˜ë‹¤ë©´, ë² ì´ì§ ê³¼ì •ì„ ì„±ì‹¤í•˜ê²Œ ì°¸ì—¬í•˜ê³  ë‹¤ë¥¸ ë¶„ë“¤ì˜ ê²°ê³¼ë¬¼ë“¤ì€ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒ ë§Œìœ¼ë¡œë„ ë§ì€ ë„ì›€ì´ ë˜ì…¨ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆì–´ìš”\në¯¸ì…˜\në² ì´ì§ ê³¼ì •ì€ ìš”êµ¬ ì‚¬í•­ì€ ì¡°ê¸ˆ ë³µì¡í•˜ì§€ë§Œ êµ¬í˜„ ìì²´ëŠ” ì–´ë µì§€ ì•Šì€ ë¯¸ì…˜ë“¤ì„ í•´ê²°í•´ì•¼í–ˆìŠµë‹ˆë‹¤.\n5ê¸° ì±Œë¦°ì§€ ê³¼ì • ë¯¸ì…˜ì— ë¹„êµí•œë‹¤ë©´, ë² ì´ì§ì˜ ë¯¸ì…˜ì€ ì±Œë¦°ì§€ ë¯¸ì…˜ì—ì„œ êµ¬í˜„í•´ì•¼ í•  ì „ì²´ ê¸°ëŠ¥ ì¤‘ ì¼ë¶€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ì •ë„ë¡œ ëŠê»´ì¡Œë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në‹¤ë§Œ ê¹”ë”í•œ ì„¤ê³„ê°€ ë°˜ì˜ë˜ì—ˆì„ ë•Œ ì™„ì „íˆ ë‹¤ë¥¸ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ ìˆ˜ ìˆì–´ì„œ, í‰ì†Œ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸ê°™ì´ êµ¬í˜„ë§Œì„ ìœ„í•œ ì½”ë”©ì„ í•´ì˜¤ì‹  ë¶„ë“¤ ì´ë¼ë©´, ë‹¤ë¥¸ ì˜í•œ ê²°ê³¼ë¬¼ì„ ë´¤ì„ ë•Œ ë‚´ ê²°ê³¼ë¬¼ì´ ë­”ê°€ ì˜ëª»ëë‹¤ëŠ” ê²ƒì„ ëŠê¼ˆì„ ê²ƒ ê°™ì•˜ì–´ìš”\nì € ê°™ì€ ê²½ìš° êµ¬í˜„ ìì²´ì—ëŠ” ì‹œê°„ì´ ë§ì´ í•„ìš”í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë§ì€ ì‹œê°„ì„ ì¢‹ì€ ì„¤ê³„ë¥¼ ìœ„í•´ í™œìš©í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nê±°ê¸°ì— ë”í•´ì„œ ì½ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ë§Œë“¤ê³ , ì €ì˜ ìƒê°ê³¼ ì½”ë“œë¥¼ ë” ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë¶„ì„ ë¶€í„° êµ¬í˜„ê¹Œì§€ì˜ ëª¨ë“  ê³¼ì •ì„ ìƒì„¸íˆ READMEì— ê¸°ë¡í•˜ë ¤ê³  ë…¸ë ¥í•˜ì˜€ìŠµë‹ˆë‹¤.\níŒ€ í™œë™\níŒ€ í™œë™ì—ì„œ íŠ¹ë³„í–ˆë˜ ì ì€ êµ¬í˜„ë¿ë§Œì´ ì•„ë‹ˆë¼ ì„¤ê³„ë¯¸ì…˜ì´ ì£¼ì–´ì¡Œë‹¤ëŠ” ì  ì¸ë°ìš”\nê°œë°œì„ í• ìˆ˜ë¡ ëŠë¼ëŠ” ì ì€ ì„¤ê³„ê°€ ì°¸ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒ ì…ë‹ˆë‹¤.\nì €ëŠ” ì„¤ê³„ë¥¼ ì™„ì„±í•˜ëŠ” ê³¼ì •ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì™„ì„±ëœë‹¤ê³  ìƒê°í•´ìš”, êµ¬í˜„ì€ ê·¸ ì„¤ê³„ë¥¼ ì½”ë“œë¡œ ì¡°ê¸ˆ ë” ìƒì„¸í•˜ê²Œ ì˜®ê²¨ ì ëŠ” ê²ƒ ë¿ì´ë¼ê³  ìƒê°í•˜ì£ \nê·¸ë˜ì„œ ì €ëŠ” í•­ìƒ í”„ë¡œê·¸ë˜ë°ì—ì„œ êµ¬í˜„ ìì²´ëŠ” ì‚¬ì†Œí•œ ë¶€ë¶„ì´ë¼ê³  ë§ í•©ë‹ˆë‹¤.\nì„¤ê³„ì˜ ì¤‘ìš”í•œ ì—­í•  ì¤‘ í•˜ë‚˜ëŠ” ë¨¸ë¦¬ì†ì— ë– ë‹¤ë‹ˆëŠ” ë‚´ìš©ë“¤ì„ ê¸€ì´ë‚˜ ê·¸ë¦¼ì„ í†µí•´ í˜„ì‹¤ ì„¸ê³„ë¡œ ê°€ì ¸ì™€ ê·œê²©í™”í•˜ëŠ” ê²ƒì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.\nê·¸ë ‡ê¸° ë•Œë¬¸ì— ì„¤ê³„ì— ëŒ€í•œ ê°œë… ìì²´ê°€ ì—†ìœ¼ì…¨ë˜ ë¶„ë“¤, ì¤‘ìš”ì„±ì„ ì²´ê°í•˜ì§€ ëª»í•˜ì…¨ë˜ ë¶„ë“¤ì€ íŒ€ í™œë™ì„ í†µí•´ ì„¤ê³„ë¥¼ í•˜ë©° ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ìƒê°ì„ ë” ê¹Šê²Œ ì´í•´í•´ë³´ê³  ì •ë¦¬í•˜ëŠ” ê³¼ì •ì´ ì„±ì¥ì— í° ë„ì›€ì´ ë  ê²ƒ ê°™ë‹¤ê³  ëŠê¼ˆì–´ìš”\nêµìœ¡ì„ ì„¤ê³„í•˜ì‹¤ ë•Œ êµ‰ì¥íˆ ë§ì€ ê³ ë¯¼ì´ ìˆì—ˆë‹¤ëŠ” ê²ƒì´ ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.\nì €ëŠ” íŒ€ í™œë™ì—ì„œ ë‹¤ë¥¸ë¶„ë“¤ê³¼ í•¨ê»˜ ì˜ê²¬ë“¤ì„ ê¸€ê³¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•´ë³´ë©° ìƒê°ì„ ê³µìœ í•˜ê¸° ìœ„í•´ ë…¸ë ¥í–ˆê³ , ì„¤ê³„ê°€ í•„ìš”í•œ ì´ìœ ë“¤ì„ ìµœëŒ€í•œ ëŠë‚„ ìˆ˜ ìˆë„ë¡ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.\nì±Œë¦°ì§€ ê³¼ì • ì±Œë¦°ì§€ ê³¼ì •ì—ì„œì˜ í•™ìŠµ ë‚´ìš©ë“¤ì€ 5ê¸°ë•Œì™€ ì°¨ì´ê°€ ì—†ì—ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ\u0026hellip; 3ë…„ê°„ ë¬´ìŠ¨ ì¼ë“¤ì´ ìˆì—ˆì„ê¹Œìš”? ë‚œì´ë„ëŠ” ê½¤ ë§ì´ ìƒìŠ¹ë˜ì—ˆë‹¤ê³  ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.\nChat-GPTì™€ ê°™ì´ ê°œë°œì„ ë„ì™€ì¤„ ë„êµ¬ê°€ ë“±ì¥í–ˆë‹¤ëŠ” ê²ƒë„ ë‚œì´ë„ ìƒìŠ¹ì— ì˜í–¥ì„ ì¤¬ì„ ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ê³ , ë² ì´ì§ ê³¼ì •ì—ì„œ ì˜ í•˜ì‹œëŠ” ë¶„ë“¤ì´ ë§ì•„ ë‚œì´ë„ë¥¼ ì˜¬ë ¸ì„ê¹Œ? ë¼ëŠ” ìƒê°ë„ ë“¤ì—ˆì–´ìš”\nì•„ë‹ˆë©´ ì•„ëŠ” ë§Œí¼ ë³´ì¸ë‹¤ëŠ” ë§ ì²˜ëŸ¼ ì œê°€ ë” ì„±ì¥í•´ì„œ ë¬¸ì œì˜ ë³¸ì§ˆì„ ë” ì˜ ì•Œê²Œë˜ì—ˆì„ê¹Œ? ë¼ëŠ” ìƒê°ë„ ë“¤ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në¬´ìŠ¨ ì´ìœ ë˜ ì´ì „ë³´ë‹¤ëŠ” ë§ì´ ì–´ë µê²Œ ëŠê»´ì¡Œì–´ìš”. 5ê¸°ë•ŒëŠ” ìš”êµ¬ì‚¬í•­ì„ ëª¨ë‘ ë§Œì¡±í•˜ì§€ ëª»í–ˆë˜ ë¯¸ì…˜ì´ ë§ˆì§€ë§‰ 2ê°œì¯¤ ë¿ì´ì—ˆê³ , ëŒ€ë¶€ë¶„ ì˜¤í›„ 12ì‹œ ì´ì „ì— ë§ˆë¬´ë¦¬ í–ˆì—ˆë‹¤ë©´\u0026hellip;\n9ê¸° ì±Œë¦°ì§€ ê³¼ì •ì—ì„œëŠ” ìš”êµ¬ì‚¬í•­ì„ ëª¨ë‘ ë§Œì¡±ì‹œí‚¤ì§€ ëª»í•œ ê³¼ì œê°€ ê½¤ ìˆì—ˆê³ , ì ì–´ë„ ì˜¤ì „ 2ì‹œê¹Œì§€ëŠ” ë¬¸ì œí•´ê²°ì„ ìœ„í•´ ì‹œê°„ì„ ë³´ëƒˆìŠµë‹ˆë‹¤.\nì‚¬ì‹¤ ë¬¸ì œí•´ê²°ì„ í†µí•œ ì—­ëŸ‰ì´ í–¥ìƒë˜ëŠ” ê²ƒì€ í° ê¸°ëŒ€ë¥¼ í•˜ê³  ìˆì§€ ì•Šì•˜ì—ˆëŠ”ë°, ê´€ë ¨ ë‚´ìš©ë“¤ì„ ë‹¤ì‹œ ë³µê¸°í•˜ê³  ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ê°€ëŠ” ê³¼ì •ì—ì„œ ê¸°ëŒ€ë³´ë‹¤ ë” ë§ì€ ì„±ì¥ì„ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì§ ë¯¸ì…˜ 5ê¸°ë•Œì™€ ê°€ì¥ í° ì°¨ì´ì ì€ ì§ ë¯¸ì…˜ì´ì—ˆìŠµë‹ˆë‹¤.\nì§ ë¯¸ì…˜ì€ ì±Œë¦°ì§€ ê³¼ì • 4ì£¼ ì¤‘ ë§ˆìë§‰ 2ì£¼ëŠ” ì§ ë¯¸ì…˜ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì§„í–‰ë  ë§Œí¼ í° ë¹„ì¤‘ì„ ì°¨ì§€í–ˆì–´ìš”\nì§ê³¼ í•¨ê»˜ ì„¤ê³„ í›„ ê°ì ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ë³´ëŠ” ì§ ì„¤ê³„, ì§ê³¼ ì„¤ê³„ì™€ êµ¬í˜„ì„ í•¨ê»˜í•˜ëŠ” ì§ êµ¬í˜„, ë‹¨ìˆœíˆ ê°™ì´ ê°œë°œí•˜ëŠ” ì§ êµ¬í˜„ì„ ë„˜ì–´ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ í•´ì•¼í•˜ëŠ” ë¯¸ì…˜ë„ ìˆì—ˆê³ , ê°™ì´ ë§Œë“  ê²°ê³¼ë¬¼ì„ ê°ì ê°œì„ í•´ë³´ëŠ” ê°ì ê°œì„ í•˜ê¸°, ê°ì ë§Œë“  ê²°ê³¼ë¬¼ì„ ê°™ì´ ê°œì„ í•´ë³´ëŠ” ì§ ê°œì„ ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\ní˜„ì—…ì—ì„œë„ ê´€ë ¨ ê²½í—˜ì´ ì—†ì—ˆê¸° ë•Œë¬¸ì— êµ‰ì¥íˆ í¥ë¯¸ë¡œì› ëŠ”ë° ì´ ì¤‘ ì§ ì„¤ê³„ì™€ í˜ì´ í”„ë¡œê·¸ë˜ë°ì´ ê°€ì¥ ì¸ìƒì ì´ì—ˆìŠµë‹ˆë‹¤.\nì§ ì„¤ê³„\ní˜¼ì ë¯¸ì…˜ì„ ìˆ˜í–‰í•  ë•ŒëŠ” ìš”êµ¬ì‚¬í•­ ë¶„ì„ ê³¼ì •ì—ì„œ ì• ë§¤í•œ ë¶€ë¶„ì— ëŒ€í•´ ì˜ì‚¬ ê²°ì •ì— ì‹œê°„ì´ ë§ì´ í•„ìš”í–ˆì—ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ì§ê³¼ í•¨ê»˜ ì„¤ê³„ë¥¼ ì§„í–‰í•˜ë©° ì§ê³¼ í•¨ê»˜ ë¯¸ì…˜ ìš”êµ¬ì‚¬í•­ì„ ë¶„ì„í•˜ë©° ì„œë¡œ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°ë˜ëŠ” ê²ƒë“¤, ë¶ˆí•„ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ê²ƒë“¤ì„ ê³µìœ í•˜ê³  í† ë¡ í•˜ë©° í›¨ì‹  ë” ë¹ ë¥¸ ì˜ì‚¬ê²°ì •ì„ í–ˆë˜ ê²½í—˜ì´ ì•„ì£¼ ê¸ì •ì ì´ì—ˆì–´ìš”ğŸ˜€\nì„œë¡œ ë‹¤ë¥´ê²Œ ì´í•´í•œ ë¶€ë¶„ì„ ì¤„ì´ê¸° ìœ„í•´ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ mermaidë¥¼ í™œìš©í•˜ì—¬ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì„ ì´ìš©í•´ ì‹œê°í™”í•˜ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.\nê°™ì€ ì„¤ê³„ë¥¼ í†µí•´ êµ¬í˜„í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , í° í‹€ì„ ì œì™¸í•œ ì„¸ë¶€ ì‚¬í•­ë“¤ì´ ì™„ì „íˆ ë‹¬ëë‹¤ëŠ” ê²ƒì€ ì •ë§ í¥ë¯¸ë¡œì› ë„¤ìš”\ní˜ì–´ í”„ë¡œê·¸ë˜ë°\nì—¬ëŸ¬ë²ˆì˜ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì´ ìˆì—ˆì§€ë§Œ ë§ˆì§€ë§‰ ë¯¸ì…˜ì´ ê°€ì¥ ê¸°ì–µì— ë‚¨ìŠµë‹ˆë‹¤.\nì§ì´ ì €ì™€ ë§ˆì°¬ê°€ì§€ë¡œ TDDë¥¼ ê³„ì†í•´ì„œ ì‹œë„í•˜ê³  ê³„ì…¨ë˜ ë¶„ì´ì…”ì„œ ìì—°ìŠ¤ëŸ½ê²Œ TDDë¥¼ í™œìš©í•´ì„œ í˜ì´ í”„ë¡œê·¸ë˜ë°ì„ ìˆ˜í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.\nê¸°ëŠ¥ ë‹¨ìœ„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°™ì´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ë„¤ë¹„ê²Œì´í„°ì™€ ë“œë¼ì´ë²„ ì—­í• ì€ ë°”ê¿”ê°€ë©° ì§„í–‰í•˜ì˜€ëŠ”ë°, ì‹¤ì‹œê°„ìœ¼ë¡œ í”¼ë“œë°±ì„ ì£¼ê³ ë°›ìœ¼ë©° ì ì§„ì ìœ¼ë¡œ ë”ìš± ì¢‹ì€ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ê°€ëŠ” ê³¼ì •ì´ êµ‰ì¥íˆ ìœ ìµí•˜ë‹¤ê³  ëŠê»´ì¡Œì–´ìš”\nì• ìì¼ ë°©ë²•ë¡ ì—ì„œ ë°˜ë³µì ì´ê³  ì ì§„ì ì¸ ê°œì„ ê³¼ í˜‘ì—… ì •ì‹ ì„ ìœ„í•´ TDDì™€ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ ê°•ì¡°í•˜ëŠ” ì§€ ì´ìœ ë¥¼ ì¡°ê¸ˆì´ë‚˜ë§ˆ ëŠë‚„ ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në‚´ê°€ ì‹œë„í•œ ê²ƒë“¤ í˜‘ì—…ì—ì„œ í’€ìŠ¤íƒ ê°œë°œìë¡œì„œ ì¼í•˜ëŠ” ê³¼ì •ì—ì„œ ì €ì—ê²Œ ë¶€ì¡±í•œ ë¶€ë¶„ì´ë¼ê³  ìƒê°ë˜ì—ˆë˜ ë¬¸ì„œí™”ì™€ TDDë¥¼ ì ê·¹ì ìœ¼ë¡œ ì‹œë„í•˜ë ¤í–ˆìŠµë‹ˆë‹¤.\në¬¸ì„œí™” ê°œë°œìë¡œ ì¼í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì„œí™”ë¥¼ í•˜ì§€ ì•Šì•˜ë˜ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.\në³µì¡í•œ ì—…ë¬´ë¼ë˜ê°€ ìƒˆë¡­ê²Œ ì¶”ê°€ë˜ëŠ” ê¸°ëŠ¥ ê°™ì€ ê²½ìš°ì—ëŠ” ê½¤ë‚˜ ê¼¼ê¼¼íˆ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê¸°ë„ í–ˆì—ˆì–´ìš”\ní•˜ì§€ë§Œ ì´ ì™¸ì—ëŠ” ë‹¨ìˆœíˆ ì—…ë¬´ ê¸°ë¡ì„ ìœ„í•´(ì´í›„ ë°œìƒí•  ì‹œì‹œë¹„ë¹„ë¥¼ ê°€ë¦¬ê¸° ìœ„í•´) ë¬¸ì„œë¥¼ ì‘ì„±í•˜ëŠ” ëŠë‚Œì´ ê°•í–ˆìŠµë‹ˆë‹¤.\në¬¼ë¡  ì „ íšŒì‚¬ì—ì„œë„ ì—…ë¬´ ê¸°ë¡ ìˆ˜ì¤€ì˜ ë¬¸ì„œí™”ë¥¼ ìš”êµ¬í–ˆìŠµë‹ˆë‹¤. (ì‚¬ì‹¤ ì €ëŠ” ê°œë°œ ë¬¸ì„œë¼ê³  ìƒê°í•˜ì§€ ì•Šì•˜ì–´ìš”) ê°œë°œ ë¬¸ì„œëŠ” ì •ì±…ì„ í˜‘ì˜í•˜ëŠ” ê³¼ì •ì—ì„œ ì™œ ì´ë ‡ê²Œ ì„ íƒí•  ìˆ˜ ë°–ì— ì—†ì—ˆëŠ”ì§€, êµ¬ì¡°ë¥¼ ì™œ ì´ë ‡ê²Œ í•´ì•¼í–ˆëŠ”ì§€ì™€ ê°™ì€ íˆìŠ¤í† ë¦¬ì™€ ì•ìœ¼ë¡œ ì–´ë–¤ ì‹ìœ¼ë¡œ ìˆ˜ì •ë˜ê¸¸ ë°”ë¼ëŠ”ì§€ì™€ ê°™ì€ ë‚´ìš©ë“¤ì„ í†µí•´ ì´í›„ ìœ ì§€ ë³´ìˆ˜ë¥¼ ë” ì˜ í• ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ ëª©í‘œë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\nì´í›„ í•´ë‹¹ ì˜ì—­ì„ ë‹´ë‹¹í•  ê°œë°œìë“¤ì´ ê´€ë ¨ ë‚´ìš©ì„ ë³´ë©° ë‹¤ë¥¸ ì ‘ê·¼ ë°©ì‹ì„ ì•Œê³  ìˆì–´ ê°œì„ í•œë‹¤ë˜ê°€ í•˜ëŠ” ê¸ì •ì ì¸ íš¨ê³¼ë¥¼ ê¸°ëŒ€í–ˆë˜ê²ƒì´ì£ \ní•˜ì§€ë§Œ ì—…ë¬´ ê¸°ë¡ ìˆ˜ì¤€ì˜ ë¬¸ì„œí™”ë¥¼ ìš”êµ¬ë°›ë‹¤ë³´ë‹ˆ ì‹œê°„ì„ ë§ì´ ë¶€ì¡±í–ˆê³ , ë‹¤ë¥¸ ë¬¸ì„œë“¤ë„ ì—…ë¬´ ê¸°ë¡ ìˆ˜ì¤€ì´ì—ˆê¸° ë•Œë¬¸ì— ì°¸ê³ í• ë§Œí•œ ìë£Œë„ ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì ì  ê³µì„ ë§ì´ ì•ˆë“¤ì´ê²Œ ë˜ë”ë¼êµ¬ìš”\në¯¸ì…˜ì„ ìˆ˜í–‰í•˜ë©´ì„œ ë§Œë“¤ì–´ì§€ëŠ” ìš”êµ¬ì‚¬í•­ ë¶„ì„ ë‚´ìš©, ì„¤ê³„ ë“±ê³¼ ê°™ì€ ë‚´ìš©ë“¤ì€ ìœ ì§€ë³´ìˆ˜ì™€ëŠ” ê´€ê³„ê°€ ì—†ê² ì§€ë§Œ, ë‹¤ë¥¸ì‚¬ëŒë“¤ì´ ë³´ê³  ë‚´ ê²°ê³¼ë¬¼ì„ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤ëŠ” ë¶€ë¶„ì—ì„œëŠ” ê³µí†µì ì´ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ë” ì¢‹ì€ í”¼ë“œë°±ì„ ë°›ê¸° ìœ„í•´ì„œ, ë‹¤ë¥¸ ë¶„ë“¤ì´ ë” ì‰½ê²Œ ì˜ê°ì„ ë°›ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ë¶„ì„ ë‚´ìš©ê³¼ ì„¤ê³„ ë“±ì„ ìµœëŒ€í•œ ìƒì„¸í•˜ë©´ì„œë„ ì˜ ì½íˆë„ë¡ ë§Œë“¤ê¸° ìœ„í•´ ë…¸ë ¥í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nTDD ì´ì „ ì§ì¥ì€ ì €í’ˆì§ˆ ë ˆê±°ì‹œ ì½”ë“œë¡œ ì¸í•´ ì•…ìˆœí™˜ì´ ë°œìƒí•˜ê³  ìˆëŠ” ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.\nì£¼ìš” ì›ì¸ ì¤‘ í•˜ë‚˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì „í˜€ ì‘ì„±í•˜ì§€ ì•Šê³  QAì— ì˜ì¡´í•˜ëŠ” ê°œë°œì´ ì›ì¸ì´ë¼ê³  ìƒê°í–ˆì–´ìš”\ní…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì—†ìœ¼ë‹ˆ ë³€ê²½ ìì²´ê°€ êµ‰ì¥íˆ ë„ì „ì ì¸ ì¼ì´ ë˜ì–´ë²„ë¦½ë‹ˆë‹¤. ê·¸ëŸ¬ë‹¤ ë³´ë‹ˆ ìµœì†Œí•œì˜ ë³€ê²½ì„ ìœ„í•´ ì‘ì€ ì½”ë“œë“¤ì´ ë¶™ì—¬ì ¸ ë‚˜ê°”ê³  ì½”ë“œ í’ˆì§ˆì€ ë” ë‚˜ë¹ ì§€ê²Œ ë˜ì–´ë²„ë ¸ìŠµë‹ˆë‹¤. ì½”ë“œì˜ ê²°í•©ì´ ë†’ê³ , ì¤‘ë³µë˜ëŠ” ë¡œì§ì´ ë§ë‹¤ë³´ë‹ˆ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìì²´ë¥¼ ì‹œë„í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ê°™ì€ ì´ìœ ë¡œ ì´ë¯¸ êµ¬í˜„ë˜ì–´ìˆëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ì„ì´ êµ‰ì¥íˆ ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ í™˜ê²½ì—ì„œ ê°œë°œì„ ìˆ˜í–‰í•˜ë‹¤ë³´ë‹ˆ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ì¤‘ìš”ì„±ì„ í¬ê²Œ ëŠê¼ˆì§€ë§Œ, ì–´ë–»ê²Œ ì ‘ê·¼í•´ì•¼í• ì§€ ê°ì„ ì¡ì„ ìˆ˜ ì—†ì–´ ì ìš©í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\ní‡´ì‚¬ ì´í›„ TDDë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ëŠ” íšŒì‚¬ì˜ ê³¼ì œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•´ë³¼ ê¸°íšŒê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œ ê´€ë ¨ ìë£Œë“¤ì„ ì°¾ì•„ê°€ë©° ë‚˜ë¦„ëŒ€ë¡œ í…ŒìŠ¤íŠ¸ë“¤ì„ ë§Œë“¤ì—ˆê³ , ì´í›„ ë©´ì ‘ì—ì„œ ì–´ë–¤ ì‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ”ì§€ ë¬¼ì–´ë³¸ í›„ ëŒ€ëµì ì¸ ë°©í–¥ì„±ì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆì–´ìš”.\nì´ ë•Œ ë“¤ì—ˆë˜ ë‚´ìš© ì¤‘ ê°€ì¥ ì¸ìƒê¹Šì—ˆë˜ ë‚´ìš©ì€\n\u0026ldquo;ì €í¬ëŠ” ìš”êµ¬ì‚¬í•­ê³¼ ì •ì±…ì´ ì™„ì„±ë˜ë©´ ê·¸ ë‚´ìš©ë“¤ì„ ì „ë¶€ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•´ìš”\u0026rdquo;\nì˜€ìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ì°¾ì•„ë³´ë‹ˆ BDDê°€ ìš”ëŸ° ë§¥ë½ìœ¼ë¡œ ì§„í–‰ë˜ë”ë¼êµ¬ìš”\nê·¸ë˜ì„œ ì €ë„ ì´ëŸ¬í•œ ë°©ì‹ë“¤ì„ ì ìš©í•´ë³´ë ¤ ì‹œë„í–ˆê³  ì–´ëŠì •ë„ TDD ì ì‘í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì• ìì¼ìŠ¤ëŸ¬ìš´ ê°œë°œ TDDì™€ ë”ë¶ˆì–´ ë³€ê²½ì„ ê°€ì •í•˜ê³  ì „ì²´ ê¸°ëŠ¥ì˜ ì¼ë¶€ë§Œ ì„¤ê³„í•˜ê³  êµ¬í˜„í•´ë‚˜ê°€ëŠ” ì• ìì¼ìŠ¤ëŸ¬ìš´ ê°œë°œì„ ì‹œë„í–ˆìŠµë‹ˆë‹¤.\nì²˜ìŒì—ëŠ” ì „ì²´ë¥¼ ì„¤ê³„í•˜ê³  ê¸°ëŠ¥ì„ ë‚˜ëˆ„ì–´ êµ¬í˜„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í–ˆì—ˆëŠ”ë°, êµ¬í˜„ ê³¼ì •ì—ì„œ ìš”êµ¬ì‚¬í•­ì„ ì˜ëª» ë¶„ì„í–ˆê±°ë‚˜, ì„¤ê³„ê°€ ì˜ëª»ëœ ê²ƒì„ í™•ì¸í•˜ê²Œ ë˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆì—ˆìŠµë‹ˆë‹¤.\nì´ ì¤‘ ì¼ë¶€ëŠ” í° ë³€ê²½ì´ ë”°ë¼ì™€ì„œ ì„¤ê³„ ì „ì²´ê°€ í”ë“¤ë¦¬ê²Œë˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ë°œìƒí–ˆì—ˆì–´ìš”\nì´ ë•Œë¬¸ì— ê³ ë¯¼í•˜ê³  ìˆì—ˆëŠ”ë°, ë¶€ìŠ¤íŠ¸ìº í”„ ë§ˆìŠ¤í„°ì¸ JKë‹˜ì´ ì• ìì¼ìŠ¤ëŸ¬ìš´ ê°œë°œì— ëŒ€í•´ ì–¸ê¸‰í•´ì£¼ì…¨ê³ , ì´ë¥¼ ì¦‰ì‹œ ë°˜ì˜í•˜ì˜€ìŠµë‹ˆë‹¤.\ní•„ìš”í•˜ë‹¤ê³  ìƒê°ë˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ëŒ€ëµì ìœ¼ë¡œ ë¶„ë¦¬í•œ í›„ ê·¸ ì¤‘ ì¼ë¶€ë§Œ ì„¤ê³„í•˜ê³  ê°œë°œí–ˆëŠ”ë° ë‹¹ì—°í•˜ê²Œë„ ë³€ê²½ì€ ë°œìƒí–ˆì§€ë§Œ, ì˜í–¥ ë²”ìœ„ëŠ” ê·¹íˆ ì œí•œì ì´ì—ˆì–´ìš”.\nTDDì™€ ê²°í•©í•˜ë‹ˆ ë§ˆì¹˜ ê²Œì„ì„ í•˜ëŠ” ê²ƒ ê°™ì€ ëŠë‚Œë§ˆì € ë°›ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤ ğŸ®ğŸ®\në§ˆë¬´ë¦¬ 13ì¼ë¶€í„° ê¸€ì„ ì‘ì„±í•˜ê¸° ì‹œì‘í–ˆëŠ”ë° 16ì¼ì— ë§ˆë¬´ë¦¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê°„ë§Œì— ë§ì€ ì‹œê°„ì„ ë“¤ì—¬ ê¸€ì„ ì¨ë³¸ ê²ƒ ê°™ë„¤ìš”\nê¸€ì„ ì‘ì„±í•˜ëŠ” ë„ì¤‘ì— 3ì°¨ ë¬¸ì œí•´ê²°ë ¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë‚˜ì™”ì–´ìš”. ì´ë²ˆì—ëŠ” ë©¤ë²„ì‰½ì„ ê²½í—˜í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.ğŸ‘Š\në©¤ë²„ì‰½ì— ê°€ì§€ ëª»í•˜ì‹œëŠ” ë¶„ë“¤ë„ ê³„ì‹¤ ê²ƒ ê°™ì•„ìš”! í•˜ì§€ë§Œ ë‚™ë‹´í•˜ì§€ ì•Šìœ¼ì…¨ìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.\nì €ë„ 5ê¸°ì—ëŠ” ì±Œë¦°ì§€ ê³¼ì •ê¹Œì§€ë§Œ ì°¸ì—¬í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, ì±Œë¦°ì§€ì—ì„œì˜ ê²½í—˜ë§Œìœ¼ë¡œë„ í° ì„±ì¥ì„ ì´ë¤˜ë‹¤ê³  ìƒê°í•´ìš”\nì‹¤ì œë¡œ ì·¨ì—… í›„ íŒ€ ë§‰ë‚´ì˜€ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  êµ¬í˜„ì—ì„œë§Œí¼ì€ ìƒìœ„ê¶Œì´ì—ˆìŠµë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ì–´ë”” ê°€ì„œ ê¿€ë¦¬ì§€ ì•Šìœ¼ì‹¤ê±°ì—ìš”ğŸ”¥\nì•ìœ¼ë¡œ ì‹œì‘í•  ê°œë°œì ì»¤ë¦¬ì–´ì—ì„œ ë¶€ìŠ¤íŠ¸ìº í”„ëŠ” í•˜ë‚˜ì˜ ë§ˆì¼ ìŠ¤í†¤ì¼ ë¿ì…ë‹ˆë‹¤. ì¤‘ìš”í•œ ì²´í¬ í¬ì¸íŠ¸ í•˜ë‚˜ë¥¼ ë‹¬ì„±í–ˆìœ¼ë‹ˆ ë‹¤ë¥¸ ì²´í¬í¬ì¸íŠ¸ë¥¼ ë‹¬ì„±í•´ì•¼ê² ì£ ?\nì•ìœ¼ë¡œ ë‹¬ì„±í•´ì•¼í•  ì²´í¬í¬ì¸íŠ¸ë¥¼ ìœ„í•´ í¬ê¸°í•˜ì§€ë§ê³  í•¨ê»˜ ëê¹Œì§€ ë‚˜ì•„ê°€ë´ìš” ğŸ\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ğŸ˜„\n","date":"2024-08-13T13:45:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/reason/cover_hud9fb725339af3a8bae61969a7c0c823b_45611_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/reason/","title":"ë¶€ìŠ¤íŠ¸ìº í”„ ì›¹ãƒ»ëª¨ë°”ì¼ 9ê¸° ì±Œë¦°ì§€ê¹Œì§€ íšŒê³ "},{"content":"ë¶€ìŠ¤íŠ¸ìº í”„ ì±Œë¦°ì§€ ê³¼ì •ì´ 4ì£¼ì°¨ë¡œ ë§ˆë¬´ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤ğŸ¥³\nì£¼ë§ì„ ì´ìš©í•˜ì—¬ ë¯¸ë¤„ì™”ë˜ ëŒ€ì²­ì†Œì™€ ì•½ì†ë“¤ ë•ë¶„ì— ì›”ìš”ì¼ì´ ë˜ì–´ì„œì•¼ íšŒê³ ë¥¼ ì“°ê²Œ ë˜ë„¤ìš”\nì´ë²ˆì£¼ëŠ” ë¯¸ì…˜ë“¤ì„ ìˆ˜í–‰í•˜ì§€ëŠ” ì•Šê² ì§€ë§Œ, ê·¸ë™ì•ˆ ë°”ë¹ ì„œ ë§ˆë¬´ë¦¬í•˜ì§€ ëª»í–ˆë˜ í•™ìŠµ ì •ë¦¬ë¡œ ë°”ì  ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì´ë²ˆ ì£¼ëŠ” ì €ë²ˆì£¼ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì§ í™œë™ì„ ê¸°ë³¸ìœ¼ë¡œ í•œ ì£¼ê°€ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\nê°ì ê°œë°œí›„ ì§ ê°œì„ í•˜ê¸°, ì§ ê°œë°œí›„ ê°ì ê°œì„ í•˜ê¸°ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë„¤íŠ¸ì›Œí¬ë¥¼ ê¹Šê²Œ ì´í•´í•´ì•¼ë§Œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë¯¸ì…˜ë“¤ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ë§ˆì§€ë§‰ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ íˆë“  ë¯¸ì…˜ì„ ê¸ˆìš”ì¼ì— ìˆ˜í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.\nê°œì¸ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ë¯¸ì…˜ì€ ë§ì´ ì–´ë ¤ì› ë„¤ìš” ğŸ™ƒ\nì´ë²ˆ íšŒê³ ì—ëŠ” ë¯¸ì…˜ë“¤ì— ëŒ€í•œ ì ‘ê·¼ ë°©ë²•ì— ë”í•´ ì§ í™œë™ì´ ì–´ë–»ê²Œ, ë¬´ì—‡ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆëŠ”ì§€ ì„¤ëª…í•´ë³´ê² ìŠµë‹ˆë‹¤.\nDay16 ~ 17: ë°ì´í„°ë² ì´ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ë¯¸ì…˜ì€ ê°ì êµ¬í˜„ í›„ ì§ ê°œì„ ì„ ìˆ˜í–‰í•´ì•¼í•˜ëŠ” ë¯¸ì…˜ì´ì—ˆìŠµë‹ˆë‹¤.\níŒŒì¼ ê¸°ë°˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§ì ‘ êµ¬í˜„í•´ì•¼í•˜ëŠ” ë¯¸ì…˜ì´ì—ˆëŠ”ë°, ìœ„ì—ì„œ ë§ì”€ë“œë ¸ë˜ ê²ƒì²˜ëŸ¼ ê°œì¸ì ìœ¼ë¡œ ë§ì´ ì–´ë ¤ì› ìŠµë‹ˆë‹¤.\nMySQL ì´ì „ ì§ì¥ì—ì„œ í’€ìŠ¤íƒ ê°œë°œìë¡œ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•´ì˜¤ë©° ì˜¤ëœê¸°ê°„ ìœ ì§€ë˜ì–´ì˜¨ PHP ë°±ì—”ë“œ ë ˆê±°ì‹œë¥¼ ìš´ì˜í•˜ëŠ” ê²ƒì´ ì£¼ ì—…ë¬´ì˜€ëŠ”ë°ìš”\nê·¸ë ‡ë‹¤ë³´ë‹ˆ ì˜ˆì „ ë°©ì‹ìœ¼ë¡œ ê·¸ëŒ€ë¡œ ê°œë°œì„ ìˆ˜í–‰í•  ìˆ˜ ë°–ì— ì—†ì—ˆê³ , PDO(PHP Data Object)ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— ì§ì ‘ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì•¼í•˜ëŠ” ê²ƒì€ í•„ìˆ˜ì ì´ì—ˆìŠµë‹ˆë‹¤.\nì˜ˆì „ ê°œë°œ í™˜ê²½ê³¼ ì‹±ê¸€ ìŠ¤ë ˆë“œ ê¸°ë°˜ìœ¼ë¡œ ìˆœì°¨ì ì¸ ì²˜ë¦¬ì— ì¤‘ì ì„ ë‘ëŠ” PHPì˜ íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ì§€ê¸ˆì²˜ëŸ¼ ORMì„ ì´ìš©í•˜ì—¬ ì‘ì€ ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ê°œ ë³´ë‚´ëŠ” ê²ƒ ë³´ë‹¤ëŠ”, êµ‰ì¥íˆ ë§ì€ í…Œì´ë¸”ë“¤ì„ ì¡°ì¸í•˜ëŠ” í° ì¿¼ë¦¬ í•˜ë‚˜ë¥¼ ì‘ì„±í•´ì•¼í•˜ëŠ” ì¼ë„ ë§¤ìš° ë¹ˆë²ˆí–ˆìŠµë‹ˆë‹¤.\nê·¸ë ‡ë‹¤ë³´ë‹ˆ ì¿¼ë¦¬ íŠœë‹ì€ ì €ì—ê²Œ í•„ìˆ˜ì ì¸ ì—­ëŸ‰ì´ì—ˆê³ , í•™ìŠµì— ê½¤ ë§ì€ ê³µì„ ë“¤ì˜€ì—ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ MySQL ë‚´ë¶€ ë™ì‘ì„ ê½¤ ì˜ ì•Œê³  ìˆë‹¤ê³  ìƒê°í•˜ì—¬ ì´ë²ˆ ë¯¸ì…˜ì€ MySQLì„ ëª¨ë°©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í–ˆì—ˆìŠµë‹ˆë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ ê¸°ì¡´ ìš”êµ¬ì‚¬í•­ë§Œì„ ë§Œì¡±í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¨ìˆœí•˜ê²Œ ì „ì²´ ì½ê¸°, ì „ì²´ ì“°ê¸° ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•´ë„ ê´œì°®ì•˜ì§€ë§Œ, ì´ëŸ¬í•œ ê²½ìš° ë°ì´í„°ê°€ ë§ì•„ì§€ë©´ ê¸‰ê²©í•œ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•˜ê²Œë©ë‹ˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•´ë³´ê³  ì‹¶ì–´ ë§ì€ ê³ ë¯¼ì„ í–ˆëŠ”ë° ì´ ë¶€ë¶„ì´ ì •ë§ ì–´ë ¤ì› ìŠµë‹ˆë‹¤ğŸ¥²\nInnoDB\në°ì´í„°ë² ì´ìŠ¤ì˜ ì„±ëŠ¥ì„ ë‚˜ì˜ê²Œ ë§Œë“œëŠ” ì›ì¸ì€ ë””ìŠ¤í¬ I/Oì—ì„œ ë°œìƒí•˜ëŠ” ë³‘ëª© í˜„ìƒì…ë‹ˆë‹¤.\nMySQLì€ í¬ê²Œ MySQL ì—”ì§„, ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì˜ì—­ì„ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ”ë°, ë””ìŠ¤í¬ I/Oì— ì ‘ê·¼í•˜ëŠ” ì—­í• ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ì „ë‹´í•˜ì—¬ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.\nì—¬ëŸ¬ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ìˆì§€ë§Œ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼í’€ì´ë¼ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­ì„ í†µí•´ ì‚¬ìš©í•˜ëŠ” ì£¼ìš” ë°ì´í„°ë¥¼ ëŒ€ë¶€ë¶„ ìºì‹±í•˜ì—¬ ë””ìŠ¤í¬ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.\në˜í•œ ì“°ê¸° ì‘ì—…ì„ ë²„í¼ë§í•˜ì—¬ í•˜ë“œì›¨ì–´ ìì›ì˜ ì—¬ìœ ê°€ ìˆì„ ë•Œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ë“¤ì„ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì„±ëŠ¥ì„ í¬ê²Œ ëŒì–´ì˜¬ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.\nì´ë¥¼ ë°˜ì˜í•˜ê¸° ìœ„í•´ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê¸°ë³¸ ë‹¨ìœ„ì¸ í˜ì´ì§€ë¥¼ êµ¬í˜„í•˜ì•¼í•  í•„ìš”ê°€ ìˆì—ˆìŠµë‹ˆë‹¤ë§Œ\u0026hellip;.\ní˜ì´ì§€ë¥¼ ì§ì ‘ êµ¬í˜„í•˜ê³  ì´ë¥¼ ì´ìš©í•´ì„œ ë°ì´í„° ì €ì¥ì´ë‚˜ ìºì‹±ë“±ì„ êµ¬í˜„í•´ì•¼í•œë‹¤ê³  ìƒê°í•˜ë‹ˆ í˜„ê¸°ì¦ì´ ë‚˜ëŠ” ê²ƒ ê°™ë‹¤ë¼êµ¬ìš”ğŸ˜…\nê·¸ë˜ì„œ MySQL ì¸ë±ìŠ¤ì˜ ê¸°ë³¸ ë‹¨ìœ„ì¸ PKë§Œì„ ì´ìš©í•´ì„œ ì €ì¥ëœ íŒŒì¼ì—ì„œì˜ ë ˆì½”ë“œ ìœ„ì¹˜ë§Œì„ ê°€ì§€ê²Œ êµ¬í˜„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í–ˆìŠµë‹ˆë‹¤.\nB+ Tree ê°™ì€ ìë£Œ êµ¬ì¡°ë¥¼ í†µí•´ì„œ Index Range Scan ê°™ì€ ë°©ì‹ë„ ì ìš©í•´ë³´ë ¤ê³  í–ˆì—ˆëŠ”ë°, ë§ˆì°¬ê°€ì§€ë¡œ ì–´ë ¤ì›Œì„œ PK ë‹¨ì¼ ì¡°ê±´ ì²˜ë¦¬ì— ê´€í•œ ë¶€ë¶„ë§Œ ì ìš©í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì§ ê°œì„  ì§ ê°œì„ ì€ ì´ì „ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê²ƒ ë³´ë‹¤ëŠ” ê¸°ì¡´ ì½”ë“œë¥¼ ê°œì„ í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì§€ì¹¨ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\nì € ê°™ì€ ê²½ìš°ëŠ” HTTP ìš”ì²­/ì‘ë‹µ ë¶„ë¦¬ë¥¼, ì§ì€ DBMS ì•„í‚¤í…ì²˜ ë°˜ì˜ì„ í†µí•œ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•¨ê»˜ ê°œì„ ì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.\nì˜ˆì™¸ ì²˜ë¦¬\nì €ì˜ ê°œì„  ëª©í‘œì˜€ë˜ HTTP ìš”ì²­/ì‘ë‹µ ë¶„ë¦¬ ë¶€ë¶„ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ì‘ë‹µ ì½”ë“œì— ê´€í•œ ë‚´ìš©ë“¤ì´ ê°œì„ ë˜ì–´ì•¼ í–ˆê³ , ì‘ë‹µì„ ë§Œë“¤ê¸°ìœ„í•´ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì¶”ê°€í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì§ê³¼ ì˜ê²¬ì„ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ìƒê²¼ìŠµë‹ˆë‹¤.\nì € ê°™ì€ ê²½ìš°ëŠ” ì„œë¹„ìŠ¤ ë¡œì§ì—ì„œ ì—ëŸ¬ ë˜ëŠ” ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œ í•´ë‹¹ ì—ëŸ¬ë¥¼ ìµœìƒìœ„ ì§€ì ì—ì„œ í•œë²ˆì— í•¸ë“¤ë§í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•˜ëŠ”ë°(í´ë¦°ì½”ë“œ - ì—ëŸ¬ ì²˜ë¦¬) ì–´ë– í•œ ì¥ì ì´ ìˆëŠ”ì§€ì— ëŒ€í•´ì„œ ë¬¼ì–´ë´ ì£¼ì…¨ìŠµë‹ˆë‹¤.\nì½”ë“œë¥¼ ë³´ë©´ì„œ í™•ì¸í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nê°œì„  ì „\nì´ì „ ì²˜ë¦¬ë¥¼ ë³µê¸°í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ê°€ êµ¬í˜„ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 class ì–´ë–¤_ì„œë¹„ìŠ¤_í´ë˜ìŠ¤ { ì›í•˜ëŠ”_ë™ì‘() { if (this.#ê°’_ê²€ì¦()) { throw { status: \u0026#39;value\u0026#39;, message: \u0026#39;ì…ë ¥ ê°’ì„ í™•ì¸í•´ì£¼ì„¸ìš”.\u0026#39;} } } } class ì„œë¹„ìŠ¤ë¡œì§ì„_ì‚¬ìš©í•˜ëŠ”_í´ë˜ìŠ¤ { ì–´ë–¤_ê¸°ëŠ¥() { try { const ê²°ê³¼ = this.#ì–´ë–¤_ì„œë¹„ìŠ¤_ê°ì²´.ì›í•˜ëŠ”_ë™ì‘(); return { code: 200, message: \u0026#39;OK\u0026#39;, body: { ê²°ê³¼ } } } catch (err) { const { status, message } = err; switch (status) { case \u0026#39;value\u0026#39;: return { code: 400, message }; default: return { code: 500, message }; } } } } ì´ëŸ¬í•œ ë°©ì‹ì—ëŠ” ëª‡ ê°€ì§€ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.\nì˜ˆì™¸ë¥¼ ë°œìƒ ì‹œí‚¬ ë•Œ ì‚¬ìš©ìê°€ ì§ì ‘ ì‚¬ìœ ë¥¼ ê¸°ì–µí•´ì„œ ë§¤ì§ë„˜ë²„(ìƒìˆ˜ê°€ ì•„ë‹Œ ì§ì ‘ ì…ë ¥í•´ì•¼í•˜ëŠ” ê°’, í•˜ë“œì½”ë”©)ë¥¼ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤. ì‘ë‹µë„ ê°™ì€ ë¬¸ì œë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë°©ì‹ì€ ê°œë°œìê°€ ì‹¤ìˆ˜ë¥¼ ì‰½ê²Œ í•  ìˆ˜ ìˆëŠ” ì—¬ì§€ê°€ ë§ì•„ì§€ê²Œë©ë‹ˆë‹¤.\nê°œì„  í›„\nì´ëŸ¬í•œ ë¶€ë¶„ì„ ì•„ë˜ì™€ ê°™ì´ ê°œì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 export class BadRequestException extends Error {} export class UnauthorizedException extends Error {} export class ForbiddenException extends Error {} export class NotFoundException extends Error {} export class NotAcceptableException extends Error {} export const HttpStatusCodes = Object.freeze({ OK: 200, BAD_REQUEST: 400, UNAUTHORIZED: 401, FORBIDDEN: 403, NOT_FOUND: 404, NOT_ACCEPTABLE: 406, INTERNAL_SERVER_ERROR: 500, }); ê° ì˜ˆì™¸ ìƒí™©ì— ë§ëŠ” ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. Nest.js í‘œì¤€ ì—ëŸ¬ ì°¸ì¡° Http ì‘ë‹µ ì½”ë“œì— ëŒ€í•´ Enumì„ ì„ ì–¸í•˜ì˜€ìŠµë‹ˆë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 class ì–´ë–¤_ì„œë¹„ìŠ¤_í´ë˜ìŠ¤ { ì›í•˜ëŠ”_ë™ì‘() { if (this.#ê°’_ê²€ì¦()) { throw new BadRequestException(\u0026#34;ì…ë ¥ ê°’ì„ í™•ì¸í•´ì£¼ì„¸ìš”.\u0026#34;); } } } class ì„œë¹„ìŠ¤ë¡œì§ì„_ì‚¬ìš©í•˜ëŠ”_ìµœìƒìœ„_í´ë˜ìŠ¤ { ì–´ë–¤_ê¸°ëŠ¥() { try { const ê²°ê³¼ = this.#ì–´ë–¤_ì„œë¹„ìŠ¤_ê°ì²´.ì›í•˜ëŠ”_ë™ì‘(); return { code: HttpStatusCode.OK, body: { ê²°ê³¼ } } } catch (err) { const { message } = err; if (err instanceof BadRequestException) { return {code: HttpStatusCodes.BAD_REQUEST, message} } else if (err instanceof NotFoundException) { return {code: HttpStatusCodes.NOT_FOUND, message} } else { return {code: HttpStatusCodes.INTERNAL_SERVER_ERROR, message} } } } } ë°œìƒí•œ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ í™•ì¸í•˜ì—¬ Enumìœ¼ë¡œ ì„ ì–¸ëœ ì‘ë‹µ ì½”ë“œë¥¼ ìƒí™©ì— ë§ê²Œ ë°˜í™˜í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½ ì´ëŸ¬í•œ í˜•ì‹ìœ¼ë¡œ ê°œì„ ë˜ì–´ ì•„ë˜ì™€ ê°™ì€ ì¥ì ì„ ì·¨í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ í™•ì¸í•˜ë¯€ë¡œ ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ì§€ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤. ì—ì™¸ ì½”ë“œê°€ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ í™•ì‹¤íˆ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. ë“± ë°œìƒí•˜ëŠ” ì˜ˆì™¸ê°€ HTTP ì‘ë‹µì— ëŒ€í•´ ì§ì ‘ì ì¸ ì—°ê´€ì„±ì´ ìˆì–´ ë˜ í•˜ë‚˜ì˜ ì„¸ë¶€ì‚¬í•­ì¸ HTTPì™€ ê´€ê³„ê°€ ìƒê²¨ë²„ë¦°ë‹¤ëŠ” ê²ƒì´ ì•„ì‰¬ìš´ ì ì´ì§€ë§Œ ì¶©ë¶„íˆ ê°œì„ ë˜ì—ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\nì œê°€ ìƒê°í•˜ëŠ” ì¥ì ì„ ì½”ë“œë¥¼ í•¨ê»˜ ê°œì„ í•´ê°€ëŠ” ê³¼ì •ì„ í†µí•´ì„œ ì„¤ëª…í•´ ë“œë ¸ê³ , ë§ì€ ë„ì›€ì´ ë˜ì—ˆë‹¤ëŠ” ì´ì•¼ê¸°ë¥¼ ë“¤ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤ğŸ˜\nDay18 ~ 19: ë„¤íŠ¸ì›Œí¬ ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ ë¯¸ì…˜ì€ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ í†µí•´ í•¨ê»˜ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ê³ , ì´í›„ ê°ì ê°œì„ ì„ ìˆ˜í–‰í•˜ëŠ” ë¯¸ì…˜ì´ì—ˆìŠµë‹ˆë‹¤.\nì›¹ ì†Œì¼“ ì„œë²„ë¥¼ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì „ì œë˜ì–´ìˆëŠ” ë¯¸ì…˜ì´ì—ˆëŠ”ë°, ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ë¥¼ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ìš”êµ¬ì‚¬í•­ì´ì–´ì„œ ì§ì—ê²Œ ì„¤ê³„ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì œì•ˆí•˜ì—¬ ì ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nì´ì „ê³¼ ë‹¬ëë˜ ì ì€ ì§ì´ ì´ì „ë¶€í„° TDDë¥¼ ì ìš©í•´ì˜¤ì…¨ë˜ ë¶„ì´ì…”ì„œ, ìì—°ìŠ¤ëŸ½ê²Œ TDDë¡œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\nê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì„ ëŒì•„ê°€ë©° ë“œë¼ì´ë²„, ë„¤ë¹„ê²Œì´í„° ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆëŠ”ë°, ì›í• í•˜ê²Œ TDDê°€ ì§„í–‰ë˜ì–´ì„œ ì°¸ ì¦ê±°ìš´ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤ğŸ˜\nê·¸ë¦¬ê³  ì§ ìº í¼ë¶„ì´ ì´ì „ë¶€í„° FE ê°œë°œì„ í•´ì˜¤ì…¨ë˜ ê²½í—˜ì´ ìˆìœ¼ì…”ì„œ JSì— ë§¤ìš° ëŠ¥ìˆ™í•˜ì…¨ê¸° ë•Œë¬¸ì— ì•„ì£¼ ì›í• í•˜ê²Œ ì§„í–‰ë  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë„¤ìš”\në ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ ê¸°ë°˜ì˜ ì„¤ê³„ì™€, TDDê°€ í•©ì³ì§€ë‹ˆ ì§€ê¸ˆê¹Œì§€ ê²°ê³¼ë¬¼ ì¤‘ ê°€ì¥ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ğŸ‘\nê·¸ë˜ë„ ìƒˆë²½ 3ì‹œê°€ ë„˜ì–´ì„œì•¼ ë§ˆë¬´ë¦¬ í•  ìˆ˜ ìˆì—ˆì–´ìš”ğŸ¤£\në ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ Socketì„ ì´ìš©í•˜ì—¬ CLI ê¸°ë°˜ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ë¥¼ êµ¬í˜„í•´ì•¼í–ˆìŠµë‹ˆë‹¤.\nì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²°ì„ ë§Œë“¤ê³ , í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ë§ˆë‹¤ HTTP ì‘ë‹µì„ ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ê°€ í•„ìš”í–ˆê¸° ë•Œë¬¸ì— ì§ì—ê²Œ ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ë¥¼ ì ê·¹ì ìœ¼ë¡œ ì œì•ˆí•˜ì—¬ ë°˜ì˜í•˜ì˜€ìŠµë‹ˆë‹¤.\nHTTP ìš”ì²­ ìˆ˜ì‹  ë° ì‘ë‹µ, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬, ë°ì´í„° ì¡°ì‘ì„ ê° ë ˆì´ì–´ë¡œ êµ¬í˜„í•˜ì—¬ ë¶„ë¦¬í•˜ì—¬, ì¢‹ì€ ì½”ë“œ êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì§ê³¼ í•¨ê»˜ ê°œë°œí•˜ëŠ” ê³¼ì •ì—ì„œ ë¿ë§Œì´ ì•„ë‹ˆë¼, ë‹¤ìŒ í”¼ì–´ì„¸ì…˜ì—ì„œë„ í•´ë‹¹ ì„¤ê³„ë¥¼ ë³´ê³  ë§ì€ ì˜ê°ì„ ì–»ìœ¼ì…¨ë‹¤ëŠ” ë°˜ì‘ì´ ë§ì•„ì„œ ë¿Œë“¯í–ˆë„¤ìš” ğŸ˜\nì˜ì¡´ì„± ì£¼ì… ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ì„±í•˜ë©° ê° ì˜ì¡´ì„±ì´ ìˆëŠ” ë ˆì´ì–´ë¥¼ ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•´ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 class Model { #items; constructor(items) { this.#items = items; } getItem() { return this.#collection.find(condition); } } class Service { #model; constructor(model) { this.#model = model; } businessLogic() { const data = this.#model.getItem(); // ... return data; } } class Handler { #service; constructor (service) { this.#service = service; } handler () { try { return { code: HttpStatusCode.OK, body: this.#service.businessLogic() } } catch (err) { //... } } } 1 2 3 4 const items = []; const model = new Model(items); const service = new Service(model); const handler = new Handler(service); ì´ëŸ¬í•œ êµ¬ì¡°ë¥¼ í†µí•´ ê²°í•©ì„ ë‚®ì¶”ê³  ìœ ì—°ì„±ì„ ë†’í ìˆ˜ ìˆì—ˆìœ¼ë©°, êµ¬í˜„ ê³¼ì •ì—ì„œ í›¨ì”¬ í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•˜ë‹¤ëŠ” ì¥ì ì„ ì·¨í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\në‹¨ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ê°ì ê°œì„ í•˜ê¸°ì—ì„œ ì €ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¶€ë¶„ì„ ê°œì„ í•˜ì˜€ìŠµë‹ˆë‹¤.\në‹¨ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¦‰ ê¹¨ì§€ì§€ ì•ŠëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ì„œ ê°œì¸ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì›ì¹™ì¸ ë‹¨ì¼ ì±…ì„ ì›ì¹™, ë…ë¦½ì  í…ŒìŠ¤íŠ¸ ë¶€ë¶„ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤.\në‹¨ì¼ ì±…ì„ ì›ì¹™ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í•˜ë‚˜ì˜ ë™ì‘ì´ë‚˜ ê¸°ëŠ¥ë§Œì„ í…ŒìŠ¤íŠ¸ í•´ì•¼í•¨ ë…ë¦½ì  í…ŒìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ ê°„ì— ì˜ì¡´ì„±ì´ ìˆìœ¼ë©´ í•œ í…ŒìŠ¤íŠ¸ì˜ ì‹¤íŒ¨ê°€ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì—ë„ ì˜ì–‘ì„ ì¤Œ í…ŒìŠ¤íŠ¸ ê°„ ìƒíƒœ ê³µìœ ë¥¼ í”¼í•˜ê³ , ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ ë³´ì¥í•´ì•¼í•¨ ë‹¨ì¼ ì±…ì„ ì›ì¹™\ní•˜ë‚˜ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í•œ ê°€ì§€ì˜ ë™ì‘ê³¼ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ì•¼ ì´í›„ ë³€ê²½ì´ ì ê³  ì˜¤ë˜ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê¸°ì¡´ ì‘ì„±ë˜ì–´ìˆë˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ ì‚¬í•˜ê²Œ ë‹¤ì‹œ ë§Œë“¤ì–´ë´¤ìŠµë‹ˆë‹¤.\nì–´ë– í•œ ëª¨ë¸ì—ì„œ idë¥¼ ì´ìš©í•´ íŠ¹ì • ë¬´ì–¸ê°€ë¥¼ ì°¾ëŠ” ì²˜ë¦¬ì…ë‹ˆë‹¤. (ì–´ë–¤ ë‚´ìš©ì¸ì§€ ì¶”ë¡ í•  ìˆ˜ ìˆìœ¼ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— ì¶”ìƒì ìœ¼ë¡œ ì“¸ ìˆ˜ ë°–ì— ì—†ëŠ” ì  ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤.)\në³€ê²½ ì „\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 const makeIds = (count) =\u0026gt; Array.from({ length: count }, (_, idx) =\u0026gt; `${idx.toString().padStart(3, \u0026#39;0\u0026#39;)}`); describe(\u0026#34;IDë¥¼ í™œìš©í•˜ì—¬ ë¬´ì–¸ê°€ë¥¼ ì°¾ì•„ ë°°ì •í•˜ê³  ë°˜í™˜í•˜ëŠ” ì²˜ë¦¬ í…ŒìŠ¤íŠ¸\u0026#34;, () =\u0026gt; { it.each([ [makeIds(1), id1, 0], [makeIds(4), id2, 1], [makeIds(8), id3, 2], [makeIds(12), id4, 3], [makeIds(16), id5, 4], ])(\u0026#34;ë¬´ì–¸ê°€ë¥¼ ì°¾ì•„ ë°°ì •í•˜ê³ , ë°°ì •ëœ ë¬´ì–¸ê°€ë¥¼ ë°˜í™˜\u0026#34;, (prevIds, nextId, expected) =\u0026gt; { prevIds.forEach((id) =\u0026gt; model.assignById(id)) expect(model.assignById(nextCampId)).toBe(expected) }); }; ë§ì€ ìƒí™©ì— ëŒ€í•´ ì •ìƒì ì¸ ì²˜ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³  ìˆìŠµë‹ˆë‹¤.\në§ì€ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ë¥¼ í™•ì¸í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— ì˜ˆì™¸ê°€ ë°œìƒí•´ì•¼í•˜ëŠ” ìƒí™©ì€ ë³„ë„ë¡œ í™•ì¸í•˜ê³  ìˆì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\nê°œì¸ì ì¸ ì˜ê²¬ìœ¼ë¡œëŠ” ì•Œì•„ë³´ê¸° í˜ë“¤ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\në³€ê²½ í›„\nì—¬ëŸ¬ ìƒí™©ì„ ë‚˜ëˆ„ì–´ í…ŒìŠ¤íŠ¸í•˜ë„ë¡ í–ˆìœ¼ë©°, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ìˆ«ìë„ ì¤„ì˜€ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 describe(\u0026#34;IDë¥¼ í™œìš©í•˜ì—¬ ë¬´ì–¸ê°€ë¥¼ ì°¾ì•„ ë°°ì •í•˜ê³  ë°˜í™˜í•˜ëŠ” ì²˜ë¦¬ í…ŒìŠ¤íŠ¸\u0026#34;, () =\u0026gt; { it(\u0026#34;ì •ìƒ ì²˜ë¦¬ í™•ì¸\u0026#34;, () =\u0026gt; { const assignedId = model.assignById(id); expect(assignedId).toEqual(0); }); it(\u0026#34;íŠ¹ì • ì¡°ê±´ì´ ë„˜ìœ¼ë©´ ë‹¤ë¥¸ ê°’ ë°˜í™˜ í™•ì¸\u0026#34;, () =\u0026gt; { const clients = Array(MAX_ASSIGN_CLIENT).map((_, i) =\u0026gt; `J${i.toString().padStart(2, \u0026#34;0\u0026#34;)}`); arr.push({clients}); const assigned = model.assignById(id); expect(assignedId).toEqual(1); }); it(\u0026#39;ë¨¼ì € ë§Œë“¤ì–´ì§„ ë¬´ì–¸ê°€ì— ë¹ˆ ìë¦¬ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ë¬´ì–¸ê°€ë¥¼ ë°˜í™˜\u0026#39;, () =\u0026gt; { arr.push({clients:[]}); arr.push({clients:[]}); const assignedId = model.assignById(id); expect(assignedId).toEqual(0); }); }); ë…ë¦½ì  í…ŒìŠ¤íŠ¸\nì¼ë¶€ í…ŒìŠ¤íŠ¸ê°€ ìŠ¤ìŠ¤ë¡œì˜ ë‹¤ë¥¸ ê¸°ëŠ¥ì„ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ë“¤ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ê¸°ëŠ¥ì˜ ë³€ê²½ì— ì·¨ì•½í•œ í…ŒìŠ¤íŠ¸ê°€ ë  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í•˜ì—¬ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.\në³€ê²½ ì „\n1 2 3 4 5 6 describe(\u0026#34;count\u0026#34;, () =\u0026gt; { it(\u0026#39;íšŸìˆ˜ ë°˜í™˜\u0026#39;, () =\u0026gt; { service.increaseCount(id); expect(service.count(id)).toBe(1); }); }) service.count ë©”ì†Œë“œë¥¼ í†µí•´ í˜„ì¬ countì„ í™•ì¸í•˜ê¸° ìœ„í•´ service.increaseCountë©”ì†Œë“œë¥¼ í†µí•´ countë¥¼ ì¦ê°€ì‹œí‚¤ê³  ìˆìŠµë‹ˆë‹¤.\nì´ëŠ” ìê¸° ìì‹ ì˜ ë©”ì†Œë“œë¥¼ ì¬ í˜¸ì¶œí•˜ëŠ” êµ¬ì¡°ë¡œ ì¸í•´ service.increaseCountì— ë¯¸ì³ ê²€ì¦í•˜ì§€ ëª»í•œ ì¼€ì´ìŠ¤ê°€ ìˆê±°ë‚˜, ìš”êµ¬ì‚¬í•­ ë³€ê²½ìœ¼ë¡œ ì¸í•´ ê²€ì¦í•´ì•¼ í•  ë‚´ìš©ì´ ë°”ë€ë‹¤ë©´, service.countì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ë³€ê²½ì´ ë¶ˆê°€í”¼í•œ ìƒí™©ì…ë‹ˆë‹¤.\në³€ê²½ í›„\n1 2 3 4 5 6 7 8 describe(\u0026#34;count\u0026#34;, () =\u0026gt; { it(\u0026#39;íšŸìˆ˜ ë°˜í™˜\u0026#39;, () =\u0026gt; { expect(service.count(id)).toBe(0); map.get(id).clap = 10; expect(service.count(id)).toBe(10); }); }) serviceì˜ ë°ì´í„° ë³´ê´€ì„ ìœ„í•´ ì£¼ì…ë°›ì€ Mapì— ì§ì ‘ ë°ì´í„°ë¥¼ ì €ì¥, ì¡°ì‘í•˜ì—¬ ìê¸° ìì‹ ì˜ ë©”ì†Œë“œë¥¼ í™œìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì²˜ë¦¬ì˜ ì˜ì¡´ì„±ì„ ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤.\nDay20: 3ì°¨ ë¬¸ì œí•´ê²°ë ¥ í…ŒìŠ¤íŠ¸ ê¸°ì¡´ ëª¨ì§‘ ì •ë³´ì— 3ì°¨ ë¬¸ì œí•´ê²°ë ¥ í…ŒìŠ¤íŠ¸ê°€ 8ì›” 10ì¼ í† ìš”ì¼ë¡œ ì˜ˆì •ë˜ì–´ ìˆì—ˆëŠ”ë°, ë§ˆì§€ë§‰ ë‚ ì¸ 20ì¼ì°¨ ë¦´ë ˆì´ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•´ì•¼í•˜ëŠ” ì‹œê°„ì— í…ŒìŠ¤íŠ¸ê°€ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\nëŒ€ëµì ìœ¼ë¡œ ë§ì”€ë“œë¦¬ë©´, ë¶€ìº ì—ì„œ ì œê³µí–ˆë˜ ëª¨ë“  ê³¼ì •ë“¤ì´ ë‹¨ì‹œê°„ì— ì¢…í•©ë˜ì–´ìˆëŠ” í…ŒìŠ¤íŠ¸ì˜€ìŠµë‹ˆë‹¤.\në¶€ìº ì— ì„±ì‹¤íˆ ì°¸ì—¬í–ˆë‹¤ë©´ ë°©ì‹ ìì²´ëŠ” ìƒì†Œí•˜ì§€ëŠ” ì•Šì•˜ê² ì§€ë§Œ, ì—­ì‹œë‚˜ ì‹œê°„ì€ ë§ì´ ë¶€ì¡±í–ˆë„¤ìš”ğŸ¥²\në§ˆë¬´ë¦¬ ë§ˆì§€ë§‰ ì£¼ì°¨ì—ëŠ” ê°™ì´ í•™ìŠµì„ ì§„í–‰í•œ ìº í¼ë¶„ë“¤ì—ê²Œ ì˜ê°ì„ ì¤„ ìˆ˜ ìˆì—ˆë˜ê²ƒ ê°™ì•„ 1ì£¼ì°¨ ì´í›„ë¡œ ê°€ì¥ ë¿Œë“¯í–ˆë˜ í•œ ì£¼ ì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në§ˆì§€ë§‰ ì£¼ì°¨ì—¬ì„œ ì±Œë¦°ì§€ ê³¼ì • ì „ì²´ì—ëŒ€í•œ íšŒê³ ë¥¼ í¬í•¨í•´ì•¼í•˜ë‚˜ ê³ ë¯¼í–ˆëŠ”ë°, ë”°ë¡œ ì‘ì„±í•˜ê¸°ë¡œ ê²°ì •í•˜ì—¬ 4ì£¼ì°¨ íšŒê³ ë§Œ ë‚¨ê¸°ê²Œ ë˜ì—ˆë„¤ìš”\në‹¤ìŒ ê¸€ì€ ì±Œë¦°ì§€ ê³¼ì • ì „ì²´ì— ëŒ€í•œ íšŒê³ ë¥¼ ì˜¬ë¦´ ì˜ˆì •ì´ë‹ˆ ê¸°ëŒ€í•´ì£¼ì„¸ìš”ğŸ˜\nì´ë²ˆì—ëŠ” 3ì£¼ì°¨ ê·¸ë£¹ íšŒê³ ì— ë‚¨ê²¼ë˜ ê¸€ë¡œ ë§ˆë¬´ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤â˜ºï¸ ëª¨ë‘ ì •ë§ ê³ ìƒ ë§ìœ¼ì…¨ì–´ìš”ğŸ”¥ğŸ”¥ğŸ”¥\nì†Œí”„íŠ¸ì›¨ì–´ ì¥ì¸ ì±… ë¶€ë¶„ì— ì„±ì¥ì„ ìœ„í•œ ìì„¸ì— ê´€í•´ ì½ì—ˆëŠ”ë°ìš”, ì´ ë¶€ë¶„ì—ì„œ \u0026ldquo;í›ˆë ¨\u0026quot;ì„ ì–´ë–»ê²Œ í•´ì•¼ ì¢‹ì€ì§€ì— ëŒ€í•œ ì–¸ê¸‰ì´ ìˆìŠµë‹ˆë‹¤.\ní›ˆë ¨ì„ í•  ë•ŒëŠ” ì‹œê°„ì´ ì•„ë¬´ë¦¬ ë§ì´ ê±¸ë¦°ë‹¤ê³  í•˜ë”ë¼ë„ ë³¸ì¸ì´ í•  ìˆ˜ ìˆëŠ” ìµœì„ ì˜ ê²°ê³¼ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤ë©´ ì„±ì¥ì—ëŠ” í° ì˜ë¯¸ê°€ ì—†ê¸° ë•Œë¬¸ì— ìµœì„ ì„ ë‹¤í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³ í•´ìš”!\nìš°ë¦¬ ëª¨ë‘ ì§€ê¸ˆê¹Œì§€ ì—´ì‹¬íˆ í•´ì˜¤ê³ ìˆì§€ë§Œ, ì•ìœ¼ë¡œë„ ìµœì„ ì„ ë‹¤í•´ì„œ í•¨ê»˜ ì„±ì¥í–ˆìœ¼ë©´ ì¢‹ê² ì–´ìš”\ní•œ ì£¼ê°„ ì •ë§ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤! ë§´ë²„ì‰½ì—ì„œ ê¼­ ëµˆì–´ìš” :D\n","date":"2024-08-12T10:44:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/challenge/4/cover_hu19d27c1827c5e9fb407a4e610db031e0_130036_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/challenge/4/","title":"ì±Œë¦°ì§€ ê³¼ì • 4ì£¼ì°¨ íšŒê³ "},{"content":"Socketì€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•˜ê¸° ìœ„í•œ í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.\ní´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê¸°ë³¸ì ì¸ êµ¬ì„± ìš”ì†Œë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ ê°„ì˜ ì¤‘ê°œ ì—­í• ì„ í•˜ë©°, ë„¤íŠ¸ì›Œí¬ì—ì„œì˜ ë°ì´í„° êµí™˜ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.\nì†Œì¼“ì˜ êµ¬ì„± ìš”ì†Œ ì†Œì¼“ì€ ë„¤íŠ¸ì›Œí¬ ìƒì˜ ë‘ ì§€ì  ê°„ì— ì—°ê²°ì„ ì„¤ì •(TCP, UDP)í•˜ê³  ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì¡°ì…ë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ IP ì£¼ì†Œì™€ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìƒì˜ íŠ¹ì • ì§€ì ì„ ì‹ë³„í•©ë‹ˆë‹¤.\nIP ì£¼ì†Œ: ë„¤íŠ¸ì›Œí¬ ìƒì—ì„œ ì¥ì¹˜ì˜ ê³ ìœ í•œ ì‹ë³„ìì…ë‹ˆë‹¤. í¬íŠ¸ ë²ˆí˜¸: IP ì£¼ì†Œ ë‚´ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ íŠ¹ì • ì„œë¹„ìŠ¤ë¥¼ ì‹ë³„í•˜ëŠ” ë²ˆí˜¸ì…ë‹ˆë‹¤. í”„ë¡œí† ì½œ: ë°ì´í„° ì†¡ìˆ˜ì‹ ì„ ìœ„í•œ ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤. ê°€ì¥ ì¼ë°˜ì ì¸ í”„ë¡œí† ì½œì€ TCP (Transmission Control Protocol)ì™€ UDP (User Datagram Protocol)ì…ë‹ˆë‹¤. ì†Œì¼“ì˜ ë™ì‘ ì›ë¦¬ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸: ì„œë²„ ì†Œì¼“: ì„œë²„ëŠ” íŠ¹ì • IP ì£¼ì†Œì™€ í¬íŠ¸ ë²ˆí˜¸ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²°ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤. ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ìˆ˜ë½í•˜ê³ , ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ ì„ ì‹œì‘í•©ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ ì†Œì¼“: í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ì˜ IP ì£¼ì†Œì™€ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì— ì—°ê²° ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤. ì„œë²„ê°€ ì—°ê²°ì„ ìˆ˜ë½í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ë°ì´í„° í†µì‹ ì´ ì‹œì‘ë©ë‹ˆë‹¤. ì—°ê²° ì„¤ì •: ì†Œì¼“ ìƒì„±: ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì†Œì¼“ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë„¤íŠ¸ì›Œí¬ ìƒì˜ ë‹¤ë¥¸ ì¥ì¹˜ì™€ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—°ê²° ìš”ì²­: í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ ì†Œì¼“ì— ì—°ê²° ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤. ì—°ê²° ìˆ˜ë½: ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì—°ê²° ìš”ì²­ì„ ìˆ˜ë½í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ ì„ ì‹œì‘í•©ë‹ˆë‹¤. ë°ì´í„° ì†¡ìˆ˜ì‹ : ë°ì´í„° ì „ì†¡: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ëŠ” ì†Œì¼“ì„ í†µí•´ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•©ë‹ˆë‹¤. ì´ ë°ì´í„°ëŠ” TCP ì†Œì¼“ì„ í†µí•´ ì•ˆì •ì ìœ¼ë¡œ ì „ì†¡ë˜ê±°ë‚˜, UDP ì†Œì¼“ì„ í†µí•´ ë¹ ë¥´ê²Œ ì „ì†¡ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—°ê²° ì¢…ë£Œ: ë°ì´í„° ì „ì†¡ì´ ì™„ë£Œë˜ë©´ ì†Œì¼“ ì—°ê²°ì„ ì¢…ë£Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì†Œì¼“ì˜ ì¢…ë¥˜ TCP ì†Œì¼“: ì—°ê²° ì§€í–¥ì : ì—°ê²°ì´ ì„¤ì •ëœ í›„ ì•ˆì •ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤. ì‹ ë¢°ì„±: ë°ì´í„°ì˜ ìˆœì„œì™€ ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤. UDP ì†Œì¼“: ë¹„ì—°ê²° ì§€í–¥ì : ì—°ê²°ì„ ì„¤ì •í•˜ì§€ ì•Šê³  ë°ì´í„°ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤. ì†ë„: ë¹ ë¥´ê²Œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ì§€ë§Œ ë°ì´í„°ì˜ ìˆœì„œë‚˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. TCP ìˆ˜ì‹  ë°ì´í„° TCPëŠ” ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì „ì†¡í•˜ëŠ” ì—°ê²° ì§€í–¥ í”„ë¡œí† ì½œë¡œ, ë°ì´í„°ê°€ ì—°ì†ì ìœ¼ë¡œ ì „ì†¡ë˜ë©° ëì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì‘ë‹µì˜ ê¸¸ì´ë¥¼ ë¯¸ë¦¬ ì•Œê³  ìˆëŠ” ê²½ìš° ì‘ë‹µì˜ ê¸¸ì´ë¥¼ ë¯¸ë¦¬ ì•Œê³  ìˆëŠ” ê²½ìš°, ìˆ˜ì‹ í•œ ë°ì´í„°ì˜ ê¸¸ì´ë¥¼ í™•ì¸í•˜ì—¬ ì‘ë‹µì´ ëª¨ë‘ ë„ì°©í–ˆëŠ”ì§€ë¥¼ íŒë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì˜ˆë¥¼ ë“¤ì–´, ì„œë²„ê°€ ì‘ë‹µì˜ ê¸¸ì´ë¥¼ í—¤ë”ì— í¬í•¨ì‹œí‚¤ëŠ” ê²½ìš°, í´ë¼ì´ì–¸íŠ¸ëŠ” ë¨¼ì € í—¤ë”ë¥¼ ì½ê³  ê¸¸ì´ë¥¼ íŒŒì•…í•œ í›„, ì „ì²´ ì‘ë‹µì„ ìˆ˜ì‹ í•©ë‹ˆë‹¤.\nHTTP Header Content-length ì¢…ë£Œ ì‹ í˜¸ ë˜ëŠ” ì¢…ë£Œ ë¬¸ì ì‚¬ìš© - ì¢…ë£Œ ì‹ í˜¸ ë˜ëŠ” ë¬¸ì ì‘ë‹µì— ì¢…ë£Œ ì‹ í˜¸ë¥¼ í¬í•¨í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì‘ë‹µì˜ ëì„ ì¸ì‹í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ íŠ¹ì • ë¬¸ìì—´(ì˜ˆ: \\r\\n, \\r\\n), íŠ¹ì • ë°”ì´íŠ¸, ë˜ëŠ” í”„ë¡œí† ì½œì— ì •ì˜ëœ ì¢…ë£Œ ì‹ í˜¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\nì‘ë‹µ ë°ì´í„°ê°€ ì—°ì†ì ìœ¼ë¡œ ì˜¤ëŠ” ê²½ìš° - ì²­í¬ ê¸°ë°˜ í”„ë¡œí† ì½œ ì‘ë‹µ ë°ì´í„°ê°€ ì—¬ëŸ¬ ì²­í¬ë¡œ ë‚˜ëˆ„ì–´ì ¸ ì—°ì†ì ìœ¼ë¡œ ì˜¤ëŠ” ê²½ìš°, ê° ì²­í¬ë¥¼ ì½ê³  ëª¨ë“  ì²­í¬ë¥¼ ì¡°í•©í•˜ì—¬ ì „ì²´ ì‘ë‹µì„ êµ¬ì„±í•©ë‹ˆë‹¤.\nì´ë•Œ, ë°ì´í„°ì˜ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³  ê° ì²­í¬ì˜ ëì„ í™•ì¸í•˜ì—¬ ì „ì²´ ì‘ë‹µì„ ìˆ˜ì§‘í•©ë‹ˆë‹¤.\níƒ€ì„ì•„ì›ƒ ì„¤ì • ì¼ì • ì‹œê°„ ë™ì•ˆ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ì§€ ì•Šìœ¼ë©´ ì—°ê²°ì„ ì¢…ë£Œí•˜ê³  ì‘ë‹µì´ ì™„ë£Œëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë°©ë²•ì€ ë°ì´í„°ì˜ ê¸¸ì´ë‚˜ ì¢…ë£Œ ì‹ í˜¸ë¥¼ ë¯¸ë¦¬ ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš° ìœ ìš©í•©ë‹ˆë‹¤.\nì •ë¦¬ ê¸¸ì´ ê¸°ë°˜: ì‘ë‹µì˜ ê¸¸ì´ë¥¼ ì‚¬ì „ì— ì•Œê³  ìˆëŠ” ê²½ìš°, ë°ì´í„°ì˜ ê¸¸ì´ë¥¼ í™•ì¸í•˜ì—¬ ëª¨ë“  ì‘ë‹µì„ ë°›ì•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¢…ë£Œ ì‹ í˜¸ ë˜ëŠ” ì¢…ë£Œ ë¬¸ì: ì‘ë‹µì˜ ëì„ íŠ¹ì • ë¬¸ìì—´ì´ë‚˜ ì‹ í˜¸ë¡œ í‘œì‹œí•˜ì—¬ ì „ì²´ ì‘ë‹µì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì²­í¬ ê¸°ë°˜: ë°ì´í„°ê°€ ì²­í¬ë¡œ ë‚˜ëˆ„ì–´ì ¸ ì—°ì†ì ìœ¼ë¡œ ì˜¤ëŠ” ê²½ìš°, ëª¨ë“  ì²­í¬ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì „ì²´ ì‘ë‹µì„ êµ¬ì„±í•©ë‹ˆë‹¤. íƒ€ì„ì•„ì›ƒ: ì¼ì • ì‹œê°„ ë™ì•ˆ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ì§€ ì•Šìœ¼ë©´ ì‘ë‹µì´ ì™„ë£Œëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì†Œì¼“ ì˜µì…˜ ì†Œì¼“ ì˜µì…˜ì€ ì†Œì¼“ì˜ ë™ì‘ ë°©ì‹ì„ ì œì–´í•˜ê±°ë‚˜ ìµœì í™”í•˜ê¸° ìœ„í•´ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ íŒŒë¼ë¯¸í„°ì…ë‹ˆë‹¤.\nì†Œì¼“ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì†Œì¼“ì˜ ë™ì‘ì„ ì„¸ë¶€ì ìœ¼ë¡œ ì¡°ì •í•˜ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì†Œì¼“ ì˜µì…˜ì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ëª¨ë‘ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë©°, ë‹¤ì–‘í•œ ê¸°ëŠ¥ê³¼ ì„¤ì •ì„ ì œê³µí•©ë‹ˆë‹¤.\nì£¼ìš” ì†Œì¼“ ì˜µì…˜ SO_REUSEADDR ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í¬íŠ¸ë¥¼ í—ˆìš©í•©ë‹ˆë‹¤. ì£¼ë¡œ ì„œë²„ê°€ ì¢…ë£Œëœ í›„ ë™ì¼í•œ í¬íŠ¸ë¥¼ ì¦‰ì‹œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. ì‚¬ìš© ì˜ˆ: ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆì„ ë•Œ, í¬íŠ¸ê°€ ì¦‰ì‹œ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. SO_KEEPALIVE ì—°ê²°ì´ ìœ íœ´ ìƒíƒœì¼ ë•Œ ì£¼ê¸°ì ìœ¼ë¡œ \u0026ldquo;keep-alive\u0026rdquo; íŒ¨í‚·ì„ ì „ì†¡í•˜ì—¬ ì—°ê²°ì´ ì—¬ì „íˆ ìœ íš¨í•œì§€ í™•ì¸í•©ë‹ˆë‹¤. ì‚¬ìš© ì˜ˆ: ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì˜ ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì ê²€í•˜ì—¬ ì¥ê¸° ì—°ê²°ì˜ ìœ íš¨ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤. SO_LINGER ì†Œì¼“ì´ ë‹«í ë•Œ, ë°ì´í„°ê°€ ëª¨ë‘ ì „ì†¡ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê±°ë‚˜ ì¦‰ì‹œ ë‹«ì„ì§€ ì„¤ì •í•©ë‹ˆë‹¤. ì‚¬ìš© ì˜ˆ: ë°ì´í„°ê°€ ì „ì†¡ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì†Œì¼“ì„ ë‹«ì„ ê²½ìš°, ë‚¨ì•„ ìˆëŠ” ë°ì´í„°ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. SO_BROADCAST ë¸Œë¡œë“œìºìŠ¤íŠ¸ ë©”ì‹œì§€ ì „ì†¡ì„ í—ˆìš©í•©ë‹ˆë‹¤. ì£¼ë¡œ UDP ì†Œì¼“ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì‚¬ìš© ì˜ˆ: UDP ì†Œì¼“ì„ í†µí•´ ë„¤íŠ¸ì›Œí¬ì˜ ëª¨ë“  í˜¸ìŠ¤íŠ¸ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤. SO_RCVBUF ë° SO_SNDBUF ìˆ˜ì‹  ë²„í¼ì™€ ì†¡ì‹  ë²„í¼ì˜ í¬ê¸°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì‚¬ìš© ì˜ˆ: ë†’ì€ ë°ì´í„° ì „ì†¡ ì†ë„ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë²„í¼ í¬ê¸°ë¥¼ ì¡°ì •í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤. TCP_NODELAY Nagle ì•Œê³ ë¦¬ì¦˜ì„ ë¹„í™œì„±í™”í•˜ì—¬ ì‘ì€ íŒ¨í‚·ì„ ì¦‰ì‹œ ì „ì†¡í•©ë‹ˆë‹¤. ì‚¬ìš© ì˜ˆ: ì‹¤ì‹œê°„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§€ì—°ì„ ì¤„ì´ê¸° ìœ„í•´ íŒ¨í‚· ì „ì†¡ ì§€ì—°ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤. SO_TIMEOUT ì†Œì¼“ì˜ ì½ê¸°ì™€ ì“°ê¸° ì‘ì—…ì— ëŒ€í•œ íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•©ë‹ˆë‹¤. ë°ì´í„° ì†¡ìˆ˜ì‹  ì‹œ ì‘ë‹µì´ ì§€ì—°ë  ê²½ìš° íƒ€ì„ì•„ì›ƒì„ ì„¤ì •í•˜ì—¬ ë¸”ë¡œí‚¹ì„ ë°©ì§€í•©ë‹ˆë‹¤. ","date":"2024-08-07T13:40:47+09:00","image":"https://codemario318.github.io/post/socket/cover_hu921294c61d7852328c837af9604b2db0_140490_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/socket/","title":"Socket"},{"content":"ê·¼ì ‘ì„± ì„œë¹„ìŠ¤ëŠ” ìŒì‹ì , í˜¸í…”, ê·¹ì¥, ë°•ë¬¼ê´€ ë“± í˜„ì¬ ìœ„ì¹˜ì—ì„œ ê°€ê¹Œìš´ ì‹œì„¤ì„ ì°¾ëŠ” ë° ì´ìš©ëœë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • Q. ê²€ìƒ‰ ë°˜ê²½ì„ ì§€ì •í•  ìˆ˜ ìˆì–´ì•¼í•˜ëŠ”ê°€? A. ì£¼ì–´ì§„ ë°˜ê²½ ë‚´ì˜ ì‚¬ì—…ì¥ë§Œ ëŒ€ìƒ, ì´í›„ í™•ì¥ ê°€ëŠ¥ Q. ìµœëŒ€ í—ˆìš© ë°˜ê²½? A. 20km Q. ê²€ìƒ‰ ë°˜ê²½ ë³€ê²½ ê°€ëŠ¥? A. 0.5km, 1km, 2km, 5km, 20km Q. ì‚¬ì—…ì¥ ì •ë³´ CRUDëŠ” ì–´ë–»ê²Œ? A. ì‚¬ì—…ì¥ ì†Œìœ ì£¼ê°€ ì§ì ‘ ì •ë³´ë¥¼ ì‹œìŠ¤í…œì— CRUD, ìƒˆë¡œ ì¶”ê°€í•˜ê±°ë‚˜ ê°±ì‹ ëœ ì •ë³´ëŠ” ë‹¤ìŒë‚ ê¹Œì§€ ë°˜ì˜ Q. ì‚¬ìš©ì í˜„ì¬ ìœ„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ìë™ ê°±ì‹ ? A. ìƒì‹œì ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ê°±ì‹ í•  í•„ìš”ëŠ” ì—†ìŒ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë‹¤ìŒ ì„¸ ê°€ì§€ í•µì‹¬ ê¸°ëŠ¥ì„ ì¶”ë ¤ë‚¼ ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ì ìœ„ì¹˜ì™€ ê²€ìƒ‰ ë°˜ê²½ ì •ë³´ì— ë§¤ì¹˜ë˜ëŠ” ì‚¬ì—…ì¥ ëª©ë¡ ë°˜í™˜ ì‚¬ì—…ì¥ ì†Œìœ ì£¼ê°€ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ì¶”ê°€, ì‚­ì œ, ê°±ì‹ í•  ìˆ˜ ìˆìŒ ì •ë³´ê°€ ê²€ìƒ‰ ê²°ê³¼ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë  í•„ìš”ëŠ” ì—†ìŒ ê³ ê°ì€ ì‚¬ì—…ì¥ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì‚´í•„ ìˆ˜ ìˆì–´ì•¼í•¨ ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì„ í†µí•´ ë‹¤ìŒê³¼ ê°™ì€ ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ì„ ë„ì¶œí•  ìˆ˜ ìˆë‹¤.\në‚®ì€ ì‘ë‹´ ì§€ì—° ì‚¬ìš©ìëŠ” ì£¼ë³€ ì‚¬ì—…ì¥ì„ ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆì–´ì•¼í•¨ ë°ì´í„° ë³´í˜¸ ì‚¬ìš©ì ìœ„ì¹˜ëŠ” ë¯¼ê°í•œ ì •ë³´ì´ë¯€ë¡œ ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤(LBS)ë¥¼ ì„¤ê³„í•  ë•ŒëŠ” ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ë³´í˜¸í•  ë°©ë²•ì„ ê³ ë ¤í•´ì•¼í•¨ ê³ ê°€ìš©ì„± ë° ê·œëª¨ í™•ì¥ì„± ì¸êµ¬ ë°€ì§‘ ì§€ì—­ì—ì„œ ì´ìš©ìê°€ ì§‘ì¤‘ë˜ëŠ” ì‹œê°„ì— íŠ¸ë˜í”½ì´ ê¸‰ì¦í•´ë„ ê°ë‹¹í•  ìˆ˜ ìˆë„ë¡ ì‹œìŠ¤í…œì„ ì„¤ê³„í•´ì•¼í•¨ ê°œëµì  ê·œëª¨ ì¶”ì • ì‹œìŠ¤í…œì˜ ê·œëª¨ê°€ ì–´ëŠì •ë„ì´ë©° ì–´ë–¤ ìˆ˜ì¤€ì˜ ë„ì „ì  ê³¼ì œë¥¼ í•´ê²°í•´ì•¼ í•˜ëŠ”ì§€ ê²°ì •í•˜ê¸° ìœ„í•´, ê°œëµì ì¸ ì¶”ì •ì„ ìˆ˜í–‰í•´ë³¸ë‹¤.\nDAUëŠ” 1ì–µëª…, ë“±ë¡ëœ ì‚¬ì—…ì¥ì˜ ìˆ˜ëŠ” 2ì–µê°œë¼ê³  ê°€ì •í•œë‹¤.\n1ì¼ = 24ì‹œê°„ * 60ë¶„ * 60ì´ˆ = ì•½ 10^5 í•œ ì‚¬ìš©ìëŠ” í•˜ë£¨ì— 5íšŒ ê²€ìƒ‰ ì‹œë„í•œë‹¤ê³  ê°€ì • QPS = (1ì–µ * 5) / 10^5 = 5000 2ë‹¨ê³„: ê°œëµì ˆ ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° API ì„¤ê³„ RESTful API ê´€ë¡€ë¥¼ ë”°ë¥´ëŠ” ê°„ë‹¨í•œ APIë¥¼ ë§Œë“ ë‹¤.\nGET /v1/search/nearby\níŠ¹ì • ê²€ìƒ‰ ê¸°ì¤€ì— ë§ëŠ” ì‚¬ì—…ì¥ ëª©ë¡ì„ ë°˜í™˜\nì¸ì latitude: ìœ„ë„ longitude: ê²½ë„ radius(optional): ë°˜ê²½, ê¸°ë³¸ê°’ì€ 5000m 1 2 3 4 { \u0026#34;total\u0026#34;: 10, \u0026#34;businesses\u0026#34;: [{business object}] } {business object}ëŠ” ê° ì‚¬ì—…ì¥ì„ í‘œí˜„í•˜ëŠ” ê°ì²´ë¡œ, ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ì— í‘œì‹œë  ëª¨ë“  ì •ë³´ë¥¼ í¬í•¨í•œë‹¤.\nì‚¬ì—…ì¥ì˜ ìƒì„¸ ì •ë³´ í˜ì´ì§€ì—ì„œëŠ” ì¶”ê°€ ì •ë³´ê°€ í•„ìš”í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë˜ ë‹¤ë¥¸ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ì—…ì¥ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•´ì•¼í•œë‹¤.\nì‚¬ì—…ì¥ ê´€ë ¨ API\nGET /v1/businesses/:id íŠ¹ì • ì‚¬ì—…ì¥ì˜ ìƒì„¸ ì •ë³´ ë°˜í™˜ POST /v1/businesses ìƒˆë¡œìš´ ì‚¬ì—…ì¥ ì¶”ê°€ PUT /v1/businesses/:id ì‚¬ì—…ì¥ ìƒì„¸ ì •ë³´ ê°±ì‹  DELETE /v1/businesses/:id íŠ¹ì • ì‚¬ì—…ì¥ ì •ë³´ ì‚­ì œ ë°ì´í„° ëª¨ë¸ ì½ê¸°/ì“°ê¸° ë¹„ìœ¨\nì•„ë˜ì˜ ê¸°ëŠ¥ìœ¼ë¡œ ì¸í•´ ì½ê¸° ì—°ì‚°ì€ êµ‰ì¥íˆ ìì£¼ ìˆ˜í–‰ëœë‹¤.\nì£¼ë³€ ì‚¬ì—…ì¥ ê²€ìƒ‰ ì‚¬ì—…ì¥ ì •ë³´ í™•ì¸ ì“°ê¸° ì—°ì‚°ì€ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ì¶”ê°€, ì‚­ì œ, í¸ì§‘í•  ë•Œë§Œ ë°œìƒí•˜ë¯€ë¡œ ì‹¤í–‰ ë¹ˆë„ê°€ ë§¤ìš° ë‚®ì„ ìˆ˜ ìˆë‹¤.\nì´ë ‡ê²Œ ì½ê¸° ì—°ì‚°ì´ ì••ë„ì ì¸ ì‹œìŠ¤í…œì—ì„œëŠ” MySQL ê°™ì€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ë°”ëŒì§í•  ìˆ˜ ìˆë‹¤.\në°ì´í„° ìŠ¤í‚¤ë§ˆ\nì´ ì‹œìŠ¤í…œì˜ í•µì‹¬ì´ ë˜ëŠ” í…Œì´ë¸”ì€ business í…Œì´ë¸”ê³¼ ìœ„ì¹˜ ìƒ‰ì¸ í…Œì´ë¸”(geospatial index table)ì´ë‹¤.\nerDiagram business { id business_id pk string address string city string state string country float latitude float longitude } ì§€ë¦¬ì  ìœ„ì¹˜ ìƒ‰ì¸ í…Œì´ë¸”\nì§€ë¦¬ì  ìœ„ì¹˜ ìƒ‰ì¸ í…Œì´ë¸”ì€ ìœ„ì¹˜ ì •ë³´ ê´€ë ¨ ì—°ì‚°ì˜ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ”ë° ì“°ì´ëŠ”ë°, ì§€ì˜¤í•´ì‹œ(Geohash)ì— ëŒ€í•œ ì§€ì‹ì´ í•„ìš”í•˜ë¯€ë¡œ ì´í›„ ë…¼ì˜í•œë‹¤.\nê°œëµì  ì„¤ê³„ ì´ ì‹œìŠ¤í…œì€ ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤ì™€ ì‚¬ì—…ì¥ ê´€ë ¨ ì„œë¹„ìŠ¤ ë‘ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.\në¡œë“œ ë°¸ëŸ°ì„œ ìœ ì… íŠ¸ë˜í”½ì„ ìë™ìœ¼ë¡œ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì— ë¶„ì‚°ì‹œí‚¤ëŠ” ì»´í¬ë„ŒíŠ¸ ë¡œë“œë°¸ëŸ°ì„œì— ë‹¨ì¼ DNS ì§„ì…ì ì„ ì§€ì •í•˜ê³ , URL ê²½ë¡œë¥¼ ë¶„ì„í•˜ì—¬ ì–´ëŠ ì„œë¹„ìŠ¤ì— íŠ¸ë˜í”½ì„ ì „ë‹¬í•  ì§€ ê²°ì •í•œë‹¤. ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤(LBS) ì‹œìŠ¤í…œì˜ í•µì‹¬ìœ¼ë¡œ ì£¼ì–´ì§„ ìœ„ì¹˜ì™€ ë°˜ê²½ ì •ë³´ë¥¼ ì´ìš©í•´ ì£¼ë³€ ì‚¬ì—…ì¥ì„ ê²€ìƒ‰í•œë‹¤. ì“°ê¸° ìš”ì²­ì´ ì—†ëŠ”, ì½ê¸° ìš”ì²­ë§Œ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•œë‹¤. QPSê°€ ë†’ìŒ, íŠ¹íˆ íŠ¹ì • ì‹œê°„ëŒ€ì˜ ì¸êµ¬ ë°€ì§‘ ì§€ì—­ì¼ìˆ˜ë¡ ê·¸ ê²½í–¥ì´ ì‹¬í•´ì§„ë‹¤. ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ì´ë¯€ë¡œ ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì´ ì‰½ë‹¤. ì‚¬ì—…ì¥ ì„œë¹„ìŠ¤ ì“°ê¸° ì‚¬ì—…ì¥ ì†Œìœ ì£¼ê°€ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ìƒì„±, ê°±ì‹ , ì‚­ì œí•œë‹¤. QPSê°€ ë†’ì§€ ì•Šë‹¤. ì½ê¸° ê³ ê°ì´ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ì¡°íšŒí•œë‹¤. íŠ¹ì • ì‹œê°„ëŒ€ì— QPSê°€ ë†’ì•„ì§„ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ í´ëŸ¬ìŠ¤í„°\në°ì´í„°ë² ì´ìŠ¤ í´ëŸ¬ìŠ¤í„°ëŠ” ì£¼-ë¶€ ë°ì´í„°ë² ì´ìŠ¤ í˜•íƒœë¡œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.\nì£¼ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì“°ê¸° ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤. ë¶€ ë°ì´í„°ë² ì´ìŠ¤, ì¦‰ ì‚¬ë³¸ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì½ê¸° ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤. ë°ì´í„°ê°€ ì£¼ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡ëœ í›„ ì‚¬ë³¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë³µì œë˜ê¸° ë•Œë¬¸ì— ì§€ì—°ìœ¼ë¡œ ì¸í•´ ë‘ ë°ì´í„°ë² ì´ìŠ¤ì— ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.\nê·¸ë ‡ë”ë¼ë„ ì‚¬ì—…ì¥ ì •ë³´ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ê°±ì‹  ë  í•„ìš”ëŠ” ì—†ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nì‚¬ì—…ì¥ ì„œë¹„ìŠ¤ì™€ LBSì˜ ê·œëª¨ í™•ì¥ì„±\nì‚¬ì—…ì¥ ì„œë¹„ìŠ¤ì™€ LBS ë‘˜ ë‹¤ ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ì´ë¯€ë¡œ ì ì‹¬ì‹œê°„ ê°™ì€ íŠ¹ì • ì‹œê°„ëŒ€ì— ì§‘ì¤‘ì ìœ¼ë¡œ ëª°ë¦¬ëŠ” íŠ¸ë˜í”½ì—ëŠ” ìë™ìœ¼ë¡œ ì„œë²„ë¥¼ ì¶”ê°€í•˜ì—¬ ëŒ€ì‘í•˜ê³ , ì•¼ê°„ ë“± ìœ íœ´ ì‹œê°„ëŒ€ì—ëŠ” ì„œë²„ë¥¼ ì‚­ì œí•˜ë„ë¡ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.\nì‹œìŠ¤í…œì„ í´ë¼ìš°ë“œì— ë‘”ë‹¤ë©´ ì—¬ëŸ¬ ì§€ì—­, ì—¬ëŸ¬ ê°€ìš©ì„± êµ¬ì—­ì— ì„œë²„ë¥¼ ë‘ì–´ ì‹œìŠ¤í…œì˜ ê°€ìš©ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.\nì£¼ë³€ ì‚¬ì—…ì¥ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ì‹¤ì œë¡œëŠ” ë§ì€ íšŒì‚¬ê°€ ë ˆë””ìŠ¤ ì§€ì˜¤í•´ì‹œ(Geohash in Redis)ë‚˜ PostGIS í™•ì¥ì„ ì„¤ì¹˜í•œ í¬ìŠ¤íŠ¸ê·¸ë ˆìŠ¤(Postgres) ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•œë‹¤.\në©´ì ‘ê´€ì€ ì´ëŸ° ë°ì´í„°ë² ì´ìŠ¤ì˜ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ì•Œ ê±°ë¼ê³  ê¸°ëŒ€í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ì„ ë‚˜ì—´í•˜ê¸° ë³´ë‹¤ëŠ” ì§€ë¦¬ì  ìœ„ì¹˜ ìƒ‰ì¸ì´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì„¤ëª…í•¨ìœ¼ë¡œì¨ ë¬¸ì œ í’€ì´ ëŠ¥ë ¥ê³¼ ê¸°ìˆ ì  ì§€ì‹ì„ ê°–ì¶”ì—ˆìŒì„ ë³´ì´ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n2ì°¨ì› ê²€ìƒ‰ ì£¼ì–´ì§„ ë°˜ê²½ìœ¼ë¡œ ê·¸ë¦° ì› ì•ˆì— ë†“ì¸ ì‚¬ì—…ì¥ì„ ê²€ìƒ‰í•˜ëŠ” ë°©ë²•ì´ë‹¤.\nê°€ì¥ ì§ê´€ì ì´ì§€ë§Œ ì§€ë‚˜ì¹˜ê²Œ ë‹¨ìˆœí•˜ë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.\nì´ ì ˆì°¨ë¥¼ ìœ ì‚¬ SQL ì§ˆì˜ë¬¸ìœ¼ë¡œ ì˜®ê¸°ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\n1 2 3 4 5 SELECT business_id, latitude, longitude FROM business WHERE (latitude BETWEEN {:my_lat} - radius AND {:my_lat} + radius) AND (longitude BETWEEN {:my_lon} - radius AND {:my_lon} + radius) ; ìœ„ì™€ ê°™ì€ ì§ˆì˜ëŠ” í…Œì´ë¸” ì „ë¶€ë¥¼ ì½ì–´ì•¼ í•˜ë¯€ë¡œ íš¨ìœ¨ì ì´ì§€ ì•Šë‹¤.\nìœ„ë„, ê²½ë„ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ë¥¼ ë§Œë“ ë‹¤ë©´ ë°ì´í„° ì§‘í•© 1ê³¼ ë°ì´í„° ì§‘í•© 2ëŠ” ë¹ ë¥´ê²Œ ì¶”ì¶œí•  ìˆ˜ ìˆì§€ë§Œ, ì£¼ì–´ì§„ ë°˜ê²½ ë‚´ ì‚¬ì—…ì¥ì„ ì–»ìœ¼ë ¤ë©´ ì´ ë‘ì§‘í•©ì˜ êµì§‘í•©ì„ êµ¬í•´ì•¼í•œë‹¤.\nê·¸ëŸ´ ê²½ìš° ê° ì§‘í•©ì— ì†í•œ ë°ì´í„°ì–‘ì´ ë§ê¸° ë•Œë¬¸ì— íš¨ìœ¨ì ì¼ ìˆ˜ ì—†ë‹¤.\në”°ë¼ì„œ 2ì°¨ì› ë°ì´í„°ë¥¼ í•œ ì°¨ì›ì— ëŒ€ì‘ì‹œí‚¬ ë°©ë²•ì„ ì ìš©í•´ì•¼í•˜ë©°, ì§€ë¦¬ì  ì •ë³´ì— ìƒ‰ì¸ì„ ë§Œë“œëŠ” ë°©ë²•ì€ ë‘ ì¢…ë¥˜ì´ë‹¤.\nflowchart index[ì¸ë±ìŠ¤] hash[í•´ì‹œ] evenGrid[ê· ë“± ê²©ì] geohash[ì§€ì˜¤í•´ì‹œ] cartesianTiers[ì¹´ë¥´í…Œì‹œì•ˆ ê³„ì¸µ] tree[íŠ¸ë¦¬] quadTree[ì¿¼ë“œíŠ¸ë¦¬] s2[êµ¬ê¸€ S2] rtree[R íŠ¸ë¦¬] index --\u003e hash index --\u003e tree hash --\u003e evenGrid hash --\u003e geohash hash --\u003e cartesianTiers tree --\u003e quadTree tree --\u003e s2 tree --\u003e rtree í•´ì‹œ ê¸°ë°˜ ë°©ì•ˆ ê· ë“± ê²©ì(even grid), ì§€ì˜¤í•´ì‹œ(geohash), ì¹´ë¥´í…Œì‹œì•ˆ ê³„ì¸µ(cartesian tiers) ë“± íŠ¸ë¦¬ ê¸°ë°˜ ë°©ì•ˆ ì¿¼ë“œíŠ¸ë¦¬(quadtree), êµ¬ê¸€ S2, R íŠ¸ë¦¬(R-tree) ë“± ê° ìƒ‰ì¸ë²•ì˜ êµ¬í˜„ ë°©ë²•ì€ ì„œë¡œ ë‹¤ë¥´ì§€ë§Œ ëª¨ë‘ ì§€ë„ë¥¼ ì‘ì€ ì˜ì—­ìœ¼ë¡œ ë¶„í• í•˜ê³  ê³ ì† ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ë„ë¡ ìƒ‰ì¸ì„ ë§Œë“ ë‹¤.\nì§€ì˜¤í•´ì‹œ, ì¿¼ë“œíŠ¸ë¦¬, êµ¬ê¸€ S2ëŠ” ì‹¤ì œë¡œ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ì•ˆì´ë‹¤. ê· ë“± ê²©ì ì§€ë„ë¥¼ ì‘ì€ ê²©ì ë˜ëŠ” êµ¬íšìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë‹¨ìˆœí•œ ì ‘ê·¼ë²•ì´ë‹¤.\ní•˜ë‚˜ì˜ ê²©ìëŠ” ì—¬ëŸ¬ ì‚¬ì—…ì¥ì„ ë‹´ì„ ìˆ˜ ìˆê³ , í•˜ë‚˜ì˜ ì‚¬ì—…ì¥ì€ ì˜¤ì§ í•œ ê²©ì ì•ˆì—ë§Œ ì†í•˜ê²Œ ëœë‹¤.\nì‚¬ì—…ì¥ ë¶„í¬ê°€ ê· ë“±í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì „ ì„¸ê³„ë¥¼ ë™ì¼í•œ í¬ê¸°ì˜ ê²©ìë¡œ ë‚˜ëˆ„ë©´ ë°ì´í„° ë¶„í¬ëŠ” ì „í˜€ ê· ë“±í•˜ì§€ ì•Šë‹¤. ì£¼ì–´ì§„ ê²©ìì˜ ì¸ì ‘ ê²©ìë¥¼ ì°¾ê¸°ê°€ ê¹Œë‹¤ë¡œìš¸ ìˆ˜ ìˆë‹¤. ê²©ì ì‹ë³„ì í• ë‹¹ì— ëª…í™•í•œ ì²´ê³„ê°€ ì—†ê¸° ë•Œë¬¸ ì§€ì˜¤í•´ì‹œ(Geohash) 2ì°¨ì›ì˜ ìœ„ë„ ê²½ë„ ë°ì´í„°ë¥¼ 1ì°¨ì›ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤.\nì§€ì˜¤í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì€ ë¹„íŠ¸ë¥¼ í•˜ë‚˜ì”© ëŠ˜ë ¤ê°€ë©´ì„œ ì¬ê·€ì ìœ¼ë¡œ ì„¸ê³„ë¥¼ ë” ì‘ì€ ê²©ìë¡œ ë¶„í• í•´ ë‚˜ê°„ë‹¤.\nìœ„ë„ ë²”ìœ„ [-90, 0]ì€ 0ì— ëŒ€ì‘ ìœ„ë„ ë²”ìœ„ [0, 90]ì€ 1ì— ëŒ€ì‘ ê²½ë„ ë²”ìœ„ [-180, 0]ì€ 0ì— ëŒ€ì‘ ê²½ë„ ë²”ìœ„ [0, 180]ì€ 1ì— ëŒ€ì‘ ì´ ì ˆì°¨ë¥¼ ì›í•˜ëŠ” ì •ë°€ë„(precision)ë¥¼ ì–»ì„ ë•Œê¹Œì§€ ë°˜ë³µí•˜ë©°, Base32 í‘œí˜„ë²•ìœ¼ë¡œ ë°”ê¾¼ë‹¤.\nêµ¬ê¸€ ë³¸ì‚¬ ì§€ì˜¤í•´ì‹œ (ê¸¸ì´ = 6) 1001 10110 01001 10000 11011 11010 â†’ 9q9hvu ë©”íƒ€ ë³¸ì‚¬ ì§€ì˜¤í•´ì‹œ (ê¸¸ì´ = 6) 1001 10110 01001 10001 10000 10111 â†’ 949jhr ì§€ì˜¤í•´ì‹œëŠ” 12ë‹¨ê³„ ì •ë°€ë„ë¥¼ ë‚®ëŠ”ë°, ì´ ì •ë°€ë„ê°€ ê²©ìì˜ í¬ê¸°ë¥¼ ê²°ì •í•œë‹¤.\nì§€ì˜¤í•´ì‹œì˜ ê¸¸ì´ê°€ 6ë³´ê°€ ê¸¸ì–´ì§€ë©´ í•œ ê²©ìê°€ ë„ˆë¬´ ì‘ì•„ì§€ê³ , 4ë³´ë‹¤ ì‘ìœ¼ë©´ ê²©ìê°€ ë„ˆë¬´ ì»¤ì§„ë‹¤.\në”°ë¼ì„œ ìµœì  ì •ë°€ë„ëŠ” ì‚¬ìš©ìê°€ ì§€ì •í•œ ë°˜ê²½ìœ¼ë¡œ ê·¸ë¦° ì›ì„ ë®ëŠ” ìµœì†Œ í¬ê¸° ê²©ìë¥¼ ë§Œë“œëŠ” ì§€ì˜¤í•´ì‹œ ê¸¸ì´ë¥¼ êµ¬í•´ì•¼í•œë‹¤.\në°˜ê²½(km) ì§€ì˜¤í•´ì‹œ ê¸¸ì´ 0.5km 6 1km 5 2km 5 5km 4 20km 4 ì´ ì ‘ê·¼ë²•ì€ ëŒ€ì²´ë¡œ ì˜ ë™ì‘í•˜ì§€ë§Œ, ê²©ì ê°€ì¥ìë¦¬ ì²˜ë¦¬ ë°©ì‹ì— ê´€í•œ ê²½ê³„ ì¡°ê±´(edge case)ì´ ëª‡ ê°€ì§€ ìˆë‹¤.\nê²©ì ê°€ì¥ìë¦¬ ì´ìŠˆ 1\ní•´ì‹œê°’ì˜ ê³¹í†µ ì ‘ë‘ì–´(prefix)ê°€ ê¸´ ê²©ìë“¤ì´ ì„œë¡œ ë” ê°€ê¹ê²Œ ë†“ì´ë„ë¡ ë³´ì¥í•˜ì§€ë§Œ, ê·¸ ì—­ì€ ì°¸ì´ ì•„ë‹ˆë‹¤.\nì•„ì£¼ ê°€ê¹Œìš´ ë‘ ìœ„ì¹˜ê°€ ì–´ë–¤ ê³µí†µ ì ‘ë‘ì–´ë„ ê°–ì§€ ì•ŠëŠ” ì¼ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\në‘ ì§€ì ì´ ì ë„ì˜ ë‹¤ë¥¸ ìª½ì— ë†“ì´ëŠ” ê²½ìš° ìì˜¤ì„ ìƒì˜ ë‹¤ë¥¸ ë°˜ìª½ì— ë†“ì´ëŠ” ê²½ìš° ì´ ë¬¸ì œì ìœ¼ë¡œ ì¸í•´ ë‹¨ìˆœí•œ ì ‘ë‘ì–´ ê¸°ë°˜ SQL ì§ˆì˜ë¬¸ì„ ì‚¬ìš©í•˜ë©´ ì£¼ë³€ ëª¨ë“  ì‚¬ì—…ì¥ì„ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ë‹¤.\n1 SELECT * FROM geohash_index WHERE geohash LIKE \u0026#39;9q8zn%\u0026#39;; ê²©ì ê°€ì¥ìë¦¬ ì´ìŠˆ 2\nê³µí†µ ì ‘ë‘ì–´ ê¸¸ì´ëŠ” ê¸¸ì§€ë§Œ ì„œë¡œ ë‹¤ë¥¸ ê²©ìì— ë†“ì´ëŠ” ê²½ìš°ê°€ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.\nê°€ì¥ í”íˆ ì‚¬ìš©ë˜ëŠ” í•´ê²°ì±…ì€ í˜„ì¬ ê²©ìë¥¼ ë¹„ë¡¯í•œ ì¸ì ‘í•œ ëª¨ë“  ê²©ìì˜ ëª¨ë“  ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ë‹¤.\níŠ¹ì • ì§€ì˜¤í•´ì‹œì˜ ì£¼ë³€ ì§€ì˜¤í•´ì‹œë¥¼ ì°¾ëŠ” ê²ƒì€ ìƒìˆ˜ ì‹œê°„ì— ê°€ëŠ¥í•œ ì—°ì‚°ì´ë‹¤. í‘œì‹œí•  ì‚¬ì—…ì¥ì´ ì¶©ë¶„í•˜ì§€ ì•Šì€ ê²½ìš°\ní˜„ì¬ ê²©ìì™€ ì£¼ë³€ ê²©ìë¥¼ ë‹¤ ì‚´í´ë³´ì•„ë„ í‘œì‹œí•  ì‚¬ì—…ì¥ì„ ì¶©ë¶„íˆ ë°œê²¬í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ëŠ” 2ê°€ì§€ ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nì£¼ì–´ì§„ ë°˜ê²½ ë‚´ ì‚¬ì—…ì¥ë§Œ ë°˜í™˜ ì‚¬ìš©ìê°€ ë§Œì¡±í• ë§Œí•œ ìˆ˜ì˜ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ë°˜í™˜í•˜ì§€ ëª»í•œë‹¤. ê²€ìƒ‰ ë°˜ê²½ í‚¤ìš°ê¸° ì§€ì˜¤í•´ì‹œ ê°’ì˜ ë§ˆì§€ë§‰ ë¹„íŠ¸ë¥¼ ì‚­ì œí•˜ì—¬ ì–»ì€ ìƒˆ ì§€ì˜¤í•´ì‹œ ê°’ì„ ì‚¬ìš©í•´ ì£¼ë³€ ì‚¬ì—…ì¥ì„ ê²€ìƒ‰í•œë‹¤. ë§Œì¡±í• ë§Œí•œ ìˆ˜ë¥¼ ì±„ìš¸ ë•Œ ê¹Œì§€ ì§€ì›Œ ë²”ìœ„ë¥¼ ë‹¤ì‹œ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ì¿¼ë“œíŠ¸ë¦¬ ì¿¼ë“œíŠ¸ë¦¬ëŠ” ê²©ìì˜ ë‚´ìš©ì´ íŠ¹ì • ê¸°ì¤€ì„ ë§Œì¡±í•  ë•Œê°€ì§€ 2ì°¨ì› ê³µê°„ì„ ì¬ê·€ì ìœ¼ë¡œ ì‚¬ë¶„ë©´ ë¶„í• í•˜ëŠ” ë° í”íˆ ì‚¬ìš©ë˜ëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤.\nex) ê²©ìì— ë‹´ê¸´ ì‚¬ì—…ì¥ ìˆ˜ê°€ 100ì´í•˜ê°€ ë  ë•Œê°€ì§€ ë¶„í• í•œë‹¤. ì´ ìë£Œêµ¬ì¡°ëŠ” ê°ê°ì˜ LBS ì„œë²„ì— ì¡´ì¬í•´ì•¼ í•˜ë©°, ì„œë²„ê°€ ì‹œì‘í•˜ëŠ” ì‹œì ì— êµ¬ì¶•ëœë‹¤.\nì¿¼ë“œ íŠ¸ë¦¬ëŠ” ë©”ëª¨ë¦¬ ì•ˆì— ë†“ì´ëŠ” ìë£Œ êµ¬ì¡°ì¼ ë¿, ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•„ë‹˜ì— ìœ ì˜í•˜ì. íŠ¸ë¦¬ì˜ ë£¨íŠ¸ ë…¸ë“œëŠ” ì„¸ê³„ ì „ì²´ ì§€ë„ë¥¼ ë‚˜íƒ€ë‚´ë©°, ì´ ë£¨íŠ¸ ë…¸ë“œë¥¼ ì‚¬ë¶„ë©´ ê°ê°ì„ ë‚˜íƒ€ë‚´ëŠ” í•˜ìœ„ë…¸ë“œë¥¼ í†µí•´ ì–´ë–¤ ë…¸ë“œì˜ ì‚¬ì—…ì¥ë„ 100ê°œë¥¼ ë„˜ì§€ ì•Šì„ ë•Œ ê¹Œì§€ ì¬ê·€ì ìœ¼ë¡œ ë¶„í• í•œë‹¤.\nì¿¼ë“œíŠ¸ë¦¬ ì „ë¶€ë¥¼ ì €ì¥í•˜ëŠ” ë° ì–¼ë§ˆë‚˜ ë§ì€ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•œê°€?\nì–´ë–¤ ë°ì´í„°ê°€ ì¿¼ë“œíŠ¸ë¦¬ì— ë³´ê´€ë˜ëŠ”ì§€ ì‚´í´ë´ì•¼í•œë‹¤.\në§ë‹¨ ë…¸ë“œì— ìˆ˜ë¡ë˜ëŠ” ë°ì´í„°\nì´ë¦„ í¬ê¸° ê²©ìë¥¼ ì‹ë³„í•˜ëŠ” ë° ì‚¬ìš©ë  ì¢Œìƒë‹¨ê³¼ ìš°í•˜ë‹¨ ê¼­ì§€ì  ì¢Œí‘œ 32ë°”ì´íŠ¸ (8ë°”ì´íŠ¸ * 4) ê²©ì ë‚´ë¶€ ì‚¬ì—…ì¥ ID ëª©ë¡ IDë‹¹ 8ë°”ì´íŠ¸ * 100(í•œ ê²©ìì— í—ˆìš©ë˜ëŠ” ìµœëŒ€ ì‚¬ì—…ì¥ ìˆ˜) í•©ê³„ 832ë°”ì´íŠ¸ ë‚´ë¶€ ë…¸ë“œì— ìˆ˜ë¡ë˜ëŠ” ë°ì´í„°\nì´ë¦„ í¬ê¸° ê²©ìë¥¼ ì‹ë³„í•˜ëŠ” ë° ì‚¬ìš©ë  ì¢Œìƒë‹¨ê³¼ ìš°í•˜ë‹¨ ê¼­ì§€ì  ì¢Œí‘œ 32ë°”ì´íŠ¸ (8ë°”ì´íŠ¸ * 4) í•˜ìœ„ ë…¸ë“œ 4ê°œë¥¼ ê°€ë¦¬í‚¬ í¬ì¸í„° 32ë°”ì´íŠ¸ (8ë°”ì´íŠ¸ * 4) í•©ê³„ 64ë°”ì´íŠ¸ íŠ¸ë¦¬ êµ¬ì¶• í”„ë¡œì„¸ìŠ¤ê°€ í•œ ê²©ìì— í—ˆìš©ë˜ëŠ” ì‚¬ì—…ì¥ ìˆ˜ì˜ ì´ˆëŒ“ê°’ì— ì¢Œìš°ë˜ê¸°ëŠ” í•˜ì§€ë§Œ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì½”ë“œê°€ ì´ë¯¸ ìµœëŒ“ê°’ì„ ê³ ë ¤í•˜ì—¬ ë¶„í• ë˜ì–´ ìˆìœ¼ë¯€ë¡œ íŠ¸ë¦¬ ì•ˆì— ì €ì¥í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.\nì´ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ì€ ëŒ€ëµ 1.71GBìœ¼ë¡œ ê½¤ ì‘ì€ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.\nì¿¼ë“œ íŠ¸ë¦¬ ì¸ë±ìŠ¤ëŠ” ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì¡ì•„ë¨¹ì§€ ì•Šìœ¼ë¯€ë¡œ ì„œë²„ í•œ ëŒ€ì— ì¶©ë¶„íˆ ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.\nì „ì²´ ì¿¼ë“œíŠ¸ë¦¬ êµ¬ì¶•ì— ì†Œìš”ë˜ëŠ” ì‹œê°„ì€?\nê° ë§ë‹¨ ë…¸ë“œì—ëŠ” ëŒ€ëµ 100ê°œ ì‚¬ì—…ì¥ IDê°€ ì €ì¥ëœë‹¤.\nì „ì²´ ì‚¬ì—…ì¥ ìˆ˜ë¥¼ nì´ë¼ê³  í•˜ì˜€ì„ ë•Œ íŠ¸ë¦¬ë¥¼ êµ¬ì¶•í•˜ëŠ” ì‹œê°„ ë³µì¡ë„ëŠ” n/100 log n/100ì´ë‹¤.\n200m ê°œì˜ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ì¸ë±ì‹±í•˜ëŠ” ì¿¼ë“œíŠ¸ë¦¬ êµ¬ì¶•ì—ëŠ” ëª‡ ë¶„ ì •ë„ ì†Œìš”ë  ìˆ˜ ìˆë‹¤.\nì¿¼ë“œíŠ¸ë¦¬ë¡œ ì£¼ë³€ ì‚¬ì—…ì¥ì„ ê²€ìƒ‰í•˜ë ¤ë©´?\në©”ëª¨ë¦¬ì— ì¿¼ë“œíŠ¸ë¦¬ ì¸ë±ìŠ¤ë¥¼ êµ¬ì¶•í•œë‹¤. ê²€ìƒ‰ ì‹œì‘ì ì´ í¬í•¨ëœ ë§ë‹¨ ë…¸ë“œë¥¼ ë§Œë‚  ë•Œê°€ì§€, íŠ¸ë¦¬ì˜ ë£¨íŠ¸ ë…¸ë“œë¡œë¶€í„° íƒìƒ‰í•œë‹¤. í•´ë‹¹ ë…¸ë“œì— 100ê°œ ì‚¬ì—…ì¥ì´ ìˆëŠ” ê²½ìš°ì—ëŠ” í•´ë‹¹ ë…¸ë“œë§Œ ë°˜í™˜ ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ì¶©ë¶„í•œ ì‚¬ì—…ì¥ ìˆ˜ê°€ í™•ë³´ë  ë•Œê¹Œì§€ ì¸ì ‘ ë…¸ë“œë„ ì¶”ê°€ ì¿¼ë“œíŠ¸ë¦¬ ìš´ì˜ ì‹œ ê³ ë ¤ì‚¬í•­\n200mê°œ ì‚¬ì—…ì¥ì„ ê°–ëŠ” ì¿¼ë“œíŠ¸ë¦¬ë¥¼ êµ¬ì¶•í•˜ëŠ” ë° ëª‡ ë¶„ì´ ì†Œìš”ëœë‹¤.\në”°ë¼ì„œ ì„œë²„ë¥¼ ì‹œì‘í•˜ëŠ” ìˆœê°„ì— íŠ¸ë¦¬ë¥¼ êµ¬ì¶•í•˜ë©´ ì„œë²„ ì‹œì‘ ì‹œê°„ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ë”°ì ¸ë´ì•¼ í•œë‹¤.\nì¿¼ë“œíŠ¸ë¦¬ë¥¼ ë§Œë“¤ê³  ìˆëŠ” ë™ì•ˆ ì„œë²„ëŠ” íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ë‹¤. ìƒˆë¡œìš´ ë²„ì „ì˜ ì„œë²„ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¦´ë¦¬ìŠ¤ í•  ë•ŒëŠ” ë™ì‹œì— ë„ˆë¬´ ë§ì€ ì„œë²„ì— ë°°í¬í•˜ì§€ ì•Šë„ë¡ ì¡°ì‹¬í•´ì•¼ í•œë‹¤.\nìƒˆ ì„œë²„ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ í…ŒìŠ¤íŠ¸ í™˜ê²½ì˜ ëª¨ë“  ì„œë²„ì— ë™ì‹œ ë°°í¬í•˜ë©´ 200mê°œ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë™ì‹œì— ì½ê²Œ ë˜ì–´ ì‹œìŠ¤í…œì— í° ë¶€í•˜ê°€ ê°€í•´ì§ˆ ìˆ˜ ìˆë‹¤. ì‚¬ì—…ì¥ì´ ì¶”ê°€/ì‚­ì œ ë˜ì—ˆì„ ë•Œ ì¿¼ë“œ íŠ¸ë¦¬ë¥¼ ê°±ì‹ í•˜ëŠ” ë¬¸ì œë„ ê³ ë ¤í•´ì•¼í•œë‹¤.\nì ì§„ì  ê°±ì‹  ì ì§„ì„ìœ¼ë¡œ ì„œë²„ ì¤‘ ëª‡ ê°œì”©ë§Œ ê°±ì‹ í•œë‹¤. ì§§ì€ ì‹œê°„ ë™ì•ˆì´ì§€ë§Œ ë‚¡ì€ ë°ì´í„°ê°€ ë°˜í™˜ë  ìˆ˜ ìˆë‹¤. ìš”êµ¬ì‚¬í•­ì´ ì—„ê²©í•˜ì§€ ì•Šë‹¤ë©´ ì¼ë°˜ì ìœ¼ë¡œ ìš©ì¸í•  ìˆ˜ ìˆë‹¤. ë°¤ì‚¬ì´ì— ì¼ê´„ ê°±ì‹  ìˆ˜ë§ì€ í‚¤ê°€ í•œë²ˆì— ë¬´íš¨í™”ë˜ì–´ ìºì‹œ ì„œë²„ì— ë§‰ëŒ€í•œ ë¶€í•˜ê°€ ê°€í•´ì§ˆ ìˆ˜ ìˆë‹¤. ì‹¤ì‹œê°„ ê°±ì‹  ì„¤ê³„ê°€ ë³µì¡í•´ì§„ë‹¤. ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ì¿¼ë“œíŠ¸ë¦¬ ìë£Œ êµ¬ì¡°ë¥¼ ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” ê²½ìš° ë½ ë§¤ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤. ì‹¤ì œ ì“°ì´ëŠ” ì¿¼ë“œíŠ¸ë¦¬ ì‚¬ë¡€\nì¸êµ¬ ë°€ì§‘ ì§€ì—­ì—ëŠ” ì‘ì€ ê²©ìë¥¼, ê·¸ë ‡ì§€ ì•Šì€ ì§€ì—­ì—ëŠ” í° ê²©ìë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.\nêµ¬ê¸€ S2 êµ¬ê¸€ S2 ê¸°í•˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì•„ì£¼ ìœ ëª…í•œ ì†”ë£¨ì…˜ì´ë‹¤.\nì¿¼ë“œíŠ¸ë¦¬ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë©”ëª¨ë¦¬ ê¸°ë°˜ì´ë‹¤.\nì§€êµ¬ë¥¼ íë² ë¥´íŠ¸ ê³¡ì„ (Hilbert curve)ë¼ëŠ” ê³µê°„ ì±„ì›€ ê³¡ì„ ì„ ì‚¬ìš©í•˜ì—¬ 1ì°¨ì› ìƒ‰ì¸í™” í•˜ëŠ” ë°©ì•ˆì´ë‹¤.\níë² ë¥´íŠ¸ ê³¡ì„ ì€ ê³¡ì„  ìƒì—ì„œ ì¸ì ‘í•œ ë‘ ì§€ì ì€ ìƒ‰ì¸í™” ì´í›„ 1ì°¨ì› ê³µê°„ ë‚´ì—ì„œë„ ì¸ì ‘í•œ ìœ„ì¹˜ì— ì¡´ì¬í•œë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.\nì§€ì˜¤íœìŠ¤(geofence) êµ¬í˜„ì— ì í•©í•˜ë‹¤. ì§€ì˜¤íœìŠ¤: ì‹¤ì œ ì§€ë¦¬ì  ì˜ì—­ì— ì„¤ì •í•œ ê°€ìƒì˜ ê²½ê³„ ì„ì˜ ì§€ì—­ì— ë‹¤ì–‘í•œ ìˆ˜ì¤€ì˜ ì˜ì—­ ì§€ì •ì´ ê°€ëŠ¥í•˜ë‹¤. íŠ¹ì • ì§€ì  ë°˜ê²½ ëª‡ km, ìŠ¤ì¿¨ ì¡´, ë™ë„¤ ê²½ê³„ ë“± ê´€ì‹¬ ìˆëŠ” ì˜ì—­ì˜ ê²½ê³„ë¥¼ ì •í•œ ë‹¤ìŒ ë²—ì–´ë‚œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ì„ ë³´ë‚¼ ìˆ˜ ìˆê²Œëœë‹¤. í’ë¶€í•œ ê¸°ëŠ¥ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤. ì˜ì—­ ì§€ì • ì•Œê³ ë¦¬ì¦˜ ì§€ì˜¤í•´ì‹œì²˜ëŸ¼ ê³ ì •ëœ ì •ë°€ë„ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  ìµœì†Œ ìˆ˜ì¤€, ìµœê³  ìˆ˜ì¤€, ìµœëŒ€ ì…€ ê°œìˆ˜ ë“±ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì…€ í¬ê¸°ë¥¼ ìœ ì—°í•˜ê²Œ ì¡°ì •í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¢€ ë” ìƒì„¸í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. ì¶”ì²œ ë©´ì ‘ ì‹œì—ëŠ” ì§€ì˜¤í•´ì‹œë‚˜ ì¿¼ë“œíŠ¸ë¦¬ ê°€ìš´ë° í•˜ë‚˜ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nS2ëŠ” ë©´ì ‘ ì‹œê°„ ë‚´ì— ë¶„ëª…íˆ ì„¤ëª…í•˜ê¸° ì–´ë µë‹¤. ì§€ì˜¤í•´ì‹œ vs ì¿¼ë“œíŠ¸ë¦¬ ì§€ì˜¤í•´ì‹œ\nêµ¬í˜„ê³¼ ì‚¬ìš©ì´ ì‰½ë‹¤. íŠ¸ë¦¬ë¥¼ êµ¬ì¶•í•  í•„ìš”ê°€ ì—†ë‹¤. ì§€ì • ë°˜ê²½ ì´ë‚´ ì‚¬ì—…ì¥ ê²€ìƒ‰ì„ ì§€ì›í•œë‹¤. ì •ë°€ë„ë¥¼ ê³ ì •í•˜ë©´ ê²©ì í¬ê¸°ë„ ê³ ì •ëœë‹¤. ì¸êµ¬ ë°€ë„ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ê²©ì í¬ê¸°ë¥¼ ì¡°ì¥í•  ìˆ˜ëŠ” ì—†ë‹¤. ë°˜ì˜í•˜ë ¤ë©´ ë³µì¡í•œ ë…¼ë¦¬ë¥¼ ì ìš©í•´ì•¼í•œë‹¤. ìƒ‰ì¸ ê°±ì‹ ì´ ì‰½ë‹¤. ì‚¬ì—…ì¥ í•˜ë‚˜ë¥¼ ì‚­ì œí•˜ë ¤ë©´, ì§€ì˜¤í•´ì‹œ ê°’ê³¼ ì‚¬ì—…ì¥ ì‹ë³„ìê°€ ê°™ì€ ì—´ í•˜ë‚˜ë§Œ ì œê±°í•˜ë©´ ëœë‹¤. ì¿¼ë“œíŠ¸ë¦¬\níŠ¸ë¦¬ êµ¬ì¶•ìœ¼ë¡œ ì¸í•´ êµ¬í˜„í•˜ê¸°ê°€ ì‚´ì§ ë” ê¹Œë‹¤ë¡­ë‹¤. kë²ˆì§¸ë¡œ ê°€ê¹Œìš´ ì‚¬ì—…ì¥ê¹Œì§€ì˜ ëª©ë¡ì„ êµ¬í•  ìˆ˜ ìˆë‹¤. ë°˜ê²½ì— ìƒê´€ì—†ì´ ë‚´ ìœ„ì¹˜ì—ì„œ ê°€ê¹Œìš´ ì‚¬ì—…ì¥ kê°œ í•˜ìœ„ ë…¸ë“œ ë¶„í•  ê³¼ì •ì´ ìˆ«ì kì— ê¸°ë°˜í•˜ê³ , ì‚¬ì—…ì¥ì„ ì°¾ì„ ë•Œê¹Œì§€ ê²€ìƒ‰ ë²”ìœ„ë¥¼ ìë™ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆë‹¤. ì¸êµ¬ ë°€ë„ì— ë”°ë¼ ê²©ì í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆë‹¤. ì§€ì˜¤í•´ì‹œë³´ë‹¤ ìƒ‰ì¸ ê°±ì‹ ì€ ê¹Œë‹¤ë¡­ë‹¤. ì‚¬ì—…ì ì¥ë³´ë¥¼ ì‚­ì œí•˜ë ¤ë©´ ë£¨íŠ¸ ë…¸ë“œë¶€í„° ë§ë‹¨ ë…¸ë“œê¹Œì§€ íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•´ì•¼ í•œë‹¤.(O(log n)) ë‹¤ì¤‘ ìŠ¤ë ˆë“œë¥¼ ì§€ì›í•˜ëŠ” ê²½ìš° ë½ì„ ì‚¬ìš©í•´ì•¼í•˜ë¯€ë¡œ ë”ìš± ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤. ë¦¬ë°¸ëŸ°ì‹±ì´ í•„ìš”í•˜ë‹¤ë©´ êµ¬í˜„ì€ ë”ìš± ë³µì¡í•´ì§„ë‹¤. ë§ë‹¨ ë…¸ë“œì— ìƒˆë¡œìš´ ì‚¬ì—…ì¥ì„ ì¶”ê°€í•  ìˆ˜ ì—†ëŠ” ê²½ìš° í•„ìš”í•¨(ê½‰ ì°¼ì„ë•Œ) êµ¬ê°„ì˜ í¬ê¸°ë¥¼ í•„ìš”í•œ ì–‘ë³´ë‹¤ í¬ê²Œ ì¡ìœ¼ë©´ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê·œëª¨ í™•ì¥ì„± ì‚¬ì—…ì¥ í…Œì´ë¸”ê³¼ ì§€ë¦¬ì •ë³´ ìƒ‰ì¸ í…Œì´ë¸”ì˜ ê·œëª¨ í™•ì¥ì„±ì„ ì‚´í´ë³¸ë‹¤.\nì‚¬ì—…ì¥ í…Œì´ë¸” ì‚¬ì—…ì¥ í…Œì´ë¸” ë°ì´í„°ëŠ” í•œ ì„œë²„ì— ë‹´ì„ ìˆ˜ ì—†ì„ìˆ˜ë„ ìˆë‹¤.\nìƒ¤ë”©ì„ ì ìš©í•˜ê¸° ì¢‹ì€ í›„ë³´ì´ë‹¤. ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ ì‚¬ì—…ì¥ IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒ¤ë”©í•˜ëŠ” ê²ƒìœ¼ë¡œ ëª¨ë“  ìƒ¤ë“œì— ë¶€í•˜ë¥¼ ê³ ë¥´ê²Œ ë¶„ì‚°í•  ìˆ˜ ìˆì„ ë¿ ì•„ë‹ˆë¼ ìš´ì˜ì  ì¸¡ë©´ì—ì„œë„ ê´€ë¦¬í•˜ê¸° ì‰½ë‹¤.\nì§€ë¦¬ ì •ë³´ ìƒ‰ì¸ í…Œì´ë¸” ì§€ì˜¤í•´ì‹œ í…Œì´ë¸” êµ¬ì„± ë°©ë²•ì€ ë‘ê°€ì§€ì´ë‹¤.\nê°ê°ì˜ ì§€ì˜¤í•´ì‹œì— ì—°ê²°ë˜ëŠ” ëª¨ë“  ì‚¬ì—…ì¥ IDë¥¼ JSON ë°°ì—´ë¡œ ë§Œë“¤ì–´ ê°™ì€ ì—´ì— ì €ì¥ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ê°±ì‹ í•˜ë ¤ë©´ JSON ë°°ì—´ì„ ì½ì€ ë‹¤ìŒ ê°±ì‹ í•  ì‚¬ì—…ì¥ IDë¥¼ ì°¾ì•„ì•¼í•œë‹¤. ì‚¬ì—…ì¥ì„ ë“±ë¡í•´ì•¼ í•˜ëŠ” ê²½ìš° ê°™ì€ ì‚¬ì—…ì¥ ì •ë³´ê°€ ì´ë¯¸ ìˆëŠ”ì§€ í™•ì¸ì„ ìœ„í•´ ë°ì´í„°ë¥¼ ì „ë¶€ ì‚´í´ì•¼í•œë‹¤. ë³‘ë ¬ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê°±ì‹  ì—°ì‚° ê²°ê³¼ë¡œ ë°ì´í„°ê°€ ì†Œì‹¤ë˜ëŠ” ê²½ìš°ë¥¼ ë§‰ê¸° ìœ„í•´ ë½ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤. ê°™ì€ ì§€ì˜¤í•´ì‹œì— ì†í•œ ì‚¬ì—…ì¥ ID ê°ê°ì„ ë³„ë„ ì—´ë¡œ ì €ì¥ ì§€ì˜¤í•´ì‹œì™€ ì‚¬ì—…ì¥ ID ì»¬ëŸ¼ì„ í•©ì¹œ (geohash, business_id)ë¥¼ ë³µí•©í‚¤ë¡œ ì‚¬ìš©í•˜ë©´ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ì¶”ê°€, ì‚­ì œí•˜ê¸° ì‰½ë‹¤.(ë½ì´ í•„ìš” ì—†ë‹¤) ì§€ë¦¬ ì •ë³´ ìƒ‰ì¸ì˜ ê·œëª¨ í™•ì¥ ì¿¼ë“œíŠ¸ë¦¬ ìƒ‰ì¸ì„ ì „ë¶€ ë³´ê´€í•˜ëŠ”ë° 1.71Gì˜ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•˜ë¯€ë¡œ ìƒ‰ì¸ ì „ë¶€ë¥¼ ìµœì‹  ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ í•œ ëŒ€ì— ì¶©ë¶„íˆ ìˆ˜ìš©í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì½ê¸° ì—°ì‚°ì˜ ë¹ˆë„ê°€ ë†’ë‹¤ë©´ ì„œë²„ í•œ ëŒ€ì˜ CPUì™€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ìœ¼ë¡œëŠ” ìš”ì²­ ì „ë¶€ë¥¼ ê°ë‹¹í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ìƒí™©ì—ì„œëŠ” ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¡œ ë¶€í•˜ë¥¼ ë¶„ì‚°í•´ì•¼í•œë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ê²½ìš° ë¶€í•˜ ë¶„ì‚°ì—ëŠ” ë‘ ê°€ì§€ ì „ëµì´ í”íˆ ì‚¬ìš©ëœë‹¤.\nì½ê¸° ì—°ì‚°ì„ ì§€ì›í•  ì‚¬ë³¸ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ëŠ˜ë¦°ë‹¤. ìƒ¤ë”©ì„ ì ìš©í•œë‹¤. ì§€ì˜¤í•´ì‹œ í…Œì´ë¸”ì€ ìƒ¤ë”© ë¡œì§ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µì—ì„œ êµ¬í˜„í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ê¹Œë‹¤ë¡­ë‹¤. ë°ì´í„° ì „ë¶€ë¥¼ ì„œë²„ í•œ ëŒ€ì— ë‹´ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì—¬ëŸ¬ ì„œë²„ë¡œ ìƒ¤ë”©í•´ì•¼ í•  ê°•í•œ ê¸°ìˆ ì  í•„ìš”ì„±ì€ ì—†ë‹¤. ë”°ë¼ì„œ ì´ë²ˆ ì„¤ê³„ì•ˆì—ì„œëŠ” ì½ê¸° ë¶€í•˜ë¥¼ ë‚˜ëˆŒ ì‚¬ë³¸ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ë‘ëŠ” ë°©ë²•ì´ ë” ì¢‹ë‹¤.\nìºì‹œ ìºì‹œ ê³„ì¸µ ë„ì… ì „ì—ëŠ” ì •ë§ í•„ìš”í•œì§€ ê³ ë¯¼í•´ì•¼í•œë‹¤.\nì²˜ë¦¬ ë¶€í•˜ê°€ ì½ê¸° ì¤‘ì‹¬ì´ê³  ë°ì´í„°ë² ì´ìŠ¤ í¬ê¸°ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì‘ì•„ ëª¨ë“  ë°ì´í„°ëŠ” í•œ ëŒ€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì— ìˆ˜ìš© ê°€ëŠ¥ ì´ ê²½ìš° ì§ˆì˜ë¬¸ ì²˜ë¦¬ ì„±ëŠ¥ì€ I/Oì— ì¢Œìš°ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë©”ëª¨ë¦¬ ìºì‹œë¥¼ ì‚¬ìš©í•  ë•Œì™€ ë¹„ìŠ·í•˜ë‹¤. ì½ê¸° ì„±ëŠ¥ì´ ë³‘ëª©ì´ë¼ë©´ ì‚¬ë³¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¦ì„¤í•´ì„œ ì½ê¸° ëŒ€ì—­í­ì„ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤. ìºì‹œ ë„ì…ì„ ì˜ë…¼í•  ë•Œ ë²¤ì¹˜ë§ˆí‚¹ê³¼ ë¹„ìš© ë¶„ì„ì— ê°ë³„íˆ ì£¼ì˜í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ìœ ë…í•´ì•¼í•œë‹¤.\nìºì‹œê°€ ì‚¬ì—…ì  ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ” ë° ì£¼ìš©í•œ ì—­í• ì„ í•˜ë¦¬ë¼ëŠ” í™•ì‹ ì´ ë“¤ë©´ ì‹¤ì œ ìºì‹œ ì „ëµ ë…¼ì˜ë¥¼ ì§„í–‰í•´ë„ ì¢‹ë‹¤.\nìºì‹œ í‚¤ ê°€ì¥ ì§ê´€ì ì¸ ìºì‹œ í‚¤ëŠ” ì‚¬ìš©ì ìœ„ì¹˜ì˜ ìœ„ë„ ê²½ë„ ì •ë³´ì´ì§€ë§Œ ëª‡ê°€ì§€ ë¬¸ì œê°€ ìˆë‹¤.\nì‚¬ìš©ìì˜ í•¸ë“œí°ì—ì„œ ë°˜í™˜ë˜ëŠ” ìœ„ì¹˜ ì •ë³´ëŠ” ì¶”ì •ì¹˜ì¼ ë¿ ì •í™•í•˜ì§€ ì•Šë‹¤. ì „í˜€ ì›€ì§ì´ì§€ ì•ŠëŠ”ë‹¤ê³  í•´ë„ ì¸¡ì •í•  ë•Œë§ˆë‹¤ ì¡°ê¸ˆì”© ë‹¬ë¼ì§„ë‹¤. ì´ë™í•˜ë©´ ìœ„ë„ ê²½ë„ ì •ë³´ë„ ë¯¸ì„¸í•˜ê²Œ ë³€ê²½ëœë‹¤. ë”°ë¼ì„œ ì‚¬ìš©ì ìœ„ì¹˜ ì •ë³´ëŠ” ìºì‹œ í‚¤ë¡œëŠ” ì ì ˆì¹˜ ì•Šìœ¼ë©°, ì§€ì˜¤í•´ì‹œë‚˜ ì¿¼ë“œíŠ¸ë¦¬ëŠ” ê°™ì€ ê²©ì ë‚´ ëª¨ë“  ì‚¬ì—…ì¥ì´ ê°™ì€ í•´ì‹œê°’ì„ ê°–ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìºì‹œ í‚¤ë¡œ ì í•©í•˜ë‹¤.\nìºì‹œ ë°ì´í„° ìœ í˜• í‚¤ ê°’ ì§€ì˜¤í•´ì‹œ í•´ë‹¹ ê²©ì ë‚´ì˜ ì‚¬ì—…ì¥ ID ëª©ë¡ ì‚¬ì—…ì¥ ID ì‚¬ì—…ì¥ ì •ë³´ ê°ì²´ ìœ„ ë°ì´í„°ëŠ” ìºì‹œì— ë³´ê³ ë‚˜í•˜ë©´ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì„ ì „ë°˜ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.\nê²©ì ë‚´ ì‚¬ì—…ì¥ ID\nì‚¬ì—…ì¥ ì •ë³´ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì •ì ì´ë¼ ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.\në”°ë¼ì„œ íŠ¹ì • ì§€ì˜¤í•´ì‹œì— í•´ë‹¹í•˜ëŠ” ì‚¬ì—…ì¥ ID ëª©ë¡ì„ ë¯¸ë¦¬ ê³„ì‚°í•œ ë‹¤ìŒ ë ˆë””ìŠ¤ ê°™ì€ í‚¤-ê°’ ì €ì¥ì†Œì— ìºì‹œí•  ìˆ˜ ìˆë‹¤.\nì£¼ì–´ì§„ ì§€ì˜¤í•´ì‹œì— ëŒ€ì‘ë˜ëŠ” ì‚¬ì—…ì¥ ëª©ë¡ì„ ê°€ì ¸ì˜¨ë‹¤. 1 2 3 SELECT business_id FROM geohash_index WHERE geohash LIKE `{: geohash}%;` ì£¼ì–´ì§„ ì§€ì˜¤í•´ì‹œì— ëŒ€ì‘ë˜ëŠ” ì‚¬ì—…ì¥ ëª©ë¡ì„ ìš”ì²­ë°›ìœ¼ë©´ ìºì‹œë¥¼ ë¨¼ì € ì¡°íšŒí•˜ê³  ì—†ìœ¼ë©´ ìœ„ì˜ ì§ˆì˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹œì— ë³´ê´€ í›„ ë°˜í™˜í•œë‹¤. ìƒˆë¡œìš´ ì‚¬ì—…ì¥ì„ ì¶”ê°€í•˜ê±°ë‚˜, ê¸°ì¡´ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ í¸ì§‘í•˜ê±°ë‚˜, ì•„ì˜ˆ ì‚­ì œí•˜ëŠ” ê²½ìš°ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê°±ì‹ í•˜ê³  ìºì‹œì— ë³´ê´€ëœ í•­ëª©ì€ ë¬´íš¨í™”(invalidate) í•œë‹¤.\nì—°ì‚°ì˜ ë¹ˆë„ê°€ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì•„ ë½ì„ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì–´ êµ¬í˜„í•˜ê¸° ì‰½ë‹¤. ìš”êµ¬ì‚¬í•­ì—ì„œ ì‚¬ìš©ìê°€ 4ê°€ì§€ ê²€ìƒ‰ ë°˜ê²½ ê°€ìš´ë° í•˜ë‚˜ë¥¼ ê³ ë¥¼ ìˆ˜ ìˆëŠ”ë°, ì´ ê²€ìƒ‰ ë°˜ê²½ì€ ê°ê° ì§€ì˜¤í•´ì‹œ ê¸¸ì´ 4, 5, 5, 6ì— í•´ë‹¹í•œë‹¤.\në”°ë¼ì„œ ì£¼ë³€ ì‚¬ì—…ì¥ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì‹ ì†í•˜ê²Œ ì œê³µí•˜ë ¤ë©´ ì„¸ê°€ì§€ ì •ë°€ë„(4, 5, 6) ì „ë¶€ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë ˆë””ìŠ¤ì— ìºì‹œí•´ì•¼í•œë‹¤.\në ˆë””ìŠ¤ ì €ì¥ì†Œì— ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•œ í•„ìš” ê³µê°„ 8qkdlxm * 200m * 3ê°€ì§€ ì •ë°€ë„ = ~5GB ë ˆë””ìŠ¤ ì €ì¥ì†Œì— í‚¤ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•¸ í•„ìš” ê³µê°„ ë¬´ì‹œí•  ë§Œí•œ ìˆ˜ì¤€ ì „ì²´ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ì€ ëŒ€ëµ 5GB ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ìœ¼ë¡œ ë´¤ì„ ë•Œ ì„œë²„ í•œ ëŒ€ë¡œë„ ì¶©ë¶„í•  ê²ƒ ê°™ì§€ë§Œ, ê³ ê°€ìš©ì„±ì„ ë³´ì¥í•˜ê³  ëŒ€ë¥™ ê²½ê³„ë¥¼ ë„˜ëŠ” íŠ¸ë˜í”½ì˜ ì „ì†¡ ì§€ì—°ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ë ˆë””ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì „ ì„¸ê³„ì— ê° ì§€ì—­ë³„ë¡œ ë‘ê³ , ë™ì¼í•œ ë°ì´í„°ë¥¼ ê° ì§€ì—­ì— ì¤‘ë³µí•´ì„œ ì €ì¥í•´ ë‘ì–´ì•¼ í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í‘œì‹œí•  ì‚¬ì—…ì¥ ì •ë³´\nbusiness_idë¥¼ í‚¤ë¡œ ì‚¬ìš©í•˜ê³  ì´ë¦„, ì£¼ì†Œ, ì‚¬ì§„ ë“œìœ¼ì´ ì •ë³´ë¥¼ ë‹´ëŠ”ë‹¤.\nì§€ì—­ ë° ê°€ìš©ì„± êµ¬ì—­ ì§€ê¸ˆê¹Œì§€ ì„¤í´ë³¸ ìœ„ì¹˜ ê¸°ë°˜ ì„œë²„ìŠ¤ëŠ” ì—¬ëŸ¬ ì§€ì—­ê³¼ ê°€ìš©ì„± êµ¬ì—­ì— ì„¤ì¹˜í•œë‹¤.\nì‚¬ìš©ìì™€ ì‹œìŠ¤í…œ ì‚¬ì´ì˜ ë¬¼ë¦¬ì  ê±°ë¦¬ë¥¼ ìµœì†Œí•œìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤. íŠ¸ë˜í”½ì„ ì¸êµ¬ì— ë”°ë¼ ê³ ë¥´ê²Œ ë¶„ì‚°í•˜ëŠ” ìœ ì—°ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆë‹¤. ì¸êµ¬ ë°€ë„ê°€ ì•„ì£¼ ë†’ì€ êµ­ê°€ëŠ” ë³„ë„ ì§€ì—­ìœ¼ë¡œ ë¹¼ê±°ë‚˜, ì•„ì˜ˆ í•œ ì§€ì—­ ì•ˆì—ì„œë„ ì—¬ëŸ¬ ê°€ìš©ì„± êµ¬ì—­ì„ í™œìš©í•˜ì—¬ ë¶€í•˜ë¥¼ ë¶„ì‚°ì‹œí‚¤ëŠ” ê²ƒì´ ë°”ëŒì§í•  ìˆ˜ ìˆë‹¤. ê·¸ ì§€ì—­ì˜ ì‚¬ìƒí™œ ë³´í˜¸ë²•(privacy law)ì— ë§ëŠ” ìš´ì˜ì´ ê°€ëŠ¥í•˜ë‹¤. ì‹œê°„ëŒ€, í˜¹ì€ ì‚¬ì—…ì¥ ìœ í˜•ë³„ ê²€ìƒ‰ ì§€ì˜¤í•´ì‹œë‚˜ ì¿¼ë“œíŠ¸ë¦¬ ê°™ì€ ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ì „ ì„¸ê³„ë¥¼ ì‘ì€ ê²©ìë“¤ë¡œ ë¶„í• í•˜ë©´ ê²€ìƒ‰ ê²°ê³¼ë¡œ ì–»ì–´ì§€ëŠ” ì‚¬ì—…ì¥ ìˆ˜ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì ë‹¤.\nì¼ë‹¨ì€ ê·¼ì²˜ ì‚¬ì—…ì¥ IDë¶€í„° ì „ë¶€ í™•ë³´í•œ ë‹¤ìŒ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ì „ë¶€ ì¶”ì¶œí•´ì„œ ì˜ì—…ì‹œê°„ì´ë‚˜ ì‚¬ì—…ì¥ ìœ í˜•ì— ë”°ë¼ í•„í„°ë§í•œë‹¤.\nìµœì¢… ì„¤ê³„ë„ ì£¼ë³€ ì‚¬ì—…ì¥ ê²€ìƒ‰ í´ë¼ì´ì–¸íŠ¸ì•±ì€ ì‚¬ìš©ìì˜ ìš°ì¹˜ì™€ ê²€ìƒ‰ ë°˜ê²½ì„ ë¡œë“œë°¸ëŸ°ì„œë¡œ ì „ì†¡ í•´ë‹¹ ìš”ì²­ì„ LBSë¡œ ë³´ëƒ„ LBSëŠ” ê²€ìƒ‰ ìš”ê±´ì„ ë§Œì¡±í•  ì§€ì˜¤í•´ì‹œ ê¸¸ì´ë¥¼ ê³„ì‚°(ì˜ˆì‹œì—ì„  6) LBSëŠ” ì¸ì ‘í•œ ì§€ì˜¤í•´ì‹œë¥¼ ê³„ì‚°í•œ í›„ ëª©ë¡ì— ì¶”ê°€ 1 list_of_geohashes = [my_geohash, neigbor1_geohash ...] list_of_geohashes ë‚´ì— ìˆëŠ” ì§€ì˜¤í•´ì‹œ ê°ê°€ì— ëŒ€í•´ ì§€ì˜¤í•´ì‹œ ë ˆë””ìŠ¤ ì„œë²„ë¥¼ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ ì§€ì˜¤í•´ì‹œì— ëŒ€ì‘í•˜ëŠ” ëª¨ë“  ì‚¬ì—…ì¥ IDë¥¼ ì¶”ì¶œ ê°€ì ¸ì˜¤ëŠ” ì—°ì‚°ì„ ë³‘ë ¬ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ë©´ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë‚´ëŠ” ì§€ì—°ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë°˜í™˜ëœ ì‚¬ì—…ì¥ IDë“¤ì„ ê°€ì§€ê³  ì‚¬ì—…ì¥ ì •ë³´ ë ˆë””ìŠ¤ ì„œë²„ë¥¼ ì¡°íšŒí•˜ì—¬ ê° ì‚¬ì—…ì¥ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì·¨ë“ ìƒì„¸ ì •ë³´ì— ì˜ê±°í•˜ì—¬ ì‚¬ì—…ì¥ê³¼ ì‚¬ìš©ì ê°„ ê±°ë¦¬ë¥¼ ê³„ì‚°í•˜ê³ , ìš°ì„ ìˆœìœ„ë¥¼ ë§¤ê¸´ ë‹¤ìŒ í´ë¼ì´ì–¸íŠ¸ì•±ì— ë°˜í™˜ ì‚¬ì—…ì¥ ì •ë³´ ì¡°íšŒ, ê°±ì‹ , ì¶”ê°€ ê·¸ë¦¬ê³  ì‚­ì œ ëª¨ë“  ì‚¬ì—…ì¥ ì •ë³´ ê´€ë ¨ APIëŠ” ë¶„ë¦¬ë˜ì–´ ìˆë‹¤.\nì‚¬ì—…ì¥ ìƒì„¸ì •ë³´ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì‚¬ì—…ì¥ ì •ë³´ ì„œë¹„ìŠ¤ëŠ” ìš°ì„  í•´ë‹¹ ë°ì´í„°ê°€ ì‚¬ì—…ì¥ ì •ë³´ ë ˆë””ìŠ¤ ì„œë²„ì— ê¸°ë¡ë˜ì–´ ìˆëŠ”ì§€ ì‚´í•€ë‹¤. ìºì‹œë˜ì–´ ìˆëŠ” ê²½ìš° í•´ë‹¹ ë°ì´í„°ë¥¼ ì½ì–´ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°˜í™˜í•œë‹¤. ì—†ëŠ” ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‚¬ì—…ì¥ ì •ë³´ë¥¼ ì½ì–´ ìºì‹œì— ì €ì¥í•œ ë‹¤ìŒ ë°˜í™˜ ìƒˆë¡œ ì¶”ê°€í•˜ê±°ë‚˜ ê°±ì‹ í•œ ì •ë³´ëŠ” ë‹¤ìŒë‚  ë°˜ì˜ëœë‹¤ëŠ” ì •ì±…ìœ¼ë¡œ ì¸í•´ ìºì‹œì— ë³´ê´€ëœ ì •ë³´ ê°±ì‹ ì€ ë°¤ ì‚¬ì´ ì‘ì—…ì„ ëŒë ¤ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì£¼ë³€ ê²€ìƒ‰ ê¸°ëŠ¥ì˜ í•µì‹¬ì¸ ê·¼ì ‘ì„± ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í•´ ë³´ì•˜ë‹¤.\nì§€ë¦¬ ì •ë³´ ìƒ‰ì¸ ê¸°ë²•ì„ í™œìš©í•˜ëŠ” ì „í˜•ì ì¸ LBS ì„œë¹„ìŠ¤ë‹¤.\nìƒ‰ì¸ ë°©ì•ˆ 2ì°¨ì› ê²€ìƒ‰ ê· ë“± ë¶„í•  ê²©ì ì§€ì˜¤í•´ì‹œ ì¿¼ë“œíŠ¸ë¦¬ êµ¬ê¸€ S2 ì§€ì˜¤í•´ì‹œë¥¼ ì‚¬ìš©í•œ ì§€ë¦¬ì •ë³´ ìƒ‰ì¸ ë™ì‘ ì›ë¦¬ ìºì‹œë¥¼ í™œìš©í•œ ì§€ì—° ì‹œê°„ ê°ì†Œ ë°©ë²• ìºì‹œ ëŒ€ìƒ ì •ë³´ ë°”ë¥´ê²Œ ì£¼ë³€ ì‚¬ì—…ì¥ì„ ê²€ìƒ‰í•˜ê¸° ìœ„í•œ ìºì‹œ í™œìš©ë²• ë³µì œì™€ ìƒ¤ë”©ì„ í†µí•œ ë°ì´í„°ë² ì´ìŠ¤ ê·œëª¨ í™•ì¥ë²• LBSë¥¼ ì—¬ëŸ¬ ì§€ì—­ê³¼ ê°€ìš©ì„± êµ¬ì—­ì— ì„¤ì¹˜ ê°€ìš©ì„± ìƒìŠ¹ ì‚¬ìš©ìì™€ ì„œë²„ ì‚¬ì´ í†µì‹  ì§€ì—° ê°ì†Œ ê° ì§€ì—­ ë³„ ì‚¬ìƒí™œ ë³´í˜¸ë²• ì¤€ìˆ˜í•˜ëŠ” ë°©ë²• ìš”ì•½ ","date":"2024-08-04T20:08:50+09:00","image":"https://codemario318.github.io/post/system-design-interview-2/1/cover_huf565d8fe7a4f9f5a961306624616abfc_449360_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview-2/1/","title":"1. ê·¼ì ‘ì„± ì„œë¹„ìŠ¤"},{"content":"ì±Œë¦°ì§€ 3ì£¼ì°¨ê°€ ë§ˆë¬´ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤ğŸ¥³\nì´ë²ˆì£¼ ì—­ì‹œ ì €ë²ˆì£¼ì™€ ë§ˆì°¬ê°€ì§€ë¡œ, ì €ë²ˆì£¼ë³´ë‹¤ í›¨ì”¬ ë” ë¹ ë¥´ê²Œ ì§€ë‚˜ê°„ ê²ƒ ê°™ë„¤ìš”.\në¯¸ì…˜ë„ ì–´ë ¤ì› ì§€ë§Œ ì´ë²ˆì£¼ëŠ” ë‚ ì”¨ê°€ ì—­ëŒ€ê¸‰ìœ¼ë¡œ ë”ì› ëŠ”ë°, ì—ì–´ì»¨ ê³ ì¥ ì´ìŠˆê°€ ë°œìƒí•˜ëŠ” ë°”ëŒì— ìœ¡ì²´ì , ì •ì‹ ì ìœ¼ë¡œ ì •ë§ í˜ë“¤ì—ˆë˜ í•œ ì£¼ ì˜€ìŠµë‹ˆë‹¤ğŸ¥µ\nì§ í™œë™ ì´ë²ˆì£¼ëŠ” ì €ë²ˆì£¼ì— ì˜ˆê³ ë˜ì—ˆë˜ëŒ€ë¡œ ì§ í™œë™ìœ¼ë¡œ í•œ ì£¼ê°€ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\nê°ì ê°œë°œí•˜ê³  ì§ê³¼ í•¨ê»˜ ì„œë¡œì˜ ê²°ê³¼ë¬¼ì„ ê°œì„ í•´ë³´ëŠ” ì§ ê°œì„ ì´ 11~12ì¼ ì´í‹€ì— ê±¸ì³ ì§„í–‰ë˜ì—ˆê³ , ê°™ì´ ê°œë°œí•˜ê³  ê°ì ê°œì„ í•´ë³´ëŠ” ì§ ê°œë°œì´ 13~14ì¼ ì´í‹€ì— ê±¸ì³ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\në¯¸ì…˜ì„ í•¨ê»˜í•˜ë©° ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ë§ì€ ì†Œí†µì„ í•˜ì˜€ìŠµë‹ˆë‹¤.\nì˜ì‚¬ ê²°ì • ê³¼ì •ì—ì„œ ê³µí†µìœ¼ë¡œ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ë¶€ë¶„, ê³µí†µìœ¼ë¡œ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤ê³  ìƒê°í•˜ëŠ” ë¶€ë¶„ ë“±ì„ í† ë¡ í•˜ë©° í›¨ì”¬ ë” ë¹ ë¥´ê²Œ ìµœì„ ì˜ ì„ íƒì„ í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ì•„ ì¢‹ì•˜ìŠµë‹ˆë‹¤.\nì´ë²ˆì£¼ë„ ì €ë²ˆì£¼ì— ì´ì–´ì„œ ì• ìì¼ìŠ¤ëŸ¬ìš´ ê°œë°œê³¼ TDDë¥¼ ì‹œë„í–ˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ì§ê³¼ í•¨ê»˜ í–ˆë‹¤ëŠ” ê²ƒì´ ì¡°ê¸ˆ ë‹¤ë¥¼ ê²ƒ ê°™ë„¤ìš”\nì• ìì¼ìŠ¤ëŸ¬ìš´ ê°œë°œì€ ê°œì¸ ë¯¸ì…˜ì¼ ë•ŒëŠ” ì–´ëŠì •ë„ ë‹¬ì„±í•  ìˆ˜ ìˆì—ˆìœ¼ë‚˜, ì§ ê°œë°œì—ì„œëŠ” ì§ì´ ì§€ê¸ˆê¹Œì§€ í•´ì˜¤ë˜ ìŠ¤íƒ€ì¼ê³¼ ë§ì´ ë‹¬ë¼ ì™„ì „íˆ ì ìš©í•˜ì§€ëŠ” ëª»í–ˆê³ ,\nTDDì—­ì‹œ ë¯¸ì…˜ì˜ ì ‘ê·¼ ë°©ë²•ì— ë§ì¶˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì— ì–´ë ¤ì›€ì„ ëŠê»´ ì¼ë¶€ë§Œ ì ìš©í•˜ì—¬ ì¡°ê¸ˆ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤.\në¯¸ì…˜ ì´ë²ˆì£¼ ë¯¸ì…˜ë„ ì—­ì‹œ ì–´ë ¤ìš´ ì£¼ì œë“¤ì„ ë‹¤ë¤˜ìŠµë‹ˆë‹¤.\nì €ë²ˆì£¼ëŠ” íŒ¨ëŸ¬ë‹¤ì„ ë“±ê³¼ ê°™ì€ ë‚´ìš©ë“¤ë¡œ ìƒê°ì˜ ì „í™˜ì´ í•„ìš”í•˜ì—¬ ì–´ë ¤ì› ë‹¤ë©´, ì´ë²ˆì£¼ëŠ” ì €ë²ˆì£¼ì˜ ê°œë…ì— ë³µì¡í•œ ìš”êµ¬ì‚¬í•­ì´ ì¶”ê°€ëœ ëª¨ìŠµì´ì—ˆìŠµë‹ˆë‹¤.\nì•„ë§ˆë„ 2ì¼ì”© ì´ë£¨ì–´ì§ˆ ì§ í™œë™ì„ ë°˜ì˜í•˜ì—¬ ë” ì–´ë ¤ìš´ ë¬¸ì œë¡œ ì„ ì •í–ˆë˜ê²ƒì´ ì•„ë‹ê¹Œ ì˜ˆìƒí•´ë´…ë‹ˆë‹¤.\n11ì¼ì°¨: ì´ë²¤íŠ¸ ì£¼ë„ ê°œë°œê³¼ ìŠ¤ë ˆë“œ í’€ 11ì¼ì°¨ ë¯¸ì…˜ì€ ì§ ê°œì„ ì„ í•˜ê¸° ìœ„í•œ ê°œì¸ ê²°ê³¼ë¥¼ ë§Œë“œëŠ” ê³¼ì •ì´ì—ˆìŠµë‹ˆë‹¤.\në¯¸ì…˜ì˜ ìš”êµ¬ì‚¬í•­ì„ ë‚˜ë¦„ëŒ€ë¡œ í•´ì„í•´ë³´ë©´, ì´ë²¤íŠ¸ ì£¼ë„ ì„¤ê³„ë¥¼ í†µí•´ ì´ë²¤íŠ¸ ë°œìƒì‹œ ì‘ì—…ì„ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰í•˜ê³ , í•´ë‹¹ ì‘ì—…ì„ ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•´ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•˜ëŠ” ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.\nì´ë²¤íŠ¸ ì£¼ë„ ì„¤ê³„\nì €ë²ˆì£¼ ë¯¸ì…˜ì„ í†µí•´ ì´ë²¤íŠ¸ ì£¼ë„ ì„¤ê³„ì— ì–´ëŠì •ë„ ê°ì„ ì¡ì•˜ë‹¤ê³  ìƒê°í–ˆì—ˆëŠ”ë°, ìš”êµ¬ì‚¬í•­ì´ í›¨ì”¬ ë³µì¡í•´ì§€ë‹ˆ ì •ì‹ ì„ ëª»ì°¨ë¦¬ê²Œ ë˜ë”êµ°ìš” ì•ˆ ì¢‹ì€ ì»¨ë””ì…˜ ë•Œë¬¸ì¸ì§€ ë” ê·¸ë¬ë˜ ê²ƒ ê°™ì•„ìš” ğŸ¥²\ní•˜ì§€ë§Œ ê³¼ì œë¥¼ ë§ˆë¬´ë¦¬í•  ë•Œ ì¯¤ì—ëŠ” ì´ë²¤íŠ¸ì™€ ë”ìš± ì¹œí•´ì¡Œë‹¤ëŠ” ëŠë‚Œì„ ë°›ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\ní…ŒìŠ¤íŠ¸ ì½”ë“œ\nì œ ì„¤ê³„ëŠ” ì‘ì—…ë“¤ì´ ì´ë²¤íŠ¸ë¥¼ ì—°ì‡„ì ìœ¼ë¡œ ë°œìƒì‹œì¼œ ì‹¤í–‰ë˜ëŠ” êµ¬ì¡°ì˜€ëŠ”ë°, ì—°ì‡„ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ì‘ì—…ì˜ ìƒíƒœë“¤ì„ ì¶”ì í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì ìš©í•´ì•¼í•œë‹¤ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ì—°ì‡„ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì¼ë¶€ ì‘ì—…ì´ Private ë©”ì†Œë“œë¡œ ì‹¤í–‰ë˜ëŠ”í„°ë¼ ëª¨ë“  ì²˜ë¦¬ íë¦„ì—ì„œì˜ ìƒíƒœ ë³€í™” ì¶”ì í•  ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ë°©ë²•ì´ ë– ì˜¤ë¥´ì§€ ì•Šë”êµ°ìš”\u0026hellip;\nì´ì— ë”°ë¼, ì´ë²¤íŠ¸ë¡œ ì²˜ë¦¬ë˜ëŠ” íë¦„ì—ì„œì˜ ëª¨ë“  ìƒíƒœ ë³€í™”ë¥¼ ê²€ì¦í•˜ì§€ëŠ” ëª»í–ˆìŠµë‹ˆë‹¤.\n(ê°œì„  ë°©ë²•ì€ ì•„ë˜ì— ë‚˜ì˜µë‹ˆë‹¤! ëê¹Œì§€ ë´ì£¼ì„¸ìš”ğŸ˜)\nìŠ¤ë ˆë“œ\nì´ë²¤íŠ¸ íë¦„ìœ¼ë¡œ ì‹¤í–‰ ë  ë§ˆì§€ë§‰ ì‘ì—…ì„ JSì˜ worker-thread(ì´í•˜ WT)ë¥¼ í†µí•´ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨ë˜ì—ˆì§€ë§Œ, WTë¥¼ ë¬´í•œì • ìƒì„±í• ìˆ˜ëŠ” ì—†ë‹¤ê³  íŒë‹¨í–ˆê¸° ë•Œë¬¸ì— WT Poolì„ êµ¬í˜„í•  í•„ìš”ì„±ì„ ëŠê¼ˆìŠµë‹ˆë‹¤.\nì‹œê°„ì´ ë¶€ì¡±í–ˆë˜ ì´ìœ ë„ ìˆì§€ë§Œ ì›Œì»¤ë¥¼ ì ì ˆíˆ ë§Œë“¤ê³  ë°°ë¶„í•  ì¢‹ì€ ë°©ë²•ì´ ë– ì˜¤ë¥´ì§€ ì•Šì•„, ê²°ê³¼ì ìœ¼ë¡œ ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•œ ì²˜ë¦¬ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ëŒ€ì²´í•˜ì—¬ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.\n12ì¼ì°¨: ì§ ê°œì„  - ê°™ì´ ê°œì„ í•˜ê¸° ì§ ê°œì„ ì€ 11ì¼ì°¨ì— ë§Œë“  ìì‹ ì˜ ê²°ê³¼ë¬¼ ì¤‘ ê°œì„ í•  ë¶€ë¶„ì„ ì°¾ì•„ ì„ ì •í•˜ê³ , ì§ê³¼ í•¨ê»˜ ì„ ì •í•œ ë¶€ë¶„ì„ ê°œì„ í•˜ëŠ” ê³¼ì •ì´ì—ˆìŠµë‹ˆë‹¤.\nê¸°ì¡´ ê²°ê³¼ì—ì„œ ìƒˆë¡œìš´ ê²ƒì„ ì¶”ê°€í•˜ì§€ ì•Šê³  ê°œì„ í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì§„í–‰í•˜ë¼ëŠ” ì§€ì¹¨ì´ ìˆì–´, ì €ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì½”ë“œ êµ¬ì¡° ì¼ë¶€ ê°œì„ ê³¼ í…ŒìŠ¤íŠ¸ ì¶”ê°€, ì§ì€ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ë¥¼ ìœ„í•œ êµ¬ì¡° ê°œì„ ì„ ê°œì„  ëª©í‘œë¡œ ì„ ì •í–ˆìŠµë‹ˆë‹¤.\nì €í¬ í˜ì–´ëŠ” ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê°œì„  ê³¼ì •ì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.\nì§ì—ê²Œ ì™œ ì´ëŸ¬í•œ ë¶€ë¶„ì„ ê°œì„ í•˜ë ¤ê³  í•˜ëŠ” ì§€ ì„¤ëª… ê·¸ ì´ìœ ì— ë§ì¶° ê°ìì˜ ê´€ì ì—ì„œ ë¬¸ì œë¥¼ í•´ì„ ì˜ê²¬ êµí™˜ì„ í†µí•´ ë¬¸ì œ ì¬êµ¬ì¡°í™” ì„¸ë¶€ êµ¬í˜„ì„ ë³´ë©° ì˜ê²¬ êµí™˜ ë° ìˆ˜ì • ë‚˜ì˜ ê°œì„ : í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ êµ¬ì¡° ê°œì„ \n11ì¼ì°¨ ë¯¸ì…˜ì—ì„œ ì–´ë ¤ì› ë˜ ì ìœ¼ë¡œ ì–¸ê¸‰í–ˆë˜ ë¶€ë¶„ì¸ ì´ë²¤íŠ¸ê°€ ì—°ì‡„ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” êµ¬ì¡°ë¡œ ì¸í•œ ìƒíƒœ ë³€í™” ì¶”ì  í…ŒìŠ¤íŠ¸ì˜ ê°œì„ ì„ ìœ„í•´ í˜¸ì¶œ êµ¬ì¡°ë¥¼ ì•½ê°„ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  Jestì˜ SpyOnì„ í™œìš©í•˜ì—¬ ì´ë²¤íŠ¸ ë°œìƒì‹œ íŠ¹ì • í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ”ì§€ í™•ì¸í•˜ê³ , í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ê°€ ìƒíƒœë¥¼ ì ì ˆíˆ ë³€ê²½í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤.\nì§ì˜ ê°œì„ : ê´€ì‹¬ì‚¬ ë¶„ë¦¬ë¥¼ ìœ„í•œ êµ¬ì¡° ê°œì„ \ní”¼ì–´ ì„¸ì…˜ì—ì„œ ë‹¤ë¥¸ ë¶„ë“¤ì— ì‘ì—… ê²°ê³¼ë¥¼ ë³´ë©° íŠ¹ì • í´ë˜ìŠ¤ê°€ ë„ˆë¬´ ë§ì€ ì±…ì„ì„ ê°€ì§€ê³ ìˆë‹¤ê³  íŒë‹¨í•˜ì…¨ê³ , ì´ë¥¼ í•¨ê»˜ ê°œì„ í•˜ì˜€ìŠµë‹ˆë‹¤.\ní´ë˜ìŠ¤ì˜ íŠ¹ì • ê´€ì‹¬ì‚¬ë¥¼ ë¬¶ì–´ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ê³ , ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì•¼í•˜ëŠ” ë¶€ë¶„ì„ ì´ë²¤íŠ¸ë¡œ ì²˜ë¦¬í•˜ê²Œ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.\nì´ ê³¼ì •ì—ì„œ ì—°ì‡„ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ë¶€ë¶„ì´ ì´ì „ í´ë˜ìŠ¤ì™€ ê°•í•œ ê²°í•©ì´ ë‚¨ì•„ìˆì–´ ê°™ì´ ê³ ë¯¼í•˜ê²Œ ë˜ì—ˆëŠ”ë°, ì œê°€ ì½œë°± í•¨ìˆ˜ë¥¼ ë„˜ê¸°ëŠ” ë©”ì„œë“œë¥¼ ì œì•ˆí•˜ì˜€ê³  ì´ë¥¼ ë°˜ì˜í•˜ì˜€ìŠµë‹ˆë‹¤.\nì €ì˜ ì˜ê²¬ìœ¼ë¡œ ê³ ë¯¼ë˜ì—ˆë˜ ë¶€ë¶„ì„ ê°œì„ í•  ìˆ˜ ìˆì–´ ë¿Œë“¯í–ˆë„¤ìš”ğŸ˜\n13ì¼ì°¨: ì§ êµ¬í˜„ - í˜ì–´ í”„ë¡œê·¸ë˜ë° 13ì¼ì°¨ì—ëŠ” ë¶„ì‚° ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œì¸ Gitì„ ì™„ë²½í•˜ê²Œ ì´í•´í•´ì•¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë¯¸ì…˜ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\në˜í•œ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ í†µí•´ ì£¼ì–´ì§„ ë¯¸ì…˜ì„ í•´ê²°í•´ì•¼í•˜ëŠ” ì¡°ê±´ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\nìƒˆë¡­ê²Œ ë°°ì •ëœ ì§ê³¼ ì–´ë–»ê²Œ ë¯¸ì…˜ì„ ìˆ˜í–‰í• ì§€ í˜‘ì˜í–ˆê³ , ê²°ê³¼ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ íë¦„ìœ¼ë¡œ ë¯¸ì…˜ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.\nê°ì ë¯¸ì…˜ í•´ê²°ì„ ìœ„í•´ í•„ìš”í•œ ë‚´ìš©ë“¤ í•™ìŠµ í•¨ê»˜ ìš”êµ¬ì‚¬í•­ ë¶„ì„ í•¨ê»˜ ì„¤ê³„ í•¨ê»˜ êµ¬í˜„ ë°”ë¡œ ë§Œë‚˜ì„œ í•™ìŠµë¶€í„° ê°™ì´ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê°ì ê´€ë ¨ ë‚´ìš©ì— ëŒ€í•´ ì¶©ë¶„íˆ í•™ìŠµí•œ í›„ ë¯¸ì…˜ ìˆ˜í–‰ì„ ì‹œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.\nì§€ë‚œì£¼ì— í–ˆë˜ ë°©ë²•ê³¼ ìœ ì‚¬í•˜ê²Œ VSCodeì˜ Live shareë¥¼ í†µí•´ í˜ì–´ í”„ë¡œê·¸ë˜ë°ì„ ì§„í–‰í•˜ì˜€ê³ , ê°œë°œ ì „ ì¶©ë¶„í•œ ë¶„ì„ê³¼ ì„¤ê³„ë¥¼ ìœ„í•´ mermaid ë¥¼ ì ê·¹ì ìœ¼ë¡œ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤.\nì´ì „ê¹Œì§€ëŠ” ì£¼ë¡œ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì„ ì£¼ë¡œ í™œìš©í–ˆì—ˆëŠ”ë°, ì§ì´ ì„ í˜¸í•˜ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ ì‹œë„í•œ ê²ƒë„ ìƒˆë¡œìš´ ì‹œë„ì˜€ë„¤ìš”ğŸ˜Š\nì´ì— ë”°ë¼ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ëª¨ë“ˆë¡œ ë¬¶ì–´ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.\nTDDì™€ ì• ìì¼ìŠ¤ëŸ¬ìš´ ê°œë°œ\nì§ì—ê²Œ ì• ìì¼ìŠ¤ëŸ¬ìš´ ê°œë°œê³¼ TDDë¥¼ ì œì•ˆí•˜ì—¬ ì‹œë„í–ˆìŠµë‹ˆë‹¤.\nì•„ì‰½ê²Œë„ ì €ë„ ì´ëŸ¬í•œ ë°©ì‹ì— ì™„ì „íˆ ì ì‘ëœ ìƒíƒœëŠ” ì•„ë‹ˆì—ˆê³ , ì§ë„ ë¶ˆí¸í•¨ì„ ëŠë¼ê³  ìˆë‹¤ëŠ” ê²ƒì´ ì‘ì—… íš¨ìœ¨ì´ ë–¨ì–´ì§€ëŠ” ê²ƒìœ¼ë¡œ ëŠë‚„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ì§ì´ í¸í•´í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì „í™˜ë˜ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\níŒŒì¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸\níŒŒì¼ê³¼ ë””ë ‰í„°ë¦¬ë¥¼ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\ní…ŒìŠ¤íŠ¸ ê³¼ì •ì—ì„œ ì‹¤ì œ íŒŒì¼ê³¼ ë””ë ‰í„°ë¦¬ë¥¼ ìƒì„±í•˜ì—¬ ì‘ì—…í•˜ëŠ” ê²ƒì´ ì ì ˆì¹˜ ì•Šë‹¤ê³  íŒë‹¨í•˜ì—¬ ì´ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì°¾ê²Œ ë˜ì—ˆê³ ,mock-fsë¥¼ ì°¾ì•„ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ\u0026hellip; Node v20 í™˜ê²½ì—ì„œ fsì˜ ëª¨ë“  íŒŒì¼ ì“°ê¸° ê°€ ëª¨í‚¹í•œ ê°€ìƒ ë””ë ‰í„°ë¦¬ì— ìƒì„±ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì‹¤ì œ ë””ë ‰í„°ë¦¬ì— ìƒì„±í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\níŒŒì¼ì„ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” ë¶€ë¶„ì´ ë¯¸ì…˜ì—ì„œ êµ‰ì¥íˆ ì¤‘ìš”í•œ ë¶€ë¶„ì´ì—ˆê¸° ë•Œë¬¸ì— ì–´ë–»ê²Œë“  í•´ê²°í•´ë³´ë ¤í–ˆì§€ë§Œ ì‹œê°„ì´ ë§ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, ì´ë•Œ ë¶€í„° í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•Šê³  ê°œë°œì„ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë„¤ìš”ğŸ¥²\nì „ì£¼ì™€ ë‹¤ë¥´ê²Œ ì§ì—ê²Œ í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ê¸ì •ì ì¸ ì¸ì‹ì„ ì‹¬ì–´ì£¼ì§€ ëª»í•œ ê²ƒ ê°™ì•„ ë§ì´ ì•„ì‰¬ì› ì§€ë§Œ ë‹¤ìŒì— ì´ëŸ¬í•œ ìƒí™©ì´ ë°œìƒí•œë‹¤ë©´ ë¹ ë¥´ê²Œ ê²°ì •ì„ ë‚´ë ¤ TDDë¥¼ ëê¹Œì§€ ì´ì–´ë‚˜ê°€ì•¼ê² ë‹¤ê³  ë‹¤ì§ í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤ğŸ‘Š\n14ì¼ì°¨: ê°ì ê°œì„ í•˜ê¸° 13ì¼ì°¨ì— ì§ê³¼ ë§Œë“  ê²°ê³¼ë¬¼ì„ ê°ìì˜ ë°©ì‹ìœ¼ë¡œ ê°œì„ í•˜ëŠ” ê³¼ì •ì´ì—ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ë‹¨ê³„ë¥¼ ë§Œë“  ì´ìœ ë¥¼ ì˜ˆìƒí•´ë³´ìë©´\u0026hellip; ê°™ì´ ê³ ë¯¼í•˜ì—¬ ë§Œë“  ê²°ê³¼ë¬¼ì´ì§€ë§Œ, ê°ìì˜ ë°©ë²•ìœ¼ë¡œ ê°œì„ ëœ ê²°ê³¼ë¥¼ ë³´ë©° ì–´ë– í•œ ìƒê°ì˜ ì°¨ì´ë¥¼ ê°€ì§€ê³ ìˆëŠ”ì§€ í™•ì¸í•´ë³¼ë¼ëŠ” ì˜ë„ ê°™ì•˜ìŠµë‹ˆë‹¤.\n12ì¼ì°¨ ê°™ì´ ê°œì„ í•˜ê¸°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìƒˆë¡œìš´ ê²ƒì„ ì¶”ê°€í•˜ëŠ” ê²ƒ ë³´ë‹¤ëŠ” ê¸°ì¡´ êµ¬í˜„ì—ì„œ ê°œì„ í•´ë³´ë¼ëŠ” ì§€ì¹¨ì´ ìˆì–´ ê¸°ì¡´ ê²°ê³¼ì—ì„œ ë¬¸ì œì ì´ë¼ê³  ìƒê°í–ˆë˜ ë¶€ë¶„ì„ ê°œì„ í•˜ì˜€ìŠµë‹ˆë‹¤.\në‚˜ì˜ ê°œì„ : ì½”ë“œ êµ¬ì¡° ê°œì„ \n13ì¼ì°¨ì˜ ë¯¸ì…˜ì„ ìˆ˜í–‰í•  ë•Œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ê°ê° ë‚˜ëˆ„ì–´ ê°œë°œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\nêµ¬í˜„ ê³¼ì •ì—ì„œ TDDë¡œ ì‹œì‘í–ˆì§€ë§Œ ê²°êµ­ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•Šê²Œ ë˜ì—ˆì—ˆëŠ”ë°, ì´ìœ  ì¤‘ í•˜ë‚˜ê°€ ëª¨ë“  ê¸°ëŠ¥ì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆë˜ íŒŒì¼ ì‹œìŠ¤í…œê³¼ì˜ ê²°í•©ì„ ì ì ˆíˆ ë¶„ë¦¬í•˜ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì´ë¼ëŠ” ìƒê°ì„ í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.\níŒŒì¼ì‹œìŠ¤í…œì„ í†µí•´ íŒŒì¼ê³¼ ë””ë ‰í„°ë¦¬ë¥¼ ë‹¤ë£¨ëŠ” ë¶€ë¶„ì„ ì™„ë²½íˆ ë¶„ë¦¬í•œë‹¤ë©´, ë‹¤ë¥¸ ì£¼ìš” ë¡œì§ë“¤ì€ íŒŒì¼ ì‹œìŠ¤í…œì„ ì´ìš©í•´ì•¼í•˜ëŠ” ë°ì´í„°ë¥¼ ì—”í‹°í‹°ë¡œ ì·¨ê¸‰í•˜ì—¬ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\nê·¸ë ‡ë‹¤ë©´ íŒŒì¼ì‹œìŠ¤í…œ ê´€ë ¨ í…ŒìŠ¤íŠ¸ë§Œ ë°°ì œí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì²˜ë¦¬ì—ì„œëŠ” TDDë¥¼ ì§€ì†í•  ìˆ˜ ìˆì—ˆì§€ ì•Šì•˜ì„ê¹Œ? í•˜ê³  ë§ì´ì£ \nê·¸ë˜ì„œ FileSystemì´ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ë³„ë„ë¡œ êµ¬í˜„í•˜ì—¬ íŒŒì¼ì— ê´€í•œ ëª¨ë“  ì±…ì„ì„ ë‹´ë‹¹í•˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.\në˜í•œ íŒŒì¼ë¡œ í•¸ë“¤ë§ í•´ì•¼í•˜ëŠ” ë°ì´í„°ë¥¼ ì •ì˜í•˜ì—¬ ì—”í‹°í‹°ì²˜ëŸ¼ í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.\nì¶”ê°€ì ìœ¼ë¡œ ì£¼ìš” ì²˜ë¦¬ íë¦„ì„ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•´ FileSystemì„ ì£¼ì…í•˜ì—¬ ë°ì´í„°ì˜ ì²˜ë¦¬ íë¦„ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ë³€ê²½ì„ í†µí•´ ê°€ë…ì„±ì„ ë†’íˆëŠ” ê²ƒì€ ë¬¼ë¡ , ê¸°ì¡´ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ì½”ë“œì˜ í¬ê¸°ë¥¼ íšê¸°ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nmock-fs\nì“°ê¸° ì‘ì—…ì—ì„œì˜ ì´ìŠˆë¡œ ì¸í•´ ì œëŒ€ë¡œ í™œìš©í•˜ì§€ ëª»í–ˆë˜ mock-fsê°€ ì‹ ê²½ì“°ì—¬ ì ì´ ì•ˆì˜¤ë”ë¼êµ¬ìš”ğŸ˜‚\nì´ì— ë‹¤ì–‘í•œ ë°©ë²•ë“¤ì„ ì‹œë„í–ˆì§€ë§Œ ê²°êµ­ í•´ê²°í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ë‹¤ë¥¸ ì–¸ì–´ì—ì„œë„ íŒŒì¼ ì‹œìŠ¤í…œì„ í™œìš©í•œ ê¸°ëŠ¥ë“¤ì„ í…ŒìŠ¤íŠ¸ í•´ì•¼í• í…ë° ì–´ë–¤ ë°©ë²•ë“¤ì„ í™œìš©í•˜ê³ ìˆì„ê¹Œ ì°¾ì•„ë³´ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\ní•´ê²° ë°©ë²•ì€ ë‹¨ìˆœí–ˆë”ë¼êµ¬ìš”..ğŸ¥²\nê·¸ëƒ¥ íŒŒì¼ ì²˜ë¦¬ë¥¼ í…ŒìŠ¤íŠ¸í•  ë””ë ‰í„°ë¦¬ë¥¼ ë”°ë¡œ ë§Œë“¤ê³ , ê·¸ ë””ë ‰í„°ë¦¬ì—ì„œë§Œ í™•ì¸í•˜ëŠ” ê²ƒ ì´ì—ˆìŠµë‹ˆë‹¤.\ní…ŒìŠ¤íŠ¸ ë””ë ‰í„°ë¦¬ë¥¼ êµ¬ì„±í•œ í›„ .gitignoreë¡œ í•´ë‹¹ ë””ë ‰í„°ë¦¬ë¥¼ ì•ˆ ì˜¬ë¼ê°€ê²Œ ë§Œë“¤ë©´ ë˜ì—ˆë˜ê±´ë°\u0026hellip; mock-fsì— ë„ˆë¬´ ì§‘ì°©í•œ íƒ“ì— ì¶©ë¶„íˆ ìƒê°í•´ë³¼ ìˆ˜ ìˆëŠ” ë‹¨ìˆœí•œ ë°©ë²•ë„ ê³ ë ¤í•˜ì§€ ëª»í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì´ ì¼ì„ ê³„ê¸°ë¡œ ì¡°ê¸ˆ ë” ì—¬ìœ ë¥¼ ê°€ì§€ê³  ë¬¸ì œë¥¼ ë°”ë¼ë´ì•¼ê² ë‹¤ëŠ” ë‹¤ì§ì„ í•´ë´…ë‹ˆë‹¤.ğŸ”¥\në§ˆë¬´ë¦¬ ì´ë²ˆì£¼ëŠ” ê°œì¸ì ìœ¼ë¡œ ì»¨ë””ì…˜ì´ ë§ì´ ì•ˆì¢‹ì•˜ì–´ì„œ ê·¸ë§Œí¼ ê²°ê³¼ë¬¼ë„ ì¢‹ì§€ ì•Šì•˜ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì²«ì£¼ì˜ ê°ì˜¤ì²˜ëŸ¼ ê²°ê³¼ë¬¼ì„ í†µí•´ì„œ ì¸ì‚¬ì´íŠ¸ë¥¼ ë“œë¦¬ê³  ì‹¶ì—ˆëŠ”ë° ì¡°ê¸ˆ ì•„ì‰¬ì› ì–´ìš”. ê·¸ë˜ë„ ë‹¤ìŒì£¼ì—ëŠ” ì—ì–´ì»¨ì´ ìˆ˜ë¦¬ë©ë‹ˆë‹¤.\ní•˜ì§€ë§Œ ê·¸ë¬ê¸° ë•Œë¬¸ì— ê°œì„ í•˜ê¸°ì— ë”ìš± ë§ì€ ë³€í™”ë¥¼ ë³´ì—¬ë“œë¦´ ìˆ˜ ìˆì—ˆì„ì§€ë„ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.\ní•œ ì£¼ê°„ ëª¨ë‘ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤. ë¶€ìº  ì±Œë¦°ì§€ë„ 1ì£¼ë°–ì— ë‚¨ì§€ ì•Šì•˜ë„¤ìš”! ë§ˆì§€ë§‰ê¹Œì§€ í™”ì´íŒ…í•´ë´ìš”ğŸ”¥ğŸ”¥ğŸ”¥\n","date":"2024-08-03T11:22:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/challenge/3/cover_hu19d27c1827c5e9fb407a4e610db031e0_130036_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/challenge/3/","title":"ì±Œë¦°ì§€ ê³¼ì • 3ì£¼ì°¨ íšŒê³ "},{"content":"Gitì€ ë¶„ì‚°í˜• ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(Distributed Version Control System, DVCS)ìœ¼ë¡œ, ì†ŒìŠ¤ ì½”ë“œì™€ íŒŒì¼ì˜ ë³€ê²½ ì´ë ¥ì„ ê´€ë¦¬í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.\nGitì„ í™œìš©í•˜ë ¤ë©´ ì›í•˜ëŠ” ë””ë ‰í† ë¦¬ ê²½ë¡œì— git init ëª…ë ¹ì„ ì‹¤í–‰í•˜ê²Œë˜ëŠ”ë°, ì´ë•Œ .git ë””ë ‰í† ë¦¬ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.\nì´ ë•Œ ë§Œë“¤ì–´ì§€ëŠ” .git ë””ë ‰í† ë¦¬ëŠ” ì €ì¥ì†Œ(repository)ì˜ ë©”íƒ€ë°ì´í„°ì™€ Git ê°ì²´ë“¤ì„ ì €ì¥í•˜ëŠ” ì¥ì†Œì´ë©°, ê·¸ ì¤‘ Git ê°ì²´ëŠ” ì €ì¥ì†Œì˜ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê³  ì¶”ì í•˜ëŠ”ë° í•µì‹¬ì…ë‹ˆë‹¤.\nGitì€ Git ê°ì²´ì™€ ì›Œí‚¹ ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ë“¤ì„ ê¸°ì¤€ìœ¼ë¡œ ë³€ê²½ì„ ê°ì§€í•˜ê³ , Git ê°ì²´ì˜ ì •ë³´ë¥¼ í†µí•´ ì½”ë“œì˜ ë²„ì „ë“¤ì„ ê´€ë¦¬í•˜ê³  ì¶”ì í•˜ê²Œë©ë‹ˆë‹¤.\nì´ë¥¼ ì¡°ê¸ˆ ë” ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nGit ê°ì²´ .git ë””ë ‰í† ë¦¬ ì•„ë˜ì— ìˆëŠ” /objects ë””ë ‰í† ë¦¬ì— íŒŒì¼ë¡œ ì €ì¥ë˜ëŠ” Git ê°ì²´ëŠ” Gitì˜ í•µì‹¬ìœ¼ë¡œ, ëª¨ë“  ë°ì´í„°ì˜ ë‚´ìš©ê³¼ ì‹¤ì œ ì €ì¥ ìœ„ì¹˜ë¥¼ ì˜ë¯¸í•˜ê²Œ ë©ë‹ˆë‹¤.\nì‹¤ì œ /objectsì˜ ê²½ë¡œë¥¼ í™•ì¸í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 /objects â”œâ”€â”€ 0d â”‚Â â””â”€â”€ df0ae059b771e502af67931f9f8a4a17632661 â”œâ”€â”€ 24 â”‚Â â””â”€â”€ 643cc37449b4bde54411a80b8ed61258225e34 â”œâ”€â”€ 35 â”‚Â â””â”€â”€ eb1ddfbbc029bcab630581847471d7f238ec53 â”œâ”€â”€ 6c â”‚Â â””â”€â”€ 435e543633035641c810e97681b078d627a946 â”œâ”€â”€ a6 â”‚Â â””â”€â”€ d422786b4daf0d8cbd7466a02e4a4fa9fd8570 â”œâ”€â”€ b1 â”‚Â â””â”€â”€ 7d46df496e1a6aef89fc6d67937a2ba47b5d33 â”œâ”€â”€ info â””â”€â”€ pack â”œâ”€â”€ pack-15a971ce7fbb8c9997e7e167347a23bbfe438d71.idx â””â”€â”€ pack-15a971ce7fbb8c9997e7e167347a23bbfe438d71.pack íŒŒì¼ì˜ ê²½ë¡œê°€ 2ê¸€ìë¡œ ì‹œì‘í•˜ëŠ” ë””ë ‰í† ë¦¬ ì•„ë˜ì— ë¶ˆíŠ¹ì •í•œ 38ì ì´ë¦„ì„ ê°€ì§„ íŒŒì¼ì´ ì €ì¥ë˜ì–´ìˆëŠ”ë°, ì´ ì €ì¥ëœ íŒŒì¼ì´ Git ê°ì²´ì…ë‹ˆë‹¤.\nGit ê°ì²´ì˜ ì´ë¦„ ìƒíƒœê°€\u0026hellip;? ì €ì¥ë˜ëŠ” íŒŒì¼ ì´ë¦„ì„ ë³´ì‹œë©´ ì–´ëŠì •ë„ ëˆˆì¹˜ ì±„ì…¨ì„ ê²ƒ ê°™ì€ë°ìš”.\nGit ê°ì²´ê°€ ìœ„ì¹˜ì™€ ì´ë¦„ì€ ì´ 40ì, 16ì§„ìˆ˜ ë¬¸ìì—´ë¡œ íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©ì„ SHA-1 í•¨ìˆ˜ë¡œ í•´ì‹±í•œ ê²°ê³¼ì…ë‹ˆë‹¤.\nì´ë¡œì¸í•´ íŒŒì¼ ë‚´ìš©ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•¨ì€ ë¬¼ë¡  íŒŒì¼ì„ ê±°ì˜ ìœ ì¼í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní•´ì‹œê°’ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” íŒŒì¼ì˜ ë‚´ìš©ì´ ë³€ê²½ë˜ë©´ ì•„ì˜ˆ ë‹¤ë¥¸ ê²°ê³¼ê°€ ë°˜í™˜ë˜ëŠ” í•´ì‹œ í•¨ìˆ˜ì˜ íŠ¹ì§•ì„ í™œìš©í•´ íŒŒì¼ì˜ ë³€ê²½ì„ ê°„í¸í•˜ê²Œ í™•ì¸í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.\níŒŒì¼ ë‚´ìš©ì´ e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 í•´ì‹œ ê°’ì„ ê°€ì§„ë‹¤ë©´, .git/objects/e6/9de29bb2d1d6434b8b29ae775ad8c2e48c5391ì— ì €ì¥ë©ë‹ˆë‹¤.\nì•ì— 2ìë¥¼ ë¶„ë¦¬í•´ êµ³ì´ ë””ë ‰í† ë¦¬ë¡œ ë§Œë“  ì´ìœ ëŠ” 2ê°€ì§€ ì •ë„ë¡œ í™•ì¸ë©ë‹ˆë‹¤.\nì„±ëŠ¥ ìµœì í™” í•œ ë””ë ‰í† ë¦¬ ë‚´ì— ë„ˆë¬´ ë§ì€ íŒŒì¼ì„ ì €ì¥í•˜ë©´ ì„±ëŠ¥ì´ ì €í•˜ë¨ ìˆ˜ì²œ ê°œ ë˜ëŠ” ìˆ˜ì‹­ë§Œ ê°œ íŒŒì¼ì„ í•˜ë‚˜ì˜ ë””ë ‰í† ë¦¬ì— ì €ì¥í•˜ë©´ ê²€ìƒ‰, íŒŒì¼ ìƒì„± ë° ì ‘ê·¼ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŒ ê°ì²´ë“¤ì„ ê³ ë¥´ê²Œ ë¶„ì‚°í•˜ì—¬ ì €ì¥í•  ìˆ˜ ìˆì–´ ì„±ëŠ¥ ì €í•˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŒ ê´€ë¦¬ ìš©ì´ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¡œ ë‚˜ëˆ”ìœ¼ë¡œì¨ ê°ì²´ íŒŒì¼ì„ ê´€ë¦¬í•˜ê³  íƒìƒ‰í•˜ëŠ” ê²ƒì´ ë” ì‰¬ì›Œì§(2ìë¡œ ë””ë ‰í„°ë¦¬ë¥¼ ë°”ë¡œ ì°¾ì„ ìˆ˜ ìˆìŒ) ë‚´ìš©ë¬¼ì€? ë¬¸ì„œ í˜¹ì€ íŒŒì¼ì˜ ë‚´ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” í•´ì‹œê°’ì„ ê²½ë¡œë¡œ ì €ì¥ë˜ëŠ” Git ê°ì²´ íŒŒì¼ì—ëŠ” í•´ì‹œê°’ì„ ë§Œë“œëŠ”ë° ì‚¬ìš©í•˜ê¸°ë„ í–ˆë˜ íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©ì„ ì••ì¶•í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.\nGit ê°ì²´ì˜ ì¢…ë¥˜ Git ê°ì²´ëŠ” 3ê°€ì§€ ìœ í˜•ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\níŒŒì¼ì˜ ì €ì¥ ê²½ë¡œì™€ íŒŒì¼ì˜ ë‚´ìš©ì€ ëª¨ë‘ ìœ„ì™€ ë™ì¼í•˜ê²Œ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. ë¸”ë¡­(Blob)\níŒŒì¼ì˜ ë‚´ìš© ìì²´ë¥¼ ì €ì¥ íŒŒì¼ì˜ ì´ë¦„ì´ë‚˜ ë©”íƒ€ë°ì´í„°ëŠ” ì €ì¥í•˜ì§€ ì•Šê³  íŒŒì¼ì˜ ì›ë³¸ ë‚´ìš©ë§Œ ì €ì¥í•¨ ë¸”ë¡­ ìœ í˜•ì˜ íŒŒì¼ì€ ë°ì´í„° ì›ë³¸ì˜ ë‚´ìš©ë§Œì„ ì••ì¶•í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.\nì••ì¶•í•˜ì—¬ ì €ì¥ëœ ì›ë³¸ ë°ì´í„°ëŠ” ë³µêµ¬ ë“±ì˜ ì²˜ë¦¬ì—ì„œ í™œìš©ë©ë‹ˆë‹¤.\níŠ¸ë¦¬(Tree)\në””ë ‰í„°ë¦¬ì˜ êµ¬ì¡°ë¥¼ ì €ì¥ ë””ë ‰í„°ë¦¬ì˜ íŒŒì¼ ë° í•˜ìœ„ ë””ë ‰í„°ë¦¬ì™€ ê·¸ì— ëŒ€í•œ ë¸”ë¡­ ê°ì²´ ê°ì²´ì˜ ì°¸ì¡°ë¥¼ í¬í•¨(íŠ¸ë¦¬ëŠ” ë¸”ë¡­ê³¼ ë˜ ë‹¤ë¥¸ íŠ¸ë¦¬ë¡œ êµ¬ì„±ë¨) íŠ¸ë¦¬ ê°ì²´ë¥¼ í†µí•´ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\níŠ¸ë¦¬ ê°ì²´ê°€ ì˜ë¯¸í•˜ëŠ” ë””ë ‰í† ë¦¬ì˜ ì¡´ì¬í•˜ëŠ” ëª¨ë“  íŒŒì¼, ë””ë ‰í† ë¦¬ë“¤ì˜ ê²½ë¡œ(íŒŒì¼ ì£¼ì†Œ)ë¥¼ Git ê°ì²´ì˜ ê°’ìœ¼ë¡œ ì••ì¶•í•˜ì—¬ ì €ì¥í•˜ê²Œ ë©ë‹ˆë‹¤.\nì»¤ë°‹(Commit)\nì»¤ë°‹ ì •ë³´ë¥¼ ì €ì¥ ì»¤ë°‹ ë©”ì‹œì§€, ì‘ì„±ì, ë‚ ì§œ ë° ì»¤ë°‹ ì‹œì ì˜ íŠ¸ë¦¬ ê°ì²´ë¥¼ í¬í•¨ ì§ì „ ë£¨íŠ¸ íŠ¸ë¦¬ ê°ì²´ì˜ ì£¼ì†Œ(íŒŒì¼ ê²½ë¡œ), í˜„ì¬ ë£¨íŠ¸ íŠ¸ë¦¬ ê°ì²´ì˜ ì£¼ì†Œ(íŒŒì¼ ê²½ë¡œ)ì™€ ì»¤ë°‹ ë©”ì‹œì§€ ë“± ë©”íƒ€ë°ì´í„°ë¥¼ì´ ì••ì¶•ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.\ngit add git add ëª…ë ¹ì–´ëŠ” ì‘ì—… ë””ë ‰í† ë¦¬ì—ì„œ ë³€ê²½ëœ íŒŒì¼ë“¤ì„ ìŠ¤í…Œì´ì§• ì˜ì—­ì— ì¶”ê°€í•˜ì—¬ ë‹¤ìŒ ì»¤ë°‹ì— í¬í•¨ë  íŒŒì¼ë“¤ì„ ì¤€ë¹„í•˜ê²Œë©ë‹ˆë‹¤.\nì‘ì—… ë””ë ‰í† ë¦¬\nì‚¬ìš©ìê°€ ì‘ì—… ì¤‘ì¸ ì‹¤ì œ íŒŒì¼ë“¤ì´ ì¡´ì¬í•˜ëŠ” ë””ë ‰í† ë¦¬ ì¸ë±ìŠ¤(ìŠ¤í…Œì´ì§• ì˜ì—­)\nì»¤ë°‹ì„ ì¤€ë¹„í•˜ê¸° ìœ„í•´ ë³€ê²½ëœ íŒŒì¼ë“¤ì´ ì¶”ê°€ë˜ëŠ” ì˜ì—­ ì¸ë±ìŠ¤ëŠ” .git/index íŒŒì¼ì— ì €ì¥ë¨ ë¨¼ì € ë³€ê²½ëœ íŒŒì¼ë“¤ì„ ì–´ë–»ê²Œ ê´€ë¦¬í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\níŒŒì¼ì˜ ì¶”ì  ìƒíƒœ Gitì€ ì‘ì—… ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ì„ 4ê°€ì§€ ìƒíƒœë¡œ ì¶”ì , ê´€ë¦¬í•©ë‹ˆë‹¤.\nUnTracked: ì¶”ì ë˜ì§€ ì•ŠëŠ” íŒŒì¼ Gitì— ë“±ë¡ë˜ì§€ì•Šì•„ ì¶”ì ë˜ì§€ ì•ŠëŠ” ìƒíƒœ Gitì´ ë²„ì „ ê´€ë¦¬í•˜ê³  ìˆì§€ ì•Šì€ íŒŒì¼ ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼ì´ê±°ë‚˜, ì¶”ì ë˜ì§€ ì•Šë„ë¡ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •ëœ íŒŒì¼(.gitignore) Unmodified: ìˆ˜ì •ë˜ì§€ ì•Šì€ íŒŒì¼ Gitì´ ì¶”ì í•˜ê³  ìˆëŠ” íŒŒì¼ì´ì§€ë§Œ, ë§ˆì§€ë§‰ ì»¤ë°‹ ì´í›„ ë³€ê²½ë˜ì§€ ì•Šì€ ìƒíƒœ Modified: ìˆ˜ì •ëœ íŒŒì¼ Gitì´ ì¶”ì í•˜ê³  ìˆëŠ” íŒŒì¼ì´ì§€ë§Œ, ë§ˆì§€ë§‰ ì»¤ë°‹ ì´í›„ë¡œ íŒŒì¼ì˜ ë‚´ìš©ì´ ë³€ê²½ëœ ìƒíƒœ Staged: ìŠ¤í…Œì´ì§•ëœ íŒŒì¼ git add ëª…ë ¹ì„ í†µí•´ ìŠ¤í…Œì´ì§• ì˜ì—­ì— ì¶”ê°€ëœ ìƒíƒœ ë‹¤ìŒ ì»¤ë°‹ì— í¬í•¨ë  ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤ëŠ” ì˜ë¯¸ Untracked -\u0026gt; Staged\nGitìœ¼ë¡œ ê´€ë¦¬ë˜ê³  ìˆëŠ” í”„ë¡œì íŠ¸ì— ì²˜ìŒ ìƒì„±ëœ íŒŒì¼ì€ UnTracked ìƒíƒœì…ë‹ˆë‹¤. ì¦‰ Gitì´ ì¶”ì í•˜ê³  ìˆì§€ ì•Šì€ ìƒíƒœì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\ngit add ëª…ë ¹ì„ ìˆ˜í–‰í•˜ë©´ í•´ë‹¹ íŒŒì¼ì´ ìŠ¤íƒœì´ì§• ì˜ì—­ì— ì¶”ê°€ë˜ë©° Staged ìƒíƒœë¡œ ë³€ê²½ë©ë‹ˆë‹¤.\nUnmodified -\u0026gt; Modified\nGitì„ í†µí•´ ì¶”ì í•˜ê³  ìˆì§€ë§Œ, ë§ˆì§€ë§‰ ë³€ê²½ ì´í›„ ìˆ˜ì •ë˜ì§€ ì•Šì•˜ë‹¤ë©´ Unmodifed ìƒíƒœì…ë‹ˆë‹¤.\nUnmodifed ìƒíƒœì˜ íŒŒì¼ì— ë³€ê²½ì´ ë°œìƒí•˜ë©´(ì´ì „ê³¼ ë‹¤ë¥¸ ë¶€ë¶„ì´ ë°œìƒí•˜ë©´) Modifed ìƒíƒœê°€ ë©ë‹ˆë‹¤.\nModified -\u0026gt; Staged\nUnmodified ìƒíƒœì¸ íŒŒì¼ì— ë³€ê²½ì´ ë°œìƒí•˜ì—¬ Modifed ìƒíƒœê°€ ë˜ì—ˆì„ ë•Œ git add ëª…ë ¹ë¡œ ìŠ¤í…Œì´ì§• ì˜ì—­ì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n.gitì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ ì´ì œëŠ” .git ë‚´ë¶€ì— ì–´ë–¤ ì¼ë“¤ì´ ë°œìƒí•˜ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\në³€ê²½ëœ íŒŒì¼ì˜ í•´ì‹œ ê³„ì‚° git add ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ë©´, Gitì€ í˜„ì¬ ì¸ë±ìŠ¤ íŒŒì¼(.git/index)ì˜ ê¸°ë¡ëœ ì •ë³´ë¥¼ í™œìš©í•˜ì—¬ ì‘ì—… ë””ë ‰í† ë¦¬ì—ì„œ ë³€ê²½ëœ íŒŒì¼ì˜ ë‚´ìš©ì„ ì°¾ì•„ ì½ìŠµë‹ˆë‹¤. Untracked, Modified ë³€ê²½ëœ íŒŒì¼ì˜ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ SHA-1 í•´ì‹œë¥¼ ê³„ì‚°í•˜ì—¬ ê³ ìœ í•œ í•´ì‹œ ê°’ì„ ìƒì„±í•©ë‹ˆë‹¤.(Git ê°ì²´ì˜ ì´ë¦„, ì €ì¥ë  ê²½ë¡œ) ê°ì²´ ìƒì„± ë° ì €ì¥ ìƒì„±ëœ í•´ì‹œê°’ì„ ì´ìš©í•˜ì—¬ íŒŒì¼ì˜ ë‚´ìš©ì„ Git ê°ì²´ë¡œ ì €ì¥í•©ë‹ˆë‹¤.(Blob) Blob ê°ì²´ëŠ” íŒŒì¼ì˜ ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¥¼ ë‹´ê³  ìˆìœ¼ë©°, .git/obects ë””ë ‰í† ë¦¬ì— ì €ì¥ ì €ì¥ ê²½ë¡œëŠ” í•´ì‹œê°’ì˜ ì²˜ìŒ ë‘ìë¦¬ë¥¼ ë””ë ‰í† ë¦¬ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , ë‚˜ë¨¸ì§€ 38ìë¦¬ë¥¼ íŒŒì¼ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì €ì¥ ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸ Blob ê°ì²´ê°€ ìƒì„±ë˜ê³  ì €ì¥ëœ í›„, Gitì€ ì¸ë±ìŠ¤ íŒŒì¼(.git/index)ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. íŒŒì¼ì˜ ëª¨ë“œ, í•´ì‹œ ê°’, íŒŒì¼ ì´ë¦„ ë“±ì„ ê¸°ë¡í•©ë‹ˆë‹¤. index index íŒŒì¼ì€ stage ì˜ì—­ì— ìˆëŠ” íŒŒì¼ë“¤ ì¦‰ ì‘ì—… ë””ë ‰í† ë¦¬ ë‚´ ì¶”ì ì¤‘ì¸ íŒŒì¼ì„ ì˜ë¯¸í•˜ë©°, ë‹¤ìŒ commitì— í¬í•¨ë  íŒŒì¼ì˜ ì •ë³´ë“¤ì„ ì˜ë¯¸í•˜ê²Œë©ë‹ˆë‹¤.\në§Œì•½ git init ëª…ë ¹ì„ ìˆ˜í–‰í•˜ê³  README.mdì™€ src/index.jsë¥¼ ì¶”ê°€í•œ í›„ git add ëª…ë ¹ì„ ìˆ˜í–‰í–ˆë‹¤ë©´ .git/index íŒŒì¼ì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •ë©ë‹ˆë‹¤.(í•´ì‹œ ê°’ì€ ì„ì˜ë¡œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.)\n1 2 100644 e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 0 README.md 100644 24643cc37449b4bde54411a80b8ed61258225e34 0 src/index.js ë„ì–´ì“°ê¸°ë¡œ êµ¬ë¶„ë˜ëŠ” ê° ìš”ì†ŒëŠ” íŒŒì¼ ëª¨ë“œ, í•´ì‹œê°’, ìŠ¤í…Œì´ì§€ ë²ˆí˜¸, íŒŒì¼ ê²½ë¡œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\nì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼í•  ì ì€ .git/indexì—ëŠ” Blob ê°ì²´ë§Œ ì €ì¥ëœë‹¤ëŠ” ì  ì…ë‹ˆë‹¤.\níŒŒì¼ ëª¨ë“œ\në§¨ ì•ì˜ 100644ëŠ” íŒŒì¼ ì‹ë³„ìë¡œ í”íˆ ì•Œë ¤ì§„ íŒŒì¼ì˜ ê¶Œí•œì„ í¬í•¨í•˜ê²Œë©ë‹ˆë‹¤.\nê·¸ ì—­í• ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nì½ê¸°, ì“°ê¸° íŒŒì¼(ë¸”ë¡­): 100644 (chmod 644) ì‹¤í–‰ íŒŒì¼(ë¸”ë¡­): 100755 (chmod 755) ë””ë ‰í„°ë¦¬(íŠ¸ë¦¬): 040000 .git/indexëŠ” Blob ê°ì²´ ì •ë³´ë§Œ ê´€ë¦¬í•˜ë¯€ë¡œ ì½ê¸° íŒŒì¼, ì‹¤í–‰ íŒŒì¼ë§Œ ì €ì¥ë©ë‹ˆë‹¤.\nTree ê°ì²´ë¥¼ ë¥¼ ì˜ë¯¸í•˜ëŠ” 040000ëŠ” ì´í›„ ì»¤ë°‹ì— í™œìš©ë©ë‹ˆë‹¤.\nìŠ¤í…Œì´ì§€ ë²ˆí˜¸\nìŠ¤í…Œì´ì§€ ë²ˆí˜¸ëŠ” ë³‘í•© ì¶©ëŒ ì‹œ ì‚¬ìš©ë˜ëŠ” í•„ë“œì…ë‹ˆë‹¤. íŒŒì¼ì´ ì •ìƒì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆì„ ë•ŒëŠ” 0 ì…ë‹ˆë‹¤.\n0: ê¸°ë³¸ ìŠ¤í…Œì´ì§€. ì¶©ëŒì´ ì—†ëŠ” íŒŒì¼ì´ ì—¬ê¸°ì— ìœ„ì¹˜í•©ë‹ˆë‹¤. 1: ê³µí†µ ì¡°ìƒ (ancestor) ë²„ì „. 2: í˜„ì¬ ë¸Œëœì¹˜ (our) ë²„ì „. 3: ë³‘í•©í•˜ë ¤ëŠ” ë¸Œëœì¹˜ (their) ë²„ì „. .git/indexì˜ ì—­í• \nì¸ë±ìŠ¤ íŒŒì¼ì˜ ì—­í• ì„ ì •ë¦¬í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nì¸ë±ìŠ¤ íŒŒì¼ì€ ë‹¤ìŒ ì»¤ë°‹ì— í¬í•¨ë  íŒŒì¼ë“¤ì„ ì¶”ì í•©ë‹ˆë‹¤. ì¸ë±ìŠ¤ì— ì¶”ê°€ëœ íŒŒì¼ë“¤ì€ ë‹¤ìŒ git commit ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë  ë•Œ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ì— í¬í•¨ë©ë‹ˆë‹¤. git commit git commit ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ ì–´ë–¤ íë¦„ì´ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\nTree ê°ì²´ ìƒì„± ì¸ë±ìŠ¤ íŒŒì¼ì— ê¸°ë¡ëœ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ íŠ¸ë¦¬ ê°ì²´ê°€ ìƒì„±ë©ë‹ˆë‹¤. íŠ¸ë¦¬ ê°ì²´ëŠ” ë””ë ‰í† ë¦¬ êµ¬ì¡°ì™€ íŒŒì¼ ì •ë³´ë¥¼ ë‹´ê³  ìˆìœ¼ë©°, ê° íŒŒì¼ì€ Blob ê°ì²´ì™€ Tree ê°ì²´ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤. Commit ê°ì²´ ìƒì„± íŠ¸ë¦¬ ê°ì²´ê°€ ìƒì„±ëœ í›„, ì»¤ë°‹ ê°ì²´ê°€ ìƒì„±ë©ë‹ˆë‹¤. íŠ¸ë¦¬ ê°ì²´ì˜ í•´ì‹œ ê°’ ë¶€ëª¨ ì»¤ë°‹(ì´ì „ ì»¤ë°‹)ì˜ í•´ì‹œ ê°’(ìµœì´ˆ ì»¤ë°‹ì¸ ê²½ìš° ì œì™¸) ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±ìì™€ ì»¤ë¯¸í„° ì •ë³´(ì´ë¦„, ì´ë©”ì¼, íƒ€ì„ìŠ¤íƒ¬í”„ ë“±) ê°ì²´ ì €ì¥ ë° ì°¸ì¡° ì—…ë°ì´íŠ¸ ê°ì²´ ì €ì¥ ìƒì„±ëœ ì»¤ë°‹ ê°ì²´ì™€ íŠ¸ë¦¬ ê°ì²´ëŠ” .git/objects ë””ë ‰í† ë¦¬ì— ì €ì¥ë©ë‹ˆë‹¤. Blob ê°ì²´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê° ê°ì²´ëŠ” í•´ì‹œê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ì°¸ì¡° ì—…ë°ì´íŠ¸ ìƒˆë¡œìš´ ì»¤ë°‹ ê°ì²´ê°€ ìƒì„±ë˜ë©´, í˜„ì¬ ë¸Œëœì¹˜ì˜ ì°¸ì¡°ê°€ ìƒˆë¡œìš´ ì»¤ë°‹ì„ ê°€ë¦¬í‚¤ë„ë¡ ì—…ë°ì´íŠ¸ í•©ë‹ˆë‹¤. í˜„ì¬ ë¸Œëœì¹˜ì˜ ì°¸ì¡°ëŠ” .git/refs/heads/\u0026lt;ë¸Œëœì¹˜ ì´ë¦„\u0026gt; íŒŒì¼ì— ì €ì¥ mainì¸ ê²½ìš° .git/refs/heads/main íŒŒì¼ì˜ ë‚´ìš©ì´ ìƒˆë¡œìš´ ì»¤ë°‹ì˜ í•´ì‹œê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ìƒˆ ì»¤ë°‹ì´ ìƒì„±ë˜ë©´ì„œ Gitì€ ë²„ì „ íˆìŠ¤í† ë¦¬ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.\nê° ì»¤ë°‹ ê°ì²´ëŠ” ì´ì „ ì»¤ë°‹ ê°ì²´(ë¶€ëª¨ ê°ì²´)ë¥¼ ê°€ë¥´í‚¤ë©°, ì´ë¥¼ í†µí•´ ì»¤ë°‹ íˆìŠ¤í† ë¦¬ê°€ ë§ˆì¹˜ ì—°ê²° ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\nTree ê°ì²´ì˜ êµ¬ì„± ì²˜ìŒ git commit ëª…ë ¹ì´ ìˆ˜í–‰ë˜ë©´ ì‘ì—… ë””ë ‰í† ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŠ¸ë¦¬ ê°ì²´ë¥¼ ë§Œë“¤ê²Œë©ë‹ˆë‹¤.\níŠ¸ë¦¬ ê°ì²´ëŠ” íŠ¹ì • ë””ë ‰í„°ë¦¬ ë‚´ë¶€ì— í¬í•¨ë˜ëŠ” ëª¨ë“  íŒŒì¼(Blob ê°ì²´), ë””ë ‰í† ë¦¬(Tree ê°ì²´)ì˜ í•´ì‹œê°’ì„ ë‚´ìš©ìœ¼ë¡œ ê°€ì§€ë©°, ì‘ì—… ë””ë ‰í† ë¦¬ê°€ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤ê³  ê°€ì •í•˜ê³  ë‚´ë¶€ êµ¬ì¡°ë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\n1 2 3 4 project/ â”œâ”€â”€ README.md â””â”€â”€ src/ â””â”€â”€ index.js ì‘ì—… ë””ë ‰í„°ë¦¬ì˜ ë£¨íŠ¸ Tree ê°ì²´ëŠ” ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì„ ê°€ì§€ê²Œë©ë‹ˆë‹¤.(í•´ì‹œê°’ì€ ì„ì˜ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.)\n1 2 100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 README.md 040000 tree d8329fc1cc938780ffdd9f94e0d364e0ea0ea1e1 src src ë””ë ‰í† ë¦¬ë¥¼ ì˜ë¯¸í•˜ëŠ” Tree ê°ì²´ëŠ” ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì„ ê°€ì§‘ë‹ˆë‹¤.\n1 100644 24643cc37449b4bde54411a80b8ed61258225e34 index.js ê° ë‚´ìš©ë“¤ì´ ë””ë ‰í† ë¦¬ë¥¼ êµ¬ì„±í•˜ëŠ” Git ê°ì²´ì˜ ì£¼ì†Œê°’ì„ ê°€ë¥´í‚¤ê²Œë©ë‹ˆë‹¤.\nCommit ê°ì²´ì˜ êµ¬ì„± Tree ê°ì²´ê°€ ë§Œë“¤ì–´ì§€ë©´ ì‘ì—… ë””ë ‰í† ë¦¬ì˜ Tree ê°ì²´(ë£¨íŠ¸ Tree ê°ì²´)ì˜ ì£¼ì†Œë¥¼ ì´ìš©í•˜ì—¬ Commit ê°ì²´ë¥¼ ë§Œë“¤ê²Œë©ë‹ˆë‹¤.\nCommit ê°ì²´ì˜ ë‚´ìš©ì—ëŠ” ì‘ì—… ë””ë ‰í† ë¦¬ì˜ ë£¨íŠ¸ Tree ê°ì²´ì˜ í•´ì‹œê°’, ë¶€ëª¨ ì»¤ë°‹ì˜ í•´ì‹œê°’, ì»¤ë°‹ ë©”ì‹œì§€, ì‘ì„±ìì™€ ì»¤ë°‹í„°ì˜ ì •ë³´ê°€ ë‹´ê¹ë‹ˆë‹¤.\n1 2 3 4 5 6 tree \u0026lt;ì‘ì—… ë””ë ‰í† ë¦¬ì˜ Tree ê°ì²´ì˜ í•´ì‹œ ê°’\u0026gt; parent \u0026lt;ì´ì „ ì»¤ë°‹ì˜ í•´ì‹œ ê°’(ì²« ì»¤ë°‹ì´ë¼ë©´ ìƒëµ)\u0026gt; author John Doe \u0026lt;john.doe@example.com\u0026gt; 1609459200 +0000 committer John Doe \u0026lt;john.doe@example.com\u0026gt; 1609459200 +0000 \u0026lt;ì»¤ë°‹ ë©”ì‹œì§€\u0026gt; ìš”ì•½ git commit ëª…ë ¹ì–´ëŠ” ìŠ¤í…Œì´ì§• ì˜ì—­ì˜ íŒŒì¼ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ íŠ¸ë¦¬ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì´ë¥¼ ì°¸ì¡°í•˜ëŠ” ì»¤ë°‹ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ìƒì„±ëœ ì»¤ë°‹ ê°ì²´ëŠ” .git/objects ë””ë ‰í† ë¦¬ì— ì €ì¥ë˜ë©°, í˜„ì¬ ë¸Œëœì¹˜ì˜ ì°¸ì¡°ê°€ ìƒˆë¡œìš´ ì»¤ë°‹ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ì´ ê³¼ì •ì€ Gitì˜ ë¶„ì‚° ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œì´ íš¨ìœ¨ì ìœ¼ë¡œ íŒŒì¼ì˜ ë³€ê²½ ì´ë ¥ì„ ê´€ë¦¬í•˜ê³  ì¶”ì í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ë§ˆë¬´ë¦¬ ì´ì „ë¶€í„° .gitì˜ ì¡´ì¬ëŠ” ì•Œì•˜ì§€ë§Œ, ì™œ ì¡´ì¬í•˜ëŠ”ì§€, ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ìˆëŠ”ì§€, ì—­í• ì´ ë­”ì§€ ë“±ì— ëŒ€í•´ì„œëŠ” í° ê´€ì‹¬ì´ ì—†ì—ˆìŠµë‹ˆë‹¤.\nì´ë²ˆ ê¸°íšŒë¥¼ í†µí•´ .gitì˜ ë‚´ë¶€ íŒŒì¼ë“¤(Git ê°ì²´)ì˜ ìƒíƒœ ë³€í™”ë¥¼ í™•ì¸í•˜ë©´ì„œ addì™€ commit ëª…ë ¹ì´ ì–´ë–»ê²Œ ìˆ˜í–‰ë˜ëŠ”ì§€ ë” ê¹Šì´ ì´í•´í•  ìˆ˜ ìˆì–´ ì¢‹ì€ ê²½í—˜ì´ì—ˆë„¤ìš” ğŸ˜\nì½ì–´ë³´ì‹œê³  ì˜ëª»ëœ ì •ë³´ë‚˜, ì´í•´ê°€ ì–´ë ¤ìš´ ë¶€ë¶„ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ ë‚¨ê²¨ì£¼ì„¸ìš”!\ní‹€ë¦° ë‚´ìš©ì´ ìˆë‹¤ë©´ ë¹ ë¥´ê²Œ ë°˜ì˜í•˜ê³ , ì´í•´ê°€ ì–´ë ¤ìš´ ë¶€ë¶„ì€ ê°™ì´ ë‹¤ì‹œ ê³ ë¯¼í•´ë³¼ ê¸°íšŒê°€ ë  ìˆ˜ ìˆì„ê²ƒ ê°™ìŠµë‹ˆë‹¤ğŸ”¥\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ˜Š\n","date":"2024-07-31T13:17:42+09:00","image":"https://codemario318.github.io/post/git/add-commit/cover_hu0ffdedd87fe527cd0e06241af048622e_24934_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/git/add-commit/","title":"Git ê°ì²´ë¡œ ì‚´í´ë³´ëŠ” addì™€ commit"},{"content":"ë¶€ìŠ¤íŠ¸ìº í”„ ì±Œë¦°ì§€ ê³¼ì • 2ì£¼ì°¨ê°€ ë§ˆë¬´ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ¥³\nì €ë²ˆì£¼ì—ëŠ” ì¤‘ìš”í•œ CS ë‚´ìš©ë“¤ì„ ì§ì ‘ êµ¬í˜„í•´ë³´ëŠ” ë¯¸ì…˜ë“¤ì´ ì£¼ì–´ì¡Œë‹¤ë©´, ì´ë²ˆì£¼ëŠ” ê°œë°œ ë°©ë²•ë¡ , ë””ìì¸ íŒ¨í„´, ì•„í‚¤í…ì²˜ì™€ ê°™ì€ ê²ƒë“¤ì„ ì¢…í•©ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ íŠ¹ì • ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë‚´ìš©ë“¤ë¡œ ë¯¸ì…˜ë“¤ì´ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\në˜í•œ, ì²« íšŒê³ ì— ë‚¨ê²¼ë˜ ê±´ë°©ì§„ ìƒê°ì„ ê¹¨ë²„ë¦¬ë“¯ğŸ¥² í•œëª…ë„ ë¹ ì§ì—†ì´ ì—­ëŸ‰ì´ ì¶œì¤‘í•˜ì‹  ìº í¼ë“¤ê³¼ ìŠ¤í„°ë””ê·¸ë£¹ì„ ì´ë£¨ì–´ ì§„í–‰í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nìš”êµ¬ì‚¬í•­ ìì²´ëŠ” ì €ë²ˆì£¼ë³´ë‹¤ ì—¬ë µì§€ëŠ” ì•Šì•˜ì§€ë§Œ, ìƒê°ì˜ ì „í™˜ì„ í•„ìš”ë¡œí•˜ëŠ” ë¯¸ì…˜ë“¤ì´ ë§ì•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì˜ë¯¸ë¡œ ì–´ë ¤ì› ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì €ë²ˆì£¼ë³´ë‹¤ëŠ” ì‹œê°„ì„ ëœ ì“°ê¸´ í–ˆì§€ë§Œ í•™ìŠµë¶€í„° ë¶„ì„, ì„¤ê³„, êµ¬í˜„ê¹Œì§€ í‰ê· ì ìœ¼ë¡œ 10ì‹œê°„ ì •ë„ëŠ” í•„ìš”í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ì§€ë‚œì£¼ì˜ ì§ ì„¤ê³„ì— ë”í•´ì„œ ì§ êµ¬í˜„ ë¯¸ì…˜ì´ ìˆì–´ ë‹¤ë¥¸ ìº í¼ í•œ ë¶„ê³¼ ë¶„ì„ ë¶€í„° êµ¬í˜„ê¹Œì§€ ì§„í–‰í•´ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nê°™ì´ ê°œë°œí•  ìˆ˜ ìˆë‹¤ë©´ ì–´ë– í•œ ë°©ë²•ì„ í™œìš©í•´ë„ ê´œì°®ì•˜ì§€ë§Œ, ì €í¬ ì¡°ëŠ” VSCodeì˜ Live Shareë¥¼ ì´ìš©í•˜ì—¬ í˜ì–´ í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.\ní”¼ì–´ ì„¸ì…˜ ì €ë²ˆ ì£¼ì™€ëŠ” ë‹¤ë¥´ê²Œ ìì‹ ì˜ ì½”ë“œë¥¼ ì„¤ëª…í•˜ëŠ” ì‹œê°„ì„ ê°–ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ ì§„í–‰í•œ ì´ìœ ëŠ” ëª¨ë“  íŒ€ì›ë¶„ë“¤ì´ ì—­ëŸ‰ì´ ì¢‹ìœ¼ì…¨ê¸° ë•Œë¬¸ì¸ë°, ì½”ë“œë¥¼ êµ³ì´ ì„¤ëª…í•˜ì§€ ì•Šì•„ë„ ì´í•´í•˜ëŠ”ë° ì–´ë ¤ì›€ì´ ì—†ëŠ”ë°ë‹¤, ì¸ì‚¬ì´íŠ¸ê¹Œì§€ ì¶©ë¶„íˆ ê°€ì ¸ê°ˆ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nì´ì— ë”°ë¼ í”¼ì–´ ì„¸ì…˜ ì „ ê³¼ì •ì¸ í”¼ì–´ ì»´íŒŒì¼ë§ê³¼ì •ì—ì„œ ì½”ë“œë¥¼ ë¶„ì„í•˜ê³  ì§ˆë¬¸, ì¢‹ì•˜ë˜ ë¶€ë¶„, ê°œì„ ì´ í•„ìš”í•œ ë¶€ë¶„ì„ ì •ë¦¬ í•œ í›„ í”¼ì–´ ì„¸ì…˜ì— ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤.\nì¸ë‹¹ 5ë¶„ ì •ë„ì˜ ì‹œê°„ìœ¼ë¡œ ë¹¨ë¦¬ ë§ˆë¬´ë¦¬ í•˜ê³ , ê°™ì´ ê³ ë¯¼í•´ë³¼ ë‚´ìš©ì´ë‚˜ ë¯¸ì…˜ ê´€ë ¨ ê¸°ìˆ  ë“±ì— ëŒ€í•´ì„œ í† ë¡ í•˜ëŠ” ì‹œê°„ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.\në‹¤ ê°™ì´ í† ë¡ í•˜ëŠ” ê³¼ì •ì—ì„œ ë§ì€ ê²ƒë“¤ì„ ì•Œì•„ê°ˆ ìˆ˜ ìˆì—ˆê¸° ë•Œë¬¸ì— êµ¬ì„±ì›ë“¤ ëª¨ë‘ ë§Œì¡±ìŠ¤ëŸ¬ì›Œ í–ˆìŠµë‹ˆë‹¤.\në¯¸ì…˜ í•´ê²° ë° í•™ìŠµ ì´ë²ˆ ì£¼ëŠ” ë¯¸ì…˜ë§Œ ì˜ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ë„˜ì–´ì„œ ìƒˆë¡œìš´ ê²ƒì„ ì‹œë„í•´ë´¤ìŠµë‹ˆë‹¤.\në§ˆìŠ¤í„°ì¸ JKë‹˜ì´ ì˜¬ë ¤ì£¼ì‹  í•´ì„¤ ì˜ìƒì— ì• ìì¼í•˜ê²Œ ê°œë°œí•˜ëŠ” ë²•ì— ëŒ€í•œ ë¶€ë¶„ì„ ì–¸ê¸‰í•˜ì…¨ëŠ”ë°, ì´ë¶€ë¶„ì—ì„œ ê³µê°ì´ ë˜ì–´ ë°”ë¡œ ì ìš©í–ˆìŠµë‹ˆë‹¤.\nì´ì™€ ë”ë¶ˆì–´ ëª¨ë“  ë¯¸ì…˜ì— TDDë¥¼ ì‹œë„í•˜ì—¬ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.\nAgile í•˜ê²Œ ê°œë°œí•˜ëŠ” ë²• ì• ìì¼ì˜ í•µì‹¬ì€ \u0026ldquo;ë¹ ë¥´ê³  ì§§ì€ í”¼ë“œë°± ë£¨í”„\u0026ldquo;ë¥¼ í†µí•´ ë³€í™”ì— ë¯¼ì²©í•˜ê²Œ ëŒ€ì‘í•˜ëŠ” ê²ƒ ì…ë‹ˆë‹¤.\nì‚¬ì‹¤ ì• ìì¼ì€ ì¡°ì§ ì „ì²´ì— ëŒ€ìƒìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥í•œ ë‹¨ìœ„ì— ëŒ€í•´ ë¯¼ì²©í•œ ëŒ€ì‘ì„ ì˜ë¯¸í•˜ì§€ë§Œ, ì´ëŸ¬í•œ ë°©ì‹ì„ ê°œë°œì—ë§Œ ì ìš©í•´ë³´ë ¤ê³ í–ˆìŠµë‹ˆë‹¤.\nflowchart LR ë¶„ì„ --\u003e ì„¤ê³„ --\u003e êµ¬í˜„ --\u003e ì™„ë£Œ ì´ì „ê¹Œì§€ëŠ” ìœ„ì™€ ê°™ì´ \u0026ldquo;ë¶„ì„ - ì„¤ê³„ êµ¬í˜„\u0026ldquo;ê³¼ì •ìœ¼ë¡œ ì§„í–‰í•˜ì˜€ë‹¤ë©´,\nflowchart LR a[ë¶„ì„] --\u003e b[ì‘ì—… ë¶„í•´] subgraph sa [ë°˜ë³µ] c[ì„¤ê³„] --\u003e d[êµ¬í˜„] end b --\u003e c d --\u003e e[ì™„ë£Œ] ì´ë²ˆ ì£¼ ë¶€í„°ëŠ” ì‘ì—…ì„ ì‘ì€ ë‹¨ìœ„ë¡œ ì‘ì—…ì„ ë¶„í•´í•˜ê³ , ì„¤ê³„ì—ì„œ ê°œë°œê¹Œì§€ ë°˜ë³µì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.\në¯¸ì…˜ë“¤ì„ ìˆ˜í–‰í•˜ë©´ì„œ ë‚˜ë¦„ ì™„ë²½íˆ ì„¤ê³„í•´ë„ ì¡°ê¸ˆì”© ë°”ë€Œê²Œë˜ì–´ ê³¤ë€í–ˆë˜ ê²½í—˜ì´ ìˆì—ˆëŠ”ë°, ë³€í™”ë¥¼ ê°€ì •í•˜ê³  ì§„í–‰ë˜ëŠ” ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ìˆ˜ì›”í•˜ê²Œ êµ¬ì¡° ë“±ì„ ë³€ê²½í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nTDD ì‚¬ì‹¤ ì´ì „ ì§ì¥ì—ì„œë¶€í„° í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ë¶€ì¬ë¡œ ì¸í•œ ê³ í†µì„ ë¼ˆì ¸ë¦¬ê²Œ ëŠê¼ˆì—ˆê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ì˜ ì¤‘ìš”ì„±ì€ ë„ˆë¬´ë‚˜ ì˜ ì•Œê³  ìˆìŠµë‹ˆë‹¤.\nê¼­ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•˜ê³  ìˆì§€ë§Œ ìŠµê´€í™”ê°€ ì•ˆë˜ì–´ ì˜ í™œìš©í•˜ì§€ ëª»í•˜ê³  ìˆì—ˆëŠ”ë°, í…ŒìŠ¤íŠ¸ì— ìµìˆ™í•´ì§€ê¸° ì´ë²ˆ ê¸°íšŒë¥¼ ì‹œì‘í•˜ê¸°ë¡œ ë§ˆìŒë¨¹ì—ˆìŠµë‹ˆë‹¤.\në¤ìœ¼ë¡œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ Agile í•˜ê²Œ ê°œë°œí•˜ê¸°ì—ì„œ ë¹ ë¥¸ í”¼ë“œë°±ì„ ë°›ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì´ë¼ ìƒê°í•´ ì ìš©í–ˆìŠµë‹ˆë‹¤.\në‹¤ë“¤ ì•„ì‹œëŠ” ê²ƒ ì²˜ëŸ¼ êµ¬í˜„ ê³¼ì •ì— ë“¤ì–´ê°€ê¸° ì „, ë¯¸ì…˜ì˜ ìš”êµ¬ì‚¬í•­ë“¤ì„ ëª¨ë‘ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•œ í›„, í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¤ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.\nê°€ì¥ ì–´ë ¤ì›€ì„ ëŠê¼ˆë˜ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ì€ GPTì˜ ë„ì›€ì„ ë°›ìœ¼ë©° ì§„í–‰í•˜ì˜€ëŠ”ë°, ì„¤ê³„ë¥¼ ì˜ ìˆ˜í–‰í•œ ë•ì— í…ŒìŠ¤íŠ¸ë¥¼ ì •í™•íˆ ì˜ ë§Œë“¤ì–´ì¤˜ì„œ ë§¤ìš° í¸ë¦¬í–ˆìŠµë‹ˆë‹¤.\ní„°ë¯¸ë„ì„ í•œìª½ì— ìƒì‹œë¡œ ë„ì›Œë†“ê³  jest --watchë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ í†µê³¼ë˜ëŠ” ê²ƒì„ í™•ì¸í•˜ë©° êµ¬í˜„í–ˆëŠ”ë°, ë§ˆì¹˜ ê²Œì„ì„ í•˜ëŠ” ê²ƒ ê°™ë‹¤ëŠ” ëŠë‚Œì„ ë°›ì„ ìˆ˜ ìˆì–´ì„œ ë¯¸ì…˜ì„ ë” ì¬ë¯¸ìˆê²Œ ìˆ˜í–‰í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ğŸ®\ní•™ìŠµ ì •ë¦¬ ì¼ë¶€ ë‚´ìš©ì— ëŒ€í•´ì„œëŠ” í•™ìŠµí–ˆë˜ ë‚´ìš©ì„ ë‹¹ì¼ì— ì •ë¦¬í•˜ì—¬ ì˜¬ë¦´ ìˆ˜ ìˆì—ˆìœ¼ë‚˜, ì§ ì„¤ê³„ë‚˜ ì§ êµ¬í˜„ ë“±ì˜ ë¯¸ì…˜ë“¤ë¡œ ì¸í•´ ë”°ë¡œ í•™ìŠµ ì •ë¦¬ê°€ ì–´ë ¤ì› ìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ë¶€ë¶„ì€ ì£¼ë§ì„ í™œìš©í•´ ì¶”ê°€ì ìœ¼ë¡œ ì§„í–‰í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ ì–´ë–¤ ë‚´ìš©ì„ ì–´ë–»ê²Œ ì •ë¦¬í•  ê²ƒì¸ì§€ë§Œ ë”°ë¡œ ë©”ëª¨í–ˆê³ , ì´ íšŒê³ ë¥¼ ë§ˆë¬´ë¦¬í•˜ê³  ì§„í–‰í•  ì˜ˆì •ì´ì—ìš”ğŸ¥²\në‚˜ì˜ ë³€í™” ì´ë²ˆ ì£¼ ë¯¸ì…˜ë“¤ì€ í’€ìŠ¤íƒ ê°œë°œìë¡œ ì¼í–ˆë˜ ê²½í—˜ê³¼ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ê°œë°œí–ˆë˜ ê²½í—˜ ë•ë¶„ì— ì ‘ê·¼ ë°©ë²•ì„ ê²°ì •í•˜ëŠ”ë°ëŠ” í° ì–´ë ¤ì›€ì´ ì—†ì—ˆìŠµë‹ˆë‹¤ë§Œ\u0026hellip;\në‹¤ë¥¸ ë¶„ë“¤ì˜ ì‘ì—…ë¬¼ë“¤ì„ ë³´ë©° ê°œë°œìë¼ë©´ ê³ ë¯¼í•´ë´¤ì„ ë‚´ìš©ì¸ ì–¼ë§ˆë‚˜ ê¹Šê²Œ ì´í•´í•˜ê³  ìˆëŠ”ê°€ì— ëŒ€í•´ì„œ í•œë²ˆ ë” ìƒê°í•´ë³¼ ìˆ˜ ìˆëŠ” ê³„ê¸°ì˜€ìŠµë‹ˆë‹¤.\níŠ¹íˆ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ í™œìš©í•´ì•¼í•˜ëŠ” ë¯¸ì…˜ì—ì„œëŠ” ìƒíƒœë¥¼ ì•„ì˜ˆ ë§Œë“¤ì§€ì•Šê³  êµ¬í˜„í•˜ì…¨ë˜ ìº í¼ë„ ìˆì–´ì„œ ì¶©ê²©ì ìœ¼ë¡œ ë‹¤ê°€ì™”ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në‹¤í–‰íˆë„ ì´ë²¤íŠ¸ ì£¼ë„ ì•„í‚¤í…ì²˜ê°€ í•„ìš”í–ˆë˜ ë¯¸ì…˜ì€ ëª¨ë“  ìº í¼ë¶„ë“¤ì´ ì–´ë ¤ì›€ì„ ëŠë¼ì…¨ì—ˆëŠ”ë°, ì €ì˜ ê²°ê³¼ë¬¼ë¡œ ì¸ì‚¬ì´íŠ¸ë¥¼ ë“œë¦´ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.ğŸ˜\në‚˜ ì¢€ ì„±ì¥í•´ ìˆì—ˆì„ì§€ë„? ë¶€ìŠ¤íŠ¸ìº í”„ 5ê¸°ì— ì°¸ì—¬í–ˆë˜ ì˜ˆì „ì— ì €ì˜€ë‹¤ë©´ ë›°ì–´ë‚œ ë™ë£Œë“¤ì„ ë´¤ì„ ë•Œ ìŠ¤ìŠ¤ë¡œ ìì±…í–ˆì—ˆê² ì£ ?\nì´ë²ˆì—ëŠ” ì˜¤íˆë ¤ ë›°ì–´ë‚œ ë™ë£Œë“¤ì„ ë³´ë©° ë‹¤ë¥¸ ë¶„ë“¤ì€ ì–´ë–»ê²Œ ìƒê°í–ˆì„ê¹Œ? ì–´ë–»ê²Œ êµ¬í˜„í–ˆì„ê¹Œ? ë¼ëŠ” ê¸°ëŒ€ê°ì— ë‹¤ìŒë‚  í”¼ì–´ì„¸ì…˜ì´ ë”ìš±ë” ê¸°ë‹¤ë ¤ì¡Œì–´ìš”\në¬¸ë“ ì´ëŸ° ì €ì˜ ëª¨ìŠµì„ ë³´ë©° ë‚˜ ì¢€ ì„±ì¥í•´ ìˆì—ˆì„ì§€ë„? ë¼ëŠ” ìƒê°ì´ ë“¤ë©´ì„œ ëª°ë˜ ë¿Œë“¯í–ˆì—ˆë„¤ìš”ğŸ˜‹\nì¢‹ì€ ë™ë£Œë“¤ ì‚¬ì‹¤ ì €ëŠ” ì§‘ë‹¨ ì§€ì„±ì„ ë¯¿ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\nì§€ê¸ˆê¹Œì§€ ì‚´ì•„ì˜¤ë©´ì„œ ì—¬ëŸ¬ í™œë™ì„ í–ˆì—ˆì§€ë§Œ, ëŒ€ë¶€ë¶„ ì˜ í•˜ëŠ” ì¼ë¶€ê°€ ìºë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆì—ˆê¸° ë•Œë¬¸ì´ì—ìš”.\nê·¸ëŸ°ë° ê°ê°ì˜ ê°œì„±ì´ìˆëŠ” ì˜ í•˜ëŠ” ì‚¬ëŒë“¤ë¼ë¦¬ ëª¨ì—¬ ë‚´ëŠ” í•™ìŠµ ì‹œë„ˆì§€ëŠ” ì €ì˜ ìƒê°ì„ ë°”ê¾¸ê¸° ì¶©ë¶„í–ˆìŠµë‹ˆë‹¤.\ní° ê¸°ì—…ë“¤ì—ì„œ ìì‹ ë“¤ì˜ ìµœê³ ì˜ ì¥ì  ì¢‹ì€ ë™ë£Œë“¤ì´ë¼ê³  ê°•ì¡°í•˜ëŠ” ëª¨ìŠµì„ ì‰½ê²Œ ë³¼ ìˆ˜ ìˆì—ˆëŠ”ë°, ì´ ë¶€ë¶„ì„ í™•ì‹¤íˆ ì´í•´í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\në§ˆë¬´ë¦¬ ì§€ë‚œì£¼ë³´ë‹¤ ë” ë¹ ë¥´ê²Œ í•œ ì£¼ê°€ ì§€ë‚˜ê°”ìŠµë‹ˆë‹¤. ë‹¤ìŒì£¼ëŠ” ì§ í™œë™ì´ ë” ë§ì•„ì§„ë‹¤ê³  í•˜ëŠ”ë° ë²Œì¨ ê¸°ëŒ€ê°€ ë˜ë„¤ìš”.\ní•˜ë£¨ í•˜ë£¨ë¥¼ ì •í•´ì§„ ì¼ê³¼ì— ë§ì¶° ì¶©ì‹¤íˆ ì‚´ì•„ê°€ëŠ”ê²Œ ì¤‘ìš”í•˜ë‹¤ëŠ” ê±¸ ìƒˆì‚¼ ë‹¤ì‹œ ëŠë¼ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì¡°ê¸ˆ(ë§ì´) í”¼ê³¤í•˜ê¸´ í•˜ì§€ë§Œ ì‚´ì•„ì˜¨ ì–´ëŠë•Œë³´ë‹¤ í™œë ¥ì´ ë„˜ì¹˜ëŠ” ê²ƒ ê°™ì•„ìš”ğŸ”¥ğŸ”¥ğŸ”¥\në§ˆì§€ë§‰ìœ¼ë¡œ ê·¸ë£¹ì›ë“¤ì—ê²Œ ì½”ë©˜íŠ¸ í•  ë•Œ ê³µí†µìœ¼ë¡œ ë„£ìœ¼ë ¤ê³  ì¤€ë¹„í•œ ë¬¸êµ¬ë¡œ ë§ˆë¬´ë¦¬í•˜ê² ìŠµë‹ˆë‹¤. ëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ˜\nì†Œí”„íŠ¸ì›¨ì–´ ì¥ì¸ì´ë¼ëŠ” ì±…ì—ì„œ ë‚˜ì˜¨ ë‚´ìš©ì¸ë° ì†Œí”„íŠ¸ì›¨ì–´ ì¥ì¸ì€ ê²½ì§€ë¼ê¸° ë³´ë‹¤ëŠ” ì´ë…ì´ë‚˜ ë§ˆìŒê°€ì§ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ì¥ì¸ì •ì‹ ì„ ì˜ ì§€í‚¤ê³  ìˆëŠ”ê°€ë¥¼ ì˜ë¯¸í•œë‹¤ê³  í•´ìš”\ní”„ë¡œí˜ì…”ë„í•˜ê²Œ í–‰ë™í•˜ê¸°,\në‹¤ë¥¸ ê°œë°œìë“¤ì—ê²Œ ë°°ìš°ê¸°,\nìì‹ ì˜ ì§€ì‹ì„ ë‚˜ëˆ„ê¸° ë“±ì´ ì´ì— í•´ë‹¹í•œë‹¤ê³  í•©ë‹ˆë‹¤.\nì €ìëŠ” ì´ëŸ° ê²ƒë“¤ì€ ì˜ í•˜ê³  ìˆë‹¤ë©´ ìŠ¤ìŠ¤ë¡œë¥¼ ì†Œí”„íŠ¸ì›¨ì–´ ì¥ì¸ì´ë¼ê³  ì¹­í•´ë„ ê´œì°®ë‹¤ê³  ìƒê°í•œë°ìš”\nê·¸ëŸ° ì˜ë¯¸ì—ì„œ ì¡°ê¸ˆ ë¶€ë„ëŸ½ì§€ë§Œ ì €í¬ ê·¸ë£¹ì›ë“¤ ëª¨ë‘ ì†Œí”„íŠ¸ì›¨ì–´ ì¥ì¸ì´ë¼ê³  ë¶ˆëŸ¬ë„ ê´œì°®ì§€ ì•Šì„ê¹Œìš”? ã…ã…\ní•œ ì£¼ ë™ì•ˆ ë§ì´ ë°°ì›Œê°‘ë‹ˆë‹¤. ë©¤ë²„ì‰½ì—ì„œ ë‹¤ì‹œ ëµˆì–´ìš” :D\n","date":"2024-07-27T21:23:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/challenge/2/cover_hu19d27c1827c5e9fb407a4e610db031e0_130036_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/challenge/2/","title":"ì±Œë¦°ì§€ ê³¼ì • 2ì£¼ì°¨ íšŒê³ "},{"content":"ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ë€? ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ê°€ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ”ì§€, ê²°í•¨ì´ ì—†ëŠ”ì§€, ì˜ë„í•œ ëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤.\nì˜ˆë¥¼ ë“¤ë©´ TDDì—ì„œ íŒŒìƒëœ BDD(í–‰ìœ„ ì£¼ë„ ê°œë°œ)ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ìˆ˜í–‰í•  í–‰ìœ„ì— ëŒ€í•œ ëª…ì„¸ë¥¼ ë¹„ ê¸°ìˆ ì ì¸ ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì—¬ ëª…ì„¸ìƒì˜ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ê³  ìˆëŠ”ì§€ íŒŒì•…í•˜ëŠ”ë° í° ë„ì›€ì„ ì£¼ê¸°ë„í•©ë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ì–´ë–¤ íšŒì‚¬ì—ì„œëŠ” ê°œë°œì„ ì‹œì‘í•˜ê¸° ì „ ê¸°íšì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìš”êµ¬ì‚¬í•­ì„ í…ŒìŠ¤íŠ¸ ì½”ë“œì— ì˜®ê²¨ë†“ëŠ” ì‘ì—…ë¶€í„° í•˜ëŠ” ê³³ë„ ìˆë‹¤ê³  ë“¤ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  ìµœê·¼ ì ‘í–ˆë˜ ê°œë°œì ì›ì¹™ì´ë¼ëŠ” ì±…ì—ì„œ íƒì›”í•œ ì„±ê³¼ë¥¼ ë‚´ëŠ” ì¡°ì§ì˜ ê³µí†µì ì€ ì‹¬ë¦¬ì  ì•ˆì •ê°ì´ë¼ëŠ” ë‚´ìš©ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\nì‹¬ë¦¬ì  ì•ˆì •ê°ì€ ì‹¤ìˆ˜ê°€ ë“œëŸ¬ë‚¬ì„ ë•Œì—ë„ ì²˜ë²Œë°›ê±°ë‚˜ ë†€ë¦¼ ë°›ì§€ ì•Šì„ ê²ƒ ì´ë¼ëŠ” ë¯¿ìŒì´ë¼ê³  í•˜ëŠ”ë°, í…ŒìŠ¤íŠ¸ëŠ” ì¡°ê¸ˆ ë‹¤ë¥¸ ê´€ì ì—ì„œ ì‹¤ìˆ˜ê°€ ë°œìƒí•˜ì§€ ì•Šì„ ê²ƒ ì´ë¼ëŠ” ë¯¿ìŒì„ í†µí•´ ì•ˆì •ê°ì„ ëŠë¼ê²Œë˜ì–´ ë„ì „ì ì¸ ì‹œë„ë¥¼ ë§ì´í•˜ê²Œ ë˜ì—ˆë‹¤ëŠ” ì˜ê²¬ì´ ë§ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì´ì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ê°€ ë‹¨ìˆœíˆ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ”ì§€, ê²°í•¨ì´ ì—†ëŠ”ì§€, ì˜ë„í•˜ëŠ” ëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì„ ë„˜ì–´ì„œ ì•ˆì •ê° ê°™ì€ ë¶€ê³¼ì ì¸ íš¨ê³¼ë¥¼ ìœ„í•´ì„œë¼ë„ í˜„ì¬ ê°€ì¥ ì¤‘ìš”í•œ í”„ë¡œì„¸ìŠ¤ë¼ëŠ” í‰ê°€ë„ ìˆì„ ì •ë„ì…ë‹ˆë‹¤.\nUnit Testë€? í…ŒìŠ¤íŠ¸ì˜ ì‹œì‘ì ì´ë¼ê³ ë„ í•  ìˆ˜ ìˆëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” í”„ë¡œê·¸ë˜ë°ì˜ ìµœì†Œ ë‹¨ìœ„(í•¨ìˆ˜, ë©”ì„œë“œ, ê°ì²´)ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²• ì…ë‹ˆë‹¤.\nì£¼ìš” ëª©ì ì€ ê° ë‹¨ìœ„ê°€ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ë©°, ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ê³¼ì •ì—ì„œ ë§¤ìš° ì¤‘ìš”í•œ ë‹¨ê³„ë¡œ, ì½”ë“œì˜ ê²°í•¨ì„ ì¡°ê¸°ì— ë°œê²¬í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.\nì£¼ìš” íŠ¹ì§• ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì˜ ì£¼ìš” íŠ¹ì§•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\në¹ ë¥¸ í”¼ë“œë°±(Quickly) ì½”ë“œë¥¼ ìˆ˜ì •í•œ ì§í›„ì— í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆë„ë¡ ë¹ ë¥´ê²Œ ìˆ˜í–‰ë˜ì–´ì•¼ í•¨ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ë§¤ìš° ì‘ì€ ì½”ë“œ ë‹¨ìœ„ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ë•Œë¬¸ì— ë¹ ë¥´ê²Œ ì‹¤í–‰ë¨ ë…ë¦½ì„±(Isolation) ê° í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì™€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ í…ŒìŠ¤íŠ¸ ê°„ì˜ ìƒí˜¸ì‘ìš©ì´ë‚˜ ì˜ì¡´ì„±ì„ ìµœì†Œí™”í•´ì•¼ í•¨ ì‘ì€ ê²€ì¦ ë‹¨ìœ„(Veridate) ì‘ì€ ë‹¨ìœ„ë¥¼ ê²€ì¦í•´ì•¼ í•¨ ìë™í™” ê°€ëŠ¥ì„±(Automatic) ìë™í™”ë˜ì–´ ê°œë°œ ê³¼ì •ì—ì„œ ì§€ì†ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•¨ ë”°ë¼ì„œ ë°˜ë³µì ì¸ í…ŒìŠ¤íŠ¸ ì‘ì—…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰ ê°€ëŠ¥í•´ì•¼ í•¨ ê°œë°œì ì£¼ë„ ê°œë°œìê°€ ì‘ì„±í•˜ê³  ìœ ì§€ ê´€ë¦¬í•¨ ì¢‹ì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì˜ íŠ¹ì§• ì¢‹ì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ë“¤ì„ ê°–ìŠµë‹ˆë‹¤.\në…ë¦½ì  ê° í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì™€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•¨ í…ŒìŠ¤íŠ¸ê°€ ì„œë¡œì—ê²Œ ì˜ì¡´í•˜ê²Œ ë˜ë©´ ë¬¸ì œë¥¼ íŒŒì•…í•˜ê¸° ì–´ë ¤ì›Œì§ ìë™í™” ê°€ëŠ¥ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ìë™ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆì–´ì•¼ í•¨ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ëŠ” ë°˜ë³µì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ ì§€ì†ì ì¸ í”¼ë“œë°±ì„ ì œê³µí•  ìˆ˜ ìˆìŒ ë°˜ë³µ ê°€ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” ì–¸ì œë“ ì§€ ë°˜ë³µí•´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©°, ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì œê³µí•´ì•¼ í•¨ ì™¸ë¶€ ìš”ì¸ì— ì˜í•œ ë³€ë™ì´ ì—†ì–´ì•¼ í•¨ ë¹ ë¥¸ ì‹¤í–‰ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ë¹ ë¥´ê²Œ ì‹¤í–‰ë˜ì–´ì•¼ í•¨ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œê°„ì´ ê¸¸ì–´ì§€ë©´ ê°œë°œìê°€ ìì£¼ ì‹¤í–‰í•˜ê¸° ì–´ë ¤ì›Œì§€ê³  í”¼ë“œë°± ì†ë„ê°€ ëŠë ¤ì§ ëª…í™•í•œ ëª©ì  ê° í…ŒìŠ¤íŠ¸ëŠ” íŠ¹ì • ê¸°ëŠ¥ì´ë‚˜ ë™ì‘ì„ ê²€ì¦í•˜ëŠ” ëª…í™•í•œ ëª©ì ì„ ê°€ì ¸ì•¼ í•¨ ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ ë¶„ëª…íˆ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•¨ ê°€ë…ì„± í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì½ê¸° ì‰¬ì›Œì•¼ í•¨ ë‹¤ë¥¸ ê°œë°œìê°€ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë³´ê³  ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©°, í…ŒìŠ¤íŠ¸ì˜ ì˜ë„ë¥¼ ëª…í™•íˆ íŒŒì•…í•  ìˆ˜ ìˆì–´ì•¼ í•¨ ì„¤ì • ë° ì •ë¦¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „í›„ì— í•„ìš”í•œ ì„¤ì •(setup)ê³¼ ì •ë¦¬(teardown) ì‘ì—…ì´ ëª…í™•íˆ ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•¨ ì´ëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•˜ëŠ” ë° ì¤‘ìš”í•¨ ë‹¨ì¼ ê²€ì¦ ê° í…ŒìŠ¤íŠ¸ëŠ” í•˜ë‚˜ì˜ ë™ì‘ì´ë‚˜ ê¸°ëŠ¥ì„ ê²€ì¦í•´ì•¼ í•¨ ì–´ë–¤ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ ê·¸ ì›ì¸ì„ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆìŒ ì‹ ë¢°ì„± í…ŒìŠ¤íŠ¸ëŠ” í•­ìƒ ì¼ê´€ëœ ê²°ê³¼ë¥¼ ì œê³µí•´ì•¼ í•¨ í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ë¶ˆì•ˆì •í•˜ë©´ í…ŒìŠ¤íŠ¸ì˜ ì‹ ë¢°ì„±ì´ ë–¨ì–´ì§ ì˜ì¡´ì„± ìµœì†Œí™” ì™¸ë¶€ ì‹œìŠ¤í…œì´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ì™¸ë¶€ ì˜ì¡´ì„±ì— ìµœì†Œí•œìœ¼ë¡œ ì˜ì¡´í•´ì•¼ í•¨ í•„ìš”í•˜ë‹¤ë©´ ëª©(Mocks)ì´ë‚˜ ìŠ¤í…(Stubs) ê°™ì€ í…ŒìŠ¤íŠ¸ ëŒ€ì—­ì„ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ ì˜ì¡´ì„±ì„ ê²©ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•¨ ìš”ì•½í•˜ë©´ ì¢‹ì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ í”„ë¡œì„¸ìŠ¤ì˜ íš¨ìœ¨ì„±ì„ ë†’ì´ê³ , ì½”ë“œì˜ ì‹ ë¢°ì„±ì„ ê°•í™”í•˜ë©°, ìœ ì§€ ë³´ìˆ˜ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì°¸ ì–´ë µêµ°ìš”..ğŸ˜‚\nJestë€? JSì§„ì˜ì—ì„œ ë§ì´ í™œìš©ë˜ëŠ” í…ŒìŠ¤íŠ¸ ë„êµ¬ë¡œ Jest, Mocha ë“±ì´ ìˆìŠµë‹ˆë‹¤.\nê·¸ ì¤‘ JestëŠ” Nest.js, Reactì—ì„œë„ í‘œì¤€ìœ¼ë¡œ ì‚¬ìš©ë˜ê³  ìˆì„ ë§Œí¼ í™œìš©ë„ê°€ ë†’ì€ ë¿ë§Œ ì•„ë‹ˆë¼, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸, ìŠ¤ëƒ…ìƒ· í…ŒìŠ¤íŠ¸ ë“± ë‹¤ì–‘í•œ í…ŒìŠ¤íŠ¸ ìœ í˜•ì„ ì§€ì›í•˜ë©°, ë§ì€ ê¸°ëŠ¥ë“¤ì„ ì§€ì›í•˜ê³  ìˆìœ¼ë¯€ë¡œ ì„ íƒí•˜ì˜€ìŠµë‹ˆë‹¤.\ní™˜ê²½ ì¤€ë¹„ Node.js í™˜ê²½ì—ì„œ Jestë¥¼ ì‚¬ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ í™˜ê²½ë¶€í„° êµ¬ì„±í•´ì•¼í•©ë‹ˆë‹¤.\nnode, npmëŠ” ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•˜ê³  ì§„í–‰í•©ë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ ì´ˆê¸°í™”\nìƒˆ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³ , ë§Œë“¤ì–´ì§„ ë””ë ‰í† ë¦¬ì— í”„ë¡œì íŠ¸ ì´ˆê¸°í™”ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n1 2 3 mkdir my-project cd my-project npm init íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ëŠ” npm tsc --init ëª…ë ¹ì„ ìˆ˜í–‰í•˜ë©´ ë©ë‹ˆë‹¤.\nJest ì„¤ì¹˜\ní”„ë¡œì íŠ¸ì— Jestë¥¼ ê°œë°œ ì˜ì¡´ì„±(dev dependency)ìœ¼ë¡œ ì„¤ì¹˜í•©ë‹ˆë‹¤.\n1 npm install --save-dev jest ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ package.json íŒŒì¼ì— Jest ê´€ë ¨ ì„¤ì •ì„ ì¶”ê°€í•©ë‹ˆë‹¤.\nscripts ì„¹ì…˜ì— í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•˜ì—¬ Jestë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.\n1 2 3 4 5 { \u0026#34;scripts\u0026#34;: { \u0026#34;test\u0026#34;: \u0026#34;jest\u0026#34; } } ë™ì‘ í™•ì¸ ì‹¤ì œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì—¬ ë™ì‘ì„ í™•ì¸í•´ë´…ë‹ˆë‹¤.\noperations.js\n1 2 3 const add = (a, b) =\u0026gt; a + b; module.exports = { add }; operations.test.js\n1 2 3 4 5 const { add } = require(\u0026#39;./operations\u0026#39;); test(\u0026#39;adds 1 + 2 to equal 3\u0026#39;, () =\u0026gt; { expect(add(1, 2)).toBe(3); }); ì‹¤í–‰ ê²°ê³¼\nëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.\n1 npm test ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nJest ê¸°ë³¸ í•¨ìˆ˜ Jestë¥¼ ì‚¬ìš©í•˜ê¸°ìœ„í•œ ê¸°ë³¸ì ì¸ í•¨ìˆ˜ë“¤ì„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\ní…ŒìŠ¤íŠ¸ í•¨ìˆ˜ test, it\në‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì •ì˜í•˜ëŠ” í•¨ìˆ˜ë¡œ, ë‘ í•¨ìˆ˜ ëª¨ë‘ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ì—¬ í¸í•œ ê²ƒì„ ì‚¬ìš©í•˜ë©´ ë˜ê² ìŠµë‹ˆë‹¤.\ní…ŒìŠ¤íŠ¸ë¥¼ ì„¤ëª…í•  ë¬¸ìì—´ê³¼ í…ŒìŠ¤íŠ¸ ë³¸ë¬¸ì„ í¬í•¨í•˜ëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 test(\u0026#39;í•¨ìˆ˜ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”\u0026#39;, () =\u0026gt; { expect(someFunction()).toBe(expectedValue); }); it(\u0026#39;í•¨ìˆ˜ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”\u0026#39;, () =\u0026gt; { expect(someFunction()).toBe(expectedValue); }); describe\ní…ŒìŠ¤íŠ¸ë¥¼ ê·¸ë£¹í™” í•˜ëŠ” í•©ìˆ˜ì…ë‹ˆë‹¤.\nê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ì˜ ë¸”ë¡ìœ¼ë¡œ ë¬¶ì–´ ì •ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 describe(\u0026#39;MyComponent\u0026#39;, () =\u0026gt; { test(\u0026#39;renders correctly\u0026#39;, () =\u0026gt; { expect(true).toBe(true); }); test(\u0026#39;another test\u0026#39;, () =\u0026gt; { expect(false).toBe(false); }); }); ê¸°ëŒ€ê°’ ì„¤ì • í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ ë³¸ë¬¸ì—ì„œ ì‚¬ìš©í•˜ë©°, ê²°ê³¼ê°€ íŠ¹ì • ê°’ì„ì„ í™•ì¸í•˜ëŠ” í•˜ê²Œë©ë‹ˆë‹¤.\nexpect\ní…ŒìŠ¤íŠ¸ì˜ ê¸°ëŒ€ê°’ì„ ì„¤ì •í•˜ì—¬, ë‹¤ì–‘í•œ ë§¤ì²˜(Matcher)ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ ê°’ì„ ê²€ì¦í•˜ê²Œë©ë‹ˆë‹¤.\n1 2 3 4 expect(value).toBe(expectedValue); expect(array).toContain(item); expect(object).toHaveProperty(\u0026#39;propertyName\u0026#39;); expect(function).toThrow(error); ì£¼ìš” ë§¤ì²˜\nê¸°ë³¸ì ìœ¼ë¡œ ë§ì´ í™œìš©ë˜ëŠ” ë§¤ì²˜ë“¤ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\ntoBe ê¸°ë³¸ì ì¸ ì¼ì¹˜ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. (ì—„ê²©í•œ ì¼ì¹˜) toEqual ê°ì²´ë‚˜ ë°°ì—´ì˜ ê°’ì„ ë¹„êµí•©ë‹ˆë‹¤. toBeNull ê°’ì´ nullì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤. toBeDefined ê°’ì´ ì •ì˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. toBeUndefined ê°’ì´ ì •ì˜ë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. toBeTruthy ê°’ì´ trueë¡œ í‰ê°€ë  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. toBeFalsy ê°’ì´ falseë¡œ í‰ê°€ë  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. toContain ë°°ì—´ì´ë‚˜ ë¬¸ìì—´ì— íŠ¹ì • ê°’ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. toHaveLength ë°°ì—´ì´ë‚˜ ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. toHaveProperty ê°ì²´ê°€ íŠ¹ì • í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. toMatch ë¬¸ìì—´ì´ ì •ê·œ í‘œí˜„ì‹ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. toThrow í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ëª¨í‚¹ ë° ìŠ¤íŒŒì´ jest.fn\nëª¨í‚¹ í•¨ìˆ˜ ìƒì„±ì— ì‚¬ìš©ë©ë‹ˆë‹¤.\ní•¨ìˆ˜ í˜¸ì¶œ ì—¬ë¶€, í˜¸ì¶œ íšŸìˆ˜, ì¸ì ë“±ì„ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 4 const mockFunction = jest.fn(); mockFunction(\u0026#39;arg1\u0026#39;, \u0026#39;arg2\u0026#39;); expect(mockFunction).toHaveBeenCalled(); expect(mockFunction).toHaveBeenCalledWith(\u0026#39;arg1\u0026#39;, \u0026#39;arg2\u0026#39;); jest.mock\nëª¨ë“ˆì„ ëª¨í‚¹í•˜ì—¬ ì™¸ë¶€ ì˜ì¡´ì„±ì„ ëŒ€ì²´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 jest.mock(\u0026#39;axios\u0026#39;); const axios = require(\u0026#39;axios\u0026#39;); axios.get.mockResolvedValue({ data: \u0026#39;mocked data\u0026#39; }); jest.spyOn\nê°ì²´ì˜ ë©”ì„œë“œë¥¼ ê°ì‹œí•˜ì—¬ í˜¸ì¶œ ì—¬ë¶€, í˜¸ì¶œ íšŸìˆ˜, ì¸ì ë“±ì„ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 const obj = { method: () =\u0026gt; \u0026#39;real implementation\u0026#39;, }; const spy = jest.spyOn(obj, \u0026#39;method\u0026#39;); obj.method(\u0026#39;arg1\u0026#39;); expect(spy).toHaveBeenCalledWith(\u0026#39;arg1\u0026#39;); í›… Hooks beforeAll, afterAll\nê° í…ŒìŠ¤íŠ¸ ë¸”ë¡ ì „í›„ì— í•œ ë²ˆì”© ì‹¤í–‰ë©ë‹ˆë‹¤.\n1 2 3 4 5 6 7 beforeAll(() =\u0026gt; { // ëª¨ë“  í…ŒìŠ¤íŠ¸ ì „ì— í•œ ë²ˆ ì‹¤í–‰ }); afterAll(() =\u0026gt; { // ëª¨ë“  í…ŒìŠ¤íŠ¸ í›„ì— í•œ ë²ˆ ì‹¤í–‰ }); beforeEach, afterEach\nê° í…ŒìŠ¤íŠ¸ ì „í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.\n1 2 3 4 5 6 7 beforeEach(() =\u0026gt; { // ê° í…ŒìŠ¤íŠ¸ ì „ì— ì‹¤í–‰ }); afterEach(() =\u0026gt; { // ê° í…ŒìŠ¤íŠ¸ í›„ì— ì‹¤í–‰ }); íƒ€ì„ì•„ì›ƒ ë° ê¸°íƒ€ ì„¤ì • jest.setTimeout\ní…ŒìŠ¤íŠ¸ì˜ íƒ€ì„ì•„ì›ƒ ì‹œê°„ì„ ì„¤ì •í•©ë‹ˆë‹¤.\n1 jest.setTimeout(10000); // 10ì´ˆë¡œ íƒ€ì„ì•„ì›ƒ ì„¤ì • test.only\ní•´ë‹¹ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰í•©ë‹ˆë‹¤. ì£¼ë¡œ ë””ë²„ê¹… ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n1 2 3 test.only(\u0026#39;only this test will run\u0026#39;, () =\u0026gt; { expect(true).toBe(true); }); test.skip\ní•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ ê±´ë„ˆëœë‹ˆë‹¤. ì„ì‹œë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì œì™¸í•˜ê³ ì í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.\n1 2 3 test.skip(\u0026#39;this test will be skipped\u0026#39;, () =\u0026gt; { expect(true).toBe(true); }); ê¸°íƒ€ ì°¾ì•„ë³´ë‹ˆ ìœ ìš©í•´ ë³´ì´ëŠ” ë‹¤ë¥¸ ê¸°ëŠ¥ë“¤ë„ ì¶”ê°€í•©ë‹ˆë‹¤.\nì»¤ë²„ë¦¬ì§€ í™•ì¸\ní…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 npx jest --coverage ë§ˆë¬´ë¦¬ ì‚¬ì‹¤ ì´ì „ ì§ì¥ì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ë¶€ì¬ë¡œ ì¸í•œ ê³ í†µì„ ë¼ˆì ¸ë¦¬ê²Œ ëŠê¼ˆì—ˆê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ì˜ ì¤‘ìš”ì„±ì€ ë„ˆë¬´ë‚˜ ì˜ ì•Œê³  ìˆìŠµë‹ˆë‹¤.\nê¼­ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•˜ê³  ìˆì§€ë§Œ, ìŠµê´€í™”ê°€ ì•ˆë˜ì–´ ì•„ì§ê¹Œì§€ëŠ” ì˜ í™œìš©í•˜ì§€ ëª»í•˜ê³  ìˆì—ˆëŠ”ë° ì´ë²ˆ ê¸°íšŒë¥¼ ì‹œì‘ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì˜ ì ìš©í•´ë³´ë ¤ê³  ë…¸ë ¥í•´ì•¼ê² ìŠµë‹ˆë‹¤.\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.ğŸ˜\n","date":"2024-07-23T13:53:35+09:00","image":"https://codemario318.github.io/post/jest-unit-test/cover_hu7fc001c9d5df8010367652495ae61bd0_46763_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/jest-unit-test/","title":"Jestë¥¼ í™œìš©í•œ ìœ ë‹› í…ŒìŠ¤íŠ¸"},{"content":"ë¶€ìŠ¤íŠ¸ìº í”„ ì±Œë¦°ì§€ ê³¼ì •ì— ì…ê³¼í•œ í›„ ì²« ì¼ì£¼ì¼ì´ í˜ë €ìŠµë‹ˆë‹¤.\nì±Œë¦°ì§€ ê³¼ì •ì€ ì´ 6ëª…ì´ ìŠ¤í„°í‹° ê·¸ë£¹ì„ êµ¬ì„±í•˜ì—¬ ì¼ì£¼ì¼ê°„ ì •í•´ì§„ ì¼ê³¼ì— ì°¸ì—¬í•˜ê²Œë©ë‹ˆë‹¤.\n(10:00 ~ 11:00) ì²´í¬ì¸ ë° í”¼ì–´ë¦¬ë·° (11:00 ~ 12:00) í”¼ì–´ì„¸ì…˜ (13:00 ~ 18:00) ë¯¸ì…˜ í•´ê²° ë° í•™ìŠµ (18:00 ~ 19:00) ë¯¸ì…˜ ê²°ê³¼ ì œì¶œ (19:00 ~ 09:00) ì²´í¬ì•„ì›ƒ ë° í•™ìŠµ ì •ë¦¬ ë§¤ì¼ ê°œë°œìê°€ ê¼­ ì•Œì•„ì•¼ í•  CS ì¤‘ í•µì‹¬ ë‚´ìš©ë“¤ì„ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ë¯¸ì…˜ì„ í•˜ë‚˜ì”© ìˆ˜í–‰í•˜ê²Œ ë˜ëŠ”ë°, ìƒê°ë³´ë‹¤ í›¨ì”¬ ë„ì „ì ì¸ ë¯¸ì…˜ë“¤ì´ ë‚˜ì™€ì„œ ì •ì‹ ì—†ì´ í•œ ì£¼ê°€ ì§€ë‚˜ê°”ìŠµë‹ˆë‹¤.\nì–´ë–¤ ë‚´ìš©ë“¤ì„ ê³µë¶€í–ˆëŠ”ì§€ëŠ” ê³µê°œí•  ìˆ˜ ì—†ì§€ë§Œ, ëŒ€ëµì ìœ¼ë¡œ ì–´ë–»ê²Œ ì§„í–‰ë˜ì—ˆëŠ”ì§€ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\ní”¼ì–´ì„¸ì…˜ ì œê°€ ê°€ì¥ ê¸°ëŒ€í–ˆë˜ ì¼ê³¼ì¸ í”¼ì–´ì„¸ì…˜ì€ ì˜¤ì „ 9ì‹œì— ê³µê°œë˜ëŠ” ìŠ¤í„°ë”” ê·¸ë£¹ì›ì˜ ê²°ê³¼ë¬¼ì„ í™•ì¸í•˜ê³ , 10ì‹œë¶€í„° ìš”êµ¬ì‚¬í•­ë“¤ì„ ì˜ êµ¬í˜„í–ˆëŠ”ì§€ ê¸°ë¡í•˜ëŠ” í”¼ì–´ë¦¬ë·°ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.\nì €ëŠ” í”¼ì–´ë¦¬ë·°ê°€ ì—´ë¦¬ê¸° ì „ì¸ ì˜¤ì „ 9ì‹œë¶€í„° ìŠ¤í„°ë”” ê·¸ë£¹ì˜ ëª¨ë“  ë¶„ë“¤ì˜ ì½”ë“œë¥¼ ê¼¼ê¼¼íˆ ì½ê³ , ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ì„í–ˆëŠ”ì§€, ì ‘ê·¼ë²•, ì˜í•œ ë¶€ë¶„, ê°œì„ ì´ í•„ìš”í•œ ë¶€ë¶„ì„ íŒŒì•…í•˜ëŠ”ë° ìµœëŒ€í•œ ë§ì€ ì‹œê°„ì„ ì“°ë ¤ê³  ë…¸ë ¥í•˜ì˜€ìŠµë‹ˆë‹¤.\ní”¼ì–´ë¦¬ë·°ê°€ ëë‚œ ì˜¤ì „ 11ì‹œë¶€í„° ë³¸ê²©ì ì¸ í”¼ì–´ì„¸ì…˜ì´ ì‹œì‘ë©ë‹ˆë‹¤.\nì €í¬ ìŠ¤í„°ë””ê·¸ë£¹ì€ ê°ìì˜ ê²°ê³¼ë¬¼ì„ ë¦¬ë·°í•˜ê³  ë‹¤ë¥¸ ìº í¼ë“¤ì´ ê²°ê³¼ë¬¼ì— ëŒ€í•´ì„œ ì§ˆë¬¸ê³¼ ì¹­ì°¬, ê°œì„ ì ì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ë©° ì˜ë¬¸ì ì´ ìƒê¸°ëŠ” ë¶€ë¶„ì€ í† ë¡ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\nìš”êµ¬ì‚¬í•­ ë¶„ì„ ê³¼ì • ì„¤ëª… ì„¤ê³„ ê²°ê³¼ ì„¤ëª… ì½”ë“œ ì„¤ëª… ì–´ë ¤ì› ë˜ ì , ê³ ìƒí•œ ì , ê³ ë¯¼ë˜ì—ˆë˜ ì  ê³µìœ  ë¯¸ì…˜ í•´ê²° ë° í•™ìŠµ ê°œë°œìë¼ë©´ ê¼­ ì•Œì•„ì•¼ í•  CS í•µì‹¬ ë‚´ìš©ì¤‘ í•œ ê°€ì§€ì˜ ê²°ê³¼ë¬¼ì„ ë§Œë“œëŠ” ë¯¸ì…˜ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\nì›Œë‚™ ì¤‘ìš”í•œ ë‚´ìš©ë“¤ì´ ë‚˜ì™€ì„œ ì´ë¯¸ ì•Œê³  ìˆë‹¤ê³  ìƒê°í–ˆëŠ”ë°, ë§‰ìƒ êµ¬í˜„í•˜ë ¤ê³ í•˜ë‹ˆ ì†ì´ ì˜ ì•ˆ ì›€ì§ì´ë”êµ°ìš”\u0026hellip;ğŸ˜…\ní•™ìŠµí•œì§€ ì‹œê°„ì´ ë§ì´ íë¥´ê¸°ë„ í–ˆê³ , ì²˜ìŒ ê³µë¶€í•  ë•Œ ë¶€í„° ë©´ì ‘ì— ì˜ ëŒ€ë‹µí•  ìˆ˜ ìˆëŠ” ì •ë„ë§Œ í•™ìŠµí–ˆë˜ ê³¼ê±°ì˜ ì €ì—ê²Œ ì‹¤ë§?í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì € ê°™ì€ ê²½ìš° ì´ë¯¸ ì›¹ãƒ»ëª¨ë°”ì¼ 5ê¸° ì±Œë¦°ì§€ ê³¼ì •ì„ ìˆ˜ë£Œí–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì²«ë‚ ì„ ì œì™¸í•œ ëª¨ë“  ë¯¸ì…˜ì— ë§ì€ ì‹œê°„ì„ í• ì• í•´ì•¼ í•  ì •ë„ë¡œ ì–´ë ¤ìš´ ë¯¸ì…˜ë“¤ì´ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤.\n2~4ì¼ì°¨ ê°™ì€ ê²½ìš° í‰ê· ì ìœ¼ë¡œ ì˜¤ì „ 3ì‹œê¹Œì§€ ë¯¸ì…˜ì„ ìˆ˜í–‰í–ˆê³ , ìŠ¬ë™ì—ëŠ” ìƒˆë²½ê¹Œì§€ í™œë™í•˜ì‹œëŠ” ìº í¼ë¶„ë“¤ë„ ê½¤ ë§ì•˜ìŠµë‹ˆë‹¤.\nëŠ¦ì€ ì‹œê°„ê¹Œì§€ ë¯¸ì…˜ì„ ìˆ˜í–‰í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë¯¸ì…˜ì„ ì™„ì „íˆ ìˆ˜í–‰í•˜ì§€ ëª»í•œ ìº í¼ë“¤ë„ ì†ì¶œí–ˆê³ , 5ê¸° í™œë™ê³¼ ë¹„êµí•´ë´¤ì„ë•Œë„ 2, 3ì£¼ì°¨ì— ë‚˜ì™€ì•¼ í•  ë¯¸ì…˜ë“¤ì´ ë‚˜ì™”ë˜ ê²ƒ ê°™ì•„ ì•ìœ¼ë¡œ ë‚˜ì˜¬ ë¯¸ì…˜ë“¤ì´ ê±±ì •ì´ ë˜ë©´ì„œë„ ê¸°ëŒ€ê°€ ë˜ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në˜í•œ ì´ë ‡ê²Œ ë„ì „ì ì¸ ë¯¸ì…˜ë“¤ë¡œ ì¸í•´ 5ê¸° ì±Œë¦°ì§€ ê³¼ì •ì˜ ì €ê°€ íšŒìƒë˜ë©°, ë‹¤ë¥¸ ìº í¼ë¶„ë“¤ì˜ ë©˜íƒˆ ê´€ë¦¬ê°€ ê±±ì •ë˜ê¸°ë„ í–ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ í”¼ì–´ì„¸ì…˜ì—ì„œ ìŠ¤í„°ë””ê·¸ë£¹ì›ë“¤ì—ê²Œ ìš©ê¸°ë¥¼ ë³µë‹ì•„ì£¼ê¸°ìœ„í•´ ë§ì€ í˜ì„ ì¼ìŠµë‹ˆë‹¤.\nì±Œë¦°ì§€ ì´ì „ì— ì§„í–‰ë˜ì—ˆë˜ ë² ì´ì§ ê³¼ì • ì¤‘ê°„ë¶€í„°, ì €ì˜ ê²°ê³¼ë¬¼ì„ í™•ì¸í•˜ì‹œëŠ” ìº í¼ë¶„ë“¤ì´ ë”ìš± ì˜ ì´í•´í•  ìˆ˜ ìˆë„ë¡ READMEì—ì„œ mermaidë¥¼ ì´ìš©í•œ ë‹¤ì´ì–´ê·¸ë¨ì„ í™œìš©í•˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\nìš”êµ¬ì‚¬í•­ ë¶„ì„ ê³¼ì •ì—ì„œ í”Œë¡œìš° ì°¨íŠ¸ë¥¼ ì´ìš©í•´ ë°ì´í„° ë° ì‘ì—…ë“¤ì˜ íë¦„ì„ ì˜ í‘œí˜„í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. ì„¤ê³„ ê³¼ì •ì—ì„œ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ë  ìë£Œêµ¬ì¡°ì™€ í´ë˜ìŠ¤, í•¨ìˆ˜ ë“±ì„ ì˜ˆì¸¡í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ì£¼ìš” ê¸°ëŠ¥ë“¤ì˜ êµ¬í˜„ ê³¼ì •ì„ ì„¤ëª…í•  ë•Œ í•´ë‹¹ ê¸°ëŠ¥ì„ì„ êµ¬í˜„í•œ ì‹¤ì œ ì½”ë“œë¥¼ í™œìš©í•˜ì—¬ ì½”ë“œë¥¼ ëœ¯ì–´ë³´ì§€ ì•Šê³ ë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì‹œë„í–ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ë¶€ë¶„ë“¤ì´ ìŠ¤í„°ë””ê·¸ë£¹ì›ë“¤ì´ ì €ì˜ ê²°ê³¼ë¬¼ì„ ì´í•´í•˜ëŠ”ë° í° ë„ì›€ì´ ë˜ì—ˆë‹¤ê³  ë§ì”€í•˜ì…”ì„œ ë¿Œë“¯í–ˆë„¤ìš”ğŸ˜Š\ní•™ìŠµ ì •ë¦¬ ëŠ¦ì€ ì‹œê°„ê¹Œì§€ ë¯¸ì…˜ì„ ìˆ˜í–‰í•˜ë‹¤ë³´ë‹ˆ, í•™ìŠµ ë‚´ìš©ì„ ì •ë¦¬ í•  ì‹œê°„ì´ ë¶€ì¡±í–ˆìŠµë‹ˆë‹¤. í•‘ê³„1\nì‚¬ì‹¤ í•™ìŠµ ì •ë¦¬ë¥¼ í•  ë§Œí¼ í•™ìŠµí•œ ë‚´ìš©ì€ ì—†ì—ˆìŠµë‹ˆë‹¤.\nì¼ê³¼ì˜ ë§ˆì§€ë§‰ì¸ ê¸ˆìš”ì¼ì— ë§ˆì§€ë§‰ ì¼ê³¼ë¡œ ìˆ˜ë£Œìƒë“¤ê³¼ì˜ ë°‹ì—… ì‹œê°„ì„ ê°€ì¡ŒëŠ”ë° ë§¤ì¼ ìƒˆë²½ 5ì‹œì— ì£¼ë¬´ì‹œë©´ì„œë„ ì–´ë–»ê²Œë“  ì •ë¦¬ë¥¼ ëë‚´ì…¨ë‹¤ëŠ” ë§ì”€ì„ ë“£ê³  ì¡°ê¸ˆ(ë§ì´) ë°˜ì„±í•˜ê²Œ ë˜ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\në‹¤ìŒ ì¼ê³¼ë•Œë¶€í„°ëŠ” ì •ë§ë¡œ í•™ìŠµì´ í•„ìš”í•œ ë¯¸ì…˜ì´ ë‚˜ì˜¬ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ, í•™ìŠµì´ í•„ìš”í•˜ì§€ ì•Šë”ë¼ê³  ë‹¤ë¥¸ ë¶„ë“¤ì´ ì°¸ê³ í•  ìˆ˜ ìˆë„ë¡ ë…¸í•˜ìš°ë¥¼ ë‹´ëŠ” ë°©ì‹ìœ¼ë¡œ ì‹œë„í•´ë´ì•¼ê² ìŠµë‹ˆë‹¤.\në§ˆë¬´ë¦¬ ë¶€ìŠ¤íŠ¸ìº í”„ ì›¹ëª¨ë°”ì¼ ê³¼ì • 9ê¸°ì— ì°¸ì—¬í•˜ê¸° ì „, 5ê¸° ì±Œë¦°ì§€ ê³¼ì •ì—ì„œ ë›°ì–´ë‚œ ì—­ëŸ‰ì˜ ë‹¤ë¥¸ ìº í¼ë¶„ë“¤ì„ ë³´ê³  ì˜ì§€ë¥¼ ë¶ˆíƒœìš°ë©° í•™ìŠµí•˜ë˜ ì €ì˜ ëª¨ìŠµì´ ë– ì˜¬ëìŠµë‹ˆë‹¤.\nê·¸ëŸ° ì´ìœ ë¡œ ì´ë²ˆì—” ì œê°€ ë‹¤ë¥¸ ìº í¼ë¶„ë“¤ì˜ êµë³´ì¬, ì´ì •í‘œê°€ ë  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ? ë¼ëŠ” ê±´ë°©ì§„ ìƒê°ì„ í•˜ê²Œ ë˜ì—ˆì–´ìš”ğŸ˜‚\nì œê°€ ë›°ì–´ë‚œ ë‹¤ë¥¸ ìº í¼ë“¤ì„ ë³´ë©° ë™ê¸°ë¶€ì—¬í•˜ê³  ë”°ë¼í•´ë³´ë©° ì„±ì¥í–ˆë˜ ê²ƒ ì²˜ëŸ¼, ì´ë²ˆì—ëŠ” ì œê°€ ê·¸ ì—­í• ì„ í•´ë³´ë ¤ê³ í•©ë‹ˆë‹¤.\në‹¤ë¥¸ ìº í¼ë‹˜ë“¤ ê·¸ë¦¬ê³  ì´ ê¸€ì„ ë³´ê²Œ ë  ë§ì€ ë¶„ë“¤ í¬ê¸°í•˜ì§€ ë§ˆì‹œê³  ê°™ì´ ëê¹Œì§€ ì—´ì‹¬íˆ í•´ë´ìš”ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥\në§ˆì§€ë§‰ìœ¼ë¡œ ì¡°ê¸ˆ ë¶€ë„ëŸ½ì§€ë§Œ ê·¸ë£¹ íšŒê³ ì— ë‚¨ê¸´ ì‘ì› ë©”ì‹œì§€ë¥¼ ì˜¬ë ¤ë´…ë‹ˆë‹¤. ë‹¤ë¥¸ ë¶„ë“¤ë„ ê¼­ í˜ì´ ë˜ì…¨ìœ¼ë©´ ì¢‹ê² ì–´ìš”. í™”ì´íŒ…~~ğŸ‘ŠğŸ‘ŠğŸ‘Š\nì•ˆë…•í•˜ì„¸ìš” :D\në§ˆì§€ë§‰ì— íŒ€íšŒê³ ì—ì„œ ë§ì”€ë“œë ¸ì§€ë§Œ, ì‚¬ì‹¤ ì €ëŠ” 5ê¸° ì±Œë¦°ì§€ ìˆ˜ë£Œìƒì´ì—ˆì–´ìš” ã…ã…\nì—¬ëŸ¬ë¶„ê³¼ ê°™ì´ í”¼ì–´ì„¸ì…˜ ìˆ˜í–‰í•˜ë©´ì„œ ì²˜ìŒ ë¶€ìº  í–ˆë˜ ëª¨ìŠµì´ ìƒê°ë‚˜ì„œ ë­”ê°€ ì¢‹ê¸°ë„í•˜ê³  ì‹«ê¸°ë„ í•˜ê³  ë³µì¡í•œ ê¸°ë¶„ì´ ë“¤ì—ˆì—ˆë„¤ìš”.\nì œê°€ 5ê¸° ì±Œë¦°ì§€ ì°¸ì—¬í•  ë•Œë„ ì˜í•˜ì‹œëŠ” ë¶„ë“¤ì´ ë§ì•˜ì—ˆëŠ”ë°, ì´ë²ˆ í”¼ì–´ì„¸ì…˜ì„ ì§„í–‰í•˜ë©´ì„œ ì°¸ì—¬í•˜ì‹  ëª¨ë‘ ì €ë¥¼ ì˜í•œë‹¤ê³ , ë§ì´ ë°°ì›Œê°„ë‹¤ê³  ë§ì”€í•´ì£¼ì…”ì„œ ê°ì‚¬í–ˆìŠµë‹ˆë‹¤.\nê·¸ëŸ¬ë©´ì„œë„ ì œê°€ ë‹¤ë¥¸ ë›°ì–´ë‚œ ë¶„ë“¤ì„ ë³´ë©´ì„œ ëŠê¼ˆë˜ ì•ˆì¢‹ì€ ê°ì •ë“¤ì„ ëŠë¼ê³  ê³„ì‹  ê²ƒ ê°™ì•„ì„œ ë­”ê°€ ì•ˆíƒ€ê¹ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ì±Œë¦°ì§€ë¥¼ ë¨¼ì € ìˆ˜ë£Œí•œ ì…ì¥ìœ¼ë¡œ ê¼­ í•´ë“œë¦¬ê³  ì‹¶ì€ ë§ì´ ìˆì–´ìš”!\nì˜ í•˜ëŠ” ì‚¬ëŒì„ ë³´ë©´ì„œ ë™ê¸°ë¶€ì—¬ê°€ ë˜ê³ , ì‹¤ì œë¡œ ì¢‹ì€ ë¶€ë¶„ì„ ë”°ë¼í•´ë³´ë©´ì„œ ë°°ìš°ëŠ”ê²Œ ì •ë§ë¡œ ì¢‹ì€ ì„±ì¥ ë°©ë²• ì¤‘ í•˜ë‚˜ì´ì£ .\nì´ë•Œ ê·¸ ì‚¬ëŒë§Œí¼ í˜¹ì€ ë³´ë‹¤ ë” ì˜í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ë¶€ìº ì—ì„œ ê³„ì†í•´ì„œ ê°•ì¡°í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ìŠ¤ìŠ¤ë¡œì˜ ì„±ì¥ì— ì§‘ì¤‘í•˜ì…”ì•¼í•´ìš”.\nì²˜ìŒì—ëŠ” ë™ê¸°ë¶€ì—¬ì— ë§ì€ ë„ì›€ì´ ë˜ê³ , ì‹¤ë ¥ì´ ë¹ ë¥´ê²Œ ì¢‹ì•„ì§€ëŠ” ê²½í—˜ì„ í•˜ì‹¤ ìˆ˜ ìˆì§€ë§Œ, ì˜ í•˜ëŠ” ë¶„ë“¤ê³¼ì˜ ë¹„êµê°€ ë°˜ë³µë˜ë©´ ìì±…í•˜ê²Œë˜ë”ë¼êµ¬ìš”.\nì•ìœ¼ë¡œ ê°•ë„ ë†’ì€ ë¯¸ì…˜ë“¤ì„ ê³„ì† ìˆ˜í–‰í•˜ì‹œë©´ì„œ ì²´ë ¥ì , ì •ì‹ ì ìœ¼ë¡œ í•œê³„ë¥¼ ëŠë¼ê²Œ ë˜ì‹¤ê±°ì—ìš”.\nì´ëŸ° ìƒí™©ì—ì„œ ë¹„êµê°€ ë°˜ë³µë˜ë©´ ìì±…ì´ ì ì  ë” ì‹¬í•´ì§€ê³ , ì´ë¡œ ì¸í•´ ë§ˆìŒì´ êº¾ê¸°ê²Œ ë˜ë©´, ê½¤ ì˜¤ëœ ê¸°ê°„ë™ì•ˆ ë¹ ì ¸ë‚˜ì˜¬ìˆ˜ ì—†ë”ë¼êµ¬ìš”\u0026hellip;ã…ã…\nê·¸ë ‡ê¸° ë•Œë¬¸ì— ì˜ í•˜ì‹œëŠ” ë¶„ë“¤ì˜ ê²°ê³¼ë¬¼ë“¤ì€ í•™ìŠµ ì¬ë£Œë¡œë§Œ ì‚¬ìš©í•˜ì‹œê³ , ìŠ¤ìŠ¤ë¡œê°€ ì–¼ë§Œí¼ ë” ì˜í•´ì¡ŒëŠ”ì§€, ê·¸ë¦¬ê³  ì˜í•œê²Œ ìˆë‹¤ë©´ ìŠ¤ìŠ¤ë¡œ ì¹­ì°¬í•´ ì£¼ëŠ” ê±´ ì–´ë–¨ê¹Œìš”?\nì§€ê¸ˆ ì˜í•˜ì‹œëŠ” ë‹¤ë¥¸ ë¶„ë“¤ë„ ì—¬ëŸ¬ë¶„ë“¤ê³¼ ê°™ì€ ë‹¨ê³„ë¥¼ ë°Ÿì•„ì˜¤ì…¨ì–´ìš”!\ní•­ìƒ ë§ì”€ë“œë¦°ê²ƒ ì²˜ëŸ¼ ì €ëŠ” ì¡°ê¸ˆ ë” ê³µë¶€í•˜ê³ , ê²½í—˜í•œ ê²ƒ ë¿ì´êµ¬ìš”! ì•ìœ¼ë¡œ ê¾¸ì¤€íˆ ë…¸ë ¥í•˜ì‹ ë‹¤ë©´ ì €ë³´ë‹¤ í›¨ì”¬ ì˜í•˜ì‹¤ìˆ˜ ìˆìœ¼ì‹¤ê±°ì—ìš”!!(ì €ë„ ì—„ì²­ ì–´ë ¤ì› ì–´ìš” ã…‹ã…‹)\nê¸ˆìš”ì¼ ë¦´í”„ì—ì„œ \u0026ldquo;ê°œë°œì ì›ì¹™\u0026quot;ì´ë¼ëŠ” ì±…ì˜ \u0026ldquo;íƒì›”í•œ íŒ€ì˜ íŠ¹ì§•\u0026quot;ì— ëŒ€í•œ ì´ì•¼ê¸°ê°€ ë‚˜ì™”ëŠ”ë°, êµ¬ê¸€ì—ì„œ ì¡°ì‚¬í•œ íƒì›”í•œ íŒ€ì˜ ê³µí†µì ì€ \u0026ldquo;ì‹¬ë¦¬ì  ì•ˆì •ê°\u0026quot;ì´ì˜€êµ¬ìš”,\n\u0026ldquo;ì•ˆì •ê°\u0026quot;ì€ \u0026ldquo;ì‹¤ìˆ˜ê°€ ë“œëŸ¬ë‚¬ì„ ë•Œì—ë„ ì²˜ë²Œë°›ê±°ë‚˜ ë†€ë¦¼ ë°›ì§€ ì•Šì„ ê²ƒ ì´ë¼ëŠ” ë¯¿ìŒ\u0026quot;ì´ë¼ê³  í•©ë‹ˆë‹¤.\nì´ ì´ì•¼ê¸°ë¥¼ ë‹¤ë¥¸ ê´€ì ì—ì„œ í•´ì„í•´ë³´ë©´, íƒì›”í•œ ì—­ëŸ‰ì„ ê°€ì§„ ì¸ì›ë“¤ì˜ íŠ¹ì§•ì€ \u0026ldquo;ì‹¤ìˆ˜ê°€ ë“œëŸ¬ë‚¬ì„ ë•Œë„ ë¶€ë„ëŸ¬ì›Œí•˜ê±°ë‚˜, ë‘ë ¤ì›Œí•˜ì§€ ì•ŠëŠ”ë‹¤.\u0026rdquo; ì•„ë‹ê¹Œìš”?\nê·¸ë ‡ë‹¤ë©´ íƒì›”í•œ ì—­ëŸ‰ì„ ê°€ì§„ ê°œë°œìê°€ ë˜ê¸° ìœ„í•´ì„œëŠ” \u0026ldquo;ì‹¤ìˆ˜ë‚˜ ë¶€ì¡±í•œ ë¶€ë¶„ë“¤ì„\u001d ë¶€ë„ëŸ½ê²Œ ìƒê°í•˜ì§€ ì•Šê³ , ë‘ë ¤ì›Œí•˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ”ê²Œ ì•„ë‹ê¹Œ?\u0026rdquo; ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.\nê±±ì •í•˜ì§€ë§ˆì„¸ìš”!!!\në‹¹ì¥ ìŠ¤ìŠ¤ë¡œê°€ ë¶€ì¡±í•˜ë‹¤ê³  ëŠë¼ì‹¤ì§€ ëª¨ë¥´ê² ì§€ë§Œ, ëª¨ë‘ ì´ë²ˆ ë¶€ìº ì„ í†µí•´ ë¶„ëª…íˆ ì´ì „ë³´ë‹¤ ì„±ì¥í•˜ì‹œê²Œ ë  ê±°êµ¬ìš”! ì•ìœ¼ë¡œ ê³„ì† ì„±ì¥í•˜ì‹¤ê±°ì–ì•„ìš”?\n1ì£¼ê°„ ì¦ê±°ì› ìŠµë‹ˆë‹¤! ëª¨ë‘ ì±Œë¦°ì§€ ëê¹Œì§€ ì¹˜ì—´í•˜ê²Œ ì°¸ì—¬í•˜ê³ , ë§´ë²„ì‰½ì—ì„œ ë‹¤ì‹œ ëµˆì–´ìš” :)\n","date":"2024-07-21T20:49:49+09:00","image":"https://codemario318.github.io/post/boostcamp-9th/review/challenge/1/cover_hu19d27c1827c5e9fb407a4e610db031e0_130036_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/boostcamp-9th/review/challenge/1/","title":"ì±Œë¦°ì§€ ê³¼ì • 1ì£¼ì°¨ íšŒê³ "},{"content":"ìœ íŠœë¸Œ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ëŠ” ë°©ì‹ì€ ë„·í”Œë¦­ìŠ¤ë‚˜ í›Œë£¨ ê°™ì€ ë¹„ë””ì˜¤ í”Œë«í¼ì„ ì„¤ê³„í•˜ëŠ” ë¬¸ì œì—ë„ ì ìš© ê°€ëŠ¥í•˜ë‹¤.\nìœ íŠœë¸Œ ì‹œìŠ¤í…œì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ë“¤ì€ ë‹¨ìˆœí•´ë³´ì´ì§€ë§Œ, ì—„ì²­ë‚œ íŠ¸ë˜í”½ìœ¼ë¡œ ì¸í•´ ë§¤ìš° ë³µì¡í•œ ìˆ˜ë§ì€ ê¸°ìˆ ë“¤ì´ ìˆ¨ì–´ìˆë‹¤.\nMAU: 20ì–µ ë§¤ì¼ ì¬ìƒë˜ëŠ” ë¹„ë””ì˜¤ ìˆ˜: 50ì–µ 5ì²œë§Œëª…ì˜ ì°½ì‘ì ê´‘ê³  ìˆ˜ì…ì€ 2019ë…„ ê¸°ì¤‘ 150ì–µ ë‹¬ëŸ¬ ì „ì²´ ëª¨ë°”ì¼ íŠ¸ë˜í”½ ì¤‘ 37%ëŠ” ìœ íŠœë¸Œ 80ê°œ ì–¸ì–´ë¡œ ì‚¬ìš© ê°€ëŠ¥ 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ìœ íŠœë¸Œì—ì„œëŠ” ë¹„ë””ì˜¤ë¥¼ ë³´ëŠ” ê²ƒ ë§ê³ ë„ ë§ì€ ì¼ì„ í•  ìˆ˜ ìˆë‹¤.\nëŒ“ê¸€ ë¹„ë””ì˜¤ ê³µìœ  ì¢‹ì•„ìš” ì¬ìƒ ëª©ë¡ ì €ì¥ êµ¬ë… ëª¨ë“  ë‚´ìš©ì„ ì„¤ê³„ ë©´ì ‘ ë™ì•ˆ ë§Œë“¤ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ìš”êµ¬í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥ë§Œì„ ì°¾ì•„ ë²”ìœ„ë¥¼ ì œí•œí•´ì•¼í•œë‹¤.\nQ. ê°€ì¥ ì¤‘ìš”í•œ ê¸°ëŠ¥ì€? A. ë¹„ë””ì˜¤ë¥¼ ì˜¬ë¦¬ëŠ” ê¸°ëŠ¥ê³¼ ì‹œì²­í•˜ëŠ” ê¸°ëŠ¥ Q. ì§€ì› í´ë¼ì´ì–¸íŠ¸ëŠ”? A. ëª¨ë°”ì¼ ì•±, ì›¹ ë¸Œë¼ìš°ì €, ìŠ¤ë§ˆíŠ¸ TV Q. ì¼ê°„ ëŠ¥ë™ ì‚¬ìš©ì ìˆ˜? A. 5ë°±ë§Œ Q. ì´ ì œí’ˆì— í‰ê· ì ìœ¼ë¡œ ì†Œë¹„í•˜ëŠ” ì‹œê°„ A. 30ë¶„ Q. ë‹¤êµ­ì–´ ì§€ì›? A. ì–´ë–¤ ì–¸ì–´ë¡œë„ ì‚¬ìš© ê°€ëŠ¥í•´ì•¼í•¨ Q. ë¹„ë””ì˜¤ í•´ìƒë„ ì§€ì› ë²”ìœ„? A. í˜„ì¡´í•˜ëŠ” ë¹„ë””ì˜¤ ì¢…ë¥˜ì™€ í•´ìƒë„ë¥¼ ëŒ€ë¶€ë¶„ ì§€ì›í•´ì•¼í•¨ Q. ì•”í˜¸í™”? A. Y Q. ë¹„ë””ì˜¤ íŒŒì¼ í¬ê¸°ì— ì œí•œ? A. 1GB Q. í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€? A. Y ìœ„ ì§ˆë¬¸ì„ í†µí•´ ì°¾ì•„ë‚¸ ìš”êµ¬ì‚¬í•­ê³¼ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤ì— í•„ìš”í•œ í•­ëª©ë“¤ì„ ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\në¹ ë¥¸ ë¹„ë””ì˜¤ ì—…ë¡œë“œ ì›í™œí•œ ë¹„ë””ì˜¤ ì¬ìƒ ì¬ìƒ í’ˆì§ˆ ì„ íƒ ê°€ëŠ¥(ëŒ€ë¶€ë¶„ì˜ ì¢…ë¥˜ì™€ í•´ìƒë„ ì§€ì›) ë‚®ì€ ì¸í”„ë¼ ë¹„ìš© ë†’ì€ ê°€ìš©ì„±ê³¼ ê·œëª¨ í™•ì¥ì„±, ì•ˆì •ì„±(DAU 5ë°±ë§Œ) ì§€ì› í´ë¼ì´ì–¸íŠ¸(ëª¨ë°”ì¼ ì•±, ë¸Œë¼ìš°ì €, ìŠ¤ë§ˆíŠ¸ TV) ê°œëµì  ê·œëª¨ ì¶”ì • ì‹œìŠ¤í…œì´ ì²˜ë¦¬í•´ì•¼í•˜ëŠ” íŠ¸ë˜í”½ ê·œëª¨ë¥¼ ì¶”ì •í•˜ì—¬ ì–´ë–¤ ê¸°ìˆ ë“¤ì„ ì–´ë””ê¹Œì§€ í™œìš©í•´ì•¼ì•¼í•˜ëŠ”ì§€ íŒŒì•…í•œë‹¤.\në„ë©”ì¸ì— ëŒ€í•´ ì •í™•íˆ íŒŒì•…í•  ìˆ˜ ì—†ì„ ë•ŒëŠ” ìƒì‹ì ì¸ ë²”ìœ„ ë‚´ì—ì„œ ì¡°ê±´ì„ ê°€ì •í•œë‹¤.\nDAU 5ë°±ë§Œ í•œ ì‚¬ìš©ìê°€ í•˜ë£¨ í‰ê·  5ê°œ ë¹„ë””ì˜¤ ì‹œì²­ 10%ì˜ ì‚¬ìš©ìê°€ í•˜ë£¨ì— ë¹„ë””ì˜¤ 1ê°œ ì—…ë¡œë“œ ë¹„ë””ì˜¤ì˜ í‰ê·  í¬ê¸°ëŠ” 300MB ë¹„ë””ì˜¤ ì €ì¥ì„ ìœ„í•´ ë§¤ì¼ ìƒˆë¡œ ìš”êµ¬ë˜ëŠ” ì €ì¥ ìš©ëŸ‰ 500ë§Œ * 10% * 300MB = 150TB CDN ë¹„ìš© í´ë¼ìš°ë“œ CDN ì‚¬ìš©ì‹œ ë‚˜ê°€ëŠ” ë°ì´í„°ì˜ ì–‘ì— ë”°ë¼ ê³¼ê¸ˆëœë‹¤. ì•„ë§ˆì¡´ í´ë¼ìš°ë“œ í”„ë¡ íŠ¸ë¥¼ ì‚¬ìš©í•  ê²½ìš°, ë¯¸êµ­ ê¸°ì¤€ 1GBë‹¹ $0.02 ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° ê¸°ì¤€ 5ë°±ë§Œ * 5 ë¹„ë””ì˜¤ * 0.3GB * $0.02 = $150,000 ì¶”ì • ê²°ê³¼ì— ë”°ë¥´ë©´ CDNì„ í†µí•´ ë¹„ë””ì˜¤ë¥¼ ì„œë¹„ìŠ¤í•  ê²½ìš° ë¹„ìš©ì´ ì—„ì²­ë‚˜ë‹¤.\në”°ë¼ì„œ CDNìœ¼ë¡œ ì¸í•œ ë¹„ìš©ì„ ì¤„ì´ëŠ” ë°©ë²•ë“¤ê¹Œì§€ ê³ ë¯¼í•´ì•¼í•œë‹¤.\n2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ì´ë²ˆ ì„¤ê³„ì•ˆì€ CDNê³¼ BLOB ìŠ¤í† ë¦¬ì§€ì˜ ê²½ìš° ê¸°ì¡´ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œë‹¤.\nì‹œìŠ¤í…œ ì„¤ê³„ ë©´ì ‘ì€ ëª¨ë“  ê²ƒì„ ë°‘ë°”ë‹¥ë¶€í„° ë§Œë“œëŠ” ê²ƒê³¼ëŠ” í° ê´€ê³„ëŠ” ì—†ë‹¤. ì£¼ì–´ì§„ ì‹œê°„ ì•ˆì— ì ì ˆí•œ ê¸°ìˆ ì„ ê³¨ë¼ ì„¤ê³„ë¥¼ ë§ˆì¹˜ëŠ” ê²ƒì´ í•µì‹¬ ëª¨ë“  ì„¸ë¶€ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ ì„¤ê³„ë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì€ ì§€ë‚˜ì¹˜ë‹¤. ê·œëª¨ í™•ì¥ì´ ì‰¬ìš´ BLOB ì €ì¥ì†Œ, CDNì„ ë§Œë“œëŠ” ê²ƒì€ ë³µì¡í•˜ë©°, ë¹„ìš©ì´ ë§ì´ ë“ ë‹¤. ë„·í”Œë¦­ìŠ¤, í˜ì´ìŠ¤ë¶ ê°™ì€ íšŒì‚¬ë“¤ë„ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ì •ë„ë¡œ ê°œëµì ìœ¼ë¡œ ë³´ë©´ ì´ ì‹œìŠ¤í…œì€ ì„¸ê°€ì§€ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ëœë‹¤.\nì‚¬ìš©ì ë‹¨ë§ CDN ë¹„ë””ì˜¤ê°€ ì €ì¥ë˜ë©° ì¬ìƒ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ CDNìœ¼ë¡œë¶€í„° ìŠ¤íŠ¸ë¦¬ë°ì´ ì´ë£¨ì–´ì§„ë‹¤. API ì„œë²„ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°ì„ ì œì™¸í•œ ëª¨ë“  ìš”ì²­ì€ API ì„œë²„ê°€ ì²˜ë¦¬í•œë‹¤. í”¼ë“œ ì¶”ì²œ, ë¹„ë””ì˜¤ ì—…ë¡œë“œ URL ìƒì„±, ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ì™€ ìºì‹œ ê°±ì‹ , ì‚¬ìš©ì ê°€ì… ë“± í•µì‹¬ ì˜ì—­ì¸ ë¹„ë””ì˜¤ ì—…ë¡œë“œ ì ˆì°¨ì™€ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° ì ˆì°¨ë¥¼ ì„¤ê³„í•œë‹¤.\në¹„ë””ì˜¤ ì—…ë¡œë“œ ì ˆì°¨ API ì„œë²„ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°ì„ ì œì™¸í•œ ëª¨ë“  ìš”ì²­ ì²˜ë¦¬ ë©”íƒ€ë°ì´í„° DB ë¹„ë””ì˜¤ì˜ ë©”íƒ€ë°ì´í„° ë³´ê´€ ìƒ¤ë”©ê³¼ ë‹¤ì¤‘í™”ë¥¼ ì ìš©í•˜ì—¬ ì„±ëŠ¥ ë° ê°€ìš©ì„± ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±ì‹œí‚¨ë‹¤ê³  ê°€ì • ë©”íƒ€ë°ì´í„° ìºì‹œ ë¹„ë””ì˜¤ ë©”íƒ€ë°ì´í„°ì™€ ì‚¬ìš©ì ê°ì²´ë¥¼ ìºì‹± ì›ë³¸ ì €ì¥ì†Œ ì›ë³¸ ë¹„ë””ì˜¤ë¥¼ ë³´ê´€í•  ëŒ€í˜• ì´ì§„ íŒŒì¼ ì €ì¥ì†Œ BLOB(Binary Large Object storage) ì´ì§„ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ ê°œì²´ë¡œ ë³´ê´€í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ íŠ¸ëœìŠ¤ì½”ë”© ì„œë²„ ë¹„ë””ì˜¤ì˜ í¬ë§·ì„ ë³€í˜¸ë‚˜í•˜ëŠ” ì ˆì°¨ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì„œë²„ ë‹¨ë§, ëŒ€ì—­í­ ìš”êµ¬ì‚¬í•­ì— ë§ëŠ” ìµœì ì˜ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ì„ ì œê³µí•˜ê¸° ìœ„í•´ íŠ¸ëœìŠ¤ì½”ë”© ë¹„ë””ì˜¤ ì €ì¥ì†Œ íŠ¸ëœìŠ¤ì½”ë”©ì´ ì™„ë£Œëœ ë¹„ë””ì˜¤ë¥¼ ì €ì¥í•˜ëŠ” BLOB ì €ì¥ì†Œ CDN ë¹„ë””ì˜¤ë¥¼ ìºì‹± ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°ì€ CDNì„ í†µí•´ ì´ë£¨ì–´ì§ íŠ¸ëœìŠ¤ì½”ë”© ì™„ë£Œ í ë¹„ë””ì˜¤ íŠ¸ëœìŠ¤ì½”ë”© ì™„ë£Œ ì´ë²¤íŠ¸ë¥¼ ë³´ê´€í•  ë©”ì‹œì§€ í íŠ¸ëœìŠ¤ì½”ë”© ì™„ë£Œ í•¸ë“¤ëŸ¬ íŠ¸ëœìŠ¤ì½”ë”© ì™„ë£Œ íì—ì„œ ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ êº¼ë‚´ì–´ ë©”íƒ€ë°ì´í„° ìºì‹œì™€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê°±ì‹ í•  ì‘ì—… ì„œë²„ë“¤ ë¹„ë””ì˜¤ ì—…ë¡œë“œëŠ” ë¹„ë””ì˜¤ ì—…ë¡œë“œì™€ ë¹„ë””ì˜¤ ë©”íƒ€ë°ì´í„° ê°±ì‹ ì´ ë³‘ë ¬ì ìœ¼ë¡œ ìˆ˜í–‰ëœë‹¤.\ní”„ë¡œì„¸ìŠ¤ a: ë¹„ë””ì˜¤ ì—…ë¡œë“œ\në¹„ë””ì˜¤ë¥¼ ì›ë³¸ ì €ì¥ì†Œì— ì—…ë¡œë“œ íŠ¸ëœìŠ¤ ì½”ë”© ì„œë²„ê°€ ì›ë³¸ ì €ì¥ì†Œì—ì„œ í•´ë‹¹ ë¹„ë””ì˜¤ë¥¼ ê°€ì ¸ì™€ íŠ¸ëœìŠ¤ì½”ë”©ì„ ì‹œì‘ ì™„ë£Œ í›„ ì•„ë˜ ì ˆì°¨ê°€ ë³‘ë ¬ì ìœ¼ë¡œ ìˆ˜í–‰ íŠ¸ëœìŠ¤ì½”ë”© ë¹„ë””ì˜¤ ì €ì¥ì†Œë¡œ ì—…ë¡œë“œ íŠ¸ëœìŠ¤ì½”ë”© ì™„ë£Œ ì´ë²¤íŠ¸ë¥¼ íŠ¸ëœìŠ¤ì½”ë”© ì™„ë£Œ íì— ë„£ìŒ íŠ¸ëœìŠ¤ì½”ë”©ì´ ëë‚œ ë¹„ë””ì˜¤ë¥¼ CDNì— ì˜¬ë¦¼ ì™„ë£Œ í•¸ë“¤ëŸ¬ê°€ ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ íì—ì„œ êº¼ëƒ„ ì™„ë£Œ í•¸ë“¤ëŸ¬ê°€ ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ì™€ ìºì‹œë¥¼ ê°±ì‹  ë¹„ë””ì˜¤ ì—…ë¡œë“œê°€ ëë‚˜ ìŠ¤íŠ¸ë¦¬ë° ì¤€ë¹„ê°€ ë˜ì—ˆìŒì„ ì•Œë¦¼ í”„ë¡œì„¸ìŠ¤ b: ë©”íƒ€ë°ì´í„° ê°±ì‹ \nì›ë³¸ ì €ì¥ì†Œì— íŒŒì¼ì´ ì—…ë¡œë“œ ë˜ëŠ” ë™ì•ˆ, ë³‘ë ¬ì ìœ¼ë¡œ ë¹„ë””ì˜¤ ë©”íƒ€ë°ì´í„° ê°±ì‹  ìš”ì²­ì„ API ì„œë²„ì— ë³´ë‚´ ì²˜ë¦¬í•œë‹¤.\níŒŒì¼ ì´ë¦„, í¬ê¸°, í¬ë§· ë“± ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° ì ˆì°¨ ìŠ¤íŠ¸ë¦¬ë°ì€ ì‚¬ìš©ìì˜ ì¥ì¹˜ê°€ ì›ê²©ì§€ì˜ ë¹„ë””ì˜¤ë¡œë¶€í„° ì§€ì†ì ìœ¼ë¡œ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ì„ ì „ì†¡ë°›ì•„ ì˜ìƒì„ ì¬ìƒí•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.\nìŠ¤íŠ¸ë¦¬ë° í”„ë¡œí† ì½œ\në¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°ì„ ìœ„í•´ ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•Œ ì“°ì´ëŠ” í‘œì¤€í™”ëœ í†µì‹  ë°©ë²•\nMPEG-DASH(Moving Picture Experts Group-Dynamic Adaptive Streaming over HTTP) Apple HLS(HTTP Live Streaming) MS Smooth Streaming ì–´ë„ë¹„ HDS(HTTP Dynamic Streaming) ë“± í”„ë¡œí† ì½œë§ˆë‹¤ ì§€ì›í•˜ëŠ” ë¹„ë””ì˜¤ ì¸ì½”ë”©ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— í”Œë ˆì´ì–´ë„ ë‹¤ë¥´ë‹¤.\në”°ë¼ì„œ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í•  ë•ŒëŠ” ì„œë¹„ìŠ¤ ìš©ë¡€ì— ë§ëŠ” í”„ë¡œí† ì½œì„ ì˜ ê³¨ë¼ ì‚¬ìš©í•œë‹¤.\në¹„ë””ì˜¤ëŠ” CDNì—ì„œ ë°”ë¡œ ìŠ¤íŠ¸ë¦¬ë°ëœë‹¤. ì‚¬ìš©ìì˜ ë‹¨ë§ì— ê°€ì¥ ê°€ê¹Œìš´ CDN ì—ì§€ ì„œë²„ê°€ ë¹„ë””ì˜¤ ì „ì†¡ì„ ë‹´ë‹¹í•  ê²ƒì´ë‹¤.\n3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ë¹„ë””ì˜¤ ì—…ë¡œë“œë¥¼ ë‹´ë‹¹í•˜ëŠ” ë¶€ë¶„ê³¼ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°ì„ ë‹´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ìµœì í™” ë°©ì•ˆì„ í†µí•´ ë‹¤ë“¬ê³ , ìš”ë¥˜ ì²˜ë¦¬ ë§¤ì»¤ë‹ˆì¦˜ì„ ë°˜ì˜í•œë‹¤.\në¹„ë””ì˜¤ íŠ¸ëœìŠ¤ì½”ë”© ë¹„ë””ì˜¤ë¥¼ ë…¹í™”í•˜ë©´ íŠ¹ì • í¬ë§·ìœ¼ë¡œ ì €ì¥ë˜ëŠ”ë°, ë‹¤ë¥¸ ë‹¨ë§ì—ì„œë„ ì˜ ì¬ìƒë˜ë ¤ë©´ í˜¸í™˜ë˜ëŠ” ë¹„íŠ¸ë ˆì´íŠ¸ í¬ë§·ìœ¼ë¡œ ì €ì¥ë˜ì–´ì•¼ í•œë‹¤.\në¹„ë””ì˜¤ íŠ¸ëœìŠ¤ì½”ë”©ì€ ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ ì¤‘ìš”í•˜ë‹¤.\nì›ë³¸ ë¹„ë””ì˜¤ëŠ” ì €ì¥ ê³µê°„ì„ ë§ì´ ì°¨ì§€í•œë‹¤. ëŒ€ë¶€ë¶„ í´ë¼ì´ì–¸íŠ¸ëŠ” íŠ¹ì • ì¢…ë¥˜ì˜ ë¹„ë””ì˜¤ í¬ë§·ë§Œ ì§€ì›í•œë‹¤. í•˜ë‚˜ì˜ ë¹„ë””ì˜¤ë¥¼ ì—¬ëŸ¬ í¬ë§·ìœ¼ë¡œ ì¸ì½”ë”© í•´ë†“ì•„ì•¼í•œë‹¤. ëŠê¹€ ì—†ëŠ” ì¬ìƒì„ ë³´ì¥í•˜ê¸°ìœ„í•´ ì‚¬ìš©ìì—ê²Œ ë§ëŠ” í™”ì§ˆì˜ ë¹„ë””ì˜¤ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ëŒ€ì—­í­ ë“± ëª¨ë°”ì¼ì˜ ê²½ìš° ë„¤íŠ¸ì›Œí¬ ìƒí™©ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆëŠ”ë° ì´ì— ë§ì¶”ì–´ í™”ì§ˆì´ ìë™ìœ¼ë¡œ ë³€ê²½ë˜ê±°ë‚˜ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•´ì•¼í•œë‹¤. ì¸ì½”ë”© í¬ë©§\nëŒ€ë¶€ë¶„ì˜ ì¸ì½”ë”© í¬ë©§ì€ ë‹¤ìŒ ë‘ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆë‹¤.\nì»¨í…Œì´ë„ˆ ë¹„ë””ì˜¤ íŒŒì¼, ì˜¤ë””ì˜¤, ë©”íƒ€ë°ì´í„°ë¥¼ ë‹´ëŠ” ë°”êµ¬ë‹ˆ ì»¨í…Œì´ë„ˆ í¬ë§·ì€ í™•ì¥ìë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤(.avi, .mov, .mp4 ë“±) ì½”ë± ë¹„ë””ì˜¤ í™”ì§ˆì„ ë³´ì¡´í•˜ë©° íŒŒì¼ í¬ê¸°ë¥¼ ì¤„ì¼ ëª©ì ìœ¼ë¡œ ê³ ì•ˆëœ ì••ì¶• ë° í•´ì œ ì•Œê³ ë¦¬ì¦˜ H.264, VP9, HEVC ë“± ìœ í–¥ ë¹„ìˆœí™˜ ê·¸ë˜í”„(DAG) ëª¨ë¸ ë¹„ë””ì˜¤ë¥¼ íŠ¸ëœìŠ¤ì½”ë”©í•˜ëŠ” ê²ƒì€ ì»´í“¨í„° ìì›ì„ ë§ì´ ì†Œëª¨í•  ë¿ ì•„ë‹ˆë¼ ì‹œê°„ë„ ë§ì´ ë“ ë‹¤.\në˜í•œ ì½˜í…ì¸  ì°½ì‘ìê°€ ê°ì ê°€ê¸°ë§Œì˜ ë¹„ë””ì˜¤ í”„ë¡œì„¸ì‹± ìš”êµ¬ì‚¬í•­ì„ ê°€ì§€ê³ ìˆë‹¤.\nì›Œí„°ë§ˆí¬ ì»¤ìŠ¤í…€ ì„¬ë„¤ì¼ ì´ë¯¸ì§€ í™”ì§ˆ ë“± ì´ëŸ¬í•œ ê°ê¸° ë‹¤ë¥¸ ìœ í˜•ì˜ ë¹„ë””ì˜¤ í”„ë¡œì„¸ì‹± íŒŒì´í”„ë¼ì¸ì„ ì§€ì›í•˜ëŠ” í•œí¸ ì²˜ë¦¬ ê³¼ì •ì˜ ë³‘ë ¬ì„±ì„ ë†’íˆê¸° ìœ„í•´ ì ì ˆí•œ ìˆ˜ì¤€ì˜ ì¶”ìƒí™”ë¥¼ ë„ì…í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë˜ë¨¸ë¡œ í•˜ì—¬ê¸ˆ ì‹¤í–‰í•  ì‘ì—…ì„ ì†ìˆ˜ ì •ì˜í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤.\ní˜ì´ìŠ¤ë¶ì˜ ìŠ¤íŠ¸ë¦¬ë° ë¹„ë””ì˜¤ ì—”ì§„ì€ DAG í”„ë¡œê·¸ë˜ë° ëª¨ë¸ì„ ë„ì…í•˜ì—¬ í•´ë‹¹ ì‘ì—…ë“¤ì´ ìˆœì°¨ì , ë³‘ë ¬ì ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ í•˜ê³ ìˆë‹¤.\nDAG ëª¨ë¸ì„ ë„ì…í•˜ë©´ ìœ ì—°ì„±ê³¼ ë³‘ë ¬ì„±ì„ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤. ì›ë³¸ ë¹„ë””ì˜¤ëŠ” ë¹„ë””ì˜¤, ì˜¤ë””ì˜¤, ë©”íƒ€ë°ì´í„° ì„¸ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì²˜ë¦¬ëœë‹¤.\në¹„ë””ì˜¤\nê²€ì‚¬(inspection) ì¢‹ì€ í’ˆì§ˆì˜ ë¹„ë””ì˜¤ì¸ì§€, ì†ìƒì€ ì—†ëŠ”ì§€ í™•ì¸í•œë‹¤. ë¹„ë””ì˜¤ ì¸ì½”ë”©(video encoding) ë¹„ë””ì˜¤ë¥¼ ë‹¤ì–‘í•œ í•´ìƒë„, ì½”ë±, ë¹„íŠ¸ë ˆì´íŠ¸ ì¡°í•¨ìœ¼ë¡œ ì¸ì½”ë”©í•œë‹¤. ì„¬ë„¤ì¼(thumbnail) ì‚¬ìš©ìê°€ ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ë‚˜ ë¹„ë””ì˜¤ì—ì„œ ìë™ìœ¼ë¡œ ì¶”ì¶œëœ ì´ë¯¸ì§€ë¡œ ì„¬ë„¤ì¼ì„ ë§Œë“ ë‹¤. ì›Œí„°ë§ˆí¬(watermark) ë¹„ë””ì˜¤ë° ëŒ€í•œ ì‹ë³„ì •ë³´ë¥¼ ì´ë¯¸ì§€ ìœ„ì— ì˜¤ë²„ë ˆì´ í˜•íƒœë¡œ ë„ì›Œ í‘œì‹œí•œë‹¤. ë¹„ë””ì˜¤ íŠ¸ëœìŠ¤ì½”ë”© ì•„í‚¤í…ì²˜ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ë¹„ë””ì˜¤ íŠ¸ëœìŠ¤ì½”ë”© ì•„í‚¤í…ì²˜ëŠ” ë‹¤ì„¯ ê°œì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ëœë‹¤.\nì „ì²˜ë¦¬ê¸°(preprocessor) DAG ìŠ¤ì¼€ì¤„ëŸ¬ ìì› ê´€ë¦¬ì(resource manager) ì‘ì—… ì‹¤í–‰ ì„œë²„(resource worker) ì„ì‹œ ì €ì¥ì†Œ(temporary storage) ì „ì²˜ë¦¬ê¸°\nì „ì²˜ë¦¬ê¸°ëŠ” 3ê°€ì§€ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\në¹„ë””ì˜¤ ë¶„í• (video spliting) ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ì„ GOP(Group of Pictures)ë¼ê³  ë¶ˆë¦¬ëŠ” ë‹¨ìœ„ë¡œ ìª¼ê° ë‹¤. ì˜¤ë˜ëœ ë‹¨ë§ì´ë‚˜ ë¸Œë¼ìš°ì €ëŠ” GOP ë‹¨ìœ„ì˜ ë¹„ë””ì˜¤ ë¶„í• ì„ ì œê³µí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì „ì²˜ë¦¬ê¸°ê°€ ëŒ€ì‹  ìˆ˜í–‰í•œë‹¤. GOP\níŠ¹ì • ìˆœì„œë¡œ ë°°ì—´ëœ í”„ë ˆì„(frame) ê·¸ë£¹ìœ¼ë¡œ í•˜ë‚˜ì˜ GOPëŠ” ë…ë¦½ì ìœ¼ë¡œ ì¬ìƒ ê°€ëŠ¥í•˜ë©°, ê¸¸ì´ëŠ” ë³´í†µ ëª‡ ì´ˆ ì •ë„ë‹¤.\nDAG ìƒì„± ì‘ì„±í•œ ì„¤ì • íŒŒì¼ì— ë”°ë¼ DAGë¥¼ ë§Œë“¤ì–´ë‚¸ë‹¤. ë°ì´í„° ìºì‹œ ì „ì²˜ë¦¬ê¸°ëŠ” ë¶„í• ëœ ë¹„ë””ì˜¤ì˜ ìºì‹œ ì—­í• ë„ ìˆ˜í–‰í•œë‹¤. ì•ˆì •ì„±ì„ ë†’ì´ê¸° ìœ„í•´ GOPì™€ ë©”íƒ€ë°ì´í„°ë¥¼ ì„ì‹œ ì €ì¥ì†Œì— ë³´ê´€í•œë‹¤. ì¸ì½”ë”© ì‹¤íŒ¨ì‹œ ë³´ê´€ëœ ë°ì´í„°ë¥¼ í™œìš©í•´ ì¸ì½”ë”©ì„ ì¬ê°œí•œë‹¤. DAG ìŠ¤ì¼€ì¤„ëŸ¬\nDAG ê·¸ë˜í”„ë¥¼ ëª‡ ê°œ ë‹¨ê³„(stage)ë¡œ ë¶„í• í•œ ë‹¤ìŒ ê·¸ ê°ê°ì„ ìì› ê´€ë¦¬ìì˜ ì‘ì—… íì— ì§‘ì–´ë„£ëŠ”ë‹¤.\ní•˜ë‚˜ì˜ DAGë¥¼ 2ê°œ ì‘ì—… ë‹¨ê³„ë¡œ ìª¼ê°  ì‚¬ë¡€ì´ë‹¤.\në¹„ë””ì˜¤, ì˜¤ë””ì˜¤, ë©”íƒ€ë°ì´í„°ë¥¼ ë¶„ë¦¬ ë¹„ë””ì˜¤ íŒŒì¼ì„ ì¸ì½”ë”©, ì„¬ë„¤ì¼ì„ ì¶”ì¶œ, ì˜¤ë””ì˜¤ íŒŒì¼ ì¸ì½”ë”© ìì› ê´€ë¦¬ì\nìì› ë°°ë¶„ì„ íš¨ê³¼ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nì„¸ ê°œì˜ íì™€ ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬(Task scheduler)ë¡œ êµ¬ì„±ëœë‹¤.\nì‘ì—… í(task queue) ì‹¤í–‰í•  ì‘ì—…ì´ ë³´ê´€ë˜ì–´ ìˆëŠ” ìš°ì„ ìˆœìœ„ í ì‘ì—… ì„œë²„ í(worker queue) ì‘ì—… ì„œë²„ì˜ ê°€ìš© ìƒíƒœ ì •ë³´ê°€ ë³´ê´€ë˜ì–´ ìˆëŠ” ìš°ì„ ìˆœìœ„ í ì‹¤í–‰ í(runner quere) í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì‘ì—… ë° ì‘ì—… ì„œë²„ ì •ë³´ê°€ ë³´ê´€ë˜ì–´ ìˆëŠ” ë·° ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ìµœì ì˜ ì‘ì—…/ì„œë²„ ì¡°í•©ì„ ê³¨ë¼ í•´ë‹¹ ì‘ì—… ì„œë²„ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ ì§€ì‹œí•œë‹¤. ì‘ì—… ê´€ë¦¬ìëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤.\nì‘ì—… íì—ì„œ ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„ì˜ ì‘ì—…ì„ êº¼ë‚¸ë‹¤. í•´ë‹¹ ì‘ì—…ì„ ì‹¤í–‰í•˜ê¸° ì í•©í•œ ì‘ì—… ì„œë²„ë¥¼ ê³ ë¥¸ë‹¤. í•´ë‹¹ ì‘ì—… ì„œë²„ì—ê²Œ ì‘ì—… ì‹¤í–‰ì„ ì§€ì‹œí•œë‹¤. í•´ë‹¹ ì‘ì—…ì´ ì–´ë–¤ ì„œë²„ì—ê²Œ í• ë‹¹ë˜ì—ˆëŠ”ì§€ì— ê´€í•œ ì •ë³´ë¥¼ ì‹¤í–‰ íì— ë„£ëŠ”ë‹¤. ì‘ì—…ì´ ì™„ë£Œë˜ë©´ í•´ë‹¹ ì‘ì—…ì„ ìƒí–‰ íì—ì„œ ì œê±°í•œë‹¤. ì‘ì—… ì„œë²„\nDAGì— ì •ì˜ëœ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\nì‘ì—… ì¢…ë¥˜ì— ë”°ë¼ ì‘ì—… ì„œë²„ë„ êµ¬ë¶„í•˜ì—¬ ê´€ë¦¬í•œë‹¤.\nì„ì‹œ ì €ì¥ì†Œ\nì„ì‹œ ì €ì¥ì†Œ êµ¬í˜„ì—ëŠ” ì—¬ëŸ¬ ì €ì¥ì†Œ ì‹œìŠ¤í…œì„ í™œìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì €ì¥í•  ë°ì´í„°ì˜ ìœ í˜•, í¬ê¸°, ì´ìš© ë¹ˆë„, ë°ì´í„° ìœ íš¨ê¸°ê°„ ë“±ì— ë”°ë¼ ì„ íƒí•œë‹¤.\në©”íƒ€ë°ì´í„° ì‘ì—… ì„œë²„ê°€ ë¹ˆë²ˆíˆ ì°¸ì¡°í•˜ëŠ” ì •ë³´, í¬ê¸°ê°€ ì‘ìœ¼ë¯€ë¡œ ë©”ëª¨ë¦¬ì— ìºì‹œ ë¹„ë””ì˜¤/ì˜¤ë””ì˜¤ BLOB ì„ì‹œ ì €ì¥ì†Œì— ë³´ê´€í•œ ë°ì´í„°ëŠ” ë¹„ë””ì˜¤ í”„ë¡œì„¸ì‹±ì´ ì™„ë£Œë˜ë©´ ì‚­ì œí•œë‹¤.\nì¸ì½”ë”©ëœ ë¹„ë””ì˜¤\nì¸ì½”ë”© íŒŒì´í”„ë¼ì¸ì˜ ì´ˆì¢… ê²°ê³¼ë¬¼ì´ë‹¤.\nfunny_720p.mp4 ì™€ ê°™ì€ ì´ë¦„ì„ ì§“ëŠ”ë‹¤. ì‹œìŠ¤í…œ ìµœì í™” ì†ë„, ì•ˆì •ì„± ë¹„ìš© ì¸¡ë©´ì—ì„œ ì‹œìŠ¤í…œì„ ìµœì í™”í•œë‹¤.\nì†ë„ ìµœì í™” ë¹„ë””ì˜¤ ë³‘ë ¬ ì—…ë¡œë“œ\në¹„ë””ì˜¤ ì „ë¶€ë¥¼ í•œ ë²ˆì˜ ì—…ë¡œë“œë¡œ ì˜¬ë¦¬ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë‹¤.\ní•˜ë‚˜ì˜ ë¹„ë””ì˜¤ëŠ” ì‘ì€ GOPë¡œ ë¶„í• í•  ìˆ˜ ìˆìœ¼ë©°, ë¶„í• í•œ GOPë¥¼ ë³‘ë ¬ì ìœ¼ë¡œ ì—…ë¡œë“œí•˜ë©´ ì¼ë¶€ê°€ ì‹íŒ¨í•´ë„ ë¹ ë¥´ê²Œ ì—…ë¡œë“œë¥¼ ì¬ê°œí•  ìˆ˜ ìˆë‹¤.\në”°ë¼ì„œ ë¹„ë””ì˜¤ë¥¼ GOP ê²½ê³„ì— ë§ì¶° ë¶„í• í•˜ëŠ” ì‘ì—…ì„ ë‹¨ë§ì´ ìˆ˜í–‰í•˜ë©´ ì—…ë¡œë“œ ì†ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆë‹¤.\nì—…ë¡œë“œ ì„¼í„°ë¥¼ ì‚¬ìš©ì ê·¼ê±°ë¦¬ì— ì§€ì •\nì—…ë¡œë“œ ì„¼í„°ë¥¼ ì—¬ë¡œ ê³³ì— ë‘ê³  ê°€ê¹Œìš´ ì„¼í„°ë¡œ ì—…ë¡œë“œ í•˜ë„ë¡ í•œë‹¤.\nì´ë¥¼ ìœ„í•´ ì´ë²ˆ ì„¤ê³„ì•ˆì€ CDNì„ ì—…ë¡œë“œ ì„¼í„°ë¡œ ì´ìš©í•œë‹¤. ëª¨ë“  ì ˆì°¨ë¥¼ ë³‘ë ¬í™”\nëŠìŠ¨í•˜ê²Œ ê²°í•©ëœ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ì„œ ë³‘ë ¬ì„±ì„ ë†’ì´ë©´ ë‚®ì€ ì‘ë‹µì§€ì—°ì— ë„ì›€ì´ëœë‹¤.\nê¸°ì¡´ ì„¤ê³„ì•ˆì˜ ë¹„ë””ì˜¤ë¥¼ ì›ë³¸ ì €ì¥ì†Œì—ì„œ CDNìœ¼ë¡œ ì˜®ê¸°ëŠ” ì ˆì°¨ë¥¼ ë³´ë©´, ì–´ë–¤ ë‹¨ê³„ì˜ ê²°ê³¼ë¬¼ì€ ì´ì „ ë‹¨ê³„ì˜ ê²°ê³¼ë¬¼ì„ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ë§Œë“¤ì–´ì§€ëŠ”ë°, ì´ëŸ¬í•œ ì˜ì¡´ì„±ì´ ìˆë‹¤ë©´ ë³‘ë ¬ì„±ì„ ë†’ì´ê¸° ì–´ë µë‹¤.\nì´ëŸ¬í•œ ê²°í•©ì€ ë©”ì‹œì§€ íë¥¼ ë„ì…í•˜ì—¬ ê°œì„ í•  ìˆ˜ ìˆë‹¤.\në©”ì‹œì§€ íë¥¼ ë„ì…í•˜ê¸° ì „ ì¸ì½”ë”© ëª¨ë“ˆì€ ë‹¤ìš´ë¡œë“œ ëª¨ë“ˆì˜ ì‘ì—…ì´ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë ¤ì•¼í•œë‹¤. ë©”ì‹œì§€ íë¥¼ ë„ì…í•œ í›„ ì¸ì½”ë”© ëª¨ë“ˆì€ ë‹¤ìš´ë¡œë“œ ëª¨ë“ˆì˜ ì‘ì—…ì´ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ì•„ë‹Œ, ë©”ì‹œì§€ íì— ë³´ê´€ëœ ì´ë²¤íŠ¸ ê°ê°ì„ ì¸ì½”ë”© ëª¨ë“ˆì´ ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œëœë‹¤. ì•ˆì „ì„± ìµœì í™” ë¯¸ë¦¬ ì‚¬ì¸ëœ ì—…ë¡œë“œ URL\në¯¸ë¦¬ ì‚¬ì¸ëœ URL?\nì•„ë§ˆì¡´ S3ì—ì„œ ì“°ì´ëŠ” ìš©ì–´ë¡œ, ì ‘ê·¼ ê³µìœ  ì‹œê·¸ë‹ˆì²˜ ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.\ní—ˆê°€ë°›ì€ ì‚¬ìš©ìë§Œì´ ì˜¬ë°”ë¥¸ ì¥ì†Œì— ë¹„ë””ì˜¤ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ë¯¸ë¦¬ ì‚¬ì¸ëœ(pre-signed) ì—…ë¡œë“œ URLì„ ì´ìš©í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” HTTP ì„œë²„ì— POST ìš”ì²­ì„ í†µí•´ ë¯¸ë¦¬ ì‚¬ì¸ëœ URLì„ ë°›ëŠ”ë‹¤. í•´ë‹¹ URLì´ ê°€ë¥´í‚¤ëŠ” ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì´ ì´ë¯¸ ì£¼ì–´ì ¸ ìˆëŠ” ìƒíƒœ ë¯¸ë¦¬ ì‚¬ì¸ëœ URLì„ ëŒë ¤ì¤€ë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” í•´ë‹¹ URLì´ ê°€ë¦¬í‚¤ëŠ” ìœ„ì¹˜ì— ë¹„ë””ì˜¤ë¥¼ ì—…ë¡œë“œí•œë‹¤. ë¹„ë””ì˜¤ ë³´í˜¸\në§ì€ ì½˜í…ì¸  ì œì‘ìê°€ ë¹„ë””ì˜¤ ì›ë³¸ì„ ë„ë‚œë‹¹í• ê¹Œ ìš°ë ¤í•˜ì—¬ ì¸í„°ë„·ì— ë¹„ë””ì˜¤ë¥¼ ì—…ë¡œë“œí•˜ê¸°ë¥¼ ì£¼ì €í•œë‹¤.\nì´ëŸ¬í•œ ì €ì‘ê¶Œ ë³´í˜¸ë¥¼ ìœ„í•´ ë‹¤ìŒ ì„¸ê°€ì§€ ì„ íƒì§€ ì¤‘ í•˜ë‚˜ë¥¼ ì±„íƒí•  ìˆ˜ ìˆë‹¤.\në””ì§€í„¸ ì €ì‘ê¶Œ ê´€ë¦¬(DRM: Digital Rights Management) ì‹œìŠ¤í…œ ë„ì… ì• í”Œì˜ í˜ì–´í”Œë ˆì´, êµ¬ê¸€ ì™€ì´ë“œë°”ì¸, MSì˜ í”Œë ˆì´ë ˆë”” ë“± AES ì•”í˜¸í™” ë¹„ë””ì˜¤ë¥¼ ì•”í˜¸í™”í•˜ê³  ì ‘ê·¼ ê¶Œí•œì„ ì„¤ì •í•˜ëŠ” ë°©ì‹ ì¬ìƒ ì‹œì—ë§Œ ë³µí˜¸í™”í•˜ë©°, í—ˆë½ëœ ì‚¬ìš©ìë§Œ ì•”í˜¸í™”ëœ ë¹„ë””ì˜¤ë¥¼ ì‹œì²­í•  ìˆ˜ ìˆë‹¤. ì›Œí„°ë§ˆí¬ ë¹„ë””ì˜¤ ìœ„ì— ì†Œìœ ì ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ì´ë¯¸ì§€ ì˜¤ë² ë¦¬ì´ë¥¼ ì˜¬ë¦°ë‹¤. íšŒì‚¬ ë¡œê³ , ì´ë¦„ ë“± ë¹„ìš© ìµœì í™” ë¹„ë””ì˜¤ ë°ì´í„° ì œê³µì„ ìœ„í•œ CDNì€ ì´ë²ˆ ì„¤ê³„í•œ ì‹œìŠ¤í…œì˜ í•µì‹¬ì´ë‹¤.\ní•˜ì§€ë§Œ CDNì€ ë¹„ì‹¸ê³ , ë°ì´í„° í¬ê¸°ê°€ í´ ìˆ˜ë¡ ë”ìš± ë¹„ì‹¸ë‹¤.\nì—°êµ¬ ê²°ê³¼ì— ë”°ë¥´ë©´, ìœ íŠ¸ë¸Œì˜ ë¹„ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°ì€ ë¡±í…Œì¼ ë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤.\nì¸ê¸° ìˆëŠ” ë¹„ë””ì˜¤ê°€ ëŒ€ë¶€ë¶„ ì¬ìƒì˜ ëŒ€ë¶€ë¶„ì„ ì°¨ì§€í•œë‹¤. ì´ëŸ¬í•œ ì ì„ ì´ìš©í•˜ì—¬ ëª‡ ê°€ì§€ ìµœì í™”ë¥¼ ì‹œë„í•  ìˆ˜ ìˆë‹¤.\nì¸ê¸° ë¹„ë””ì˜¤ëŠ” CDNìœ¼ë¡œ ì¬ìƒí•˜ë˜ ë‹¤ë¥¸ ë¹„ë””ì˜¤ëŠ” ë¹„ë””ì˜¤ ì„œë²„ë¥¼ í†µí•´ ì¬ìƒí•œë‹¤. ë¹„ì¸ê¸° ë¹„ë””ì˜¤ëŠ” ì¸ì½”ë”© í•  í•„ìš”ê°€ ì—†ì„ ìˆ˜ ìˆìœ¼ë©°, ì§§ì€ ë¹„ë””ì˜¤ë¼ë©´ í•„ìš”í•  ë•Œ ì¸ì½”ë”©í•˜ì—¬ ì¬ìƒí•  ìˆ˜ ìˆë‹¤. íŠ¹ì • ë¹„ë””ì˜¤ëŠ” íŠ¹ì • ì§€ì—­ì—ì„œë§Œ ì¸ê¸°ê°€ ë†’ë‹¤. ì´ëŸ° ë¹„ë””ì˜¤ëŠ” ë‹¤ë¥¸ ì§€ì—­ìœ¼ë¡œ ì˜®ê¸¸ í•„ìš”ê°€ ì—†ë‹¤. CDNì„ ì§ì ‘ êµ¬ì¶•í•˜ê³  ì¸í„°ë„· ì„œë¹„ìŠ¤ ì œê³µìì™€ ì œìœ í•œë‹¤. CDNì„ ì§ì ‘ êµ¬ì¶•í•˜ëŠ” ê²ƒì€ ì´ˆëŒ€í˜• í”„ë¡œì íŠ¸ì´ì§€ë§Œ ëŒ€ê·œëª¨ ìŠ¤íŠ¸ë¦¬ë° ì‚¬ì—…ìë¼ë©´, ë¹„ìš©ì„ ì¤„ì´ê³  ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆì–´ ì‹œë„í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ìµœì í™”ëŠ” ì½˜í…ì¸ ì˜ ì¸ê¸°ë„, ì´ìš© íŒ¨í„´, ë¹„ë””ì˜¤ í¬ê¸° ë“± ë°ì´í„°ì— ê·¼ê±°í•œ ê²ƒìœ¼ë¡œ, ìµœì í™”ë¥¼ ì‹œë„í•˜ê¸° ì „ ì‹œì²­ íŒ¨í„´ì„ ë¶„ì„í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.\nì˜¤ë¥˜ì²˜ë¦¬ ëŒ€í˜• ì‹œìŠ¤í…œì—ì„œ ì˜¤ë¥˜ëŠ” ë¶ˆê°€í”¼í•˜ë‹¤.\nì¥ì• ë¥¼ ì•„ì£¼ ì˜ ê°ë‚´í•˜ëŠ”(highly fault-tolerant) ì‹œìŠ¤í…œì„ ë§Œë“¤ë ¤ë©´ ì˜¤ë¥˜ë“¤ì„ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ë¹ ë¥´ê²Œ íšŒë³µí•´ì•¼í•œë‹¤.\níšŒë³µ ë¶ˆê°€ëŠ¥ ì˜¤ë¥˜(recoverable error) íŠ¹ì • ë¹„ë””ì˜¤ ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ëœìŠ¤ì½”ë”© ì‹¤íŒ¨ ê°™ì€ ì˜¤ë¥˜ëŠ” íšŒë³µ ê°€ëŠ¥í•œ ì˜¤ë¥˜ì´ë‹¤. ëª‡ ë²ˆ ì¬ì‹œë„í•˜ë©´ í•´ê²°ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ê³„ì†í•´ì„œ ì‹¤íŒ¨í•˜ê³ , ë³µêµ¬ê°€ ì–´ë µë‹¤ íŒë‹¨ë˜ë©´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì ì ˆí•œ ì˜¤ë¥˜ ì½”ë“œë¥¼ ë°˜í™˜í•´ì•¼í•œë‹¤. íšŒë³µ ë¶ˆê°€ëŠ¥ ì˜¤ë¥˜(non-recoverable error) ë¹„ë””ì˜¤ í¬ë§·ì´ ì˜ëª»ë˜ì—ˆë‹¤ê±°ë‚˜ í•˜ëŠ” íšŒë³µ ë¶ˆê°€ëŠ¥í•œ ì˜¤ë¥˜ê°€ ë°œê²¬ë˜ë©´ í•´ë‹¹ ë¹„ë””ì˜¤ì— ëŒ€í•œ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì ì ˆí•œ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•´ì•¼í•œë‹¤. ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ ê°ê°ì— ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ì— ëŒ€í•œ ì „í˜•ì  í•´ê²° ë°©ë²• ìš”ì•½í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\nì—…ë¡œë“œ ì˜¤ë¥˜ ëª‡ íšŒ ì¬ì‹œë„ ë¹„ë””ì˜¤ ë¶„í•  ì˜¤ë¥˜ í´ë¼ì´ì–¸íŠ¸ê°€ ë¶„í• í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ë¼ë©´, ì „ì²´ ë¹„ë””ì˜¤ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ê³  ì„œë²„ê°€ í•´ë‹¹ ë¹„ë””ì˜¤ ë¶„í• ì„ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤. íŠ¸ëœìŠ¤ì½”ë”© ì˜¤ë¥˜ ì¬ì‹œë„ ì „ì²˜ë¦¬ ì˜¤ë¥˜ DAG ê·¸ë˜í”„ ì¬ìƒì„± DAG ìŠ¤ì¼€ì¤„ëŸ¬ ì˜¤ë¥˜ ì‘ì—…ì„ ë‹¤ì‹œ ìŠ¤ì¼€ì¤„ë§ ìì› ê´€ë¦¬ì íì— ì¥ì•  ë°œìƒ ì‚¬ë³¸ì„ ì´ìš© ì‘ì—… ì„œë²„ ì¥ì•  ë‹¤ë¥¸ ì„œë²„ì—ì„œ í•´ë‹¹ ì‘ì—… ì¬ì‹œë„ API ì„œë²„ ì¥ì•  APIë¥¼ ë¬´ìƒíƒœë¡œ ê´€ë¦¬í•˜ì—¬ ì‹ ê·œ ìš”ì²­ì„ ë‹¤ë¥¸ APIë¡œ ìš°íšŒ ë©”íƒ€ë°ì´í„° ìºì‹œ ì„œë²„ ì¥ì•  ë°ì´í„° ë‹¤ì¤‘í™”ë¥¼ í†µí•´ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. ì¥ì• ê°€ ë‚œ ìºì‹œ ì„œë²„ëŠ” ìƒˆë¡œìš´ ê²ƒìœ¼ë¡œ êµì²´ ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ì¥ì•  ì£¼ ì„œë²„: ë¶€ ì„œë²„ ê°€ìš´ë° í•˜ë‚˜ë¥¼ ì£¼ ì„œë²„ë¡œ êµì²´ ë¶€ ì„œë²„: ë‹¤ë¥¸ ë¶€ ì„œë²„ë¥¼ í†µí•´ ì½ê¸° ì—°ì‚° ì²˜ë¦¬ ë° ì£½ì€ ì„œë²„ êµì²´ 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì´ì™¸ì— ì¤‘ìš”í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nAPI ê³„ì¸µ ê·œëª¨ í™•ì •ì„± í™•ë³´ ë°©ì•ˆ ë¬´ìƒíƒœ ì„œë²„ì´ë¯€ë¡œ ìˆ˜í‰ ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì–¸ê¸‰í•˜ë©´ ì¢‹ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ê³„ì¸µì˜ ê·œëª¨ í™•ì¥ì„± í™•ë³´ ë°©ì•ˆ ë‹¤ì¤‘í™”ì™€ ìƒ¤ë”© ë°©ë²•ì— ëŒ€í•´ ì–¸ê¸‰ ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¬ë° ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¬ë°ì€ ë¹„ë””ì˜¤ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë…¹í™”í•˜ê³  ë°©ì†¡í•˜ëŠ” ì ˆì°¨ë¥¼ ë§í•œë‹¤. ê°€ì¥ ì¤‘ìš”í•œ ì°¨ì´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ì‘ë‹µì§€ì—°ì´ ì¢€ ë” ë‚®ì•„ì•¼ í•œë‹¤. ìŠ¤íŠ¸ë¦¬ë° í”„ë¡œí† ì½œ ì„ ì •ì— ìœ ì˜í•´ì•¼í•œë‹¤. ì‘ì€ ë‹¨ìœ„ì˜ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¹¨ë¦¬ ì²˜ë¦¬í•´ì•¼í•˜ë¯€ë¡œ ë³‘ë ¬í™” í•„ìš”ì„±ì€ ë–¨ì–´ì§„ë‹¤. ë„ˆë¬´ ë§ì€ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì˜¤ë¥˜ ì²˜ë¦¬ ë°©ì•ˆì€ í™œìš©í•  ìˆ˜ ì—†ë‹¤. ë¹„ë””ì˜¤ ì‚­ì œ ì €ì‘ê¶Œ ìœ„ë°˜, ì„ ì •ì„±, ë¶ˆë²• í–‰ìœ„ì— ê´€ê³„ëœ ë¹„ë””ì˜¤ëŠ” ë‚´ë ¤ì•¼í•œë‹¤. ì—…ë¡œë“œ ê³¼ì •ì—ì„œ ì‹ë³„ ì‚¬ìš©ìì˜ ì‹ ê³  ì ˆì°¨ í™œìš© ","date":"2024-07-11T11:07:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/14/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/14/","title":"14. ìœ íŠœë¸Œ ì„¤ê³„"},{"content":"í´ë¼ìš°ë“œ ì €ì¥ì†Œ ì„œë¹„ìŠ¤ëŠ” ìµœê·¼ ë†’ì€ ì¸ê¸°ë¥¼ ëˆ„ë¦¬ê²Œ ëœ ëŒ€í‘œì  í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë‹¤.\nê·¸ ê°€ìš´ë° êµ¬ê¸€ ë“œë¼ì´ë¸Œ ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„í•´ ë³¸ë‹¤.\nêµ¬ê¸€ ë“œë¼ì´ë¸ŒëŠ” íŒŒì¼ ì €ì¥ ë° ë™ê¸°í™” ì„œë¹„ìŠ¤ë¡œ, ë¬¸ì„œ, ì‚¬ì§„, ë¹„ë””ì˜¤, ê¸°íƒ€ í”¼ì¼ì„ í´ë¼ìš°ë“œì— ë³´ê´€í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nì´ íŒŒì¼ì€ ì»´í“¨í„°, ìŠ¤ë§ˆíŠ¸í°, íƒœë¸”ë¦¿ ë“± ì–´ë–¤ ë‹¨ë§ì—ì„œë„ ì´ìš© ê°€ëŠ¥í•´ì•¼í•œë‹¤. ë³´ê´€ëœ íŒŒì¼ì€ ì¹œêµ¬, ê°€ì¡±, ë™ë£Œ ë“¤ê³¼ ì†ì‰½ê²Œ ê³µìœ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • Q. ì§€ì›í•´ì•¼í•  ê¸°ëŠ¥? A. íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ, íŒŒì¼ ë™ê¸°í™”, ì•Œë¦¼ Q. ëª¨ë°”ì¼ ì•±, ì›¹ ì•± ì¤‘ ì§€ì› ë²”ìœ„ A. ì›¹, ì•± ë‘˜ë‹¤ Q. íŒŒì¼ ì•”í˜¸í™” ì²˜ë¦¬? A. Y Q. íŒŒì¼ í¬ê¸° ì œí•œ? A. 10GB Q. ì‚¬ìš©ìëŠ”? A. DAU ì²œë§Œëª… ì´ë²ˆ ì¥ì—ì„œëŠ” ë‹¤ìŒ ê¸°ëŠ¥ì˜ ì„¤ê³„ì— ì§‘ì¤‘í•œë‹¤.\níŒŒì¼ ì¶”ê°€ ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ íŒŒì¼ì„ êµ¬ê¸€ ë“œë¼ì´ë¸Œ ì•ˆìœ¼ë¡œ ë–¨êµ¬ëŠ” ê²ƒ(Drag-and-drop)ì´ë‹¤. íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì—¬ëŸ¬ ë‹¨ë§ì— íŒŒì¼ ë™ê¸°í™” í•œ ë‹¨ë§ì—ì„œ íŒŒì¼ì„ ì¶”ê°€í•˜ë©´ ë‹¤ë¥¸ ë‹¨ë§ì—ë„ ìë™ ë™ê¸°í™”ë˜ì–´ì•¼í•œë‹¤. íŒŒì¼ ê°±ì‹  ì´ë ¥ ì¡°íšŒ íŒŒì¼ ê³µìœ  íŒŒì¼ í¸ì§‘, ì‚­ì œ, ìƒˆë¡­ê²Œ ê³µìœ  ë˜ì—ˆì„ ë•Œ ì•Œë¦¼ í‘œì‹œ ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­ ì™¸, ë¹„-ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­ì„ ì´í•´í•˜ëŠ” ê²ƒë„ ì¤‘ìš”í•˜ë‹¤.\nì•ˆì •ì„± ì €ì¥ì†Œ ì‹œìŠ¤í…œì˜ ì•ˆì •ì„±ì€ ì•„ì£¼ ì¤‘ìš”í•˜ë‹¤. ë°ì´í„° ì†ì‹¤ì´ ë°œìƒí•˜ë©´ ì•ˆëœë‹¤. ë¹ ë¥¸ ë™ê¸°í™” ë™ê¸°í™” ì‚¬ê¸´ì´ ë„ˆë¬´ ë§ì´ ê±¸ë¦¬ë©´ ì¸ë‚´ì‹¬ì„ ì½ê³  ì œí’ˆì„ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²ƒ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì„ ë¶ˆí•„ìš”í•˜ê²Œ ë§ì´ ì†Œëª¨í•œë‹¤ë©´ ì‚¬ìš©ìê°€ ì¢‹ì•„í•˜ì§€ ì•Šì„ ê²ƒ ëª¨ë°”ì¼ ë°ì´í„° í”Œëœì´ë¼ë©´ ë”ìš±ë” ê·œëª¨ í™•ì¥ì„± ì•„ì£¼ ë§ì€ ì–‘ì˜ íŠ¸ë˜í”½ë„ ì²˜ë¦¬ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. ë†’ì€ ê°€ìš©ì„± ì¼ë¶€ ì„œë²„ì˜ ì¥ì• , ì§€ì—°, ë„¤íŠ¸ì›Œí¬ ì´ìŠˆê°€ ë°œìƒí•´ë„ ê³„ì† ì‚¬ìš© ê°€ëŠ¥í•´ì•¼í•œë‹¤. ê°œëµì  ì¶”ì •ì¹˜ ê°€ì… ì‚¬ìš©ìëŠ” ì˜¤ì²œë§Œëª…, ì²œë§Œëª…ì˜ DAU ê°€ì • ëª¨ë“  ì‚¬ìš©ìì—ê²Œ 10GB ë¬´ë£Œ ì €ì¥ê³µê°„ í• ë‹¹ ë§¤ì¼ ê° ì‚¬ìš©ìê°€ í‰ê·  2ê°œì˜ íŒŒì¼ì„ ì—…ë¡œë“œ í•œë‹¤ê³  ê°€ì • íŒŒì¼ í¬ê¸° í‰ê·  500KB ê°€ì • ì½ê¸°, ì“°ê¸° ë¹„ìœ¨ì€ 1:1 í•„ìš”í•œ ì €ì¥ê³µê°„ ì´ëŸ‰ = 5ì²œë§Œ ì‚¬ìš©ì * 10GB = 500PB ì—…ë¡œë“œ API QPS = 1ì²œë§Œ ì‚¬ìš©ì * 2íšŒ / 24ì‹œê°„ /3600ì´ˆ = 240 ìµœëŒ€ QPS = QPS * 2 = 480 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ëª¨ë“  ê²ƒì„ ë‹´ì€ í•œ ëŒ€ ì„œë²„ì—ì„œ ì¶œë°œí•´ ì ì§„ì ìœ¼ë¡œ ì²œë§Œ ì‚¬ìš©ì ì§€ì›ì´ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œìœ¼ë¡œ ë°œì „ì‹œì¼œ ë‚˜ê°„ë‹¤.\níŒŒì¼ì„ ì˜¬ë¦¬ê³  ë‹¤ìš´ë¡œë“œ í•˜ëŠ” ê³¼ì •ì„ ì²˜ë¦¬í•  ì›¹ì„œë²„ ì‚¬ìš©ì ë°ì´í„°, ë¡œê·¸ì¸ ì •ë³´, íŒŒì¼ ì •ë³´ ë“±ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ë³´ê´€í•  ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì„ ì €ì¥í•  ì €ì¥ì†Œ ì‹œìŠ¤í…œ. 1TB ì‚¬ìš© ì˜ˆì • ì›¹ ì„œë²„, ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì¹˜ í›„, íŒŒì¼ì´ ì €ì¥ë  drive/ ë””ë ‰í„°ë¦¬ë¥¼ ì¤€ë¹„í•œë‹¤.\në””ë ‰í„°ë¦¬ ì•ˆì—ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¼ ë¶ˆë¦¬ëŠ” í•˜ìœ„ ë””ë ‰í„°ë¦¬ë¥¼ ë‘”ë‹¤. ê° ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì•ˆì—ëŠ” íŠ¹ì • ì‚¬ìš©ìê°€ ì˜¬ë¦° íŒŒì¼ì´ ë³´ê´€ëœë‹¤. íŒŒì¼ë“¤ì€ ì›ë˜ íŒŒì¼ê³¼ ê°™ì€ ì´ë¦„ì„ ê°–ëŠ”ë‹¤. ê° íŒŒì¼ê³¼ í´ë”ëŠ” ê·¸ ìƒëŒ€ ê²½ë¡œë¥¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì´ë¦„ê³¼ ê²°í•©í•˜ë©´ ìœ ì¼í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆë‹¤. API ì´ ì‹œìŠ¤í…œì€ 3ê°€ì§€ APIê°€ í•„ìš”í•˜ë‹¤.\níŒŒì¼ ì—…ë¡œë“œ API ë‹¨ìˆœ ì—…ë¡œë“œ\níŒŒì¼ í¬ê¸°ê°€ ì‘ì„ ë•Œ ì‚¬ìš©í•œë‹¤.\nì´ì–´ ì˜¬ë¦¬ê¸°(resumable upload)\níŒŒì¼ ì‚¬ì´ì¦ˆê°€ í¬ê³  ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë¡œ ì—…ë¡œë“œê°€ ì¤‘ë‹¨ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ê³  ìƒê°ë˜ë©´ ì‚¬ìš©í•œë‹¤.\n1 https://api.example.com/files/upload?uploadType=resumable ì¸ì uploadType=resumable data ì´ì–´ì˜¬ë¦¬ê¸°ëŠ” ë‹¤ìŒ ì„¸ ë‹¨ê³„ ì ˆì°¨ë¡œ ì´ë£¨ì–´ì§„ë‹¤.\nì´ì–´ ì˜¬ë¦¬ê¸° URLì„ ë°›ê¸° ìœ„í•œ ìµœì´ˆ ìš”ì²­ ì „ì†¡ ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•˜ê³  ì—…ë¡œë“œ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ì—…ë¡œë“œì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ ì¥ì•  ë°œìƒì‹œì ë¶€í„° ì—…ë¡œë“œë¥¼ ì¬ì‹œì‘ íŒŒì¼ ë‹¤ìš´ë¡œë“œ API 1 https://api.example.com/files/download ì¸ì\npath ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ì˜ ê²½ë¡œ 1 2 3 { \u0026#34;path\u0026#34;: \u0026#34;/recipes/soup/best_soup.txt\u0026#34; } íŒŒì¼ ê°±ì‹  íˆìŠ¤í† ë¦¬ 1 https://api.exmaple.com/files/list_revisions ì¸ì\npath: ê°±ì‹  íˆìŠ¤í† ë¦¬ë¥¼ ê°€ì ¸ì˜¬ íŒŒì¼ì˜ ê²½ë¡œ limit: íˆìŠ¤í† ë¦¬ ê¸¸ì´ì˜ ìµœëŒ€ì¹˜ 1 2 3 4 { \u0026#34;path\u0026#34;: \u0026#34;/recipes/soup/best_soup.txt\u0026#34;, \u0026#34;limit\u0026#34;: 20 } ë‚˜ì—´í•œ ëª¨ë“  APIëŠ” ì‚¬ìš©ì ì¸ì¦ì„ í•„ìš”ë¡œ í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ì™€ ë°±ì—”ë“œ ì„œë²„ê°€ ì£¼ê³ ë°›ëŠ” ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•´ HTTPS í”„ë¡œí† ì½œì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.\ní•œ ëŒ€ ì„œë²„ì˜ ì œì•½ ê·¹ë³µ íŒŒì¼ì´ ë§ì•„ì§€ë©´ ê²°êµ­ ê°€ë“ ì°¨ê²Œë˜ì–´ ë” ì´ìƒ íŒŒì¼ì„ ì˜¬ë¦´ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ê¸´ê¸‰íˆ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼í•œë‹¤.\nì‰¬ìš´ í•´ê²°ì±…ìœ¼ë¡œ ìƒ¤ë”©ì„ í†µí•´ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ì„œë²„ì— ë‚˜ëˆ„ì–´ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nì„œë²„ë¥¼ ì§ì ‘ ê´€ë¦¬í–ˆì„ ë•Œ, ì¥ì• ê°€ ìƒê¸°ë©´ ë°ì´í„°ë¥¼ ìƒê²Œë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¶ˆì•ˆí•˜ë‹¤.\në„·í”Œë¦­ìŠ¤, ì—ì–´ë¹„ì—”ë¹„ ê°™ì€ ì‹œì¥ ì£¼ë„ ê¸°ì—…ë“¤ì€ ì €ì¥ì†Œë¡œ ì•„ë§ˆì¡´ S3ë¥¼ ì‚¬ìš©í•œë‹¤.\nì—…ê³„ ìµœê³  ìˆ˜ì¤€ì˜ ê·œëª¨ í™•ì¥ì„±, ê°€ìš©ì„±, ë³´ì•ˆ, ì„±ëŠ¥ì„ ì œê³µí•˜ëŠ” ê°ì²´ ì €ì¥ì†Œ ì„œë¹„ìŠ¤ ê°™ì€ ì§€ì—­ ì•ˆì—ì„œ ë‹¤ì¤‘í™”, ì—¬ëŸ¬ ì§€ì—­ì— ê±¸ì³ ë‹¤ì¤‘í™”ê°€ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ S3ë¥¼ ì‚¬ìš©ì„ ê²°ì •í•œë‹¤. í•˜ì§€ë§Œ ë¯¸ë˜ì— ë¹„ìŠ·í•œ ë¬¸ì œ(ì‚¬ìš©ì ì¦ê°€ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ë¬¸ì œ)ê°€ ë²Œì–´ì§€ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´, ê°œì„ í•  ë¶€ë¶„ì„ ë” ì°¾ì•„ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\në¡œë“œë°¸ëŸ°ì„œ íŠ¸ë˜í”½ì„ ê³ ë¥´ê²Œ ë¶„ì‚°í•  ìˆ˜ ìˆë‹¤. íŠ¹ì • ì›¹ ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ ìë™ìœ¼ë¡œ í•´ë‹¹ ì„œë²„ë¥¼ ìš°íšŒí•œë‹¤. ì›¹ ì„œë²„ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ì¶”ê°€í•˜ê³  ë‚˜ë©´ ë” ë§ì€ ì›¹ ì„œë²„ë¥¼ ì†ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. íŠ¸ë˜í”½ì´ í­ì¦í•´ë„ ì‰½ê²Œ ëŒ€ì‘ ê°€ëŠ¥í•˜ë‹¤. ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ íŒŒì¼ ì €ì¥ ì„œë²„ì—ì„œ ë¶„ë¦¬í•˜ì—¬ SPOFë¥¼ íšŒí”¼í•œë‹¤. ë‹¤ì¤‘í™” ë° ìƒ¤ë”© ì •ì±…ì„ ì •ìš©í•˜ì—¬ ê°€ìš©ì„±ê³¼ ê·œëª¨ í™•ì¥ì„± ìš”êµ¬ì‚¬í•­ì— ëŒ€ì‘í•œë‹¤. íŒŒì¼ ì €ì¥ì†Œ S3ë¥¼ íŒŒì¼ ì €ì¥ì†Œë¡œ ì‚¬ìš©í•˜ê³  ê°€ìš©ì„±ê³¼ ë°ì´í„° ë¬´ì†ì‹¤ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë‘ ê°œ ì´ìƒì˜ ì§€ì—­ì— ë°ì´í„°ë¥¼ ë‹¤ì¤‘í™”í•œë‹¤. ë™ê¸°í™” ì¶©ëŒ êµ¬ê¸€ ë“œë¼ì´ë¸Œ ê°™ì€ ëŒ€í˜• ì €ì¥ì†Œ ì‹œìŠ¤í…œì˜ ê²½ìš° ë™ê¸°í™” ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\në‘ ëª… ì´ìƒì˜ ì‚¬ìš©ìê°€ ê°™ì€ íŒŒì¼ì´ë‚˜ í´ë”ë¥¼ ë™ì‹œì— ì—…ë°ì´íŠ¸í•˜ë ¤ê³  í•˜ëŠ” ê²½ìš° ë¨¼ì € ì²˜ë¦¬ë˜ëŠ” ë³€ê²½ì€ ì„±ê³µí•œ ê²ƒìœ¼ë¡œ ë³´ê³ , ë‚˜ì¤‘ì— ì²˜ë¦¬ë˜ëŠ” ë³€ê²½ì€ ì¶©ëŒì´ ë°œìƒí•œ ê²ƒìœ¼ë¡œ í‘œì‹œí•˜ëŠ” ì „ëµì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ì 1ê³¼ 2ëŠ” ê°™ì€ íŒŒì¼ì„ ë™ì‹œì— ê°±ì‹ ì„ ì‹œë„í•œë‹¤. ì‚¬ìš©ì 1ì˜ ìš”ì²­ì´ ë¨¼ì € ì²˜ë¦¬ëœë‹¤. ì‚¬ìš©ì 2ëŠ” ë™ê¸°í™” ì¶©ëŒ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì¶©ëŒ ì˜¤ë¥˜ í•´ì†Œ\nì˜¤ë¥˜ê°€ ë°œìƒí•œ ì‹œì ì— ì´ ì‹œìŠ¤í…œì—ëŠ” ê°™ì€ íŒŒì¼ì˜ ë‘ê°€ì§€ ë²„ì „ì´ ì¡´ì¬í•˜ê²Œ ëœë‹¤.\nì‚¬ìš©ì 2ê°€ ê°€ì§€ê³  ìˆëŠ” ë¡œì»¬ ì‚¬ë³¸ê³¼ ì„œë²„ì— ìˆëŠ” ìµœì‹  ë²„ì „ ì´ ìƒíƒœì—ì„œëŠ” ë‘ íŒŒì¼ì„ í•˜ë‚˜ë¡œ í•©ì¹ ì§€ ì•„ë‹ˆë©´ ë‘˜ ì¤‘ í•˜ë‚˜ë¥¼ ë‹¤ë¥¸ íŒŒì¼ë¡œ ëŒ€ì²´í• ì§€ë¥¼ ê²°ì •í•´ì•¼í•œë‹¤.\nê°œëµì  ì„¤ê³„ì•ˆ ì‚¬ìš©ì ë‹¨ë§ ì‚¬ìš©ìê°€ ì´ìš©í•˜ëŠ” ì›¹ ë¸Œë¼ìš°ì € ë˜ëŠ” ëª¨ë°”ì¼ ì•± ë“±ì˜ í´ë¼ì´ì–¸íŠ¸ ë¸”ë¡ ì €ì¥ì†Œ ì„œë²„(block server, block-level storage) íŒŒì¼ ë¸”ë¡ì„ í´ë¼ìš°ë“œ ì €ì¥ì†Œì— ì—…ë¡œë“œí•˜ëŠ” ì„œë²„ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ë°ì´í„° íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ê¸°ìˆ  íŒŒì¼ì„ ì—¬ëŸ¬ê°œì˜ ë¸”ë¡ìœ¼ë¡œ ë‚˜ëˆ  ì €ì¥í•˜ë©°, ê° ë¸”ë¡ì—ëŠ” ê³ ìœ í•œ í•´ì‹œê°’ì„ í• ë‹¹ í•´ì‹œê°’ì€ ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë¨ ê° ë¸”ë¡ì€ ë…ë¦½ì ì¸ ê°ì²´ë¡œ ì·¨ê¸‰ë˜ì–´ í´ë¼ìš°ë“œ ì €ì¥ì†Œ ì‹œìŠ¤í…œì— ë³´ê´€(ì—¬ê¸°ì„œëŠ” s3) íŒŒì¼ ì¬êµ¬ì„± ì‹œ ë¸”ë¡ë“¤ì„ ì›ë˜ ìˆœì„œëŒ€ë¡œ í•©ì¹œë‹¤. í´ë¼ìš°ë“œ ì €ì¥ì†Œ íŒŒì¼ì„ ë¸”ë¡ ë‹¨ìœ„ë¡œ ë‚˜ëˆ  í´ë¼ìš°ë“œ ì €ì¥ì†Œì— ë³´ê´€í•œë‹¤. ì•„ì¹´ì´ë¹™ ì €ì¥ì†Œ(cold storage) ì˜¤ë«ë™ì•ˆ ì‚¬ìš©ë˜ì§€ ì•Šì€ ë¹„í™œì„± ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤. ë¡œë“œë°¸ëŸ°ì„œ ìš”ì²­ì„ ëª¨ë“  API ì„œë²„ì— ê³ ë¥´ê²Œ ë¶„ì‚°í•œë‹¤. API ì„œë²„ íŒŒì¼ ì—…ë¡œë“œ ì™¸ ê±°ì˜ ëª¨ë“  ê²ƒì„ ë‹´ë‹¹ ì‚¬ìš©ì ì¸ì¦, ì‚¬ìš©ì í”„ë¡œíŒŒì¼ ê´€ë¦¬, íŒŒì¼ ë©”íƒ€ë°ì´í„° ê°±ì‹  ë“± ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì, íŒŒì¼, ë¸”ë¡, ë²„ì „ ë“±ì˜ ë©”íƒ€ë°ì´í„° ì •ë³´ë¥¼ ê´€ë¦¬ ì‹¤ì œ íŒŒì¼ì€ í´ë¼ìš°ë“œì— ë³´ê´€ ë©”íƒ€ë°ì´í„° ìºì‹œ ì„±ëŠ¥ì„ ë†’ì´ê¸° ìœ„í•´ ìì£¼ ì“°ì´ëŠ” ë©”íƒ€ë°ì´í„°ë¥¼ ìºì‹œ ì•Œë¦¼ ì„œë¹„ìŠ¤ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆìŒì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë¦¬ëŠ” ë°œìƒ/êµ¬ë… í”„ë¡œí† ì½œ ê¸°ë°˜ ì‹œìŠ¤í…œ íŒŒì¼ ì¶”ê°€, í¸ì§‘, ì‚­ì œ ë˜ì—ˆìŒì„ ì•Œë¦°ë‹¤. ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì ë°±ì—… í(offline backup queue) í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì† ì¤‘ì´ ì•„ë‹ˆë¼ì„œ íŒŒì¼ì˜ ìµœì‹  ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ì—†ì„ ë•ŒëŠ” í•´ë‹¹ ì •ë³´ë¥¼ ì´ íì— ë‘ì–´ ë‚˜ì¤‘ì— í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì†í–ˆì„ ë•Œ ë™ê¸°í™”í•œë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ë¸”ë¡ ì €ì¥ì†Œ ì„œë²„ ì •ê¸°ì ìœ¼ë¡œ ê°±ì‹ ë˜ëŠ” í° íŒŒì¼ë“¤ì€ ì—…ë°ì´íŠ¸ê°€ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ ì „ì²´ íŒŒì¼ì„ ì„œë²„ë¡œ ë³´ë‚´ë©´ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ì„ ë§ì´ ì‚¬ìš©í•˜ê²Œëœë‹¤.\nì´ë¥¼ ìµœì í™”í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë‘ ê°€ì§€ ì •ë„ë¥¼ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤.\në¸íƒ€ ë™ê¸°í™”(delta sync) íŒŒì¼ì´ ìˆ˜ì •ë˜ë©´ ì „ì²´ íŒŒì¼ ëŒ€ì‹  ìˆ˜ì •ì´ ì¼ì–´ë‚œ ë¸”ë¡ë§Œ ë™ê¸°í™” ì••ì¶•(compression) ë¸”ë¡ ë‹¨ìœ„ë¡œ ì••ì¶•í•´ ë‘ë©´ ë°ì´í„° í¬ê¸°ë¥¼ ë§ì´ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì€ íŒŒì¼ ìœ í˜•ì— ë”°ë¼ ì •í•œë‹¤. í…ìŠ¤íŠ¸: gzip, bzip2 ë“± ë¸”ë¡ ì €ì¥ì†Œ ì„œë²„ëŠ” íŒŒì¼ ì—…ë¡œë“œì— ê´€ê³„ëœ í˜ë“  ì¼ì„ ì²˜ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚¸ íŒŒì¼ì„ ë¸”ë¡ ë‹¨ìœ„ë¡œ ë‚˜ëˆˆë‹¤. ê° ë¸”ë¡ì— ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•œë‹¤. ì•”í˜¸í™”í•œë‹¤. ì „ì²´ íŒŒì¼ì„ ì €ì¥ì†Œ ì‹œìŠ¤í…œìœ¼ë¡œ ë³´ë‚´ëŠ” ëŒ€ì‹  ìˆ˜ì •ëœ ë¸”ë¡ë§Œ ì „ì†¡í•œë‹¤. ê°±ì‹ ëœ ë¶€ë¶„ë§Œ ë™ê¸°í™”í•´ì•¼ í•˜ë¯€ë¡œ ì´ ë‘ ë¸”ë¡ë§Œ í´ë¼ìš°ë“œ ì €ì¥ì†Œì— ì—…ë¡œë“œí•œë‹¤.\në¸”ë¡ ì €ì¥ì†Œ ì„œë²„ì— ë¸íƒ€ ë™ê¸°í™” ì „ëµê³¼ ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì„ ë„ì…í•˜ë©´, ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰ì„ ì ˆê°í•  ìˆ˜ ìˆë‹¤.\në†’ì€ ì¼ê´€ì„± ìš”êµ¬ì‚¬í•­ êµ¬ê¸€ ë“œë¼ì´ë¸Œ ì‹œìŠ¤í…œì€ ê°•í•œ ì¼ê´€ì„±(string consistency) ëª¨ë¸ì„ ê¸°ë³¸ìœ¼ë¡œ ì§€ì›í•´ì•¼í•œë‹¤.\nê°™ì€ íŒŒì¼ì´ ë‹¨ë§ì´ë‚˜ ì‚¬ìš©ìì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë³´ì´ëŠ” ê²ƒì„ í—ˆìš©í•  ìˆ˜ ì—†ë‹¤. ë©”ëª¨ë¦¬ ìºì‹œëŠ” ë³´í†µ ê²°ê³¼ì  ì¼ê´€ì„±(eventual consistency) ëª¨ë¸ì€ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ê°•í•œ ì¼ê´€ì„±ì„ ë‹¬ì„±í•˜ë ¤ë©´ ë‹¤ìŒ ì‚¬í•­ì„ ë³´ì¥í•´ì•¼í•œë‹¤.\nìºì‹œì— ë³´ê´€ëœ ì‚¬ë³¸ê³¼ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” ì›ë³¸ì´ ì¼ì¹˜í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ê´€ëœ ì›ë³¸ì— ë³€ê²½ì´ ë°œìƒí•˜ë©´ ìºì‹œì— ìˆëŠ” ì‚¬ë³¸ì„ ë¬´íš¨í™”í•œë‹¤. ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ACIDë¥¼ ë³´ì¥í•˜ë¯€ë¡œ ê°•í•œ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ì‰½ë‹¤.\ní•˜ì§€ë§Œ NoSQL ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ë™ê¸°í™” ë¡œì§ ì•ˆì— í”„ë¡œê·¸ë¨í•´ ë„£ì–´ì•¼ í•œë‹¤.\nì´ë²ˆ ì„¤ê³„ì•ˆì—ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì±„íƒí•˜ì—¬ ë†’ì€ ì¼ê´€ì„± ìš”êµ¬ì‚¬í•­ì— ëŒ€ì‘í•œë‹¤.\në©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ì¤‘ìš”í•œ ê²ƒë§Œ ê°„ì¶”ë¦° ìŠ¤í‚¤ë§ˆë¥¼ ê·¸ë ¤ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\nuser ì´ë¦„, ì´ë² ì¼ í”„ë¡œíŒŒì¼ ì‚¬ì§„ ë“± ì‚¬ìš©ìì— ê´€ê³„ëœ ê¸°ë³¸ì ì¸ ì •ë³´ë“¤ì´ ë³´ê´€ device ë‹¨ë§ ì •ë³´ê°€ ë³´ê´€ push_idëŠ” ëª¨ë°”ì¼ í‘¸ì‹œ ì•Œë¦¼ì„ ë³´ë‚´ê³  ë°›ê¸° ìœ„í•œ ê²ƒ í•œ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ëŒ€ì˜ ë‹¨ë§ì„ ê°€ì§ˆ ìˆ˜ ìˆìŒ namespace ì‚¬ìš©ìì˜ ë£¨íŠ¸ ë””ë ‰í„°ë¦¬ ì •ë³´ê°€ ë³´ê´€ëœë‹¤. file íŒŒì¼ì˜ ìµœì‹  ì •ë³´ê°€ ë³´ê´€ file_version íŒŒì¼ì˜ ê°±ì‹  ì´ë ¥ì´ ë³´ê´€ ë³´ê´€ë˜ëŠ” ë ˆì½”ë“œëŠ” ì „ë¶€ ì½ê¸° ì „ìš© ê°±ì‹  ì´ë ¥ì´ íšŒì†ë˜ëŠ” ê²ƒì„ ë§‰ëŠ”ë‹¤. block íŒŒì¼ ë¸”ë¡ì— ëŒ€í•œ ì •ë³´ë¥¼ ë³´ê´€ íŠ¹ì • ë²„ì „ì˜ íŒŒì¼ì€ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ì¡°í•©í•˜ê¸°ë§Œ í•˜ë©´ ë³µì›í•  ìˆ˜ ìˆë‹¤. ì—…ë¡œë“œ ì ˆì°¨ ì‚¬ìš©ìê°€ íŒŒì¼ì„ ì˜¬ë¦¬ë©´ ë‘ ê°œì˜ ìš”ì²­ì´ ë³‘ë ¬ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì–´ì•¼ í•œë‹¤.\níŒŒì¼ ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ê°€ ìƒˆ íŒŒì¼ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•œ ìš”ì²­ ì „ì†¡ ìƒˆ íŒŒì¼ì˜ ë©”íƒ€ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê³  ì—…ë¡œë“œ ìƒíƒœë¥¼ ëŒ€ê¸°ì¤‘(pending)ìœ¼ë¡œ ë³€ê²½ ìƒˆ íŒŒì¼ì´ ì¶”ê°€ë˜ì—ˆìŒì„ ì•Œë¦¼ ì„œë¹„ìŠ¤ì— í†µì§€ ê´€ë ¨ëœ í´ë¼ì´ì–¸íŠ¸(ì—¬ê¸°ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ 2)ì—ê²Œ íŒŒì¼ì´ ì—…ë¡œë“œë˜ê³  ìˆìŒì„ ì•Œë¦¼ íŒŒì¼ì„ í´ë¼ìš°ë“œ ì €ì¥ì†Œë¡œ ì—…ë¡œë“œ íŒŒì¼ì„ ë¸”ë¡ ì €ì¥ì†Œ ì„œë²„ì— ì—…ë¡œë“œ íŒŒì¼ì„ ë¸”ë¡ ë‹¨ìœ„ë¡œ ìª¼ê°  ë‹¤ìŒ ì••ì¶•, ì•”í˜¸í™” í›„ í´ë¼ìš°ë“œ ì €ì¥ì†Œì— ì „ì†¡ ì—…ë¡œë“œ ì™„ë£Œì‹œ í´ë¼ì´ë“œ ìŠ¤í† ë¦¬ì§€ëŠ” ì™„ë£Œ ì½œë°± í˜¸ì¶œ ë©”íƒ€ë°ì´í„° DBì— ê¸°ë¡ëœ í•´ë‹¹ íŒŒì¼ì˜ ìƒíƒœë¥¼ ì™„ë£Œ(uploaded)ë¡œ ë³€ê²½ ì•Œë¦¼ ì„œë¹„ìŠ¤ì— íŒŒì¼ ì—…ë¡œë“œê°€ ëë‚¬ìŒì„ í†µì§€ ì•Œë¦¼ ì„œë¹„ìŠ¤ê°€ ê´€ë ¨ í´ë¼ì´ì–¸íŠ¸(2)ì—ê²Œ íŒŒì¼ ì—…ë¡œë“œê°€ ëë‚¬ìŒì„ ì•Œë¦¼ ìˆ˜ì •ë„ ì´ì™€ ê±°ì˜ ë™ì¼í•˜ë‹¤.\në‹¤ìš´ë¡œë“œ ì ˆì°¨ íŒŒì¼ ë‹¤ìš´ë¡œë“œëŠ” íŒŒì¼ì´ ìƒˆë¡œ ì¶”ê°€ë˜ê±°ë‚˜ í¸ì§‘ë˜ë©´ ìë™ìœ¼ë¡œ ì‹œì‘ëœë‹¤.\në‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ê°€ íŒŒì¼ì„ í¸ì§‘í•˜ê±°ë‚˜ ì¶”ê°€í–ˆë‹¤ëŠ” ì‚¬ì‹¤ì€ ë‘ ê°€ì§€ ë°©ë²•ì„ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ Aê°€ ì ‘ì† ì¤‘ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ê°€ íŒŒì¼ì„ ë³€ê²½í•˜ë©´ ì•Œë¦¼ ì„œë¹„ìŠ¤ê°€ í´ë¼ì´ì–¸íŠ¸ Aì—ê²Œ ë³€ê²½ì´ ë°œìƒí–ˆìœ¼ë‹ˆ ìƒˆ ë²„ì „ì„ ëŒì–´ê°€ì•¼ í•œë‹¤ê³  ì•Œë¦¼ í´ë¼ì´ì–¸íŠ¸ Aê°€ ì ‘ì†ì¤‘ì´ ì•„ë‹˜ ë°ì´í„°ëŠ” ìºì‹œì— ë³´ê´€ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœê°€ ì ‘ì† ì¤‘ìœ¼ë¡œ ë°”ë€Œë©´ ê·¸ë•Œ í•´ë‹¹ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒˆ ë²„ì „ì„ ê°€ì ¸ê° íŒŒì¼ì´ ë³€ê²½ë˜ì—ˆìŒì„ ê°ì§€í•œ í´ë¼ì´ì–¸íŠ¸ëŠ”\nAPI ì„œë²„ë¥¼ í†µí•´ ë©”íƒ€ë°ì´í„°ë¥¼ ìƒˆë¡œ ê°€ì ¸ê°€ì•¼í•œë‹¤. ë¸”ë¡ë“¤ì„ ë‹¤ìš´ë°›ì•„ íŒŒì¼ì„ ì¬êµ¬ì„±í•´ì•¼ í•œë‹¤. ì•Œë¦¼ ì„œë¹„ìŠ¤ê°€ í´ë¼ì´ì–¸íŠ¸ 2ì—ê²Œ íŒŒì¼ì„ ë³€ê²½í–ˆìŒì„ ì•Œë¦¼ í´ë¼ì´ì–¸íŠ¸ 2ëŠ” ìƒˆë¡œìš´ ë©”íƒ€ë°ì´í„°ë¥¼ ìš”ì²­ API ì„œë²„ëŠ” ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ì—ê²Œ ìƒˆ ë©”íƒ€ë°ì´í„° ìš”ì²­ API ì„œë²„ì—ê²Œ ìƒˆ ë©”íƒ€ë°ì´í„° ë°˜í™˜ í´ë¼ì´ì–¸íŠ¸ 2ì—ê²Œ ìƒˆ ë©”íƒ€ë°ì´í„°ê°€ ë°˜í™˜ í´ë¼ì´ì–¸íŠ¸ 2ëŠ” ìƒˆ ë©”íƒ€ë°ì´í„°ë¥¼ ë§ëŠ” ì¦‰ì‹œ ë¸”ë¡ ë‹¤ìš´ë¡œë“œ ìš”ì²­ ë¸”ë¡ ì €ì¥ì†Œ ì„œë²„ëŠ” í´ë¼ìš°ë“œ ì €ì¥ì†Œì—ì„œ ë¸”ë¡ ë‹¤ìš´ë¡œë“œ í´ë¼ìš°ë“œ ì €ì¥ì†ŒëŠ” ë¸”ë¡ ì„œë²„ì— ìš”ì²­ëœ ë¸”ë¡ ë°˜í™˜ ë¸”ë¡ ì €ì¥ì†Œ ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìš”ì²­ëœ ë¸”ë¡ ë°˜í™˜. í´ë¼ì´ì–¸íŠ¸ 2ëŠ” ì „ì†¡ëœ ë¸”ë¡ìœ¼ë¡œ íŒŒì¼ ì¬êµ¬ì„± ì•Œë¦¼ ì„œë¹„ìŠ¤ ì•Œë¦¼ ì„œë¹„ìŠ¤ëŠ” íŒŒì¼ì˜ ì¼ê´€ì„± ìœ ì§€ë¥¼ ìœ„í•´ ì‚¬ìš©ëœë‹¤.\ní´ë¼ì´ì–¸íŠ¸ê°€ ë¡œì»¬ì—ì„œ íŒŒì¼ì´ ìˆ˜ì •ë˜ì—ˆìŒì„ ê°ì§€í•˜ëŠ” ìˆœê°„ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ì— ê·¸ ì‚¬ì‹¤ì„ ì•Œë ¤ ì¶©ëŒ ê°€ëŠ¥ì„±ì„ ì¤„ì—¬ì•¼í•œë‹¤. ë‹¨ìˆœíˆ ë³´ë©´ ì•Œë¦¼ ì„œë¹„ìŠ¤ëŠ” ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ë“¤ë¡œ ë³´ë‚´ëŠ” ì„œë¹„ìŠ¤ì´ë‹¤.\në”°ë¼ì„œ ë‘ ê°€ì§€ ì •ë„ ì„ íƒì§€ê°€ ìˆë‹¤.\në¡± í´ë§: ë“œë¡­ë°•ìŠ¤ê°€ ì±„íƒí•˜ê³ ìˆìŒ ì›¹ì†Œì¼“ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì— ì§€ì†ì ì¸ í†µì‹  ì±„ë„ì„ ì œê³µí•˜ë¯€ë¡œ ì–‘ë°©í–¥ í†µì‹ ì´ ê°€ëŠ¥í•¨ ë‘˜ ë‹¤ ì¢‹ì€ ë°©ì•ˆì´ì§€ë§Œ ì´ë²ˆ ì„¤ê³„ì•ˆì—ì„œëŠ” ë¡± í´ë§ì„ ì‚¬ìš©í•œë‹¤.\nêµ¬ê¸€ ë“œë¼ì´ë¸Œ ì‹œìŠ¤í…œì€ ì•Œë¦¼ ì„œë¹„ìŠ¤ì™€ ì–‘ë°©í–¥ í†µì‹ ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤. ì„œë²„ë§Œ íŒŒì¼ì´ ë³€ê²½ëœ ì‚¬ì‹¤ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë¦°ë‹¤. ì›¹ì†Œì¼“ì€ ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹ ì´ ìš”êµ¬ë˜ëŠ” ì±„íŒ…ê³¼ ê°™ì€ ì‘ìš©ì— ì í•©í•˜ë‹¤. êµ¬ê¸€ ë“œë¼ì´ë¸Œì˜ ê²½ìš° ì•Œë¦¼ì„ ë³´ë‚¼ ì¼ì´ ê·¸ë ‡ê²Œ ìì£¼ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì•Œë¦¼ì„ ë³´ë‚´ì•¼ í•˜ëŠ” ê²½ìš°ì—ë„ ë‹¨ì‹œê°„ì— ë§ì€ ë°ì´í„°ë¥¼ ë³´ë‚¼ ì¼ì€ ì—†ë‹¤. ë”°ë¼ì„œ ë¡± í´ë§ì„ ì±„íƒí•˜ë©°, ì•„ë˜ì™€ ê°™ì€ ì ˆì°¨ê°€ ë°˜ë³µëœë‹¤.\nê° í´ë¼ì´ì–¸íŠ¸ëŠ” ì•Œë¦¼ ì„œë²„ì™€ ë¡± í´ë§ìš© ì—°ê²°ì„ ìœ ì§€í•œë‹¤. íŠ¹ì • íŒŒì¼ì— ëŒ€í•œ ë³€ê²½ì„ ê°ì§€í•˜ë©´ í•´ë‹¹ ì—°ê²°ì„ ëŠëŠ”ë‹¤ ë©”íƒ€ë°ì´í„° ì„œë²„ì™€ ì—°ê²°í•´ íŒŒì¼ì˜ ìµœì‹  ë‚´ì—­ì„ ë‹¤ìš´ë¡œë“œí•œë‹¤. ë‹¤ìš´ë¡œë“œ ì‘ì—…ì´ ëë‚¬ê±°ë‚˜ íƒ€ì„ì•„ì›ƒ ì‹œê°„ì— ë„ë‹¬í•œ ê²½ìš° ì¦‰ì‹œ ìƒˆìš”ì²­ì„ ë³´ë‚´ ë¡± í´ë§ ì—°ê²°ì„ ë³µì›í•˜ê³  ìœ ì§€í•œë‹¤. ì €ì¥ì†Œ ê³µê°„ ì ˆì•½ íŒŒì¼ ê°±ì‹  ì´ë ¥ì„ ë³´ì¡´í•˜ê³  ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ì„œ íŒŒì¼ì˜ ì—¬ëŸ¬ ë²„ì „ì„ ë°ì´í„°ì„¼í„°ì— ë³´ê´€í•  í•„ìš”ê°€ ìˆë‹¤.\nì´ ë•Œ ëª¨ë“  ë²„ì „ì„ ìì£¼ ë°±ì—…í•˜ë©´ ì €ì¥ ìš©ëŸ‰ì´ ë„ˆë¬´ ë¹¨ë¦¬ ì†Œì§„ë  ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ì„ í™œìš©í•œë‹¤.\nì¤‘ë³µ ì œê±°(de-dupe) ì¤‘ë³µëœ íŒŒì¼ ë¸”ë¡ì„ ê³„ì • ì°¨ì›ì—ì„œ ì œê±°í•œë‹¤. í•´ì‹œ ê°’ì„ ë¹„êµí•´ì„œ íŒë‹¤. ì§€ëŠ¥ì  ë°±ì—… ì „ëµ ë„ì… í•œë„ ì„¤ì • íŒŒì¼ ë²„ì „ ê°œìˆ˜ì— ìƒí•œì„ ë‘”ë‹¤. ì œì¼ ì˜¤ë˜ëœ ë²„ì „ì€ ë²„ë¦°ë‹¤. ì¤‘ìš”í•œ ë²„ì „ë§Œ ë³´ê´€ íŠ¹ì • íŒŒì¼ì€ ë‹¨ê¸°ê°„ì— ìì£¼ ë³€ê²½ë˜ë¯€ë¡œ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ì¤‘ìš”í•œ ê²ƒë§Œ ê³¨ë¼ë‚´ì–´ ë³´ê´€í•œë‹¤. ì•„ì¹´ì´ë¹™ ì €ì¥ì†Œ(cold storage) í™œìš© ìì£¼ ì“°ì´ì§€ ì•ŠëŠ” ë°ì´í„°ëŠ” ì•„ì¹´ì´ë¹™ ì €ì¥ì†Œë¡œ ì˜®ê¸´ë‹¤. ì•„ë§ˆì¡´ S3 ê¸€ë˜ì§€ì–´ ê°™ì€ ì•„ì¹´ì´ë¹™ ì €ì¥ì†Œ ì´ìš©ë£ŒëŠ” ë§¤ìš° ì €ë ´í•˜ë‹¤. ì¥ì•  ì²˜ë¦¬ ì¥ì• ëŠ” ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì´ë¼ë©´ í”¼í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì„¤ê³„ ì‹œ ê·¸ ì ì„ ë°˜ë“œì‹œ ê³ ë ¤í•´ì•¼í•œë‹¤.\në¡œë“œë°¸ëŸ°ì„œ ì¥ì•  ë¶€(Secondary) ë¡œë“œë°¸ëŸ°ì„œê°€ í™œì„±í™”ë˜ì–´ íŠ¸ë˜í”½ì„ ì´ì–´ë°›ì•„ì•¼í•œë‹¤. ë¡œë“œë°¸ëŸ°ì„œë¼ë¦¬ ë°•ë™ ì‹ í˜¸ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ë³´ë‚´ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•œë‹¤. ë¸”ë¡ ì €ì¥ì†Œ ì„œë²„ ì¥ì•  ë‹¤ë¥¸ ì„œë²„ê°€ ë¯¸ì™„ë£Œ ìƒíƒœ ë˜ëŠ” ëŒ€ê¸° ìƒíƒœì¸ ì‘ì—…ì„ ì´ì–´ë°›ì•„ì•¼í•œë‹¤. í´ë¼ìš°ë“œ ì €ì¥ì†Œ ì¥ì•  S3 ë²„í‚·ì€ ì—¬ëŸ¬ ì§€ì—­ì— ë‹¤ì¤‘í™” í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í•œ ì§€ì—­ì—ì„œ ì¥ì• ê°€ ë°œìƒí•˜ì˜€ë‹¤ë©´ ë‹¤ë¥¸ ì§€ì—­ì—ì„œ íŒŒì¼ì„ ê°€ì ¸ì˜¨ë‹¤. API ì„œë²„ ì¥ì•  API ì„œë²„ëŠ” ë¬´ìƒíƒœë¡œ, ë¡œë“œë°¸ëŸ°ì„œê°€ í•´ë‹¹ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚´ì§€ ì•ŠìŒìœ¼ë¡œ ì¥ì•  ì„œë²„ì™€ ê²©ë¦¬í•œë‹¤. ë©”íƒ€ë°ì´í„° ìºì‹œ ì¥ì•  ë‹¤ì¤‘í™”í•˜ì—¬ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì¥ì• ê°€ ë°œìƒí•œ ì„œë²„ëŠ” ìƒˆ ì„œë²„ë¡œ êµì²´í•œë‹¤. ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ì¥ì•  ì£¼ ë°ì´í„°ë² ì´ìŠ¤ ì¥ì•  ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ê°€ìš´ë° í•˜ë‚˜ë¥¼ ì£¼ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë°”ê¾¼ í›„, ë¶€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤. ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì¥ì•  ë‹¤ë¥¸ ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ê°€ ì½ê¸° ì—°ì‚°ì„ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤. ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ìƒˆë¡œ í•˜ë‚˜ ì¶”ê°€í•œë‹¤. ì•Œë¦¼ ì„œë¹„ìŠ¤ ì¥ì•  ì ‘ì†ì¤‘ì¸ ëª¨ë“  ì‚¬ìš©ìê°€ ì•Œë¦¼ ì„œë²„ì™€ ë¡± í´ë§ ì—°ê²°ì„ í•˜ë‚˜ì”© ìœ ì§€í•˜ë¯€ë¡œ, ë§ì€ ì‚¬ìš©ìì™€ì˜ ì—°ê²°ì„ ìœ ì§€í•˜ê³  ê´€ë¦¬í•´ì•¼í•œë‹¤. ë”°ë¼ì„œ ì¥ì• ê°€ ë°œìƒí•˜ë©´ ë¡± í´ë§ ì—°ê²°ì„ ë‹¤ì‹œ ë§Œë“¤ì–´ì•¼ í•˜ë¯€ë¡œ ë³µêµ¬í•˜ëŠ” ê²ƒì´ ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦´ ìˆ˜ ìˆë‹¤. ìœ ì§€ëŠ” ì‰½ì§€ë§Œ, ì—°ê²°ì„ ìƒˆë¡œ ë§Œë“œëŠ” ê²ƒì€ ì˜¤ë˜ê±¸ë¦°ë‹¤. ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì ë°±ì—… í ì¥ì•  ë‹¤ì¤‘í™”ë¥¼ í†µí•´ êµ¬ë… ì¤‘ì¸ í´ë¼ì´ì–¸íŠ¸ë“¤ì€ ë°±ì—… íë¡œ êµ¬ë… ê´€ê²Œë¥¼ ì¬ì„¤ì •í•´ì•¼í•œë‹¤. 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ë†’ì€ ìˆ˜ì¤€ì˜ ì¼ê´€ì„±, ë‚®ì€ ë„¤íŠ¸ì›Œí¬ ì§€ì—°, ë¹ ë¥¸ ë™ê¸°í™”ê°€ ìš”êµ¬ëœë‹¤ëŠ” ì ì´ í•µì‹¬ì´ì—ˆë‹¤.\nêµ¬ê¸€ ë“œë¼ì´ë¸Œ ì‹œìŠ¤í…œì€ í¬ê²Œ ë‘ ê°€ì§€ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ëœë‹¤. íŒŒì¼ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ê´€ë¦¬ íŒŒì¼ ë™ê¸°í™”ë¥¼ ì²˜ë¦¬ ì•Œë¦¼ ì„œë¹„ìŠ¤ëŠ” ì´ ë‘ ë¶€ë¶„ê³¼ ë³€ì¡´í•˜ëŠ” ë˜ í•˜ë‚˜ì˜ ì¤‘ìš” ì»´í¬ë„ŒíŠ¸ ë¡± í´ë§ì„ ì‚¬ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ë¡œ í•˜ì—¬ê¸ˆ íŒŒì¼ì˜ ìƒíƒœë¥¼ ìµœì‹ ìœ¼ë¡œ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ì„¤ê³„ì•ˆì— ì–´ë–¤ ë‹¤ë¥¸ ì„ íƒì§€ê°€ ìˆì—ˆëŠ”ì§€ ì‚´í´ë³´ë©´ ì¢‹ë‹¤.\në¸”ë¡ ì €ì¥ì†Œ ì„œë²„ë¥¼ ê±°ì¹˜ì§€ ì•Šê³  íŒŒì¼ì„ í´ë¼ìš°ë“œ ì €ì¥ì†Œì— ì§ì ‘ ì—…ë¡œë“œí•œë‹¤ë©´? ì—…ë¡œë“œ ì‹œê°„ì´ ë¹¨ë¼ì§ˆ ìˆ˜ ìˆë‹¤. ë¶„í• , ì••ì¶•, ì•”í˜¸í™” ë¡œì§ì´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì²˜ë¦¬ë˜ì–´ì•¼í•œë‹¤. ë”°ë¼ì„œ í”Œë«í¼ë³„ë¡œ ë”°ë¡œ êµ¬í˜„í•´ì•¼í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ í•´í‚¹ ë‹¹í•  ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë¯€ë¡œ ì•”í˜¸í™” ë¡œì§ì´ í´ë¼ì´ì–¸íŠ¸ì— ë‘ëŠ” ê²ƒì´ ì ì ˆì¹˜ ì•Šì„ ìˆ˜ ìˆë‹¤. ì ‘ì†ìƒíƒœ ê´€ë¦¬ ë¡œì§ì„ ë³„ë„ ì„œë¹„ìŠ¤ë¡œ ì˜®ê¸°ëŠ”ê²ƒì€? ê´€ë ¨ ì¡°ë¦­ì„ ì•Œë¦¼ ì„œë¹„ìŠ¤ì—ì„œ ë¶„ë¦¬í•˜ë©´, ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì—ì„œë„ ì‰½ê²Œ í™œìš©í•  ìˆ˜ ìˆê²Œë  ê²ƒì´ë‹¤. ","date":"2024-07-09T15:46:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/15/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/15/","title":"15. êµ¬ê¸€ ë“œë¼ì´ë¸Œ ì„¤ê³„"},{"content":"ê²€ìƒ‰ì–´ ìë™ ì™„ì„±(Autocomplete, Typeahead, Search-as-you-type, Incremental Search)ì€ ì…ë ¥ ì¤‘ì¸ ê¸€ìì— ë§ëŠ” ê²€ìƒ‰ì–´ê°€ ìë™ìœ¼ë¡œ ì™„ì„±í•˜ì—¬ í‘œì‹œë˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.\nê²€ìƒ‰ì–´ ìë™ì™„ì„±ì€ ë§ì€ ì œí’ˆì— ì¤‘ìš”í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ì´ë²ˆ ì¥ì—ì„œëŠ” ê°€ì¥ ë§ì´ ì´ìš©ëœ ê²€ìƒ‰ì–´ Kê°œë¥¼ ìë™ì™„ì„±í•˜ì—¬ ì¶œë ¥í•˜ëŠ” ì‹œìŠ¤í…œì„ ì„¤ê³„í•œë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • Q. ì‚¬ìš©ìì˜ ì…ë ¥ ë‹¨ì–´ê°€ ìë™ì™„ì„± ë  ê²€ìƒ‰ì–´ì˜ ì–´ëŠ ë¶€ë¶„ì¸ê°€?(ì²«, ë’·) A. ì²« ë¶€ë¶„ìœ¼ë¡œ í•œì • Q. ëª‡ ê°œì˜ ìë™ì™„ì„± ê²€ìƒ‰ì–´ê°€ í‘œì‹œ? A. 5ê°œ Q. ìë™ì™„ì„± ê²€ìƒ‰ì–´ 5ê°œë¥¼ ê³ ë¥´ëŠ” ê¸°ì¤€ì€? A. ì§ˆì˜ ë¹ˆë„ì— ë”°ë¼ ì •í•´ì§€ëŠ” ì¸ê¸° ìˆœìœ„ Q. ë§ì¶¤ë²• ê²€ì‚¬ ê¸°ëŠ¥ ì œê³µ? A. N Q. ì§ˆì˜ëŠ” ì˜ì–´? A. Y Q. ëŒ€ë¬¸ìë‚˜ íŠ¹ìˆ˜ë¬¸ìë„ ì²˜ë¦¬? A. ëª¨ë“  ì§ˆì˜ëŠ” ì˜ì–´ ì†Œë¬¸ìë§Œ Q. ì–¼ë§ˆë‚˜ ë§ì€ ì‚¬ìš©ìë¥¼ ì§€ì›? A. DAU ì²œë§Œ ìš”êµ¬ì‚¬í•­ ìœ„ ì§ˆì˜ì‘ë‹µì„ í†µí•´ ì •ë¦¬í•œ ìš”êµ¬ì‚¬í•­ì€ ì•„ë˜ì™€ ê°™ë‹¤.\në¹ ë¥¸ ì‘ë‹µ ì†ë„ ì‚¬ìš©ìê°€ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•©ì— ë”°ë¼ ìë™ì™„ì„± ê²€ìƒ‰ì–´ë„ ì¶©ë¶„íˆ ë¹¨ë¦¬ í‘œì‹œë˜ì–´ì•¼í•œë‹¤. í˜ì´ìŠ¤ë¶ì€ ì‘ë‹µì†ë„ 100ms ì´ë‚´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œë‹¤. ìë™ ì™„ì„±ì€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì²˜ë¦¬ë˜ëŠ” íŠ¹ì„±ìœ¼ë¡œ ëŠë¦¬ë©´ ì‚¬ìš©ì´ ë§¤ìš° ë¶ˆí¸í•´ì§„ë‹¤. ì—°ê´€ì„± ìë™ì™„ì„± ê²°ê³¼ëŠ” ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë‹¨ì–´ì™€ ì—°ê´€ëœ ê²ƒ ì´ì–´ì•¼ í•œë‹¤. ì •ë ¬ ê³„ì‚° ê²°ê³¼ëŠ” ì¸ê¸°ë„(Populatiry) ë“±ì˜ ìˆœìœ„ ëª¨ë¸(Ranking Model)ì— ì˜í•´ ì •ë ¬ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. ê·œëª¨ í™•ì¥ì„± ë§ì€ íŠ¸ë˜í”½ì„ ê°ë‹¹í•  ìˆ˜ ìˆë„ë¡ í™•ì¥ ê°€ëŠ¥í•´ì•¼í•œë‹¤. ê³ ê°€ìš©ì„± ì‹œìŠ¤í…œì˜ ì¼ë¶€ì— ì¥ì• , ì§€ì—°, ë„¤íŠ¸ì›Œí¬ ë¬¸ì œê°€ ìƒê²¨ë„ ê³„ì† ì‚¬ìš© ê°€ëŠ¥í•´ì•¼í•œë‹¤. ê°œëµì  ê·œëª¨ ì¶”ì • DAUëŠ” ì²œë§Œ ëª…ìœ¼ë¡œ ê°€ì • ì‚¬ìš©ìëŠ” í‰ê· ì ìœ¼ë¡œ ë§¤ì¼ 10ê±´ì˜ ê²€ìƒ‰ì„ ìˆ˜í–‰í•œë‹¤ê³  ê°€ì • ì§ˆì˜ ë§ˆë‹¤ í‰ê· ì ìœ¼ë¡œ 20ë°”ì´íŠ¸ ë°ì´í„°ë¥¼ ì…ë ¥í•œë‹¤ê³  ê°€ì • ASCII ì‚¬ìš©í•œë‹¤ê³  ê°€ì •(1ë¬¸ì = 1ë°”ì´íŠ¸) ì§ˆì˜ë¬¸ì€ í‰ê· ì ìœ¼ë¡œ 4ê°œ ë‹¨ì–´, ê° ë‹¨ì–´ëŠ” ë‹¤ì„¯ ê¸€ìë¡œ êµ¬ì„±ëœë‹¤ê³  ê°€ì • ì§ˆì˜ë‹¹ í‰ê·  4 * 5 = 20ë°”ì´íŠ¸ ê²€ìƒ‰ì°½ì— ê¸€ìë¥¼ ì…ë ¥í•  ë•Œë§ˆë‹¤ í´ë¼ì´ì–¸íŠ¸ëŠ” ê²€ìƒ‰ì–´ ìë™ì™„ì„± ë°±ì—”ë“œì— ìš”ì²­ì„ ë³´ë‚¸ë‹¤. í‰ê· ì ìœ¼ë¡œ 1íšŒ ê²€ìƒ‰ë‹¹ 20ê±´ì˜ ìš”ì²­ì´ ë°±ì—”ë“œë¡œ ì „ë‹¬ëœë‹¤. \u0026ldquo;dinner\u0026rdquo; ì…ë ¥ ì˜ˆì‹œ search?q=d search?q=di search?q=din search?q=dinn search?q=dinne search?q=dinner ëŒ€ëµ ì´ˆë‹¹ 24,000ê±´ ì§ˆì˜(QPS) 10,000,000 ì‚¬ìš©ì * (10 ì§ˆì˜/ì¼) * 20ì / 24ì‹œê°„ / 3,600ì´ˆ ìµœëŒ€ QPS = QPS * 2 = ëŒ€ëµ 48,000 ì§ˆì˜ ì¤‘ 20%ëŠ” ì‹ ê·œ ê²€ìƒ‰ì–´ë¼ ê°€ì •. 10,000,000 ì‚¬ìš©ì * (10 ì§ˆì˜/ì¼ * 20ì * 20%) = ì¼ 0.4GB 0.4GBì˜ ì‹ ê·œ ë°ì´í„°ê°€ ì‹œìŠ¤í…œì— ì¶”ê°€ 2ë‹¨ê³„ ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ê²€ìƒ‰ì–´ ìë™ì™„ì„± ì‹œìŠ¤í…œì€ ê°œëµì ìœ¼ë¡œ ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ë‰œë‹¤.\në°ì´í„° ìˆ˜ì§‘ ì„œë¹„ìŠ¤(Data gathering service) ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì§ˆì˜ë¥¼ ì‹¤ì‹œê°„ë¡œ ìˆ˜ì§‘í•˜ëŠ” ì‹œìŠ¤í…œ ë°ì´í„°ê°€ ë§ì€ ì‹œìŠ¤í…œì— ì‹¤ì‹œê°„ìœ¼ë¡œ ìˆ˜ì§‘í•˜ëŠ”ê±´ ë°”ëŒì§í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì§„í–‰í•˜ë©° í˜„ì‹¤ì ì¸ ì•ˆìœ¼ë¡œ êµì²´í•œë‹¤. ì§ˆì˜ ì„œë¹„ìŠ¤(Query Service) ì£¼ì–´ì§„ ì§ˆì˜ì— ë‹¤ì„¯ ê°œì˜ ì¸ê¸° ê²€ìƒ‰ì–´ë¥¼ ì •ë ¬í•´ ë‚´ë†“ëŠ” ì„œë¹„ìŠ¤ ë°ì´í„° ìˆ˜ì§‘ ì„œë¹„ìŠ¤ ë°ì´í„° ìˆ˜ì§‘ ì„œë¹„ìŠ¤ì˜ ë™ì‘ì„ ê°„ë‹¨í•œ ì˜ˆì œë¡œ ì‚´í´ë³¸ë‹¤.\nì§ˆì˜ë¬¸ê³¼ ì‚¬ìš© ë¹ˆë„ë¥¼ ì €ì¥í•˜ëŠ” ë¹ˆë„ í…Œì´ë¸”(frequency table)ì´ ìˆë‹¤ê³  ê°€ì •í•˜ë©´, ì²˜ìŒ ì´ í…Œì´ë¸”ì€ ë¹„ì–´ìˆì§€ë§Œ, ì‚¬ìš©ìê°€ ê²€ìƒ‰í•˜ë©´ ê·¸ ìƒíƒœê°€ ë°”ë€Œì–´ ë‚˜ê°€ê²Œ ëœë‹¤.\nì§ˆì˜ ì„œë¹„ìŠ¤ erDiagram Frequency { query varchar freuqency bigint } query freuqency twitter 35 twitch 29 twilight 25 twin peak 21 twitch prime 18 twitter search 14 twillo 10 twin peak sf 8 ìœ„ì™€ ê°™ì€ ìƒíƒœì—ì„œ ì‚¬ìš©ìê°€ twë¥¼ ê²€ìƒ‰ì°½ì— ì…ë ¥í•˜ë©´ \u0026ldquo;top 5\u0026rdquo; ê²€ìƒ‰ì–´ê°€ í‘œì‹œë˜ì–´ì•¼ í•œë‹¤.\ntwitter twitch twilight twin peak twitch prime 1 2 3 4 5 SELECT * FROM frequency WHERE query LIKE `prefix%` ORDER BY frequency DESC LIMIT 5; ì´ëŸ¬í•œ ë°©ë²•ì€ ë°ì´í„° ì–‘ì´ ì ì„ ë•ŒëŠ” ë‚˜ì˜ì§€ ì•Šì§€ë§Œ, ë°ì´í„°ê°€ ì•„ì£¼ ë§ì•„ì§€ë©´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë³‘ëª©ì´ ë  ìˆ˜ ìˆë‹¤.\n3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ê°œëµì  ì„¤ê³„ì•ˆì€ ì¶œë°œì ìœ¼ë¡œ ë‚˜ì˜ì§„ ì•Šì§€ë§Œ ìµœì í™”ê°€ ì´ë£¨ì–´ì§€ì§€ ì•Šì•„ ì¥ê¸°ì ìœ¼ë¡œ ë°œì „ì´ í•„ìš”í•œ êµ¬ì¡°ì˜€ë‹¤.\nì´ë²ˆ ì ˆì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ëª‡ ê°œ ê³¨ë¼ ë³´ë‹¤ ìƒì„¸íˆ ì„¤ê³„í•˜ê³  ë‹¤ìŒ ìˆœì„œë¡œ ìµœì í™” ë°©ì•ˆì„ ë…¼ì˜í•œë‹¤.\níŠ¸ë¼ì´(Trie) ìë£Œêµ¬ì¡° ë°ì´í„° ìˆ˜ì§‘ ì„œë¹„ìŠ¤ ì§ˆì˜ ì„œë¹„ìŠ¤ ê·œëª¨ í™•ì¥ì´ ê°€ëŠ¥í•œ ì €ì¥ì†Œ íŠ¸ë¼ì´ ì—°ì‚° íŠ¸ë¼ì´ ìë£Œêµ¬ì¡° ê°œëµì  ì„¤ê³„ì•ˆì—ì„œëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì €ì¥ì†Œë¡œ ì‚¬ìš©í–ˆì—ˆì§€ë§Œ, ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ìš©í•´ ê°€ì¥ ì¸ê¸° ìˆì—ˆë˜ ë‹¤ì„¯ ê°œ ì§ˆì˜ë¬¸ì„ ê³¨ë¼ë‚´ëŠ” ë°©ë²•ì€ ë¹„êµì  íš¨ìœ¨ì ì´ì§€ ì•Šë‹¤.\nì´ ë¬¸ì œëŠ” íŠ¸ë¼ì´(Trie, ì ‘ë‘ì–´ íŠ¸ë¦¬, Prefix tree)ë¥¼ ì‚¬ìš©í•´ ì„±ëŠ¥ì„ ëŒì–´ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.\níŠ¸ë¼ì´ëŠ” ë¬¸ìì—´ë“¤ì„ ê°„ëµí•˜ê²Œ ì €ì¥í•  ìˆ˜ ìˆëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤.\níŠ¸ë¦¬ í˜•íƒœì˜ ìë£Œ êµ¬ì¡°ë‹¤. ë£¨íŠ¸ ë…¸ë“œëŠ” ë¹ˆ ë¬¸ìì—´ì„ ë‚˜íƒ€ë‚¸ë‹¤. ê° ë…¸ë“œëŠ” ê¸€ì í•˜ë‚˜ë¥¼ ì €ì¥í•˜ë©°, ì´ ì„¤ê³„ì—ì„œëŠ” 26ê°œì˜ ìì‹ ë…¸ë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ìì‹ ë…¸ë“œëŠ” í•´ë‹¹ ê¸€ì ë‹¤ìŒì— ë“±ì¥í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê¸€ìì˜ ê°œìˆ˜ ê° íŠ¸ë¦¬ ë…¸ë“œëŠ” í•˜ë‚˜ì˜ ë‹¨ì–´, ë˜ëŠ” ì ‘ë‘ì–´ ë¬¸ìì—´ì„ ë‚˜íƒ€ë‚¸ë‹¤. ê¸°ë³¸ íŠ¸ë¼ì´ ìë£Œêµ¬ì¡°ëŠ” ë…¸ë“œì— ë¬¸ìë“¤ì„ ì €ì¥í•œë‹¤.\nì´ë¥¼ ì´ìš© ë¹ˆë„ì— ë”°ë¼ ì •ë ¬ëœ ê²°ê³¼ë¥¼ ìœ„í•´ ë…¸ë“œì— ë¹ˆë„ ì •ë³´ê¹Œì§€ í•¨ê»˜ ì €ì¥í•´ì•¼í•œë‹¤.\nquery frequency tree 10 try 29 true 35 toy 14 wish 25 win 50 p: ì ‘ë‘ì–´ ê¸¸ì´ n: íŠ¸ë¼ì´ ì•ˆì— ìˆëŠ” ë…¸ë“œ ê°œìˆ˜ c: ì£¼ì–´ì§„ ë…¸ë“œì˜ ìì‹ ë…¸ë“œ ê°œìˆ˜ ê°€ì¥ ë§ì´ ì‚¬ìš©ëœ ì§ˆì˜ì–´ kê°œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì°¾ì„ ìˆ˜ ìˆë‹¤.\ní•´ë‹¹ ì ‘ë‘ì–´ë¥¼ í‘œí˜„í•˜ëŠ” ë…¸ë“œë¥¼ ì°¾ëŠ”ë‹¤. O(p) í•´ë‹¹ ë…¸ë“œë¶€í„° ì‹œì‘í•˜ëŠ” í•˜ìœ„ íŠ¸ë¦¬ë¥¼ íƒìƒ‰í•˜ì—¬ ëª¨ë“  ìœ íš¨ ë…¸ë“œë¥¼ ì°¾ëŠ”ë‹¤. O(c) ìœ íš¨í•œ ê²€ìƒ‰ ë¬¸ìì—´ì„ êµ¬ì„±í•˜ëŠ” ë…¸ë“œê°€ ìœ íš¨ ë…¸ë“œ ìœ íš¨ ë…¸ë“œë“¤ì„ ì •ë ¬í•˜ì—¬ ê°€ì¥ ì¸ê¸° ìˆëŠ” ê²€ìƒ‰ì–´ kê°œë¥¼ ì°¾ëŠ”ë‹¤. O(clogc) ì´ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ìœ„ì˜ ê° ë‹¨ê³„ì— ì†Œìš”ëœ ì‹œê°„ì˜ í•©ì´ë‹¤.\nO(p) + O(c) + O(clogc) ì§ê´€ì ì´ì§€ë§Œ ìµœì•…ì˜ ê²½ìš° kê°œ ê²°ê³¼ë¥¼ ì–»ìœ¼ë ¤ê³  ì „ì²´ íŠ¸ë¼ì´ë¥¼ ë‹¤ ê²€ìƒ‰í•´ì•¼ í•˜ëŠ” ì¼ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•  ë°©ë²•ìœ¼ë¡œ ë‘ ê°€ì§€ ì •ë„ë¥¼ ê¼½ì„ ìˆ˜ ìˆë‹¤.\nì ‘ë‘ì–´ì˜ ìµœëŒ€ ê¸¸ì´ ì œí•œ ê° ë…¸ë“œì— ì¸ê¸° ê²€ìƒ‰ì–´ ìºì‹œ ì ‘ë‘ì–´ ìµœëŒ€ ê¸¸ì´ ì œí•œ\nì‚¬ìš©ìê°€ ê²€ìƒ‰ì°½ì— ê¸´ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ëŠ” ì¼ì€ ê±°ì˜ ì—†ë‹¤ëŠ” ê²ƒì„ ì´ìš©í•œ ë°©ì‹ìœ¼ë¡œ, pê°’ì„ ì‘ì€ ì •ìˆ«ê°’ìœ¼ë¡œ ê°€ì •í•œë‹¤.\nì ‘ë‘ì–´ ë…¸ë“œë¥¼ ì°¾ëŠ” ë‹¨ê³„ì˜ ì‹œê°„ ë³µì¡ë„ê°€ O(p)ì—ì„œ O(ì‘ì€ ìƒìˆ˜ê°’) = O(1)ë¡œ ë°”ë€ë‹¤. ë…¸ë“œì—ì„œ ì¸ê¸° ê²€ìƒ‰ì–´ ìºì‹œ\nê° ë…¸ë“œì— kê°œì˜ ì¸ê¸° ê²€ìƒ‰ì–´ë¥¼ ì €ì¥í•´ ë‘ë©´ ì „ì²´ íŠ¸ë¼ì´ë¥¼ ê²€ìƒ‰í•˜ëŠ” ì¼ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.\n5 ~ 10ê°œ ì •ë„ì˜ ìë™ì™„ì„± ì œì•ˆì„ í‘œì‹œí•˜ë©´ ì¶©ë¶„í•˜ë¯€ë¡œ, këŠ” ì¶©ë¶„íˆ ì‘ì€ ê°’ì´ë‹¤. ì´ëŸ¬í•œ ë°©ë²•ì€ ê²€ìƒ‰ì–´ë¥¼ ì§ˆì˜í•˜ëŠ” ì‹œê°„ ë³µì¡ë„ë¥¼ ë§¤ìš° ë‚®ì¶œ ìˆ˜ ìˆìœ¼ë‚˜, ê° ë…¸ë“œì— ì§ˆì˜ì–´ë¥¼ ì €ì¥í•  ê³µê°„ì´ ë§ì´ í•„ìš”í•˜ê²Œëœë‹¤.\ní•˜ì§€ë§Œ ë¹ ë¥¸ ì‘ë‹µì†ë„ì˜ ìš°ì„ ìˆœìœ„ê°€ ë§¤ìš° ë†’ì€ ê²½ìš° ì €ì¥ê³µê°„ì„ í¬ìƒí•  ë§Œí•œ ê°€ì¹˜ëŠ” ìˆë‹¤.\nì ‘ë‘ì–´ ìµœëŒ€ ê¸¸ì´ ì œí•œê³¼ ì¸ê¸° ê²€ìƒ‰ì–´ ìºì‹œë¥¼ ì¶”ê°€í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ìµœì í™” í•  ìˆ˜ ìˆë‹¤.\nì ‘ë‘ì–´ ë…¸ë“œë¥¼ ì°¾ëŠ” ì‹œê°„ ë³µì¡ë„ê°€ O(1)ë¡œ ë°”ë€ë‹¤. ìµœê³  ì¸ê¸° ê²€ìƒ‰ì–´ 5ê°œë¥¼ ì°¾ëŠ” ì§ˆì˜ì˜ ì‹œê°„ ë³µì¡ë„ë„ O(1)ë¡œ ë°”ë€ë‹¤. ê° ë‹¨ê³„ì˜ ì‹œê°„ ë³µì¡ë„ê°€ O(1)ë¡œ ì²˜ë¦¬ë˜ë¯€ë¡œ, ìµœê³  ì¸ê¸° ê²€ìƒ‰ì–´ kê°œë¥¼ ì°¾ëŠ” ì „ì²´ ì•Œê³ ë¦¬ì¦˜ì˜ ë³µì¡ë„ë„ O(1)ì´ë‹¤.\në°ì´í„° ìˆ˜ì§‘ ì„œë¹„ìŠ¤ ì‚¬ìš©ìê°€ ê²€ìƒ‰ì°½ì— íƒ€ì´í•‘ì„ í•  ë•Œë§ˆë‹¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ì‹ì€ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œì ì´ ìˆë‹¤.\në§¤ì¼ ìˆ˜ì²œë§Œ ê±´ì˜ ì§ˆì˜ê°€ ì…ë ¥ë  í…ë°, ê·¸ ë•Œë§ˆë‹¤ íŠ¸ë¼ì´ë¥¼ ê°±ì‹ í•˜ë©´ ì§ˆì˜ ì„œë¹„ìŠ¤ëŠ” ì‹¬ê°í•˜ê²Œ ëŠë ¤ì§„ë‹¤. íŠ¸ë¼ì´ê°€ ë§Œë“¤ì–´ì§€ê³  ë‚˜ë©´ ì¸ê¸° ê²€ìƒ‰ì–´ëŠ” ê·¸ë‹¤ì§€ ìì£¼ ë°”ë€Œì§€ ì•Šì„ ê²ƒì´ë‹¤. íŠ¸ë¼ì´ëŠ” ìì£¼ ê°±ì‹ í•  í•„ìš”ê°€ ì—†ë‹¤. ì´ë¥¼ ìœ„í•œ ê·œëª¨ í™•ì¥ì´ ì‰¬ìš´ ë°ì´í„° ìˆ˜ì§‘ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ë ¤ë©´ ë°ì´í„°ê°€ ì–´ë””ì„œ ì˜¤ê³  ì–´ë–»ê²Œ ì´ìš©ë˜ëŠ”ì§€ë¥¼ ì‚´í´ì•¼ í•œë‹¤.\níŠ¸ìœ„í„° ê°™ì€ ì‹¤ì‹œê°„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì œì•ˆë˜ëŠ” ê²€ìƒ‰ì–´ë¥¼ í•­ìƒ ì‹ ì„ í•˜ê²Œ ìœ ì§€í•  í•„ìš”ê°€ ìˆë‹¤. êµ¬ê¸€ ê²€ìƒ‰ ê°™ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ê·¸ë ‡ê²Œ ìì£¼ ë°”ê¿”ì¤„ ì´ìœ ëŠ” ì—†ë‹¤. íŠ¸ë¼ì´ë¥¼ ë§Œë“œëŠ” ë° ì“°ëŠ” ë°ì´í„°ëŠ” ë³´í†µ ë¶„ì„ ì„œë¹„ìŠ¤(Analytics)ë‚˜ ë¡œê¹… ì„œë¹„ìŠ¤(Logging service)ë¥¼ ì´ìš©í•˜ë¯€ë¡œ, ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜í•˜ì§€ ì•Šë”ë¼ë„ ê¸°ë³¸ êµ¬ì¡°ëŠ” ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤.\në°ì´í„° ë¶„ì„ ì„œë¹„ìŠ¤ ë¡œê·¸\nê²€ìƒ‰ì°½ì— ì…ë ¥ëœ ì§ˆì˜ì— ê´€í•œ ì›ë³¸ ë°ì´í„°ê°€ ë³´ê´€ëœë‹¤.\nìƒˆë¡œìš´ ë°ì´í„°ê°€ ì¶”ê°€ë  ë¿ ìˆ˜ì •ì€ ì´ë£¨ì–´ì§€ì§€ ì•Šìœ¼ë©°, ë¡œê·¸ ë°ì´í„°ì—ëŠ” ì¸ë±ìŠ¤ë¥¼ ê±¸ì§€ ì•ŠëŠ”ë‹¤.\nquery time tree 2019-10-01 22:01:01 \u0026hellip; \u0026hellip; ë¡œê·¸ ì·¨í•© ì„œë²„\në¡œê·¸ëŠ” ë³´í†µ ê·¸ ì–‘ì´ ì—„ì²­ë‚˜ê³  ë°ì´í„° í˜•ì‹ë„ ì œê°ê°ì¸ ê²½ìš°ê°€ ë§ë‹¤.\në”°ë¼ì„œ ì´ ë°ì´í„°ë¥¼ ì˜ ì·¨í•©í•˜ì—¬ ìš°ë¦¬ ì‹œìŠ¤í…œì´ ì‰½ê²Œ ì†Œë¹„í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤.\në°ì´í„° ì·¨í•© ë°©ì‹ì€ ìë™ì™„ì„± ì„œë¹„ìŠ¤ì˜ ì œê³µ ë°©ì‹ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\nì‹¤ì‹œê°„ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°ì´í„° ì·¨í•© ì£¼ê¸°ë¥¼ ì§§ê²Œ ê°€ì ¸ê°„ë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì¼ì£¼ì¼ì— í•œ ë²ˆ ì •ë„ ë¡œê·¸ë¥¼ ì·¨í•©í•´ë„ ì¶©ë¶„ ì·¨í•©ëœ ë°ì´í„°\nquery time frequency tree 2019-10-01 12000 \u0026hellip; \u0026hellip; \u0026hellip; ì‘ì—… ì„œë²„\nì£¼ê¸°ì ìœ¼ë¡œ ë¹„ë™ê¸°ì  ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ì„œë²„ ì§‘í•©ìœ¼ë¡œ, íŠ¸ë¼ì´ ìë£Œêµ¬ì¡°ë¥¼ ë§Œë“¤ê³  íŠ¸ë¼ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\níŠ¸ë¼ì´ ìºì‹œ\në¶„ì‚° ìºì‹œ ì‹œìŠ¤í…œìœ¼ë¡œ íŠ¸ë¼ì´ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ìœ ì§€í•˜ì—¬ ì½ê¸° ì—°ì‚° ì„±ëŠ¥ì„ ë†’ì´ëŠ” ì—­í• ì„ í•œë‹¤.\në§¤ì£¼ íŠ¸ë¼ì´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ìŠ¤ëƒ…ìƒ·ì„ ë– ì„œ ê°±ì‹ í•œë‹¤. íŠ¸ë¼ì´ ë°ì´í„°ë² ì´ìŠ¤\nì§€ì†ì„± ì €ì¥ì†Œë¡œ íŠ¸ë¼ì´ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì„ íƒì§€ë¡œëŠ” ë‹¤ìŒì˜ ë‘ ê°€ì§€ê°€ ìˆë‹¤.\në¬¸ì„œ ì €ì¥ì†Œ(Document store) ìƒˆ íŠ¸ë¼ì´ë¥¼ ë§¤ì£¼ ë§Œë“¤ ê²ƒì´ë¯€ë¡œ, ì£¼ê¸°ì ìœ¼ë¡œ íŠ¸ë¼ì´ë¥¼ ì§ë ¬í™”í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤. ëª½ê³ ë””ë¹„(MongoDB) ë“± í‚¤-ê°’ ì €ì¥ì†Œ íŠ¸ë¼ì´ëŠ” í•´ì‹œ í…Œì´ë¸” í˜•íƒœë¡œ ë³€í™˜ ê°€ëŠ¥í•˜ë‹¤. íŠ¸ë¼ì´ì— ë³´ê´€ëœ ëª¨ë“  ì ‘ë‘ì–´ë¥¼ í•´ì‹œ í…Œì´ë¸” í‚¤ë¡œ ë³€í™˜ ê° íŠ¸ë¼ì´ ë…¸ë“œì— ë³´ê´€ëœ ëª¨ë“  ë°ì´í„°ë¥¼ í•´ì‹œ í…Œì´ë¸” ê°’ìœ¼ë¡œ ë³€í™˜ íŠ¸ë¼ì´ ë…¸ë“œëŠ” í•˜ë‚˜ì˜ \u0026lt;í‚¤, ê°’\u0026gt; ìŒìœ¼ë¡œ ë³€í™˜ëœë‹¤. ì§ˆì˜ ì„œë¹„ìŠ¤ ê°œëµì  ì„¤ê³„ì•ˆì—ì„œì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•œ ë°©ì‹ì—ì„œ ê°œì„ ëœ ìƒˆ ì„¤ê³„ì•ˆì´ë‹¤.\nê²€ìƒ‰ ì§ˆì˜ê°€ ë¡œë“œë°¸ëŸ°ì„œë¡œ ì „ì†¡ëœë‹¤. ë¡œë“œë°¸ëŸ°ì„œëŠ” í•´ë‹¹ ì§ˆì˜ë¥¼ API ì„œë²„ë¡œ ë³´ë‚¸ë‹¤. íŠ¸ë¼ì´ ìºì‹œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ í•´ë‹¹ ìš”ì²­ì— ëŒ€í•œ ìë™ì™„ì„± ê²€ìƒ‰ì–´ ì œì•ˆ ì‘ë‹µì„ êµ¬ì„±í•œë‹¤. ë°ì´í„°ê°€ íŠ¸ë¼ì´ ìºì‹œì— ì—†ëŠ” ê²½ìš° ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°€ì ¸ì™€ ìºì‹œì— ì±„ìš´ë‹¤. ë‹¤ìŒì— ê°™ì€ ì ‘ë‘ì–´ì— ëŒ€í•œ ì§ˆì˜ê°€ ì˜¬ ê²ƒì„ ëŒ€ë¹„í•˜ì—¬ ìºì‹œë¥¼ ê°±ì‹  ìºì‹œ ë¯¸ìŠ¤ëŠ” ìºì„œ ì„œë²„ì˜ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•˜ê±°ë‚˜ ìºì‹œ ì„œë²„ì— ì¥ì• ê°€ ìˆì–´ë„ ë°œìƒ ê°€ëŠ¥ ì§ˆì˜ ì„œë¹„ìŠ¤ëŠ” ë²ˆê°œì²˜ëŸ¼ ë¹¨ë¼ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ìµœì í™” ë°©ì•ˆì„ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤.\nAJAX ë¹„ë™ê¸°ë¡œ ê²°ê³¼ë¥¼ ë°›ì•„ì˜¤ë¯€ë¡œ, í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í•  í•„ìš”ê°€ ì—†ë‹¤. ë¸Œë¼ìš°ì € ìºì‹± ìë™ì™„ì„± ê²€ìƒ‰ì–´ ì œì•ˆ ê²°ê³¼ëŠ” ì§§ì€ ì‹œê°„ì— ë°”ë€Œì§€ ì•Šìœ¼ë¯€ë¡œ, ì œì•ˆëœ ê²€ìƒ‰ì–´ë“¤ì„ ë¸Œë¼ìš°ì € ìºì‹œì— ë„£ì–´ë‘ë©´ í›„ì† ê²°ê³¼ëŠ” ìºì‹œì—ì„œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë‹¤. êµ¬ê¸€ì€ ì œì•ˆëœ ê²€ìƒ‰ì–´ë¥¼ í•œ ì‹œê°„ ë™ì•ˆ ìºì‹œí•´ë‘”ë‹¤. cache-controlí—¤ë” ê°’ì˜ privateëŠ” ìš”ì²­ì„ ë³´ë‚¸ ì‚¬ìš©ìì˜ ìºì‹œì—ë§Œ ë³´ê´€ëœë‹¤ëŠ” ì˜ë¯¸(ê³µìš©ì€ ë¶ˆê°€) max-age=3600 í•œì‹œê°„ë™ì•ˆ ìœ íš¨ ë°ì´í„° ìƒ˜í”Œë§ ëª¨ë“  ì§ˆì˜ ê²°ê³¼ë¥¼ ë¡œê¹…í•˜ë„ë¡ í•˜ë©´ CPU ìì›ê³¼ ì €ì¥ê³µê°„ì„ ë§ì´ ì†Œì§„í•˜ë¯€ë¡œ, Nê°œì˜ ìš”ì²­ ê°€ìš´ë° 1ê°œë§Œ ë¡œê¹…í•œë‹¤. íŠ¸ë¼ì´ ì—°ì‚° íŠ¸ë¼ì´ëŠ” ê²€ìƒ‰ì–´ ìë™ì™„ì„± ì‹œìŠ¤í…œì˜ í•µì‹¬ì´ë‹¤.\níŠ¸ë¼ì´ ìƒì„±\níŠ¸ë¼ì´ë¥¼ ê°±ì‹ í•˜ëŠ”ë°ëŠ” ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.\në§¤ì£¼ í•œ ë²ˆ ê°±ì‹  ìƒˆë¡œìš´ íŠ¸ë¼ì´ë¥¼ ë§Œë“  í›„ ê¸°ì¡´ íŠ¸ë¼ì´ë¥¼ ëŒ€ì²´ ê° ë…¸ë“œë¥¼ ê°œë³„ì ìœ¼ë¡œ ê°±ì‹  ì„±ëŠ¥ì´ ì¢‹ì§€ ì•Šë‹¤. íŠ¸ë¼ì´ê°€ ì‘ì„ê²½ìš° ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. íŠ¸ë¼ì´ ë…¸ë“œëŠ” ìƒìœ„ ë…¸ë“œì—ë„ ì¸ê¸° ê²€ìƒ‰ì–´ ì§ˆì˜ ê²°ê³¼ê°€ ë³´ê´€ë˜ë¯€ë¡œ ê°±ì‹ ì‹œ ëª¨ë“  ìƒìœ„ ë…¸ë“œë„ ê°±ì‹ í•´ì•¼ í•œë‹¤. ê²€ìƒ‰ì–´ ì‚­ì œ\në¶€ì ì ˆí•œ ì§ˆì˜ì–´ë¥¼ ìë™ì™„ì„± ê²°ê³¼ì—ì„œ ì œê±°í•´ì•¼í•  ìˆ˜ ìˆë‹¤.\nì´ë¥¼ ìœ„í•œ ì¢‹ì€ ë°©ë²•ì€ íŠ¸ë¼ì´ ìºì‹œ ì•ì— í•„í„° ê³„ì¸µ(filter layer)ë¥¼ ë‘ê³  ë¶€ì ì ˆí•œ ì§ˆì˜ì–´ê°€ ë°˜í™˜ë˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.\ní•„í„° ê·œì¹™ì— ë”°ë¼ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ììœ ë¡­ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í•´ë‹¹ ê²€ìƒ‰ì–´ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ê²ƒì€ ë‹¤ìŒ ì—…ë°ì´íŠ¸ ì‚¬ì´í´ì— ë¹„ë™ê¸°ì ìœ¼ë¡œ ì§„í–‰í•œë‹¤. ì €ì¥ì†Œ ê·œëª¨ í™•ì¥ íŠ¸ë¼ì´ì˜ í¬ê¸°ê°€ í•œ ì„œë²„ì— ë„£ê¸° í˜ë“  ê²½ìš°ì— ëŒ€ì‘í•  ìˆ˜ ìˆë„ë¡ ê·œëª¨ í™•ì¥ì„± ë¬¸ì œë¥¼ ê³ ë ¤í•´ì•¼í•œë‹¤.\nê°„ë‹¨í•˜ê²Œ ì²« ê¸€ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒ¤ë”©í•˜ëŠ” ë°©ë²•ì„ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤.\në‘ ëŒ€ ì„œë²„ê°€ í•„ìš”í•˜ë‹¤ë©´ a ~ mê¹Œì§€ ê¸€ìë¡œ ì‹œì‘í•˜ëŠ” ê²€ìƒ‰ì–´ëŠ” 1ë²ˆ ì„œë²„, ë‚˜ë¨¸ì§€ëŠ” 2ë²ˆ ì„œë²„ì— ì €ì¥ í•˜ëŠ” ì‹ìœ¼ë¡œ \u0026hellip; ì‚¬ìš© ê°€ëŠ¥í•œ ì„œë²„ëŠ” ìµœëŒ€ 26ëŒ€(ì˜ì–´ ì•ŒíŒŒë²³ ê°œìˆ˜)ë¡œ ì œí•œë˜ë¯€ë¡œ, ê·¸ ì´ìƒ ëŠ˜ë¦¬ë ¤ë©´ ê³„ì¸µì ì¸ ìƒ¤ë”©ì´ í•„ìš”í•˜ë‹¤. aa ~ ag, ah ~ an \u0026hellip; ì´ë ‡ê²Œ ë‹¨ìˆœí•œ ì‚¬ë”©ì€ ë‹¨ì–´ì˜ ì•ŒíŒŒë²³ ë¹ˆë„ìˆ˜ ë¬¸ì œ(íŠ¹ì • ì•ŒíŒŒë²³ìœ¼ë¡œ ì‹œì‘ë˜ëŠ” ë‹¨ì–´ê°€ ëª°ë ¤ìˆë‹¤.)ë¡œ ì¸í•´ ë°ì´í„°ë¥¼ ê° ì„œë²„ì— ê· ë“±í•˜ê²Œ ë°°ë¶„í•˜ëŠ”ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\në”°ë¼ì„œ ê³¼ê±° ì§ˆì˜ ë°ì´í„°ì˜ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ ì•Œë°”ë²³ ë¹ˆë„ìˆ˜ë¥¼ íŒŒì•…í•˜ê³ , ë¹ˆë„ìˆ˜ë¥¼ í†µí•´ ìƒ¤ë”©í•˜ëŠ” ë°©ì‹ì„ ê³ ë ¤í•´ì•¼í•œë‹¤.\n4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ë‹¤êµ­ì–´ ì§€ì›ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ë ¤ë©´? íŠ¸ë¼ì´ì— ìœ ë‹ˆì½”ë“œ ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤. êµ­ê°€ë³„ë¡œ ì¸ê¸° ê²€ìƒ‰ì–´ ìˆœìœ„ê°€ ë‹¤ë¥´ë‹¤ë©´? êµ­ê°€ë³„ë¡œ ë‹¤ë¥¸ íŠ¸ë¼ì´ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤. íŠ¸ë¼ì´ë¥¼ CDNì— ì €ì¥í•˜ì—¬ ì‘ë‹µì†ë„ë¥¼ ë†’ì´ëŠ” ë°©ì‹ë„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€í•˜ëŠ” ê²€ìƒ‰ì–´ì˜ ì¶”ì´ë¥¼ ë°˜ì˜í•˜ë ¤ë©´? í˜„ì œ ì„¤ê³„ëŠ” ìœ„ì™€ ê°™ì€ ì²˜ë¦¬ê°€ ì ì ˆì¹˜ ì•Šë‹¤. ì‘ì—… ì„œë²„ê°€ ë§¤ì£¼ í•œ ë²ˆ ì”©ë§Œ ëˆë‹¤. ë•Œ ë§Ÿì¶° ì„œë²„ê°€ ì‹¤í–‰ë˜ì–´ë„, íŠ¸ë¼ì´ êµ¬ì„±ì— ë§ì€ ì‹œê°„ì´ ì†Œìš”ëœë‹¤. ìƒ¤ë”©ì„ í†µí•´ ì‘ì—… ëŒ€ìƒ ë°ì´í„°ì˜ ì–‘ì„ ì¤„ì¸ë‹¤. ìˆœìœ„ ëª¨ë¸ì„ ë°”ê¾¸ì–´ ìµœê·¼ ê²€ìƒ‰ì–´ì— ë³´ë‹¤ ë†’ì€ ê°€ì¤‘ì¹˜ë¥¼ ì¤€ë‹¤. ë°ì´í„°ê°€ ìŠ¤íŠ¸ë¦¼ í˜•íƒœë¡œ ì˜¬ ìˆ˜ ìˆë‹¤ëŠ” ì , ì¦‰ í•œë²ˆì— ëª¨ë“  ë°ì´í„°ë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ì—†ì„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ëŠ” ì ì„ ê³ ë ¤í•´ì•¼í•œë‹¤. ë°ì´í„°ê°€ ì§€ì†ì ìœ¼ë¡œ ìƒì„±ëœë‹¤ëŠ” ëœ»ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¼ í”„ë¡œì„¸ì‹±ì„ ìœ„í•œ íŠ¹ë³„í•œ ì‹œìŠ¤í…œì´ í•„ìš”í•˜ë‹¤. ì•„íŒŒì¹˜ í•˜ë‘¡ ë§µë¦¬ë“€ìŠ¤, ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ ìŠ¤íŠ¸ë¦¬ë°, ì•„íŒŒì¹˜ ìŠ¤í†°, ì•„íŒŒì¹˜ ì¹´í”„ê°€ ë“± ","date":"2024-07-09T13:22:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/13/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/13/","title":"13. ê²€ìƒ‰ì–´ ìë™ì™„ì„± ì‹œìŠ¤í…œ"},{"content":"ì´ë²ˆ ì¥ì—ì„œëŠ” ì±„íŒ… ì‹œìŠ¤í…œì„ ì„¤ê³„í•´ë³¸ë‹¤.\nì±„íŒ… ì•±ì€ ì¤‘ì ì ìœ¼ë¡œ ë‹¤ë¤„ì•¼í•˜ëŠ” ë¬¸ì œì— ë”°ë¼ ë°©í–¥ì„±ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìš”êµ¬ì‚¬í•­ì„ í™•ì‹¤íˆ íŒŒì•…í•˜ëŠ”ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì—, ì–´ë–¤ ì±„íŒ… ì•±ì„ ì„¤ê³„í•˜ë ¤ëŠ”ì§€ í™•ì‹¤íˆ í•´ ë‘ëŠ”ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\n1:1 ì±„íŒ… ì¤‘ì  í˜ì´ìŠ¤ë¶ ë©”ì‹ ì €, ìœ„ì±—, ì™“ì¸ ì•± ë“± ê·¸ë£¹ ì±„íŒ… ì¤‘ì  ìŠ¬ë™ ë“± ëŒ€ê·œëª¨ ê·¸ë£¹ì˜ ì†Œí†µê³¼ ìŒì„± ì±„íŒ… ë””ìŠ¤ì½”ë“œ ë“± 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ì§ˆë¬¸ì„ í†µí•´ ì˜ë„ë¥¼ íŒŒì•…í•œë‹¤.\nQ. 1:1 ì±„íŒ…, ê·¸ë£¹ ì±„íŒ…? A. ë‘˜ ë‹¤. Q. ëª¨ë°”ì¼? ì›¹? A. ë‘˜ ë‹¤. Q. íŠ¸ë˜í”½ ê·œëª¨ëŠ”? A. DAU 5ì²œë§Œ Q. ê·¸ë£¹ ì±„íŒ…ì˜ ì¸ì› ì œí•œ? A. ìµœëŒ€ 100ëª… Q. ì¤‘ìš” ê¸°ëŠ¥ìœ¼ë¡œëŠ”? A. 1:1 ì±„íŒ…, ê·¸ë£¹ ì±„íŒ…, ì‚¬ìš©ì ì ‘ì† ìƒíƒœ í‘œì‹œ, í…ìŠ¤íŠ¸ ë©”ì‹œì§€ë§Œ í—ˆìš© Q. ë©”ì‹œì§€ ê¸¸ì´ ì œí•œì€? A. 100,000ì ì´í•˜ Q. ì¢…ë‹¨ ê°„ ì•”í˜¸í™”(end-to-end encryption) ì§€ì›? A. í˜„ì¬ë¡œì„œëŠ” ë¶ˆí•„ìš” Q. ì±„íŒ… ì´ë ¥ì€ ì–¼ë§ˆë‚˜ ë³´ê´€? A. ì˜ì›íˆ. ìœ„ì™€ ê°™ì€ ì§ˆì˜ì‘ë‹µì„ í†µí•´ ì•„ë˜ì™€ ê°™ì€ ìš”êµ¬ì‚¬í•­ì„ ì°¾ì„ ìˆ˜ ìˆë‹¤.\nì‘ë‹µì§€ì—°ì´ ë‚®ì€ ì¼ëŒ€ì¼ ì±„íŒ…ê¸°ëŠ¥(DAU) ìµœëŒ€ 100ëª…ê¹Œì§€ ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” ê·¸ë£¹ ì±„íŒ… ê¸°ëŠ¥ ì‚¬ìš©ìì˜ ì ‘ì†ìƒíƒœ í‘œì‹œ ê¸°ëŠ¥ ë‹¤ì–‘í•œ ë‹¨ë§ ì§€ì›, í•˜ë‚˜ì˜ ê³„ì •ìœ¼ë¡œ ì—¬ëŸ¬ ë‹¨ë§ì— ë™ì‹œ ì ‘ì† ì§€ì›(ì›¹, ì•± ë‘˜ë‹¤ ê³ ë ¤) í‘¸ì‹œ ì•Œë¦¼ 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ì±„íŒ… ì‹œìŠ¤í…œì˜ ê²½ìš° í´ë¼ì´ì–¸íŠ¸ëŠ” ëª¨ë°”ì¼ ì•±ì´ê±°ë‚˜ ì›¹ ì• í•„ë¦¬ì¼€ì´ì…˜ì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë¡œ ì§ì ‘ í†µì‹ í•˜ì§€ ì•ŠëŠ” ëŒ€ì‹ , ê° í´ë¼ì´ì–¸íŠ¸ëŠ” ìœ„ì— ë‚˜ì—´í•œ ëª¨ë“  ê¸°ëŠ¥ì„ ì§€ìš°ë„ˆí•˜ëŠ” ì±„íŒ… ì„œë¹„ìŠ¤ì™€ í†µì‹ í•œë‹¤.\në”°ë¼ì„œ ì±„íŒ… ì„œë¹„ìŠ¤ëŠ” ì•„ë˜ ê¸°ëŠ¥ì„ ì œê³µí•´ì•¼ í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ë“¤ë¡œë¶€í„° ë©”ì‹œì§€ ìˆ˜ì§„ ë©”ì‹œì§€ ìˆ˜ì‹ ì(recipient) ê²°ì • ë° ì „ë‹¬ ìˆ˜ì‹ ìê°€ ì ‘ì† ìƒíƒœê°€ ì•„ë‹Œ ê²½ìš° ì ‘ì†í•  ë•Œê¹Œì§€ í•´ë‹¹ ë©”ì‹œì§€ ë³´ê´€ ì±„íŒ…ì„ ì‹œì‘í•˜ë ¤ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” ë„¤íŠ¸ì›Œí¬ í†µì‹  í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ì— ì ‘ì†í•˜ë¯€ë¡œ, ì–´ë–¤ í†µì‹  í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ê²ƒì¸ê°€ë„ ì¤‘ìš”í•œ ë¬¸ì œë‹¤.\nëŒ€ë¶€ë¶„ì˜ í´ë¼ì´ì–¸íŠ¸/ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì€ í´ë¼ì´ì–¸íŠ¸ì´ë©°, ì±„íŒ… ì‹œìŠ¤í…œë„ ë§ˆì°¬ê°€ì§€ë‹¤.\nìœ„ ì˜ˆì‹œì—ì„œëŠ” ì†¡ì‹  í´ë¼ì´ì–¸íŠ¸ê°€ ìˆ˜ì‹  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬ í•  ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œ, ì˜¤ëœ ì„¸ì›” ê²€ì¦ëœ HTTP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•œë‹¤.\nHTTPë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ì±„íŒ… ì„œë¹„ìŠ¤ì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì§€ì†ì ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ë‹¤ëŠ” íŠ¹ì„±ì„ ê³ ë ¤í•˜ì—¬, keep-alive í—¤ë”ë¥¼ ì‚¬ìš©í•´ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°ì„ ëŠì§€ ì•Šê³  ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ní•˜ì§€ë§Œ ë©”ì‹œì§€ ë°œì‹ ì— ë¹„í•´ ìˆ˜ì‹  ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì´ê²ƒë³´ë‹¤ ë³µì¡í•˜ê¸° ë•Œë¬¸ì— HTTPê°€ ì ì ˆì¹˜ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì„œë²„ê°€ ì±„íŒ… ë°œì‹  ìš”ì²­ì„ ë°›ê²Œ ë˜ë©´, ì„œë²„ê°€ ìˆ˜ì‹ ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•´ì•¼í•œë‹¤. HTTPëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°ì„ ë§Œë“œëŠ” íŠ¹ì„±ìœ¼ë¡œ, ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì„ì˜ ì‹œì ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ë° ì‰½ê²Œ ì“°ì¼ ìˆ˜ ì—†ë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê°œì„ í•˜ê¸°ìœ„í•´ ì„œë²„ê°€ ì—°ê²°ì„ ë§Œë“œëŠ” ê²ƒì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ë§ì€ ê¸°ë²•ì´ ì œì•ˆë˜ì—ˆë‹¤.\ní´ë§, ë¡±í´ë§, ì›¹ì†Œì¼“ í´ë§ í´ë§ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ì„œë²„ì—ê²Œ ìƒˆ ë©”ì‹œì§€ê°€ ìˆëŠ”ëƒê³  ë¬¼ì–´ë³´ëŠ” ë°©ë²•ì´ë‹¤.\ní´ë§ ë¹„ìš©ì€ í´ë§ì„ ìì£¼í•˜ë©´ í• ìˆ˜ë¡ ì˜¬ë¼ê°€ë¯€ë¡œ, ë‹µí•´ì¤„ ë©”ì‹œì§€ê°€ ì—†ëŠ” ê²½ìš°ì—ëŠ” ì„œë²„ ìì›ì´ ë¶ˆí•„ìš”í•˜ê²Œ ë‚­ë¹„ëœë‹¤.\në¡± í´ë§ í´ë§ì˜ ë¹„íš¨ìœ¨ì„±ì„ ê°œì„ í•˜ê¸°ìœ„í•´ ë¡± í´ë§ì´ ì œì•ˆë˜ì—ˆë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ìƒˆ ë©”ì‹œì§€ê°€ ë°˜í™˜ë˜ê±°ë‚˜ íƒ€ì„ì•„ì›ƒ ë  ë•Œê°€ì§€ ì—°ê²°ì„ ìœ ì§€í•œë‹¤. ìƒˆ ë©”ì‹œì§€ë¥¼ ë°›ìœ¼ë©´ ê¸°ì¡´ ì—°ê²°ì„ ì¢…ë£Œí•˜ê³  ì„œë²„ì— ìƒˆë¡œìš´ ìš”ì²­ì„ ë³´ë‚´ ëª¨ë“  ì ˆì°¨ë¥¼ ë‹¤ì‹œ ì‹œì‘í•œë‹¤. ì´ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ì€ ì•½ì ì´ ìˆë‹¤.\në©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ìˆ˜ì‹ í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ê°™ì€ ì±„íŒ… ì„œë²„ì— ì ‘ì†í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. HTTP ì„œë²„ë“¤ì€ ë³´í†µ ë¬´ìƒíƒœì´ë‹¤. ì¦‰ ë¡œë“œ ë°¸ëŸ°ì‹±ì„ ìœ„í•´ ë¼ìš´ë“œ ë¡œë¹ˆ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°(ìš”ì²­ì„ ë¬´ì‘ìœ„ë¡œ ë¶„ì‚°í•˜ëŠ” ê²½ìš°), ë©”ì‹œì§€ë¥¼ ë°›ì€ ì„œë²„ëŠ” í•´ë‹¹ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  í´ë¼ì´ì–¸íŠ¸ì™€ì˜ ë¡± í´ë§ ì—°ê²°ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì€ ì„œë²„ì¼ ìˆ˜ ìˆë‹¤. ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°ì„ í•´ì œí–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆëŠ” ì¢‹ì€ ë°©ë²•ì´ ì—†ë‹¤. ì—¬ì „íˆ ë¹„íš¨ìœ¨ì ì´ë‹¤. ë©”ì‹œì§€ë¥¼ ë§ì´ ë°›ì§€ ì•ŠëŠ” í´ë¼ì´ì–¸íŠ¸ë„ íƒ€ì„ì•„ì›ƒì´ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ ì£¼ê¸°ì ìœ¼ë¡œ ì„œë²„ì— ë‹¤ì‹œ ì ‘ì†í•œë‹¤. ì›¹ì†Œì¼“ ì›¹ì†Œì¼“ì€ ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë¹„ë™ê¸° ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.\nì›¹ì†Œì¼“ ì—°ê²°ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ì‹œì‘í•˜ë©°, í•œë²ˆ ë§ºì–´ì§„ ì—°ê²°ì€ í•­êµ¬ì ì´ë©°(ë³€í•˜ì§€ì•Šê³  ì˜¤ë˜ê°€ë©°) ì–‘ë°©í–¥ì´ë‹¤. ì²˜ìŒì—ëŠ” HTTP ì—°ê²°ì´ì§€ë§Œ íŠ¹ì • í•¸ë“œì…°ì´í¬ ì ˆì°¨ë¥¼ ê±°ì ¸ ì›¹ì†Œì¼“ ì—°ê²°ë¡œ ì—…ê·¸ë ˆì´ë“œëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë°©í™”ë²½ì´ ìˆëŠ” í™˜ê²½ì—ì„œë„ ì˜ ë™ì‘í•œë‹¤. HTTP, HTTPS ê°€ ì“°ëŠ” í¬íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ í™œìš©í•œë‹¤. ì—°ê²°ì´ ë§Œë“¤ì–´ì§€ê³  ë‚˜ë©´, ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë‹¤. ì›¹ì†Œì¼“ì€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë ¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì¤€ìˆ˜í•œ HTTP í”„ë¡œí† ì½œì˜ íŠ¹ì§•ì— ë”í•´ ì–‘ë°©í–¥ ë©”ì‹œì§€ ì „ì†¡ê¹Œì§€ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.\nì›¹ì†Œì¼“ì„ ì´ìš©í•˜ë©´ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œë‚˜ ë°›ì„ ë•Œ ë™ì¼í•œ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì„¤ê³„ì™€ êµ¬í˜„ì´ ë‹¨ìˆœí•˜ê³  ì§ê´€ì ì´ë‹¤. ë‹¨, ì›¹ì†Œì¼“ ì—°ê²°ì€ í•­êµ¬ì ìœ¼ë¡œ ìœ ì§€ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì„œë²„ ì¸¡ì—ì„œ ì—°ê²° ê´€ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í•´ì•¼í•œë‹¤. ê°œëµì  ì„¤ê³„ì•ˆ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì˜ ì£¼ í†µì‹  í”„ë¡œí† ì½œë¡œ ì›¹ì†Œì¼“ì„ ì‚¬ìš©í•˜ì§€ë§Œ, ë‹¤ë¥¸ ë¶€ë¶„ì—ì„œëŠ” êµ³ì´ ì›¹ì†Œì¼“ì„ ì“¸ í•„ìš”ëŠ” ì—†ë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ì¸ íšŒì›ê°€ì…, ë¡œê·¸ì¸, ì‚¬ìš©ì í”„ë¡œíŒŒì¼ ë“±ì€ ê¸°ì¡´ HTTPìƒì—ì„œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤.\nì±„íŒ… ì‹œìŠ¤í…œì€ ì„¸ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ ë³¼ ìˆ˜ ìˆë‹¤.\në¬´ìƒíƒœ ì„œë¹„ìŠ¤ ì´ ì„¤ê³„ì•ˆì—ì„œ ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ëŠ” ë¡œê·¸ì¸, íšŒì›ê°€ì…, ì‚¬ìš©ì í”„ë¡œíŒŒì¼ í‘œì‹œ ë“±ì„ ì²˜ë¦¬í•˜ëŠ” ì „í†µì ì¸ ìš”ì²­/ì‘ë‹µ ì„œë¹„ìŠ¤ë‹¤.\nì¼ë°˜ì ì¸ ì›¹ê³¼ ì•±ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ë“¤ ë¬´ìƒíƒœ ì„œë¹„ìŠ¤ëŠ” ë¡œë“œë°¸ëŸ°ì„œ ë’¤ì— ìœ„ì¹˜í•œë‹¤.\nì„œë¹„ìŠ¤ íƒìƒ‰(sevice discovery) ì„œë¹„ìŠ¤ í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì†í•  ì±„íŒ… ì„œë²„ì˜ DNS í˜¸ìŠ¤íŠ¸ëª…ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ì—­í• ì„ í•œë‹¤. ìƒíƒœ ìœ ì§€ ì„œë¹„ìŠ¤ ì±„íŒ… ì„œë¹„ìŠ¤ëŠ” ê° í´ë¼ì´ì–¸íŠ¸ëŠ” ì±„íŒ… ì„œë²„ì™€ ë…ë¦½ì ì¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ìœ ì§€í•´ì•¼í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ë³´í†µ ë‹¤ë¥¸ ì„œë²„ë¡œ ì—°ê²°ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤. ì„œë¹„ìŠ¤ íƒìƒ‰ ì„œë¹„ìŠ¤ê°€ ì±„íŒ… ì„œë²„ìŠ¤ì™€ ê¸´ë°€íˆ í˜‘ë ¥í•˜ì—¬ íŠ¹ì • ì„œë²„ì— ë¶€í•˜ê°€ ëª°ë¦¬ì§€ ì•Šë„ë¡ í•œë‹¤. ì¨ë“œíŒŒí‹° ì„œë¹„ìŠ¤ ì—°ë™ ì±„íŒ… ì•±ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì¨ë“œíŒŒí‹° ì„œë¹„ìŠ¤ëŠ” í‘¸ì‹œ ì•Œë¦¼ì´ë‹¤.\nìƒˆ ë©”ì‹œì§€ ìˆ˜ì‹ ì‹œ ì•±ì´ ì‹¤í–‰ì¤‘ì´ì§€ ì•Šë”ë¼ë„ ì•Œë¦¼ì„ ë°›ì•„ì•¼í•œë‹¤. ë”°ë¼ì„œ í‘¸ì‹œ ì•Œë¦¼ ì„œë¹„ìŠ¤ì™€ì˜ í†µí•©ì€ ì•„ì£¼ ì¤‘ìš”í•˜ë‹¤.\nê·œëª¨ í™•ì¥ì„± ì´ë²ˆ ì¥ì—ì„œ ë‹¤ë£¨ëŠ” ì‹œìŠ¤í…œì€ ë™ì‹œ ì ‘ì†ìê°€ 1M ì´ë¼ê³  ê°€ì •í•˜ëŠ”ë°, ì ‘ì†ë‹¹ 10K ì„œë²„ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•˜ë‹¤ë©´, 10GB ë©”ëª¨ë¦¬ë§Œìœ¼ë¡œë„ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤.\ní•˜ì§€ë§Œ ì´ì •ë„ ê·œëª¨ì˜ íŠ¸ë˜í”½ì„ ì„œë²„ í•œëŒ€ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ SPOF ë“±ì˜ ì´ìœ ë¡œ ì ì ˆì¹˜ ì•Šë‹¤.\nìœ ì˜í•  ê²ƒì€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì£¼ê³ ë°›ê¸° ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì±„íŒ… ì„œë²„ì™€ ì›¹ì†Œì¼“ ì—°ê²°ì„ ëŠì§€ ì•Šê³  ìœ ì§€í•œë‹¤ëŠ” ê²ƒì´ë‹¤.\nì±„íŒ… ì„œë²„ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ì— ë©”ì‹œì§€ë¥¼ ì¤‘ê³„í•˜ëŠ” ì—­í•  ë‹´ë‹¹ ì ‘ì† ìƒíƒœ ì„œë²„(Presence server) ì‚¬ìš©ìì˜ ì ‘ì† ì—¬ë¶€ ê´€ë¦¬ API ì„œë²„ ë¡œê·¸ì¸, íšŒì›ê°€ì…, í”„ë¡œíŒŒì¼ ë³€ê²½ ë“± ê·¸ ì™¸ ë‚˜ë¨¸ì§€ë¥¼ ì „ë¶€ ì²˜ë¦¬(ë¬´ìƒíƒœ) ì•Œë¦¼ ì„œë²„ í‘¸ì‹œ ì•Œë¦¼ì„ ë³´ëƒ„ í‚¤-ê°’ ì €ì¥ì†Œ ì±„íŒ… ì´ë ¥ì„ ë³´ê´€ ì‹œìŠ¤í…œì— ì ‘ì†í•œ ì‚¬ìš©ìëŠ” ì´ì „ ì±„íŒ… ì´ë ¥ì„ ì „ë¶€ ë³´ê²Œëœë‹¤. ì €ì¥ì†Œ ì±„íŒ… ì‹œìŠ¤í…œì˜ ê¸°ìˆ  ìŠ¤íƒì¤‘ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ ì¤‘ í•˜ë‚˜ëŠ” ë°ì´í„° ê³„ì¸µìœ¼ë¡œ, ì´ ê³„ì¸µì„ ì˜¬ë°”ë¥´ê²Œ ë§Œë“œëŠ” ë°ëŠ” ë…¸ë ¥ì´ í•„ìš”í•˜ë‹¤.\nì¤‘ìš”í•œ ì„ íƒ ì¤‘ í•˜ë‚˜ëŠ” ì–´ë–¤ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì“°ëŠ”ê°€(ê´€ê³„í˜•, NoSQL ë“±)ì´ë©°, ê³ ë ¤í•´ì•¼ í•  í•µì‹¬ ìš”ì¸ì€ ë°ì´í„°ì˜ ìœ í˜•ê³¼ ì½ê¸°/ì“°ê¸° ì—°ì‚°ì˜ íŒ¨í„´ ì´ë‹¤.\nì±„íŒ… ì‹œìŠ¤í…œì—ì„œëŠ” ë³´í†µ ë‘ ê°€ì§€ë‹¤.\nì‚¬ìš©ì í”„ë¡œíŒŒì¼, ì„¤ì •, ì¹œêµ¬ ëª©ë¡ê³¼ ê°™ì€ ì¼ë°˜ì ì¸ ë°ì´í„°\nì•ˆì •ì„±ì„ ë³´ì¥í•˜ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ì ì ˆí•˜ë‹¤.\në‹¤ì¤‘í™”(replication)ì™€ ìƒ¤ë”©(sharding)ìœ¼ë¡œ ì´ëŸ¬í•œ ë°ì´í„°ì˜ ê°€ìš©ì„±ê³¼ ê·œëª¨í™•ì¥ì„±ì„ ë³´ì¦í•  ìˆ˜ ìˆë‹¤. ì±„íŒ… ì‹œìŠ¤í…œì— ê³ ìœ í•œ ë°ì´í„°(ì±„íŒ… ì´ë ¥)\nì´ëŸ¬í•œ ìœ í˜•ì˜ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë³´ê´€í•  ì§€ ê²°ì •í•˜ë ¤ë©´ ì½ê¸°/ì“°ê¸° ì—°ì‚° íŒ¨í„´ì„ ì´í•´í•´ì•¼í•œë‹¤.\nì±„íŒ… ì´ë ¥ ë°ì´í„° ì–‘ì€ ì—„ì²­ë‚˜ë‹¤. í˜ì´ìŠ¤ë¶ ë©”ì‹ ì €ë‚˜ ì™“ì¸ ì•±ì€ ë§¤ì¼ 600ì–µê°œ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•¨ ë¹ˆë²ˆí•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ ì£¼ë¡œ ìµœê·¼ì— ì£¼ê³ ë°›ì€ ë©”ì‹œì§€ì´ë‹¤. ëŒ€ë¶€ë¶„ ì‚¬ìš©ìëŠ” ì˜¤ë˜ëœ ë©”ì‹œì§€ëŠ” í™•ì¸í•˜ì§€ ì•ŠëŠ”ë‹¤. ê²€ìƒ‰ ê¸°ëŠ¥, ì–¸ê¸‰(mention)ëœ ë©”ì‹œì§€, íŠ¹ì • ë©”ì‹œì§€ë¡œ ì í”„ í•˜ëŠ” ë“± ë¬´ì‘ìœ„ì ì¸ ë°ì´í„° ì ‘ê·¼ì„ í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤. 1:1 ì±„íŒ… ì•±ì˜ ê²½ìš° ì½ê¸°:ì“°ê¸° ë¹„ìœ¨ì€ ëŒ€ëµ 1:1 í‚¤-ê°’ ì €ì¥ì†Œê°€ ì´ëŸ¬í•œ íŒ¨í„´ì„ ì§€ì›í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ì´ë‹¤.\nìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì´ ì‰½ë‹¤. ë°ì´í„° ì ‘ê·¼ ì§€ì—°ì‹œê°„ì´ ë‚®ë‹¤. ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë¡± í…Œì¼ì— í•´ë‹¹í•˜ëŠ”(ë„“ê³  ì ê²Œ ë¶„í¬í•˜ëŠ”) ë°ì´í„°ë¥¼ ì˜ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” ê²½í–¥ì´ ìˆë‹¤. ì¸ë±ìŠ¤ê°€ ì»¤ì§€ë©´ ë¬´ì‘ìœ„ ì ‘ê·¼ì„ ì²˜ë¦¬í•˜ëŠ” ë¹„ìš©ì´ ëŠ˜ì–´ë‚œë‹¤. ì´ë¯¸ ë§ì€ ì•ˆì •ì ì¸ ì±„íŒ… ì‹œìŠ¤í…œì´ í‚¤-ê°’ ì €ì¥ì†Œë¥¼ ì±„íƒí•˜ê³ ìˆë‹¤. í˜ì´ìŠ¤ë¶: Hbase, ë””ìŠ¤ì½”ë“œ: ì¹´ì‚°ë“œë¼ ë“± ë¡±í…Œì¼ íš¨ê³¼ë€?\níŒŒë ˆí†  ë²•ì¹™ì— ì˜í•œ 80:20 ì§‘ì¤‘ í˜„ìƒì„ ê·¸ë˜í”„ì— ë‚˜íƒ€ëƒˆì„ ë•Œ ê¼¬ë¦¬ì²˜ë¦¼ ê¸´ ë¶€ë¶„ì„ í˜•ì„±í•˜ëŠ” 80%ì˜ ë¶€ë¶„\në°ì´í„° ëª¨ë¸ 1:1 ì±„íŒ…ì„ ìœ„í•œ ë©”ì‹œì§€ í…Œì´ë¸” erDiagram Message { message_id bigint message_from bigint message_to bigint content text created_at timestamp } Message í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ëŠ” message_idë¡œ, ë©”ì‹œì§€ ìˆœì„œë¥¼ ì‰½ê²Œ ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì—­í• ë„ ë‹´ë‹¹í•œë‹¤.\ncreated_atì€ ë©”ì‹œì§€ê°€ ë™ì‹œì— ë§Œë“¤ì–´ ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìˆœì„œë¥¼ ì •í•  ìˆ˜ ì—†ë‹¤. ê·¸ë£¹ ì±„íŒ…ì„ ìœ„í•œ ë©”ì‹œì§€ í…Œì´ë¸” erDiagram GroupMessage { channel_id bigint message_id bigint message_to bigint content text created_at timestamp } (channel_id, message_id) ë³µí•©í‚¤ë¥¼ ê¸°ë³¸ í‚¤ë¡œ ì‚¬ìš©í•œë‹¤.\nì±„ë„ì€ ì±„íŒ… ê·¸ë£¹ê³¼ ê°™ì€ ëœ» ê·¸ë£¹ ì±„íŒ…ì— ì ìš©ë  ëª¨ë“  ì§ˆì˜ëŠ” íŠ¹ì • ì±„ë„ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì— channel_idëŠ” íŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë©”ì‹œì§€ ID ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒ ì²˜ëŸ¼ ë©”ì‹œì§€ IDëŠ” ë©”ì‹œì§€ë“¤ì˜ ìˆœì„œë„ í‘œí˜„í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.\nmessege_idëŠ” ê³ ìœ í•´ì•¼í•œë‹¤. IDëŠ” ì •ë ¬ ê°€ëŠ¥í•´í•˜í•˜ë©°, ì‹œê°„ ìˆœì„œì™€ ì¼ì¹˜í•´ì•¼í•œë‹¤. ìƒˆë¡œìš´ IDëŠ” ì´ì „ ID ë³´ë‹¤ í° ê°’ì´ì–´ì•¼ í•œë‹¤. RDMBSë¼ë©´ auto_incrementê°€ ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆì§€ë§Œ NoSQLì€ ë³´í†µ í•´ë‹¹ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.\nìŠ¤ë…¸ í”Œë ˆì´í¬ ê°™ì€ ì „ì—­ì  ìˆœì„œ ë²ˆí˜¸ ìƒì„±ê¸°ë¥¼ ì´ìš©í•œë‹¤. ì§€ì—­ì  ìˆœì„œ ë²ˆí˜¸ ìƒì„±ê¸°ë¥¼ ì´ìš©í•œë‹¤. ì§€ì—­ì  ìˆœì„œ ë²ˆí˜¸ ìƒì„±ê¸°(Local sequence number generator) ìœ ì¼ì„±ì€ ê°™ì€ ê·¸ë£¹ ì•ˆì—ì„œë§Œ ë³´ì¦í•˜ë©´ ì¶©ë¶„í•˜ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\nì±„íŒ… ì„œë¹„ìŠ¤ì˜ íŠ¹ì§•ì— ë”°ë¼ ë©”ì‹œì§€ì˜ ìˆœì„œëŠ” ê°™ì€ ì±„ë„, í˜¹ì€ 1:1 ì±„íŒ… ì„¸ì…˜ ì•ˆì—ì„œë§Œ ìœ ì§€ë˜ë©´ ì¶©ë¶„í•˜ë‹¤. ì „ì—­ì  ID ìƒì„±ê¸°ì— ë¹„í•´ êµ¬í˜„ì´ ì‰½ë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ì±„íŒ… ì‹œìŠ¤í…œì˜ ì„œë¹„ìŠ¤ íƒìƒ‰(service discovery), ë©”ì‹œì§€ ì „ë‹¬ íë¦„, ì‚¬ìš©ì ì ‘ì† ìƒíƒœ í‘œì‹œí•˜ëŠ” ë²• ì •ë„ê°€ ì„¸ë¶€ì ìœ¼ë¡œ ì‚´í´ë³´ê¸° ì ì ˆí•˜ë‹¤.\nì„œë¹„ìŠ¤ íƒìƒ‰ ì„œë¹„ìŠ¤ íƒìƒ‰ ê¸°ëŠ¥ì˜ ì£¼ëœ ì—­í• ì€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê°€ì¥ ì í•©í•œ ì±„íŒ… ì„œë²„ë¥¼ ì¶”ì²œí•˜ëŠ” ê²ƒìœ¼ë¡œ ì•„ë˜ì˜ ê¸°ì¤€ì„ í™œìš©í•˜ì—¬ ì¶”ì²œí•˜ê²Œëœë‹¤.\ní´ë¼ì´ì–¸íŠ¸ì˜ ìœ„ì¹˜(Geographical location) ì„œë²„ì˜ ìš©ëŸ‰ ë“± ì„œë¹„ìŠ¤ íƒìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë° ë„ë¦¬ ì“°ì´ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ì†”ë£¨ì…˜ìœ¼ë¡œ ì•„íŒŒì¹˜ ì£¼í‚¤í¼ê°™ì€ ê²ƒì´ ìˆë‹¤.\nì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ì±„íŒ… ì„œë²„ë¥¼ ë“±ë¡ì‹œì¼œ ë‘ê³ , í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì†ì„ ì‹œë„í•˜ë©´ ì‚¬ì „ì— ì •í•œ ê¸°ì¤€ì— ë”°ë¼ ìµœì ì˜ ì±„íŒ… ì„œë²„ë¥¼ ê³¨ë¼ì¤€ë‹¤. ì‚¬ìš©ì Aê°€ ì‹œìŠ¤í…œì— ë¡œê·¸ì¸ ì‹œë„ ë¡œë“œë°¸ëŸ°ì„œê°€ ë¡œê·¸ì¸ ìš”ì²­ì„ API ì„œë²„ë“¤ ê°€ìš´ë° í•˜ë‚˜ë¡œ ë³´ëƒ„ API ì„œë²„ê°€ ì‚¬ìš©ì ì¸ì¦ì„ ì²˜ë¦¬í•˜ê³  ë‚˜ë©´ ì„œë¹„ìŠ¤ íƒìƒ‰ ê¸°ëŠ¥ì´ ë™ì‘í•˜ì—¬ ìµœì ì˜ ì±„íŒ… ì„œë²„ë¥¼ ì°¾ìŒ ì°¾ì€ ì„œë²„ì™€ ì›¹ì†Œì¼“ ì—°ê²° ë©”ì‹œì§€ íë¦„ ì±„íŒ… ì‹œìŠ¤í…œì— ìˆì–´ì„œ ì¢…ë‹¨ ê°„ ë©”ì‹œì§€ íë¦„ì„ ì´í•´í•˜ëŠ” ê²ƒì€ í¥ë¯¸ë¡œìš´ ì£¼ì œì´ë‹¤.\n1:1 ì±„íŒ… ë©”ì‹œì§€ì˜ ì²˜ë¦¬ íë¦„ê³¼ ì—¬ëŸ¬ ë‹¨ë§ ê°„ ë©”ì‹œì§€ ë™ê¸°í™” ê³¼ì •ì„ ì‚´í´ë³¸ í›„, ê·¸ë£¹ ì±„íŒ… ë©”ì‹œì§€ì˜ ì²˜ë¦¬ íë¦„ì„ ì‚´í´ë³¸ë‹¤.\n1:1 ì±„íŒ… ë©”ì‹œì§€ ì²˜ë¦¬ íë¦„ ì‚¬ìš©ì Aê°€ ì±„íŒ… ì„œë²„ 1ë¡œ ë©”ì‹œì§€ ì „ì†¡ ì±„íŒ… ì„œë²„ 1ì€ ID ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•´ í•´ë‹¹ ë©”ì‹œì§€ì˜ ID ê²°ì • ì±„íŒ… ì„œë²„ 1ì€ í•´ë‹¹ ë©”ì‹œì§€ë¥¼ ë©”ì‹œì§€ ë™ê¸°í™” íë¡œ ì „ì†¡ ë©”ì‹œì§€ê°€ í‚¤-ê°’ ì €ì¥ì†Œì— ë³´ê´€ë¨ ì‚¬ìš©ì Bê°€ ì ‘ì† ì¤‘ì¸ ê²½ìš° ë©”ì‹œì§€ëŠ” ì ‘ì† ì¤‘ì¸ ì±„íŒ… ì„œë²„ë¡œ ì „ì†¡ ì‚¬ìš©ìê°€ Bê°€ ì ‘ì† ì¤‘ì´ ì•„ë‹Œ ê²½ìš° í‘¸ì‹œ ì•Œë¦¼ ë©”ì‹œì§€ë¥¼ í‘¸ì‹œ ì•Œë¦¼ ì„œë²„ë¡œ ë³´ëƒ„ ì±„íŒ… ì„œë²„ëŠ” ì›¹ì†Œì¼“ ì—°ê²°ì„ í†µí•´ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©ì Bì—ê²Œ ì „ì†¡. ì—¬ëŸ¬ ë‹¨ë§ ì‚¬ì´ì˜ ë©”ì‹œì§€ ë™ê¸°í™” ê° ë‹¨ë§ì€ ê´€ì¸¡ëœ ê°€ì¥ ìµœì‹  ë©”ì‹œì§€ì˜ IDë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ cur_max_message_id ë¼ëŠ” ë³€ìˆ˜ë¥¼ ìœ ì§€í•œë‹¤.\nìˆ˜ì‹ ì IDê°€ í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì IDì™€ ê°™ë‹¤. í‚¤-ê°’ ì €ì¥ì†Œì— ë³´ê´€ëœ ë©”ì‹œì§€ë¡œì„œ, ê·¸ IDê°€ cur_max_message_idë³´ë‹¤ í¬ë‹¤. ìœ„ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë©”ì‹œì§€ëŠ” ìƒˆ ë©”ì‹œì§€ë¡œ ê°„ì£¼ëœë‹¤.\ncur_max_message_idëŠ” ë‹¨ë§ë§ˆë‹¤ ë³„ë„ë¡œ ìœ ì§€ ê´€ë¦¬í•˜ë©´ ë˜ëŠ” ê°’ì´ë¼ í‚¤-ê°’ ì €ì¥ì†Œì—ì„œ ìƒˆ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë™ê¸°í™” ì‘ì—…ë„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\nì†Œê·œëª¨ ê·¸ë£¹ ì±„íŒ…ì—ì„œì˜ ë©”ì‹œì§€ íë¦„ 1:1 ì±„íŒ…ì— ë¹„í•´ ì¡°ê¸ˆ ë” ë³µì¡í•˜ë‹¤.\nì‚¬ìš©ì Aê°€ ê·¸ë£¹ ì±„íŒ…ë°©ì—ì„œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´, ì‚¬ìš©ì B, Cì˜ ë©”ì‹œì§€ ë™ê¸°í™” íì— ë³µì‚¬ëœë‹¤.\nì´ëŸ¬í•œ ì„¤ê³„ëŠ” ì†Œê·œëª¨ ê·¸ë£¹ ì±„íŒ…ì— ì í•©í•˜ë‹¤.\nìƒˆë¡œìš´ ë©”ì‹œì§€ê°€ ì™”ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ìê¸° íë§Œ ë³´ë©´ ë˜ë¯€ë¡œ ë©”ì‹œì§€ ë™ê¸°í™” í”Œë¡œê°€ ë‹¨ìˆœí•˜ë‹¤. ê·¸ë£¹ì´ í¬ì§€ ì•Šìœ¼ë©´ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ ìë³„ë¡œ ë³µì‚¬í•´ì„œ íì— ë„£ëŠ” ì‘ì—… ë¹„ìš©ì´ ë¬¸ì œë˜ì§€ ì•ŠëŠ”ë‹¤. ë§ì€ ì‚¬ìš©ìë¥¼ ì§€ì›í•´ì•¼ í•˜ëŠ” ê²½ìš°ë¼ë©´ ë˜‘ê°™ì€ ë©”ì‹œì§€ë¥¼ ëª¨ë“  ì‚¬ìš©ìì˜ íì— ë³µì‚¬í•˜ëŠ” ê²Œ ë°”ëŒì§í•˜ì§€ ì•Šë‹¤.\nìœ„ì™€ ê°™ì€ íë¦„ì„ ë©”ì‹œì§€ ìˆ˜ì‹ ì ê´€ì ì—ì„œ ì‚´í´ë³´ë©´, í•œ ìˆ˜ì‹ ìëŠ” ì—¬ëŸ¬ ì‚¬ìš©ìë¡œë¶€í„° ì˜¤ëŠ” ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nì ‘ì† ìƒíƒœ í‘œì‹œ ì‚¬ìš©ì ì ‘ì† ìƒíƒœë¥¼ í‘œì‹œí•˜ëŠ” ê²ƒì€ ìƒë‹¹ìˆ˜ ì±„íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•µì‹¬ ê¸°ëŠ¥ì´ë‹¤.\nê°œëµì  ì„¤ê³„ì•ˆì˜ ì ‘ì† ìƒíƒœ ì„œë²„(presense server)ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ”ë°, ì ‘ì†ìƒíƒœ ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì›¹ì†Œì¼“ìœ¼ë¡œ í†µì‹ í•˜ëŠ” ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤ì˜ ì¼ë¶€ë¼ëŠ” ì ì— ìœ ì˜í•´ì•¼í•œë‹¤.\nì‚¬ìš©ì ë¡œê·¸ì¸\ní´ë¼ì´ì–¸íŠ¸ì™€ ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤ ì‚¬ì´ì— ì›¹ì†Œì¼“ ì—°ê²°ì´ ë§ºì–´ì§€ê³  ë‚˜ë©´ ì ‘ì†ìƒíƒœ ì„œë²„ëŠ” Aì˜ ìƒíƒœì™€ last_active_at íƒ€ì„ìŠ¤íƒ¬í”„ ê°’ì„ í‚¤-ê°’ ì €ì¥ì†Œì— ë³´ê´€í•œë‹¤.\nì´ ì ˆì°¨ê°€ ëë‚˜ë©´ í•´ë‹¹ ì‚¬ìš©ìëŠ” ì ‘ì† ì¤‘ì¸ ê²ƒìœ¼ë¡œ í‘œì‹œë  ê²ƒì´ë‹¤.\në¡œê·¸ì•„ì›ƒ\ní‚¤-ê°’ ì €ì¥ì†Œì— ë³´ê´€ëœ ì‚¬ìš©ì ìƒíƒœê°€ onlineì—ì„œ offlineìœ¼ë¡œ ë°”ë€ë‹¤.\nì ‘ì† ì¥ì• \nì¸í„°ë„· ì—°ê²°ì´ ëŠì–´ì§€ëŠ” ìƒí™©ì— ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ì„¤ê³„ë¥¼ ì¤€ë¹„í•´ì•¼í•œë‹¤.\nì‚¬ìš©ìì˜ ì¸í„°ë„· ì—°ê²°ì´ ëŠì–´ì§€ë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì— ë§ºì–´ì§„ ì›¹ì†Œì¼“ ê°™ì€ ì§€ì†ì„± ì—°ê²°ë„ ëŠì–´ì§„ë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ì‚¬ìš©ìë¥¼ ì˜¤í”„ë¼ì¸ ìƒíƒœë¡œ í‘œì‹œí•˜ê³  ì—°ê²°ì´ ë³µêµ¬ë˜ë©´ ì˜¨ë¼ì¸ ìƒíƒœë¡œ ë³€ê²½í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆì§€ë§Œ, ì§§ì€ ì‹œê°„ ë™ì•ˆ ì¸í„°ë„· ì—°ê²°ì´ ëŠì–´ì¡Œë‹¤ ë³µê·€ë˜ëŠ” í˜„ìƒì´ í”í•˜ê¸° ë•Œë¬¸ì— ì ì ˆí•˜ì§€ ì•Šë‹¤.\nì´ëŸ° í˜„ìƒë§ˆë‹¤ ì‚¬ìš©ìì˜ ì ‘ì† ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì§€ë‚˜ì¹˜ë©°, ì‚¬ìš©ì ê²½í—˜ ì¸¡ë©´ì—ì„œë„ ë°”ëŒì§í•˜ì§€ ì•Šë‹¤. ì´ì— ë”°ë¼ ë°•ë™(heartbeat) ê²€ì‚¬ë¥¼ í†µí•´ ì´ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.\nì˜¨ë¼ì¸ ìƒíƒœì˜ í´ë¼ì´ì–¸íŠ¸ë¡œ í•˜ì—¬ê¸ˆ ì£¼ê¸°ì ìœ¼ë¡œ ë°•ë™ ì´ë²¤íŠ¸ë¥¼ ì ‘ì†ìƒíƒœ ì„œë²„ë¡œ ë³´ë‚¸ë‹¤. ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ë¥¼ ë°›ì€ ì§€ xì´ˆ ì´ë‚´ì— ë˜ ë‹¤ë¥¸ ë°•ë™ ì´ë²¤íŠ¸ ë©”ì‹œì§€ë¥¼ ë°›ìœ¼ë©´ í•´ë‹¹ ì‚¬ìš©ìì˜ ì ‘ì† ìƒíƒœë¥¼ ê³„ì† ì˜¨ë¼ì¸ìœ¼ë¡œ ìœ ì§€í•œë‹¤. ìƒíƒœ ì •ë³´ì˜ ì „ì†¡ ìƒíƒœì •ë³´ ì„œë²„ëŠ” ê°ê°ì˜ ì¹œêµ¬ê´€ê²Œë§ˆë‹¤ ì±„ë„ì„ í•˜ë‚˜ì”© ë‘ëŠ” ë°œí–‰-êµ¬ë… ëª¨ë¸ì„ ì‚¬ìš©í•œë‹¤.\nì´ëŸ¬í•œ êµ¬ì¡°ë¥¼ í†µí•´ ì¹œêµ¬ ê´€ê³„ì— ìˆëŠ” ì‚¬ìš©ìê°€ ìƒíƒœì •ë³´ ë³€í™”ë¥¼ ì‰½ê²Œ í†µì§€ ë°›ì„ ìˆ˜ ìˆê²Œ ëœë‹¤(ì›¹ì†Œì¼“ ì‚¬ìš©).\nì´ëŸ¬í•œ ë°©ì•ˆì€ ê·¸ë£¹ì˜ í¬ê¸°ê°€ ì»¤ì§€ë©´ ë¹„ìš©ì´ë‚˜ ì‹œê°„ì´ ë§ì´ ë“¤ê²Œë˜ë¯€ë¡œ ì¢‹ì§€ ì•Šë‹¤.\nê·¸ë£¹ í•˜ë‚˜ì˜ 100,000ëª…ì´ ìˆë‹¤ë©´, ìƒíƒœë³€í™” 1ê±´ë‹¹ 100,000ê°œì˜ ì´ë²¤íŠ¸ ë©”ì‹œì§€ê°€ ë°œìƒí•œë‹¤. ì´ëŸ° ì„±ëŠ¥ ë¬¸ì œë¥¼ í•´ì†Œí•˜ëŠ” ë°©ë²•ì€\nì‚¬ìš©ìê°€ ê·¸ë£¹ ì±„íŒ…ì— ì…ì¥í•˜ëŠ” ìˆœê°„ì—ë§Œ ìƒíƒœ ì •ë³´ë¥¼ ì½ì–´ê°€ê²Œ ë§Œë“ ë‹¤. ì¹œêµ¬ ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ì‚¬ìš©ìì˜ ì ‘ì†ìƒíƒœë¥¼ ê°±ì‹ í•˜ê³  ì‹¶ìœ¼ë©´ ìˆ˜ë™ìœ¼ë¡œ í•˜ë„ë¡ ìœ ë„í•œë‹¤. 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ 1:1 ì±„íŒ…ê³¼ ê·¸ë£¹ ì±„íŒ…ì„ ì „ë¶€ ì§€ì›í•˜ëŠ” ì±„íŒ… ì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ë¥¼ ì‚´í´ë³´ì•˜ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì˜ í†µì‹ ì„ ê°€ëŠ¥í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ ì›¹ì†Œì¼“ì„ ì‚¬ìš©í–ˆë‹¤. ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ì‹¤ì‹œê°„ ë©”ì‹œì§•ì„ ì§€ì›í•˜ëŠ” ì±„íŒ… ì„œë²„ ì ‘ì† ìƒíƒœ ì„œë²„ í‘¸ì‹œ ì•Œë¦¼ ì„œë²„ ì±„íŒ… ì´ë ¥ì„ ë³´ê´€í•  í‚¤-ê°’ ì €ì¥ì†Œ ì´ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ê¸°ì„ì„ êµ¬í˜„í•˜ëŠ” ë° ì“°ì„ API ì„œë²„ ë“± ì‹œê°„ì´ ë‚¨ëŠ”ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë…¼ì˜í•´ë„ ì¢‹ë‹¤.\nì‚¬ì§„ì´ë‚˜ ë¹„ë””ì˜¤ ë“±ì˜ ë¯¸ë””ì–´ë¥¼ ì§€ì›í•˜ë„ë¡ í•˜ëŠ” ë°©ë²• ì••ì¶• ë°©ì‹, í´ë¼ìš°ë“œ ì €ì¥ì†Œ, ì„¬ë„¤ì¼ ìƒì„± ë“± ì¢…ë‹¨ ê°„ ì•”í˜¸í™” ìºì‹œ ì´ë¯¸ ì½ì€ ë©”ì‹œì§€ë¥¼ ìºì‹œí•´ ë‘ë©´ ì„œë²„ì™€ ì£¼ê³ ë°›ëŠ” ë°ì´í„° ì–‘ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë¡œë”© ì†ë„ ê°œì„  ìŠ¬ë™ì€ ì‚¬ìš©ìì˜ ë°ì´í„°, ì±„ë„ ë“±ì„ ì§€ì—­ì ìœ¼ë¡œ ë¶„ì‚°í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì¶•í•˜ì—¬ ì•± ë¡œë”© ì†ë„ë¥¼ ê°œì„ í•˜ì˜€ë‹¤. ì˜¤ë¥˜ ì²˜ë¦¬ ì±„íŒ… ì„œë²„ ì˜¤ë¥˜ ì„œë²„ í•˜ë‚˜ê°€ ì£½ìœ¼ë©´ ì„œë¹„ìŠ¤ íƒìƒ‰ ê¸°ëŠ¥ì´ ë™ì‘í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìƒˆë¡œìš´ ì„œë²„ë¥¼ ë°°ì •í•˜ê³  ë‹¤ì‹œ ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ë©”ì‹œì§€ ì¬ì „ì†¡ ì¬ì‹œë„ë‚˜ íëŠ” ë©”ì‹œì§€ì˜ ì•ˆì •ì  ì „ì†¡ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ í”íˆ ì‚¬ìš©ë˜ëŠ” ê¸°ë²•ì´ë‹¤. ","date":"2024-07-05T10:02:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/12/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/12/","title":"12. ì±„íŒ… ì‹œìŠ¤í…œ ì„¤ê³„"},{"content":"ë‰´ìŠ¤ í”¼ë“œë€? í˜ì´ìŠ¤ë¶ì˜ ë„ì›€ë§ í˜ì´ì§€ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ë‰´ìŠ¤ í”¼ë“œë¥¼ ì„¤ëª…í•˜ê³  ìˆë‹¤.\ní™ˆ í˜ì´ì§€ ì¤‘ì•™ì— ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ëŠ” ìŠ¤í† ë¦¬ì™€ ì‚¬ìš©ì ìƒíƒœ ì •ë³´ ì—…ë°ì´íŠ¸, ì‚¬ì§„, ë¹„ë””ì˜¤, ë§í¬, ì•± í™œë™ íŒ”ë¡œìš°í•˜ëŠ” ì‚¬ëŒë“¤, í˜ì´ì§€, ê·¸ë£¹ìœ¼ë¡œë¶€í„° ë‚˜ì˜¤ëŠ” ì¢‹ì•„ìš” ë“±ì„ í¬í•¨í•œë‹¤.\në‰´ìŠ¤ í”¼ë“œ ì‹œìŠ¤í…œ ì„¤ê³„ëŠ” ì•„ì£¼ ìœ ëª…í•œ ë©´ì ‘ ë¬¸ì œì´ë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • Q. ëª¨ë°”ì¼ ì•±, ì›¹ ì–´ë–¤ê±¸ ì§€ì›í•´ì•¼í•˜ëŠ”ê°€? A. ë‘˜ë‹¤. Q. ì£¼ìš” ê¸°ëŠ¥ì€? A. ì‚¬ìš©ìëŠ” ë‰´ìŠ¤ í”¼ë“œ í˜ì´ì§€ì— ìƒˆë¡œìš´ ìŠ¤í† ë¦¬ë¥¼ ì˜¬ë¦´ ìˆ˜ ìˆì–´ì•¼í•¨ ì¹œêµ¬ë“¤ì´ ì˜¬ë¦¬ëŠ” ìŠ¤í† ë¦¬ë¥¼ ë³¼ ìˆ˜ë„ ìˆì–´ì•¼í•¨ Q. ì–´ë–¤ ìˆœì„œë¡œ ìŠ¤í† ë¦¬ê°€ í‘œì‹œë˜ëŠ”ê°€? ìµœì‹  í¬ìŠ¤íŠ¸? í† í”½ ì ìˆ˜ ê¸°ë°˜? A. ì‹œê°„ íë¦„ ì—­ìˆœìœ¼ë¡œ í‘œì‹œ(Reverse chronological order) Q. í•œ ëª…ì˜ ì‚¬ìš©ìëŠ” ìµœëŒ€ ëª‡ ëª…ì˜ ì¹œêµ¬ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆëŠ”ê°€? A. 5,000ëª… Q. íŠ¸ë˜í”½ ê·œëª¨ëŠ”? A. ë§¤ì¼ ì²œë§Œ ëª… ë°©ë¬¸í•œë‹¤ê³  ê°€ì • Q. í”¼ë“œì— ì´ë¯¸ì§€ë‚˜ ë¹„ë””ì˜¤ ìŠ¤í† ë¦¬ë„ ì˜¬ë¼ì˜¬ ìˆ˜ ìˆëŠ”ê°€? A. ì´ë¯¸ì§€ë‚˜ ë¹„ë””ì˜¤ ë“± ë¯¸ë””ì–´ íŒŒì¼ì´ í¬í•¨ë  ìˆ˜ ìˆìŒ ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ë‰´ìŠ¤ í”¼ë“œ ì‹œìŠ¤í…œ ì„¤ê³„ëŠ” í”¼ë“œ ë°œí–‰(Feed publishing)ê³¼ ë‰´ìŠ¤ í”¼ë“œ ìƒì„±(News feed building) ë‘ ê°€ì§€ êµ¬ë¶„ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\ní”¼ë“œ ë°œí–‰ ì‚¬ìš©ìê°€ ìŠ¤í† ë¦¬ë¥¼ í¬ìŠ¤íŒ…í•˜ë©´ í•´ë‹¹ ë°ì´í„°ë¥¼ ìºì‹œì™€ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡í•œë‹¤. ìƒˆ í¬ìŠ¤íŒ…ì€ ì¹œêµ¬ì˜ ë‰´ìŠ¤ í”¼ë“œì—ë„ ì „ì†¡ëœë‹¤. ë‰´ìŠ¤ í”¼ë“œ ìƒì„± ë‰´ìŠ¤ í”¼ë“œëŠ” ëª¨ë“  ì¹œêµ¬ì˜ í¬ìŠ¤íŒ…ì„ ì‹œê°„ íë¦„ ì—­ìˆœìœ¼ë¡œ ëª¨ì•„ì„œ ë§Œë“ ë‹¤ê³  ê°€ì •í•œë‹¤. ë‰´ìŠ¤ í”¼ë“œ API ë‰´ìŠ¤ í”¼ë“œ APIëŠ” HTTP í”„ë¡œí† ì½œ ê¸°ë°˜ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì™€ í†µì‹ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ìˆ˜ë‹¨ì´ë‹¤.\nìƒíƒœ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸ í•  ë•Œ ë‰´ìŠ¤ í”¼ë“œë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì¹œêµ¬ë¥¼ ì¶”ê°€í•˜ëŠ” ë“± ë‹¤ì–‘í•œ ì‘ì—… ìˆ˜í–‰ í”¼ë“œ ë°œí–‰ API\nìƒˆ ìŠ¤í† ë¦¬ë¥¼ í¬ìŠ¤íŒ…í•˜ê¸° ìœ„í•œ APIë‹¤.\nHTTP POST í˜•íƒœë¡œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.\n1 POST /v1/me/feed ì¸ì body: í¬ìŠ¤íŠ¸ ë‚´ìš© Authorization í—¤ë”: API í˜¸ì¶œì„ ì¸ì¦í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. í”¼ë“œ ì½ê¸° API\në‰´ìŠ¤ í”¼ë“œë¥¼ ê°€ì ¸ì˜¤ëŠ” APIë‹¤.\n1 GET /v1/me/feed ì¸ì Authorization í—¤ë”: API í˜¸ì¶œì„ ì¸ì¦í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. í”¼ë“œ ë°œí–‰ ì‚¬ìš©ì ëª¨ë°”ì¼ ì•±ì´ë‚˜ ë¸Œë¼ìš°ì €ì—ì„œ ìƒˆ í¬ìŠ¤íŒ…ì„ ì˜¬ë¦¬ëŠ” ì£¼ì²´ POST /v1/me/feed APIë¥¼ ì‚¬ìš© ë¡œë“œë°¸ëŸ°ì„œ(load balancer) íŠ¸ë˜í”½ì„ ì›¹ ì„œë²„ë“¤ë¡œ ë¶„ì‚° ì›¹ ì„œë²„ HTTP ìš”ì²­ì„ ë‚´ë¶€ ì„œë¹„ìŠ¤ë¡œ ì¤‘ê³„í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹ í¬ìŠ¤íŒ… ì €ì¥ ì„œë¹„ìŠ¤(Post service) ìƒˆ í¬ìŠ¤íŒ…ì„ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìºì‹œì— ì €ì¥ í¬ìŠ¤íŒ… ì „ì†¡ ì„œë¹„ìŠ¤(Fanout service) ìƒˆ í¬ìŠ¤íŒ…ì„ ì¹œêµ¬ì˜ ë‰´ìŠ¤í”¼ë“œì— í‘¸ì‹œ(push) ë‰´ìŠ¤ í”¼ë“œ ë°ì´í„°ëŠ” ìºì‹œì— ë³´ê´€í•˜ì—¬ ë¹ ë¥´ê²Œ ì½ì–´ê°ˆ ìˆ˜ ìˆë„ë¡ í•´ì•¼í•¨ ì•Œë¦¼ ì„œë¹„ìŠ¤(notification service) ì¹œêµ¬ë“¤ì—ê²Œ ìƒˆ í¬ìŠ¤íŒ…ì´ ì˜¬ë¼ì™”ìŒì„ ì•Œë¦¼ í‘¸ì‹œ ì•Œë¦¼ì„ ë³´ëƒ„ ë‰´ìŠ¤ í”¼ë“œ ìƒì„± ì‚¬ìš©ì ë‰´ìŠ¤ í”¼ë“œë¥¼ ì½ëŠ” ì£¼ì²´ GET /v1/me/feedë¥¼ ì´ìš© ë¡œë“œ ë°¸ëŸ°ì„œ íŠ¸ë˜í”½ì„ ì›¹ ì„œë²„ë“¤ë¡œ ë¶„ì‚° ì›¹ ì„œë²„ íŠ¸ë˜í”½ì„ ë‰´ìŠ¤ í”¼ë“œ ì„œë¹„ìŠ¤ë¡œ ë³´ëƒ„ ë‰´ìŠ¤ í”¼ë“œ ì„œë¹„ìŠ¤(news feed service) ìºì‹œì—ì„œ ë‰´ìŠ¤ í”¼ë“œë¥¼ ê°€ì ¸ì˜¤ëŠ” ì„œë¹„ìŠ¤ ë‰´ìŠ¤ í”¼ë“œ ìºì‹œ(news feed cache) ëœë”ë§í•  ë•Œ í•„ìš”í•œ í”¼ë“œIDë¥¼ ë³´ê´€ 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ í”¼ë“œ ë°œí–‰ íë¦„ ìƒì„¸ ì„¤ê³„ ì›¹ ì„œë²„ì™€ í¬ìŠ¤íŒ… ì „ì†¡ ì„œë¹„ìŠ¤ì— ì´ˆì ì„ ë‘ê³  í™•ì¸í•œë‹¤.\nì›¹ ì„œë²„\ní´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ í•  ë¿ ì•„ë‹ˆë¼ ì¸ì¦ì´ë‚˜ ì²˜ë¦¬ìœ¨ ì œí•œ ê¸°ëŠ¥ë„ ìˆ˜í–‰í•œë‹¤.\nì˜¬ë°”ë¥¸ ì¸ì¦ í† í°ì„ Authorization í—¤ë”ì— ë„£ê³  APIë¥¼ í˜¸ì¶œí•˜ëŠ” ì‚¬ìš©ìë§Œ í¬ìŠ¤íŒ… í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ìŠ¤íŒ¸ì„ ë§‰ê³  ìœ í•´í•œ ì½˜í…ì¸ ê°€ ìì£¼ ì˜¬ë¼ì˜¤ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©ìê°€ ì˜¬ë¦¬ ìˆ˜ ìˆëŠ” í¬ìŠ¤íŒ… ìˆ˜ë¥¼ ì œí•œì„ ë‘¬ì•¼í•œë‹¤. í¬ìŠ¤íŒ… ì „ì†¡(íŒ¬ì•„ì›ƒ) ì„œë¹„ìŠ¤\ní¬ìŠ¤íŒ… ì „ì†¡, ì¦‰ íŒ¬ì•„ì›ƒ(fanout)ì€ ì–´ë–¤ ì‚¬ìš©ìì˜ ìƒˆ í¬ìŠ¤íŒ…ì„ ê·¸ ì‚¬ìš©ìì™€ ì¹œêµ¬ ê´€ê³„ì— ìˆëŠ” ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì´ë‹¤.\në‘ ê°€ì§€ ìœ í˜•ì´ ì¡´ì¬í•˜ë©° ê°ê¸° ì¥ë‹¨ì ì„ ê°€ì§„ë‹¤.\ní‘¸ì‹œ ëª¨ë¸(push model)\nìƒˆë¡œìš´ í¬ìŠ¤íŒ…ì„ ê¸°ë¡í•˜ëŠ” ì‹œì (ì“°ê¸° ì‹œì )ì— ë‰´ìŠ¤í”¼ë“œë¥¼ ê°±ì‹ í•˜ê²Œ ëœë‹¤.\në‹¤ì‹œ ë§í•´, í¬ìŠ¤íŒ…ì´ ì™„ë£Œë˜ë©´ ë°”ë¡œ í•´ë‹¹ ì‚¬ìš©ìì˜ ìºì‹œì— í•´ë‹¹ í¬ìŠ¤íŒ…ì„ ê¸°ë¡í•œë‹¤.\nì¥ì  ë‰´ìŠ¤í”¼ë“œê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°±ì‹ ë˜ë©° ì¹œêµ¬ ëª©ë¡ì— ìˆëŠ” ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ ì „ì†¡ ìƒˆ í¬ìŠ¤íŒ…ì´ ê¸°ë¡ë˜ëŠ” ìˆœê°„ì— ë‰´ìŠ¤ í”¼ë“œê°€ ì´ë¯¸ ê°±ì‹ ë˜ë¯€ë¡œ(pre-computed) ë‰´ìŠ¤ í”¼ë“œë¥¼ ì½ëŠ” ë° ë“œëŠ” ì‹œê°„ì´ ì§§ì•„ì§ ë‹¨ì  ì¹œêµ¬ê°€ ë§ì€ ì‚¬ìš©ìì˜ ê²½ìš° ë‰´ìŠ¤ í”¼ë“œë¥¼ ê°±ì‹ í•˜ëŠ” ë° ë§ì€ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ë„ ìˆìŒ í•«í‚¤(Hotkey) ë¬¸ì œ ì„œë¹„ìŠ¤ë¥¼ ìì£¼ ì´ìš©í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ìì˜ í”¼ë“œê¹Œì§€ ê°±ì‹ í•´ì•¼ í•˜ë¯€ë¡œ ìì› ë‚­ë¹„ í’€ ëª¨ë¸(pull model)\ní”¼ë“œë¥¼ ì½ì–´ì•¼ í•˜ëŠ” ì‹œì ì— ë‰´ìŠ¤ í”¼ë“œë¥¼ ê°±ì‹ í•œë‹¤.\në”°ë¼ì„œ ìš”ì²­ ê¸°ë°˜(on-demand) ëª¨ë¸ì´ë©°, ì‚¬ìš©ìê°€ ë³¸ì¸ í™ˆí˜ì´ì§€ë‚˜ íƒ€ì„ ë¼ì¸ì„ ë¡œë”©í•˜ëŠ” ì‹œì ì— ìƒˆë¡œìš´ í¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.\nì¥ì  ë¡œê·¸ì¸í•˜ê¸°ê¹Œì§€ëŠ” ì–´ë–¤ ì»´í“¨íŒ… ìì›ë„ ì†Œëª¨í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¹„í™œì„±í™”ëœ ì‚¬ìš©ìëŠ” ì´ ëª¨ë¸ì´ ìœ ë¦¬í•˜ë‹¤. ë°ì´í„°ë¥¼ ì¹œêµ¬ ê°ê°ì— í‘¸ì‹œí•˜ëŠ” ì‘ì—…ì´ í•„ìš” ì—†ìœ¼ë¯€ë¡œ í•«í‚¤ ë¬¸ì œë„ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤. ë‹¨ì  ë‰´ìŠ¤ í”¼ë“œë¥¼ ì½ëŠ” ë° ë§ì€ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ ìˆë‹¤. ì´ë²ˆ ì„¤ê³„ì•ˆì€ ë‘ ê°€ì§€ ë°©ë²•ì„ ê²°í•©í•˜ì—¬ ì¥ì ì€ ì·¨í•˜ê³  ë‹¨ì ì€ ë²„ë¦°ë‹¤.\në‰´ìŠ¤í”¼ë“œë¥¼ ë¹ ë¥´ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì€ ì•„ì£¼ ì¤‘ìš”í•˜ë¯€ë¡œ ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìì— ëŒ€í•´ì„œ í‘¸ì‹œ ëª¨ë¸ ì‚¬ìš© ì¹œêµ¬, íŒ”ë¡œì›Œê°€ ì•„ì£¼ ë§ì€ ì‚¬ìš©ìì˜ ê²½ìš°ëŠ” í•´ë‹¹ ì‚¬ìš©ìì˜ í¬ìŠ¤íŒ…ì„ í•„ìš”í•  ë•Œ ê°€ì ¸ê°€ë„ë¡ í•˜ëŠ” í’€ ëª¨ë¸ì„ ì‚¬ìš© ì•ˆì • í•´ì‹œ(consistent hashing)ì„ í†µí•´ ìš”ì²­ê³¼ ë°ì´í„°ë¥¼ ê³ ë¥´ê²Œ ë¶„ì‚°í•˜ì—¬ í•« í‚¤ ë¬¸ì œë¥¼ ì™„í™” ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¹œêµ¬ ID ëª©ë¡ì„ ê°€ì ¸ì˜¨ë‹¤. ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì¹œêµ¬ ê´€ê³„ë‚˜ ì¹œêµ¬ ì¶”ì²œì„ ê´€ë¦¬í•˜ê¸° ì í•©í•˜ë‹¤. ì‚¬ìš©ì ì •ë³´ ìºì‹œì—ì„œ ì¹œêµ¬ë“¤ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨í›„, ì„¤ì •ì— ë”°ë¼ ì¼ë¶€ ê±¸ëŸ¬ë‚¸ë‹¤. ì°¨ë‹¨ ë“± ì´ìœ ë¡œ ì¹œêµ¬ ëª©ë¡ê³¼ ìƒˆ ìŠ¤í† ë¦¬ì˜ í¬ìŠ¤íŒ… IDë¥¼ ë©”ì‹œí‚¤ íì— ë„£ëŠ”ë‹¤. íŒ¬ì•„ì›ƒ ì‘ì—… ì„œë²„ê°€ ë©”ì‹œì§€ íì—ì„œ ë°ì´í„°ë¥¼ êº¼ë‚´ ë‰´ìŠ¤ í”¼ë“œ ë°ì´í„°ë¥¼ ë‰´ìŠ¤ í”¼ë“œ ìºì‹œì— ë„£ëŠ”ë‹¤. ë‰´ìŠ¤ í”¼ë“œ ìºì‹œ: \u0026lt;í¬ìŠ¤íŒ… ID, ì‚¬ìš©ì ID\u0026gt; ëª¨ë“  ë°ì´í„°ë¥¼ í¬í•¨í•˜ë©´ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ì´ ì§€ë‚˜ì¹˜ê²Œ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤. ì–´ë–¤ ì‚¬ìš©ìê°€ ë‰´ìŠ¤ í”¼ë“œì— ì˜¬ë¼ì˜¨ ìˆ˜ì²œ ê°œì˜ ìŠ¤í† ë¦¬ë¥¼ ë³¼ í™•ë¥ ì€ ì§€ê·¹íˆ ë‚®ë‹¤.(ìºì‹œ ë¯¸ìŠ¤ í™•ë¥ ì´ ë‚®ë‹¤.) í”¼ë“œ ì½ê¸° íë¦„ ìƒì„¸ ì„¤ê³„ ì´ë¯¸ì§€ë‚˜ ë¹„ë””ì˜¤ì™€ ê°™ì€ ë¯¸ë””ì–´ ì½˜í…ì¸ ëŠ” CDNì— ì €ì¥í•˜ì—¬ ë¹¨ë¦¬ ì½ì–´ê°ˆ ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nì‚¬ìš©ìê°€ ë‰´ìŠ¤ í”¼ë“œ ì½ê¸° ìš”ì²­ì„ ë³´ëƒ„ ë¡œë“œë°¸ëŸ°ì„œê°€ ìš”ì²­ì„ ì›¹ ì„œë²„ ê°€ìš´ë° í•˜ë‚˜ë¡œ ë³´ëƒ„ í”¼ë“œë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ë‰´ìŠ¤ í”¼ë“œ ì„œë¹„ìŠ¤ í˜¸ì¶œ ë‰´ìŠ¤ í”¼ë“œ ìºì‹œì—ì„œ í¬ìŠ¤íŒ… ID ëª©ë¡ì„ ì¡°íšŒ ì‚¬ìš©ì ì´ë¦„, ì‚¬ìš©ì ì‚¬ì§„ ë“±ì„ ì‚¬ìš©ì ìºì‹œì™€ í¬ìŠ¤íŒ… ìºì‹œì—ì„œ ê°€ì ¸ì™€ ì™„ì „í•œ ë‰´ìŠ¤ í”¼ë“œ ìƒì„± JSON í˜•íƒœë¡œ ì‘ë‹µ ìºì‹œ êµ¬ì¡° ìºì‹œëŠ” ë‰´ìŠ¤ í”¼ë“œ ì‹œìŠ¤í…œì˜ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\në‰´ìŠ¤í”¼ë“œ ë‰´ìŠ¤ í”¼ë“œì˜ ID ë³´ê´€ ì½˜í…ì¸  í¬ìŠ¤íŒ… ë°ì´í„°ë¥¼ ë³´ê´€ ì¸ê¸° ì½˜í…ì¸ ëŠ” ë”°ë¡œ ë³´ê´€ ì†Œì…œ ê·¸ë˜í”„ ì‚¬ìš©ì ê°„ ê´€ê³„ ì •ë³´ë¥¼ ë³´ê´€ í–‰ë™(action) í¬ìŠ¤íŒ…ì— ëŒ€í•œ ì‚¬ìš©ìì˜ í–‰ìœ„ì— ê´€í•œ ì •ë³´ë¥¼ ë³´ê´€ ì¢‹ì•„ìš”, ë‹µê¸€ ë“± íšŸìˆ˜(counter) ì¢‹ì•„ìš” íšŸìˆ˜, ì‘ë‹µ ìˆ˜, íŒ”ë¡œì›Œ ìˆ˜, íŒ”ë¡œì‰ ìˆ˜ ë“± ë³´ê´€ 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì´ë²ˆ ì„¤ê³„ì•ˆì€ ë‰´ìŠ¤ í”¼ë“œ ë°œí–‰, ë‰´ìŠ¤ í”¼ë“œ ìƒì„± ë‘ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\nì„¤ê³„ë¥¼ ì§„í–‰í•˜ê³  ê¸°ìˆ ì„ ì„ íƒí•  ë•ŒëŠ” ê·¸ ë°°ê²½ì— ì–´ë–¤ íƒ€í˜‘ì  ê²°ì •ë“¤ì´ ìˆì—ˆëŠ”ì§€ ì˜ ì´í•´í•˜ê³  ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nì‹œê°„ì´ ë‚¨ëŠ”ë‹¤ë©´ ê·œëª¨ í™•ì¥ì„± ì´ìŠˆë¥¼ ë…¼ì˜í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ê·œëª¨ í™•ì¥ ìˆ˜ì§ì  ê·œëª¨ í™•ì¥ vs ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ SQL vs NoSQL master-slave ë‹¤ì¤‘í™” ë³µì œë³¸(replica)ì— ëŒ€í•œ ì½ê¸° ì—°ì‚° ì¼ê´€ì„± ëª¨ë¸(consistency model) ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”© ê·¸ ì™¸ ì›¹ ê³„ì¸µì„ ë¬´ìƒíƒœë¡œ ìš´ì˜í•˜ê¸° ê°€ëŠ¥í•œ í•œ ë§ì€ ë°ì´í„°ë¥¼ ìºì‹œí•  ë°©ë²• ì—¬ëŸ¬ ë°ì´í„° ì„¼í„°ë¥¼ ì§€ì›í•  ë°©ë²• ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ê²°í•©ë„ ë‚®ì¶”ê¸° í•µì‹¬ ë©”íŠ¸ë¦­ì— ëŒ€í•œ ëª¨ë‹ˆí„°ë§ íŠ¸ë˜í”½ì´ ëª°ë¦¬ëŠ” ì‹œê°„ëŒ€ì˜ QPS ì‚¬ìš©ìê°€ ë‰´ìŠ¤ í”¼ë“œë¥¼ ìƒˆë¡œê³ ì¹¨ í•  ë•Œ ì§€ì—° ì‹œê°„ ë“± ","date":"2024-07-04T22:51:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/11/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/11/","title":"11. ë‰´ìŠ¤ í”¼ë“œ ì‹œìŠ¤í…œ ì„¤ê³„"},{"content":"ì•Œë¦¼ ì‹œìŠ¤í…œì€ ìµœê·¼ ë§ì€ í”„ë¡œê·¸ë¨ë“¤ì´ ì±„íƒí•œ ì¸ê¸° ìˆëŠ” ê¸°ëŠ¥ì´ë‹¤.\nê³ ê°ì—ê²Œ ì¤‘ìš”í•  ë§Œí•œ ì •ë³´ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì œê³µí•œë‹¤.\nëª¨ë§ˆì¼ í‘¸ì‹œ ì•Œë¦¼ SMS ë©”ì‹œì§€ ì´ë©”ì¼ 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • í•˜ë£¨ì— ë°±ë§Œ ê±´ ì´ìƒì˜ ì•Œë¦¼ì„ ì²˜ë¦¬í•˜ëŠ” í™•ì¥ì„± ë†’ì€ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ”ê±´ ì‰¬ìš´ ê³¼ì œê°€ ì•„ë‹ˆë‹¤.\nì•Œë¦¼ ì‹œìŠ¤í…œì´ ì–´ë–»ê²Œ êµ¬í˜„ë˜ëŠ”ì§€ì— ëŒ€í•œ ê¹Šì€ ì´í•´ê°€ í•„ìš”í•˜ë‹¤.\nQ. ì–´ë–¤ ì¢…ë¥˜ì˜ ì•Œë¦¼ì„ ì§€ì›í•´ì•¼í•˜ëŠ”ê°€? A. í‘¸ì‹œ ì•Œë¦¼, SMS ë©”ì‹œì§€, ì´ë©”ì¼ Q. ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ? A. ì—°ì„± ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ \u0026gt; ë¹¨ë¦¬ ì „ë‹¬í•´ì•¼í•˜ì§€ë§Œ ì‹œìŠ¤í…œì˜ ë¶€í•˜ê°€ ì‹¬í•  ë•Œ ì•½ê°„ì˜ ì§€ì—°ì€ ë¬´ë°©í•¨ Q. ì§€ì› ë‹¨ë§? A. IOS, ì•ˆë“œë¡œì´ë“œ, ë©í†±/ë°ìŠ¤í¬í†± Q. ì•Œë¦¼ì€ ëˆ„ê°€ ë§Œë“¤ ìˆ˜ ìˆëŠ”ê°€? A. í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜, ì„œë²„ì¸¡ ìŠ¤ì¼€ì¥´ë§ Q. ì•Œë¦¼ ê±°ë¶€ ê°€ëŠ¥? A. ì˜ˆ Q. í•˜ë£¨ ëª‡ ê±´ì˜ ì•Œë¦¼ ì²˜ë¦¬? A. ì²œë§Œ ê±´ í‘¸ì‹œ ì•Œë¦¼, ë°±ë§Œ ê±´ SMS, 5ë°±ë§Œ ê±´ ì´ë©”ì¼ 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ì•Œë¦¼ ìœ í˜• ë³„ ì§€ì› ë°©ì•ˆ ìœ í˜•ì— ë”°ë¼ ë™ì‘í•˜ëŠ” ì•Œë¦¼ ë©”ì»¤ë‹ˆì¦˜ì— ì°¨ì´ê°€ ìˆë‹¤.\nIOS í‘¸ì‹œ ì•Œë¦¼\nIOSì—ì„œ í‘¸ì‹œ ì•Œë¦¼ì„ ë³´ë‚´ê¸° ìœ„í•´ì„œëŠ” 3ê°€ì§€ ì»´í¬ë„ŒíŠ¸ê°€ í•„ìš”í•˜ë‹¤.\nì¼ë¦¼ ì œê³µì(provider) ì•Œë¦¼ ìš”ì²­ì„ ë§Œë“¤ì–´ ì• í”Œ í‘¸ì‹œ ì•Œë¦¼ ì„œë¹„ìŠ¤(APNS)ë¡œ ë³´ë‚´ëŠ” ì£¼ì²´ë¡œ ë‘ê°œì˜ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤. ë‹¨ë§ í† í°: ì•Œë¦¼ ìš”ì²­ì„ ë³´ë‚´ëŠ” ë° í•„ìš”í•œ ê³ ìœ  ì‹ë³„ì í˜ì´ë¡œë“œ: ì•Œë¦¼ ë‚´ìš©ì„ ë‹´ì€ JSON ë”•ì…”ë„ˆë¦¬ 1 2 3 4 5 6 7 8 9 10 { \u0026#34;aps\u0026#34;: { \u0026#34;alert\u0026#34; : { \u0026#34;title\u0026#34;: \u0026#34;Game Request\u0026#34;, \u0026#34;body\u0026#34;: \u0026#34;Bob wants to play chess\u0026#34;, \u0026#34;action-loc-key\u0026#34;: \u0026#34;PLAY\u0026#34; }, \u0026#34;badge\u0026#34;: 5 } } APNS ì• í”Œì´ ì œê³µí•˜ëŠ” ì›ê²© ì„œë¹„ìŠ¤ í‘¸ì‹œ ì•Œë¦¼ì„ IOS ì¥ì¹˜ë¡œ ë³´ë‚´ëŠ” ì—­í• ì„ ë‹´ë‹¹. IOS ë‹¨ë§ í‘¸ì‹œ ì•Œë¦¼ì„ ìˆ˜ì‹ í•˜ëŠ” ì‚¬ìš©ìì˜ ë‹¨ë§ ì•ˆë“œë¡œì´ë“œ í‘¸ì‹œ ì•Œë¦¼\nAPNSë¥¼ ì‚¬ìš©í•˜ëŠ” IOSì™€ ë‹¬ë¦¬ FCM(Firebase Cloud Messaging)ì„ ì‚¬ìš©í•œë‹¤.\nSMS ë©”ì‹œì§€\níŠ¸ìœŒë¦¬ì˜¤(Twilio), ë„¥ìŠ¤ëª¨(Nexmo)ê°™ì€ ì œ3 ì‚¬ì—…ìì˜ ì„œë¹„ìŠ¤ë¥¼ ë§ì´ ì´ìš©í•œë‹¤.\nì´ë©”ì¼\nëŒ€ë¶€ë¶„ ê³ ìœ  ì´ë©”ì¼ ì„œë²„ë¥¼ êµ¬ì¶•í•  ì—­ëŸ‰ì„ ê°€ì§€ê³  ìˆì§€ë§Œ, ìƒìš© ì´ë©”ì¼ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•œë‹¤.\nì„¼ë“œê·¸ë¦¬ë“œ, ë©”ì¼ì¹¨í”„ ì§€ê¸ˆê¹Œì§€ì˜ ì–¸ê¸‰í•œ ëª¨ë“  ì•Œë¦¼ ìœ í˜•ì„ í•œ ì‹œìŠ¤í…œìœ¼ë¡œ ë¬¶ì–´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\nì—°ë½ì²˜ ì •ë³´ ìˆ˜ì§‘ ì ˆì°¨ ì•Œë¦¼ì„ ë³´ë‚´ê¸° ìœ„í•´ ëª¨ë°”ì¼ ë‹¨ë§ í† í°, ì „í™”ë²ˆí˜¸, ì´ë©”ì¼ ì£¼ì†Œ ë“± ì •ë³´ê°€ í•„ìš”í•˜ë‹¤.\nì‚¬ìš©ìê°€ ì•±ì„ ì„¤ì¹˜í•˜ê±°ë‚˜ ì²˜ìŒìœ¼ë¡œ ê³„ì •ì„ ë“±ë¡í•  ë•Œ API ì„œë²„ëŠ” í•´ë‹¹ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤.\ní•„ìˆ˜ì ì¸ ì •ë³´ë§Œ í¬í•¨í•œ ìŠ¤í‚¤ë§ˆëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\nerDiagram USER { bigint user_id varchar email integer coutry_code integer phone_number timestamp created_at } DEVICE { bigint id varchar device_token bigint user_id timestamp last_logged_in_at } ì´ë©”ì¼ ì£¼ì†Œì™€ ì „í™”ë²ˆí˜¸ëŠ” USER í…Œì´ë¸”ì— ì €ì¥í•˜ê³ , ë‹¨ë§ í† í°ì€ DEVICE í…Œì´ë¸”ì— ì €ì¥í•œë‹¤. í•œ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ë‹¨ë§ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ì•Œë¦¼ì€ ëª¨ë“  ë‹¨ë§ì— ì „ì†¡ë˜ì–´ì•¼ í•œë‹¤. ì•Œë¦¼ ì „ì†¡ ë° ìˆ˜ì‹  ì ˆì°¨ ê°œëµì ìœ¼ë¡œ ì„¤ê³„í•˜ê³  ì ì°¨ì ìœ¼ë¡œ ìµœì í™”í•œë‹¤.\nê°œëµì  ì„¤ê³„ì•ˆ(ì´ˆì•ˆ)\nì„œë²„ë¥¼ 1ëŒ€ë§Œ ì‚¬ìš©í•˜ëŠ” ì‹œìŠ¤í…œì´ë¼ ê°€ì •í•œë‹¤.\nService 1 ~ N ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤, í¬ë¡ ì¡, ë¶„ì‚° ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ ì¼ ìˆ˜ ìˆë‹¤. ì•Œë¦¼ ì‹œìŠ¤í…œ ì•Œë¦¼ ì „ì†¡/ìˆ˜ì‹  ì²˜ë¦¬ì˜ í•µì‹¬ Service 1 ~ Nì— ì•Œë¦¼ ì „ì†¡ì„ ìœ„í•œ *API ì œê³µ ì œ3ì ì„œë¹„ìŠ¤ì— ì „ë‹¬í•  ì•Œë¦¼ í˜ì´ë¡œë“œ ìƒì„± í™•ì¥ì„±ì„ ìœ ì˜í•´ì•¼í•¨, ì‰½ê²Œ ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¥¼ í†µí•©í•˜ê±°ë‚˜ ê¸°ì¡´ ì„œë¹„ìŠ¤ë¥¼ ì œê±°í•  ìˆ˜ ìˆì–´ì•¼í•¨ ì–´ë–¤ ì„œë¹„ìŠ¤ëŠ” ë‹¤ë¥¸ ì‹œì¥ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ì„ ìˆ˜ë„ ìˆë‹¤. (FCMì€ ì¤‘êµ­ì„œ ì‚¬ìš©ë¶ˆê°€) ë‹¨ë§ ìœ„ì™€ ê°™ì€ ì„¤ê³„ì—ëŠ” ëª‡ ê°€ì§€ ë¬¸ì œê°€ ìˆë‹¤.\nSPOF ì•Œë¦¼ ì„œë¹„ìŠ¤ì— ì„œë²„ê°€ í•˜ë‚˜ ë¿ì´ë¼ ì„œë²„ ì¥ì•  ë°œìƒì‹œ ì „ì²´ ì„œë¹„ìŠ¤ ì¥ì• ë¡œ ì´ì–´ì§„ë‹¤. ê·œëª¨ í™•ì¥ì„± í•œ ëŒ€ ì„œë¹„ìŠ¤ë¡œ í‘¸ì‹œ ì•Œë¦¼ì— ê´€ê³„ëœ ëª¨ë“  ê²ƒì„ ì²˜ë¦¬í•˜ë¯€ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ìºì‹œ ë“± ì¤‘ìš” ì»´í¬ë„ŒíŠ¸ì˜ ê·œëª¨ë¥¼ ê°œë³„ì ìœ¼ë¡œ ëŠ˜ë¦´ ìˆ˜ ì—†ë‹¤. ì„±ëŠ¥ ë³‘ëª© ì•Œë¦¼ì„ ì²˜ë¦¬í•˜ê³  ë³´ë‚´ëŠ” ê²ƒì€ ìì›ì„ ë§ì´ í•„ìš”ë¡œí•  ìˆ˜ ìˆì–´, íŠ¸ë˜í”½ì´ ëª°ë¦¬ë©´ ê³¼ë¶€í•˜ ìƒíƒœì— ë¹ ì§ˆ ìˆ˜ ìˆë‹¤. HTML í˜ì´ì§€ ìƒì„± ì œ3ì ì„œë¹„ìŠ¤ì˜ ì‘ë‹µ ëŒ€ê¸° ê°œëµì  ì„¤ê³„ì•ˆ(ê°œì„ )\nìµœì´ˆ ê°œëµì  ì„¤ê³„ì•ˆì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œë¥¼ ê°œì„ í–ˆë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì™€ ìºì‹œë¥¼ ì•Œë¦¼ ì‹œìŠ¤í…œì—ì„œ ë¶„ë¦¬ ì•Œë¦¼ ì„œë²„ ì¦ì„¤ ë° ìë™ ìˆ˜í‰ ê·œëª¨ í™•ì¥ ì¶”ê°€ ë©”ì‹œì§€ íë¥¼ ì´ìš©í•´ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ê°•í•œ ê²°í•©ì„ ëŠëŠ”ë‹¤. ì„œë¹„ìŠ¤(1~N) ì•Œë¦¼ ì‹œìŠ¤í…œ ì„œë²„ì˜ APIë¥¼ í†µí•´ ì•Œë¦¼ì„ ë³´ë‚¼ ì„œë¹„ìŠ¤ë“¤ ì•Œë¦¼ ì„œë²„ ì•Œë¦¼ ì „ì†¡ API ìŠ¤íŒ¸ ë°©ì§€ë¥¼ ìœ„í•´ ì‚¬ë‚´ ì„œë¹„ìŠ¤ ë˜ëŠ” ì¸ì¦ëœ í´ë¼ì´ì–¸íŠ¸ë§Œ ì´ìš© ê°€ëŠ¥ ì•Œë¦¼ ê²€ì¦ ì´ë©”ì¼, ì „í™”ë²ˆí˜¸ ë“± ê¸°ë³¸ì  ê²€ì¦ ìˆ˜í–‰ ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” ìºì‹œ ì§ˆì˜ ì•Œë¦¼ì— í¬í•¨ì‹œí‚¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì•Œë¦¼ ì „ì†¡ ì•Œë¦¼ ë°ì´í„°ë¥¼ ë©”ì‹œì§€ íì— ë„£ëŠ”ë‹¤. í•˜ë‚˜ ì´ìƒì˜ ë©”ì‹œì§€ íë¥¼ ì´ìš©í•˜ë©´ ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ìºì‹œ ì‚¬ìš©ì ì •ë³´, ë‹¨ë§ ì •ë³´, ì•Œë¦¼ í…œí”Œë¦¿ ë“±ì„ ìºì‹œí•œë‹¤. DB ì‚¬ìš©ì, ì•Œë¦¼, ì„¤ì • ë“± ë‹¤ì–‘í•œ ì •ë³´ ì €ì¥ ë©”ì‹œì§€ í ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ ê°„ ì˜ì¡´ì„±ì„ ì œê±°í•œë‹¤. ë‹¤ëŸ‰ì˜ ì•Œë¦¼ì´ ì „ì†¡ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° ë²„í¼ ì—­í• ë„ í•œë‹¤. ì‘ì—… ì„œë²„ ë©”ì‹œì§€ íì—ì„œ ì „ì†¡í•  ì•Œë¦¼ì„ êº¼ë‚´ ì œ3ì ì„œë¹„ìŠ¤ë¡œ ì „ë‹¬í•œë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ì•ˆì •ì„± ë¶„ì‚° í™˜ê²½ì—ì„œ ìš´ì˜ë  ì•Œë¦¼ ì‹œìŠ¤í…œì„ ì„¤ê³„í•  ë•ŒëŠ” ì•ˆì •ì„±ì„ í™•ë³´í•˜ê¸° ìœ„í•œ ì‚¬ì•™ ëª‡ ê°€ì§€ë¥¼ ë°˜ë“œì‹œ ê³ ë ¤í•´ì•¼í•œë‹¤.\në°ì´í„° ì†ì‹¤ ë°©ì§€\nì•Œë¦¼ ì „ì†¡ ì‹œìŠ¤í…œì˜ ê°€ì¥ ì¤‘ìš”í•œ ìš”êµ¬ì‚¬í•­ ê°€ìš´ë° í•˜ë‚˜ëŠ” ì–´ë–¤ ìƒí™©ì—ì„œë„ ì•Œë¦¼ì´ ì†Œì‹¤ë˜ë©´ ì•ˆëœë‹¤ëŠ” ê²ƒì´ë‹¤.\nì§€ì—°ë˜ê±°ë‚˜ ìˆœì„œê°€ ë‹¬ë¼ë„ ì‚¬ë¼ì§€ë©´ ì•ˆëœë‹¤ ì´ë¥¼ ìœ„í•´ ì•Œë¦¼ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ê´€í•˜ê³  ì¬ì‹œë„í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ êµ¬í˜„í•´ì•¼ í•œë‹¤.\nì•Œë¦¼ ì¤‘ë³µ ì „ì†¡ ë°©ì§€\nê°™ì€ ì•Œë¦¼ì´ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µë˜ëŠ” ê²ƒì„ ì™„ì „íˆ ë§‰ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\nê·¸ ë¹ˆë„ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì¤‘ë³µì„ íƒì§€í•˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜ì„ ë„ì…í•˜ê³ , ì˜¤ë¥˜ë¥¼ ì‹ ì¤‘í•˜ê²Œ ì²˜ë¦¬í•´ì•„í•œë‹¤.\në³´ë‚´ì•¼ í•  ì•Œë¦¼ì´ ë„ì°©í•˜ë©´ ê·¸ ì´ë²¤íŠ¸ IDë¥¼ ê²€ì‚¬í•˜ì—¬ ì´ì „ì— ë³¸ ì ì´ ìˆëŠ” ì´ë²¤íŠ¸ì¸ì§€ ì‚´í•€ë‹¤. ì¤‘ë³µëœ ì´ë²¤íŠ¸ë©´ ë²„ë¦¬ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì•Œë¦¼ì„ ë°œì†¡í•œë‹¤. ì¶”ê°€ë¡œ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ ë° ê³ ë ¤ì‚¬í•­ ì•Œë¦¼ í…œí”Œë¦¿\nì•Œë¦¼ ë©”ì‹œì§€ ëŒ€ë¶€ë¶„ì€ í˜•ì‹ì´ ë¹„ìŠ·í•˜ë‹¤.\nì•Œë¦¼ í…œí”Œë¦¿ì€ ì´ëŸ° ìœ ì‚¬ì„±ì„ ê³ ë ¤í•˜ì—¬, ì•Œë¦¼ ë©”ì‹œì§€ì˜ ëª¨ë“  ë¶€ë¶„ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë§Œë“¤ í•„ìš” ì—†ë„ë¡ í•œë‹¤.\nì‚¬ì „ì— ì§€ì •í•œ í˜•ì‹ì— ë§ì¶° ì•ŒëŒì„ ë§Œë“¤ì–´ ë‚´ëŠ” í‹€ì´ë‹¤. ì „ì†¡ë  ì•Œë¦¼ë“¤ì˜ í˜•ì‹ì„ ì¼ê´€ì„± ìˆê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤. ì˜¤ë¥˜ ê°€ëŠ¥ì„±ë¿ ì•„ë‹ˆë¼ ì•Œë¦¼ ì‘ì„±ì— ë“œëŠ” ì‹œê°„ë„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ì•Œë¦¼ ì„¤ì •\nì‚¬ìš©ìê°€ ì•Œë¦¼ ì„¤ì •ì„ ìƒì„¸íˆ ì¡°ì •í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nerDiagram OPT { bigint user_id varchar channel boolean opt_in } ì´ì™€ ê°™ì€ ì„¤ì •ì„ ë„ì…í–ˆë‹¤ë©´ ì•ŒëŒì„ ë³´ë‚´ê¸° ì „ ë°˜ë“œì‹œ í•´ë‹¹ ì‚¬ìš©ìê°€ ì•Œë¦¼ì„ ì¼œ ë‘ì—ˆëŠ”ì§€ í™•ì¸í•´ì•¼í•œë‹¤.\nì „ì†¡ë¥  ì œí•œ\ní•œ ì‚¬ìš©ìê°€ ë°›ì„ ìˆ˜ ìˆëŠ” ì•Œë¦¼ì˜ ë¹ˆë„ë¥¼ ì œí•œí•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë§ì€ ì•Œë¦¼ì„ ë³´ë‚´ì§€ ì•Šë„ë¡ í•  ìˆ˜ ìˆë‹¤.\nì•Œë¦¼ì„ ë„ˆë¬´ ë§ì´ ë³´ë‚´ê¸° ì‹œì‘í•˜ë©´ ì‚¬ìš©ìê°€ ì•Œë¦¼ ê¸°ëŠ¥ì„ êº¼ë²„ë¦´ ìˆ˜ ìˆë‹¤. ì¬ì‹œë„ ë°©ë²•\nì¨ë“œ íŒŒí‹° ì„œë¹„ìŠ¤ê°€ ì•Œë¦¼ ì „ì†¡ì— ì‹¤íŒ¨í•˜ë©´, í•´ë‹¹ ì•Œë¦¼ì„ ì¬ì‹œë„ ì „ìš© íì— ë„£ê³  ê°™ì€ ë¬¸ì œê°€ ê³„ì†í•´ì„œ ë°œìƒí•˜ë©´ ê°œë°œìì—ê²Œ í†µì§€í•œë‹¤.\ní‘¸ì‹œ ì•Œë¦¼ê³¼ ë³´ì•ˆ\nIOSì™€ ì•ˆë“œë¡œì´ë“œ ì•±ì˜ ê²½ìš°, ì•Œë¦¼ ì „ì†¡ APIëŠ” appKeyì™€ appSecretì„ ì‚¬ìš©í•˜ì—¬ ë³´ì•ˆì„ ìœ ì§€í•œë‹¤.\nì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì¸ì¦ëœ í˜¹ì€ ìŠ¹ì¸ëœ í´ë¼ì´ì–¸íŠ¸ë§Œ í•´ë‹¹ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\ní ëª¨ë‹ˆí„°ë§\níì— ìŒ“ì¸ ì•Œë¦¼ì˜ ê°œìˆ˜ë¥¼ ë³´ê³  ì‘ì—… ì„œë²„ë“¤ì˜ ì²˜ë¦¬ëŸ‰ì„ ì‰½ê²Œ ëª¨ë‹ˆí„°ë§ í•  ìˆ˜ ìˆë‹¤.\në„ˆë¬´ í¬ë©´ ì´ë²¤íŠ¸ë¥¼ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ê³ ìˆë‹¤ëŠ” ëœ» ì´ë²¤íŠ¸ ì¶”ì \nì•Œë¦¼ í™•ì¸ìœ¨, í´ë¦­ìœ¨, ì‹¤ì œ ì•± ì‚¬ìš©ìœ¼ë¡œ ì´ì–´ì§€ëŠ” ë¹„ìœ¨ ê°™ì€ ë©”íŠ¸ë¦­ì€ ì‚¬ìš©ìë¥¼ ì´í•´í•˜ëŠ”ë° ì¤‘ìš”í•˜ë‹¤.\në³´í†µ ì•Œë¦¼ ì‹œìŠ¤í…œì„ ë§Œë“¤ë©´ ë°ì´í„° ë¶„ì„ ì„œë¹„ìŠ¤ì™€ë„ í†µí•©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\nìˆ˜ì •ëœ ì„¤ê³„ì•ˆ\nì´ì „ ì„¤ê³„ì•ˆê³¼ì˜ ì°¨ì´ì ì€ ì•„ë˜ì™€ ê°™ë‹¤.\nì•Œë¦¼ ì„œë²„ì— ì¸ì¦ê³¼ ì „ì†¡ë¥  ì œí•œ ê¸°ëŠ¥ì´ ì¶”ê°€ ì „ì†¡ ì‹¤íŒ¨ì— ëŒ€ì‘í•˜ê¸° ìœ„í•œ ì¬ì‹œë„ ê¸°ëŠ¥ ì¶”ê°€ ë‹¤ì‹œ íì— ë„£ê³  ì§€ì •ëœ íšŸìˆ˜ë§Œí¼ ì¬ì‹œë„ ì „ì†¡ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ ì•Œë¦¼ ìƒì„± ê³¼ì •ì„ ë‹¨ìˆœí™”í•˜ê³  ì•Œë¦¼ ë‚´ìš©ì˜ ì¼ê´€ì„±ì„ ìœ ì§€ ëª¨ë‹ˆí„°ë§ê³¼ ì¶”ì  ì‹œìŠ¤í…œ ì¶”ê°€ 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ê·œëª¨ í™•ì¥ì´ ì‰¬ìš¸ ë¿ ì•„ë‹ˆë¼ í‘¸ì‹œ ì•Œë¦¼, SMS ë©”ì‹œì§€, ì´ë©”ì¼ ë“± ë‹¤ì–‘í•œ ì •ë³´ ì „ë‹¬ ë°©ì‹ì„ ì§€ì›í•˜ëŠ” ì•Œë¦¼ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆë‹¤.\nì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ê²°í•¨ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´ ë©”ì‹œì§€ íë¥¼ ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì˜€ë‹¤.\nì•ˆì •ì„± ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨ìœ¨ì„ ë‚®ì¶”ê¸° ìœ„í•´ ì•ˆì •ì ì¸ ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ì„ ë„ì… ë³´ì•ˆ ì¸ì§•ëœ í´ë¼ì´ì–¸íŠ¸ë§Œì´ ì•Œë¦¼ì„ ë³´ë‚¼ ìˆ˜ ìˆë„ë¡ ë³´ì•ˆ ë§¤ì»¤ë‹ˆì¦˜ ì¶”ê°€(appKey, appSecret) ì´ë²¤íŠ¸ ì¶”ì  ë° ëª¨ë‹ˆí„°ë§ ì‚¬ìš©ì ì„¤ì • ì‚¬ìš©ìê°€ ì•Œë¦¼ ìˆ˜ì‹  ì„¤ì •ì„ ì¡°ì •í•  ìˆ˜ ìˆë„ë¡ í•¨ ì•ŒëŒì„ ë³´ë‚´ê¸° ì „ í•´ë‹¹ ì„¤ì •ì„ í™•ì¸í•˜ë„ë¡ ìŠ¤ìŠ¤í…œ ì„¤ê³„ë¥¼ ë³€ê²½ ì „ì†¡ë¥  ì œí•œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ì„ ë³´ë‚´ëŠ” ë¹ˆë„ë¥¼ ì œí•œí•  ìˆ˜ ìˆë„ë¡ í•¨ ","date":"2024-06-27T21:43:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/10/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/10/","title":"10. ì•ŒëŒ ì‹œìŠ¤í…œ ì„¤ê³„"},{"content":"ì›¹ í¬ë¡¤ëŸ¬? ì›¹ í¬ë¡¤ëŸ¬ëŠ” ë¡œë´‡(Robot) ë˜ëŠ” ìŠ¤íŒŒì´ë”(Spider)ë¼ê³ ë„ ë¶€ë¥´ëŠ” ê²€ìƒ‰ ì—”ì§„ì—ì„œ ë„ë¦¬ ì“°ëŠ” ê¸°ìˆ ë¡œ, ì›¹ì— ìƒˆë¡œ ì˜¬ë¼ì˜¤ê±°ë‚˜ ê°±ì‹ ëœ ì½˜í…ì¸ ë¥¼ ì°¾ì•„ë‚´ëŠ” ê²ƒì´ ì£¼ëœ ëª©ì ì´ë‹¤.\nëª‡ ê°œ ì›¹ í˜ì´ì§€ì—ì„œ ì‹œì‘í•˜ì—¬ ê·¸ ë§í¬ë¥¼ ë”°ë¼ ë‚˜ê°€ë©´ì„œ ìƒˆë¡œìš´ ì½˜í…ì¸ ë¥¼ ìˆ˜ì§‘í•œë‹¤.\nê²€ìƒ‰ ì—”ì§„ ì¸ë±ì‹±(Search engine indexing) ê°€ì¥ ë³´í¸ì ì¸ ìš©ë¡€ë¡œ ì›¹ í˜ì´ì§€ë¥¼ ëª¨ì•„ ê²€ìƒ‰ ì—”ì§„ì„ ìœ„í•œ ë¡œì»¬ ì¸ë±ìŠ¤ë¥¼ ë§Œë“ ë‹¤. Googlebot ì›¹ ì•„ì¹´ì´ë¹™(Web Archiving) ì¥ê¸°ë³´ê´€ì„ ëª©ì ìœ¼ë¡œ ì›¹ì—ì„œ ì •ë³´ë¥¼ ëª¨ìœ¼ëŠ” ì ˆì°¨ë¥¼ ë§í•œë‹¤. êµ­ë¦½ ë„ì„œê´€ ë“± ì›¹ ë§ˆì´ë‹(Web mining) ì¸í„°ë„·ì—ì„œ ìœ ìš©í•œ ì§€ì‹ì„ ë„ì¶œí•´ ë‚¼ ìˆ˜ ìˆë‹¤. ê¸ˆìœµ ê¸°ì—…ë“¤ì˜ ê¸°ì—… ë¶„ì„ìš© ì›¹ ëª¨ë‹ˆí„°ë§(Web monitoring) ì¸í„°ë„·ì—ì„œ ì €ì‘ê¶Œì´ë‚˜ ìƒí‘œê¶Œì´ ì¹¨í•´ë˜ëŠ” ì‚¬ë¡€ë¥¼ ëª¨ë‹ˆí„°ë§ í•  ìˆ˜ ìˆë‹¤. ë””ì§€ë§ˆí¬(Digimarc)ì‚¬ëŠ” í¬ë¡¤ëŸ¬ë¥¼ í†µí•´ í•´ì íŒ ì €ì‘ë¬¼ì„ ì°¾ì•„ë‚´ ë³´ê³ í•œë‹¤. ì›¹ í¬ë¡¤ëŸ¬ì˜ ë³µì¡ë„ëŠ” ì›¹ í¬ë¡¤ëŸ¬ê°€ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ë°ì´í„°ì˜ ê·œëª¨ì— ë”°ë¼ ë‹¬ë¼ì§€ë¯€ë¡œ ì„¤ê³„í•  ì›¹ í¬ë¡¤ëŸ¬ê°€ ê°ë‹¹í•´ì•¼ í•˜ëŠ” ë°ì´í„°ì˜ ê·œëª¨ì™€ ê¸°ëŠ¥ë“¤ì„ ì•Œì•„ë‚´ì•¼í•œë‹¤.\n1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ì›¹ í¬ë¡¤ëŸ¬ì˜ ê¸°ë³¸ ì•Œê³ ë¦¬ì¦˜ì€ ê°„ë‹¨í•˜ë‹¤.\nURL ì§‘í•©ì´ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ë©´, í•´ë‹¹ URLë“¤ì´ ê°€ë¥´í‚¤ëŠ” ëª¨ë“  ì›¹ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•œë‹¤. ë‹¤ìš´ë°›ì€ ì›¹ í˜ì´ì§€ì—ì„œ URLë“¤ì„ ì¶”ì¶œí•œë‹¤. ì¶”ì¶œëœ URLë“¤ì„ ë‹¤ìš´ë¡œë“œí•  URL ëª©ë¡ì— ì¶”ê°€í•˜ê³  ìœ„ ê³¼ì •ì„ ì²˜ìŒë¶€í„° ë°˜ë³µí•œë‹¤. í•˜ì§€ë§Œ ì—„ì²­ë‚œ ê·œëª¨ í™•ì¥ì„±ì„ ê°–ëŠ” ì›¹ í¬ë¡¤ëŸ¬ë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì–´ë ¤ìš´ ì‘ì—…ì´ë‹¤.\nì§ˆë¬¸ì„ ë˜ì ¸ ìš”êµ¬ì‚¬í•­ì„ ì•Œì•„ë‚´ê³  ì„¤ê³„ ë²”ìœ„ë¥¼ ì¢íŒë‹¤.\nQ. ì£¼ëœ ìš©ë„ëŠ”? A. ê²€ìƒ‰ ì—”ì§„ ì¸ë±ì‹± Q. ë§¤ë‹¬ ìˆ˜ì§‘í•´ì•¼í•˜ëŠ” ì›¹ í˜ì´ì§€ ìˆ˜ A. ì•½ 10ì–µê°œ Q. ìƒˆë¡œ ë§Œë“¤ì–´ì§„ ì›¹ í˜ì´ì§€ë‚˜ ìˆ˜ì •ëœ ì›¹ í˜ì´ì§€ë„ ê³ ë ¤í•´ì•¼í•˜ëŠ”ê°€? A. ì˜ˆ Q. ìˆ˜ì§‘í•œ ì›¹ í˜ì´ì§€ëŠ” ì €ì¥í•´ì•¼í•˜ëŠ”ê°€? A. 5ë…„ê°„ ì €ì¥ Q. ì¤‘ë³µëœ ì½˜í…ì¸ ëŠ”? A. ë¬´ì‹œí•´ë„ ê´œì°®ìŒ ì§ˆë¬¸ì„ í†µí•´ ì•Œì•„ë‚¸ ìš”êµ¬ì‚¬í•­ì„ ëª…í™•íˆ í•˜ë©´ì„œë„ ì¢‹ì€ ì›¹ í¬ë¡¤ëŸ¬ê°€ ë§Œì¡±ì‹œì¼œì•¼ í•  ë‹¤ìŒê³¼ ê°™ì€ ì†ì„±ì— ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼í•œë‹¤.\nê·œëª¨ í™•ì¥ì„± ì›¹ì€ ìˆ˜ì‹­ì–µ ê°œì˜ í˜ì´ì§€ê°€ ì¡´ì¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì§„ ë§Œí¼ ë§¤ìš° ê±°ëŒ€í•˜ë¯€ë¡œ, ë³‘í–‰ì„±(Parallelism)ì„ í™œìš©í•˜ë©´ ë³´ë‹¤ íš¨ê³¼ì ìœ¼ë¡œ ì›¹ í¬ë¡¤ë§ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ì•ˆì •ì„±(Robustness) ë¹„ì •ìƒì ì¸ ì…ë ¥ì´ë‚˜ í™©ê²½ì— ì˜ ëŒ€ì‘í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì˜ëª» ì‘ì„±ëœ HTML, ë°˜ì‘ ì—†ëŠ” ì„œë²„, ì¥ì• , ì•…ì„± ì½”ë“œê°€ ë¶™ì–´ìˆëŠ” ë§í¬ ë“± ì˜ˆì ˆ(Politeness) ì§§ì€ ì‹œê°„ ë™ì•ˆ ë„ˆë¬´ ë§ì€ ìš”ì²­ì„ ë³´ë‚´ì–´ ì„œë²„ì— ë¬´ë¦¬ë¥¼ ì£¼ë©´ ì•ˆëœë‹¤. í™•ì¥ì„±(Extensibility) ìƒˆë¡œìš´ í˜•íƒœì˜ ì½˜í…ì¸ ë¥¼ ì§€ì›í•˜ê¸° ì‰¬ì›Œì•¼í•œë‹¤. ê°œëµì  ê·œëª¨ ì¶”ì • ë§¤ë‹¬ 10ì–µ ê°œì˜ ì›¹ í˜ì´ì§€ ë‹¤ìš´ë¡œë“œ QPS = 10ì–µ / 30ì¼ / 24ì‹œê°„ / 3600ì´ˆ = ì•½ 400í˜ì´ì§€/s ìµœëŒ€(peak) QPS = 2 x QPS = 800 ì›¹ í˜ì´ì§€ì˜ í‰ê·  í¬ê¸°ëŠ” 500kë¡œ ê°€ì • 10ì–µ í˜ì´ì§€ * 500k = 500TB/ì›” 1ê°œì›”ì¹˜ = 500TB * 12ê°œì›” * 5ë…„ = 30PB ê°œëµì ì¸ ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ì‹œì‘ URL ì§‘í•©\nì‹œì‘ URL ì§‘í•©ì€ ì›¹ í¬ë¡¤ëŸ¬ê°€ í¬ë¡¤ë§ì„ ì‹œì‘í•˜ëŠ” ì¶œë°œì ì´ë‹¤.\nì „ì²´ ì›¹ì„ í¬ë¡¤ë§í•´ì•¼ í•˜ëŠ” ê²½ìš° ì‹œì‘ URLì„ ê³ ë¥¼ ë•Œ ê°€ëŠ¥í•œ í•œ ë§ì€ ë§í¬ë¥¼ íƒìƒ‰í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” URLì„ ê³ ë¥´ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì „ì²´ URL ê³µê°„ì„ ì‘ì€ ë¶€ë¶„ì§‘í•©ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ì „ëµì„ ì‚¬ìš© ì§€ì—­ì ì¸ íŠ¹ìƒ‰, ì¦‰ ì§€ì—­ë³„ë¡œ ì¸ê¸° ìˆëŠ” ì›¹ ì‚¬ì´íŠ¸ê°€ ë‹¤ë¥´ë‹¤ëŠ” ì ì— ì°©ì•ˆ ì£¼ì œë³„ë¡œ ë‹¤ë¥¸ ì‹œì‘ URLì„ ì‚¬ìš© ì‡¼í•‘, ìŠ¤í¬ì¸ , ê±´ê°• ë“±ì˜ ì£¼ì œë³„ë¡œ ì„¸ë¶„í™”í•˜ê³  ê·¸ ê°ê°ì— ë‹¤ë¥¸ ì‹œì‘ URL ì‚¬ìš© ì‹œì‘ URLë¡œ ë¬´ì—‡ì„ ì“¸ ê²ƒì´ëƒëŠ” ì§ˆë¬¸ì— ì •ë‹´ì€ ì—†ìœ¼ë¯€ë¡œ ì˜ë„ê°€ ë¬´ì—‡ì¸ì§€ë§Œ ì •í™•íˆ ì „ë‹¬í•´ë„ ì¶©ë¶„í•˜ë‹¤.\në¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œ\nëŒ€ë¶€ë¶„ì˜ í˜„ëŒ€ì  ì›¹ í¬ë¡¤ëŸ¬ëŠ” í¬ë¡¤ë§ ìƒíƒœë¥¼ ë‹¤ìš´ë¡œë“œí•  URL, ë‹¤ìš´ë¡œë“œëœ URL ë‘ ê°€ì§€ë¡œ ë‚˜ëˆ  ê´€ë¦¬í•œë‹¤.\në‹¤ìš´ë¡œë“œí•  URLì„ ì €ì¥ ê´€ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œ(URL Frontier)ë¼ê³  ë¶€ë¥¸ë‹¤.\nHTML ë‹¤ìš´ë¡œë”\nHTML ë‹¤ìš´ë¡œë”ëŠ” ì¸í„°ë„·ì—ì„œ ì›¹ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\në‹¤ìš´ë¡œë“œí•  í˜ì´ì§€ì˜ URLì€ ë¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œê°€ ì œê³µí•œë‹¤.\në„ë©”ì¸ ì´ë¦„ ë³€í™˜ê¸°\nì›¹ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë°›ìœ¼ë ¤ë©´ URLì„ IPë¡œ ë³€í™˜í•˜ëŠ” ì ˆì°¨ê°€ í•„ìš”í•˜ë¯€ë¡œ, HTML ë‹¤ìš´ë¡œë”ëŠ” ë„ë©”ì¸ ì´ë¦„ ë³€í™˜ê¸°ë¥¼ ì´ìš©í•˜ì—¬ URLì— ëŒ€ì‘ë˜ëŠ” IP ì£¼ì†Œë¥¼ ì•Œì•„ë‚¸ë‹¤.\nì½˜í…ì¸  íŒŒì„œ\nì›¹ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ë©´ íŒŒì‹±ê³¼ ê²€ì¦ì ˆì°¨ë¥¼ ê±°ì³ì•¼í•œë‹¤.\ní¬ë¡¤ë§ ì„œë²„ ì•ˆì— ì½˜í…ì¸  íŒŒì„œë¥¼ êµ¬í˜„í•˜ë©´ í¬ë¡¤ë§ ê³¼ì •ì´ ëŠë ¤ì§€ê²Œ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë…ë¦½ëœ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì¤‘ë³µ ì½˜í…ì¸ ì¸ê°€?\nì—°êµ¬ ê²°ê³¼ì— ë”°ë¥´ë©´, 29% ê°€ëŸ‰ì˜ ì›¹ í˜ì´ì§€ ì½˜í…ì¸ ëŠ” ì¤‘ë³µì´ë‹¤.\në”°ë¼ì„œ ê°™ì€ ì½˜í…ì¸ ë¥¼ ì—¬ëŸ¬ ë²ˆ ì €ì¥í•˜ê²Œ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¤‘ë³µì„ í•´ê²°í•˜ê¸° ìœ„í•œ ìë£Œ êµ¬ì¡°ë¥¼ ë„ì…í•˜ì—¬ ë°ì´í„° ì¤‘ë³µì„ ì¤„ì´ê³  ë°ì´í„° ì²˜ë¦¬ì— ì†Œìš”ë˜ëŠ” ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\në‘ HTML ë¬¸ì„œë¥¼ ë¹„êµí•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ ë¬¸ì„œë¥¼ ë¬¸ìì—´ë¡œ ë³´ê³  ë¹„êµí•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆì§€ë§Œ, ë¬¸ì„œì˜ ìˆ˜ê°€ ë§¤ìš° ë§ì€ ê²½ìš° ëŠë¦¬ê³  ë¹„íš¨ìœ¨ì ì´ë¯€ë¡œ, ëŒ€ë¶€ë¶„ ì›¹ í˜ì´ì§€ì˜ í•´ì‹œ ê°’ì„ ë¹„êµí•˜ì—¬ ì²˜ë¦¬í•œë‹¤.\nì½˜í…ì¸  ì €ì¥ì†Œ\nHTML ë¬¸ì„œë¥¼ ë³´ê´€í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.\nì €ì¥ì†Œë¥¼ êµ¬í˜„í•˜ëŠ” ë° ì“°ì¼ êµ¬ìˆ ì„ ê³ ë¥¼ ë•ŒëŠ” ì €ì¥í•  ë°ì´í„°ì˜ ìœ í˜•, í¬ê¸°, ì €ì¥ì†Œ ì ‘ê·¼ ë¹ˆë„, ë°ì´í„°ì˜ ìœ íš¨ ê¸°ê°„ ë“±ì„ ì¢…í•©ì ìœ¼ë¡œ ê³ ë ¤í•œë‹¤.\në³¸ ì„¤ê³„ì•ˆì€ ë””ìŠ¤í¬ì™€ ë©”ëª¨ë¦¬ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ëŠ” ì €ì¥ì†Œë¥¼ ì„ íƒí•  ê²ƒì´ë‹¤.\në°ì´í„° ì–‘ì´ ë„ˆë¬´ ë§ìœ¼ë¯€ë¡œ ëŒ€ë¶€ë¶„ì˜ ì½˜í…ì¸ ëŠ” ë””ìŠ¤í¬ì— ì €ì¥í•œë‹¤. ì¸ê¸° ìˆëŠ” ì½˜í…ì¸ ëŠ” ë©”ëª¨ë¦¬ì— ë‘ì–´ ì ‘ê·¼ ì§€ì—°ì‹œê°„ì„ ì¤„ì¸ë‹¤. URL ì¶”ì¶œê¸°\nHTML í˜ì´ì§€ë¥¼ íŒŒì‹±í•˜ì—¬ ë§í¬ë“¤ì„ ê³¨ë¼ë‚´ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\nìƒëŒ€ ê²½ë¡œë¥¼ ëª¨ë‘ ì ˆëŒ€ ê²½ë¡œë¡œ ë³€í™˜í•œë‹¤. URL í•„í„°\níŠ¹ì • URLì„ í¬ë¡¤ë§ ëŒ€ìƒì—ì„œ ë°°ì œí•œë‹¤.\níŠ¹ì •í•œ ì½˜í…ì¸  íƒ€ì…ì´ë‚˜ íŒŒì¼ í™•ì¥ìë¥¼ ê°–ëŠ” URL ì ‘ì† ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” URL ì ‘ê·¼ ì œì™¸ ëª©ë¡(deny list)ì— í¬í•¨ëœ URL ë“± ì´ë¯¸ ë°©ë¬¸í•œ URL?\nì´ë¯¸ ë°©ë¬¸í•œ URLì´ë‚˜ ë¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œì— ë³´ê´€ëœ URLì„ ì¶”ì í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ìë£Œ êµ¬ì¡°ë¥¼ í™œìš©í•˜ì—¬ êµ¬í˜„í•œë‹¤.\nURL ë°©ë¬¸ ì—¬ë¶€ë¥¼ ì¶”ì í•˜ì—¬ ê°™ì€ URLì„ ì—¬ëŸ¬ë²ˆ ì²˜ë¦¬í•˜ëŠ” ì¼ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤. ì„œë²„ ë¶€í•˜ë¥¼ ì¤„ì´ê³  ë¬´í•œ ë£¨í”„ì— ë¹ ì§€ëŠ” ì¼ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤. í•´ì‹œ í…Œì´ë¸”ì´ë‚˜ ë¸”ë£¸ í•„í„°ê°€ ë„ë¦¬ ì“°ì¸ë‹¤.\nURL ì €ì¥ì†Œ\nì´ë¯¸ ë°©ë¬¸í•œ URLì„ ë³´ê´€í•˜ëŠ” ì €ì¥ì†Œë‹¤.\nì›¹ í¬ë¡¤ëŸ¬ ì‘ì—… íë¦„ ì‹œì‘ URLë“¤ì„ ë¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œì— ì €ì¥ HTML ë‹¤ìš´ë¡œë”ëŠ” ë¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œì—ì„œ URL ëª©ë¡ì„ ê°€ì ¸ì˜´ HTML ë‹¤ìš´ë¡œë”ëŠ” ë„ë©”ì¸ ì´ë¦„ ë³€í™˜ê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ URLì˜ IP ì£¼ì†Œë¥¼ ì•Œì•„ë‚´ê³ , ì›¹ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ì½˜í…ì¸  íŒŒì„œëŠ” ë‹¤ìš´ëœ HTML í˜ì´ì§€ë¥¼ íŒŒì‹±í•˜ì—¬ ì˜¬ë°”ë¥¸ í˜•ì‹ì„ ê°–ì¶˜ í˜ì´ì§€ì¸ì§€ ê²€ì¦ ì½˜í…ì¸  íŒŒì‹±ê³¼ ê²€ì¦ì´ ëë‚˜ë©´ ì¤‘ë³µ ì½˜í…ì¸ ì¸ì§€ í™•ì¸ ì ˆì°¨ ì‹œì‘ í•´ë‹¹ í˜ì´ì§€ê°€ ì´ë¯¸ ì €ì¥ì†Œì— ìˆëŠ”ì§€ í™•ì¸ ì´ë¯¸ ì €ì¥ì†Œì— ìˆëŠ” ê²½ìš° ì²˜ë¦¬í•˜ì§€ ì•Šê³  ë²„ë¦°ë‹¤. ì €ì¥ì†Œì— ì—†ëŠ” ì½˜í…ì¸ ì¸ ê²½ìš° ì €ì¥ì†Œì— ì €ì¥í•œ ë’¤ URL ì¶”ì¶œê¸°ë¡œ ì „ë‹¬ URL ì¶”ì¶œê¸°ëŠ” í•´ë‹¹ HTML í˜ì´ì§€ì—ì„œ ë§í¬ë¥¼ ì¶”ì¶œí•¨ ì¶”ì¶œí•œ ë§í¬ë¥¼ URL í•„í„°ë¡œ ì „ë‹¬ í•„í„°ë§ì´ ëë‚˜ê³  ë‚¨ì€ URLë§Œ ì¤‘ë³µ URL íŒë³„ ë‹¨ê³„ë¡œ ì „ë‹¬ URL ì €ì¥ì†Œì— ë³´ê´€ëœ URLì¸ì§€ ì‚´í”¼ê³  ì´ë¯¸ ìˆëŠ” URLì€ ë²„ë¦°ë‹¤. ì €ì¥ì†Œì— ì—†ëŠ” URLì€ URL ì €ì¥ì†Œì— ì €ì¥í•˜ê³ , ë¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œì— ì „ë‹¬ 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ê°€ì¥ ì¤‘ìš”í•œ ì»´í¬ë„ŒíŠ¸ì™€ ê·¸ êµ¬í˜„ ê¸°ìˆ ì„ ì‹¬ë„ìˆê²Œ ì‚´í´ë³¸ë‹¤.\nDFS vs BFS ì›¹ì€ ìœ í–¥ ê·¸ë˜í”„(directed graph)ì™€ ê°™ìœ¼ë©°, í¬ë¡¤ë§ í”„ë¡œì„¸ìŠ¤ëŠ” ì´ ìœ í–¥ ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•˜ëŠ” ê³¼ì •ì´ë‹¤.\nê·¸ë˜í”„ íƒìƒ‰ì— ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì€ DFS, BFS ë‘ ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ì¸ë° ê·¸ë˜í”„ì˜ í¬ê¸°ê°€ ì–¼ë§ˆë‚˜ í´ì§€ ê°€ëŠ í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ BFSë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.\nBFSì˜ ë¬¸ì œì \nBFSëŠ” FIFO íì— íƒìƒ‰í•  URLë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹ì¸ë°, ì´ëŸ¬í•œ êµ¬í˜„ë²•ì—ëŠ” ë‘ ê°€ì§€ ë¬¸ì œì ì´ ìˆë‹¤.\ní•œ í˜ì´ì§€ì—ì„œ ë‚˜ì˜¤ëŠ” ë§í¬ì˜ ìƒë‹¹ìˆ˜ëŠ” ê°™ì€ ì„œë²„ë¡œ ë˜ëŒì•„ê°„ë‹¤. ê°™ì€ í˜¸ìŠ¤íŠ¸ì— ì†í•œ ë§ì€ ë§í¬ë¥¼ ë‹¤ìš´ë°›ê²Œ ë˜ëŠ”ë°, ë³‘ë ¬ë¡œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤ë©´ ìˆ˜ì§‘ ëŒ€ìƒ ì„œë²„ëŠ” ìˆ˜ë§ì€ ìš”ì²­ìœ¼ë¡œ ê³¼ë¶€í•˜ì— ê±¸ë¦°ë‹¤. ì˜ˆì˜ ì—†ëŠ” í¬ë¡¤ëŸ¬ë¡œ ê°„ì£¼ URLì— ìš°ì„ ìˆœìœ„ë¥¼ ë‘ì§€ ì•ŠëŠ”ë‹¤. ëª¨ë“  ì›¹ í˜ì´ì§€ê°€ ê°™ì€ ìˆ˜ì¤€ì˜ í’ˆì§ˆ, ì¤‘ìš”ì„±ì„ ê°–ì§€ëŠ” ì•ŠëŠ”ë‹¤. í˜ì´ì§€ ìˆœìœ„, íŠ¸ë˜í”½ì˜ ì–‘, ì—…ë°ì´íŠ¸ ë¹ˆë„ ë“± ì—¬ëŸ¬ê°€ì§€ ì²™ë„ì— ë”°ë¼ ìš°ì„ ìˆœìœ„ë¥¼ êµ¬ë³„í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆë‹¤. ë¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œ ë¯¸ìˆ˜ì§‘ ì €ì¥ì†Œë¥¼ ì˜ êµ¬í˜„í•˜ë©´ ì˜ˆì˜ë¥¼ ê°–ì¶˜ í¬ë¡¤ëŸ¬, URL ì‚¬ì´ì˜ ìš°ì„ ìˆœìœ„ì™€ ì‹ ì„ ë„ë¥¼ êµ¬ë³„í•˜ëŠ” í¬ë¡¤ëŸ¬ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\nì˜ˆì˜\nì›¹ í¬ë¡¤ëŸ¬ëŠ” ìˆ˜ì§‘ ëŒ€ìƒ ì„œë²„ë¡œ ì§§ì€ ì‹œê°„ ì•ˆì— ë„ˆë¬´ ë§ì€ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì„ ì‚¼ê°€ì•¼ í•œë‹¤.\në™ì¼ ì›¹ ì‚¬ì´íŠ¸ì— ëŒ€í•´ì„œëŠ” í•œ ë²ˆì— í•œ í˜ì´ì§€ë§Œ ìš”ì²­í•œë‹¤. ê°™ì€ ì›¹ ì‚¬ì´íŠ¸ì˜ í˜ì´ì§€ë¥¼ ë‹¤ìš´ë°›ëŠ” íƒœìŠ¤í¬ëŠ” ì‹œê°„ì°¨ë¥¼ ë‘ê³  ì‹¤í–‰í•œë‹¤. í˜¸ìŠ¤íŠ¸ëª…ê³¼ ë‹¤ìš´ë¡œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‘ì—… ìŠ¤ë ˆë“œ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ìœ ì§€í•œë‹¤. ê° ë‹¤ìš´ë¡œë“œ ìŠ¤ë ˆë“œëŠ” ë³„ë„ì˜ íë¥¼ í†µí•´ í•´ë‹¹ íì—ì„œ êº¼ë‚¸ URLë§Œ ë‹¤ìš´ë¡œë“œí•œë‹¤. í ë¼ìš°í„° ê°™ì€ í˜¸ìŠ¤íŠ¸ì— ì†í•œ URLì€ ì–¸ì œë‚˜ ê°™ì€ íë¡œ ê°€ë„ë¡ ë³´ì¥í•œë‹¤. ë§¤í•‘ í…Œì´ë¸” í˜¸ìŠ¤íŠ¸ ì´ë¦„ê³¼ í ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ë³´ê´€í•œë‹¤. í˜¸ìŠ¤íŠ¸ í wikipedia.com b1 apple.com b2 \u0026hellip; \u0026hellip; nike.com bn FIFO í ê°™ì€ í˜¸ìŠ¤íŠ¸ì— ì†í•œ URLì€ ì–¸ì œë‚˜ ê°™ì€ íì— ë³´ê´€ í ì„ íƒê¸° íë“¤ì„ ìˆœíšŒí•˜ë©´ì„œ íì—ì„œ URLì„ êº¼ë‚´ì–´ í•´ë‹¹ íì—ì„œ ë‚˜ì˜¨ URLì„ ë‹¤ìš´ë¡œë“œí•˜ë„ë¡ ì§€ì •ëœ ì‘ì—… ìŠ¤ë ˆë“œì— ì „ë‹¬í•œë‹¤. ì‘ì—… ìŠ¤ë ˆë“œ ì „ë‹¬ëœ URLì„ ë‹¤ìš´ë¡œë“œí•œë‹¤. ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©°, ì‘ì—… ì‚¬ì´ì— ì¼ì •í•œ ì§€ì—°ì‹œê°„ì„ ë‘˜ ìˆ˜ ìˆë‹¤. ìš°ì„ ìˆœìœ„\nìœ ìš©ì„±ì— ë”°ë¼ URLì˜ ìš°ì„ ìˆœìœ„ë¥¼ ë‚˜ëˆŒ ë•ŒëŠ” í˜ì´ì§€ë­í¬(PageRank), íŠ¸ë˜í”½ ì–‘, ê°±ì‹  ë¹ˆë„(Update Frequency) ë“± ë‹¤ì–‘í•œ ì²™ë„ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nìˆœìœ„ê²°ì •ì¥ì¹˜ URLì„ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ ìš°ì„ ìˆœìœ„ë¥¼ ê³„ì‚°í•œë‹¤. í ìš°ì„ ìˆœìœ„ë³„ë¡œ íê°€ í•˜ë‚˜ì”© í• ë‹¹ëœë‹¤. ìš°ì„ ìˆœìœ„ê°€ ë†’ìœ¼ë©´ ì„ íƒë  í™•ë¥ ë„ ì˜¬ë¼ê°„ë‹¤. í ì„ íƒê¸° ì„ì˜ íì—ì„œ ì²˜ë¦¬í•  URLì„ êº¼ë‚¸ë‹¤. ìˆœìœ„ê°€ ë†’ì€ íì—ì„œ ë” ìì£¼ êº¼ë‚¸ë‹¤. ì „ì²´ ì„¤ê³„\nì „ë©´ í(front queue) ìš°ì„ ìˆœìœ„ ê²°ê³¼ ê³¼ì •ì„ ì²˜ë¦¬í•œë‹¤. í›„ë©´ í(back queue) í¬ë¡¤ëŸ¬ê°€ ì˜ˆì˜ ë°”ë¥´ê²Œ ë™ì‘í•˜ë„ë¡ ë³´ì¦í•œë‹¤. ì‹ ì„ ë„\nì›¹ í˜ì´ì§€ëŠ” ìˆ˜ì‹œë¡œ ì¶”ê°€ë˜ê³ , ì‚­ì œë˜ê³ , ë³€ê²½ë˜ë¯€ë¡œ ë°ì´í„°ì˜ ì‹ ì„ í•¨ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì´ë¯¸ ë‹¤ìš´ë¡œë“œí•œ í˜ì´ì§€ë¼ê³  í•´ë„ ì£¼ê¸°ì ìœ¼ë¡œ ì¬ìˆ˜ì§‘í•  í•„ìš”ê°€ ìˆë‹¤.\nëª¨ë“  URLì„ ì¬ìˆ˜ì§‘í•˜ëŠ” ê²ƒì€ ë§ì€ ì‹œê°„ê³¼ ìì›ì´ í•„ìš”í•œ ì‘ì—…ì´ë¯€ë¡œ, ì´ ì‘ì—…ì„ ìµœì í™”í•˜ê¸° ìœ„í•œ ì „ëµìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆë‹¤.\nì›¹ í˜ì´ì§€ì˜ ë³€ê²½ ì´ë ¥ í™œìš© ìš°ì„ ìˆœìœ„ë¥¼ í™œìš©í•˜ì—¬, ì¤‘ìš”í•œ í˜ì´ì§€ëŠ” ì¢€ ë” ìì£¼ ì¬ìˆ˜ì§‘ ë¯¸ìˆ˜ì§‘ URL ì €ì¥ì†Œë¥¼ ìœ„í•œ ì§€ì†ì„± ì €ì¥ì¥ì¹˜\nê²€ìƒ‰ì—”ì§„ì„ ìœ„í•œ í¬ë¡¤ëŸ¬ëŠ” ì²˜ë¦¬í•´ì•¼í•˜ëŠ” URLì´ ìˆ˜ì–µ ê°œì— ë‹¬í•œë‹¤.\në”°ë¼ì„œ ëª¨ë‘ ë©”ëª¨ë¦¬ì— ë³´ê´€í•˜ëŠ” ê²ƒì€ ì•ˆì •ì„±ì´ë‚˜ ê·œëª¨ í™•ì¥ì„± ì¸¡ë©´ì—ì„œ ë°”ëŒì§í•˜ì§€ ì•Šê³ , ì „ë¶€ ë””ìŠ¤í¬ì— ì €ì¥í•˜ëŠ” ê²ƒë„ ì„±ëŠ¥ ë³‘ëª©ìœ¼ë¡œ ì¸í•´ ì ì ˆì¹˜ ì•Šë‹¤.\në”°ë¼ì„œ ì ˆì¶©ì•ˆì„ íƒí•˜ì—¬, ëŒ€ë¶€ë¶„ì˜ URLì€ ë””ìŠ¤í¬ì— ë‘ê³  IO ë¹„ìš©ì„ ì¤„ì´ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ ë²„í¼ì— íë¥¼ ë‘ëŠ” ê²ƒì„ ê³ ë ¤í•œë‹¤.\në²„í¼ì— ìˆëŠ” ë°ì´í„°ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ë””ìŠ¤í¬ì— ê¸°ë¡ëœë‹¤.\nHTML ë‹¤ìš´ë¡œë” HTML ë‹¤ìš´ë¡œë”ëŠ” HTTP í”„ë¡œí† ì½œì„ í†µí•´ ì›¹ í˜ì´ì§€ë¥¼ ë‚´ë ¤ë°›ëŠ”ë‹¤.\nRobots.txt\në¡œë´‡ ì œì™¸ í”„ë¡œí† ì½œì´ë¼ê³ ë„ ë¶€ë¥´ëŠ” Robots.txtëŠ” ì›¹ì‚¬ì´íŠ¸ê°€ í¬ë¡¤ëŸ¬ì™€ ì†Œí†µí•˜ëŠ” í‘œì¤€ì  ë°©ë²•ì´ë‹¤.\nRobots.txt íŒŒì¼ì—ëŠ” í¬ë¡¤ëŸ¬ê°€ ìˆ˜ì§‘í•´ë˜ ë˜ëŠ” í˜ì´ì§€ ëª©ë¡ì´ ë“¤ì–´ìˆë‹¤.\në”°ë¼ì„œ ì›¹ ì‚¬ì´íŠ¸ë¥¼ í¬ë¡¤ë§ í•˜ê¸° ì „ í•´ë‹¹ íŒŒì¼ì— ë‚˜ì—´ëœ ê·œì¹™ì„ ë¨¼ì € í™•ì¸í•´ì•¼ í•œë‹¤.\nRobots.txt íŒŒì¼ì„ ê±°í‘¸ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê²ƒì„ í”¼í•˜ê¸° ìœ„í•´, ì´ íŒŒì¼ì€ ì£¼ê¸°ì ìœ¼ë¡œ ë‹¤ìš´ë°›ì•„ ìºì‹œì— ë³´ê´€í•œë‹¤.\nì„±ëŠ¥ ìµœì í™”\në¶„ì‚° í¬ë¡¤ë§\nì„±ëŠ¥ì„ ë†’ì´ê¸° ìœ„í•´ í¬ë¡¤ë§ ì‘ì—…ì„ ì—¬ëŸ¬ ì„œë²„ì— ë¶„ì‚°í•˜ëŠ” ë°©ë²•ì´ë‹¤. ê° ì„œë²„ëŠ” ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ ëŒë ¤ ë‹¤ìš´ë¡œë“œ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤. ë„ë©”ì¸ ì´ë¦„ ë³€í˜¸ë‚˜ ê²°ê³¼ ìºì‹œ\në„ë©”ì¸ ì´ë¦„ ë³€í™˜ê¸°ëŠ” DNS ìš”ì²­ì„ ë³´ë‚´ê³  ê²°ê³¼ë¥¼ ë°›ëŠ” ì‘ì—…ì˜ ë™ê¸°ì  í‹ì„±ìœ¼ë¡œ ì¸í•´ í¬ë¡¤ëŸ¬ ì„±ëŠ¥ì˜ ë³€ëª© ì¤‘ í•˜ë‚˜ì´ë‹¤. DNS ì¡°íšŒ ê²°ê³¼ë¡œ ì–»ì–´ì§„ ë„ë©”ì¸ ì´ë¦„ê³¼ IP ì£¼ì†Œ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ìºì‹œì— ë³´ê´€í•´ ë†“ê³  í¬ë¡  ì¡ ë“±ì„ ëŒë ¤ ì£¼ê¸°ì ìœ¼ë¡œ ê°±ì‹ í•˜ë„ë¡ í•´ë†“ìœ¼ë©´ ì„±ëŠ¥ì„ íš¨ê³¼ì ìœ¼ë¡œ ë†’í ìˆ˜ ìˆë‹¤. ì§€ì—­ì„±\ní¬ë¡¤ë§ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì„œë²„ë¥¼ ì§€ì—­ë³„ë¡œ ë¶„ì‚°í•˜ëŠ” ë°©ë²•ì´ë‹¤. í¬ë¡¤ë§ ì„œë²„ê°€ ëŒ€ìƒ ì„œë²„ì™€ ì§€ì—­ì ìœ¼ë¡œ ê°€ê¹Œìš°ë©´ í˜ì´ì§€ ë‹¤ìš´ë¡œë“œ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì „ëµì€ í¬ë¡¤ ì„œë²„, ìºì‹œ, í, ì €ì¥ì†Œ ë“± ëŒ€ë¶€ë¶„ì˜ ì»´í¬ë„ŒíŠ¸ì— ì ìš© ê°€ëŠ¥í•˜ë‹¤. ì§§ì€ íƒ€ì„ì•„ì›ƒ\nì‘ë‹µì´ ëŠë¦¬ê±°ë‚˜ í•˜ì§€ ì•ŠëŠ” ì„œë²„ì— ëŒ€í•œ ìš”ì²­ì€ ëŒ€ê¸°ì‹œê°„ì´ ê¸¸ì–´ì§€ë¯€ë¡œ, ìµœëŒ€ ì–¼ë§ˆë‚˜ ê¸°ë‹¤ë¦´ì§€ë¥¼ ë¯¸ë¦¬ ì •í•´ ë‹¤ìš´ë¡œë“œë¥¼ ë¹¨ë¦¬ ì¤‘ë‹¨í•˜ì—¬ ë‹¤ìŒ ì°¨ë¡€ë¡œ ë„˜ì–´ê°„ë‹¤. ì•ˆì •ì„±\nì‹œìŠ¤í…œ ì•ˆì •ì„±ì„ í–¥ìƒí•˜ê¸° ìœ„í•œ ì ‘ê·¼ë²• ê°€ìš´ë° ì¤‘ìš”í•œ ëª‡ê°€ì§€ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\nì•ˆì • í•´ì‹œ ë‹¤ìš´ë¡œë” ì„œë²„ë“¤ì— ë¶€í•˜ë¥¼ ë¶„ì‚°í•  ë•Œ ì ìš© ê°€ëŠ¥ ë‹¤ìš´ë¡œë” ì„œë²„ë¥¼ ì‰½ê²Œ ì¶”ê°€í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆë‹¤. í¬ë¡¤ë§ ìƒíƒœ ë° ìˆ˜ì§‘ ë°ì´í„° ì €ì¥ ì¥ì• ê°€ ë°œìƒí•œ ê²½ìš°ì—ë„ ì‰½ê²Œ ë³µêµ¬í•  ìˆ˜ ìˆë„ë¡ í¬ë¡¤ë§ ìƒíƒœì™€ ìˆ˜ì§‘ëœ ë°ì´í„°ë¥¼ ì§€ì†ì  ì €ì¥ì¥ì¹˜ì— ê¸°ë¡í•´ ë‘ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤. í¬ë¡¤ë§ì„ ì‰½ê²Œ ì¬ì‹œì‘í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì˜ˆì™¸ ì²˜ë¦¬ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì—ì„œ ì—ëŸ¬ëŠ” ë¶ˆê°€í”¼í•  ë¿ ì•„ë‹ˆë¼ í”í•˜ê²Œ ë²Œì–´ì§„ë‹¤. ì „ì²´ ì‹œìŠ¤í…œì´ ì¤‘ë‹¨ë˜ëŠ” ì¼ ì—†ì´ ê·¸ ì‘ì—…ì„ ìš°ì•„í•˜ê²Œ ì´ì–´ë‚˜ê°ˆ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ë°ì´í„° ê²€ì¦ ì‹œìŠ¤í…œ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•œ ì¢…ìš” ìˆ˜ê°„ ê°€ìš´ë° í•˜ë‚˜ì´ë‹¤. í™•ì •ì„±\nìƒˆë¡œìš´ í˜•íƒœì˜ ì½˜í…ì¸ ë¥¼ ì‰½ê²Œ ì§€ì›í•  ìˆ˜ ìˆë„ë¡ ì‹ ê²½ ì¨ì•¼ í•œë‹¤.\nìƒˆë¡œìš´ ëª¨ë“ˆì„ ë¼ì›Œ ë„£ìŒìœ¼ë¡œì¨ ìƒˆë¡œìš´ í˜•íƒœì˜ ì½˜í…ì¸ ë¥¼ ì§€ì›í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤.\nPNG ë‹¤ìš´ë¡œë” PNG íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ ëª¨ë“ˆ ì›¹ ëª¨ë‹ˆí„° ì›¹ì„ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ì €ì‘ê¶Œì´ë‚˜ ìƒí‘œê¶Œì´ ì¹¨í•´ë˜ëŠ” ì¼ì„ ë§‰ëŠ” ëª¨ë“ˆ ë¬¸ì œ ìˆëŠ” ì½˜í…ì¸  ê°ì§€ ë° íšŒí”¼\nì¤‘ë³µì´ê±°ë‚˜ ì˜ë¯¸ ì—†ëŠ”, ë˜ëŠ” ìœ í•´í•œ ì½˜í…ì¸ ë¥¼ ê°ì§€í•˜ê³  ì°¨ë‹¨í•´ì•¼í•œë‹¤.\nì¤‘ë³µ ì½˜í…ì¸  í•´ì‹œë‚˜ ì²´í¬ì„¬ì„ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µ ì½˜í…ì¸ ë¥¼ ì‰½ê²Œ íƒì§€í•  ìˆ˜ ìˆë‹¤. ê±°ë¯¸ ë« í¬ë¡¤ëŸ¬ë¥¼ ë¬´í•œ ë£¨í”„ì— ë¹ ë“œë¦¬ë„ë¡ ì„¤ê³„í•œ ì›¹ í˜ì´ì§€ë‹¤. www.spidertrapexample.com/foo/bar/foo/bar/foo/bar/... ë§ŒëŠ¥ í•´ê²°ì±…ì€ ì—†ì§€ë§Œ ëª‡ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤. URL ìµœëŒ€ ê¸¸ì´ë¥¼ ì œí•œ ìˆ˜ì‘ì—…ìœ¼ë¡œ ë«ì„ í™•ì¸í•˜ê³  ì°©ì•„ë‚¸ í›„ íƒìƒ‰ ëŒ€ìƒì—ì„œ ì œì™¸í•˜ê±°ë‚˜ í•„í„° ëª©ë¡ì— ì¶”ê°€í•œë‹¤. ë°ì´í„° ë…¸ì´ì¦ˆ ê°€ì¹˜ê°€ ì—†ëŠ” ì½˜í…ì¸ ëŠ” ì œì™¸í•œë‹¤. ê´‘ê³ , ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ, ìŠ¤íŒ¸ URL ë“± 4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì¢‹ì€ í¬ë¡¤ëŸ¬ëŠ” ê·œëª¨ í™•ì •ì„±, ì˜ˆì˜, í™•ì¥ì„±, ì•ˆì •ì„± ë“±ì„ ê³ ë ¤í•´ì•¼í•œë‹¤.\nì›¹ì´ ë°©ëŒ€í•˜ê³ , ìˆ˜ì—†ì´ ë§ì€ ë«ì´ ë„ì‚¬ë¦¬ê³  ìˆê¸° ë•Œë¬¸ì— ê·œëª¨ í™•ì¥ì„±ì´ ë›°ì–´ë‚œ ì›¹ í¬ë¡¤ëŸ¬ ì„¤ê³„ëŠ” ë‹¨ìˆœí•˜ì§€ ì•Šë‹¤.\nì„œë²„ ì¸¡ ë Œë”ë§ ë¹„ë™ê¸°ë¥¼ í†µí•´ ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ë§í¬ëŠ” í˜ì´ì§€ë¥¼ íŒŒì‹±í•˜ê¸° ì „ì— ì„œë²„ ì¸¡ ë Œë”ë§ì„ ì ìš©í•˜ë©´ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ìœˆì¹˜ ì•ŠëŠ” í˜ì´ì§€ í•„í„°ë§ ìŠ¤íŒ¸ ë°©ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‘ì–´ í’ˆì§ˆì´ ì¡°ì•…í•˜ê±°ë‚˜ ìŠ¤íŒ¸ì„±ì¸ í˜ì´ì§€ë¥¼ ê±¸ëŸ¬ë‚´ë„ë¡ í•˜ë©´ ì¢‹ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ë‹¤ì¤‘í™” ë° ìƒ¤ë”© ë‹¤ì¤‘í™”ë‚˜ ìƒ¤ë”© ê°™ì€ ê¸°ë²•ì„ ì ìš©í•˜ë©´ ë°ì´í„° ê³„ì¸µì˜ ê°€ìš©ì„±, ê·œëª¨ í™•ì¥ì„±, ì•ˆì •ì„±ì´ í–¥ìƒëœë‹¤. ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì„± ëŒ€ê·œëª¨ í¬ë¡¤ë§ì„ ìœ„í•´ ë‹¤ìš´ë¡œìŠ¤ ì„œë²„ê°€ ìˆ˜ì²œ ëŒ€ í•„ìš”í•˜ê²Œ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì„ ìœ„í•´ ë¬´ìƒíƒœ ì„œë²„ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. ê°€ìš©ì„±, ì¼ê´€ì„±, ì•ˆì •ì„± ëŒ€í˜• ì‹œìŠ¤í…œì„ ë§Œë“¤ê¸° ìœ„í•´ í•„ìˆ˜ì ìœ¼ë¡œ ê³ ë ¤í•´ì•¼í•œë‹¤. (1ì¥ ë³µìŠµ) ë°ì´í„° ë¶„ì„ ì†”ë£¨ì…˜ ë°ì´í„°ë¥´ ìˆ˜ì§‘í•˜ê³  ë¶„ì„í•˜ëŠ” ê²ƒì€ ì–´ëŠ ì‹œìŠ¤í…œì—ê²Œë‚˜ ì¤‘ìš”í•˜ë‹¤. ","date":"2024-06-18T13:54:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/9/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/9/","title":"9. ì›¹ í¬ë¡¤ëŸ¬ ì„¤ê³„"},{"content":"1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê²Œ ë²”ìœ„ í™•ì • Q. URL ë‹¨ì¶•ê¸° ë™ì‘ ì˜ˆì‹œ A. https://tinyurl.com/y7ke-ocwj Q. íŠ¸ë˜í”½ ê·œëª¨ëŠ”? A. ë§¤ì¼ 1ì–µê°œì˜ ë‹¨ì¶• URL ìƒì„± Q. ë‹¨ì¶• URLì˜ ê¸¸ì´ëŠ”? A. ì§§ì„ìˆ˜ë¡ ì¢‹ìŒ Q. ë‹¨ì¶• URLì— í¬í•¨ë  ë¬¸ìì œí•œì€? A. ìˆ«ì(0~9), ì˜ë¬¸ì(A~z) ì‚¬ìš© ê°€ëŠ¥ Q. ë‹¨ì¶•ëœ URLì„ ì§€ìš°ê±°ë‚˜ ê°±ì‹  ê°€ëŠ¥? A. ì‹œìŠ¤í…œ ë‹¨ìˆœí™”ë¥¼ ìœ„í•´ ì‚­ì œë‚˜ ê°±ì‹ ì€ í•  ìˆ˜ ì—†ë‹¤ ê°€ì • ì´ ì‹œìŠ¤í…œì˜ ê¸°ë³¸ì  ê¸°ëŠ¥ì€ ì•„ë˜ì™€ ê°™ë‹¤.\nURL ë‹¨ì¶• ì£¼ì–´ì§„ ê¸´ URLì„ í›¨ì”¬ ì§§ê²Œ ì¤„ì¸ë‹¤. URL ë¦¬ë””ë ‰ì…˜(redirection) ì¶•ì•½ëœ URLë¡œ HTTP ìš”ì²­ì´ ì˜¤ë©´ ì›ë˜ URLë¡œ ì•ˆë‚´ ë†’ì€ ê°€ìš©ì„±ê³¼ ê·œëª¨ í™•ì¥ì„±, ì¥ì•  ê°ë‚´ ìš”êµ¬ë¨ ê°œëµì  ì¶”ì • ì“°ê¸° ì—°ì‚°: ë§¤ì¼ 1ì–µ ê°œì˜ ë‹¨ì¶• URL ìƒì„± ì´ˆë‹¹ ì“°ê¸° ì—°ì‚°: 1ì–µ / 24 / 3600 = 1160 ì½ê¸° ì—°ì‚°: ì½ê¸° ì—°ì‚°ê³¼ ì“°ê¸° ì—°ì‚°ì˜ ë¹„ìœ¨ì€ 10:1ë¡œ ê°€ì • ëŒ€ëµ ì´ˆë‹¹ 11,600íšŒ ë°œìƒ URL ë‹¨ì¶• ì„œë¹„ìŠ¤ë¥¼ 10ë…„ê°„ ìš´ì˜í•œë‹¤ê³  ê°€ì •í•˜ë©´ 1ì–µ * 365 * 10 = 3650ì–µê°œ ë ˆì½”ë“œ ë³´ê´€ ì¶•ì•½ ì „ URLì˜ í‰ê·  ê¸¸ì´ëŠ” 100 í•„ìš”í•œ ì €ì¥ ìš©ëŸ‰ì€ 3650ì–µ * 100ë°”ì´íŠ¸ = 36.5TB 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° API ì—”ë“œí¬ì¸íŠ¸ í´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë²„ê°€ ì œê³µí•˜ëŠ” API ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ì„œë²„ì™€ í†µì‹ í•œë‹¤.\nRESTful APIë¡œ ì„¤ê³„í•œë‹¤ê³  ê°€ì •í•˜ë©´, ê¸°ë³¸ì ìœ¼ë¡œ ë‘ ê°œì˜ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í•„ìš”ë¡œ í•œë‹¤.\nURL ë‹¨ì¶•ìš© ì—”ë“œí¬ì¸íŠ¸ ìƒˆ ë‹¨ì¶• URLì„ ìƒì„±í•˜ê³ ì í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì—”ë“œí¬ì¸íŠ¸ì— ë‹¨ì¶•í•  URLì„ ì¸ìë¡œ ë‹´ì•„ POST ìš”ì²­ì„ ë³´ë‚´ì•¼í•œë‹¤. 1 POST /api/v1/data/shorten ì¸ì: {longUrl: longURLstring} ë°˜í™˜: ë‹¨ì¶• URL URL ë¦¬ë””ë ‰ì…˜ìš© ì—”ë“œí¬ì¸íŠ¸ ë‹¨ì¶• URLì— ëŒ€í•´ HTTP ìš”ì²­ì´ ì˜¤ë©´ ì›ë˜ URLë¡œ ë³´ë‚´ì£¼ê¸° ìœ„í•œ ìš©ë„ì˜ ì—”ë“œí¬ì¸íŠ¸ 1 GET /api/v1/shortUrl ë°˜í™˜: HTTP ë¦¬ë””ë ‰ì…˜ ëª©ì ì§€ê°€ ë  ì›ë˜ URL URL ë¦¬ë””ë ‰ì…˜ ë‹¨ì¶• URLì„ ë°›ì€ ì„œë²„ëŠ” ê·¸ URLì„ ì›ë˜ URLë¡œ ë°”ê¾¸ì–´ 301 ì‘ë‹µì˜ Location í—¤ë”ì— ë„£ì–´ ë°˜í™˜í•œë‹¤.\nìœ ì˜í•  ì ì€ 301 ì‘ë‹µê³¼ 302 ì‘ë‹µì˜ ì°¨ì´ë¡œ, ë‘˜ ë‹¤ ë¦¬ë””ë ‰ì…˜ ì‘ë‹µì´ì§€ë§Œ ì°¨ì´ê°€ ìˆë‹¤.\n301 Permanently Moved URLì— ëŒ€í•œ HTTP ìš”ì²­ì˜ ì²˜ë¦¬ ì±…ì„ì´ ì˜êµ¬ì ìœ¼ë¡œ Location í—¤ë”ì— ë°˜í™˜ëœ URLë¡œ ì´ì „ë¨ ì˜êµ¬ì ì¸ ì´ì „ì´ë¯€ë¡œ ë¸Œë¼ìš°ì €ëŠ” ì´ ì‘ë‹µì„ ìºì‹±í•œë‹¤. ë”°ë¼ì„œ ê°™ì€ ë‹¨ì¶• URLë¡œ ì¬ìš”ì²­ì‹œ ìºì‹œëœ ì›ë˜ URLë¡œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤. ì„œë²„ ë¶€í•˜ë¥¼ ì¤„ì´ëŠ” ê²ƒì´ ì¤‘ìš”í•  ë•Œ ì‚¬ìš©ë  ìˆ˜ ìˆìŒ 302 Found URLë¡œì˜ ìš”ì²­ì´ ì¼ì‹œì ìœ¼ë¡œ Location í—¤ë”ì˜ URLì— ì˜í•´ ì²˜ë¦¬ë˜ì–´ì•¼í•¨ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì€ ìºì‹±ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ì–¸ì œë‚˜ ë‹¨ì¶• URL ì„œë²„ì— ë¨¼ì € ë³´ë‚´ì§ íŠ¸ë˜í”½ ë¶„ì„ ê°™ì´ í´ë¦­ ë°œìƒë¥ ì´ë‚˜ ë°œìƒ ìœ„ì¹˜ë¥¼ íŒŒì•…í•´ì•¼í•  ë•Œ ì‚¬ìš© URL ë¦¬ë””ë ‰ì…˜ì„ êµ¬í˜„í•˜ëŠ” ê°€ì¥ ì§ê´€ì ì¸ ë°©ë²•ì€ í•´ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ \u0026lt;ë‹¨ì¶• URL: ì›ë˜ URL\u0026gt; í˜•ì‹ìœ¼ë¡œ êµ¬í˜„ë  ìˆ˜ ìˆë‹¤.\nURL ë‹¨ì¶• ë‹¨ì¶• URLì´ \u0026lt;www.tinyurl.com/{hashValue}\u0026gt; ê°™ì€ í˜•íƒœë¡œ ë§Œë“¤ì–´ì§„ë‹¤ë©´, ê¸´ URLì„ ì´ í•´ì‹œ ê°’ìœ¼ë¡œ ëŒ€ì‘ì‹œí‚¬ í•´ì‹œ í•¨ìˆ˜ fx ë¥¼ ì°¾ëŠ” ê²ƒì´ë‹¤.\ní•´ì‹œ í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.\nì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” ê¸´ URLì´ ë‹¤ë¥¸ ê°’ì´ë©´ í•´ì‹œ ê°’ë„ ë‹¬ë¼ì•¼í•œë‹¤. ê³„ì‚°ëœ í•´ì‹œ ê°’ì€ ì›ë˜ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì¡Œë˜ ê¸´ URLë¡œ ë³µì›ë  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ ë°ì´í„° ëª¨ë¸ ê°œëµì  ì„¤ê³„ì—ì„œëŠ” ëª¨ë“  ê²ƒì„ í•´ì‹œ í…Œì´ë¸”ì— ë‘ì—ˆì§€ë§Œ, ì´ ë°©ì‹ì€ ë©”ëª¨ë¦¬ëŠ” ìœ í•œí•˜ê³  ë¹„ì‹¸ê¸° ë•Œë¬¸ì— ì‹¤ì œ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ë˜ê¸° ì–´ë µë‹¤.\në” ë‚˜ì€ ë°©ì‹ì€ \u0026lt;ë‹¨ì¶• URL, ì›ë˜ URL\u0026gt;ì˜ ìˆœì„œìŒì„ RDBì— ì €ì¥í•˜ëŠ” ê²ƒì´ë‹¤.\nerDiagram URL { number id pk string shortURL string longURL } í•´ì‹œ í•¨ìˆ˜ í•´ì‹œ í•¨ìˆ˜ëŠ” ì›ë˜ URLì„ ë‹¨ì¶• URLë¡œ ë³€í™˜í•˜ëŠ” ë° ì“°ì¸ë‹¤.\ní•´ì‹œ ê°’ ê¸¸ì´\nhashValueëŠ” [0-9, a-z, A-Z]ì˜ ë¬¸ìë“¤ë¡œ êµ¬ì„±ëœë‹¤.\nì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¬¸ìì˜ ê°œìˆ˜ëŠ” 10 + 26 + 26 = 62ê°œì´ë‹¤. hashValueì˜ ê¸¸ì´ë¥¼ ì •í•˜ê¸° ìœ„í•´ì„œëŠ” 62^n \u0026gt;= 3650ì–µì„ ë§Œë“œëŠ” nì˜ ìµœì†Œê°’ì„ ì°¾ì•„ì•¼í•œë‹¤. n = 7, ì•½ 3.5ì¡° ê°œ í•´ì‹œí›„ ì¶©ëŒ í•´ì†Œ\nê¸´ URLì„ ì¤„ì´ë ¤ë©´, ì›ë˜ URLì„ 7ê¸€ì ë¬¸ìì—´ë¡œ ì¤„ì´ëŠ” í•´ì‹œ í•¨ìˆ˜ê°€ í•„ìš”í•˜ë‹¤.\nê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ CRC32, MD5, SHA-1 ê°™ì´ ì˜ ì•Œë ¤ì§„ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.\nì˜ ì•Œë ¤ì§„ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ê²°ê³¼ê°€ ê³„ì‚°í•œ ê°€ì¥ ì§§ì€ í•´ì‹œê°’ì¡°ì°¨ë„ 7ë³´ë‹¤ëŠ” ê¸¸ì´ê°€ ê¸´ë°, ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì²« ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ ì²˜ìŒ 7ê°œ ë¬¸ìë§Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\ní•´ì‹œ ê²°ê³¼ê°€ ì¶©ëŒí•  í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤. ì¶©ëŒì´ ë°œìƒí•œ ê²½ìš°, ì¶©ëŒì´ í•´ì†Œë  ë•Œê¹Œì§€ ì‚¬ì „ì— ì •í•œ ë¬¸ìì—´ì„ í•´ì‹œê°’ì— ë§ë¶™ì¸ë‹¤. ë‹¨ì¶• URLì„ ìƒì„±í•  ë•Œ í•œ ë²ˆ ì´ìƒ ë°ì´í„°ë² ì´ìŠ¤ ì§ˆì˜ë¥¼ í•´ì•¼ í•˜ë¯€ë¡œ ì˜¤ë²„í—¤ë“œê°€ í¬ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ëŒ€ì‹  ë¸”ë£¸ í•„í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤. ì–´ë–¤ ì§‘í•©ì— íŠ¹ì • ì›ì†Œê°€ ìˆëŠ” ì§€ ê²€ì‚¬í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ”, í™•ë¥ ë¡ ì— ê¸°ì´ˆí•œ ê³µê°„ íš¨ìœ¨ì´ ì¢‹ì€ ê¸°ìˆ  base-62 ë³€í™˜\nì§„ë²• ë³€í™˜(base conversion)ì€ URL ë‹¨ì¶•ê¸°ë¥¼ êµ¬í˜„í•  ë•Œ í”íˆ ì‚¬ìš©ë˜ëŠ” ì ‘ê·¼ë²•ì´ë‹¤.\nìˆ˜ì˜ í‘œí˜„ ë°©ì‹ì´ ë‹¤ë¥¸ ë‘ ì‹œìŠ¤í…œì´ ê°™ì€ ìˆ˜ë¥¼ ê³µìœ í•˜ì—¬ì•¼ í•˜ëŠ” ê²½ìš° ìœ ìš©í•˜ë‹¤. ë‘ ì ‘ê·¼ë²• ë¹„êµ\ní•´ì‹œ í›„ ì¶©ëŒ í•´ì†Œ 62 ì§„ë²• ë³€í™˜ ë‹¨ì¶• URL ê¸¸ì´ê°€ ê³ ì •ë¨ ë‹¨ì¶• URL ê¸¸ì´ê°€ ê°€ë³€ì , ID ê°’ì´ ì»¤ì§€ë©´ ê¸¸ì–´ì§ ìœ ì¼ì„±ì´ ë³´ì¥ë˜ëŠ” ID ìƒì„±ê¸°ê°€ í•„ìš”í•˜ì§€ ì•ŠìŒ ìœ ì¼ì„± ë³´ì¥ ID ìƒì„±ê¸° í•„ìš” ì¶©ëŒì´ í•´ì†Œ ì „ëµ í•„ìš” ID ìœ ì¼ì„±ì´ ë³´ì¥ë˜ì–´ì•¼ ì ìš© ê°€ëŠ¥í•œ ì „ëµì´ë¼ ì¶©ëŒ ë¶ˆê°€ëŠ¥ IDë¡œ ë¶€í„° ë‹¨ì¶• URLì„ ê³„ì‚°í•˜ëŠ” ë°©ì‹ì´ ì•„ë‹ˆë¯€ë¡œ ë‹¤ìŒì— ì“¸ ìˆ˜ ìˆëŠ” URLì„ ì•Œì•„ë‚´ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥ IDê°€ 1ì”© ì¦ê°€í•˜ëŠ” ê°’ì´ë¼ê³  ê°€ì •í•˜ë©´ ë‹¤ìŒì— ì“¸ ìˆ˜ ìˆëŠ” ë‹¨ì¶• URLì´ ë¬´ì—‡ì¸ì§€ ì‰½ê²Œ ì•Œì•„ë‚¼ ìˆ˜ ìˆì–´ ë³´ì•ˆìƒ ë¬¸ì œ ì†Œì§€ê°€ ë  ìˆ˜ ìˆìŒ URL ë‹¨ì¶•ê¸° ìƒì„¸ ì„¤ê³„ URL ë‹¨ì¶•ê¸°ëŠ” ì‹œìŠ¤í…œì˜ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì´ë¯€ë¡œ, ê·¸ ì²˜ë¦¬íë¦„ì´ ë…¼ë¦¬ì ìœ¼ë¡œëŠ” ë‹¨ìˆœí•´ì•¼ í•˜ê³ , ê¸°ëŠ¥ì ìœ¼ë¡œëŠ” ì–¸ì œë‚˜ ë™ì‘í•˜ëŠ” ìƒíƒœë¡œ ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤.\ní•´ë‹¹ ID ìƒì„±ê¸°ì˜ ì£¼ëœ ìš©ë„ëŠ”, ë‹¨ì¶• URLì„ ë§Œë“¤ ë•Œ ì‚¬ìš©í•  IDë¥¼ ë§Œë“œëŠ” ê²ƒì´ê³ , ì´ IDëŠ” ì „ì—­ì  ìœ ì¼ì„±ì´ ë³´ì¥ë˜ëŠ” ê²ƒ ì´ì–´ì•¼ í•œë‹¤.\nê³ ë„ë¡œ ë¶„ì‚°ëœ í™˜ê²½ì—ì„œ ì´ëŸ° ìƒì„±ê¸°ë¥¼ ë§Œë“œëŠ” ê²ƒì€ ë¬´ì²™ ì–´ë ¤ìš´ ì¼ë¡œ í•„ìš”í•˜ë‹¤ë©´ 7ì¥ ë‚´ìš©ì„ ì‘ìš©í•˜ì—¬ ë¶„ì‚° í™˜ê²½ì— ì‚¬ìš©ë  ìœ ì¼í•œ IDë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nURL ë¦¬ë””ë ‰ì…˜ ìƒì„¸ ì„¤ê³„ ì“°ê¸°ë³´ë‹¤ ì½ê¸°ë¥¼ ë” ìì£¼í•˜ëŠ” ì‹œìŠ¤í…œì˜ íŠ¹ì„±ì— ë§ì¶”ì–´, \u0026lt;ë‹¨ì¶• URL, ì›ë˜ URL\u0026gt;ì˜ ìŒì„ ìºì‹±í•˜ì—¬ ì„±ëŠ¥ì„ ë†’í ìˆ˜ ìˆë‹¤.\në§ˆë¬´ë¦¬ ì„¤ê³„ë¥¼ ë§ˆì¹œ í›„ ì‹œê°„ì´ ì¢€ ë‚¨ëŠ”ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²ƒì„ ë©´ì ‘ê´€ê³¼ ì´ì•¼ê¸° í•  ìˆ˜ ìˆì„ê²ƒì´ë‹¤.\nì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ ì—„ì²­ë‚œ ì–‘ì€ ë‹¨ì¶• ìš”ì²­ì´ ë“¤ì–´ì˜¬ ê²½ìš° ë¬´ë ¥í™”ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì¬ì  ë³´ì•ˆ ê²°í•¨ì„ ê°–ê³  ìˆë‹¤. ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¥¼ í†µí•´ ìš”ì²­ì„ ê±¸ëŸ¬ë‚¼ ìˆ˜ ìˆë‹¤. 4ì¥ ì°¸ì¡° ì›¹ ì„œë²„ì˜ ê·œëª¨ í™•ì¥ ì„¤ê³„ì— í¬í•¨ëœ ì›¹ ê³„ì¸µì€ ë¬´ìƒíƒœ ê³„ì¸µì´ë¯€ë¡œ, ì›¹ ì„œë²„ë¥¼ ììœ ë¡­ê²Œ ì¦ì„¤, ì‚­ì œ í•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ê·œëª¨ í™•ì¥ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì¤‘í™”í•˜ê±°ë‚˜ ìƒ¤ë”©í•˜ì—¬ ê·œëª¨ í™•ì¥ì„±ì„ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤. ë°ì´í„° ë¶„ì„ ì†”ë£¨ì…˜ URL ë‹¨ì¶•ê¸°ì— ë°ì´í„° ë¶„ì„ ì†”ë£¨ì…˜ì„ í†µí•©í•´ ë‘ë©´ ì–´ë–¤ ë§í¬ë¥¼ ì–¼ë§ˆë‚˜ ë§ì€ ì‚¬ìš©ìê°€ í´ë¦­í–ˆëŠ”ì§€, ì–¸ì œ ì£¼ë¡œ í´ë¦­í–ˆëŠ”ì§€ ë“± ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤. ê°€ìš©ì„±, ë°ì´í„° ì¼ê´€ì„±, ì•ˆì •ì„± 1ì¥ ì°¸ì¡° ","date":"2024-06-04T15:18:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/8/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/8/","title":"8. URL ë‹¨ì¶•ê¸° ì„¤ê³„"},{"content":"ì„œë¹„ìŠ¤ì˜ ê·œëª¨ê°€ ì‘ì„ë•ŒëŠ” auto_increment ì†ì„±ì´ ì„¤ì •ëœ ê´€ê³„í˜• ë°ì´í„° ë² ì´ìŠ¤ì˜ ê¸°ë³¸í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆì§€ë§Œ, ë¶„ì‚° í™˜ê²½ì—ì„œëŠ” ì´ëŸ¬í•œ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ì„œë²„(master) í•œ ëŒ€ë¡œëŠ” ìš”êµ¬ë¥¼ ê°ë‹¹í•  ìˆ˜ ì—†ë‹¤. ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¥¼ ì“°ëŠ” ê²½ìš° ì§€ì—° ì‹œê°„ì„ ë‚®ì¶”ê¸° ë§¤ìš° í˜ë“¤ë‹¤. 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ ì„¤ì • Q. IDëŠ” ì–´ë–¤ íŠ¹ì„±ì„ ë‚®ëŠ”ê°€? A. IDëŠ” ìœ ì¼í•´ì•¼ í•˜ê³ , ì •ë ¬ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. Q. ìƒˆë¡œìš´ ë ˆì½”ë“œì— ë¶™ì¼ IDëŠ” í•­ìƒ 1ë§Œí¼ í° ê°’ì´ì–´ì•¼ í•˜ëŠ”ê°€? A. ì‹œê°„ì— ë”°ë¼ ì»¤ì§€ì§€ë§Œ, ì–¸ì œë‚˜ 1ì”© ì¦ê°€í•˜ì§€ëŠ” ì•Šì•„ë„ ê´œì°®ë‹¤. Q. IDëŠ” ìˆ«ìë¡œë§Œ êµ¬ì„±ë˜ëŠ”ê°€? A. ì˜ˆ Q. ì‹œìŠ¤í…œì˜ ê·œëª¨ëŠ” ì–´ëŠ ì •ë„ ì¸ê°€? A. ì´ˆë‹¹ 10,000 ID ìƒì„± ê°€ëŠ¥ ìœ„ ì§ˆì˜ì‘ë‹µì„ í†µí•´ ìš”êµ¬ ì‚¬í•­ì„ ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\nIDëŠ” ìœ ì¼í•´ì•¼í•¨ IDëŠ” ìˆ«ìë¡œë§Œ êµ¬ì„±ë˜ì–´ì•¼ í•¨. IDëŠ” 64ë¹„íŠ¸ë¡œ í‘œí˜„ë  ìˆ˜ ìˆëŠ” ê°’ì´ì–´ì•¼ í•œë‹¤. IDëŠ” ë°œê¸‰ ë‚ ì§œì— ë”°ë¼ ì •ë ¬ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. ì´ˆë‹¹ 10,000ê°œì˜ IDë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 2ë‹¨ê³„: ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ìœ ì¼ì„±ì´ ë³´ì¥ë˜ëŠ” IDë¥¼ ë§Œë“œëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ë‹¤.\në‹¤ì¤‘ ë§ˆìŠ¤í„° ë³µì œ ì´ ì ‘ê·¼ë²•ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ auto_increment ê¸°ëŠ¥ì„ í™œìš©í•œë‹¤.\në‹¤ìŒ IDì˜ ê°’ì„ êµ¬í•  ë•Œ 1ë§Œí¼ ì¦ê°€ì‹œì¼œ ì–»ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, kë§Œí¼ ì¦ê°€ì‹œí‚¨ë‹¤. k = í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ëŒ€ìˆ˜ ì´ëŸ¬í•œ ë°©ì‹ì„ í†µí•´ ê·œëª¨ í™•ì¥ì„± ë¬¸ì œë¥¼ ì–´ëŠì •ë„ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ, ì¤‘ëŒ€í•œ ë‹¨ì ì´ ìˆë‹¤.\nì—¬ëŸ¬ ë°ì´í„° ì„¼í„°ì— ê±¸ì³ ê·œëª¨ë¥¼ ëŠ˜ë¦¬ê¸° ì–´ë µë‹¤. IDì˜ ìœ ì¼ì„±ì„ ë³´ì¥ë˜ì§€ë§Œ, ê·¸ ê°’ì´ ì‹œê°„ íë¦„ì— ë§ì¶”ì–´ ì»¤ì§€ë„ë¡ ë³´ì¥í•  ìˆ˜ ì—†ë‹¤. ë” ë§ì€ IDë¥¼ ìƒì„±í•œ ë°ì´í„°ë² ì´ìŠ¤ì˜ IDê°€ ëœ ìƒì„±í•œ ë°ì´í„°ë² ì´ìŠ¤ì˜ IDë³´ë‹¤ ëŠ¦ê²Œ ìƒì„±ë˜ì—ˆì–´ë„ í° ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ì„œë²„ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•  ë•Œë„ ì˜ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ê¸° ì–´ë µë‹¤. UUID UUIDëŠ” ìœ ì¼ì„±ì´ ë³´ì¥ë˜ëŠ” IDë¥¼ ë§Œë“œëŠ” ë˜ í•˜ë‚˜ì˜ ê°„ë‹¨í•œ ë°©ë²•ì´ë‹¤.\nì»´í“¨í„° ì‹œìŠ¤í…œì— ì €ì¥ë˜ëŠ” ì •ë³´ë¥¼ ìœ ì¼í•˜ê²Œ ì‹ë³„í•˜ê¸° ìœ„í•œ 128ë¹„íŠ¸ì§œë¦¬ ìˆ˜ ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ì§€ê·¹íˆ ë‚®ë‹¤. ì¤‘ë³µ UUIDê°€ 1ê°œ ìƒê¸¸ í™•ë¥ ì„ 50%ë¡œ ëŒì–´ ì˜¬ë¦¬ë ¤ë©´ ì´ˆë‹¹ 10ì–µ ê°œì˜ UUIDë¥¼ 100ë…„ë™ì•ˆ ê³„ì†í•´ì„œ ë§Œë“¤ì–´ì•¼ í•œë‹¤. 09c93e62-50b4-468d-bf8a-c07e1040bfb2 ì™€ ê°™ì€ í˜•íƒœë¥¼ ëˆë‹¤. ì´ëŸ¬í•œ íŠ¹ì„±ìœ¼ë¡œ UUIDëŠ” ì„œë²„ ê°„ ì¡°ìœ¨ ì—†ì´ ë…ë¦½ì ìœ¼ë¡œ ìƒì„± ê°€ëŠ¥í•˜ë¯€ë¡œ, ê° ì„œë²„ê°€ ë³„ë„ì˜ ID ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•´ ë…ë¦½ì ìœ¼ë¡œ IDë¥¼ ë§Œë“¤ì–´ë‚¸ë‹¤.\nì¥ì \nUUIDë¥¼ ë§Œë“œëŠ” ê²ƒì€ ë‹¨ìˆœí•˜ë‹¤. ì„œë²„ ì‚¬ì´ì˜ ì¡°ìœ¨ì´ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ë™ê¸°í™” ì´ìŠˆë„ ì—†ë‹¤. ê° ì„œë²„ê°€ ìê¸°ê°€ ì“¸ IDë¥¼ ì•Œì•„ì„œ ë§Œë“œëŠ” êµ¬ì¡°ì´ë¯€ë¡œ ê·œëª¨ í™•ì¥ë„ ì‰½ë‹¤. ë‹¨ì \nIDê°€ 128ë¹„íŠ¸ë¡œ ê¸¸ë‹¤. ìš”êµ¬ì‚¬í•­ì€ 64ë¹„íŠ¸ IDë¥¼ ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ì—†ë‹¤. ì„ì˜ì˜ ì¤‘ë³µì´ í˜ë“  ë¬¸ìì—´ë¡œ ìƒì„±ë¨ IDì— ìˆ«ìê°€ ì•„ë‹Œ ê°’ì´ í¬í•¨ë  ìˆ˜ ìˆë‹¤. ìš”êµ¬ì‚¬í•­ì€ ìˆ«ìë¡œë§Œ êµ¬ì„±ë˜ì–´ì•¼í•¨ í‹°ì¼“ ì„œë²„ í‹°ì¼“ ì„œë²„ëŠ” auto_increment ê¸°ëŠ¥ì„ ë‚®ì¶˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„, ì¦‰ í‹°ì¼“ ì„œë²„ë¥¼ ì¤‘ì•™ ì§‘ì¤‘í˜•ìœ¼ë¡œ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìœ ì¼ì„±ì´ ë³´ì¥ë˜ëŠ” IDë¥¼ ë§Œë“ ë‹¤.\ní”Œë¦¬ì»¤(Flickr)ëŠ” ë¶„ì‚° ê¸°ë³¸ í‚¤(Distributed primary key)ë¥¼ ë§Œë“¤ì–´ ë‚´ê¸° ìœ„í•´ ì´ ê¸°ìˆ ì„ ì´ìš© ì¥ì \nìœ ì¼ì„±ì´ ë³´ì¥ë˜ëŠ” ì˜¤ì§ ìˆ«ìë¡œë§Œ êµ¬ì„±ëœ IDë¥¼ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. êµ¬í˜„í•˜ê¸° ì‰½ê³ , ì¤‘ì†Œ êµ¬ëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì í•©í•˜ë‹¤. ë‹¨ì \ní‹°ì¼“ ì„œë²„ê°€ SPOFê°€ ëœë‹¤. í‹°ì¼“ ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ í•´ë‹¹ ì„œë²„ë¥¼ ì´ìš©í•˜ëŠ” ëª¨ë“  ì‹œìŠ¤í…œì´ ì˜í–¥ì„ ë°›ëŠ”ë‹¤. í‹°ì¼“ ì„œë²„ë¥¼ ì—¬ëŸ¬ ëŒ€ ì¤€ë¹„í•œë‹¤ë©´ ë°ì´í„° ë™ê¸°í™” ê°™ì€ ìƒˆë¡œìš´ ë¬¸ì œê°€ ë°œìƒí•œë‹¤. íŠ¸ìœ„í„° ìŠ¤ë…¸í”Œë ˆì´í¬ ì ‘ê·¼ë²• ìŠ¤ë…¸í”Œë ˆì´í¬ ì ‘ê·¼ë²•ì€ ìƒì„±í•´ì•¼í•˜ëŠ” IDë¥¼ ì—¬ëŸ¬ ì ˆë¡œ ë¶„í• í•˜ì—¬ ë…ë¦½ì ì¸ IDë¥¼ ë§Œë“ ë‹¤.\nì‚¬ì¸(sign) ë¹„íŠ¸: í•­ìƒ 0ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ì–‘ìˆ˜ë¡œ ìœ ì§€í•œë‹¤. íŠ¹ë³„í•œ ì˜ë¯¸ëŠ” ì—†ëŠ”ë“¯ íƒ€ì„ìŠ¤íƒ¬í”„(timestamp): ê¸°ì› ì‹œê°„ ì´í›„ë¡œ ëª‡ ë°€ë¦¬ì´ˆê°€ ê²½ê³¼í–ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°’ 41ë¹„íŠ¸ë¡œ ì•½ 69ë…„ ë™ì•ˆì˜ ì‹œê°„ì„ í‘œí˜„í•  ìˆ˜ ìˆìŒ ë°ì´í„°ì„¼í„° ID: ë°ì´í„°ì„¼í„° ID 5ë¹„íŠ¸ë¡œ 32ê°œ ë°ì´í„° ì„¼í„°ë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆìŒ ì„œë²„ ID: ì„œë²„ ID 5ë¹„íŠ¸ë¡œ 32ê°œì˜ ì„œë²„ êµ¬ë¶„ ê°€ëŠ¥ ì¼ë ¨ë²ˆí˜¸: ê° ì„œë²„ì—ì„œ IDë¥¼ ìƒì„±í•  ë•Œë§ˆë‹¤ ì¼ë ¨ë²ˆí˜¸ë¥¼ 1ë§Œí¼ ì¦ê°€ì‹œí‚´ 1ë°€ë¦¬ì´ˆê°€ ê²½ê³¼ë  ë•Œë§ˆë‹¤ 0ìœ¼ë¡œ ì´ˆê¸°í™”ë¨(TSê°€ 1ms ê°„ê²©ìœ¼ë¡œ ì¦ê°€í•˜ë¯€ë¡œ) 3ë‹¨ê³„: ìƒì„¸ ì„¤ê³„ íŠ¸ìœ„í„° ìŠ¤ë…¸í”Œë ˆì´í¬ ì ‘ê·¼ë²•ì„ ì‚¬ìš©í•˜ì—¬ ë³´ë‹¤ ìƒì„¸í•œ ì„¤ê³„ë¥¼ ì§„í–‰í•œë‹¤.\në°ì´í„°ì„¼í„° IDì™€ ì„œë²„ IDëŠ” ì‹œìŠ¤í…œì´ ì‹œì‘ë  ë•Œ ê²°ì •ë˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ ì‹œìŠ¤í…œ ìš´ì˜ì¤‘ì—ëŠ” ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤. ë°ì´í„°ì„¼í„° ID, ì„œë²„ IDë¥¼ ì˜ëª» ë³€ê²½í•˜ê²Œ ë˜ë©´ ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì‹ ì¤‘í•˜ê²Œ í•´ì•¼í•œë‹¤. íƒ€ì„ ìŠ¤íƒ¬í”„ë‚˜ ì¼ë ¨ë²ˆí˜¸ëŠ” ID ìƒì„±ê¸°ê°€ ëŒê³  ìˆëŠ” ì¤‘ì— ë§Œë“¤ì–´ì§„ë‹¤. íƒ€ì„ìŠ¤íƒ¬í”„ íƒ€ì„ìŠ¤íƒ¬í”„ëŠ” ì‹œê°„ì´ íë¦„ì— ë”°ë¼ ì ì  í° ê°’ì„ ê°–ê²Œ ë˜ë¯€ë¡œ, ê²°êµ­ IDëŠ” ì‹œê°„ ìˆœìœ¼ë¡œ ì •ë ¬ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤.\n41ë¹„íŠ¸ë¡œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” íƒ€ì„ìŠ¤íƒ¬í”„ ìµœëŒ€ê°’ì€ 2^41 - 1 = 2,199,023,255,551 ë°€ë¦¬ì´ˆ ì´ë¯€ë¡œ ëŒ€ëµ 69ë…„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\në”°ë¼ì„œ ì´ ID ìƒì„±ê¸°ëŠ” 69ë…„ë™ì•ˆë§Œ ì •ìƒ ë™ì‘í•˜ë¯€ë¡œ 69ë…„ì´ ì§€ë‚˜ë©´ ê¸°ì› ì‹œê°ì„ ë°”ê¾¸ê±°ë‚˜ ID ì²´ê³„ë¥¼ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ì´ì „(migration)í•˜ì—¬í–í•œë‹¤.\nì¼ë ¨ë²ˆí˜¸ ì¼ë ¨ë²ˆí˜¸ëŠ” 12ë¹„íŠ¸ì´ë¯€ë¡œ,2^12 - 1 = 4096ê°œì˜ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\nì–´ë–¤ ì„œë²„ê°€ ê°™ì€ ë°€ë¦¬ì´ˆ ë™ì•ˆ í•˜ë‚˜ ì´ìƒì˜ IDë¥¼ ë§Œë“¤ì–´ ë‚¸ ê²½ìš°ì—ë§Œ 0ë³´ë‹¤ í° ê°’ì„ ê°–ê²Œ ëœë‹¤.\n4ë‹¨ê³„: ë§ˆë¬´ë¦¬ ì‹œê³„ ë™ê¸°í™”(Clock synchronization) ê¸°ì¡´ ì„¤ê³„ëŠ” í•˜ë‚˜ì˜ ì„œë²„ê°€ ì—¬ëŸ¬ ì½”ì–´ì—ì„œ ì‹¤í–‰ë  ê²½ìš° ìœ íš¨í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ë¬¼ë¦¬ì ìœ¼ë¡œ ë…ë¦½ëœ ì—¬ëŸ¬ ì¥ë¹„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²½ìš° ìœ íš¨í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. NTP(Network Time Protocol)ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê°€ì¥ ë³´í¸ì ì¸ ìˆ˜ë‹¨ì´ë‹¤. ê° ì ˆ(Section)ì˜ ê¸¸ì´ ìµœì í™” ë™ì‹œì„±ì´ ë‚®ê³  ìˆ˜ëª…ì´ ê¸´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë©´ ì¼ë ¨ë²ˆí˜¸ ì ˆì˜ ê¸¸ì´ë¥¼ ì¤„ì´ê³  íƒ€ì„ìŠ¤íƒ¬í”„ ì ˆì˜ ê¸¸ì´ë¥¼ ëŠ˜ë¦¬ëŠ” ê²ƒì´ íš¨ê³¼ì ì¼ ìˆ˜ ìˆë‹¤. ê³ ê°€ìš©ì„± ID ìƒì„±ê¸°ëŠ” í•„ìˆ˜ ë¶ˆê°€ê²°(mission critical) ì»´í¬ë„ŒíŠ¸ì´ë¯€ë¡œ ì•„ì£¼ ë†’ì€ ê°€ìš©ì„±ì„ ì œê³µí•´ì•¼í•œë‹¤. ","date":"2024-06-04T14:26:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/7/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/7/","title":"7. ë¶„ì‚° ì‹œìŠ¤í…œì„ ìœ„í•œ ìœ ì¼ ID ìƒì„±ê¸° ì„¤ê³„"},{"content":"í‚¤-ê°’ ì €ì¥ì†Œ(key-value store)ëŠ” í‚¤-ê°’ ë°ì´í„°ë² ì´ìŠ¤ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ë¹„ ê´€ê³„í˜•(non-relational) ë°ì´í„°ë² ì´ìŠ¤ì´ë‹¤.\nì´ ì €ì¥ì†Œì— ì €ì¥ë˜ëŠ” ê°’ì€ ê³ ìœ  ì‹ë³„ìë¥¼ í‚¤ë¡œ ê°€ì ¸ì•¼í•œë‹¤. í‚¤ì™€ ê°’ ì‚¬ì´ì˜ ì´ëŸ° ì—°ê²° ê´€ê³„ë¥¼ í‚¤-ê°’ ìŒ(key-value pair)ì´ë¼ê³  ì§€ì¹­í•œë‹¤. í‚¤\ní‚¤-ê°’ ìŒì—ì„œì˜ í‚¤ëŠ” ìœ ì¼í•´ì•¼ í•˜ë©° í•´ë‹¹ í‚¤ì— ë§¤ë‹¬ë¦° ê°’ì€ í‚¤ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\ní‚¤ëŠ” ì¼ë°˜ í…ìŠ¤íŠ¸ì¼ ìˆ˜ë„ ìˆê³  í•´ì‹œ ê°’ì¼ ìˆ˜ë„ ìˆì§€ë§Œ, ì„±ëŠ¥ìƒì˜ ì´ìœ ë¡œ ì§§ì„ìˆ˜ë¡ ì¢‹ë‹¤.\nì¼ë°˜ í…ìŠ¤íŠ¸ í‚¤: \u0026ldquo;last_logged_in_at\u0026rdquo; í•´ì‹œ í‚¤: 253DDEC4 ê°’\ní‚¤-ê°’ ì €ì¥ì†ŒëŠ” ë³´í†µ ê°’ìœ¼ë¡œ ë¬´ì—‡ì´ ì˜¤ë“  ìƒê´€í•˜ì§€ ì•ŠëŠ”ë‹¤.\në¬¸ìì—´, ë¦¬ìŠ¤íŠ¸, ê°ì²´ ë“± í‚¤-ê°’ ì €ì¥ì†Œë¡œ ë„ë¦¬ ì•Œë ¤ì§„ ê²ƒì€ ì•„ë§ˆì¡´ ë‹¤ì´ë‚˜ëª¨, memcached, ë ˆë””ìŠ¤ ê°™ì€ ê²ƒë“¤ì´ ìˆë‹¤.\në˜í•œ ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ì—°ì‚°ì„ ì§€ì›í•´ì•¼í•œë‹¤.\nput(key, value): í‚¤-ê°’ ìŒì„ ì €ì¥ì†Œì— ì €ì¥í•œë‹¤. get(key): ì¸ìë¡œ ì£¼ì–´ì§„ í‚¤ì— ë§¤ë‹¬ë¦° ê°’ì„ êº¼ë‚¸ë‹¤. ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ì™„ë²½í•œ ì„¤ê³„ë€ ì—†ë‹¤.\nì½ê¸°, ì“°ê¸° ê·¸ë¦¬ê³  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì‚¬ì´ì— ì–´ë–¤ ê· í˜•ì„ ì°¾ê³ , ë°ì´í„°ì˜ ì¼ê´€ì„±ê³¼ ê°€ìš©ì„± ì‚¬ì´ì—ì„œ íƒ€í˜‘ì  ê²°ì •ì„ ë‚´ë¦° ì„¤ê³„ë¥¼ ë§Œë“¤ì—ˆë‹¤ë©´ ì¶©ë¶„íˆ ì“¸ë§Œí•œ ë‹µì´ë‹¤.\nì´ë²ˆ ì¥ì—ì„œëŠ” ë‹¤ìŒ íŠ¹ì„±ì„ ê°–ëŠ” í‚¤-ê°’ ì €ì¥ì†Œë¥¼ ì„¤ê³„í•´ë³¸ë‹¤.\ní‚¤-ê°’ ìŒì˜ í¬ê¸°ëŠ” 10KB ì´í•˜ì´ë‹¤. í° ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ë†’ì€ ê°€ìš©ì„±ì„ ì œê³µí•´ì•¼í•œë‹¤. ì‹œìŠ¤í…œì€ ì¥ì• ê°€ ìˆë”ë¼ë„ ë¹¨ë¦¬ ì‘ë‹µí•´ì•¼í•œë‹¤. ë†’ì€ ê·œëª¨ í™•ì¥ì„±ì„ ì œê³µí•´ì•¼ í•œë‹¤. íŠ¸ë˜í”½ ì–‘ì— ë”°ë¼ ìë™ì ìœ¼ë¡œ ì„œë²„ ì¦ì„¤/ì‚­ì œê°€ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤. ë°ì´í„° ì¼ê´€ì„± ìˆ˜ì¤€ì€ ì¡°ì •ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. ì‘ë‹µ ì§€ì—°ì‹œê°„(latency)ì´ ì§§ì•„ì•¼ í•œë‹¤. ë‹¨ì¼ ì„œë²„ í‚¤-ê°’ ì €ì¥ì†Œ í•œ ëŒ€ ì„œë²„ë§Œ ì‚¬ìš©í•˜ëŠ” í‚¤-ê°’ ì €ì¥ì†ŒëŠ” ì„¤ê³„ê°€ ì‰½ë‹¤.\nê°€ì¥ ì§ê´€ì ì¸ ë°©ë²•ì€ í‚¤-ê°’ ìŒ ì „ë¶€ë¥¼ ë©”ëª¨ë¦¬ì— í•´ì‹œ í…Œì´ë¸”ë¡œ ì €ì¥í•˜ëŠ” ê²ƒì´ë‹¤.\nì´ ë°©ë²•ì€ ë¹ ë¥¸ ì†ë„ë¥¼ ë³´ì¥í•˜ì§€ë§Œ ëª¨ë“  ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì•ˆì— ë‘ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•  ìˆ˜ë„ ìˆë‹¤.\nì´ ë¬¸ì œì˜ ê°œì„ ì±…ì€ ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆë‹¤.\në°ì´í„° ì••ì¶• ìì£¼ ì“°ì´ëŠ” ë°ì´í„°ë§Œ ë©”ëª¨ë¦¬ì— ë‘ê³  ë‚˜ë¨¸ì§€ëŠ” ë””ìŠ¤í¬ì— ì €ì¥ ì´ë ‡ê²Œ ê°œì„ í•œë‹¤ê³  í•´ë„, í•œ ëŒ€ ì„œë²„ë¡œ ë¶€ì¡±í•œ ë•Œê°€ ì°¾ì•„ì˜¤ë©°, ë§ì€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ì„œ ë¶„ì‚° í‚¤-ê°’ ì €ì¥ì†Œë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤.\në¶„ì‚° í‚¤ ê°’ ì €ì¥ì†Œ ë¶„ì‚° í‚¤ ê°’ ì €ì¥ì†ŒëŠ” í‚¤-ê°’ ìŒì„ ì—¬ëŸ¬ ì„œë²„ì— ë¶„ì‚°ì‹œí‚¤ë¯€ë¡œ ë¶„ì‚° í•´ì‹œ í…Œì´ë¸”ì´ë¼ê³ ë„ ë¶ˆë¦°ë‹¤.\në¶„ì‚° ì‹œìŠ¤í…œì„ ì„¤ê³„í•  ë•ŒëŠ” CAP ì •ë¦¬(Consistency, Availability, Partition Tolerance theorem)ë¥¼ ì´í•´í•˜ê³  ìˆì–´ì•¼ í•œë‹¤.\nCAP ì •ë¦¬ CAP ì •ë¦¬ëŠ” ë°ì´í„° ì¼ê´€ì„±(consistency), ê°€ìš©ì„±(availability), íŒŒí‹°ì…˜ ê°ë‚´(partition tolerance)ë¼ëŠ” ì„¸ê°€ì§€ ìš”êµ¬ì‚¬í•­ì„ ë™ì‹œì— ë§Œì¡±í•˜ëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ì •ë¦¬ì´ë‹¤.\në°ì´í„° ì¼ê´€ì„± ë¶„ì‚° ì‹œìŠ¤í…œì— ì ‘ì†í•˜ëŠ” ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ëŠ” ì–´ë–¤ ë…¸ë“œì— ì ‘ì†í–ˆëŠëƒì— ê´€ê³„ì—†ì´ ì–¸ì œë‚˜ ê°™ì€ ë°ì´í„°ë¥¼ ë³´ê²Œ ë˜ì–´ì•¼ í•œë‹¤. ê°€ìš©ì„± ë¶„ì‚° ì‹œìŠ¤í…œì— ì ‘ì†í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ëŠ” ì¼ë¶€ ë…¸ë“œì— ì¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ í•­ìƒ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. íŒŒí‹°ì…˜ ê°ë‚´ íŒŒí‹°ì…˜ì€ ë‘ ë…¸ë“œ ì‚¬ì´ì— í†µì‹  ì¥ì• ê°€ ë°œìƒí•˜ì˜€ìŒì„ ì˜ë¯¸í•œë‹¤. ë„¤íŠ¸ì›Œí¬ì— íŒŒí‹°ì…˜(ë¶„í• )ì´ ìƒê¸°ë”ë¼ë„ ì‹œìŠ¤í…œì€ ê³„ì† ë™ì‘í•˜ì—¬ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ëœ»í•œë‹¤. ë„¤íŠ¸ì›Œí¬ íŒŒí‹°ì…˜?\ní…Œì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì˜ ì¼ë¶€ ë…¸ë“œë“¤ì´ ì„œë¡œ í†µì‹ í•  ìˆ˜ ì—†ëŠ” ìƒí™©ìœ¼ë¡œ ì¸í•´ ê° ë…¸ë“œë“¤(íŒŒí‹°ì…˜)ì´ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•˜ê²Œ ë˜ì–´ ê° íŒŒí‹°ì…˜ì´ ì„œë¡œ ë‹¤ë¥¸ ìƒíƒœë‚˜ ë°ì´í„°ë¥¼ ê°€ì§€ê²Œ ë˜ëŠ” ìƒí™©\në”°ë¼ì„œ ì´ë“¤ ê°€ìš´ë° ì–´ë–¤ ë‘ ê°€ì§€ë¥¼ ì¶©ì¡±í•˜ë ¤ë©´ ë‚˜ë¨¸ì§€ í•˜ë‚˜ëŠ” ë°˜ë“œì‹œ í¬ìƒë˜ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\ní‚¤ ê°’ ì €ì¥ì†ŒëŠ” ì„¸ ê°€ì§€ ìš”êµ¬ì‚¬í•­ ê°€ìš´ë° ì–´ëŠ ë‘ ê°€ì§€ë¥¼ ë§Œì¡±í•˜ëŠëƒì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤.\nCP: ì¼ê´€ì„±ê³¼ íŒŒí‹°ì…˜ ê°ë‚´ë¥¼ ì§€ì›(ê°€ìš©ì„± í¬ìƒ) AP: ê°€ìš©ì„±ê³¼ íŒŒí‹°ì…˜ ê°ë‚´ë¥¼ ì§€ì›(ë°ì´í„° ì¼ê´€ì„± í¬ìƒ) CA: ì¼ê´€ì„±ê³¼ ê°€ìš©ì„±ì„ ì§€ì›(íŒŒí‹°ì…˜ ê°ë‚´ ì§€ì› ì•ˆí•¨) í†µìƒ ë„¤íŠ¸ì›Œí¬ ì¥ì• ëŠ” í”¼í•  ìˆ˜ ì—†ëŠ” ì¼ë¡œ ì—¬ê²¨ì§€ë¯€ë¡œ, ë¶„ì‚° ì‹œìŠ¤í…œì€ ë°˜ë“œì‹œ íŒŒí‹°ì…˜ ë¬¸ì œë¥¼ ê°ë‚´í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì–´ì•¼ í•œë‹¤. ì‹¤ì„¸ê³„ì—ì„œ CA ì‹œìŠ¤í…œì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. êµ¬ì²´ì  ì‚¬ë¡€ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë°ì´í„°ëŠ” ë³´í†µ ì—¬ëŸ¬ ë…¸ë“œì— ë³µì œë˜ì–´ ë³´ê´€ëœë‹¤.\nì´ìƒì  ìƒíƒœ ì´ìƒì ì¸ í™˜ê²½ì´ë¼ë©´ ë„¤íŠ¸ì›Œí¬ê°€ íŒŒí‹°ì…˜ë˜ëŠ” ìƒí™©ì€ ì ˆëŒ€ë¡œ ì¼ì–´ë‚˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.\nn1ì— ê¸°ë¡ëœ ë°ì´í„°ëŠ” ìë™ì ìœ¼ë¡œ n2, n3ì— ë³µì œë˜ë©° ë°ì´í„° ì¼ê´€ì„±ê³¼ ê°€ìš©ì„±ë„ ë§Œì¡±í•œë‹¤. ì‹¤ì„¸ê³„ì˜ ë¶„ì‚° ì‹œìŠ¤í…œ ë¶„ì‚° ì‹œìŠ¤í…œì€ íŒŒí‹°ì…˜ ë¬¸ì œë¥¼ í”¼í•  ìˆ˜ ì—†ë‹¤.\níŒŒí‹°ì…˜ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì¼ê´€ì„±ê³¼ ê°€ìš©ì„± ì‚¬ì´ì—ì„œ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì•¼ í•œë‹¤.\nn3ì— ì¥ì• ê°€ ë°œìƒí•˜ì—¬ n1, n2ì™€ í†µì‹  í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì—ì„œ\ní´ë¼ì´ì–¸íŠ¸ê°€ n1, n2ì— ê¸°ë¡í•œ ë°ì´í„°ëŠ” n3ì— ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤. n3ì— ê¸°ë¡ë˜ì—ˆìœ¼ë‚˜ n1, n2ë¡œ ì „ë‹¬ë˜ì§€ ì•Šì€ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ì˜¤ë˜ëœ ì‚¬ë³¸ì„ ê°–ê³  ìˆì„ ê²ƒì´ë‹¤. CP ì‹œìŠ¤í…œ\nê°€ìš©ì„± ëŒ€ì‹  ì¼ê´€ì„±ì„ ì„ íƒí•œë‹¤ë©´ ì„¸ ì„œë²„ ì‚¬ì´ì— ìƒê¸¸ ìˆ˜ ìˆëŠ” ë°ì´í„° ë¶ˆì¼ì¹˜ ë¬¸ì œë¥¼ í”¼í•˜ê¸° ìœ„í•´ n1, n2ì— ëŒ€í•´ ì“°ê¸° ì—°ì‚°ì„ ì¤‘ë‹¨ì‹œì¼œì•¼í•œë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ì¼ë¶€ ë…¸ë“œê°€ ì¥ì• ê°€ ë°œìƒí•˜ì—¬ë„ ë™ì‘í•´ì•¼ í•œë‹¤ëŠ” ê°€ìš©ì„±ì´ ê¹¨ì§„ë‹¤.\në°ì´í„° ì¼ê´€ì„±ì„ ì–‘ë³´í•  ìˆ˜ ì—†ëŠ” ì‹œìŠ¤í…œì€ ì´ë ‡ê²Œ ì²˜ë¦¬ë˜ì–´ ìƒí™©ì´ í•´ê²°ë  ë•Œ ê¹Œì§€ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.\nì˜¨ë¼ì¸ ë±…í‚¹ ë“± AP ì‹œìŠ¤í…œ\nì¼ê´€ì„± ëŒ€ì‹  ê°€ìš©ì„±ì„ ì„ íƒí•œ ì‹œìŠ¤í…œì€ ë‚¡ì€ ë°ì´í„°ë¥¼ ë°˜í™˜í•  ìœ„í—˜ì´ ìˆë”ë¼ë„ ê³„ì† ì½ê¸° ì—°ì‚°ì„ í—ˆìš©í•´ì•¼í•œë‹¤.\nn1, n2ëŠ” ê³„ì† ì“°ê¸° ì—°ì‚°ì„ í—ˆìš©í•˜ê³ , íŒŒí‹°ì…˜ ë¬¸ì œê°€ í•´ê²°ëœ ë’¤ ìƒˆ ë°ì´í„°ë¥¼ n3ì— ì „ì†¡í•´ì•¼í•œë‹¤.\në¶„ì‚° í‚¤-ê°’ ì €ì¥ì†Œë¥¼ ë§Œë“¤ ë•ŒëŠ” ê·¸ ìš”êµ¬ì‚¬í•­ì— ë§ë„ë¡ CAP ì •ë¦¬ë¥¼ ì ìš©í•´ì•¼ í•œë‹¤.\në©´ì ‘ ìƒí™©ì—ì„œëŠ” ì´ ë¬¸ì œì— ëŒ€í•´ ë©´ì ‘ê´€ê³¼ ìƒì˜í•˜ê³ , ê·¸ ê²°ë¡ ì— ë”°ë¼ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ë„ë¡ í•˜ì.\nì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ í‚¤-ê°’ ì €ì¥ì†Œ êµ¬í˜•ì— ì‚¬ìš©ë˜ëŠ” í•µì‹¬ ì»´í¬ë„ŒíŠ¸ë“¤ ë° ê¸°ìˆ ì„ ì‚´í´ë³¸ë‹¤.\në°ì´í„° íŒŒí‹°ì…˜ ë°ì´í„° ë‹¤ì¤‘í™” ì¼ê´€ì„± ì¼ê´€ì„± ë¶ˆì¼ì¹˜ í•´ì†Œ ì¥ì•  ì²˜ë¦¬ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ ì“°ê¸° ê²½ë¡œ ì½ê¸° ê²½ë¡œ ë°ì´í„° íŒŒí‹°ì…˜ ëŒ€ê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° ì „ì²´ ë°ì´í„°ë¥¼ í•œ ëŒ€ ì„œë²„ì— ìš±ì—¬ë„£ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\nê°€ì¥ ë‹¨ìˆœí•œ í•´ê²°ì±…ì€ ë°ì´í„°ë¥¼ ì‘ì€ íŒŒí‹°ì…˜ë“¤ë¡œ ë¶„í• í•œ ë‹¤ìŒ ì—¬ëŸ¬ ëŒ€ ì„œë²„ì— ì €ì¥í•˜ëŠ” ê²ƒì´ë‹¤.\në°ì´í„°ë¥¼ ì—¬ëŸ¬ ì„œë²„ì— ê³ ë¥´ê²Œ ë¶„ì‚°í•  ìˆ˜ ìˆëŠ”ê°€ ë…¸ë“œê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë  ë•Œ ë°ì´í„°ì˜ ì´ë™ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆëŠ”ê°€ 5ì¥ì—ì„œ ë‹¤ë£¬ ì•ˆì • í•´ì‹œëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í‘¸ëŠ” ë° ì í•©í•œ ê¸°ìˆ ë¡œ í™œìš©ë  ìˆ˜ ìˆë‹¤.\nì•ˆì • í•´ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ íŒŒí‹°ì…˜í•˜ë©´ ëª‡ê°€ì§€ ì¥ì ì´ ìˆë‹¤.\nê·œëª¨ í™•ì¥ ìë™í™”(automatic scaling) ì‹œìŠ¤í…œ ë¶€í•˜ì— ë”°ë¼ ì„œë²„ê°€ ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë‹¤ì–‘ì„±(heterogeneity) ê° ì„œë²„ì˜ ìš©ëŸ‰ì— ë§ê²Œ ê°€ìƒ ë…¸ë“œì˜ ìˆ˜ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆë‹¤. ê³ ì„±ëŠ¥ ì„œë²„ëŠ” ë” ë§ì€ ê°€ìƒë…¸ë“œë¥¼ ê°–ë„ë¡\u0026hellip; ë°ì´í„° ë‹¤ì¤‘í™” ë†’ì€ ê°€ìš©ì„±ê³¼ ì•ˆì •ì„±ì„ í™•ë³´í•˜ê¸° ìœ„í•´ì„œëŠ” ë°ì´í„°ë¥¼ Nê°œ ì„œë²„ì— ë¹„ë™ê¸°ì ìœ¼ë¡œ ë‹¤ì¤‘í™”í•  í•„ìš”ê°€ ìˆë‹¤.\nì–´ë–¤ í‚¤ë¥¼ í•´ì‹œ ë§ ìœ„ì— ë°°ì¹˜í•œ ìˆ˜, ê·¸ ì§€ì ìœ¼ë¡œë¶€í„° ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ë§ì„ ìˆœíšŒí•˜ë©´ì„œ ë§Œë‚˜ëŠ” ì²« Nê°œ ì„œë²„ì— ë°ì´í„° ì‚¬ë³¸ì„ ë³´ê´€í•œë‹¤.\ní•˜ì§€ë§Œ ê°€ìƒ ë…¸ë“œë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì„ íƒí•œ Nê°œì˜ ë…¸ë“œê°€ ëŒ€ì‘ë  ì‹¤ì œ ë¬¼ë¦¬ ì„œë²„ì˜ ê°œìˆ˜ê°€ Në³´ë‹¤ ì‘ì•„ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ ë¬¸ì œë¥¼ í”¼í•˜ë ¤ë©´ ë…¸ë“œë¥¼ ì„ íƒí•  ë•Œ ê°™ì€ ë¬¼ë¦¬ ì„œë²„ë¥¼ ì¤‘ë³µìœ¼ë¡œ ì„ íƒí•˜ì§€ ì•Šë„ë¡ í•´ì•¼í•œë‹¤.\nê°™ì€ ë°ì´í„° ì„¼í„°ì— ì†í•œ ë…¸ë“œëŠ” ì •ì „, ë„¤íŠ¸ì›Œí¬ ì´ìŠˆ, ìì—° ì¬í•´ ë“±ì˜ ë¬¸ì œë¥¼ ë™ì‹œì— ê°™ì´ ê²ªì„ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë¯€ë¡œ, ì•ˆì •ì„±ì„ ë‹´ë³´í•˜ê¸° ìœ„í•´ ë°ì´í„°ì˜ ì‚¬ë³¸ì€ ë‹¤ë¥¸ ì„¼í„°ì˜ ì„œë²„ì— ë³´ê´€í•˜ê³ , ì„¼í„°ë“¤ì€ ê³ ì† ë„¤íŠ¸ì›Œí¬ë¡œ ì—°ê²°í•œë‹¤.\në°ì´í„° ì¼ê´€ì„± ì—¬ëŸ¬ ë…¸ë“œì— ë‹¤ì¤‘í™”ëœ ë°ì´í„°ëŠ” ì ì ˆíˆ ë™ê¸°í™”ê°€ ë˜ì–´ì•¼ í•œë‹¤.\nì •ì¡±ìˆ˜ í•©ì˜(Quorum Consensus) í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ë©´ ì½ê¸°/ì“°ê¸° ì—°ì‚° ëª¨ë‘ì— ì¼ê´€ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.\nN: ì‚¬ë³¸ì˜ ê°œìˆ˜ W: ì“°ê¸° ì—°ì‚°ì— ëŒ€í•œ ì •ì¡±ìˆ˜ ì“°ê¸° ì—°ì‚°ì´ ì„±ê³µí•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë˜ë ¤ë©´ ì ì–´ë„ Wê°œì˜ ì„œë²„ë¡œë¶€í„° ì“°ê¸° ì—°ì‚°ì´ ì„±ê³µí–ˆë‹¤ëŠ” ì‘ë‹µì„ ë°›ì•„ì•¼í•¨ R: ì½ê¸° ì—°ì‚°ì— ëŒ€í•œ ì •ì¡±ìˆ˜ ì½ê¸° ì—°ì‚°ì´ ì„±ê³µí•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë˜ë ¤ë©´ ì ì–´ë„ Rê°œì˜ ì„œë²„ë¡œë¶€í„° ì‘ë‹µì„ ë°›ì•„ì•¼í•¨ ì¼ë°˜ì ìœ¼ë¡œ N = R + W \u0026gt; N ì¡°ê±´ì„ ë§Œì¡±í•˜ë„ë¡ ì„¤ì •í•˜ë©°, ì½ê¸°ì™€ ì“°ê¸° ìš”ì²­ì´ ì ì–´ë„ í•˜ë‚˜ì˜ ê³µí†µ ë…¸ë“œë¥¼ í†µí•´ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë„ë¡ ë³´ì¥í•œë‹¤.\nW = 1ëŠ” ì“°ê¸° ì—°ì‚°ì´ ì„±ê³µí–ˆë‹¤ê³  íŒë‹¨í•˜ê¸° ìœ„í•´ ì¤‘ì¬ì(coordinator)ëŠ” ìµœì†Œ í•œ ëŒ€ ì„œë²„ë¡œë¶€í„° ì“°ê¸° ì„±ê³µ ì‘ë‹µì„ ë°›ì•„ì•¼í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\ns1ìœ¼ë¡œ ë¶€í„° ì„±ê³µ ì‘ë‹µì„ ë°›ì•˜ë‹¤ë©´, ë‚˜ë¨¸ì§€ ì‘ë‹µì€ ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ë‹¤. ì¤‘ì¬ìëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ë…¸ë“œ ì‚¬ì´ì—ì„œ í”„ë½ì‹œ(proxy)ì—­í• ì„ í•œë‹¤.\nW, R, Nì˜ ê°’ì„ ì •í•˜ëŠ” ê²ƒì€ ì‘ë‹µ ì§€ì—°ê³¼ ë°ì´í„° ì¼ê´€ì„± ì‚¬ì´ì˜ íƒ€í˜‘ì ì„ ì°¾ëŠ” ì „í˜•ì •ì¸ ê³¼ì •ì´ë‹¤.\nW = 1 or R = 1 ì¤‘ì¬ìëŠ” í•œ ëŒ€ ì„œë²„ë¡œë¶€í„°ì˜ ì‘ë‹µë§Œ ë°›ìœ¼ë©´ ë˜ë¯€ë¡œ ì‘ë‹µì†ë„ëŠ” ë¹ ë¥´ë‹¤. W \u0026gt; 1 or R \u0026gt; 1 ë°ì´í„° ì¼ê´€ì„±ì˜ ìˆ˜ì¤€ì€ í–¥ìƒë˜ì§€ë§Œ ì¤‘ì¬ìì˜ ì‘ë‹µ ì†ë„ëŠ” ê°€ì¥ ëŠë¦° ì„œë²„ë¡œë¶€í„°ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë ¤ì•¼ í•˜ë¯€ë¡œ ëŠë ¤ì§„ë‹¤. ë”°ë¼ì„œ W + R \u0026gt; Nì¸ ê²½ìš°ì—ëŠ” ì¼ê´€ì„±ì„ ë³´ì¦í•  ìµœì‹  ë°ì´í„°ë¥¼ ê°€ì§„ ë…¸ë“œê°€ ìµœì†Œ í•˜ë‚˜ëŠ” ê²¹ì¹˜ë¯€ë¡œ ê°•í•œ ì¼ê´€ì„±ì´ ë³´ì¥ëœë‹¤.\nR = 1, W = N ë¹ ë¥¸ ì½ê¸° ì—°ì‚°ì— ìµœì í™”ëœ ì‹œìŠ¤í…œ R = N, W = 1 ë¹ ë¥¸ ì“°ê¸° ì—°ì‚°ì— ìµœì í™”ëœ ì‹œìŠ¤í…œ R + W \u0026gt; N ê°•í•œ ì¼ê´€ì„±ì´ ë³´ì¥ë¨ ë³´í†µ N = 3, W = R = 2 R + W \u0026lt;= N ê°•í•œ ì¼ê´€ì„±ì´ ë³´ì¥ë˜ì§€ ì•ŠìŒ ìš”êµ¬ë˜ëŠ” ì¼ê´€ì„± ìˆ˜ì¤€ì— ë”°ë¼ W, R, N ê°’ì„ ì¡°ì •í•œë‹¤.\nì¼ê´€ì„± ëª¨ë¸\nì¼ê´€ì„± ëª¨ë¸(consistency model)ì€ í‚¤-ê°’ ì €ì¥ì†Œë¥¼ ì„¤ê³„í•  ë•Œ ê³ ë ¤í•´ì•¼ í•  ìš”ì†Œë¡œ ë°ì´í„° ì¼ê´€ì„± ìˆ˜ì¤€ì„ ê²°ì •í•œë‹¤.\nê°•í•œ ì¼ê´€ì„± ëª¨ë“  ì½ê¸° ì—°ì‚°ì€ ìµœì‹  ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ì ˆëŒ€ë¡œ ë‚¡ì€ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ì—†ë‹¤. ì•½í•œ ì¼ê´€ì„± ì½ê¸° ì—°ì‚°ì€ ìµœì‹  ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤. ê²°ê³¼ì  ì¼ê´€ì„± ì•½í•œ ì¼ê´€ì„±ì˜ í•œ í˜•íƒœë¡œ, ê°±ì‹  ê²°ê³¼ê°€ ê²°êµ­ì—ëŠ” ëª¨ë“  ì‚¬ë³¸ì— ë°˜ì˜(ë™ê¸°í™”)ëœë‹¤. ê°•í•œ ì¼ê´€ì„±ì„ ë‹¬ì„±í•˜ëŠ” ì¼ë°˜ì ì¸ ë°©ë²•ì€, ëª¨ë“  ì‚¬ë³¸ì— í˜„ì¬ ì“°ê¸° ì—°ì‚°ì˜ ê²°ê³¼ê°€ ë°˜ì˜ë  ë•Œê¹Œì§€ í•´ë‹¹ ë°ì´í„°ì— ëŒ€í•œ ì½ê¸°/ì“°ê¸°ë¥¼ ê¸ˆì§€í•˜ëŠ” ê²ƒì´ë‹¤.\nìƒˆë¡œìš´ ìš”ì²­ì˜ ì²˜ë¦¬ê°€ ì¤‘ë‹¨ë˜ë¯€ë¡œ ê³  ê°€ìš©ì„± ì‹œìŠ¤í…œì—ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤. ë‹¤ì´ë‚˜ëª¨ ë˜ëŠ” ì¹´ì‚°ë“œë¼ ê°™ì€ ì €ì¥ì†ŒëŠ” ê²°ê³¼ì  ì¼ê´€ì„± ëª¨ë¸ì„ íƒí•˜ê³  ìˆë‹¤.\nê²°ê³¼ì  ì¼ê´€ì„± ëª¨ë¸ì„ ë”°ë¥¼ ê²½ìš° ì“°ê¸° ì—°ì‚°ì´ ë³‘ë ¬ì ìœ¼ë¡œ ë°œìƒí•˜ë©´ ì‹œìŠ¤í…œì— ì €ì¥ëœ ê°’ì˜ ì¼ê´€ì„±ì´ ê¹¨ì–´ì§ˆ ìˆ˜ ìˆëŠ”ë°, ì´ ë¬¸ì œëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ í•´ê²°í•´ì•¼í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë°ì´í„°ì˜ ë²„ì „ ì •ë³´ë¥¼ í™œìš©í•´ ì¼ê´€ì„±ì´ ê¹¨ì§„ ë°ì´í„°ë¥¼ ì½ì§€ ì•Šë„ë¡ í•´ì•¼í•œë‹¤. ë°ì´í„°ë¥¼ ë‹¤ì¤‘í™”í•˜ë©´ ê°€ìš©ì„±ì€ ë†’ì•„ì§€ì§€ë§Œ ì‚¬ë³¸ ê°„ ì¼ê´€ì„±ì´ ê¹¨ì§ˆ ê°€ëŠ¥ì„±ì€ ë†’ì•„ì§„ë‹¤.\në¹„ ì¼ê´€ì„± í•´ì†Œ ê¸°ë²•: ë°ì´í„° ë²„ì €ë‹\në²„ì €ë‹ì€ ë°ì´í„°ë¥¼ ë³€ê²½í•  ë•Œë§ˆë‹¤ í•´ë‹¹ ë°ì´í„°ì˜ ìƒˆë¡œìš´ ë²„ì „ì„ ë§Œë“ ë‹¤.\nê° ë²„ì „ì€ ë³€ê²½ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì„œë²„ 1, 2ê°€ ë‹¤ë¥¸ ë…¸ë“œì˜ ê°™ì€nameì˜ ê°’ì„ ë™ì‹œì— ë³€ê²½í•˜ì—¬ ì¶©ëŒì´ ë°œìƒí–ˆë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ ê°ê°ì„ ë²„ì „ v1, v2ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ì¶©ëŒ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´, ì¶©ëŒì„ ë°œê²¬í•˜ê³  ìë™ìœ¼ë¡œ í•´ê²°í•´ ë‚¼ ë²„ì €ë‹ ì‹œìŠ¤í…œì´ í•„ìš”í•˜ë‹¤.\në°±í„° ì‹œê³„(vector clock)ëŠ” [ì„œë²„, ë²„ì „]ì˜ ìˆœì„œ ìŒì„ ë°ì´í„°ì— ë§¤ë‹¨ ê²ƒìœ¼ë¡œ ì¶©ëŒ ë¬¸ì œë¥¼ í‘¸ëŠ”ë° ë³´í¸ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.\nì–´ë–¤ ë²„ì „ì´ ì„ í–‰ ë²„ì „ì¸ì§€, í›„í–‰ ë²„ì „ì¸ì§€, ì¶©ëŒì´ ìˆëŠ”ì§€ íŒë³„í•˜ëŠ” ë° ì“°ì¸ë‹¤. ë°ì´í„° Dë¥¼ ì„œë²„ Siì— ê¸°ë¡í•˜ë ¤ë©´ ì•„ë˜ ì‘ì—… ê°€ìš´ë° í•˜ë‚˜ë¥¼ ìˆ˜í–‰í•´ì•¼í•œë‹¤.\n[Si, Vi]ê°€ ìˆìœ¼ë©´ Vië¥¼ ì¦ê°€ì‹œí‚¨ë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ìƒˆ í•­ëª© [Si, 1]ì„ ë§Œë“ ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ D1ì„ ì‹œìŠ¤í…œì— ê¸°ë¡í•œë‹¤. ì²˜ë¦¬í•œ ì„œë²„ëŠ” Sxì´ë¯€ë¡œ ë°±í„° ì‹œê³„ëŠ” D1[Sx, 1]ìœ¼ë¡œ ë³€í•œë‹¤. ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ê°€ D1ì„ ì½ê³  D2ë¡œ ì—…ë°ì´íŠ¸í•œ ë‹¤ìŒ ê¸°ë¡í•œë‹¤. D2ëŠ” D1ì˜ ë³€ê²½ì´ë¯€ë¡œ ë®ì–´ì“´ë‹¤. Sxê°€ ì²˜ë¦¬í–ˆìœ¼ë¯€ë¡œ ë²¡í„° ì‹œê³„ë¥¼ D2[Sx, 2]ë¡œ ë³€ê²½í•œë‹¤. ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ê°€ D2ë¥¼ ì½ì–´ D3ë¡œ ê°±ì‹ í•œ ë‹¤ìŒ ê¸°ë¡í•œë‹¤. Syê°€ ì²˜ë¦¬í–ˆìœ¼ë¯€ë¡œ ë°±í„° ì‹œê³„ ìƒíƒœëŠ” D3([Sx, 2], [Sy, 1]) ë˜ ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ê°€ D2ë¥¼ ì½ê³  D4ë¡œ ê°±ì‹ í•œ í›„ ê¸°ë¡í•œë‹¤. Szê°€ ì²˜ë¦¬í–ˆìœ¼ë¯€ë¡œ ë°±í„° ì‹œê³„ ìƒíƒœëŠ” D4([Sx, 2], [Sz, 1]) ì–´ë–¤ í´ë¼ì´ì–¸íŠ¸ê°€ D3ê³¼ D4ë¥¼ ì½ìœ¼ë©´ ë°ì´í„° ê°„ ì¶©ëŒì´ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ë¯€ë¡œ, í´ë¼ì´ì–¸íŠ¸ê°€ í•´ì†Œí•œ í›„ ì„œë²„ì— ê¸°ë¡í•œë‹¤. Sxê°€ ì²˜ë¦¬í–ˆìœ¼ë¯€ë¡œ ë°±í„° ì‹œê³„ëŠ” D5([Sx, 3], [Sy, 1], [Sz, 1])ë¡œ ë°”ë€ë‹¤. ë²¡í„° ì‹œê³„ë¥¼ ì´ìš©í•˜ë©´ ë²„ì „ Yì— í¬í•¨ëœ ëª¨ë“  êµ¬ì„± ìš”ì†Œì˜ ê°’ì´ Xì— í¬í•¨ëœ ëª¨ë“  êµ¬ì„±ìš”ì†Œ ê°’ë³´ë‹¤ ê°™ê±°ë‚˜ í°ì§€ë§Œ í™•ì¸í•˜ë©´ ì–´ë–¤ ë²„ì „ Xê°€ ë²„ì „ Yì˜ ì´ì „ ë²„ì „ì¸ì§€ ì‰½ê²Œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.\nD([s0, 1], [s1, 1])ì€ D([s0, 1], [s1, 2])ë³´ë‹¤ ì´ì „ ë²„ì „ì´ë‹¤.(ì¶©ëŒ X) ì–´ë–¤ ë²„ì „ Xì™€ Y ì‚¬ì´ì— ì¶©ëŒì´ ìˆëŠ”ì§€ ë³´ë ¤ë©´ Yì˜ ë²¡í„° ì‹œê³„ êµ¬ì„± ìš”ì†Œ ê°€ìš´ë° Xì˜ ë²¡í„° ì‹œê³„ ë™ì¼ ì„œë²„ êµ¬ì„±ìš”ì†Œë³´ë‹¤ ì‘ì€ ê°’ì„ ê°–ëŠ” ê²ƒì´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.\nD([s0, 1], [s1, 2]), D([s0, 2], [s1, 1])ëŠ” ì„œë¡œ ì¶©ëŒí•œë‹¤. ë²¡í„° ì‹œê³„ë¥¼ í†µí•´ ì¶©ëŒ ê°ì§€í•˜ê³  í•´ì†Œí•˜ëŠ” ë°©ë²•ì—ëŠ” ë‘ ê°€ì§€ ë‹¨ì ì´ ìˆë‹¤.\nì¶©ëŒ ê°ì§€ ë° í•´ì†Œ ë¡œì§ì´ í´ë¼ì´ì–¸íŠ¸ì— ë“¤ì–´ê°€ì•¼ í•˜ë¯€ë¡œ, í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ì´ ë³µì¡í•´ì§„ë‹¤. [ì„œë²„: ë²„ì „]ì˜ ìˆœì„œìŒ ê°œìˆ˜ê°€ êµ‰ì¥íˆ ë¹¨ë¦¬ ëŠ˜ì–´ë‚œë‹¤. ìˆœì„œìŒ ê°œìˆ˜ì— ì„ê³„ì¹˜ë¥¼ ì„¤ì •í•˜ê³ , ì„ê³„ì¹˜ ì´ìƒìœ¼ë¡œ ê¸¸ì´ê°€ ê¸¸ì–´ì§€ë©´ ì˜¤ë˜ëœ ìˆœì„œìŒì„ ë°±í„° ì‹œê³„ì—ì„œ ì œê±°í•œë‹¤. ë²„ì „ ê°„ ì„ í›„ ê´€ê³„ê°€ ì •í™•í•˜ê²Œ ê²°ì •ë  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì¶©ëŒ í•´ì†Œ ê³¼ì •ì˜ íš¨ìœ¨ì„±ì´ ë‚®ì•„ì§ˆ ìˆ˜ ìˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ê·¸ëŸ° ë¬¸ì œëŠ” ê±°ì˜ ë°œìƒí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ëŒ€ë¶€ë¶„ ê¸°ì—…ì—ì„œ ê´œì°®ë‹¤. ì¥ì•  ì²˜ë¦¬ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì—ì„œ ì¥ì• ëŠ” ì•„ì£¼ í”í•˜ê²Œ ë²Œì–´ì§€ë¯€ë¡œ ì¥ì• ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•  ê²ƒì´ëƒ í•˜ëŠ” ê²ƒì€ êµ‰ì¥íˆ ì¤‘ìš”í•œ ë¬¸ì œì´ë‹¤.\nì¥ì•  ê°ì§€ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œëŠ” ì„œë²„ Aì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ë°”ë¡œ ì¥ì• ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šê³ , ë³´í†µ ë‘ ëŒ€ ì´ìƒì˜ ì„œë²„ê°€ ë˜‘ê°™ì´ ì„œë²„ Aì— ëŒ€í•´ ì¥ì• ë¥¼ ë³´ê³ í•´ì•¼ í•´ë‹¹ ì„œë²„ì— ì‹¤ì œë¡œ ì¥ì• ê°€ ë°œìƒí–ˆë‹¤ê³  ê°„ì£¼í•œë‹¤.\nëª¨ë“  ë…¸ë“œ ì‚¬ì´ì— ë©€í‹°ìºìŠ¤íŒ… ì±„ë„ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì„œë²„ ì¥ì• ë¥¼ ê°ì§€í•˜ëŠ” ì†ì‰¬ìš´ ë°©ë²•ì´ë‚˜, ì´ ë°©ë²•ì€ ì„œë²„ê°€ ë§ì„ ë•Œ ë¹„íš¨ìœ¨ì ì´ë‹¤.\në”°ë¼ì„œ ê°€ì‹­ í”„ë¡œí† ì½œ(gossip protocol) ê°™ì€ ë¶„ì‚°í˜• ì¥ì•  ê°ì§€ ì†”ë£¨ì…˜ì„ ì±„íƒí•˜ëŠ” í¸ì´ ë³´ë‹¤ íš¨ìœ¨ì ì´ë‹¤.\nê° ë…¸ë“œëŠ” ë§´ë²„ì‹­ ëª©ë¡ì„ ìœ ì§€í•œë‹¤. ë§´ë²„ì‹­ ëª©ë¡: ê° ë§´ë²„ IDì™€ ê·¸ ë°•ë™ ì¹´ìš´í„°(heartbeat counter) ìŒì˜ ëª©ë¡ ê° ë…¸ë“œëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ìì‹ ì˜ ë°•ë™ ì¹´ìš´í„°ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤. ê° ë…¸ë“œëŠ” ë¬´ì‘ìœ„ë¡œ ì„ ì •ëœ ë…¸ë“œë“¤ì—ê²Œ ì£¼ê¸°ì ìœ¼ë¡œ ìê¸° ë°•ë™ ì¹´ìš´í„° ëª©ë¡ì„ ë³´ë‚¸ë‹¤. ë°•ë™ ì¹´ìš´í„° ëª©ë¡ì„ ë°›ì€ ë…¸ë“œëŠ” ë§´ë²„ì‹­ ëª©ë¡ì„ ìµœì‹  ê°’ìœ¼ë¡œ ê°±ì‹ í•œë‹¤. ì–´ë–¤ ë§´ë²„ì˜ ë°•ë™ ì¹´ìš´í„° ê°’ì´ ì§€ì •ëœ ì‹œê°„ ë™ì•ˆ ê°±ì‹ ë˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ ë©¤ë²„ëŠ” ì¥ì•  ìƒíƒœì¸ ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤. ì¼ì‹œì  ì¥ì•  ì²˜ë¦¬ ì¥ì• ë¥¼ ê°ì§€í•œ ì‹œìŠ¤í…œì€ ê°€ìš©ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì¡°ì¹˜ë¥¼ í•´ì•¼í•œë‹¤.\nì—„ê²©í•œ ì •ì¡±ìˆ˜ ì ‘ê·¼ë²•ì€ ì½ê¸°ì™€ ì“°ê¸° ì—°ì‚°ì„ ê¸ˆì§€í•œë‹¤. ëŠìŠ¨í•œ ì •ì¡±ìˆ˜ ì ‘ê·¼ë²•ì€ ì“°ê¸° ì—°ì‚°ì„ ìˆ˜í–‰í•  Wê°œì˜ ê±´ê°•í•œ ì„œë²„ì™€ ì½ê¸° ì—°ì‚°ì„ ìˆ˜í–‰í•  Rê°œì˜ ê±´ê°•í•œ ì„œë²„ë¥¼ í•´ì‹œ ë§ì—ì„œ ê³ ë¥¸ë‹¤.(ì¥ì•  ì„œë²„ëŠ” ë¬´ì‹œ) ì¥ì•  ìƒíƒœì¸ ì„œë²„ë¡œ ê°€ëŠ” ìš”ì²­ì€ ë‹¤ë¥¸ ì„œë²„ê°€ ì ì‹œ ë§¡ì•„ ì²˜ë¦¬í•œë‹¤. ê·¸ë™ì•ˆ ë°œìƒí•œ ë³€ê²½ ì‚¬í•­ì€ ì¥ì•  ì„œë²„ê°€ ë³µêµ¬ ë˜ì—ˆì„ ë•Œ ì¼ê´„ ë°˜ì˜í•˜ì—¬ ë°ì´í„° ì¼ê´€ì„±ì„ ë³´ì¡´í•œë‹¤. ì„ì‹œë¡œ ì“°ê¸° ì—°ì‚°ì„ ì²˜ë¦¬í•œ ì„œë²„ì—ëŠ” ê·¸ì— ê´€í•œ ë‹¨ì„œë¥¼ ë‚¨ê²¨ë‘”ë‹¤. ë‹¨ì„œ í›„ ì„ì‹œ ìœ„íƒ(hinted handoff) ì¥ì•  ìƒíƒœì¸ s2ì— ëŒ€í•œ ì½ê¸° ë° ì“°ê¸° ì—°ì‚°ì€ ì¼ì‹œì ìœ¼ë¡œ s3ê°€ ì²˜ë¦¬í•˜ë©°, s2ê°€ ë³µêµ¬ë˜ë©´ s3ëŠ” ê°±ì‹ ëœ ë°ì´í„°ë¥¼ s2ë¡œ ì¸ê³„í•œë‹¤.\nì˜êµ¬ ì¥ì•  ì²˜ë¦¬ ì˜êµ¬ì ì¸ ë…¸ë“œì˜ ì¥ì•  ìƒíƒœëŠ” ë°˜-ì—”íŠ¸ë¡œí”¼(anti-entropy) í”„ë¡œí† ì½œì„ êµ¬í˜„í•˜ì—¬ ì‚¬ë³¸ë“¤ì„ ë™ê¸°í™”í•œë‹¤.\në°˜-ì—”íŠ¸ë¡œí”¼ í”„ë¡œí† ì½œì€ ì‚¬ë³¸ë“¤ì„ ë¹„êµí•˜ì—¬ ìµœì‹  ë²„ì „ìœ¼ë¡œ ê°±ì‹ í•˜ëŠ” ê³¼ì •ì„ í¬í•¨í•œë‹¤.\nì‚¬ë³¸ ê°„ì˜ ì¼ê´€ì„±ì´ ë§ê°€ì§„ ìƒíƒœë¥¼ íƒì§€í•˜ê³  ì „ì†¡ ë°ì´í„°ì˜ ì–‘ì„ ì¤„ì´ê¸° ìœ„í•´ì„œ ë¨¸í´(Merkle) íŠ¸ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤.\në¨¸í´ íŠ¸ë¦¬?\ní•´ì‹œ íŠ¸ë¦¬ë¼ê³  ë¶ˆë¦¬ëŠ” ë¨¸í´ íŠ¸ë¦¬ëŠ” ê° ë…¸ë“œì— ê·¸ ìì‹ ë…¸ë“œë“¤ì˜ ë³´ê´€ëœ ê°’ì˜ í•´ì‹œ(ìì‹ ë…¸ë“œê°€ leafì¸ ê²½ìš°) ë˜ëŠ” ìì‹ ë…¸ë“œë“¤ì˜ ë ˆì´ë¸”ë¡œë¶€í„° ê³„ì‚°ëœ í•´ì‹œ ê°’ì„ ë ˆì´ë¸”ë¡œ ë¶™ì—¬ë‘ëŠ” íŠ¸ë¦¬\ní•´ì‹œ íŠ¸ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ëŒ€ê·œëª¨ ìë£Œ êµ¬ì¡°ì˜ ë‚´ìš©ì„ íš¨ê³¼ì ì´ë©´ì„œë„ ë³´ì•ˆìƒ ì•ˆì „í•œ ë°©ë²•ìœ¼ë¡œ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.\n1 ë‹¨ê³„\ní‚¤ ê³µê°„ì„ ë²„í‚·ìœ¼ë¡œ ë‚˜ëˆˆë‹¤.\n2 ë‹¨ê³„\në²„í‚·ì— í¬í•¨ëœ ê°ê°ì˜ í‚¤ì— ê· ë“± ë¶„í¬ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì ìš©í•˜ì—¬ í•´ì‹œ ê°’ì„ ê³„ì‚°í•œë‹¤.\n3 ë‹¨ê³„\në²„í‚· ë³„ë¡œ í•´ì‹œê°’ì„ ê³„ì‚°í•œ í›„, í•´ë‹¹ í•´ì‹œ ê°’ì„ ë ˆì´ë¸”ë¡œ ê°–ëŠ” ë…¸ë“œë¥¼ ë§Œë“ ë‹¤.\n4 ë‹¨ê³„\nìì‹ ë…¸ë“œì˜ ë ˆì´ë¸”ë¡œë¶€í„° ìƒˆë¡œìš´ í•´ì‹œê°’ì„ ê³„ì‚°í•˜ì—¬, ì´ì§„ íŠ¸ë¦¬ë¥¼ ìƒí–¥ì‹ìœ¼ë¡œ êµ¬ì„±í•´ ë‚˜ê°„ë‹¤.\në‘ ë¨¸í´ íŠ¸ë¦¬ì˜ ë¹„êµëŠ” ë£¨íŠ¸ ë…¸ë“œì˜ í•´ì‹œê°’ì„ ë¹„êµí•˜ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘í•˜ë©°, ë‹¤ë¥¸ ë°ì´í„°ë¥¼ ê°–ëŠ” ë²„í‚·ì„ ì°¾ì„ ê²½ìš° ê·¸ ë²„í‚·ë“¤ë§Œ ë™ê¸°í™”í•œë‹¤.\në¨¸í´ íŠ¸ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ë™ê¸°í™”í•´ì•¼ í•˜ëŠ” ë°ì´í„° ì–‘ì€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ì°¨ì´ì˜ í¬ê¸°ì— ë¹„ë¡€í•  ë¿, ë‘ ì„œë²„ì— ë³´ê´€ëœ ë°ì´í„°ì˜ ì´ëŸ‰ê³¼ëŠ” ë¬´ê´€í•´ì§„ë‹¤.\nì‹¤ì œë¡œ ì“°ì´ëŠ” ì‹œìŠ¤í…œì˜ ê²½ìš° ë²„í‚· í•˜ë‚˜ì˜ í¬ê¸°ê°€ ê½¤ í¬ë‹¤. 10ì–µ(1B) ê°œì˜ í‚¤ë¥¼ ë°±ë§Œ(1M) ê°œì˜ ë²„í‚·ìœ¼ë¡œ ê´€ë¦¬í•˜ë©´, í•˜ë‚˜ì˜ ë²„í‚·ì€ 1,000ê°œ í‚¤ë¥¼ ê´€ë¦¬í•œë‹¤. ë°ì´í„° ì„¼í„° ì¥ì•  ì²˜ë¦¬ ë°ì´í„° ì„¼í„° ì¥ì• ëŠ” ì •ì „, ë„¤íŠ¸ì›Œí¬ ì¥ì• , ìì—°ì¬í•´ ë“± ë‹¤ì–‘í•œ ì´ìœ ë¡œ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\në°ì´í„° ì„¼í„°ì˜ ì¥ì• ì— ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì„ ë§Œë“œë ¤ë©´ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë°ì´í„° ì„¼í„°ì— ë‹¤ì¤‘í™”í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ í´ë¼ì´ì–¸íŠ¸ëŠ” í‚¤-ê°’ ì €ì¥ì†Œê°€ ì œê³µí•˜ëŠ” ë‘ ê°€ì§€ ë‹¨ìˆœí•œ API, get(key), put(key, value)ì™€ í†µì‹ í•œë‹¤. ì¤‘ì¬ìëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í‚¤-ê°’ ì €ì¥ì†Œì— ëŒ€í•œ í”„ë½ì‹œ ì—­í• ì„ í•˜ëŠ” ë…¸ë“œë‹¤. ë…¸ë“œëŠ” ì•ˆì • í•´ì‹œì˜ í•´ì‹œ ë§ ìœ„ì— ë¶„í¬í•œë‹¤. ë…¸ë“œë¥¼ ìë™ìœ¼ë¡œ ì¶”ê°€ ë˜ëŠ” ì‚­ì œí•  ìˆ˜ ìˆë„ë¡, ì‹œìŠ¤í…œì€ ì™„ì „íˆ ë¶„ì‚°ëœë‹¤. ë°ì´í„°ëŠ” ì—¬ëŸ¬ ë…¸ë“œì— ë‹¤ì¤‘í™”ëœë‹¤. ëª¨ë“  ë…¸ë“œê°€ ê°™ì€ ì±…ì„ì„ ì§€ë¯€ë¡œ, SPOF(Single Point of Failure)ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ì™„ì „íˆ ë¶„ì‚°ëœ ì„¤ê³„ë¥¼ ì±„íƒí•˜ì˜€ìœ¼ë¯€ë¡œ ëª¨ë“  ë…¸ë“œëŠ” ì œì‹œëœ ê¸°ëŠ¥ì„ ì „ë¶€ ì§€ì›í•´ì•¼í•œë‹¤.\nì“°ê¸° ê²½ë¡œ ì“°ê¸° ìš”ì²­ì´ ì»¤ë°‹ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ëœë‹¤. ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ ìºì‹œì— ê¸°ë¡ëœë‹¤. ë©”ëª¨ë¦¬ ìºì‹œê°€ ê°€ë“ ì°¨ê±°ë‚˜ ì‚¬ì „ì— ì •ì˜ëœ ì„ê³„ì¹˜ì— ë„ë‹¬í•˜ë©´ ë°ì´í„°ëŠ” ë””ìŠ¤í¬ì— ìˆëŠ” SSTableì— ê¸°ë¡ëœë‹¤. SSTable: Sorted-String Tableì˜ ì•½ì–´ë¡œ \u0026lt;í‚¤, ê°’\u0026gt; ì˜ ìˆœì„œìŒì„ ì •ë ¬ëœ ë¦¬ìŠ¤íŠ¸ë¡œ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”ì´ë‹¤. ì½ê¸° ê²½ë¡œ ì½ê¸° ìš”ì²­ì„ ë°›ì€ ë…¸ë“œëŠ” ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ ìºì‹œì— ìˆëŠ”ì§€ë¶€í„° ì‚´í•€ í›„ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•œë‹¤.\në°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ì—†ëŠ” ê²½ìš° ë””ìŠ¤í¬ì—ì„œ ê°€ì ¸ì˜¨ë‹¤.\nì–´ëŠ SSTableì— ì°¾ëŠ” í‚¤ê°€ ìˆëŠ”ì§€ íš¨ìœ¨ì ìœ¼ë¡œ ì°¾ê¸° ìœ„í•´ ë¸”ë£¸ í•„í„°(Bloom filter)ê°€ í”íˆ ì‚¬ìš©ëœë‹¤.\në°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ìˆëŠ”ì§€ ê²€ì‚¬í•˜ê³  ìˆë‹¤ë©´ ë°˜í™˜í•œë‹¤. ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ì—†ìœ¼ë¯€ë¡œ ë¸”ë£¸ í•„í„°ë¥¼ ê²€ì‚¬í•œë‹¤. ë¸”ë£¸ í•„í„°ë¥¼ í†µí•´ ì–´ë–¤ SSTableì— í‚¤ê°€ ë³´ê´€ë˜ì–´ ìˆëŠ”ì§€ ì•Œì•„ë‚¸ë‹¤. SSTableì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. í•´ë‹¹ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•œë‹¤. ìš”ì•½ ëª©í‘œ/ë¬¸ì œ ê¸°ìˆ  ëŒ€ê·œëª¨ ë°ì´í„° ì €ì¥ ì•ˆì • í•´ì‹œë¥¼ ì‚¬ìš©í•´ ì„œë²„ë“¤ì— ë¶€í•˜ ë¶„ì‚° ì½ê¸° ì—°ì‚°ì— ëŒ€í•œ ë†’ì€ ê°€ìš©ì„± ë³´ì¥ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë°ì´í„°ì„¼í„°ì— ë‹¤ì¤‘í™” ì“°ê¸° ì—°ì‚°ì— ëŒ€í•œ ë†’ì€ ê°€ìš©ì„± ë³´ì¥ ë²„ì €ë‹ ë° ë°±í„° ì‹œê³„ë¥¼ ì‚¬ìš©í•œ ì¶©ëŒ í•´ì†Œ ë°ì´í„° íŒŒí‹°ì…˜ ì•ˆì • í•´ì‹œ ì ì§„ì  ê·œëª¨ í™•ì¥ì„± ì•ˆì • í•´ì‹œ ë‹¤ì–‘ì„±(heterogeneity) ì•ˆì • í•´ì‹œ ì¡°ì ˆ ê°€ëŠ¥í•œ ë°ì´í„° ì¼ê´€ì„± ì •ì¡±ìˆ˜ í•©ì˜(quorum consensus) ì¼ì‹œì  ì¥ì•  ì²˜ë¦¬ ëŠìŠ¨í•œ ì •ì¡±ìˆ˜ í”„ë¡œí† ì½œ(sloppy quorum)ê³¼ ë‹¨ì„œ í›„ ì„ì‹œ ìœ„íƒ(hinted handoff) ì˜êµ¬ì  ì¥ì•  ì²˜ë¦¬ ë¨¸í´ íŠ¸ë¦¬(Merkle tree) ë°ì´í„° ì„¼í„° ì¥ì•  ëŒ€ì‘ ì—¬ëŸ¬ ë°ì´í„° ì„¼í„°ì— ê±¸ì¹œ ë°ì´í„° ë‹¤ì¤‘í™” ","date":"2024-05-27T11:59:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/6/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/6/","title":"6. í‚¤-ê°’ ì €ì¥ì†Œ ì„¤ê³„"},{"content":"ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì„±ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ìš”ì²­ ë˜ëŠ” ë°ì´í„°ë¥¼ ì„œë²„ì— ê· ë“±í•˜ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì•ˆì • í•´ì‹œëŠ” ì´ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ë³´í¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ì´ë‹¤.\ní•´ì‹œ í‚¤ ì¬ë°°ì¹˜(rehash) ë¬¸ì œ Nê°œì˜ ìºì‹œ ì„œë²„ê°€ ìˆì„ ë•Œ, ë¶€í•˜ë¥¼ ê· ë“±í•˜ê²Œ ë‚˜ëˆ„ëŠ” ë³´í¸ì  ë°©ë²•ì€ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.\n1 serverIndex = hash(key) % N ì´ 4ëŒ€ì˜ ì„œë²„ë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ì£¼ì–´ì§„ ê°ê°ì˜ í‚¤ì— ëŒ€í•´ ì•„ë˜ì™€ ê°™ì´ ê³„ì‚°ë  ìˆ˜ ìˆë‹¤.\ní‚¤ í•´ì‹œ í•´ì‹œ % 4(ì„œë²„ ì¸ë±ìŠ¤) key0 18358617 1 key1 26143584 0 key2 18131146 2 key3 35863496 0 key4 34085809 1 key5 27581703 3 key6 38164978 2 key7 22530351 3 í‚¤ ê°’ì„ í•´ì‹±í•œ ê°’ì— ë‚˜ë¨¸ì§€ ì—°ì‚°ì„ í•˜ì—¬ ì €ì¥ë  ì„œë²„ê°€ ê²°ì •ëœë‹¤.\nì´ ë°©ì‹ì€ ì„œë²„ í’€ì˜ í¬ê¸°ê°€ ê³ ì •ë˜ì–´ ìˆì„ ë•Œ, ë°ì´í„° ë¶„í¬ê°€ ê· ë“±í•  ë•Œ ì˜ ë™ì‘í•œë‹¤.\ní•˜ì§€ë§Œ ì„œë²„ê°€ ì¶”ê°€ë˜ê±°ë‚˜, ê¸°ì¡´ ì„œë²„ê°€ ì‚­ì œë˜ë©´ ë‚˜ë¨¸ì§€ ì—°ì‚° ê²°ê³¼ ê°’ì´ ë³€í•˜ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë°œìƒí•œë‹¤.\ní‚¤ í•´ì‹œ í•´ì‹œ % 3(ì„œë²„ ì¸ë±ìŠ¤) key0 18358617 0 key1 26143584 0 key2 18131146 1 key3 35863496 2 key4 34085809 1 key5 27581703 0 key6 38164978 1 key7 22530351 0 ë”°ë¼ì„œ ì•„ë˜ì™€ ê°™ì€ í˜•íƒœë¡œ í‚¤ì˜ ë¶„í¬ê°€ ë°”ë€ë‹¤.\nì¥ì• ê°€ ë°œìƒí•œ 1ë²ˆ ì„œë²„ì— ë³´ê´€ë˜ì–´ ìˆëŠ” í‚¤ ë¿ë§Œ ì•„ë‹Œ ëŒ€ë¶€ë¶„ì˜ í‚¤ê°€ ì¬ë¶„ë°°ë˜ì–´, ëŒ€ë¶€ë¶„ ìºì‹œ í´ë¼ì´ì–¸íŠ¸ê°€ ë°ì´í„°ê°€ ì—†ëŠ” ì„œë²„ì— ì ‘ì†í•˜ê²Œëœë‹¤.\nì´ë¡œ ì¸í•´ ëŒ€ê·œëª¨ ìºì‹œ ë¯¸ìŠ¤ê°€ ë°œìƒí•˜ê²Œë˜ëŠ”ë°, ì•ˆì • í•´ì‹œëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í•´ê²°í•˜ëŠ” ë°©ì‹ì´ë‹¤.\nì•ˆì • í•´ì‹œ ì•ˆì • í•´ì‹œëŠ” í•´ì‹œ í…Œì´ë¸” í¬ê¸°ê°€ ì¡°ì •ë  ë•Œ í‰ê· ì ìœ¼ë¡œ k/nê°œì˜ í‚¤ë§Œ ì¬ë¹„ì¹˜í•˜ëŠ” í•´ì‹œ ê¸°ìˆ ì´ë‹¤.\nk: í‚¤ì˜ ê°œìˆ˜ n: ìŠ¬ë¡¯ì˜ ê°œìˆ˜ ì´ì™€ëŠ” ë‹¬ë¦¬ ëŒ€ë¶€ë¶„ì˜ ì „í†µì ì¸ í•´ì‹œ í…Œì´ë¸”ì€ ìŠ¬ë¡¯ì˜ ìˆ˜ê°€ ë°”ë€Œë©´ ê±°ì˜ ëŒ€ë¶€ë¶„ í‚¤ë¥¼ ì¬ë°°ì¹˜í•œë‹¤.\ní•´ì‹œ ê³µê°„ê³¼ í•´ì‹œ ë§ SHA-1 í•´ì‹œí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©°, ì¶œë ¥ ê°’ì˜ ë²”ìœ„ëŠ” x0, x1 ... xnì´ë¼ê³  ê°€ì •í•œë‹¤. SHA-1ì˜ í•´ì‹œ ê³µê°„(hash space) ë²”ìœ„ëŠ” 0 ë¶€í„° 2^160 - 1 ê¹Œì§€ë¼ê³  ì•Œë ¤ì ¸ ìˆë‹¤. ë”°ë¼ì„œ x0 = 0, xn -1 = 2^160 - 1ì´ë©°, ë‘ ìˆ˜ ì‚¬ì´ì˜ ê°’ì„ ê°–ê²Œ ëœë‹¤.\nì´ í•´ì‹œ ê³µê°„ì˜ ì–‘ìª½ì„ ì—°ê²°í•˜ë³€ í•´ì‹œ ë§ì´ ë§Œë“¤ì–´ì§„ë‹¤.\ní•´ì‹œ ì„œë²„ í•´ì‹œ í•¨ìˆ˜ fë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë²„(IP, ì´ë¦„ ë“±)ë¥¼ ë§ ìœ„ì˜ ì–´ë”˜ê°€ì— ëŒ€ì‘ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\ní•´ì‹œ í‚¤ ì•ˆì • í•´ì‹œì—ì„œ ì‚¬ìš©ë˜ëŠ” í•´ì‹œ í•¨ìˆ˜ëŠ” ì „í†µì ì¸ í•´ì‹œ í‚¤ ë°©ì‹ì—ì„œ ì–¸ê¸‰ëœ ë°©ì‹ê³¼ ë‹¤ë¥´ë©°, ë§Œë“¤ì–´ì§ˆ ìˆ˜ ìˆëŠ” ëª¨ë“  í•´ì‹œ ê³µê°„ x0 ... xnì„ ì—°ê²°í•œ í˜•íƒœì´ë¯€ë¡œ ë‚˜ë¨¸ì§€ ì—°ì‚°ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\nìºì‹œí•  í‚¤ ë˜í•œ ì„œë²„ì™€ í•¨ê»˜ í•´ì‹œ ë§ ìœ„ì˜ ì–´ëŠ ì§€ì ì— ë°°ì¹˜í•  ìˆ˜ ìˆë‹¤.\nì„œë²„ ì¡°íšŒ ì–´ë–¤ í‚¤ê°€ ì €ì¥ë˜ëŠ” ì„œë²„ëŠ” í•´ë‹¹ í‚¤ì˜ ìœ„ì¹˜ë¡œë¶€í„° ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ë§ì„ íƒìƒ‰í•´ ë‚˜ê°€ë©´ì„œ ë§Œë‚˜ëŠ” ì²«ë²ˆ ì§¸ ì„œë²„ì´ë‹¤.\në”°ë¼ì„œ k0ëŠ” s0 ì— ì €ì¥ëœë‹¤.\nì„œë²„ ì¶”ê°€ í‚¤ê°€ ì €ì¥ë˜ëŠ” ì„œë²„ê°€ í‚¤ì˜ ìœ„ì¹˜ë¡œë¶€í„° ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ë§ì„ ëŒë©´ì„œ ë§Œë‚˜ëŠ” ì²« ì„œë²„ì´ë¯€ë¡œ, ì„œë²„ë¥¼ ì¶”ê°€í•˜ë”ë¼ë„ í‚¤ ê°€ìš´ë° ì¼ë¶€ë§Œ ì¬ë°°ì¹˜í•˜ë©´ ëœë‹¤.\nìœ„ ê·¸ë¦¼ì²˜ëŸ¼ s4ê°€ ì¶”ê°€ë˜ë©´, k0ë§Œ ì¬ë°°ì¹˜í•˜ë©´ ë˜ë©°, ë‚˜ë¨¸ì§€ í‚¤ë“¤ì€ ê°™ì€ ì„œë²„ì— ë‚¨ê²Œëœë‹¤.\nk0ê°€ ë§Œë‚˜ëŠ” ì²« ì„œë²„ê°€ s4ë¡œ ë°”ë€Œê¸° ë•Œë¬¸ ì„œë²„ ì œê±° ë§ˆì°¬ê°€ì§€ë¡œ í•œ ì„œë²„ê°€ ì œê±°ë˜ë©´ í‚¤ ì¼ë¶€ë§Œ ì¬ë°°ì¹˜ëœë‹¤.\ns1ì´ ì‚­ì œë˜ì—ˆì„ ë•Œ k1ì˜ ì²« ì„œë²„ë§Œ s2ë¡œ ë°”ë€Œë¯€ë¡œ k1ë§Œ s2ë¡œ ì¬ë°°ì¹˜ëœë‹¤. ê¸°ì¡´ êµ¬í˜„ë²•ì˜ ë‘ ê°€ì§€ ë¬¸ì œ ì•ˆì • í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì€ MITì—ì„œ ì²˜ìŒ ì œì•ˆë˜ì—ˆëŠ”ë°, ê¸°ë³¸ ì ˆì°¨ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\nì„œë²„ì™€ í‚¤ë¥¼ ê· ë“± ë¶„í¬ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ í•´ì‹œ ë§ì— ë°°ì¹˜í•œë‹¤. í‚¤ì˜ ìœ„ì¹˜ì—ì„œ ë§ì„ ì‹œê³„ë°©í–¥ìœ¼ë¡œ íƒìƒ‰í•˜ë‹¤ ë§Œë‚˜ëŠ” ìµœì´ˆì˜ ì„œë²„ê°€ í‚¤ê°€ ì €ì¥ë  ì„œë²„ì´ë‹¤. ì•ˆì • í•´ì‹œëŠ” ê·¼ë³¸ì ìœ¼ë¡œ ìµœì†Œí•œì˜ ì¶”ê°€/ì‚­ì œì— ëŒ€í•´ ìµœì†Œí•œì˜ ì¬ë°°ì¹˜ë¥¼ ê³ ë ¤í•œë‹¤. ë”°ë¼ì„œ ì´ëŸ¬í•œ ë°©ì‹ì—ëŠ” ë‘ ê°€ì§€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.\níŒŒí‹°ì…˜ í¬ê¸° ë¬¸ì œ\nì„œë²„ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë˜ëŠ” ìƒí™©ì„ ê°ì•ˆí•˜ë©´ ì‚¬ìš©í•˜ë”ë¼ë„ íŒŒí‹°ì…˜ì˜ í¬ê¸°ë¥¼ ê· ë“±í•˜ê²Œ ìœ ì§€í•˜ëŠ” ê²Œ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\níŒŒí‹°ì…˜ì˜ í¬ê¸°ëŠ” ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ì œì¼ ê°€ê¹Œìš´ ì„œë²„ ì‚¬ì´ì™€ì˜ ê±°ë¦¬ë§Œí¼ì˜ í•´ì‹œ ê³µê°„ìœ¼ë¡œ, ì„œë²„ì˜ í•´ì‹œ ê³µê°„ì´ ê· ë“±í•˜ì§€ ì•Šë‹¤. ì¶”ê°€ ì‚­ì œë  ë•Œ ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ì œì¼ ê°€ê¹Œìš´ ì„œë²„ì— í‚¤ë“¤ì´ ì§‘ì¤‘ëœë‹¤. í‚¤ì˜ ê· ë“± ë¶„í¬ ë¬¸ì œ\nê· ë“± ë¶„í¬ í•´ì‹œ í•¨ìˆ˜ëŠ” ì¶©ëŒì„ ìµœì†Œí™”í•˜ë©° ì…ë ¥ í‚¤ë“¤ì´ í•´ì‹œ ê³µê°„ ì „ì²´ì— ê³ ë¥´ê²Œ ë¶„í¬ë˜ì–´ íŠ¹ì • ì˜ì—­ì— ë¬¼ë¦¬ì§€ ì•Šë„ë¡ êµ¬í˜„ë˜ì§€ë§Œ ì™„ì „í•˜ì§€ëŠ” ì•Šë‹¤.\në°ì´í„°ì˜ ë¹„ê· ë“±í•œ ë³¸ì§ˆ: ì‹¤ì œ ë°ì´í„°ëŠ” í•´ì‹œ í•¨ìˆ˜ì˜ ì´ìƒì ì¸ ê· ë“± ë¶„í¬ë¥¼ ë”°ë¥´ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. íŠ¹ì • íŒ¨í„´ì´ë‚˜ ê°’ë“¤ì´ íŠ¹ì • í•´ì‹œ ì˜ì—­ì— ëª°ë¦¬ëŠ” ê²½ìš°ê°€ ìˆë‹¤. í•´ì‹œ í•¨ìˆ˜ì˜ í•œê³„: ëª¨ë“  í•´ì‹œ í•¨ìˆ˜ëŠ” ì™„ë²½í•œ ê· ë“± ë¶„í¬ë¥¼ ë³´ì¥í•  ìˆ˜ ì—†ë‹¤. íŠ¹íˆ ì…ë ¥ í‚¤ì˜ ë¶„í¬ê°€ ê³ ë¥´ì§€ ì•Šì„ ê²½ìš°, í•´ì‹œ ê°’ì˜ ë¶„í¬ë„ ê³ ë¥´ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ í‚¤ì˜ ê· ë“± ë¶„í¬ê°€ ë§¤ìš° ë‹¬ì„±í•˜ê¸° ì–´ë ¤ì›Œ ìœ„ì™€ ê°™ì€ ìƒí™©ì´ ë°œìƒí•˜ê²Œëœë‹¤.\n+ ì‹¤ì œ ì„œë²„ì˜ ì²˜ë¦¬ ëŠ¥ë ¥ ì°¨ì´\në…¸ë“œ(ì„œë²„)ë§ˆë‹¤ ì²˜ë¦¬ ëŠ¥ë ¥ì´ë‚˜ ì €ì¥ ìš©ëŸ‰ì´ ë‹¤ë¥¼ ê²½ìš°, íŒŒí‹°ì…˜ í¬ê¸°ì˜ ê· ë“±ì„±ì´ ì‹¤ì œ ë¶€í•˜ì˜ ê· ë“±ì„±ì„ ì˜ë¯¸í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nê°€ìƒ ë…¸ë“œ ê°€ìƒ ë…¸ë“œëŠ” ì‹¤ì œ ë…¸ë“œ ë˜ëŠ” ì„œë²„ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë…¸ë“œë¡œì„œ í•˜ë‚˜ì˜ ì„œë²„ëŠ” ë§ ìœ„ì— ì—¬ëŸ¬ ê°œì˜ ê°€ìƒ ë…¸ë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\nì„œë²„ë“¤ì˜ ë¹„ìŠ·í•œ í•´ì‹œ ê³µê°„ì„ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ë²•ìœ¼ë¡œ í•´ì‹œ ë§ ìœ„ì— ì‹¤ì œ ì„œë²„ë¥¼ ê°€ë¥´í‚¤ëŠ” ê°€ìƒ ë…¸ë“œë“¤ì„ ë¶„í¬ì‹œí‚¨ í›„ ê°€ìƒ ë…¸ë“œì— í• ë‹¹ë˜ëŠ” í•´ì‹œ ì˜ì—­ì„ ê°€ìƒ ë…¸ë“œê°€ ê°€ë¥´í‚¤ëŠ” ì„œë²„ê°€ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤.\në”°ë¼ì„œ ê° ì„œë²„ëŠ” í•˜ë‚˜ê°€ ì•„ë‹Œ ì—¬ëŸ¬ ê°œì˜ íŒŒí‹°ì…˜ì„ ê´€ë¦¬í•´ì•¼ í•œë‹¤. ê°€ìƒ ë…¸ë“œì˜ ê°œìˆ˜ë¥¼ ëŠ˜ë¦¬ë©´ í‘œì¤€ í¸ì°¨ê°€ ì‘ì•„ì ¸ ë°ì´í„°ê°€ ê³ ë¥´ê²Œ ë¶„í¬ë˜ë¯€ë¡œ, í‚¤ìœ„ ë¶„í¬ëŠ” ì ì  ë” ê· ë“±í•´ì§€ì§€ë§Œ\nê°€ìƒ ë…¸ë“œ ë°ì´í„°ë¥¼ ì €ì¥í•  ê³µê°„ì´ ë” ë§ì´ í•„ìš”í•´ì§€ë¯€ë¡œ, ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­ì— ë§ë„ë¡ ê°€ìƒ ë…¸ë“œ ê°œìˆ˜ë¥¼ ì ì ˆíˆ ì¡°ì •í•˜ëŠ” íŠ¸ë ˆì´ë“œì˜¤í”„ê°€ í•„ìš”í•˜ë‹¤.\nì¬ë°°ì¹˜í•  í‚¤ ê²°ì • ì„œë²„ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì œê±°ë˜ë©´ ë°ì´í„°ì˜ ì¼ë¶€ëŠ” ì¬ë°°ì¹˜í•´ì•¼ í•œë‹¤.\nì„œë²„ê°€ ì¶”ê°€ë˜ì—ˆì„ ë•Œ\ns4ê°€ ì¶”ê°€ë˜ì—ˆë‹¤ê³  ê°€ì •í•˜ë©´, ì˜í–¥ì„ ë°›ëŠ” ìœ„ëŠ” s4 ë¶€í„° ê·¸ ë°˜ì‹œê³„ ë°©í–¥ì— ìˆëŠ” s3 ê¹Œì§€ì´ë‹¤.\në”°ë¼ì„œ s3 ë¶€í„° s4 ì‚¬ì´ì— ìˆëŠ” í‚¤ë“¤ì„ s4ë¡œ ì¬ë°°ì¹˜í•´ì•¼í•œë‹¤.\nì„œë²„ê°€ ì‚­ì œë˜ì—ˆì„ ë•Œ\ns1ì´ ì‚­ì œë˜ë©´ s1 ë¶€í„° ê·¸ ë°˜ì‹œê³„ ë°©í–¥ì— ìˆëŠ” ìµœì´ˆ ì„œë²„ s0 ì‚¬ì´ì— ìˆëŠ” í‚¤ë“¤ì´ s2ë¡œ ì¬ë°°ì¹˜ë˜ì–´ì•¼ í•œë‹¤.\në§ˆì¹˜ë©° ì•ˆì • í•´ì‹œì˜ ì´ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nì„œë²„ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë  ë•Œ ì¬ë°°ì¹˜ë˜ëŠ” í‚¤ì˜ ìˆ˜ê°€ ìµœì†Œí™”ëœë‹¤. ë°ì´í„°ê°€ ë³´ë‹¤ ê· ë“±í•˜ê²Œ ë¶„í¬í•˜ê²Œ ë˜ë¯€ë¡œ ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì„±ì„ ë‹¬ì„±í•˜ê¸° ì‰½ë‹¤. í•«ìŠ¤íŒŸ í‚¤ ë¬¸ì œë¥¼ ì¤„ì¸ë‹¤. íŠ¹ì •í•œ ìƒ¤ë“œì— ëŒ€í•œ ì ‘ê·¼ì´ ì§€ë‚˜ì¹˜ê²Œ ë¹ˆë²ˆí•˜ë©´ ì„œë²„ ê³¼ë¶€í™” ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆëŠ”ë°(ìœ ëª…ì¸ì‚¬ ë¬¸ì œ), ë°ì´í„°ë¥¼ ì¢€ ë” ê· ë“±í•˜ê²Œ ë¶„ë°°í•˜ë¯€ë¡œ ë¬¸ì œ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì¤„ì¸ë‹¤. ì•ˆì •í•´ì‹œëŠ” ì‹¤ì œë¡œ ë„ë¦¬ ì“°ì´ëŠ” ê¸°ìˆ ì´ë‹¤.\nì•„ë§ˆì¡´ ë‹¤ì´ë‚˜ëª¨ ë°ì´í„°ë² ì´ìŠ¤ì˜ íŒŒí‹°ì…”ë‹ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ ì•„íŒŒì¹˜ ì¹´ì‚°ë“œë¼ í´ëŸ¬ìŠ¤í„°ì—ì„œ ë°ì´í„° íŒŒí‹°ì…”ë‹ ë””ìŠ¤ì½”ë“œ ì±„íŒ… ì–´í”Œë¦¬ì¼€ì´ì…˜ ì•„ì¹´ë§ˆì´ CDN ë§¤ê·¸ë ˆí”„ ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ ë¶„ì‚°ê¸° ë“± ","date":"2024-05-23T12:04:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/5/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/5/","title":"5. ì•ˆì • í•´ì‹œ ì„¤ê³„"},{"content":"ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜(Rate limiter)? í´ë¼ì´ì–¸íŠ¸ ë˜ëŠ” ì„œë¹„ìŠ¤ê°€ ë³´ë‚´ëŠ” íŠ¸ë˜í”½ì˜ ì²˜ë¦¬ìœ¨ì„ ì œì–´í•˜ê¸° ìœ„í•œ ì¥ì¹˜ì´ë‹¤.\nHTTPì˜ ê²½ìš° íŠ¹ì • ê¸°ê°„ ë‚´ì— ì „ì†¡ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ íšŸìˆ˜ë¥¼ ì œí•œí•œë‹¤.\nì‚¬ìš©ìëŠ” ì´ˆë‹¹ 2íšŒ ì´ìƒ ìƒˆ ê¸€ì„ ì˜¬ë¦´ ìˆ˜ ì—†ë‹¤. ê°™ì€ IP ì£¼ì†Œë¡œëŠ” í•˜ë£¨ 10ê°œ ì´ìƒì˜ ê³„ì •ì„ ìƒì„±í•  ìˆ˜ ì—†ë‹¤. ê°™ì€ ë””ë°”ì´ìŠ¤ë¡œëŠ” ì£¼ë‹¹ 5íšŒ ì´ìƒ ë¦¬ì›Œë“œ(reward)ë¥¼ ìš”ì²­í•  ìˆ˜ ì—†ë‹¤. ì¥ì \nëŒ€í˜• IT ê¸°ì—…ë“¤ì´ ê³µê°œí•œ ê±°ì˜ ëŒ€ë¶€ë¶„ì˜ APIëŠ” ì–´ë–¤ í˜•íƒœë¡œë“  ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¥¼ ê°–ê³  ìˆìœ¼ë©°, ì•„ë˜ì™€ ê°™ì€ ì¥ì ì´ ìˆë‹¤.\nDoS(Denial of Service) ê³µê²©ì— ì˜í•œ ìì› ê³ ê°ˆì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤. ìì› ì ˆì•½ ì¶”ê°€ ìš”ì²­ì— ëŒ€í•œ ì²˜ë¦¬ìœ¨ì„ ì œí•œí•˜ë©´ ì„œë²„ë¥¼ ë§ì´ ë‘ì§€ ì•Šì•„ë„ëœë‹¤. ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ APIì— ë” ë§ì€ ìì›ì„ í• ë‹¹í•  ìˆ˜ ìˆë‹¤. 3rd íŒŒí‹° APIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ìš”ì²­ íšŸìˆ˜ë§Œí¼ ê³¼ê¸ˆì´ ëœë‹¤ë©´, ì‚¬ìš©ìê°€ ì²˜ë¦¬ìœ¨ì„ ì œí•œí•˜ì—¬ ë¹„ìš©ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤. ì„œë²„ ê³¼ë¶€í•˜ ë°©ì§€ ë´‡ì—ì„œ ì˜¤ëŠ” íŠ¸ë˜í”½ì´ë‚˜ ì‚¬ìš©ìì˜ ì˜ëª»ëœ ì´ìš© íŒ¨í„´ìœ¼ë¡œ ìœ ë°œëœ íŠ¸ë˜í”½ì„ ê±¸ëŸ¬ë‚´ëŠ” ë° ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤. 1ë‹¨ê³„: ë¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¥¼ êµ¬í˜„í•˜ëŠ” ë°ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ì„ ê³ ë ¤í•  ìˆ˜ ìˆìœ¼ë©°, ê°ê° ê³ ìœ í•œ ì¥ë‹¨ì ì„ ê°€ì§€ê³  ìˆë‹¤.\në”°ë¼ì„œ ë©´ì ‘ê´€ê³¼ ì„œí†µí•˜ë©° ì–´ë–¤ ì œí•œ ì¥ì¹˜ë¥¼ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ì§€ ë¶„ëª…í•˜ê²Œ íŒŒì•…í•´ì•¼í•œë‹¤.\nQ. í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì œí•œì¥ì¹˜? ì„œë²„ ì¸¡ ì œí•œì¥ì¹˜? A. ì„œë²„ì¸¡ APIë¥¼ ìœ„í•œ ì œí•œ ì¥ì¹˜ Q. ì–´ë– í•œ ê¸°ì¤€ìœ¼ë¡œ? IP ì£¼ì†Œ or ì‚¬ìš©ì ID ë“± A. ë‹¤ì–‘í•œ í˜•íƒœì˜ ì œì–´ ê·œì¹™ì„ ì •ì˜í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ìœ ì—°í•œ ì‹œìŠ¤í…œ Q. ì‹œìŠ¤í…œì˜ ê·œëª¨ëŠ”? ìŠ¤íƒ€íŠ¸ì—… or ëŒ€ê¸°ì—… A. ëŒ€ê·œëª¨ ìš”ì²­ ì²˜ë¦¬ Q. ë¶„ì‚° í™˜ê²½ì—ì„œ ë™ì‘í•´ì•¼ í•˜ëŠ”ê°€? A. ì˜ˆ Q. ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ê°€ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ì¸ê°€? ì½”ë“œì— í¬í•¨í•  ìˆ˜ ìˆëŠ”ê°€? A. ì•Œì•„ì„œ Q. ì²˜ë¦¬ìœ¨ ì œí•œì— ë§‰íŒ ìƒí™©ì— ì‚¬ìš©ìì—ê²Œ ì•Œë ¤í•˜í•˜ëŠ”ê°€? A. ì˜ˆ ìš”êµ¬ì‚¬í•­ ì§ˆë¬¸ì„ í†µí•´ íŒŒì•…í•œ ì‹œìŠ¤í…œì˜ ìš”êµ¬ì‚¬í•­ì€ ì•„ë˜ì™€ ê°™ë‹¤.\nì„¤ì •ëœ ì²˜ë¦¬ìœ¨ì„ ì´ˆê³¼í•˜ëŠ” ìš”ì²­ì€ ì •í™•í•˜ê²Œ ì œí•œ ë‚®ì€ ì‘ë‹µì‹œê°„ HTTP ì‘ë‹µì‹œê°„ì— ë‚˜ìœ ì˜í–¥ì„ ì£¼ì–´ì„œëŠ” ê³¤ë€í•˜ë‹¤. (ëŒ€ê·œëª¨ ì²˜ë¦¬ í—ˆìš© ë“±) ê°€ëŠ¥í•œ ì ì€ ë©”ëª¨ë¦¬ ë¶„ì‚°í˜• ì²˜ë¦¬ìœ¨ ì œí•œ í•˜ë‚˜ì˜ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¥¼ ì—¬ëŸ¬ ì„œë²„ë‚˜ í”„ë¡œì„¸ìŠ¤ì—ì„œ ê³µìœ í•  ìˆ˜ ìˆì–´ì•¼í•¨ ì˜ˆì™¸ ì²˜ë¦¬ ìš”ì²­ ì œí•œì‹œ ì‚¬ìš©ìì—ê²Œ ë¶„ëª…í•˜ê²Œ ë³´ì—¬ì£¼ì–´ì•¼í•¨ ë†’ì€ ê²°í•¨ ê°ë‚´ì„± ì œí•œ ì¥ì¹˜ì— ì¥ì• ê°€ ìƒê¸°ë”ë¼ë„ ì „ì²´ ì‹œìŠ¤í…œì— ì˜í–¥ì„ ì£¼ì–´ì„œëŠ” ì•ˆëœë‹¤. 2ë‹¨ê³„ ê°œëµì  ì„¤ê³„ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ê¸°ë³¸ì ì¸ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ í†µì‹  ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œë¥¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“ ë‹¤.\nì–´ë””ì— ë‘˜ ê²ƒì¸ê°€? ê¸°ë³¸ì ì¸ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ í†µì‹  ëª¨ë¸ì—ì„œëŠ” ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ëŠ” í´ë¼ì´ì–¸íŠ¸, ì„œë²„ ì¸¡ì— ë‘˜ ìˆ˜ ìˆë‹¤.\ní´ë¼ì´ì–¸íŠ¸\ní´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì€ ì‰½ê²Œ ìœ„ë³€ì¡°ê°€ ê°€ëŠ¥í•˜ë¯€ë¡œ ì²˜ë¦¬ìœ¨ ì œí•œì„ ì•ˆì •ì ìœ¼ë¡œ ê±¸ ìˆ˜ ìˆëŠ” ì¥ì†Œê°€ ì•„ë‹ˆë‹¤.\nëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì˜ êµ¬í˜„ì„ í†µì œí•˜ëŠ” ê²ƒë„ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤. ì„œë²„\ní° í‹€ì—ì„œ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¥¼ API ì„œë²„ì™€ í•¨ê»˜ ë‘ëŠ” ë°©ì‹, ë¯¸ë“¤ì›¨ì–´ë¡œ ë§Œë“œëŠ” ë°©ì‹ 2ê°€ì§€ë¥¼ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¥¼ ë¯¸ë“¤ì›¨ì–´ë¡œ ë§Œë“¤ì–´ API ì„œë²„ë¡œ ê°€ëŠ” ìš”ì²­ì„ í†µì œí•˜ëŠ” ë°©ì‹ì€ ì œí•œëœ ìš”ì²­ì„ API ì„œë²„ë¡œ ë³´ë‚´ì§€ ì•Šê³ , HTTP ìƒíƒœì½”ë“œ 429ë¥¼ ë°˜í™˜í•œë‹¤.\në§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ ê²½ìš° ë³´í†µ API ê²Œì´íŠ¸ì›¨ì´ë¼ê³  ë¶ˆë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ì— êµ¬í˜„ëœë‹¤.\nAPI ê²Œì´íŠ¸ì›¨ì´?\nì²˜ë¦¬ìœ¨ ì œí•œ, SSL ì¢…ë‹¨ ì‚¬ìš©ì ì¸ì¦, IP í—ˆìš© ëª©ë¡ ê´€ë¦¬ë“±ì„ ì§€ì›í•˜ëŠ” ì™„ì „ ìœ„íƒ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤\nì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ëŠ” íšŒì‚¬ì˜ í˜„ì¬ ê¸°ìˆ  ìŠ¤íƒì´ë‚˜ ì—”ì§€ë‹ˆì–´ë§ ì¸ë ¥, ìš°ì„ ìˆœìœ„, ëª©í‘œì— ë”°ë¼ ì–´ë””ì— ë‘˜ ì§€ ê²°ì •í•œë‹¤.\ní”„ë¡œê·¸ë˜ë° ì–¸ì–´, ìºì‹œ ì„œë¹„ìŠ¤ ë“± í˜„ì¬ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê¸°ìˆ  ìŠ¤íƒì„ ì ê²€í•œë‹¤. ì‚¬ì—…ì— í•„ìš”ì— ë§ëŠ” ì²˜ë¦¬ìœ¨ ì œí•œ ì•Œê³ ë¦¬ì¦˜ì„ ì°¾ëŠ”ë‹¤. ì§ì ‘ êµ¬í˜„ì‹œ ììœ ë¡­ê²Œ ì„ íƒ ê°€ëŠ¥í•˜ì§€ë§Œ, ì„œë“œíŒŒí‹° ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤ë©´ ì œí•œë  ìˆ˜ ìˆë‹¤. ì„¤ê³„ê°€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì— ê¸°ë°˜í•˜ê³  ìˆë‹¤ë©´, ì‚¬ìš©ì ì¸ì¦ì´ë‚˜ IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬ ë“±ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ API ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì´ë¯¸ í¬í•¨í–ˆë‹¤ë©´ ì²˜ë¦¬ìœ¨ ì œí•œ ê¸°ëŠ¥ ë˜í•œ í¬í•¨ì‹œì¼œì•¼ í•  ìˆ˜ ìˆë‹¤. ì§ì ‘ ë§Œë“œëŠ” ë°ëŠ” ì‹œê°„ì´ ë“¤ê¸° ë•Œë¬¸ì— ì¸ë ¥ì´ ì¶©ë¶„í•˜ì§€ ì•Šë‹¤ë©´ ìƒìš© API ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì“°ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤. ì²˜ë¦¬ìœ¨ ì œí•œ ì•Œê³ ë¦¬ì¦˜ ì²˜ë¦¬ìœ¨ ì œí•œì„ ì‹¤í˜„í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì€ ì—¬ëŸ¬ê°€ì§€ì´ë©°, ê°ê¸° ë‹¤ë¥¸ ì¥ë‹¨ì ì„ ê°€ì§€ê³  ìˆë‹¤.\ní† í° ë²„í‚·, ëˆ„ì¶œ ë²„í‚·, ê³ ì • ìœˆë„ ì¹´ìš´í„°, ì´ë™ ìœˆë„ ë¡œê·¸, ì´ë™ ìœˆë„ ì¹´ìš´í„° ë“± í† í° ë²„í‚· ì•Œê³ ë¦¬ì¦˜ í† í° ë²„í‚· ì•Œê³ ë¦¬ì¦˜ì€ ì²˜ë¦¬ìœ¨ ì œí•œì— í­ ë„“ê²Œ ì´ìš©ë˜ê³  ìˆë‹¤.\nê°„ë‹¨í•˜ê³ , ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•œ ì´í•´ë„ê°€ ë†’ì•„ ì¸í„°ë„· ê¸°ì—…ë“¤ì´ ë³´í¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆë‹¤.\nì•„ë§ˆì¡´, ìŠ¤íŠ¸ë¼ì´í”„ ë“± í† í° ë²„í‚·ì€ ì§€ì •ëœ ìš©ëŸ‰ì„ ê°–ëŠ” ì»¨í…Œì´ë„ˆë¡œ, ì‚¬ì „ ì„¤ì •ëœ ì–‘ì˜ í† í°ì´ ì£¼ê¸°ì ìœ¼ë¡œ ì±„ì›Œì§„ë‹¤.\ní† í°ì´ ê½‰ ì°¬ ë²„í‚·ì—ëŠ” ë” ì´ìƒì˜ í† í°ì€ ì¶”ê°€ë˜ì§€ ì•Šê³  ë²„ë ¤ì§„ë‹¤.\nê° ìš”ì²­ì€ ì²˜ë¦¬ë  ë•Œë§ˆë‹¤ í•˜ë‚˜ì˜ í† í°ì„ ì‚¬ìš©í•œë‹¤. ìš”ì²­ì´ ë„ì°©í•˜ë©´ ë²„í‚·ì— ì¶©ë¶„í•œ í† í°ì´ ìˆëŠ”ì§€ ê²€ì‚¬í•˜ê²Œ ëœë‹¤. í† í°ì´ ìˆëŠ” ê²½ìš° ë²„í‚·ì—ì„œ í† í° í•˜ë‚˜ë¥¼ êº¼ë‚¸ í›„ ìš”ì²­ì„ ì‹œìŠ¤í…œì— ì „ë‹¬í•œë‹¤. ì—†ëŠ” ê²½ìš° ë²„ë ¤ì§„ë‹¤. í† í° ë²„í‚· ì•Œê³ ë¦¬ì¦˜ì€ 2ê°€ì§€ ì¸ìë¥¼ ë°›ëŠ”ë‹¤.\në²„í‚· í¬ê¸°: ë²„í‚·ì— ë‹´ì„ ìˆ˜ ìˆëŠ” í† í°ì˜ ìµœëŒ€ ê°œìˆ˜ í† í° ê³µê¸‰ë¥ : ì´ˆë‹¹ ëª‡ê°œì˜ í† í°ì´ ë²„í‚·ì— ê³µê¸‰ë˜ëŠ”ê°€ ì ì ˆí•œ ë²„í‚·ì˜ ê°œìˆ˜ëŠ” ê³µê¸‰ ì œí•œ ê·œì¹™ì— ë”°ë¼ ê²°ì •ëœë‹¤.\ní†µìƒì ìœ¼ë¡œ, API ì—”ë“œí¬ì¸íŠ¸ë§ˆë‹¤ ë²Œë„ì˜ ë²„í‚·ì„ ë‘”ë‹¤. í¬ìŠ¤íŒ… 1ë²ˆ, ì¹œêµ¬ 150ëª… ì¶”ê°€ ê°€ëŠ¥, ì¢‹ì•„ìš” 5ë²ˆ ì´ë¼ë©´ ì‚¬ìš©ìë§ˆë‹¤ 3ê°œ í•„ìš” IP ì£¼ì†Œë³„ ì²˜ë¦¬ìœ¨ ì œí•œ í•„ìš”ì‹œ IP ì£¼ì†Œë§ˆë‹¤ ë²„í‚·ì„ í•˜ë‚˜ì”© í• ë‹¹í•´ì•¼ í•œë‹¤. ì‹œìŠ¤í…œì˜ ì²˜ë¦¬ìœ¨ì„ ì´ˆë‹¹ 10,000ê°œ ìš”ì²­ìœ¼ë¡œ ì œí•œí•˜ê³  ì‹¶ë‹¤ë©´, ëª¨ë“  ìš”ì²­ì´ í•˜ë‚˜ì˜ ë²„í‚·ì„ ê³µìœ í•˜ë„ë¡ í•œë‹¤. ì¥ì \nêµ¬í˜„ì´ ì‰½ë‹¤. ë©”ëª¨ë¦¬ ì‚¬ìš© ì¸¡ë©´ì—ì„œë„ íš¨ìœ¨ì ì´ë‹¤. ì§§ì€ ì‹œê°„ì— ì§‘ì¤‘ë˜ëŠ” íŠ¸ë˜í”½ë„ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤. ë²„í‚·ì— ë‚¨ì€ í† í°ì´ ìˆë‹¤ë©´ ìš”ì²­ì€ ì „ë‹¬ëœë‹¤. ë‹¨ì \níŒŒë¼ë¯¸í„°ë¥¼ ì ì ˆí•˜ê²Œ íŠœë‹í•˜ëŠ” ê²ƒì´ ê¹Œë‹¤ë¡­ë‹¤. ëˆ„ì¶œ ë²„í‚· ì•Œê³ ë¦¬ì¦˜ ëˆ„ì¶œ ë²„í‚· ì•Œê³ ë¦¬ì¦˜ì€ í† í° ë²„í‚· ì•Œê³ ë¦¬ì¦˜ê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ ìš”ì²­ ì²˜ë¦¬ìœ¨ì´ ê³ ì •ë˜ì–´ ìˆë‹¤ëŠ” ì ì´ ë‹¤ë¥´ë‹¤.\në³´í†µ FIFO íë¡œ êµ¬í˜„í•˜ë©° ë™ì‘ ì›ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\nìš”ì²­ì´ ë„ì°©í•˜ë©´ íê°€ ê°€ë“ ì°¨ ìˆëŠ”ì§€ ë³¸ë‹¤. ë¹ˆìë¦¬ê°€ ìˆë‹¤ë©´ íì— ìš”ì²­ì„ ì¶”ê°€í•œë‹¤. íê°€ ê°€ë“ ì°¨ ìˆëŠ” ê²½ìš°ì—ëŠ” ìƒˆ ìš”ì²­ì„ ë²„ë¦°ë‹¤. ì§€ì •ëœ ì‹œê°„ë§ˆë‹¤ íì—ì„œ ìš”ì²­ì„ êº¼ë‚´ì–´ ì²˜ë¦¬í•œë‹¤. ëˆ„ì¶œ ë²„í‚· ì•Œê³ ë¦¬ì¦˜ì€ ë‹¤ìŒì˜ ë‘ ì¸ìë¥¼ ì‚¬ìš©í•œë‹¤.\në²„í‚· í¬ê¸°: ì²˜ë¦¬ë  í•­ëª©ë“¤ì´ ë³´ê´€ë  íì˜ ì‚¬ì´ì¦ˆ ì²˜ë¦¬ìœ¨: ì§€ì •ëœ ì‹œê°„ë‹¹ ëª‡ ê°œì˜ í•­ëª©ì„ ì²˜ë¦¬í• ì§€ ì§€ì •í•˜ëŠ” ê°’.(ë³´í†µ ì´ˆë‹¨ìœ„) ì¥ì \níì˜ í¬ê¸°ê°€ ì œí•œë˜ì–´ ìˆì–´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¸¡ë©´ì—ì„œ íš¨ìœ¨ì ì´ë‹¤. ê³ ì •ëœ ì²˜ë¦¬ìœ¨ì„ ê°€ì§€ë¯€ë¡œ ì•ˆì •ëœ ì¶œë ¥(Stable outflow rate)ì´ í•„ìš”í•œ ê²½ìš°ì— ì í•©í•˜ë‹¤. ë‹¨ì \në‹¨ì‹œê°„ì— ë§ì€ íŠ¸ë˜í”½ì´ ëª°ë¦¬ëŠ” ê²½ìš° íì—ëŠ” ì˜¤ë˜ëœ ìš”ì²­ë“¤ì´ ìŒ“ì´ê³ , ê·¸ ìš”ì²­ë“¤ì„ ì œë•Œ ì²˜ë¦¬ ëª»í•˜ë©´ ìµœì‹  ìš”ì²­ë“¤ì€ ë²„ë ¤ì§„ë‹¤. íŒŒë¼ë¯¸í„°ë¥¼ ì˜¬ë°”ë¥´ê²Œ íŠœë‹í•˜ê¸° ê¹Œë‹¤ë¡œìš¸ ìˆ˜ ìˆë‹¤. ê³ ì • ìœˆë„ ì¹´ìš´í„° ì•Œê³ ë¦¬ì¦˜ ê³ ì • ìœˆë„ ì¹´ìš´í„° ì•Œê³ ë¦¬ì¦˜ì€ ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤.\níƒ€ì„ë¼ì¸ì„ ê³ ì •ëœ ê°„ê²©ì˜ ìœˆë„ë¡œ ë‚˜ëˆ„ê³ , ê° ìœˆë„ë§ˆë‹¤ ì¹´ìš´í„°ë¥¼ ë¶™ì¸ë‹¤. ìš”ì²­ì´ ì ‘ìˆ˜ë  ë•Œë§ˆë‹¤ ì´ ì¹´ìš´í„°ì˜ ê°’ì„ 1ì”© ì¦ê°€ì‹œí‚¨ë‹¤. ì¹´ìš´í„°ì˜ ê°’ì´ ì‚¬ì „ì— ì„¤ì •ëœ ì„ê³„ì¹˜ì— ë„ë‹¬í•˜ë©´ ìƒˆë¡œìš´ ìš”ì²­ì€ ìƒˆ ìœˆë„ê°€ ì—´ë¦´ ë•Œ ê¹Œì§€ ë²„ë ¤ì§„ë‹¤. ê³ ì • ìœˆë„ ì¹´ìš´í„° ì•Œê³ ë¦¬ì¦˜ì˜ ê°€ì¥ í° ë¬¸ì œëŠ” ìœˆë„ì˜ ê²½ê³„ ë¶€ê·¼ì— ìˆœê°„ì ìœ¼ë¡œ ë§ì€ íŠ¸ë˜í”½ì´ ì§‘ì¤‘ë  ê²½ìš° ìœˆë„ì— í• ë‹¹ëœ ì–‘ë³´ë‹¤ ë” ë§ì€ ìš”ì²­ì´ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.\në¶„ë‹¹ ìµœëŒ€ 5ê°œ ìš”ì²­ì„ í—ˆìš©í•˜ëŠ” ì‹œìŠ¤í…œì—ì„œ 2:00:00 ~ 2:01:00, 2:01:00 ~ 2:02:00 ìœˆë„ìš°ì— ê°ê° 5ê°œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ì˜€ìœ¼ë‚˜, ìœˆë„ìš°ë¥¼ 30ì´ˆ ì˜®ê²¨ 2:00:30 ~ 2:01:30ë¥¼ ì‚´í´ë³´ë©´ ì´ 10ê°œì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê²Œë˜ì–´ ì„¤ì •ëœ ìµœëŒ€ ì²˜ë¦¬ëŸ‰ 5ê°œë¥¼ ì´ˆê³¼í•˜ê²Œ ëœë‹¤.\nì¥ì \në©”ëª¨ë¦¬ íš¨ìœ¨ì´ ì¢‹ë‹¤. ì´í•´í•˜ê¸° ì‰½ë‹¤. ìœˆë„ê°€ ë‹«íˆëŠ” ì‹œì ì— ì¹´ìš´í„°ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë°©ì‹ì€ íŠ¹ì •í•œ íŠ¸ë˜í”½ íŒ¨í„´ì„ ì²˜ë¦¬í•˜ê¸°ì— ì í•©í•˜ë‹¤. ë‹¨ì \nìœˆë„ ê²½ê³„ ë¶€ê·¼ì—ì„œ ì¼ì‹œì ìœ¼ë¡œ ë§ì€ íŠ¸ë˜í”½ì´ ëª°ë ¤ë“œëŠ” ê²½ìš°, ê¸°ëŒ€í–ˆë˜ ì‹œìŠ¤í…œì˜ ì²˜ë¦¬ í•œë„ë³´ë‹¤ ë§ì€ ì–‘ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤. ì´ë™ ìœˆë„ ë¡œê¹… ì•Œê³ ë¦¬ì¦˜ ê³ ì • ìœˆë„ ì¹´ìš´í„° ì•Œê³ ë¦¬ì¦˜ì˜ ë¬¸ì œë¥¼ í•´ê²°í•œ ë°©ì‹ì´ë‹¤.\nìš”ì²­ì˜ íƒ€ì„ ìŠ¤íƒ¬í”„ë¥¼ ì¶”ì í•œë‹¤. ë³´í†µ ë ˆë””ìŠ¤ì˜ ì •ë ¬ ì§‘í•© ê°™ì€ ìºì‹œì— ë³´ê´€í•œë‹¤. ìƒˆ ìš”ì²­ì´ ì˜¤ë©´ ë§Œë£Œëœ íƒ€ì„ìŠ¤íƒ¬í”„ëŠ” ì œê±°í•œë‹¤. íƒ€ì„ìŠ¤íƒ¬í”„ ê°’ì´ í˜„ì¬ ìœˆë„ì˜ ì‹œì‘ ì§€ì ë³´ë‹¤ ì˜¤ë˜ëœ íƒ€ì„ ìŠ¤íƒ¬í”„ ìƒˆ ìš”ì²­ì˜ íƒ€ì„ìŠ¤íƒ¬í”„ ë¡œê·¸ì— ì¶”ê°€í•œë‹¤. ë¡œê·¸ì˜ í¬ê¸°ê°€ í—ˆìš©ì¹˜ë³´ë‹¤ ê°™ê±°ë‚˜ ì‘ìœ¼ë©´ ìš”ì²­ì„ ì‹œìŠ¤í…œì— ì „ë‹¬í•œë‹¤. ì•„ë‹ê²½ìš° ì²˜ë¦¬ë¥¼ ê±°ë¶€í•œë‹¤. ì¥ì \nì–´ëŠ ìˆœê°„ ìœˆë„ë¥¼ ë³´ë”ë¼ë„, í—ˆìš©ë˜ëŠ” ìš”ì²­ì˜ ê°œìˆ˜ëŠ” ì‹œìŠ¤í…œì˜ ì²˜ë¦¬ìœ¨ í•œë„ë¥¼ ë„˜ê¸°ì§€ ì•ŠëŠ”ë‹¤. ë‹¨ì \nê±°ë¶€ëœ ìš”ì²­ì˜ íƒ€ì„ìŠ¤íƒ¬í”„ë„ ë³´ê´€í•˜ê¸° ë•Œë¬¸ì— ë‹¤ëŸ‰ì˜ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ê²Œëœë‹¤. ì´ë™ ìœˆë„ ì¹´ìš´í„° ì•Œê³ ë¦¬ì¦˜ ì´ë™ ìœˆë„ ì¹´ìš´í„° ì•Œê³ ë¦¬ì¦˜ì€ ê³ ì • ìœˆë„ ì¹´ìš´í„° ì•Œê³ ë¦¬ì¦˜ê³¼ ì´ë™ ìœˆë„ ë¡œê¹… ì•Œê³ ë¦¬ì¦˜ì„ ê²°í•©í•œ ê²ƒì´ë‹¤.\ní˜„ì¬ 1ë¶„ê°„ì˜ ìš”ì²­ ìˆ˜ + ì§ì „ 1ë¶„ê°„ì˜ ìš”ì²­ ìˆ˜ * ì´ë™ ìœˆë„ì™€ ì§ì „ 1ë¶„ì´ ê²¹ì¹˜ëŠ” ë¹„ìœ¨ì„ ê³„ì‚°í•˜ì—¬ í˜„ì¬ ìœˆë„ì— ëª‡ê°œì˜ ìš”ì²­ì´ ì™”ëŠ”ì§€ë¥¼ êµ¬í•œë‹¤.\në¶„ë‹¹ 7ê°œ ìš”ì²­ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆê³ , ì´ì „ 1ë¶„ë™ì•ˆ 5ê°œì˜ ìš”ì²­ì´, ê·¸ë¦¬ê³  1ë¶„ ë™ì•ˆ 3ê°œì˜ ìš”ì²­ì´ ì™”ë‹¤ë©´\n3 + 5 * 70%ë¥¼ ê³„ì‚°í•˜ì—¬ í˜„ì¬ 6.5ê°œì˜ ìš”ì²­ì´ ìˆë‹¤ê³  ê³„ì‚°í•˜ê³ , ë¶„ë‹¹ 7ê°œì˜ ìš”ì²­ë³´ë‹¤ ì ìœ¼ë¯€ë¡œ ì „ë‹¬ëœë‹¤.\nì¥ì \nì´ì „ ì‹œê°„ëŒ€ì˜ í‰ê·  ì²˜ë¦¬ìœ¨ì— ë”°ë¼ ìœˆë„ì˜ ìƒíƒœë¥¼ ê³„ì‚°í•˜ë¯€ë¡œ ì§§ì€ ì‹œê°„ì— ëª°ë¦¬ëŠ” íŠ¸ë˜í”½ì—ë„ ì˜ ëŒ€ì‘í•œë‹¤. ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ì¢‹ë‹¤. ë‹¨ì \nì§ì „ ì‹œê°„ëŒ€ì— ë„ì°©í•œ ìš”ì²­ì´ ê· ë“±í•˜ê²Œ ë¶„í¬ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•œ ìƒíƒœì—ì„œ ì¶”ì •ì¹˜ë¥¼ ê³„ì‚°í•˜ê¸° ë•Œë¬¸ì— ë‹¤ì†Œ ëŠìŠ¨í•˜ë‹¤. ìƒê°ë§Œí¼ì€ ì‹¬ê°í•œ ë¬¸ì œëŠ” ì•„ë‹ˆë‹¤. í´ë¼ìš°ë“œí”Œë ˆì–´ê°€ ì‹¤ì‹œí–ˆë˜ ì‹¤í—˜ì— ë”°ë¥´ë©´ 40ì–µ ê°œì˜ ìš”ì²­ ê°€ìš´ë° ìŠ¤í…œì˜ ì‹¤ì œ ìƒíƒœì™€ ë§ì§€ ì•Šê²Œ í—ˆìš©ë˜ê±°ë‚˜ ë²„ë ¤ì§„ ìš”ì²­ì€ 0.003%ì— ë¶ˆê³¼í•˜ì˜€ë‹¤. ê°œëµì ì¸ ì•„í‚¤í…ì²˜ ì²˜ë¦¬ìœ¨ ì œí•œ ì•Œê³ ë¦¬ì¦˜ì€ ì–¼ë§ˆë‚˜ ë§ì€ ìš”ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆëŠ”ì§€ë¥¼ ì¶”ì í•  ìˆ˜ ìˆëŠ” ì¹´ìš´í„°ë¥¼ ì¶”ì  ëŒ€ìƒë³„ë¡œ ë‘ê³ (ì‚¬ìš©ì or IP or API ì—”ë“œí¬ì¸íŠ¸) ì´ ì¹´ìš´í„°ì˜ ê°’ì´ ì–´ë–¤ í•œë„ë¥¼ ë„˜ì–´ì„œë©´ ë„ì°©í•œ ìš”ì²­ì„ ê±°ë¶€í•˜ëŠ” ê²ƒì´ë‹¤.\nì´ëŸ¬í•œ ì¹´ìš´í„°ëŠ” ì½ê¸° ì“°ê¸° ì‘ì—…ì´ ë¹ˆë²ˆí•˜ê³ , ë¹ ë¥´ê²Œ ì§€ì›Œì ¸ì•¼ í•˜ëŠ” íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ë¹ ë¥¸ë°ë‹¤ ì‹œê°„ì— ê¸°ë°˜í•œ ë§Œë£Œ ì •ì±…ì„ ì§€ì›í•˜ëŠ” ë©”ëª¨ë¦¬ ìºì‹œê°€ ì ì ˆí•˜ë‹¤.\nëŒ€í‘œì ìœ¼ë¡œ ë ˆë””ìŠ¤ê°€ ë§ì´ í™œìš©ë˜ë©° ì´ì— ì í•©í•œ INCR, EXPIRE ëª…ë ¹ì„ ì œê³µí•œë‹¤.\nINCR: ë©”ëª¨ë¦¬ì— ì €ë‹¹ëœ ì¹´ìš´í„°ì˜ ê°’ì„ 1ë§Œí¼ ì¦ê°€ì‹œí‚¨ë‹¤. EXPIRE: ì¹´ìš´í„°ì— íƒ€ì„ì•„ì›ƒ ê°’ì„ ì„¤ì •í•œë‹¤. ì‹œê°„ì´ ì§€ë‚˜ë©´ ìë™ ì‚­ì œëœë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì²˜ë¦¬ìœ¨ ì œí•œ ë¯¸ë“¤ì›¨ì–´ì—ê²Œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤. ì²˜ë¦¬ìœ¨ ì œí•œ ë¯¸ë“¤ì›¨ì–´ëŠ” ë ˆë””ìŠ¤ì˜ ì§€ì • ë²„í‚·ì—ì„œ ì¹´ìš´í„°ë¥¼ ê°€ì ¸ì™€ í•œë„ì— ë„ë‹¬í–ˆëŠ”ì§€ ê²€ì‚¬í•œë‹¤. í•œë„ì— ë„ë‹¬í–ˆë‹¤ë©´ ìš”ì²­ì€ ê±°ë¶€ë¨ í•œë„ì— ë„ë‹¬í•˜ì§€ ì•Šì•˜ë‹¤ë©´ APIë¡œ ìš”ì²­ì„ ì „ë‹¬í•˜ê³ , ì¹´ìš´í„°ì˜ ê°’ì„ ì¦ê°€ì‹œì¼œ ë ˆë””ìŠ¤ì— ì €ì¥í•œë‹¤. ìƒì„¸ ì„¤ê³„ ê°œëµì  ì„¤ê³„ë§Œ ë´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‚¬í•­ì€ ì•Œ ìˆ˜ê°€ ì—†ë‹¤.\nì²˜ë¦¬ìœ¨ ì œí•œ ê·œì¹™ì€ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì§€ê³  ì–´ë””ì— ì €ì¥ë˜ëŠ”ê°€? ì²˜ë¦¬ê°€ ì œí•œëœ ìš”ì²­ë“¤ì€ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ê°€? ì²˜ë¦¬ìœ¨ ì œí•œ ê·œì¹™ ë¦¬í”„íŠ¸(lyft)ëŠ” ì²˜ë¦¬ìœ¨ ì œí•œì— ì˜¤í”ˆ ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ ì–´ë–¤ ì²˜ë¦¬ìœ¨ ì œí•œ ê·œì¹™ì´ ì‚¬ìš©ë˜ê³  ìˆëŠ”ì§€ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ê·œì¹™ë“¤ì€ ë³´í†µ ì„¤ì • íŒŒì¼ í˜•íƒœë¡œ ë””ìŠ¤í¬ì— ì €ì¥ëœë‹¤.\n1 2 3 4 5 6 7 domain: messaging descriptors: - key: message_type Value: marketing rate_limit: unit: day requests_per_unit: 5 ë§ˆì¼€íŒ… ë©”ì‹œì§€ì˜ ìµœëŒ€ì¹˜ë¥¼ í•˜ë£¨ 5ê°œë¡œ ì œí•œ 1 2 3 4 5 6 7 domain: auth descriptors: - key: auth_type Value: login rate_limit: unit: minute requests_per_unit: 5 í´ë¼ì´ì–¸íŠ¸ê°€ ë¶„ë‹¹ 5íšŒ ì´ìƒ ë¡œê·¸ì¸ í•  ìˆ˜ ì—†ë„ë¡ ì œí•œ ì²˜ë¦¬ìœ¨ í•œë„ ì´ˆê³¼ íŠ¸ë˜í”½ì˜ ì²˜ë¦¬ ì–´ë–¤ ìš”ì²­ì´ í•œë„ ì œí•œì— ê±¸ë¦¬ë©´ HTTP 429 ì‘ë‹µì„ ë³´ë‚´ê±°ë‚˜, í•œë„ ì œí•œì— ê±¸ë¦° ë©”ì‹œì§€ë¥¼ ë‚˜ì¤‘ì— ì²˜ë¦¬í•˜ê¸° ìœ„í•´ íì— ë³´ê´€í•  ìˆ˜ë„ ìˆë‹¤.\nì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ê°€ ì‚¬ìš©í•˜ëŠ” HTTP í—¤ë”\ní´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì´ ì œí•œì— ê´€ë ¨ëœ ì •ë³´ë“¤ì„ HTTP ì‘ë‹µ í—¤ë”ë¥¼ í™•ì¸í•˜ë©´ ì•Œ ìˆ˜ ìˆë‹¤.\nì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ëŠ” ë‹¤ìŒ HTTP í—¤ë”ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚´ ì œí•œì— ê±¸ë ¸ìŒì„ ì•Œë¦°ë‹¤.\nX-Ratelimit-Remaining: ìœˆë„ ë‚´ì— ë‚¨ì€ ì²˜ë¦¬ ê°€ëŠ¥ ìš”ì²­ ìˆ˜ X-Ratelimit-Limit: ë§¤ ìœˆë„ë§ˆë‹¤ í´ë¼ì´ì–¸íŠ¸ê°€ ì „ì†¡í•  ìˆ˜ ìˆëŠ” ìš”ì²­ì˜ ìˆ˜ X-Ratelimit-Retry-After: í•œë„ ì œí•œì— ê±¸ë¦¬ì§€ ì•Šê¸° ìœ„í•´ ëª‡ì´ˆ ë’¤ì— ìš”ì²­ì„ ë‹¤ì‹œ ë³´ë‚´ì•¼ í•˜ëŠ”ì§€ ì‚¬ìš©ìê°€ ë„ˆë¬´ ë§ì€ ìš”ì²­ì„ ë³´ë‚´ë©´ 429 too many requestsì˜¤ë¥˜ë¥¼ X-Ratelimit-Retry-After í—¤ë”ì™€ í•¨ê»˜ ë°˜í™˜í•˜ë„ë¡ í•œë‹¤.\nìƒì„¸ ì„¤ê³„ ì²˜ë¦¬ìœ¨ ì œí•œ ê·œì¹™ì€ ë””ìŠ¤í¬ì— ë³´ê´€í•œë‹¤. ì‘ì—… í”„ë¡œì„¸ìŠ¤ëŠ” ìˆ˜ì‹œë¡œ ê·œì¹™ì„ ì½ì–´ ìºì‹œì— ì €ì¥í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ ì„œë²„ì— ë³´ë‚´ë©´ ìš”ì²­ì€ ë¨¼ì € ì²˜ë¦¬ìœ¨ ì œí•œ ë¯¸ë“¤ì›¨ì–´ì— ë„ë‹¬í•œë‹¤. ì²˜ë¦¬ìœ¨ ì œí•œ ë¯¸ë“¤ì›¨ì–´ëŠ” ì œí•œ ê·œì¹™ì„ ìºì‹œì—ì„œ ê°€ì ¸ì˜¨ë‹¤. ì•„ìš¸ëŸ¬ ì¹´ìš´í„° ë° ë§ˆì§€ë§‰ ìš”ì²­ì˜ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ë ˆë””ìŠ¤ ìºì‹œì—ì„œ ê°€ì ¸ì˜¨ë‹¤. ìš”ì²­ì´ ì œí•œì— ê±¸ë¦¬ì§€ ì•Šì€ ê²½ìš° API ì„œë²„ë¡œ ë³´ë‚¸ë‹¤. ì²˜ë¦¬ìœ¨ ì œí•œì— ê±¸ë ¸ë‹¤ë©´ ì—ëŸ¬ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚¸ë‹¤. ìš”ì²­ì€ ë²„ë¦¬ê±°ë‚˜ ë©”ì‹œì§€ íì— ë³´ê´€í•œë‹¤. ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ì˜ êµ¬í˜„ ì—¬ëŸ¬ ëŒ€ì˜ ì„œë²„ì™€ ë³‘ë ¬ ìŠ¤ë ˆë“œë¥¼ ì§€ì›í•˜ë ¤ë©´ ê²½ìŸ ì¡°ê±´ê³¼ ë™ê¸°í™” ë¬¸ì œë¥¼ ê³ ë ¤í•´ì•¼ í•œë‹¤.\nê²½ìŸ ì¡°ê±´ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤.\në ˆë””ìŠ¤ì—ì„œ ì¹´ìš´í„°ì˜ ê°’ì„ ì½ëŠ”ë‹¤. ì¹´ìš´í„°ì˜ ê°’ì´ ì„ê³„ì¹˜ë¥¼ ë„˜ëŠ”ì§€ ë³¸ë‹¤. ë„˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë ˆë””ìŠ¤ì— ë³´ê´€ëœ ì¹´ìš´í„° ê°’ì„ 1ë§Œí¼ ì¦ê°€ì‹œí‚¨ë‹¤. ë³‘í–‰ì„±ì´ ì‹¬í•œ í™˜ê²½ì—ì„œëŠ” ìœ„ì™€ ê°™ì´ ë³´ê´€ë  ê°’ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆëŠ” ì´ìŠˆê°€ ì¡´ì¬í•œë‹¤.\nì´ëŸ¬í•œ ê²½ìŸ ì¡°ê±´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê°€ì¥ ë„ë¦¬ ì•Œë ¤ì§„ í•´ê²°ì±…ì€ **ë½(Lock)**ì´ì§€ë§Œ, ë½ì€ ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì„ ìƒë‹¹íˆ ë–¨ì–´ëœ¨ë¦°ë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.\nìœ„ì™€ ê°™ì€ ì„¤ê³„ì˜ ê²½ìš° ë½ ëŒ€ì‹  **ë£¨ì•„ ìŠ¤í¬ë¦½íŠ¸(Lua script)**ì™€ **ì •ë ¬ ì§‘í•©(Sorted set)**ì´ë¼ ë¶ˆë¦¬ëŠ” ë ˆë””ìŠ¤ ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\në™ê¸°í™” ì´ìŠˆ ìˆ˜ë°±ë§Œ ì‚¬ìš©ìë¥¼ ì§€ì›í•˜ë ¤ë©´ í•œ ëŒ€ì˜ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ ì„œë²„ë¡œëŠ” ì¶©ë¶„í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì–´ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ ì„œë²„ë¥¼ ì—¬ëŸ¬ ëŒ€ ë‘ê²Œ ë˜ë©´ ë™ê¸°í™”ê°€ í•„ìš”í•´ì§„ë‹¤.\nì›¹ì€ ë¬´ìƒíƒœì´ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ëŠ” ë‹¤ìŒ ìš”ì²­ì„ ë‹¤ë¥¸ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¡œ ë³´ë‚´ê²Œ ë  ìˆ˜ ìˆë‹¤.\nì´ë•Œ ë™ê¸°í™”ë¥¼ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì œí•œ ì¥ì¹˜ 1ì€ í´ë¼ì´ì–¸íŠ¸ 2ì— ëŒ€í•´ì„œëŠ” ì•„ë¬´ê²ƒë„ ëª¨ë¥´ë¯€ë¡œ ì²˜ë¦¬ìœ¨ ì œí•œì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê°™ì€ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„°ì˜ ìš”ì²­ì€ í•­ìƒ ê°™ì€ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¡œ ë³´ë‚´ëŠ” ê³ ì • ì„¸ì…˜ ë°©ì‹ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ì€ í™•ì¥ ë¶ˆê°€ëŠ¥, ë»£ë»£í•˜ë‹¤ëŠ” ë‹¨ì ì„ ê°€ì§„ë‹¤.\në”°ë¼ì„œ ë ˆë””ìŠ¤ì™€ ê°™ì€ ì¤‘ì•™ ì§‘ì¤‘í˜• ë°ì´í„° ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì„±ëŠ¥ ìµœì í™” ì„±ëŠ¥ ìµœì í™”ëŠ” ì‹œìŠ¤í…œ ì„¤ê³„ ë©´ì ‘ì˜ ë‹¨ê³¨ ì£¼ì œì´ë©°, ì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ ì„¤ê³„ëŠ” ë‘ ê°€ì§€ ì§€ì ì—ì„œ ê°œì„ ì´ ê°€ëŠ¥í•˜ë‹¤.\nì—¬ëŸ¬ ë°ì´í„°ì„¼í„°ë¥¼ ì§€ì›í•˜ëŠ” ë¬¸ì œ ë©€ë¦¬ ë–¨ì–´ì§„ ì‚¬ìš©ìë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ì§€ì—°ì‹œê°„ì´ ì¦ê°€í•  ìˆ˜ ë°–ì— ì—†ëŠ”ë°, ëŒ€ë¶€ë¶„ì˜ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì‚¬ì—…ìëŠ” ì„¸ê³„ ê³³ê³³ì— ì—ì§€ ì„œë²„ë¥¼ ì‹¬ì–´ë‘ì–´ ì„±ëŠ¥ì„ ëŒì–´ì˜¬ë¦°ë‹¤. ì œí•œ ì¥ì¹˜ ê°„ì— ë°ì´í„°ë¥¼ ë™ê¸°í™”í•  ë•Œ ìµœì¢… ì¼ê´€ì„± ëª¨ë¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ëª¨ë‹ˆí„°ë§ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ë¥¼ ì„¤ì¹˜í•œ ì´í›„ì—ëŠ” íš¨ê³¼ì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ëª¨ì„ í•„ìš”ê°€ ìˆë‹¤.\nì±„íƒëœ ì²˜ë¦¬ìœ¨ ì œí•œ ì•Œê³ ë¦¬ì¦˜ì´ íš¨ê³¼ì ì¸ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì´ë²¤íŠ¸ ê°™ì€ ì´ìŠˆë¡œ íŠ¸ë˜í”½ì´ ê¸‰ì¦í•  ë•Œ ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ê°€ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‘í•œë‹¤ë©´ íŠ¸ë˜í”½ íŒ¨í„´ì„ ê³ ë ¤í•˜ì—¬ ì•Œê³ ë¦¬ì¦˜ ë³€ê²½ì„ ê³ ë ¤í•œë‹¤. ì •ì˜í•œ ì²˜ë¦¬ìœ¨ ì œí•œ ê·œì¹™ì´ íš¨ê³¼ì ì¸ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì œí•œ ê·œì¹™ì´ ë„ˆë¬´ ì—„ê²©í•˜ë‹¤ë©´ ë§ì€ ìœ íš¨ ìš”ì²­ì´ ì²˜ë¦¬ë˜ì§€ ëª»í•˜ê³  ë²„ë ¤ì§ˆ ê²½ìš° ì™„í™”í•œë‹¤. ë§ˆë¬´ë¦¬ ì‹œê°„ì´ í—ˆë½ëœë‹¤ë©´ ë‹¤ìŒ ë¶€ë¶„ì„ ì–¸ê¸‰í•´ë³´ë©´ ì¢‹ë‹¤.\nê²½ì„± ë˜ëŠ” ì—°ì„± ì²˜ë¦¬ìœ¨ ì œí•œ ê²½ì„± ì²˜ë¦¬ìœ¨ ì œí•œ: ìš”ì²­ì˜ ê°œìˆ˜ëŠ” ì„ê³„ì¹˜ë¥¼ ì ˆëŒ€ ë„˜ì–´ì„¤ ìˆ˜ ì—†ë‹¤. ì—°ì„± ì²˜ë¦¬ìœ¨ ì œí•œ: ìš”ì²­ì˜ ê°œìˆ˜ëŠ” ì ì‹œë™ì•ˆì€ ì„ê³„ì¹˜ë¥¼ ë„˜ì–´ì„¤ ìˆ˜ ìˆë‹¤. ë‹¤ì–‘í•œ ê³„ì¸µì—ì„œì˜ ì²˜ë¦¬ìœ¨ ì œí•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ ì™¸ ë‹¤ë¥¸ ê³„ì¸µì—ì„œë„ ì²˜ë¦¬ìœ¨ ì œí•œì´ ê°€ëŠ¥í•˜ë‹¤. ì²˜ë¦¬ìœ¨ ì œí•œì„ íšŒí”¼í•˜ëŠ” ë°©ë²•. í´ë¼ì´ì–¸íŠ¸ë¥¼ ì–´ë–»ê²Œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ìµœì„ ì¸ê°€? í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìºì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œ íšŸìˆ˜ë¥¼ ì¤„ì¸ë‹¤. ì„ê³„ì¹˜ë¥¼ ì´í•´í•˜ê³ , ì§§ì€ ì‹œê°„ ë™ì•ˆ ë„ˆë¬´ ë§ì€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ì§€ ì•Šë„ë¡ í•œë‹¤. ì˜ˆì™¸ë‚˜ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ë„ì…í•˜ì—¬ ì˜ˆì™¸ì  ìƒí™©ì„ ìš°ì•„í•˜ê²Œ ë³µêµ¬ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ì¬ì‹œë„ ë¡œì§ì„ êµ¬í˜„í•  ë•ŒëŠ” ì¶©ë¶„í•œ ë°±ì˜¤í”„ ì‹œê°„ì„ ë‘”ë‹¤. ","date":"2024-05-15T12:22:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/4/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/4/","title":"4. ì²˜ë¦¬ìœ¨ ì œí•œ ì¥ì¹˜ì˜ ì„¤ê³„"},{"content":" ì‹œìŠ¤í…œ ì„¤ê³„ ë©´ì ‘ì€ ë‘ ëª…ì˜ ë™ë£Œê°€ ëª¨í˜¸í•œ ë¬¸ì œë¥¼ í’€ê¸° ìœ„í•´ í˜‘ë ¥í•˜ì—¬ ê·¸ í•´ê²°ì±…ì„ ì°¾ì•„ë‚´ëŠ” ê³¼ì •ì— ëŒ€í•œ ì‹œë®¬ë ˆì´ì…˜ì´ë‹¤.\nì‹œìŠ¤í…œ ì„¤ê³„ ë¨¼ì ‘ì€ íŠ¹ì • ì œí’ˆì„ ì„¤ê³„í•´ë³´ë¼ëŠ” ì‹ìœ¼ë¡œ ë§‰ì—°í•˜ê³ , ë„“ì€ ë²”ìœ„ë¡œ ì¸í•´ ë‹¹í™©ìŠ¤ëŸ¬ìš¸ ë•Œê°€ ë§ë‹¤.\ní•˜ì§€ë§Œ ì‹¤ì„¸ê³„ì—ì„œ ë§ì€ ì—”ì§€ë‹ˆì–´ë“¤ì´ ì°¸ì—¬í•˜ì—¬ ê°œë°œí•œ ì œí’ˆì€ ê·¹ë„ë¡œ ë³µì¡í•˜ê¸° ë•Œë¬¸ì— í•œ ì‹œê°„ ì•ˆì— ì„¤ê³„í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥ í•  ë¿ë”ëŸ¬, ì™„ë²½í•œ ì„¤ê³„ë¥¼ ìš”êµ¬í•˜ì§€ ì•ŠëŠ”ë‹¤.\nì‹œìŠ¤í…œ ì„¤ê³„ ë©´ì ‘ì€ ì •í•´ì§„ ê²°ë§, ì •ë‹µì´ ì—†ë‹¤. ìµœì¢…ì ìœ¼ë¡œ ë„ì¶œë  ì„¤ê³„ì•ˆì€ ì„¤ê³„ ê³¼ì •ì—ì„œ ë“¤ì¸ ë…¸ë ¥ì— ë¹„í•˜ë©´ ê·¸ë‹¤ì§€ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤. ì„¤ê³„ ê¸°ìˆ ì„ ì‹œì—°í•˜ëŠ” ìë¦¬ì´ë‹¤. ì„¤ê³„ ê³¼ì •ì—ì„œ ë‚´ë¦° ê²°ì •ë“¤ì— ëŒ€í•œ ë°©ì–´ ëŠ¥ë ¥ì„ ë³´ì´ëŠ” ìë¦¬ì´ë‹¤. ë©´ì ‘ê´€ì˜ í”¼ë“œë°±ì„ ê±´ì„¤ì ì¸ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•  ìì§ˆì´ ìˆìŒì„ ë³´ì´ëŠ” ìë¦¬ì´ë‹¤. ë©´ì ‘ê´€ì˜ ì˜ë„\nì‹œìŠ¤í…œ ì„¤ê³„ ë©´ì ‘ì€ ì§€ì›ìì˜ ì„¤ê³„ ëŠ¥ë ¥ì˜ ê¸°ìˆ ì ì¸ ì¸¡ë©´ ë¿ë§Œ ì•„ë‹ˆë¼ ì—¬ëŸ¬ ì‹œê·¸ë„ì„ ìˆ˜ì§‘í•œë‹¤.\ní˜‘ë ¥ì— ì í•©í•œ ì‚¬ëŒì¸ê°€? ì••ë°•ì´ ì‹¬í•œ ìƒí™©ë„ ì˜ í—¤ì³ ë‚˜ê°ˆ ìì§ˆì´ ìˆëŠ”ê°€? ëª¨í˜¸í•œ ë¬¸ì œë¥¼ ê±´ì„¤ì ìœ¼ë¡œ í•´ê²°í•  ëŠ¥ë ¥ì´ ìˆëŠ”ê°€? ì„¤ê³„ì˜ ìˆœìˆ˜ì„±ì— ì§‘ì°©í•œ ë‚˜ë¨¸ì§€, íƒ€í˜‘ì • ê²°ì •(trade off)ë¥¼ ë„ì™¸ì‹œí•˜ëŠ”ê°€? ì™„ê³ í•¨, í¸í˜‘í•¨ ë“± íš¨ê³¼ì ì¸ ë©´ì ‘ì„ ìœ„í•œ 4ë‹¨ê³„ ì ‘ê·¼ë²• ì‹œìŠ¤í…œ ì„¤ê³„ ë©´ì ‘ì€ ì œê°ê°ì´ë‹¤.\ní›Œë¥­í•œ ì„¤ê³„ ë©´ì ‘ì€ ì •í•´ì§„ ê²°ë§ë„ ì—†ê³  ì •ë‹µë„ ì—†ì§€ë§Œ, ì ˆì°¨ë‚˜ ë²”ìœ„ì—ëŠ” ê³µí†µì ì¸ ë¶€ë¶„ì´ ì¡´ì¬í•œë‹¤.\në¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì • ìš”êµ¬ì‚¬í•­ì„ ì™„ì „íˆ ì´í•´í•˜ì§€ ì•Šê³  ë‹µì„ ë‚´ë†“ëŠ” í–‰ìœ„ëŠ” ì•„ì£¼ ì—„ì²­ë‚œ ë¶€ì •ì  ì‹ í˜¸ì´ë‹¤.\në”°ë¼ì„œ ê¹Šì´ ìƒê°í•˜ê³  ì§ˆë¬¸í•˜ì—¬ ìš”êµ¬ì‚¬í•­ê³¼ ê°€ì •ë“¤ì„ ë¶„ëª…íˆ í•´ì•¼í•œë‹¤.\nì ì ˆí•œ ì„¤ê³„ë¥¼ ìœ„í•´ ì—”ì§€ë‹ˆì–´ê°€ ê°€ì ¸ì•¼ í•  ì¤‘ìš”í•œ ê¸°ìˆ ì€ ì•„ë˜ì™€ ê°™ë‹¤.\nì˜¬ë°”ë¥¸ ì§ˆë¬¸ì„ í•˜ëŠ” ê²ƒ ì ì ˆí•œ ê°€ì •ì„ í•˜ëŠ” ê²ƒ ì‹œìŠ¤í…œ êµ¬ì¶•ì— í•„ìš”í•œ ì •ë³´ë¥¼ ëª¨ìœ¼ëŠ” ê²ƒ ë”°ë¼ì„œ ì˜¬ë°”ë¥¸ ì§ˆë¬¸ì„ í†µí•´ ì ì ˆí•œ ê°€ì •ê³¼ ì •ë³´ë¥¼ ëª¨ì•„ì•¼í•˜ë©°, ìš”êµ¬ì‚¬í•­ì„ ì •í™•íˆ ì´í•´í•˜ê¸° ìœ„í•œ ì§ˆë¬¸ì€ ì•„ë˜ì™€ ê°™ì€ ìœ í˜•ì´ ìˆë‹¤.\nêµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ì•¼ í•˜ë‚˜? ì œí’ˆ ì‚¬ìš©ì ìˆ˜ëŠ” ì–¼ë§ˆë‚˜ ë˜ë‚˜? íšŒì‚¬ì˜ ê·œëª¨ëŠ” ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ ì»¤ì§€ë¦¬ë¼ ì˜ˆìƒí•˜ë‚˜? íšŒì‚¬ê°€ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ  ìŠ¤íƒì€ ë¬´ì—‡ì¸ê°€? ì„¤ê³„ë¥¼ ë‹¨ìˆœí™”í•˜ê¸° ìœ„í•´ í™œìš©í•  ìˆ˜ ìˆëŠ” ê¸°ì¡´ ì„œë¹„ìŠ¤ë¡œëŠ” ì–´ë–¤ ê²ƒë“¤ì´ ìˆëŠ”ê°€? ë‰´ìŠ¤ í”¼ë“œ(news feed) ì‹œìŠ¤í…œ ì„¤ê³„ ì§ˆë¬¸ ì˜ˆì œ\nQ. ëª¨ë°”ì¼ ì•±ê³¼ ì›¹ ì•± ê°€ìš´ë° ì–´ëŠìª½ì„ ì§€ì›í•´ì•¼ í•˜ëŠ”ê°€? A. ë‘˜ë‹¤ Q. ê°€ì¥ ì¤‘ìš”í•œ ê¸°ëŠ¥ì€? A1. ìƒˆë¡œìš´ í¬ìŠ¤íŠ¸ ì˜¬ë¦¬ê¸° A2. ë‹¤ë¥¸ ì¹œêµ¬ì˜ ë‰´ìŠ¤ í”¼ë“œ ì¡°íšŒí•˜ê¸° Q. ì •ë ¬ ê¸°ì¤€ì€? A. ì‹œê°„ ì—­ìˆœìœ¼ë¡œ Q. í•œ ì‚¬ìš©ìì˜ ìµœëŒ€ ì¹œêµ¬ ìˆ˜ A. 5,000ëª… Q. íŠ¸ë˜í”½ ê·œëª¨ëŠ”? A. ì¼ê°„ ëŠ¥ë™ ì‚¬ìš©ì(DAU) ì²œë§Œ ëª… Q. í”¼ë“œëŠ” í…ìŠ¤íŠ¸ë¡œë§Œ êµ¬ì„±ë˜ëŠ”ê°€? A. ì´ë¯¸ì§€ë‚˜ ë¹„ë””ì˜¤ ê°™ì€ ë¯¸ë””ì–´ íŒŒì¼ë„ í¬ìŠ¤íŠ¸ í•  ìˆ˜ ìˆì–´ì•¼í•¨. ê°œëµì ì¸ ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸° ê°œëµì ì¸ ì„¤ê³„ì•ˆì„ ì œì‹œí•˜ê³  ë©´ì ‘ê´€ì˜ ë™ì˜ë¥¼ êµ¬í•  ë•Œ ë©´ì ‘ê´€ê³¼ í˜‘ë ¥í•˜ë©° ì§„í–‰í•˜ë©´ ì¢‹ë‹¤.\nì„¤ê³„ì•ˆì— ëŒ€í•œ ìµœì´ˆ ì²­ì‚¬ì§„ì„ ì œì‹œí•˜ê³  ì˜ê²¬ì„ êµ¬í•˜ë¼. ë©´ì ‘ê´€ì„ ë§ˆì¹˜ íŒ€ì›ì¸ ê²ƒ ì²˜ëŸ¼ í™”ì´íŠ¸ë³´ë“œë‚˜ ì¢…ì´ì— í•µì‹¬ ì»´í¬ë„ŒíŠ¸ë¥¼ í¬í•¨í•˜ëŠ” ë‹¤ì´ì–´ê·¸ë¨ì„ ê·¸ë ¤ë¼. í´ë¼ì´ì–¸íŠ¸, API, ì›¹ ì„œë²„, ë°ì´í„° ì €ì¥ì†Œ, ìºì‹œ, CDN, ë©”ì‹œì§€ í ë“± ìµœì´ˆ ì„¤ê³„ì•ˆì´ ì‹œìŠ¤í…œ ê·œëª¨ì— ê´€ê³„ëœ ì œì•½ì‚¬í•­ë“¤ì„ ë§Œì¡±í•˜ëŠ”ì§€ë¥¼ ê°œëµì ìœ¼ë¡œ ê³„ì‚°í•œë‹¤. ê³„ì‚° ê³¼ì •ì€ ì†Œë¦¬ ë‚´ì–´ ì„¤ëª…í•œë‹¤. ê°œëµì  ì¶”ì •ì´ í•„ìš”í•œì§€ëŠ” ë©´ì ‘ê´€ì—ê²Œ ë¯¸ë¦¬ ë¬¼ì–´ë³¸ë‹¤. ê°€ëŠ¥í•˜ë‹¤ë©´ ì‹œìŠ¤í…œì˜ êµ¬ì²´ì  ì‚¬ìš© ì‚¬ë¡€ë„ ëª‡ ê°€ì§€ ì‚´í´ë³´ë©´ ê³ ë ¤í•˜ì§€ ëª»í•œ ì—ì§€ ì¼€ì´ìŠ¤ë¥¼ ë°œê²¬í•˜ëŠ” ë°ë„ ë„ì›€ì´ ë  ê²ƒì´ë‹¤.\në‰´ìŠ¤ í”¼ë“œ ì‹œìŠ¤í…œ ê°œëµì  ì„¤ê³„ ì˜ˆì‹œ\nê°œëµì ìœ¼ë¡œ ë³´ë©´ í”¼ë“œ ë°œí–‰, í”¼ë“œ ìƒì„± ë‘ ê°€ì§€ ì²˜ë¦¬ í”Œë¡œë¡œ ë‚˜ëˆ  ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤.\ní”¼ë“œ ë°œí–‰ ì‚¬ìš©ìê°€ í¬ìŠ¤íŠ¸ë¥¼ ì˜¬ë¦¬ë©´ ê´€ë ¨ëœ ë°ì´í„°ê°€ ìºì‹œ/ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡ë˜ê³ , í•´ë‹¹ ì‚¬ìš©ìì˜ ì¹œêµ¬ ë‰´ìŠ¤ í”¼ë“œì— ëœ¨ê²Œ ëœë‹¤. í”¼ë“œ ìƒì„± ì‚¬ìš©ìì˜ ë‰´ìŠ¤ í”¼ë“œëŠ” í•´ë‹¹ ì‚¬ìš©ì ì¹œêµ¬ë“¤ì˜ í¬ìŠ¤íŠ¸ë¥¼ ì‹œê°„ ì—­ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ë§Œë“ ë‹¤. ìƒì„¸ ì„¤ê³„ ì´ ë‹¨ê³„ë¡œ ì™”ë‹¤ë©´ ì•„ë˜ ëª©í‘œëŠ” ë‹¬ì„±í•œ ìƒíƒœì¼ ê²ƒì´ë‹¤.\nì‹œìŠ¤í…œì—ì„œ ì „ë°˜ì ìœ¼ë¡œ ë‹¬ì„±í•´ì•¼ í•  ëª©í‘œì™€ ê°€ëŠ¥ ë²”ìœ„ í™•ì¸ ì „ì²´ ì„¤ê³„ì˜ ê°œëµì  ì²­ì‚¬ì§„ ë§ˆë ¨ í•´ë‹¹ ì²­ì‚¬ì§„ì— ëŒ€í•œ ë©´ì ‘ê´€ì˜ ì˜ê²¬ ì²­ì·¨ ìƒì„¸ ì„¤ê³„ì—ì„œ ì§‘ì¤‘í•´ì•¼ í•  ì˜ì—­ë“¤ í™•ì¸ ì´ ë‹¨ê³„ì—ì„œëŠ” ë©´ì ‘ê´€ì´ ì„¤ê³„ ëŒ€ìƒ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì •í•œë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê²½ìš° ë©´ì ‘ê´€ì€ íŠ¹ì • ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì„¸ë¶€ì‚¬í•­ì„ ê¹Šì´ ìˆê²Œ ì„¤ëª…í•˜ëŠ” ê²ƒì„ ë³´ê¸¸ ì›í•œë‹¤.\në‹¨ì¶• URL ìƒì„±ê¸° í•´ì‹œ í•¨ìˆ˜ì˜ ì„¤ê³„ì˜ êµ¬ì²´ì ì¸ ë‚´ìš© ì±„íŒ… ì‹œìŠ¤í…œ ì–´ë–»ê²Œí•˜ë©´ ì§€ì—°ì‹œê°„ì„ ì¤„ì´ê³  ì‚¬ìš©ìì˜ ì˜¨/ì˜¤í”„ë¼ì¸ ìƒíƒœë¥¼ í‘œì‹œí•  ê²ƒì¸ì§€ ìœ„ì™€ ê°™ì€ ê²½ìš° ë„ˆë¬´ ê³¼ë„í•˜ê±°ë‚˜ ë¶ˆí•„ìš”í•œ ì„¸ë¶€ ì‚¬í•­ì„ ì„¤ëª…í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤.\në§ˆë¬´ë¦¬ ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ ë©´ì ‘ê´€ì€ ì„¤ê³„ ê²°ê³¼ë¬¼ì— ê´€ë ¨ëœ ëª‡ ê°€ì§€ í›„ì† ì§ˆë¬¸ì„ ë˜ì§ˆ ìˆ˜ë„ ìˆê³  ìŠ¤ìŠ¤ë¡œ ì¶”ê°€ ë…¼ì˜ë¥¼ ì§„í–‰í•˜ë„ë¡ í•  ìˆ˜ë„ ìˆë‹¤.\nê·¸ëŸ´ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ë“¤ì„ ì–¸ê¸‰í•´ë³´ë©´ ì¢‹ì€ ë°©í–¥ìœ¼ë¡œ ë§ˆë¬´ë¦¬ í•  ìˆ˜ ìˆë‹¤.\në©´ì ‘ê´€ì´ ì‹œìŠ¤í…œ ë³‘ëª©êµ¬ê°„, í˜¹ì€ ì¢€ ë” ê°œì„  ê°€ëŠ¥í•œ ì§€ì ì„ ì°¾ì•„ë‚´ë¼ ì£¼ë¬¸í•  ë•Œ ì™„ë²½í•˜ë‹¤ê±°ë‚˜ ê°œì„ í•  ë¶€ë¶„ì´ ì—†ë‹¤ëŠ” ë‹µì€ X ë¹„íŒì  ì‚¬ê³  ëŠ¥ë ¥ì„ ë³´ì´ê³ , ë§ˆì§€ë§‰ìœ¼ë¡œ ì¢‹ì€ ì¸ìƒì„ ë‚¨ê¸¸ ê¸°íšŒì´ë‹¤. ë§Œë“  ì„¤ê³„ë¥¼ í•œë²ˆ ë‹¤ì‹œ ìš”ì•½í•´ì¤€ë‹¤. ì—¬ëŸ¬ í•´ê²°ì±…ì„ ì œì‹œí•œ ê²½ìš°ì—ëŠ” íŠ¹íˆ ì¤‘ìš”í•˜ë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ë¬´ìŠ¨ ì¼ì´ ìƒê¸°ëŠ”ì§€ ë”°ì ¸ë³¸ë‹¤. ìš´ì˜ ì´ìŠˆë„ ë…¼ì˜í•  ê°€ì¹˜ê°€ ì¶©ë¶„í•˜ë‹¤. ë©”íŠ¸ë¦­ ìˆ˜ì§‘, ëª¨ë‹ˆí„°ë§, ë¡œê·¸, ë°°í¬ ë“± ë¯¸ë˜ì— ë‹¥ì¹  ê·œëª¨ í™•ì¥ ìš”êµ¬ì— ì–´ë–»ê²Œ ëŒ€ì²˜í•  ê²ƒì¸ê°€? í•„ìš”í•˜ì§€ë§Œ ë‹¤ë£¨ì§€ ëª»í–ˆë˜ ì„¸ë¶€ì  ê°œì„ ì‚¬í•­ë“¤ì„ ì œì•ˆí•  ìˆ˜ ìˆë‹¤. í•´ì•¼í•  ê²ƒ\nì§ˆë¬¸ì„ í†µí•´ í™•ì¸í•˜ë¼. ìŠ¤ìŠ¤ë¡œ ë‚´ë¦° ê°€ì •ì´ ì˜³ë‹¤ ë¯¿ê³  ì§„í–‰í•˜ì§€ ë§ë¼. ë¬¸ì œì˜ ìš”êµ¬ì‚¬í•­ì„ ì´í•´í•˜ë¼. ì •ë‹µì´ë‚˜ ìµœì„ ì˜ ë‹µì•ˆ ê°™ì€ ê²ƒì€ ì—†ë‹¤ëŠ” ì ì„ ëª…ì‹¬í•˜ë¼. ë©´ì ‘ê´€ì´ ì‚¬ê³  íë¦„ì„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ í•˜ë¼. ë©´ì ‘ê´€ê³¼ ì†Œí†µí•˜ë¼. ê°€ëŠ¥í•˜ë‹¤ë©´ ì—¬ëŸ¬ í•´ë²•ì„ í•¨ê»˜ ì œì‹œí•˜ë¼. ê°œëµì  ì„¤ê³„ì— ë©´ì ‘ê´€ì´ ë™ì˜í•˜ë©´, ê°€ì¥ ì¤‘ìš”í•œ ì»´í¬ë„ŒíŠ¸ë¶€í„° ì»´í¬ë„ŒíŠ¸ì˜ ì„¸ë¶€ì‚¬í•­ì„ ì„¤ëª…í•˜ê¸° ì‹œì‘í•˜ë¼. ë©´ì ‘ê´€ì˜ ì•„ì´ë””ì–´ë¥¼ ì´ëŒì–´ë‚´ë¼. ì¢‹ì€ ë©´ì ‘ê´€ì€ ê°™ì€ íŒ€ì›ì²˜ëŸ¼ í˜‘ë ¥í•œë‹¤. í¬ê¸°í•˜ì§€ ë§ë¼. í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ\nì „í˜•ì ì¸ ë©´ì ‘ ë¬¸ì œë“¤ì—ë„ ëŒ€ë¹„í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë©´ì ‘ì¥ì— ê°€ì§€ ë§ë¼. ìš”êµ¬ì‚¬í•­ì´ë‚˜ ê°€ì •ë“¤ì„ ë¶„ëª…íˆ í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì„¤ê³„ë¥¼ ì œì‹œí•˜ì§€ ë§ë¼. ì²˜ìŒë¶€í„° íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì˜ ì„¸ë¶€ì‚¬í•­ì„ ë„ˆë¬´ ê¹Šì´ ì„¤ëª…í•˜ì§€ ë§ë¼. ê°œëµì  ì„¤ê³„ë¥¼ ë§ˆì¹œ ë’¤ ì„œë¶€ì‚¬í•­ìœ¼ë¡œ ë‚˜ì•„ê°€ë¼. íŒíŠ¸ë¥¼ ì²­í•˜ê¸°ë¥¼ ì£¼ì €í•˜ì§€ ë§ë¼. ì†Œí†µì„ ì£¼ì €í•˜ì§€ ë§ë¼. ì¹¨ë¬µ ì†ì— ì„¤ê³„ë¥¼ ì§„í–‰í•˜ì§€ ë§ë¼. ì„¤ê³„ì•ˆì„ ë‚´ë†“ëŠ” ìˆœê°„ ë©´ì ‘ì´ ëë‚œë‹¤ê³  ìƒê°í•˜ì§€ ë§ë¼. ì˜ê²¬ì„ ì¼ì°, ê·¸ë¦¬ê³  ìì£¼ êµ¬í•˜ë¼. ì‹œê°„ ë°°ë¶„ ì‹œìŠ¤í…œ ì„¤ê³„ ë©´ì ‘ì€ ë³´í†µ ë§¤ìš° ê´‘ë²”ìœ„í•œ ì˜ì—­ì„ ë‹¤ë£¨ê¸° ë•Œë¬¸ì— ì‹œê°„ì´ ì¶©ë¶„í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì–´ ì‹œê´€ ê´€ë¦¬ë¥¼ ì˜ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nëŒ€ëµì ì¸ ì‹œê°„ ë¶„ë°°ëŠ” ì•„ë˜ì™€ ê°™ìœ¼ë©°, ë¬¸ì œì˜ ë²”ìœ„ë‚˜ ë©´ì ‘ê´€ì˜ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\në¬¸ì œ ì´í•´ ë° ì„¤ê³„ ë²”ìœ„ í™•ì •: 3 ~ 10ë¶„ ê°œëµì  ì„¤ê³„ì•ˆ ì œì‹œ ë° ë™ì˜ êµ¬í•˜ê¸°: 10 ~ 15ë¶„ ìƒì„¸ ì„¤ê³„: 10 ~ 25ë¶„ ë§ˆë¬´ë¦¬: 3 ~ 5ë¶„ ","date":"2024-05-07T16:01:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/3/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/3/","title":"3. ì‹œìŠ¤í…œ ì„¤ê³„ ë©´ì ‘ ê³µëµë²•"},{"content":"ê°œëµì ì¸ ê·œëª¨ ì¶”ì •(back-of-the-envelope estimation)ì€ ë³´í¸ì ìœ¼ë¡œ í†µìš©ë˜ëŠ” ì„±ëŠ¥ ìˆ˜ì¹˜ìƒì—ì„œ ì‚¬ê³  ì‹¤í—˜(thought experiments)ì„ í–‰í•˜ì—¬ ì¶”ì •ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” í–‰ìœ„ë¡œì„œ, ì–´ë–¤ ì„¤ê³„ê°€ ìš”êµ¬ì‚¬í•­ì— ë¶€í•©í•  ê²ƒì¸ì§€ ë³´ê¸° ìœ„í•œ ê²ƒì´ë‹¤.\n2ì˜ ì œê³±ìˆ˜ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ë‹¤ë£¨ëŠ” ë°ì´í„° ì–‘ì€ ë§¤ìš° ì»¤ì§ˆ ìˆ˜ ìˆìœ¼ë‚˜ ê³„ì‚°ë²•ì€ ê¸°ë³¸ì„ í¬ê²Œ ë²—ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.\nì œë°ë¡œ ëœ ê³„ì‚° ê²°ê³¼ë¥¼ ì–»ìœ¼ë ¤ë©´ ë°ì´í„° ë³¼ë¥¨ì˜ ë‹¨ìœ„ë¥¼ 2ì˜ ì œê³±ìˆ˜ë¡œ í‘œí˜„í•˜ë©´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ë¥¼ ì•Œì•„ì•¼í•œë‹¤.\n2ì˜ x ì œê³± ê·¼ì‚¬ì¹˜ ì´ë¦„ ì¶•ì•½í˜• 10 1ì²œ 1í‚¬ë¡œë°”ì´íŠ¸ 1KB 20 1ë°±ë§Œ 1ë©”ê°€ë°”ì´íŠ¸ 1MB 30 10ì–µ 1ê¸°ê°€ë°”ì´íŠ¸ 1GB 40 1ì¡° 1í…Œë¼ë°”ì´íŠ¸ 1TB 50 1000ì¡° 1í˜íƒ€ë°”ì´íŠ¸ 1PB ëª¨ë“  í”„ë¡œê·¸ë˜ë¨¸ê°€ ì•Œì•„ì•¼ í•˜ëŠ” ì‘ë‹µì§€ì—° ê°’ êµ¬ê¸€ì˜ ì œí”„ ë”˜ì€ 2010ë…„ì— í†µìƒì ì¸ ì»´í“¨í„°ì—ì„œ êµ¬í˜„ëœ ì—°ì‚°ë“¤ì˜ ì‘ë‹µì§€ì—° ê°’ì„ ê³µê°œí•œ ë°” ìˆë‹¤.\nì»´í“¨í„°ì˜ ì„±ëŠ¥ì´ ë” ì¢‹ì•„ì§€ë©° ìœ íš¨í•˜ì§„ ì•Šì§€ë§Œ, ì—°ì‚°ì˜ ì²˜ë¦¬ ì†ë„ê°€ ì–´ëŠì •ë„ì¸ì§€ ê°€ëŠ í•´ë³¼ ìˆ˜ëŠ” ìˆë‹¤.\nì—°ì‚°ëª… ì‹œê°„ L1 ìºì‹œ ì°¸ì¡° 0.5ns ë¶„ê¸° ì˜ˆì¸¡ ì˜¤ë¥˜(branch mispredict) 5ns L2 ìºì‹œ ì°¸ì¡° 7ns ë®¤í…ìŠ¤ ë½/ì–¸ë½ 100ns ì£¼ ë©”ëª¨ë¦¬ ì°¸ì¡° 100ns Zippyë¡œ 1 KB ì••ì¶• 10,000ns = 10Âµs 1 Gbps ë„¤íŠ¸ì›Œí¬ë¡œ 2 KB ì „ì†¡ 20,000ns = 20Âµs ë©”ëª¨ë¦¬ì—ì„œ 1 MB ìˆœì°¨ì ìœ¼ë¡œ read 250,000ns = 250Âµs ê°™ì€ ë°ì´í„° ì„¼í„° ë‚´ì—ì„œì˜ ë©”ì‹œì§€ ì™•ë³µ ì§€ì—° ì‹œê°„ 500,000ns = 500Âµs ë””ìŠ¤í¬ íƒìƒ‰(seek) 10,000,000ns = 10ms ë„¤íŠ¸ì›Œí¬ì—ì„œ 1 MB ìˆœì°¨ì ìœ¼ë¡œ read 10,000,000ns = 10ms ë””ìŠ¤í¬ì—ì„œ 1 MB ìˆœì°¨ì ìœ¼ë¡œ read 30,000,000ns = 30ms í•œ íŒ¨í‚·ì˜ ìº˜ë¦¬í¬ë‹ˆì•„ë¡œë¶€í„° ë„¤ëœë€ë“œê¹Œì§€ì˜ ì™•ë³µ ì§€ì—° ì‹œê°„ 150,000,000ns = 150ms í•œ êµ¬ê¸€ ì—”ì§€ë‹ˆì–´ê°€ ë”˜ ë°•ì‚¬ê°€ ë‚˜ì—´í•œ ìˆ˜ë“¤ì„ ì‹œê°í™”í•˜ì˜€ê³ , ìµœê·¼ ê¸°ìˆ  ë™í–¥(2020)ì´ ë°˜ì˜ë˜ì–´ìˆë‹¤.\nì´ ìˆ˜ì¹˜ë“¤ì„ ë¶„ì„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ë¡ ì´ ë‚˜ì˜¨ë‹¤.\në©”ëª¨ë¦¬ëŠ” ë¹ ë¥´ì§€ë§Œ ë””ìŠ¤í¬ëŠ” ì•„ì§ë„ ëŠë¦¬ë‹¤. ë””ìŠ¤í¬ íƒìƒ‰(seek)ëŠ” ê°€ëŠ¥í•œ í•œ í”¼í•˜ë¼. ë‹¨ìˆœí•œ ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì€ ë¹ ë¥´ë‹¤. ë°ì´í„°ë¥¼ ì¸í„°ë„·ìœ¼ë¡œ ì „ì†¡í•˜ê¸° ì „ì— ê°€ëŠ¥í•˜ë©´ ì••ì¶•í•˜ë¼. ë°ì´í„° ì„¼í„°ëŠ” ë³´í†µ ì—¬ëŸ¬ ì§€ì—­ì— ë¶„ì‚°ë˜ì–´ ìˆê³ , ì„¼í„°ë“¤ ê°„ì— ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ë°ëŠ” ì‹œê°„ì´ ê±¸ë¦°ë‹¤. ê°€ìš©ì„±ì— ê´€ê³„ëœ ìˆ˜ì¹˜ë“¤ ê³ ê°€ìš©ì„±(high availability)ì€ ì‹œìŠ¤í…œì´ ì˜¤ëœ ì‹œê°„ ë™ì•ˆ ì§€ì†ì ìœ¼ë¡œ ì¤‘ë‹¨ ì—†ì´ ìš´ì˜ë  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ì§€ì¹­í•˜ëŠ” ìš©ì–´ë‹¤.\nê³ ê°€ìš©ì„±ì„ í‘œí˜„í•˜ëŠ” ê°’ì€ í¼ì„¼íŠ¸ë¡œ í‘œí˜„í•˜ëŠ”ë°, 100%ëŠ” ì‹œìŠ¤í…œì´ ë‹¨ í•œ ë²ˆë„ ì¤‘ë‹¨ëœ ì ì´ ì—†ì—ˆìŒì„ ì˜ë¯¸í•˜ë©°, ëŒ€ë¶€ë¶„ì˜ ì„œë¹„ìŠ¤ëŠ” 99%ì—ì„œ 100% ì‚¬ì´ì˜ ê°’ì„ ê°–ëŠ”ë‹¤.\nSLA(Service Level Agreement)ëŠ” ì„œë¹„ìŠ¤ ì‚¬ì—…ì(service provider)ê°€ ë³´í¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìš©ì–´ë¡œ, ì„œë¹„ìŠ¤ ì‚¬ì—…ìì™€ ê³ ê° ì‚¬ì´ì— ë§ºì–´ì§„ í•©ì˜ë¥¼ ì˜ë¯¸í•œë‹¤.\nì´ í•©ì˜ì—ëŠ” ì„œë¹„ìŠ¤ ì‚¬ì—…ìê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ê°€ìš©ì‹œê°„(uptime)ì´ ê³µì‹ì ìœ¼ë¡œ ê¸°ìˆ ë˜ì–´ ìˆë‹¤.\nê°€ìš©ì‹œê°„ì€ ê´€ìŠµì ìœ¼ë¡œ ìˆ«ì 9ë¥¼ ì‚¬ìš©í•´ í‘œì‹œí•˜ë©°, 9ê°€ ë§ì„ìˆ˜ë¡ ì¢‹ë‹¤.\nê°€ìš©ë¥  í•˜ë£¨ë‹¹ ì¥ì• ì‹œê°„ ì£¼ë‹¹ ì¥ì• ì‹œê°„ ê°œì›”ë‹¹ ì¥ì• ì‹œê°„ ì—°ê°„ ì¥ì• ì‹œê°„ 99% 14.40ë¶„ 1.68ì‹œê°„ 7.31ì‹œê°„ 3.65ì¼ 99.9% 1.44ë¶„ 10.08ë¶„ 43.83ë¶„ 8,77ì‹œê°„ 99.99% 8.64ì´ˆ 1.01ë¶„ 4.38ë¶„ 52.60ë¶„ 99.999% 864.00ë°€ë¦¬ì´ˆ 6.05ì´ˆ 26.30 5.26ë¶„ 99.9999 86.40ë°€ë¦¬ì´ˆ 604.80ë°€ë¦¬ì´ˆ 2.63ì´ˆ 31.56ì´ˆ ì˜ˆì œ: íŠ¸ìœ„í„° QPSì™€ ì €ì¥ì†Œ ìš”êµ¬ëŸ‰ ì¶”ì • ê°€ì •\nì›”ê°„ ëŠ¥ë™ ì‚¬ìš©ì(monthly active user)ëŠ” 3ì–µ(300million) ëª…ì´ë‹¤. 50%ì˜ ì‚¬ìš©ìê°€ íŠ¸ìœ„í„°ë¥¼ ë§¤ì¼ ì‚¬ìš©í•œë‹¤. í‰ê· ì ìœ¼ë¡œ ê° ì‚¬ìš©ìëŠ” ë§¤ì¼ 2ê±´ì˜ íŠ¸ìœ—ì„ ì˜¬ë¦°ë‹¤. ë¯¸ë””ì–´ë¥¼ í¬í•¨í•˜ëŠ” íŠ¸ìœ—ì€ 10% ì •ë„ë‹¤. ë°ì´í„°ëŠ” 5ë…„ê°„ ë³´ê´€ëœë‹¤. ì¶”ì •\nQPS(Query Per Second) ì¶”ì •ì¹˜ ì¼ê°„ ëŠ¥ë™ ì‚¬ìš©ì(Daily Active User, DAU) = 3ì–µ * 0.5 = 1.5ì–µ QPS = 1.5ì–µ * 2íŠ¸ìœ— / 24ì‹œê°„ / 3600ì´ˆ = ì•½ 3500 ìµœëŒ€ QPS(Peek QPS) = 2 * QPS = ì•½ 7000 ë¯¸ë””ì–´ ì €ì¥ì„ ìœ„í•œ ì €ì¥ì†Œ ìš”êµ¬ëŸ‰ í‰ê·  íŠ¸ìœ— í¬ê¸° tweet_idì— 64ë°”ì´íŠ¸ í…ìŠ¤íŠ¸ì— 140ë°”ì´íŠ¸ ë¯¸ë””ì–´ì— 1MB ë¯¸ë””ì–´ ì €ì •ì†Œ ìš”êµ¬ëŸ‰ = 1.5ì–µ * 2 * 0.1 * 1MB = 30TB/ì¼ 5ë…„ê°„ ë¯¸ë””ì–´ë¥¼ ë³´ê´€í•˜ê¸° ìœ„í•œ ì €ì¥ì†Œ ìš”êµ¬ëŸ‰: 30TB * 365 * 5 = ì•½ 55PB íŒ ê°œëµì ì¸ ê·œëª¨ ì¶”ì •ê³¼ ê´€ê³„ëœ ë©´ì ‘ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ë¬¸ì œë¥¼ í’€ì–´ ë‚˜ê°€ëŠ” ì ˆì°¨ë‹¤.\nì˜¬ë°”ë¥¸ ì ˆì°¨ë¥¼ ë°ŸëŠëƒê°€ ê²°ê³¼ë¥¼ ë‚´ëŠ” ê²ƒë³´ë‹¤ ì¤‘ìš”í•˜ë‹¤.\nê·¼ì‚¬ì¹˜ë¥¼ í™œìš©í•œ ê³„ì‚°(rounding and approximation): ì ì ˆí•œ ê·¼ì‚¬ì¹˜ë¥¼ í™œìš©í•˜ì—¬ ì‹œê°„ì„ ì ˆì•½í•˜ì. ê°€ì •(assumption)ë“¤ì€ ì ì–´ ë‘”ë‹¤. ë‹¨ìœ„(unit)ì„ ë¶™ì—¬ë¼. í—·ê°ˆë¦¬ê²Œ ë˜ë¯€ë¡œ, ë‹¨ìœ„ë¥¼ ë¶™ì´ëŠ” ìŠµê³ ë‚˜ì„ ë“¤ì—¬ ëª¨í˜¸í•¨ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤. QPS, ìµœëŒ€ QPS, ì €ì¥ì†Œ ìš”êµ¬ëŸ‰, ìºì‹œ ìš”êµ¬ëŸ‰, ì„œë²„ ìˆ˜ ë“±ì„ ì¶”ì •í•˜ëŠ” ê²ƒì´ ìì£¼ ì¶œì œëœë‹¤. ","date":"2024-04-30T22:03:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/2/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/2/","title":"2. ê°œëµì ì¸ ê·œëª¨ ì¶”ì •"},{"content":"ìˆ˜ë°±ë§Œ ì‚¬ìš©ìë¥¼ ì§€ì›í•˜ëŠ” ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ëŠ” ê²ƒì€ ë„ì „ì ì¸ ê³¼ì œì´ë©°, ì§€ì†ì ì¸ ê³„ëŸ‰ê³¼ ëì—†ëŠ” ê°œì„ ì´ ìš”êµ¬ë˜ëŠ” ì—¬ì •ì´ë‹¤.\nì´ë²ˆ ì¥ì€ í•œ ëª…ì˜ ì‚¬ìš©ìë¥¼ ì§€ì›í•˜ëŠ” ì‹œìŠ¤í…œì—ì„œ ì‹œì‘í•˜ì—¬, ìµœì¢…ì ìœ¼ë¡œ ëª‡ë°±ë§Œ ì‚¬ìš©ìë¥¼ ì§€ì›í•˜ëŠ” ì‹œìŠ¤í…œì„ ì„¤ê³„í•´ë³¸ë‹¤.\në‹¨ì¼ ì„œë²„ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ë‹¨ í•œëŒ€ì˜ ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê°„ë‹¨í•œ ì‹œìŠ¤í…œë¶€í„° ì„¤ê³„í•´ë³´ì.\nì›¹ ì•±, ë°ì´í„°ë² ì´ìŠ¤, ìºì‹œ ë“±ì´ ì „ë¶€ ì„œë²„ í•œ ëŒ€ì—ì„œ ì‹¤í–‰ëœë‹¤.\nì‚¬ìš©ì ìš”ì²­ ì²˜ë¦¬ íë¦„\nì‚¬ìš©ìëŠ” ë„ë©”ì¸ ì´ë¦„(api.mysite.com)ì„ ì´ìš©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ì— ì ‘ì†í•œë‹¤. ì´ ì ‘ì†ì„ ìœ„í•´ DNSì— ì§ˆì˜í•˜ì—¬ IP ì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ ì¹˜ê²Œ ëœë‹¤. DNSëŠ” ë³´í†µ ì„œë“œ íŒŒí‹°ê°€ ì œê³µí•˜ëŠ” ìœ ë£Œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ë¯€ë¡œ ì‹œìŠ¤í…œì˜ ì¼ë¶€ëŠ” ì•„ë‹ˆë‹¤. DNS ì¡°íšŒ ê²°ê³¼ë¡œ IP ì£¼ì†Œê°€ ë°˜í™˜ëœë‹¤. í•´ë‹¹ IP ì£¼ì†Œë¡œ HTTP ìš”ì²­ì´ ì „ë‹¬ëœë‹¤. ìš”ì²­ì„ ë°›ì€ ì›¹ ì„œë²„ëŠ” HTML í˜ì´ì§€ë‚˜ JSON í˜•íƒœì˜ ì‘ë‹µì„ ë°˜í™˜í•œë‹¤. ì‹¤ì œ ìš”ì²­ì€ ì›¹ ì•±ê³¼ ëª¨ë°”ì¼ ì•± ë‘ê°€ì§€ ì¢…ë¥˜ì— ë‹¨ë§ë¡œ ë¶€í„° ì˜¨ë‹¤.\nì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë°ì´í„° ì €ì¥ ë“±ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ ì„œë²„ êµ¬í˜„ìš© ì–¸ì–´(ìë°”, íŒŒì´ì¬ ë“±)ë¥¼ ì‚¬ìš©í•œë‹¤. í”„ë ˆì  í…Œì´ì…˜ ìš©ìœ¼ë¡œëŠ” í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ìš© ì–¸ì–´(HTML, ìë°”ìŠ¤í¬ë¦½íŠ¸ ë“±)ë¥¼ ì‚¬ìš©í•œë‹¤. ëª¨ë°”ì¼ ì•± ëª¨ë°”ì¼ ì•±ê³¼ ì›¹ ì„œë²„ ê°„ í†µì‹ ì„ ìœ„í•´ì„œëŠ” HTTP í”„ë¡œí† ì½œì„ ì´ìš©í•œë‹¤. ë°˜í™˜ë  ì‘ë‹µ ë°ì´í„°ì˜ í¬ë§·ìœ¼ë¡œëŠ” ë³´í†µ JSONì´ ë„ë¦¬ ì“°ì¸ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ìê°€ ëŠ˜ë©´ ì„œë²„ í•˜ë‚˜ë¡œëŠ” ì¶©ë¶„í•˜ì§€ ì•Šì•„ì„œ ì—¬ëŸ¬ ì„œë²„ë¥¼ ë‘ì–´ì•¼ í•œë‹¤.\nì›¹/ëª¨ë°”ì¼ íŠ¸ë˜í”½ ì²˜ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ ì›¹/ëª¨ë°”ì¼ íŠ¸ë˜í”½ ì²˜ë¦¬ ì„œë²„(ì›¹ ê³„ì¸µ)ì™€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„(ë°ì´í„° ê³„ì¸µ)ë¥¼ ë¶„ë¦¬í•˜ë©´ ê·¸ ê°ê°ì„ ë…ë¦½ì ìœ¼ë¡œ í™•ì¥í•´ ë‚˜ê°ˆ ìˆ˜ ìˆê²Œ ëœë‹¤.\nì–´ë–¤ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ê²ƒì¸ê°€? ì „í†µì ì¸ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ ë¹„-ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì—ì„œ ê³ ë¥¼ ìˆ˜ ìˆë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(RDBMS)ì´ë¼ê³ ë„ ë¶€ë¥´ë©°, ìë£Œë¥¼ í…Œì´ë¸”ê³¼ ì—´, ì»¬ëŸ¼ìœ¼ë¡œ í‘œí˜„í•œë‹¤. SQLì„ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ í…Œì´ë¸”ì— ìˆëŠ” ë°ì´í„°ë¥¼ ê·¸ ê´€ê³„ì— ë”°ë¼ ì¡°ì¸(join)í•˜ì—¬ í•©ì¹  ìˆ˜ ìˆë‹¤. ex) MySQL, Oracle, PostgreSQL ë“± ë¹„-ê´€ê³„í˜• ë°ì´í„° ë² ì´ìŠ¤ NoSQLì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤. í‚¤-ê°’ ì €ì¥ì†Œ(key-value store), ê·¸ë˜í”„ ì €ì¥ì†Œ(graph store), ì»¬ëŸ¼ ì €ì¥ì†Œ(column store), ë¬¸ì„œ ì €ì¥ì†Œ(document store) ë„¤ ë¶€ë¥˜ë¡œ ë‚˜ë‰œë‹¤. ë¹„-ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì¡°ì¸ ì—°ì‚°ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ex) CouchDB, Neo4j, Cassandra, HBase, Amazon DynamoDB ë“± ëŒ€ë¶€ë¶„ì˜ ê°œë°œìì—ê²ŒëŠ” 40ë…„ ì´ìƒ ì‹œì¥ì—ì„œ ì‚´ì•„ë‚¨ì•„ ì˜ ì‚¬ìš©ë˜ì–´ì˜¨ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ìµœì„ ì´ë‹¤.\ní•˜ì§€ë§Œ êµ¬ì¶•í•˜ë ¤ëŠ” ì‹œìŠ¤í…œì— ì í•©í•˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì´ì™¸ì˜ ì €ì¥ì†Œë„ ì‚´í´ë³´ì•„ì•¼í•œë‹¤.\nì•„ì£¼ ë‚®ì€ ì‘ë‹µ ì§€ì—°ì‹œê°„(latency)ì´ ìš”êµ¬ë¨ ë‹¤ë£¨ëŠ” ë°ì´í„°ê°€ ë¹„ì •í˜•(unstructured)ì´ë¼ ê´€ê³„í˜• ë°ì´í„°ê°€ ì•„ë‹˜ ë°ì´í„°(JSON, YAML, XML ë“±)ë¥¼ ì§ë ¬í™”í•˜ê±°ë‚˜(serialize) ì—­ì§ë ¬í™”(deserialize) í•  ìˆ˜ ìˆê¸°ë§Œ í•˜ë©´ ë¨ ì•„ì£¼ ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•  í•„ìš”ê°€ ìˆìŒ ìˆ˜ì§ì  ê·œëª¨ í™•ì¥ VS ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ ìˆ˜ì§ì  ê·œëª¨ í™•ì¥(vertical scaling) ìŠ¤ì¼€ì¼ ì—…(scale up) ì´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ìˆ˜ì§ì  ê·œëª¨ í™•ì¥ í”„ë¡œì„¸ìŠ¤ëŠ” ì„œë²„ì— ê³ ì‚¬ì–‘ ìì›ì„ ì¶”ê°€í•˜ëŠ” í–‰ìœ„ë¥¼ ë§í•œë‹¤.\nì¥ì \nì„œë²„ë¡œ ìœ ì…ë˜ëŠ” íŠ¸ë˜í”½ì˜ ì–‘ì´ ì ì„ ë•ŒëŠ” ìˆ˜ì§ì  í™•ì¥ì´ ì¢‹ì€ ì„ íƒì´ë‹¤. ë‹¨ìˆœí•˜ë‹¤. ë‹¨ì \ní•œ ëŒ€ì˜ ì„œë²„ì— CPUë‚˜ ë©”ëª¨ë¦¬ë¥¼ ë¬´í•œëŒ€ë¡œ ì¦ì„¤í•  ë°©ë²•ì´ ì—†ì–´ í•œê³„ê°€ ìˆë‹¤. ì¥ì• ì— ëŒ€í•œ ìë™ë³µêµ¬(failover) ë°©ì•ˆì´ë‚˜ ë‹¤ì¤‘í™”(redundancy) ë°©ì•ˆì„ ì œì‹œí•˜ì§€ ì•ŠëŠ”ë‹¤. ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ ì™„ì „íˆ ì¤‘ë‹¨ëœë‹¤. ìˆ˜í‰ì  ê·œëª¨ í™•ì¥(horizontal scaling) ìŠ¤ì¼€ì¼ ì•„ì›ƒ(scale out) ì´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ í”„ë¡œì„¸ìŠ¤ëŠ” ë” ë§ì€ ì„œë²„ë¥¼ ì¶”ê°€í•˜ì—¬ ì„±ëŠ¥ì„ ê°œì„ í•˜ëŠ” í–‰ìœ„ë¥¼ ë§í•œë‹¤.\nìˆ˜ì§ì  ê·œëª¨ í™•ì¥ì—ì„œ ì–¸ê¸‰ëœ ë‹¨ì ìœ¼ë¡œ ì¸í•´ ëŒ€ê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì§€ì›í•˜ëŠ” ë°ëŠ” ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ë²•ì´ ë³´ë‹¤ ì ì ˆí•˜ë‹¤.\nìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì„ ìœ„í•´ ì¶”ê°€ì ì¸ ì¥ì¹˜ê°€ í•„ìš”í•˜ë‹¤.\nì•ì„œ ë³¸ ì„¤ê³„ì—ì„œ ì‚¬ìš©ìê°€ ì›¹ ì„œë²„ë¡œ ë°”ë¡œ ì—°ê²°ë˜ëŠ”ë°,\nì›¹ ì„œë²„ê°€ ë‹¤ìš´ë˜ë©´ ì‚¬ìš©ìëŠ” ì›¹ ì‚¬ì´íŠ¸ì— ì ‘ì†í•  ìˆ˜ ì—†ë‹¤. ë„ˆë¬´ ë§ì€ ì‚¬ìš©ìê°€ ì ‘ì†í•˜ì—¬ ì›¹ ì„œë²„ê°€ í•œê³„ì— ë„ë‹¬í•˜ë©´ ì‘ë‹µ ì†ë„ê°€ ëŠë ¤ì§€ê±°ë‚˜ ì„œë²„ ì ‘ì†ì´ ë¶ˆê°€ëŠ¥í•´ì§ˆ ìˆ˜ ìˆë‹¤. ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°ëŠ” ë¶€í•˜ ë¶„ì‚°ê¸° ë˜ëŠ” ë¡œë“œë°¸ëŸ°ì„œë¥¼ ë„ì…í•˜ëŠ” ê²ƒì´ ìµœì„ ì´ë‹¤.\në¡œë“œë°¸ëŸ°ì„œ(Load balancer) ë¡œë“œë°¸ëŸ°ì„œëŠ” ë¶€í•˜ ë¶„ì‚° ì§‘í•©(load balancing set)ì— ì†í•œ ì›¹ ì„œë²„ë“¤ì—ê²Œ íŠ¸ë˜í”½ ë¶€í•˜ë¥¼ ê³ ë¥´ê²Œ ë¶„ì‚°í•˜ëŠ” ì—­í• ì„ í•œë‹¤.\nì‚¬ìš©ìëŠ” ë¡œë“œë°¸ëŸ°ì„œì˜ ê³µê°œ IP ì£¼ì†Œë¡œ ì ‘ì†í•˜ë¯€ë¡œ, ì›¹ ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì ‘ì†ì„ ì§ì ‘ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ë³´ì•ˆì„ ìœ„í•´ ì„œë²„ ê°„ í†µì‹ ì—ëŠ” ì‚¬ì„¤ IP ì£¼ì†Œê°€ ì´ìš©ëœë‹¤. ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ì†í•œ ì„œë²„ ì‚¬ì´ì˜ í†µì‹ ì—ë§Œ ì“°ì¼ ìˆ˜ ìˆëŠ” IP ì£¼ì†Œë¡œ, ì¸í„°ë„·ì„ í†µí•´ì„œ ì ‘ì†í•  ìˆ˜ ì—†ë‹¤. ë¶€í•˜ ë¶„ì‚° ì§‘í•©ì— ë˜ í•˜ë‚˜ì˜ ì›¹ ì„œë²„ë¥¼ ì¶”ê°€í•˜ê³  ë‚˜ë©´, ì¥ì• ë¥¼ ìë™ë³µêµ¬í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œ(no failover)ëŠ” í•´ì†Œë˜ë©°, ì›¹ ê³„ì¸µì˜ ê°€ìš©ì„±(availability)ì€ í–¥ìƒëœë‹¤.\nì„œë²„ 1ì´ ë‹¤ìš´ë˜ë©´ ëª¨ë“  íŠ¸ë˜í”½ì€ ì„œë²„ 2ë¡œ ì „ì†¡ëœë‹¤. ì›¹ ì‚¬ì´íŠ¸ ì „ì²´ê°€ ë‹¤ìš´ë˜ëŠ” ì¼ì´ ë°©ì§€ëœë‹¤. ë¶€í•˜ë¥¼ ë‚˜ëˆ„ê¸° ìœ„í•´ ìƒˆë¡œìš´ ì„œë²„ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤. ì›¹ì‚¬ì´íŠ¸ë¡œ ìœ ì…ë˜ëŠ” íŠ¸ë˜í”½ì´ ê°€íŒŒë¥´ê²Œ ì¦ê°€í•  ê²½ìš° ì›¹ ì„œë²„ ê³„ì¸µì— ë” ë§ì€ ì„œë²„ë¥¼ ì¶”ê°€í•˜ë©´ ë¡œë“œë°¸ëŸ°ìŠ¤ê°€ ìë™ì ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ë¶„ì‚°í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ë‹¤ì¤‘í™” ë§ì€ ë°ì´í„°ë² ì´ìŠ¤ë“¤ì´ ì£¼(master)-ë¶€(slave) ê´€ê³„ë¥¼ ì„¤ì •í•˜ì—¬ ë°ì´í„° ì›ë³¸ì€ ì£¼ ì„œë²„ì—, ì‚¬ë³¸ì€ ë¶€ ì„œë²„ì— ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë‹¤ì¤‘í™”ë¥¼ ì§€ì›í•œë‹¤.\nì“°ê¸° ì—°ì‚°ì€ ë§ˆìŠ¤í„°ì—ë§Œ ì§€ì›í•˜ë©°, ë¶€ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì£¼ ë°ì´í„°ë² ì´ìŠ¤ë¡œë¶€í„° ê·¸ ì‚¬ë³¸ì„ ì „ë‹¬ë°›ì•„ ì½ê¸° ì—°ì‚°ë§Œì„ ì§€ì›í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì–´(INSERT, DELETE, UPDATE ë“±)ëŠ” ì£¼ ë°ì´í„°ë² ì´ìŠ¤ë¡œë§Œ ì „ë‹¬ë˜ì–´ì•¼ í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ë¥´ ë‹¤ì¤‘í™”í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì´ë“ì´ ìˆë‹¤.\në” ë‚˜ì€ ì„±ëŠ¥ ëª¨ë“  ë°ì´í„° ë³€ê²½ ì—°ì‚°ì€ ì£¼ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¡œë§Œ ì „ë‹¬ë˜ëŠ” ë°˜ë©´ ì½ê¸° ì—°ì‚°ì€ ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë“¤ë¡œ ë¶„ì‚°ë˜ì–´ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆëŠ” ì§ˆì˜(query)ê°€ ëŠ˜ì–´ë‚˜ë¯€ë¡œ, ì„±ëŠ¥ì´ ì¢‹ì•„ì§„ë‹¤. ì•ˆì •ì„± ìì—° ì¬í•´ ë“±ì˜ ì´ìœ ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ê°€ìš´ë° ì¼ë¶€ê°€ íŒŒê´´ë˜ì–´ë„ ë°ì´í„°ëŠ” ë³´ì¡´ëœë‹¤. ê°€ìš©ì„± ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ì§€ì—­ì— ë³µì œí•´ ë‘ ìœ¼ë¡œì¨, í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ ë‹¤ë¥¸ ì„œë²„ì— ìˆëŠ” ë°ì´í„°ë¡œ ê³„ì† ì„œë¹„ìŠ¤í•  ìˆ˜ ìˆë‹¤. ìœ„ì™€ ê°™ì€ ë°ì´í„°ê³„ì¸µì„ êµ¬ì„±í•˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ê°€ìš´ë° í•˜ë‚˜ê°€ ë‹¤ìš´ë˜ë”ë¼ë„ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì„ ê°ë‹¹í•  ìˆ˜ ìˆë‹¤.\në¶€ ì„œë²„ í•œëŒ€ë¿ì¸ë° ë‹¤ìš´ëœ ê²½ìš° ì½ê¸° ì—°ì‚°ì´ í•œì‹œì ìœ¼ë¡œ ì£¼ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì „ë‹¬ëœë‹¤. ì¦‰ì‹œ ìƒˆë¡œìš´ ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ê°€ ì¥ì•  ì„œë²„ë¥¼ ëŒ€ì²˜í•œë‹¤. ë¶€ ì„œë²„ ì¤‘ í•œëŒ€ê°€ ë‹¤ìš´ëœ ê²½ìš° ì¼ê¸° ì—°ì‚°ì´ ë‚˜ë¨¸ì§€ ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ë¡œ ë¶„ì‚°ëœë‹¤. ìƒˆë¡œìš´ ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ê°€ ì¥ì•  ì„œë²„ë¥¼ ëŒ€ì²´í•œë‹¤. ì£¼ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ê°€ ë‹¤ìš´ëœ ê²½ìš° ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ì¤‘ í•˜ë‚˜ê°€ ìƒˆë¡œìš´ ì£¼ ì„œë²„ê°€ ëœë‹¤. ë‹¤ì¤‘í™”ë¥¼ ê³ ë ¤í•œ ì„¤ê³„ ì•„ë˜ëŠ” ë¡œë“œë°¸ëŸ°ì„œì™€ ë°ì´í„°ë² ì´ìŠ¤ ë‹¤ì¤‘í™”ë¥¼ ê³ ë ¤í•œ ì„¤ê³„ì•ˆì´ë‹¤.\nì‚¬ìš©ìëŠ” DNSë¡œë¶€í„° ë¡œë“œë°¸ëŸ°ì„œì˜ ê³µê°œ IP ì£¼ì†Œë¥¼ ë°›ëŠ”ë‹¤. ì‚¬ìš©ìëŠ” í•´ë‹¹ IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•´ ë¡œë“œë°¸ëŸ°ì„œì— ì ‘ì†í•œë‹¤. HTTP ìš”ì²­ì€ ì„œë²„ 1ì´ë‚˜ ì„œë²„ 2ë¡œ ì „ë‹¬ëœë‹¤. ì›¹ ì„œë²„ëŠ” ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ì½ëŠ”ë‹¤. ì›¹ ì„œë²„ëŠ” ë°ì´í„° ë³€ê²½ ì—°ì‚°ì€ ì£¼ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì „ë‹¬í•œë‹¤. ìºì‹œ Cache ìºì‹œë¥¼ ë¶™ì—¬ ì‘ë‹µ ì‹œê°„(latency)ë¥¼ ê°œì„ í•´ë³¼ ìˆ˜ ìˆë‹¤.\nìºì‹œëŠ” ê°’ë¹„ì‹¼ ì—°ì‚° ê²°ê³¼ ë˜ëŠ” ìì£¼ ì°¸ì¡°ë˜ëŠ” ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ ì•ˆì— ë‘ê³ , ë’¤ì´ì€ ìš”ì²­ì´ ë³´ë‹¤ ë¹¨ë¦¬ ì²˜ë¦¬ë  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì €ì¥ì†Œì´ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„±ëŠ¥ì€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì–¼ë§ˆë‚˜ ìì£¼ í˜¸ì¶œí•˜ëŠëƒì— í¬ê²Œ ì¢Œìš°ë˜ëŠ”ë°, ìºì‹œëŠ” ê·¸ëŸ° ë¬¸ì œë¥¼ ì™„í™”í•  ìˆ˜ ìˆë‹¤.\nìºì‹œ ê³„ì¸µ ìºì‹œ ê³„ì¸µ(cache tier)ì€ ë°ì´í„°ê°€ ì ì‹œ ë³´ê´€ë˜ëŠ” ê³³ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë³´ë‹¤ í›¨ì”¬ ë¹ ë¥´ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ë³´ë‹¤ í›¨ì”¬ ë¹ ë¥´ë¯€ë¡œ ì„±ëŠ¥ì´ ê°œì„ ëœë‹¤. ìš”ì²­ ë¶„ì‚°ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¶€í•˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ìºì‹œ ê³„ì¸µì˜ ê·œëª¨ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í™•ì¥ì‹œí‚¤ëŠ” ê²ƒë„ ê°€ëŠ¥í•´ì§„ë‹¤. ìš”ì²­ë°›ì€ ì›¹ ì„œë²„ëŠ” ìºì‹œì— ì‘ë‹µì´ ì €ì¥ë˜ì–´ ìˆëŠ”ì§€ë¥¼ í™•ì¸ í›„ ì €ì¥ë˜ì–´ ìˆë‹¤ë©´ í•´ë‹¹ ë°ì´í„° ë°˜í™˜í•˜ê³  ì—†ì„ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒí•˜ì—¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ”ë°, ì´ëŸ¬í•œ ìºì‹œ ì „ëµì„ ì½ê¸° ì£¼ë„í˜• ìºì‹œ ì „ëµ(read-through caching strategy) ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\nì´ì™¸ì—ë„ ë‹¤ì–‘í•œ ìºì‹œ ì „ëµì´ ìˆìœ¼ë©°, ìºì‹œí•  ë°ì´í„° ì¢…ë¥˜, í¬ê¸°, ì•¡ì„¸ìŠ¤ íŒ¨í„´ì— ë§ëŠ” ìºì‹œ ì „ëµì„ ì„ íƒí•˜ë©´ ëœë‹¤.\nì“°ê¸° ì£¼ë„í˜• ìºì‹œ ì „ëµ (Write-Through Cache) ë°ì´í„°ë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œ ìºì‹œì™€ ë°±ì—”ë“œ ë°ì´í„° ì†ŒìŠ¤ ëª¨ë‘ì— ë™ì‹œì— ì—…ë°ì´íŠ¸ ë°ì´í„° ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ì“°ê¸° ì‘ì—…ì„ ì²˜ë¦¬ ì“°ê¸° ì‘ì—…ì˜ ê²½ìš° ë°±ì—”ë“œ ì €ì¥ì†Œë¡œì˜ ì¶”ê°€ì ì¸ I/O ì‘ì—…ì´ í•„ìš”í•˜ë¯€ë¡œ ì„±ëŠ¥ ì €í•˜ì˜ ê°€ëŠ¥ì„±ì´ ìˆì§€ë§Œ, ë°ì´í„° ì¼ê´€ì„±ì„ ë³´ì¥ ì“°ê¸° ì§€ì—°í˜• ìºì‹œ ì „ëµ (Write-Behind Cache) ë°ì´í„° ì—…ë°ì´íŠ¸ë¥¼ ë¨¼ì € ìºì‹œì—ë§Œ ì ìš©í•˜ê³ , ë‚˜ì¤‘ì— ë°±ì—”ë“œ ë°ì´í„° ì†ŒìŠ¤ì— ì—…ë°ì´íŠ¸ë¥¼ ì ìš© ì´ëŠ” ì“°ê¸° ì‘ì—…ì˜ ì§€ì—°ì„ ìµœì†Œí™”í•˜ì—¬ ì‘ë‹µ ì‹œê°„ì„ ì¤„ì´ëŠ” ë° ë„ì›€ ì“°ê¸° ì§€ì—°í˜• ìºì‹œëŠ” ë°ì´í„° ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ë©”ì»¤ë‹ˆì¦˜ì„ í•„ìš” ìì„¸í•œ ë‚´ìš©ì˜ ìºì‹œ ì „ëµ (Write-Through and Read-Through Cache): ì½ê¸°ì™€ ì“°ê¸° ëª¨ë‘ì— ëŒ€í•´ ìºì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ì „ëµ ë°ì´í„°ê°€ ìš”ì²­ë  ë•Œë§ˆë‹¤ ì½ê¸° ì£¼ë„í˜• ìºì‹œì™€ ìœ ì‚¬í•˜ê²Œ ì‘ë™í•˜ë©°, ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ë  ë•Œë§ˆë‹¤ ì“°ê¸° ì£¼ë„í˜• ìºì‹œì™€ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™ ìºì‹œ ì• ë‹¨ì˜ ìºì‹œ ì „ëµ (Cache-Aside Cache): í´ë¼ì´ì–¸íŠ¸ê°€ ë°ì´í„°ë¥¼ ì§ì ‘ ìºì‹œì— ì €ì¥í•˜ê³  ê²€ìƒ‰í•˜ëŠ” ë°©ì‹ ìºì‹œì— ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° í´ë¼ì´ì–¸íŠ¸ëŠ” ë°±ì—”ë“œ ë°ì´í„° ì†ŒìŠ¤ì—ì„œ ì§ì ‘ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ìºì‹œì— ì €ì¥í•˜ê³  ì‘ë‹µ ì´ ë°©ì‹ì€ ê°„ë‹¨í•˜ê³  ìœ ì—°í•˜ë©°, ì‘ìš© í”„ë¡œê·¸ë¨ ì½”ë“œ ë‚´ì— ìºì‹œ ë¡œì§ì„ ëª…ì‹œì ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŒ ì´ì¤‘ ìºì‹œ ì „ëµ (Two-Level Cache): ë‘ ê°œì˜ ìºì‹œ ë ˆì´ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™” ë³´í†µ ë‘ ê°œì˜ ìºì‹œëŠ” í¬ê¸°ì™€ ì ‘ê·¼ ì†ë„ ë“±ì—ì„œ ì°¨ì´ê°€ ìˆìŒ ë¨¼ì € ì‘ì€ ê³ ì† ìºì‹œê°€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³ , ê·¸ ë‹¤ìŒì— í° ìš©ëŸ‰ì˜ ìºì‹œê°€ ë°ì´í„°ë¥¼ ë³´ê´€ ì˜¤í”„í™ ë¡œì»¬ ìºì‹œ ì „ëµ (Off-Heap Local Cache Strategy): ìºì‹œë¥¼ ë©”ëª¨ë¦¬ ì™¸ì˜ ì˜¤í”„í™(Off-Heap) ì˜ì—­ì— ì €ì¥í•˜ì—¬ ìë°” ê°€ìƒ ë¨¸ì‹ ì˜ í™ ë©”ëª¨ë¦¬ í•œê³„ë¥¼ ì´ˆê³¼í•˜ëŠ” ë°ì´í„° ì–‘ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•¨ ì´ëŠ” ëŒ€ê·œëª¨ ìºì‹œë‚˜ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ë‹¤ë£° ë•Œ ìœ ìš© ìºì‹œ ì‚¬ìš© ì‹œ ìœ ì˜í•  ì  ë°ì´í„° ê°±ì‹ ì€ ìì£¼ ì¼ì–´ë‚˜ì§€ ì•Šì§€ë§Œ ì°¸ì¡°ëŠ” ë¹ˆë²ˆí•˜ê²Œ ì¼ì–´ë‚˜ëŠ” ê²½ìš° ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. ìºì‹œëŠ” ë°ì´í„°ë¥¼ íœ˜ë°œì„± ë©”ëª¨ë¦¬ì— ë‘ë¯€ë¡œ, ì˜ì†ì ìœ¼ë¡œ ë³´ê´€í•  ë°ì´í„°ë¥¼ ìºì‹œì— ë‘ëŠ” ê²ƒì€ ë°”ëŒì§í•˜ì§€ ì•Šë‹¤. ë°ì´í„°ë¥¼ ë¬´ê¸°í•œ ë³´ì¡´í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë§Œë£Œì— ëŒ€í•œ ì •ì±…ì„ ë§ˆë ¨í•´ì•¼í•œë‹¤. ë„ˆë¬´ ì§§ìœ¼ë©´ ë°ì´í„°ë² ì´ìŠ¤ ì½ê¸°ê°€ ìì£¼ ë°œìƒí•œë‹¤. ë„ˆë¬´ ê¸¸ë©´ ì›ë³¸ê³¼ ì°¨ì´ ë‚  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤. ì›ë³¸ì„ ê°±ì‹ í•˜ëŠ” ì—°ì‚°ê³¼ ìºì‹œë¥¼ ê°±ì‹ í•˜ëŠ” ì—°ì‚°ì´ ë‹¨ì¼ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ” ê²½ìš° ì¼ê´€ì„±ì´ ê¹¨ì§ˆ ìˆ˜ ìˆë‹¤. ìºì‹œ ì„œë²„ë¥¼ í•œ ëŒ€ë§Œ ë‘ëŠ” ê²½ìš° í•´ë‹¹ ì„œë²„ê°€ ë‹¨ì¼ ì¥ì•  ì§€ì (Single Point of Failure, SPOF)ì´ ë˜ì–´ë²„ë¦´ ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ì—¬ëŸ¬ ì§€ì—­ì— ê±¸ì²˜ ìºì‹œ ì„œë²„ë¥¼ ë¶„ì‚°ì‹œì¼œì•¼ í•œë‹¤. ìºì‹œ ë©”ëª¨ë¦¬ê°€ ë„ˆë¬´ ì‘ìœ¼ë©´ ì•¡ì„¸ìŠ¤ íŒ¨í„´ì— ë”°ë¼ ë°ì´í„°ê°€ ìì£¼ ìºì‹œì—ì„œ ë°€ë ¤ë‚˜ ì„±ëŠ¥ì´ ë–¨ì–´ì§€ê²Œ ëœë‹¤. ìºì‹œ ë©”ëª¨ë¦¬ë¥¼ ê³¼í• ë‹¹í•˜ë©´ ë°ì´í„°ê°€ ê°‘ìê¸° ëŠ˜ì–´ë‚¬ì„ ë•Œ ìƒê¸¸ ë¬¸ì œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆë‹¤. ìºì‹œê°€ ê°€ë“ ì°¼ì„ ë•Œ ì¶”ê°€ë¡œ ë°ì´í„°ë¥¼ ë„£ê¸° ìœ„í•œ ë°ì´í„° ë°©ì¶œ ì •ì±…ì„ ì ì ˆíˆ ì§€ì •í•´ì•¼í•œë‹¤. ê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” ê²ƒì€ LRU(least Recently Used - ê°€ì¥ ì˜¤ë˜ ì‚¬ìš© ì•ˆëœ ë°ì´í„°)ë‚˜ FIFO(ê°€ì¥ ë¨¼ì € ë“¤ì–´ì˜¨) ë“±ì´ ìˆìœ¼ë©° ê²½ìš°ì— ë§ê²Œ ì ìš©í•œë‹¤. ì½˜í…ì¸  ì „ì†¡ ë„¤íŠ¸ì›Œí¬ CDN ì‘ë‹µ ì‹œê°„ì„ ê°œì„ í•  ë°©ë²•ìœ¼ë¡œ CDN(Content Delivery Network)ë¥¼ ì ìš©í•´ ë³¼ ìˆ˜ ìˆë‹¤.\nCDNì€ ì •ì  ì½˜í…ì¸ ë¥¼ ì „ì„±í•˜ëŠ” ë° ì“°ì´ëŠ”, ì§€ë¦¬ì ìœ¼ë¡œ ë¶„ì‚°ëœ ì„œë²„ì˜ ë„¤íŠ¸ì›Œí¬ì´ë‹¤. (ì´ë¯¸ì§€, ë¹„ë””ì˜¤, CSS, JS íŒŒì¼ ë“±)\nìš”ì²­ ê²½ë¡œ, ì§ˆì˜ ë¬¸ìì—´, ì¿ í‚¤, ìš”ì²­ í—¤ë” ë“±ì˜ ì •ë³´ì— ê¸°ë°˜í•˜ì—¬ HTMLì„ ìºì‹±í•˜ëŠ” ë™ì  ì½˜í…ì¸  ìºì‹±ë„ ì ìš©í•´ ë³¼ ìˆ˜ ìˆë‹¤. ì–´ë–¤ ì‚¬ìš©ì ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸í•˜ë©´, ì‚¬ìš©ìì—ê²Œ ê°€ì¥ ê°€ê¹Œìš´ CDN ì„œë²„ê°€ ì •ì  ì½˜í…ì¸ ë¥¼ ì „ë‹¬í•˜ë©°, ì‚¬ìš©ìê°€ CDN ì„œë²„ë¡œë¶€í„° ë©€ì–´ì§ˆ ìˆ˜ë¡ ì²œì²œíˆ ë¡œë“œë  ê²ƒì´ë‹¤.\nì‚¬ìš©ì Aê°€ ì´ë¯¸ì§€ URLì„ ì´ìš©í•´ image.pngì— ì ‘ê·¼í•œë‹¤.(URLì˜ ë„ë©”ì¸ì€ CDN ì„œë¹„ìŠ¤ ì‚¬ì—…ìê°€ ì œê³µí•œë‹¤.) CDN ì„œë²„ì˜ ìºì‹œì— í•´ë‹¹ ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš° ì›ë³¸ ì„œë²„ì—ì„œ ìš”ì²­í•˜ì—¬ íŒŒì¼ì„ ê°€ì ¸ì˜¨ë‹¤. ì›ë³¸ ì„œë²„ê°€ íŒŒì¼ì„ CDN ì„œë²„ì— ë°˜í™˜í•œë‹¤. ì‘ë‹µ HTTP í—¤ë”ì— TTL(Time-To-Live) ê°’ì„ ë„£ì–´ ë³´ë‚¸ë‹¤. CDN ì„œë²„ëŠ” íŒŒì¼ì„ ìºì‹œí•˜ê³  ì‚¬ìš©ì Aì—ê²Œ ë°˜í™˜í•œë‹¤. ì´ë¯¸ì§€ëŠ” TTLì— ëª…ì‹ ëœ ì‹œê°„ì´ ëë‚  ë•Œ ê¹Œì§€ë§Œ ìºì‹œëœë‹¤. ì‚¬ìš©ì Bê°€ ê°™ì€ ì´ë¯¸ì§€ë¥¼ CDN ì„œë²„ì—ê²Œ ìš”ì²­í•œë‹¤. ë§Œë£Œë˜ì§€ ì•Šì€ ì´ë¯¸ì§€ì— ëŒ€í•œ ìš”ì²­ì€ ìºì‹œë¥¼ í†µí•´ ì²˜ë¦¬ëœë‹¤. CDN ì‚¬ìš© ì‹œ ê³ ë ¤í•´ì•¼ í•  ì‚¬í•­ ë¹„ìš© CDNì€ ë³´í†µ ì„œë“œíŒŒí‹°ì— ì˜í•´ ìš´ì˜ë˜ë©°, CDNìœ¼ë¡œ ë“¤ì–´ê°€ê³  ë‚˜ê°€ëŠ” ë°ì´í„° ì „ì†¡ ì–‘ì— ë”°ë¼ ìš”ê¸ˆì„ ë‚¸ë‹¤. ìì£¼ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì½˜í…ì¸ ë¥¼ ìºì‹±í•˜ëŠ” ê²ƒì€ ì´ë“ì´ ì ìœ¼ë¯€ë¡œ, CDNì—ì„œ ë¹¼ëŠ” ê²ƒì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. ì ì ˆí•œ ë§Œë£Œ ì‹œí•œ ì„¤ì • ì‹œì˜ì„±ì´ ì¤‘ìš”í•œ(time-sensitive) ì½˜í…ì¸ ëŠ” ë§Œë£Œ ì‹œì ì„ ì˜ ì •í•´ì•¼í•œë‹¤. ë„ˆë¬´ ê¸¸ë©´ ì½˜í…ì¸ ì˜ ì‹ ì„ ë„ê°€ ë–¨ì–´ì§„ë‹¤. ë„ˆë¬´ ì§§ìœ¼ë©´ ì›ë³¸ ì„œë²„ì— ë¹ˆë²ˆíˆ ì ‘ì†ë˜ì–´ ì¢‹ì§€ ì•Šë‹¤. CDN ì¥ì•  ëŒ€ì²˜ ë°©ì•ˆ CDN ìì²´ê°€ ì£½ì—ˆì„ ê²½ìš° ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ ê³ ë ¤í•´ì•¼ í•œë‹¤. ì‘ë‹µì„ ê°ì§€í•˜ì—¬ ì›ë³¸ ì„œë²„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë“±ì˜ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤. ì½˜í…ì¸  ë¬´íš¨í™” ë°©ë²• ë§Œë£Œë˜ì§€ ì•Šì€ ì½˜í…ì¸ ë¼ë„ CDNì—ì„œ ì œê±°í•  ìˆ˜ ìˆë‹¤. CDN ì„œë¹„ìŠ¤ ì‚¬ì—…ìê°€ ì œê³µí•˜ëŠ” API í™œìš© ì½˜í…ì¸ ì˜ ë‹¤ë¥¸ ë²„ì „ì„ ì„œë¹„ìŠ¤ í•˜ë„ë¡ ì˜¤ë¸Œì íŠ¸ ë²„ì €ë‹ ì´ìš©. image.png?v=2 CDNê³¼ ìºì‹œê°€ ì¶”ê°€ëœ ì„¤ê³„ ì •ì  ì½˜í…ì¸ ë¥¼ CDNì„ í†µí•´ ì œê³µí•˜ì—¬ ë” ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì¥í•œë‹¤. ìºì‹œê°€ ë°ì´í„°ë² ì´ìŠ¤ ë¶€í•˜ë¥¼ ì¤„ì—¬ì¤€ë‹¤. ë¬´ìƒíƒœ(Stateless) ì›¹ ê³„ì¸µ ì›¹ ê³„ì¸µì„ ìˆ˜í‰ì ìœ¼ë¡œ í™•ì¥í•˜ëŠ” ë°©ë²•ì„ ê³ ë¯¼í•´ ë³¼ ìˆ˜ ìˆë‹¤.\nì´ë¥¼ ìœ„í•´ ìƒíƒœ ì •ë³´(ì‚¬ìš©ì ì„¸ì…˜ ë“±)ë¥¼ ì›¹ ê³„ì¸µì—ì„œ ì œê±°í•´ì•¼í•œë‹¤.\në°”ëŒì§í•œ ì „ëµì€ ìƒíƒœ ì •ë³´ë¥¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë‚˜ NoSQL ê°™ì€ ì§€ì†ì„± ì €ì¥ì†Œì— ë³´ê´€í•˜ê³ , í•„ìš”í•  ë•Œ ê°€ì ¸ì˜¤ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.\nì´ë ‡ê²Œ êµ¬ì„±ëœ ì›¹ ê³„ì¸µì„ ë¬´ìƒíƒœ ì›¹ ê³„ì¸µì´ë¼ ë¶€ë¥¸ë‹¤.\nìƒíƒœ ì •ë³´ ì˜ì¡´ì ì¸ ì•„í‚¤í…ì²˜ ìƒíƒœ ì •ë³´ë¥¼ ë³´ê³ ë‚˜í•˜ëŠ” ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ ì •ë³´, ì¦‰ ìƒíƒœë¥¼ ìœ ì§€í•˜ì—¬ ìš”ì²­ë“¤ ì‚¬ì´ì— ê³µìœ ë˜ë„ë¡ í•˜ì§€ë§Œ, ë¬´ìƒíƒœ ì„œë²„ì—ëŠ” ì´ëŸ¬í•œ ì¥ì¹˜ê°€ ì—†ë‹¤.\nìœ„ì™€ ê°™ì€ ê²½ìš° ê°™ì€ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„°ì˜ ìš”ì²­ì€ í•­ìƒ ê°™ì€ ì„œë²„ë¡œ ì „ì†¡ë˜ì–´ì•¼ í•œë‹¤.\në¡œë“œë°¸ëŸ°ì„œê°€ ì´ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ê³ ì • ì„¸ì…˜ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ, ì´ëŠ” ë¡œë“œë°¸ëŸ°ì„œì— ë¶€ë‹´ì„ ì¤„ ìˆ˜ ìˆë‹¤.\në˜í•œ ë¡œë“œ ë°¸ëŸ°ì„œ ë’·ë‹¨ì— ì„œë²„ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•˜ê¸°ë„ ê¹Œë‹¤ë¡œì›Œì§€ë©°, ì´ë“¤ ì„œë²„ì˜ ì¥ì• ë¥¼ ì²˜ë¦¬í•˜ê¸°ë„ ë³µì¡í•´ì§„ë‹¤.\në¬´ìƒíƒœ ì•„í‚¤í…ì²˜ ë¬´ìƒíƒœ ì•„í‚¤í…ì²˜ëŠ” ì‚¬ìš©ìë¡œë¶€í„°ì˜ HTTP ìš”ì²­ì€ ì–´ë–¤ ì›¹ ì„œë²„ë¡œë„ ì „ë‹¬ë  ìˆ˜ ìˆë‹¤.\nì›¹ ì„œë²„ëŠ” ìƒíƒœ ì •ë³´ê°€ í•„ìš”í•  ê²½ìš° ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬ëœ ê³µìœ  ì €ì¥ì†Œë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\në¬´ìƒíƒœ ì›¹ ê³„ì¸µì„ ê°–ëŠ” ì„¤ê³„ ì„¸ì…˜ ë°ì´í„°ë¥¼ ì›¹ ê³„ì¸µì—ì„œ ë¶„ë¦¬í•˜ê³  ì§€ì†ì„± ë°ì´í„° ë³´ê´€ì†Œì— ì €ì¥í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤. ê³µìœ  ì €ì¥ì†ŒëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì¼ ìˆ˜ë„ ìˆê³ , ìºì‹œì¼ ìˆ˜ë„ ìˆìœ¼ë©°, NoSQLì¼ ìˆ˜ë„ ìˆë‹¤. ìƒíƒœ ì •ë³´ê°€ ì›¹ ì„œë²„ë“¤ë¡œë¶€í„° ì œê±°ë˜ì—ˆìœ¼ë¯€ë¡œ ìë™ìœ¼ë¡œ ê·œëª¨ë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ë°ì´í„° ì„¼í„° ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‚¬ìš©ìê°€ ë§¤ìš° ë§ë‹¤ë©´ ê°€ìš©ì„±ì„ ë†’ì´ê³  ì¾Œì í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ë°ì´í„° ì„¼í„°ë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì ì´ë‹¤.\nì§€ë¦¬ì  ë¼ìš°íŒ…\nì¥ì• ê°€ ì—†ëŠ” ìƒí™©ì—ì„œ ì‚¬ìš©ìëŠ” ê°€ì¥ ê°€ê¹Œìš´ ë°ì´í„° ì„¼í„°ë¡œ ì•ˆë‚´ë˜ëŠ”ë° ì´ ì ˆì°¨ë¥¼ ì§€ë¦¬ì  ë¼ìš°íŒ…(geoDNS-routing ë˜ëŠ” geo-routing)ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\ngeoDNSëŠ” ì‚¬ìš©ìì˜ ìœ„ì¹˜ì— ë”°ë¼ ë„ë©”ì¸ ì´ë¦„ì„ ì–´ë–¤ IP ì£¼ì†Œë¡œ ë³€í™œí• ì§€ ê²°ì •í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” DNS ì„œë¹„ìŠ¤ë‹¤.\në°ì´í„° ì„¼í„° ì¥ì• \në°ì´í„° ì„¼í„° ì¤‘ í•˜ë‚˜ì— ì‹¬ê°í•œ ì¥ì• ê°€ ë°œìƒí•˜ë©´ ëª¨ë“  íŠ¸ë˜í”½ì€ ì¥ì• ê°€ ì—†ëŠ” ë°ì´í„° ì„¼í„°ë¡œ ì „ì†¡ëœë‹¤.\nì´ì— ë”°ë¼ ë‹¤ì¤‘ ë°ì´í„°ì„¼í„° ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“¤ë ¤ë©´ ëª‡ ê°€ì§€ ê¸°ìˆ ì  ë‚œì œë¥¼ í•´ê²°í•´ì•¼ í•œë‹¤.\níŠ¸ë˜í”½ ìš°íšŒ ì˜¬ë°”ë¥¸ ë°ì´í„°ì„¼í„°ë¡œ íŠ¸ë˜í”½ì„ ë³´ë‚´ëŠ” íš¨ê³¼ì ì¸ ë°©ë²•ì„ ì°¾ì•„ì•¼í•œë‹¤. ë°ì´í„° ë™ê¸°í™”(Synchronization) ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë°ì´í„°ì„¼í„°ì— ê±¸ì³ ë‹¤ì¤‘í™” í•˜ì—¬, ì¥ì•  ë³µêµ¬ ì‹œì—ë„ ë°ì´í„°ë¥¼ ë™ê¸°í™” í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. í…ŒìŠ¤íŠ¸ì™€ ë°°í¬ ì—¬ëŸ¬ ë°ì´í„° ì„¼í„°ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì‹œìŠ¤í…œì´ êµ¬ì„±ëœ ìƒí™©ì´ë¼ë©´ ì›¹ ì‚¬ì´íŠ¸ ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—¬ëŸ¬ ìœ„ì¹˜ì—ì„œ í…ŒìŠ¤íŠ¸ í•´ë³´ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. ìë™í™”ëœ ë°°í¬ ë„êµ¬ëŠ” ëª¨ë“  ë°ì´í„° ì„¼í„°ì— ë™ì¼í•œ ì„œë¹„ìŠ¤ê°€ ì„¤ì¹˜ë˜ë„ë¡ í•˜ëŠ” ë° ì¤‘ìš”í•œ ì¼ì„ í•œë‹¤. ë©”ì‹œì§€ í(Message Queue) ì‹œìŠ¤í…œì„ ë” í° ê·œëª¨ë¡œ í™•ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ì‹œìŠ¤í…œì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ì—¬, ê°ê¸° ë…ë¦½ì ìœ¼ë¡œ í™•ì¥ë  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\në©”ì‹œì§€ íëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì´ ì´ ë¬¸ì œë¥¼ í’€ê¸° ìœ„í•´ ì±„ìš©í•˜ê³  ìˆëŠ” í•µì‹¬ ì „ëµ ê°€ìš´ë° í•˜ë‚˜ë‹¤.\në©”ì‹œì§€ íëŠ” ë©”ì‹œì§€ì˜ ë¬´ì†ì‹¤ì„ ë³´ì¥í•˜ëŠ” ë¹„ë™ê¸° í†µì‹ ì„ ì§€ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ë©”ì‹œì§€ì˜ ë²„í¼ ì—­í• ì„ í•˜ë©°, ë¹„ë™ê¸°ì ìœ¼ë¡œ ì „ì†¡í•œë‹¤.\nìƒì‚°ì ë˜ëŠ” ë°œí–‰ìë¼ê³  ë¶ˆë¦¬ëŠ” ì…ë ¥ ì„œë¹„ìŠ¤ê°€ ë©”ì‹œì§€ë¥¼ ë§Œë“¤ì–´ ë©”ì‹œì§€ íì— ë°œí–‰í•œë‹¤. ì†Œë¹„ì í˜¹ì€ êµ¬ë…ìë¼ ë¶ˆë¦¬ëŠ” ì„œë¹„ìŠ¤ í˜¹ì€ ì„œë²„ê°€ ë©”ì‹œì§€ë¥¼ ë°›ì•„ ê·¸ì— ë§ëŠ” ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤. ë©”ì‹œì§€ íë¥¼ ì´ìš©í•˜ë©´ ì„œë¹„ìŠ¤ ë˜ëŠ” ì„œë²„ ê°„ ê²°í•©ì´ ëŠìŠ¨í•´ì ¸ì„œ, ê·œëª¨ í™•ì¥ì„±ì´ ë³´ì¥ë˜ì–´ì•¼ í•˜ëŠ” ì•ˆì •ì  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•˜ê¸° ì¢‹ë‹¤.\nìƒì‚°ìëŠ” ì†Œë¹„ì í”„ë¡œì„¸ìŠ¤ê°€ ë‹¤ìš´ë˜ì–´ ìˆì–´ë„ ë©”ì‹œì§€ë¥¼ ë°œí–‰í•  ìˆ˜ ìˆë‹¤. ì†Œë¹„ìëŠ” ìƒì‚°ì ì„œë¹„ìŠ¤ê°€ ê°€ìš©í•œ ìƒíƒœê°€ ì•„ë‹ˆë”ë¼ë„ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆë‹¤. íê°€ ì»¤ì§€ë©´ ë” ë§ì€ ì‘ì—… í”„ë¡œì„¸ìŠ¤ë¥¼ ì¶”ê°€í•´ì•¼ ì²˜ë¦¬ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆìœ¼ë©°, íê°€ ê±°ì˜ í•­ìƒ ë¹„ì–´ìˆëŠ” ìƒíƒœë¼ë©´, ì‘ì—… í”„ë¡œì„¸ìŠ¤ì˜ ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\në¡œê·¸, ë©”íŠ¸ë¦­ ê·¸ë¦¬ê³  ìë™í™” ì›¹ ì‚¬ì´íŠ¸ì™€ í•¨ê»˜ ì‚¬ì—… ê·œëª¨ê°€ ì»¤ì§€ê³  ë‚˜ë©´, ë¡œê·¸ë‚˜ ë©”íŠ¸ë¦­, ìë™í™” ê°™ì€ ë„êµ¬ì— í•„ìˆ˜ì ìœ¼ë¡œ íˆ¬ìí•´ì•¼í•œë‹¤.\në¡œê·¸ ì‹œìŠ¤í…œì˜ ì˜¤ë¥˜ì™€ ë¬¸ì œë“¤ì„ ì‰½ê²Œ ì°¾ì•„ë‚¼ ìˆ˜ ìˆê²Œ ë•ëŠ”ë‹¤. ë¡œê·¸ë¥¼ ë‹¨ì¼ ì„œë¹„ìŠ¤ë¡œ ëª¨ì•„ì£¼ëŠ” ë„êµ¬ë¥¼ í™œìš©í•˜ë©´ ë” í¸ë¦¬í•˜ê²Œ ê²€ìƒ‰í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ë©”íŠ¸ë¦­ ì‚¬ì—… í˜„í™©ì— ê´€í•œ ìœ ìš©í•œ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ë„ ìˆê³ , ì‹œìŠ¤í…œì˜ í˜„ì¬ ìƒíƒœë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤. í˜¸ìŠ¤íŠ¸ ë‹¨ìœ„ ë©”íŠ¸ë¦­: CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ I/O,ì— ê´€í•œ ë©”íŠ¸ë¦­ ì¢…í•© ë©”íŠ¸ë¦­: ë°ì´í„°ë² ì´ìŠ¤ ê³„ì¸µì˜ ì„±ëŠ¥, ìºì‹œ ê³„ì¸µì˜ ì„±ëŠ¥ ë“± í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­: ì¼ë³„ ëŠ¥ë™ ì‚¬ìš©ì, ìˆ˜ìµ, ì¬ë°©ë¬¸ ë“± ìë™í™” ì‹œìŠ¤í…œì´ í¬ê³  ë³µì¡í•´ì§€ë©´ ìƒì‚°ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ìë™í™” ë„êµ¬ë¥¼ í™œìš©í•´ì•¼í•œë‹¤. ì§€ì†ì  í†µí•©ì„ í™œìš©í•œ ê²€ì¦ ì ˆì°¨ ìˆ˜í–‰ ë° ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë°°í¬ ì ˆì°¨ ìë™í™” ë“± ìˆ˜ì •í•œ ì„¤ê³„ì•ˆ ë©”ì‹œì§€ íëŠ” ê° ì»´í¬ë„ŒíŠ¸ê°€ ë³´ë‹¤ ëŠìŠ¨íˆ ê²°í•©ë  ìˆ˜ ìˆë„ë¡ í•˜ê³ , ê²°í•¨ì— ëŒ€í•œ ë‚´ì„±ì„ ë†’ì¸ë‹¤. ë¡œê·¸, ëª¨ë‹ˆí„°ë§, ë©”íŠ¸ë¦­, ìë™í™” ë“±ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ì¥ì¹˜ë¥¼ ì¶”ê°€í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ê·œëª¨ í™•ì¥ ì €ì¥í•  ë°ì´í„°ê°€ ë§ì•„ì§€ë©´ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ë¶€í•˜ë„ ì¦ê°€í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì˜ ê·œëª¨ë¥¼ í™•ì¥í•˜ëŠ”ë°ëŠ” ì•ì„œ ì–¸ê¸‰í–ˆë˜ ìˆ˜ì§ì  ê·œëª¨ í™•ì¥ê³¼ ìˆ˜í‰ì  ê·œëª¨ í™•ì¥ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nìˆ˜í‰ì  í™•ì¥\nê¸°ì¡´ ì„œë²„ì— ë” ë§ì€, ê³ ì„±ëŠ¥ì˜ ìì›ì„ ì¦ì„¤í•˜ëŠ” ë°©ë²•ì´ë‹¤.\nìŠ¤íƒì˜¤ë²„í”Œë¡œëŠ” ì²œë§Œ ëª…ì˜ ì‚¬ìš©ì ì „ë¶€ë¥¼ ë‹¨ í•œ ëŒ€ì˜ ë§ˆìŠ¤í„° ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì²˜ë¦¬í–ˆë‹¤.\ní•˜ì§€ë§Œ ì–¸ê¸‰í–ˆë˜ëŒ€ë¡œ ëª‡ê°€ì§€ ì‹¬ê°í•œ ì•½ì ì´ ìˆë‹¤.\në¬´í•œ ì¦ì„¤í•  ìˆ˜ëŠ” ì—†ë‹¤. SPOFë¡œ ì¸í•œ ìœ„í—˜ì„±ì´ í¬ë‹¤. ë¹„ìš©ì´ ë§ì´ ë“ ë‹¤. ìˆ˜í‰ì  í™•ì¥\në°ì´í„°ë² ì´ìŠ¤ì˜ ìˆ˜í‰ì  í™•ì¥ì€ ìƒ¤ë”©(sharding)ì´ë¼ê³ ë„ ë¶€ë¥´ëŠ”ë°, ë” ë§ì€ ì„œë²„ë¥¼ ì¶”ê°€í•¨ìœ¼ë¡œì¨ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nìƒ¤ë”© ëŒ€ê·œëª¨ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒ¤ë“œ(shard)ë¼ê³  ë¶€ë¥´ëŠ” ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í• í•˜ëŠ” ê¸°ìˆ ì„ ì¼ì»«ëŠ”ë‹¤. ëª¨ë“  ìƒ¤ë“œëŠ” ê°™ì€ ìŠ¤í‚¤ë§ˆë¥¼ ì“°ì§€ë§Œ ë³´ê´€ë˜ëŠ” ë°ì´í„° ì‚¬ì´ì—ëŠ” ì¤‘ë³µì´ ì—†ë‹¤. ìœ„ì˜ ì˜ˆì‹œì—ì„œ user_id % 4ë¥¼ í•´ì‹œ í•¨ìˆ˜ë¡œ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ê°€ ë³´ê´€ë˜ëŠ” ìƒ¤ë“œë¥¼ ì •í•œë‹¤.\nì´ì²˜ëŸ¼ ìƒ¤ë”© ì „ëµì„ êµ¬í˜„í•  ë•Œ ê³ ë ¤í•´ì•¼ í•  ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ìƒ¤ë”© í‚¤ë¥¼ ì–´ë–»ê²Œ ì •í•˜ëƒ í•˜ëŠ” ê²ƒì´ë‹¤.\nìƒ¤ë”© í‚¤(íŒŒí‹°ì…˜ í‚¤)ëŠ” ë°ì´í„°ê°€ ì–´ë–»ê²Œ ë¶„ì‚´ë ì§€ ì •í•˜ëŠ” í•˜ë‚˜ ì´ìƒì˜ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœë‹¤. ìƒ¤ë”© í‚¤ë¥¼ í†µí•´ ì˜¬ë°”ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ì— ì§ˆì˜ë¥¼ ë³´ë‚´ì–´ ë°ì´í„° ì¡°íšŒë‚˜ ë³€ê²½ì„ ì²˜ë¦¬í•˜ë¯€ë¡œ íš¨ìœ¨ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤. ìƒ¤ë”© í‚¤ë¥¼ ì •í•  ë•ŒëŠ” ë°ì´í„°ë¥¼ ê³ ë¥´ê²Œ ë¶„í•  í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²Œ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤.\nì£¼ì˜ì‚¬í•­\nìƒ¤ë”©ì€ ë°ì´í„°ë² ì´ìŠ¤ ê·œëª¨ í™•ì¥ì„ ì‹¤í˜„í•˜ëŠ” íœ¼ë¥­í•œ ê¸°ìˆ ì´ì§€ë§Œ ì™„ë²½í•˜ì§€ ì•Šìœ¼ë©°, ë„ì…í•˜ë©´ ì‹œìŠ¤í…œì´ ë³µì¡í•´ì§€ê³  í’€ì–´ì•¼ í•  ìƒˆë¡œìš´ ë¬¸ì œë„ ìƒê¸´ë‹¤.\në°ì´í„°ì˜ ì¬ ìƒ¤ë”© ë°ì´í„°ê°€ ë„ˆë¬´ ë§ì•„ì ¸ì„œ í•˜ë‚˜ì˜ ìƒ¤ë“œë¡œëŠ” ë” ì´ìƒ ê°ë‹¹í•˜ê¸° ì–´ë ¤ìš¸ ë•Œ ìƒ¤ë“œ ì†Œì§„: ìƒ¤ë“œ ê°„ ë°ì´í„° ë¶„í¬ê°€ ê· ë“±í•˜ì§€ ëª»í•˜ì—¬ ì–´ë–¤ ìƒ¤ë“œì— í• ë‹¹ëœ ê³µê°„ ì†Œëª¨ê°€ ë‹¤ë¥¸ ì‚¬ë“œì— ë¹„í•´ ë¹¨ë¦¬ ì§„í–‰ë  ë•Œ ì´ëŸ¬í•œ í˜•ìƒì´ ë°œìƒí•˜ë©´ ìƒ¤ë“œ í‚¤ë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë³€ê²½í•˜ê³  ë°ì´í„°ë¥¼ ì¬ë°°ì¹˜ í•˜ì—¬ì•¼ í•œë‹¤. ìœ ëª…ì¸ì‚¬ ë¬¸ì œ(í•«ìŠ¤íŒŸ í‚¤ ë¬¸ì œ) íŠ¹ì • ìƒ¤ë“œì— ì§ˆì˜ê°€ ì§‘ì¤‘ë˜ì–´ ì„œë²„ì— ê³¼ë¶€í•˜ê°€ ê±¸ë¦¬ëŠ” ë¬¸ì œë‹¤. íŠ¹ì • ìƒ¤ë“œì˜ ì›ì¸ì— ëŒ€í•´ ìƒ¤ë“œë¥¼ í•˜ë‚˜ì”© í• ë‹¹í•´ì•¼ í•  ìˆ˜ë„ ìˆê³ , ë” ì˜ê°œ ìª¼ê°œì•¼ í•  ìˆ˜ë„ ìˆë‹¤. ì¡°ì¸ê³¼ ë¹„ì •ê·œí™” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—¬ëŸ¬ ìƒ¤ë“œ ì„œë²„ë¡œ ìª¼ê°œê³  ë‚˜ë©´, ì—¬ëŸ¬ ìƒ¤ë“œì— ê±¸ì¹œ ë°ì´í„°ë¥¼ ì¡°ì¸í•˜ê¸°ê°€ í˜ë“¤ì–´ì§„ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë¹„ì •ê·œí™”í•˜ì—¬ í•˜ë‚˜ì˜ í…Œì´ë¸”ì—ì„œ ì§ˆì˜ê°€ ìˆ˜í–‰ë  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. ìƒ¤ë“œë¥¼ ì ìš©í•œ ì•„í‚¤í…ì²˜ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ë¶€í•˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ êµ³ì´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ê°€ ìš”êµ¬ë˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ë“¤ì€ NoSQLë¡œ ì´ì „í•  ìˆ˜ ìˆë‹¤. ë°±ë§Œ ì‚¬ìš©ì, ê·¸ë¦¬ê³  ê·¸ ì´ìƒ ì‹œìŠ¤í…œì˜ ê·œëª¨ë¥¼ í™•ì¥í•˜ëŠ” ê²ƒì€ ì§€ì†ì ì´ê³  ë°˜ë³µì ì¸ ê³¼ì •ì´ë©°, ì´ë²ˆ ì¥ì—ì„œ ë‹¤ë£¬ ë‚´ìš©ì„ ë°˜ë³µí•˜ë‹¤ ë³´ë©´ ì›í•˜ëŠ” ê·œëª¨ì˜ ì‹œìŠ¤í…œì„ ë‹¬ì„±í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nê·¸ëŸ¬ë‚˜ ìˆ˜ë°±ë§Œ ì‚¬ìš©ì ì´ìƒì„ ì§€ì›í•˜ë ¤ë©´ ìƒˆë¡œìš´ ì „ëµì„ ë„ì…í•´ì•¼ í•˜ê³  ì§€ì†ì ìœ¼ë¡œ ì‹œìŠ¤í…œì„ ê°€ë‹¤ë“¬ì–´ì•¼ í•  ê²ƒì´ë‹¤.\nì‹œìŠ¤í…œ ìµœì í™” ë° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë“± ì •ë¦¬ ì›¹ ê³„ì¸µì€ ë¬´ìƒíƒœ ê³„ì¸µìœ¼ë¡œ ëª¨ë“  ê³„ì¸µì— ë‹¤ì¤‘í™” ë„ì… ê°€ëŠ¥í•œ í•œ ë§ì€ ë°ì´í„°ë¥¼ ìºì‹œí•  ê²ƒ ì—¬ëŸ¬ ë°ì´í„° ì„¼í„°ë¥¼ ì§€ì›í•  ê²ƒ ì •ì  ì½˜í…ì¸ ëŠ” CDNì„ í†µí•´ ì„œë¹„ìŠ¤í•  ê²ƒ ë°ì´í„° ê³„ì¸µì€ ìƒ¤ë”©ì„ í†µí•´ ê·¸ ê·œëª¨ë¥¼ í™•ì¥í•  ê²ƒ ê° ê³„ì¸µì€ ë…ë¦½ì  ì„œë¹„ìŠ¤ë¡œ ë¶„í• í•  ê²ƒ ì‹œìŠ¤í…œì„ ì§€ì†ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , ìë™í™” ë„êµ¬ë“¤ì„ í™œìš©í•  ê²ƒ ","date":"2024-04-22T14:53:50+09:00","image":"https://codemario318.github.io/post/system-design-interview/1/cover_huebcf5dd667df9af228f80687035dfdfb_164704_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/system-design-interview/1/","title":"1. ì‚¬ìš©ì ìˆ˜ì— ë”°ë¥¸ ê·œëª¨ í™•ì¥ì„±"},{"content":"ì§€ê¸ˆê¹Œì§€ ì½ì€ ëª¨ë“  ì¡°ì–¸ì„ í†µí•´ ì˜¬ë°”ë¥´ê²Œ ì •ì˜ëœ ê²½ê³„, ëª…í™•í•œ ì±…ì„, í†µì œëœ ì˜ì¡´ì„±ì„ ê°€ì§„ í´ë˜ìŠ¤ì™€ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ëœ ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì‹¤ì œ ì ìš©ì—ì„œëŠ” ë””í…Œì¼(êµ¬í˜„ ì„¸ë¶€ì‚¬í•­)ì„ ì‹¬ì‚¬ìˆ™ê³ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë§ˆì§€ë§‰ ê³ ë¹„ì— ê±¸ë ¤ ë„˜ì–´ì§€ê¸° ì‹­ìƒì´ë‹¤.\nê³„ì¸µ ê¸°ë°˜ íŒ¨í‚¤ì§€ ê°€ì¥ ë‹¨ìˆœí•œ ì„¤ê³„ ë°©ì‹ìœ¼ë¡œ ì „í†µì ì¸ ìˆ˜í‰ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ê°€ ìˆë‹¤.\nê³„ì¸µ ê¸°ë°˜ íŒ¨í‚¤ì§€ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ì´ ë°©ë²•ì€ ê¸°ìˆ ì ì¸ ê´€ì ì—ì„œ í•´ë‹¹ ì½”ë“œê°€ í•˜ëŠ” ì¼ì— ê¸°ë°˜í•´ ê·¸ ì½”ë“œë¥¼ ë¶„í• í•œë‹¤.\nì´ëŸ¬í•œ ì „í˜•ì ì¸ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ì—ëŠ” ì›¹, ì—…ë¬´ ê·œì¹™, ì˜ì†ì„± ì½”ë“œë¥¼ ìœ„í•´ ê³„ì¸µì´ ê°ê° í•˜ë‚˜ì”© ì¡´ì¬í•œë‹¤.\nì½”ë“œëŠ” ê³„ì¸µì´ë¼ëŠ” ì–‡ì€ ìˆ˜í‰ ì¡°ê°ìœ¼ë¡œ ë‚˜ë‰˜ë©°, ê° ê³„ì¸µì€ ìœ ì‚¬í•œ ì¢…ë¥˜ì˜ ê²ƒë“¤ì„ ë¬¶ëŠ” ë„êµ¬ë¡œ ì‚¬ìš©ëœë‹¤.\nì—„ê²©í•œ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ì˜ ê²½ìš° ê³„ì¸µì€ ë°˜ë“œì‹œ ë°”ë¡œ ì•„ë˜ ê³„ì¸µì—ë§Œ ì˜ì¡´í•´ì•¼í•œë‹¤. OrdersController ì›¹ ì»¨íŠ¸ë¡¤ëŸ¬ì´ë©°, ì›¹ ê¸°ë°˜ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤. ex) Spring MVC ì»¨íŠ¸ë¡¤ëŸ¬ ë“± OrdersService ì£¼ë¬¸ ê´€ë ¨ ì—…ë¬´ ê·œì¹™ì„ ì •ì˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ OrdersServiceImpl OrdersServiceì˜ êµ¬í˜„ì²´ OrdersRepository ì˜êµ¬ ì €ì¥ëœ ì£¼ë¬¸ ì •ë³´ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ì •ì˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ JdbcOrdersRepository OrdersRespositoryì˜ êµ¬í˜„ì²´ ë§ˆí‹´ íŒŒìš¸ëŸ¬ëŠ” í”„ë ˆì  í…Œì´ì…˜ ë„ë©”ì¸ ë°ì´í„° ê³„ì¸µí™”ì—ì„œ ì²˜ìŒ ì‹œì‘í•˜ê¸°ì—ëŠ” ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ê°€ ì í•©í•˜ë‹¤ê³  ì–¸ê¸‰í•œë‹¤.\nì—„ì²­ë‚œ ë³µì¡í•¨ì„ ê²ªì§€ ì•Šê³ ë„ ë¬´ì–¸ê°€ë¥¼ ì‘ë™ì‹œì¼œ ì£¼ëŠ” ì•„ì£¼ ë¹ ë¥¸ ë°©ë²•ì´ë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì»¤ì§€ê³  ë³µì¡í•´ì§€ê¸° ì‹œì‘í•˜ë©´ ì„¸ ê°œì˜ ê³„ì¸µìœ¼ë¡œë§Œì€ ë¶€ì¡±í•˜ë‹¤ ëŠë¼ê³  ë” ì˜ê²Œ ëª¨ë“ˆí™” í•´ì•¼í•  í•„ìš”ì„±ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤. ì—…ë¬´ ë„ë©”ì¸ì— ëŒ€í•´ ì•„ë¬´ê²ƒë„ ë§í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤. ê¸°ëŠ¥ ê¸°ë°˜ íŒ¨í‚¤ì§€ ê¸°ëŠ¥ ê¸°ë°˜ íŒ¨í‚¤ì§€ êµ¬ì¡°ëŠ” ì„œë¡œ ì—°ê´€ëœ ê¸°ëŠ¥, ë„ë©”ì¸ ê°œë…, (ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ ìš©ì–´ë¥¼ ìì£¼ ì‚¬ìš©í•œë‹¤ë©´) Aggregate Rootì— ê¸°ë°˜í•˜ì—¬ ìˆ˜ì§ì˜ ì–‡ì€ ì¡°ê°ìœ¼ë¡œ ì½”ë“œë¥¼ ë‚˜ëˆ„ëŠ” ë°©ì‹ì´ë‹¤.\nì¸í„°í˜ì´ìŠ¤ì™€ í´ë˜ìŠ¤ëŠ” ì´ì „ê³¼ ê°™ì§€ë§Œ, ëª¨ë‘ê°€ ë‹¨ í•˜ë‚˜ì˜ íŒ¨í‚¤ì§€ì— ì†í•˜ê²Œ ëœë‹¤.\nì´ëŠ” ê³„ì¸µ ê¸°ë°˜ íŒ¨í‚¤ì§€ë¥¼ ì•„ì£¼ ê°„ë‹¨íˆ ë¦¬íŒ©í„°ë§í•œ í˜•íƒœì§€ë§Œ ì½”ë“œì˜ ìƒìœ„ ìˆ˜ì¤€ êµ¬ì¡°ê°€ ì—…ë¬´ ë„ë©”ì¸ì— ëŒ€í•´ ë¬´ì–¸ê°€ë¥¼ ì•Œë ¤ì£¼ê²Œëœë‹¤. ìœ ìŠ¤ì¼€ì´ìŠ¤ê°€ ë³€ê²½ë  ê²½ìš° ë³€ê²½í•´ì•¼ í•  ì½”ë“œë¥¼ ëª¨ë‘ ì°¾ëŠ” ì‘ì—…ì´ ë” ì‰¬ì›Œì§ˆ ìˆ˜ ìˆë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œíŒ€ì´ ìˆ˜í‰ì  ê³„ì¸µí™”ì˜ ë¬¸ì œë¥¼ ê¹¨ë‹«ê³ , ìˆ˜ì§ì  ê³„ì¸µí™”ë¡œ ì „í™˜í•˜ëŠ” ê²½ìš°ê°€ ë§ì§€ë§Œ, ë‘ ì ‘ê·¼ë²• ëª¨ë‘ ì°¨ì„ ì±…ì´ë‹¤.\ní¬íŠ¸ì™€ ì–´ëŒ‘í„° í¬íŠ¸ì™€ ì–´ëŒ‘í„°(Ports and Adapters) í˜¹ì€ ìœ¡ê°í˜• ì•„í‚¤í…ì²˜(Hexagonal Architecture), ê²½ê³„, ì»¨íŠ¸ë¡¤ëŸ¬, ì—”í‹°í‹°(BCE) ë“±ì˜ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ì´ìœ ëŠ” ì—…ë¬´/ë„ë©”ì¸ì— ì´ˆì ì„ ë‘” ì½”ë“œê°€ í”„ë ˆì„ì›Œí¬ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ê°™ì€ ê¸°ìˆ ì ì¸ ì„¸ë¶€ êµ¬í˜„ê³¼ ë…ë¦½ì ì´ë©° ë¶„ë¦¬ëœ ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œë‹¤.\nê·¸ëŸ° ì½”ë“œ ë² ì´ìŠ¤ëŠ” **ë‚´ë¶€(ë„ë©”ì¸)**ì™€ **ì™¸ë¶€(ì¸í”„ë¼)**ë¡œ êµ¬ì„±ë¨ì„ í”íˆ ë³¼ ìˆ˜ ìˆë‹¤.\në‚´ë¶€ ì˜ì—­ ë„ë©”ì¸ ê°œë…ì„ ëª¨ë‘ í¬í•¨í•œë‹¤. ì™¸ë¶€ ì˜ì—­ ì™¸ë¶€ ì„¸ê³„(UI, DB, ì„œë“œíŒŒí‹° í†µí•©)ì™€ì˜ ìƒí˜¸ì‘ìš©ì„ í¬í•¨í•œë‹¤. ì™¸ë¶€ê°€ ë‚´ë¶€ì— ì˜ì¡´í•˜ë©°, ì ˆëŒ€ ê·¸ ë°˜ëŒ€ë¡œëŠ” ì•ˆëœë‹¤.\nìœ„ êµ¬ì¡°ì—ì„œ com.mycompany.myapp.domain íŒ¨í‚¤ì§€ê°€ ë‚´ë¶€ì´ë©°, ë‚˜ë¨¸ì§€ íŒ¨í‚¤ì§€ëŠ” ëª¨ë‘ ì™¸ë¶€ì´ë‹¤.\nOrdersRepositoryê°€ Ordersë¼ëŠ” ê°„ë‹¨í•œ ì´ë¦„ìœ¼ë¡œ ë°”ë€Œì—ˆëŠ”ë°, ì´ëŠ” ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ë¼ëŠ” ì„¸ê³„ê´€ì—ì„œ ë¹„ë¡¯ëœ ëª…ëª…ë²•ìœ¼ë¡œ, ë‚´ë¶€ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ê²ƒì˜ ì´ë¦„ì€ ë°˜ë“œì‹œ ìœ ë¹„ì¿¼í„°ìŠ¤ ë„ë©”ì¸ ì–¸ì–´ê´€ì ì—ì„œ ê¸°ìˆ í•˜ë¼ê³  ì¡°ì–¸í•œë‹¤.\në„ë©”ì¸ì— ëŒ€í•˜ ë…¼ì˜í•  ë•Œ ì£¼ë¬¸ì— ëŒ€í•´ ë§í•˜ëŠ” ê²ƒì´ì§€ ì£¼ë¬¸ ë¦¬í¬ì§€í† ë¦¬ì— ëŒ€í•´ ë§í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ íŒ¨í‚¤ì§€ SOLID, REP, CCP, CRP ê°™ì€ ì´ ì±…ì— ëŒ€ë‹¤ìˆ˜ì˜ ì¡°ì–¸ì€ ë‹¹ì—°íˆ ì¤‘ìš”í•˜ì§€ë§Œ, ì½”ë“œë¥¼ ì¡°ì§í™”í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ íŒ¨í‚¤ì§€ê°™ì€ ì ‘ê·¼ ë°©ë²•ì„ ì ìš©í•´ ë³¼ ìˆ˜ ìˆë‹¤.\nê³„ì¸µí˜• ì•„í‚¤í…ì²˜ì˜ ë‹¨ì \nê³„ì¸µí˜• ì•„í‚¤í…ì²˜ì˜ ëª©ì ì€ ê¸°ëŠ¥ì´ ê°™ì€ ì½”ë“œë¼ë¦¬ ì„œë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.\nêµ¬í˜„ ê´€ì ì—ì„œ ë³´ë©´ ê° ê³„ì¸µì€ ì¼ë°˜ì ìœ¼ë¡œ ìë°” íŒ¨í‚¤ì§€ì— í•´ë‹¹í•˜ë©° ì„œë¡œ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì— ì†í•œë‹¤. ë”°ë¼ì„œ ì½”ë“œì˜ ì ‘ê·¼ì„± ê´€ì ì—ì„œ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œê°€ ìˆë‹¤.\nOrdersControllerê°€ OrdersService ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë ¤ë©´ OrdersService ì¸í„°í˜ì´ìŠ¤ëŠ” ë°˜ë“œì‹œ publicìœ¼ë¡œ ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤. OrdersRepository ì¸í„°í˜ì´ìŠ¤ë„ publicì´ì–´ì•¼ë§Œ repository íŒ¨í‚¤ì§€ ì™¸ë¶€ì— ìˆëŠ” OrdersServiceImpl í´ë˜ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ì—„ê²©í•œ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ì—ì„œ ì˜ì¡´ì„± í™”ì‚´í‘œëŠ” í•­ìƒ ì•„ë˜ë¥¼ í–¥í•´ì•¼ í•˜ë¯€ë¡œ, ê¹”ë”í•œ ë¹„ìˆœí™˜ ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒì´ë¼ ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” ì½”ë“œ ë² ì´ìŠ¤ì˜ ìš”ì†Œë“¤ì´ ì„œë¡œë¥¼ ì˜ì¡´í•  ë•ŒëŠ” ëª‡ ê°€ì§€ ê·œì¹™ì„ ë°˜ë“œì‹œ ì§€ì¼œì•¼í•œë‹¤.\nì—¬ê¸°ì„œ í° ë¬¸ì œëŠ”, ì†ì„ìˆ˜ë¥¼ ì¨ì„œ ì˜ì¡´ì„±ì„ ì˜ë„ì¹˜ ì•Šì€ ë°©ì‹ìœ¼ë¡œ ì¶”ê°€í•˜ë”ë¼ë„ ë³´ê¸°ì—ëŠ” ì—¬ì „íˆ ì¢‹ì€ ë¹„ìˆœí™˜ ì˜ì¡´ì„± ê·¸ë˜í”„ê°€ ìƒì„±ëœë‹¤.\nìœ„ ìƒí™©ì²˜ëŸ¼ OrdersControllerê°€ OrdersServiceë¥¼ ìš°íšŒí•˜ì—¬ ì§ì ‘ OrdersRepositoryì— ì˜ì¡´ì„±ì„ ê°€ì§€ê²Œ í•˜ë”ë¼ë„ ë¹„ìˆœí™˜ ì˜ì¡´ì„± ê·¸ë˜í”„ê°€ ë§Œë“¤ì–´ì§„ë‹¤.\nì´ëŸ¬í•œ ì¡°ì§í™”ëŠ” ì¸ì ‘í•œ ê³„ì¸µë“¤ì„ ê±´ë„ˆ ë›°ëŠ” ì¼ì´ í—ˆìš©ë˜ê¸° ë•Œë¬¸ì— ì™„í™”ëœ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ë¼ê³  ë¶€ë¥´ë©°, ì´ëŸ¬í•œ ë°©ì‹ì€ CQRS(Command Query Responsibility Segregation) íŒ¨í„´ ê°™ì€ ê²½ìš°ë¥¼ ì œì™¸í•œë‹¤ë©´ ë°”ëŒì§í•˜ì§€ ëª»í•˜ë‹¤.\në”°ë¼ì„œ ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ëŠ” ì´ëŸ¬í•œ ìš°íšŒë¥¼ ê°•ì œí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì— ì•„í‚¤í…ì²˜ê°€ ì§€ì¼œì§€ê¸° í˜ë“¤ì–´ì§„ë‹¤.\nì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ íŒ¨í‚¤ì§€\në°˜ë©´ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ íŒ¨í‚¤ì§€ëŠ” ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•´ì„œ ì•„í‚¤í…ì²˜ë¥¼ ê°•ì œí•  ìˆ˜ ìˆë‹¤.\nì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ íŒ¨í‚¤ì§€ëŠ” í° ë‹¨ìœ„(coarse-grained)ì˜ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ì™€ ê´€ë ¨ëœ ëª¨ë“  ì±…ì„ì„ í•˜ë‚˜ì˜ ìë°” íŒ¨í‚¤ì§€ë¡œ ë¬¶ëŠ”ë° ì£¼ì•ˆì ì„ ë‘”ë‹¤.\nì´ ì ‘ê·¼ë²•ì€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ê°€ ê°€ì§„ ì‹œê°ê³¼ ë™ì¼í•˜ê²Œ ì„œë¹„ìŠ¤ ì¤‘ì‹¬ì ì¸ ì‹œê°ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì„ ë°”ë¼ë³¼ ìˆ˜ ìˆë‹¤.\ní¬íŠ¸ì™€ ì–´ëŒ‘í„°ì—ì„œ ì›¹ì„ ê·¸ì € ë˜ ë‹¤ë¥¸ ì „ë‹¬ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì·¨ê¸‰í•˜ëŠ” ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ í° ë‹¨ìœ„ì˜ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° ë¶„ë¦¬í•´ì„œ ìœ ì§€í•œë‹¤. ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ íŒ¨í‚¤ì§€ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ì—…ë¬´ ë¡œì§ê³¼ ì˜ì†ì„± ê´€ë ¨ ì½”ë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ”ë° ì´ëŸ¬í•œ ë‹¨ìœ„ë¥¼ ì»´í¬ë„ŒíŠ¸ë¼ ë¶€ë¥¸ë‹¤.\nì§€ê¸ˆê¹Œì§€ ì–¸ê¸‰ë˜ì—ˆë˜ ë°°í¬í•  ìˆ˜ ìˆëŠ” ê°€ì¥ ì‘ì€ ë‹¨ìœ„ë¼ëŠ” ì˜ë¯¸ê°€ ì•„ë‹Œ ê¹”ë”í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ê°ì‹¸ì§„ ì—°ê´€ëœ ê¸°ëŠ¥ë“¤ì˜ ë¬¶ìŒì„ ì˜ë¯¸í•œë‹¤.\nìŠ¤í”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì˜ ì „ì  êµ¬ì¡°ë¥¼ ì»¨í…Œì´ë„ˆ, ì»´í¬ë„ŒíŠ¸, í´ë˜ìŠ¤(ì½”ë“œ) ì¸¡ë©´ì—ì„œ ê³„ì¸µì ìœ¼ë¡œ ìƒê°í•˜ëŠ” ë°©ë²•(C4 ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ ëª¨ë¸)\nê´€ë ¨ëœ ë¬´ì–¸ê°€ë¥¼ ì½”ë”©í•´ì•¼ í•  ë•Œ **Componentë§Œ ë‘˜ëŸ¬ë³´ë©´ ëœë‹¤. ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ëŠ” ì—¬ì „íˆ ìœ íš¨í•˜ë‹¤. ë”°ë¼ì„œ ì—…ë¬´ ë¡œì§ì€ ë°ì´í„° ì˜ì†ì„±ê³¼ ë¶„ë¦¬ëœë‹¤. ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ê³¼ ê´€ë ¨ëœ ì„¸ë¶€ì‚¬í•­ìœ¼ë¡œ, ì‚¬ìš©ìëŠ” ì•Œ í•„ìš”ê°€ ì—†ë‹¤. ëª¨ë…¸ë¦¬í‹± ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜ ì •ì˜í•˜ë©´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ë¡œ ê°€ê¸° ìœ„í•œ ë°œíŒìœ¼ë¡œ ì‚¼ì„ ìˆ˜ ìˆë‹¤.\nêµ¬í˜„ ì„¸ë¶€ì‚¬í•­ì—” í•­ìƒ ë¬¸ì œê°€ ìˆë‹¤. ì–¸ê¸‰í•œ ë„¤ ê°€ì§€ ì ‘ê·¼ë²•ì´ ì½”ë“œë¥¼ ì¡°ì§í•˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ì§€ë§Œ ì„¸ë¶€ì‚¬í•­ì„ ì˜ëª» êµ¬í˜„í•˜ë©´ ì´ëŸ¬í•œ ê²¬í•´ë„ ì•„ì£¼ ë¹ ë¥´ê²Œ ííŠ¸ëŸ¬ì§€ê¸° ì‹œì‘í•œë‹¤.\nëª¨ë“  íƒ€ì…ì—ì„œ public ì§€ì‹œìë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒ ì œê³µí•˜ëŠ” ìº¡ìŠí™” ì´ì ì„ í™œìš©í•˜ì§€ ì•Šê² ë‹¤ëŠ” ëœ»ì´ë©°, ì´ë¡œì¸í•´ ì§€í–¥ì•„ëŠ” ì•„í‚¤í…ì²˜ ìŠ¤íƒ€ì¼ì„ ìœ„ë°˜í•˜ê²Œ ë  ê²ƒì´ë‹¤. ì¡°ì§í™” VS ìº¡ìŠí™” ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ëª¨ë“  íƒ€ì…ì„ publicìœ¼ë¡œ ì§€ì •í•œë‹¤ë©´ íŒ¨í‚¤ì§€ëŠ” ë‹¨ìˆœíˆ ì¡°ì§í™”ë¥¼ ìœ„í•œ ë§¤ì»¤ë‹ˆì¦˜(í´ë”ì™€ ê°™ì€ ì—­í• ë§Œ)ìœ¼ë¡œ ì „ë½í•˜ì—¬ ìº ìŠí™”ë¥¼ ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜ì´ ë  ìˆ˜ ì—†ë‹¤.\nì½”ë“œ ë² ì´ìŠ¤ë¥¼ ì–´ë””ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë©´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ë° ë”°ë¥¸ ì´ì ì´ ê±°ì˜ ì—†ë‹¤. íŒ¨í‚¤ì§€ë¥¼ ë¬´ì‹œí•´ ë²„ë¦¬ë©´ ìº¡ìŠí™”ë‚˜ ì€ë‹‰ì— ì•„ë¬´ëŸ° ë„ì›€ì´ ì—†ìœ¼ë¯€ë¡œ ìµœì¢…ì ìœ¼ë¡œ ì–´ë–¤ ì•„í‚¤í…ì²˜ ìŠ¤íƒ€ì¼ë¡œ ë§Œë“¤ë ¤ê³  í•˜ëŠ”ì§€ëŠ” ì•„ë¬´ëŸ° ì˜ë¯¸ê°€ ì—†ì–´ì§„ë‹¤. ëª¨ë“  íƒ€ì…ì„ publicìœ¼ë¡œ ì„ ì–¸í•œë‹¤ë©´ ì‹¤ì œë¡œ ê°–ê²Œ ë˜ëŠ” ê²ƒì€ ìˆ˜í‰ì  ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ë¥¼ í‘œí˜„í•˜ëŠ” ë°©ë²•ì— ë¶ˆê³¼í•´ì§„ë‹¤.\nì ‘ê·¼ ì§€ì‹œìë¥¼ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ë©´, íƒ€ì…ì„ íŒ¨í‚¤ì§€ë¡œ ë°°ì¹˜í•˜ëŠ” ë°©ì‹ì— ë‹¤ë¼ì„œ ê° íƒ€ì…ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì •ë„ê°€ ì‹¤ì œë¡œ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\nê³„ì¸µ ê¸°ë°˜ íŒ¨í‚¤ì§€ ì ‘ê·¼ë²• OrdersService, OrdersRepository ì¸í„°í˜ì´ìŠ¤ëŠ” ì™¸ë¶€ íŒ¨í‚¤ì§€ì˜ í´ë˜ìŠ¤ë¡œë¶€í„° ìì‹ ì´ ì†í•œ íŒ¨í‚¤ì§€ ë‚´ë¶€ë¡œ ë“¤ì–´ì˜¤ëŠ” ì˜ì¡´ì„±ìœ¼ë¡œ public ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ì•¼í•˜ì§€ë§Œ, êµ¬ì²´ í´ë˜ìŠ¤ëŠ” ëˆ„êµ¬ë„ ì•Œ í•„ìš”ê°€ ì—†ëŠ” êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ì´ë¯€ë¡œ protectedë¡œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤. ê¸°ëŠ¥ ê¸°ë°˜ íŒ¨í‚¤ì§€ ì ‘ê·¼ë²• OrdersControllerê°€ íŒ¨í‚¤ì§€ë¡œ ë“¤ì–´ì˜¬ ìˆ˜ ìˆëŠ” ìœ ì¼í•œ í†µë¡œë¥¼ ì œê³µí•˜ë¯€ë¡œ ë‚˜ë¨¸ì§€ íŒ¨í‚¤ì§€ëŠ” protectedë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. í¬íŠ¸ì™€ ì–´ëŒ‘í„° ì ‘ê·¼ë²• OrdersServiceì™€ Orders ì¸í„°í˜ì´ìŠ¤ëŠ” ì™¸ë¶€ë¡œë¶€í„° ë“¤ì–´ì˜¤ëŠ” ì˜ì¡´ì„±ì„ ê°€ì§€ë¯€ë¡œ publicìœ¼ë¡œ ì§€ì •í•´ì•¼í•œë‹¤. êµ¬í˜„ í´ë˜ìŠ¤ íŒ¨í‚¤ì§€ëŠ” protectedë¡œ ì§€ì •í•˜ë©°, ëŸ°íƒ€ì„ì— ì˜ì¡´ì„±ì„ ì£¼ì…í•  ìˆ˜ ìˆë‹¤. ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ íŒ¨í‚¤ì§€ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ OrdersComponent ì¸í„°í˜ì´ìŠ¤ë¡œ í–¥í•˜ëŠ” ì˜ì¡´ì„±ì„ ê°€ì§€ë©°, ê·¸ ì™¸ì˜ ëª¨ë“  ê²ƒì€ íŒ¨í‚¤ì§€ protectedë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. íŒ¨í‚¤ì§€ ì™¸ë¶€ì˜ ì½”ë“œì—ì„œëŠ” OrdersRepository ì¸í„°í˜ì´ìŠ¤ë‚˜ êµ¬í˜„ì²´ë¥¼ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì „í˜€ ì—†ìœ¼ë¯€ë¡œ ì»´íŒŒì¼ëŸ¬ë¥¼ í†µí•´ ì•„í‚¤í…ì²˜ë¥¼ ê°•ì œí•  ìˆ˜ ìˆë‹¤. ì•„í‚¤í…ì²˜ ì›ì¹™ì„ ê°•ì œí•  ë•Œ ì»´íŒŒì¼ëŸ¬ì˜ ë„ì›€ì„ ë°›ì•„ ê·¸ë ‡ê²Œ í•  ìˆ˜ ë°–ì— ì—†ë„ë¡ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\nëª¨ë“  ì½”ë“œê°€ í•˜ë‚˜ì˜ ì†ŒìŠ¤ ì½”ë“œ íŠ¸ë¦¬ë¡œ ì¡´ì¬í•˜ëŠ” ëª¨ë…¸ë¦¬í‹± ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë©´ í° ë„ì›€ì´ ë  ê²ƒì´ë‹¤.\në‹¤ë¥¸ ê²°í•© ë¶„ë¦¬ ëª¨ë“œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ ì œê³µí•˜ëŠ” ë°©ë²• ì™¸ì—ë„ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•˜ëŠ” ë°©ë²•ì€ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.\nëª¨ë“ˆ ì‹œìŠ¤í…œ(ex. ìë°” OSGI) ì†ŒìŠ¤ì½”ë“œ ìˆ˜ì¤€ì—ì„œ ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•˜ëŠ” ë°©ë²• ì„œë¡œ ë‹¤ë¥¸ ì†ŒìŠ¤ ì½”ë“œ íŠ¸ë¦¬ë¡œ ë¶„ë¦¬í•˜ëŠ” ë°©ë²• ê²°ë¡ : ë¹ ì ¸ìˆëŠ” ì¡°ì–¸ ìµœì ì˜ ì„¤ê³„ë¥¼ ê¾€í–ˆë”ë¼ë„, êµ¬í˜„ ì „ëµì— ì–½íŒ ë³µì¡í•¨ì„ ê³ ë ¤í•˜ì§€ ì•Šìœ¼ë©´ ì„¤ê³„ê°€ ìˆœì‹ê°„ì— ë§ê°€ì§ˆ ìˆ˜ë„ ìˆë‹¤.\nì„¤ê³„ë¥¼ ì–´ë–»ê²Œ í•´ì•¼ë§Œ ì›í•˜ëŠ” ì½”ë“œ êµ¬ì¡°ë¡œ ë§¤í•‘í•  ìˆ˜ ìˆì„ì§€ ì½”ë“œë¥¼ ì–´ë–»ê²Œ ì¡°ì§í™” í• ì§€ ëŸ°íƒ€ì„ê³¼ ì»´íŒŒì¼íƒ€ì…ì— ì–´ë–¤ ê²°í•© ë¶„ë¦¬ ëª¨ë“œë¥¼ ì ìš©í• ì§€ ìœ„ì™€ ê°™ì€ ë‚´ìš©ì„ ê³ ë¯¼í•´ì•¼í•˜ë©°, ì„ íƒì‚¬í•­ì„ ì—´ì–´ë‘ë˜ ì‹¤ìš©ì£¼ì˜ì ìœ¼ë¡œ í–‰í•´ì•¼í•œë‹¤.\níŒ€ì˜ ê·œëª¨, ê¸°ìˆ  ìˆ˜ì¤€, í•´ê²°ì±…ì˜ ë³µì¡ì„±ì„ ì¼ì •ê³¼ ì˜ˆì‚°ì´ë¼ëŠ” ì œì•½ê³¼ ë™ì‹œì— ê³ ë ¤í•´ì•¼í•œë‹¤. ì„ íƒëœ ì•„í‚¤í…ì²˜ ìŠ¤íƒ€ì¼ì„ ê°•ì œí•˜ëŠ” ë° ì»´íŒŒì¼ëŸ¬ì˜ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•´ì•¼í•œë‹¤. ë°ì´í„° ëª¨ë¸ê³¼ ê°™ì€ ë‹¤ë¥¸ ì˜ì—­ì— ê²°í•©ë˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼í•œë‹¤. êµ¬í˜„ ì„¸ë¶€ì‚¬í•­ì—ëŠ” í•­ìƒ ë¬¸ì œê°€ ìˆëŠ” ë²•ì´ë‹¤.\n","date":"2024-04-19T15:59:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/34/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/34/","title":"34. ë¹ ì ¸ìˆëŠ” ì¥: By Simon Brown"},{"content":"ì§§ê³  ë‹¨ìˆœí•œ ì‚¬ë¡€ë¥¼ í†µí•´ ë›°ì–´ë‚œ ì•„í‚¤í…íŠ¸ê°€ ì¼ì„ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ê³¼ ê²°ì •ì„ ë‚´ë¦¬ëŠ” ëª¨ìŠµì„ ì‚´í´ë³´ì.\nì œí’ˆ: ë¹„ë””ì˜¤ íŒë§¤ ì›¹ ì„œë¹„ìŠ¤ íŒë§¤í•˜ê¸¸ ì›í•˜ëŠ” ë¹„ë””ì˜¤ë“¤ì´ ìˆê³ , ê°œì¸ê³¼ ê¸°ì—…ì—ê²Œ ì›¹ì„ í†µí•´ íŒë§¤í•œë‹¤. ê°œì¸ì€ ë‹¨í’ˆ ê°€ê²©ì„ ì§€ë¶ˆí•´ ìŠ¤íŠ¸ë¦¬ë°ìœ¼ë¡œ ë³¸ë‹¤. ê°œì¸ì€ ë” ë†’ì€ ê°€ê²©ì„ ì§€ë¶ˆí•˜ì—¬ ë¹„ë””ì˜¤ë¥¼ ë‹¤ìš´ë¡œë“œí•´ì„œ ì˜êµ¬ ì†Œì¥í•  ìˆ˜ ìˆë‹¤. ê¸°ì—…ìš© ë¼ì´ì„ ìŠ¤ëŠ” ìŠ¤íŠ¸ë¦¬ë° ì „ìš©ì´ë‹¤. ê¸°ì—…ìš© ë¼ì´ì„ ìŠ¤ë¡œ ëŒ€ëŸ‰ êµ¬ë§¤ì‹œ í• ì¸ì„ ë°›ì„ ìˆ˜ ìˆë‹¤. ê°œì¸ì€ ì‹œì²­ìì¸ ë™ì‹œì— êµ¬ë§¤ì ê¸°ì—…ì€ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì‹œì²­í•  ë¹„ë””ì˜¤ë¥¼ êµ¬ë§¤í•˜ëŠ” ì‚¬ëŒì´ ë”°ë¡œ ìˆë‹¤. ë¹„ë””ì˜¤ ì œì‘ìëŠ” ë¹„ë””ì˜¤ íŒŒì¼ê³¼ ì„¤ëª…ì„œ, ë¶€ì† íŒŒì¼(ì‹œí—˜, ë¬¸ì œ, í•´ë²•, ì†ŒìŠ¤ ì½”ë“œ ë“±)ì„ ì œê³µí•œë‹¤. ê´€ë¦¬ìëŠ” ì‹ ê·œ ë¹„ë””ì˜¤ ì‹œë¦¬ì¦ˆë¬¼ì„ ì¶”ê°€í•œë‹¤. ê´€ë¦¬ìëŠ” ê¸°ì¡´ ì‹œë¦¬ì¦ˆë¬¼ì— ë¹„ë””ì˜¤ë¥¼ ì¶”ê°€ ë„ëŠ” ì‚­ì œí•œë‹¤. ê´€ë¦¬ìëŠ” ë‹¤ì–‘í•œ ë¼ì´ì„ ìŠ¤ì— ë§ì¶° ê°€ê²©ì„ ì±…ì •í•œë‹¤. ìœ ìŠ¤ì¼€ì´ìŠ¤ ë¶„ì„ ì£¼ìš” ì•¡í„°ëŠ” êµ¬ë§¤ì, ì‹œì²­ì, ì œì‘ì, ê´€ë¦¬ì ë„¤ ê°€ì§€ì´ë‹¤.\në‹¨ì¼ ì±…ì„ ì›ì¹™ì— ë”°ë¼ ë„¤ ì•¡í„°ê°€ ì‹œìŠ¤í…œì´ ë³€ê²½ë˜ì–´ì•¼ í•  ë„¤ ê°€ì§€ ì£¼ìš” ê·¼ì›ì´ ëœë‹¤.\nì‹ ê·œ ê¸°ëŠ¥ ì¶”ê°€ë‚˜, ê¸°ì¡´ ê¸°ëŠ¥ ë³€ê²½ì˜ ì´ìœ ëŠ” ì•¡í„° ì¤‘ í•˜ë‚˜ì—ê²Œ í•´ë‹¹ ê¸°ëŠ¥ì„ ì œê³µí•˜ê¸° ìœ„í•¨ì´ë¯€ë¡œ, ì‹œìŠ¤í…œì„ ë¶„í• í•˜ì—¬ íŠ¹ì • ì•¡í„°ë¥¼ ìœ„í•œ ë³€ê²½ì´ ë‚˜ë¨¸ì§€ ì•¡í„°ì—ê²ŒëŠ” ì „í˜€ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê²Œ ë§Œë“¤ì–´ì•¼í•œë‹¤.\nì¤‘ì•™ ì ì„ ìœ¼ë¡œ ëœ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì¶”ìƒ ìœ ìŠ¤ì¼€ì´ìŠ¤ì´ë‹¤.\nì¶”ìƒ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ë²”ìš©ì ì¸ ì •ì±…ì„ ë‹´ê³  ìˆìœ¼ë©°, ë‹¤ë¥¸ ìœ ìŠ¤ì¼€ì´ìŠ¤ì—ì„œ ì´ë¥¼ ë” êµ¬ì²´í™”í•œë‹¤.\nì‹œì²­ì ì…ì¥ì—ì„œ ì¹´íƒˆë¡œê·¸ ì¡°íšŒí•˜ê¸°ì™€ êµ¬ë§¤ì ì…ì¥ì—ì„œ ì¹´íƒˆë¡œê·¸ ì¡°íšŒí•˜ê¸° ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ëª¨ë‘ ì¹´íƒˆë¡œê·¸ ì¡°íšŒí•˜ê¸°ë¼ëŠ” ì¶”ìƒ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ìƒì†ë°›ëŠ”ë‹¤.\nì´ ì¶”ìƒ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ì—†ì• ë”ë¼ë„ ì „ì²´ ì œí’ˆì˜ ê¸°ëŠ¥ì„ ì¡°ê¸ˆë„ ì†ìƒì‹œí‚¤ì§€ ì•Šì§€ë§Œ, ì´ë“¤ ë‘ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ë„ˆë¬´ ë¹„ìŠ·í•˜ê¸° ë•Œë¬¸ì—, ìœ ì‚¬ì„±ì„ ì‹ë³„í•˜ì—¬ ë¶„ì„ ì´ˆê¸°ì— í†µí•©í•˜ëŠ” ë°©ë²•ì„ ì°¾ëŠ” ë°©ë²•ì´ ë” í˜„ëª…í•˜ë‹¤ê³  íŒë‹¨í•˜ì˜€ë‹¤. ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ ì•¡í„°ì™€ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì‹ë³„í–ˆìœ¼ë¯€ë¡œ, ì˜ˆë¹„ ë‹¨ê³„ì˜ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“¤ì–´ ë³¼ ìˆ˜ ìˆë‹¤.\nì´ì¤‘ìœ¼ë¡œ ëœ ì„ ì€ ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.\në·° í”„ë ˆì  í„°, ì¸í„°ë™í„°, ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë¶„ë¦¬ëœ ì „í˜•ì ì´ ë¶„í•  ë°©ë²•ì„ í™œìš©í–ˆë‹¤. ëŒ€ì‘í•˜ëŠ” ì•¡í„°ì— ë‹¤ë¼ ì¹´í…Œê³ ë¦¬ë¥¼ ë¶„ë¦¬í–ˆë‹¤. íŠ¹ìˆ˜í•œ ì»´í¬ë„ŒíŠ¸ì¸ Catalog Viewì™€ Catalog PresenterëŠ” ì¹´íƒˆë¡œê·¸ ì¡°íšŒí•˜ê¸°ë¼ëŠ” ì¶”ìƒ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë·°ì™€ í”„ë ˆì  í„°ëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ì½”ë“œí™”ë  ê²ƒì´ë©°, ìƒì†ë°›ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ì´ë¥¼ ì¶”ìƒí´ë˜ìŠ¤ë¡œë¶€í„° ìƒì†ë°›ì€ ë·°ì™€ í”„ë ˆì  í„° í´ë˜ìŠ¤ë“¤ì„ í¬í•¨í•œë‹¤.\nì‹œìŠ¤í…œì„ ì´ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ë“¤ë¡œ ëª¨ë‘ ë¶„í• í•œë‹¤ë©´, ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„í• í•´ì„œ ì—¬ëŸ¬ê°œì˜ .jar ë“± íŒŒì¼ë¡œ ì „ë‹¬í•  ìˆ˜ë„ ìˆê³  ëª¨ë‘ í•œ íŒŒì¼ë¡œë„ í•©ì¹  ìˆ˜ ìˆë‹¤.\nì´ëŠ” ì„ íƒì§€ë¥¼ ì—´ì–´ë‘ëŠ” ê²ƒì´ë©°, ì„ íƒì§€ë¥¼ ì—´ì–´ë‘ë©´, ì‹œìŠ¤í…œì´ ë³€ê²½ë˜ëŠ” ì–‘ìƒì— ë§ì¶° ì‹œìŠ¤í…œ ë°°í¬ ë°©ì‹ì„ ì¡°ì •í•  ìˆ˜ ìˆë‹¤.\nì˜ì¡´ì„± ê´€ë¦¬ ìœ„ ê·¸ë¦¼ì—ì„œ ì œì–´íë¦„ì€ ì˜¤ë¥¸ì¡±ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•œë‹¤.\nì…ë ¥ì´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°œìƒ ì¸í„°ë ‰í„°ì— ì˜í•´ ì²˜ë¦¬ë˜ì–´ ê²°ê³¼ê°€ ë§Œë“¤ì–´ì§ í”„ë ˆì  í„°ê°€ ê²°ê³¼ì˜ í¬ë©§ì„ ë³€ê²½ ë·°ê°€ í™”ë©´ì— í‘œì‹œ ëŒ€ë¶€ë¶„ì˜ í™”ì‚´í‘œê°€ ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ í–¥í•˜ëŠ”ë°, ì´ëŠ” ì•„í‚¤í…ì²˜ê°€ ì˜ì¡´ì„± ê·œì¹™ì„ ì¤€ìˆ˜í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\nëª¨ë“  ì˜ì¡´ì„±ì€ ê²½ê³„ì„ ì„ í•œ ë°©í–¥ìœ¼ë¡œë§Œ ì¦‰, í•­ìƒ ë” ë†’ì€ ìˆ˜ì¤€ì˜ ì •ì±…ì„ í¬í•¨í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ í–¥í•´ì•¼í•œë‹¤.\nì‚¬ìš© ê´€ê³„(ì—´ë¦° í™”ì‚´í‘œ)ëŠ” ì œì–´íë¦„ê³¼ ê°™ì€ ë°©í–¥ì„ ê°€ë¦¬í‚¤ë©°, ìƒì† ê´€ê³„(ë‹«íŒ í™”ì‚´í‘œ)ëŠ” ì œì–´íë¦„ê³¼ëŠ” ë°˜ëŒ€ ë°©í–¥ì„ ê°€ë¥´í‚¤ëŠ”ë°, ì´ëŠ” ê°œë°© íì‡„ ì›ì¹™ì„ ì ìš©í–ˆìŒì„ ë³´ì—¬ì¤€ë‹¤.\nì´ë¥¼ í†µí•´ ì˜ì¡´ì„±ì´ ì˜¬ë°”ë¥¸ ë°©í–¥ìœ¼ë¡œ íë¥´ë©°, ì €ìˆ˜ì¤€ì˜ ì„¸ë¶€ì‚¬í•­ì—ì„œ ë°œìƒí•œ ë³€ê²½ì´ ìƒìœ„ë¡œ íŒŒê¸‰ë˜ì–´ ìƒìœ„ ìˆ˜ì¤€ì˜ ì •ì±…ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ëŠ” ì•ŠìŒì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.\nê²°ë¡  ê·¸ë¦¼ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‹¨ì¼ ì±…ì„ ì›ì¹™ì— ê¸°ë°˜í•œ ì•¡í„°ì˜ ë¶„ë¦¬ì™€ ì˜ì¡´ì„± ê·œì¹™ ëª¨ë‘ ì„œë¡œ ë‹¤ë¥¸ ì´ìœ ë¡œ, ì„œë¡œ ë‹¤ë¥¸ ì†ë„ë¡œ ë³€ê²½ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ëŠ” ë° ê·¸ ëª©ì ì´ ìˆë‹¤.\nì„œë¡œ ë‹¤ë¥¸ ì´ìœ ë¼ëŠ” ê²ƒì€ ì•¡í„°ì™€ ê´€ë ¨ì´ ìˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ì†ë„ë¼ëŠ” ê²ƒì€ ì •ì±… ìˆ˜ì¤€ê³¼ ê´€ë ¨ì´ ìˆë‹¤. ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ í•œë²ˆ êµ¬ì¡°í™”í•˜ê³  ë‚˜ë©´ ì‹œìŠ¤í…œì„ ì‹¤ì œë¡œ ë°°í¬í•˜ëŠ” ë°©ì‹ì€ ë‹¤ì–‘í•˜ê²Œ ì„ íƒí•  ìˆ˜ ìˆê²Œëœë‹¤.\n","date":"2024-04-19T15:27:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/33/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/33/","title":"33. ì‚¬ë¡€ì—°êµ¬: ë¹„ë””ì˜¤ íŒë§¤"},{"content":"ì•„ë¬´ë¦¬ í•´ë„ í”„ë ˆì„ì›Œí¬ëŠ” ì•„í‚¤í…ì²˜ê°€ ë  ìˆ˜ ì—†ë‹¤.\ní”„ë ˆì„ì›Œí¬ ì œì‘ì í”„ë ˆì„ì›Œí¬ ì œì‘ìëŠ” ìì‹ ì´ í•´ê²°í•´ì•¼ í•  ê³ ìœ í•œ ë¬¸ì œë¥¼ ìœ„í•´ í”„ë ˆì„ì›Œí¬ë¥¼ ì œì‘í•œ ê²ƒ ì´ë¯€ë¡œ, ë‚´ê°€ í’€ë ¤ëŠ” ë¬¸ì œì™€ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í• ìˆ˜ëŠ” ì—†ë‹¤.\ní˜¼ì¸ ê´€ê³„ì˜ ë¹„ëŒ€ì¹­ì„± í”„ë ˆì„ì›Œí¬ ì œì‘ìì™€ ì‚¬ìš©ìì˜ ê´€ê³„ëŠ” ë†€ë¼ìš¸ ì •ë„ë¡œ ë¹„ëŒ€ì¹­ ì ì´ë©° í”„ë ˆì„ì›Œí¬ ì œì‘ìëŠ” ë‹¹ì‹ ì—ê²Œ í”„ë ˆì„ì›Œí¬ì™€ í˜¼ì¸í•˜ê¸°ë¥¼ ìš”êµ¬í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì¸ë‹¤.\ní”„ë ˆì„ì›Œí¬ ì œì‘ìëŠ” ë‹¹ì‹ ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê°€ëŠ¥í•˜ë©´ í”„ë ˆì„ì›Œí¬ì— ê³µê³ í•˜ê²Œ ê²°í•©ë  ê²ƒì„ ê°•í•˜ê²Œ ì—­ì„¤í•œë‹¤.\nì´ëŸ¬í•œ ê²°í•©ì€ ì œì‘ìì—ê²ŒëŠ” ìœ„í—˜ ìš”ì†Œê°€ ë˜ì§€ ì•Šìœ¼ë©°, í”„ë ˆì„ì›Œí¬ì—ëŒ€í•´ ì ˆëŒ€ì ì¸ ì œì–´ê¶Œì„ ì¥ê³  ìˆëŠ” ì…ì¥ì—ì„œ ì˜¤íˆë ¤ í”„ë ˆì„ì›Œí¬ì™€ ê²°í•©ë˜ê¸°ë¥¼ ë°”ë€ë‹¤.\ní•œìˆ  ë” ë–  ì œì‘ìëŠ” ì‚¬ìš©ìë„ í”„ë ˆì„ì›Œí¬ì— ê²°í•©ë˜ì–´ ê´€ê³„ë¥¼ ê¹¨ì§€ ëª»í•˜ëŠ” ê²ƒì„ ê¸°ëŒ€í•˜ê³  ìˆë‹¤.\nì œì‘ìëŠ” í”„ë ˆì„ì›Œí¬ì—ëŒ€í•´ ì¥ì‹œê°„ì— ê±¸ì¹œ í—Œì‹ ì„ ìš”ì²­í•˜ì§€ë§Œ, ê·¸ì— ìƒì‘í•˜ëŠ” í—Œì‹ ì„ ë°›ì„ìˆ˜ ëŠ” ì—†ì„ ê²ƒì´ë‹¤.\nëª¨ë“  ìœ„í—˜ê³¼ ë¶€ë‹´ì€ ë‹¹ì‹ ì´ ê°ìˆ˜í•  ë¿, ì œì‘ìê°€ ê°ìˆ˜í•˜ëŠ” ê±´ ì•„ë¬´ê²ƒë„ ì—†ë‹¤.\nìœ„í—˜ìš”ì¸ í”„ë ˆì„ì›Œí¬ì˜ ì•„í‚¤í…ì²˜ëŠ” ê¹”ë”í•˜ì§€ ì•Šì€ ê²½ìš°ê°€ ë§ë‹¤. í”„ë ˆì„ì›Œí¬ëŠ” ì˜ì¡´ì„± ê·œì¹™ì„ ìœ„ë°˜í•˜ëŠ” ê²½í–¥ì´ ìˆë‹¤.\nì—…ë¬´ ê°ì²´ë¥¼ ë§Œë“¤ ë•Œ í”„ë ˆì„ì›Œí¬ ì½”ë“œë¥¼ ìƒì†í•  ê²ƒì„ ìš”êµ¬í•œë‹¤. ê³ ìœ í•œ ì—”í‹°í‹°ì— ì½”ë“œê°€ ìƒì†ë˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê°€ì¥ ì•ˆìª½ ì›ê³¼ í”„ë ˆì„ì›Œí¬ì˜ ê²°í•©ì´ ë°œìƒí•œë‹¤. í”„ë ˆì„ì›Œí¬ê°€ í•œë²ˆ ì› ì•ˆìœ¼ë¡œ ë“¤ì–´ê°€ë²„ë¦¬ë©´ ë‹¤ì‹œëŠ” ì› ë°–ìœ¼ë¡œ ë‚˜ì˜¤ì§€ ì•Šì„ ê²ƒì´ë‹¤.\nê²°êµ­ ì‹¸ìš°ê²Œëœë‹¤.\ní”„ë ˆì„ì›Œí¬ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì´ˆê¸° ê¸°ëŠ¥ì„ ë§Œë“œëŠ”ë° ë„ì›€ì´ ë  ê²ƒì´ì§€ë§Œ, ì œí’ˆì´ ì„±ìˆ™í•´ì§€ë©´ì„œ í”„ë ˆì„ì›Œí¬ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ê³¼ í‹€ì„ ë²—ì–´ë‚˜ê²Œ ë  ê²ƒì´ë‹¤.\nì•ìœ¼ë¡œì˜ ë³€í™”\ní”„ë ˆì„ì›Œí¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ê²Œ ë„ì›€ë˜ì§€ ì•ŠëŠ” ë°©í–¥ìœ¼ë¡œ ì§„í™”í•  ìˆ˜ë„ ìˆë‹¤.\në” ë‚˜ì€ í”„ë ˆì„ì›Œí¬\nìƒˆë¡­ê³  ë” ë‚˜ì€ í”„ë ˆì„ì›Œí¬ê°€ ë“±ì¥í•´ì„œ ê°ˆì•„íƒ€ê³  ì‹¶ì„ ìˆ˜ë„ ìˆë‹¤.\ní•´ê²°ì±… í”„ë ˆì„ì›Œí¬ì™€ ê²°í˜¼í•˜ì§€ ë§ë¼!\ní”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ëŠ” ìˆì§€ë§Œ ê²°í•©í•´ì„œëŠ” ì•ˆëœë‹¤.\ní”„ë ˆì„ì›Œí¬ëŠ” ì•„í‚¤í…ì²˜ì˜ ë°”ê¹¥ìª½ ì›ì— ì†í•˜ëŠ” ì„¸ë¶€ì‚¬í•­ìœ¼ë¡œ ì·¨ê¸‰í•´ì•¼í•œë‹¤.\nì—…ë¬´ ê°ì²´ë¥¼ ë§Œë“¤ ë•Œ í”„ë ˆì„ì›Œí¬ê°€ ìì‹ ì˜ ê¸°ë°˜ í´ë˜ìŠ¤ë¡œë¶€í„° íŒŒìƒí•˜ê¸°ë¥¼ ìš”êµ¬í•œë‹¤ë©´, í”„ë½ì‹œë¥¼ ë§Œë“¤ê³ , ì—…ë¬´ ê·œì¹™ì— í”ŒëŸ¬ê·¸ì¸í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì— ì´ í”„ë½ì‹œë¥¼ ìœ„ì¹˜ì‹œì¼œ í”„ë ˆì„ì›Œí¬ê°€ í•µì‹¬ ì½”ë“œ ì•ˆìœ¼ë¡œ ë“¤ì–´ì˜¤ì§€ ëª»í•˜ê²Œ í•´ì•¼í•œë‹¤.\nëŒ€ì‹  í•µì‹¬ ì½”ë“œì— í”ŒëŸ¬ê·¸ì¸í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì— í”„ë ˆì„ì›Œí¬ë¥¼ í†µí•©í•˜ê³ , ì˜ì¡´ì„± ê·œì¹™ì„ ì¤€ìˆ˜í•œë‹¤.\nì´ì œ ì„ ì–¸í•©ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í”„ë ˆì„ì›Œí¬ì™€ ê²°í˜¼í•˜ê³ ì í•œë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë‚¨ì€ ìƒì•  ë™ì•ˆ ê·¸ í”„ë ˆì„ì›Œí¬ì™€ í•­ìƒ í•¨ê»˜ í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ë°˜ë“œì‹œ ëª…ì‹¬í•´ì•¼í•œë‹¤.\nê²°ì½” ê°€ë³ê²Œ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ê´€ê³„ê°€ ì•„ë‹ˆë‹¤.\nê²°ë¡  í”„ë ˆì„ì›Œí¬ì™€ì˜ ì²« ë§Œë‚¨ë¶€í„° ë°”ë¡œ ê²°í˜¼í•˜ë ¤ ë“¤ì§€ ë§ë¼.\nê°€ê¸‰ì ì´ë©´ í”„ë ˆì„ì›Œí¬ë¥¼ ê°€ëŠ¥í•œ í•œ ì˜¤ë«ë™ì•ˆ ì•„í‚¤í…ì²˜ ê²½ê³„ ë„ˆë¨¸ì— ë‘ì.\n","date":"2024-04-18T19:42:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/32/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/32/","title":"32. í”„ë ˆì„ì›Œí¬ëŠ” ì„¸ë¶€ì‚¬í•­ì´ë‹¤"},{"content":"ëì—†ì´ ë°˜ë³µí•˜ëŠ” ì¶” 1960ë…„ëŒ€ ì´ë˜ë¡œ ëª¨ë“  ì—°ì‚° ëŠ¥ë ¥ì„ ì¤‘ì•™ ì„œë²„ì— ë‘ëŠ” ë°©ì‹ê³¼ ëª¨ë“  ì—°ì‚° ëŠ¥ë ¥ì„ ë‹¨ë§ì— ë‘ëŠ” ë°©ì‹ ì‚¬ì´ì˜ ì¼ë ¨ì˜ ë°˜ë³µë˜ëŠ” ì§„ë™ì„ ê²ªì–´ì™”ìœ¼ë©° ì›¹ì€ ì§„ë™ ë í•œ ì ì— ìˆì„ ë¿ì´ë‹¤.\nIT ì—­ì‚¬ ì „ì²´ë¡œ ì‹œì•¼ë¥¼ ë„“íˆë©´ ì›¹ì€ ì•„ë¬´ê²ƒë„ ë°”ê¾¸ì§€ ì•Šì•˜ìœ¼ë©°, ì´ëŸ¬í•œ ì§„ë™ì€ ì•ìœ¼ë¡œë„ ì§€ì†ë ê²ƒì´ë‹¤.\në”°ë¼ì„œ ì•„í‚¤í…íŠ¸ë¡œì„œ ì´ ì§„ë™ì€ í•µì‹¬ ì—…ë¬´ ê·œì¹™ì˜ ì¤‘ì‹¬ì—ì„œ ë°€ì–´ë‚´ì•¼í•˜ëŠ” ë‹¨ê¸°ì ì¸ ë¬¸ì œì¼ ë¿ì´ë‹¤.\nì´ëŸ¬í•œ ì§„ë™ì€ GUIì˜ ë³€ê²½ì„ ë™ë°˜í•˜ë©°, ì´ëŸ¬í•œ ë³€ê²½ìœ¼ë¡œë¶€í„° ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ GUIë¡œë¶€í„° ì—…ë¬´ ê·œì¹™ì„ ë¶„ë¦¬í•´ì•¼í•œë‹¤.\nìš”ì•½ GUIëŠ” ì„¸ë¶€ì‚¬í•­ì´ë‹¤. ì›¹ì€ ì… ì¶œë ¥ ì¥ì¹˜ì˜ ë‹¤ë¥¸ ëª¨ìŠµì´ë¯€ë¡œ GUIì´ë©°, ì´ëŸ¬í•œ ì´ìœ ë¡œ ì›¹ì€ ì„¸ë¶€ì‚¬í•­ì´ë‹¤.\në”°ë¼ì„œ ì•„í‚¤í…íŠ¸ëŠ” ì›¹ì„ í•µì‹¬ ì—…ë¬´ ë¡œì§ì—ì„œ ë¶„ë¦¬ëœ ê²½ê³„ ë°”ê¹¥ì— ë‘ì–´ì•¼í•œë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ GUIì˜ ìƒí˜¸ì‘ìš©ì€ ë¹ˆë²ˆí•˜ê³  ë°©ì‹ë„ ì‚¬ìš©ì¤‘ì¸ GUI ì¢…ë¥˜ì— ë”°ë¼ ì°¨ì´ê°€ í¬ê¸° ë•Œë¬¸ì— ì¶”ìƒí™”í•˜ë ¤ëŠ” ì‹œë„ëŠ” ì„±ê³µí•  ê°€ëŠ¥ì„±ì´ ë‚®ì•„ ë³´ì¸ë‹¤.\ní•˜ì§€ë§Œ UIì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ì´ì—ëŠ” ì¶”ìƒí™”ê°€ ê°€ëŠ¥í•œ ë˜ ë‹¤ë¥¸ ê²½ê³„ê°€ ì¡´ì¬í•œë‹¤.\nì—…ë¬´ ë¡œì§ì€ ë‹¤ìˆ˜ì˜ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¡œ êµ¬ì„±ë˜ë©°, ê° ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•´ì„œ ì¼ë¶€ í•¨ìˆ˜ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ê° ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì…ë ¥ ë°ì´í„° ìˆ˜í–‰í•  ì²˜ë¦¬ ê³¼ì •, ì¶œë ¥ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê¸°ìˆ í•  ìˆ˜ ìˆë‹¤. ì™„ì „í•œ ì…ë ¥ ë°ì´í„°ì™€ ê·¸ì— ë”°ë¥¸ ì¶œë ¥ ë°ì´í„°ëŠ” ë°ì´í„° êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì„œ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì‹¤í–‰í•˜ëŠ” ì²˜ë¦¬ ê³¼ì •ì˜ ì…ë ¥ ê°’ê³¼ ì¶œë ¥ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ê° ìœ ìŠ¤ì¼€ì´ìŠ¤ê°€ ì¥ì¹˜ ë…ë¦½ì ì¸ ë°©ì‹ìœ¼ë¡œ UIë¼ëŠ” ì…ì¶œë ¥ ì¥ì¹˜ë¥¼ ë™ì‘ì‹œí‚¨ë‹¤ê³  ê°„ì£¼í•  ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ì…ë ¥ ë°ì´í„°ì™€ ê·¸ì— ë”°ë¥¸ ì¶œë ¥ ë°ì´í„°ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ë°ì´í„° êµ¬ì¡°ëŠ” UIì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ì´ì˜ ê²½ê³„ë¥¼ ë„˜ë‚˜ë“œëŠ” ìˆ˜ë‹¨ì´ë¯€ë¡œ ì¶”ìƒí™”ê°€ ê°€ëŠ¥í•œ ê²½ê³„ì´ë‹¤.\nê²°ë¡  ì´ëŸ¬í•œ ì¢…ë¥˜ì˜ ì¶”ìƒí™”ëŠ” ë§Œë“¤ê¸° ì‰½ì§€ ì•Šê³ , ì œëŒ€ë¡œ ë§Œë“¤ë ¤ë©´ ìˆ˜ì°¨ë¡€ì˜ ë°˜ë³µ ê³¼ì •ì„ ê±°ì³ì•¼ í•  ê²ƒì´ë‹¤.\ní•˜ì§€ë§Œ ì´ëŸ¬í•œ ì¶”ìƒí™”ëŠ” ê°€ëŠ¥í•˜ë©°, ë³€ê²½ì´ ë  ìš”ì†ŒëŠ” ë§¤ìš° ë§ê¸° ë•Œë¬¸ì— ì¶”ìƒí™”ëŠ” ê¼­ í•„ìš”í•˜ë‹¤.\n","date":"2024-04-18T19:07:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/31/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/31/","title":"31. ì›¹ì€ ì„¸ë¶€ì‚¬í•­ì´ë‹¤"},{"content":"ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ë³¼ ë•Œ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—”í‹°í‹°ê°€ ì•„ë‹ˆë‹¤.\në°ì´í„° ëª¨ë¸ê³¼ëŠ” ë‹¬ë¦¬ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì„¸ë¶€ì‚¬í•­ì´ë¼ì„œ ì•„í‚¤í…ì²˜ì˜ êµ¬ì„±ìš”ì†Œ ìˆ˜ì¤€ìœ¼ë¡œ ëŒì–´ì˜¬ë¦´ ìˆ˜ ì—†ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì¼ ë¿ì´ë©°, ë°ì´í„°ì— ì ‘ê·¼í•  ë°©ë²•ì„ ì œê³µí•˜ëŠ” ìœ í‹¸ë¦¬í‹°ì´ë‹¤.\nìœ í‹¸ë¦¬í‹°ëŠ” ì €ìˆ˜ì¤€ ì„¸ë¶€ì‚¬í•­(ë©”ì»¤ë‹ˆì¦˜)ì¼ ë¿ ì•„í‚¤í…ì²˜ì™€ëŠ” ê´€ê³„ ì—†ìœ¼ë¯€ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ìš©í•œë‹¤ëŠ” ì‚¬ì‹¤ì´ ì•„í‚¤í…ì²˜ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šì•„ì•¼í•œë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ê³„í˜• í…Œì´ë¸”ì€ íŠ¹ì •í•œ í˜•ì‹ì˜ ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ê²½ìš°ì— í¸ë¦¬í•¨ì„ ì œê³µí•˜ì§€ë§Œ, ë°ì´í„°ë¥¼ í…Œì´ë¸”ì— í–‰ ë‹¨ìœ„ë¡œ ë°°ì¹˜í•œë‹¤ëŠ” ìì²´ëŠ” ì•„í‚¤í…ì²˜ì ìœ¼ë¡œ ë³¼ ë•Œ ì „í˜€ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.\në”°ë¼ì„œ (ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ)ë°ì´í„°ê°€ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤ëŠ” ì‚¬ì‹¤ì€ ì˜¤ì§ ì•„í‚¤í…ì²˜ì˜ ì™¸ë¶€ ì›ì— ìœ„ì¹˜í•œ ìµœí•˜ìœ„ ìˆ˜ì¤€ì˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë§Œ ì•Œì•„ì•¼í•œë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ í…Œì´ë¸”ê³¼ í–‰ì„ í—ˆìš©í•œë‹¤ë©´, ìœ ìŠ¤ì¼€ì´ìŠ¤, ì—…ë¬´ ê·œì¹™, UIì¡°ì°¨ë„ ê´€ê³„í˜• ë°ì´í„° êµ¬ì¡°ì— ê²°í•©ë˜ì–´ë²„ë¦°ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì€ ì™œ ì´ë ‡ê²Œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ”ê°€? ë°ì´í„° ì €ì¥ ê³µê°„ì˜ í•œê³„ë¡œ ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ë°–ì— ì—†ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.\në””ìŠ¤í¬ì˜ ë‹¨ì ì€ ëŠë¦¬ë‹¤ëŠ” ì  ì¸ë°, ì´ë¡œì¸í•´ ë°œìƒí•˜ëŠ” ì„±ëŠ¥ ì €í•˜ ì™„í™”ë¥¼ ìœ„í•œ ìƒ‰ì¸, ìºì‹œ, ì¿¼ë¦¬ ê³„íš ìµœì í™”ê°€ í•„ìš”í•´ì¡Œë‹¤.\nìƒ‰ì¸, ìºì‹œ, ì¿¼ë¦¬ ê³„íšì„ ìœ„í•´ ì‘ì—…ì¤‘ì¸ ëŒ€ìƒì´ ì–´ë–¤ ë°ì´í„°ì¸ì§€ ì•Œ ìˆ˜ ìˆì–´ì•¼ í–ˆìœ¼ë¯€ë¡œ ë°ì´í„°ë¥¼ í‘œí˜„í•˜ëŠ” ì¼ì¢…ì˜ í‘œì¤€ì ì¸ ë°©ì‹ë„ í•„ìš”í–ˆê³ , ì‹œê°„ì´ í˜ëŸ¬ íŒŒì¼ ì‹œìŠ¤í…œê³¼ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ(RDBMS) 2ê°€ì§€ ìœ í˜•ìœ¼ë¡œ ë¶„ë¦¬ë˜ì—ˆë‹¤.\níŒŒì¼ ì‹œìŠ¤í…œ\në¬¸ì„œ(document) ê¸°ë°˜ ì‹œìŠ¤í…œìœ¼ë¡œ, ë¬¸ì„œ ì „ì²´ë¥¼ ìì—°ìŠ¤ëŸ½ê³  í¸ë¦¬í•˜ê²Œ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.\në¬¸ì„œë¥¼ ì´ë¦„ì„ ê¸°ì¤€ìœ¼ë¡œ ì €ì¥í•˜ê±°ë‚˜ ì¡°íšŒí•  ë•ŒëŠ” ì˜ ë™ì‘í•˜ì§€ë§Œ, ë‚´ìš©ì„ ê¸°ì¤€ìœ¼ë¡œ ê²€ìƒ‰í•  ë•ŒëŠ” í¬ê²Œ ë„ì›€ë˜ì§€ ì•ŠëŠ”ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ\në‚´ìš© ê¸°ë°˜ ì‹œìŠ¤í…œìœ¼ë¡œ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ë ˆì½”ë“œë¥¼ ìì—°ìŠ¤ëŸ½ê³  í¸ë¦¬í•˜ê²Œ ì°¾ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.\në ˆì½”ë“œê°€ ì„œë¡œ ê³µìœ í•˜ëŠ” ì¼ë¶€ ë‚´ìš©ì— ê¸°ë°˜í•´ì„œ ë‹¤ìˆ˜ì˜ ë ˆì½”ë“œë¥¼ ì—°ê´€ ì§“ëŠ” ë° ë§¤ìš° íƒì›”í•˜ì§€ë§Œ, ì •í˜•í™”ë˜ì§€ ì•Šì€ ë¬¸ì„œë¥¼ ì €ì¥í•˜ê³  ê²€ìƒ‰í•˜ëŠ” ë°ëŠ” ëŒ€ì²´ë¡œ ë¶€ì í•©í•˜ë‹¤.\nê° ì‹œìŠ¤í…œì€ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ì²´ê³„í™”í•˜ê³  íŠ¹í™”ëœ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ í•˜ë©°, ì„±ëŠ¥ì„ ë†’íˆê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ìƒ‰ì¸í•˜ê³  RAMì— ë°°ì¹˜í•˜ëŠ” ê³ ìœ í•œ ì „ëµì„ í™œìš©í•œë‹¤.\në””ìŠ¤í¬ê°€ ì—†ë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ë””ìŠ¤í¬ëŠ” RAMìœ¼ë¡œ ëŒ€ì²´ë˜ê³ ìˆë‹¤.\nëª¨ë“  ë°ì´í„°ê°€ RAMì— ì €ì¥ëœë‹¤ë©´ ë°ì´í„°ë“¤ì„ ì—°ê²° ë¦¬ìŠ¤íŠ¸, íŠ¸ë¦¬, í•´ì‹œ í…Œì´ë¸”, ìŠ¤íƒ, í ì™€ ê°™ì€ ë°ì´í„° êµ¬ì¡°ë¡œ ì²´ê³„í™” ë  ê²ƒì´ë©°, ë°ì´í„°ì— ì ‘ê·¼í•  ë•ŒëŠ” í¬ì¸í„°ë‚˜ ì°¸ì¡°ë¥¼ í™œìš©í•  ê²ƒì´ë‹¤.\në°ì´í„°ê°€ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ íŒŒì¼ ì‹œìŠ¤í…œì— ìˆë”ë¼ë„, RAMìœ¼ë¡œ ì½ì€ í›„ì—ëŠ” ë‹¤ë£¨ê¸° í¸ë¦¬í•œ í˜•íƒœë¡œ ê·¸ êµ¬ì¡°ë¡œ ë³€ê²½í•˜ëŠ”ë°, ì´ëŠ” í”„ë¡œê·¸ë˜ë¨¸ê°€ í•˜ëŠ” ì¼ë¡œ ê·¸ëŒ€ë¡œ í•˜ë©´ ëœë‹¤.\nì„¸ë¶€ì‚¬í•­ ë°ì´í„°ê°€ íŒŒì¼ ì‹œìŠ¤í…œì´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì„ í†µí•´ ì €ì¥ëœë‹¤ê³  í•˜ë”ë¼ë„ ê²°ê³¼ì ìœ¼ë¡œ ì‹¤ì œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•ŒëŠ” ì‚¬ìš©í•˜ê¸° í¸í•œ ë°©ì‹(ìë£Œêµ¬ì¡°)ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ RAMì— ì˜¬ë ¤ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\nì´ì²˜ëŸ¼ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë””ìŠ¤í¬ì™€ RAM ì‚¬ì´ì—ì„œ ë°ì´í„°ë¥¼ ì˜®ê¸¸ ë•Œ ì‚¬ìš©í•  ë¿ì¸ ë©”ì»¤ë‹ˆì¦˜ì´ê³ , ë°ì´í„°ë¥¼ ì¥ê¸°ì ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ê³µê°„ì¼ ë¿ì´ë‹¤.\në”°ë¼ì„œ ì•„ì¼€í…ì²˜ ê´€ì ì—ì„œ ë³¸ë‹¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì„¸ë¶€ì‚¬í•­ì´ë¯€ë¡œ, ë°ì´í„°ê°€ ì–´ë–¤ í˜•íƒœë¡œ ì–´ë””ì— ì €ì¥ë˜ì–´ìˆëŠ”ì§€ ì¸ì‹í•´ì„œëŠ” ì•ˆëœë‹¤.\ní•˜ì§€ë§Œ ì„±ëŠ¥ì€? ë°ì´í„° ì €ì¥ì†Œ ì¸¡ë©´ì—ì„œ ì„±ëŠ¥ì€ ì™„ì „íˆ ìº¡ìŠí™”í•˜ì—¬ ì—…ë¬´ ê·œì¹™ê³¼ëŠ” ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ê´€ì‹¬ì‚¬ì´ë‹¤.\në°ì´í„° ì €ì¥ì†Œì—ì„œ ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ë„£ê³  ëº„ ìˆ˜ ìˆì–´ì•¼ í•˜ëŠ” ê²ƒì€ ë§ì§€ë§Œ, ì´ëŠ” ì €ìˆ˜ì¤€ ê´€ì‹¬ì‚¬ë¡œ ì €ìˆ˜ì¤€ì˜ ë°ì´í„° ë§¤ì»¤ë‹ˆì¦˜ ë‹¨ì—ì„œ ë‹¤ë¤„ì•¼í•œë‹¤.\nì¸ë±ìŠ¤ ë“± ë”°ë¼ì„œ ë°ì´í„° ì €ì¥ì†Œì˜ ì„±ëŠ¥ì€ ì‹œìŠ¤í…œì˜ ì „ë°˜ì ì¸ ì•„ì¼€í…ì²˜ì™€ëŠ” ê´€ê³„ê°€ ì—†ë‹¤.\nê²°ë¡  ì²´ê³„í™”ëœ ë°ì´í„° êµ¬ì¡°ì™€ ë°ì´í„° ëª¨ë¸ì€ ì•„í‚¤í…ì²˜ì ìœ¼ë¡œ ì¤‘ìš”í•œ ë°˜ë©´, ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì—ì„œ ì´ë¦¬ ì €ë¦¬ ì˜®ê¸¸ ë¿ì¸ ê¸°ìˆ ê³¼ ì‹œìŠ¤í…œì€ ì•„í‚¤í…ì²˜ì ìœ¼ë¡œ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.\në°ì´í„°ë¥¼ í…Œì´ë¸” êµ¬ì¡°ë¡œ ë§Œë“¤ê³  SQLë¡œë§Œ ì ‘ê·¼í•˜ë„ë¡ í•˜ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì€ í›„ìì™€ ê´€ë ¨ì´ ê¹Šìœ¼ë¯€ë¡œ ì•„í‚¤í…ì²˜ì ìœ¼ë¡œ ì¢…ìš”í•˜ì§€ ì•Šë‹¤.\në°ì´í„°ëŠ” ì¤‘ìš”í•˜ë‚˜, ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì„¸ë¶€ì‚¬í•­ì´ë‹¤.\n","date":"2024-04-18T16:19:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/30/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/30/","title":"30. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì„¸ë¶€ì‚¬í•­ì´ë‹¤"},{"content":"í…ŒìŠ¤íŠ¸ëŠ” ì‹œìŠ¤í…œì˜ ì¼ë¶€ì´ë©°, ì•„í‚¤í…ì²˜ì—ë„ ê´€ì—¬í•œë‹¤.\nì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ì¸ í…ŒìŠ¤íŠ¸ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œëŠ” ì–´ë– í•œ ì¢…ë¥˜ì— í…ŒìŠ¤íŠ¸ì´ë“  ë™ì¼í•˜ë‹¤.\ní…ŒìŠ¤íŠ¸ëŠ” íƒœìƒì ìœ¼ë¡œ ì˜ì¡´ì„± ê·œì¹™ì„ ë”°ë¥¸ë‹¤.\ní…ŒìŠ¤íŠ¸ëŠ” ì„¸ë¶€ì ì´ë©° êµ¬ì²´ì ì´ë‹¤. ë”°ë¼ì„œ ì˜ì¡´ì„±ì€ í•­ìƒ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ë˜ëŠ” ì½”ë“œë¥¼ í–¥í•œë‹¤.(ì•„í‚¤í…ì²˜ì˜ ê°€ì¥ ë°”ê¹¥ìª½ ì›ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.) ì‹œìŠ¤í…œ ë‚´ë¶€ì˜ ì–´ë–¤ ê²ƒë„ í…ŒìŠ¤íŠ¸ì—ëŠ” ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤. ë…ë¦½ì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥í•˜ë‹¤. ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ ì¤‘ì—ì„œ ê°€ì¥ ê³ ë¦½ë˜ì–´ ìˆë‹¤. ì‹œìŠ¤í…œ ìš´ì˜ì— ê¼­ í•„ìš”ì¹˜ëŠ” ì•Šë‹¤. í…ŒìŠ¤íŠ¸ì˜ ì—­í• ì€ ìš´ì˜ì´ ì•„ë‹ˆë¼ ê°œë°œì„ ì§€ì›í•˜ëŠ” ê²ƒì´ë¯€ë¡œ, ì–´ë–¤ ì‚¬ìš©ìë„ í…ŒìŠ¤íŠ¸ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë ‡ë‹¤ê³  í•˜ë”ë¼ë„ í…ŒìŠ¤íŠ¸ê°€ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹ˆë¼ëŠ” ëœ»ì€ ì•„ë‹ˆë©°, ë‹¤ë¥¸ ëª¨ë“  ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ê°€ ë°˜ë“œì‹œ ì§€ì¼œì•¼í•˜ëŠ” ëª¨ë¸ì„ í‘œí˜„í•´ì¤€ë‹¤.\ní…ŒìŠ¤íŠ¸ë¥¼ ê³ ë ¤í•œ ì„¤ê³„ í…ŒìŠ¤íŠ¸ì˜ ê·¹ë‹¨ì ì¸ ê³ ë¦½ì„±ì´ ëŒ€ì²´ë¡œ ë°°í¬í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ê³¼ ì–´ìš°ëŸ¬ì ¸, í…ŒìŠ¤íŠ¸ê°€ ì‹œìŠ¤í…œì˜ ì„¤ê³„ ë²”ìœ„ ë°–ì— ìˆë‹¤ê³  ì°©ê°í•œë‹¤.\ní…ŒìŠ¤íŠ¸ê°€ ì‹œìŠ¤í…œ ì„¤ê³„ì™€ ì˜ í†µí•©ë˜ì§€ ì•Šìœ¼ë©´, í…ŒìŠ¤íŠ¸ëŠ” ê¹¨ì§€ê¸° ì‰¬ì›Œì§€ê³ , ì‹œìŠ¤í…œì€ ë»£ë»£í•´ì ¸ì„œ ë³€ê²½í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§„ë‹¤.\nê¹¨ì§€ê¸° ì‰¬ìš´ í…ŒìŠ¤íŠ¸ ë¬¸ì œ(Fragile Tests Problem)\nì‹œìŠ¤í…œì— ê°•í•˜ê²Œ ê²°í•©ëœ í…ŒìŠ¤íŠ¸ë¼ë©´ ì‹œìŠ¤í…œì´ ë³€ê²½ë  ë•Œ í•¨ê»˜ ë³€ê²½ë˜ì–´ì•¼í•˜ë¯€ë¡œ, ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ì— ìƒê¸´ ì•„ì£¼ ì‚¬ì†Œí•œ ë³€ê²½ë„, ì´ì™€ ê²°í•©ëœ ìˆ˜ë§ì€ í…ŒìŠ¤íŠ¸ë¥¼ ë§ê°€ëœ¨ë¦´ ìˆ˜ ìˆë‹¤.\nì‹œìŠ¤í…œì˜ ê³µí†µ ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ë˜ë©´ ìˆ˜ë°±, ì‹¬ì§€ì–´ ìˆ˜ì²œ ê°œì˜ í…ŒìŠ¤íŠ¸ê°€ ë§ê°€ì§„ë‹¤.\nê¹¨ì§€ê¸° ì‰¬ìš´ í…ŒìŠ¤íŠ¸ëŠ” ì‹œìŠ¤í…œì„ ë»£ë»£í•˜ê²Œ ë§Œë“ ë‹¤ëŠ” ë¶€ì‘ìš©ì„ ë‚³ì„ ë•Œê°€ ë§ë‹¤.\nì‹œìŠ¤í…œì— ê°€í•œ ê°„ë‹¨í•œ ë³€ê²½ì´ ëŒ€ëŸ‰ì˜ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ë¡œ ì´ì–´ì§„ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œë˜ë©´, ê°œë°œìëŠ” ë³€ê²½ì„ í•˜ì§€ ì•Šìœ¼ë ¤ê³  í•  ê²ƒì´ë‹¤. ë”°ë¼ì„œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ë¥¼ ê³ ë ¤í•œ ì„¤ê³„ê°€ í•„ìš”í•˜ë‹¤.\ní•µì‹¬ì€ ë³€ë™ì„±ì´ ìˆëŠ” ê²ƒì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.\në³€ë™ì„±ì´ í° GUIê°™ì€ ê²ƒìœ¼ë¡œ ì‹œìŠ¤í…œì„ ì¡°ì‘í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ëŠ” ê¹¨ì§€ê¸° ì‰½ê¸° ë•Œë¬¸ì— ì‹œìŠ¤í…œê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ì„¤ê³„í•  ë•Œ GUIë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì—…ë¬´ ê·œì¹™ì„ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆê²Œ í•´ì•¼í•œë‹¤.\ní…ŒìŠ¤íŠ¸ API ë³€ë™ì„±ì´ ì ì€ ë°©ì‹ìœ¼ë¡œ ì—…ë¬´ ê·œì¹™ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ëª¨ë“  ì—…ë¬´ ê·œì¹™ì„ ê²€ì¦í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ íŠ¹í™”ëœ APIë¥¼ ë§Œë“ ë‹¤.\në³´ì•ˆ ì œì•½ ì‚¬í•­ì„ ë¬´ì‹œí•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ê°’ë¹„ì‹¼ ìì›ì€ ê±´ë„ˆë›°ê³ , ì‹œìŠ¤í…œì„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ íŠ¹ì • ìƒíƒœë¡œ ê°•ì œí•˜ëŠ” ê°•ë ¥í•œ í˜ì„ ì§€ë…€ì•¼í•œë‹¤. ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ê°€ ì‚¬ìš©í•˜ëŠ” ì¸í„°ë ‰í„°ì™€ ì¸í„°í˜ì´ìŠ¤ ì–´ëŒ‘í„°ë“¤ì˜ ìƒìœ„ ì§‘í•©ì´ ë  ê²ƒì´ë‹¤. í…ŒìŠ¤íŠ¸ APIëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œë¶€í„° ë¶„ë¦¬í•  ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.\nêµ¬ì¡°ì  ê²°í•© êµ¬ì¡°ì  ê²°í•©ì€ í…ŒìŠ¤íŠ¸ ê²°í•© ì¤‘ì—ì„œ ê°€ì¥ ê°•í•˜ë©°, ê°€ì¥ ì€ë°€í•˜ê²Œ í¼ì ¸ë‚˜ê°€ëŠ” ìœ í˜•ì´ë‹¤.\nëª¨ë“  ìƒìš© í´ë˜ìŠ¤ì— í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ê°€ ê°ê° ì¡´ì¬í•˜ê³ , ëª¨ë“  ìƒìš© ë©”ì„œë“œì— í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì§‘í•©ì´ ê°ê° ì¡´ì¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ê°€ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ ì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°ì— ê°•í•˜ê²Œ ê²°í•©ë˜ì–´ìˆë‹¤.\nìƒìš© í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œ ì¤‘ í•˜ë‚˜ë¼ë„ ë³€ê²½ë˜ë©´ ë”¸ë ¤ìˆëŠ” ë‹¤ìˆ˜ì˜ í…ŒìŠ¤íŠ¸ê°€ ë³€ê²½ë˜ì–´ì•¼í•œë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ê¹¨ì§€ê¸° ìœ„ì›Œì§€ê³ , ì´ë¡œ ì¸í•´ ìƒìš© ì½”ë“œë¥¼ ë»£ë»£í•˜ê²Œ ë§Œë“ ë‹¤. í…ŒìŠ¤íŠ¸ APIì˜ ì—­í• ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì¡°ë¥¼ í…ŒìŠ¤íŠ¸ë¡œë¶€í„° ìˆ¨ê¸°ëŠ” ë° ìˆë‹¤.\nìƒìš© ì½”ë“œë¥¼ ë¦¬í™í„°ë§í•˜ê±°ë‚˜ ì§„í™”ì‹œí‚¤ë”ë¼ë„ í…ŒìŠ¤íŠ¸ì—ëŠ” ì „í˜€ ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ë¦¬í™í„°ë§ í•˜ê±°ë‚˜ ì§„í™”ì‹œí‚¬ ë•Œë„ ì‚¬ìš© ì½”ë“œì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤. ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ í…ŒìŠ¤íŠ¸ëŠ” ê³„ì†í•´ì„œ ë” êµ¬ì²´ì ì´ê³  íŠ¹í™”ëœ í˜•íƒœë¡œ ë³€í•˜ê³ , ìƒìš© ì½”ë“œëŠ” ë” ì¶”ìƒì ì´ê³  ë²”ìš©ì ì¸ í˜•íƒœë¡œ ë³€í•˜ê¸° ë•Œë¬¸ì— ë”°ë¡œë”°ë¡œ ì§„í™”í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì€ í•„ìˆ˜ì ì´ë‹¤.\ní•˜ì§€ë§Œ êµ¬ì¡°ì  ê²°í•©ì´ ê°•í•˜ë©´ ìœ„ì™€ ê°™ì€ ì§„í™” ê³¼ì •ì„ ë°©í•´í•œë‹¤.\në³´ì•ˆ í…ŒìŠ¤íŠ¸ APIë¥¼ ìš´ì˜ ì‹œìŠ¤í…œì— ë°°í¬í•˜ë©´ ìœ„í—˜ì— ì²˜í•  ìˆ˜ ìˆë‹¤.\ní…ŒìŠ¤íŠ¸ API ìì²´ì™€ í…ŒìŠ¤íŠ¸ API ì¤‘ ìœ„í—˜í•œ ë¶€ë¶„ì˜ êµ¬í˜„ë¶€ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•´ì•¼í•œë‹¤.\nê²°ë¡  í…ŒìŠ¤íŠ¸ëŠ” ì‹œìŠ¤í…œì˜ ì¼ë¶€ì´ë‹¤.\në”°ë¼ì„œ í…ŒìŠ¤íŠ¸ì—ì„œ ê¸°ëŒ€í•˜ëŠ” ì•ˆì •ì„±ê³¼ íšŒê·€ì˜ ì´ì ì„ ì–»ì„ ìˆ˜ ìˆìœ¼ë ¤ë©´ í…ŒìŠ¤íŠ¸ëŠ” ì˜ ì„¤ê³„ ë¼ì•¼ë§Œí•œë‹¤.\ní…ŒìŠ¤íŠ¸ë¥¼ ì‹œìŠ¤í…œì˜ ì¼ë¶€ë¡œ ì„¤ê³„í•˜ì§€ ì•Šìœ¼ë©´ í…ŒìŠ¤íŠ¸ëŠ” ê¹¨ì§€ê¸° ì‰½ê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì–´ë ¤ì›Œì§€ëŠ” ê²½í–¥ì´ ìˆìœ¼ë©°, ì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ëŠ” ìœ ì§€ë³´ìˆ˜í•˜ê¸° í˜ë“¤ê¸° ë•Œë¬¸ì— ë²„ë ¤ì§€ëŠ” ìµœí›„ë¥¼ ë§¡ëŠ”ë‹¤.\n","date":"2024-04-15T18:17:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/28/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/28/","title":"28. í…ŒìŠ¤íŠ¸ ê²½ê³„"},{"content":"ì„œë¹„ìŠ¤ ì§€í–¥ ì•„í‚¤í…ì²˜ì™€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ëŠ” ìµœê·¼ì— í° ì¸ê¸°ë¥¼ ëŒê³  ìˆëŠ”ë° ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\nì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ìƒí˜¸ ê²°í•©ì´ ì² ì €í•˜ê²Œ ë¶„ë¦¬ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤. ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ê°œë°œê³¼ ë°°í¬ ë…ë¦½ì„±ì„ ì§€ì›í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤. ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜? ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì´ ë³¸ì§ˆì ìœ¼ë¡œ ì•„í‚¤í…ì²˜ì— í•´ë‹¹í•˜ëŠ”ì§€ì— ëŒ€í•´ ìƒê°í•´ë³´ë©´ ëª…ë°±íˆ ì‚¬ì‹¤ì´ ì•„ë‹ˆë‹¤.\nì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ëŠ” ì˜ì¡´ì„  ê·œì¹™ì„ ì¤€ìˆ˜í•˜ë©° ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì„ ì €ìˆ˜ì¤€ì˜ ì„¸ë¶€ì‚¬í•­ìœ¼ë¡œë¶€í„° ë¶„ë¦¬í•˜ëŠ” ê²½ê³„ì— ì˜í•´ ì •ì˜ëœë‹¤.\nì´ëŸ¬í•œ ê´€ì ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í–‰ìœ„ë¥¼ ë¶„ë¦¬í•  ë¿ì¸ ì„œë¹„ìŠ¤ë¼ë©´ ê°’ë¹„ì‹¼ í•¨ìˆ˜ í˜¸ì¶œì— ë¶ˆê³¼í•˜ë©°, ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ê¼­ ì¤‘ìš”í•˜ë‹¤ê³  ë³¼ ìˆ˜ëŠ” ì—†ë‹¤.\nê¸°ëŠ¥ì„ í”„ë¡œì„¸ìŠ¤ë‚˜ í”Œë«í¼ì— ë…ë¦½ì ì´ ë˜ê²Œë” ì„œë¹„ìŠ¤ë“¤ì„ ìƒì„±í•˜ë©´ ì˜ì¡´ì„± ê·œì¹™ ì¤€ìˆ˜ ì—¬ë¶€ì™€ ìƒê´€ ì—†ì´ í° ë„ì›€ì´ ë  ë•Œê°€ ë§ìœ¼ë‚˜, ì„œë¹„ìŠ¤ ê·¸ ìì²´ë¡œëŠ” ì•„í‚¤í…ì²˜ë¥¼ ì •ì˜í•˜ì§€ ì•ŠëŠ”ë‹¤.\nìœ„ì— ì–¸ê¸‰í•œëŒ€ë¡œ ì‹œìŠ¤í…œì—ì„œ ì•„í‚¤í…ì²˜ë¥¼ ì •ì˜í•˜ëŠ” ìš”ì†ŒëŠ” ì˜ì¡´ì„± ê·œì¹™ì„ ë”°ë¥´ë©° ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ë„˜ë‚˜ë“œëŠ” í–‰ìœ„ ìì²´ì´ë©°, ê²°êµ­ ì„œë¹„ìŠ¤ëŠ” í”„ë¡œì„¸ìŠ¤ë‚˜ í”Œë«í¼ ê²½ê³„ë¥¼ ê°€ë¡œì§€ë¥´ëŠ” í•¨ìˆ˜ í˜¸ì¶œì— ì§€ë‚˜ì§€ ì•ŠëŠ”ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.\nì„œë¹„ìŠ¤ì˜ ì´ì ? ë§ì€ ì‚¬ëŒë“¤ì´ ìƒê°í•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ì´ì ì— ëŒ€í•´ ì•„í‚¤í…ì²˜ ê´€ì ì˜ ê·¼ë³¸ì ì¸ ë¬¸ì œë¥¼ ì‚´í´ë³´ë©´ ì´ëŸ¬í•œ ë¶€ë¶„ë“¤ì´ ì™„ë²½í•œ í•´ê²°ì±…ì€ ì•„ë‹˜ì„ ì•Œ ìˆ˜ ìˆë‹¤.\nê²°í•© ë¶„ë¦¬ì˜ ì˜¤ë¥˜ ì‹œìŠ¤í…œì„ ì„œë¹„ìŠ¤ë“¤ë¡œ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ ì–»ê²Œ ë˜ë¦¬ë¼ ì˜ˆìƒë˜ëŠ” í° ì´ì ì¤‘ í•˜ë‚˜ëŠ” ì„œë¹„ìŠ¤ ì‚¬ì´ì˜ ê²°í•©ì´ í™•ì‹¤íˆ ë¶„ë¦¬ëœë‹¤ëŠ” ì ì´ë‹¤.\nê° ì„œë¹„ìŠ¤ëŠ” ì„œë¡œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰ë˜ë¯€ë¡œ ì„œë¹„ìŠ¤ëŠ” ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì˜ ë³€ìˆ˜ì— ì§ì ‘ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ëª¨ë“  ì„œë¹„ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ë°˜ë“œì‹œ ì˜ ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. ì„œë¹„ìŠ¤ë“¤ì´ ë³€ìˆ˜ë¥¼ í†µí•´ ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ í”„ë¡œì„¸ì„œ ë‚´ì˜ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ ìƒì˜ ê³µìœ  ìì›ê³¼ ì´ë¡œ ì¸í•œ ê³µìœ í•˜ëŠ” ë°ì´í„°ì— ì˜í•´ ì„œë¹„ìŠ¤ë“¤ì´ ê°•ë ¥í•˜ê²Œ ê²°í•©ëœë‹¤.\nì„œë¹„ìŠ¤ ì‚¬ì´ë¥¼ ì˜¤ê°€ëŠ” ë°ì´í„° ë ˆì½”ë“œì— ìƒˆë¡œìš´ í•„ë“œë¥¼ ì¶”ê°€í•˜ë©´, ì´ í•„ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì„œë¹„ìŠ¤ëŠ” ë°˜ë“œì‹œ ë³€ê²½ë˜ì–´ì•¼í•œë‹¤. í•„ë“œì— ë‹´ê¸´ ë°ì´í„°ë¥¼ í•´ì„í•˜ëŠ” ë°©ì‹ì„ ì‚¬ì „ì— ì™„ë²½í•˜ê²Œ ì¡°ìœ¨í•´ì•¼ í•œë‹¤. ì´ë¡œ ì¸í•´ ì„œë¹„ìŠ¤ë“¤ì€ ë ˆì½”ë“œì— ê°•í•˜ê²Œ ê²°í•©ë˜ê³ , ì„œë¹„ìŠ¤ë“¤ ì‚¬ì´ëŠ” ì„œë¡œ ê°„ì ‘ì ìœ¼ë¡œ ê²°í•©ë˜ì–´ë²„ë¦°ë‹¤.\nê°œë°œ ë° ë°°í¬ ë…ë¦½ì„±ì˜ ì˜¤ë¥˜ ì „ë‹´íŒ€ì´ ì„œë¹„ìŠ¤ë¥¼ ì†Œìœ í•˜ê³  ìš´ì˜í•˜ê²Œ ë˜ë¯€ë¡œ ê°ì ê°œë°œ ë° ë°°í¬í•  ìˆ˜ ìˆê²Œë˜ì–´ í™•ì¥ ê°€ëŠ¥í•œ, í™•ì¥ì´ ìš©ì´í•œ êµ¬ì¡°ë¼ê³  ìƒê°í•˜ì§€ë§Œ, ì„œë¹„ìŠ¤ëŠ” í™•ì¥ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ìœ ì¼í•œ ì„ íƒì§€ê°€ ì•„ë‹ˆë‹¤.\nëª¨ë…¸ë¦¬í‹± ì‹œìŠ¤í…œì´ë‚˜ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì‹œìŠ¤í…œìœ¼ë¡œë„ í™•ì¥ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì´ ì—­ì‚¬ì ìœ¼ë¡œ ì¦ëª…ë˜ì–´ì™”ë‹¤. ê²°í•© ë¶„ë¦¬ ì˜¤ë¥˜ì—ì„œ ì–¸ê¸‰í•œ ë‚´ìš©ì„ í† ëŒ€ë¡œ ì‚´í´ë³´ë©´ ì„œë¹„ìŠ¤ë¼ê³  í•´ì„œ í•­ìƒ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ, ë°°í¬, ìš´ì˜í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë©°, ê²°í•©ëœ ì •ë„ì— ë§ê²Œ ì¡°ì •í•´ì•¼í•œë‹¤.\nì•¼ì˜¹ì´ ë¬¸ì œ ì´ì „ì— ì˜ˆì‹œë¡œ ë“¤ì—ˆë˜ íƒì‹œ í†µí•© ì‹œìŠ¤í…œì„ ìˆ˜ë§ì€ ì‘ì€ ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•í–ˆë‹¤.\nì´ëŸ¬í•œ ì•„í‚¤í…ì²˜ì—ì„œ ì•¼ì˜¹ì´ ë°°ë‹¬ ì„œë¹„ìŠ¤ë¥¼ ëŸ°ì¹­í•˜ê² ë‹¤ê³  ê°€ì •í•œë‹¤.\nìš”êµ¬ì‚¬í•­\nì‚¬ìš©ìëŠ” ì§‘ì´ë‚˜ ì‚¬ë¬´ì‹¤ë¡œ ì•¼ì˜¹ì´ë¥¼ ë°°ë‹¬í•´ë‹¬ë¼ê³  ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤. ì•¼ì˜¹ì´ë¥¼ íƒœìš¸ ë‹¤ìˆ˜ì˜ ìŠ¹ì°¨ ì§€ì ì„ ì„¤ì •í•´ì•¼í•œë‹¤. ìŠ¹ì°¨ ì§€ì  ì¤‘ í•œ ê³³ì—ì„œ ì•¼ì˜¹ì´ë¥¼ íƒœìš´ í›„, ì˜¬ë°”ë¥¸ ì£¼ë¡œì†Œ ì•¼ì˜¹ì´ë¥¼ ë°°ë‹¬í•´ì•¼í•œë‹¤. ì œì•½ì‚¬í•­\nìš´ì „ìê°€ ê³ ì–‘ì´ ì•ŒëŸ¬ì§€ê°€ ìˆëŠ” ê²½ìš° í•´ë‹¹ ìš´ì „ìëŠ” ì´ ì„œë¹„ìŠ¤ì—ì„œ ì œì™¸ë˜ì–´ì•¼í•œë‹¤. ì¼ë°˜ íƒì‹œ ìŠ¹ê°ì´ ì•ŒëŸ¬ì§€ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë°°ì°¨ë¥¼ ì‹ ì²­í•œ ê³ ê°ì´ ì•ŒëŸ¬ì§€ê°€ ìˆë‹¤ë©´, ì•¼ì˜¹ì´ë¥¼ ë°°ë‹¬í–ˆë˜ ì°¨ëŸ‰ì€ ë°°ì°¨ì—ì„œ ì œì™¸í•œë‹¤. ì„œë¹„ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì„ ì‚´í´ë´¤ì„ ë•Œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ì€ ëª¨ë‘ ê²°í•©ë˜ì–´ ìˆì–´ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ê³  ë°°í¬í•˜ê±°ë‚˜ ìœ ì§€í•  ìˆ˜ ì—†ë‹¤.\në”°ë¼ì„œ ì•¼ì˜¹ì´ ë°°ë‹¬ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë ¤ë©´ êµ¬ì„±ëœ ëª¨ë“  ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤.\nì´ëŠ” íš¡ë‹¨ ê´€ì‹¬ì‚¬(Cross-Cutting Concern)ê°€ ì§€ë‹Œ ë¬¸ì œë¡œ ê¸°ëŠ¥ì  ë¶„í•´ëŠ” ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ê¸°ëŠ¥ì  í–‰ìœ„ë¥¼ íš¡ë‹¨í•˜ëŠ” ìƒí™©ì—ì„œ ë§¤ìš° ì·¨ì•½í•˜ë‹¤.\nê°ì²´ê°€ êµ¬ì¶œí•˜ë‹¤ SOLID ì„¤ê³„ì›ì¹™ì—ì„œ, ë‹¤í–¥ì ìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ ì§‘í•©ì„ ìƒì„±í•´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤.\nì´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ì „ëµì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nì›ë˜ ì„œë¹„ìŠ¤ ë¡œì§ ì¤‘ ëŒ€ë‹¤ìˆ˜ê°€ ì´ ê°ì²´ ëª¨ë¸ì˜ ê¸°ë°˜ í´ë˜ìŠ¤ë“¤ ë‚´ë¶€ë¡œ ë…¹ì•„ë“¤ì—ˆë‹¤.\në°°ì°¨ì— íŠ¹í™”ëœ ë¡œì§ ë¶€ë¶„ì€ Rides ì»´í¬ë„ŒíŠ¸ë¡œ ì¶”ì¶œë˜ì—ˆë‹¤. ì•¼ì˜¹ì´ì— ëŒ€í•œ ì‹ ê·œ ê¸°ëŠ¥ì€ Kittens ì»´í¬ë„ŒíŠ¸ì— ë“¤ì–´ìˆë‹¤. ì´ ë‘ ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤ì— ìˆëŠ” ì¶”ìƒ ê¸°ë°˜ í´ë˜ìŠ¤ë¥¼ í…œí”Œë¦¿ ë©”ì„œë“œë‚˜ ì „ëµ íŒ¨í„´ ë“±ì„ ì´ìš©í•´ì„œ ì˜¤ë²„ë¼ì´ë“œí•œë‹¤. ì‹ ê·œ ì»´í¬ë„ŒíŠ¸ Rides, Kittensê°€ ì˜ì¡´ì„± ê·œì¹™ì„ ì¤€ìˆ˜í•œë‹¤. ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ë“¤ì€ UIì˜ ì œì–´ í•˜ì— íŒ©í† ë¦¬ê°€ ìƒì„±í•œë‹¤. ì´ ì „ëµì„ ë”°ë¥´ë”ë¼ë„ ì•¼ì˜¹ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ë©´ TaxiUIëŠ” ë³€ê²½í•´ì•¼ í•˜ì§€ë§Œ, ê·¸ ì™¸ì˜ ê²ƒë“¤ì€ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤.\në”°ë¼ì„œ ì•¼ì˜¹ì´ ê¸°ëŠ¥ì€ ê²°í•©ì´ ë¶„ë¦¬ë˜ë©°, ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ì—¬ ë°°í¬í•  ìˆ˜ ìˆë‹¤.\nì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì„œë¹„ìŠ¤ ì„œë¹„ìŠ¤ê°€ ë°˜ë“œì‹œ ì†Œê·œëª¨ ë‹¨ì¼ì²´(monolith)ì¼ ì´ìœ ëŠ” ì—†ë‹¤.\nì„œë¹„ìŠ¤ëŠ” SOLID ì›ì¹™ëŒ€ë¡œ ì„¤ê³„í•  ìˆ˜ ìˆìœ¼ë©° ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë¥¼ ê°–ì¶œ ìˆ˜ë„ ìˆë‹¤.\njavaì˜ ê²½ìš° ì„œë¹„ìŠ¤ë¥¼ í•˜ë‚˜ ì´ìƒì˜ jar íŒŒì¼ì— í¬í•¨ë˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë“¤ì˜ ì§‘í•©ì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤.\nìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ í˜¹ì€ ê¸°ëŠ¥ í™•ì¥ì€ ê¸°ì¡´ jar íŒŒì¼ì— ì •ì˜ëˆ ì¶”ìƒ í´ë˜ìŠ¤ë“¤ì„ í™•ì¥í•˜ì—¬ ìƒˆë¡œìš´ jar íŒŒì¼ë¡œ ë§Œë“ ë‹¤ë©´, ìƒˆë¡œìš´ ê¸°ëŠ¥ ë°°í¬ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì¬ë°°í¬í•˜ëŠ” ë¬¸ì œê°€ ì•„ë‹ˆë¼, ì„œë¹„ìŠ¤ë¥¼ ë¡œë“œí•˜ëŠ” ê²½ë¡œì— ë‹¨ìˆœíˆ ìƒˆë¡œìš´ jar íŒŒì¼ì„ ì¶”ê°€í•˜ëŠ” ë¬¸ì œê°€ ëœë‹¤.\nê° ì„œë¹„ìŠ¤ì˜ ë‚´ë¶€ëŠ” ìì‹ ë§Œì˜ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ë¡œ ë˜ì–´ ìˆì–´ì„œ íŒŒìƒ í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ë°©ì‹ìœ¼ë¡œ ì‹ ê·œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\níš¡ë‹¨ ê´€ì‹¬ì‚¬ ì•„í‚¤í…ì²˜ ê²½ê³„ëŠ” ì„œë¹„ìŠ¤ ì‚¬ì´ì— ìˆì§€ ì•Šê³  ì˜¤íˆë ¤ ì„œë¹„ìŠ¤ë¥¼ ê´€í†µí•˜ë©°, ì„œë¹„ìŠ¤ë¥¼ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„í• í•œë‹¤.\nëª¨ë“  ì£¼ìš” ì‹œìŠ¤í…œì´ ì§ë©´í•˜ëŠ” íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´, ì„œë¹„ìŠ¤ ë‚´ë¶€ëŠ” ì˜ì¡´ì„± ê·œì¹™ë„ ì¤€ìˆ˜í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ë¡œ ì„¤ê³„í•´ì•¼í•œë‹¤.\nì„œë¹„ìŠ¤ë“¤ì€ ì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©°, ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì€ ì„œë¹„ìŠ¤ ë‚´ì— ìœ„ì¹˜í•œ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\nê²°ë¡  ì„œë¹„ìŠ¤ëŠ” ì‹œìŠ¤í…œì˜ í™•ì •ì„±ê³¼ ê°œë°œ ê°€ëŠ¥ì„± ì¸¡ë©´ì—ì„œ ìœ ìš©í•˜ì§€ë§Œ, ê·¸ ìì²´ë¡œëŠ” ì•„í‚¤í…ì²˜ì ìœ¼ë¡œ ê·¸ë¦¬ ì¤‘ìš”í•œ ìš”ì†ŒëŠ” ì•„ë‹ˆë‹¤.\nì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ëŠ” êµ¬ì„± ìš”ì†Œê°€ í†µì‹ í•˜ê³  ì‹¤í–‰ë˜ëŠ” ë¬¼ë¦¬ì ì¸ ë§¤ì»¤ë‹ˆì¦˜ì— ì˜í•´ ì•„í‚¤í…ì²˜ê°€ ì •ì˜ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ì‹œìŠ¤í…œ ë‚´ë¶€ì— ê·¸ì–´ì§„ ê²½ê³„ì™€ ê²½ê³„ë¥¼ ë„˜ë‚˜ë“œëŠ” ì˜ì¡´ì„±ì— ì˜í•´ ì •ì˜ëœë‹¤.\nì„œë¹„ìŠ¤ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì•„ì¼€í…ì²˜ ê²½ê³„ë¡œ ë‘˜ëŸ¬ì‹¸ì¸ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ ì•„í‚¤í…ì²˜ ê²½ê³„ë¡œ ë¶„ë¦¬ëœ ë‹¤ìˆ˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±í•  ìˆ˜ë„ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë¹„ìŠ¤ê°€ ê°•í•˜ê²Œ ê²°í•©ë˜ì–´ ì•„í‚¤í…ì²˜ì ìœ¼ë¡œ ì•„ë¬´ëŸ° ì˜ë¯¸ê°€ ì—†ì„ ë•Œë„ ìˆë‹¤. ","date":"2024-04-15T17:13:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/27/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/27/","title":"27. í¬ê³  ì‘ì€ ëª¨ë“  ì„œë¹„ìŠ¤ë“¤"},{"content":"ëª¨ë“  ì‹œìŠ¤í…œì—ëŠ” ìµœì†Œí•œ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ì¡´ì¬í•˜ì—¬ ë‚˜ë¨¸ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±, ì¡°ì •, ê´€ë¦¬í•˜ëŠ”ë° ì´ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë©”ì¸ ì»´í¬ë„ŒíŠ¸ë¼ í•œë‹¤.\nê¶ê·¹ì ì¸ ì„¸ë¶€ì‚¬í•­ ë©”ì¸ ì»´í¬ë„ŒíŠ¸ëŠ” ê¶ê·¹ì ì¸ ì„¸ë¶€ì‚¬í•­ìœ¼ë¡œ, ê°€ì¥ ë‚®ì€ ìˆ˜ì¤€ì˜ ì •ì±…ì´ë‹¤.\nì‹œìŠ¤í…œì˜ ì´ˆê¸° ì§„ì…ì ì´ë‹¤. ìš´ì˜ì²´ì œë¥¼ ì œì™¸í•˜ë©´ ì–´ë–¤ ê²ƒë„ ë©”ì¸ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤. ë©”ì¸ì€ ëª¨ë“  íŒ©í† ë¦¬(Factory)ì™€ ì „ëµ(Strategy), ì‹œìŠ¤í…œ ì „ë°˜ì„ ë‹´ë‹¹í•˜ëŠ” ë‚˜ë¨¸ì§€ ê¸°ë°œ ì„¤ë¹„ë¥¼ ìƒì„±í•œ í›„, ì‹œìŠ¤í…œì—ì„œ ë” ë†’ì€ ìˆ˜ì¤€ì„ ë‹´ë‹¹í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ ì œì–´ê¶Œì„ ë„˜ê¸´ë‹¤.\nì˜ì¡´ì„± ì£¼ì… í”„ë ˆì„ì›Œí¬ë¥¼ ì´ìš©í•´ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ëŠ” ì¼ì€ ë©”ì¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì´ë¤„ì ¸ì•¼ í•œë‹¤.\në©”ì¸ì— ì˜ì¡´ì„±ì´ ì£¼ì…ë˜ê³  ë‚˜ë©´, ì˜ì¡´ì„± ì£¼ì… í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ì¼ë°˜ì ì¸ ë°©ì‹ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ë¶„ë°°í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 public static void main(String[] args) throws IOException { game=HtwFactory.makeGame(\u0026#34;htw.game.HuntTheWumpusFacade\u0026#34;, new Main()); createMap(); BufferdReader br=new BufferedReader(new InputStreamReader(System.in)); game.makeRestCommand().excute(); while(true){ System.out.println(game.getPlayerCavern()); System.out.println(\u0026#34;Health: \u0026#34; + hitPoints + \u0026#34; arrows: \u0026#34; + game.getQuiver()); HuntTheWumpus.Command c = game.makeRestCommand(); System.out.println(\u0026#34;\u0026gt;\u0026#34;); String command = br.readLine(); if(command.equalsIgnoreCase(\u0026#34;e\u0026#34;)) c = game.makeMoveCommand(EAST); else if(command.equalsIgnoreCase(\u0026#34;w\u0026#34;)) c = game.makeMoveCommand(WEST); else if(command.equalsIgnoreCase(\u0026#34;n\u0026#34;)) c = game.makeMoveCommand(NORTH); else if(command.equalsIgnoreCase(\u0026#34;s\u0026#34;)) c = game.makeMoveCommand(SOUTH); else if(command.equalsIgnoreCase(\u0026#34;r\u0026#34;)) c = game.makeMoveCommand(); else if(command.equalsIgnoreCase(\u0026#34;sw\u0026#34;)) c = game.makeMoveCommand(WEST); else if(command.equalsIgnoreCase(\u0026#34;se\u0026#34;)) c = game.makeMoveCommand(EAST); else if(command.equalsIgnoreCase(\u0026#34;sn\u0026#34;)) c = game.makeMoveCommand(EAST); else if(command.equalsIgnoreCase(\u0026#34;ss\u0026#34;)) c = game.makeMoveCommand(SOUTH); else if(command.equalsIgnoreCase(\u0026#34;q\u0026#34;)) return; c.excute(); } } HtwFactoryë¥¼ ì‚¬ìš©í•˜ì—¬ ê²Œì„ì„ ìƒì„±í•  ë•Œ, htw.game.HuntTheWumpusFacadeë¼ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì„ ë¬¸ìì—´ë¡œ ì „ë‹¬í•˜ëŠ”ë°, ì´ëŠ” ì´ í´ë˜ìŠ¤ê°€ ë³€ê²½ì´ ë§¤ìš° ë§ì€ ì§€ì €ë¶„í•œ í´ë˜ìŠ¤ì´ë¯€ë¡œ, ë¬¸ìì—´ì„ í†µí•´ ì°¸ì¡°í•˜ë„ë¡ í•˜ì—¬ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ì•Šê²Œ í•˜ì—¬ ë³€ê²½ì´ ìƒê²¨ë„ ë©”ì¸ì„ ì¬ì»´íŒŒì¼/ì¬ë°°í¬í•˜ì§€ ì•Šê²Œ ë§Œë“¤ê¸° ìœ„í•¨ì´ë‹¤.\nì…ë ¥ ìŠ¤í‹°ë¦„ ìƒì„± ë¶€ë¶„, ê²Œì„ì˜ ë©”ì¸ ë£¨í”„ ì²˜ë¦¬, ê°„ë‹¨í•œ ì…ë ¥ ëª…ë ¹ì–´ í•´ì„ ë“±ì€ ëª¨ë‘ main()ì—ì„œ ì²˜ë¦¬í•˜ì§€ë§Œ, ëª…ë ¹ì–´ë¥¼ ì‹¤ì œë¡œ ì²˜ë¦¬í•˜ëŠ” ì¼ì€ ë‹¤ë¥¸ ê³ ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ë¡œ ìœ„ì„í•œë‹¤.\në©”ì¸ì€ í´ë¦° ì•„í‚¤í…ì²˜ì—ì„œ ê°€ì¥ ë°”ê¹¥ ì›ì— ìœ„ì¹˜í•˜ëŠ”, ì§€ì €ë¶„í•œ ì €ìˆ˜ì¤€ ëª¨ë“ˆì´ë‹¤.\në©”ì¸ì€ ê³ ìˆ˜ì¤€ì˜ ì‹œìŠ¤í…œì„ ìœ„í•œ ëª¨ë“  ê²ƒì„ ë¡œë“œí•œ í›„, ì œì–´ê¶Œì„ ê³ ìˆ˜ì¤€ì˜ ì‹œìŠ¤í…œì—ê²Œ ë„˜ê¸´ë‹¤.\nê²°ë¡  ë©”ì¸ì„ ì´ˆê¸° ì¡°ê±´ê³¼ ì„±ì •ì„ êµ¬ì„±í•˜ê³ , ì™¸ë¶€ ìì›ì„ ëª¨ë‘ ìˆ˜ì§‘í•œ í›„ ì œì–´ê¶Œì„ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê³ ìˆ˜ì¤€ ì •ì±…ìœ¼ë¡œ ë„˜ê¸°ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ë‹¤.\në©”ì¸ì€ í”ŒëŸ¬ê·¸ì¸ì´ë¯€ë¡œ ë©”ì¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„¤ì •ë³„ë¡œ í•˜ë‚˜ì”© ë‘ë¡œë¡ í•˜ì—¬ ë‘˜ ì´ìƒì˜ ë©”ì¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.\nê°œë°œìš© ë©”ì¸ í”ŒëŸ¬ê·¸ì¸ í…ŒìŠ¤íŠ¸ìš© ë©”ì¸ í”ŒëŸ¬ê·¸ì¸ êµ­ê°€ë³„ í”ŒëŸ¬ê·¸ì¸ ê´€í•  ì˜ì—­ ë³„ í”ŒëŸ¬ê·¸ì¸ ê³ ê°ë³„ í”ŒëŸ¬ê·¸ì¸ ë“± ë©”ì¸ì„ í”ŒëŸ¬ê·¸ì¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì—¬ê¸°ê³  ì•„í‚¤í…ì²˜ ê²½ê³„ ë°”ê¹¥ì— ìœ„ì¹˜í•œë‹¤ê³  ë³´ë©´ ì„¤ì • ê´€ë ¨ ë¬¸ì œë¥¼ í›¨ì”¬ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\n","date":"2024-04-15T16:48:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/26/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/26/","title":"26. ë©”ì¸ ì»´í¬ë„ŒíŠ¸"},{"content":"ë‹¨ìˆœí•œ ì‹œìŠ¤í…œì—ì„œëŠ” UI, ì—…ë¬´ ê·œì¹™, ë°ì´í„°ë² ì´ìŠ¤ ì»´í¬ë„ŒíŠ¸ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ì§€ë§Œ, ëŒ€ë‹¤ìˆ˜ì˜ ì‹œìŠ¤í…œì—ì„œ ì»´í¬ë„ŒíŠ¸ì˜ ê°œìˆ˜ëŠ” ì´ë³´ë‹¤ í›¨ì”¬ ë§ë‹¤.\nì´ì— ë”°ë¼ ì»´í¬ë„ŒíŠ¸ê°„ ê²½ê³„ë„ í›¨ì”¬ ë§ì´ì§ˆ ìˆ˜ ë°–ì— ì—†ë‹¤.\nì•„í‚¤í…ì²˜ ê²½ê³„ëŠ” ì–´ë””ì—ë‚˜ ì¡´ì¬í•˜ë©°, ì•„í‚¤í…íŠ¸ëŠ” ì•„í‚¤í…ì²˜ ê²½ê³„ê°€ ì–¸ì œ í•„ìš”í•œì§€ë¥¼ ì‹ ì¤‘í•˜ê²Œ íŒŒì•…í•´ë‚´ì•¼í•œë‹¤.\nì´ëŸ¬í•œ ê²½ê³„ë¥¼ ì œëŒ€ë¡œ êµ¬í˜„í•˜ëŠ” ë¹„ìš©ì€ í¬ë©°, ê²½ê³„ê°€ ë¬´ì‹œë˜ì—ˆë‹¤ë©´ ë‚˜ì¤‘ì— ë‹¤ì‹œ ì¶”ê°€í•˜ëŠ” ë¹„ìš©ë„ ë§¤ìš° í¬ë‹¤.\nì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§ì´ ì–¸ë” ì—”ì§€ë‹ˆì–´ë§ë³´ë‹¤ ë‚˜ì  ë•Œê°€ í›¨ì”¬ ë§ìœ¼ë¯€ë¡œ XPì˜ ì›ì¹™ì¸ YAGNIê°€ ë§í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ì¶”ìƒí™”ê°€ í•„ìš”í•˜ë¦¬ë¼ê³  ë¯¸ë¦¬ ì˜ˆì¸¡í•´ì„œëŠ” ì•ˆ ëœë‹¤.\ní•˜ì§€ë§Œ, ê²½ê³„ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìƒí™©ì—ì„œ ê²½ê³„ê°€ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹³ê³  ì¶”ê°€í•˜ë ¤ë©´ ë¹„ìš©ì´ ë§¤ìš° ë§ì´ ë“¤ê³  í° ìœ„í—˜ì„ ê°ìˆ˜í•´ì•¼í•œë‹¤.\nì´ì²˜ëŸ¼ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ëŠ” ì—¬ëŸ¬ ìƒí™©ë“¤ì„ ì ì ˆíˆ ê³ ë ¤í•˜ì—¬ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì–´ë–»ê²Œ ë°œì „í• ì§€ ì˜ˆì¸¡í•´ì•¼í•œë‹¤.\nì´ë¥¼ í†µí•´ ì™„ë²½í•˜ê²Œ êµ¬í˜„í•  ê²½ê³„ì™€ ë¶€ë¶„ì ìœ¼ë¡œ êµ¬í˜„í•  ê²½ê³„, ë¬´ì‹œí•  ê²½ê³„ê°€ ë¬´ì—‡ì¸ì§€ ê²°ì •í•´ì•¼ë§Œ í•œë‹¤.\nê·¸ë ‡ì§€ë§Œ í”„ë¡œì íŠ¸ ì´ˆë°˜ì—ëŠ” ê²½ê³„ë¥¼ ì‰½ê²Œ ê²°ì •í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í•œë²ˆì— ì •í•´ì§€ëŠ” ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ, ì‹œìŠ¤í…œì´ ë°œì „í•¨ì— ë”°ë¼ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼í•œë‹¤.\nê²½ê³„ê°€ í•„ìš”í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì— ì£¼ëª©í•œë‹¤. ê²½ê³„ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ ìƒê¸°ëŠ” ë§ˆì°°ì˜ ì²« ì¡°ì§ì„ ì‹ ì¤‘í•˜ê²Œ ê´€ì°°í•œë‹¤. ê²½ê³„ë¥¼ êµ¬í˜„í•˜ëŠ” ë¹„ìš©ê°€ ë¬´ì‹œí•  ë•Œ ê°ìˆ˜í•  ë¹„ìš©ì„ ê°€ëŠ í•´ë³¸ë‹¤. ê²°ì •ëœ ì‚¬í•­ì„ ìì£¼ ê²€í† í•œë‹¤. ê²½ê³„ì˜ êµ¬í˜„ ë¹„ìš©ì´ ê·¸ê²ƒì„ ë¬´ì‹œí•˜ì—¬ ìƒê¸°ëŠ” ë¹„ìš©ë³´ë‹¤ ì ì–´ì§€ëŠ” ì‹œì ì— ê²½ê³„ë¥¼ êµ¬í˜„í•´ì•¼í•˜ë©°, ì ì ˆí•œ ì‹œì ì— ê²½ê³„ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë¹ˆí‹ˆì—†ì´ ì§€ì¼œë´ì•¼í•œë‹¤.\n","date":"2024-04-04T09:16:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/25/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/25/","title":"25. ê³„ì¸µê³¼ ê²½ê³„"},{"content":"ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ì™„ë²½í•˜ê²Œ ë§Œë“œëŠ” ë°ëŠ” ì—„ì²­ë‚œ ë…¸ë ¥ì„ ê¸°ìœ¨ì—¬ì•¼ í•˜ê³ , ìœ ì§€í•˜ëŠ” ë°ë„ ì—„ì²­ë‚œ ë…¸ë ¥ì´ ë“ ë‹¤.\nìŒë°©í–¥ì˜ ë‹¤í˜•ì  Boundary ì¸í„°í˜ì´ìŠ¤ Input, Outputì„ ìœ„í•œ ë°ì´í„° êµ¬ì¡° ë‘ ì˜ì—­ì„ ë…ë¦½ì ìœ¼ë¡œ ì»´íŒŒì¼í•˜ê³  ë°°í¬í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ê²©ë¦¬í•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  ì˜ì¡´ì„± ê´€ë¦¬ ë§ì€ ê²½ìš°ì— ì´ëŸ¬í•œ ê²½ê³„ë¥¼ ë§Œë“œëŠ” ë¹„ìš©ì´ í¬ë‹¤ê³  íŒë‹¨í•˜ë©´ì„œë„, í•„ìš”í•œ ì‘ì—…ë§Œ í•´ì•¼í•œë‹¤ëŠ” XP ì›ì¹™ì¸ YAGNI(You Aren\u0026rsquo;t going to Need It)ì„ ìœ„ë°°í•˜ë©° ë‚˜ì¤‘ì— í•„ìš”í•  ê²ƒì´ë¼ ì˜ˆìƒëŒ€ëŠ” ê²ƒë“¤ì— ëŒ€í•œ ëŒ€ë¹„í•˜ê¸¸ ì›í•œë‹¤.\nì´ë ‡ê²Œ í•„ìš”í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ê²ƒì„ ê¼­ ëŒ€ë¹„í•´ì•¼ í•œë‹¤ë©´ ì™„ë²½í•œ ê²½ê³„ê°€ ì•„ë‹Œ ë¶€ë¶„ì  ê²½ê³„(Patial boundary)ë¥¼ í™œìš©í•´ ë³¼ ìˆ˜ ìˆë‹¤.\në§ˆì§€ë§‰ ë‹¨ê³„ë¥¼ ê±´ë„ˆ ë›°ê¸° ë…ë¦½ì ìœ¼ë¡œ ì»´íŒŒì¼í•˜ê³  ë°°í¬í•  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ì‘ì—…ì€ ëª¨ë‘ ìˆ˜í–‰í•œ í›„, ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ì— ê·¸ëŒ€ë¡œ ëª¨ì•„ë§Œ ë‘ëŠ” ë°©ë²•ì´ë‹¤.\nì¥ì \në‹¤ìˆ˜ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ê´€ë¦¬í•˜ëŠ” ì‘ì—…ì„ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ì¶”ì ì„ ìœ„í•œ ë²„ì „ ë²ˆí˜¸ë„ í•„ìš”ì—†ë‹¤. ë°°í¬ ê´€ë¦¬ ë¶€ë‹´ì´ ì—†ë‹¤. ë‹¨ì \në¶€ë¶„ì  ê²½ê³„ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì™„ë²½í•œ ê²½ê³„ë¥¼ ë§Œë“¤ ë•Œ ë§Œí¼ì˜ ì½”ë“œëŸ‰ê³¼ ì‚¬ì „ ì„¤ê³„ê°€ í•„ìš”í•˜ë‹¤. ì‹œê°„ì´ íë¥´ë©° ë³„ë„ë¡œ ë¶„ë¦¬í•œ ì»´í¬ë„ŒíŠ¸ê°€ ì¬ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì´ ì „í˜€ ì—†ì„ ê²ƒì„ì´ ëª…ë°±í•´ì§€ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì‹œê°„ì´ íë¥´ë©° ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ êµ¬ë¶„ì´ ì ì  ì•½í™”ëœë‹¤. ì¼ì°¨ì› ê²½ê³„ ì™„ë²½í•œ í˜•íƒœì˜ ì•„í‚¤í…ì²˜ ê²½ê³„ëŠ” ì–‘ë°©í–¥ìœ¼ë¡œ ê²©ë¦¬ëœ ìƒíƒœë¥¼ ìœ ì§€í•´ì•¼ í•˜ë¯€ë¡œ ìŒë°©í–¥ Boundary ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ëŸ¬í•œ í˜•íƒœëŠ” ì´ˆê¸° ì„¤ì •í•  ë•Œë‚˜ ì§€ì†ì ìœ¼ë¡œ ìœ ì§€í•  ë•Œë„ ë¹„ìš©ì´ ë§ì´ ë“ ë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ì¶”í›„ ì™„ë²½í•œ í˜•íƒœì˜ ê²½ê³„ë¡œ í™•ì¥í•  ìˆ˜ ìˆëŠ” ê³µê°„ì„ í™•ë³´í•˜ê³ ì í•  ë•Œ, ì „í†µì ì¸ ì „ëµ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ êµ¬ì¡°ë¥¼ í™œìš©í•´ ë³¼ ìˆ˜ ìˆë‹¤.\nClientë¥¼ ServiceImplë¡œ ë¶€í„° ê²©ë¦¬ì‹œí‚¤ëŠ” ë° í•„ìš”í•œ ì˜ì¡´ì„± ì—­ì „ì´ ì ìš©ë˜ì—ˆê¸° ë•Œë¬¸ì— ë¯¸ë˜ì— í•„ìš”í•œ ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ëŒ€ë¹„í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì´ëŸ¬í•œ í˜•íƒœì˜ ë¶„ë¦¬ëŠ” ìŒë°©í–¥ ì¸í„°í˜ì´ìŠ¤ê°€ ì—†ê³  ê°œë°œìì™€ ì•„í‚¤í…íŠ¸ì˜ ëŠ¥ë ¥ì— ë”°ë¼, ì ì„ ê³¼ ê°™ì€ ë¹„ë°€ í†µë¡œê°€ ìƒê¸°ëŠ” ì¼ì„ ë§‰ì„ ë°©ë²•ì´ ì—†ë‹¤.\ní¼ì‚¬ë“œ ë” ë‹¨ìˆœí•œ ê²½ê³„ëŠ” í¼ì‚¬ë“œ íŒ¨í„´ìœ¼ë¡œ, ì´ ê²½ìš°ì—ëŠ” ì˜ì¡´ì„± ì—­ì „ê¹Œì§€ í¬ìƒí•œë‹¤.\nê²½ê³„ëŠ” Facade í´ë˜ìŠ¤ë¡œë§Œ ê°„ë‹¨íˆ ì „ì˜ë˜ë©°, ëª¨ë“  ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ë©”ì„œë“œ í˜•íƒœë¡œ ì •ì˜í•˜ê³ , ì„œë¹„ìŠ¤ í˜¸ì¶œì´ ë°œìƒí•˜ë©´ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¡œ í˜¸ì¶œì„ ì „ë‹¬í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ì§€ë§Œ, Clientê°€ ì´ ëª¨ë“  ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì— ëŒ€í•´ ì¶”ì´ ì¢…ì†ì„±ì„ ê°€ì§€ê²Œ ëœë‹¤.\nì¶”ì´ ì¢…ì†ì„±\nA ëª¨ë“ˆì´ B ëª¨ë“ˆì— ì˜ì¡´í•˜ê³ , B ëª¨ë“ˆì´ C ëª¨ë“ˆì— ì˜ì¡´í•œë‹¤ê³  ê°€ì •í•  ë•Œ, A ëª¨ë“ˆì€ ì§ì ‘ì ìœ¼ë¡œëŠ” C ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•Šì§€ë§Œ, B ëª¨ë“ˆì„ í†µí•´ C ëª¨ë“ˆì— ê°„ì ‘ì ìœ¼ë¡œ ì˜ì¡´í•˜ëŠ” í˜•íƒœ\nê²°ë¡  ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ë¶€ë¶„ì ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ ë§ë‹¤.\nì´ëŸ¬í•œ ì ‘ê·¼ë²•ì€ ê°ê° ë‚˜ë¦„ì˜ ë¹„ìš©ê³¼ ì¥ì ì„ ì§€ë‹ˆë©°, ì™„ë²½í•œ í˜•íƒœì˜ ê²½ê³„ë¥¼ ë‹´ê¸° ìœ„í•œ ê³µê°„ìœ¼ë¡œì¨ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒí™©ì´ ì„œë¡œ ë‹¤ë¥´ë‹¤.\në¶€ë¶„ì ì¸ ê²½ê³„ëŠ” ì¶”í›„ì— ì™„ë²½í•œ í˜•íƒœì˜ ê²½ê³„ê°€ ì‹¤ì œë¡œ êµ¬ì²´í™”ë˜ì§€ ì•Šìœ¼ë©´ ê°€ì¹˜ê°€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\n","date":"2024-04-04T08:49:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/24/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/24/","title":"24. ë¶€ë¶„ì  ê²½ê³„"},{"content":"\ní”„ë ˆì  í„°ëŠ” í—˜ë¸” ê°ì²´(Humble Object) íŒ¨í„´ì„ ë”°ë¥¸ í˜•íƒœë¡œ, ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ì‹ë³„í•˜ê³  ë³´í˜¸í•˜ëŠ” ë° ë„ì›€ì´ ëœë‹¤.\ní—˜ë¸” ê°ì²´ íŒ¨í„´ í—˜ë¸” ê°ì²´ íŒ¨í„´ì€ ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ, í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ í–‰ìœ„ì™€ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ í–‰ìœ„ë¥¼ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±ìê°€ ë¶„ë¦¬í•˜ê¸° ì‰½ê²Œ í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ê³ ì•ˆë˜ì—ˆë‹¤.\ní–‰ìœ„ë“¤ì„ ë‘ ê°œì˜ ëª¨ë“ˆ ë˜ëŠ” í´ë˜ìŠ¤ë¡œ ë‚˜ëˆˆë‹¤. ê°€ì¥ ê¸°ë³¸ì ì¸ ë³¸ì§ˆì€ ë‚¨ê¸°ê³ , í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ í–‰ìœ„ë¥¼ ëª¨ë‘ í—˜ë¸” ê°ì²´ë¡œ ì˜®ê¸´ë‹¤. ë‚˜ë¨¸ì§€ ëª¨ë“ˆì—ëŠ” í—˜ë¸” ê°ì²´ì— ì†í•˜ì§€ ì•Šì€, í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ í–‰ìœ„ë¥¼ ëª¨ë‘ ì˜®ê¸´ë‹¤. í”„ë ˆì  í„°ì™€ ë·° GUIëŠ” í™”ë©´ì—ì„œ ê° ìš”ì†Œê°€ í•„ìš”í•œ ìœ„ì¹˜ì— ì ì ˆíˆ í‘œì‹œë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•´ì•¼í•˜ë¯€ë¡œ ì‘ì„±í•˜ê¸° ì–´ë ¤ìš´ ë°˜ë©´, GUIì—ì„œ ìˆ˜í–‰í•˜ëŠ” í–‰ìœ„ì˜ ëŒ€ë‹¤ìˆ˜ëŠ” ì‰½ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.\ní—˜ë¸” ê°ì²´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ë‘ ë¶€ë¥˜ì˜ í–‰ìœ„ë¥¼ ë¶„ë¦¬í•˜ì—¬ í”„ë ˆì  í„°ì™€ ë·°ë¼ëŠ” ì„œë¡œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\në·°\në·°ëŠ” ë°ì´í„°ë¥¼ GUIë¡œ ì´ë™ì‹œí‚¤ì§€ë§Œ, ë°ì´í„°ë¥¼ ì§ì ‘ ì²˜ë¦¬í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\ní—˜ë¸” ê°ì²´ì´ê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë µë‹¤. í¬í•¨ëœ ì½”ë“œë¥¼ ê°€ëŠ¥í•œ ê°„ë‹¨í•˜ê²Œ ìœ ì§€í•œë‹¤. í”„ë ˆì  í„°\nì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ í™”ë©´ì— í‘œí˜„í•  ìˆ˜ ìˆëŠ” í¬ë©§ìœ¼ë¡œ ë§Œë“ ë‹¤.\në·°ê°€ ë°ì´í„°ë¥¼ ë°›ì•„ í™”ë©´ì— ì „ë‹¬í•˜ëŠ” ê°„ë‹¨í•œ ì¼ë§Œ ì²˜ë¦¬í•˜ë„ë¡ ë§Œë“¤ì–´ì¤€ë‹¤. í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›Œì§„ë‹¤. ë·°ëŠ” ë·° ëª¨ë¸ì˜ ë°ì´í„°ë¥¼ í™”ë©´ìœ¼ë¡œ ë¡œë“œí•  ë¿ì´ë©°, ì´ ì™¸ì— ë·°ê°€ ë§¡ì€ ì—­í• ì€ ì „í˜€ ì—†ê¸° ë•Œë¬¸ì— ë·°ëŠ” ë³´ì˜ê²ƒì—†ë‹¤(Humble)\ní…ŒìŠ¤íŠ¸ì™€ ì•„í‚¤í…ì²˜ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì€ ì¢‹ì€ ì•„í‚¤í…ì²˜ê°€ ì§€ë…€ì•¼ í•  ì†ì„±ìœ¼ë¡œ ì˜¤ë«ë™ì•ˆ ì•Œë ¤ì € ì™”ë‹¤.\ní—˜ë¸” ê°ì²´ íŒ¨í„´ì€ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ ë¶€ë¶„ê³¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ ë¶€ë¶„ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ì •ì˜í•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•˜ë‹¤.\nì¦‰, ì•„í‚¤í…ì²˜ì— í—˜ë¸” ê°ì²´ íŒ¨í„´ì„ ì ì ˆíˆ í™œìš©í•˜ë©´ í”„ë ˆì  í„°ì™€ ë·°ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•œ êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ê²Œì´íŠ¸ì›¨ì´ ìœ ìŠ¤ì¼€ì´ìŠ¤ ì¸í„°ë™í„°ì™€ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê²Œì´íŠ¸ì›¨ì´(ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ëª¨ë“  ë©”ì„œë“œê°€ í¬í•¨)ê°€ ìœ„ì¹˜í•œë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ ë ˆì´ì–´ëŠ” SQLì„ í—ˆìš©í•˜ì§€ ì•Šì•„ì•¼ í•˜ë¯€ë¡œ í•„ìš”í•œ ë©”ì„œë“œë¥¼ ì œê³µí•˜ëŠ” ê²Œì´íŠ¸ì›¨ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ëŠ”ë°, ì´ ë•Œ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´ì— ì¡´ì¬í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ê°€ í—˜ë¸” ê°ì²´ì´ë‹¤.\nì´ì™€ ë‹¬ë¦¬ ì¸í„°ë™í„°ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëœ ì—…ë¬´ ê·œì¹™ì„ ìº¡ìŠí™”í™”ê¸° ë•Œë¬¸ì— í—˜ë¸” ê°ì²´ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ê²Œì´íŠ¸ì›¨ì´ëŠ” ê°€ì§œ ë°ì´í„°(Mock, stub, test-double, fake)ë¥¼ í†µí•´ì„œë„ í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\në°ì´í„° ë§¤í¼ í•˜ì´ë²„ë„¤ì´íŠ¸ì™€ ê°™ì€ ORMì€ ì–´ëŠ ê³„ì¸µì— ì†í•˜ëŠ”ê°€?\nORM ì‹œìŠ¤í…œì€ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´ì— ìœ„ì¹˜í•˜ë©° ê²Œì´íŠ¸ì›¨ì´ ì¸í„°í˜ì´ìŠ¤ì™€ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì˜ ì¼ì¢…ì— ë˜ ë‹¤ë¥¸ í—˜ë¸” ê°ì²´ ê²½ê³„ë¥¼ í˜•ì„±í•œë‹¤.\nì‚¬ìš©ì ê´€ì ì—ì„œ ê°ì²´ëŠ” ê³µê°œëœ ë©”ì„œë“œë§Œ ë³¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë‹¨ìˆœíˆ ì˜¤í¼ë ˆì´ì…˜ì˜ ì§‘í•©ì´ë‹¤. ë°ì´í„° êµ¬ì¡°ëŠ” í•¨ì¶•ëœ í–‰ìœ„ë¥¼ ê°€ì§€ì§€ ì•ŠëŠ” ê³µê°œëœ ë³€ìˆ˜ì˜ ì§‘í•©ì´ë‹¤. ê°ì²´ëŠ” ë°ì´í„° êµ¬ì¡°ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, ì‚¬ì‹¤ ê°ì²´ ê´€ê³„ ë§¤í¼(Object Relational Mapper, ORM)ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ë¡œë¶€í„° ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ë°ì´í„° êµ¬ì¡°ì— ë§ê²Œ ë‹´ì•„ì£¼ëŠ” ì—­í• ì„ ìˆ˜í–‰í•˜ë¯€ë¡œ ì‚¬ì‹¤ ë°ì´í„° ë§¤í¼ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.\nì„œë¹„ìŠ¤ ë¦¬ìŠ¤ë„ˆ ì„œë¹„ìŠ¤ì—ì„œë„ í—˜ë¸” ê°ì²´ íŒ¨í„´ì„ ë°œê²¬í•  ìˆ˜ ìˆë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë°ì´í„°ë¥¼ ê°„ë‹¨í•œ ë°ì´í„° êµ¬ì¡° í˜•íƒœë¡œ ë¡œë“œí•œ í›„, ì´ ë°ì´í„° êµ¬ì¡°ë¥¼ ê²½ê³„ë¥¼ ê±°ìŠ¬ëŸ¬ íŠ¹ì • ëª¨ë“ˆë¡œ ì „ë‹¬í•˜ê³ , ë°ì´í„° êµ¬ì¡°ë¥¼ ì „ë‹¬ë°›ì€ ëª¨ë“ˆì´ ì ì ˆí•œ í¬ë§·ìœ¼ë¡œ ë§Œë“¤ì–´ ì™¸ë¶€ ì„œë¹„ìŠ¤ë¡œ ì „ì†¡í•˜ê²Œ ëœë‹¤.\nì™¸ë¶€ë¡œë¶€í„° ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ì„œë¹„ìŠ¤ëŠ” ì„œë¹„ìŠ¤ ë¦¬ìŠ¤ë„ˆê°€ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ë¡œë¶€í„° ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ê³ , ë°ì´í„°ë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ê°„ë‹¨í•œ ë°ì´í„° êµ¬ì¡°ë¡œ í¬ë§·ì„ ë³€ê²½í•˜ì—¬ ì„œë¹„ìŠ¤ ê²½ê³„ë¥¼ ê°€ë¡œì§ˆëŸ¬ ë‚´ë¶€ë¡œ ì „ë‹¬ëœë‹¤.\nê²°ë¡  ì•„í‚¤í…ì²˜ ê²½ê³„ë§ˆë‹¤ í—˜ë¸” ê°ì²´ íŒ¨í„´ì„ ë°œê²¬í•  ìˆ˜ ìˆë‹¤.\nê²½ê³„ë¥¼ ë„˜ë‚˜ë“œëŠ” í†µì‹ ì€ ê±°ì˜ ëª¨ë‘ ê°„ë‹¨í•œ ë°ì´í„° êµ¬ì¡°ë¥¼ ìˆ˜ë°˜í•  ë•Œê°€ ë§ê³ , ëŒ€ê°œ ê·¸ ê²½ê³„ëŠ” í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ ë¬´ì–¸ê°€ì™€ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ ë¬´ì–¸ê°€ë¡œ ë¶„ë¦¬ëœë‹¤.\nì´ëŸ¬í•œ ì•„í‚¤í…ì²˜ ê²½ê³„ì—ì„œ í—˜ë¸” ê°ì²´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì „ì²´ ì‹œìŠ¤í…œì˜ í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì„ í¬ê²Œ ë†’ì¼ ìˆ˜ ìˆë‹¤.\n","date":"2024-04-03T22:31:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/23/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/23/","title":"23. í”„ë ˆì  í„°ì™€ í—˜ë¸” ê°ì²´"},{"content":" ìœ¡ê°í˜• ì•„í‚¤í…ì²˜(Hexagonal Architecture) DCI(Data, Context and Interaction) BCE(Boundary-Control-Entity) ìœ„ì™€ ê°™ì€ ì•„í‚¤í…ì²˜ë“¤ì˜ ëª©ì ì€ ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬(Separation of concerns)ì´ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê³„ì¸µìœ¼ë¡œ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ë¼ëŠ” ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆì—ˆë‹¤.\nê° ì•„í‚¤í…ì²˜ëŠ” ìµœì†Œí•œ ì—…ë¬´ ê·œì¹™ì„ ìœ„í•œ ê³„ì¸µ í•˜ë‚˜ì™€, ì‚¬ìš©ìì™€ ì‹œìŠ¤í…œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ„í•œ ë˜ ë‹¤ë¥¸ ê³„ì¸µ í•˜ë‚˜ë¥¼ ë°˜ë“œì‹œ í¬í•¨í•˜ë©°, ì‹œìŠ¤í…œì´ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§€ë„ë¡ ë§Œë“ ë‹¤.\ní”„ë ˆì„ì›Œí¬ ë…ë¦½ì„± í…ŒìŠ¤íŠ¸ ìš©ì´ì„± UI ë…ë¦½ì„± ë°ì´í„°ë² ì´ìŠ¤ ë…ë¦½ì„± ëª¨ë“  ì™¸ë¶€ ì—ì´ì „ì‹œì— ëŒ€í•œ ë…ë¦½ì„± ì˜ì¡´ì„± ê·œì¹™ ê·¸ë¦¼ì˜ ê° ë™ì›ì€ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ì„œë¡œ ë‹¤ë¥¸ ì˜ì—­ì„ í‘œí˜„í•˜ëŠ”ë°, ì•ˆìœ¼ë¡œ ë“¤ì–´ê°ˆìˆ˜ë¡ ê³ ìˆ˜ì¤€ì˜ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ëœë‹¤.(ë°”ê¹¥ìª½ì€ ë©”ì»¤ë‹ˆì¦˜, ì•ˆìª½ì€ ì •ì±…)\nì´ëŸ¬í•œ ì•„í‚¤í…ì²˜ê°€ ë™ì‘í•˜ë„ë¡ í•˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ê·œì¹™ì€ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì€ ë°˜ë“œì‹œ ì•ˆìª½ìœ¼ë¡œ, ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì„ í–¥í•´ì•¼ í•œë‹¤ëŠ” ì˜ì¡´ì„± ê·œì¹™(Dependency Rule)ì´ë‹¤.\në‚´ë¶€ì˜ ì›ì— ì†í•œ ìš”ì†ŒëŠ” ì™¸ë¶€ì˜ ì›ì— ì†í•œ ì–´ë–¤ ê²ƒë„ ì•Œì§€ ëª»í•œë‹¤. í•¨ìˆ˜, í´ë˜ìŠ¤, ë³€ìˆ˜, ì—”í‹°í‹° ë“± ì™¸ë¶€ì˜ ì›ì— ì„ ì–¸ëœ ë°ì´í„° í˜•ì‹ë„ ë‚´ë¶€ì˜ ì›ì—ì„œ ì ˆëŒ€ ì‚¬ìš©í•´ì„œëŠ” ì•ˆëœë‹¤. ì™¸ë¶€ ì›ì— ìœ„ì¹˜í•œ ì–´ë–¤ ê²ƒë„ ë‚´ë¶€ ì›ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šì•„ì•¼í•œë‹¤.\nì—”í‹°í‹° ì—”í‹°í‹°ëŠ” ì „ì‚¬ì ì¸ í•µì‹¬ ì—…ë¬´ ê·œì¹™ì„ ìº¡ìŠí™”í•œ ê²ƒì´ë‹¤.(ë‹¨ìˆœí•œ ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì—…ë¬´ ê°ì²´)\në©”ì„œë“œë¥¼ ê°€ì§€ëŠ” ê°ì²´ ì¼ë ¨ì˜ ë°ì´í„° êµ¬ì¡°ì™€ í•¨ìˆ˜ì˜ ì§‘í•© ê¸°ì—…ì˜ ë‹¤ì–‘í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì—”í‹°í‹°ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ë§Œ ìˆë‹¤ë©´, ê·¸ í˜•íƒœëŠ” ê·¸ë‹¤ì§€ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.\nìš´ì˜ ê´€ì ì—ì„œ íŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë¬´ì–¸ê°€ ë³€ê²½ì´ í•„ìš”í•˜ë”ë¼ë„ ì—”í‹°í‹° ê³„ì¸µì—ëŠ” ì ˆëŒ€ë¡œ ì˜í–¥ì„ ì£¼ì–´ì„œëŠ” ì•ˆ ëœë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ ìœ ìŠ¤ì¼€ì´ìŠ¤ ê³„ì¸µì˜ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëœ ì—…ë¬´ ê·œì¹™ì„ í¬í•¨í•˜ë©°, ì‹œìŠ¤í…œì˜ ëª¨ë“  ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ìº¡ìŠí™”í•˜ê³  êµ¬í˜„í•œë‹¤.\nì—”í‹°í‹°ë¡œ ë“¤ì–´ì˜¤ê³  ë‚˜ê°€ëŠ” ë°ì´í„° íë¦„ì„ ì¡°ì •í•œë‹¤. ì—”í‹°í‹°ê°€ ìì‹ ì˜ í•µì‹¬ ì—…ë¬´ ê·œì¹™ì„ ì‚¬ìš©í•´ì„œ ìœ ìŠ¤ì¼€ì´ìŠ¤ì˜ ëª©ì ì„ ë‹¬ì„±í•˜ë„ë¡ ì´ëˆë‹¤. ìœ ìŠ¤ì¼€ì´ìŠ¤ ë ˆì´ì–´ë¥¼ ì˜ ê²©ë¦¬í•˜ì—¬ ë°œìƒí•œ ë³€ê²½ì´ ì—”í‹°í‹°ì— ì˜í–¥ì„ ì¤˜ì„œëŠ” ì•ˆë  ë¿ë§Œ ì•„ë‹ˆë¼, ì™¸ë¶€ ìš”ì†Œì—ì„œ ë°œìƒí•œ ë³€ê²½ì´ ì´ ê³„ì¸µì— ì˜í–¥ì„ ì¤˜ì„œë„ ì•ˆëœë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ ë ˆì´ì–´ëŠ” ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì—ì„œë§Œ ì˜í–¥ì„ ë°›ì•„ì•¼í•œë‹¤.\nìš´ì˜ ê´€ì ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë³€ê²½ë˜ì–´ ìœ ìŠ¤ì¼€ì´ìŠ¤ ìì²´ê°€ ì˜í–¥ì„ ë°›ì€ ê²½ìš° ìœ ìŠ¤ì¼€ì´ìŠ¤ì˜ ì„¸ë¶€ ì‚¬í•­ì´ ë³€ê²½ëœ ê²½ìš° ì¸í„°í˜ì´ìŠ¤ ì–´ëŒ‘í„° ì¸í„°í˜ì´ìŠ¤ ì–´ëŒ‘í„° ë ˆì´ì–´ëŠ” ì¼ë ¨ì˜ ì–´ëŒ‘í„°ë“¤(Controllers, Gateways, Presenters)ë¡œ êµ¬ì„±ëœë‹¤.\nì–´ëŒ‘í„°ëŠ” ë°ì´í„°ë¥¼ ìœ ìŠ¤ì¼€ì´ìŠ¤ì™€ ì—”í‹°í‹°ì—ê²Œ ê°€ì¥ í¸ë¦¬í•œ í˜•ì‹ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ì›¹ ê°™ì€ ì™¸ë¶€ ì—ì´ì „ì‹œì—ê²Œ ê°€ì¥ í¸ë¦¬í•œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•œë‹¤.\nex) GUIì˜ MVC ì•„í‚¤í…ì²˜ ëª¨ë¸ì€ ë°ì´í„° êµ¬ì¡° ì •ë„ì— ì§€ë‚˜ì§€ ì•Šìœ¼ë©°, ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¡œ ì „ë‹¬ë˜ê³ , ë‹¤ì‹œ ìœ ìŠ¤ì¼€ì´ìŠ¤ì—ì„œ í”„ë ˆì  í„°ì™€ ë·°ë¡œ ë˜ëŒì•„ê°„ë‹¤.\nì¸í„°í˜ì´ìŠ¤ ì–´ëŒ‘í„° ë ˆì´ì–´ëŠ” ë°ì´í„°ë¥¼ ì—”í‹°í‹°ì™€ ìœ ìŠ¤ì¼€ì´ìŠ¤ì—ê²Œ ê°€ì¥ í¸ë¦¬í•œ í˜•ì‹ì—ì„œ ì˜ì†ì„±ìš©ìœ¼ë¡œ ì‚¬ìš© ì¤‘ì¸ ì„ì˜ì˜ í”„ë ˆì„ì›Œí¬(ex. DB)ê°€ ì´ìš©í•˜ê¸°ì— ê°€ì¥ í¸ë¦¬í•œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•œë‹¤.\në˜í•œ ë°ì´í„°ë¥¼ ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ì™¸ë¶€ì ì¸ í˜•ì‹ì—ì„œ ìœ ìŠ¤ì¼€ì´ìŠ¤ë‚˜ ì—”í‹°í‹°ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë‚´ë¶€ì ì¸ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì–´ëŒ‘í„°ê°€ í•„ìš”í•˜ë‹¤.\ní”„ë ˆì„ì›Œí¬ì™€ ë“œë¼ì´ë²„ ê°€ì¥ ë°”ê¹¥ ë ˆì´ì–´ì¸ í”„ë ˆì„ì›Œí¬ì™€ ë“œë¼ì´ë²„ ë ˆì´ì–´ëŠ” ëª¨ë“  ì„¸ë¶€ì‚¬í•­ì´ ìœ„ì¹˜í•˜ëŠ” ê³³ìœ¼ë¡œ, ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ì›¹ í”„ë ˆì„ì›Œí¬ ê°™ì€ í”„ë ˆì„ì›Œí¬ë‚˜ ë„êµ¬ë“¤ë¡œ êµ¬ì„±ëœë‹¤.\nì´ ê³„ì¸µì—ì„œëŠ” ì•ˆìª½ ì›ê³¼ í†µì‹ í•˜ê¸° ìœ„í•œ ì ‘í•© ì½”ë“œ ì™¸ì—ëŠ” íŠ¹ë³„íˆ ë” ì‘ì„±í•´ì•¼ í•  ì½”ë“œê°€ ê·¸ë‹¤ì§€ ë§ì§€ ì•Šë‹¤.\nì›¹, ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ì„¸ë¶€ì‚¬í•­ì„ ëª¨ë‘ ì™¸ë¶€ì— ìœ„ì¹˜ì‹œì¼œì„œ í”¼í•´ë¥¼ ìµœì†Œí™”í•œë‹¤.\nì›ì€ ë„¤ ê°œì—¬ì•¼ë§Œ í•˜ëŠ”ê°€? ê·¸ë¦¼ì˜ ì›ë“¤ì€ í•˜ë‚˜ì˜ ì˜ˆì‹œì¼ ë¿ì´ë©° ë” ë§ì€ ì›ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì–´ë–¤ ê²½ìš°ì—ë„ ì˜ì¡´ì„± ê·œì¹™ì€ ì ìš©ëœë‹¤.\nì†ŒìŠ¤ì½”ë“œ ì˜ì¡´ì„±ì€ í•­ìƒ ì•ˆì¡±ì„ í–¥í•œë‹¤. ì•ˆìª½ìœ¼ë¡œ ì´ë™í• ìˆ˜ë¡ ì¶”ìƒí™”ì™€ ì •ì±…ì˜ ìˆ˜ì¤€ì€ ë†’ì•„ì§„ë‹¤. ê°€ì¥ ë°”ê¹¥ìª½ ì›ì€ ì €ìˆ˜ì¤€ì˜ êµ¬ì²´ì ì¸ ì„¸ë¶€ì‚¬í•­ìœ¼ë¡œ êµ¬ì„±ëœë‹¤. ì•ˆìª½ìœ¼ë¡œ ì´ë™í• ìˆ˜ë¡ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì ì  ì¶”ìƒí™”ë˜ê³  ë” ë†’ì€ ìˆ˜ì¤€ì˜ ì •ì±…ë“¤ì„ ìº¡ìŠí™”í•œë‹¤. ê²½ê³„ íš¡ë‹¨í•˜ê¸° ìœ„ ì˜ˆì‹œì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ì™€ í”„ë ˆì  í„°ê°€ ë‹¤ìŒ ê³„ì¸µì— ì†í•œ ìœ ìŠ¤ì¼€ì´ìŠ¤ì™€ í†µì‹ í•˜ëŠ” ëª¨ìŠµì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì»¨íŠ¸ë¡¤ì—ì„œ ì‹œì‘ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì§€ë‚¨ í”„ë ˆì  í„°ì—ì„œ ì‹¤í–‰ ìœ ìŠ¤ì¼€ì´ìŠ¤ê°€ ë‚´ë¶€ ì›ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•˜ê³ , ì™¸ë¶€ ì›ì˜ í”„ë ˆì  í„°ê°€ ê·¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ ë§Œë“¤ì–´ ì˜ì¡´ì„± íë¦„ì„ ì—­ì „ì‹œì¼°ë‹¤.\nì´ì²˜ëŸ¼ ì œì–´íë¦„ê³¼ ì˜ì¡´ì„±ì˜ ë°©í–¥ì´ ëª…ë°±íˆ ë°˜ëŒ€ì—¬ì•¼ í•˜ëŠ” ê²½ìš°, ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì„ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•œë‹¤.\nì¸í„°í˜ì´ìŠ¤ì™€ ìƒì† ê´€ê³„ ë“± ì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ íš¡ë‹¨í•  ë•Œ ì–¸ì œë¼ë„ ë™ì¼í•œ ê¸°ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nê²½ê³„ë¥¼ íš¡ë‹¨í•˜ëŠ” ë°ì´í„°ëŠ” ì–´ë–¤ ëª¨ìŠµì¸ê°€? ê²½ê³„ë¥¼ ê°€ë¡œì§€ë¥´ëŠ” ë°ì´í„°ëŠ” í”íˆ ê°„ë‹¨í•œ ë°ì´í„° êµ¬ì¡°ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.\nê¸°ë³¸ì ì¸ êµ¬ì¡°ì²´, ê°„ë‹¨í•œ ë°ì´í„° ì „ì†¡ ê°ì²´(DTO) ë“± í•¨ìˆ˜ í˜¸ì¶œ ì‹œ ê°„ë‹¨í•œ ì¸ì í•´ì‹œë§µ, ê°ì²´ ì¤‘ìš”í•œ ì ì€ ì—”í‹°í‹° ê°ì²´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì˜ í–‰ì„ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ê²©ë¦¬ë˜ì–´ ìˆëŠ” ê°„ë‹¨í•œ ë°ì´í„° êµ¬ì¡°ê°€ ê²½ê³„ë¥¼ ê°€ë¡œì§ˆëŸ¬ ì „ë‹¬ë˜ì–´ì•¼ í•œë‹¤.\nìœ„ì™€ ê°™ì€ ê²½ìš° ê²°ê³¼ì ìœ¼ë¡œ ì–´ë– í•œ í˜•íƒœë¡œë“  ì „ë‹¬ë˜ëŠ” ë°ì´í„° êµ¬ì¡°ë¥¼ í†µí•´ ë‚´ë¶€ì˜ ì›ì—ì„œ ì™¸ë¶€ ì›ì˜ ë¬´ì–¸ê°€ë¥¼ ì•Œê²Œ ë˜ë¯€ë¡œ ì˜ì¡´ì„± ê·œì¹™ì„ ìœ„ë°°í•˜ê²Œëœë‹¤.\në”°ë¼ì„œ ê²½ê³„ë¥¼ ê°€ë¡œì§ˆëŸ¬ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•Œ, ë°ì´í„°ëŠ” í•­ìƒ ë‚´ë¶€ì˜ ì›ì—ì„œ ì‚¬ìš©í•˜ê¸°ì— ê°€ì¥ í¸ë¦¬í•œ í˜•íƒœë¥¼ ê°€ì ¸ì•¼í•œë‹¤.\nê²°ë¡  ìœ„ì™€ê°™ì€ ê°„ë‹¨í•œ ê·œì¹™ë“¤ì„ ì¤€ìˆ˜í•˜ëŠ” ê²ƒì€ ì–´ë µì§€ ì•Šìœ¼ë©°, í–¥í›„ì— ê²ªì„ ìˆ˜ë§ì€ ê³ í†µê±°ë¦¬ë¥¼ ëœì–´ì¤€ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê³„ì¸µìœ¼ë¡œ ë¶„ë¦¬í•˜ê³  ì˜ì¡´ì„± ê·œì¹™ì„ ì¤€ìˆ˜í•œë‹¤ë©´ ë³¸ì§ˆì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ ì‹œìŠ¤í…œì„ ë§Œë“¤ê²Œ ë  ê²ƒì´ë©°, ê·¸ì— ë‹¤ë¥¸ ì´ì ì„ ëˆ„ë¦´ ìˆ˜ ìˆë‹¤.\në°ì´í„°ë² ì´ìŠ¤ë‚˜ í”„ë ˆì„ì›Œí¬ì™€ ê°™ì€ ì‹œìŠ¤í…œì˜ ì™¸ë¶€ ìš”ì†Œë¥¼ êµì²´í•˜ë”ë¼ë„ í›¨ì”¬ ìˆ˜ì›”í•´ì§„ë‹¤. ","date":"2024-04-03T16:22:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/22/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/22/","title":"22. í´ë¦° ì•„í‚¤í…ì²˜"},{"content":"ê±´ë¬¼ì˜ ì²­ì‚¬ì§„ì„ ì‚´í´ë³¸ë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ, ì»¤ë‹¤ë€ ì •ë¬¸, ì²´í¬ì¸ê³¼ ì²´í¬ì•„ì›ƒì„ ë‹´ë‹¹í•  ì‚¬ì„œë¥¼ ìœ„í•œ ê³µê°„, ë…ì„œ ê³µê°„, ì‘ì€ íšŒì˜ì‹¤, ì±…ì¥ì„ ë°°ì¹˜í•œ ì§„ì—´ì‹¤ì´ ë‚˜íƒ€ë‚œë‹¤ë©´, ì´ ì•„í‚¤í…ì²˜ëŠ” \u0026ldquo;ë„ì„œê´€\u0026quot;ì„ ìœ„í•œ ì•„í‚¤í…ì²˜ì„ì„ ì˜ˆìƒí•´ë³¼ ìˆ˜ ìˆë‹¤.\nì´ì²˜ëŸ¼ ì˜ ë§Œë“¤ì–´ì§„ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ë¼ë©´ ìƒìœ„ ìˆ˜ì¤€ì˜ ë””ë ‰í„°ë¦¬ êµ¬ì¡°, ìµœìƒìœ„ íŒ¨í‚¤ì§€ì— ë‹´ê¸´ ì†ŒìŠ¤ íŒŒì¼ë“±ì„ ì‚´í´ë³´ë©´ ì–´ë– í•œ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì¸ì§€ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆë‹¤.\nì•„í‚¤í…ì²˜ì˜ í…Œë§ˆ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì˜ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì§€ì›í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.\n- ì´ë°” ì•¼ì½¥ìŠ¨ Ivar Jacobson,\nObject-Oriented Software Engineering: Use Case Driven Approach\nì†Œí”„íŠ¸ì›¨ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì•„í‚¤í…ì²˜ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìœ ìŠ¤ì¼€ì´ìŠ¤ì— ëŒ€í•´ ì†Œë¦¬ì²˜ì•¼í•œë‹¤.\nì•„í‚¤í…ì²˜ëŠ” í”„ë ˆì„ì›Œí¬ì— ëŒ€í•œ ê²ƒì´ ì•„ë‹ˆë©° ì ˆëŒ€ë¡œ ê·¸ë˜ì„œë„ ì•ˆëœë‹¤. ì•„í‚¤í…ì²˜ë¥¼ í”„ë ˆì„ì›Œí¬ë¡œë¶€í„° ì œê³µë°›ì•„ì„œëŠ” ì ˆëŒ€ ì•ˆëœë‹¤. í”„ë ˆì„ì›Œí¬ëŠ” ì‚¬ìš©í•˜ëŠ” ë„êµ¬ì¼ ë¿, ì•„í‚¤í…ì²˜ê°€ ì¤€ìˆ˜í•´ì•¼ í•  ëŒ€ìƒì´ ì•„ë‹ˆë‹¤.\nì•„í‚¤í…ì²˜ë¥¼ í”„ë ˆì„ì›Œí¬ ì¤‘ì‹¬ìœ¼ë¡œ ë§Œë“¤ì–´ë²„ë¦¬ë©´ ìœ ìŠ¤ì¼€ì´ìŠ¤ê°€ ì¤‘ì‹¬ì´ ë˜ëŠ” ì•„í‚¤í…ì²˜ëŠ” ì ˆëŒ€ ë‚˜ì˜¬ ìˆ˜ ì—†ë‹¤.\nì•„í‚¤í…ì²˜ì˜ ëª©ì  ì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ê·¸ ì¤‘ì‹¬ì— ë‘ê¸° ë•Œë¬¸ì—, í”„ë ˆì„ì›Œí¬ë‚˜ ë„êµ¬, í™˜ê²½ì— ì „í˜€ êµ¬ì• ë°›ì§€ ì•Šê³  ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì§€ì›í•˜ëŠ” êµ¬ì¡°ë¥¼ ì•„ë¬´ëŸ° ë¬¸ì œ ì—†ì´ ê¸°ìˆ í•  ìˆ˜ ìˆë‹¤.\nê±´ë¬¼ì˜ ì²­ì‚¬ì§„ì˜ ê´€ì‹¬ì‚¬ëŠ” ëª©ì ì— ë§ëŠ” ê³µê°„ì„ì„ í™•ì‹¤íˆ í•˜ëŠ” ê²ƒì´ì§€, ì–´ë–¤ ê¸°ë²•, ì¬ì§ˆë¡œ ì§€ì–´ì§€ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ì— ì¤‘ì ì„ ë‘ë©°, ì§€ì—½ì ì¸ ê´€ì‹¬ì‚¬ì— ëŒ€í•œ ê²°í•©ì„ ë¶„ë¦¬ì‹œì¼œ ê°œë°œ í™˜ê²½ ë¬¸ì œë‚˜ ë„êµ¬ì— ëŒ€í•´ì„œëŠ” ê²°ì •ì„ ë¯¸ë£¨ê³ , ì‰½ê²Œ ë²ˆë³µí•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\ní•˜ì§€ë§Œ ì›¹ì€? ì›¹ì€ ì „ë‹¬ ë©”ì»¤ë‹ˆì¦˜(ì…ì¶œë ¥ ì¥ì¹˜)ì´ë©°, ì• í”Œë¦¬ì¼€ì´ì…˜ ì•„í‚¤í…ì²˜ì—ì„œë„ ê·¸ì™€ ê°™ì´ ì·¨ê¸‰í•´ì•¼í•œë‹¤.\nì›¹ì„ í†µí•´ ì „ë‹¬ëœë‹¤ëŠ” ì‚¬ì‹¤ ìì²´ê°€ ì„¸ë¶€ ì‚¬í•­ì´ë¯€ë¡œ, ì‹œìŠ¤í…œ êµ¬ì¡°ë¥¼ ì§€ë°°í•´ì„œëŠ” ì•ˆëœë‹¤. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ëŠ” ê³¼ë„í•œ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¤ê±°ë‚˜ ê·¼ë³¸ì ì¸ ì•„í‚¤í…ì²˜ë¥¼ ëœ¯ì–´ê³ ì¹˜ì§€ ì•Šë”ë¼ë„ ì‹œìŠ¤í…œì„ ì½˜ì†” ì•±, ì›¹ ì•±, ë¦¬ì¹˜ í´ë¼ì´ì–¸íŠ¸, ì›¹ì„œë¹„ìŠ¤ ì•±ë“± ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\ní”„ë ˆì„ì›Œí¬ëŠ” ë„êµ¬ì¼ ë¿, ì‚¶ì˜ ë°©ì‹ì€ ì•„ë‹ˆë‹¤ í”„ë ˆì„ì›Œí¬ëŠ” ë§¤ìš° ê°•ë ¥í•˜ê³  ìƒë‹¹íˆ ìœ ìš©í•  ìˆ˜ ìˆì§€ë§Œ, í”„ë ˆì„ì›Œí¬ê°€ ì•„í‚¤í…ì²˜ì˜ ê¸°ì¤€ì´ ë˜ì„œëŠ” ì•ˆëœë‹¤.\nì¢‹ì€ ì•„í‚¤í…íŠ¸ë¼ë©´ ì•„í‚¤í…ì²˜ë¥¼ ìœ ìŠ¤ì¼€ì´ìŠ¤ì— ì¤‘ì ì„ ë‘” ì±„ ê·¸ëŒ€ë¡œ ë³´ì¡´í•  ìˆ˜ ìˆì„ì§€ë¥¼ ìƒê°í•´ì•¼ í•˜ë©°, í”„ë ˆì„ì›Œí¬ê°€ ì•„í‚¤í…ì²˜ì˜ ì¤‘ì‹¬ì„ ì°¨ì§€í•˜ëŠ” ì¼ì„ ë§‰ì„ ìˆ˜ ìˆëŠ” ì „ëµì„ ê°œë°œí•´ì•¼í•œë‹¤.\ní…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ ì•„í‚¤í…ì²˜ ì•„í‚¤í…ì²˜ê°€ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ í•˜ê³ , ì´ë¡œì¸í•´ í”„ë ˆì„ì›Œí¬ì™€ëŠ” ì ë‹¹í•œ ê±°ë¦¬ë¥¼ ë‘”ë‹¤ë©´, í”„ë ˆì„ì›Œí¬ë¥¼ ì „í˜€ ì¤€ë¹„í•˜ì§€ ì•Šë”ë¼ë„ í•„ìš”í•œ ìœ ìŠ¤ì¼€ì´ìŠ¤ ì „ë¶€ì— ëŒ€í•´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\ní…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦¬ëŠ” ë° ì›¹ ì„œë²„ê°€ ë°˜ë“œì‹œ í•„ìš”í•œ ìƒí™©ì´ ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤. ë°ì´í„°ë² ì´ìŠ¤ê°€ ë°˜ë“œì‹œ ì—°ê²°ë˜ì–´ ìˆì–´ì•¼ë§Œ í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦´ ìˆ˜ ìˆì–´ì„œë„ ì•ˆëœë‹¤. ì—”í‹°í‹° ê°ì²´ëŠ” ë°˜ë“œì‹œ ì˜¤ë˜ëœ ë°©ì‹ì˜ ê°„ë‹¨í•œ ê°ì²´(Plain Old Object)ì—¬ì•¼ í•˜ë©°, ì—¬íƒ€ ë³µì¡í•œ ê²ƒë“¤ì— ì˜ì¡´í•´ì„œëŠ” ì•ˆëœë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ ê°ì²´ê°€ ì—”í‹°í‹° ê°ì²´ë¥¼ ì¡°ì‘í•˜ë„ë¡ í•´ì•¼í•˜ë©°, ìµœì¢…ì ìœ¼ë¡œ í”„ë ˆì„ì›Œí¬ë¡œ ì¸í•œ ì–´ë ¤ì›€ì„ ê²ªì§€ ì•Šê³ ë„ ì´ ëª¨ë‘ë¥¼ ìˆëŠ” ê·¸ë˜ë„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nê²°ë¡  ì•„í‚¤í…ì²˜ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ í†µí•´ ì‹œìŠ¤í…œì„ ì´ì•¼ê¸°í•´ì•¼ í•˜ë©°, ì‹œìŠ¤í…œì— ì ìš©í•œ í”„ë ˆì„ì›Œí¬ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ì„œëŠ” ì•ˆëœë‹¤.\nì‹œìŠ¤í…œì´ ì–´ë–»ê²Œ ì „ë‹¬ë ì§€ ì•Œì§€ ëª»í•œ ìƒíƒœì—ì„œë„ ì‹œìŠ¤í…œì˜ ëª¨ë“  ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì´í•´í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤.\n","date":"2024-04-02T16:19:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/21/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/21/","title":"21. ì†Œë¦¬ì¹˜ëŠ” ì•„í‚¤í…ì²˜"},{"content":"ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—…ë¬´ ê·œì¹™ê³¼ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ êµ¬ë¶„í•˜ë ¤ë©´ ì—…ë¬´ ê·œì¹™ì´ ì‹¤ì œë¡œ ë¬´ì—‡ì¸ì§€ë¥¼ ì˜ ì´í•´í•´ì•¼ë§Œ í•œë‹¤.\ní•µì‹¬ ì—…ë¬´ ê·œì¹™(Critical Business Rule)\nì—…ë¬´ ê·œì¹™ì€ ì‚¬ì—…ì ìœ¼ë¡œ ìˆ˜ìµì„ ì–»ê±°ë‚˜ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆëŠ” ê·œì¹™ ë˜ëŠ” ì ˆì°¨ì´ë‹¤. ì»´í“¨í„°ìƒìœ¼ë¡œ êµ¬í˜„í–ˆëŠ”ì§€ì™€ ìƒê´€ì—†ì´, ì‚¬ì—…ì ìœ¼ë¡œ ìˆ˜ìµì„ ì–»ê±°ë‚˜ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. í•µì‹¬ ì—…ë¬´ ê·œì¹™ì€ ì‚¬ì—… ìì²´ì— í•µì‹¬ì ì´ë©°, ê·œì¹™ì„ ìë™í™”í•˜ëŠ” ì‹œìŠ¤í…œì´ ì—†ë”ë¼ë„ ì—…ë¬´ ê·œì¹™ì€ ê·¸ëŒ€ë¡œ ì¡´ì¬í•œë‹¤.\ní•µì‹¬ ì—…ë¬´ ë°ì´í„°\ní•µì‹¬ ì—…ë¬´ ê·œì¹™ì´ ìš”êµ¬í•˜ëŠ” ë°ì´í„° ì‹œìŠ¤í…œìœ¼ë¡œ ìë™í™”ë˜ì§€ ì•Šì€ ê²½ìš°ì—ë„ ì¡´ì¬í•˜ëŠ” ë°ì´í„°ì´ë‹¤. í•µì‹¬ ê·œì¹™ê³¼ í•µì‹¬ ë°ì´í„°ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ê²°í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê°ì²´ë¡œ ë§Œë“¤ ì¢‹ì€ í›„ë³´ê°€ ë˜ë©° ì´ëŸ¬í•œ ìœ í˜•ì˜ ê°ì²´ë¥¼ ì—”í‹°í‹°(Entity)ë¼ê³  ë¶€ë¥¸ë‹¤.\nì—”í‹°í‹° ì—”í‹°í‹°ëŠ” ì»´í“¨í„° ì‹œìŠ¤í…œ ë‚´ë¶€ì˜ ê°ì²´ë¡œì„œ, í•µì‹¬ ì—…ë¬´ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ì¼ë ¨ì˜ ì¡°ê·¸ë§Œ í•µì‹¬ ì—…ë¬´ ê·œì¹™ì„ êµ¬ì²´í™”í•œë‹¤.\ní•µì‹¬ ì—…ë¬´ ë°ì´í„°ë¥¼ ì§ì ‘ í¬í•¨í•  ìˆ˜ ìˆë‹¤. í•µì‹¬ ì—…ë¬´ ë°ì´í„°ì— ë§¤ìš° ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ì—”í‹°í‹°ì˜ ì¸í„°í˜ì´ìŠ¤ëŠ” í•µì‹¬ ì—…ë¬´ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ëŠ” í•µì‹¬ ì—…ë¬´ ê·œì¹™ì„ êµ¬í˜„í•œ í•¨ìˆ˜ë“¤ë¡œ êµ¬ì„±ëœë‹¤.\nì—”í‹°í‹°ë¥¼ ìƒì„±í•  ë•ŒëŠ”\nì—…ë¬´ì—ì„œ í•µì‹¬ì ì¸ ê°œë…ì„ êµ¬í˜„í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ í•œë° ëª¨ì€ë‹¤. êµ¬ì¶• ì¤‘ì¸ ìë™í™” ì‹œìŠ¤í…œì˜ ë‚˜ë¨¸ì§€ ëª¨ë“  ê³ ë ¤ì‚¬í•­ê³¼ ë¶„ë¦¬ì‹œí‚¨ë‹¤. ì´ í´ë˜ìŠ¤ëŠ” ì—…ë¬´ì˜ ëŒ€í‘œìë¡œì„œ ë…ë¦½ì ìœ¼ë¡œ ì¡´ì¬í•œë‹¤.\nì—”í‹°í‹°ëŠ” ìˆœì „íˆ ì—…ë¬´ë§Œì„ ìœ„í•œ ê²ƒì´ë¯€ë¡œ ë°ì´í„°ë² ì´ìŠ¤, ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤, ì„œë“œíŒŒí‹° í”„ë ˆì„ì›Œí¬ì— ëŒ€í•œ ê³ ë ¤ì‚¬í•­ë“¤ë¡œ ì¸í•´ ì˜¤ì—¼ë˜ì–´ì„œëŠ” ì ˆëŒ€ ì•ˆëœë‹¤.\nì–´ë–¤ ì‹œìŠ¤í…œì—ì„œë„ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì‹œìŠ¤í…œì˜ í‘œí˜„ í˜•ì‹ì´ë‚˜ ë°ì´í„° ì €ì¥ ë°©ì‹, ì‹œìŠ¤í…œì—ì„œ ì»´í“¨í„°ê°€ ë°°ì¹˜ë˜ëŠ” ë°©ì‹ê³¼ë„ ë¬´ê´€í•˜ë‹¤. ì—”í‹°í‹°ì˜ ìœ ì¼í•œ ìš”êµ¬ ì¡°ê±´ì€ í•µì‹¬ ì—…ë¬´ ë°ì´í„°ì™€ í•µì‹¬ ì—…ë¬´ ê·œì¹™ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ ë³„ë„ì˜ ì†Œí”„íŠ¸ì›¨ì–´ ëª¨ë“ˆë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ìë™í™”ëœ ì‹œìŠ¤í…œì´ ë™ì‘í•˜ëŠ” ë°©ë²•ì„ ì •ì˜í•˜ê³  ì œì•½í•¨ìœ¼ë¡œì¨ ìˆ˜ìµì„ ì–»ê±°ë‚˜ ë¹„ìš©ì„ ì¤„ì´ëŠ” ì—…ë¬´ ê·œì¹™ì´ë‹¤.\nìë™í™”ëœ ì‹œìŠ¤í…œì´ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•œë‹¤. ì‚¬ìš©ìê°€ ì œê³µí•´ì•¼ í•˜ëŠ” ì…ë ¥ì„ ê¸°ìˆ í•œë‹¤. ì‚¬ìš©ìì—ê²Œ ì œê³µí•´ì•¼í•˜ëŠ” ì¶œë ¥ì„ ê¸°ìˆ í•œë‹¤. í•´ë‹¹ ì¶œë ¥ì„ ìƒì„±í•˜ê¸° ìœ„í•œ ì²˜ë¦¬ ë‹¨ê³„ë¥¼ ê¸°ìˆ í•œë‹¤. ì—”í‹°í‹° ë‚´ì˜ í•µì‹¬ ì—…ë¬´ ê·œì¹™ê³¼ëŠ” ë°˜ëŒ€ë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëœ ì—…ë¬´ ê·œì¹™ì„ ì„¤ëª…í•œë‹¤.\nì¸í„°í˜ì´ìŠ¤ë¡œ ë“¤ì–´ì˜¤ëŠ” ë°ì´í„°ì™€ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ë„ë ë ¤ì£¼ëŠ” ë°ì´í„°ë¥¼ í˜•ì‹ ì—†ì´ ëª…ì‹œí•œë‹¤ëŠ” ì ë§Œ ë¹¼ë©´, ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ìˆ í•˜ì§€ ì•ŠëŠ”ë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì‹œìŠ¤í…œì´ ì‚¬ìš©ìì—ê²Œ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ë¥¼ ì„¤ëª…í•˜ì§€ ì•ŠëŠ”ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëœ ê·œì¹™ì„ ì„¤ëª…í•˜ë©°, ì´ë¥¼ í†µí•´ ì‚¬ìš©ìì™€ ì—”í‹°í‹° ì‚¬ì´ì˜ ìƒí˜¸ì‘ìš©ì„ ê·œì •í•œë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëœ ì—…ë¬´ ê·œì¹™ì„ êµ¬í˜„í•˜ëŠ” í•˜ë‚˜ ì´ìƒì˜ í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤. ì…ë ¥ ë°ì´í„°ë¥¼ í¬í•¨í•œë‹¤. ì¶œë ¥ ë°ì´í„°ë¥¼ í¬í•¨í•œë‹¤. ìœ ìŠ¤ì¼€ì´ìŠ¤ê°€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ì—”í‹°í‹°ì— ëŒ€í•œ ì°¸ì¡° ë°ì´í„°ë¥¼ í¬í•¨í•œë‹¤. ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ë‹¨ì¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ë˜ì–´ ìˆìœ¼ë©°, ë”°ë¼ì„œ í•´ë‹¹ ì‹œìŠ¤í…œì˜ ì…ë ¥ê³¼ ì¶œë ¥ì— ë³´ë‹¤ ê°€ê¹ê²Œ ìœ„ì¹˜í•˜ë¯€ë¡œ, ì—”í‹°í‹°ì™€ ê°™ì€ ê³ ìˆ˜ì¤€ ê°œë…ì€ ìœ ìŠ¤ì¼€ì´ìŠ¤ì™€ ê°™ì€ ì €ìˆ˜ì¤€ ê°œë…ì— ëŒ€í•´ ì•„ë¬´ê²ƒë„ ì•Œì§€ ëª»í•œë‹¤.\nì¦‰, ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì—”í‹°í‹°ì— ì˜ì¡´í•˜ë©°, ì—”í‹°í‹°ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.\nìš”ì²­ ë° ì‘ë‹µ ëª¨ë¸ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì…ë ¥ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ ì¶œë ¥ ë°ì´í„°ë¥¼ ìƒì„±í•œë‹¤.\ní•˜ì§€ë§Œ ì œëŒ€ë¡œ êµ¬ì„±ëœ ìœ ìŠ¤ ì¼€ì´ìŠ¤ ê°ì²´ë¼ë©´ ë°ì´í„°ë¥¼ ì‚¬ìš©ìë‚˜ ë˜ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì™€ ì£¼ê³  ë°›ëŠ” ë°©ì‹ì— ëŒ€í•´ì„œëŠ” ì „í˜€ ëˆˆì¹˜ì±Œ ìˆ˜ ì—†ì–´ì•¼ í•œë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ë‹¨ìˆœí•œ ìš”ì²­ ë°ì´í„° êµ¬ì¡°ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ë“¤ì´ê³  ë‹¨ìˆœí•œ ì‘ë‹µ ë°ì´í„° êµ¬ì¡°ë¥¼ ì¶œë ¥ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ì—­í• ë§Œ ìˆ˜í–‰í•˜ë©°, ì´ëŸ¬í•œ ë°ì´í„° êµ¬ì¡°ëŠ” ì–´ë–¤ê²ƒì—ë„ ì˜ì¡´í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.\nHttpRequest, HttpResponse ë“± ìš”ì²­ ë° ì‘ë‹µ ëª¨ë¸ì´ ë…ë¦½ì ì´ì§€ ì•Šë‹¤ë©´ ê·¸ ëª¨ë¸ì— ì˜ì¡´í•˜ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ë„ ê²°êµ­ í•´ë‹¹ ëª¨ë¸ì´ ìˆ˜ë°˜í•˜ëŠ” ì˜ì¡´ì„±ì— ê°„ì ‘ì ìœ¼ë¡œ ê²°í•©ì´ ë˜ë¯€ë¡œ ì˜ì¡´ì„±ì„ ì œê±°í•´ì•¼ í•œë‹¤.\nì—”í‹°í‹°ì™€ ìš”ì²­/ì‘ë‹µ ëª¨ë¸ì€ ë§ì€ ë°ì´í„°ë¥¼ ê³µìœ í•˜ë¯€ë¡œ ì—”í‹°í‹°ì˜ ì°¸ì¡°ë¥¼ ìš”ì²­/ì‘ë‹µ ë°ì´í„° êµ¬ì¡°ì— í¬í•¨í•˜ë ¤ëŠ” ìœ í˜¹ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ë‘ ê°ì²´ì˜ ëª©ì ì€ ì™„ì „íˆ ë‹¤ë¥´ë¯€ë¡œ, ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ë  ê²ƒì´ë‹¤.\në”°ë¼ì„œ ì–´ë–¤ ì‹ìœ¼ë¡œë“  í•¨ê»˜ ë¬¶ëŠ” í–‰ìœ„ëŠ” ê³µí†µ íì‡„ ì›ì¹™ê³¼ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ìœ„ë°°í•˜ê²Œ ë˜ë©°, ê²°êµ­ ì½”ë“œì—ëŠ” ìˆ˜ë§ì€ ë– ëŒì´ ë°ì´í„°ê°€ ë§Œë“¤ì–´ì§€ê³ , ì´ë¡œì¸í•´ ìˆ˜ë§ì€ ì¡°ê±´ë¬¸ì´ ì¶”ê°€ë˜ì–´ ë²„ë¦°ë‹¤.\nê²°ë¡  ì—…ë¬´ ê·œì¹™ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì´ ì¡´ì¬í•˜ëŠ” ì´ìœ , í•µì‹¬ì ì¸ ê¸°ëŠ¥ì´ë‹¤.\nì—…ë¬´ ê·œì¹™ì€ ìˆ˜ìµì„ ë‚´ê³  ë¹„ìš©ì„ ì¤„ì´ëŠ” ì½”ë“œë¥¼ ìˆ˜ë°˜í•˜ëŠ” ë§¤ìš° ì¤‘ìš”í•œ ìš”ì†Œì´ë‹¤.\në”°ë¼ì„œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ì €ìˆ˜ì¤€ì˜ ê´€ì‹¬ì‚¬ë¡œ ì¸í•´ ì˜¤ì—¼ë˜ì–´ì„œëŠ” ì•ˆ ë˜ë©°, ì›ë˜ ê·¸ëŒ€ë¡œì˜ ëª¨ìŠµìœ¼ë¡œ ë‚¨ì•„ ìˆì–´ì•¼ í•œë‹¤.\nì´ìƒì ìœ¼ë¡œëŠ” ì—…ë¬´ ê·œì¹™ì„ í‘œí˜„í•˜ëŠ” ì½”ë“œëŠ” ë°˜ë“œì‹œ ì‹œìŠ¤í…œì˜ ì‹¬ì¥ë¶€ì— ìœ„ì¹˜í•´ì•¼ í•˜ë©°, ëœ ì¤‘ìš”í•œ ì½”ë“œëŠ” ì´ ì‹¬ì¥ë¶€ì— í”ŒëŸ¬ê·¸ì¸ë˜ì–´ì•¼ í•œë‹¤.\nì—…ë¬´ ê·œì¹™ì€ ì‹œìŠ¤í…œì—ì„œ ê°€ì¥ ë…ë¦½ì ì´ë©° ê°€ì¥ ë§ì´ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì½”ë“œì—¬ì•¼ í•œë‹¤.\n","date":"2024-03-22T00:23:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/20/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/20/","title":"20. ì—…ë¬´ ê·œì¹™"},{"content":"ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì´ë€ ì •ì±…ì„ ê¸°ìˆ í•œ ê²ƒì´ë‹¤.\nì»´í“¨í„° í”„ë¡œê·¸ë¨ì€ ê° ì…ë ¥ì„ ì¶œë ¥ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì •ì±…ì„ ìƒì„¸í•˜ê²Œ ê¸°ìˆ í•œ ì„¤ëª…ì„œì´ë‹¤.\nëŒ€ë‹¤ìˆ˜ì˜ ì£¼ìš” ì‹œìŠ¤í…œì—ì„œ í•˜ë‚˜ì˜ ì •ì±…ì€ ì´ ì •ì±…ì„ ì„œìˆ í•˜ëŠ” ì—¬ëŸ¬ ê°œì˜ ì¡°ê·¸ë§Œ ì •ì±…ë“¤ë¡œ ìª¼ê°¤ ìˆ˜ ìˆë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ë¥¼ ê°œë°œí•˜ëŠ” ê¸°ìˆ ì—ëŠ” ì •ì±…ì„ ì‹ ì¤‘í•˜ê²Œ ë¶„ë¦¬í•˜ê³ , ì •ì±…ì´ ë³€ê²½ë˜ëŠ” ì–‘ìƒì— ë”°ë¼ ì •ì±…ì„ ì¬í¸ì„±í•˜ëŠ” ì¼ë„ í¬í•¨ëœë‹¤.\në™ì¼í•œ ì´ìœ ë¡œ ë™ì¼í•œ ì‹œì ì— ë³€ê²½ë˜ëŠ” ì •ì±…ì€ ë™ì¼í•œ ìˆ˜ì¤€ì— ìœ„ì¹˜í•˜ë©°, ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ì— ì†í•´ì•¼ í•œë‹¤. ì„œë¡œ ë‹¤ë¥¸ ì´ìœ , ë‹¤ë¥¸ ì‹œì ì— ë³€ê²½ë˜ëŠ” ì •ì±…ì€ ë‹¤ë¥¸ ìˆ˜ì¤€ì— ìœ„ì¹˜í•˜ë©°, ë°˜ë“œì‹œ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•´ì•¼ í•œë‹¤. ì•„í‚¤í…ì²˜ ê°œë°œì€ ì¬í¸ì„±ëœ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë¹„ìˆœí™˜ ë°©í–¥ ê·¸ë˜í”„(directed acyclic graph)ë¡œ êµ¬ì„±í•˜ëŠ” ê¸°ìˆ ì„ í¬í•¨í•œë‹¤.\nì •ì (node): ë™ì¼í•œ ìˆ˜ì¤€ì˜ ì •ì±…ì„ í¬í•¨í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ê°„ì„ (edge): ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ì˜ì¡´ì„± ì¢‹ì€ ì•„í‚¤í…ì²˜ë¼ë©´ ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ì—°ê²°í•  ë•Œ ì˜ì¡´ì„±ì˜ ë°©í–¥ì´ ì»´í¬ë„ŒíŠ¸ì˜ ìˆ˜ì¤€ì„ ê¸°ë°˜ìœ¼ë¡œ ì €ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ê°€ ê³ ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ë„ë¡ ì„¤ê³„í•´ì•¼ í•œë‹¤.\nìˆ˜ì¤€ ìˆ˜ì¤€(level)ì€ ì…ë ¥ê³¼ ì¶œë ¥ê¹Œì§€ì˜ ê±°ë¦¬ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.\nì‹œìŠ¤í…œì˜ ì…ë ¥ê³¼ ì¶œë ¥ ëª¨ë‘ë¡œë¶€í„° ë©€ë¦¬ ìœ„ì¹˜í• ìˆ˜ë¡ ì •ì±…ì˜ ìˆ˜ì¤€ì€ ë†’ì•„ì§€ë©°, ì…ë ¥ê³¼ ì¶œë ¥ì„ ë‹¤ë£¨ëŠ” ì •ì±…ì´ë¼ë©´ ì‹œìŠ¤í…œì—ì„œ ìµœí•˜ìœ„ ìˆ˜ì¤€ì— ìœ„ì¹˜í•œë‹¤.\nê°„ë‹¨í•œ ì•”í˜¸í™” í”„ë¡œê·¸ë¨ì˜ ì„¤ê³„ ì˜ˆì‹œ ì²˜ëŸ¼ í”„ë¡œê·¸ë¨ì„ ì œëŒ€ë¡œ ì„¤ê³„í–ˆë‹¤ë©´ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì€ ê³§ì€ ì ì„ ì²˜ëŸ¼ í‘œì‹œë˜ì–´ì•¼ í•œë‹¤.\nTranslate ì»´í¬ë„ŒíŠ¸ëŠ” ì…ë ¥ê³¼ ì¶œë ¥ì—ì„œ ê°€ì¥ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆìœ¼ë¯€ë¡œ ìµœê³  ìˆ˜ì¤€ì˜ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\nêµ½ì€ ì‹¤ì„ ì€ ë°ì´í„°ì˜ íë¦„ì„ ë‚˜íƒ€ë‚´ëŠ”ë°, ë³´ëŠ” ê²ƒê³¼ ê°™ì´ ë°ì´í„° íë¦„ê³¼ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì´ í•­ìƒ ê°™ì€ ë°©í–¥ì„ ê°€ë¦¬í‚¤ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì€ ê·¸ ìˆ˜ì¤€ì— ë”°ë¼ ê²°í•©ë˜ì–´ì•¼ í•˜ë©°, ë°ì´í„° íë¦„ì„ ê¸°ì¤€ìœ¼ë¡œ ê²°í•©ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤ëŠ” ê²ƒì´ë‹¤. 1 2 3 4 function encrypt() { while(true) writeChar(translate(readChar())); } ìœ„ì™€ ê°™ì€ ì˜ˆì‹œëŠ” ê³ ìˆ˜ì¤€ì¸ encrypt í•¨ìˆ˜ê°€ ì €ìˆ˜ì¤€ì¸ readChar, writeChar í•¨ìˆ˜ì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— ì˜ëª»ëœ ì•„í‚¤í…ì²˜ì´ë‹¤.\nEncrypt í´ë˜ìŠ¤, CharWriterì™€ CharReader ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‘˜ëŸ¬ì‹¸ê³  ìˆëŠ” ì ì„ ìœ¼ë¡œ ëœ ê²½ê³„ë¡œ ë¬¶ì¸ ì˜ì—­ì´ ì´ ì‹œìŠ¤í…œì—ì„œ ìµœê³  ìˆ˜ì¤€ì˜ êµ¬ì„±ìš”ì†Œì´ë©°, íš¡ë‹¨í•˜ëŠ” ì˜ì¡´ì„±ì€ ëª¨ë‘ ê²½ê³„ ì•ˆìª½ìœ¼ë¡œ í–¥í•œë‹¤.\nì…ë ¥ê³¼ ì¶œë ¥ì— ë³€í™”ê°€ ìƒê¸°ë”ë¼ë„ ì•”í˜¸í™” ì •ì±…ì€ ê±°ì˜ ì˜í–¥ì„ ë°›ì§€ ì•Šê¸° ë•Œë¬¸ì—, ê³ ìˆ˜ì¤€ì˜ ì•”í˜¸í™” ì •ì±…ì„ ì €ìˆ˜ì¤€ì˜ ì…ë ¥/ì¶œë ¥ ì •ì±…ìœ¼ë¡œ ë¶€í„° ë¶„ë¦¬ì‹œì¼œ ì•”í˜¸í™” ì •ì±…ì„ ë” ë„“ì€ ë§¥ë½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì •ì±…ì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¬¶ëŠ” ê¸°ì¤€ì€ ì •ì±…ì´ ë³€ê²½ë˜ëŠ” ë°©ì‹ì— ë‹¬ë ¤ìˆë‹¤.\në‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)ê³¼ ê³µí†µ íì‡„ ì›ì¹™(CCP)ì— ë”°ë¥´ë©´ ë™ì¼í•œ ì´ìœ ë¡œ ë™ì¼í•œ ì‹œì ì— ë³€ê²½ë˜ëŠ” ì •ì±…ì€ í•¨ê»˜ ë¬¶ì¸ë‹¤.\nê³ ìˆ˜ì¤€ ì •ì±…: ì…ë ¥/ì¶œë ¥ì—ì„œë¶€í„° ë©€ë¦¬ ë–¨ì–´ì§„ ì •ì±… ì €ìˆ˜ì¤€ ì •ì±…ì— ë¹„í•´ ëœ ë¹ˆë²ˆí•˜ê²Œ ë³€ê²½ëœë‹¤. ë³´ë‹¤ ì¤‘ìš”í•œ ì´ìœ ë¡œ ë³€ê²½ëœë‹¤. ì €ìˆ˜ì¤€ ì •ì±…: ì…ë ¥ê³¼ ì¶œë ¥ì— ê°€ê¹Œìš´ ì •ì±… ë” ë¹ˆë¹ˆí•˜ê²Œ ë³€ê²½ëœë‹¤. ê¸´ê¸‰ì„±ì„ ìš”í•˜ë©°, ëœ ì¤‘ìš”í•œ ì´ìœ ë¡œ ë³€ê²½ëœë‹¤. ì´ì²˜ëŸ¼ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„± ë°©í–¥ì´ ê³ ìˆ˜ì¤€ ì •ì±…ì„ í–¥í•  ìˆ˜ ìˆë„ë¡ ì •ì±…ì„ ë¶„ë¦¬í–ˆë‹¤ë©´ ë³€ê²½ì˜ ì˜í–¥ë„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\nì‹œìŠ¤í…œì˜ ìµœì € ìˆ˜ì¤€ì—ì„œ ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ ê¸´ê¸‰í•œ ë³€ê²½ì´ ë°œìƒí•˜ë”ë¼ë„, ì¤‘ìš”í•œ ìˆ˜ì¤€ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ê±°ì˜ ì—†ê²Œ ëœë‹¤. ì´ëŠ” ì €ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ê°€ ê³ ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ì— í”ŒëŸ¬ê·¸ì¸ë˜ì–´ì•¼ í•œë‹¤ëŠ” ê´€ì ìœ¼ë¡œë„ ë°”ë¼ë³¼ ìˆ˜ ìˆë‹¤.\nê²°ë¡  ì •ì±…ì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì€ ë‹¨ì¼ ì±…ì„ ì›ì¹™, ê°œë°© íì‡„ ì›ì¹™, ê³µí†µ íì‡„ ì›ì¹™, ì˜ì¡´ì„± ì—­ì „ ì›ì¹™, ì•ˆì •ëœ ì˜ì¡´ì„± ì›ì¹™, ì•ˆì •ëœ ì¶”ìƒí™” ì›ì¹™ì„ ëª¨ë‘ í¬í•¨í•œë‹¤.\n","date":"2024-03-21T23:41:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/19/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/19/","title":"19. ì •ì±…ê³¼ ìˆ˜ì¤€"},{"content":"ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ëŠ” ì¼ë ¨ì˜ ì†Œí”„íŠ¸ì›¨ì–´ í€Œí¬ë„ŒíŠ¸ì™€ ê·¸ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë¶„ë¦¬í•˜ëŠ” ê²½ê³„ì— ì˜í•´ ì •ì˜ëœë‹¤.\nì´ëŸ¬í•œ ê²½ê³„ëŠ” ë‹¤ì–‘í•œ í˜•íƒœë¡œ ë‚˜íƒ€ë‚œë‹¤.\nê²½ê³„ íš¡ë‹¨í•˜ê¸° \u0026lsquo;ëŸ°íƒ€ì„ì— ê²½ê³„ë¥¼ íš¡ë‹¨í•œë‹¤\u0026rsquo;ëŠ” ì˜ë¯¸ëŠ” ê²½ê³„ í•œìª½ì— ìˆëŠ” ê¸°ëŠ¥ì—ì„œ ë°˜ëŒ€í¸ ê¸°ëŠ¥ì„ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ì¼ì— ë¶ˆê³¼í•˜ë‹¤.\nì ì ˆí•œ ìœ„ì¹˜ì—ì„œ ê²½ê³„ë¥¼ íš¡ë‹¨í•˜ê²Œ í•˜ëŠ” ë¹„ê²°ì€ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„± ê´€ë¦¬ì— ìˆë‹¤.\nì†ŒìŠ¤ ì½”ë“œ ëª¨ë“ˆ í•˜ë‚˜ì˜ ë³€ê²½ìœ¼ë¡œ ìœì¡´í•˜ëŠ” ë‹¤ë¥¸ ì†ŒìŠ¤ ì½”ë“œ ëª¨ë“ˆì„ ë³€ê²½í•˜ê±°ë‚˜, ë‹¤ì‹œ ì»´íŒŒì¼í•´ì„œ ìƒˆë¡œ ë°°í¬í•´ì•¼ í•  ì§€ë„ ëª¨ë¥´ê¸° ë•Œë¬¸ ê²½ê³„ëŠ” ì†ŒìŠ¤ ì½”ë“œ ë³€ê²½ì´ ì „íŒŒë˜ëŠ” ê²ƒì„ ë§‰ëŠ” ë°©í™”ë²½ì„ êµ¬ì¶•í•˜ê³  ê´€ë¦¬í•˜ëŠ” ìˆ˜ë‹¨ìœ¼ë¡œì¨ ì¡´ì¬í•œë‹¤.\në‘ë ¤ìš´ ë‹¨ì¼ì²´ ì•„í‚¤í…ì²˜ ê²½ê³„ ì¤‘ ê°€ì¥ ë‹¨ìˆœí•˜ë©° í”í•œ í˜•íƒœëŠ” ë¬¼ë¦¬ì ìœ¼ë¡œ ì—„ê²©í•˜ê²Œ êµ¬ë¶„ë˜ì§€ ì•ŠëŠ” í˜•íƒœë‹¤.\nì´ëŠ” ì•ì„œ ì–¸ê¸‰í–ˆë˜ ì†ŒìŠ¤ ìˆ˜ì¤€ ë¶„ë¦¬ ëª¨ë“œë¡œ, í•¨ìˆ˜ì™€ ë°ì´í„°ê°€ ë‹¨ì¼ í”„ë¡œì„¸ì„œì—ì„œ ê°™ì€ ì£¼ì†Œ ê³µê°„ì„ ê³µìœ í•˜ë©° ë‚˜ë¦„ì˜ ê·œì¹™ì— ë”°ë¼ ë¶„ë¦¬ë˜ì–´ìˆëŠ” ìƒíƒœì´ë‹¤.\në°°í¬ ê´€ì ì—ì„œ ì´ëŠ” ë‹¨ì¼ì²´(monolith)ë¼ê³  ë¶ˆë¦¬ëŠ” ë‹¨ì¼ ì‹¤í–‰ íŒŒì¼ì´ë¯€ë¡œ, ì™¸ë¶€ì—ì„œ ë³¼ ë•Œ(ë¬¼ë¦¬ì ìœ¼ë¡œ) ê²½ê³„ê°€ ë°–ìœ¼ë¡œ ë“œëŸ¬ë‚˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nê°€ì¥ ë‹¨ìˆœí•œ í˜•íƒœì˜ ê²½ê³„ íš¡ë‹¨ì€ ì €ìˆ˜ì¤€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê³ ìˆ˜ì¤€ ì„œë¹„ìŠ¤ë¡œ í–¥í•˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œì´ë‹¤.\nì´ ê²½ìš° ëŸ°íƒ€ì„ ì˜ì¡´ì„±ê³¼ ì»´íŒŒì¼íƒ€ì„ ì˜ì¡´ì„±ì€ ëª¨ë‘ ì €ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³ ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ë¡œ í–¥í•œë‹¤.\nê³ ìˆ˜ì¤€ í´ë¼ì´ì–¸íŠ¸ê°€ ì €ìˆ˜ì¤€ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤ë©´ ë™ì  ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì œì–´íë¦„ê³¼ëŠ” ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì˜ì¡´ì„±ì„ ì—­ì „ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\nê²½ê³„ë¥¼ íš¡ë‹¨í•  ë•Œ ì˜ì¡´ì„±ì€ ëª¨ë‘ ê³ ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ë¥¼ í–¥í•˜ê³  ìˆìœ¼ë©°, ë°ì´í„° êµ¬ì¡°ì˜ ì •ì˜ê°€ í˜¸ì¶œí•˜ëŠ” ìª½ì— ìœ„ì¹˜í•œë‹¤.\nì •ì  ë§í¬ëœ ëª¨ë…¸ë¦¬í‹± êµ¬ì¡°ì˜ ì‹¤í–‰ íŒŒì¼ì´ë¼ë„ ê·œì¹™ì ì¸ ë°©ì‹ìœ¼ë¡œ êµ¬ì¡°ë¥¼ ë¶„ë¦¬í•˜ë©´ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œ, í…ŒìŠ¤íŠ¸, ë°°í¬í•˜ëŠ” ì‘ì—…ì— í° ë„ì›€ì´ ëœë‹¤.\në‹¨ì¼ì²´ì—ì„œ ì»´í¬ë„ŒíŠ¸ê°„ í†µì‹ ì€ ì „í˜•ì ì¸ í•¨ìˆ˜ í˜¸ì¶œì— ì§€ë‚˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë§¤ìš° ë¹ ë¥´ê³  ê°’ì‹¸ë©°, ì´ëŸ¬í•œ ì´ìœ ë¡œ ì†ŒìŠ¤ ìˆ˜ì¤€ì—ì„œ ê²°í•©ì´ ë¶„ë¦¬ë˜ë©´ ê²½ê³„ë¥¼ ê°€ë¡œì§€ë¥´ëŠ” í†µì‹ ì€ ìƒë‹¹íˆ ë¹ˆë²ˆí•  ìˆ˜ ìˆë‹¤.\në°°í¬í˜• ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ì˜ ê²½ê³„ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ë“œëŸ¬ë‚  ìˆ˜ë„ ìˆëŠ”ë° ê·¸ì¤‘ ê°€ì¥ ë‹¨ìˆœí•œ í˜•íƒœëŠ” ë™ì  ë§í¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.\nì´ëŠ” ë°°í¬ ìˆ˜ì¤€ ê²°í•© ë¶„ë¦¬ ëª¨ë“œì— í•´ë‹¹í•˜ë©° ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì  ë§í¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜•íƒœë¡œ ë°°í¬í•˜ë©´ ë”°ë¡œ ì»´íŒŒì¼í•˜ì§€ ì•Šê³  ê³§ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëŒ€ì‹  ë°”ì´ë„ˆë¦¬ì™€ ê°™ì´ ë°°í¬ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ì „ë‹¬ëœë‹¤.\në°°í¬ ê´€ì ì—ì„œ ì´ëŸ¬í•œ í˜•íƒœëŠ” ë‹¨ìˆœíˆ ë°°í¬ ê°€ëŠ¥í•œ ë‹¨ìœ„ë¥¼ ì¢€ ë” í¸ë¦¬í•œ í˜•íƒœë¡œ ë¬¶ìœ¼ë¯€ë¡œ, ë‹¨ì¼ì²´ì™€ ë™ì¼í•˜ë‹¤.\nëª¨ë“  í•¨ìˆ˜ê°€ ë™ì¼í•œ í”„ë¡œì„¸ì„œì™€ ì£¼ì†Œ ê³µê°„ì— ìœ„ì¹˜í•˜ë©°, ì»´í¬ë„ŒíŠ¸ ê°„ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•˜ëŠ” ì „ëµë„ ë™ì¼í•˜ë‹¤. ë‹¨ì¼ì²´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê²½ê³„ë¥¼ ê°€ë¡œì§€ë¥´ëŠ” í†µì‹ ì€ í•¨ìˆ˜ í˜¸ì¶œì— ì§€ë‚˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê°’ì‹¸ê¸° ë•Œë¬¸ì—, ê²½ê³„ë¥¼ ê°€ë¡œì§€ë¥´ëŠ” í†µì‹ ì€ ëŒ€ì²´ë¡œ ë§¤ìš° ë¹ˆë²ˆí•˜ë‹¤.\nìŠ¤ë ˆë“œ ìŠ¤ë ˆë“œëŠ” ì•„í‚¤í…ì²˜ ê²½ê³„ë„ ì•„ë‹ˆë©° ë°°í¬ ë‹¨ìœ„ë„ ì•„ë‹ˆë‹¤.\në‹¨ì¼ì²´ì™€ ë°°í¬í˜• ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ ìŠ¤ë ˆë“œë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nìŠ¤ë ˆë“œëŠ” ì‹¤í–‰ ê³„íšê³¼ ìˆœì„œë¥¼ ì²´ê³„í™” í•˜ëŠ” ë°©ë²•ì— ê°€ê¹Œìš°ë©°, ëª¨ë“  ìŠ¤ë ˆë“œê°€ ë‹¨ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— í¬í•¨ë  ìˆ˜ë„ ìˆê³ , ë¶„ì‚°ë  ìˆ˜ë„ ìˆë‹¤.\në¡œì»¬ í”„ë¡œì„¸ìŠ¤ ë¡œì»¬ í”„ë¡œì„¸ìŠ¤ëŠ” ì´ì „ ì–¸ê¸‰í•œ ê²½ê³„ë³´ë‹¤ í›¨ì”¬ ê°•í•œ ë¬¼ë¦¬ì  í˜•íƒœë¥¼ ëˆë‹¤.\nì£¼ë¡œ ëª…ë ¹í–‰ì´ë‚˜ ê·¸ì™€ ìœ ì‚¬í•œ ì‹œìŠ¤í…œ í˜¸ì¶œì„ í†µí•´ ìƒì„±ë˜ê³ , ë™ì¼í•œ í”„ë¡œì„¸ì„œ ë˜ëŠ” í•˜ë‚˜ì˜ ë©€í‹°ì½”ì–´ ì‹œìŠ¤í…œì— ì†í•œ ì—¬ëŸ¬ í”„ë¡œì„¸ì„œë“¤ì—ì„œ ì‹¤í–‰ë˜ì§€ë§Œ, ë…ë¦½ëœ ì£¼ì†Œ ê³µê°„ì—ì„œ ì‹¤í–‰ëœë‹¤.\nì¢…ì¢… ê³µìœ  ë©”ëª¨ë¦¬ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ê¸°ë„ í•˜ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œëŠ” ë©”ëª¨ë¦¬ ë³´í˜¸ë¥¼ í†µí•´ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ë©”ëª¨ë¦¬ë¥¼ ê³µìœ í•˜ì§€ ëª»í•˜ê²Œ í•œë‹¤.\nëŒ€ê°œì˜ ê²½ìš° ì†Œì¼“, ë©”ì¼ë°•ìŠ¤, ë©”ì‹œì§€ íì™€ ê°™ì´ ìš´ì˜ì²´ì œì—ì„œ ì œê³µí•˜ëŠ” í†µì‹  ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ ì„œë¡œ í†µì‹ í•œë‹¤.\nê° ë¡œì»¬ í”„ë¡œì„¸ìŠ¤ëŠ” ì •ì ìœ¼ë¡œ ë§í¬ëœ ë‹¨ì¼ì²´ ì´ê±°ë‚˜ ë™ì ìœ¼ë¡œ ë§í¬ëœ ì—¬ëŸ¬ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë  ìˆ˜ ìˆë‹¤.\nì •ì ìœ¼ë¡œ ë§í¬ëœ ë‹¨ì¼ì²´ ì—¬ëŸ¬ ëª¨ë…¸ë¦¬í‹± í”„ë¡œì„¸ìŠ¤ê°€ ê°™ì€ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê°€ì§€ê³  ìˆì„ ìˆ˜ ìˆë‹¤. ì»´íŒŒì¼í•˜ê³  ì •ì  ë§í¬í•˜ëŠ” ê³¼ì •ì—ì„œ ê° ì»´í¬ë„ŒíŠ¸ì˜ ë°”ì´ë„ˆë¦¬ê°€ ë‹¨ì¼ì²´ì— ë¬¼ë¦¬ì ìœ¼ë¡œ ë³µì‚¬ë˜ê¸°ë•Œë¬¸ ë™ì ìœ¼ë¡œ ë§í¬ëœ ë°°í¬í˜• ì»´í¬ë„ŒíŠ¸ ë™ì ìœ¼ë¡œ ë§í¬ëœ ë°°í¬í˜• ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì„œë¡œ ê³µìœ í•  ìˆ˜ ìˆë‹¤. ë¡œì»¬ í”„ë¡œì„¸ìŠ¤ëŠ” ì»´í¬ë„ŒíŠ¸ ê°„ ì˜ì¡´ì„±ì„ ë™ì  ë‹¤í˜•ì„±ì„ í†µí•´ ê´€ë¦¬í•˜ëŠ” ì €ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë˜ë¯€ë¡œ ì¼ì¢…ì˜ ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.\në¡œì»¬ í”„ë¡œì„¸ìŠ¤ ê°„ ë¶„ë¦¬ ì „ëµì€ ë‹¨ì¼ì²´ë‚˜ ë°”ì´ë„ˆë¦¬ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš°ì™€ ë™ì¼í•˜ë‹¤.\nì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì€ ê³ ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ë¥¼ í–¥í•´ì•¼í•˜ë¯€ë¡œ ë¡œì»¬ í”„ë¡œì„¸ìŠ¤ì—ì„œëŠ” ê³ ìˆ˜ì¤€ í”„ë¡œì„¸ìŠ¤ì˜ ì†ŒìŠ¤ ì½”ë“œê°€ ì €ìˆ˜ì¤€ í”„ë¡œì„¸ìŠ¤ì˜ ì´ë¦„, ë¬¼ë¦¬ ì£¼ì†Œ, ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì¡°íšŒ í‚¤ë¥¼ ì ˆëŒ€ë¡œ í¬í•¨í•´ì„œëŠ” ì•ˆëœë‹¤.\në¡œì»¬ í”„ë¡œì„¸ìŠ¤ ê²½ê³„ë¥¼ ì§€ë‚˜ëŠ” í†µì‹ ì—ëŠ” ìš´ì˜ì²´ì œ í˜¸ì¶œ, ë°ì´í„° ë§ˆìƒ¬ë§, ì–¸ë§ˆìƒ¬ë§, í”„ë¡œì„¸ìŠ¤ ê°„ ë¬¸ë§¥ êµí™˜ ë“±ì´ ìˆìœ¼ë©°, ì´ë“¤ì€ ì œë²• ë¹„ì‹¼ ì‘ì—…ì´ë¯€ë¡œ í†µì‹ ì´ ë„ˆë¬´ ë¹ˆë²ˆí•˜ê²Œ ì´ë¤„ì§€ì§€ ì•Šë„ë¡ ì‹ ì¤‘í•˜ê²Œ ì œí•œí•´ì•¼í•œë‹¤.\nì„œë¹„ìŠ¤ ë¬¼ë¦¬ì ì¸ í˜•íƒœë¥¼ ë ëŠ” ê°€ì¥ ê°•ë ¥í•œ ê²½ê³„ëŠ” ì„œë¹„ìŠ¤ë‹¤.\nì„œë¹„ìŠ¤ëŠ” í”„ë¡œì„¸ìŠ¤ë¡œ, ì¼ë°˜ì ìœ¼ë¡œ ëª…ë ¹í–‰ ë˜ëŠ” ê·¸ì™€ ë™ë“±í•œ ì‹œìŠ¤í…œ í˜¸ì¶œì„ í†µí•´ êµ¬ë™ëœë‹¤.\nì„œë¹„ìŠ¤ë“¤ì€ ëª¨ë“  í†µì‹ ì´ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì´ë¤„ì§„ë‹¤ê³  ê°€ì •í•˜ë¯€ë¡œ ìì‹ ì˜ ë¬¼ë¦¬ì  ìœ„ì¹˜ì— êµ¬ì• ë°›ì§€ ì•ŠëŠ”ë‹¤.\nì„œë¹„ìŠ¤ ê²½ê³„ë¥¼ ì§€ë‚˜ëŠ” í†µì‹ ì€ í•¨ìˆ˜ í˜¸ì¶œì— ë§¤ìš° ëŠë¦¬ë¯€ë¡œ ê°€ëŠ¥í•˜ë‹¤ë©´ ë¹ˆë²ˆí•˜ê²Œ í†µì‹ í•˜ëŠ” ì¼ì„ í”¼í•´ì•¼ í•˜ë©°, ì§€ì—°(latency)ì— ë”°ë¥¸ ë¬¸ì œë¥¼ ê³ ìˆ˜ì¤€ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nì´ë¥¼ ì œì™¸í•˜ê³ ëŠ” ë¡œì»¬ í”„ë¡œì„¸ìŠ¤ì— ì ìš©í•œ ê·œì¹™ì´ ì„œë¹„ìŠ¤ì— ì ìš©ëœë‹¤.\nì €ìˆ˜ì¤€ ì„œë¹„ìŠ¤ëŠ” ë°˜ë“œì‹œ ê³ ìˆ˜ì¤€ ì„œë¹„ìŠ¤ì— í”ŒëŸ¬ê·¸ì¸ë˜ì–´ì•¼í•˜ë©°, ê³ ìˆ˜ì¤€ ì„œë¹„ìŠ¤ì˜ ì†ŒìŠ¤ ì½”ë“œì—ëŠ” ì €ìˆ˜ì¤€ ì„œë¹„ìŠ¤ë¥¼ íŠ¹ì • ì§“ëŠ” ì–´ë–¤ ë¬¼ë¦¬ì ì¸ ì •ë³´(URI ë“±)ë„ ì ˆëŒ€ë¡œ í¬í•¨í•´ì„œëŠ” ì•ˆëœë‹¤.\nê²°ë¡  ë‹¨ì¼ì²´ë¥¼ ì œì™¸í•œ ëŒ€ë‹¤ìˆ˜ì˜ ì‹œìŠ¤í…œì€ í•œ ê°€ì§€ ì´ìƒì˜ ê²½ê³„ ì „ëµì„ ì‚¬ìš©í•œë‹¤.\nì‹¤ì œë¡œ ì„œë¹„ìŠ¤ëŠ” ìƒí˜¸ì‘ìš©í•˜ëŠ” ì¼ë ¨ì˜ ë¡œì»¬ í”„ë¡œì„¸ìŠ¤ í¼ì‚¬ë“œì— ë¶ˆê³¼í•  ë•Œê°€ ë§ë‹¤.\në˜í•œ ê°œë³„ ì„œë¹„ìŠ¤ ë˜ëŠ” ë¡œì»¬ í”„ë¡œì„¸ìŠ¤ëŠ” ê±°ì˜ ì–¸ì œë‚˜ ì†ŒìŠ¤ ì½”ë“œ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ëœ ë‹¨ì¼ì²´ì´ê±°ë‚˜, ë™ì ìœ¼ë¡œ ë§í¬ëœ ë°°í¬í˜• ì»´í¬ë„ŒíŠ¸ì˜ ì§‘í•©ì´ë‹¤.\nì¦‰, í•œ ì‹œìŠ¤í…œ ì•ˆì—ì„œë„ í†µì‹ ì´ ë¹ˆë²ˆí•œ ë¡œì»¬ ê²½ê³„ì™€ ì§€ì—°ì„ ì¤‘ìš”í•˜ê²Œ ê³ ë ¤í•´ì•¼ í•˜ëŠ” ê²½ê³„ê°€ í˜¼í•©ë˜ì–´ ìˆìŒì„ ì˜ë¯¸í•œë‹¤.\n","date":"2024-03-21T15:36:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/18/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/18/","title":"18. ê²½ê³„ í•´ë¶€í•™"},{"content":"ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ëŠ” ì„ ì„ ê¸‹ëŠ” ê¸°ìˆ ì´ë©°, ì´ëŸ¬í•œ ì„ ì„ ê²½ê³„(Boundary)ë¼ê³  ë¶€ë¥¸ë‹¤.\nê²½ê³„ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ìš”ì†Œë¥¼ ì„œë¡œ ë¶„ë¦¬í•˜ê³ , ê²½ê³„ í•œí¸ì— ìˆëŠ” ì†Œì†Œê°€ ë°˜ëŒ€í¸ì— ìˆëŠ” ìš”ì†Œë¥¼ ì•Œì§€ ëª»í•˜ë„ë¡ ë§‰ëŠ”ë‹¤.\nì´ ì¤‘ ì´ˆê¸°ì— ê·¸ë ¤ì§€ëŠ” ì„ ì€ ê°€ëŠ¥í•œ í•œ ì˜¤ë«ë™ì•ˆ ê²°ì •ì„ ì—°ê¸°ì‹œí‚¤ê¸°ê³ , ê²°ì •ì´ í•µì‹¬ì ì¸ ì—…ë¬´ ë¡œì§ì„ ì˜¤ì—¼ì‹œí‚¤ì§€ ëª»í•˜ê²Œ ë§Œë“¤ë ¤ëŠ” ëª©ì ìœ¼ë¡œ ì“°ì¸ë‹¤.\nì•„í‚¤í…íŠ¸ì˜ ëª©í‘œëŠ” ì‹œìŠ¤í…œì„ ë§Œë“¤ê³  ìœ ì§€í•˜ëŠ” ë° ë“œëŠ” ìì›ì„ ìµœì†Œí™” í•˜ëŠ” ê²ƒì¸ë°, íš¨ìœ¨ì„ ë–¨ì–´ëœ¨ë¦¬ëŠ” ìš”ì¸ì€ ê²°í•©(Coupling)ì´ë©°, ë„ˆë¬´ ì¼ì° ë‚´ë ¤ì§„ ê²°ì •ì— ë”°ë¥¸ ê²°í•©ì€ ë” í° ì˜í–¥ì„ ë¯¸ì¹œë‹¤.\në„ˆë¬´ ì¼ì° ë‚´ë ¤ì§„ ê²°ì •ì€ ì‹œìŠ¤í…œì˜ ì—…ë¬´ ìš”êµ¬ì‚¬í•­, ì¦‰ ìœ ìŠ¤ì¼€ì´ìŠ¤ì™€ ì•„ë¬´ëŸ° ê´€ë ¨ì´ ì—†ëŠ” ê²°ì •ì„ ì˜ë¯¸í•œë‹¤.\ní”„ë ˆì„ì›Œí¬ ë°ì´í„°ë² ì´ìŠ¤ ì›¹ ì„œë²„ ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì£¼ì…ì— ëŒ€í•œ ê²°ì • ë“± ì¢‹ì€ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë€ ìœ ìŠ¤ì¼€ì´ìŠ¤ì™€ ì•„ë¬´ëŸ° ê´€ë ¨ì´ ì—†ëŠ” ê²°ì •ì— ì˜ì¡´í•˜ì§€ ì•Šì•„ ì´ëŸ¬í•œ ê²°ì •ì´ ë¶€ìˆ˜ì ì´ë©°, ì—°ê¸°í•  ìˆ˜ ìˆëŠ” ì•„í‚¤í…ì²˜ë‹¤.\nê²½ê³„ì„ ì„ ê¸‹ëŠ” í–‰ìœ„ëŠ” ê²°ì •ì„ ëŠ¦ì¶”ê³  ì—°ê¸°í•˜ëŠ” ë° ë„ì›€ì´ë˜ë©°, ê¶ê·¹ì ìœ¼ë¡œëŠ” ì‹œê°„ì„ ì—„ì²­ë‚˜ê²Œ ì ˆì•½í•´ì£¼ì—ˆìœ¼ë©°, ê³¨ì¹˜ë¥¼ ì©ì§€ ì•Šê²Œ í•´ì¤€ë‹¤.\nì–´ë–»ê²Œ ì„ ì„ ê·¸ì„ê¹Œ? ì–¸ì œ ê·¸ì„ê¹Œ? ê´€ë ¨ì´ ìˆëŠ” ê²ƒê³¼ ì—†ëŠ” ê²ƒ ì‚¬ì´ì— ì„ ì„ ê¸‹ëŠ”ë‹¤.\nGUIëŠ” ì—…ë®¤ ê·œì¹™ê³¼ëŠ” ê´€ë ¨ ì—†ê¸° ë•Œë¬¸ì—, ë‘˜ ì‚¬ì´ì—ëŠ” ë°˜ë“œì‹œ ì„ ì´ ìˆì–´ì•¼í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” GUIì™€ëŠ” ê³ ë‚˜ë ¨ì´ ì—†ìœ¼ë¯€ë¡œ, ë‘˜ ì‚¬ì´ì—ëŠ” ë°˜ë“œì‹œ ì„ ì´ ìˆì–´ì•¼í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—…ë¬´ ê·œì¹™ê³¼ ê´€ë ¨ì´ ì—†ìœ¼ë¯€ë¡œ, ë‘˜ ì‚¬ì´ì—ë„ ì„ ì´ ìˆì–´ì•¼í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—…ë¬´ ê·œì¹™ê³¼ ì„œë¡œ ë–¼ì–´ë†“ì„ ìˆ˜ ì—†ëŠ” ê´€ê³„ë¼ê³  ë°°ìš´ ì‚¬ëŒì´ ë§ìœ¼ë©°, ì‹¬ì§€ì–´ ì—…ë¬´ ê·œì¹™ì´ êµ¬ì²´í™”ëœ ê²ƒì´ ë°ì´í„°ë² ì´ìŠ¤ë¼ê³  í™•ì‹ í•˜ëŠ” ì‚¬ëŒë„ ë”ëŸ¬ ìˆì§€ë§Œ ì´ëŠ” ì˜ëª»ëœ ìƒê°ì´ë‹¤.\nì—…ë¬´ ê·œì¹™ì€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ì €ì¥í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ ì§‘í•©ì´ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì´ ì „ë¶€ì—¬ì•¼í•œë‹¤.\nì´ëŸ¬í•œ í•¨ìˆ˜ ì§‘í•©ì„ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¸í„°í˜ì´ìŠ¤ ë’¤ë¡œ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤.\nDatabaseAccessì—ì„œ ì¶œë°œí•˜ëŠ” í™”ì‚´í‘œëŠ” í´ë˜ìŠ¤ë¡œë¶€í„° ë°”ê¹¥ìª½ìœ¼ë¡œ í–¥í•˜ëŠ”ë° ì´ëŠ” DatabaseAccessê°€ ì¡´ì¬í•˜ëŠ” í´ë˜ìŠ¤ëŠ” ì—†ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\nDatabaseInterface í´ë˜ìŠ¤ëŠ” BusinessRules ì»´í¬ë„ŒíŠ¸ì— ì†í•˜ë©°, DatabaseAccess í´ë˜ìŠ¤ëŠ” Database ì»´í¬ë„ŒíŠ¸ì— ì†í•˜ë¯€ë¡œ, DatabaseëŠ” BusinessRulesì— ëŒ€í•´ ì•Œê³ ìˆì§€ë§Œ, BusinessRulesì€ Databaseì— ê´€í•´ ì•Œì§€ ëª»í•œë‹¤.\në”°ë¼ì„œ BusinessRulesì—ê²Œ ìˆì–´ DatabaseëŠ” ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ, DatabaseëŠ” BusinessRules ì—†ì´ëŠ” ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.\nDatabase ì»´í¬ë„ŒíŠ¸ëŠ” BusinessRulesê°€ ë§Œë“¤ì–´ ë‚¸ í˜¸ì¶œì„ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¿¼ë¦¬ ì–¸ì–´ë¡œ ë³€í™˜í•˜ëŠ” ì½”ë“œë¥¼ ë‹´ê³  ìˆìœ¼ë©°, ì´ ë³€í™˜ ì½”ë“œê°€ BusinessRulesë¥¼ ì•Œê³  ìˆëŠ” ê²ƒì´ë‹¤.\në‘ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì— ê²½ê³„ì„ , í™”ì‚´í‘œì˜ ë°©í–¥ì´ BusinessRulesë¥¼ í–¥í•˜ë„ë¡ ë§Œë“¤ì—ˆê¸° ë•Œë¬¸ì— ì–´ë–¤ ì¢…ë¥˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ë„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œëœë‹¤.\në”°ë¼ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ê²°ì •ì„ ì—°ê¸°í•  ìˆ˜ ìˆìœ¼ë©°, ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê²°ì •í•˜ê¸°ì— ì•ì„œ ì—…ë¬´ ê·œì¹™ì„ ë¨¼ì € ì‘ì„±í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.\nì…ë ¥ê³¼ ì¶œë ¥ì€? ì…ë ¥ê³¼ ì¶œë ¥ì€ ì¤‘ìš”í•˜ì§€ì•Šë‹¤.\nì‹œìŠ¤í…œì˜ í–‰ìœ„ë¥¼ ì…ì¶œë ¥ì´ ì§€ë‹Œ í–‰ìœ„ì  ì¸¡ë©´ì—ì„œ ìƒê°í•˜ëŠ” ê²½í–¥ì´ ìˆëŠ”ë°, ì´ëŸ¬í•œ ì…ì¶œë ¥ ë’¤ì—ëŠ” ëª¨ë¸(ë°ì´í„° êµ¬ì¡°ì™€ í•¨ìˆ˜ë¡œ êµ¬ì„±ëœ ì •êµí•œ ì§‘í•©)ì´ ì¡´ì¬í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ìŠëŠ”ë‹¤.\nì´ëŸ¬í•œ ëª¨ë¸ì€ GUIê°€ ì—†ì´ë„ ë™ì‘í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¤‘ìš”í•˜ì§€ ì•Šê³ , ì‹¤ì œë¡œ ì¤‘ìš”í•œ ê²ƒì€ ì—…ë¬´ ê·œì¹™ì´ë‹¤.\nGUI ì»´í¬ë„ŒíŠ¸ëŠ” BusinessRules ì»´í¬ë„ŒíŠ¸ì—ê²Œ ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— ê²½ê³„ì„ ìœ¼ë¡œ ë¶„í• í•  ìˆ˜ ìˆë‹¤.\në”°ë¼ì„œ GUIëŠ” ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ì–¼ë§ˆë“ ì§€ êµì²´í•  ìˆ˜ ìˆìœ¼ë©° BusinessRulesì— ë¼ì¹˜ëŠ” ì˜í–¥ì€ ì—†ë‹¤.\ní”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ ë°ì´í„°ë² ì´ìŠ¤ì™€ GUIì— ëŒ€í•´ ë‚´ë¦° ë‘ ê°€ì§€ ê²°ì •ì„ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë³´ë©´ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ì™€ ê´€ë ¨í•œ ì¼ì •ì˜ íŒ¨í„´ì´ ë§Œë“¤ì–´ì§„ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ê¸°ìˆ ì˜ ì—­ì‚¬ëŠ” í”„ëŸ¬ê·¸ì¸ì„ ì†ì‰½ê²Œ ìƒì„±í•˜ì—¬, í™•ì¥ ê°€ëŠ¥í•˜ë©° ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ í™•ë¦½í•  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•œ ì´ì•¼ê¸°ì´ë‹¤.\nì„ íƒì ì´ê±°ë‚˜ ë˜ëŠ” ìˆ˜ë§ì€ ë‹¤ì–‘í•œ í˜•íƒœë¡œ êµ¬í˜„ë  ìˆ˜ ìˆëŠ” ë‚˜ë¨¸ì§€ ì»´í¬ë„ŒíŠ¸ë¡œë¶€í„° í•µì‹¬ì ì¸ ì—…ë¬´ ê·œì¹™ì€ ë¶„ë¦¬ë˜ì–´ ìˆê³ , ë˜í•œ ë…ë¦½ì ì´ë‹¤. ìœ„ì™€ ê°™ì€ ì„¤ê³„ì—ì„œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ëŠ” í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ê³ ë ¤ë˜ì—ˆê¸°ì—, ìˆ˜ë§ì€ ì¢…ë¥˜ì˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ì—°ê²°í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\në°ì´í„°ë² ì´ìŠ¤ë„ ë™ì¼í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆë‹¤.\nGUI, ë°ì´í„°ë² ì´ìŠ¤ ë“±ì˜ êµì²´ ì‘ì—…ì´ ì‰¬ìš´ ì‘ì—…ì€ ì•„ë‹ˆê³ , ì—…ë¬´ ê·œì¹™ í™œìš©ì„ ìœ„í•´ ì¶”ê°€ì ì¸ ì‘ì—…ë„ í•„ìš”í•  ìˆ˜ ìˆì§€ë§Œ, í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡°ë¥¼ ê°€ì •í•œ ì±„ ì‹œì‘í•¨ìœ¼ë¡œì¨, ì´ëŸ¬í•œ ë³€ê²½ ì‘ì—…ì„ í˜„ì‹¤ì„± ìˆë„ë¡ ë§Œë“ ë‹¤.\ní”ŒëŸ¬ê·¸ì¸ì— ëŒ€í•œ ë…¼ì˜ ì‹œìŠ¤í…œì„ í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ë¡œ ë°°ì¹˜í•¨ìœ¼ë¡œì¨ ë³€ê²½ì´ ì „íŒŒë  ìˆ˜ ì—†ëŠ” ë°©í™”ë²½ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\nê²½ê³„ëŠ” ë³€ê²½ì˜ ì¶•(Axis of change)ì´ ìˆëŠ” ì§€ì ì— ê·¸ì–´ì§„ë‹¤. ê·¸ë¦¬ê³  ê²½ê³„ì˜ í•œìª½ì— ìœ„ì¹˜í•œ ì»´í¬ë„ŒíŠ¸ëŠ” ê²½ê³„ ë°˜ëŒ€í¸ì˜ ì»´í¬ë„ŒíŠ¸ì™€ëŠ” ë‹¤ë¥¸ ì†ë„ë¡œ, ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ëœë‹¤.\në”°ë¼ì„œ ë‹¤ë¥¸ ì‹œì ì— ë‹¤ë¥¸ ì†ë„ë¡œ ë³€ê²½ë˜ëŠ” ë‘˜ ì‚¬ì´ì—ëŠ” ë°˜ë“œì‹œ ê²½ê³„ê°€ í•„ìš”í•˜ë‹¤.\nì´ ì—­ì‹œë„ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì— í•´ë‹¹í•˜ë©°, ë‹¨ì¼ ì±…ì„ ì›ì¹™ì€ ì–´ë””ì— ê²½ê³„ë¥¼ ê·¸ì–´ì•¼ í• ì§€ ì•Œë ¤ì¤€ë‹¤.\nê²°ë¡  ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ì—ì„œ ê²½ê³„ì„ ì„ ê·¸ë¦¬ë ¤ë©´\në¨¼ì € ì‹œìŠ¤í…œì„ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„í• í•´ì•¼í•œë‹¤.\nì¼ë¶€ ì»´í¬ë„ŒíŠ¸ëŠ” í•µì‹¬ ì—…ë¬´ ê·œì¹™ì— í•´ë‹¹í•œë‹¤. ë‚˜ë¨¸ì§€ ì»´í¬ë„ŒíŠ¸ëŠ” í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ í•µì‹¬ ì—…ë¬´ì™€ëŠ” ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ì§€ë§Œ í•„ìˆ˜ ê¸°ëŠ¥ì„ í¬í•¨í•œë‹¤. ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ í™”ì‚´í‘œê°€ í•µì‹¬ ì—…ë¬´ë¥¼ í–¥í•˜ë„ë¡ ì»´í¬ë„ŒíŠ¸ì˜ ì†ŒìŠ¤ë¥¼ ë°°ì¹˜í•œë‹¤.\nì´ëŠ” ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ê³¼ ì•ˆì •ëœ ì¶”ìƒí™” ì›ì¹™ì„ ì‘ìš©í•œ ê²ƒì´ë©°, ì˜ì¡´ì„±ì˜ í™”ì‚´í‘œëŠ” ì €ìˆ˜ì¤€ ì„¸ë¶€ì‚¬í•­ì—ì„œ ê³ ìˆ˜ì¤€ì˜ ì¶”ìƒí™”ë¥¼ í–¥í•˜ë„ë¡ ë°°ì¹˜ëœë‹¤.\n","date":"2024-03-20T21:36:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/17/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/17/","title":"17. ê²½ê³„: ì„  ê¸‹ê¸°"},{"content":"ì•ì„œ ì§„í–‰í•œ ë°ì´í„°ì…‹ êµ¬ì¡° í™•ì¸ì„ ë°”íƒ•ìœ¼ë¡œ, ê°„ë‹¨í•˜ê²Œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ë¥¼ í•´ë´¤ìŠµë‹ˆë‹¤.\nTAGS, RATINGS í…Œì´ë¸”ì€ user_id, movie_id ì»¬ëŸ¼ì„ í™œìš©í•œ ê´€ê³„ í…Œì´ë¸”ì¸ë° USERS í…Œì´ë¸”ì— ê´€ë ¨ëœ ë°ì´í„°ë“¤ì„ ë³„ë„ë¡œ ì œê³µí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ìˆë‹¤ê³  ê°€ì •í•˜ê³  ì§„í–‰í–ˆìŠµë‹ˆë‹¤.\nerDiagram MOVIES { int movie_id PK string title string genres int rating_count bigint rating_total } RATINGS { int user_id PK,FK int movie_id PK,FK int rating timestamp created_at } REVIEWS { int review_id PK int user_id FK int movie_id FK string content timestamp created_at timestamp updated_at } TAGS { string name PK timestamp created_at } REVIEWS_TAGS { int user_id PK,FK int movie_id PK,FK int tag_name PK,FK } USERS { int id PK } MOVIES ||--o{ RATINGS: \"\" RATINGS }o--|| USERS: \"\" MOVIES ||--o{ REVIEWS: \"\" REVIEWS }o--|| USERS: \"\" REVIEWS ||--o{ REVIEWS_TAGS: \"\" REVIEWS_TAGS }o--|| TAGS: \"\" ê¸°ì¡´ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¼ë¶€ ì»¬ëŸ¼ë“¤ê³¼ í…Œì´ë¸”ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.\nìì„¸í•œ ë‚´ìš©ì€ í…Œì´ë¸” ë³„ë¡œ ì„¤ëª…í•´ë³´ê² ìŠµë‹ˆë‹¤.\nMOVIES erDiagram MOVIES { int movie_id PK string title string genres int rating_count bigint rating_total } ê¸°ì¡´ ì œê³µëœ movie_id, title, genresëŠ” ê·¸ëŒ€ë¡œ í™œìš©í•˜ê³ , í‰ê·  í‰ì  ê³„ì‚°ì— í™œìš©ë  rating_count, rating_total ì»¬ëŸ¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\ngenres ì»¬ëŸ¼ì€ ì¥ë¥´ë“¤ì´ | ë¬¸ìë¡œ êµ¬ë¶„ë˜ì–´ ë¬¸ìì—´ í˜•íƒœë¡œ ì €ì¥ë˜ëŠ” í˜•ì‹ì´ì—ˆëŠ”ë°, ì²˜ìŒ RDBMSë¥¼ ì´ìš©í•´ ë§Œë“œëŠ” ë°©ì‹ì—ì„œëŠ” ê²€ìƒ‰ ì¡°ê±´ë“±ì˜ í™œìš©ì„ ë°°ì œí•˜ê³ , ì´í›„ ê²€ìƒ‰ ì—”ì§„ ê°™ì€ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì œê³µí•´ ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.\nrating_count, rating_total ì»¬ëŸ¼ì€ ì¡°íšŒ í›„ ì„œë²„ë‚˜ í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ì§ì ‘ ê³„ì‚°í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , MySQL, PostgreSQLë“±ê³¼ ê°™ì´ í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” RDBMSë¥¼ í™œìš©í•œë‹¤ë©´ ì¡°ê±´ì„ í™œìš©í•œ ì¡°íšŒ ì„±ëŠ¥ì—ë„ ì´ìŠˆê°€ ë°œìƒí•˜ì§€ ì•Šì„ ê²ƒì´ë¼ ìƒê°ë˜ì–´ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.\nrating_count, rating_total ì»¬ëŸ¼ì€ ì‚¬ìš©ìê°€ í‰ì ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•  ë•Œ ë³€ê²½ë˜ëŠ” ê°’ì´ë¯€ë¡œ í‰ì  ë“±ë¡, ìˆ˜ì •, ì‚­ì œ ì²˜ë¦¬ì‹œ í•´ë‹¹ ì»¬ëŸ¼ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„ì— ì£¼ì˜ê°€ í•„ìš”í•˜ê² ìŠµë‹ˆë‹¤.\nRATINGS erDiagram RATINGS { int user_id PK,FK int movie_id PK,FK int rating timestamp create_ts } ê¸°ì¡´ ì œê³µëœ user_id, movie_id, create_tsëŠ” ê·¸ëŒ€ë¡œ í™œìš©í•˜ê³ , rating ì»¬ëŸ¼ì˜ ë°ì´í„° íƒ€ì…ì„ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.\nrating ê°™ì€ ê²½ìš° ê¸°ì¡´ì—ëŠ” 0.5 ê°„ê²© 0~5 ê¹Œì§€ì˜ ì†Œìˆ˜ë¥¼ ì €ì¥í•˜ê³  ìˆì—ˆì§€ë§Œ, MOVIES í…Œì´ë¸”ì˜ rating_total ì²˜ë¦¬ì™€ í‰ê·  í‰ì  ê³„ì‚° ì²˜ë¦¬ê°€ í•„ìš”í•˜ë¯€ë¡œ, ê°œì¸ ìµœê³ ì ì„ 10ì ìœ¼ë¡œ ë³€ê²½í•˜ê³  ì„œë¹„ìŠ¤ ë¡œì§ì—ì„œ í‰ì ì„ ê³„ì‚°í•˜ëŠ” ë°©ì‹ì„ ê³ ë ¤í•˜ëŠ”ê²Œ ë” í•©ë¦¬ì ì´ë¼ íŒë‹¨í•˜ì—¬ ì •ìˆ˜í˜• ë°ì´í„°íƒ€ì…ì„ ì„ íƒí•˜ì˜€ìŠµë‹ˆë‹¤.\nì´ì™¸ì—ë„ rating_idì™€ ê°™ì€ ë³„ë„ PKë¥¼ ë§Œë“œëŠ” ê²ƒì„ ê³ ë ¤í•´ë´¤ì§€ë§Œ, rating_id ì»¬ëŸ¼ì´ ë‹¤ë¥¸ í…Œì´ë¸”ì—ì„œ í™œìš©ë˜ê±°ë‚˜ PKê°€ ë³€ê²½ê±°ë‚˜ user_id, movie_id ì—†ì´ ë‹¨ë…ìœ¼ë¡œ í• ìš©ë˜ëŠ” ê²½ìš°ëŠ” ì—†ì„ ê²ƒì´ë¼ íŒë‹¨ë˜ì–´ ë³„ë„ë¡œ ì¶”ê°€í•˜ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤.\nTAGS, REVIEWS, REVIEWS_TAGS ê¸°ë³¸ ì œê³µëœ ë°ì´í„°ì—ì„œ TAGSëŠ” ì „ì²´ 2,328,315ê±´ ì¤‘ ìœ ë‹ˆí¬í•œ tagëŠ” 153,950ê°œ ì˜€ìŠµë‹ˆë‹¤.\nerDiagram TAGS { int user_id PK,FK int movie_id PK,FK int tag PK,FK timestamp create_ts } ìœ„ì™€ ê°™ì€ êµ¬ì¡°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆëŠ”ë°, ì¼ë°˜ì ìœ¼ë¡œ ì´ëŸ¬í•œ í˜•íƒœì˜ íƒœê·¸ëŠ” ê¸€ê³¼ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” í•´ì‹œíƒœê·¸ ê°™ì€ ê¸°ëŠ¥ì´ì–´ì„œ ì–´ë–»ê²Œ êµ¬ì¡°ë¥¼ ê°€ì ¸ê°€ì•¼í• ì§€ ê³ ë¯¼ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.\nì œ ì¶”ì¸¡ìœ¼ë¡œëŠ” ì´ ë°ì´í„°ì˜ ëª©ì ì€ ì¶”ì²œ ëª¨ë¸ ê°œë°œì´ë¯€ë¡œ ì‚¬ìš©ìì™€ ì˜í™”ì˜ ê´€ê³„, ì‚¬ìš©ìê°€ ìì£¼ í™œìš©í•œ íƒœê·¸, íŠ¹ì • ì˜í™”ì— ë§ì´ í™œìš©ëœ íƒœê·¸ ë“± user_id, movie_idë¥¼ ê¸°ì¤€ìœ¼ë¡œ í™œìš©í•˜ëŠ” ê²ƒì´ ë” ì í•©í–ˆê¸° ë•Œë¬¸ì´ë¼ê³  ìƒê°ë˜ì—ˆìŠµë‹ˆë‹¤.\nì´ ë¶€ë¶„ë“¤ì„ ê³ ë ¤í•˜ì—¬ êµ¬ì„±í•œ í…Œì´ë¸” êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nerDiagram TAGS { string name PK timestamp create_ts } REVIEWS_TAGS { int user_id PK,FK int movie_id PK,FK int tag_name PK,FK } REVIEWS { int review_id PK int user_id FK int movie_id FK string content timestamp create_ts timestamp update_ts } TAGS ||--o{ REVIEWS_TAGS: \"\" REVIEWS_TAGS }o--|| REVIEWS: \"\" ê¸°ì¡´ TAGSë¥¼ REVIEWS_TAGSë¡œ ë°”ê¿” ì—°ê²° í…Œì´ë¸”ë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.\nTAGS í…Œì´ë¸”ì€ tagë§Œì„ ê°€ì§€ê²Œ êµ¬ì„±í•˜ê³ , ì‚¬ìš©ìê°€ ì˜í™”ì— í›„ê¸°ë¥¼ ë‚¨ê¸°ëŠ” ê¸°ëŠ¥ì„ ê³ ë ¤í•˜ì—¬ REVIEWS í…Œì´ë¸”ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.\nTAGS í…Œì´ë¸”ì€ ì•ì„œ ì–¸ê¸‰í–ˆë˜ ë°ì´í„° ì¤‘ë³µ ë¿ë§Œ ì•„ë‹ˆë¼ íŠ¹ì • íƒœê·¸ë¥¼ í™œìš©í•œ ê²Œì‹œê¸€ ê²€ìƒ‰ë“± í™œìš©ë  ì—¬ì§€ê°€ ë§ê¸° ë•Œë¬¸ì— ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.\nì‚¬ìš© íšŸìˆ˜ ê°™ì€ ì»¬ëŸ¼ë“¤ì„ ì¶”ê°€í•˜ëŠ” ê²ƒë„ ê³ ë ¤í•˜ì˜€ìœ¼ë‚˜, í˜„ ìƒí™©ì—ì„œëŠ” (tag_name) ì¸ë±ìŠ¤ ì¶”ê°€ ì •ë„ë¡œ ì¶©ë¶„íˆ ë¹ ë¥¸ ì¡°íšŒë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê²Œì‹œê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ ë“±ì˜ ë¡œì§ ì²˜ë¦¬ì— ë³€ìˆ˜ë“¤ì„ ë°°ì œí•˜ëŠ”ê²ƒì´ ì¢‹ê² ë‹¤ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.\nREVIEWS í…Œì´ë¸”ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­(ë² ìŠ¤íŠ¸ í›„ê¸° ë“±)ì— ë”°ë¼ ë‹¨ë…ìœ¼ë¡œ í™œìš©ë  ì—¬ì§€ê°€ ë§ë‹¤ê³  ìƒê°ë˜ì–´ RATINGS í…Œì´ë¸”ê³¼ ë‹¤ë¥´ê²Œ review_idë¥¼ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.\nREVIEWS_TAGS í…Œì´ë¸”ì€ ê¸°ì¡´ ì™¸ë˜í‚¤ì¸ user_id, movie_idë¥¼ review_idë¡œ ë³€ê²½í•˜ì§€ ì•Šê³  ì‚¬ìš©í–ˆëŠ”ë°, ìœ„ì—ì„œ ì–¸ê¸‰í•œëŒ€ë¡œ ì‚¬ìš©ìì™€ ì˜í™”ì˜ ê´€ê³„ë¥¼ ì‰½ê²Œ ì´ìš©í•˜ë ¤ë©´ ê¸°ì¡´ ë°©ì‹ì´ ë” ì í•©í•˜ê³ , REVIEWSì™€ ê´€ë ¨ëœ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤ë©´ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì¶©ë¶„íˆ ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.\nëìœ¼ë¡œ ë°ì´í„°ì…‹ êµ¬ì¡° í™•ì¸ì— ì´ì–´ ê°„ë‹¨íˆ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ êµ¬ìƒí•´ë´¤ìŠµë‹ˆë‹¤.\në§Œë“¤ì–´ ë†“ê³  ë³´ë‹ˆ ë­”ê°€ ì°œì°œí•œ ê¸°ë¶„ì´ ê³„ì† ë‚¨ë„¤ìš”..\nì œ ì—­ëŸ‰ì´ ë¶€ì¡±í•´ì„œ ì–´ë–¤ ë¬¸ì œë“¤ì´ ë°œìƒí•˜ê²Œ ë ì§€ ì˜ˆìƒí•  ìˆ˜ëŠ” ì—†ì§€ë§Œ ì•ìœ¼ë¡œ ë°œê²¬ë˜ëŠ” ë¶€ì¡±í•œ ë¶€ë¶„ë“¤ì€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì¡°ê¸ˆì”© ìˆ˜ì •í•´ë‚˜ê°€ê² ìŠµë‹ˆë‹¤.\nëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ :)\n","date":"2024-03-19T16:00:01+09:00","image":"https://codemario318.github.io/post/movielens/2/cover_hu223669cbbbe5efa1c70286790dba8a54_16582_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/movielens/2/","title":"[MovieLens] 2. DB ì„¤ê³„"},{"content":"ì•ˆë…•í•˜ì„¸ìš” :D ì„œì¹­í•˜ë˜ ì¤‘ ì¬ë¯¸ìˆì–´ë³´ì´ëŠ” ë°ì´í„°ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.\në¯¸ë„¤ì†Œíƒ€ ëŒ€í•™ì˜ ì»´í“¨í„° ê³¼í•™ ì—°êµ¬ ê·¸ë£¹ì¸ GroupLensì—ì„œ ê³µê°œí•œ MovieLens ë°ì´í„°ì…‹ìœ¼ë¡œ, GroupLensì˜ ì—°êµ¬ ë¶„ì•¼ ì¤‘ í•˜ë‚˜ì¸ ì¸ê³µì§€ëŠ¥ ì¶”ì²œ ì‹œìŠ¤í…œì„ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë°ì´í„°ì…‹ì…ë‹ˆë‹¤.\n86,537í¸ì˜ ì˜í™”ì™€ ê·¸ì™€ ê´€ë ¨ëœ 33,832,162ê°œì˜ í‰ì  ë° 2,328,315ê°œì˜ íƒœê·¸ë¡œ êµ¬ì„±ë˜ì–´ìˆëŠ”ë°, ë³¼ë¥¨ì´ ê½¤ ì»¤ì„œ ì§ì ‘ í™œìš©í•´ë³´ì§€ ëª»í–ˆë˜ ê¸°ìˆ ë“¤ì„ ì‹¤ì „ì— ìœ ì‚¬í•œ í™˜ê²½ì—ì„œ ë§Œë“¤ì–´ ë³¼ ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ëŠ” ì²˜ìŒ RDBMS ë¶€í„° ì‹œì‘í•˜ì—¬, ì¼ë¶€ ë°ì´í„°ë“¤ì„ ë‹¤ë¥¸ ê¸°ìˆ ë“¤ë¡œ ì „í™˜í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ ê°œì„ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\nì˜¤ëŠ˜ì€ ì²« ê±¸ìŒìœ¼ë¡œ ë°ì´í„°ê°€ ì–´ë–¤ í˜•ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆëŠ”ì§€ ê°„ëµí•˜ê²Œ ì‚´í´ë³´ê³ , ì–´ë–¤ í˜•íƒœë¡œ ì„¤ê³„í• ì§€ ê³ ë¯¼í•´ë³´ê² ìŠµë‹ˆë‹¤.\nPython3ì™€ Pandasë¥¼ í™œìš©í•˜ì—¬ ê°„ë‹¨íˆ í™•ì¸ë¥¼ í–ˆëŠ”ë°, í™˜ê²½ êµ¬ì„±ê³¼ ê°™ì€ ë‚´ìš©ë“¤ì€ Movielens ë°ì´í„°ì…‹ êµ¬ì¡° í™•ì¸ ë ˆí¬ì§€í† ë¦¬ë¥¼ ì°¸ê³ í•´ì£¼ì‹œë©´ ë˜ê² ìŠµë‹ˆë‹¤.\në°ì´í„°ì…‹ì— ëŒ€í•œ ì •ë³´ëŠ” README.htmlì— ìƒì„¸íˆ ë‚˜ì™€ìˆìŠµë‹ˆë‹¤.\në°ì´í„°ì…‹ êµ¬ì„± ë°ì´í„°ì…‹ì€ userId, movieIdë¥¼ ê³µí†µìœ¼ë¡œ í™œìš©í•˜ê³  ìˆê³ , ì•ì„œ ì„¤ëª…ë“œë ¸ë˜ ì˜í™”, í‰ì , íƒœê·¸ í¬í•¨ ì´ 6ê°œì˜ .csv íŒŒì¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nuserId\nMovieLensì˜ ì‚¬ìš©ìë¡œ ë¬´ì‘ìœ„ ì„ íƒ movieId\nMovieLensì— ë“±ë¡ëœ ì˜í™”ë¡œ, ë“±ê¸‰ì´ë‚˜ íƒœê·¸ê°€ í•˜ë‚˜ ì´ìƒ ë“±ë¡ëœ ì˜í™” í¬í•¨ëœ ë°ì´í„° ì¤‘ ì˜í™”ì— ëŒ€í•œ íƒœê·¸ ê´€ë ¨ì„± ì ìˆ˜ë¥¼ í¬í•¨í•˜ëŠ” ë°ì´í„° ì…‹ì¸ íƒœê·¸ ê²Œë†ˆ(genome-scores.csv, genome-tags.csv)ì™€ ì˜í™” ë°ì´í„°ì˜ ë‹¤ë¥¸ ì†ŒìŠ¤ì— ì—°ê²°í•˜ê¸° ìœ„í•œ ì‹ë³„ì ì •ë³´ê°€ ë‹´ê²¨ìˆëŠ” links.csv ë°ì´í„°ëŠ” í™œìš©í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤.\nmovies ì˜í™” ë°ì´í„°ëŠ” movieId, title, genres ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nì˜í™”ì˜ ì œëª©ë“¤ì€ ì§ì ‘ ì…ë ¥ë˜ì—ˆê±°ë‚˜, https://www.themoviedb.org/ì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¡œ, ê´„í˜¸ ì•ˆì— ê°œë´‰ë…„ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë‚˜ ì •í™•í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ê³  í•©ë‹ˆë‹¤.\nì˜í™” ì¥ë¥´ë“¤ì„ ëª¨ë‘ í¬í•¨í•˜ê³ ìˆëŠ” genres ì»¬ëŸ¼ì€ ì•„ë˜ì˜ 19ê°œ ì¥ë¥´ì¤‘ ì¼ë¶€ë¥¼ | ë¬¸ìë¡œ í•©ì¹œ í˜•íƒœë¡œ êµ¬ì„±ëœë‹¤ê³  í•©ë‹ˆë‹¤.\nAction Adventure Animation Children\u0026rsquo;s Comedy Crime Documentary Drama Fantasy Film-Noir Horror Musical Mystery Romance Sci-Fi Thriller War Western (no genres listed) ì¥ë¥´ê°€ ì—†ëŠ” ê²½ìš°ëŠ” (no genres listed)ê°€ ì…ë ¥ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„ NULLì„ í—ˆìš©í•˜ì§€ëŠ” ì•ŠëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ë„¤ìš”.\n1 2 3 4 5 import pandas as pd df = pd.read_csv(\u0026#34;dataset/movies.csv\u0026#34;) len(df) # 86537 íŒŒì¼ì„ pandas DataFrameìœ¼ë¡œ ì—´ê³  ê±´ìˆ˜ë¥¼ í™•ì¸í•´ë³´ë‹ˆ, ì²˜ìŒ ì–¸ê¸‰í•œëŒ€ë¡œ 86,537ê±´ì´ì—ˆìŠµë‹ˆë‹¤.\n1 df.head() ìµœìƒë‹¨ 5ê±´ì„ í™•ì¸í•´ë³´ë‹ˆ, README.htmlì— ì–¸ê¸‰ëœ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë“¤ì´ ì €ì¥ë˜ì–´ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.\nmovieId title genres 1 Toy Stroy (1995) Adventure|Animation|Children|Comedy|Fantasy 2 Jumanji (1995) Adventure|Children|Fantasy 3 Grumpier Old Men (1995) Comedy|Romance 4 Waiting to Exhale (1995) Comedy|Drama|Romance 5 Father of the Bride Part II (1995) Comedy genres ì»¬ëŸ¼ ê°™ì€ ê²½ìš° ê³µì‹ ì„¤ëª…ê³¼ëŠ” ë‹¬ë¦¬ ì´ 20ê°œë¡œ IMAXê°€ ì¶”ê°€ë˜ìˆìŠµë‹ˆë‹¤. ëˆ„ë½ë˜ì—ˆë‚˜ë³´ë„¤ìš”.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 genres_list = df[\u0026#34;genres\u0026#34;].map(lambda x: x.split(\u0026#34;|\u0026#34;)) genres = set() for l in genres_list: genres.update(l) print(len(genres)) # 20 print(genres) \u0026#39;\u0026#39;\u0026#39; { \u0026#39;Adventure\u0026#39;, \u0026#39;War\u0026#39;, \u0026#39;(no genres listed)\u0026#39;, \u0026#39;Action\u0026#39;, \u0026#39;Mystery\u0026#39;, \u0026#39;Fantasy\u0026#39;, \u0026#39;Film-Noir\u0026#39;, \u0026#39;Comedy\u0026#39;, \u0026#39;Romance\u0026#39;, \u0026#39;IMAX\u0026#39;, \u0026#39;Crime\u0026#39;, \u0026#39;Musical\u0026#39;, \u0026#39;Animation\u0026#39;, \u0026#39;Drama\u0026#39;, \u0026#39;Horror\u0026#39;, \u0026#39;Children\u0026#39;, \u0026#39;Sci-Fi\u0026#39;, \u0026#39;Thriller\u0026#39;, \u0026#39;Western\u0026#39;, \u0026#39;Documentary\u0026#39; } \u0026#39;\u0026#39;\u0026#39; 1 len(df[df[\u0026#39;genres\u0026#39;].str.contains(\u0026#39;IMAX\u0026#39;)]) # 195 IMAXê°€ í¬í•¨ëœ ì¥ë¥´ë¥¼ ê°€ì§€ëŠ” ë ˆì½”ë“œë“¤ì€ ì´ 195ê±´ìœ¼ë¡œ ë§ì§€ëŠ” ì•Šì§€ë§Œ ë°ì´í„° ë¶„í¬ ê°™ì€ ê²ƒë“¤ì´ ì¤‘ìš”í•œ ìš”ì†ŒëŠ” ì•„ë‹ˆê¸°ë•Œë¬¸ì— ê·¸ëƒ¥ í™œìš©í•´ë„ ê´œì°®ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.\nëˆˆì— ë„ëŠ”ì ì€ genres ì»¬ëŸ¼ì¸ë°, ê° ì¥ë¥´ê°€ | ë¬¸ìë¡œ êµ¬ë¶„ë˜ì–´ ì—¬ëŸ¬ê°œ í•­ëª©ì´ ë“¤ì–´ìˆìŠµë‹ˆë‹¤. ì¥ë¥´ë“¤ì´ ì˜ì–´ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ì €ì¥ë˜ì–´ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì´ë„¤ìš”.\nì´ëŸ¬í•œ ê²½ìš° ì¼ë°˜ì ì¸ RDBMSì—ì„œ genresë¥¼ ì¡°ê±´ìœ¼ë¡œ ì´ìš©í•˜ì—¬ SELECTí•˜ê²Œ ë  ê²½ìš° %{keyword}%ë¡œ ì²˜ë¦¬í•´ì•¼í•˜ë¯€ë¡œ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ì—†ê³ , ì´ë¡œ ì¸í•´ ì„±ëŠ¥ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ngenres ì»¬ëŸ¼ë“¤ì˜ ê° ì¥ë¥´ë“¤ì„ ì¹´í…Œê³ ë¦¬ í…Œì´ë¸”ë¡œ ë¶„ë¦¬í•˜ê³  movieIdì™€ ì¥ë¥´ ê°„ 1:N í…Œì´ë¸”ì„ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë°”ê¾¼ë‹¤ë©´ ì¥ë¥´ë¥¼ ì´ìš©í•œ ê²€ìƒ‰ ì¡°ê±´ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œëŠ” í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ë§Œ\u0026hellip;\ngenresê°€ ì—¬ëŸ¬ê°œì˜ ì¥ë¥´ë¥¼ í¬í•¨í•  ìˆ˜ ìˆë‹¤ëŠ” íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ì¿¼ë¦¬ ì‘ì„±í•  ë•Œ ì¡°ì¸ì„ ì‚¬ìš©í•˜ë©´ moviesì˜ ì»¬ëŸ¼ë“¤ì´ ì¤‘ë³µë©ë‹ˆë‹¤.\nì´ë¡œ ì¸í•´ ì„œë¸Œ ì¿¼ë¦¬ë‚˜ CONCATê³¼ ê°™ì€ ì²˜ë¦¬ë¥¼ í•„ìš”ë¡œ í•˜ê±°ë‚˜, movieIdë¡œ ì¥ë¥´ë¥¼ ì¡°íšŒí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•˜ë¯€ë¡œ ì¡°íšŒ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŒì€ ë¬¼ë¡ , í…Œì´ë¸” êµ¬ì¡°ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ë³µì¡í•´ì§‘ë‹ˆë‹¤.\ngenresì˜ ë°ì´í„° í˜•íƒœì™€ í•œë²ˆ ë“±ë¡ë˜ë©´ ë³€í•˜ì§€ ì•ŠëŠ” ì¥ë¥´ì˜ íŠ¹ì„±ìœ¼ë¡œ ë³¼ ë•Œ, ë‹¨ìˆœ ì¡°íšŒë¥¼ ìœ„í•œ ì»¬ëŸ¼ì´ì§€ ì•Šì„ê¹Œ ì¶”ì¸¡ë˜ê³ , ê²€ìƒ‰ ê¸°ëŠ¥ì€ ê²€ìƒ‰ ì—”ì§„ì„ ë³„ë„ë¡œ êµ¬ì„±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ê³  ìˆì„ ê²ƒ ê°™ë‹¤ëŠ” ì˜ˆìƒì„ í•´ë´…ë‹ˆë‹¤.\nì¼ë‹¨ RDBMSë¥¼ ì´ìš©í•œ genres ì»¬ëŸ¼ ì¡°ê±´ ê²€ìƒ‰ì€ ë°°ì œí•˜ê³  ì´í›„ ë” ì¢‹ì€ ë°©ë²•ì„ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ì¢‹ê² ìŠµë‹ˆë‹¤.\ntags íƒœê·¸ ë°ì´í„°ëŠ” userId, movieId, tag, timestampë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nê° í–‰ì€ í•œëª…ì˜ ì‚¬ìš©ìê°€ í•œ ì˜í™”ì— ì ìš©í•œ í•˜ë‚˜ì˜ íƒœê·¸ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\ntagëŠ” ë‹¨ì¼ ë‹¨ì–´ë‚˜ ì§§ì€ ë¬¸êµ¬ë¡œ êµ¬ì„±ë˜ë©°, ì˜ë¯¸, ê°€ì¹˜, ëª©ì ì€ ê° ì‚¬ìš©ìì˜ ëª©ì ì— ì˜í•´ ê²°ì •ë©ë‹ˆë‹¤.\në°ì´í„°ëŠ” ì´ 2,328,315ê±´ìœ¼ë¡œ í™•ì¸ë©ë‹ˆë‹¤.\n1 2 df = pd.read_csv(\u0026#34;dataset/tags.csv\u0026#34;) df.head() userId movieId tag timestamp 10 260 good vs evil 1430666558 10 260 Harrison Ford 1430666505 10 260 sci-fi 1430666538 14 1221 Al Pacino 1311600756 14 1221 mafia 1311600746 tags.csv íŒŒì¼ì„ ì½ì–´ ìµœìƒë‹¨ 5ê±´ì„ í™•ì¸í•´ë³´ë©´ 1ëª…ì˜ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ê°œì˜ ì˜í™”ì— ì—¬ëŸ¬ê°œì˜ íƒœê·¸ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ˆìƒí•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 unique_tags = df[\u0026#34;tag\u0026#34;].drop_duplicates() len(unique_tags) # 153950 ìœ ë‹ˆí¬í•œ tag ê°’ì€ 153,950ê±´ ì…ë‹ˆë‹¤.\ntags.csvëŠ” ì‚¬ìš©ìê°€ í•œ ì˜í™”ì— ì ìš©í•œ íƒœê·¸ë¡œ 1ëª…ì˜ ìœ ì €ê°€ ì—¬ëŸ¬ ì˜í™”ì— ì—¬ëŸ¬ ì¢…ë¥˜ì˜ íƒœê·¸ë¥¼ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì „ì²´ í•­ëª©ì€ 2,328,315ê±´ ì´ì§€ë§Œ, tag ì»¬ëŸ¼ì˜ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ëŠ” 153,950ê°œ ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ íŠ¹ì„±ì„ ì§€ë‹Œ tag.csvì˜ ë°ì´í„°ë¥¼ RDBMSì— ì €ì¥í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ë°©ë²•ì¸ê°€ ì˜êµ¬ì‹¬ì´ ë“¤ê¸´ í•˜ì§€ë§Œ, ì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ ì •ì±…ìœ¼ë¡œ ì˜ˆìƒí•´ ë³¼ ë•Œ(íŠ¹ì • ì˜í™”ì— ì ìš©ëœ íƒœê·¸ë“¤ ì¡°íšŒ, ì‚¬ìš©ìê°€ í™œìš©í•œ íƒœê·¸ë“¤ ì¡°íšŒ, ì‚¬ìš©ìê°€ íŠ¹ì • ì˜í™”ì— ë‚¨ê¸´ íƒœê·¸ ì¡°íšŒ ë“±) ì¸ë±ìŠ¤ ì„¤ì •ë§Œ ì˜ í•´ì¤€ë‹¤ë©´ í™”ë©´ì— ë…¸ì¶œ ë  ë°ì´í„° ì¡°íšŒ ì„±ëŠ¥ì—ëŠ” í° ì´ìŠˆëŠ” ì—†ì–´ ë³´ì…ë‹ˆë‹¤.\nì²˜ìŒì—” RDBMSë¡œ ì²˜ë¦¬í•˜ë”ë¼ë„ ì´í›„ ìƒˆë¡œìš´ ìš”êµ¬ê°€ ìˆë‹¤ë©´, ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ë³€ê²½ì„ ê³ ë ¤í•  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.\nratings 1 2 df = pd.read_csv(\u0026#34;dataset/ratings.csv\u0026#34;) df.head() userId movieId rating timestamp 1 1 4.0 1225734739 1 110 4.0 1225865086 1 158 4.0 1225733503 1 260 4.5 1225735204 1 356 5.0 1225735119 í‰ê°€ ë°ì´í„°ëŠ” userId, movieId, rating, timestampë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nê° í–‰ì€ í•œ ì‚¬ìš©ìê°€ í•œ ì˜í™”ì— ë‚¨ê¸´ ì ìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.\n1 2 print(len(df)) # 33832162 print(min(df[\u0026#34;rating\u0026#34;]), max(df[\u0026#34;rating\u0026#34;])) # 0.5 5.0 ì´ ë°ì´í„° ìˆ˜ëŠ” 33,832,162ê±´, ìµœëŒ€, ìµœì†Œê°’ì€ ê°ê° 0.5, 5.0 ì…ë‹ˆë‹¤.\nratings.csvëŠ” ì˜í™”ì— ëŒ€í•œ ì‚¬ìš©ìì˜ í‰ì ìœ¼ë¡œ ì˜í™” í•˜ë‚˜ì— í•˜ë‚˜ë§Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì˜í™” ëª©ë¡ì„ ê²€ìƒ‰í•  ë•Œ ì¼ë°˜ì ìœ¼ë¡œ í‰ê·  í‰ì ì´ í¬í•¨ë˜ëŠ”ë°, í˜„ì¬ ìƒíƒœë¡œ í…Œì´ë¸”ì„ ìƒì„±í•  ì‹œ ì¡°íšŒ ì²˜ë¦¬ì—ì„œ GROUP BYë‚˜ ì„œë¸Œ ì¿¼ë¦¬ë¥¼ í†µí•´ í‰ê· ì„ ê³„ì‚°í•œë‹¤ë˜ê°€, í™œìš©ëœ ê°’ë“¤ì„ ì¡°íšŒí•˜ëŠ” ì²˜ë¦¬ê°€ í•„ìš”í•˜ê²Œ ë˜ê³ , ì´ ë•Œë¬¸ì— ì¡°íšŒ ì„±ëŠ¥ì— ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë¥¼ ë°©ì§€ ìœ„í•´ movies í…Œì´ë¸”ì— í†µê³„ ì •ë³´ì— í™œìš©ë  ì»¬ëŸ¼ì„ ë§Œë“¤ì–´ ë‘ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„í•˜ëŠ” ê²ƒë„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.\nrating ì»¬ëŸ¼ë„ ê¼­ ì†Œìˆ˜ë¡œ ë„£ì„ í•„ìš”ëŠ” ì—†ì–´ë³´ì´ë„¤ìš”.\nëìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ MovieLens ë°ì´í„°ì…‹ì˜ ì£¼ìš” ë°ì´í„°ë“¤ì„ í™•ì¸í•´ë´¤ìŠµë‹ˆë‹¤.\nì˜í™”ë“¤ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ê°€ ì—†ì–´ ë‹¤ì±„ë¡œìš´ ê¸°ëŠ¥ë“¤ì€ êµ¬í˜„í•  ìˆ˜ ì—†ì„ ê²ƒ ê°™ë‹¤ëŠ” ì ì´ ì¡°ê¸ˆ ì•„ì‰¬ìš´ ë§ˆìŒì— ì°¾ì•„ë³´ë‹ˆ MovieLens ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ TBMS APIì´ìš©í•˜ì—¬ ë§Œë“  The Movies Dataset ë°ì´í„°ê°€ Kaggleì— ê³µê°œë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ë°ì´í„°ê°€ ìµœì‹ í™”ê°€ ì•ˆë˜ì–´ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ë°ì´í„°ê°€ ë§ì•„ ì‚¬ìš©ì€ ë³´ë¥˜í–ˆìŠµë‹ˆë‹¤.\nì¼ë‹¨ ìƒê°í•˜ê³  ìˆëŠ” ê¸°ëŠ¥ë“¤ì€ MovieLens ë°ì´í„°ìœ¼ë¡œ ì¶©ë¶„í•´ì„œ í•„ìš”ëŠ” ì—†ì§€ë§Œ, ì—¬ìœ ê°€ ëœë‹¤ë©´ ì œê°€ ìµœì‹ í™”ë¥¼ í•´ë´ë„ ê´œì°®ì„ ê²ƒ ê°™ë„¤ìš”.\në‹¤ìŒì€ ê° ë°ì´í„°ì˜ íŠ¹ì„±ì„ ê³ ë ¤í•˜ì—¬ í…Œì´ë¸”ì„ ì„¤ê³„í•˜ê³ , DBì— ì ì¬í•´ë³¼ì˜ˆì •ì…ë‹ˆë‹¤.\në¶€ì¡±í•œ ê¸€ ëê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ :D\n","date":"2024-03-18T11:00:01+09:00","image":"https://codemario318.github.io/post/movielens/1/cover_hu223669cbbbe5efa1c70286790dba8a54_16582_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/movielens/1/","title":"[MovieLens] 1. ë°ì´í„° ì‚´í´ë³´ê¸°"},{"content":"ì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ë‹¤ìŒì„ ì§€ì›í•´ì•¼í•œë‹¤.\nì‹œìŠ¤í…œì˜ ìœ ìŠ¤ì¼€ì´ìŠ¤ ì‹œìŠ¤í…œì˜ ìš´ì˜ ì‹œìŠ¤í…œì˜ ê°œë°œ ì‹œìŠ¤í…œì˜ ë°°í¬ ìœ ìŠ¤ì¼€ì´ìŠ¤ ì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì˜ ì˜ë„ë¥¼ ì§€ì›í•´ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\nì‹¤ì œë¡œ ì•„í‚¤í…íŠ¸ì˜ ìµœìš°ì„  ê´€ì‹¬ì‚¬ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ì´ë©°, ì•„í‚¤í…ì²˜ì—ì„œë„ ìœ ìŠ¤ì¼€ì´ìŠ¤ê°€ ìµœìš°ì„ ì´ë‹¤. ë”°ë¼ì„œ ì•„í‚¤í…ì²˜ëŠ” ë°˜ë“œì‹œ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì§€ì›í•´ì•¼í•œë‹¤.\nì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì˜ í–‰ìœ„ ì°¨ì œì—ëŠ” í° ì˜í–¥ì„ ì£¼ì§€ ì•Šìœ¼ë©°, í–‰ìœ„ì™€ ê´€ë ¨í•˜ì—¬ ì•„í‚¤í…ì²˜ê°€ ì—´ì–´ë‘˜ ìˆ˜ ìˆëŠ” ì„ íƒì‚¬í•­ì˜ ê±°ì˜ ì—†ë‹¤.\ní•˜ì§€ë§Œ, ì•„í‚¤í…ì²˜ì˜ ì‹œìŠ¤í…œì˜ í–‰ìœ„ì— ëŒ€í•œ ì§ì ‘ì ì¸ ì˜í–¥ë ¥ê³¼ ë³„ê°œë¡œ ì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì˜ í–‰ìœ„ë¥¼ ì§€ì›í•  ìˆ˜ ìˆë‹¤.\ní–‰ìœ„ë¥¼ ëª…í™•íˆ í•˜ê³  ì™¸ë¶€ë¡œ ë“œëŸ¬ë‚¸ë‹¤. ì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œì´ ì§€ë‹Œ ì˜ë„ë¥¼ ì•„í‚¤í…ì²˜ ìˆ˜ì¤€ì—ì„œ ì•Œì•„ë³¼ ìˆ˜ ìˆê²Œ ë§Œë“ ë‹¤. ì¢‹ì€ ì•„í‚¤í…ì²˜ë¥¼ ê°€ì§„ë‹¤ë©´ ì‹œìŠ¤í…œì˜ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì‹œìŠ¤í…œ êµ¬ì¡° ìì²´ì—ì„œ í•œëˆˆì— ë“œëŸ¬ë‚œë‹¤.\nì´ëŸ¬í•œ ì‹œìŠ¤í…œì˜ í–‰ìœ„ëŠ” ì¼ê¸‰ ìš”ì†Œ first-class elementì´ë©° ì‹œìŠ¤í…œì˜ ìµœìƒìœ„ ìˆ˜ì¤€ì—ì„œ ì•Œì•„ë³¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ê°œë°œìê°€ ì¼ì¼ì´ ì°¾ì•„ í—¤ë§¤ì´ì§€ ì•Šì•„ë„ ëœë‹¤. ì´ë“¤ ìš”ì†ŒëŠ” í´ë˜ìŠ¤ì´ê±°ë‚˜ í•¨ìˆ˜ ë˜ëŠ” ëª¨ë“ˆëŸ¬ì„œ ì•„í‚¤í…ì²˜ ë‚´ì—ì„œ í•µì‹¬ì ì¸ ìë¦¬ë¥¼ ì°¨ì§€í•  ë¿ë§Œ ì•„ë‹ˆë¼, ìì‹ ì˜ ê¸°ëŠ¥ì„ ë¶„ëª…í•˜ê²Œ ì„¤ëª…í•˜ëŠ” ì´ë¦„ì„ ê°€ì ¸ì•¼í•œë‹¤. ìš´ì˜ ì‹œìŠ¤í…œì˜ ìš´ì˜ ì§€ì› ê´€ì ì—ì„œ ë³¼ ë•Œ ì•„í‚¤í…ì²˜ëŠ” ë” ì‹¤ì§ˆì ì´ë©° ëœ í”¼ìƒì ì¸ ì—­í• ì„ ë§¡ëŠ”ë‹¤.\nì˜ˆì‹œ\nì‹œìŠ¤í…œì´ ì´ˆë‹¹ 100,000ëª…ì˜ ê³ ê°ì„ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ë©´, ì•„í‚¤í…ì²˜ëŠ” ì´ ìš”êµ¬ì™€ ê´€ë ¨ëœ ê° ìœ ìŠ¤ì¼€ì´ìŠ¤ì— ê±¸ë§ì€ ì²˜ë¦¬ëŸ‰ê³¼ ì‘ë‹µì‹œê°„ì„ ë³´ì¥í•´ì•¼ í•œë‹¤. ì‹œìŠ¤í…œì—ì„œ ìˆ˜ ë°€ë¦¬ì´ˆ ì•ˆì— 3ì°¨ì›ì˜ ë¹…ë°ì´í„° í…Œì´ë¸”ì— ì§ˆì˜í•´ì•¼ í•œë‹¤ë©´, ë°˜ë“œì‹œ ì´ëŸ¬í•œ ìš´ì˜ ì‘ì—…ì„ í—ˆìš©í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ì¡°í™”í•´ì•¼í•œë‹¤. ì˜ˆì‹œì™€ ê°™ì´ í˜•íƒœë¥¼ ì§€ì›í•œë‹¤ëŠ” ë§ì€ ë‹¤ì–‘í•œ ì˜ë¯¸ë¥¼ ì§€ë‹Œë‹¤.\nì‹œìŠ¤í…œì˜ ì²˜ë¦¬ ìš”ì†Œë¥¼ ì¼ë ¨ì˜ ì‘ì€ ì„œë¹„ìŠ¤ë“¤ë¡œ ë°°ì—´í•˜ì—¬, ì„œë¡œ ë‹¤ë¥¸ ë§ì€ ì„œë²„ì—ì„œ ë³‘ë ¬ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œ ê²½ëŸ‰ì˜ ìˆ˜ë§ì€ ìŠ¤ë ˆë“œê°€ ë‹¨ì¼ í”„ë¡œì„¸ì„œì—ì„œ ê°™ì€ ì£¼ì†Œ ê³µê°„ì„ ê³µìœ í•˜ëŠ” ì‹œìŠ¤í…œ ë…ë¦½ëœ ì£¼ì†Œ ê³µê°„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì†Œìˆ˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•œ ì‹œìŠ¤í…œ ë‹¨ì¼ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹¤í–‰ë˜ëŠ” ë‹¨ìˆœí•œ ëª¨ë…¸ë¦¬í‹± í”„ë¡œê·¸ë¨ ìœ„ì™€ ê°™ì€ ìš´ì˜ ê´€ì ì˜ ì•„í‚¤í…ì²˜ ê²°ì •ì€ ë›°ì–´ë‚œ ì´í‚¤í…íŠ¸ë¼ë©´ ì—´ì–´ë‘ì–´ì•¼ í•˜ëŠ” ì„ íƒ ì‚¬í•­ ì¤‘ì˜ í•˜ë‚˜ë‹¤.\nì•„í‚¤í…ì²˜ì—ì„œ ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ì ì ˆíˆ ê²©ë¦¬í•˜ì—¬ ìœ ì§€í•˜ê³  ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹  ë°©ì‹ì„ íŠ¹ì • í˜•íƒœë¡œ ì œí•œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì‹œê°„ì´ ì§€ë‚˜ ìš´ì˜ì— í•„ìš”í•œ ìš”êµ¬ì‚¬í•­ì´ ë°”ë€Œë”ë¼ë„ ìŠ¤ë ˆë“œ, í”„ë¡œì„¸ìŠ¤, ì„œë¹„ìŠ¤ë¡œ êµ¬ì„±ëœ ê¸°ìˆ  ìŠ¤í™íŠ¸ëŸ¼ ì‚¬ì´ë¥¼ ì „í™˜í•˜ëŠ” ì¼ì´ í›¨ì”¬ ì‰¬ì›Œì§ˆ ê²ƒì´ë‹¤.\nê°œë°œ ì•„í‚¤í…ì²˜ëŠ” ê°œë°œí™˜ê²½ì„ ì§€ì›í•˜ëŠ”ë° ìˆì–´ í•µì‹¬ì ì¸ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\nì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ëŠ” ì¡°ì§ì´ë¼ë©´ ì–´ë””ë“ ì§€ ê·¸ ì¡°ì§ì˜ ì˜ì‚¬ì†Œí†µ êµ¬ì¡°ì™€ ë™ì¼í•œ êµ¬ì¡°ì˜ ì„¤ê³„ë¥¼ ë§Œë“¤ì–´ ë‚¼ ê²ƒì´ë‹¤.\n- ì½˜ì›¨ì´ ë²•ì¹™ -\në§ì€ íŒ€ìœ¼ë¡œ êµ¬ì„±ë˜ë©° ê´€ì‹¬ì‚¬ê°€ ë‹¤ì–‘í•œ ì¡°ì§ì—ì„œ ì–´ë–¤ ì‹œìŠ¤í…œì„ ê°œë°œí•´ì•¼ í•œë‹¤ë©´, ê° íŒ€ì´ ë…ë¦½ì ìœ¼ë¡œ í–‰ë™í•˜ê¸° í¸í•œ ì•„í‚¤í…ì²˜ë¥¼ ë°˜ë“œì‹œ í™•ë³´í•˜ì—¬ ê°œë°œí•˜ëŠ” ë™ì•ˆ íŒ€ë“¤ì´ ì„œë¡œ ë°©í•´í•˜ì§€ ì•Šë„ë¡ í•´ì•¼ í•œë‹¤. ì˜ ê²©ë¦¬ë˜ì–´ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì‹œìŠ¤í…œì„ ë¶„í•  í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ë°°í¬ ì•„í‚¤í…ì²˜ëŠ” ë°°í¬ ìš©ì´ì„±(ì¦‰ê°ì ì¸ ë°°í¬ immediate deployment)ì„ ê²°ì •í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.\nì¢‹ì€ ì•„í‚¤í…ì²˜ë¼ë©´ ì‹œìŠ¤í…œì´ ë¹Œë“œëœ í›„ ì¦‰ê° ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•´ì•¼ í•œë‹¤.\nìˆ˜ì‹­ ê°œì˜ ì‘ì€ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ë‚˜ ì†ì„± íŒŒì¼ì„ ì•½ê°„ì”© ìˆ˜ì •í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ê¼­ í•„ìš”í•œ ë””ë ‰í„°ë¦¬ë‚˜ íŒŒì¼ì„ ìˆ˜ì‘ì—…ìœ¼ë¡œ ìƒì„±í•˜ê²Œ ë‚´ë²„ë ¤ ë‘ì§€ ì•ŠëŠ”ë‹¤. ì´ëŸ¬í•œ ì•„ì¼€í…ì²˜ë¥¼ ë§Œë“¤ë ¤ë©´ ì‹œìŠ¤í…œì„ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì ì ˆí•˜ê²Œ ë¶„í• í•˜ê³  ê²©ë¦¬ì‹œì¼œì•¼ í•œë‹¤.\në§ˆìŠ¤í„° ì»´í¬ë„ŒíŠ¸ëŠ” ì‹œìŠ¤í…œ ì „ì²´ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ê³ , ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ êµ¬ë™í•˜ê³  í†µí•©í•˜ê³  ê´€ë¦¬í•´ì•¼ í•œë‹¤.\nì„ íƒì‚¬í•­ ì—´ì–´ë†“ê¸° ì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ì™€ ê´€ë ¨ëœ ì´ ê´€ì‹¬ì‚¬ë“¤ ì‚¬ì´ì—ì„œ ê· í˜•ì„ ë§ì¶”ê³ , ê° ê´€ì‹¬ì‚¬ ëª¨ë‘ë¥¼ ë§Œì¡±ì‹œì¼œì•¼ í•˜ì§€ë§Œ, í˜„ì‹¤ì—ì„œëŠ” ì´ëŸ¬í•œ ê· í˜•ì„ ì¡ê¸°ê°€ ë§¤ìš° ì–´ë µë‹¤.\nëª¨ë“  ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì•Œ ìˆ˜ëŠ” ì—†ë‹¤. ìš´ì˜í•˜ëŠ” ë° ë”°ë¥´ëŠ” ì œì•½ì‚¬í•­, íŒ€ êµ¬ì¡°, ë°°í¬ ìš”êµ¬ì‚¬í•­ì„ ì•Œì§€ ëª»í•œë‹¤. ì´ëŸ¬í•œ ì‚¬í•­ë“¤ì„ ì•Œê³  ìˆë”ë¼ë„, ì‹œìŠ¤í…œì´ ìƒëª…ì£¼ê¸°ì˜ ë‹¨ê³„ë¥¼ í•˜ë‚˜ì”© ê±°ì³ê°ì— ë”°ë¼ ì´ ì‚¬í•­ë“¤ë„ ë°˜ë“œì‹œ ë³€í•œë‹¤. ë„ë‹¬í•˜ë ¤ëŠ” ëª©í‘œëŠ” ëšœë ·í•˜ì§€ ì•Šì„ ë¿ë§Œ ì•„ë‹ˆë¼ ì‹œì‹œê°ê° ë³€í•œë‹¤.\nì´ëŸ¬í•œ ë³€í™”ì†ì—ì„œë„ ëª‡ëª‡ ì•„í‚¤í…ì²˜ ì›ì¹™ì„ êµ¬í˜„í•˜ëŠ” ë¹„ìš©ì´ ë¹„êµì  ë¹„ì‹¸ì§€ ì•Šìœ¼ë©°, ì´ë¥¼ í†µí•´ ê´€ì‹¬ì‚¬ë“¤ ì‚¬ì´ì—ì„œ ê· í˜•ì„ ì¡ëŠ”ë° ë„ì›€ì´ ëœë‹¤ëŠ” ì‚¬ì‹¤ì€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤.\nê· í˜•ì„ ë§ì¶”ë ¤ëŠ” ëª©í‘œì ì„ ëª…í™•íˆ ê·¸ë¦´ ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ë„ ê´€ì‹¬ì‚¬ë“¤ ì‚¬ì´ì—ì„œ ê· í˜•ì„ ì¡ëŠ” ë° ë„ì›€ì´ ëœë‹¤. ì‹œìŠ¤í…œì„ ì œëŒ€ë¡œ ê²©ë¦¬ëœ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„í• í•  ë•Œ ë„ì›€ì´ ëœë‹¤. ì´ë¥¼ í†µí•´ ì„ íƒì‚¬í•­ì„ ê°€ëŠ¥ í•œ ë§ì´, ê°€ëŠ¥í•œ ì˜¤ë«ë™ì•ˆ ì—´ì–´ ë‘˜ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ì„ íƒì‚¬í•­ì„ ì—´ì–´ ë‘ ìœ¼ë¡œì¨, í–¥í›„ ì‹œìŠ¤í…œì— ë³€ê²½ì´ í•„ìš”í•  ë•Œ ì–´ë–¤ ë°©í–¥ìœ¼ë¡œë“  ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nê³„ì¸µ ê²°í•© ë¶„ë¦¬ UI, ì• í”Œë¦¬ì¼€ì´ì…˜ ìì²´ì™€ ë°€ì ‘í•œ ì—…ë¬´ ê·œì¹™ê³¼, ë„ë©”ì¸ì— ë°€ì ‘í•œ ì—…ë¬´ ê·œì¹™, ê¸°ìˆ ì ì¸ ì„¸ë¶€ì‚¬í•­ ë“±ì€ ê°ì ë‹¤ë¥¸ ì†ë„ë¡œ, ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ë˜ë¯€ë¡œ ì„œë¡œ ë¶„ë¦¬í•˜ê³ , ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì•¼ë§Œ í•œë‹¤.\nì—…ë¬´ ê·œì¹™ì€ ê·¸ ìì²´ê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë°€ì ‘í•œ ê´€ë ¨ì´ ìˆê±°ë‚˜, í˜¹ì€ ë” ë²”ìš©ì ì¼ ìˆ˜ ìˆëŠ”ë°, ì•„í‚¤í…íŠ¸ëŠ” ì´ë“¤ì„ ì‹œìŠ¤í…œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ìœ¼ë¡œë¶€í„° ë¶„ë¦¬í•˜ì—¬ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤.\nì…ë ¥ í•„ë“œ ìœ íš¨ì„± ê²€ì‚¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ìì²´ì™€ ë°€ì ‘í•˜ê²Œ ê´€ë ¨ëœ ì—…ë¬´ ê·œì¹™ì´ë‹¤. ê³„ì¢Œì˜ ì´ì ê³„ì‚°ì´ë‚˜ ì¬ê³ í’ˆ ë¹„êµëŠ” ì—…ë¬´ ë„ë©”ì¸ì— ë” ë°€ì ‘í•˜ê²Œ ì—°ê´€ëœ ì—…ë¬´ ê·œì¹™ì´ë‹¤. ì´ëŸ¬í•œ ê³„ì¸µì˜ ì˜ˆë¡œëŠ” UI, ì• í”Œë¦¬ì¼€ì´ì…˜ì— íŠ¹í™”ëœ ì—…ë¬´ ê·œì¹™, ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ëŠ” ë…ë¦½ì ‘ì¸ ì—…ë¬´ ê·œì¹™, ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ê¸°ìˆ ì ì¸ ì„¸ë¶€ì‚¬í•­ë“±ì´ ìˆë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ ê²°í•© ë¶„ë¦¬ ìœ ìŠ¤ì¼€ì´ìŠ¤ ìì²´ë„ ì„œë¡œ ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ë  ìˆ˜ ìˆë‹¤.\nì˜ˆ) ì£¼ë¬¸ ì…ë ¥ ì‹œìŠ¤í…œì˜ ì£¼ë¬¸ ì¶”ê°€ ìœ ìŠ¤ì¼€ì´ìŠ¤ì™€ ì£¼ë¬¸ ì‚­ì œ ìœ ìŠ¤ì¼€ì´ìŠ¤ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì‹œìŠ¤í…œì˜ ìˆ˜í‰ì ì¸ ê³„ì¸µì„ ê°€ë¥´ì§€ë¥´ë„ë¡ ìë¥¸ ìˆ˜ì§ìœ¼ë¡œ ì¢ë‹¤ë€ ì¡°ê°ì´ê¸°ë„ í•˜ë‹¤.\nê° ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” UIì˜ ì¼ë¶€, ì• í”Œë¦¬ì¼€ì´ì…˜ íŠ¹í™” ì—…ë¬´ ê·œì¹™ì˜ ì¼ë¶€, ì• í”Œë¦¬ì¼€ì´ì…˜ ë…ë¦½ì  ì—…ë¬´ ê·œì¹™ì˜ ì¼ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ëŠ¥ì˜ ì¼ë¶€ ë¥¼ ì‚¬ìš©í•œë‹¤. ë”°ë¼ì„œ ì‹œìŠ¤í…œì„ ìˆ˜í‰ì  ê³„ì¸µìœ¼ë¡œ ë¶„í• í•˜ë©´ì„œ ë™ì‹œì— í•´ë‹¹ ê³„ì¸µì„ ê°€ë¡œì§€ë¥´ëŠ” ì–‡ì€ ìˆ˜ì§ì ì¸ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¡œ ì‹œìŠ¤í…œì„ ë¶„í• í•  ìˆ˜ ìˆë‹¤.\nì´ì™€ ê°™ì´ ìˆ˜ì§, ìˆ˜í‰ ê²°í•©ì„ ë™ì‹œì— ë¶„ë¦¬í•˜ì—¬ ì‹œìŠ¤í…œì˜ ë§¨ ì•„ë˜ ê³„ì¸µê¹Œì§€ ìˆ˜ì§ìœ¼ë¡œ ë‚´ë ¤ê°€ë©° ìœ ìŠ¤ì¼€ì´ìŠ¤ë“¤ì´ ê° ê³„ì¸µì—ì„œ ì„œë¡œ ê²¹ì¹˜ì§€ ì•Šê²Œ í•œë‹¤.\nì„œë¡œ ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ë˜ëŠ” ìš”ì†Œë“¤ì˜ ê²°í•©ì„ ë¶„ë¦¬í•˜ë©´ ê¸°ì¡´ ìš”ì†Œì— ì§€ì¥ì„ ì£¼ì§€ ì•Šê³ ë„ ìƒˆë¡œìš´ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ê³„ì†í•´ì„œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\në˜í•œ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ë’·ë°›ì¹¨í•˜ëŠ” ì„œë¡œ ë‹¤ë¥¸ ê´€ì (aspect)ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, ìƒˆë¡œìš´ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ì¶”ê°€í•˜ë”ë¼ë„ ê¸°ì¡´ ìœ ìŠ¤ì¼€ì´ìŠ¤ì— ì˜í–¥ì„ ì£¼ëŠ” ì¼ì€ ê±°ì˜ ì—†ì„ ê²ƒì´ë‹¤.\nê°œë°œ ë…ë¦½ì„± ì»´í¬ë„ŒíŠ¸ê°€ ì™„ì „íˆ ë¶„ë¦¬ë˜ë©´ íŒ€ ì‚¬ì´ì˜ ê°„ì„­ì€ ì¤„ì–´ë“ ë‹¤.\nê¸°ëŠ¥ íŒ€, ì»´í¬ë„ŒíŠ¸ íŒ€, ê³„ì¸µ íŒ€, í˜¹ì€ ë‹¤ë¥¸ í˜•íƒœì˜ íŒ€ì´ë¼ë„, ê³„ì¸µê³¼ ìœ ìŠ¤ì¼€ì´ìŠ¤ì˜ ê²°í•©ì´ ë¶„ë¦¬ë˜ëŠ” í•œ ì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ëŠ” ê·¸ íŒ€ êµ¬ì¡°ë¥¼ ë’·ë°›ì¹¨í•´ ì¤„ ê²ƒì´ë‹¤.\në°°í¬ í†¡ë¦½ì„± ìœ ìŠ¤ì¼€ì´ìŠ¤ì™€ ê³„ì¸µì˜ ê²°í•©ì´ ë¶„ë¦¬ë˜ë©´ ë°°í¬ ì¸¡ë©´ì—ì„œë„ ê³ ë„ì˜ ìœ ì—°ì„±ì´ ìƒê¸´ë‹¤.\nê²°í•©ì„ ì œëŒ€ë¡œ ë¶„ë¦¬í–ˆë‹¤ë©´ ìš´ì˜ ì¤‘ì¸ ì‹œìŠ¤í…œì—ì„œë„ ê³„ì¸µê³¼ ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ êµì²´í•  ìˆ˜ ìˆë‹¤.\nê°€ì§œ ì¤‘ë³µ ì•„í‚¤í…íŠ¸ëŠ” ì¤‘ë³µì— ëŒ€í•œ ê³µí¬ë¡œë¶€í„° ë°œìƒí•˜ëŠ” í•¨ì •ì— ë¹ ì§€ê³¤ í•œë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ ì¤‘ë³µì€ ì¼ë°˜ì ìœ¼ë¡œ ë‚˜ìœ ê²ƒì´ë‚˜, ì¤‘ë³µì—ë„ ì—¬ëŸ¬ ì¢…ë¥˜ê°€ ìˆë‹¤.\nì§„ì§œ ì¤‘ë³µ ì¸ìŠ¤í„´ìŠ¤ê°€ ë³€ê²½ë˜ë©´, ë™ì¼í•œ ë³€ê²½ì„ ê·¸ ì¸ìŠ¤í„´ìŠ¤ì˜ ëª¨ë“  ë³µì‚¬ë³¸ì— ë°˜ë“œì‹œ ì ìš©í•´ì•¼í•œë‹¤. ê°€ì§œ ì¤‘ë³µ: ê±°ì§“ëœ ë˜ëŠ” ìš°ë°œì ì¸ ì¤‘ë³µ ì¤‘ë³µìœ¼ë¡œ ë³´ì´ëŠ” ë‘ ì½”ë“œ ì˜ì—­ì´ ê°ìì˜ ê²½ë¡œë¡œ ë°œì „í•œë‹¤ë©´(ì„œë¡œ ë‹¤ë¥¸ ì†ë„ì™€ ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ëœë‹¤ë©´) ì´ ì½”ë“œëŠ” ì¤‘ë³µì´ ì•„ë‹ˆë‹¤. ì˜ë„ì ìœ¼ë¡œ ë§Œë“  ì¤‘ë³µ(ë¹„ìŠ·í•˜ì§€ë§Œ ë‹¤ë¥¸ ë°©í–¥ìœ¼ë¡œ ë°œì „í•  ê²ƒì´ ì˜ˆìƒë˜ëŠ”)ìš°ë°œì  ì¤‘ë³µì„ í†µí•©í•œë‹¤ë©´ ë‚˜ì¤‘ì— ì½”ë“œë¥¼ ë‹¤ì‹œ ë¶„ë¦¬í•˜ëŠë¼ í° ìˆ˜ê³ ë¥¼ ê°ìˆ˜í•´ì•¼ í•œë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ìˆ˜ì§ìœ¼ë¡œ ë¶„ë¦¬í•  ë•Œ ì´ëŸ¬í•œ ë¬¸ì œì™€ ë§ˆì£¼ì¹˜ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë¯€ë¡œ, ì¤‘ë³µì´ ì§„ì§œ ì¤‘ë³µì¸ì§€ í™•ì¸í•˜ê³  í†µí•©í•´ì•¼í•œë‹¤.\nê³„ì¸µì„ ìˆ˜í‰ìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²½ìš°, íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ ë ˆì½”ë“œì˜ ë°ì´í„° êµ¬ì¡°ê°€ íŠ¹ì • í™”ë©´ì˜ ë°ì´í„° êµ¬ì¡°ì™€ ìƒë‹¹íˆ ë¹„ìŠ·í•œ ê²½ìš°ë¥¼ ìì£¼ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì´ë•Œ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì½”ë“œì™€ ë™ì¼í•œ í˜•íƒœì˜ ë·° ëª¨ë¸ì„ ë§Œë“¤ì–´ì„œ ê° í•­ëª©ì„ ë³µì‚¬í•˜ëŠ” ë°©ì‹ì„ ì„ íƒí•´ì•¼í•œë‹¤.\nê²°í•© ë¶„ë¦¬ ëª¨ë“œ ìœ„ì™€ ê°™ì´ ê²°í•©ì„ ë¶„ë¦¬í•˜ë©´ ìš´ì˜ ê´€ì ì—ì„œ ì—¬ëŸ¬ê°€ì§€ ì¥ì ì„ ì‚´í´ë³¼ ìˆ˜ ìˆë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ê´€ì ì´ ë¶„ë¦¬ë˜ì—ˆë‹¤ë©´,\në†’ì€ ì²˜ë¦¬ëŸ‰ì„ ë³´ì¥í•´ì•¼ í•˜ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ì™€ ë‚®ì€ ì²˜ë¦¬ëŸ‰ìœ¼ë¡œë„ ì¶©ë¶„í•œ ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì´ë¯¸ ë¶„ë¦¬ë˜ì–´ ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. UIì™€ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì—…ë¬´ ê·œì¹™ê³¼ ë¶„ë¦¬ë˜ì–´ ìˆë‹¤ë©´, UIì™€ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—…ë¬´ ê·œì¹™ê³¼ëŠ” ë‹¤ë¥¸ ì„œë²„ì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤. ë†’ì€ ëŒ€ì—­í­ì„ ìš”êµ¬í•˜ëŠ” ìœ ìŠ¤ì¼€ì´ìŠ¤ëŠ” ì—¬ëŸ¬ ì„œë²„ë¡œ ë³µì œí•˜ì—¬ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ìœ ìŠ¤ì¼€ì´ìŠ¤ë¥¼ ìœ„í•´ ìˆ˜í–‰í•˜ëŠ” ê·¸ ì‘ì—…ë“¤(ë¶„ë¦¬ëœ ê²ƒë“¤)ì€ ìš´ì˜ì—ë„ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.\nìš´ì˜ ì¸¡ë©´ì—ì„œ ì´ì ì„ ì‚´ë¦¬ê¸° ì´í•´ì„  ê²°í•©ì„ ë¶„ë¦¬í•  ë•Œ ì ì ˆí•œ ëª¨ë“œë¥¼ ì„ íƒí•´ì•¼ í•œë‹¤.\në¶„ë¦¬ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„œë¡œ ë‹¤ë¥¸ ì„œë²„ì—ì„œ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ìƒí™©: MSA ë“± ë•Œë•Œë¡œëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì„œë¹„ìŠ¤ ìˆ˜ì¤€ê¹Œì§€ë„ ë¶„ë¦¬í•´ì•¼ í•œë‹¤.\nì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ì„ íƒê¶Œì„ ì—´ì–´ë‘”ë‹¤ëŠ” ë§ì—ì„œ ê²°í•© ë¶„ë¦¬ ëª¨ë“œëŠ” ì´ëŸ¬í•œ ì„ íƒì§€ ì¤‘ í•˜ë‚˜ë‹¤.\nê³„ì¸µê³¼ ìœ ìŠ¤ì¼€ì´ìŠ¤ì˜ ê²°í•©ì„ ë¶„ë¦¬í•˜ëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•˜ë‹¤.\nì†ŒìŠ¤ ìˆ˜ì¤€ ë¶„ë¦¬ ëª¨ë“œ ì†ŒìŠ¤ ì½”ë“œ ëª¨ë“ˆ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤. í•˜ë‚˜ì˜ ëª¨ë“ˆì´ ë³€í•˜ë”ë¼ë„ ë‹¤ë¥¸ ëª¨ë“ˆì„ ë³€ê²½í•˜ê±°ë‚˜ ì¬ì»´íŒŒì¼í•˜ì§€ ì•Šë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ëª¨ë…¸ë¦¬í‹± êµ¬ì¡° ë°°í¬ ìˆ˜ì¤€ ë¶„ë¦¬ ëª¨ë“œ .jar, DLL, ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê°™ì´ ë°°í¬ ê°€ëŠ¥í•œ ë‹¨ìœ„ë“¤ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤. ì†ŒìŠ¤ ì½”ë“œê°€ ë³€í•˜ë”ë¼ë„ ë‹¤ë¥¸ ëª¨ë“ˆì„ ì¬ë¹Œë“œí•˜ê±°ë‚˜ ì¬ë°°í¬í•˜ì§€ ì•Šë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë§ì€ ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ ì£¼ì†Œ ê³µê°„ì— ìƒì£¼í•˜ë©°, ë‹¨ìˆœí•œ í•¨ìˆ˜ í˜¸ì¶œì„ í†µí•´ í†µì‹ í•  ìˆ˜ ìˆë‹¤. ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ëŠ” ë™ì¼í•œ í”„ë¡œì„¸ìŠ¤ì˜ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— ìƒì£¼í•˜ê³ , í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ , ì†Œì¼“, ê³µìœ  ë©”ëª¨ë¦¬ë¥¼ í†µí•´ í†µì‹ í•  ìˆ˜ ìˆë‹¤. ê²°í•©ì´ ë¶„ë¦¬ëœ ì»´í¬ë„ŒíŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆëŠ” ë‹¨ìœ„ë¡œ ë¶„í• ë˜ì–´ ìˆë‹¤. ì„œë¹„ìŠ¤ ìˆ˜ì¤€ ë¶„ë¦¬ ëª¨ë“œ ì˜ì¡´í•˜ëŠ” ìˆ˜ì¤€ì„ ë°ì´í„° êµ¬ì¡° ë‹¨ìœ„ê¹Œì§€ ë‚®ì¶”ê³ , ë„¤íŠ¸ì›Œí¬ íŒ¨í‚·ì„ í†µí•´ì„œë§Œ í†µì‹ í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ëª¨ë“  ì‹¤í–‰ ê°€ëŠ¥í•œ ë‹¨ìœ„ëŠ” ì†ŒìŠ¤ì™€ ë°”ì´ë„ˆë¦¬ ë³€ê²½ì— ëŒ€í•´ ì„œë¡œ ì™„ì „íˆ ë…ë¦½ì ì´ê²Œ ëœë‹¤. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤, ì„œë¹„ìŠ¤ í”„ë¡œì íŠ¸ ì´ˆê¸° ë‹¨ê³„ëŠ” ì–´ë–¤ ëª¨ë“œê°€ ìµœì„ ì¸ì§€ ì•Œê¸° ì–´ë ¤ìš°ë©°, í”„ë¡œì íŠ¸ê°€ ì„±ìˆ™í•´ê°ˆìˆ˜ë¡ ìµœì ì¸ ëª¨ë“œê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\nì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì´ ëª¨ë…¸ë¦¬í‹± êµ¬ì¡°ë¡œ íƒœì–´ë‚˜ì„œ ë‹¨ì¼ íŒŒì¼ë¡œ ë°°í¬ë˜ë”ë¼ë„,ì´í›„ì—ëŠ” ë…ë¦½ì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥í•œ ë‹¨ìœ„ë“¤ì˜ ì§‘í•©ìœ¼ë¡œ ì„±ì¥í•˜ê³ , ë˜ ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ë‚˜ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ìˆ˜ì¤€ê¹Œì§€ ì„±ì¥í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì ¸ì•¼ í•œë‹¤.(ë°˜ëŒ€ë„ ë§ˆì°¬ê°€ì§€)\nì¢‹ì€ ì•„í‚¤í…ì²˜ëŠ” ê²°í•© ë¶„ë¦¬ ëª¨ë“œë¥¼ ì„ íƒì‚¬í•­ìœ¼ë¡œ ë‚¨ê²¨ë‘ì–´ì„œ ë°°í¬ ê·œëª¨ì— ë‹¤ë¼ ê°€ì¥ ì í•©í•œ ëª¨ë“œë¥¼ ì„ íƒí•´ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ ì¤€ë‹¤.\nê²°ë¡  ì‹œìŠ¤í…œì˜ ê²°í•© ë¶„ë¦¬ ëª¨ë“œëŠ” ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ë°”ë€Œê¸° ì‰¬ìš°ë©°, ë›°ì–´ë‚œ ì•„í‚¤í…íŠ¸ë¼ë©´ ì´ëŸ¬í•œ ë³€ê²½ì„ ì˜ˆì¸¡í•˜ì—¬ í° ë¬´ë¦¬ ì—†ì´ ë°˜ì˜í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì•¼í•œë‹¤.\n","date":"2024-03-13T14:51:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/16/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/16/","title":"16. ë…ë¦½ì„±"},{"content":"ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ë€?\nì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ëŠ” í”„ë¡œê·¸ë˜ë¨¸ì´ë©°, ì•ìœ¼ë¡œë„ ê³„ì† í”„ë¡œê·¸ë˜ë¨¸ë¡œ ë‚¨ì•„ì•¼í•˜ë¯€ë¡œ, ê³ ìˆ˜ì¤€ ë¬¸ì œì—ë§Œ ì§‘ì¤‘í•˜ì—¬ ì½”ë“œì™€ ë™ë–¨ì–´ì ¸ì„œëŠ” ì•ˆ ëœë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ëŠ” ê°œë°œì— ì°¸ì—¬í•˜ë©° ë‚˜ë¨¸ì§€ íŒ€ì›ë“¤ì´ ìƒì‚°ì„±ì„ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆëŠ” ì„¤ê³„ë¥¼ í•˜ë„ë¡ ë°©í–¥ì„ ì´ëŒì–´ì¤€ë‹¤.\në”°ë¼ì„œ í”„ë¡œê·¸ë˜ë°ì„ ì‘ì—…ì— ê³„ì† ì°¸ì—¬í•˜ë©° ë¬¸ì œë¥¼ ì§ì ‘ ê²½í—˜í•˜ê³  ì´ë¥¼ í†µí•´ ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë¨¸ë¥¼ ì§€ì›í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼í•œë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì˜ ì•„í‚¤í…ì²˜ë€?\nì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆë˜ ì‚¬ëŒë“¤ì´ ë§Œë“¤ì–´ë‚¸ ì‹œìŠ¤í…œì˜ í˜•íƒœë¡œ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„í• í•˜ëŠ” ë°©ë²•, ë¶„í• ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°°ì¹˜í•˜ëŠ” ë°©ë²•, ì»´í¬ë„ŒíŠ¸ê°€ ì„œë¡œ ì˜ì‚¬ì†Œí†µí•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ì •í•´ì§„ë‹¤.\nì´ëŸ¬í•œ ì‹œìŠ¤í…œ í˜•íƒœëŠ” ì•„í‚¤í…ì²˜ ì•ˆì— ë‹´ê¸´ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì´ ì‰½ê²Œ ê°œë°œ, ë°°í¬, ìš´ì˜, ìœ ì§€ë³´ìˆ˜ë˜ë„ë¡ ë§Œë“¤ì–´ì§„ë‹¤.\nê°œë°œ, ë°°í¬, ìš´ì˜, ìœ ì§€ë³´ìˆ˜ë¥¼ ìš©ì´í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ê°€ëŠ¥í•œ í•œ ë§ì€ ì„ íƒì§€ë¥¼, ê°€ëŠ¥í•œ í•œ ì˜¤ë˜ ë‚¨ê²¨ë‘ëŠ” ì „ëµì„ ë”°ë¼ì•¼í•œë‹¤.\nì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì˜ ë™ì‘ ì—¬ë¶€ì™€ëŠ” ê±°ì˜ ê´€ë ¨ì´ ì—†ë‹¤.\ní˜•í¸ì—†ëŠ” ì•„í‚¤í…ì²˜ë¥¼ ê°–ì¶¤ ì‹œìŠ¤í…œë„ ìˆ˜ì—†ì´ ë§ì§€ë§Œ, ê·¸ëŸ°ë°ë¡œ ì˜ ë™ì‘í•œë‹¤. ì´ëŸ¬í•œ ê²½ìš° ëŒ€ì²´ë¡œ ìš´ì˜ì—ì„œëŠ” ë¬¸ì œê°€ ì—†ì§€ë§Œ ë°°í¬, ìœ ì§€ë³´ìˆ˜, ê³„ì†ë˜ëŠ” ê°œë°œ ê³¼ì •ì—ì„œ ì–´ë ¤ì›€ì„ ê²ªëŠ”ë‹¤. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ê°€ ì‹œìŠ¤í…œì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ” ê²ƒê³¼ëŠ” ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ì´ ì—†ì§€ë§Œ, ì‹œìŠ¤í…œì´ ì œëŒ€ë¡œ ë™ì‘í•˜ë„ë¡ ì§€ì›í•œë‹¤(ê°„ì ‘ì ).\nì‹œìŠ¤í…œì„ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì‰½ê²Œ ê°œë°œí•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì‰½ê²Œ ìœ ì§€ë³´ìˆ˜í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì‰½ê²Œ ë°°í¬í•˜ê²Œ í•´ì¤€ë‹¤. ì•„í‚¤í…ì²˜ì˜ ì£¼ëœ ëª©ì ì€ ì‹œìŠ¤í…œì˜ ìƒëª…ì£¼ê¸°ë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì´ë‹¤. ê¶ê·¹ì ìœ¼ë¡œ ì‹œìŠ¤í…œì˜ ìˆ˜ëª…ê³¼ ê´€ë ¨ëœ ë¹„ìš©ì€ ìµœì†Œí™”í•˜ê³ , í”„ë¡œê·¸ë˜ë¨¸ì˜ ìƒì‚°ì„±ì€ ìµœëŒ€í™”í•˜ëŠ” ë° ìˆë‹¤.\nê°œë°œ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ëŠ” ê°œë°œíŒ€(ë“¤)ì´ ì‹œìŠ¤í…œì„ ì‰½ê²Œ ê°œë°œí•  ìˆ˜ ìˆë„ë¡ ë’·ë°›ì¹¨í•´ì•¼ë§Œ í•œë‹¤.\níŒ€ êµ¬ì¡°\níŒ€ êµ¬ì¡°ê°€ ë‹¤ë¥´ë‹¤ë©´ ì•„í‚¤í…ì²˜ ê´€ë ¨ ê²°ì •ì—ì„œë„ ì°¨ì´ê°€ ë‚œë‹¤.\nì‘ì€ ê·œëª¨ íŒ€ ê·œëª¨ê°€ ì‘ì•„ ìƒìœ„ êµ¬ì¡°ë¡œ ì¸í•œ ì¥ì• ë¬¼ì´ ì—†ê¸°ë¥¼ ë°”ë¼ê¸° ë•Œë¬¸ì— ì•„í‚¤í…ì²˜ ì—†ì´ ì‹œì‘í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì˜ ì •ì˜ëœ ì»´í¬ë„ŒíŠ¸ë‚˜ ì¸í„°í˜ì´ìŠ¤ê°€ ì—†ë”ë¼ë„ ì„œë¡œ íš¨ìœ¨ì ìœ¼ë¡œ í˜‘ë ¥í•˜ì—¬ ëª¨ë…¸ë¦¬í‹± ì‹œìŠ¤í…œì„ ê°œë°œí•  ìˆ˜ ìˆë‹¤. ê°œë°œ ì´ˆê¸°ì—ëŠ” ì•„í‚¤í…ì²˜ ê´€ë ¨ ì œì•½ë“¤ì´ ì˜¤íˆë ¤ ë°©í•´ê°€ ëœë‹¤ê³  ì—¬ê¸¸ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. í° ê·œëª¨ ë‹¤ë¥¸ ìš”ì†Œë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•„í‚¤í…ì²˜ëŠ” íŒ€ë³„ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸(í° ê´€ì‹¬ì‚¬ ë³„ ì»´í¬ë„ŒíŠ¸)ë¡œ ê°ê° ë°œì „ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. íŒ€ë³„ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì„ ë°°í¬, ìš´ì˜, ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ë° ìµœì ì€ ì•„ë‹ í™•ë¥ ì´ ë†’ë‹¤. ì‹œìŠ¤í…œì„ ì‹ ë¢°í•  ìˆ˜ ìˆê³  ì•ˆì •ëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°–ì¶˜, ì˜ ì„¤ê³„ëœ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ê°œë°œì´ ì§„ì²™ë˜ì§€ ì•ŠëŠ”ë‹¤. ë°°í¬ ë°°í¬ ë¹„ìš©ì´ ë†’ì„ìˆ˜ë¡ ì‹œìŠ¤í…œì˜ ìœ ìš©ì„±ì€ ë–¨ì–´ì§„ë‹¤.\në”°ë¼ì„œ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì„ ë‹¨ í•œë²ˆì— ì‰½ê²Œ ë°°í¬í•  ìˆ˜ ìˆë„ë¡ ë§Œë“œëŠ” ë° ê·¸ ëª©í‘œë¥¼ ë‘ì–´ì•¼ í•œë‹¤.\nì´ˆê¸° ê°œë°œ ë‹¨ê³„ì—ì„œëŠ” ë°°í¬ ì „ëµì„ ê±°ì˜ ê³ ë ¤í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°œë°œí•˜ê¸°ëŠ” ì‰¬ì›Œë„ ë°°í¬í•˜ê¸°ëŠ” ì–´ë ¤ìš´ ì•„í‚¤í…ì²˜ê°€ ë§Œë“¤ì–´ì§„ë‹¤. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ micro-service architecture\nì»´í¬ë„ŒíŠ¸ ê²½ê³„ê°€ ë§¤ìš° ëšœë ·í•´ì§€ê³ , ì¸í„°í˜ì´ìŠ¤ê°€ ëŒ€ì²´ë¡œ ì•ˆì •í™”ë˜ë¯€ë¡œ ì‹œìŠ¤í…œì„ ë§¤ìš° ì‰½ê²Œ ê°œë°œí•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ëŠ˜ì–´ë‚œ ìˆ˜ë§ì€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œì¸í•´ ì„œë¡œ ì—°ê²°í•˜ê¸° ìœ„í•´ ì„¤ì •í•˜ê³  ì‘ë™ ìˆœì„œë¥¼ ê²°ì •í•˜ëŠ” ê³¼ì •ì—ì„œ ì˜¤ì‘ë™ì´ ë°œìƒí•  ì›ì²œì´ ìŠ¤ë©°ë“¤ì–´ ë°°í¬í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤.\nì•„í‚¤í…íŠ¸ê°€ ë°°í¬ ë¬¸ì œë¥¼ ì´ˆê¸°ì— ê³ ë ¤í–ˆë‹¤ë©´, ë” ì ì€ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³ , ì„œë¹„ìŠ¤ ì»´í¬ë„ŒíŠ¸ì™€ í”„ë¡œì„¸ìŠ¤ ìˆ˜ì¤€ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ì´ë¸Œë¦¬ë“œ í˜•íƒœë¡œ ìœµí•©í•˜ë©°, ì¢€ ë” í†µí•©ëœ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ ìƒí˜¸ ì—°ê²°ì„ ê´€ë¦¬í–ˆì„ ê²ƒì´ë‹¤.\nìš´ì˜ ì•„í‚¤í…ì²˜ê°€ ì‹œìŠ¤í…œ ìš´ì˜ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì€ ê°œë°œ, ë°°í¬, ìœ ì§€ë³´ìˆ˜ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ë³´ë‹¤ëŠ” ëœ ê·¹ì ì´ë‹¤.\nìš´ì˜ì—ì„œ ê²ªëŠ” ëŒ€ë‹¤ìˆ˜ì˜ ì–´ë ¤ì›€ì€ ë‹¨ìˆœíˆ í•˜ë“œì›¨ì–´ë¥¼ ë” íˆ¬ì…í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ê°€ ë¹„íš¨ìœ¨ì ì´ë¼ë©´ ìŠ¤í† ë¦¬ìì™€ ì„œë²„ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ì œëŒ€ë¡œ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆì„ ë•Œê°€ ë§ë‹¤. í•˜ë“œì›¨ì–´ëŠ” ê°’ì‹¸ê³  ì¸ë ¥ì€ ë¹„ì‹¸ë‹¤. ìš´ì˜ ê´€ì ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ëŠ” ë¹„ìš© ê³µì‹ ê´€ì ì—ì„œ ë³´ë‹¤ëŠ” ê°œë°œ, ë°°í¬ ìœ ì§€ë³´ìˆ˜ ìª½ìœ¼ë¡œ ë” ê¸°ìš´ë‹¤ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤.\nìš´ì˜ ë°©ì‹\nì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ê°€ ê°œë°œìì—ê²Œ ì‹œìŠ¤í…œì˜ ìš´ì˜ ë°©ì‹ì„ ì˜ ë“œëŸ¬ë‚´ ì¤€ë‹¤.\nì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ëŠ” ì‹œìŠ¤í…œì„ ìš´ì˜í•˜ëŠ” ë° í•„ìš”í•œ ìš”êµ¬ë„ ì•Œë ¤ì¤€ë‹¤.\nìœ ìŠ¤ì¼€ì´ìŠ¤, ê¸°ëŠ¥, ì‹œìŠ¤í…œì˜ í•„ìˆ˜ í–‰ìœ„ë¥¼ ì¼ê¸‰ ì—”í‹°í‹°ë¡œ ê²©ìƒì‹œí‚¨ë‹¤. ìœ„ ìš”ì†Œê°€ ê°œë°œìì—ê²Œ ì£¼ìš” ëª©í‘œë¡œ ì¸ì‹ë˜ë„ë¡ í•´ì•¼í•œë‹¤. ì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œì„ ì´í•´í•˜ê¸° ì‰¬ì›Œì§€ë©°, ë”°ë¼ì„œ ê°œë°œê³¼ ìœ ì§€ë³´ìˆ˜ì— í° ë„ì›€ì´ ëœë‹¤.\nìœ ì§€ë³´ìˆ˜ ìœ ì§€ë³´ìˆ˜ëŠ” ëª¨ë“  ì¸¡ë©´ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì—ì„œ ê°€ì¥ ë§ì€ ë¹„ìš©ì´ ë°œìƒí•œë‹¤.\nìœ ì§€ë³´ìˆ˜ì˜ ê°€ì¥ í° ë¹„ìš©ì€ íƒì‚¬ spelunkingì™€ ì´ë¡œ ì¸í•œ ìœ„í—˜ë¶€ë‹´ì— ìˆë‹¤.\níƒì‚¬ë€?\nê¸°ì¡´ ì†Œí”„íŠ¸ì›¨ì–´ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê²°í•¨ì„ ìˆ˜ì •í•  ë•Œ, ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ íŒŒí—¤ì³ì„œ ì–´ë””ë¥¼ ê³ ì¹˜ëŠ” ê²Œ ìµœì„ ì¸ì§€, ì–´ë–¤ ì „ëµì„ ì“°ëŠ” ê²Œ ìµœì ì¼ì§€ë¥¼ ê²°ì •í•  ë•Œ ë“œëŠ” ë¹„ìš©\në³€ê²½ì‚¬í•­ì„ ë°˜ì˜í•  ë•Œ ì˜ë„ì¹˜ ì•Šì€ ê²°í•¨ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì€ í•­ìƒ ì¡´ì¬í•˜ë©°, ì´ë¡œì¸í•œ ìœ„í—˜ë¶€ë‹´ ë¹„ìš©ì´ ì¶”ê°€ëœë‹¤.\nì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ ì‹ ì¤‘í•˜ê²Œ ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“¤ë©´ ì´ ë¹„ìš©ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\nì‹œìŠ¤í…œì„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬ ì•ˆì •ëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‘ì–´ ì„œë¡œ ê²©ë¦¬ ì´ë¥¼ í†µí•´ ë¯¸ë˜ì— ì¶”ê°€ë  ê¸°ëŠ¥ì— ëŒ€í•œ ê¸¸ì„ ë°í˜€ ë‘˜ ìˆ˜ ìˆì„ ë¿ë§Œ ì•„ë‹ˆë¼ ì˜ë„ì¹˜ ì•Šì€ ì¥ì¬ê°€ ë°œìƒí•  ìœ„í—˜ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\nì„ íƒì‚¬í•­ ì—´ì–´ë‘ê¸° ì±… ì´ˆë°˜ì— ì–¸ê¸‰í–ˆë“¯, ì†Œí”„íŠ¸ì›¨ì–´ëŠ” í–‰ìœ„ì  ê°€ì¹˜ì™€ êµ¬ì¡°ì  ê°€ì¹˜ë¥¼ ì§€ë‹ˆë©°, ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ êµ¬ì¡°ì  ê°€ì¹˜ë¥¼ ì¶”êµ¬í•´ì•¼í•œë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë§Œë“  ì´ìœ ëŠ” ê¸°ê³„ì˜ í–‰ìœ„ë¥¼ ë¹ ë¥´ê³  ì‰½ê²Œ ë³€ê²½í•˜ëŠ” ë°©ë²•ì´ í•„ìš”í–ˆê¸° ë•Œë¬¸ì¸ë°, ì´ëŸ¬í•œ ìœ ì—°ì„±ì€ ì‹œìŠ¤í…œì˜ í˜•íƒœ, ì»´í¬ë„ŒíŠ¸ì˜ ë°°ì¹˜ ë°©ì‹, ì»´í¬ë„ŒíŠ¸ê°€ ìƒí˜¸ ì—°ê²°ë˜ëŠ” ë°©ì‹ì— ìƒë‹¹íˆ í¬ê²Œ ì˜ì¡´í•œë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ì˜ ìœ ì—°ì„±ì„ ìœ ì§€í•˜ëŠ” ë°©ë²•ì€ ì„ íƒì‚¬í•­(ì„¸ë¶€ì‚¬í•­)ì„ ê°€ëŠ¥í•œ í•œ ë§ì´, ê°€ëŠ¥í•œ í•œ ì˜¤ë«ë™ì•ˆ ì—´ì–´ë‘ëŠ” ê²ƒì´ë‹¤.\nì •ì±…ê³¼ ì„¸ë¶€ì‚¬í•­\nëª¨ë“  ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì€ ì •ì±…ê³¼ ì„¸ë¶€ì‚¬í•­ìœ¼ë¡œ ë¶„í•´í•  ìˆ˜ ìˆë‹¤.\nì •ì±… ëª¨ë“  ì—…ë¬´ ê·œì¹™ê³¼ ì—…ë¬´ ì ˆì°¨ë¥¼ êµ¬ì²´í™”í•œë‹¤. ì‹œìŠ¤í…œì˜ ì§„ì •í•œ ê°€ì¹˜ê°€ ì‚´ì•„ìˆëŠ” ê³³ ì„¸ë¶€ì‚¬í•­ ì‚¬ëŒ, ì™¸ë¶€ ì‹œìŠ¤í…œ, í”„ë¡œê·¸ë˜ë¨¸ê°€ ì •ì±…ê³¼ ì†Œí†µí•  ë•Œ í•„ìš”í•œ ìš”ì†Œ ì •ì±…ì´ ê°€ì§„ í–‰ìœ„ì—ëŠ” ì¡°ê¸ˆë„ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤. ì…ì¶œë ¥ ì¥ì¹˜, DB, ì›¹ ì‹œìŠ¤í…œ, ì„œë²„, í”„ë ˆì„ì›Œí¬, í”„ë¡œí† ì½œ ë“± ì•„í‚¤í…íŠ¸ì˜ ëª©í‘œëŠ” ì‹œìŠ¤í…œì—ì„œ ì •ì±…ì„ ê°€ì¥ í•µì‹¬ì ì¸ ìš”ì†Œë¡œ ì‹ë³„í•˜ê³ , ë™ì‹œì— ì„¸ë¶€ì‚¬í•­ì€ ì •ì±…ì— ë¬´ê´€í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë° ìˆë‹¤.\nì´ë¥¼ í†µí•´ ì„¸ë¶€ì‚¬í•­ì„ ê²°ì •í•˜ëŠ” ì¼ì€ ë¯¸ë£¨ê±°ë‚˜ ì—°ê¸°í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nì˜ˆì‹œ\nê°œë°œ ì´ˆê¸°ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì„ ì„ íƒí•  í•„ìš”ê°€ ì—†ë‹¤. ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì„ ë°ì´í„°ë² ì´ìŠ¤ê°€ ê´€ê³„í˜•ì¸ì§€, ë¶„ì‚°í˜•ì¸ì§€, ê³„ì¸µí˜•ì¸ì§€ ë“±ì— ê´€ê³„ ì—†ë„ë¡ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ê°œë°œ ì´ˆê¸°ì—ëŠ” ì›¹ ì„œë²„ë¥¼ ì„ íƒí•  í•„ìš”ê°€ ì—†ë‹¤. ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì€ ìì‹ ì´ ì›¹ì„ í†µí•´ ì „ë‹¬ëœë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œì•„ì„œëŠ” ì•ˆ ëœë‹¤. ì›¹ ê°œë°œ ê¸°ìˆ ë“¤ì— ëŒ€í•´ ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì´ ì „í˜€ ì•Œì§€ ëª»í•˜ê²Œ ë§Œë“¤ë©´, í”„ë¡œì íŠ¸ í›„ë°˜ê¹Œì§€ëŠ” ì–´ë–¤ ì¢…ë¥˜ì˜ ì›¹ ì‹œìŠ¤í…œì„ ì‚¬ìš©í• ì§€ë¥¼ ê²°ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ì‹œìŠ¤í…œì„ ì›¹ì„ í†µí•´ ì „ì†¡í•  ê²ƒì¸ì§€ì¡°ì°¨ë„ ê²°ì •í•  í•„ìš”ê°€ ì—†ë‹¤. ê°œë°œ ì´ˆê¸°ì—ëŠ” RESTë¥¼ ì ìš©í•  í•„ìš”ê°€ ì—†ë‹¤. ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì€ ì™¸ë¶€ ì„¸ê³„ë¡œì˜ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ ë…ë¦½ì ì´ì–´ì•¼ í•œë‹¤. ì˜ì¡´ì„± ì£¼ì… í”„ë ˆì„ì›Œí¬ë¥¼ ì ìš©í•  í•„ìš”ê°€ ì—†ë‹¤. ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì€ ì˜ì¡´ì„±ì„ í•´ì„í•˜ëŠ” ë°©ì‹ì— ëŒ€í•´ ì‹ ê²½ì¨ì„œëŠ” ì•ˆëœë‹¤. ì„¸ë¶€ì‚¬í•­ì— ëª°ë‘í•˜ì§€ ì•Šì€ ì±„ ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤ë©´, ì´ëŸ¬í•œ ì„¸ë¶€ì‚¬í•­ì— ëŒ€í•œ ê²°ì •ì„ ì˜¤ë«ë™ì•ˆ ë¯¸ë£¨ê±°ë‚˜ ì—°ê¸°í•  ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ê²°ì •ì„ ë” ì˜¤ë˜ ì°¸ì„ ìˆ˜ ìˆë‹¤ë©´, ë” ë§ì€ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆê³ , ì´ë¥¼ ê¸°ì´ˆë¡œ ì œëŒ€ë¡œ ëœ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆë‹¤. ì„ íƒì‚¬í•­ì„ ë” ì˜¤ë«ë™ì•ˆ ì—´ì–´ ë‘˜ ìˆ˜ ìˆë‹¤ë©´ ë” ë§ì€ ì‹¤í—˜ì„ í•´ë³¼ ìˆ˜ ìˆê³  ë” ë§ì€ ê²ƒì„ ì‹œë„í•  ìˆ˜ ìˆë‹¤. ì¢‹ì€ ì•„í‚¤í…íŠ¸ëŠ” ê²°ì •ë˜ì§€ ì•Šì€ ì‚¬í•­ì˜ ìˆ˜ë¥¼ ìµœëŒ€í™”í•œë‹¤.\nê²°ë¡  ì¢‹ì€ ì•„ì¼€í…íŠ¸ëŠ” ì„¸ë¶€ì‚¬í•­ì„ ì •ì±…ìœ¼ë¡œë¶€í„° ì‹ ì¤‘í•˜ê²Œ ê°€ë ¤ë‚´ê³ , ì •ì±…ì´ ì„¸ë¶€ì‚¬í•­ê³¼ ê²°í•©ë˜ì§€ ì•Šë„ë¡ ì—„ê²©í•˜ê²Œ ë¶„ë¦¬í•œë‹¤.\nì´ë¥¼ í†µí•´ ì •ì±…ì€ ì„¸ë¶€ì‚¬í•­ì— ê´€í•œ ì–´ë– í•œ ì§€ì‹ë„ ê°–ì§€ ëª»í•˜ê²Œ ë˜ë©°, ì–´ë–¤ ê²½ìš°ì—ë„ ì„¸ë¶€ì‚¬í•­ì— ì˜ì¡´í•˜ì§€ ì•Šê²Œ ëœë‹¤.\nì¢‹ì€ ì•„í‚¤í…íŠ¸ëŠ” ì„¸ë¶€ì‚¬í•­ì— ëŒ€í•œ ê²°ì •ì„ ê°€ëŠ¥í•œ í•œ ì˜¤ë«ë™ì•ˆ ë¯¸ë£° ìˆ˜ ìˆëŠ” ë°©í–¥ìœ¼ë¡œ ì •ì±…ì„ ì„¤ê³„í•œë‹¤.\n","date":"2024-03-12T15:37:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/15/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/15/","title":"15. ì•„í‚¤í…ì²˜ë€?"},{"content":"ì§€ê¸ˆë¶€í„° ë‹¤ë£° ì„¸ ê°€ì§€ ì›ì¹™ì€ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì„¤ëª…í•œë‹¤.\nì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ê´€ê³„ëŠ” ì‘ì§‘ë„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê°œë°œ ê°€ëŠ¥ì„±ê³¼ ë…¼ë¦¬ì  ì„¤ê³„ ì‚¬ì´ì˜ ê· í˜•ì„ ë‹¤ë£¬ë‹¤.\nì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ì™€ ê´€ë ¨ëœ ì•„í‚¤í…ì²˜ë¥¼ ì¹¨ë²”í•˜ëŠ” í˜ì€ ê¸°ìˆ ì ì´ë©°, ì •ì¹˜ì ì´ê³ , ê°€ë³€ì ì´ë‹¤.\nADP: ì˜ì¡´ì„± ë¹„ìˆœí™˜ ì›ì¹™ ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± ê·¸ë˜í”„ì— ìˆœí™˜(Cycle)ì´ ìˆì–´ì„œëŠ” ì•ˆëœë‹¤.\nìˆ™ì·¨ ì¦í›„êµ° The morning after syndrome\në¬´ì–¸ê°€ë¥¼ ì‘ë™í•˜ê²Œ ë§Œë“¤ë†“ì•˜ëŠ”ë°, ë¬´ì–¸ê°€ë¥¼ ì˜ì¡´í•˜ê³  ìˆë˜ ë¬´ì–¸ê°€ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒì´ ìˆ˜ì •í•˜ì—¬ ë™ì‘í•˜ì§€ ì•ŠëŠ” í˜„ìƒì„ ì €ìëŠ” ìˆ™ì·¨ ì¦í›„êµ°ì´ë¼ ë¶€ë¥¸ë‹¤.\nìˆ™ì·¨ ì¦í›„êµ°ì€ ë§ì€ ê°œë°œìê°€ ë™ì¼í•œ ì†ŒìŠ¤ íŒŒì¼ì„ ìˆ˜ì •í•˜ëŠ” í™˜ê²½ì—ì„œ ë°œìƒí•œë‹¤.\nì†Œìˆ˜ì˜ ê°œë°œìë¡œ êµ¬ì„±ëœ ì‘ì€ í”„ë¡œì íŠ¸ì—ì„œëŠ” í° ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ, í”„ë¡œì íŠ¸ì™€ ê°œë°œíŒ€ ê·œëª¨ê°€ ì»¤ì§€ë©´ í° ë¬¸ì œë¡œ ë‹¤ê°€ì˜¨ë‹¤.\nì§€ë‚œ ìˆ˜ì‹­ ë…„ ë™ì•ˆ ì´ ë¬¸ì œì˜ í•´ê²°ì±…ìœ¼ë¡œ ë‘ ê°€ì§€ ë°©ë²•ì´ ë°œì „ë˜ì–´ ì™”ë‹¤.\nì£¼ ë‹¨ìœ„ ë¹Œë“œ(Weekly build) ì˜ì¡´ì„± ë¹„ìˆœí™˜ ì›ì¹™(Acyclic Dependencies Principle) ì£¼ ë‹¨ìœ„ ë¹Œë“œ ì¤‘ê°„ ê·œëª¨ì˜ í”„ë¡œì íŠ¸ì—ì„œëŠ” í”í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì¼ì£¼ì¼ì˜ ì²« 4ì¼ ë™ì•ˆì€ ê°ì ì‘ì—…í•œ í›„ ê¸ˆìš”ì¼ì´ ë˜ë©´ ë³€ê²½ëœ ì½”ë“œë¥¼ ëª¨ë‘ í†µí•©í•˜ì—¬ ì‹œìŠ¤í…œì„ ë¹Œë“œí•œë‹¤.\nì´ ì ‘ê·¼ë²•ì€ 5ì¼ ì¤‘ 4ì¼ ë™ì•ˆ ê°œë°œìê°€ ê±±ì •ì—†ì´ ê°œë°œí•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ, ê¸ˆìš”ì¼ì— í†µí•©ê³¼ ê´€ë ¨ëœ ë§‰ëŒ€í•œ ì—…ë³´ë¥¼ ì¹˜ëŸ¬ì•¼í•œë‹¤ëŠ” ë‹¨ì ì„ ê°€ì§„ë‹¤.\ní”„ë¡œì íŠ¸ê°€ ì»¤ì§ˆìˆ˜ë¡ í†µí•©ì€ í•˜ë£¨ë§Œì— ëë§ˆì¹˜ëŠ”ê²Œ ë¶ˆê°€ëŠ¥í•´ì§„ë‹¤. í†µí•© ì¼ì •ì´ ê¸¸ì–´ì§„ë‹¤. ê°œë°œë³´ë‹¤ í†µí•©ì— ë“œëŠ” ì‹œê°„ì´ ëŠ˜ì–´ë‚˜ë©´ì„œ íŒ€ì˜ íš¨ìœ¨ì„±ë„ ì„œì„œíˆ ë‚˜ë¹ ì§„ë‹¤. ë¹Œë“œ ì£¼ê¸°ê°€ ê¸¸ì–´ì§„ë‹¤. ì´ëŸ¬í•œ ê³¼ì •ì´ ë°˜ë³µë˜ë©° íš¨ìœ¨ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ë¹Œë“œ ì¼ì •ì„ ê³„ì† ëŠ˜ë ¤ì•¼ í•˜ê³ , ë¹Œë“œ ì£¼ê¸°ê°€ ëŠ¦ì–´ì§ˆìˆ˜ë¡ í”„ë¡œì íŠ¸ê°€ ê°ìˆ˜í•  ìœ„í—˜ì€ ë” ì»¤ì§€ê²Œëœë‹¤.\ní†µí•©ê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê¸°ê°€ ì ì  ì–´ë ¤ì›Œì§„ë‹¤. ë¹ ë¥¸ í”¼ë“œë°±ì´ ì£¼ëŠ” ì¥ì ì„ ìƒëŠ”ë‹¤. ìˆœí™˜ ì˜ì¡´ì„± ì œê±°í•˜ê¸° ì´ ë¬¸ì œì˜ í•´ê²°ì±…ì€ ê°œë°œ í™˜ê²½ì„ ë¦´ë¦¬ìŠ¤ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.\nì´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ëŠ” ê°œë³„ ê°œë°œì ë˜ëŠ” ë‹¨ì¼ ê°œë°œíŒ€ì´ ì±…ì„ì§ˆ ìˆ˜ ìˆëŠ” ì‘ì—… ë‹¨ìœ„ê°€ ëœë‹¤.\nê°œë°œìê°€ í•´ë‹¹ ì»´í˜¸ë„ŒíŠ¸ê°€ ë™ì‘í•˜ë„ë¡ ë§Œë“  í›„, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦´ë¦¬ìŠ¤í•˜ì—¬ ë‹¤ë¥¸ ê°œë°œìê°€ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“ ë‹¤. ì»´í¬ë„ŒíŠ¸ì— ë¦´ë¦¬ìŠ¤ ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•˜ê³ , ë‹¤ë¥¸íŒ€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë””ë ‰í„°ë¦¬ë¡œ ì´ë™ì‹œí‚¨ë‹¤. ê°œë°œìëŠ” ìì‹ ë§Œì˜ ê³µê°„ì—ì„œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ì§€ì†ì ìœ¼ë¡œ ìˆ˜ì •í•œë‹¤. ë‚˜ë¨¸ì§€ ê°œë°œìëŠ” ë¦´ë¦¬ìŠ¤ëœ ë²„ì „ì„ ì‚¬ìš©í•œë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ìƒˆë¡œ ë¦´ë¦¬ìŠ¤ë˜ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ë©´, ë‹¤ë¥¸íŒ€ì—ì„œëŠ” ìƒˆ ë¦´ë¦¬ìŠ¤ë¥¼ ì ìš©í•  ì§€ ê²°ì •í•œë‹¤. íŠ¹ì • ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ ë˜ë”ë¼ë„ ë‹¤ë¥¸ íŒ€ì— ì˜í–¥ì„ ì¦‰ê° ì˜í–¥ì„ ì£¼ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ ì–´ë–¤ íŒ€ë„ ë‹¤ë¥¸ íŒ€ì— ì˜í•´ ì¢Œìš°ë˜ì§€ ì•ŠëŠ”ë‹¤.\nê° íŒ€ì€ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ê°€ ìƒˆë¡œ ë¦´ë¦¬ìŠ¤ë˜ë©´ ìì‹ ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ë§ê²Œ ìˆ˜ì •í•  ì‹œê¸°ë¥¼ ìŠ¤ìŠ¤ë¡œ ê²°ì •í•  ìˆ˜ ìˆë‹¤. í†µí•©ì€ ì‘ê³  ì ì§„ì ìœ¼ë¡œ ì´ë¤„ì§„ë‹¤. ì´ ê°™ì€ ì‘ì—… ì ˆì°¨ëŠ” ë‹¨ìˆœí•˜ë©° í•©ë¦¬ì ì´ì—¬ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì´ë‚˜, ì„±ê³µì ìœ¼ë¡œ ë™ì‘í•˜ë ¤ë©´ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ì˜ì¡´ì„± êµ¬ì¡°ë¥¼ ë°˜ë“œì‹œ ê´€ë¦¬í•´ì•¼í•œë‹¤.\nì»´í¬ë„ŒíŠ¸ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°ë¦½í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ë‹¤ì†Œ ì „í˜•ì ì¸ êµ¬ì¡°ë¡œ, ì¤‘ìš”í•œ ì ì€ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ì˜ì¡´ì„± êµ¬ì¡°ì´ë‹¤.\nì˜ì¡´ì„± ê´€ê³„ëŠ” ì¼ë°©í–¥ì´ë‹¤. ì–´ëŠ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‹œì‘í•˜ë”ë¼ë„, ì˜ì¡´ì„± ê´€ê³„ë¥¼ ë”°ë¼ê°€ë©´ì„œ ìµœì´ˆì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë˜ëŒì•„ê°ˆ ìˆ˜ ì—†ë‹¤. ì–´ë– í•œ ì»´í¬ë„ŒíŠ¸ì˜ ìƒˆë¡œìš´ ë¦´ë¦¬ìŠ¤ë¥¼ ë§Œë“¤ê²Œ ë˜ë©´ ì˜í–¥ì„ ë°›ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ì˜ì¡´ì„± í™”ì‚´í‘œë¥¼ ê±°ê¾¸ë¡œ ë”°ë¼ê°€ë©´ ì•Œ ìˆ˜ ìˆë‹¤. Presenters \u0026gt; View, Main Mainì€ ìƒˆë¡œ ë¦´ë¦¬ìŠ¤ë˜ë”ë¼ë„ ì˜í–¥ì„ ë°›ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì „í˜€ ì—†ë‹¤. Presenters ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œëŠ” ê°œë°œìê°€ ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ê³  í•œë‹¤ë©´, í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ ë²„ì „ì˜ Interactorsì™€ Entitiesë¥¼ ì´ìš©í•´ì„œ Presenters ìì²´ ë²„ì „ì„ ë¹Œë“œí•˜ë©´ ê·¸ë§Œì´ë‹¤.\ní…ŒìŠ¤íŠ¸ë¥¼ êµ¬ì„±í•  ë•Œ ëŒ€ì²´ë¡œ ì ì€ ë…¸ë ¥ì´ ë“ ë‹¤. ê³ ë ¤í•´ì•¼ í•  ë³€ìˆ˜ë„ ìƒëŒ€ì ìœ¼ë¡œ ì ë‹¤. ì‹œìŠ¤í…œ ì „ì²´ë¥¼ ë¦´ë¦¬ìŠ¤í•´ì•¼ í•  ë•Œê°€ ì˜¤ë©´ ë¦´ë¦¬ìŠ¤ ì ˆì°¨ëŠ” ìƒí–¥ì‹ìœ¼ë¡œ ì§„í–‰ëœë‹¤.\nEntities ì»´í¬ë„ŒíŠ¸ë¥¼ ì»´íŒŒì¼í•˜ê³ , í…ŒìŠ¤íŠ¸í•˜ê³ , ë¦´ë¦¬ìŠ¤í•œë‹¤. Databaseì™€ Interactorsì—ì„œë„ ë™ì¼í•œ ê³¼ì •ì„ ê±°ì¹œë‹¤. Presenters, Views, Controllers, Authorizer ìˆœìœ¼ë¡œ ì§„í–‰í•œë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ Mainì„ ì²˜ë¦¬í•œë‹¤. êµ¬ì„±ìš”ì†Œ ê°„ ì˜ì¡´ì„±ì„ íŒŒì•…í•˜ê³  ìˆìœ¼ë©´ ì‹œìŠ¤í…œì„ ë¹Œë“œí•˜ëŠ” ë°©ë²•ì„ ì•Œ ìˆ˜ ìˆë‹¤.\nìˆœí™˜ì´ ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± ê·¸ë˜í”„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ ìš”êµ¬ì‚¬í•­ ë°œìƒìœ¼ë¡œ Entitiesì˜ User í´ë˜ìŠ¤ê°€ Authorizerì˜ Permissions í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•˜ë©´, ì•„ë˜ì™€ ê°™ì´ ìˆœí™˜ ì˜ì¡´ì„±ì´ ë°œìƒí•œë‹¤.\nDatabase ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦´ë¦¬ìŠ¤í•˜ë ¤ë©´ Entitiesì™€ì˜ í˜¸í™˜ë˜ì–´ì•¼ í•˜ë¯€ë¡œ Authorizerê³¼ í™•ì¸ë„ í•„ìš”í•˜ë©°, AuthorizerëŠ” Interactorsì™€ë„ ì˜ì¡´í•˜ë¯€ë¡œ ì„¸ ê°œì˜ ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ì‹¤ìƒ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ì»´í¬ë„ŒíŠ¸ê°€ë˜ì–´ ë¦´ë¦¬ìŠ¤ í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤.\ní•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ê°œë°œìë“¤ì€ í•­ìƒ ì •í™•í•˜ê²Œ ë™ì¼í•œ ë¦´ë¦¬ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼í•˜ë¯€ë¡œ ëª¨ë‘ ì„œë¡œì—ê²Œ ì–½ë§¤ì´ê²Œ ëœë‹¤.\nEntites ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œë„ Authorizerì™€ Interactors ê¹Œì§€ë„ ë°˜ë“œì‹œ ë¹Œë“œí•˜ê³  í†µí•©í•´ì•¼í•œë‹¤.\nì´ì²˜ëŸ¼ ìˆœí™˜ì´ ìƒê¸°ë©´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ê¸°ê°€ ìƒë‹¹íˆ ì–´ë ¤ì›Œì§„ë‹¤.\në‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê³  ë¦´ë¦¬ìŠ¤ë¥¼ í•˜ëŠ” ì¼ë„ êµ‰ì¥íˆ ì–´ë ¤ì›Œì§„ë‹¤. ì—ëŸ¬ê°€ ì‰½ê²Œ ë°œìƒí•œë‹¤. ëª¨ë“ˆì˜ ê°œìˆ˜ê°€ ë§ì•„ì§ì— ë”°ë¼ ë¹Œë“œ ê´€ë ¨ ì´ìŠˆëŠ” ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•œë‹¤. ì»´í¬ë„ŒíŠ¸ë¥¼ ì–´ë–¤ ìˆœì„œë¡œ ë¹Œë“œí•´ì•¼ ì˜¬ë°”ë¥¼ì§€ íŒŒì•…í•˜ê¸°ê°€ ìƒë‹¹íˆ í˜ë“¤ì–´ì§„ë‹¤. ìˆœí™˜ì´ ìƒê¸°ë©´ ì˜¬ë°”ë¥¸ ìˆœì„œë¼ëŠ” ê²ƒ ìì²´ê°€ ì—†ì„ ìˆ˜ ìˆë‹¤. ìˆœí™˜ ëŠê¸° ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì˜ ìˆœí™˜ì„ ëŠê³  ì˜ì¡´ì„±ì„ ë‹¤ì‹œ DAGë¡œ ì›ìƒë³µêµ¬í•˜ëŠ” ì¼ì€ ì–¸ì œë¼ë„ ê°€ëŠ¥í•˜ë‹¤.\nì˜ì¡´ì„± ì—­ì „ ì›ì¹™ ì ìš©\nUserê°€ í•„ìš”ë¡œí•˜ëŠ” ë©”ì„œë“œë¥¼ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤. ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ Entitiesì— ìœ„ì¹˜ì‹œí‚¤ê³ , Authorizerì—ì„œ ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ëŠ”ë‹¤. ì´ë¥¼ í†µí•´ Entitiesì™€ Authorizer ì‚¬ì´ì˜ ì˜ì¡´ì„±ì„ ì—­ì „ì‹œí‚¬ ìˆ˜ ìˆê³ , ì´ë¥¼ í†µí•´ ìˆœí™˜ì„ ëŠì„ ìˆ˜ ìˆë‹¤.\nìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸\nEntitiesì™€ Authorizerê°€ ëª¨ë‘ ì˜ì¡´í•˜ëŠ” ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“ ë‹¤. ë‘ ì»´í¬ë„ŒíŠ¸ê°€ ëª¨ë‘ ì˜ì¡´í•˜ëŠ” í´ë˜ìŠ¤ë“¤ì„ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¡œ ì´ë™ì‹œí‚¨ë‹¤. ííŠ¸ëŸ¬ì§(Jitters) ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ë‘ ë²ˆì§¸ í•´ê²°ì±…ì—ì„œ ì‹œì‚¬í•˜ëŠ” ë°”ëŠ” ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë˜ë©´ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë„ ë³€ê²½ë  ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì´ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„±ì¥í•¨ì— ë”°ë¼ ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± êµ¬ì¡°ëŠ” ì„œì„œíˆ ííŠ¸ëŸ¬ì§€ë©° ë˜ ì„±ì¥í•˜ë¯€ë¡œ, ì˜ì¡´ì„± êµ¬ì¡°ì— ìˆœí™˜ì´ ë°œìƒí•˜ëŠ”ì§€ë¥¼ í•­ìƒ ê´€ì°°í•˜ì—¬ ìˆœí™˜ì´ ë°œìƒí•˜ë©´ ì–´ë–¤ ì‹ìœ¼ë¡œë“  ëŠì–´ì•¼ í•œë‹¤.\nì´ë¡œì¸í•´ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ì˜ì¡´ì„± êµ¬ì¡°ê°€ ë” ì»¤ì§ˆìˆ˜ë„ ìˆë‹¤.\ní•˜í–¥ì‹(Top-down) ì„¤ê³„ ì§€ê¸ˆê¹Œì§€ ë…¼ì˜ë¡œ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ëŠ” í•˜í–¥ì‹ìœ¼ë¡œ ì„¤ê³„ë  ìˆ˜ ì—†ë‹¤ëŠ” ê²°ë¡ ì— ë‹¤ë‹¤ë¥¸ë‹¤.\nì»´í¬ë„ŒíŠ¸ëŠ” ì‹œìŠ¤í…œì—ì„œ ê°€ì¥ ë¨¼ì € ì„¤ê³„í•  ìˆ˜ ìˆëŠ” ëŒ€ìƒì´ ì•„ë‹ˆë©°, ì˜¤íˆë ¤ ì‹œìŠ¤í…œì´ ì„±ì¥í•˜ê³  ë³€ê²½ë  ë•Œ í•¨ê»˜ ì§„í™”í•œë‹¤.\nì»´í¬ë„ŒíŠ¸ì™€ ê°™ì´ í° ë‹¨ìœ„ë¡œ ë¶„í•´ëœ êµ¬ì¡°ëŠ” ê³ ìˆ˜ì¤€ì˜ ê¸°ëŠ¥ì ì¸ êµ¬ì¡°ë¡œ ë‹¤ì‹œ ë¶„í•´í•  ìˆ˜ ìˆë‹¤ê³  ê¸°ëŒ€í•˜ê¸° ë•Œë¬¸ì— ë™ì˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ, ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± ë‹¤ì´ì–´ê·¸ë¨ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ëŠ¥ì„ ê¸°ìˆ í•˜ëŠ” ì¼ê³¼ëŠ” ê±°ì˜ ê´€ë ¨ì´ ì—†ë‹¤.\nì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± ë‹¤ì´ì–´ê·¸ë¨ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¹Œë“œ ê°€ëŠ¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë³´ì—¬ì£¼ëŠ” ì§€ë„ì´ë¯€ë¡œ ë¹Œë“œí•˜ê±°ë‚˜ ìœ ì§€ë³´ìˆ˜í•  ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì—†ë‹¤ë©´ ë¹Œë“œì™€ ìœ ì§€ë³´ìˆ˜ì— ê´€í•œ ì§€ë„ ë„í•œ í•„ìš” ì—†ê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ëŠ” í”„ë¡œì íŠ¸ ì´ˆê¸°ì— ì„¤ê³„í•  ìˆ˜ ì—†ë‹¤.\ní•˜ì§€ë§Œ í”„ë¡œì íŠ¸ê°€ ì§„í–‰ë˜ê³  ë°œì „í•¨ì— ë”°ë¼ ì˜ì¡´ì„±ê´€ë¦¬, ì˜í–¥ë²”ìœ„ ìµœì†Œí™”, ì•ˆì •ì ì¸ ì»´í¬ë„ŒíŠ¸, ì¬ì‚¬ìš©ì„± ë“±ì˜ ëŒ€í•œ ìš”êµ¬ë¡œ ì ì  ì•„í‚¤í…ì²˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ê³  ê°€ë‹¤ë“¬ê²Œ ë˜ì–´ ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± ê·¸ë˜í”„ëŠ” ì¡°ê¸ˆì”© ííŠ¸ëŸ¬ì§€ê³  ì„±ì¥í•œë‹¤.\nì´ì²˜ëŸ¼ ì•„ì§ ì•„ë¬´ëŸ° í´ë˜ìŠ¤ë„ ì„¤ê³„í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ë ¤ê³  ì‹œë„í•œë‹¤ë©´ í° ì‹¤íŒ¨ë¥¼ ë§›ë³¼ ìˆ˜ ìˆë‹¤.\nê³µí†µ íì‡„ì— ëŒ€í•´ íŒŒì•…í•  ìˆ˜ ì—†ë‹¤. ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìš”ì†Œë„ ì•Œ ìˆ˜ ì—†ë‹¤. ì»´í¬ë„ŒíŠ¸ ìƒì„± ì‹œ ëŒ€ë¶€ë¶„ ìˆœí™˜ ì˜ì¡´ì„±ì´ ë°œìƒí•˜ê²Œëœë‹¤. ë”°ë¼ì„œ ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± êµ¬ì¡°ëŠ” ì‹œìŠ¤í…œì˜ ë…¼ë¦¬ì ì¸ ì„¤ê³„ì— ë°œë§ì¶° ì„±ì¥í•˜ë©° ë˜ ì§„í™”í•´ì•¼í•œë‹¤.\nSDP: ì•ˆì •ëœ ì˜ì¡´ì„± ì›ì¹™ ì•ˆì •ì„±ì˜ ë°©í–¥ìœ¼ë¡œ(ë” ì•ˆì •ëœ ìª½ì—) ì˜ì¡´í•˜ë¼.\nì„¤ê³„ë¥¼ ìœ ì§€í•˜ë‹¤ ë³´ë©´ ë³€ê²½ì€ ë¶ˆê°€í”¼í•˜ë¯€ë¡œ ê²°ì½” ì •ì ì¼ ìˆ˜ ì—†ë‹¤.\nê³µí†µ íì‡„ ì›ì¹™ì„ ì¤€ìˆ˜í•¨ìœ¼ë¡œì¨ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ë¥¸ ìœ í˜•ì˜ ë³€ê²½ì—ëŠ” ì˜í–¥ë°›ì§€ ì•Šìœ¼ë©´ì„œë„ íŠ¹ì • ìœ í˜•ì˜ ë³€ê²½ì—ë§Œ ë¯¼ê°í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë©°, ì´ì— ë§ì¶”ì–´ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ëŠ” ë³€ë™ì„±ì„ ì§€ë‹ˆë„ë¡ ì„¤ê³„í•œë‹¤.\në³€ë™ì„±ì´ ë†’ì€(ë³€ë™ì´ ì˜ˆìƒë˜ëŠ”) ì»´í¬ë„ŒíŠ¸ì— í•œë²ˆ ì˜ì¡´í•˜ê²Œ ë˜ë©´ ë³€ë™ì„±ì´ í° ì»´í¬ë„ŒíŠ¸ë„ ê²°êµ­ ë³€ê²½ì´ ì–´ë ¤ì›Œì§€ë¯€ë¡œ ë³€ê²½ì´ ì‰½ì§€ ì•Šì€ ì»´í¬ë„ŒíŠ¸ê°€ ë³€ë™ì´ ì˜ˆìƒë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ê²Œ ë§Œë“¤ì–´ì„œëŠ” ì ˆëŒ€ ì•ˆëœë‹¤.\nëª¨ë“ˆì„ ë§Œë“¤ ë•ŒëŠ” ë³€ê²½í•˜ê¸° ì‰½ë„ë¡ ì„¤ê³„í–ˆì§€ë§Œ, ê·¸ ëª¨ë“ˆì— ì˜ì¡´ì„±ì„ ë§¤ë‹¬ì•„ ë²„ë¦¬ë©´ í•´ë‹¹ ëª¨ë“ˆë„ ë³€ê²½í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤. ë§Œë“  ëª¨ë“ˆì—ì„œëŠ” í•œ ì¤„ì˜ ì½”ë“œë„ ë³€ê²½ë˜ì§€ ì•Šì•˜ë”ë¼ë„ ë³€ê²½í•˜ëŠ” ì¼ì´ ìƒë‹¹íˆ ë„ì „ì ì¸ ì¼ì´ ë˜ì–´ë²„ë¦°ë‹¤. ì•ˆì •ëœ ì˜ì¡´ì„± ì›ì¹™ì„ ì¤€ìˆ˜í•˜ë©´ ë³€ê²½í•˜ê¸° ì–´ë ¤ìš´ ëª¨ë“ˆì´ ë³€ê²½í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì§„ ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nì•ˆì •ì„± ë™ì „ì„ ì„¸ë¡œë¡œ ì„¸ìš°ë©´ ì•ˆì •ì„±ì´ ë–¨ì–´ì§€ì§€ë§Œ ê±´ë“œë¦¬ì§€ ì•Šìœ¼ë©´ ë„˜ì–´ì§€ì§€ ì•ŠëŠ” ê²ƒ ì²˜ëŸ¼, ì•ˆì •ì„±ì€ ë³€í™”ê°€ ë°œìƒí•˜ëŠ” ë¹ˆë„ì™€ëŠ” ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ë‹¤.\nì›¹ìŠ¤í„° ì‚¬ì „ì—ì„œëŠ” ì•ˆì •ì„±ì„ \u0026lsquo;ì‰½ê²Œ ì›€ì§ì´ì§€ ì•ŠëŠ”\u0026rsquo;ì´ë¼ê³  ì •ì˜í•˜ëŠ”ë° ì´ëŠ” ë³€ê²½ì„ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ ì‘ì—…ëŸ‰ê³¼ ê´€ë ¨ëœë‹¤.\në³€ê²½ì„ ìœ„í•´ í•„ìš”í•œ ì‘ì—…ëŸ‰ì´ ë§ìœ¼ë©´ ì•ˆì •ì ì´ë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³€ê²½í•˜ê¸° ì–´ë µê²Œ ë§Œë“œëŠ” ë°ëŠ” í¬ê¸°, ë³µì¡ë„, ê°„ê²°í•¨ ë“± ë§ì€ ìš”ì¸ì´ ìˆì§€ë§Œ, ë³€ê²½í•˜ê¸° ì–´ë µê²Œ ë§Œë“œëŠ” í™•ì‹¤í•œ ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ” ìˆ˜ ë§ì€ ì»´í¬ë„ŒíŠ¸ê°€ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì´ë‹¤.\nì»´í¬ë„ŒíŠ¸ ì•ˆìª½ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ì˜ì¡´ì„±ì´ ë§ì•„ì§€ë©´, ì‚¬ì†Œí•œ ë³€ê²½ì´ë¼ë„ ì˜ì¡´í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œì¡±ì‹œí‚¤ë©´ì„œ ë³€ê²½í•˜ê¸° ìœ„í•´ ë§ì€ ë…¸ë ¥ì´ ë“¤ê¸° ë•Œë¬¸ì— ìƒë‹¹íˆ ì•ˆì •ì ì´ë‹¤. ì•ˆì •ëœ ì»´í¬ë„ŒíŠ¸\nXëŠ” ì„¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì±…ì„ responsibleì§„ë‹¤ Xì— 3ê°œ ì»´í¬ë„ŒíŠ¸ê°€ ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— Xë¥¼ ë³€ê²½í•˜ì§€ ë§ì•„ì•¼í•  ì´ìœ ëŠ” 3ê°€ì§€ì´ë‹¤. XëŠ” ë…ë¦½ì ì´ë‹¤. ì–´ë””ì—ë„ ì˜ì¡´í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë³€ê²½ë˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì™¸ì ì¸ ì˜í–¥ì´ ì „í˜€ ì—†ë‹¤. ë¶ˆì•ˆì •í•œ ì»´í¬ë„ŒíŠ¸\nì±…ì„ì„±ì´ ì—†ë‹¤. ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ë„ Yì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜ì¡´ì ì´ë‹¤. 3ê°œ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ë¯€ë¡œ ë³€ê²½ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì™¸ë¶€ ìš”ì¸ì´ 3ê°€ì§€ì´ë‹¤. ì•ˆì •ì„± ì§€í‘œ ì»´í¬ë„ŒíŠ¸ë¡œ ë“¤ì–´ì˜¤ê³  ë‚˜ê°€ëŠ” ì˜ì¡´ì„±ì˜ ê°œìˆ˜ë¥¼ ì„¸ì–´ ì»´í¬ë„ŒíŠ¸ê°€ ìœ„ì¹˜ìƒ(Positional) ì–´ëŠ ì •ë„ì˜ ì•ˆì •ì„±ì„ ê°€ì§€ëŠ”ì§€ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.\nFan-in: ì•ˆìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ì˜ì¡´ì„± ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì˜ í´ë˜ìˆ˜ ê°œìˆ˜ Fan-out: ë°”ê¹¥ìœ¼ë¡œ ë‚˜ê°€ëŠ” ì˜ì¡´ì„± ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì˜ í¬ë˜ìŠ¤ì— ì˜ì¡´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ í´ë˜ìˆ˜ ê°œìˆ˜ I(ë¶ˆì•ˆì •ì„±): I = Fan-out / (Fan-in + Fan-out) 0 ~ 1 0ì´ë©´ ìµœê³ ë¡œ ì•ˆì •ëœ ì»´í¬ë„ŒíŠ¸ 1ì´ë©´ ìµœê³ ë¡œ ë¶ˆì•ˆì •í•œ ì»´í¬ë„ŒíŠ¸ Fan-inê³¼ Fan-out ì§€í‘œëŠ” íŠ¹ì • ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ëŠ”, ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì— ìœ„ì¹˜í•œ í´ë˜ìŠ¤ì˜ ê°œìˆ˜ë¥¼ ì„¸ì–´ì„œ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.\nI ê°’ì´ 1ì´ë©´ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ë„ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ì§€ ì•Šì§€ë§Œ, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•œë‹¤ëŠ” ëœ»ì´ë‹¤. ìµœê³ ë¡œ ë¶ˆì•ˆì •í•œ ìƒíƒœ, ì±…ì„ì´ ì—†ìœ¼ë©° ì˜ì¡´ì ì´ë‹¤. ìì‹ ì—ê²Œ ì˜ì¡´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì—†ìœ¼ë¯€ë¡œ ë³€ê²½í•˜ì§€ ë§ì•„ì•¼ í•  ì´ìœ ê°€ ì—†ë‹¤. ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— ì–¸ì  ê°€ëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³€ê²½í•´ì•¼ í•  ì´ìœ ê°€ ìˆë‹¤. I ê°’ì´ 0ì´ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ê°€ ìˆì§€ë§Œ, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ ìì²´ëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»ì´ë‹¤. ìµœê³ ë¡œ ì•ˆì •ëœ ìƒíƒœ, ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì±…ì„ì§€ë©´ì„œ ë…ë¦½ì ì´ë‹¤. ìì‹ ì—ê²Œ ì˜ì¡´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆìœ¼ë¯€ë¡œ ë³€ê²½í•˜ê¸°ê°€ ì–´ë µë‹¤. í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³€ê²½í•˜ë„ë¡ ê°•ì œí•˜ëŠ” ì˜ì¡´ì„±ì€ ê°™ì§€ ì•ŠëŠ”ë‹¤. SDPì—ì„œ ì»´í¬ë„ŒíŠ¸ I ì§€í‘œëŠ” ê·¸ ì»´í¬ë„ŒëŠê°€ ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ Ië³´ë‹¤ ì»¤ì•¼í•œë‹¤ê³  ë§í•œë‹¤.\nì¦‰, ì˜ì¡´ì„± ë°©í–¥ìœ¼ë¡œ ê°ˆìˆ˜ë¡ I ì§€í‘œ ê°’ì´ ê°ì†Œí•´ì•¼í•œë‹¤.\nëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ì•ˆì •ì ì´ì–´ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ìµœê³ ë¡œ ì•ˆì •ì ì¸ ì‹œìŠ¤í…œì´ë¼ë©´ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\nì´ëŠ” ë°”ëŒì§í•œ ìƒí™©ì€ ì•„ë‹ˆë©°, ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë¥¼ ì„¤ê³„í•  ë•Œ ê¸°ëŒ€í•˜ëŠ” ê²ƒì€ ë¶ˆì•ˆì •í•œ ì»´í¬ë„ŒíŠ¸ì™€ ì•ˆì •ëœ ì»´í¬ë„ŒíŠ¸ê°€ ê³µì¡´í•˜ëŠ” ìƒíƒœë‹¤.\nìœ„ ë‹¤ì´ì–´ê·¸ë¨ì€ ì„¸ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ëœ ì´ìƒì ì¸ êµ¬ì¡°ì´ë‹¤.\nì¶”ìƒ ì»´í¬ë„ŒíŠ¸\nì¸í„°í˜ì´ìŠ¤ë§Œì„ í¬í•¨í•˜ëŠ” ì¶”ìƒ ì»´í¬ë„ŒíŠ¸ëŠ” ìƒë‹¹íˆ ì•ˆì •ì ì´ë¯€ë¡œ, ëœ ì•ˆì •ì ì¸ ì»´í¬ë„ŒíŠ¸ê°€ ì˜ì¡´í•  ìˆ˜ ìˆëŠ” ì´ìƒì ì¸ ëŒ€ìƒì´ë‹¤.\nì•ˆì •ì ì¸ Stableì˜ ë‚´ë¶€ í´ë˜ìŠ¤ Uê°€ ë¶ˆì•ˆì •í•œ Flexibleì˜ ë‚´ë¶€ í´ë˜ìŠ¤ Cë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤ë©´, DIPë¥¼ ë„ì…í•´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\nUSë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•œ ìˆ˜ UServer ì»´í¬ë„ŒíŠ¸ì— ë„£ê³ , í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ í•˜ë©´ Stableì˜ Flexibleì— ëŒ€í•œ ì˜ì¡´ì„±ì„ ëŠì„ ìˆ˜ ìˆê³ , UServer ìì²´ëŠ” ì–´ë””ì—ë„ ì˜ì¡´í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì•ˆì •ëœ ìƒíƒœì´ë¯€ë¡œ, ëª¨ë“  ì˜ì¡´ì„±ì´ ê°ì†Œí•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°œì„ í•  ìˆ˜ ìˆë‹¤.\nSAP: ì•ˆì •ëœ ì¶”ìƒí™” ì›ì¹™ ì»´í¬ë„ŒíŠ¸ëŠ” ì•ˆì •ëœ ì •ë„ë§Œí¼ë§Œ ì¶”ìƒí™”ë˜ì–´ì•¼ í•œë‹¤.\nê³ ìˆ˜ì¤€ ì •ì±…ì„ ì–´ë””ì— ìœ„ì¹˜ì‹œì¼œì•¼ í•˜ëŠ”ê°€? ê³ ìˆ˜ì¤€ ì•„í‚¤í…ì²˜ê°€ ì •ì±… ê²°ì •ê³¼ ê´€ë ¨ëœ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ìì£¼ ë³€ê²½ë˜ì„œëŠ” ì ˆëŒ€ë¡œ ì•ˆë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì´ë‹¤.\në”°ë¼ì„œ ì‹œìŠ¤í…œì—ì„œ ê³ ìˆ˜ì¤€ ì •ì±…ì„ ìº¡ìŠí™”í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë°˜ë“œì‹œ ì•ˆì •ëœ ì»´í¬ë„ŒíŠ¸(I = 0)ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤.\në¶ˆì•ˆì •í•œ ì»´í¬ë„ŒíŠ¸(I = 1)ëŠ” ë°˜ë“œì‹œ ë³€ë™ì„±ì´ í° ì†Œí”„íŠ¸ì›¨ì–´, ì¦‰ ì‰½ê³  ë°”ë¥´ê²Œ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë§Œì„ í¬í•¨í•´ì•¼ í•œë‹¤.\ní•˜ì§€ë§Œ ê³ ìˆ˜ì¤€ ì •ì±…ì„ ì•ˆì •ëœ ì»´í¬ë„ŒíŠ¸ì— ìœ„ì¹˜ì‹œí‚¤ë©´, ê·¸ ì •ì±…ì„ í¬í•¨í•˜ëŠ” ì†ŒìŠ¤ì½”ë“œëŠ” ìˆ˜ì •í•˜ê¸° ì–´ë ¤ì›Œì ¸ ì‹œìŠ¤í…œ ì „ì²´ ì•„í‚¤í…ì³ê°€ ìœ ì—°ì„±ì„ ìƒê²Œ ëœë‹¤.\nê°œë°© íì‡„ ì›ì¹™ì˜ ì¶”ìƒí™”ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ê°€ ìµœê³ ë¡œ ì•ˆì •ëœ ìƒíƒœì´ë©´ì„œë„ ë™ì‹œì— ë³€ê²½ì— ì¶©ë¶„íˆ ëŒ€ì‘í•  ìˆ˜ ìˆì„ ì •ë„ë¡œ ìœ ì—°í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nì•ˆì •ëœ ì¶”ìƒí™” ì›ì¹™ ì•ˆì •ëœ ì¶”ìƒí™” ì›ì¹™ì€ ì•ˆì •ì„±ê³¼ ì¶”ìƒí™” ì •ë„ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì •ì˜í•œë‹¤.\nì•ˆì •ëœ ì»´í¬ë„ŒíŠ¸ëŠ” ì¶”ìƒ ì»´í¬ë„ŒíŠ¸ì—¬ì•¼í•œë‹¤. ì´ë¥¼ í†µí•´ ì•ˆì •ì„±ì´ ì»´í¬ë„ŒíŠ¸ë¥¼ í™•ì¥í•˜ëŠ” ì¼ì„ ë°©í•´í•´ì„œëŠ” ì•ˆëœë‹¤. ë¶ˆì•ˆì •í•œ ì»´í¬ë„ŒíŠ¸ëŠ” ë°˜ë“œì‹œ êµ¬ì²´ ì»´í¬ë„ŒíŠ¸ì—¬ì•¼í•œë‹¤. ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ êµ¬ì²´ì ì¸ ì½”ë“œë¥¼ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ ë”°ë¼ì„œ ì•ˆì •ì ì¸ ì»´í¬ë„ŒíŠ¸ë¼ë©´ ë°˜ë“œì‹œ ì¸í„°í˜ì´ìŠ¤ì™€ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ êµ¬ì„±ë˜ì–´ ì‰½ê²Œ í™•ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nì•ˆì •ëœ ì»´í¬ë„ŒíŠ¸ê°€ í™•ì¥ ê°€ëŠ¥í•´ì§€ë©´ ìœ ì—°ì„±ì„ ì–»ê²Œ ë˜ê³  ì•„í‚¤í…ì²˜ë¥¼ ê³¼ë„í•˜ê²Œ ì œì•½í•˜ì§€ ì•Šê²Œ ëœë‹¤.\nSDPì—ì„œëŠ” ì˜ì¡´ì„±ì´ ë°˜ë“œì‹œ ì•ˆì •ì„±ì˜ ë°©í–¥ìœ¼ë¡œ í–¥í•´ì•¼ í•œë‹¤ê³  ë§í•˜ë©°, SAPì—ì„œëŠ” ì•ˆì •ì„±ì´ ê²°êµ­ ì¶”ìƒí™”ë¥¼ ì˜ë¯¸í•œë‹¤ê³  ë§í•˜ê¸° ë•Œë¬¸ì— SAPì™€ SDPë¥¼ ê²°í•©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ DIPì™€ ê°™ë‹¤.\në”°ë¼ì„œ ì˜ì¡´ì„±ì€ ì¶”ìƒí™”ì˜ ë°©í–¥ìœ¼ë¡œ í–¥í•˜ê²Œ ëœë‹¤. ì¶”ìƒí™” ì •ë„ ì¸¡ì •í•˜ê¸° SDP + SPA ì¡°í•©ì´ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ DIPë¼ê³  ì–¸ê¸‰í–ˆì—ˆì§€ë§Œ, DIPëŠ” í´ë˜ìŠ¤ì— ëŒ€í•œ ì›ì¹™ì´ë¯€ë¡œ ì¶”ìƒì ì´ê±°ë‚˜ ê·¸ë ‡ì§€ ì•Šê±°ë‚˜ ë‘˜ì¤‘ í•˜ë‚˜ì´ë‹¤.\ní•˜ì§€ë§Œ SDP + SAP ì¡°í•©ì€ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ì›ì¹™ì´ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ì˜ ì–´ë–¤ ë¶€ë¶„ì€ ì¶”ìƒì ì´ë©´ì„œ ë‹¤ë¥¸ ë¶€ë¶„ì€ ì•ˆì •ì ì¼ ìˆ˜ ìˆë‹¤.\nA ì§€í‘œëŠ” ì»´í¬ë„ŒíŠ¸ì˜ í´ë˜ìŠ¤ ì´ ìˆ˜ ëŒ€ë¹„ ì¸í„°í˜ì´ìŠ¤ì™€ ì¶”ìƒ í´ë˜ìŠ¤ì˜ ê°œìˆ˜ë¥¼ ë‹¨ìˆœíˆ ê³„ì‚°í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì˜ ì¶”ìƒí™” ì •ë„ë¥¼ ì¸¡ì •í•œ ê°’ì´ë‹¤.\nNc: ì»´í¬ë„ŒíŠ¸ì˜ í´ë˜ìŠ¤ ê°œìˆ˜ Na: ì»´í¬ë„ŒíŠ¸ì˜ ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ ê°œìˆ˜ A: ì¶”ìƒí™” ì •ë„ A = Na / Nc Aì§€í‘œëŠ” 0ê³¼ 1 ì‚¬ì´ì˜ ê°’ì„ ê°€ì§€ë©°, 0ì´ë©´ ì¶”ìƒ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ë„ ì—†ë‹¤ëŠ” ëœ», 1ì´ë©´ ì¶”ìƒí´ë˜ìŠ¤ë§Œ í¬í•¨í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\nì£¼ê³„ì—´: Main Sequence ìµœê³ ë¡œ ì•ˆì •ì ì´ë©° ì¶”ìƒí™”ëœ ì»´í¬ë„ŒíŠ¸ëŠ” (0, 1) ìµœê³ ë¡œ ë¶ˆì•ˆì •í•˜ë©° êµ¬ì²´í™”ëœ ì»´í¬ë„ŒíŠ¸ëŠ” (1, 0) ì»´í¬ë„ŒíŠ¸ëŠ” ì¶”ìƒí™”ì™€ ì•ˆì •í™” ì •ë„ê°€ ë‹¤ì–‘í•˜ë¯€ë¡œ ë‘ ì§€ì ì—ë§Œ ë¶„í¬í•  ìˆ˜ëŠ” ì—†ë‹¤.\në”°ë¼ì„œ A/I ê·¸ë˜í”„ ìƒì—ì„œ ì»´í¬ë„ŒíŠ¸ê°€ ìœ„ì¹˜í•  ìˆ˜ ìˆëŠ” í•©ë¦¬ì ì¸ ì§€ì ì„ ì •ì˜í•˜ëŠ” ê¶¤ì ì´ ìˆì„ ê²ƒì´ë¼ ê°€ì •í•´ ë³¼ ìˆ˜ ìˆìœ¼ë©°, ì´ ê¶¤ì ì€ ì»´í¬ë„ŒíŠ¸ê°€ ì ˆëŒ€ë¡œ ìœ„ì¹˜í•´ì„œëŠ” ì•ˆ ë˜ëŠ” ì˜ì—­(ë°°ì œí•  êµ¬ì—­)ì„ ì°¾ëŠ” ë°©ì‹ìœ¼ë¡œ ì¶”ë¡ í•  ìˆ˜ ìˆë‹¤.\nê³ í†µì˜ êµ¬ì—­: Zone of Pain (0, 0) ì£¼ë³€ êµ¬ì—­ì— ìœ„ì¹˜í•œ ì»´í¬ë„ŒíŠ¸ëŠ” ë§¤ìš° ì•ˆì •ì ì´ë©° êµ¬ì²´ì ì´ë¯€ë¡œ êµ‰ì¥íˆ ë»£ë»£í•œ ìƒíƒœë¡œ ë°”ëŒì§í•œ ìƒíƒœëŠ” ì•„ë‹ˆë‹¤.\nì¶”ìƒì ì´ì§€ ì•Šìœ¼ë¯€ë¡œ í™•ì¥í•  ìˆ˜ ì—†ë‹¤. ì•ˆì •ì ì´ë¯€ë¡œ ë³€ê²½í•˜ê¸° ì–´ë µë‹¤. ì œëŒ€ë¡œ ì„¤ê³„ëœ ì»´í¬ë„ŒíŠ¸ë¼ë©´ (0, 0) ê·¼ì²˜ì—ëŠ” ìœ„ì¹˜í•˜ì§€ ì•Šì„ ê²ƒì´ë¼ ë³´ëŠ”ê²Œ ì¼ë°˜ì ì´ë‹¤.\nì¼ë¶€ ì†Œí”„íŠ¸ì›¨ì–´ ì—”í‹°í‹°ëŠ” ê³ í†µì˜ êµ¬ì—­ì— ìœ„ì¹˜í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ë™ì„±ì´ ë§¤ìš° ë†’ë‹¤. ê·¹ë‹¨ì ìœ¼ë¡œ êµ¬ì²´ì ì´ë‹¤. ë§ì€ ì»´í¬ë„ŒíŠ¸ê°€ ì˜ì¡´í•œë‹¤. OO ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ì´ì— ìœ„ì¹˜í•œ ì¸í„°í˜ì´ìŠ¤ëŠ” ê´€ë¦¬í•˜ê¸° êµ‰ì¥íˆ ì–´ë µë‹¤. ìŠ¤í‚¤ë§ˆê°€ ë³€ê²½ë˜ë©´ ëŒ€ì²´ë¡œ ê³ í†µì„ ìˆ˜ë°˜í•œë‹¤. ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬(String ì»´í¬ë„ŒíŠ¸) Iê°€ 1ì¼ì§€ë¼ë„, ì‹¤ì œë¡œëŠ” ë³€ë™ì„±ì´ ê±°ì˜ ì—†ë‹¤. ì†í•œ í´ë˜ìŠ¤ê°€ ëª¨ë‘ êµ¬ì²´ í´ë˜ìŠ¤ì´ë‹¤. ê´‘ë²”ìœ„í•˜ê²Œ ì‚¬ìš©ë˜ì–´ ìˆ˜ì •í•˜ë©´ í˜¼ë€ì„ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤. ë³€ë™ë  ê°€ëŠ¥ì„±ì´ ê±°ì˜ ì—†ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” (0, 0)ì— ìœ„ì¹˜í–ˆë”ë¼ë„ í•´ë¡­ì§€ ì•Šë‹¤.\nê³ í†µì˜ êµ¬ì—­ì—ì„œ ë¬¸ì œê°€ ë˜ëŠ” ê²½ìš°ëŠ” ë³€ë™ì„±ì´ ìˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\nì“¸ëª¨ì—†ëŠ” êµ¬ì—­: Zone of Uselessness (1, 1)ì— ìœ„ì¹˜í•œ ì»´í¬ë„ŒíŠ¸ëŠ” ìµœê³ ë¡œ ì¶”ìƒì ì´ì§€ë§Œ ëˆ„êµ¬ë„ ê·¸ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì“¸ëª¨ì—†ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë©° ì´ë¡œì¸í•´ ì“¸ëª¨ì—†ëŠ” êµ¬ì—­ì´ë¼ ë¶€ë¥¸ë‹¤.\nì´ ì˜ì—­ì— ì¡´ì¬í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì—”í‹°í‹°ëŠ” íê¸°ë¬¼ê³¼ë„ ê°™ë‹¤.\nëŒ€ë¶€ë¶„ ëˆ„êµ¬ë„ êµ¬í˜„í•˜ì§€ ì•Šì€ ì±„ ë‚¨ê²¨ì§„ ì¶”ìƒ í´ë˜ìŠ¤ ì“¸ëª¨ì—†ëŠ” êµ¬ì—­ ë‚´ë¶€ ê¹Šìˆ™ì´ ìë¦¬ì¡ì€ ì»´í¬ë„ŒíŠ¸ëŠ” ì´ëŸ¬í•œ ì—”í‹°í‹°ì˜ ìƒë‹¹ ë¶€ë¶„ì„ í¬í•¨í•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.\në°°ì œ êµ¬ì—­ ë²—ì–´ë‚˜ê¸° ë³€ë™ì„±ì´ í° ì»´í¬ë„ŒíŠ¸ ëŒ€ë¶€ë¶„ì€ ë‘ ë°°ì œ êµ¬ì—­ìœ¼ë¡œë¶€í„° ê°€ëŠ¥í•œ ë©€ë¦¬ ë–¨ì–´ëœ¨ë ¤ì•¼ í•œë‹¤.\nì£¼ê³„ì—´ì— ìœ„ì¹˜í•œ ì»´í¬ë„ŒíŠ¸ëŠ” ìì‹ ì˜ ì•ˆì •ì„±ì— ë¹„í•´ ë„ˆë¬´ ì¶”ìƒì ì´ì§€ë„ ì•Šê³ , ì¶”ìƒí™” ì •ë„ì— ë¹„í•´ ë„ˆë¬´ ë¶ˆì•ˆì •í•˜ì§€ë„ ì•Šë‹¤.\nì“¸ëª¨ì—†ì§€ ì•Šìœ¼ë©´ì„œ ê³ í†µì„ ì•ˆê²¨ ì£¼ì§€ë„ ì•ŠëŠ”ë‹¤. ì¶”ìƒí™”ëœ ìˆ˜ì¤€ì— ì–´ìš¸ë¦´ ì •ë„ë¡œë§Œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ê°€ ì˜ì¡´í•œë‹¤. êµ¬ì²´í™”ëœ ìˆ˜ì¤€ì— ì–´ìš¸ë¦´ ì •ë¡œë¡œë§Œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•œë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ìœ„ì¹˜í•  ìˆ˜ ìˆëŠ” ê°€ì¥ ë°”ëŒì§í•œ ì§€ì ì€ ì£¼ê³„ì—´ì˜ ë‘ ì¢…ì ì´ë‹¤.\ní•˜ì§€ë§Œ ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì—ì„œ ì¼ë¶€ ì»´í¬ë„ŒíŠ¸ëŠ” ì™„ë²½íˆ ì¶”ìƒì ì´ê±°ë‚˜ ì™„ì „í•˜ê²Œ ì•ˆì •ì ì¼ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì´ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ëŠ” ì£¼ ê³„ì—´ ë°”ë¡œ ìœ„ì— ë˜ëŠ” ê°€ê¹ê²Œ ìœ„ì¹˜í•˜ê²Œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì´ìƒì ì´ë‹¤.\nì£¼ê³„ì—´ê³¼ì˜ ê±°ë¦¬ ì¶”ìƒí™” ì •ë„ë¥¼ ì¸¡ì •í•˜ëŠ” A/I ê·¸ë˜í”„ì—ì„œ (1, 0), (0, 1)ë¥¼ ì—°ê²°í•˜ëŠ” ì§ì„ ì¸ ì£¼ê³„ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ì–¼ë§ˆë‚˜ ë–¨ì–´ì ¸ìˆëŠ”ì§€ ê±°ë¦¬ë¥¼ ì¸¡ì •í•˜ì—¬ ì§€í‘œìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nD: ê±°ë¦¬, D = |A + I - 1| ìœ íš¨ë²”ìœ„: [0, 1] 0ì´ë©´ ì£¼ê³„ì—´ ë°”ë¡œ ìœ„ì— ìœ„ì¹˜, 1ì´ë©´ ì£¼ê³„ì—´ë¡œë¶€í„° ê°€ì • ë©€ë¦¬ ìœ„ì¹˜ ì´ ì§€í‘œë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ê°€ ì£¼ê³„ì—´ì— ëŒ€ì²´ë¡œ ì¼ì¹˜í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆëŠ”ì§€(ì¶”ìƒí™”, êµ¬ì²´í™” ìˆ˜ì¤€ì— ì–´ìš¸ë¦¬ëŠ” ì˜ì¡´ì„±ì„ ê°–ëŠ”ì§€) ë¶„ì„í•˜ê³ , ê±°ë¦¬ê°€ ë¨¼ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê°œì„ í•  ìˆ˜ ìˆë‹¤.\ní†µê³„ì  í™œìš©\nê°’ìœ¼ë¡œ ê³„ì‚°í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í†µê³„ì ìœ¼ë¡œ ë¶„ì„ ê°€ëŠ¥í•´ì§„ë‹¤.\nì„¤ê³„ì— í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ Dë¥¼ ê³„ì‚°í•˜ê³  ì´ë“¤ì˜ í‰ê· ê³¼ ë¶„ì‚°ì„ ì¸¡ì •í•˜ì˜€ì„ë•Œ, ì£¼ê³„ì—´ì— ì¼ì¹˜í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤ë©´ í‰ê· ê³¼ ë¶„ì‚°ì€ 0ì— ê°€ê¹Œì›Œì§„ë‹¤.\në¶„ì‚°ì„ í†µí•´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ë¹„í•´ ê·¹íˆ ì˜ˆì™¸ì ì¸ ì»´í¬ë„ŒíŠ¸ë¥´ ì‹ë³„í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê´€ë¦¬ í•œê³„ë¥¼ ê²°ì •í•˜ëŠ”ë° ìœ ìš©í•  ìˆ˜ ìˆë‹¤. ì‹œê°„ì— ë”°ë¥¸ ë³€í™” í™•ì¸\nê° ì»´í¬ë„ŒíŠ¸ì˜ D ê°’ì„ ì‹œê°„ì˜ íë¦„ì— ë”°ë¼ í™•ì¸í•´ë³´ë©´, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì˜ì¡´ì„±ì´ ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì´ë¥¼ í†µí•´ ì£¼ê³„ì—´ì—ì„œ ë©€ë¦¬ ë²—ì–´ë‚œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë¶„ì„í•˜ì—¬ ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\nê²°ë¡  ì˜ì¡´ì„± ê´€ë¦¬ ì§€í‘œëŠ” ì„¤ê³„ì˜ ì˜ì¡´ì„±ê³¼ ì¶”ìƒí™” ì •ë„ê°€ íœ¼ë¥­í•œ íŒ¨í„´ì´ë¼ê³  ìƒê°í•˜ëŠ” ìˆ˜ì¤€ì— ì–¼ë§ˆë‚˜ ì˜ ë¶€í•©í•˜ëŠ”ì§€ë¥¼ ì¸¡ì •í•œë‹¤.\ní•˜ì§€ë§Œ ì§€í‘œëŠ” ì„ì˜ë¡œ ê²°ì •ëœ í‘œì¤€ì„ ê¸°ì´ˆë¡œ í•œ ì¸¡ì •ê°’ì´ë¯€ë¡œ ì§„ë¦¬ê°€ ì•„ë‹ˆë©°, ì˜ì¡´ì„±ì˜ ì¢‹ê³  ë‚˜ì¨ì„ ì§€í‘œë¡œë§Œ íŒë‹¨í•´ì„œëŠ” ì•ˆëœë‹¤.\nê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ ì§€í‘œë¥¼ í†µí•´ ì´ìƒì„ í™•ì¸í•  ì—¬ì§€ê°€ ì¶©ë¶„í•˜ê³ , ì´ë¥¼ ìƒì„¸í•˜ê²Œ ë¶„ì„í•˜ì—¬ ì•„í‚¤í…ì²˜ ê°œì„ ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n","date":"2024-03-07T15:31:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/14/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/14/","title":"14. ì»´í¬ë„ŒíŠ¸ ê²°í•©"},{"content":"ì´ ì¥ì—ì„œëŠ” ì»´í¬ë„ŒíŠ¸ ì‘ì§‘ë„ì™€ ê´€ë ¨ëœ ì„¸ ê°€ì§€ ì›ì¹™ì„ ë…¼ì˜í•œë‹¤.\nREP: ì¬ì‚¬ìš©/ë¦´ë¦¬ìŠ¤ ë“±ê°€ ì›ì¹™ ì¬ì‚¬ìš© ë‹¨ìœ„ëŠ” ë¦´ë¦¬ìŠ¤ ë‹¨ìœ„ì™€ ê°™ë‹¤.\nì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë‚˜ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë§¤ìš° ë§ì´ ë§Œë“¤ì–´ì§ì— ë”°ë¼ ëª¨ë“ˆ ê´€ë¦¬ ë„êµ¬ê°€ ì ì  ì¤‘ìš”í•´ì¡Œë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì»´í¬ë„ŒíŠ¸ê°€ ë¦´ë¦¬ìŠ¤ ì ˆì°¨ë¥¼ í†µí•´ ì¶”ì  ê´€ë¦¬ë˜ì§€ ì•Šê±°ë‚˜, ë¦´ë¦¬ìŠ¤ ë²ˆí˜¸ê°€ ë¶€ì—¬ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì–´ë„ í•  ìˆ˜ë„ ì—†ê³ , í•˜ì§€ë„ ì•Šì„ ê²ƒì´ë‹¤.\në¦´ë¦¬ìŠ¤ ë²ˆí˜¸ê°€ ì—†ë‹¤ë©´ ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì„œë¡œ í˜¸í™˜ë˜ëŠ”ì§€ ë³´ì¦í•  ë°©ë²•ì´ ì „í˜€ ì—†ë‹¤. ë¦´ë¦¬ìŠ¤ ë²ˆí˜¸ë¥¼ í†µí•´ ìƒˆë¡œìš´ ë²„ì „ì´ ì–¸ì œ ì¶œì‹œë˜ê³  ë¬´ì—‡ì´ ë³€í–ˆëŠ”ì§€ë¥¼ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìë“¤ì´ ì•Œì•„ì•¼ í•œë‹¤. ë”°ë¼ì„œ ë¦´ë¦¬ìŠ¤ ì ˆì°¨ì—ëŠ” ì ì ˆí•œ ê³µì§€ì™€ í•¨ê»˜ ë¦´ë¦¬ìŠ¤ ë¬¸ì„œ ì‘ì„±ë„ í¬í•¨ë˜ì–´ì•¼ í•œë‹¤. ì´ ì›ì¹™ì„ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ì™€ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ë³´ë©´ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ëŠ” ì‘ì§‘ì„± ë†’ì€ í´ë˜ìŠ¤ì™€ ëª¨ë“ˆë“¤ë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•¨ì„ ëœ»í•œë‹¤.\në‹¤ë¥¸ ì‹œê°ìœ¼ë¡œ ë°”ë¼ë³´ë©´ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë¬¶ì¸ í´ë˜ìŠ¤ì™€ ëª¨ë“ˆì€ ë°˜ë“œì‹œ í•¨ê»˜ ë¦´ë¦¬ìŠ¤í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\ní•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë¬¶ì¸ í´ë˜ìŠ¤ì™€ ëª¨ë“ˆì€ ë²„ì „ ë²ˆí˜¸ê°€ ê°™ì•„ì•¼ í•œë‹¤. ë™ì¼í•œ ë¦´ë¦¬ìŠ¤ë¡œ ì¶”ì  ê´€ë¦¬ë˜ì–´ì•¼ í•œë‹¤. ë™ì¼í•œ ë¦´ë¦¬ìŠ¤ ë¬¸ì„œì— í¬í•¨ë˜ì–´ì•¼ í•œë‹¤. REPì˜ ì´ëŸ¬í•œ ë‚´ìš©ì€ ê°œë°œìë“¤ ê°„ì˜ ê´€ìŠµì´ë¼ëŠ” ì ì´ ì•½ì ì´ë‹¤. í•˜ì§€ë§Œ ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ê°€ REPë¥¼ ìœ„ë°°í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ìê°€ ì•Œê²Œ ë˜ê³ , ì•„í‚¤í…íŠ¸ë¡œì„œ ëŠ¥ë ¥ì„ ë†’ê²Œ í‰ê°€í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.\nì´ ì›ì¹™ì˜ ì•½ì ì€ ë‹¤ë¥¸ ë‘ ì›ì¹™ì´ ì§€ë‹Œ ê°•ì ì„ í†µí•´ ì¶©ë¶„íˆ ë³´ì™„í•  ìˆ˜ ìˆë‹¤.\nCCP: ê³µí†µ íì‡„ ì›ì¹™ ë™ì¼í•œ ì‹œì ì— ë³€ê²½ë˜ëŠ” í´ë˜ìŠ¤ë¥¼ ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¡œ ë¬¶ì–´ë¼.\nì„œë¡œ ë‹¤ë¥¸ ì‹œì ì— ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ë˜ëŠ” í´ë˜ìŠ¤ëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•˜ë¼.\nSRPì™€ ìœ ì‚¬ì„± ì´ ì›ì¹™ì€ ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)ì„ ì»´í¬ë„ŒíŠ¸ ê´€ì ì—ì„œ ë‹¤ì‹œ ì“´ ì›ì¹™ì´ë‹¤.\në™ì¼í•œ ì‹œì ì— ë™ì¼í•œ ì´ìœ ë¡œ ë³€ê²½ë˜ëŠ” ê²ƒë“¤ì„ í•œë° ë¬¶ì–´ë¼. ì„œë¡œ ë‹¤ë¥¸ ì‹œì ì— ë‹¤ë¥¸ ì´ìœ ë¡œ ë³€ê²½ë˜ëŠ” ê²ƒë“¤ì€ ì„œë¡œ ë¶„ë¦¬í•˜ë¼.\nSRPì—ì„œ í´ë˜ìŠ¤ì˜ ë³€ê²½ ì´ìœ ëŠ” í•˜ë‚˜ì—¬ì•¼ í•œë‹¤ê³  ë§í•˜ë“¯ì´, ê³µí†µ íì‡„ ì›ì¹™ì—ì„œë„ ë§ˆì°¬ê°€ì§€ë¡œ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ëŠ” ë³€ê²½ì˜ ì´ìœ ê°€ ì—¬ëŸ¬ê°œì—¬ì„œëŠ” ì•ˆëœë‹¤ê³  ë§í•œë‹¤.\nëŒ€ë‹¤ìˆ˜ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìœ ì§€ë³´ìˆ˜ì„±(Maintainability)ì€ ì¬ì‚¬ìš©ì„±ë³´ë‹¤ í›¨ì”¬ ì¤‘ìš”í•˜ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì½”ë“œê°€ ë°˜ë“œì‹œ ë³€ê²½ë˜ì–´ì•¼ í•œë‹¤ë©´, ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ ë„ì²˜ì—ì„œ ë¶„ì‚°ë˜ì–´ ë°œìƒí•˜ê¸° ë³´ë‹¤ëŠ”, ë³€ê²½ ëª¨ë‘ê°€ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•˜ëŠ” í¸ì´ ë‚«ë‹¤.\në³€ê²½ì„ ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸ë¡œ ì œí•œí•  ìˆ˜ ìˆë‹¤ë©´, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë§Œ ì¬ë°°í¬í•˜ë©´ ë˜ë¯€ë¡œ ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ê²€ì¦í•˜ê±°ë‚˜ ë°°í¬í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\nCCPëŠ” ê°™ì€ ì´ìœ ë¡œ ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ ìˆëŠ” í´ë˜ìŠ¤ëŠ” ëª¨ë‘ í•œê³³ìœ¼ë¡œ ë¬¶ì„ ê²ƒì„ ê¶Œí•œë‹¤.\në¬¼ë¦¬ì  ë˜ëŠ” ê°œë…ì ìœ¼ë¡œ ê°•í•˜ê²Œ ê²°í•©ë˜ì–´ í•­ìƒ í•¨ê»˜ ë³€ê²½ë˜ëŠ” í´ë˜ìŠ¤ë“¤ì€ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— ì†í•´ì•¼ í•œë‹¤. ì´ë¥¼ í†µí•´ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¦´ë¦¬ìŠ¤, ì¬ê²€ì¦, ë°°í¬í•˜ëŠ” ì¼ê³¼ ê´€ë ¨ëœ ì‘ì—…ëŸ‰ì„ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤.\nOCPì™€ì˜ ìœ ì‚¬ì„± ì´ ì›ì¹™ì€ ê°œë°© íì‡„ ì›ì¹™ê³¼ë„ ë°€ì ‘í•˜ê²Œ ê´€ë ¨ë˜ì–´ ìˆë‹¤.\nOCPì—ì„œëŠ” í´ë˜ìŠ¤ê°€ ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆê³  í™•ì¥ì—ëŠ” ì—´ë ¤ìˆì–´ì•¼ í•œë‹¤ê³  ë§í•˜ëŠ”ë°, 100% ì™„ì „í•œ íì‡„ë€ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ì „ëµì ìœ¼ë¡œ íì‡„í•´ì•¼ í•˜ë©°, ì´ì— ë”°ë¼ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆê±°ë‚˜ ê³¼ê±°ì— ë°œìƒí–ˆë˜ ëŒ€ë‹¤ìˆ˜ì˜ ê³µí†µì ì¸ ë³€ê²½ì— ëŒ€í•´ì„œ í´ë˜ìŠ¤ê°€ ë‹«í˜€ ìˆë„ë¡ ì„¤ê³„í•œë‹¤.\nCCPì—ì„œëŠ” ë™ì¼í•œ ìœ í˜•ì˜ ë³€ê²½ì— ëŒ€í•´ ë‹«í˜€ìˆëŠ” í´ë˜ìŠ¤ë“¤ì„ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë¬¶ìŒìœ¼ë¡œì¨ OCPì—ì„œ ì–»ì€ êµí›ˆì„ í™•ëŒ€ ì ìš©í•œë‹¤.\në”°ë¼ì„œ ë³€ê²½ì´ í•„ìš”í•œ ìš”êµ¬ì‚¬í•­ì´ ë°œìƒí–ˆì„ ë•Œ, ê·¸ ë³€ê²½ì´ ì˜í–¥ì„ ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì´ ìµœì†Œí•œìœ¼ë¡œ í•œì •ë  ê°€ëŠ¥ì„±ì´ í™•ì‹¤íˆ ë†’ì•„ì§„ë‹¤.\nCRP: ê³µí†µ ì¬ì‚¬ìš© ì›ì¹™ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ìë“¤ì„ í•„ìš”í•˜ì§€ ì•ŠëŠ” ê²ƒì— ì˜ì¡´í•˜ê²Œ ê°•ìš”í•˜ì§€ ë§ë¼.\nê³µí†µ ì¬ì‚¬ìš© ì›ì¹™ë„ í´ë˜ìŠ¤ì™€ ëª¨ë“ˆì„ ì–´ëŠ ì»´í¬ë„ŒíŠ¸ì— ìœ„ì¹˜ì‹œí‚¬ ì§€ ê²°ì •í•  ë•Œ ë„ì›€ë˜ëŠ” ì›ì¹™ì´ë‹¤.\nCRPì—ì„œëŠ” ê°™ì´ ì¬ì‚¬ìš©ë˜ëŠ” ê²½í–¥ì´ ìˆëŠ” í´ë˜ìŠ¤ì™€ ëª¨ë“ˆë“¤ì€ ê°™ì€ ì»´í¬ë„ŒíŠ¸ì— í¬í•¨í•´ì•¼ í•œë‹¤ê³  ë§í•œë‹¤.\nì¬ì‚¬ìš© ê°€ëŠ¥í•œ í´ë˜ìŠ¤ëŠ” ì¬ì‚¬ìš© ëª¨ë“ˆì˜ ì¼ë¶€ë¡œì¨ í•´ë‹¹ ëª¨ë“ˆì˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë°, CRPì—ì„œëŠ” ì´ëŸ° í´ë˜ìŠ¤ë“¤ì´ ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ì— í¬í•¨ë˜ì–´ì•¼ í•œë‹¤ê³  ë§í•œë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ì»¨í…Œì´ë„ˆ í´ë˜ìŠ¤ì™€ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì´í„°ë ˆì´í„° í´ë˜ìŠ¤ëŠ” ì„œë¡œ ê°•í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— í•¨ê»˜ ì¬ì‚¬ìš©ë˜ë¯€ë¡œ ì´ë“¤ í´ë˜ìŠ¤ëŠ” ë°˜ë“œì‹œ ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤. ì´ì²˜ëŸ¼ CRPëŠ” ê° ì»´í¬ë„ŒíŠ¸ì— ì–´ë–¤ í´ë˜ìŠ¤ë“¤ì„ í¬í•¨ì‹œì¼œì•¼ í•˜ëŠ”ì§€ë¥¼ ì„¤ëª…í•´ì¤€ë‹¤.\nISPì™€ì˜ ê´€ê³„ CRPëŠ” ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ì˜ í¬ê´„ì ì¸ ë²„ì „ì´ë‹¤.\ní•„ìš”í•˜ì§€ ì•Šì€ ê²ƒì— ì˜ì¡´í•˜ì§€ ë§ë¼.\nISPëŠ” ì‚¬ìš©í•˜ì§€ ì•Šì€ ë©”ì„œë“œê°€ ìˆëŠ” í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ë§ë¼ê³  ì¡°ì–¸í•˜ê³ , CRPëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•˜ì§€ ë§ë¼ê³  ì¡°ì–¸í•œë‹¤.\nì´ë¥¼ í†µí•´ CRPëŠ” ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ë¬¶ì–´ì„œëŠ” ì•ˆë˜ëŠ” í´ë˜ìŠ¤ê°€ ë¬´ì—‡ì¸ì§€ë„ ë§í•´ì¤€ë‹¤.\nì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´, ë‘ ì»´í¬ë„ŒíŠ¸ ì‚¬ì´ì—ëŠ” ì˜ì¡´ì„±ì´ ìƒê²¨ë‚œë‹¤.\nì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê·¹íˆ ì¼ë¶€ë§Œì„ ì‚¬ìš©í•œë‹¤ê³  í•˜ë”ë¼ë„ ì˜ì¡´ì„±ì€ ì¡°ê¸ˆë„ ì•½í•´ì§€ì§€ ì•ŠëŠ”ë‹¤.\nì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë„ ë³€ê²½í•´ì•¼ í•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë³€ê²½í•˜ì§€ ì•Šë”ë¼ë„, ì¬ì»´íŒŒì¼, ì¬ê²€ì¦, ì¬ë°°í¬ë¥¼ í•´ì•¼ í•˜ëŠ” ê°€ëŠ¥ì„±ì€ ì—¬ì „íˆ ë‚¨ì•„ìˆë‹¤. ë”°ë¼ì„œ ì˜ì¡´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆë‹¤ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ëª¨ë“  í´ë˜ìŠ¤ì— ëŒ€í•´ ì˜ì¡´í•¨ì„ í™•ì‹¤íˆ ì¸ì§€í•´ì•¼í•œë‹¤.\ní•œ ì»´í¬ë„ŒíŠ¸ì— ì†í•œ í´ë˜ìŠ¤ë“¤ì€ ë” ì‘ê²Œ ê·¸ë£¹ì§€ì„ ìˆ˜ ì—†ë‹¤. ê·¸ ì¤‘ ì¼ë¶€ í´ë˜ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ê³  ë‹¤ë¥¸ í´ë˜ìŠ¤ì™€ëŠ” ë…ë¦½ì ì¼ ìˆ˜ ì—†ìŒì„ í™•ì‹¤íˆ ì¸ì§€í•´ì•¼í•œë‹¤. CRPëŠ” ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ í•œë° ë¬¶ì–´ë„ ë˜ëŠ”ì§€ë³´ë‹¤ëŠ”, ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ í•œë° ë¬¶ì–´ì„œëŠ” ì•ˆ ë˜ëŠ”ì§€ì— ëŒ€í•´ í›¨ì”¬ ë” ë§ì€ ê²ƒì„ ì´ì•¼ê¸°í•œë‹¤.\nê°•í•˜ê²Œ ê²°í•©ë˜ì§€ ì•Šì€ í´ë˜ìŠ¤ë“¤ì„ ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ì— ìœ„ì¹˜ì‹œì¼œì„œëŠ” ì•ˆëœë‹¤ê³  ë§í•œë‹¤. ì»´í¬ë„ŒíŠ¸ ì‘ì§‘ë„ì— ëŒ€í•œ ê· í˜• ë‹¤ì´ì–´ê·¸ë¨ ì‘ì§‘ë„ ê´€ì ìœ¼ë¡œ ì„¸ ì›ì¹™ì´ ìƒì¶©ëœë‹¤.\ní¬í•¨ ì›ì¹™: REP, CCP ì»´í¬ë„ŒíŠ¸ì˜ í¬ê¸°ë¥¼ ë”ìš± í¬ê²Œ ë§Œë“ ë‹¤. ë°°ì œ ì›ì¹™: CRP ì»´í¬ë„ŒíŠ¸ë¥¼ ë”ìš± ì‘ê²Œ ë§Œë“ ë‹¤. ë›°ì–´ë‚œ ì•„í‚¤í…íŠ¸ë¼ë©´ ì´ ì›ì¹™ë“¤ì´ ê· í˜•ì„ ì´ë£¨ëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼í•œë‹¤.\nREPì™€ CRPì—ë§Œ ì¤‘ì ì„ ë‘ë©´, ì‚¬ì†Œí•œ ë³€ê²½ì´ ìƒê²¼ì„ ë•Œ ë„ˆë¬´ ë§ì€ ì»´í¬ë„ŒíŠ¸ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤. CCPì™€ REPì—ë§Œ ê³¼ë„í•˜ê²Œ ì§‘ì¤‘í•˜ë©´ ë¶ˆí•„ìš”í•œ ë¦´ë¦¬ìŠ¤ê°€ ë„ˆë¬´ ë¹ˆë²ˆí•´ì§„ë‹¤. ì´ ê· í˜• ì‚¼ê°í˜•ì—ì„œ ê°œë°œíŒ€ì´ í˜„ì¬ ê´€ì‹¬ì„ ê¸°ìš¸ì´ëŠ” ë¶€ë¶„ì„ ì¶©ì¡±ì‹œí‚¤ëŠ” ìœ„ì¹˜ë¥¼ ì°¾ì•„ì•¼ í•˜ë©°, ì‹œê°„ì´ íë¥´ë©´ì„œ ê°œë°œíŒ€ì´ ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ëŠ” ë¶€ë¶„ ì—­ì‹œ ë³€í•œë‹¤ëŠ” ì‚¬ì‹¤ë„ ì´í•´í•˜ê³  ìˆì–´ì•¼ í•œë‹¤.\nex) í”„ë¡œì íŠ¸ ì´ˆê¸°ì—ëŠ” ê°œë°œ ê°€ëŠ¥ì„±ì´ ë”ìš± ì¤‘ìš”í•˜ë¯€ë¡œ CCPê°€ REPë³´ë‹¤ í›¨ì”¬ ë” ì¤‘ìš”í•˜ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ëŠ” ì‚¼ê°í˜•ì˜ ì˜¤ë¥¸ìª½ì—ì„œ ì‹œì‘í•˜ì—¬ ì¬ì‚¬ìš©ì„±ì„ í¬ìƒí•œë‹¤.\ní”„ë¡œì íŠ¸ê°€ ì„±ìˆ™í•˜ê³ , íŒŒìƒëœ ë˜ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ê°€ ì‹œì‘ë˜ë©´, ì ì°¨ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•´ê°„ë‹¤.\nì¦‰, í”„ë¡œì íŠ¸ì˜ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ëŠ” ì‹œê°„ê³¼ ì„±ìˆ™ë„ì— ë”°ë¼ ë³€í•˜ë©°, í”„ë¡œì íŠ¸ê°€ ì‹¤ì œë¡œ ìˆ˜í–‰í•˜ëŠ” ì¼ ìì²´ë³´ë‹¤ëŠ” í”„ë¡œì íŠ¸ê°€ ë°œì „ë˜ê³  ì‚¬ìš©ë˜ëŠ” ë°©ë²•ê³¼ ë” ê´€ë ¨ì´ ê¹Šë‹¤.\nê²°ë¡  ê³¼ê±°ì—ëŠ” ì‘ì§‘ë„ë¥¼ \u0026lsquo;ëª¨ë“ˆì€ ë‹¨ í•˜ë‚˜ì˜ ê¸°ëŠ¥ë§Œ ìˆ˜í–‰í•´ì•¼í•œë‹¤.\u0026lsquo;ëŠ” ì†ì„± ì •ë„ë¡œ í›Œì”¬ ë‹¨ìˆœí–ˆë‹¤.\ní•˜ì§€ë§Œ ì»´í¬ë„ŒíŠ¸ ì‘ì§‘ë„ì— ê´€í•œ ì„¸ ê°€ì§€ ì›ì¹™ì€ ì‘ì§‘ë„ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” í›¨ì”¬ ë³µì¡í•œ ë‹¤ì–‘ì„±ì„ ì„¤ëª…í•´ ì¤€ë‹¤.\nì–´ëŠ í´ë˜ìŠ¤ë“¤ì„ ë¬¶ì–´ì„œ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì§€ ê²°ì •í•  ë•Œ, ì¬ì‚¬ìš©ì„±ê³¼ ê°œë°œ ê°€ëŠ¥ì„±ì´ë¼ëŠ” ìƒì¶©í•˜ëŠ” í˜ì„ ê³ ë ¤í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìš”êµ¬ì— ë§ê²Œ ê· í˜•ì„ ì¡ëŠ” ì¼ì€ ì¤‘ìš”í•˜ë‹¤.\nì´ ê· í˜•ì ì€ ê±°ì˜ í•­ìƒ ìœ ë™ì ì´ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ì‹ë„ ì¡°ê¸ˆì”© ííŠ¸ëŸ¬ì§€ê³  ë˜ ì§„í™”í•´ì•¼í•œë‹¤.\n","date":"2024-03-07T15:09:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/13/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/13/","title":"13. ì»´í¬ë„ŒíŠ¸ ì‘ì§‘ë„"},{"content":" SOLID ì›ì¹™ì´ ë²½ê³¼ ë°©ì— ë²½ëŒì„ ë°°ì¹˜í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ì¤€ë‹¤ë©´, ì»´í¬ë„ŒíŠ¸ ì›ì¹™ì€ ë¹Œë”©ì— ë°©ì„ ë°°ì¹˜í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•œë‹¤.\ní° ë¹Œë”©ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ëŒ€ê·œëª¨ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì€ ì‘ì€ ì»´í¬ë„ŒíŠ¸ë“¤ë¡œ ë§Œë“¤ì–´ì§€ë¯€ë¡œ, ì»´í¬ë„ŒíŠ¸ê°€ ë¬´ì—‡ì¸ì§€, êµ¬ì„±í•˜ëŠ” ìš”ì†ŒëŠ” ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ê³ , ì»´í¬ë„ŒíŠ¸ë¥¼ ê²°í•©í•˜ì—¬ ì‹œìŠ¤íƒ¬ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë…¼ì˜í•œë‹¤.\nì»´í¬ë„ŒíŠ¸ëŠ” ì‹œìŠ¤í…œì˜ êµ¬ì„± ìš”ì†Œë¡œ ë°°í¬í•  ìˆ˜ ìˆëŠ” ê°€ì¥ ì‘ì€ ë‹¨ìœ„ë‹¤.\njava: .jar, ruby: gem, .net: DLL ì»´íŒŒì¼ ì–¸ì–´ì—ì„œëŠ” ë°”ì´ë„ˆë¦¬ íŒŒì¼ì˜ ê²°í•©ì²´ ì¸í„°í”„ë¦¬í„° ì–¸ì–´ì˜ ê²½ìš° ì†ŒìŠ¤ íŒŒì¼ì˜ ê²°í•©ì²´ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„œë¡œ ë§í¬í•˜ì—¬ ì‹¤í–‰ ê°€ëŠ¥í•œ ë‹¨ì¼ íŒŒì¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\në‹¨ì¼ ì•„ì¹´ì´ë¸Œ: .war í”ŒëŸ¬ê·¸ì¸: .jar, dll ì‹¤í–‰ íŒŒì¼: .exe ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆì§€ë§‰ì— ì–´ë–¤ í˜•íƒœë¡œ ë°°í¬ë˜ë“ , ì˜ ì„¤ê³„ëœ ì»´í¬ë„ŒíŠ¸ë¼ë©´ ë°˜ë“œì‹œ ë…ë¦½ì ìœ¼ë¡œ ë°°í¬ ê°€ëŠ¥í•œ, ë”°ë¼ì„œ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ ê°€ëŠ¥í•œ ëŠ¥ë ¥ì„ ê°–ì¶°ì•¼í•œë‹¤.\nì»´í¬ë„ŒíŠ¸ì˜ ê°„ëµí•œ ì—­ì‚¬ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ì´ˆì°½ê¸°ì—ëŠ” ë©”ëª¨ë¦¬ì—ì„œì˜ í”„ë¡œê·¸ë¨ ìœ„ì¹˜ì™€ ë ˆì´ì•„ì›ƒì„ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì§ì ‘ ì œì–´í•˜ì—¬, í”„ë¡œê·¸ë¨ ìœ„ì¹˜ê°€ ê²°ì •ë˜ë©´, ì¬ë°°ì¹˜ê°€ ë¶ˆê°€ëŠ¥í–ˆë‹¤.\në¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì— ì§ì ‘ í¬í•¨ì‹œì¼œ ë‹¨ì¼ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ì»´íŒŒì¼í–ˆë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë°”ì´ë„ˆë¦¬ê°€ ì•„ë‹ˆë¼ ì†ŒìŠ¤ ì½”ë“œ í˜•íƒœë¡œ ìœ ì§€ë˜ì—ˆë‹¤. ìì›ì´ í•œì •ì ì´ì—ˆê¸° ë•Œë¬¸ì— ì†ŒìŠ¤ì½”ë“œ ì „ì²´ë¥¼ ì—¬ëŸ¬ë²ˆì— ê±¸ì³ì„œ ì½ì–´ì•¼í•˜ì§€ë§Œ, ì½”ë“œ ì „ì²´ë¥¼ ë©”ëª¨ë¦¬ì— ìƒì£¼ì‹œí‚¬ ìˆ˜ê°€ ì—†ì–´ ì—¬ëŸ¬ì°¨ë¡€ ì½ì–´ì•¼í–ˆë‹¤. ì»´íŒŒì¼ ì‹œê°„ì„ ë‹¨ì¶•ì‹œí‚¤ê¸°ìœ„í•´ í•¨ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¡œë¶€í„° ë¶„ë¦¬í–ˆë‹¤. ê°œë³„ì ìœ¼ë¡œ ì»´íŒŒì¼í•˜ê³ , ì»´íŒŒì¼ëœ ë°”ì´ë„ˆë¦¬ë¥¼ ë©”ëª¨ë¦¬ì˜ íŠ¹ì • ìœ„ì¹˜ì— ë¡œë“œí–ˆë‹¤. í•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì ì  ì»¤ì¡Œê³ , í• ë‹¹ëœ ê³µê°„ì„ ë„˜ì–´ì„œê²Œ ë˜ì–´ ë‘ ê°œì˜ ì£¼ì†Œ ì„¸ê·¸ë¨¼íŠ¸ë¡œ ë¶„ë¦¬í•˜ê³  í•¨ìˆ˜ ë¼ì´ë¸Œë¼ë¦¬ ê³µê°„ì„ ì‚¬ì´ì— ë‘ê³  ì˜¤ê°€ë©° ë™ì‘í•˜ê²Œ ë°°ì¹˜í•´ì•¼í–ˆë‹¤. ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ê°€ ëŠ˜ì–´ë‚ ìŠ¤ë¡ ì´ëŸ¬í•œ ë‹¨í¸í™”ëŠ” ê³„ì†ë  ìˆ˜ë°–ì— ì—†ì—ˆê¸° ë•Œë¬¸ì— ì§€ì†ê°€ëŠ¥í•˜ì§€ ì•Šì•˜ë‹¤. ì¬ë°°ì¹˜ì„± ì´ëŸ¬í•œ ë¬¸ì œì˜ í•´ê²°ì±…ì€ ì¬ë°°ì¹˜ê°€ ê°€ëŠ¥í•œ ë°”ì´ë„ˆë¦¬(Relocatable binary)ì˜€ë‹¤.\nì§€ëŠ¥ì ì¸ ë¡œë”ë¥¼ ì‚¬ìš©í•´ì„œ ë©”ëª¨ë¦¬ì— ì¬ë°°ì¹˜í•  ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ë°”ì´ë„ˆë¦¬ë¥¼ ìƒì„±í•˜ë„ë¡ ì»´íŒŒì¼ëŸ¬ë¥¼ ìˆ˜ì • í•¨ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¡œë“œí•  ìœ„ì¹˜ì™€ ì• í•„ë¦¬ì¼€ì´ì…˜ì„ ë¡œë“œí•  ìœ„ì¹˜ë¥¼ ë¡œë”ì—ê²Œ ì§€ì‹œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\nì´ë¥¼ í†µí•´ ì˜¤ì§ í•„ìš”í•œ í•¨ìˆ˜ë§Œì„ ë¡œë“œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\nì»´íŒŒì¼ëŸ¬ëŠ” ì¬ë°°ì¹˜ ê°€ëŠ¥í•œ ë°”ì´ë„ˆë¦¬ ì•ˆì˜ í•¨ìˆ˜ ì´ë¦„ì„ ë©”íƒ€ë°ì´í„° í˜•íƒœë¡œ ìƒì„±í•˜ë„ë¡ ìˆ˜ì •ë˜ì—ˆë‹¤.\ní”„ë¡œê·¸ë¨ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤ë©´ ì»´íŒŒì¼ëŸ¬ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ ì´ë¦„ì„ ì™¸ë¶€ ì°¸ì¡°(External reference) ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” í”„ë¡œê·¸ë¨ì´ë¼ë©´ ì™¸ë¶€ ì •ì˜(External definition) ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ ì™¸ë¶€ ì •ì˜ë¥¼ ë¡œë“œí•  ìœ„ì¹˜ê°€ ì •í•´ì§€ë§Œ í•˜ë©´ ë¡œë”ê°€ ì™¸ë¶€ ì°¸ì¡°ë¥¼ ì™¸ë¶€ ì •ì˜ì— ë§í¬ì‹œí‚¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , ì´ë ‡ê²Œ ë§í‚¹ ë¡œë”(Linking Loader)ê°€ íƒ„ìƒí–ˆë‹¤.\në§ì»¤ ë§í‚¹ ë¡œë”ì˜ ë“±ì¥ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë¨¸ëŠ” í”„ë¡œê·¸ë¨ì„ ê°œë³„ì ìœ¼ë¡œ ì»´íŒŒì¼í•˜ê³  ë¡œë“œí•  ìˆ˜ ìˆëŠ” ë‹¨ìœ„ë¡œ ë¶„í• í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\ní•˜ì§€ë§Œ í”„ë¡œê·¸ë¨ë„ í›¨ì”¬ ì»¤ì§€ê²Œ ë˜ë©° ë§í‚¹ ë¡œë”ì˜ ì„±ëŠ¥ìœ¼ë¡œ ê°ë‹¹í•  ìˆ˜ ì—†ëŠ” ìˆ˜ì¤€ì´ ë˜ì—ˆë‹¤.\nì´ì— ë”°ë¼ ë¡œë“œì™€ ë§í¬ê°€ ë‘ ë‹¨ê³„ë¡œ ë¶„ë¦¬ë˜ì—ˆë‹¤.\në§ì»¤ë¼ëŠ” ë³„ë„ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë§í¬ê°€ ì™„ë£Œëœ ì¬ë°°ì¹˜ ì½”ë“œë¥¼ ë§Œë“¤ì–´ì£¼ì–´ ë¡œë”© ê³¼ì •ì´ ì•„ì£¼ ë¹¨ë¼ì¡Œë‹¤. í•œë²ˆ ë§Œë“¤ì–´ë‘” ì‹¤í–‰ íŒŒì¼ì€ ì–¸ì œë¼ë„ ë¹ ë¥´ê²Œ ë¡œë“œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì´í›„ Cì™€ ê°™ì€ ê³ ìˆ˜ì¤€ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ê¸° ì‹œì‘í•˜ë©° ì†ŒìŠ¤ ëª¨ë“ˆì€ .cíŒŒì¼ì—ì„œ .o íŒŒì¼ë¡œ ì»´íŒŒì¼ëœ í›„, ë§ì»¤ë¡œ ì „ë‹¬ë˜ì–´ ë°”ë¥´ê²Œ ë¡œë“œë  ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ì‹¤í–‰ íŒŒì¼ë¡œ ë§Œë“¤ì–´ì¡Œë‹¤.\ní•˜ì§€ë§Œ í”„ë¡œê·¸ë¨ì˜ ê·œëª¨ê°€ ì»¤ì§€ë©° ì „ì²´ ëª¨ë“ˆì„ ì»´íŒŒì¼ í•˜ëŠ”ë° ê½¤ ì‹œê°„ì´ ê±¸ë ¸ê³ , ì´í›„ì— ë§í¬ì—ì„œëŠ” ë” ë§ì€ ì‹œê°„ì´ ì†Œìš”ë˜ì—ˆë‹¤.\në¡œë“œ ì‹œê°„ì€ ì—¬ì „íˆ ë¹¨ëì§€ë§Œ, ì»´íŒŒì¼-ë§í¬ ì‹œê°„ì´ ë³‘ëª© êµ¬ê°„ì´ì—ˆë‹¤.\ní•˜ì§€ë§Œ ìì›ì˜ ì„±ëŠ¥ì´ ë¹„ì•½ì ìœ¼ë¡œ í–¥ìƒë˜ë©° í”„ë¡œê·¸ë¨ì„ ì„±ì¥ì‹œí‚¤ëŠ” ì†ë„ë³´ë‹¤ ë§í¬ ì‹œê°„ì´ ì¤„ì–´ë“œëŠ” ì†ê³ ê°€ ë” ë¹¨ë¼ì§€ê¸° ì‹œì‘í–ˆê³ , ì†Œê·œëª¨ ì‘ì—…ì´ë¼ë©´ ë§í‚¹ ë¡œë”ë§ˆì €ë„ ë‹¤ì‹œê¸ˆ ì‚¬ìš©í•  ë§Œí•˜ê²Œ ë˜ì—ˆë‹¤.\nì´ë ‡ê²Œ ì•¡í‹°ë¸Œ Xì™€ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‹œëŒ€ê°€ ì—´ë ¸ê³  .jar íŒŒì¼ë„ ë“±ì¥í•˜ê¸° ì‹œì‘í–ˆë‹¤.\në‹¤ìˆ˜ì˜ .jar íŒŒì¼ ë˜ëŠ” ë‹¤ìˆ˜ì˜ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìˆœì‹ê°„ì— ì„œë¡œ ë§í¬í•œ í›„, ë§í¬ê°€ ëë‚œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , ì´ë ‡ê²Œ **ì»´í¬ë„ŒíŠ¸ í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì³(Component Plugin Architecture)**ê°€ íƒ„ìƒí–ˆë‹¤.\nê²°ë¡  ëŸ°íƒ€ì„ì— í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ê²°í•©í•  ìˆ˜ ìˆëŠ” ë™ì  ë§í¬ íŒŒì¼ì´ ì´ ì±…ì—ì„œ ë§í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì»´í¬ë„ŒíŠ¸ì— í•´ë‹¹í•œë‹¤.\nê³¼ê±°ì—ëŠ” ì´ˆì¸ì ì¸ ë…¸ë ¥ì„ ë“¤ì—¬ì•„ë§Œ ì»´í¬ë„ŒíŠ¸ í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ë¥¼ ì ìš©í•  ìˆ˜ ìˆì—ˆì§€ë§Œ, ì´ì œëŠ” ê¸°ë³¸ìœ¼ë¡œ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì§€ì ê¹Œì§€ ë‹¤ë‹¤ëë‹¤.\n","date":"2024-03-07T14:21:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/12/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/12/","title":"12. ì»´í¬ë„ŒíŠ¸"},{"content":"ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì—ì„œ ë§í•˜ëŠ” \u0026lsquo;ìœ ì—°ì„±ì´ ê·¹ëŒ€í™”ëœ ì‹œìŠ¤í…œ\u0026rsquo;ì´ë€ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì´ ì¶”ìƒ(Abstraction)ì— ì˜ì¡´í•˜ë©° êµ¬ì²´(Concretion)ì—ëŠ” ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ì‹œìŠ¤í…œì´ë‹¤.\nìë°”ì™€ ê°™ì€ ì •ì  íƒ€ì… ì–¸ì–´ì—ì„œ ì´ ë§ì€ use, import, include êµ¬ë¶„ì€ ì˜¤ì§ ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ í´ë˜ìŠ¤ ê°™ì€ ì¶”ìƒì ì¸ ì„ ì–¸ë§Œì„ ì°¸ì¡°í•´ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë‹¤.\në§ˆì°¬ê°€ì§€ë¡œ ë™ì  íƒ€ì… ì–¸ì–´ì—ì„œë„ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ ê´€ê³„ì—ì„œ êµ¬ì²´ ëª¨ë“ˆì€ ì°¸ì¡°í•´ì„œëŠ” ì•ˆëœë‹¤.\ní•˜ì§€ë§Œ êµ¬ì²´ ëª¨ë“ˆì´ ë¬´ì—‡ì¸ì§€ ì •ì˜í•˜ê¸° ë‹¤ì†Œ ì–´ë µê³ , í˜¸ì¶œí•  í•¨ìˆ˜ê°€ êµ¬í˜„ëœ ëª¨ë“ˆì´ë¼ë©´ ì°¸ì¡°í•˜ì§€ ì•Šê¸°ê°€ íŠ¹íˆ ì–´ë µë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì´ë¼ë©´ êµ¬ì²´ì ì¸ ë§ì€ ì¥ì¹˜ì— ë°˜ë“œì‹œ ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì— ê·œì¹™ìœ¼ë¡œ ë³´ê¸°ì— ë¹„í˜„ì‹¤ì ì´ë‹¤.\nex) ìë°” Stringì€ êµ¬ì²´ í´ë˜ìŠ¤ ì• ì¨ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ë ¤ëŠ” ì‹œë„ëŠ” í˜„ì‹¤ì„±ì´ ì—†ë‹¤. java.lang.String êµ¬ì²´ í´ë˜ìŠ¤ì— ëŒ€í•œ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì€ ë²—ì–´ë‚  ìˆ˜ ì—†ê³ , ë²—ì–´ë‚˜ì„œë„ ì•ˆëœë‹¤. String í´ë˜ìŠ¤ëŠ” ë³€ê²½ë˜ëŠ” ì¼ì´ ê±°ì˜ ì—†ê³ , ìˆë”ë¼ë„ ì—„ê²©í•˜ê²Œ í†µì œë˜ë¯€ë¡œ ë§¤ìš° ì•ˆì •ì ì´ë‹¤.\nê°œë°œìì™€ ì•„í‚¤í…íŠ¸ëŠ” String í´ë˜ìŠ¤ì—ì„œ ë³€ê²½ì´ ìì£¼ ë°œìƒí•  ê²ƒì´ë¼ê³  ì—¼ë ¤í•  í•„ìš”ê°€ ì—†ë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ DIPë¥¼ ë…¼í•  ë•Œ ìš´ì˜ì²´ì œë‚˜ í”Œë«í¼ ê°™ì´ ì•ˆì •ì„±ì´ ë³´ì¥ëœ í™˜ê²½ì— ëŒ€í•´ì„œëŠ” ë¬´ì‹œí•˜ëŠ” í¸ì´ë‹¤.\ní™˜ê²½ì— ëŒ€í•œ ì˜ì¡´ì„±ì„ ìš©ë‚©í•˜ëŠ” ì´ìœ ëŠ” ë³€ê²½ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ì¦‰, ë³€ë™ì„±ì´ í°(Volatile) êµ¬ì²´ì ì¸ ìš”ì†Œê°€ ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ëª©í‘œì´ë©°, êµ¬ì²´ì ì¸ ìš”ì†ŒëŠ” ì§€ì†ì ì¸ ê°œë°œì„ í†µí•´ ê³„ì† ë³€ê²½ë  ìˆ˜ ë°–ì— ì—†ëŠ” ëª¨ë“ˆë“¤ì´ë‹¤.\nì•ˆì •ëœ ì¶”ìƒí™” ì•ˆì •ëœ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ë€ ë³€ë™ì„±ì´ í° êµ¬í˜„ì œì— ì˜ì¡´í•˜ëŠ” ì¼ì€ ì§€ì–‘í•˜ê³ , ì•ˆì •ëœ ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„ í˜¸í•˜ëŠ” ì•„í‚¤í…ì²˜ì´ë‹¤.\nì¸í„°í˜ì´ìŠ¤ëŠ” êµ¬í˜„ì²´ë³´ë‹¤ ë³€ë™ì„±ì´ ë‚®ë‹¤.\në”°ë¼ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ ë„ êµ¬í˜„ì²´ì— ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ í†µí•´ ì¸í„°í˜ì´ìŠ¤ì˜ ë³€ë™ì„±ì„ ë‚®ì¶°ì•¼í•œë‹¤.\në³€ë™ì„±ì´ í° êµ¬ì²´ í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°í•˜ì§€ ë§ë¼. ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ë¼ ê°ì²´ ìƒì„± ë°©ì‹ì„ ê°•í•˜ê²Œ ì œì•½í•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ ì¶”ìƒ íŒ©í† ë¦¬(Abstract Factory)ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œí•œë‹¤. ë³€ë™ì„±ì´ í° êµ¬ì²´ í´ë˜ìŠ¤ë¡œë¶€í„° íŒŒìƒí•˜ì§€ ë§ë¼. ìƒì†ì€ ì†ŒìŠ¤ ì½”ë“œì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ê´€ê³„ ì¤‘ì—ì„œ ê°€ì¥ ê°•ë ¥í•œ ë™ì‹œì— ë»£ë»£í•´ì„œ ë³€ê²½í•˜ê¸° ì–´ë µë‹¤. ìƒì†ì„ ì•„ì£¼ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•´ì•¼í•œë‹¤. êµ¬ì²´ í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ì§€ ë§ë¼. êµ¬ì²´ í•¨ìˆ˜ëŠ” ëŒ€ì²´ë¡œ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì„ í•„ìš”ë¡œí•œë‹¤. êµ¬ì²´ í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ë©´ ì´ëŸ¬í•œ ì˜ì¡´ì„±ì„ ì œê±°í•  ìˆ˜ ì—†ê²Œë˜ë©°, ê·¸ ì˜ì¡´ì„±ì„ ìƒì†í•˜ê²Œ ëœë‹¤. ì¶”ìƒ í•¨ìˆ˜ë¡œ ì„ ì–¸í•˜ê³  êµ¬í˜„ì²´ë“¤ì—ì„œ ê°ìì˜ ìš©ë„ì— ë§ê²Œ êµ¬í˜„í•œë‹¤. êµ¬ì²´ì ì´ë©° ë³€ë™ì„±ì´ í¬ë‹¤ë©´ ì ˆëŒ€ë¡œ ê·¸ ì´ë¦„ì„ ì–¸ê¸‰í•˜ì§€ ë§ë¼. íŒ©í† ë¦¬ ì‚¬ì‹¤ìƒ ëª¨ë“  ì–¸ì–´ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ë ¤ë©´ í•´ë‹¹ ê°ì²´ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì •ì˜í•œ ì½”ë“œì— ëŒ€í•´ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì´ ë°œìƒí•˜ë¯€ë¡œ, ë³€ë™ì„±ì´ í° êµ¬ì²´ì ì¸ ê°ì²´ëŠ” íŠ¹ë³„íˆ ì£¼ì˜í•´ì„œ ìƒì„±í•´ì•¼í•œë‹¤.\nëŒ€ë‹¤ìˆ˜ì˜ ê°ì²´ ì§€í–¥ ì–¸ì–´ì—ì„œ ë°”ëŒì§í•˜ì§€ ëª»í•œ ì˜ì¡´ì„±ì„ ì²˜ë¦¬í•  ë•Œ ì¶”ìƒ íŒ©í† ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„± ê³¡ì„ ì€ êµ¬ì²´ì ì¸ ê²ƒë“¤ë¡œë¶€í„° ì¶”ìƒì ì¸ ê²ƒë“¤ì€ ë¶„ë¦¬í•˜ê³  ìˆë‹¤. ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì€ í•´ë‹¹ ê³¡ì„ ê³¼ êµì°¨í•  ë•Œ ëª¨ë‘ ì¶”ìƒì ì¸ ìª½ìœ¼ë¡œ í–¥í•œë‹¤. ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œì´ ê³¡ì„ ì„ ê¸°ì¤€ìœ¼ë¡œ ì¶”ìƒ ì»´í¬ë„ŒíŠ¸ì™€ êµ¬ì²´ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬ëœë‹¤. ì œì–´íë¦„ì€ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ê³¼ëŠ” ì •ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ê³¡ì„ ì„ ê°€ë¡œì§€ë¥´ê³  ìˆëŠ”ë°, ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì€ ì œì–´íë¦„ê³¼ëŠ” ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì—­ì „ëœë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ì´ ì›ì¹™ì„ ì˜ì¡´ì„± ì—­ì „ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\nêµ¬ì²´ ì»´í¬ë„ŒíŠ¸ ìœ„ ì˜ˆì œì˜ ê²½ìš° ServiceFactoryImpl êµ¬ì²´ í´ë˜ìŠ¤ê°€ ConcreteImpl êµ¬ì²´ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ê³  ìˆìœ¼ë¯€ë¡œ DIPë¥¼ ìœ„ë°°í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.\nDIP ìœ„ë°°ë¥¼ ëª¨ë‘ ì—†ì•¨ìˆ˜ëŠ” ì—†ì§€ë§Œ, DIPë¥¼ ìœ„ë°°í•˜ëŠ” í´ë˜ìŠ¤ë“¤ì€ ì ì€ ìˆ˜ì˜ êµ¬ì²´ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ë¡œ ëª¨ì„ ìˆ˜ ìˆê³ , ì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ê³¼ëŠ” ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.\nê²°ë¡  DIPëŠ” ê³ ìˆ˜ì¤€ì˜ ì•„í‚¤í…ì²˜ ì›ì¹™ì—ì„œ ì§€ì†ì ìœ¼ë¡œ ì–¸ê¸‰ë˜ëŠ” ê·œì¹™ì´ë‹¤.\nDIPëŠ” ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ ê°€ì¥ ëˆˆì— ë“œë¼ë‚˜ëŠ” ì›ì¹™ì´ ë  ê²ƒì´ë‹¤.\nê³¡ì„ ì€ ì•„í‚¤í…ì²˜ì˜ ê²½ê³„ê°€ ë˜ê³ , ì˜ì¡´ì„±ì€ ê³¡ì„ ì„ ê²½ê³„ë¡œ ë” ì¶”ìƒì ì¸ ì—”í‹°í‹°ê°€ ìˆëŠ” ìª½ìœ¼ë¡œë§Œ í–¥í•œë‹¤.\n","date":"2024-03-03T10:17:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/11/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/11/","title":"11. DIP: ì˜ì¡´ì„± ì—­ì „ ì›ì¹™"},{"content":"classDiagram direction BT class User1 { } class User2 { } class User3 { } class OPS { op1() op2() op3() } OPS \u003c-- User1 OPS \u003c-- User2 OPS \u003c-- User3 ë‹¤ìˆ˜ì˜ ì‚¬ìš©ìê°€ OPS í´ë˜ìŠ¤ì˜ ì˜¤í¼ë ˆì´ì…˜ì„ ì‚¬ìš©í•¨ UserNì€ opN OPSëŠ” ì •ì  íƒ€ì… ì–¸ì–´ë¡œ ì‘ì„±ëœ í´ë˜ìŠ¤ ìœ„ì™€ ê°™ì€ ê²½ìš° User1ì´ op2, op3ë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠìŒì—ë„ ì´ ë‘ ë©”ì„œë“œì— ì˜ì¡´í•˜ê²Œë˜ê³ , ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì†ŒìŠ¤ ì½”ë“œê°€ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ì»´íŒŒì¼í•œ í›„ ìƒˆë¡œ ë°°í¬í•´ì•¼í•œë‹¤.\nì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ì€ ì˜¤í¼ë ˆì´ì…˜ì„ ì¸í„°í˜ì´ìŠ¤ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì´ëŸ¬í•œ ì˜ì¡´ì„±ì„ ì œê±°í•œë‹¤.\nclassDiagram class User1 { } class User2 { } class User3 { } class U1Ops { \u003c\u003c interface \u003e\u003e op1() } class U2Ops { \u003c\u003c interface \u003e\u003e op2() } class U3Ops { \u003c\u003c interface \u003e\u003e op3() } class OPS { op1() op2() op3() } OPS --|\u003e U1Ops OPS --|\u003e U2Ops OPS --|\u003e U3Ops U1Ops \u003c-- User1 U2Ops \u003c-- User2 U3Ops \u003c-- User3 User1ì˜ ì†ŒìŠ¤ ì½”ë“œëŠ” U1Opsì™€ op1ì—ëŠ” ì˜ì¡´í•˜ì§€ë§Œ OPSì—ëŠ” ì˜ì¡´í•˜ì§€ ì•Šê²Œ ë˜ì–´ OPS ì—ì„œ ë°œìƒí•œ ë³€ê²½ì´ User1ê³¼ ì „í˜€ ê´€ê³„ì—†ëŠ” ë³€ê²½ì´ë¼ë©´, User1ì„ ë‹¤ì‹œ ì»´íŒŒì¼í•˜ê³  ìƒˆë¡œ ë°°í¬í•˜ëŠ” ìƒí™©ì€ ì´ˆë˜ë˜ì§€ ì•ŠëŠ”ë‹¤.\nISPì™€ ì–¸ì–´ ì •ì  íƒ€ì… ì–¸ì–´ëŠ” ì‚¬ìš©ìê°€ import, use, includeì™€ ê°™ì€ íƒ€ì… ì„ ì–¸ë¬¸ì„ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œí•œë‹¤.\nì´ëŸ¬í•œ \u0026lsquo;í¬í•¨ëœ(included)\u0026rsquo; ì„ ì–¸ë¬¸ìœ¼ë¡œ ì¸í•´ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì´ ë°œìƒí•˜ê³ , ì´ë¡œ ì¸í•´ ì¬ì»´íŒŒì¼ ë„ëŠ” ì¬ë°°í¬ê°€ ê°•ì œë˜ëŠ” ìƒí™©ì´ ë¬´ì¡°ê±´ ì´ˆë˜ëœë‹¤.\në™ì  íƒ€ì… ì–¸ì–´ë„¤ì„œëŠ” ì†ŒìŠ¤ ì½”ë“œì— ì´ëŸ¬í•œ ì„ ì–¸ë¬¸ì´ ì¡´ì¬í•˜ì§€ ì•Šê³  ëŸ°íƒ€ì„ì— ì¶”ë¡ ì´ ë°œìƒí•œë‹¤. ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì´ ì•„ì˜ˆ ì—†ìœ¼ë©°, ì¬ì»´íŒŒì¼ê³¼ ì¬ë°°í¬ê°€ í•„ìš”ì—†ë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ë™ì  íƒ€ì… ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ì •ì  íƒ€ì… ì–¸ì–´ë¥¼ ì‚¬ìš©í•  ë•Œë³´ë‹¤ ìœ ì—°í•˜ë©° ê²°í•©ë„ê°€ ë‚®ì€ ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ISPë¥¼ ì•„í‚¤í…ì²˜ê°€ ì•„ë‹ˆë¼, ì–¸ì–´ì™€ ê´€ë ¨ëœ ë¬¸ì œë¼ê³  ê²°ë¡ ë‚´ë¦´ ì—¬ì§€ê°€ ìˆë‹¤.\nISPì™€ ì•„í‚¤í…ì²˜ ISPë¥¼ ì‚¬ìš©í•˜ëŠ” ê·¼ë³¸ì ì¸ ë™ê¸°ë¥¼ ì‚´í´ë³´ë©´, ì ì¬ë˜ì–´ ìˆëŠ” ë” ê¹Šì€ ìš°ë ¤ì‚¬í•­ì„ ë³¼ ìˆ˜ ìˆë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ í•„ìš” ì´ìƒìœ¼ë¡œ ë§ì„ ê±¸ í¬í•¨í•˜ëŠ” ëª¨ë“ˆì— ì˜ì¡´í•˜ëŠ” ê²ƒì€ í•´ë¡œìš´ ì¼ì´ë‹¤. ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì˜ ê²½ìš° ë¶ˆí•„ìš”í•œ ì¬ì»´íŒŒì¼ê³¼ ì¬ë°°í¬ë¥¼ ê°•ì œí•˜ê¸° ë•Œë¬¸ì´ë‹¤. ìœ„ì™€ ê°™ì€ ë¬¸ì œëŠ” ë¬¼ë¡  ì•„í‚¤í…ì²˜ ìˆ˜ì¤€ì—ì„œë„ ë§ˆì°¬ê°€ì§€ì˜ ìƒí™©ì´ ë°œìƒí•œë‹¤.\nflowchart LR a[System S] b[Framework F] c[Database D] a --\u003e b --\u003e c S ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ë©° Fë¼ëŠ” í”„ë ˆì„ì›Œí¬ë¥¼ ë„ì…í•˜ë ¤ê³ í•œë‹¤. F í”„ë ˆì„ì›Œí¬ëŠ” Dë¼ëŠ” íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤. SëŠ” Fì— ì˜ì¡´í•˜ê³ , FëŠ” Dì— ì˜ì¡´í•˜ê²Œ ëœë‹¤. ìœ„ì™€ ê°™ì€ ìƒí™©ì—ì„œ Fì—ì„œëŠ” ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥, ì¦‰ Sì™€ëŠ” ì „í˜€ ê´€ê³„ì—†ëŠ” ê¸°ëŠ¥ì´ Dì— í¬í•¨ë˜ì–´ìˆë‹¤ê³  ê°€ì •í•˜ë©´,\në¶ˆí•„ìš”í•œ ê¸°ëŠ¥ìœ¼ë¡œ ì¸í•´ D ë‚´ë¶€ê°€ ë³€ê²½ë˜ë©´, Fë¥¼ ì¬ë°°í¬ í•´ì•¼í•  ìˆ˜ë„ ìˆë‹¤. D ë‚´ë¶€ì˜ ê¸°ëŠ¥ ì¤‘ Fì™€ Sì—ì„œ ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ì— ë¬¸ì œê°€ ë°œìƒí•´ë„ Fì™€ Sì— ì˜í–¥ì„ ì¤€ë‹¤. ê²°ë¡  ë¶ˆí•„ìš”í•œ ì§ì„ ì‹¤ì€ ë¬´ì–¸ê°€ì— ì˜ì¡´í•˜ë©´ ì˜ˆìƒì¹˜ë„ ëª»í•œ ë¬¸ì œì— ë¹ ì§„ë‹¤.\n","date":"2024-03-03T09:49:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/10/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/10/","title":"10. ISP: ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™"},{"content":" í•˜ìœ„ íƒ€ì…(Subtype)\nSíƒ€ì…ì˜ ê°ì²´ o1 ê°ê°ì— ëŒ€ì‘í•˜ëŠ” Tíƒ€ì… ê°ì²´ o2ê°€ ìˆê³ , Tíƒ€ì…ì„ ì´ìš©í•´ì„œ ì •ì˜í•œ ëª¨ë“  í”„ë¡œê·¸ë¨ Pì—ì„œ o2ì˜ ìë¦¬ì— o1ì„ ì¹˜í™˜í•˜ë”ë¼ë„ Pì˜ í–‰ìœ„ê°€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, SëŠ” Tì˜ í•˜ìœ„ íƒ€ì…ì´ë‹¤.\nìƒì†ì„ ì‚¬ìš©í•˜ë„ë¡ ê°€ì´ë“œí•˜ê¸° classDiagram class Billing { } class License { \u003c\u003c interface \u003e\u003e calcFee() } class PersonalLicense { } class BusinessLicense { users } Billing --\u003e License License \u003c|-- PersonalLicense License \u003c|-- BusinessLicense Billing ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í–‰ìœ„ê°€ Licenseíƒ€ì… ì¤‘ ë¬´ì—‡ì„ ì‚¬ìš©í•˜ëŠ”ì§€ì— ì „í˜€ ì˜ì¡´í•˜ì§€ ì•Šì´ ë•Œë¬¸ì—, ì´ë“¤ í•˜ìœ„ íƒ€ì…ì€ ëª¨ë‘ License íƒ€ì…ì„ ì¹˜í™˜í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìœ„ ì„¤ê³„ëŠ” ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ì¤€ìˆ˜í•œë‹¤.\nì •ì‚¬ê°í˜•/ì§ì‚¬ê°í˜• ë¬¸ì œ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ìœ„ë°˜í•˜ëŠ” ì „í˜•ì ì¸ ë¬¸ì œë¡œ ìœ ëª…í•œ ì •ì‚¬ê°í˜•/ì§ì‚¬ê°í˜• ë¬¸ì œê°€ ìˆë‹¤.\nclassDiagram direction LR class User { } class Rectangle { H, W setH() setW() } class Square { setSide() } User --\u003e Rectangle Rectangle \u003c|-- Square ìœ„ ì˜ˆì œì—ì„œ Rectangleì˜ ë†’ì´ì™€ ë„ˆë¹„ëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ë°˜ë©´, Squareì˜ ë†’ì´ì™€ ë„ˆë¹„ëŠ” ë°˜ë“œì‹œ í•¨ê»˜ ë³€ê²½ë˜ë¯€ë¡œ SquareëŠ” Rectangleì˜ í•˜ìœ„ íƒ€ì…ìœ¼ë¡œëŠ” ë¶€ì í•©í•˜ë‹¤.\nì´ëŸ¬í•œ ê²½ìš° UserëŠ” ëŒ€í™”í•˜ê³  ìˆëŠ” ìƒëŒ€ê°€ Rectangle ì´ë¼ê³  ìƒê°í•˜ë¯€ë¡œ í˜¼ë™ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤.\n1 2 3 4 Rectangle r = ... r.setW(5); r.setH(2); assert(r.area() == 10); ìœ„ì™€ ê°™ì€ ê²½ìš° ...ì— Squareë¥¼ ìƒì„±í•œë‹¤ë©´(ì¹˜í™˜í•œë‹¤ë©´), assertë¬¸ì€ ì‹¤íŒ¨í•˜ê²Œëœë‹¤.\nì´ëŸ¬í•œ í˜•íƒœì˜ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ ìœ„ë°˜ì„ ë§‰ê¸° ìœ„í•œ ìœ ì¼í•œ ë°©ë²•ì€ ê²€ì‚¬í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ Userì— ì¶”ê°€í•˜ëŠ” ê²ƒ ì¸ë°, Userì˜ í–‰ìœ„ê°€ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ì— ì˜ì¡´í•˜ê²Œ ë˜ë¯€ë¡œ, ê²°êµ­ íƒ€ì…ì„ ì„œë¡œ ì¹˜í™˜í•  ìˆ˜ ì—†ê²Œ ëœë‹¤.\nLSPì™€ ì•„í‚¤í…ì²˜ LSPëŠ” ìƒì†ì„ ì‚¬ìš©í•˜ë„ë¡ ê°€ì´ë“œí•˜ëŠ” ë°©ë²• ì •ë„ë¡œ ê°„ì£¼ ë˜ì—ˆìœ¼ë‚˜, ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ LSPëŠ” ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ì—ë„ ì ìš©ë˜ëŠ” ë” ê´‘ë²”ìœ„í•œ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ì›ì¹™ìœ¼ë¡œ ë³€ëª¨í•´ì™”ë‹¤.\nì¸í„°í˜ì´ìŠ¤\nìœ„ì—ì„œ ë§í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ëŠ” ì—¬ëŸ¬ ì˜ë¯¸ë¡œ í•´ì„ ê°€ëŠ¥í•˜ë‹¤.\nì¸í„°í˜ì´ìŠ¤ í•˜ë‚˜ì™€ ì´ë¥¼ êµ¬í˜„í•˜ëŠ” ì—¬ëŸ¬ ê°œì˜ í´ë˜ìŠ¤ ë™ì¼í•œ ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ë¥¼ ê³µìœ í•˜ëŠ” ì—¬ëŸ¬ ê°œì˜ í´ë˜ìŠ¤ ë™ì¼í•œ REST ì¸í„°í˜ì´ìŠ¤ì— ì‘ë‹µí•˜ëŠ” ì„œë¹„ìŠ¤ ì§‘ë‹¨ ì˜ ì •ì˜ëœ ì¸í„°í˜ì´ìŠ¤ì™€ ê·¸ ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¼ë¦¬ì˜ ìƒí˜¸ ì¹˜í™˜ ê°€ëŠ¥ì„±ì— ê¸°ëŒ€ëŠ” ì‚¬ìš©ìë“¤ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„œ LSPë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤.\nLSP ìœ„ë°° ì‚¬ë¡€: íƒì‹œ íŒŒê²¬ ì„œë¹„ìŠ¤ ìš”êµ¬ì‚¬í•­\nê³ ê°ì´ ì–´ëŠ íƒì‹œì—…ì²´ì¸ì§€ëŠ” ì‹ ê²½ì“°ì§€ ì•Šê³  ìì‹ ì˜ ìƒí™©ì— ê°€ì¥ ì í•©í•œ íƒì‹œë¥¼ ì°¾ëŠ”ë‹¤. íƒì‹œë¥¼ ê²°ì •í•˜ë©´, ì‹œìŠ¤í…œì€ REST ì„œë¹„ìŠ¤ë¥¼ í†µí•´ ì„ íƒëœ íƒì‹œë¥¼ ê³ ê° ìœ„ì¹˜ë¡œ íŒŒê²¬í•œë‹¤. URIê°€ ìš´ì „ê¸°ì‚¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ì–´ ìˆë‹¤. URI ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ ê¸°ì‚¬ë¥¼ ê³ ê° ìœ„ì¹˜ë¡œ íŒŒê²¬í•œë‹¤. ex) Bobì˜ URI: purplecab.com/driver/Bob ìš”ì²­ ì˜ˆì‹œ 1 2 3 4 purplecab.com/driver/Bob /picupAddress/24 Maple St. /pickupTime/153 /destination/ORD ì´ëŸ¬í•œ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ë‹¤ì–‘í•œ íƒì‹œì—…ì²´ì—ì„œ ë™ì¼í•œ REST ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°˜ë“œì‹œ ì¤€ìˆ˜í•˜ë„ë¡ ë§Œë“¤ì–´ì•¼í•œë‹¤.\në§Œì•½ íƒì‹œì—…ì²´ ACMEì—ì„œ destination í•„ë“œë¥¼ destë¡œ ì¶•ì•½í•´ì„œ ì‚¬ìš©í–ˆë‹¤ê³  ê°€ì •í•˜ë©´, í•´ë‹¹ ì˜ˆì™¸ ì‚¬í•­ì„ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•´ì•¼ë§Œ í•œë‹¤.\n1 if (driver.getDispatchUri().startWith(\u0026#34;acme.com\u0026#34;))... \u0026ldquo;acme\u0026quot;ë¼ëŠ” ë‹¨ì–´ë¥¼ ì½”ë“œ ìì²´ì— ì¶”ê°€í•˜ë©´, ë”ì°í•  ë¿ë§Œ ì•„ë‹ˆë¼ ì´í•´í•  ìˆ˜ë„ ì—†ëŠ” ì˜¨ê°– ì¢…ë¥˜ì˜ ì—ëŸ¬ê°€ ë°œìƒí•  ì—¬ì§€ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤. ìƒˆë¡œìš´ íƒì‹œì—…ì²´ ì¶”ê°€ì‹œ ë˜ ë‹¤ë¥¸ ifë¬¸ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤. ìœ„ì™€ ê°™ì€ ë²„ê·¸ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì„¤ì •ìš© ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” íŒŒê²¬ ëª…ë ¹ ìƒì„± ëª¨ë“ˆì„ ë§Œë“¤ì–´ì•¼ í•  ìˆ˜ë„ ìˆë‹¤. URI Dispatch Format Acme.com /pickupAddress/%s/pickupTime/%s/dest/%s *.* /pickupAddress/%s/pickupTime/%s/destination/%s REST ì„œë¹„ìŠ¤ë“¤ì˜ ì¸í„°í˜ì´ìŠ¤ê°€ ì„œë¡œ ì¹˜í™˜ ê°€ëŠ¥í•˜ì§€ ì•Šë‹¤ëŠ” ì‚¬ì‹¤ì„ ì²˜ë¦¬í•˜ëŠ” ì¤‘ìš”í•˜ê³  ë³µì¡í•œ ë§¤ì»¤ë‹ˆì¦˜ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤. ê²°ë¡  LSPëŠ” ì•„í‚¤í…ì²˜ ìˆ˜ì¤€ê¹Œì§€ í™•ì¥í•  ìˆ˜ ìˆê³ , ë°˜ë“œì‹œ í™•ì¥í•´ì•¼ë§Œ í•œë‹¤.\nì¹˜í™˜ ê°€ëŠ¥ì„±ì„ ì¡°ê¸ˆì´ë¼ë„ ìœ„ë°°í•˜ë©´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ê°€ ì˜¤ì—¼ë˜ì–´ ìƒë‹¹ëŸ‰ì˜ ë³„ë„ ë©”ì»¤ë‹ˆì¦˜ì„ ì¶”ê°€í•´ì•¼ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\n","date":"2024-03-02T16:20:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/9/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/9/","title":"9. LSP: ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™"},{"content":" ì†Œí”„íŠ¸ì›¨ì–´ ê°œì²´(Artifact)ëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆì–´ì•¼ í•˜ê³ , ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.\nê°œë°© íì‡„ ì›ì¹™ì€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œì²´ì˜ í–‰ìœ„ëŠ” í™•ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•˜ì§€ë§Œ, ì´ë•Œ ê°œì²´ë¥¼ ë³€ê²½í•´ì„œëŠ” ì•ˆëœë‹¤ëŠ” ì›ì¹™ì´ë‹¤.\nìš”êµ¬ì‚¬í•­ì„ ì‚´ì§ í™•ì¥í•˜ëŠ” ë° ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë§ì´ ìˆ˜ì •í•´ì•¼ í•œë‹¤ë©´, ê·¸ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì„ ì„¤ê³„í•œ ì•„í‚¤í…íŠ¸ëŠ” ì—„ì²­ë‚œ ì‹¤íŒ¨ì— ë§ë‹¥ëœ¨ë¦° ê²ƒì´ë‹¤.\nOCPëŠ” í´ë˜ìŠ¤ì™€ ëª¨ë“ˆì„ ì„¤ê³„í•  ë•Œ ë„ì›€ì´ ë˜ëŠ” ì›ì¹™ìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆì§€ë§Œ, ì•„í‚¤í…ì²˜ ì»´í¬ë„ŒíŠ¸ ìˆ˜ì¤€ì—ì„œ ê³ ë ¤í•  ë•Œ í›¨ì”¬ ì¤‘ìš”í•œ ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤.\nì‚¬ê³  ì‹¤í—˜: ì¬ë¬´ì œí‘œ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­\nì›¹ í˜ì´ì§€ì— í‘œì‹œë˜ëŠ” ë°ì´í„°ëŠ” ìŠ¤í¬ë¡¤í•  ìˆ˜ ìˆìŒ ìŒìˆ˜ëŠ” ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ì¶œë ¥ ì¶”ê°€ ìš”êµ¬ ì‚¬í•­: ë™ì¼í•œ ì •ë³´ë¥¼ ë³´ê³ ì„œ í˜•íƒœë¡œ ë³€í™˜í•´ì„œ í‘ë°± í”„ë¦°í„°ë¡œ ì¶œë ¥ ê°€ëŠ¥ í˜ì´ì§€ ë²ˆí˜¸ê°€ ì œëŒ€ë¡œ ë©”ê²¨ì ¸ ìˆì–´ì•¼ í•¨ í˜ì´ì§€ë§ˆë‹¤ ì ì ˆí•œ ë¨¸ë¦¬ê¸€ê³¼ ë°”ë‹¥ê¸€ ìˆì–´ì•¼ í•¨ í‘œì˜ ê° ì—´ì—ëŠ” ë ˆì´ë¸”ì´ ìˆì–´ì•¼ í•¨ ìŒìˆ˜ëŠ” ê´„í˜¸ë¡œ ê°ì‹¸ì•¼í•¨ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ê°€ í›Œë¥­í•˜ë‹¤ë©´ ì¶”ê°€ ìš”êµ¬ì‚¬í•­ì— ë”°ë¼ ë³€ê²½ë˜ëŠ” ì½”ë“œì˜ ì–‘ì´ ê°€ëŠ¥í•œ ìµœì†Œí™” ë  ê²ƒì´ë‹¤.(ì´ìƒì ì¸ ë³€ê²½ëŸ‰ì€ 0)\nì´ëŸ¬í•œ ê²½ìš° ì„œë¡œ ë‹¤ë¥¸ ëª©ì ìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ìš”ì†Œë¥¼ ì ì ˆí•˜ê²Œ ë¶„ë¦¬í•˜ê³ (ë‹¨ì¼ ì±…ì„ ì›ì¹™), ì´ë“¤ ìš”ì†Œ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì„ ì²´ê³„í™”í•¨ìœ¼ë¡œ(ì˜ì¡´ì„± ì—­ì „ ì›ì¹™) ë³€ê²½ëŸ‰ì„ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤.\nflowchart LR a[ì¬ë¬´ ë°ì´í„°] b((ì¬ë¬´ ë¶„ì„ê¸°)) c[ë³´ê³ ì„œìš© ì¬ë¬´ ë°ì´í„°] d((ë³´ê³ ì„œë¥¼ ì›¹ì— í‘œì‹œ)) e((ë³´ê³ ì„œë¥¼ í”„ë¦°í„°ë¡œ ì¶œë ¥)) a --\u003e b b --\u003e c c --\u003e d c --\u003e e ë³´ê³ ì„œ ìƒì„±ì´ ë‘ ê°œì˜ ì±…ì„ìœ¼ë¡œ ë¶„ë¦¬ \u0026gt; ì›¹, í”„ë¦°í„° ì±…ì„ì„ ë¶„ë¦¬í–ˆë‹¤ë©´, ì±…ì„ ì¤‘ í•˜ë‚˜ì—ì„œ ë³€ê²½ì´ ë°œìƒí•˜ë”ë¼ë„ ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ì˜ì¡´ì„±ë„ í™•ì‹¤íˆ ì¡°ì§í™” í•´ì•¼í•œë‹¤. í–‰ìœ„ê°€ í™•ì¥ë  ë•Œ ë³€ê²½ì´ ë°œìƒí•˜ì§€ ì•ŠìŒì„ ë³´ì¥í•´ì•¼í•œë‹¤. ì´ëŸ¬í•œ ëª©ì ì„ ë‹¬ì„±í•˜ë ¤ë©´ ì²˜ë¦¬ê³¼ì •ì„ í´ë˜ìŠ¤ ë‹¨ìœ„ë¡œ ë¶„í• , ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ êµ¬ë¶„í•´ì•¼ í•œë‹¤.\nëª¨ë“  ì˜ì¡´ì„±ì´ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì„ ë‚˜íƒ€ë‚¸ë‹¤. FinancialDataMapperëŠ” êµ¬í˜„ ê´€ê³„ë¥¼ í†µí•´ FinancialDataGatewayë¥¼ ì•Œê³  ìˆì§€ë§Œ, FinancialDataGatewayëŠ” FinancialDataMapperì— ëŒ€í•´ ì•Œì§€ ëª»í•œë‹¤. ì´ì¤‘ì„ ì€ í™”ì‚´í‘œì™€ ì˜¤ì§ í•œ ë°©í–¥ìœ¼ë¡œë§Œ êµì°¨í•œë‹¤. ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ê´€ê³„ëŠ” ë‹¨ ë°©í–¥ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤. í™”ì‚´í‘œëŠ” ë³€ê²½ìœ¼ë¡œë¶€í„° ë³´í˜¸í•˜ë ¤ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í–¥í•˜ë„ë¡ ê·¸ë ¤ì§„ë‹¤. A ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•œ ë³€ê²½ìœ¼ë¡œë¶€í„° B ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´í˜¸í•˜ë ¤ë©´ ë°˜ë“œì‹œ A ì»´í¬ë„ŒíŠ¸ê°€ B ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´í•´ì•¼í•œë‹¤.\nPresenterì—ì„œ ë°œìƒí•œ ë³€ê²½ìœ¼ë¡œë¶€í„° Controllerë¥¼ ë³´í˜¸ Viewì—ì„œ ë°œìƒí•œ ë³€ê²½ìœ¼ë¡œë¶€í„° Presenterë¥¼ ë³´í˜¸ InteractorëŠ” ë‹¤ë¥¸ ëª¨ë“  ê²ƒì—ì„œ ë°œìƒí•œ ë³€ê²½ìœ¼ë¡œë¶€í„° ë³´í˜¸ InteractorëŠ” ë³€ê²½ íì‡„ ì›ì¹™ì„ ê°€ì¥ ì˜ ì¤€ìˆ˜í•˜ëŠ” ê³³ì— ìœ„ì¹˜í•˜ê³  ìˆëŠ”ë°, ì´ëŠ” Interactorê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê°€ì¥ ë†’ì€ ìˆ˜ì¤€ì˜ ì •ì±…, ê°€ì¥ ì¤‘ìš”í•œ ë¬¸ì œë¥¼ ë‹´ë‹¹í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.\në³´í˜¸ì˜ ê³„ì¸µêµ¬ì¡°ëŠ” ìˆ˜ì¤€ levelì´ë¼ëŠ” ê°œë…ì„ ë°”íƒ•ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ì•¼í•˜ë©°, ë†’ì€ ìˆ˜ì¤€ì¼ìˆ˜ë¡(ì„¸ë¶€ êµ¬í˜„ê³¼ ë©€ ìˆ˜ë¡) ë³€ê²½ì— ëŒ€í•´ ê°•ë ¥í•œ ë³´í˜¸ê°€ í•„ìš”í•˜ë‹¤.\nì•„í‚¤í…ì²˜ ìˆ˜ì¤€ì—ì„œ ê°œë°© íì‡„ ì›ì¹™ì€ ì•„í‚¤í…íŠ¸ëŠ” ê¸°ëŠ¥ì´ ì–´ë–»ê²Œ, ì™œ, ì–¸ì œ ë°œìƒí•˜ëŠ”ì§€ì— ë”°ë¼ì„œ ê¸°ëŠ¥ì„ ë¶„ë¦¬í•˜ê³ , ë¶„ë¦¬í•œ ê¸°ëŠ¥ì„ ì»´í¬ë„ŒíŠ¸ì˜ ê³„ì¸µêµ¬ì¡°ë¡œ ì¡°ì§í™”í•œë‹¤.\nì»´í¬ë„ŒíŠ¸ ê³„ì¸µêµ¬ì¡°ë¥¼ ì´ì™€ ê°™ì´ ì¡°ì¡±í™”í•˜ë©´ ì €ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•œ ë³€ê²½ìœ¼ë¡œë¶€í„° ê³ ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´í˜¸í•  ìˆ˜ ìˆë‹¤.\në°©í–¥ì„± ì œì–´ FinancialDataGateway ì¸í„°í˜ì´ìŠ¤ëŠ” Interactor ì»´í¬ë„ŒíŠ¸ì—ì„œ Database ì»´í¬ë„ŒíŠ¸ì˜ ì˜ì¡´ì„±ì„ ì—­ì „ì‹œí‚¤ê¸° ìœ„í•´ FinancialReportGeneratorì™€ FinancialDataMapper ì‚¬ì´ì— ìœ„ì¹˜í•œë‹¤.\nFinancialDataGateway ì¸í„°í˜ì´ìŠ¤ê°€ ì—†ì—ˆë‹¤ë©´ ì˜ì¡´ì„±ì´ Interactor ì»´í¬ë„ŒíŠ¸ì—ì„œ Database ì»´í¬ë„ŒíŠ¸ë¡œ ë°”ë¡œ í–¥í•˜ê²Œëœë‹¤.\nì •ë³´ ì€ë‹‰ FinancialReportRequester ì¸í„°í˜ì´ìŠ¤ëŠ” FinancialReportControllerê°€ Interactor ë‚´ë¶€ì— ëŒ€í•´ ë„ˆë¬´ ë§ì´ ì•Œì§€ ëª»í•˜ë„ë¡ ë§‰ê¸° ìœ„í•´ì„œ ì¡´ì¬í•œë‹¤.\nì¸í„°í˜ì´ìŠ¤ê°€ ì—†ì—ˆë‹¤ë©´ ControllerëŠ” FinancialEntitiesì— ëŒ€í•´ ì¶”ì´ ì¢…ì†ì„±(Transitive dependency)ì„ ê°€ì§€ê²Œ ëœë‹¤. ì¶”ì´ ì¢…ì†ì„±ì„ ê°€ì§€ê²Œ ë˜ë©´, ì†Œí”„íŠ¸ì›¨ì–´ ì—”í‹°í‹°ëŠ” **\u0026lsquo;ìì‹ ì´ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ìš”ì†Œì—ëŠ” ì ˆëŒ€ë¡œ ì˜ì¡´í•´ì„œëŠ” ì•ˆ ëœë‹¤.\u0026rsquo;**ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì›ì¹™ì„ ìœ„ë°˜í•˜ê²Œ ëœë‹¤. Controllerì—ì„œ ë°œìƒí•œ ë³€ê²½ìœ¼ë¡œë¶€í„° Interactorë¥¼ ë³´í˜¸í•˜ëŠ” ì¼ì˜ ìš°ì„ ìˆœìœ„ê°€ ê°€ì¥ ë†’ì§€ë§Œ, ë°˜ëŒ€ë¡œ Interactorì—ì„œ ë°œìƒí•œ ë³€ê²½ìœ¼ë¡œ ë¶€í„° Controllerë„ ë³´í˜¸ë˜ê¸¸ ë°”ë¼ê¸° ë•Œë¬¸ì— Interactor ë‚´ë¶€ë¥¼ ì€ë‹‰í•œë‹¤.\nì¶”ì´ ì¢…ì†ì„±(Transitive dependency)\ní´ë˜ìŠ¤ Aê°€ í´ë˜ìŠ¤ Bì— ì˜ì¡´í•˜ê³ , í´ë˜ìŠ¤ Bê°€ í´ë˜ìŠ¤ Cì— ì˜ì¡´í•œë‹¤ë©´, í´ë˜ìŠ¤ AëŠ” í´ë˜ìŠ¤ Cì— ì˜ì¡´í•˜ê²Œ ëœë‹¤.\ní´ë˜ìŠ¤ ì´ì™¸ì˜ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ëª¨ë“  ì—”í‹°í‹°ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ëœë‹¤. í´ë˜ìŠ¤ ì˜ì¡´ì„±ì´ ìˆœí™˜ì ì´ë¼ë©´, ëª¨ë“  í´ë˜ìŠ¤ê°€ ì„œë¡œ ì˜ì¡´í•˜ê²Œ ë˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤. ê²°ë¡  ê°œë°© íì‡„ ì›ì¹™ì€ ì•„í‚¤í…ì²˜ë¥¼ ë– ë°›ì¹˜ëŠ” ì›ë™ë ¥ ì¤‘ í•˜ë‚˜ë‹¤. OCPì˜ ëª©í‘œëŠ” ì‹œìŠ¤í…œì„ í™•ì¥í•˜ê¸° ì‰¬ìš´ ë™ì‹œì— ë³€ê²½ìœ¼ë¡œ ì¸í•´ ì‹œìŠ¤í…œì´ ë„ˆë¬´ ë§ì€ ì˜í–¥ì„ ë°›ì§€ ì•Šë„ë¡ í•˜ëŠ”ë° ìˆë‹¤.\nì‹œìŠ¤í…œì„ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•œë‹¤. ì €ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•œ ë³€ê²½ìœ¼ë¡œë¶€í„° ê³ ìˆ˜ì¤€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´í˜¸í•  ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ì˜ì¡´ì„± ê³„ì¸µêµ¬ì¡°ê°€ ë§Œë“¤ì–´ì§€ë„ë¡ í•œë‹¤. ","date":"2024-03-01T09:06:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/8/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/8/","title":"8. ê°œë°© íì‡„ ì›ì¹™"},{"content":"SOLID SOLID ì›ì¹™\ní•¨ìˆ˜ì™€ ë°ì´í„° êµ¬ì¡°ë¥¼ í´ë˜ìŠ¤ë¡œ ë°°ì¹˜í•˜ëŠ” ë°©ë²• í´ë˜ìŠ¤ë¥¼ ì„œë¡œ ê²°í•©í•˜ëŠ” ë°©ë²• ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì€ ê¹”ë”í•œ ì½”ë“œ(Clean Code)ë¥¼ ì „ì œí•œë‹¤.\ní•˜ì§€ë§Œ ê¹”ë”í•œ ì½”ë“œë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•˜ë”ë¼ë„ ì•„í‚¤í…ì²˜ê°€ ì¢‹ì§€ ëª»í•˜ë‹¤ë©´ ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ê¹”ë”í•œ ì½”ë“œë¡œ ì¢‹ì€ ì•„í‚¤í…ì²˜ë¥¼ ì •ì˜í•˜ëŠ” ì›ì¹™ì´ í•„ìš”í•˜ë‹¤.\nSOLID ì›ì¹™ì˜ ëª©ì ì€ ì¤‘ê°„ ìˆ˜ì¤€ì˜ ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì¡°ê°€ ì•„ë˜ì™€ ê°™ë„ë¡ ë§Œë“œëŠ” ê²ƒì´ë‹¤.\në³€ê²½ì— ìœ ì—° ì´í•´í•˜ê¸° ì‰¬ì›€ ë§ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì— ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ë°˜ ì¤‘ê°„ ìˆ˜ì¤€ì˜ë¯¸ëŠ”?\ní”„ë¡œê·¸ë˜ë¨¸ê°€ ì´ë“¤ ì›ì¹™ì„ ëª¨ë“ˆ ìˆ˜ì¤€ì—ì„œ ì‘ì—…í•  ë•Œ ì ìš©í•  ìˆ˜ ìˆë‹¤.\nì½”ë“œ ìˆ˜ì¤€ë³´ë‹¤ëŠ” ì¡°ê¸ˆ ë” ìƒìœ„ì—ì„œ ì ìš©ë˜ë©° ëª¨ë“ˆê³¼ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ë‹¤.\nSRP: Single Responsibility Principle, ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì½˜ì›¨ì´(Conway) ë²•ì¹™ ì¡°ì§ì´ ì„¤ê³„í•œ ì‹œìŠ¤í…œì€ í•´ë‹¹ ì¡°ì§ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ êµ¬ì¡°ë¥¼ ë°˜ì˜í•œë‹¤. ì¡°ì§ì˜ ë‚´ë¶€ êµ¬ì¡°ì™€ ìƒí˜¸ ì‘ìš© ë°©ì‹ì€ ê·¸ ì¡°ì§ì´ ê°œë°œí•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì˜ êµ¬ì¡°ì™€ ìœ ì‚¬í•´ì§„ë‹¤. ì¡°ì§ ë‚´ì— ë¶„ì‚°ëœ íŒ€ì´ ì„œë¡œ ê°„ì˜ êµë¥˜ê°€ ì›í• í•˜ì§€ ì•Šì„ ê²½ìš° ê°œë°œí•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë„ ëª¨ë“ˆí™” ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„ì— ë¬¸ì œê°€ ë°œìƒí•œë‹¤. ë”°ë¦„ ì •ë¦¬: íŠ¹ì •í•œ ì œí•œì„ ë‘” ì¡°ì§ êµ¬ì¡°ê°€ íŠ¹ì •í•œ í˜•íƒœì˜ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ë¥¼ ìœ ë„í•œë‹¤. íŠ¹ì •í•œ í˜•í…Œì˜ ì¡°ì§ êµ¬ì¡°ê°€ íŠ¹ì •í•œ í˜•íƒœì˜ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ë¥¼ ì´‰ì§„í•˜ê±°ë‚˜ ì œí•œí•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ê° ì†Œí”„íŠ¸ì›¨ì–´ì˜ ëª¨ë“ˆì€ ë³€ê²½ì˜ ì´ìœ ê°€ í•˜ë‚˜ì—¬ì•¼ë§Œ í•œë‹¤. OCP: Open-Closed Principle, ê°œë°© íì‡  ì›ì¹™ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê¸°ë³´ë‹¤ëŠ” ë°˜ë“œì‹œ ìƒˆë¡œìš´ ì½”ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‹œìŠ¤í…œì˜ í–‰ìœ„ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•´ì•¼ë§Œ ì‹œìŠ¤í…œì„ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. LSP: Liskov Substitution Principle, ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ ìƒí˜¸ ëŒ€ì²´ ê°€ëŠ¥í•œ êµ¬ì„±ìš”ì†Œë¥¼ ì´ìš©í•´ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë ¤ë©´, êµ¬ì„±ìš”ì†ŒëŠ” ë°˜ë“œì‹œ ì„œë¡œ ì¹˜í™˜ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. ISP: Interface Segregation Principle, ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²ƒì— ì˜ì¡´í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤. DIP: Dependency Inversion Principle, ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ ê³ ìˆ˜ì¤€ ì •ì±…ì„ êµ¬í˜„í•˜ëŠ” ì½”ë“œëŠ” ì €ìˆ˜ì¤€ ì„¸ë³´ì‚¬í•­ì„ êµ¬í˜„í•˜ëŠ” ì½”ë“œì— ì ˆëŒ€ë¡œ ì˜ì¡´í•´ì„œëŠ” ì•ˆëœë‹¤. ì„¸ë¶€ì‚¬í•­ì´ ì •ì±…ì— ì˜ì¡´í•´ì•¼ í•œë‹¤. SRP: ë‹¨ì¼ ì±…ì„ ì›ì¹™ ë‹¨ì¼ ëª¨ë“ˆì€ ë³€ê²½ì˜ ì´ìœ ê°€ í•˜ë‚˜, ì˜¤ì§ í•˜ë‚˜ë¿ì´ì–´ì•¼ í•œë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì€ ì‚¬ìš©ìì™€ ì´í•´ê´€ê³„ìë¥¼ ë§Œì¡±ì‹œí‚¤ê¸° ìœ„í•´ ë³€ê²½ëœë‹¤.\në”°ë¼ì„œ SRPê°€ ë§í•˜ëŠ” ë³€ê²½ì˜ ì´ìœ ëŠ” **ì‚¬ìš©ìì™€ ì´í•´ê´€ê³„ì ì§‘ë‹¨(ì•¡í„°, Actor)**ì„ ì˜ë¯¸í•˜ë©°, ì´ëŸ¬í•œ ê´€ì ì—ì„œ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì€ ë‹¤ìŒê³¼ ê°™ì´ ë§í•  ìˆ˜ ìˆë‹¤.\ní•˜ë‚˜ì˜ ëª¨ë“ˆì€ í•œì˜ ì•¡í„°ì— ëŒ€í•´ì„œë§Œ ì±…ì„ì ¸ì•¼ í•œë‹¤\nëª¨ë“ˆì´ë€?\nì†ŒìŠ¤ íŒŒì¼ ë‹¨ìˆœíˆ í•¨ìˆ˜ì™€ ë°ì´í„° êµ¬ì¡°ë¡œ ìŒì§‘ëœ ì§‘í•© ë‹¨ì¼ ì•¡í„°ë¥¼ ì±…ì„ì§€ëŠ” ì½”ë“œë¥´ í•¨ê»˜ ë¬¶ì–´ì£¼ëŠ” í˜ì´ ë°”ë¡œ ì‘ì§‘ì„± Cohesionì´ë‹¤.\nì§•í›„ 1: ìš°ë°œì  ì¤‘ë³µ classDiagram class Employee { calculatePay() reportHours() save() } calculatePay() íšŒê³„íŒ€ì—ì„œ ê¸°ëŠ¥ì„ ì •ì˜ CFO ë³´ê³ ë¥¼ ìœ„í•´ ì‚¬ìš© reportHours() ì¸ì‚¬íŒ€ì—ì„œ ê¸°ëŠ¥ì„ ì •ì˜í•˜ê³  ì‚¬ìš© COO ë³´ê³ ë¥¼ ìœ„í•´ ì‚¬ìš© save() DBAê°€ ê¸°ëŠ¥ì„ ì •ì˜ CTO ë³´ê³ ë¥¼ ìœ„í•´ ì‚¬ìš© Employee í´ë˜ìŠ¤ëŠ” ì„œë¡œ ë§¤ìš° ë‹¤ë¥¸ ì•¡í„°ë¥¼ ì±…ì„ì§€ê¸° ë•Œë¬¸ì— SRPë¥¼ ìœ„ë°˜í•˜ê²Œ ëœë‹¤.\nEmployeeëŠ” ë‹¨ì¼ í´ë˜ìŠ¤ ë‚´ì˜ ê°ê° ë‹¤ë¥¸ ì•¡í„°ë¥¼ ì±…ì„ì§€ëŠ” ë©”ì„œë“œë“¤ë¡œ ì¸í•´ ì•¡í„°ê°„ì˜ ê²°í•©ì´ ë°œìƒí•˜ì˜€ê³ , ì´ëŸ¬í•œ ê²°í•©ìœ¼ë¡œ ì¸í•´ ì˜ì¡´í•˜ëŠ” ë¬´ì–¸ê°€ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤.\nflowchart TD a[calculatePay] b[reportHours] c[regularHours] a --\u003e c b --\u003e c ìœ„ ì²˜ëŸ¼ calculatePayì™€ reportHours ë©”ì†Œë“œì˜ ì‹œê°„ ê³„ì‚° ì½”ë“œ ì¤‘ë³µì„ í”¼í•˜ê¸° ìœ„í•´ regularHours ë©”ì†Œë“œë¥¼ ì¶”ê°€í–ˆë‹¤ê³  ê°€ì •í•˜ê³ , calculatePayì˜ ì •ì±… ë³€ê²½ìœ¼ë¡œ ì¸í•´ reqularHours ë©”ì†Œë“œë¥¼ ì¼ë¶€ ë³€ê²½í–ˆë‹¤.\nì´ëŸ¬í•œ ê²½ìš° í•´ë‹¹ ë©”ì†Œë“œì™€ ì—°ê´€ëœ ì•¡í„°ê°€ CFO, COO ë‘˜ì´ì§€ë§Œ, CFOì˜ ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— ë³€ê²½ì„ ì›í•˜ì§€ ì•ŠëŠ” COOì˜ ê¸°ëŠ¥ì—ë„ ì˜í–¥ì„ ë¯¸ì¹˜ê²Œ ë˜ëŠ”ë°, ê´€ì‹¬ì‚¬ê°€ ë‹¬ë¼ ì˜ì¡´ ê´€ê³„ë¥¼ í™•ì¸í•˜ê¸° ì–´ë ¤ì›Œ í™•ì¸ì´ ëˆ„ë½ì´ ë  ìˆ˜ ìˆë‹¤.\n(ì´ë¡œì¸í•´ reportHours ë©”ì†Œë“œì—ì„œëŠ” ì´ëŸ¬í•œ ë³€ê²½ìœ¼ë¡œ ì¸í•´ ì˜ëª»ëœ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.)\nê²°ê³¼ì ìœ¼ë¡œ ì´ëŸ¬í•œ ë¬¸ì œëŠ” ì„œë¡œ ë‹¤ë¥¸ ì•¡í„°ê°€ ì˜ì¡´í•˜ëŠ” ì½”ë“œë¥¼ ë„ˆë¬´ ê°€ê¹Œì´ ë°°ì¹˜í–ˆê¸° ë•Œë¬¸ì— ë°œìƒí•œ ë¬¸ì œì´ë©°, SRPëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì„œë¡œ ë‹¤ë¥¸ ì•¡í„°ê°€ ì˜ì¡´í•˜ëŠ” ì½”ë“œë¥¼ ì„œë¡œ ë¶„ë¦¬í•˜ì—¬ ì˜ˆë°©í•˜ë¼ê³  ë§í•˜ê³  ìˆë‹¤.\nì§•í›„ 2: ë³‘í•© ë©”ì„œë“œê°€ ì„œë¡œ ë‹¤ë¥¸ ì•¡í„°ë¥¼ ì±…ì„ì§„ë‹¤ë©´ ë³‘í•©ì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ í™•ì‹¤íˆ ë” ë†’ì•„ì§„ë‹¤.\në§ì€ ì‚¬ëŒì´ ì„œë¡œ ë‹¤ë¥¸ ëª©ì ìœ¼ë¡œ ë™ì¼í•œ ì†ŒìŠ¤ íŒŒì¼ì„ ë³€ê²½í•˜ëŠ” ê²½ìš°ì— ë°œìƒí•œë‹¤.\në‹¤ë¥¸ ëª©ì ìœ¼ë¡œ ì¸í•´ ê°™ì€ ì½”ë“œë¥¼ ë³€ê²½í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§€ê³  ì´ë¡œì¸í•´ ë³€ê²½ì‚¬í•­ì´ ì¶©ëŒí•  ì—¬ì§€ê°€ ë§ë‹¤. ì´ëŸ¬í•œ ë¬¸ì œëŠ” ì„œë¡œ ë‹¤ë¥¸ ì•¡í„°ë¥¼ ë’·ë°›ì¹¨í•˜ëŠ” ì½”ë“œë¥¼ ì„œë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë²—ì–´ë‚  ìˆ˜ ìˆë‹¤.\ní•´ê²°ì±… ì´ ë¬¸ì œì˜ í•´ê²°ì±…ì€ ë‹¤ì–‘í•˜ì§€ë§Œ, ëª¨ë‘ ë©”ì„œë“œë¥¼ ê°ê¸° ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ì´ë™ì‹œí‚¤ëŠ” ê²ƒì€ ê³µí†µì ìœ¼ë¡œ í¬í•¨í•œë‹¤.\nê°€ì¥ í™•ì‹¤í•œ í•´ê²°ì±…ì€ ë°ì´í„°ì™€ ë©”ì„œë“œë¥¼ ë¶„ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ì•„ë¬´ëŸ° ë©”ì„œë“œê°€ ì—†ëŠ” ë°ì´í„° êµ¬ì¡°ì¸ EmployeeData í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì„¸ ê°œì˜ í´ë˜ìŠ¤ê°€ ê³µìœ í•˜ë„ë¡ ë§Œë“ ë‹¤.\nclassDiagram direction LR class EmployeeData { datas... } class PayCalculator { calculatePay() } class HourReporter { reportHours() } class EmployeeSaver { saveEmployee() } PayCalculator --\u003e EmployeeData HourReporter --\u003e EmployeeData EmployeeSaver --\u003e EmployeeData ì„¸ í´ë˜ìŠ¤ëŠ” ì„œë¡œì˜ ì¡´ì¬ë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ìš°ì—°í•œ ì¤‘ë³µì„ í”¼í•  ìˆ˜ ìˆë‹¤.\nìœ„ ë°©ì‹ì€ ê°œë°œìê°€ ì„¸ ê°€ì§€ í´ë˜ìŠ¤ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ê³  ì¶”ì í•´ì•¼ í•œë‹¤ëŠ” ë‹¨ì ì´ ìˆëŠ”ë°, í¼ì‚¬ë“œ íŒ¨í„´ì„ í™œìš©í•˜ì—¬ ê°œì„ ì´ ê°€ëŠ¥í•˜ë‹¤.\nclassDiagram direction LR class EmployeeFacade { calculatePay() reportHours() save() } class EmployeeData { datas... } class PayCalculator { calculatePay() } class HourReporter { reportHours() } class EmployeeSaver { saveEmployee() } EmployeeFacade --\u003e PayCalculator EmployeeFacade --\u003e HourReporter EmployeeFacade --\u003e EmployeeSaver PayCalculator --\u003e EmployeeData HourReporter --\u003e EmployeeData EmployeeSaver --\u003e EmployeeData ì¤‘ìš”í•œ ì—…ë¬´ ê·œì¹™ì„ ë°ì´í„°ì™€ ê°€ê¹ê²Œ ë°°ì¹˜í•˜ëŠ” ë°©ì‹ì„ ì›í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±í•  ìˆ˜ë„ ìˆë‹¤.\nclassDiagram direction LR class Employee { employeeData calculatePay() reportHours() save() } class HourReporter { reportHours() } class EmployeeSaver { saveEmployee() } Employee --\u003e HourReporter Employee --\u003e EmployeeSaver ê²°ë¡  ë‹¨ì¼ ì±…ì„ ì›ì¹™ì€ ë©”ì„œë“œì™€ í´ë˜ìŠ¤ ìˆ˜ì¤€ì˜ ì›ì¹™ì´ë‹¤.\ní•˜ì§€ë§Œ ì´ë³´ë‹¤ ìƒìœ„ ë‘ ìˆ˜ì¤€ì—ì„œë„ ë‹¤ë¥¸ í˜•íƒœë¡œ ë‹¤ì‹œ ë“±ì¥í•œë‹¤.\nì»´í¬ë„ŒíŠ¸ ìˆ˜ì¤€: ê³µí†µ íì‡„ ì›ì¹™(Common Closure Principle) ì•„í‚¤í…ì²˜ ìˆ˜ì¤€: ì•„í‚¤í…ì³ ê²½ê³„(Architectural Boundaray)ì˜ ìƒì„±ì„ ì±…ì„ì§€ëŠ” ë³€ê²½ì˜ ì¶•(Axis of Change) ","date":"2024-02-29T16:27:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/7/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/7/","title":"7. ë‹¨ì¼ ì±…ì„ ì›ì¹™"},{"content":"í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì´ë¼ëŠ” ê°œë…ì€ í”„ë¡œê·¸ë˜ë° ê·¸ ìì²´ë³´ë‹¤ ì•ì„œ ë“±ì¥í–ˆë‹¤.\nì´ íŒ¨ëŸ¬ë‹¤ì„ì—ì„œ í•µì‹¬ì´ ë˜ëŠ” ê¸°ë°˜ì€ ëŒë‹¤(Lambda) ê³„ì‚°ë²•ìœ¼ë¡œ ì•ˆë¡ ì¡° ì²˜ì¹˜ê°€ 1930ë…„ëŒ€ì— ë°œëª…í–ˆë‹¤.\në¶ˆë³€ì„±ê³¼ ì•„í‚¤í…ì²˜ ì¼ë°˜ì ì¸ ì–¸ì–´ë“¤ê³¼ ë‹¬ë¦¬ í•¨ìˆ˜í˜• ì–¸ì–´ì—ì„œëŠ” ë³€ìˆ˜ê°€ í•œë²ˆ ì´ˆê¸°í™”ë˜ë©´ ì ˆëŒ€ë¡œ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.\nê°€ë³€ ë³€ìˆ˜ë¡œ ì¸í•´ ê²½í•© ì¡°ê±´, êµì°©ìƒíƒœ ì¡°ê±´, ë™ì‹œ ì—…ë°ì´íŠ¸ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ë°, ë§Œì•½ ì–´ë– í•œ ë³€ìˆ˜ë„ ê°±ì‹ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ê²½í•© ì¡°ê±´ì´ë‚˜ ë™ì‹œ ì—…ë°ì´íŠ¸ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\në½(lock)ì´ ê°€ë³€ì ì´ì§€ ì•Šë‹¤ë©´ êµì°©ìƒíƒœë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.\në™ì‹œì„± ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë§ˆì£¼ì¹˜ëŠ” ëª¨ë“  ë¬¸ì œ, ì¦‰ ë‹¤ìˆ˜ì˜ ìŠ¤ë ˆë“œì™€ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë§ˆì£¼ì¹˜ëŠ” ëª¨ë“  ë¬¸ì œëŠ” ê°€ë³€ ë³€ìˆ˜ê°€ ì—†ë‹¤ë©´ ì ˆëŒ€ë¡œ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤.\në¶ˆë³€ì„±ì€ ì €ì¥ ê³µê°„ì´ ë¬´í•œí•˜ê³  í”„ë¡œì„¸ì„œì˜ ì†ë„ê°€ ë¬´í•œíˆ ë¹ ë¥´ë‹¤ë©´ ë³´ì¥ ê°€ëŠ¥í•˜ì§€ë§Œ ê·¸ëŸ´ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì–´ëŠì •ë„ íƒ€í˜‘ì´ í•„ìš”í•˜ë‹¤.\nê°€ë³€ì…©ì˜ ë¶„ë¦¬ ë¶ˆë³€ì„±ê³¼ ê´€ë ¨í•˜ì—¬ ê°€ì¥ ì£¼ìš”í•œ íƒ€í˜‘ ì¤‘ í•˜ë‚˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ë‚´ë¶€ì˜ ì„œë¹„ìŠ¤ë¥¼ ê°€ë³€ ì»´í¬ë„ŒíŠ¸ì™€ ë¶ˆë³€ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•˜ëŠ” ì¼ì´ë‹¤.\në¶ˆë³€ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ìˆœìˆ˜í•˜ê²Œ í•¨ìˆ˜í˜• ë°©ì‹ìœ¼ë¡œë§Œ ì‘ì—…ì´ ì²˜ë¦¬ë˜ë©°, ì–´ë–¤ ê°€ë³€ ë³€ìˆ˜ë„ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.\në¶ˆë³€ ì»´í¬ë„ŒíŠ¸ëŠ” ë³€ìˆ˜ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ”, ì£½ ìˆœìˆ˜ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë‹Œ í•˜ë‚˜ ì´ìƒì˜ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì™€ ì„œë¡œ í†µì‹ í•œë‹¤.\nìƒíƒœ ë³€ê²½ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°–ê°€ì§€ ë™ì‹œì„± ë¬¸ì œì— ë…¸ì¶œí•˜ëŠ” ê¼´ì´ë¯€ë¡œ, í”íˆ íŠ¸ëœì­ì…˜ ë©”ëª¨ë¦¬ì™€ ê°™ì€ ì‹¤ì²œë²•ì„ ì‚¬ìš©í•˜ì—¬ ë™ì‹œ ì—…ë°ì´íŠ¸ì™€ ê²½í•© ì¡°ê±´ ë¬¸ì œë¡œë¶€í„° ê°€ë³€ ë³€ìˆ˜ë¥¼ ë³´í˜¸í•œë‹¤.\níŠ¸ëœì­ì…˜ ë©”ëª¨ë¦¬ëŠ” íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë„ëŠ” ì¬ì‹œë„ ê¸°ë²•ì„ í†µí•´ ë³€ìˆ˜ë¥¼ ë³´í˜¸í•œë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì œëŒ€ë¡œ êµ¬ì¡°í™”í•˜ë ¤ë©´ ë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ë³€ê²½í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•´ì•¼í•œë‹¤.\nê·¸ë¦¬ê³  ì´ë ‡ê²Œ ë¶„ë¦¬í•˜ë ¤ë©´ ê°€ë³€ ë³€ìˆ˜ë“¤ì„ ë³´í˜¸í•˜ëŠ” ì ì ˆí•œ ìˆ˜ë‹¨ì„ ë™ì›í•´ ë’·ë°›ì¹¨í•´ì•¼í•œë‹¤.\ní˜„ëª…í•œ ì•„í‚¤í…íŠ¸ë¼ë©´ ê°€ëŠ¥í•œ í•œ ë§ì€ ì²˜ë¦¬ë¥¼ ë¶ˆë³€ ì»´í¬ë„ŒíŠ¸ë¡œ ì˜®ê²¨ì•¼ í•˜ê³ , ê°€ë³€ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ê°€ëŠ¥í•œ í•œ ë§ì€ ì½”ë“œë¥¼ ë¹¼ë‚´ì•¼ í•œë‹¤.\nì´ë²¤íŠ¸ ì†Œì‹± ì´ë²¤íŠ¸ ì†Œì‹±ì€ ìƒíƒœê°€ ì•„ë‹Œ íŠ¸ëœì­ì…˜ì„ ì €ì¥í•˜ìëŠ” ì „ëµì´ë‹¤.\nìƒíƒœê°€ í•„ìš”í•´ì§€ë©´ ë‹¨ìˆœíˆ ìƒíƒœì˜ ì‹œì‘ì ë¶€í„° ëª¨ë“  íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•œë‹¤.\nì´ ì „ëµì€ ë§ì€ ì €ì¥ ê³µê°„ì„ í•„ìš”ë¡œ í•˜ì§€ë§Œ í˜„ì¬ëŠ” ì €ì¥ ê³µê°„ì„ ì¶©ë¶„íˆ í™•ë³´í•  ìˆ˜ ìˆë‹¤.\në°ì´í„° ì €ì¥ì†Œì—ì„œ ì‚­ì œë˜ê±°ë‚˜ ë³€ê²½ë˜ëŠ” ê²ƒì´ í•˜ë‚˜ë„ ì—†ìœ¼ë¯€ë¡œ, ê²°ê³¼ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ CRUDê°€ ì•„ë‹Œ ê·¸ì € CRë§Œ ìˆ˜í–‰í•œë‹¤. ë°ì´í„° ì €ì¥ì†Œì—ì„œ ë³€ê²½ê³¼ ì‚­ì œê°€ ì „í˜€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë™ì‹œ ì—†ë°ì´íŠ¸ ë¬¸ì œ ë˜í•œ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. ì €ì¥ ê³µê°„ê³¼ ì²˜ë¦¬ ëŠ¥ë ¥ì´ ì¶©ë¶„í•˜ë©´ ì™„ì „í•œ ë¶ˆë³€ì„±ì„ ê°–ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆê³ , ë”°ë¼ì„œ ì™„ì „í•œ í•¨ìˆ˜í˜•ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\në²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œì´ ì •í™•íˆ ì´ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤. ê²°ë¡  êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì€ ì œì–´íë¦„ì˜ ì§ì ‘ì ì¸ ì „í™˜ì— ë¶€ê³¼ë˜ëŠ” ê·œìœ¨ì´ë‹¤. ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì€ ì œì–´íë¦„ì˜ ê°„ì ‘ì ì¸ ì „í™˜ì— ë¶€ê³¼ë˜ëŠ” ê·œìœ¨ì´ë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ ë³€ìˆ˜ í• ë‹¹ì— ë¶€ê³¼ë˜ëŠ” ê·œìœ¨ì´ë‹¤. ì„¸ íŒ¨ëŸ¬ë‹¤ì„ ëª¨ë‘ ë¬´ì–¸ê°€ë¥¼ í•˜ì§€ ëª»í•˜ê²Œ ì œí•œí•˜ê³  ìˆìœ¼ë©°, ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ì‹ì˜ í˜•íƒœë¥¼ í•œì •ì‹œí‚¨ë‹¤.\nì§€ë‚œ ë°˜ì„¸ê¸° ë™ì•ˆ ìš°ë¦¬ê°€ ë°°ìš´ ê²ƒì€ í•´ì„œëŠ” ì•ˆë˜ëŠ” ê²ƒì— ëŒ€í•´ì„œì´ë‹¤.\në„êµ¬ëŠ” ë‹¬ë¼ì¡Œê³  ì†Œí”„íŠ¸ì›¨ì–´ë„ ë³€í–ˆì§€ë§Œ, ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ìˆœì°¨, ë¶„ê¸°, ë°˜ë³µ ì°¸ì¡°ë¡œ êµ¬ì„±ëœë‹¤ëŠ” ê²ƒì€ ë³€í•˜ì§€ ì•Šì•˜ë‹¤.\n","date":"2024-02-25T20:36:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/6/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/6/","title":"6. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°"},{"content":"ì¢‹ì€ ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“œëŠ” ì¼ì€ ê°ì²´ ì§€í–¥ ì„¤ê³„ ì›ì¹™ì„ ì´í•´í•˜ê³  ì‘ìš©í•˜ëŠ” ë°ì„œ ì¶œë°œí•œë‹¤.\nObject Orientedë€ ë¬´ì—‡ì¸ê°€? ë°ì´í„°ì™€ í•¨ìˆ˜ì˜ ì¡°í•© ëŒ€ì²´ë¡œ ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ë§ì´ ì„¤ëª…ë˜ì§€ë§Œ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ëŒ€ë‹µì€ ì•„ë‹ˆë‹¤. o.f()ê°€ f(o)ì™€ ë‹¤ë¥´ë‹¤ëŠ” ì˜ë¯¸ë¥¼ ë‚´í¬í•œë‹¤. ì‹¤ì œ ì„¸ê³„ë¥¼ ëª¨ë¸ë§í•˜ëŠ” ìƒˆë¡œìš´ ë°©ë²• ì–¼ë²„ë¬´ë¦¬ëŠ” ìˆ˜ì¤€ì— ì§€ë‚˜ì§€ ì•ŠëŠ”ë‹¤. ì˜ë„ê°€ ë¶ˆë¶„ëª…í•˜ë©°, ì •ì˜ê°€ ë„ˆë¬´ ëª¨í˜¸í•˜ë‹¤. ìº¡ìŠí™”, ìƒì†, ë‹¤í˜•ì„± ì„¸ê°€ì§€ ê°œë…ì„ ì ì ˆí•˜ê²Œ ì¡°í•©í•œ ê²ƒ ìº¡ìŠí™”(Encapsulation)? OOë¥¼ ì •ì˜í•˜ëŠ” ìš”ì†Œ ì¤‘ í•˜ë‚˜ë¡œ ìº¡ìŠí™”ë¥¼ ì–¸ê¸‰í•˜ëŠ” ì´ìœ ëŠ” ë°ì´í„°ì™€ í•¨ìˆ˜ë¥¼ ì‰½ê³  íš¨ê³¼ì ìœ¼ë¡œ ìº¡ìŠí™”í•˜ëŠ” ë°©ë²•ì„ OO ì–¸ì–´ê°€ ì œê³µí•˜ê¸° ë•Œë¬¸ì´ë‹¤.\nì´ë¥¼ í†µí•´ ë°ì´í„°ì™€ í•¨ìˆ˜ê°€ ì‘ì§‘ë ¥ ìˆê²Œ êµ¬ì„±ëœ ì§‘ë‹¨ì„ ì„œë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\nprivate, public í•˜ì§€ë§Œ ì´ëŸ¬í•œ ê°œë…ì€ OOì—ë§Œ êµ­í•œëœ ê²ƒì€ ì•„ë‹ˆë‹¤.\npoint.h\n1 2 3 struct Point; struct Point* makePoint(double x, double y); double distance (struct Point *p1, struct Point *p2); point.c\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #include \u0026#34;point.h\u0026#34; #include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;math.h\u0026gt; struct Point { double x, y; } struct Point* makepoint(double x, double y) { struct Point* p = malloc(sizeof(struct Point)); p-\u0026gt;x = x; p-\u0026gt;y = y; return p; } double distance(struct Point* p1, struct Point* p2) { double dx = p1-\u0026gt;x - p2-\u0026gt;x; double dy = p1-\u0026gt;y - p2-\u0026gt;y; return sqrt(dx * dx + dy * dy); } ìœ„ ì˜ˆì‹œì—ì„œ point.hë¥¼ ì‚¬ìš©í•˜ëŠ” ì¸¡ì—ì„œ struct Pointì˜ ë©¤ë²„ì— ì ‘ê·¼í•  ë°©ë²•ì´ ì „í˜€ ì—†ë‹¤.\nì‚¬ìš©ìëŠ” makePoint() í•¨ìˆ˜ì™€ distance() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ëŠ” ìˆì§€ë§Œ, Point êµ¬ì¡°ì²´ì˜ ë°ì´í„° êµ¬ì¡°ì™€ í•¨ìˆ˜ê°€ ì–´ë–»ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ì— ëŒ€í•´ì„œëŠ” ì¡°ê¸ˆë„ ì•Œì§€ ëª»í•œë‹¤. ì´ê²ƒì´ ì™„ë²½í•œ ìº¡ìŠí™”ì´ë©°, OOê°€ ì•„ë‹Œ ì–¸ì–´ì—ì„œë„ ì¶©ë¶„íˆ ê°€ëŠ¥í•˜ë‹¤.\nì˜¤íˆë ¤ OOë¥¼ ì§€ì›í•˜ëŠ” ì–¸ì–´ë“¤ì´ ìº¡ìŠí™”ë¥¼ í›¼ì†í•˜ê³  ìˆëŠ” ê²½ìš°ê°€ ë§ì•„ ì–¸ì–´ì— public, private, protected í‚¤ì›Œë“œë¥¼ ë„ì…í•˜ì—¬ ë¶ˆì™„ì „í•œ ìº¡ìŠí™”ë¥¼ ë³´ì™„í•œë‹¤.\nC++ëŠ” ì»´íŒŒì¼ëŸ¬ê°€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ í¬ê¸°ë¥¼ ì•Œì•„ì•¼í•˜ëŠ” ê¸°ìˆ ì ì¸ ì´ìœ ë¡œ í´ë˜ìŠ¤ì˜ ë©¤ë²„ë³€ìˆ˜ë¥¼ í•´ë‹¹ í´ë˜ìŠ¤ì˜ í—¤ë”íŒŒì¼ì— ì„ ì–¸í•´ì•¼í•˜ê³ , ì´ë¡œì¸í•´ ì‚¬ìš©ì¸¡ì—ì„œ ë©¤ë²„ë³€ìˆ˜ì˜ ì¡´ì¬ë¥¼ ì•Œê²Œëœë‹¤. ìë°”, C#ì€ í—¤ë”ì™€ êµ¬í˜„ì²´ë¥¼ ë¶„ë¦¬í•˜ëŠ” ë°©ì‹ì„ ë²„ë ¸ë‹¤. ì´ë¡œì¸í•´ í´ë˜ìŠ¤ ì„ ì–¸ê³¼ ì •ì˜ë¥¼ êµ¬ë¶„í•˜ëŠ”ê²Œ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì´ ë•Œë¬¸ì— OOê°€ ê°•ë ¥í•œ ìº¡ìŠí™”ì— ì˜ì¡´í•œë‹¤ëŠ” ì •ì˜ëŠ” ë°›ì•„ë“¤ì´ê¸° í˜ë“¤ë©°, ëŒ€ë¶€ë¶„ì˜ OOë¥¼ ì œê³µí•˜ëŠ” ì–¸ì–´ë“¤ì´ ì‹¤ì œë¡œëŠ” Cì–¸ì–´ì—ì„œ ëˆ„ë ¸ë˜ ì™„ë²½í•œ ìº¡ìŠí™”ë¥¼ ì•½í™”ì‹œì¼°ë‹¤.\në§ì€ ì–¸ì–´ê°€ ìº¡ìŠí™”ë¥¼ ê±°ì˜ ê°•ì œí•˜ì§€ ì•ŠëŠ”ë‹¤. OO í”„ë¡œê·¸ë˜ë°ì€ í”„ë¡œê·¸ë˜ë¨¸ê°€ ìº¡ìŠí™”ë¥¼ ìš°íšŒí•˜ì§€ ì•Šì„ ê²ƒ ì´ë¼ëŠ” ë¯¿ìŒì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤. ìƒì†? OO ì–¸ì–´ê°€ ë” ë‚˜ì€ ìº¡ìŠí™”ë¥¼ ì œê³µí•˜ì§€ëŠ” ëª»í–ˆì§€ë§Œ, ìƒì†ë§Œí¼ì€ í™•ì‹¤íˆ ì œê³µí–ˆë‹¤.\ní•˜ì§€ë§Œ ìƒì†ì´ë€ ë‹¨ìˆœíˆ ì–´ë–¤ ë³€ìˆ˜ì™€ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ì˜ ìœ íš¨ ë²”ìœ„ë¡œ ë¬¶ì–´ ì¬ì •ì˜í•˜ëŠ” ì¼ì— ë¶ˆê³¼í•˜ë‹¤.\nnamedPoint.h\n1 2 3 4 5 struct NamedPoint; struct NamedPoint* makeNamedPoint(double x, double y, char* name); void setName(struct NamedPoint* np, char* name); char* getName(struct NamedPoint* np); namedPoint.c\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #include \u0026#34;NamedPoint.h\u0026#34; #include \u0026lt;stdlib.h\u0026gt; struct NamedPoint { double x, y; char* name; } struct NamedPoint* makeNmaedPoint(double x, double y, char* name) { struct NamedPoint* p = malloc(sizeof(struct NamedPoint)); p-\u0026gt;x = x; p-\u0026gt;y = y; p-\u0026gt;name = name; return p; } void setName(struct NamedPoint* np, char* name) { np-\u0026gt;name = name; } void getName(struct NmaedPoint* np) { return np-\u0026gt;name; } main.c\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #include \u0026#34;point.h\u0026#34; #include \u0026#34;namedPoint.h\u0026#34; #include \u0026lt;stdlib.h\u0026gt; int main(int ac, char** av) { struct NamedPoint* origin = makeNamedPoint(0.0, 0.0, \u0026#34;origin\u0026#34;); struct NamedPoint* upperRight = makeNamedPoint(1.0, 1.0, \u0026#34;upperRight\u0026#34;); printf( \u0026#34;distance=%f\\n\u0026#34;, distance( (struct Point*) origin, // namedPointë¥¼ pointë¡œ ì“°ê³ ìˆìŒ (struct Point*) upperRight // namedPointë¥¼ pointë¡œ ì“°ê³ ìˆìŒ ) ); } main í”„ë¡œê·¸ë¨ì„ ì‚´í´ë³´ë©´ NamedPoint ë°ì´í„° êµ¬ì¡°ê°€ Point ë°ì´í„° êµ¬ì¡°ë¡œë¶€í„° íŒŒìƒëœ êµ¬ì¡°ì¸ ê²ƒ ì²˜ëŸ¼ ë™ì‘í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ë³¼ ìˆ˜ ìˆë‹¤.\nì´ì²˜ëŸ¼ ëˆˆì†ì„ì²˜ëŸ¼ ë³´ì´ëŠ” ë°©ì‹ì€ OOê°€ ì¶œí˜„í•˜ê¸° ì´ì „ë¶€í„° í”„ë¡œê·¸ë˜ë¨¸ê°€ í”íˆ ì‚¬ìš©í–ˆë˜ ê¸°ë²•ì´ë‹¤. ì‹¤ì œë¡œ C++ì€ ì´ ë°©ë²•ì„ ì´ìš©í•´ ë‹¨ì¼ ìƒì†ì„ êµ¬í˜„í•˜ì˜€ë‹¤.\nOO ì–¸ì–´ê°€ ê³ ì•ˆë˜ê¸° í›¨ì”¬ ì´ì „ì—ë„ ìƒì†ê³¼ ë¹„ìŠ·í•œ ê¸°ë²•ì´ ì‚¬ìš©ë˜ì—ˆì§€ë§Œ, ìƒì†ë§Œí¼ í¸ë¦¬í•œ ë°©ì‹ì€ ì ˆëŒ€ ì•„ë‹ˆë‹¤.\në”°ë¼ì„œ OO ì–¸ì–´ê°€ ì™„ì „íˆ ìƒˆë¡œìš´ ê°œë…ì„ ë§Œë“¤ì§€ëŠ” ëª»í–ˆì§€ë§Œ, ìƒë‹¹íˆ í¸ë¦¬í•œ ë°©ì‹ìœ¼ë¡œ ì œê³µí–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.\në‹¤í˜•ì„±? OO ì–¸ì–´ê°€ ìˆê¸° ì´ì „ì—ë„ ë‹¤í˜•ì„±ì„ í‘œí˜„í•  ìˆ˜ ìˆì—ˆë‹¤.\n1 2 3 4 5 6 #include \u0026lt;stdio.h\u0026gt; void copy() { int c; while ((c = getchar()) != EOF) putchar(c); getchar()ëŠ” STDINì—ì„œ ë¬¸ìë¥¼ ì½ê³ , putchar()ëŠ” STDOUTìœ¼ë¡œ ë¬¸ìë¥¼ ì“´ë‹¤.\nSTDINê³¼ STDOUTì€ ë‹¤ì–‘í•œ ì¥ì¹˜ê°€ ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ í•¨ìˆ˜ëŠ” ë‹¤í˜•ì (Polymorphic)ì´ë‹¤.\nìœ ë‹‰ìŠ¤ ìš´ì˜ì²´ì œì˜ ê²½ìš° ëª¨ë“  ì…ì¶œë ¥ ì¥ì¹˜ ë“œë¼ì´ë²„ê°€ ë‹¤ì„¯ ê°€ì§€ í‘œì¤€ í•¨ìˆ˜ë¥¼ ì œê³µí•  ê²ƒì„ ìš”êµ¬í•œë‹¤\nopen, close, read, write, seek FILE ë°ì´í„° êµ¬ì¡°ëŠ” ì´ë“¤ ë‹¤ì„¯ í•¨ìˆ˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°ë“¤ì„ í¬í•¨í•œë‹¤.\n1 2 3 4 5 6 7 struct FILE { void (*open)(char* name, int mode); void (*close)(); int (*read)(); void (*write)(char); void (*seek)(long index, int mode); }; ì…ì¶œë ¥ ë“œë¼ì´ë²„ì—ì„œëŠ” ì´ë“¤ í•¨ìˆ˜ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì „ì˜í•˜ë©°, FILE ë°ì´í„° êµ¬ì¡°ë¥¼ í•¨ìˆ˜ì— ëŒ€í•œ ì£¼ì†Œì™€ í•¨ê»˜ ë¡œë“œí•œë‹¤.\n1 2 3 4 5 6 7 8 9 #include \u0026#34;file.h\u0026#34; void open(char* name) {/* ... */} void close() {/* ... */} int read() {int c; /* ... */ return c;} void write(char c) {/* ... */} void seek(long index, int mode) {/* ... */} struct FILE console = {open, close, read, write, seek}; STDINì„ FILE*ë¡œ ì„ ì–¸í•˜ë©´ ì½˜ì†” ë°ì´í„° êµ¬ì¡°ë¥¼ ê°€ë¦¬í‚¤ë¯€ë¡œ, getchar()ëŠ” ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 extern struct FILE* STDIN; int getchar() { return STDIN-\u0026gt;read(); } ë‹¤ì‹œë§í•´ getchar()ëŠ” STDINìœ¼ë¡œ ì°¸ì´ˆë˜ëŠ” FILE ë°ì´í„° êµ¬ì¡°ì˜ read í¬ì¸í„°ê°€ ê°€ë¥´í‚¤ëŠ” í•¨ìˆ˜ë¥¼ ë‹¨ìˆœíˆ í˜¸ì¶œí•  ë¿ì´ë‹¤.\nì´ì²˜ëŸ¼ ë‹¨ìˆœí•œ ê¸°ë²•ì´ ëª¨ë“  OOê°€ ì§€ëŠ” ë‹¤í˜•ì„±ì´ ê·¼ê°„ì´ ë˜ë©°, ì¦‰ í•¨ìˆ˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°ë¥¼ ì‘ìš©í•œ ê²ƒì´ ë‹¤í˜•ì„±ì´ê³  OOê°€ ìƒˆë¡­ê²Œ ë§Œë“  ê°œë…ì´ ì•„ë‹ˆë‹¤.\ní•˜ì§€ë§Œ, OO ì–¸ì–´ëŠ” ì¢€ ë” ì•ˆì „í•˜ê³  í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.\ní•¨ìˆ˜ í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê´€ë¡€ë“¤ì„ ì—†ì•  ì‹¤ìˆ˜í•  ìœ„í—˜ì´ ì—†ë‹¤. OOëŠ” ì œì–´íë¦„ì„ ê°„ì ‘ì ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ê·œì¹™ì„ ë¶€ê³¼í•œë‹¤ê³  ê²°ë¡  ì§€ì„ ìˆ˜ ìˆë‹¤. (??)\në‹¤í˜•ì„±ì´ ê°€ì§„ í˜ ë³µì‚¬ í”„ë¡œê·¸ë¨ ì˜ˆì œì—ì„œ ìƒˆë¡œìš´ ì…ì¶œë ¥ ì¥ì¹˜ê°€ ìƒê²¨ë„ í”„ë¡œê·¸ë¨ì˜ ì•„ë¬´ëŸ° ë³€ê²½ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤.\në³µì‚¬ í”„ë¡œê·¸ë¨ì˜ ì†ŒìŠ¤ ì½”ë“œëŠ” ì…ì¶œë ¥ ë“œë¼ì´ë²„ì˜ ì†ŒìŠ¤ ì½”ë“œì— ì˜ì¡´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ì…ì¶œë ¥ ë“œë¼ì´ë²„ê°€ FILEì— ì •ì˜ëœ ë‹¤ì„¯ê°€ì§€ í‘œì¤€ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•œë‹¤ë©´, ë³µì‚¬ í”„ë¡œê·¸ë¨ì—ì„œëŠ” ì–´ë– í•œ ì…ì¶œë ¥ ë“œë¼ì´ë²„ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜(Plugin architecture)\ní”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ëŠ” ì´ì²˜ëŸ¼ ì…ì¶œë ¥ ì¥ì¹˜ ë…ë¦½ì„±ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡Œê³ , ë“±ì¥ ì´í›„ ê±°ì˜ ëª¨ë“  ìš´ì˜ì²´ì œì—ì„œ êµ¬í˜„ë˜ì—ˆë‹¤.\nê·¸ëŸ°ë°ë„ ëŒ€ë‹¤ìˆ˜ì˜ í”„ë¡œê·¸ë˜ë¨¸ëŠ” í•¨ìˆ˜ í¬ì¸í„°ì˜ ìœ„í—˜í•¨ ë•Œë¬¸ì— ì´ëŸ¬í•œ ê°œë…ì„ í™•ì¥í•˜ì—¬ ì ìš©í•˜ì§€ ì•Šì•˜ëŠ”ë°, OOì˜ ë“±ì¥ìœ¼ë¡œ ì–¸ì œ ì–´ë””ì„œë“  í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ë¥¼ ì ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\nì˜ì¡´ì„± ì—­ì „ ë‹¤í˜•ì„±ì„ ì•ˆì „í•˜ê³  í¸ë¦¬í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆê¸° ì „ì—ëŠ” main í•¨ìˆ˜ê°€ ê³ ìˆ˜ì¤€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³ , ê³ ìˆ˜ì¤€ í•¨ìˆ˜ëŠ” ë‹¤ì‹œ ì¤‘ê°„ ìˆ˜ì¤€ í•¨ìˆ˜ë¥¼, ì¤‘ê°„ ìˆ˜ì¤€ í•¨ìˆ˜ëŠ” ì €ìˆ˜ì¤€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.\nì´ë¡œì¸í•´ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì˜ ë°©í–¥ì€ ë°˜ë“œì‹œ ì œì–´íë¦„ì„ ë”°ë¥´ê²Œ ëœë‹¤.\ní•˜ì§€ë§Œ ë‹¤í˜•ì„±ì„ í™œìš©í•˜ë©´ ì˜ì¡´ì„±ì˜ ë°©í–¥ì´ ë°”ë€ë‹¤.\nHL1 ëª¨ë“ˆì€ ML1 ëª¨ë“ˆì˜ F() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. í•˜ì§€ë§Œ ML1ê³¼ I ì¸í„°í˜ì´ìŠ¤ ì‚¬ì´ì˜ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±(ìƒì† ê´€ê³„)ì´ ì œì–´íë¦„ê³¼ëŠ” ë°˜ëŒ€ì´ë‹¤.\nì´ëŠ” ì˜ì¡´ì„± ì—­ì „(Dependency inversion)ì´ë¼ê³  ë¶€ë¥´ë©°, ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ì´ëŸ¬í•œ í˜„ìƒì€ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì„ ì–´ë””ì—ì„œë“  ì—­ì „ì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ê¸°ë„ í•˜ë‹¤.\nì´ëŸ¬í•œ ì ‘ê·¼ë²•ì„ ì‚¬ìš©í•œë‹¤ë©´, OO ì–¸ì–´ë¡œ ê°œë°œëœ ì‹œìŠ¤í…œì„ ë‹¤ë£¨ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ëŠ” ì‹œìŠ¤í…œì˜ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„± ì „ë¶€ì— ëŒ€í•œ ë°©í–¥ì„ ê²°ì •í•  ìˆ˜ ìˆëŠ” ì ˆëŒ€ì ì¸ ê¶Œí•œì„ ê°€ì§€ê²Œ ëœë‹¤.\nì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì´ ì œì–´íë¦„ì˜ ë°©í–¥ê³¼ ì¼ì¹˜ë˜ë„ë¡ ì œí•œë˜ì§€ ì•ŠëŠ”ë‹¤. í˜¸ì¶œí•˜ëŠ” ëª¨ë“ˆì´ë“  í˜¸ì¶œ ë°›ëŠ” ëª¨ë“ˆì´ë“  ê´€ê³„ì—†ì´ ì†ŒìŠ¤ ì½”ë“œ ì˜ì¡´ì„±ì„ ì›í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. flowchart LR a[UI] b[Business Rules] c[Database] a--\u003eb b-.-\u003ea c--\u003eb b-.-\u003ec ìœ„ ì™€ ê°™ì€ ê²½ìš° ì—…ë¬´ ê·œì¹™ì´ ë°ì´í„°ë² ì´ìŠ¤ì™€ UIì— ì˜ì¡´í•˜ëŠ” ëŒ€ì‹ ì—, ì‹œìŠ¤í…œì˜ ì†ŒìŠ¤ì½”ë“œ ì˜ì¡´ì„±ì„ ë°˜ëŒ€ë¡œ ë°°ì¹˜í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì™€ UIê°€ ì—…ë¬´ ê·œì¹™ì— ì˜ì¡´í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nUIì™€ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì—…ë¬´ ê·œì¹™ì˜ í”ŒëŸ¬ê·¸ì¸ì´ ëœë‹¤ëŠ” ëœ»ì´ë‹¤. ì—…ë¬´ ê·œì¹™ì˜ ì†ŒìŠ¤ ì½”ë“œì—ì„œëŠ” UIë‚˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì—…ë¬´ ê·œì¹™, UI, ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì„¸ ê°€ì§€ë¡œ ë¶„ë¦¬ëœ ì»´í¬ë„ŒíŠ¸ ë˜ëŠ” ë°°í¬ ê°€ëŠ¥í•œ ë‹¨ìœ„ë¡œ ì»´íŒŒì¼í•  ìˆ˜ ìˆê³ , ì˜ì¡´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê° ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë…ë¦½ì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆë‹¤.\níŠ¹ì • ì»´í¬ë„ŒíŠ¸ì˜ ì†ŒìŠ¤ ì½”ë“œê°€ ë³€ê²½ë˜ë©´, í•´ë‹¹ ì½”ë“œê°€ í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸ë§Œ ë‹¤ì‹œ ë°°í¬í•œë‹¤. ì´ë¥¼ ë°°í¬ ë…ë¦½ì„±(Independent deployability)ì´ë¼ê³  í•œë‹¤. ì‹œìŠ¤í…œì˜ ëª¨ë“ˆì„ ë…ë¦½ì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆê²Œ ë˜ë©´, ë‹¤ë¥¸ íŒ€ì—ì„œ ê° ëª¨ë“ˆì„ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•  ìˆ˜ ìˆê³ , ì´ê²ƒì„ ê°œë°œ ë…ë¦½ì„± ì´ë¼ í•œë‹¤. ê²°ë¡  ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ ê´€ì ì—ì„œ OOë€ ë‹¤í˜•ì„±ì„ ì´ìš©í•˜ì—¬ ì „ì²´ ì‹œìŠ¤í…œì˜ ëª¨ë“  ì†ŒìŠ¤ì½”ë“œ ì˜ì¡´ì„±ì— ëŒ€í•œ ì ˆëŒ€ì ì¸ ì œì–´ ê¶Œí•œì„ íšë“í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì´ë‹¤.\nOOë¥¼ ì‚¬ìš©í•˜ë©´ ì•„í‚¤í…íŠ¸ëŠ” í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆê³ , ì´ë¥¼ í†µí•´ ê³ ìˆ˜ì¤€ì˜ ì „ì±…ì„ í¬í•¨í•˜ëŠ” ëª¨ë“ˆì€ ì €ìˆ˜ìˆœì˜ ì„¸ë¶€ì‚¬í•­ì„ í¬í•¨í•˜ëŠ” ëª¨ë“ˆì— ëŒ€í•´ ë…ë¦½ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆë‹¤.\nì €ìˆ˜ì¤€ì˜ ì„¸ë¶€ì‚¬í•­ì€ ì¤‘ìš”ë„ê°€ ë‚®ì€ í”ŒëŸ¬ê·¸ì¸ ëª¨ë“ˆë¡œ ë§Œë“¤ ìˆ˜ ìˆê³ , ê³ ìˆ˜ì¤€ì˜ ì •ì±…ì„ í¬í•¨í•˜ëŠ” ëª¨ë“ˆê³¼ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ê³  ë°°í¬í•  ìˆ˜ ìˆë‹¤.\n","date":"2024-02-25T17:46:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/5/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/5/","title":"5. ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°"},{"content":"êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°(Structured Programming)ì€ í”„ë¡œê·¸ë˜ë°ì˜ í•œ ì ‘ê·¼ ë°©ë²•ìœ¼ë¡œ, í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•  ë•Œ ì œì–´ íë¦„ì„ êµ¬ì¡°í™”í•˜ì—¬ ì½”ë“œë¥¼ ë³´ë‹¤ ì´í•´í•˜ê¸° ì‰½ê³  ìœ ì§€ ë³´ìˆ˜í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ë ¤ëŠ” ê²ƒì„ ì¤‘ì ìœ¼ë¡œí•œë‹¤.\nêµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì€ í”„ë¡œê·¸ë˜ë° ë¶„ì•¼ì—ì„œ ì¤‘ìš”í•œ ë°œì „ ì¤‘ í•˜ë‚˜ë¡œ, ì´ˆê¸° í”„ë¡œê·¸ë˜ë° ë°©ë²•ë¡ ì´ ê°€ì§„ í•œê³„(ë³µì¡ì„±, í”„ë¡œê·¸ë˜ë° ì‹¤ìˆ˜, ì†Œí”„íŠ¸ì›¨ì–´ ì‹ ë¢°ì„± ë“±)ë¥¼ ê·¹ë³µí•˜ê³ ì íƒ„ìƒí•˜ì˜€ë‹¤.\ngotoë¬¸ì˜ í•´ë¡œì›€ êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì„ ë°œê²¬í•œ ë°ì´í¬ìŠ¤íŠ¸ë¼ëŠ” í”„ë¡œê·¸ë˜ë°ì€ ì–´ë µê³ , í”„ë¡œê·¸ë˜ë¨¸ëŠ” í”„ë¡œê·¸ë˜ë°ì„ ì˜í•˜ì§€ ëª»í•œë‹¤ê³  ìƒê°í•˜ì˜€ëŠ”ì œ ì•„ë˜ì™€ ê°™ì€ ì´ìœ ê°€ ì›ì¸ì´ë¼ê³  ìƒê°í–ˆë‹¤.\nëª¨ë“  í”„ë¡œê·¸ë¨ì€ ë‹¨ìˆœí• ì§€ë¼ë„ ë„ˆë¬´ ë§ì€ ì„¸ë¶€ì‚¬í•­ì„ ë‹´ê³  ìˆì—ˆë‹¤. ì•„ì£¼ ì‘ì€ ì„¸ë¶€ì‚¬í•­ì´ë¼ë„ ê°„ê³¼í•˜ë©´ ì˜ˆìƒ ì™¸ì˜ ë°©ì‹ìœ¼ë¡œ ì‹¤íŒ¨í•˜ê³¤ í–ˆë‹¤. ë°ì´í¬ìŠ¤íŠ¸ë¼ëŠ” ì¦ëª…ì´ë¼ëŠ” ìˆ˜í•™ì ì¸ ì›ë¦¬ë¥¼ ì ìš©í•˜ì—¬ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³ ì í–ˆê³ , ìˆ˜í•™ìê°€ ìœ í´ë¦¬ë“œ ê³„ì¸µêµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¦ëª…í•˜ëŠ” ë°©ì‹ì„ í”„ë¡œê·¸ë˜ë¨¸ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  ë¯¿ì—ˆë‹¤.\nìœ í´ë¦¬ë“œ ê³„ì¸µêµ¬ì¡°\nê³µë¦¬(axiom)ëŠ” ì¦ëª… ì—†ì´ ì°¸ìœ¼ë¡œ ë°›ì•„ë“¤ì´ëŠ” ëª…ì œë¥¼ ëœ»í•œë‹¤.\nì •ë¦¬(theorem)ëŠ” ì¦ëª…ì´ë¼ëŠ” ê³¼ì •ì„ í†µí•´ ì°¸ì´ë¼ëŠ” ê²ƒì´ ë°í˜€ì§„ ëª…ì œë‹¤.\nì´ëŸ¬í•œ ì •ë¦¬ë¥¼ ì¦ëª…í•˜ëŠ” ë° í•„ìš”í•œ ì •ë¦¬ë¥¼ ë³´ì¡°ì •ë¦¬(lemma)ë¡œ ë¶€ë¥´ë©°, ì •ë¦¬ë¥¼ í†µí•´ ìì—°ìŠ¤ëŸ½ê²Œ ë„ì¶œë˜ëŠ” ì •ë¦¬ë¥¼ ë”°ë¦„ì •ë¦¬(corollary)ë¼ê³  ë¶€ë¥¸ë‹¤.\nì´ë¥¼ ìœ„í•œ ì—°êµ¬ë¥¼ ì§„í–‰í•˜ë©´ì„œ í•©ë¦¬ì ì¸ ì¦ëª…ì„ ìœ„í•œ ë¶„í•  ì •ë³µ ì ‘ê·¼ë²•ì„ ì ìš©í•˜ë ¤ í–ˆëŠ”ë° goto ë¬¸ì¥ì„ ì´ìš©í•œ ì œì–´ íë¦„ ì „í™˜ì´ ëª¨ë“ˆì„ ë” ì‘ì€ ë‹¨ìœ„ë¡œ ì¬ê·€ì ìœ¼ë¡œ ë¶„í•´í•˜ëŠ” ê³¼ì •ì— ë°©í•´ê°€ ëœë‹¤ëŠ” ê²ƒì„ ë°œê²¬í•˜ì˜€ë‹¤.\në°˜ë©´ goto ë¬¸ì¥ì„ ì‚¬ìš©í•˜ë”ë¼ë„ ëª¨ë“ˆì„ ë¶„í•´í•  ë•Œ ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” if/then/elseì™€ do/while ê°™ì€ ë¶„ê¸°ì™€ ë°˜ë³µì´ë¼ëŠ” ë‹¨ìˆœí•œ ì œì–´ êµ¬ì¡°ì— í•´ë‹¹í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ë°œê²¬í–ˆë‹¤.\në‹¤ìµìŠ¤íŠ¸ë¼ëŠ” ì œì–´ êµ¬ì¡°ê°€ ìˆœì°¨ ì‹¤í–‰(Sequential execution)ê³¼ ê²°í•©í•´ì•¼ í•œë‹¤ê³  ê¹¨ë‹³ì•˜ë‹¤.\nStructured program theorem BÃ¶hmâ€“Jacopini ì •ë¦¬ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë° ì •ë¦¬ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì œì–´ êµ¬ì¡°ë¥¼ í‘œí•œí•  ìˆ˜ ìˆëŠ” ìµœì†Œí•œì˜ êµ¬ì¡°ê°€ ìˆìŒì„ ë³´ì—¬ì¤€ë‹¤.\nìˆœì°¨(Sequence) í”„ë¡œê·¸ë¨ì˜ ê° ë¬¸ì¥ë“¤ì€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ ì–´ë–¤ ì‘ì—…ì„ ì°¨ë¡€ëŒ€ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•¨ ë¶„ê¸°(Selection) ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ ë¶„ê¸° ì¡°ê±´ì— ë”°ë¼ ë‹¤ë¥¸ ëª…ë ¹ë¬¸ ë˜ëŠ” ë¸”ë¡ì„ ì‹¤í–‰ ì¼ë°˜ì ìœ¼ë¡œ if-elseë¬¸ì´ë‚˜ switch-caseë¬¸ì„ ì‚¬ìš© ë°˜ë³µ(Iteration) ë£¨í”„ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œê¹Œì§€ íŠ¹ì •í•œ ëª…ë ¹ë¬¸ ë˜ëŠ” ë¸”ë¡ì„ ë°˜ë³µí•˜ì—¬ ì‹¤í–‰ ëŒ€í‘œì ìœ¼ë¡œëŠ” forë£¨í”„ë‚˜ whileë£¨í”„ ì´ëŸ¬í•œ ì œì–´ êµ¬ì¡°ë“¤ì´ ëª¨ë“  í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ëŠ” ë° í•„ìš”í•œ ìµœì†Œí•œì˜ êµ¬ì¡°ë¼ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ë©°, ì¦‰ ì–´ë–¤ í”„ë¡œê·¸ë¨ì´ë¼ë„ ì„¸ ê°€ì§€ êµ¬ì¡°ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nê¸°ëŠ¥ì  ë¶„í•´ êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì„ í†µí•´ ëª¨ë“ˆì„ ì¦ëª… ê°€ëŠ¥í•œ ë” ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í•´í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\nì´ëŠ” ê²°êµ­ ëª¨ë“ˆì„ ê¸°ëŠ¥ì ìœ¼ë¡œ ë¶„í•´í•  ìˆ˜ ìˆìŒì„ ëœ»í•˜ë©°, ê±°ëŒ€í•œ ë¬¸ì œ ê¸°ìˆ ì„œë¥¼ ë°›ë”ë¼ë„ ë¬¸ì œë¥¼ ê³ ìˆ˜ì¤€ì˜ ê¸°ëŠ¥ë“¤ë¡œ ë¶„í•´í•  ìˆ˜ ìˆë‹¤. ë¶„í•´í•œ ê¸°ëŠ¥ë“¤ì€ êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì˜ ì œí•œëœ ì œì–´êµ¬ì¡°ë¥¼ ì´ìš©í•˜ì—¬ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ í† ëŒ€ë¡œ êµ¬ì¡°ì  ë¶„ì„ì´ë‚˜ êµ¬ì¡°ì  ì„¤ê³„ì™€ ê°™ì€ ê¸°ë²•ì´ ì¸ê¸°ë¥¼ ëŒì—ˆìœ¼ë©°, ê°œì„ ë˜ì–´ ë„ë¦¬ ì•Œë ¤ì¡Œë‹¤.\nëŒ€ê·œëª¨ ì‹œìŠ¤í…œì„ ëª¨ë“ˆê³¼ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ëª¨ë“ˆê³¼ ì»´í¬ë„ŒíŠ¸ëŠ” ì…ì¦í•  ìˆ˜ ìˆëŠ” ì‘ì€ ê¸°ëŠ¥ë“¤ë¡œ ì„¸ë¶„í™”í•  ìˆ˜ ìˆë‹¤. ê³¼í•™ì  ë°©ë²•(Scientific Method) í…ŒìŠ¤íŠ¸ëŠ” ë²„ê·¸ê°€ ìˆìŒì„ ë³´ì—¬ì¤„ ë¿, ë²„ê·¸ê°€ ì—†ìŒì„ ë³´ì—¬ì¤„ìˆ˜ëŠ” ì—†ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì´ ìˆ˜í•™ì ì¸ êµ¬ì¡°ë¥¼ ë‹¤ë£¨ëŠ” ë“¯ ë³´ì´ë”ë¼ë„, ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì€ ìˆ˜í•™ì ì¸ ì‹œë„ê°€ ì•„ë‹ˆë‹¤.\nì˜¤íˆë ¤ ì˜¬ë°”ë¥´ì§€ ì•ŠìŒì„ ì¦ëª…í•˜ëŠ” ë° ì‹¤íŒ¨í•¨ìœ¼ë¡œ ì˜¬ë°”ë¦„ì„ ë³´ì—¬ì£¼ëŠ” ê³¼í•™ê³¼ ê°™ë‹¤.\nì´ëŸ¬í•œ ë¶€ì •í™•í•¨ì— ëŒ€í•œ ì¦ëª…ì€ ì…ì¦ ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ì—ë§Œ ì ìš©í•  ìˆ˜ ìˆìœ¼ë©°, êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì€ í”„ë¡œê·¸ë¨ì„ ì¦ëª… ê°€ëŠ¥í•œ ì„¸ë¶€ ê¸°ëŠ¥ ì§‘í•©ìœ¼ë¡œ ì¬ê·€ì ìœ¼ë¡œ ë¶„í•´í•  ê²ƒì„ ê°•ìš”í•œë‹¤.\nê·¸ëŸ¬ê³  ë‚˜ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ì¦ëª… ê°€ëŠ¥í•œ ì„¸ë¶€ ê¸°ëŠ¥ë“¤ì´ ê±°ì§“ì¸ì§€ë¥¼ ì¦ëª…í•˜ë ¤ê³  ì‹œë„í•˜ë©°, ê±°ì§“ì„ì„ ì¦ëª…í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤ë©´, ì¶©ë¶„íˆ ì°¸ì´ë¼ê³  ì—¬ê¸°ê²Œ ëœë‹¤.\ní˜„ëŒ€ì  ê°€ì¹˜ êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì— ëŒ€í•œ ë…¼ì˜ëŠ” ë§ì€ ìƒˆë¡œìš´ ì–¸ì–´ë¥¼ ë‚³ì•˜ìœ¼ë©°, ê¸°ì¡´ì˜ ì–¸ì–´ì— êµ¬ì¡°ì ì¸ ë©´ì´ ì¶”ê°€ë˜ëŠ” ë“± ì–¸ì–´ì˜ ë°œì „ì— ë„ì›€ì´ ë˜ì—ˆë‹¤. ê·¸ë¦¬ê³  ì´í›„ì— ë‚˜ì˜¨ í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ë“¤ì—ë„ ì˜í–¥ì„ ë¼ì³¤ë‹¤.\nêµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì€ í”„ë¡œê·¸ë˜ë¨¸ì˜ ìŠµê´€ì„ ë°”ê¾¸ì—ˆë‹¤.\ní”„ë¡œê·¸ë¨ì˜ ì •í™•ì„±ì„ ì¦ëª…í•˜ëŠ” ë¬¸ì œë¥¼ ë– ë‚˜ì„œ ë°ì´í¬ìŠ¤íŠ¸ë¼ê°€ ê·¸ì˜ ë…¼ë¬¸ì—ì„œ ë§í•œ ëŒ€ë¡œ ì‹œê°„ì— ë”°ë¼ ë³€í•˜ëŠ” ë™ì ì¸ ê³¼ì •ì„ ì‹œê°í™”í•˜ëŠ” ê²ƒì€ ì¸ê°„ì—ê²Œ ë§¤ìš° ì–´ë ¤ìš´ ì¼ì´ë‹¤.\nê¼­ GOTOë¬¸ë§Œì˜ ë¬¸ì œê°€ ì•„ë‹ˆë¼ êµ¬ì¡°í™”ëœ íë¦„ ì œì–´ë¬¸ì„ ì‚¬ìš©í•œë‹¤ê³  í• ì§€ë¼ë„ ë„ˆë¬´ ë³µì¡í•˜ê²Œ ì¤‘ì²©ë˜ì–´ ìˆê±°ë‚˜ ìŠ¤ì½”í”„ì˜ ê¸¸ì´ê°€ ë„ˆë¬´ ê¸´ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤ê±°ë‚˜ ë„ˆë¬´ ê¸´ ê¸¸ì´ì˜ í•˜ìœ„í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ëŠ” ì¼ì„ ê°€ê¸‰ì  í”¼í•˜ê²Œ ê²½í–¥ì´ ìƒê²¼ë‹¤.\nê·¸ë¦¬ê³  ì´ëŸ° ìŠµê´€ì€ ë‹¤ë¥¸ ì‚¬ëŒì´ ì‘ì„±í•œ í”„ë¡œê·¸ë˜ë° ì½”ë“œë¥¼ ì‰½ê²Œ ì´í•´í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ë‹¤.\nê²°ë¡  êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì´ ê°€ì¹˜ìˆëŠ” ì´ìœ ëŠ” í”„ë¡œê·¸ë˜ë°ì—ì„œ ë°˜ì¦ ê°€ëŠ¥í•œ ë‹¨ìœ„ë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ ë•Œë¬¸ì´ë‹¤. ê°€ì‘ ì‘ì€ ê¸°ëŠ¥ì—ì„œ ë¶€í„° ê°€ì¥ í° ì»´í¬ë„ŒíŠ¸ì— ì´ë¥´ê¸°ê¹Œì§€ ëª¨ë“  ìˆ˜ì¤€ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ê³¼í•™ê³¼ ê°™ê³ , ë°˜ì¦ ê°€ëŠ¥ì„±ì— ì˜í•´ ì£¼ë„ëœë‹¤. ìŠ¤í”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ëŠ” ëª¨ë“ˆ, ì»´í¬ë„ŒíŠ¸, ì„œë¹„ìŠ¤ê°€ ì‰½ê²Œ ë°˜ì¦ ê°€ëŠ¥í•˜ë„ë¡(í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰½ë„ë¡) ë§Œë“¤ê¸°ìœ„í•´ ë…¸ë ¥í•´ì•¼ í•œë‹¤. êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ê³¼ ìœ ì‚¬í•œ ì œí•œì ì¸ ê·œì¹™ë“¤ì„ í†µí•´ ì‰½ê²Œ ë°˜ì¦ ê°€ëŠ¥í•œ êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ","date":"2024-02-20T20:33:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/4/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/4/","title":"4. êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°"},{"content":"êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë° êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì€ ì œì–´íë¦„ì˜ ì§ì ‘ì ì¸ ì „í™˜ì— ëŒ€í•´ ê·œì¹™ì„ ë¶€ê³¼í•œë‹¤.\nìµœì´ˆë¡œ ì ìš©ëœ íŒ¨ëŸ¬ë‹¤ì„(ìµœì´ˆë¡œ ë§Œë“¤ì–´ì§„ íŒ¨ëŸ¬ë‹¤ì„ì€ ì•„ë‹˜)ìœ¼ë¡œ 1968ë…„ ì—ì¸ í—ˆë¥´ ë¹„ë²„ ë°ì´í¬ìŠ¤íŠ¸ë¼ê°€ ë°œê²¬í–ˆë‹¤.\në¬´ë¶„ë³„í•œ ì í”„(goto ë¬¸ì¥)ëŠ” í”„ë¡œê·¸ë¨ êµ¬ì¡°ì— í•´ë¡­ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì œì‹œí•¨ ì´ëŸ¬í•œ ì í”„ë“¤ì„ if/then/else, do/while/untilê³¼ ê°™ì´ ë” ìµìˆ™í•œ êµ¬ì¡°ë¡œ ëŒ€ì²´í•¨ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì€ ì œì–´íë¦„ì˜ ê°„ì ‘ì ì¸ ì „í™˜ì— ëŒ€í•´ ê·œì¹™ì„ ë¶€ê³¼í•œë‹¤.\në‘ ë²ˆì§¸ë¡œ ë„ì…ëœ íŒ¨ëŸ¬ë‹¤ìŒìœ¼ë¡œ êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ë³´ë‹¤ 2ë…„ ì•ì„  1966ë…„ ì˜¬ë ˆ ìš”í•œ ë‹¬ê³¼ í¬ë¦¬ìŠ¤í… ë‹ˆê°€ë“œì— ì˜í•´ ë“±ì¥í–ˆë‹¤.\nì•Œê³¨(ALGOL) ì–¸ì–´ì˜ í•¨ìˆ˜ í˜¸ì¶œ ìŠ¤íƒ í”„ë ˆì„ì„ í™ìœ¼ë¡œ ì˜®ê¸°ë©´, í•¨ìˆ˜ í˜¸ì¶œì´ ë°˜í™˜ëœ ì´í›„ì—ë„ í•¨ìˆ˜ì—ì„œ ì„ ì–¸ëœ ì§€ì—­ ë³€ìˆ˜ê°€ ì˜¤ë«ë™ì•ˆ ìœ ì§€ë  ìˆ˜ ìˆìŒì„ ë°œê²¬í–ˆë‹¤.\nì´ëŸ¬í•œ í•¨ìˆ˜ê°€ í´ë˜ìŠ¤ì˜ ìƒì„±ìê°€ ë˜ì—ˆê³ , ì§€ì—­ ë³€ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜, ì¤‘ì²© í•¨ìˆ˜ëŠ” ë©”ì„œë“œê°€ ë˜ì—ˆë‹¤. í•¨ìˆ˜ í¬ì¸í„°ë¥¼ íŠ¹ì • ê·œì¹™ì— ë”°ë¼ ì‚¬ìš©í•˜ëŠ” ê³¼ì •ì„ í†µí•´ í•„ì—°ì ìœ¼ë¡œ ë‹¤í˜•ì„±ì´ ë“±ì¥í•˜ê²Œ ë˜ì—ˆë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ í• ë‹¹ë¬¸ì— ëŒ€í•´ ê·œì¹™ì„ ë¶€ê³¼í•œë‹¤.\nìµœê·¼ì— ë“¤ì–´ì„œì•¼ ê²¨ìš° ë„ì…ë˜ê¸° ì‹œì‘í–ˆì§€ë§Œ ê°€ì¥ ë¨¼ì € ë§Œë“¤ì–´ì¡Œë‹¤.\nì•Œë¡ ì¡° ì²˜ì¹˜ëŠ” ì•¨ëŸ° íŠœë§ë„ ë˜‘ê°™ì´ í¥ë¯¸ë¥¼ ëŠê¼ˆë˜ ìˆ˜í•™ì  ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ ëŒë‹¤(Lambda) ê³„ì‚°ë²•ì„ ë°œëª…í–ˆëŠ”ë°, í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ ì´ëŸ¬í•œ ì—°êµ¬ ê²°ê³¼ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë°›ì•„ ë§Œë“¤ì–´ì¡Œë‹¤.\n1958ë…„ì— ì¡´ ë§¤ì¹´ì‹œê°€ ë§Œë“  LISP ì–¸ì–´ì— ê·¼ê°„ì´ ë˜ëŠ” ê°œë…ì´ ë°”ë¡œ ì´ ëŒë‹¤ ê³„ì‚°ë²•ì´ë‹¤.\nëŒë‹¤ ê³„ì‚°ë²•ì˜ ê¸°ì´ˆê°€ ë˜ëŠ” ê°œë…ì€ ë¶ˆë³€ì„±ìœ¼ë¡œ, ì‹¬ë³¼ì˜ ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê°œë…ì´ë‹¤. ì´ëŠ” í•¨ìˆ˜í˜• ì–¸ì–´ì—ëŠ” í• ë‹¹ë¬¸ì´ ì „í˜€ ì—†ë‹¤ëŠ” ëœ»ì´ê¸°ë„ í•˜ë‹¤. ëŒ€ë‹¤ìˆ˜ì˜ í•¨ìˆ˜í˜• ì–¸ì–´ê°€ ë³€ìˆ˜ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•˜ê¸°ëŠ” í•˜ì§€ë§Œ, êµ‰ì¥íˆ ê¹Œë‹¤ë¡œìš´ ì¡°ê±´ ì•„ë˜ì„œë§Œ ê°€ëŠ¥í•˜ë‹¤. ìƒê°í•  ê±°ë¦¬ ê° íŒ¨ëŸ¬ë‹¤ì„ì€ í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œì„œ ê¶Œí•œì„ ë°•íƒˆí•œë‹¤. ì–´ëŠ íŒ¨ëŸ¬ë‹¤ì„ë„ ìƒˆë¡œìš´ ê¶Œí•œì„ ë¶€ì—¬í•˜ì§€ ì•ŠëŠ”ë‹¤.\nê° íŒ¨ëŸ¬ë‹¤ì„ì€ ì¶”ê°€ì ì¸ ê·œì¹™ì„ í†µí•´ íŠ¹ì • í–‰ë™ë“¤ì„ í•˜ì§€ ëª»í•˜ê²Œ ì œì•½í•œë‹¤. íŒ¨ëŸ¬ë‹¤ì„ì€ ë¬´ì—‡ì„ í•´ì•¼ í• ì§€ë¥¼ ë§í•˜ê¸°ë³´ë‹¤ëŠ” ë¬´ì—‡ì„ í•´ì„œëŠ” ì•ˆë˜ëŠ”ì§€ë¥¼ ë§í•´ì¤€ë‹¤. ê° íŒ¨ëŸ¬ë‹¤ì„ì´ ìš°ë¦¬ì—ê²Œì„œ ë¬´ì–¸ê°€ë¥¼ ë¹¼ì•—ëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì¸ì§€í•˜ëŠ” ê²ƒì´ë‹¤.\nêµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°: gotoë¬¸ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°: í•¨ìˆ˜ í¬ì¸í„° í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°: í• ë‹¹ë¬¸ ì´ ì™¸ì— ê°œë°œìì—ê²Œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆëŠ” ê²ƒì´ ë‚¨ì•„ìˆì§€ ì•Šìœ¼ë¯€ë¡œ, í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì€ ì•ìœ¼ë¡œë„ ì„¸ ê°€ì§€ ë°–ì— ì—†ì„ ê²ƒì´ë‹¤.\níŒ¨ëŸ¬ë‹¤ì„ì´ 10ë…„ ë™ì•ˆ ëª¨ë‘ ë§Œë“¤ì–´ì§„ ì´í›„ ìˆ˜ì‹­ ë…„ì´ ì§€ë‚¬ì§€ë§Œ ìƒˆë¡­ê²Œ ë“±ì¥í•œ íŒ¨ëŸ¬ë‹¤ì„ì€ ì „í˜€ ì—†ë‹¤. ê²°ë¡  íŒ¨ëŸ¬ë‹¤ì„ì˜ ì—­ì‚¬ë¡œë¶€í„° ì–»ì„ ìˆ˜ ìˆëŠ” ì´ëŸ¬í•œ êµí›ˆì€ ì•„í‚¤í…ì²˜ì™€ í° ê´€ê³„ê°€ ìˆë‹¤.\nì•„í‚¤í…ì²˜ ê²½ê³„ë¥¼ ë„˜ë‚˜ë“¤ê¸° ìœ„í•œ ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ë‹¤í˜•ì„±ì„ ì´ìš©í•œë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ ì´ìš©í•˜ì—¬ ë°ì´í„°ì˜ ìœ„ì¹˜ì™€ ì ‘ê·¼ ë°©ë²•ì— ëŒ€í•´ ê·œì¹™ì„ ë¶€ê³¼í•œë‹¤. ëª¨ë“ˆ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ êµ¬ì¡°ì  í”„ë¡œê·¸ë˜ë°ì„ ì‚¬ìš©í•œë‹¤. ì„¸ ê°€ì§€ íŒ¨ëŸ¬ë‹¤ì„ê³¼ ì•„í‚¤í…ì²˜ì˜ ì„¸ ê°€ì§€ í° ê´€ì‹¬ì‚¬(í•¨ìˆ˜, ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬, ë°ì´í„° ê´€ë¦¬)ê°€ ì–´ë–»ê²Œ ì„œë¡œ ì—°ê´€ë˜ëŠ”ì§€ì— ì£¼ëª©í•˜ì.\n","date":"2024-02-18T19:54:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/3/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/3/","title":"3. íŒ¨ëŸ¬ë‹¤ì„ ê°œìš”"},{"content":"ëª¨ë“  ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì€ ì´í•´ê´€ê³„ìì—ê²Œ í–‰ìœ„(Behavior)ì™€ êµ¬ì¡°(Structure)ë¼ëŠ” ë‘ê°€ì§€ ê°€ì¹˜ë¥¼ ì œê³µí•œë‹¤.\në”°ë¼ì„œ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìëŠ” ë‘ ê°€ì¹˜ë¥¼ ëª¨ë‘ ë°˜ë“œì‹œ ë†’ê²Œ ìœ ì§€í•´ì•¼ í•˜ëŠ” ì±…ì„ì„ ì§„ë‹¤.\ní•˜ì§€ë§Œ í•œ ê°€ì§€ ê°€ì¹˜ì—ë§Œ ì§‘ì¤‘í•˜ê³  ë‚˜ë¨¸ì§€ ê°€ì¹˜ëŠ” ë°°ì œí•˜ê³¤ í•˜ë©°, ëŒ€ì²´ë¡œ ëœ ì¤‘ìš”í•œ ê°€ì¹˜ì— ì§‘ì¤‘í•˜ì—¬ ê²°êµ­ì—ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì´ ì“¸ëª¨ ì—†ê²Œ ë§Œë“¤ì–´ë²„ë¦°ë‹¤.\ní–‰ìœ„(ê¸°ëŠ¥) í”„ë¡œê·¸ë˜ë¨¸ë¥¼ ê³ ìš©í•˜ëŠ” ì´ìœ ëŠ” ì´í•´ê´€ê³„ìë¥¼ ìœ„í•´ ê¸°ê³„ê°€ ìˆ˜ìµì„ ì°½ì¶œí•˜ê±°ë‚˜ ë¹„ìš©ì„ ì ˆì•½í•˜ë„ë¡ ë§Œë“¤ê¸° ìœ„í•´ì„œì´ë‹¤.\nì´í•´ê´€ê³„ìê°€ ê¸°ëŠ¥ ëª…ì„¸ì„œë‚˜ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œë¥¼ êµ¬ì²´í™”í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ”ë‹¤. ì´í•´ê´€ê³„ìì˜ ê¸°ê³„ê°€ ì´ëŸ¬í•œ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤. ìš”êµ¬ì‚¬í•­ì„ ìœ„ë°˜í•˜ë©´ ë¬¸ì œë¥¼ ê³ ì¹œë‹¤. í–‰ìœ„ëŠ” ê°œë°œìê°€ êµ¬í˜„í•´ì•¼í•˜ëŠ” ê¸°ëŠ¥ì„ ì˜ë¯¸í•˜ë©°, ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ë§Œë“¤ì–´ì§„ ê¸°ëŠ¥ì„ ìš´ì˜í•˜ëŠ” ê²ƒë§Œì„ ê°œë°œìì˜ ì—­í• ì´ë¼ê³  ìƒê°í•œë‹¤.\nì•„í‚¤í…ì²˜ ì†Œí”„íŠ¸ì›¨ì–´ë¼ëŠ” ë‹¨ì–´ëŠ” ë¶€ë“œëŸ¬ìš´(soft)ê³¼ ì œí’ˆ(ware)ì˜ í•©ì„±ì–´ì´ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë¶€ë“œëŸ¬ì›€ì„ ì§€ë‹ˆë„ë¡ ë§Œë“¤ì–´ì¡Œìœ¼ë©°, ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë§Œë“  ì´ìœ ëŠ” ê¸°ê³„ì˜ í–‰ìœ„ë¥¼ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œì´ë‹¤.\në”°ë¼ì„œ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ê°€ì§„ ë³¸ì—°ì˜ ëª©ì ì„ ì¶”êµ¬í•˜ë ¤ë©´ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë°˜ë“œì‹œ ë¶€ë“œëŸ¬ì›€, ì¦‰ ë³€ê²½ì´ ì‰¬ì›Œì•¼í•˜ë©° ì´í•´ê´€ê³„ìê°€ ê¸°ëŠ¥ì— ëŒ€í•œ ìƒê°ì„ ë°”ê¾¸ë©´ ì´ëŸ¬í•œ ë³€ê²½ì‚¬í•­ì„ ê°„ë‹¨í•˜ê³  ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\në³€ê²½ì‚¬í•­ì„ ì ìš©í•˜ëŠ” ë° ë“œëŠ” ì–´ë ¤ì›€ì€ ë³€ê²½ë˜ëŠ” ë²”ìœ„ì— ë¹„ë¡€í•´ì•¼í•˜ë©°, ë³€ê²½ì‚¬í•­ì˜ í˜•íƒœì™€ëŠ” ê´€ë ¨ì´ ì—†ì–´ì•¼ í•œë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë¹„ìš©ì˜ ì¦ê°€ë¥¼ ê²°ì •ì§“ëŠ” ì£¼ëœ ìš”ì¸ì€ ë°”ë¡œ ë³€ê²½ì‚¬í•­ì˜ ë²”ìœ„ì™€ í˜•íƒœì˜ ì°¨ì´ì— ìˆë‹¤.\nì´í•´ê´€ê³„ìëŠ” ë²”ìœ„ê°€ ë¹„ìŠ·í•œ ì¼ë ¨ì˜ ë³€ê²½ì‚¬í•­ì„ ì œì‹œí•  ë¿ì´ì§€ë§Œ, ê°œë°œì ì…ì¥ì—ì„œëŠ” ë³µì¡ë„ê°€ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” í¼ì¦ íŒ ìœ„ì—ì„œ ì´í•´ê´€ê³„ìê°€ ê³„ì†í•´ì„œ í¼ì¦ ì¡°ê°ì„ ë§ì¶”ë¼ëŠ” ì§€ì‹œë¥¼ í•˜ëŠ” ê²ƒì²˜ëŸ¼ ëŠë‚€ë‹¤.\nì´ëŠ” ì‹œìŠ¤í…œì˜ í˜•íƒœì™€ ìš”êµ¬ì‚¬í•­ì˜ í˜•íƒœê°€ ì„œë¡œ ë§ì§€ ì•Šê¸° ë•Œë¬¸ì¸ë°, ì›ì¸ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ë‹¤.\nì•„í‚¤í…ì²˜ê°€ íŠ¹ì • í˜•íƒœë¥¼ ë‹¤ë¥¸ í˜•íƒœë³´ë‹¤ ì„ í˜¸í•˜ë©´ í• ìˆ˜ë¡, ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì´ êµ¬ì¡°ì— ë§ì¶”ëŠ” ê²Œ ë” í˜ë“¤ì–´ì§„ë‹¤.\në”°ë¼ì„œ ì•„í‚¤í…ì²˜ëŠ” í•­ìƒ í˜•íƒœì— ë…ë¦½ì ì´ì–´ì•¼í•˜ê³ , ê·¸ëŸ´ìˆ˜ë¡ ë” ì‹¤ìš©ì ì´ë‹¤.\në” ë†’ì€ ê°€ì¹˜ ê¸°ëŠ¥ê³¼ ì•„í‚¤í…ì²˜ ë‘˜ ì¤‘ ì–´ëŠ ê²ƒì˜ ê°€ì¹˜ê°€ ë” ë†’ì€ì§€ ì—…ë¬´ ê´€ë¦¬ìì—ê²Œ ë¬»ëŠ”ë‹¤ë©´, ëŒ€ë‹¤ìˆ˜ê°€ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì´ ë™ì‘í•˜ëŠ” ê²ƒì´ ë” ì¤‘ìš”í•˜ë‹¤ê³  ëŒ€ë‹µí•˜ì§€ë§Œ, ê°œë°œìëŠ” ì•„í‚¤í…ì²˜ì— ë” ê°€ì¹˜ë¥¼ ë‘¬ì•¼í•œë‹¤.\nì–‘ ê·¹ë‹¨ ì‚¬ë¡€ ê²€í† \nì™„ë²½í•˜ê²Œ ë™ì‘í•˜ì§€ë§Œ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ì€ ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë  ë•Œ ë™ì‘í•˜ì§€ ì•Šê²Œ ë˜ì–´ ì“¸ëª¨ê°€ ì—†ë‹¤. ë™ì‘ì€ í•˜ì§€ ì•Šë‹ˆë§Œ ë³€ê²½ì´ ì‰¬ìš´ í”„ë¡œê·¸ë¨ì€ ê°œë°œìê°€ ëŒì•„ê°€ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆê³ , ë³€ê²½ì‚¬í•­ì´ ë°œìƒí•˜ë”ë¼ë„ ì—¬ì „íˆ ë™ì‘í•˜ì—¬ ìœ ìš©í•œì±„ë¡œ ë‚¨ëŠ”ë‹¤. ë³€ê²½ì— ë“œëŠ” ë¹„ìš©ì´ ë³€ê²½ìœ¼ë¡œ ì°½ì¶œë˜ëŠ” ìˆ˜ìµì„ ì´ˆê³¼í•˜ëŠ” ê²½ìš° ìˆ˜ì •ì´ í˜„ì‹¤ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•˜ë©°, ì´ë¡œ ì¸í•´ ê¸°ëŠ¥ ë˜ëŠ” ì„¤ì • ì¸¡ë©´ì—ì„œ ë§Œì€ ì‹œìŠ¤í…œì´ í˜„ì‹¤ì ìœ¼ë¡œ ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì— ë¹ ì§„ë‹¤.\ní˜„ì¬ì˜ ê¸°ëŠ¥ ë™ì‘ì„ ìœ„í•´ ë¯¸ë˜ì˜ ìœ ì—°ì„±ì„ í¬ìƒí•œë‹¤ë©´, ë³€ê²½ì— ë“œëŠ” ë¹„ìš©ì´ ë†’ì•„ì§€ê²Œë˜ì–´ í˜„ì‹¤ì ìœ¼ë¡œ ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì— ë¹ ì§€ê²Œë˜ê³ , ê²°ê³¼ì ìœ¼ë¡œ ì±…ì„ì€ ê°œë°œìì—ê²Œ ëŒì•„ê°„ë‹¤.\nì•„ì´ì  í•˜ì›Œ ë§¤íŠ¸ë¦­ìŠ¤ ê¸´ê¸‰í•œ ë¬¸ì œê°€ ì•„ì£¼ ì¤‘ìš”í•œ ë¬¸ì œì¼ ê²½ìš°ëŠ” ë“œë¬¼ê³ , ì¤‘ìš”í•œ ë¬¸ì œê°€ ëª¹ì‹œ ê¸´ê¸‰í•œ ê²½ìš°ëŠ” ê±°ì˜ ì—†ë‹¤.\nê¸´ê¸‰ O, ì¤‘ìš” O ê¸´ê¸‰ X, ì¤‘ìš” O ê¸´ê¸‰ O, ì¤‘ìš” X ê¸´ê¸‰ X, ì¤‘ìš” X ì•„ì´ì  í•˜ì›Œ ë§¤íŠ¸ë¦­ìŠ¤ì—ì„œëŠ” ìœ„ì™€ ê°™ì€ ìš°ì„ ìˆœìœ„ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•  ê²ƒì„ ì œì•ˆí•˜ê³  ìˆë‹¤.\nì²« ë²ˆì§¸ ê°€ì¹˜ì¸ í–‰ìœ„ëŠ” ëŒ€ë¶€ë¶„ ê¸´ê¸‰í•˜ì§€ë§Œ ë§¤ë²ˆ ë†’ì€ ì¤‘ìš”ë„ë¥¼ ê°€ì§€ëŠ” ê²ƒì€ ì•„ë‹ˆë©°, ë‘ ë²ˆì§¸ ê°€ì¹˜ì¸ ì•„í‚¤í…ì²˜ëŠ” ì¤‘ìš”í•˜ì§€ë§Œ ì¦‰ê°ì ì¸ ê¸´ê¸‰ì„±ì„ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš°ëŠ” ì ˆëŒ€ ì—†ë‹¤.\nì•„í‚¤í…ì²˜ëŠ” 1, 2ë¥¼ ì°¨ì§€í•˜ëŠ” ë°˜ë³€, í–‰ìœ„ëŠ” 1, 3ì— ìœ„ì¹˜í•œë‹¤.\në§ì€ ì—…ë¬´ ê´€ë¦¬ìì™€ ê°œë°œìê°€ 3ë²ˆì— ìœ„ì¹˜í•œ í•­ëª©ì„ 1ë²ˆìœ¼ë¡œ ê²©ìƒì‹œí‚¤ëŠ” ì‹¤ìˆ˜ë¥¼ ë§ì´ í•œë‹¤.\nê¸´ê¸‰í•˜ì§€ë§Œ ì¤‘ìš”í•˜ì§€ ì•Šì€ ê¸°ëŠ¥ê³¼ ì§„ì§œë¡œ ê¸´ê¸‰í•˜ë©´ì„œ ì£¼ìš©í•œ ê¸°ëŠ¥ì„ êµ¬ë¶„í•˜ì§€ ëª»í•œë‹¤. ì´ëŸ¬í•œ ì‹¤íŒ¨ë¡œ ì¤‘ìš”ë„ê°€ ë†’ì€ ì•„í‚¤í…ì²˜ë¥¼ ë¬´ì‹œí•œ ì±„ ì¤‘ìš”ë„ê°€ ë–¨ì–´ì§€ëŠ” ê¸°ëŠ¥ì„ ì„ íƒí•˜ê²Œ ëœë‹¤.\nì•„í‚¤í…ì²˜ë¥¼ ìœ„í•´ íˆ¬ìŸí•˜ë¼ ë” ì¤‘ìš”í•œ ê°€ì¹˜ì¸ ì•„í‚¤í…ì²˜ê°€ ë” ë‚®ì€ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§€ê²Œ ë˜ëŠ” ì´ìœ ëŠ” ëŒ€ë¶€ë¶„ì˜ ì—…ë¬´ ê´€ë¦¬ìê°€ ì•„í‚¤í…ì²˜ì˜ ì¤‘ìš”ì„±ì„ í‰ê°€í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\në”°ë¼ì„œ ê°œë°œì, ê°œë°œíŒ€ì€ ë‹¤ë¥¸ ì´í•´ê´€ê³„ìë“¤ì„ ì„¤ë“í•´ì•¼ í•  ì˜ë¬´ê°€ ìˆë‹¤.\nê¸°ëŠ¥ì˜ ê¸´ê¸‰ì„±ì´ ì•„ë‹Œ ì•„í‚¤í…ì²˜ì˜ ì¤‘ìš”ì„±ì„ ì„¤ë“í•˜ëŠ” ì¼ì€ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œíŒ€ì´ ì±…ì„ì„ ì ¸ì•¼í•œë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìë„ ì´í•´ê´€ê³„ìì´ë©°, ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•´ì•¼ í•  ì±…ì„ì´ ìˆë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ëŠ” ì‹œìŠ¤í…œì´ ì œê³µí•˜ëŠ” íŠ¹ì„±ì´ë‚˜ ê¸°ëŠ¥ë³´ë‹¤ëŠ” ì‹œìŠ¤í…œì˜ êµ¬ì¡°ì— ë” ì¤‘ì ì„ ë‘”ë‹¤. ì•„í‚¤í…íŠ¸ëŠ” ì´ëŸ¬í•œ íŠ¹ì„±ê³¼ ê¸°ëŠ¥ì„ ê°œë°œí•˜ê¸° ì‰½ê³ , ê°„í¸í•˜ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆìœ¼ë©°, í™•ì¥í•˜ê¸° ì‰¬ìš´ ì•„í‚¤í…ì²˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\nê°œë°œìê°€ ì•„í‚¤í…ì²˜ì— ë” ë†’ì€ ìš°ì„ ìˆœìœ„ë¥¼ ë‘˜ ìˆ˜ ìˆë„ë¡ ì´í•´ê´€ê³„ìë“¤ê³¼ íˆ¬ìŸí•˜ëŠ” ê²ƒì€ ì¥ê¸°ì ì¸ ê´€ì ì—ì„œ ë” ë‚˜ì€ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì„ ë†’íŒë‹¤.\nì•„í‚¤í…ì²˜ê°€ í›„ìˆœìœ„ê°€ ë˜ë©´ ì‹œìŠ¤í…œì„ ê°œë°œí•˜ëŠ” ë¹„ìš©ì´ ì ì  ë” ë§ì´ ë“¤ê²Œë˜ê³ , ê²°êµ­ ì¼ë¶€ ë˜ëŠ” ì „ì²´ ì‹œìŠ¤í…œì— ë³€ê²½ì„ ê°€í•˜ëŠ” ì¼ì´ í˜„ì‹¤ì ìœ¼ë¡œ í˜ë“¤ì–´ì§„ë‹¤.\nì´ëŸ¬í•œ ìƒí™©ì´ ë°œìƒí•˜ë„ë¡ ìš©ë‚©í–ˆë‹¤ë©´, ì´ëŠ” ê²°êµ­ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œíŒ€ì´ ìŠ¤ìŠ¤ë¡œ ì˜³ë‹¤ê³  ë¯¿ëŠ” ê°€ì¹˜ë¥¼ ìœ„í•´ ì¶©ë¶„íˆ íˆ¬ìŸí•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ëœ»ì´ë‹¤.\n","date":"2024-02-18T19:03:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/2/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/2/","title":"2. ë‘ ê°€ì§€ ê°€ì¹˜ì— ëŒ€í•œ ì´ì•¼ê¸°"},{"content":"ì„¤ê³„ì™€ ì•„í‚¤í…ì²˜ì˜ ì°¨ì´ ì„¤ê³„(Design)ì™€ ì•„í‚¤í…ì²˜(Architecture)ì˜ ì •ì˜ê°€ ëª¨í˜¸í•˜ì—¬ ì˜¤ë«ë™ì•ˆ ë§ì€ í˜¼ë€ì´ ìˆì—ˆì§€ë§Œ ì‹¤ì œë¡œëŠ” ë‘˜ì˜ ì°¨ì´ëŠ” ì—†ë‹¤.\nì•„í‚¤í…ì²˜ëŠ” ì €ìˆ˜ì¤€ ì„¸ë¶€ì‚¬í•­ê³¼ëŠ” ë¶„ë¦¬ëœ ê³ ìˆ˜ì¤€ì˜ ë¬´ì–¸ê°€ë¥¼ ê°€ë¦´í‚¬ ë•Œ í”íˆ ì‚¬ìš©ëœë‹¤. ì„¤ê³„ëŠ” ì €ìˆ˜ì¤€ì˜ êµ¬ì¡° ë˜ëŠ” ê²°ì •ì‚¬í•­ ë“±ì„ ì˜ë¯¸í•  ë•Œê°€ ë§ë‹¤. í•˜ì§€ë§Œ ì•„í‚¤í…íŠ¸ê°€ ì‹¤ì œë¡œ í•˜ëŠ” ì¼ì„ ì‚´í´ë³´ë©´ ì´ëŸ¬í•œ êµ¬ë¶„ì€ ë¬´ì˜ë¯¸í•˜ë‹¤.\nìƒˆë¡œìš´ ì§‘ ìƒˆë¡œìš´ ì§‘ì„ ì„¤ê³„í•˜ëŠ” ì•„í‚¤í…íŠ¸ê°€ ìˆë‹¤ë©´ ì´ ì§‘ì˜ ì•„í‚¤í…ì²˜ëŠ” í˜•íƒœ, ì™¸ê´€, ì…ë©´ë„, ê³µê°„ì´ë‚˜ ë°©ì˜ ë°°ì¹˜ë“±ì´ í¬í•¨ëœë‹¤.\ní•˜ì§€ë§Œ ì•„í‚¤í…íŠ¸ê°€ ë§Œë“  ë„ë©´ì„ ì‚´í´ë³´ë©´ ì½˜ì„¼íŠ¸, ì „ë“± ìŠ¤ìœ„ì¹˜, ì „ë“±ì´ ëª¨ë‘ ì–´ë””ì— ìœ„ì¹˜í•˜ëŠ” ì§€ ë“± ì„¸ë¶€ì‚¬í•­ë„ ëª¨ë‘ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ë²½, ì§€ë¶• ê¸°ì´ˆ ê³µì‚¬ë“±ì´ ì–´ë–»ê²Œ ì§„í–‰ë ì§€ë„ ìƒì„¸íˆ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì´ì²˜ëŸ¼ ëª¨ë“  ê³ ìˆ˜ì¤€ì˜ ê²°ì •ì‚¬í•­ì„ ì§€íƒ±í•˜ëŠ” ëª¨ë“  ì„¸ë¶€ì‚¬í•­ê³¼ ê³ ìˆ˜ì¤€ì˜ ê²°ì •ì‚¬í•­ì€ ì§‘ì˜ ì „ì²´ ì„¤ê³„ì˜ êµ¬ì„±ìš”ì†Œê°€ ëœë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ë„ ë§ˆì°¬ê°€ì§€ë¡œ, ì €ìˆ˜ì¤€ì˜ ì„¸ë¶€ì‚¬í•­ê³¼ ê³ ìˆ˜ì¤€ì˜ êµ¬ì¡°ëŠ” ëª¨ë‘ ì†Œí”„íŠ¸ì›¨ì–´ ì „ì²´ ì„¤ê³„ì˜ êµ¬ì„±ìš”ì†Œë‹¤.\nì €ìˆ˜ì¤€ ì„¸ë¶€ì‚¬í•­ê³¼ ê³ ìˆ˜ì¤€ ì„¸ë¶€ì‚¬í•­ì€ ë‹¨ì ˆ ì—†ì´ ì´ì–´ì§„ ì§ë¬¼ê³¼ ê°™ìœ¼ë©°, ì´ë¥¼ í†µí•´ ëŒ€ìƒ ì‹œìŠ¤í…œì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•œë‹¤.\nì´ ë‘˜ì€ ê°œë³„ë¡œ ì¡´ì¬í•  ìˆ˜ ì—†ìœ¼ë©°, ê²½ê³„ ë˜í•œ ëšœë ¸í•˜ì§€ ì•Šê³  ê³ ìˆ˜ì¤€ì—ì„œ ì €ìˆ˜ì¤€ìœ¼ë¡œ í–¥í•˜ëŠ” ì˜ì‚¬ê²°ì •ì˜ ì—°ì†ì„±ë§Œì´ ìˆì„ ë¿ì´ë‹¤.\nëª©í‘œëŠ”? ì´ëŸ¬í•œ ì˜ì‚¬ê²°ì •, ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ ì¦‰ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ì˜ ëª©í‘œëŠ” í•„ìš”í•œ ì‹œìŠ¤í…œì„ ë§Œë“œë¡ ìœ ì§€ë³´ìˆ˜í•˜ëŠ”ë° íˆ¬ì…ë˜ëŠ” ì¸ë ¥ì„ ìµœì†Œí™”í•˜ëŠ” ë° ìˆë‹¤.\nì„¤ê³„ í’ˆì§ˆì˜ ì²™ë„ëŠ” ê³ ê°ì˜ ìš”êµ¬ë¥¼ ë§Œì¡±ì‹œí‚¤ëŠ” ë° ë“œëŠ” ë¹„ìš© ì²™ë„ì™€ ë‹¤ë¦„ ì—†ë‹¤.\në¹„ìš©ì´ ë‚®ì„ ë¿ë§Œ ì•„ë‹ˆë¼ ì‹œìŠ¤í…œì˜ ìˆ˜ëª…ì´ ë‹¤í•  ë•Œê¹Œì§€ ë‚®ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤ë©´ ì¢‹ì€ ì„¤ê³„ë¼ê³  ë§í•  ìˆ˜ ìˆë‹¤. ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶œì‹œí•  ë•Œ ë§ˆë‹¤ ë¹„ìš©ì´ ì¦ê°€í•œë‹¤ë©´ ë‚˜ìœ ì„¤ê³„ë‹¤. ì¢‹ì€ ì„¤ê³„ê°€ í•„ìš”í•œ ì´ìœ  ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ê°€ ë‚˜ì˜ë‹¤ë©´ ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì§„í™”í•¨ì— ë”°ë¼ ì ì  ë¹„ìš©ì´ ì¦ê°€í•œë‹¤. (ìƒì‚°ì„±ì´ ë–¨ì–´ì§„ë‹¤.)\nì´ëŸ¬í•œ ë¹„ìš©ì˜ ìƒìŠ¹ì€ ì‚¬ì—… ëª¨ë¸ì˜ ìˆ˜ìµì„ ê³ ê°ˆì‹œí‚¨ë‹¤. íšŒì‚¬ì˜ ì„±ì¥ì„ ë©ˆì¶”ê²Œ í•˜ê±°ë‚˜ ì‹¬ì§€ì–´ëŠ” ì™„ì „íˆ ë§í•˜ê²Œ ë§Œë“ ë‹¤. ì‹œìŠ¤í…œì„ ê¸‰í•˜ê²Œ ë§Œë“¤ê±°ë‚˜, ê²°ê³¼ë¬¼ì˜ ì´ëŸ‰ì„ ìˆœì „íˆ í”„ë¡œê·¸ë˜ë¨¸ ìˆ˜ë§Œìœ¼ë¡œ ê²°ì •í•˜ê±°ë‚˜, ì½”ë“œì™€ ì„¤ê³„ì™€ êµ¬ì¡°ë¥¼ ê¹”ë”í•˜ê²Œ ë§Œë“¤ë ¤ëŠ” ìƒê°ì„ ì „í˜€ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë¹„ìš©ì´ ê¸‰ê²©íˆ ìƒìŠ¹í•˜ê²Œë˜ê³ , ì´ë¥¼ í†µí•´ ìƒì‚°ì„±ì´ ë°”ë‹¥ì„ ì¹˜ê²Œ ëœë‹¤.\nì´ëŸ¬í•œ í˜„ìƒì´ ë°œìƒí•˜ê²Œ ë˜ë©´ ê°œë°œìê°€ ê¸°ëŠ¥ ê°œë°œë³´ë‹¤ëŠ” ì—‰ë§ì´ ëœ ìƒí™©ì— ëŒ€ì²˜í•˜ëŠ” ë° ì†Œëª¨ë˜ê¸° ì‹œì‘í•˜ë©°, ê°œë°œìë“¤ì´ ìŸì€ ë…¸ë ¥ì˜ ê°€ì¹˜ë¥¼ ë³´ì˜ê²ƒì—†ê²Œ ë§Œë“ ë‹¤.\në¬´ì—‡ì´ ì˜ëª» ë˜ì—ˆë‚˜? ìƒì‚°ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤ëŠ” ì°©ê°\nì¼ë¶€ ê°œë°œìë“¤ì€ ìƒì‚°ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤ê³  ìì‹ ì˜ ëŠ¥ë ¥ì„ ê³¼ì‹ í•œë‹¤.(ì–¸ì œë“ ì§€ ëŒì•„ê°€ ìƒì‚°ì„±ì„ íšŒë³µì‹œí‚¬ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•œë‹¤.)\ní˜„ëŒ€ì˜ ê°œë°œìë“¤ì€ ë¹ ë¥¸ ì‹œì¥ ì¶œì‹œê°€ ê²½ìŸìë³´ë‹¤ ì•ì„œ ê°€ëŠ” ê²ƒì´ë¼ ìƒê°í•˜ë©° \u0026ldquo;ì½”ë“œëŠ” ë‚˜ì¤‘ì— ì •ë¦¬í•˜ë©´ ë¼. ë‹¹ì¥ì€ ì‹œì¥ì— ì¶œì‹œí•˜ëŠ” ê²Œ ë¨¼ì €ì•¼!\u0026ldquo;ë¼ê³  ìŠ¤ìŠ¤ë¡œë¥¼ ì†ì¸ë‹¤.\ní•˜ì§€ë§Œ ì‹œì¥ì˜ ì••ë°•ì€ ì ˆëŒ€ ìˆ˜ê·¸ëŸ¬ë“¤ì§€ ì•Šê¸° ë•Œë¬¸ì— íƒœì„¸ë¥¼ ì „í™˜í•˜ì§€ ì•Šê³  ì •ë¦¬í•˜ëŠ” ì¼ì€ ë§¤ìš° ë“œë¬¼ê²Œ ë˜ë©°, ì´ë¡œ ì¸í•´ íœ¼ë¥­í•˜ê³  ê¹”ë”í•˜ê²Œ ì˜ ì„¤ê³„ëœ ì½”ë“œì™€ ì ì  ë” ê±°ë¦¬ê°€ ë©€ì–´ì§€ê²Œ ëœë‹¤.\nì´ëŸ¬í•œ ìƒí™©ì—ì„œ ê³„ì†í•´ì„œ ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€ê°€ ë˜ì–´ ê²°êµ­ ì—‰ë§ì§„ì°½ì´ ë˜ê³ , ìƒì‚°ì„±ì´ 0ìœ¼ë¡œ ìˆ˜ë ´í•˜ê¸° ì‹œì‘í•œë‹¤.\nì§€ì €ë¶„í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ë‹¨ê¸°ê°„ì— ë¹ ë¥´ê²Œ ê°ˆ ìˆ˜ ìˆë‹¤ëŠ” ì°©ê°\nì§€ì €ë¶„í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ë‹¨ ê¸°ê°„ì—ëŠ” ë¹ ë¥´ê²Œ ê°ˆ ìˆ˜ ìˆê³ , ì¥ê¸°ì ìœ¼ë¡œ ë³¼ ë•Œë§Œ ìƒì‚°ì„±ì´ ë‚®ì•„ì§„ë‹¤ëŠ” ê²¬í•´ëŠ” ì—‰ë§ìœ¼ë¡œ ì½”ë“œë¥¼ ì§œê¸°ìœ„í•œ ìê¸°í•©ë¦¬í™”ì´ë©°, ì§„ì‹¤ì€ ì—‰ë§ìœ¼ë¡œ ë§Œë“¤ë©´ ê¹”ë”í•˜ê²Œ ìœ ì§€í•  ë•Œë³´ë‹¤ í•­ìƒ ë” ëŠë¦¬ë‹¤.\nì œì´ìŠ¨ ê³ ë¨¼ì€ ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ ìœ ì§€í•˜ëŠ” ì˜ ì•Œë ¤ì§„ ë°©ë²• ì¤‘ í•˜ë‚˜ì¸ TDDë¥¼ ì‚¬ìš© ì—¬ë¶€ë¡œ ìƒì‚°ì„±ì„ ì¸¡ì •í–ˆë‹¤.\nTDDë¥¼ ì ìš©í–ˆì„ë•Œê°€ í›¨ì”¬ ë” ë¹¨ëìœ¼ë©°, ì‹¬ì§€ì–´ TDDë¥¼ ì ìš©í•œ ê°€ì¥ ëŠë ¸ë˜ ë‚ ì´ ì ìš©í•˜ì§€ ì•Šì€ ê°€ì¥ ë¹¨ë¦¬ ì‘ì—…í•œ ë‚ ë³´ë‹¤ ë” ë¹¨ëë‹¤.\në¹¨ë¦¬ ê°€ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ ì œëŒ€ë¡œ ê°€ëŠ” ê²ƒì´ë‹¤.\nìƒì‚°ì„±ì´ ê°ì†Œë˜ê³  ë¹„ìš©ì´ ì¦ê°€í•˜ëŠ” í˜„ìƒì„ ë˜ëŒë¦´ ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ë°©ë²•ì€ ì—†ë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•˜ë”ë¼ë„ í•œë²ˆ ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¨ ê°œë°œì(íŒ€)ëŠ” ë˜‘ê°™ì€ ë¬¸ì œë¥¼ ë°˜ë³µí•˜ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë©°, ì´ ë•Œë¬¸ì— í•­ìƒ ì½”ë“œì™€ ì„¤ê³„ë¥¼ ê¹”ë”í•˜ê²Œ ë§Œë“¤ë ¤ëŠ” ë…¸ë ¥ì„ ì§€ì†í•´ì•¼í•œë‹¤.\nê²°ë¡  ì–´ë–¤ ê²½ìš°ë¼ë„ ê°œë°œ ì¡°ì§ì´ í•  ìˆ˜ ìˆëŠ” ìµœê³ ì˜ ì„ íƒì§€ëŠ” ì¡°ì§ì— ìŠ¤ë©°ë“  ê³¼ì‹ ì„ ì¸ì§€í•˜ì—¬ ë°©ì§€í•˜ê³ , ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ì˜ í’ˆì§ˆì„ ì‹¬ê°í•˜ê²Œ ê³ ë¯¼í•˜ê¸° ì‹œì‘í•˜ëŠ” ê²ƒì´ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ë¥¼ ì‹¬ê°í•˜ê²Œ ê³ ë ¤í•  ìˆ˜ ìˆìœ¼ë ¤ë©´ ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…ì²˜ê°€ ë¬´ì—‡ì¸ì§€ ì´í•´í•´ì•¼ í•œë‹¤.\në¹„ìš©ì€ ìµœì†Œí™”í•˜ê³  ìƒì‚°ì„±ì€ ìµœëŒ€í™” í•  ìˆ˜ ìˆëŠ” ì„¤ê³„ì™€ ì•„í‚¤í…ì²˜ë¥¼ ê°€ì§„ ì‹œìŠ¤í…œì„ ë§Œë“œë ¤ë©´, ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ê°€ ì§€ë‹Œ ì†ì„±ì„ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤. ì´ ì±…ì€ í›Œë¥­í•˜ê³  ê¹”ë”í•œ ì•„í‚¤í…ì²˜ì™€ ì„¤ê³„ê°€ ë¬´ì—‡ì¸ì§€ ì„¤ëª…í•˜ê³ , ì´ë¥¼ í†µí•´ ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìê°€ ì¥ì‹œê°„ì— ê±¸ì³ ìˆ˜ìµì„ ì°½ì¶œí•˜ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•˜ê³ ì í•œë‹¤.\n","date":"2024-02-18T18:09:13+09:00","image":"https://codemario318.github.io/post/clean-architecture/1/cover_hu01783d23203014d58ee585db2e3121c4_1011761_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/clean-architecture/1/","title":"1. ì„¤ê³„ì™€ ì•„í‚¤í…ì²˜ë€?"},{"content":"ë¹„ì§€í„°(Visitor) íŒ¨í„´ ë‹¤ì–‘í•œ ê°ì²´ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ”ë° ìº¡ìŠí™”ê°€ ë³„ë¡œ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤ë©´ ë¹„ì§€í„° íŒ¨í„´ì„ ì“´ë‹¤.\në¹„ì§€í„° íŒ¨í„´ì€ ê°ì²´ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³ , ì´ êµ¬ì¡°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ì—¬ ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ì„ ì¶”ê°€í•  ë•Œ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  í™•ì¥í•˜ëŠ” ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì´ë‹¤.\nì£¼ë¡œ ë°ì´í„° êµ¬ì¡°ì™€ ì²˜ë¦¬ë¥¼ ë¶„ë¦¬í•˜ì—¬ ìƒˆë¡œìš´ ì²˜ë¦¬ë¥¼ ì‰½ê²Œ ì¶”ê°€í•˜ê³  í™•ì¥í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\níŠ¹ì§• ì•Œê³ ë¦¬ì¦˜ ë¶„ë¦¬ ì•Œê³ ë¦¬ì¦˜ì„ ê°ì²´ êµ¬ì¡°ì—ì„œ ë¶„ë¦¬í•˜ì—¬ ìº¡ìŠí™”í•˜ê³ , ê° ì•Œê³ ë¦¬ì¦˜ì„ ë°©ë¬¸ì(Visitor)ë¡œ ì •ì˜í•œë‹¤. í™•ì¥ì„± í–¥ìƒ ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ì„ ì¶”ê°€í•  ë•Œ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  í™•ì¥í•  ìˆ˜ ìˆë‹¤. êµ¬ì¡° Visitor(ë°©ë¬¸ì) ê°ì²´ êµ¬ì¡°ë¥¼ ë°©ë¬¸í•˜ì—¬ ê° êµ¬ì¡°ì— ëŒ€í•œ ì•Œê³ ë¦¬ì¦˜ì„ ìˆ˜í–‰í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. ConcreteVisitor Visitor ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³ , ì‹¤ì œ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•œë‹¤. Element(ìš”ì†Œ) ë°©ë¬¸ìê°€ ë°©ë¬¸í•˜ëŠ” ê°ì²´ì˜ ì–¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. ConcreteElement Element ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³ , ë°©ë¬¸ìì˜ ë°©ë¬¸ì„ ë°›ì•„ë“¤ì´ëŠ” ë©”ì„œë“œë¥¼ êµ¬í˜„í•œë‹¤. ObjectStructure(ê°ì²´ êµ¬ì¡°) ì—¬ëŸ¬ ìš”ì†Œë¥¼ í¬í•¨í•˜ëŠ” ê°ì²´ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³ , ë°©ë¬¸ìë¥¼ ë°›ì•„ë“¤ì´ëŠ” ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤. ì˜ˆì‹œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 // Visitor public interface Visitor { void visit(ConcreteElementA element); void visit(ConcreteElementB element); } // ConcreteVisitor public class ConcreteVisitor implements Visitor { @Override public void visit(ConcreteElementA element) { System.out.println(\u0026#34;Visit ConcreteElementA\u0026#34;); } @Override public void visit(ConcreteElementB element) { System.out.println(\u0026#34;Visit ConcreteElementB\u0026#34;); } } // Element public interface Element { void accept(Visitor visitor); } // ConcreteElement public class ConcreteElementA implements Element { @Override public void accept(Visitor visitor) { visitor.visit(this); } } // ConcreteElement public class ConcreteElementB implements Element { @Override public void accept(Visitor visitor) { visitor.visit(this); } } // ObjectStructure public class ObjectStructure { private List\u0026lt;Element\u0026gt; elements = new ArrayList\u0026lt;\u0026gt;(); public void addElement(Element element) { elements.add(element); } public void accept(Visitor visitor) { for (Element element : elements) { element.accept(visitor); } } } // Client public class Client { public static void main(String[] args) { ObjectStructure objectStructure = new ObjectStructure(); objectStructure.addElement(new ConcreteElementA()); objectStructure.addElement(new ConcreteElementB()); Visitor visitor = new ConcreteVisitor(); objectStructure.accept(visitor); } } ì¥ë‹¨ì  ì¥ì \nì•Œê³ ë¦¬ì¦˜ ì¶”ê°€ì˜ ìš©ì´ì„± ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ ì•Œê³ ë¦¬ì¦˜ì„ ìˆ˜ì •í•  ë•Œ, ê¸°ì¡´ ì½”ë“œë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  í™•ì¥í•  ìˆ˜ ìˆë‹¤. ë¹„êµì  ì†ì‰½ê²Œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. êµ¬ì¡°ì™€ ì•Œê³ ë¦¬ì¦˜ì˜ ë¶„ë¦¬ ë¹„ì§€í„°ê°€ ìˆ˜í–‰í•˜ëŠ” ê¸°ëŠ¥ê³¼ ê´€ë ¨ëœ ì½”ë“œë¥¼ í•œê³³ì— ëª¨ì•„ ë‘˜ ìˆ˜ ìˆë‹¤. ê°ì²´ êµ¬ì¡°ì™€ ì•Œê³ ë¦¬ì¦˜ì„ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œë¥¼ ë³´ë‹¤ ëª¨ë“ˆí™”í•˜ê³  ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤. ë‹¨ì \nìº¡ìŠí™” ë¶ˆê°€ëŠ¥ ë¹„ì§€í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ë³µí•© í´ë˜ìŠ¤ì˜ ìº¡ìŠí™”ê°€ ê¹¨ì§„ë‹¤. êµ¬ì¡° ë³€ê²½ ì–´ë ¤ì›€ ì»¬ë ‰ì…˜ ë‚´ì˜ ëª¨ë“  í•­ëª©ì— ì ‘ê·¼í•˜ëŠ” íŠ¸ë˜ë²„ì„œ(í´ë¼ì´ì–¸íŠ¸)ê°€ ìˆìœ¼ë¯€ë¡œ ë³µí•© êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ê¸°ê°€ ë” ì–´ë ¤ì›Œì§„ë‹¤. í´ë˜ìŠ¤ ì¦ê°€ ìƒˆë¡œìš´ ìš”ì†Œë‚˜ ì•Œê³ ë¦¬ì¦˜ì„ ì¶”ê°€í•  ë•Œë§ˆë‹¤ í´ë˜ìŠ¤ì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚œë‹¤. ì´ë¡œ ì¸í•´ í´ë˜ìŠ¤ì˜ ìˆ˜ê°€ ë§ì•„ì§€ë©´ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤. ","date":"2024-01-27T09:36:08+09:00","image":"https://codemario318.github.io/post/gof/15/visitor/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/15/visitor/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - ë¹„ì§€í„° íŒ¨í„´"},{"content":"í”„ë¡œí† íƒ€ì…(Prototype) íŒ¨í„´ ì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ìì›ê³¼ ì‹œê°„ì´ ë§ì´ ë“¤ê±°ë‚˜ ë³µì¡í•˜ë‹¤ë©´ í”„ë¡œí† íƒ€ì… íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.\ní”„ë¡œí† íƒ€ì… íŒ¨í„´ì€ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¹„ìš©ì´ í° ê²½ìš°, ê¸°ì¡´ ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì´ë‹¤.\nì´ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¹„ìš©ì„ ì¤„ì´ê³ , ë³µì¡í•œ ì´ˆê¸°í™” ê³¼ì •ì„ ë°˜ë³µí•˜ì§€ ì•Šê³ ë„ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œí•œë‹¤.\níŠ¹ì§• ì‹œìŠ¤í…œì—ì„œ ë³µì¡í•œ í´ë˜ìŠ¤ ê³„ì¸µêµ¬ì¡°ì— íŒŒë¬»í˜€ ìˆëŠ” ë‹¤ì–‘í•œ í˜•ì‹ì˜ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í•  ë•Œ ìœ ìš©í•˜ê²Œ ì¨ë¨¹ì„ ìˆ˜ ìˆë‹¤.\në³µì‚¬ë¥¼ í†µí•œ ê°ì²´ ìƒì„± ê¸°ì¡´ ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ìƒì„± ë¹„ìš© ê°ì†Œ ë¹„ìš©ì´ í° ê°ì²´ ìƒì„±ì„ í”¼í•˜ê³ , ë³µì‚¬ë¥¼ í†µí•´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë¹ ë¥´ê²Œ ìƒì„±í•œë‹¤. êµ¬ì¡° Prototype(í”„ë¡œí† íƒ€ì…) ë³µì‚¬ë  ê°ì²´ì— ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. ConcretePrototype(êµ¬ì²´ì ì¸ í”„ë¡œí† íƒ€ì…) Prototype ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³ , ìì‹ ì„ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë©”ì„œë“œë¥¼ êµ¬í˜„í•œë‹¤. Client í”„ë¡œí† íƒ€ì… ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ì˜ˆì‹œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 // Prototype public interface Prototype { Prototype clone(); } // ConcretePrototype public class ConcretePrototype implements Prototype { private String data; public ConcretePrototype(String data) { this.data = data; } public void setData(String data) { this.data = data; } public String getData() { return data; } @Override public Prototype clone() { return new ConcretePrototype(this.data); } } // Client public class Client { public static void main(String[] args) { ConcretePrototype prototype = new ConcretePrototype(\u0026#34;Original Data\u0026#34;); // ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ ê°ì²´ ìƒì„± ConcretePrototype clonedObject = (ConcretePrototype) prototype.clone(); // ì›ë³¸ê³¼ ë³µì œë³¸ì˜ ë°ì´í„° í™•ì¸ System.out.println(\u0026#34;Original Data: \u0026#34; + prototype.getData()); System.out.println(\u0026#34;Cloned Data: \u0026#34; + clonedObject.getData()); // ë³µì œë³¸ì˜ ë°ì´í„° ë³€ê²½ clonedObject.setData(\u0026#34;Modified Data\u0026#34;); // ì›ë³¸ê³¼ ë³µì œë³¸ì˜ ë°ì´í„° í™•ì¸ System.out.println(\u0026#34;Original Data: \u0026#34; + prototype.getData()); System.out.println(\u0026#34;Cloned Data: \u0026#34; + clonedObject.getData()); } } ì¥ë‹¨ì  ì¥ì \nìƒì„± ë¹„ìš© ê°ì†Œ ë¹„ìš©ì´ í° ê°ì²´ ìƒì„±ì„ í”¼í•˜ê³ , ë³µì‚¬ë¥¼ í†µí•´ ë¹ ë¥´ê²Œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ìœ ì—°ì„± ì¦ê°€ ê°ì²´ì˜ ìƒì„± ë° ì´ˆê¸°í™” ê³¼ì •ì„ ë°˜ë³µí•˜ì§€ ì•Šê³ , ë³µì‚¬ë¥¼ í†µí•´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆì–´ ìœ ì—°ì„±ì´ ì¦ê°€í•œë‹¤. ê²°í•©ë„ ê°ì†Œ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ê³¼ì •ì„ ëª°ë¼ë„ ëœë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” êµ¬ì²´ì ì¸ í˜•ì‹ì„ ëª°ë¼ë„ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ë‹¨ì \në•Œë¡œëŠ” ê°ì²´ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“œëŠ” ì¼ì´ ë§¤ìš° ë³µì¡í•  ìˆ˜ë„ ìˆë‹¤. ê¹Šì€ ë³µì‚¬ ì–´ë ¤ì›€ ê°ì²´ì— ì°¸ì¡° íƒ€ì… ë©¤ë²„ ë³€ìˆ˜ê°€ ìˆëŠ” ê²½ìš°, ì´ë¥¼ ì–•ì€ ë³µì‚¬ë¡œ ì²˜ë¦¬í•  ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. clone ë©”ì„œë“œì˜ êµ¬í˜„ ì–´ë ¤ì›€ clone ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì‰½ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë©°, ì‹¤ìˆ˜í•  ì—¬ì§€ê°€ ë§ë‹¤. ","date":"2024-01-27T09:36:08+09:00","image":"https://codemario318.github.io/post/gof/15/prototype/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/15/prototype/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - í”„ë¡œí† íƒ€ì… íŒ¨í„´"},{"content":"ë©”ë©˜í† (Memento) íŒ¨í„´ ê°ì²´ë¥¼ ì´ì „ ìƒíƒœë¡œ ë³µêµ¬í•´ì•¼ í•œë‹¤ë©´ ë©”ë©˜í† (Memento) íŒ¨í„´ì„ ì“´ë‹¤. (ì‘ì—… ì·¨ì†Œ)\në©”ë©˜í†  íŒ¨í„´ì€ ê°ì²´ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ì´ë¥¼ ë‚˜ì¤‘ì— ë³µì›í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í–‰ìœ„ ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì´ë‹¤.\nê°ì²´ì˜ ìƒíƒœë¥¼ ì™¸ë¶€í•˜ì‹œì¼œ, ìƒíƒœì˜ ë³€ê²½ì„ ìº¡ìŠí™”í•˜ê³  ê°ì²´ì˜ ë¶ˆë³€ì„±ì„ ë³´ì¡´í•œë‹¤.\níŠ¹ì§• ë©”ë©˜í†  ê°ì²´ë¥¼ ì¨ì„œ ìƒíƒœë¥¼ ì €ì¥í•˜ë©°, ì‹œìŠ¤í…œì˜ ìƒíƒœë¥¼ ì €ì¥í•  ë•Œ ì§ë ¬í™”ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nìƒíƒœ ì €ì¥ ë° ë³µì› ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœë¥¼ ì™¸ë¶€ë¡œ ì €ì¥í•˜ê³ , ë‚˜ì¤‘ì— ì´ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ë³µì›í•œë‹¤. ìº¡ìŠí™” ê°ì²´ì˜ ìƒíƒœë¥¼ ì™¸ë¶€í™”ì‹œì¼œ, ìƒíƒœ ë³€ê²½ì„ ìº¡ìŠí™”í•˜ì—¬ ê°ì²´ì˜ ë¶ˆë³€ì„±ì„ ë³´ì¡´í•œë‹¤. êµ¬ì¡° Originator(ì›ì¡°ì) í˜„ì¬ ìƒíƒœë¥¼ ì €ì¥í•˜ê³ , ìƒíƒœë¥¼ ë³µì›í•˜ëŠ” ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. Memento(ë©”ë©˜í† ) ì›ì¡°ìì˜ ë‚´ë¶€ ìƒíƒœë¥¼ í‘œí˜„í•˜ëŠ” ê°ì²´ì´ë‹¤. ì›ì¡°ìì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ë³µì›í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. Caretaker(ê´€ë¦¬ì) ë©”ë©˜í† ë¥¼ ê´€ë¦¬í•˜ê³ , í•„ìš”ì— ë”°ë¼ ë©”ë©˜í† ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ë³µì›í•œë‹¤. ì˜ˆì‹œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 // Memento public class Memento { private String state; public Memento(String state) { this.state = state; } public String getState() { return state; } } // Originator public class Originator { private String state; public void setState(String state) { this.state = state; } public String getState() { return state; } public Memento saveStateToMemento() { return new Memento(state); } public void restoreStateFromMemento(Memento memento) { state = memento.getState(); } } // Caretaker public class Caretaker { private List\u0026lt;Memento\u0026gt; mementoList = new ArrayList\u0026lt;\u0026gt;(); public void addMemento(Memento memento) { mementoList.add(memento); } public Memento getMemento(int index) { return mementoList.get(index); } } // Client public class Client { public static void main(String[] args) { Originator originator = new Originator(); Caretaker caretaker = new Caretaker(); originator.setState(\u0026#34;State 1\u0026#34;); originator.setState(\u0026#34;State 2\u0026#34;); caretaker.addMemento(originator.saveStateToMemento()); originator.setState(\u0026#34;State 3\u0026#34;); caretaker.addMemento(originator.saveStateToMemento()); System.out.println(\u0026#34;Current State: \u0026#34; + originator.getState()); originator.restoreStateFromMemento(caretaker.getMemento(1)); System.out.println(\u0026#34;Restored State: \u0026#34; + originator.getState()); } } ì¥ë‹¨ì  ì¥ì \nìº¡ìŠí™”ëœ ìƒíƒœ ê°ì²´ì˜ ìƒíƒœê°€ ì™¸ë¶€ì— ì˜í•´ ìº¡ìŠí™”ë˜ì–´ ì €ì¥ë˜ë¯€ë¡œ, ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœë¥¼ ì™¸ë¶€ë¡œë¶€í„° ì€ë‹‰í•  ìˆ˜ ìˆë‹¤. ì €ì¥ëœ ìƒíƒœë¥¼ í•µì‹¬ ê°ì²´ì™€ëŠ” ë‹¤ë¥¸ ë³„ë„ì˜ ê°ì²´ì— ë³´ê´€í•  ìˆ˜ ìˆì–´ ì•ˆì „í•˜ë‹¤. ë³µì› ê°€ëŠ¥ì„± ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜ì¤‘ì— ë³µì›í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ê°ì²´ì˜ ìƒíƒœë¥¼ ì´ì „ ìƒíƒœë¡œ ì‰½ê²Œ ë˜ëŒë¦´ ìˆ˜ ìˆë‹¤. ë‹¨ì \nìƒíƒœë¥¼ ì €ì¥í•˜ê³  ë³µêµ¬í•˜ëŠ” ë° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ë„ ìˆë‹¤. ë©”ëª¨ë¦¬ ì‚¬ìš© ìƒíƒœë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ë©”ë©˜í†  ê°ì²´ë¥¼ ìƒì„±í•˜ê³ ê´€ë¦¬í•˜ëŠ” ë° ì¼ì •í•œ ë©”ëª¨ë¦¬ ë¹„ìš©ì´ ë“¤ ìˆ˜ ìˆë‹¤. ë³µì¡ì„± í° ê°ì²´ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ë³µì›í•˜ëŠ” ê³¼ì •ì´ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤. ","date":"2024-01-27T09:26:08+09:00","image":"https://codemario318.github.io/post/gof/15/memento/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/15/memento/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - ë©”ë©˜í†  íŒ¨í„´"},{"content":"ì¤‘ì¬ì(Mediator) íŒ¨í„´ ì„œë¡œ ê´€ë ¨ëœ ê°ì²´ ì‚¬ì´ì˜ ë³µì¡í•œ í†µì‹ ê³¼ ì œì–´ë¥¼ í•œê³³ìœ¼ë¡œ ì§‘ì¤‘í™”ê³  ì‹¶ë‹¤ë©´ ì¤‘ì¬ì(Mediator) íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.\nì¤‘ì¬ì íŒ¨í„´ì€ ê°ì²´ ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ìº¡ìŠí™”í•˜ì—¬, ê°ì²´ ê°„ì˜ ì§ì ‘ì ì¸ í†µì‹ ì„ ë°©ì§€í•˜ê³  ì¤‘ì¬ìë¥¼ í†µí•´ ìƒí˜¸ ì‘ìš©ì„ ì¡°ì •í•˜ëŠ” í–‰ìœ„ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì´ë‹¤.\nì´ë¥¼ í†µí•´ ê°ì²´ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³ , ìœ ì—°ì„±ì„ ë†’ì´ë©°, ìœ ì§€ ë³´ìˆ˜ì„±ì„ ê°œì„ í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.\níŠ¹ì§• ì„œë¡œ ì—°ê´€ëœ GUI êµ¬ì„± ìš”ì†Œë¥¼ ê´€ë¦¬í•˜ëŠ” ìš©ë„ë¡œ ë§ì´ ì“°ì¸ë‹¤.\nìƒí˜¸ ì‘ìš©ì˜ ì¤‘ì•™í™” ê°ì²´ ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ì¤‘ì•™í™”í•˜ì—¬ ì¤‘ì¬ìë¥¼ í†µí•´ ì¡°ì •í•œë‹¤. ê²°í•©ë„ ê°ì†Œ ê°ì²´ ê°„ì˜ ì§ì ‘ì ì¸ í†µì‹ ì„ í”¼í•˜ê³ , ì¤‘ì¬ìë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ í†µì‹ í•˜ì—¬ ê²°í•©ë„ë¥¼ ë‚®ì¶˜ë‹¤. ìœ ì—°ì„± í–¥ìƒ ê°ì²´ ê°„ì˜ ê²°í•©ë„ê°€ ë‚®ì•„ì§€ë¯€ë¡œ, ë³€í™”ì— ëŒ€í•œ ìœ ì—°ì„±ì´ í–¥ìƒëœë‹¤. êµ¬ì¡° Mediator(ì¤‘ì¬ì) ê°ì²´ ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ì¡°ì •í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. ConcreteMediator(êµ¬ì²´ì ì¸ ì¤‘ì¬ì) Mediatorë¥¼ êµ¬í˜„í•˜ê³ , ê°ì²´ ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ì¡°ì •í•œë‹¤. Colleague(í˜‘ë ¥ì) ì¤‘ì¬ìì™€ í†µì‹ í•˜ëŠ” ê°ì²´ë¡œ, ìƒí˜¸ ì‘ìš©ì„ ì¤‘ì¬ìë¥¼ í†µí•´ ìˆ˜í–‰í•œë‹¤. ì˜ˆì‹œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 // Mediator ì¸í„°í˜ì´ìŠ¤ public interface Mediator { void sendMessage(String message, Colleague colleague); } // ConcreteMediator êµ¬í˜„ public class ConcreteMediator implements Mediator { private Colleague colleague1; private Colleague colleague2; public void setColleague1(Colleague colleague1) { this.colleague1 = colleague1; } public void setColleague2(Colleague colleague2) { this.colleague2 = colleague2; } @Override public void sendMessage(String message, Colleague colleague) { if (colleague == colleague1) { colleague2.receiveMessage(message); } else { colleague1.receiveMessage(message); } } } // Colleague ì¸í„°í˜ì´ìŠ¤ public interface Colleague { void sendMessage(String message); void receiveMessage(String message); } // ConcreteColleague êµ¬í˜„ public class ConcreteColleague1 implements Colleague { private Mediator mediator; public ConcreteColleague1(Mediator mediator) { this.mediator = mediator; } @Override public void sendMessage(String message) { mediator.sendMessage(message, this); } @Override public void receiveMessage(String message) { System.out.println(\u0026#34;ConcreteColleague1 received message: \u0026#34; + message); } } // ConcreteColleague êµ¬í˜„ public class ConcreteColleague2 implements Colleague { private Mediator mediator; public ConcreteColleague2(Mediator mediator) { this.mediator = mediator; } @Override public void sendMessage(String message) { mediator.sendMessage(message, this); } @Override public void receiveMessage(String message) { System.out.println(\u0026#34;ConcreteColleague2 received message: \u0026#34; + message); } } // Client public class Client { public static void main(String[] args) { ConcreteMediator mediator = new ConcreteMediator(); ConcreteColleague1 colleague1 = new ConcreteColleague1(mediator); ConcreteColleague2 colleague2 = new ConcreteColleague2(mediator); mediator.setColleague1(colleague1); mediator.setColleague2(colleague2); colleague1.sendMessage(\u0026#34;Hello from Colleague1!\u0026#34;); colleague2.sendMessage(\u0026#34;Hi from Colleague2!\u0026#34;); } } ì¥ë‹¨ì  ì¥ì \nê²°í•©ë„ ê°ì†Œ ê°ì²´ ê°„ì˜ ì§ì ‘ì ì€ í†µì‹ ì„ í”¼í•˜ê³  ì¤‘ì¬ìë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ í†µì‹ í•¨ìœ¼ë¡œì¨ ê²°í•©ë„ë¥¼ ê°ì†Œê¸°í‚¨ë‹¤. ì¬ì‚¬ìš©ì„± ì¦ê°€ ì‹œìŠ¤í…œê³¼ ê°ì²´ë¥¼ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ ì¬ì‚¬ìš©ì„±ì„ íšê¸°ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¬ìˆ˜ ìˆë‹¤. ì œì–´ë¡œì§ì„ í•œ êµ°ë° ëª¨ì•„ë†¨ìœ¼ë¯€ë¡œ ê´€ë¦¬í•˜ê¸° ìˆ˜ì›”í•˜ë‹¤. ì‹œìŠ¤í…œì— ë“¤ì–´ìˆëŠ” ê°ì²´ ì‚¬ì´ì—ì„œ ì˜¤ê°€ëŠ” ë©”ì‹œì§€ë¥¼ ëŒ€í­ ì¤„ì´ê³  ë‹¨ìˆœí™” í•  ìˆ˜ ìˆë‹¤. ë‹¨ì \në³µì¡ì„± ì¦ê°€ ë””ìì¸ì„ ì˜ í•˜ì§€ ëª»í•˜ë©´ ì¤‘ì¬ì ê°ì²´ê°€ ë„ˆë¬´ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤. ëª¨ë“  í†µì‹ ì´ ì¤‘ì¬ë¼ë¥¼ í†µí•´ ì´ë£¨ì–´ì ¸ì•¼ í•¨ ëª¨ë“  ê°ì²´ ê°„ì˜ í†µì‹ ì´ ì¤‘ì¬ìë¥¼ í†µí•´ ì´ë£¨ì–´ì ¸ì•¼ í•˜ë¯€ë¡œ, ì¤‘ì¬ìì—ê²Œ ëª¨ë“  í†µì‹ ì„ ì „ë‹¬í•˜ëŠ” ë¶€í•˜ê°€ ë°œìƒ ê°€ëŠ¥ ","date":"2024-01-27T09:14:08+09:00","image":"https://codemario318.github.io/post/gof/15/mediator/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/15/mediator/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - ì¤‘ì¬ì íŒ¨í„´"},{"content":"ì¸í„°í”„ë¦¬í„°(Interpreter) íŒ¨í„´ ì–´ë–¤ ì–¸ì–´ì˜ ì¸í„°í”„ë¦¬í„°ë¥¼ ë§Œë“¤ ë•ŒëŠ” ì¸í„°í”„ë¦¬í„° íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.\nì¸í„°í”„ë¦¬í„° íŒ¨í„´ì€ ì–¸ì–´ë‚˜ ë¬¸ë²• ê·œì¹™ì„ í•´ì„í•˜ê±°ë‚˜ í•´ì„í•´ê¸° ìœ„í•œ ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ, ì£¼ë¡œ ì–¸ì–´ í•´ì„ê¸°ë¥¼ êµ¬í˜„í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.\nì£¼ì–´ì§„ ì–¸ì–´ì˜ ë¬¸ë²• ê·œì¹™ì„ í´ë˜ìŠ¤ë¡œ í‘œí˜„í•˜ê³ , ì´ë¥¼ í•´ì„í•˜ì—¬ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ë¥¼ ì œê³µí•œë‹¤.\níŠ¹ì§• ê°„ë‹¨í•œ ì–¸ì–´ë¥¼ êµ¬í˜„í•  ë•Œ ì¸í„°í”„ë¦¬í„° íŒ¨í„´ì´ ìœ ìš©í•˜ê²Œ ì“°ì¸ë‹¤.\níš¨ìœ¨ë³´ë‹¤ëŠ” ë‹¨ìˆœí•˜ê³  ê°„ë‹¨í•˜ê²Œ ë¬¸ë²•ì„ ë§Œë“œëŠ” ê²ƒì´ ë” ì¤‘ìš”í•œ ê²½ìš°ì— ìœ ìš©í•˜ë‹¤.\nì–¸ì–´ í•´ì„ íŠ¹ì • ì–¸ì–´ì˜ ë¬¸ë²•ì„ ê°ì²´ë¡œ í‘œí˜„í•˜ê³  ì´ë¥¼ í•´ì„í•˜ì—¬ ì‹¤í–‰í•œë‹¤. ë¬¸ë²• êµ¬ì¡° ë¶„ë¦¬ ë¬¸ë²•ì˜ êµ¬ì¡°ë¥¼ í‘œí˜„ì‹ í´ë˜ìŠ¤ì— ìº¡ìŠí™”í•˜ì—¬ ê° í‘œí˜„ì‹ì„ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥í•˜ë„ë¡ í•œë‹¤. êµ¬ì„± ìš”ì†Œ AbstractExpression(ì¶”ìƒ í‘œí˜„ì‹) ì¸í„°í”„ë¦¬í„° íŒ¨í„´ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜ ë¬¸ë²• ê·œì¹™ì— í•´ë‹¹í•˜ëŠ” ê° í‘œí˜„ì‹ì´ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤. TerminalExpression(ì¢…ë‹¨ í‘œí˜„ì‹) êµ¬ì²´ì ì¸ í‘œí˜„ì‹ìœ¼ë¡œ, ë” ì´ìƒ ë‚˜ë‰  ìˆ˜ ì—†ëŠ” ìµœì†Œ ë‹¨ìœ„ì˜ í‘œí˜„ì‹ì„ ë‚˜íƒ€ë‚¸ë‹¤. NonterminalExpression(ë¹„ì¢…ë‹¨ í‘œí˜„ì‹) ì—¬ëŸ¬ ì¢…ë‹¨ í‘œí˜„ì‹ì„ ì¡°í•©í•˜ì—¬ ë³µì¡í•œ í‘œí˜„ì‹ì„ ë‚˜íƒ€ë‚¸ë‹¤. Context í•´ì„ê¸°ê°€ í•´ì„í•  ë¬¸ë§¥ ì •ë³´ ì œê³µ Client êµ¬ì²´ì ì¸ í‘œí˜„ì‹ì„ ì¡°í•©í•˜ì—¬ ì»¨í…ìŠ¤íŠ¸ì— í‘œí˜„ì‹ì„ í•´ì„í•˜ë„ë¡ ìš”ì²­í•˜ëŠ” ì—­í•  ìˆ˜í–‰ ì˜ˆì‹œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // AbstractExpression public interface Expression { int interpret(Context context); } // TerminalExpression public class NumberExpression implements Expression { private int number; public NumberExpression(int number) { this.number = number; } @Override public int interpret(Context context) { return number; } } // NonterminalExpression public class AddExpression implements Expression { private Expression left; private Expression right; public AddExpression(Expression left, Expression right) { this.left = left; this.right = right; } @Override public int interpret(Context context) { return left.interpret(context) + right.interpret(context); } } // Context public class Context { private String input; private int output; public Context(String input) { this.input = input; } public String getInput() { return input; } public void setInput(String input) { this.input = input; } public int getOutput() { return output; } public void setOutput(int output) { this.output = output; } } // Client public class Client { public static void main(String[] args) { // ì˜ˆì‹œ: 1 + 2 Expression expression = new AddExpression(new NumberExpression(1), new NumberExpression(2)); Context context = new Context(\u0026#34;1 + 2\u0026#34;); int result = expression.interpret(context); System.out.println(context.getInput() + \u0026#34; = \u0026#34; + result); } } ì¥ë‹¨ì  ì¥ì \nìœ ì—°í•œ í™•ì¥ì„± ë¬¸ë²•ì„ í´ë˜ìŠ¤ë¡œ í‘œí˜„í•´ì„œ ì‰½ê²Œ ì–¸ì–´ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ë¬¸ë²•ì´ í´ë˜ìŠ¤ë¡œ í‘œí˜„ë˜ë¯€ë¡œ ì–¸ì–´ë¥¼ ì‰½ê²Œ ë³€ê²½í•˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ êµ¬ì¡°ì— ë©”ì†Œë“œë§Œ ì¶”ê°€í•˜ë©´ í”„ë¡œê·¸ë¨ì„ í•´ì„í•˜ëŠ” ê¸°ë³¸ ê¸°ëŠ¥ ì™¸ì— ì˜ˆì˜ê²Œ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ì´ë‚˜ ë” ë‚˜ì€ í”„ë¡œê·¸ë¨ í™•ì¸ ê¸°ëŠ¥ ê°™ì€ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ë¬¸ë²• êµ¬ì¡° ë¶„ë¦¬ ë¬¸ë²•ì˜ êµ¬ì¡°ë¥¼ í‘œí˜„ì‹ í´ë˜ìŠ¤ì— ìº¡ìŠí™”í•˜ì—¬ ê° í‘œí˜„ì‹ì„ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ë‹¨ì \në³µì¡í•œ ë¬¸ë²• êµ¬ì¡° ë³µì¡í•œ ë¬¸ë²•ì— ëŒ€í•´ í´ë˜ìŠ¤ ìˆ˜ê°€ ì¦ê°€í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê²½ìš° íŒŒì„œë‚˜ ì»´íŒŒì¼ëŸ¬ ìƒì„±ê¸°ë¥¼ ì“°ëŠ” í¸ì´ ë‚«ë‹¤. ì„±ëŠ¥ í° ë¬¸ì¥ì„ í•´ì„í•  ê²½ìš° ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤. ","date":"2024-01-27T09:01:08+09:00","image":"https://codemario318.github.io/post/gof/15/interpreter/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/15/interpreter/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - ì¸í„°í”„ë¦¬í„° íŒ¨í„´"},{"content":"í”Œë¼ì´ì›¨ì´íŠ¸(Flyweight) íŒ¨í„´ ì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ í•˜ë‚˜ë¡œ ì—¬ëŸ¬ ê°œì˜ ê°€ìƒ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì œê³µí•˜ê³  ì‹¶ë‹¤ë©´ í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.\ní”Œë¼ì´ ì›¨ì´íŠ¸ íŒ¨í„´ì€ ì—¬ëŸ¬ ê°ì²´ê°€ ê³µìœ ë˜ì–´ì•¼ í•˜ëŠ” ëŒ€ìƒì„ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ì  ë””ìì¸ íŒ¨í„´ì´ë‹¤.\nì´ íŒ¨í„´ì€ ê°ì²´ì˜ ì¤‘ë³µëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í”¼í•˜ê³  ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•˜ë©´ì„œ ê°ì²´ì˜ ê³µìœ  ê°€ëŠ¥ì„±ì„ ì§€ì›í•œë‹¤.\nì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì•„ì£¼ ë§ì´ í•„ìš”í•˜ì§€ë§Œ ëª¨ë‘ ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì œì–´í•´ì•¼ í•  ë•Œ ìœ ìš©í•˜ê²Œ ì“°ì¸ë‹¤.\nêµ¬ì„± ìš”ì†Œ Flyweight ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ í•  ìˆ˜ ìˆë„ë¡ ë§Œë“œëŠ” ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ ConcreteFlyweight Flyweight ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ê³µìœ  ê°€ëŠ¥í•œ ê°ì²´ UnsharedConcreteFlyweight Flyweightë¥¼ êµ¬í˜„í•˜ì§€ë§Œ, ê³µìœ ë˜ì§€ ì•ŠëŠ” ê²½ìš°ì˜ ê°ì²´ FlyweightFactory: Flyweight ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì—­í•  ìˆ˜í–‰ ê°ì²´ë¥¼ ê³µìœ í•˜ê³ , ì´ë¯¸ ìƒì„±ëœ ê°ì²´ë¥¼ ë°˜í™˜ Client Flyweight ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ íŒ©í† ë¦¬ë¥¼ í†µì•  ì´ë¯¸ ìƒì„±ëœ ê°ì²´ë¥¼ ì–»ì–´ì˜´ ì˜ˆì‹œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 // Flyweight ì¸í„°í˜ì´ìŠ¤ public interface Flyweight { void operation(); } // ConcreteFlyweight êµ¬í˜„ public class ConcreteFlyweight implements Flyweight { private String sharedState; public ConcreteFlyweight(String sharedState) { this.sharedState = sharedState; } @Override public void operation() { System.out.println(\u0026#34;ConcreteFlyweight: \u0026#34; + sharedState); } } // FlyweightFactory public class FlyweightFactory { private Map\u0026lt;String, Flyweight\u0026gt; flyweights = new HashMap\u0026lt;\u0026gt;(); public Flyweight getFlyweight(String key) { if (!flyweights.containsKey(key)) { flyweights.put(key, new ConcreteFlyweight(key)); } return flyweights.get(key); } } // Client public class Client { public static void main(String[] args) { FlyweightFactory factory = new FlyweightFactory(); Flyweight flyweight1 = factory.getFlyweight(\u0026#34;A\u0026#34;); Flyweight flyweight2 = factory.getFlyweight(\u0026#34;B\u0026#34;); Flyweight flyweight3 = factory.getFlyweight(\u0026#34;A\u0026#34;); flyweight1.operation(); // ConcreteFlyweight: A flyweight2.operation(); // ConcreteFlyweight: B flyweight3.operation(); // ConcreteFlyweight: A (ì´ë¯¸ ìƒì„±ëœ ê°ì²´ ê³µìœ ) } } íŠ¹ì§• ì¥ì \nì‹¤í–‰ ì‹œì— ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ê°œìˆ˜ë¥¼ ì¤„ì—¬ì„œ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•  ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ ê°€ìƒ ê°ì²´ì˜ ìƒíƒœë¥¼ í•œê³³ì— ëª¨ì•„ ë‘˜ ìˆ˜ ìˆë‹¤. ë‹¨ì \níŠ¹ì • ì¸ìŠ¤í„´ìŠ¤ë§Œ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì™€ ë‹¤ë¥´ê²Œ í–‰ë™í•˜ê²Œ í•  ìˆ˜ ì—†ë‹¤. í”Œë¼ì´ ì›¨ì´íŠ¸ ê°ì²´ê°€ ê³µìœ ë˜ë¯€ë¡œ, í•œ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ë©´ ë‹¤ë¥¸ ê°ì²´ì—ë„ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤. ","date":"2024-01-25T19:39:08+09:00","image":"https://codemario318.github.io/post/gof/15/flyweight/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/15/flyweight/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - í”Œë¼ì´ì›¨ì´íŠ¸ íŒ¨í„´"},{"content":"ì±…ì„ ì—°ì‡„(Chain of Responsibility) íŒ¨í„´ 1ê°œ ìš”ì²­ì„ 2ê°œ ì´ìƒì˜ ê°ì²´ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ë©´ ì±…ì„ ì—°ì‡„ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.\nì±…ì„ ì—°ì‡„ íŒ¨í„´ì€ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê°ì²´ì™€ ê·¸ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê°ì²´ ê°„ì˜ ê²°í•©ì„ ëŠìŠ¨í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•œ íŒ¨í„´ì´ë‹¤.\nìš”ì²­ì´ ì—¬ëŸ¬ ê°ì²´ ì‚¬ì´ì—ì„œ ì „ë‹¬ë˜ëŠ” ê³¼ì •ì—ì„œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê°ì²´ë¥¼ ë™ì ìœ¼ë¡œ ê²°ì •í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” íŒ¨í„´ì´ë‹¤.\nê°ì²´ë“¤ì˜ ì—°ê²°ëœ ì²´ì¸ì„ í†µí•´ ìš”ì²­ì´ ì „ë‹¬ë˜ê³ , ê° ê°ì²´ëŠ” ìì‹ ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ì—¬ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê±°ë‚˜ ë‹¤ìŒ ê°ì²´ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.\nì´ë¥¼ í†µí•´ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê°ì²´ëŠ” ì–´ë–¤ ê°ì²´ê°€ ì‹¤ì œë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì§€ ì•Œ í•„ìš”ê°€ ì—†ê²Œ ë˜ë©°, ì²˜ë¦¬í•  ê°ì²´ë“¤ì€ ìœ ì—°í•˜ê²Œ ì¶”ê°€ë˜ê±°ë‚˜ ì œê±°ë  ìˆ˜ ìˆë‹¤.\nì±…ì„ ì—°ì‡„ íŒ¨í„´ì€ ìš”ì²­ì´ ì²˜ë¦¬ë  ìˆ˜ ìˆëŠ” ì ì ˆí•œ ì²˜ë¦¬ìë¥¼ ì°¾ì„ ë•Œê¹Œì§€ ê° ì²˜ë¦¬ìì—ê²Œ ìˆœì°¨ì ìœ¼ë¡œ ìš”ì²­ì„ ì „ë‹¬í•œë‹¤. ê° ì²˜ë¦¬ìëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ê±°ë‚˜, ì²˜ë¦¬í•  ìˆ˜ ì—†ìœ¼ë©´ ë‹¤ìŒ ì²˜ë¦¬ìì—ê²Œ ì „ë‹¬í•˜ê³ , ì´ëŸ° ì‹ìœ¼ë¡œ ì²˜ì¸ ìƒì˜ ë‹¤ì–‘í•œ ì²˜ë¦¬ìê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±ëœë‹¤.\nêµ¬ì„± ìš”ì†Œ Handler(ì²˜ë¦¬ì) ì¸í„°í˜ì´ìŠ¤ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ í´ë˜ìŠ¤ ConcreteHandler ì‹¤ì œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ë¡œ Handler ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤. ìì‹ ì´ ì²˜ë¦¬í•  ìˆ˜ ì—†ëŠ” ìš”ì²­ì— ëŒ€í•´ì„œëŠ” ë‹¤ìŒ ì²˜ë¦¬ìë¡œ ìš”ì²­ì„ ì „ë‹¬í•˜ëŠ” ë§í¬(ì²´ì¸)ì„ ìœ ì§€í•œë‹¤. Client(í´ë¼ì´ì–¸íŠ¸) ìš”ì²­ì„ ì‹œì‘í•˜ëŠ” ê°ì²´ë¡œ, ì²« ë²ˆì§¸ ì²˜ë¦¬ìì—ê²Œ ìš”ì²­ì„ ë³´ë‚¸ë‹¤. ì˜ˆì‹œ: ìƒí’ˆ í• ì¸ DiscountHandler ì¸í„°í˜ì´ìŠ¤ëŠ” í• ì¸ì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ê³ , TenPercentDiscountHandler ë° TwentyPercentDiscountHandlerëŠ” ì‹¤ì œë¡œ í• ì¸ì„ ì²˜ë¦¬í•˜ëŠ” êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ë¨¼ì € TenPercentDiscountHandlerì—ê²Œ í• ì¸ì„ ì ìš©í•˜ê³ , TwentyPercentDiscountHandlerë¡œ ì „ë‹¬ë˜ì–´ ì²´ì¸ì„ í†µí•´ ì ì ˆí•œ í• ì¸ì´ ì ìš©ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 // Handler ì¸í„°í˜ì´ìŠ¤ public interface DiscountHandler { void applyDiscount(double amount); void setNextHandler(DiscountHandler nextHandler); } // ConcreteHandler í´ë˜ìŠ¤ public class TenPercentDiscountHandler implements DiscountHandler { private DiscountHandler nextHandler; @Override public void applyDiscount(double amount) { if (amount \u0026gt; 100) { System.out.println(\u0026#34;Applying 10% discount.\u0026#34;); amount *= 0.9; System.out.println(\u0026#34;Discounted amount: \u0026#34; + amount); } else if (nextHandler != null) { nextHandler.applyDiscount(amount); } } @Override public void setNextHandler(DiscountHandler nextHandler) { this.nextHandler = nextHandler; } } public class TwentyPercentDiscountHandler implements DiscountHandler { private DiscountHandler nextHandler; @Override public void applyDiscount(double amount) { if (amount \u0026gt; 200) { System.out.println(\u0026#34;Applying 20% discount.\u0026#34;); amount *= 0.8; System.out.println(\u0026#34;Discounted amount: \u0026#34; + amount); } else if (nextHandler != null) { nextHandler.applyDiscount(amount); } } @Override public void setNextHandler(DiscountHandler nextHandler) { this.nextHandler = nextHandler; } } // Client í´ë˜ìŠ¤ public class Client { public static void main(String[] args) { // ì²˜ë¦¬ì ìƒì„± DiscountHandler handler1 = new TenPercentDiscountHandler(); DiscountHandler handler2 = new TwentyPercentDiscountHandler(); // ì²˜ë¦¬ì ì²´ì¸ êµ¬ì„± handler1.setNextHandler(handler2); // í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ handler1.applyDiscount(150); // ì˜ˆì œì—ì„œëŠ” 20% í• ì¸ì´ ì ìš©ë¨ } } íŠ¹ì§• ì¥ì \nìš”ì²­ì„ ë³´ë‚¸ ìª½ê³¼ ë°›ëŠ” ìª½ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤. ê°ì²´ëŠ” ì²´ì¸ì˜ êµ¬ì¡°ë¥¼ ëª°ë¼ë„ ë˜ê³ , ê·¸ ì²´ì¸ì— ë“¤ì–´ìˆëŠ” ë‹¤ë¥¸ ê°ì²´ë“¤ì˜ ì§ì ‘ì ì¸ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê°€ì§ˆ í•„ìš”ë„ ì—†ìœ¼ë¯€ë¡œ ê°ì²´ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì‚¬ìŠ¬ì— ë“¤ì–´ê°€ëŠ” ê°ì²´ë¥¼ ë°”ê¾¸ê±°ë‚˜ ìˆœì„œë¥¼ ë°”ê¿ˆìœ¼ë¡œì¨ ì—­í• ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ìˆë‹¤. ë‹¨ì \nìš”ì²­ì´ ë°˜ë“œì‹œ ìˆ˜í–‰ëœë‹¤ëŠ” ë³´ì¥ì´ ì—†ë‹¤. ì²´ì¸ ëì—ì„œë„ ì²˜ë¦¬ë˜ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ, ìƒí™©ì— ë”°ë¼ ì¥ì ì´ ë  ìˆ˜ ìˆë‹¤. ì‹¤í–‰ ì‹œì— ê³¼ì •ì„ ì‚´í´ë³´ê±°ë‚˜ ë””ë²„ê¹…í•˜ê¸° í˜ë“¤ë‹¤. ","date":"2024-01-25T19:20:08+09:00","image":"https://codemario318.github.io/post/gof/15/chain-of-responsibility/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/15/chain-of-responsibility/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - ì±…ì„ ì—°ì‡„ íŒ¨í„´"},{"content":"ë¹Œë”(Builder) íŒ¨í„´ ì œí’ˆì„ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ë‚˜ëˆ ì„œ ë§Œë“¤ë„ë¡ ì œí’ˆ ìƒìƒ ë‹¨ê³„ë¥¼ ìº¡ìŠí™”í•˜ê³  ì‹¶ë‹¤ë©´ ë¹Œë” íŒ¨í„´ì´ ì í•©í•˜ë‹¤.\në¹Œë” íŒ¨í„´ì€ ê°ì²´ ìƒì„±ì„ ë”ìš± ìœ ì—°í•˜ê²Œ, ê°€ë…ì„±ìˆê³ , ê·¸ë¦¬ê³  ë³µì¡ì„±ì„ ë‚®ì¶”ê¸° ìœ„í•œ ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì´ë‹¤.\nì´ íŒ¨í„´ì€ ë³µì¡í•œ ê°ì²´ì˜ ìƒì„± ê³¼ì •ì„ ì¶”ìƒí™”í•˜ê³ , ê°ì²´ì˜ í‘œí˜„ê³¼ ìƒì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë¡œ ë‹¤ë¥¸ í‘œí˜„ ê²°ê³¼ë¬¼ì„ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\në³µì¡í•œ ê°ì²´ ìƒì„± ê°ì²´ê°€ ë³µì¡í•˜ê³  ì—¬ëŸ¬ ë‹¨ê³„ì— ê±¸ì³ ìƒì„±ë˜ì–´ì•¼ í•  ë•Œ ë¹Œë” íŒ¨í„´ì´ ìœ ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¤ì–‘í•œ í‘œí˜„ ê²°ê³¼ë¬¼ ìƒì„± ë™ì¼í•œ ìƒì„± í”„ë¡œì„¸ìŠ¤ì—ì„œ ì—¬ëŸ¬ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ ì í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ê°€ ë§ê³  ë³µì¡í•œ ê²½ìš°, ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ê°€ë…ì„±ì„ í–¥ìƒì‹œí‚¤ë„ ì½”ë“œë¥¼ ë”ìš± ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰½ê²Œ ë§Œë“ ë‹¤. êµ¬ì„± ìš”ì†Œ Product: ìƒì„±ë  ê°ì²´ ë¹Œë” íŒ¨í„´ì„ í†µí•´ ì„±ì„±ë  ìµœì¢… ê°ì²´ Builder: ë¹Œë” ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ ê°ì²´ì˜ ê° ë¶€ë¶„ì„ ìƒì„±í•˜ê¸° ìœ„í•œ ë©”ì„œë“œë“¤ì„ ì„ ì–¸ ConcreteBuilder Builder ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ê°ì²´ì˜ ê° ë¶€ë¶„ì„ ì‹¤ì œë¡œ ìƒì„±í•˜ëŠ” í´ë˜ìŠ¤ Director: ì§€ì‹œì í´ë¼ì´ì–¸íŠ¸ì™€ í•¨ê»˜ ì‘ë™í•˜ì—¬ ì‹¤ì œë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” í´ë˜ìŠ¤ Builderë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ì˜ ìƒì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ì¡°ì ˆí•œë‹¤. Client ê°ì²´ë¥¼ ìƒì„±í•˜ê³ ì í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ì¼ë°˜ì ìœ¼ë¡œ Directorë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ ìƒì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•œë‹¤. ì˜ˆì‹œ: HTML ë¬¸ì„œ ìƒì„± HTMLDocumentê°€ ìƒì„±ë  ìµœì¢… ê°ì²´ë¥¼ ë‚˜íƒ€ë‚´ê³ , HTMLBuilderëŠ” ê°ì²´ ìƒì„±ì„ ìœ„í•œ ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤.\nSimpleHTMLBuilderëŠ” HTMLBuilder ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ê°ì²´ì˜ ê° ë¶€ë¶„ì„ ìƒì„±í•˜ê³ , HTMLDirectorëŠ” ì‹¤ì œë¡œ ê°ì²´ì˜ ìƒì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ì¡°ì ˆí•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 // Product: ìƒì„±ë  HTML ë¬¸ì„œ public class HTMLDocument { private String content; public void setContent(String content) { this.content = content; } public void display() { System.out.println(content); } } // Builder: HTML ë¬¸ì„œ ìƒì„±ì„ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ public interface HTMLBuilder { void buildHeader(); void buildBody(); void buildFooter(); HTMLDocument getResult(); } // ConcreteBuilder: HTML ë¬¸ì„œë¥¼ ì‹¤ì œë¡œ ìƒì„±í•˜ëŠ” í´ë˜ìŠ¤ public class SimpleHTMLBuilder implements HTMLBuilder { private HTMLDocument document; public SimpleHTMLBuilder() { this.document = new HTMLDocument(); } @Override public void buildHeader() { document.setContent(\u0026#34;\u0026lt;header\u0026gt;Simple HTML Header\u0026lt;/header\u0026gt;\u0026#34;); } @Override public void buildBody() { document.setContent(document.content + \u0026#34;\u0026lt;body\u0026gt;Simple HTML Body\u0026lt;/body\u0026gt;\u0026#34;); } @Override public void buildFooter() { document.setContent(document.content + \u0026#34;\u0026lt;footer\u0026gt;Simple HTML Footer\u0026lt;/footer\u0026gt;\u0026#34;); } @Override public HTMLDocument getResult() { return document; } } // Director: HTML ë¬¸ì„œ ìƒì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ì¡°ì ˆí•˜ëŠ” í´ë˜ìŠ¤ public class HTMLDirector { private HTMLBuilder builder; public HTMLDirector(HTMLBuilder builder) { this.builder = builder; } public void construct() { builder.buildHeader(); builder.buildBody(); builder.buildFooter(); } } // Client: ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ public class Client { public static void main(String[] args) { HTMLBuilder builder = new SimpleHTMLBuilder(); HTMLDirector director = new HTMLDirector(builder); director.construct(); HTMLDocument document = builder.getResult(); document.display(); } } íŠ¹ì§• ë¹Œë” íŒ¨í„´ì€ ê°ì²´ ìƒì„±ì„ ìœ ì—°í•˜ê²Œ ë‹¤ë£¨ê¸° ìœ„í•œ ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ ì´ë¡œì¸í•œ ì¥ë‹¨ì ì´ ì¡´ì¬í•œë‹¤.\nì¥ì \nìœ ì—°í•œ ê°ì²´ ìƒì„± ê°ì²´ ìƒì„± ê³¼ì •ì„ ì„¸ë¶„í™”í•˜ê³  ê° ë¶€ë¶„ì„ ê°œë³„ì ìœ¼ë¡œ ìƒì„±í•¨ìœ¼ë¡œì¨ ê°ì²´ ìƒì„±ì„ ìœ ì—°í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ë‹¤ì–‘í•œ ì¡°í•©ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ê°€ë…ì„± í–¥ìƒ ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì€ ê²½ìš°, ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ê°€ë…ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤. ë©”ê°œë³€ìˆ˜ì˜ ìˆœì„œë¥¼ ê¸°ì–µí•˜ì§€ ì•Šê³ ë„ ëª…ì‹œì ì¸ ë©”ì„œë“œ í˜¸ì¶œì„ í†µí•´ ê°ì²´ë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤. ê°ì²´ í‘œí˜„ì˜ ë¶„ë¦¬ ê°ì²´ ìƒì„±ê³¼í‘œí˜„ì„ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨, ë™ì¼í•œ ìƒì„± ë¡œì§ì„ ì‚¬ìš©í•˜ë©´ì„œë„ ì—¬ëŸ¬ ë‹¤ë¥¸ í‘œí˜„ì´ ê°€ëŠ¥í•˜ë‹¤. ì¦‰, ë™ì¼í•œ ë¹Œë”ë¡œ ë‹¤ë¥¸ ê²°ê³¼ë¬¼ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. í™•ì¥ ìš©ì´ì„± ìƒˆë¡œìš´ ë¶€ë¶„ ê°ì²´ë‚˜ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ê°ì²´ë¥¼ ì¶”ê°€í•˜ê³ ì í•  ë•Œ, ìƒˆë¡œìš´ ë¹Œë”ë¥¼ êµ¬í˜„í•˜ì—¬ ì‰½ê²Œ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ë‹¨ì \nì½”ë“œ ë³µì¡ì„± ë¹Œë” íŒ¨í„´ì„ ë„ì…í•˜ë©´ í´ë˜ìŠ¤ì˜ ìˆ˜ê°€ ì¦ê°€í•˜ê³ , ë¹Œë” í´ë˜ìŠ¤ì™€ ë””ë ‰í„° í´ë˜ìŠ¤ê°€ ì¶”ê°€ë¡œ í•„ìš”í•˜ë¯€ë¡œ ì½”ë“œì˜ ë³µì¡ì„±ì´ ì¦ê°€í•  ìˆ˜ ìˆë‹¤. ì„±ëŠ¥ ì†ì‹¤ ê°ì²´ ìƒì„± ì‹œ ë§¤ë²ˆ ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ì— ì†ì‹¤ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë¶ˆí•„ìš”í•œ ë¹Œë” í´ë˜ìŠ¤ ìƒì„± ê°„ë‹¨í•œ ê°ì²´ì˜ ê²½ìš° ë¹Œë” íŒ¨í„´ì„ ë„ì…í•˜ë©´ ì˜¤íˆë ¤ ë¶ˆí•„ìš”í•œ í´ë˜ìŠ¤ë“¤ì´ ìƒì„±ë  ìˆ˜ ìˆë‹¤. ë¹Œë” íŒ¨í„´ì€ ê°ì²´ ìƒì„±ì˜ ë³µì¡ì„±ê³¼ ìœ ì—°ì„±ì„ ê³ ë ¤í•  ë•Œ ì„ íƒí•´ì•¼ í•˜ëŠ” íŒ¨í„´ì´ë‹¤.\nì‘ì€ ê·œëª¨ì˜ ê°ì²´ë‚˜ ë‹¨ìˆœí•œ ê°ì²´ ìƒì„±ì—ëŠ” ë¶ˆí•„ìš”í•œ ë³µì¡ì„±ì„ ì´ˆë˜í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìƒí™©ì— ë§ê²Œ ì ì ˆíˆ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\n","date":"2024-01-24T16:22:08+09:00","image":"https://codemario318.github.io/post/gof/14/builder/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/14/builder/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - ë¹Œë” íŒ¨í„´"},{"content":"ë¸Œë¦¬ì§€(Bridge) íŒ¨í„´ êµ¬í˜„ê³¼ ë”ë¶ˆì–´ ì¶”ìƒí™” ë¶€ë¶„ê¹Œì§€ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´ ë¸Œë¦¬ì§€ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.\në¸Œë¦¬ì§€ íŒ¨í„´ì€ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ë¡œ, ì¶”ìƒí™”ì™€ êµ¬í˜„ì„ ë¶„ë¦¬í•˜ì—¬ ë‘ ë¶€ë¶„ì´ ë…ë¦½ì ìœ¼ë¡œ ë³€í™”í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” êµ¬ì¡°ë¥¼ ì œê³µí•œë‹¤.\nì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œì˜ í™•ì •ì„±ì„ ë†’ì´ê³ , ì¶”ìƒí™”ì™€ êµ¬í˜„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶˜ë‹¤.\nêµ¬ì„± ìš”ì†Œ ì¶”ìƒí™”(Abstraction) í´ë¼ì´ì–¸íŠ¸ê°€ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. ì¶”ìƒí™”ëŠ” êµ¬í˜„ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ê°€ì§€ë©°, í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì¶”ìƒí™”ë¥¼ í†µí•´ êµ¬í˜„ì— ì ‘ê·¼í•œë‹¤. êµ¬í˜„ì(Implementor) ì¶”ìƒí™”ì˜ êµ¬í˜„ì„ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. êµ¬í˜„ì„ ìœ„í•œ ë©”ì†Œë“œë“¤ì„ ì„ ì–¸í•˜ëŠ”ë°, ì´ë“¤ ë©”ì†Œë“œëŠ” êµ¬ì²´ì ì¸ êµ¬í˜„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ëœë‹¤. ì •ì œëœ ì¶”ìƒí™”(Refined Abstraction) ì¶”ìƒí™”ì˜ í•˜ìœ„ í´ë˜ìŠ¤ë¡œ, ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ìˆë‹¤. êµ¬í˜„ì êµ¬í˜„(Concrete Implementor) Implementorì˜ êµ¬í˜„ í´ë˜ìŠ¤ë¡œ, ì‹¤ì œë¡œ êµ¬í˜„ì´ ì´ë£¨ì–´ì§„ë‹¤. ì˜ˆì‹œ: ê°„ë‹¨í•œ ë„í˜• ê·¸ë¦¬ê¸° ì´ êµ¬í˜„ì—ì„œëŠ” ë„í˜•ê³¼ ê·¸ë¦¬ê¸° ë„êµ¬ê°€ ê°ê° ì¶”ìƒí™”ì™€ êµ¬í˜„ì„ ë‚˜íƒ€ë‚´ë©°, ë¸Œë¦¬ì§€ íŒ¨í„´ì„ í†µí•´ ë‘ ë¶€ë¶„ì„ ë¶„ë¦¬í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ë„í˜•ì„ ìƒì„±í•˜ê³  ì›í•˜ëŠ” ê·¸ë¦¬ê¸° ë„êµ¬ë¥¼ ì§€ì •í•  ìˆ˜ ìˆì–´, ìƒˆë¡œìš´ ë„í˜•ì´ë‚˜ ê·¸ë¦¬ê¸° ë„êµ¬ë¥¼ ì¶”ê°€í•˜ë”ë¼ë„ ê¸°ì¡´ ì½”ë“œì— ì˜í–¥ì„ ëœ ì£¼ê³  ì‹œìŠ¤í…œì„ í™•ì¥í•  ìˆ˜ ìˆë‹¤.\nAbstraction: ë„í˜•\në„í˜•ì„ ë‚˜íƒ€ë‚´ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë¡œì„œ, ê·¸ë¦¬ê¸° ë„êµ¬ì™€ ì—°ê²°ë¨\n1 2 3 4 5 6 7 8 9 public abstract class Shape { protected DrawingAPI drawingAPI; protected Shape(DrawingAPI drawingAPI) { this.drawingAPI = drawingAPI; } public abstract void draw(); } Refined Abstraction: Circle ë° Square\në„í˜•ì˜ êµ¬ì²´ì ì¸ í˜•íƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í´ë˜ìŠ¤ë¡œì„œ, ì¶”ìƒí™”ëœ ë„í˜•ì„ í™•ì¥í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 public class Circle extends Shape { private int x, y, radius; public Circle(int x, int y, int radius, DrawingAPI drawingAPI) { super(drawingAPI); this.x = x; this.y = y; this.radius = radius; } @Override public void draw() { drawingAPI.drawCircle(x, y, radius); } } public class Square extends Shape { private int x, y, side; public Square(int x, int y, int side, DrawingAPI drawingAPI) { super(drawingAPI); this.x = x; this.y = y; this.side = side; } @Override public void draw() { drawingAPI.drawSquare(x, y, side); } } Implementor: DrawingAPI\nê·¸ë¦¬ê¸° ë„êµ¬ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸í„°í˜ì´ìŠ¤ë¡œì„œ, ì‹¤ì œ êµ¬í˜„ì€ êµ¬ì²´ì ì¸ êµ¬í˜„ í´ë˜ìŠ¤ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.\n1 2 3 4 public interface DrawingAPI { void drawCircle(int x, int y, int radius); void drawSquare(int x, int y, int side); } Concrete Implementor: DrawingAPI1 ë° DrawingAPI2\nDrawingAPIë¥¼ êµ¬í˜„í•œ êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ë¡œì„œ, ì‹¤ì œë¡œ ê·¸ë¦¬ê¸° ë™ì‘ì„ ìˆ˜í–‰\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class DrawingAPI1 implements DrawingAPI { @Override public void drawCircle(int x, int y, int radius) { System.out.println(\u0026#34;API1 - Drawing Circle at (\u0026#34; + x + \u0026#34;, \u0026#34; + y + \u0026#34;) with radius \u0026#34; + radius); } @Override public void drawSquare(int x, int y, int side) { System.out.println(\u0026#34;API1 - Drawing Square at (\u0026#34; + x + \u0026#34;, \u0026#34; + y + \u0026#34;) with side \u0026#34; + side); } } public class DrawingAPI2 implements DrawingAPI { @Override public void drawCircle(int x, int y, int radius) { System.out.println(\u0026#34;API2 - Drawing Circle at (\u0026#34; + x + \u0026#34;, \u0026#34; + y + \u0026#34;) with radius \u0026#34; + radius); } @Override public void drawSquare(int x, int y, int side) { System.out.println(\u0026#34;API2 - Drawing Square at (\u0026#34; + x + \u0026#34;, \u0026#34; + y + \u0026#34;) with side \u0026#34; + side); } } íŠ¹ì§• ì¥ì \në¶„ë¦¬ëœ ì¶”ìƒí™”ì™€ êµ¬í˜„ ì¶”ìƒí™”ì™€ êµ¬í˜„ì„ ë¶„ë¦¬í•˜ì—¬ ë‘ ë¶€ë¶„ì´ ë…ë¦½ì ìœ¼ë¡œ ë³€í™”í•  ìˆ˜ ìˆë‹¤ë¡ í•œë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œì˜ í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤. ìœ ì—°í•œ í™•ì¥ ìƒˆë¡œìš´ ì¶”ìƒí™”ë‚˜ êµ¬í˜„ì„ ì¶”ê°€í•˜ëŠ” ë° ìˆì–´ ê¸°ì¡´ ì½”ë“œì— ì˜í–¥ì„ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤. ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ë‚˜ í´ë˜ìŠ¤ë¥¼ ë„ì…í•  ë•Œ ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤. ë³µì¡ì„± ê°ì†Œ ê°ê°ì˜ ë³€ê²½ì´ ë‹¤ë¥¸ ë¶€ë¶„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ìµœì†Œí™”í•˜ë¯€ë¡œ ì½”ë“œë¥¼ ì´í•´í•˜ê³  ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤. ë‹¤í˜•ì„± ê°•í™” ì¶”ìƒí™”ì™€ êµ¬í˜„ ì‚¬ì´ì˜ ëŠìŠ¨í•œ ê²°í•©ì„ ì œê³µí•˜ë¯€ë¡œ, ë‹¤ì–‘í•œ í˜•íƒœì˜ ì¶”ìƒí™”ì™€ êµ¬í˜„ì„ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¨ì \në³µì¡ì„± ì¦ê°€ ì¶”ê°€ì ì¸ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë„ì…í•˜ì—¬ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ë¯€ë¡œ, ê°„ë‹¨í•œ ì‹œìŠ¤í…œì—ì„œëŠ” ê³¼ë„í•œ ë³µì¡ì„±ì„ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤. ì„¤ê³„ ê³¼ì •ì—ì„œ ì¶”ê°€ ë¹„ìš© ì´ˆê¸° ì„¤ê³„ ë‹¨ê³„ì—ì„œ ë¸Œë¦¬ì§€ íŒ¨í„´ì„ ë„ì…í•˜ëŠ” ë° ì¶”ê°€ì ì¸ ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. íŠ¹íˆ ê°„ë‹¨í•œ ì‹œìŠ¤í…œì—ì„œëŠ” ì´ë¥¼ ë„ì…í•˜ëŠ” ê²ƒì´ ê³¼ë„í•  ìˆ˜ ìˆë‹¤. ì¸í„°í˜ì´ìŠ¤ ìˆ˜ ì¦ê°€ êµ¬í˜„ìì™€ ì¶”ìƒí™”ì— ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ê°€ ê°ê° ì¡´ì¬í•˜ë¯€ë¡œ, í´ë˜ìŠ¤ ìˆ˜ê°€ ì¦ê°€í•  ìˆ˜ ìˆë‹¤. ì´ë¡œ ì¸í•´ ì½”ë“œ ë² ì´ìŠ¤ì˜ ê´€ë¦¬ë¥¼ ì–´ë µê²Œ í•  ìˆ˜ ìˆë‹¤. ì •ë¦¬ ë¸Œë¦¬ì§€ íŒ¨í„´ì€ ì‹œìŠ¤í…œì´ í™•ì¥ì´ë‚˜ ë³€ê²½ì´ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ëŠ” ê²½ìš°ì— ìœ ìš©í•˜ì§€ë§Œ ê°„ë‹¨í•œ ì‹œìŠ¤í…œì—ì„œëŠ” ì¶”ê°€ì ì¸ ë³µì¡ì„±ì´ë‚˜ ë¹„ìš©ì´ í•„ìš”í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìƒí™©ì— ë§ê²Œ ì ìš©í•´ì•¼í•œë‹¤.\n","date":"2024-01-24T15:48:08+09:00","image":"https://codemario318.github.io/post/gof/14/bridge/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/14/bridge/","title":"14. ë‹¤ì–‘í•œ íŒ¨í„´ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ê¸° - ë¸Œë¦¬ì§€ íŒ¨í„´"},{"content":"ë””ìì¸ íŒ¨í„´ì˜ ì •ì˜ íŒ¨í„´(Pattern)ì´ë€?\níŠ¹ì • ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì£¼ì–´ì§„ ë¬¸ì œì˜ í•´ê²°ì±…ì´ë‹¤.\nì»¨í…ìŠ¤íŠ¸(Context) íŒ¨í„´ì´ ì ìš©ë˜ëŠ” ìƒí™©ì„ ì˜ë¯¸ ë°˜ë³µì ìœ¼ë¡œ ì¼ì–´ë‚  ìˆ˜ ìˆëŠ” ìƒí™© ë¬¸ì œ(Problem) ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì´ë¤„ì•¼ í•˜ëŠ” ëª©í‘œ ì»¨í…ìŠ¤íŠ¸ ë‚´ì˜ ì œì•½ì¡°ê±´ë„ í¬í•¨ í•´ê²°ì±…(Solution) ì°¾ì•„ë‚´ì•¼ í•˜ëŠ” ê²ƒ ì œì•½ì¡°ê±´ ì†ì—ì„œ ëˆ„ê°€ ì ìš©í•´ë„ ëª©í‘œë¥¼ ì´ë£° ìˆ˜ ìˆëŠ” ì¼ë°˜ì ì¸ ë””ìì¸ì„ ëœ»í•¨ ì–´ë–¤ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì¼ë ¨ì˜ ì œì•½ì¡°ê±´ì— ì˜í•´ ì˜í–¥ì„ ë°›ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤ë©´, ê·¸ ì œì•½ì¡°ê±´ ë‚´ì—ì„œ ëª©ì  ë‹¬ì„±ì„ ìœ„í•œ í•´ê²°ì±…ì´ ë˜ëŠ” ë””ìì¸ì„ ì ìš©í•œë‹¤.\níŒ¨í„´ì€ ë°˜ë³µì ìœ¼ë¡œ ë“±ì¥í•˜ëŠ” ë¬¸ì œì— ì ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ë°˜ë³µì ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” í•´ê²°ì±…ì´ ì•„ë‹ˆë¼ë©´ íŒ¨í„´ì´ë¼ê³  í•  ìˆ˜ ì—†ë‹¤. í•´ê²°ì±…ì„ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ì•Œë ¤ì¤˜ì„œ ê·¸ ì‚¬ëŒì´ ì²˜í•¨ ë¬¸ì œì˜ í•´ê²°ì±…ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ë””ìì¸ íŒ¨í„´ì€ ì¼ìƒì ì´ê³  ë°˜ë³µì ìœ¼ë¡œ ë“±ì¥í•˜ëŠ” ë””ìì¸ ë¬¸ì œì˜ í•´ê²°ì±…ì´ë‹¤. íŒ¨í„´ì„ ì •ì˜í•  ìˆ˜ ìˆì–´ì•¼ ë‹¤ì–‘í•œ ì¥ì ì„ ì œê³µí•˜ëŠ” íŒ¨í„´ ì¹´íƒˆë¡œê·¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\níŒ¨í„´ ì¹´íƒˆë¡œê·¸ ì†Œí”„íŠ¸ì›¨ì–´ ë””ìì¸ì—ì„œ ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤ì— ëŒ€í•œ í•´ê²°ì±…ì„ ì œì‹œí•˜ëŠ” ì¸ë ¨ì˜ ë””ìì¸ íŒ¨í„´ì„ ëª¨ì•„ë‘” ë¬¸ì„œ ë˜ëŠ” ìë£Œì´ë‹¤.\në””ìì¸ íŒ¨í„´ ì¹´íƒˆë¡œê·¸ëŠ” ë‹¤ì–‘í•œ ë””ìì¸ íŒ¨í„´ì„ ì„¤ëª…í•˜ê³  ê° íŒ¨í„´ì˜ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤, êµ¬í˜„ ë°©ë²•, ì´ì  ë“±ì„ ìì„¸íˆ ì„¤ëª…í•˜ì—¬ ê°œë°œìë“¤ì´ í•„ìš”í•  ë•Œ ì°¸ê³ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.\nì´ë¦„ íŒ¨í„´ì—ì„œ ì¤‘ìš”í•œ ìš”ì†Œë¡œ ì œëŒ€ë¡œ ëœ ì´ë¦„ì´ ì—†ë‹¤ë©´ íŒ¨í„´ì˜ ì •ë³´ë¥¼ ë‹¤ë¥¸ ê°œë°œìë“¤ê³¼ ê³µìœ í•˜ê¸° í˜ë“¤ì–´ì§„ë‹¤. íŒ¨í„´ì˜ ì¢…ë¥˜ ë˜ëŠ” ë²”ì£¼ ìš©ë„(Intent) íŒ¨í„´ì˜ ì—­í• ì„ ê°„ë‹¨í•˜ê²Œ ê¸°ìˆ  íŒ¨í„´ì„ ì •ì˜í•  ë•Œ ì»ë˜ ë‚´ìš©ë“¤ì´ ë“¤ì–´ê°€ê²Œë¨ ë™ê¸°(Motivation) ë¬¸ì œë¥¼ ê¸°ìˆ í•˜ê³  ì£¼ì–´ì§„ í•´ê²°ì±…ì´ ì–´ë–¤ ì‹œê¸ë¡œ ê·¸ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ì§€ ë³´ì—¬ì£¼ëŠ” êµ¬ì²´ì ì¸ ì‹œë‚˜ë¦¬ì˜¤ ì ìš© ëŒ€ì„±(Applicability) íŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆëŠ” ìƒí™©ì„ ê¸°ìˆ  êµ¬ì¡°(Structure) íŒ¨í„´ì—ì„œ ì“°ì´ëŠ” í´ë˜ìŠ¤ë“¤ì˜ ê´€ê³„ë¥¼ ë³´ì—¬ì£¼ëŠ” ë‹¤ì´ì–´ê·¸ë¨ ìˆ˜ë¡ êµ¬ì„± ìš”ì†Œ(Participant) í´ë˜ìŠ¤ì™€ ê°ì²´ë“¤ì˜ ì„¤ëª… íŒ¨í„´ ë‚´ì—ì„œ ê° í´ë˜ìŠ¤(ê°ì²´)ê°€ ë§¡ëŠ” ì„ë¬´ì™€ ì—­í• ì„ ì„¤ëª… í˜‘ë™(Collaborations) ê° êµ¬ì„± ìš”ì†Œê°€ íŒ¨í„´ ë‚´ì—ì„œ ì–´ë–¤ ì‹ìœ¼ë¡œ ì„œë¡œ ë„ì›€ì„ ì£¼ëŠ”ì§€ ì„¤ëª… ê²°ê³¼(Consequences) ì´ íŒ¨í„´ì„ ì‚¬ìš©í–ˆì„ ë•Œì˜ íš¨ê³¼(ì¥ì  ë° ë‹¨ì ) ìˆ˜ë¡ êµ¬í˜„(Implementation) íŒ¨í„´ì„ êµ¬í˜„í•  ë•Œ í•„ìš”í•œ ê¸°ìˆ ê³¼ ì£¼ì˜ì‚¬í•­ ìƒ˜í”Œ ì½”ë“œ(Sample Code) êµ¬í˜„í•˜ëŠ” ë° ë„ì›€ì´ ë ë§Œí•œ ì½”ë“œ ì‚¬ìš© ì˜ˆ(Known uses) ì‹¤ì œ ì‹œìŠ¤í…œì—ì„œ ì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œ ì„¤ëª… ì—°ê´€ íŒ¨í„´(Related Patterns) í•´ë‹¹ íŒ¨í„´ê³¼ ë‹¤ë¥¸ íŒ¨í„´ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì„¤ëª…í•˜ëŠ” ë‚´ìš© ìƒˆë¡œìš´ ë””ìì¸ íŒ¨í„´ ë°œê²¬í•˜ê¸° íŒ¨í„´ì€ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°œê²¬ë˜ëŠ” ê²ƒì´ë‹¤.\níŠ¹í™”ëœ ë¶„ì•¼ì—ì„œ ì¼ì„ í•˜ë‹¤ ë³´ë©´ ìœ ìš©í•œ íŒ¨í„´ì„ ìƒˆë¡œ ë°œê²¬í•˜ëŠ” ê²½ìš°ë„ ìˆê³ , ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œì˜ ì¼ë°˜ì ì¸ í•´ê²°ì±…ì„ ì°¾ì•„ë‚´ëŠ” ê²½ìš°ë„ ìˆë‹¤.\nê¸°ì¡´ íŒ¨í„´ì„ í™•ì‹¤í•˜ê²Œ íŒŒì•…í•œë‹¤. ìƒˆë¡œì›Œ ë³´ì´ëŠ” íŒ¨í„´ë„ ê¸°ì¡´ íŒ¨í„´ì„ ë³€í˜•í•œ ê²½ìš°ê°€ ë§ë‹¤. íŒ¨í„´ì„ ì•Œì•„ë³´ëŠ” ëˆˆì´ ê¸¸ëŸ¬ì§€ê³  ë‹¤ë¥¸ íŒ¨í„´ê³¼ ì—°ê´€ ì§“ëŠ” ëŠ¥ë ¥ë„ ë°œë‹¬í•œë‹¤. íŒ¨í„´ì— ê´€í•œ ì•„ì´ë””ì–´ëŠ” ê²½í—˜(ë¬¸ì œì™€ ì‚¬ìš©í–ˆë˜ í•´ê²°ì±…)ì—ì„œ ë‚˜ì˜¨ë‹¤. ì§€ê¸ˆê¹Œì§€ì˜ ê²½í—˜ì„ í† ëŒ€ë¡œ ê³°ê³°íˆ ìƒê°í•´ ë³´ê³ , ë°˜ë³µì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ë””ìì¸ì´ ë˜ë„ë¡ ë‹¤ë“¬ëŠ”ë‹¤. ë¬¸ì„œí™” í•´ë³¸ë‹¤. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì§ì ‘ ì ìš©í•´ ë³´ê³  í”¼ë“œë°±ì„ ì œê³µí•  ìˆ˜ ìˆë„ë¡ ë¬¸ì„œë¡œ ë§Œë“ ë‹¤. ìƒˆë¡œìš´ íŒ¨í„´ì„ ì‚¬ëŒë“¤ì´ ì‚¬ìš©í•˜ê²Œ í•´ì„œ ê³„ì† ë‹¤ë“¬ëŠ”ë‹¤. íŒ¨í„´ì„ í•œ ë²ˆì— ì™„ì„±í•˜ê¸´ ì–´ë ¤ìš°ë¯€ë¡œ, íŒ¨í„´ì„ ì‹œí—˜í•´ ë³¼ ê¸°íšŒë¥¼ ì œê³µí•˜ê³  í”¼ë“œë°±ì„ ì–»ëŠ”ë‹¤. 3ì˜ ê·œì¹™ íŒ¨í„´ì´ ì‹¤ì „ ë¬¸ì œ í•´ê²°ì— 3ë²ˆ ì´ìƒ ì ìš©ë˜ì–´ì•¼ íŒ¨í„´ ìê²©ì„ ì–»ì„ ìˆ˜ ìˆë‹¤. ë””ìì¸ íŒ¨í„´ ë¶„ë¥˜í•˜ê¸° ì ì  ë” ë§ì€ ë””ìì¸ íŒ¨í„´ì´ ë°œê²¬ë¨ì— ë”°ë¼ ë””ìì¸ íŒ¨í„´ì„ ì°¾ê±°ë‚˜ ê°™ì€ ê·¸ë£¹ì— ì†í•˜ëŠ” íŒ¨í„´ë¼ë¦¬ ë¹„êµí•˜ê¸° ì¢‹ê²Œ ë¶„ë¥˜í•  í•„ìš”ì„±ì´ ìƒê²¼ë‹¤.\nëŒ€ë¶€ë¶„ ì¹´íƒˆë¡œê·¸ì—ì„œëŠ” ëª‡ ê°€ì§€ ë²”ì£¼ì— ë§ì¶° ë””ìì¸ íŒ¨í„´ì„ ë¶„ë¥˜í•˜ê³  ìˆìœ¼ë©°, ì œì¼ ìœ ëª…í•œ ë¶„ë¥˜ ë°©ë²•ì€ ìš©ë„ì— ë”°ë¼ ë‚˜ëˆ„ëŠ” ë°©ë²•ì´ë‹¤.\nìƒì„± íŒ¨í„´(Creational Pattern) ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ, í´ë¼ì´ì–¸íŠ¸ì™€ ê·¸ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒì„±í•´ì•¼ í•˜ëŠ” ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ì´ì˜ ì—°ê²°ì„ ëŠì–´ì£¼ëŠ” íŒ¨í„´ í–‰ë™ íŒ¨í„´(Behavioral Pattern) í´ë˜ìŠ¤ì™€ ê°ì²´ë“¤ì´ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì—­í• ì„ ë¶„ë‹´í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¨ëŠ” íŒ¨í„´ êµ¬ì¡° íŒ¨í„´(Structural Pattern) í´ë˜ìŠ¤ì™€ ê°ì²´ë¥¼ ë” í° êµ¬ì¡°ë¡œ ë§Œë“¤ ìˆ˜ ìˆê²Œ êµ¬ì„±ì„ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ ê·¸ ì™¸ì—ë„ í´ë˜ìŠ¤ ë˜ëŠ” ê°ì²´ë¥¼ ë‹¤ë£¨ëŠ” íŒ¨í„´ì´ë¼ë˜ê°€ í•˜ìœ„ ë²”ì£¼ë¥¼ ë‹¤ì‹œ ë‚˜ëˆ„ëŠ” ë“± ì—¬ëŸ¬ ë°©ì‹ìœ¼ë¡œ ë¶„ë¥˜í•˜ê³  ìˆë‹¤.\níŒ¨í„´ìœ¼ë¡œ ìƒê°í•˜ê¸° íŒ¨í„´ìœ¼ë¡œ ìƒê°í•œë‹¤ëŠ” ê²ƒì€ ì–´ë–¤ ë””ìì¸ì„ ë´¤ì„ ë•Œ íŒ¨í„´ ì ìš© ì—¬ë¶€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆëŠ” ì•ˆëª©ì„ ê°€ì§„ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\nìµœëŒ€í•œ ë‹¨ìˆœí•˜ê²Œ\në””ìì¸ì„ í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ì›ì¹™ì€ **ìµœëŒ€í•œ ë‹¨ìˆœí•œ ë°©ë²•(KISS, Keep it Simple)**ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸°ë‹¤.\n\u0026ldquo;ë¬¸ì œì— ì–´ë–¤ íŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆì„ê¹Œ?\u0026rdquo; ë¼ëŠ” ì ‘ê·¼ì´ ì•„ë‹Œ \u0026ldquo;ì–´ë–»ê²Œ í•˜ë©´ ë‹¨ìˆœí•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?\u0026ldquo;ì— ì´ˆì ì„ ë§ì¶˜ë‹¤. íŒ¨í„´ ì—†ì´ë„ ì •ë§ ë‹¨ìˆœí•˜ê³  ì˜ ë§Œë“¤ ìˆ˜ ìˆë‹¤ë©´ ì ìš©í•˜ë©´ ë˜ê³ , ê°€ì¥ ë‹¨ìˆœí•˜ê³  ìœ ì—°í•œ ë””ìì¸ì„ ë§Œë“¤ ë•Œ íŒ¨í„´ì´ í•„ìš”í•˜ë‹¤ë©´ ê·¸ë•Œ ì ìš©í•œë‹¤.\në””ìì¸ íŒ¨í„´ì€ ë§Œë³‘ í†µì¹˜ì•½ì´ ì•„ë‹ˆë‹¤.\níŒ¨í„´ì€ ë°˜ë³µì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œì˜ ì¼ë°˜ì ì¸ í•´ê²°ì±…ì´ë¯€ë¡œ, íŒ¨í„´ì„ ì‚¬ìš©í•  ë•Œ ì„¤ê³„í•œ ë””ìì¸ì— ë¯¸ì¹  ì˜í–¥ê³¼ ê²°ê³¼ë¥¼ ì£¼ì˜ ê¹Šê²Œ ìƒê°í•´ë´ì•¼í•œë‹¤.\níŒ¨í„´ì´ í•„ìš”í•  ë•Œ\ní˜„ì¬ ë””ìì¸ìƒì˜ ë¬¸ì œì— ì í•©ë‹¤ëŠ” í™•ì‹ ì´ ë“œëŠ” ê²½ìš° íŒ¨í„´ì„ ë„ì…í•´ì•¼í•œë‹¤.\në” ê°„ë‹¨í•œ í•´ê²°ì±…ì´ ìˆë‹¤ë©´ íŒ¨í„´ì„ ì ìš©í•˜ê¸° ì „ ê·¸ í•´ê²°ì±… ì‚¬ìš©ì„ ê³ ë ¤í•œë‹¤. ê°„ë‹¨í•œ í•´ê²°ì±…ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•˜ë‹¤ê³  í™•ì‹ ì„ ê°€ì§€ë©´ í•´ê²°í•´ì•¼ í•  ë¬¸ì œì™€ ì œì•½ ì¡°ê±´ì„ ì¢…í•©ì ìœ¼ë¡œ ê³ ë ¤í•˜ì—¬ ì í•©í•œ íŒ¨í„´ì„ ì ìš©í•œë‹¤. ê°„ë‹¨í•œ í•´ê²°ì±…ìœ¼ë¡œ ë¬¸ì œê°€ í•´ê²°ë˜ëŠ” ë°ë„ ì‹œìŠ¤í…œì˜ ì–´ë–¤ ë¶€ë¶„ì´ ë³€ê²½ë  ê²ƒì´ë¼ ì˜ˆì¸¡ë˜ëŠ” ìƒí™©ì—ëŠ” ë””ìì¸ íŒ¨í„´ì„ ì ìš©í•œë‹¤. ë¦¬í™í„°ë§ê³¼ íŒ¨í„´\níŒ¨í„´ì„ í†µí•´ êµ¬ì¡°ê°€ ê°œì„ ë  ìˆ˜ ìˆì„ì§€ ê²€í† í•´ ë³¼ ìˆ˜ ìˆë‹¤.\në””ìì¸ íŒ¨í„´ ì œê±°\níŒ¨í„´ë³´ë‹¤ ê°„ë‹¨í•œ í•´ê²°ì±…ì´ ë” ë‚˜ì„ ê²ƒ ê°™ë‹¤ë©´ íŒ¨í„´ì„ ì œê±°í•œë‹¤.\nì‹œìŠ¤í…œì´ ë³µì¡í•´ì§€ë©° ê¸°ëŒ€í–ˆë˜ ìœ ì—°ì„±ì´ ë°œíœ˜ë˜ì§€ ëª»í•˜ëŠ” ê²½ìš° ë“± ê¼­ í•„ìš”í•˜ì§€ ì•Šì€ íŒ¨í„´ì„ ë¯¸ë¦¬ ì ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\nì§€ê¸ˆ ë‹¹ì¥ ë³€í™”ì— ëŒ€ì²˜í•˜ëŠ” ë””ìì¸ì„ ë§Œê¼­ í•„ìš”í•˜ì§€ ì•ŠëŠ” ë°ë„ íŒ¨í„´ì„ ì¶”ê°€í•˜ë©´ ì‹œìŠ¤í…œë§Œ ë³µì¡í•´ì§€ê³ , ë‚˜ì¤‘ì— ê·¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.\nì•ˆí‹° íŒ¨í„´ ì•ˆí‹° íŒ¨í„´(Anti-Pattern)ì€ ì–´ë–¤ ë¬¸ì œì˜ ë‚˜ìœ í•´ê²°ì±…ì— ì´ë¥´ëŠ” ê¸¸ì„ ì•Œë ¤ì¤€ë‹¤.\në‚˜ìœ í•´ê²°ì±…ì— ìœ í˜¹ë˜ëŠ”ì§€ ì•Œë ¤ì¤€ë‹¤. ë‚˜ìœ í•´ê²°ì±…ì´ ì–´ë–¤ ì‹ìœ¼ë¡œ ì‚¬ëŒë“¤ì„ ê¼¬ì‹œëŠ”ì§€ ì„¤ëª…í•¨ìœ¼ë¡œì¨ ì“°ì§€ ì•Šë„ë¡ ê²½ê³ í•œë‹¤. ì¥ê¸°ì ì¸ ê´€ì ì—ì„œ ë‚˜ìœ ì´ìœ ë¥¼ ì•Œë ¤ì¤€ë‹¤. ì–´ë– í•œ ë¶€ì •ì ì¸ íš¨ê³¼ì™€ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ì§€ ì•Œë¦°ë‹¤. ì¢‹ì€ í•´ê²°ì±…ì„ ë§Œë“¤ ë•Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ íŒ¨í„´ì„ ì œì•ˆí•´ì¤€ë‹¤. êµ¬ì„±\nì´ë¦„ ë¬¸ì œ ì»¨í…ìŠ¤íŠ¸ ì›ì¸ ì˜ëª»ëœ í•´ê²°ì±… ë°”ëŒì§í•œ í•´ê²°ì±… ì˜ˆì‹œ í•µì‹¬ ì •ë¦¬ ë””ìì¸ íŒ¨í„´ì€ ìì—°ìŠ¤ëŸ½ê²Œ ì ìš©í•œë‹¤. ì–µì§€ë¡œ ì ìš©í•˜ë©´ ì•ˆëœë‹¤. ë””ìì¸ íŒ¨í„´ì€ ëŒì— ìƒˆê²¨ì§„ ê¸€ì”¨ê°€ ì•„ë‹ˆë¯€ë¡œ í•„ìš”ì— ë”°ë¼ ì ë‹¹íˆ ë³€í˜•í•œë‹¤. ì£¼ì–´ì§„ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê°€ì” ê°„ë‹¨í•œ í•´ê²°ì±…ì„ ì‚¬ìš©í•œë‹¤. ë””ìì¸ íŒ¨í„´ì„ ë¬´ì¡°ê±´ ì“¸ í•„ìš”ëŠ” ì—†ë‹¤. ë””ìì¸ íŒ¨í„´ ì¹´íƒˆë¡œê·¸ë¥¼ ì½ì–´ ë³´ê³  íŒ¨í„´ì„ ìˆ™ì§€í•œë‹¤. íŒ¨í„´ ì‚¬ì´ì˜ ê´€ê³„ë„ í™•ì‹¤íˆ ì´í•´í•´ì•¼ í•œë‹¤. íŒ¨í„´ì„ ë¶„ë¥˜í•´ì„œ íŒ¨í„´ ê·¸ë£¹ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì´ íŒ¨í„´ ì´í•´ì— ë„ì›€ì´ ëœë‹¤ë©´ ì ê·¹ì ìœ¼ë¡œ ë‚˜ëˆ ë³¸ë‹¤. íŒ¨í„´ ì‘ê°€ê°€ ë˜ë ¤ë©´ ëŒ€ë‹¨í•œ ë…¸ë ¥ì´ í•„ìš”í•˜ë‹¤. ì˜¤ëœ ì‹œê°„ ë™ì•ˆ íŒ¨í„´ì„ ë‹¤ìŒì–´ì•¼ í•œë‹¤. ì´í›„ ì ‘í•  íŒ¨í„´ì€ ëŒ€ë¶€ë¶„ ê¸°ì¡´ íŒ¨í„´ì„ ì‘ìš©í•œ ê²ƒì´ë‹¤. ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ ì „ë¬¸ ìš©ì–´ë¥¼ ê³µìœ í•˜ì. ê³µí†µì˜ ì–¸ì–´ë¡œ ì–˜ê¸°í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ íŒ¨í„´ì˜ ê°€ì¥ í° ì¥ì ì´ë‹¤. ","date":"2024-01-23T16:23:08+09:00","image":"https://codemario318.github.io/post/gof/13/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/13/","title":"13. íŒ¨í„´ê³¼ í–‰ë³µí•˜ê²Œ ì‚´ì•„ê°€ê¸° - ì‹¤ì „ ë””ìì¸ íŒ¨í„´"},{"content":" ë³µí•© íŒ¨í„´ì€ ë‘ ê°œ ì´ìƒì˜ ë””ìì¸ íŒ¨í„´ì´ íŠ¹ì • ìƒí™©ì´ë‚˜ ë¬¸ì œ í•´ê²°ì— í˜‘ë ¥í•˜ì—¬ ì‚¬ìš©ë  ë•Œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì—¬ëŸ¬ ë””ìì¸ íŒ¨í„´ì„ ì¡°í•©í•˜ì—¬ ë” ë³µì¡í•˜ê³  íš¨ê³¼ì ì¸ êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nMVC(Model-View-Controller) íŒ¨í„´ MVC íŒ¨í„´ì€ ë…ë¦½ëœ ëª¨ë¸, ë·°, ì»¨íŠ¸ë¡¤ëŸ¬ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ìƒí˜¸ ì‘ìš©ìœ¼ë¡œ ì˜ì¡´ë„ë¥¼ ì¤„ì´ëŠ” ê²ƒì´ ëª©í‘œì¸ ì•„í‚¤í…ì²˜ì´ë‹¤.\nMVC íŒ¨í„´ì€ ëª¨ë¸-ë·°-ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì„¸ ê°€ì§€ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ êµ¬ì„±í•˜ëŠ” íŒ¨í„´ì´ë‹¤.\nì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì„¤ê³„í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•´ ê³ ì•ˆë˜ì—ˆë‹¤.\nê° ì»´í¬ë„ŒíŠ¸ëŠ” íŠ¹ì •í•œ ì—­í• ì„ ìˆ˜í–‰í•˜ë©°, ì´ë“¤ ê°„ì˜ ì—­í•  ë¶„ë¦¬ë¥¼ í†µí•´ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ í–¥ìƒì‹œí‚¨ë‹¤.\nModel ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°ì´í„°ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‚˜íƒ€ë‚¸ë‹¤. ë°ì´í„°ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê³ , ë°ì´í„°ì— ëŒ€í•œ ì¡°ì‘ ë° ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•œë‹¤. ë·°ë‚˜ ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ì§ì ‘ì ìœ¼ë¡œ ìƒí˜¸ ì‘ìš©í•˜ì§€ ì•Šìœ¼ë©°, ë³€ê²½ì´ ë°œìƒí•˜ë©´ ë“±ë¡ëœ ì˜µì €ë²„ë“¤ì—ê²Œ ìƒíƒœ ë³€ê²½ì„ í†µì§€í•œë‹¤. View ì‚¬ìš©ìì—ê²Œ ì •ë³´ë¥¼ í‘œì‹œí•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ëª¨ë¸ì˜ ë°ì´í„°ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í•˜ë©°, ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ì•„ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì „ë‹¬í•œë‹¤. ëª¨ë¸ê³¼ ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ìœ¼ë©°, ëª¨ë¸ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê°ì§€í•˜ì—¬ ì—…ë°ì´íŠ¸ëœë‹¤. Controller ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ì•„ ëª¨ë¸ì„ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ ë·°ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì‚¬ìš©ìì˜ ì•¡ì…˜ì— ì‘ë‹µí•˜ì—¬ ëª¨ë¸ì˜ ë°ì´í„°ë¥¼ ê°±ì‹ í•˜ê³ , ë³€ê²½ëœ ë°ì´í„°ì— ëŒ€í•œ ë·°ì˜ ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•œë‹¤. ëª¨ë¸ê³¼ ë·° ê°„ì˜ í†µì‹  ë‹¤ë¦¬ ì—­í• ì„ í•˜ë©°, ê°•í•œ ê²°í•©ì„ ë°©ì§€í•˜ì—¬ ìœ ì—°ì„±ì„ ì œê³µí•œë‹¤. MVC íŒ¨í„´ì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” ê° ì»´í¬ë„ŒíŠ¸ê°€ ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.\nì´ë¥¼ í†µí•´ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì´ ì¦ê°€í•˜ê³ , ìœ ì§€ë³´ìˆ˜ ë° í™•ì •ì´ ìš©ì´í•´ì§„ë‹¤. ë˜í•œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì˜ ë³€í™”ê°€ ë‹¤ë¥¸ ë¶€ë¶„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ìµœì†Œí™”í•˜ì—¬ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nMVC íŒ¨í„´ì€ ì£¼ë¡œ GUI í”„ë ˆì„ì›Œí¬ë‚˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ë“± ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°œë°œí•˜ëŠ” ë° ì ìš©ë˜ëŠ”ë°, ì´ë¥¼ í†µí•´ ê° ë¶€ë¶„ì„ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì„ ì œê³µí•œë‹¤.\nëª¨ë¸-ë·°-ì»¨íŠ¸ë¡¤ëŸ¬ì— ì‚¬ìš©ë˜ëŠ” íŒ¨í„´ ì•Œì•„ë³´ê¸° MVCëŠ” ì—¬ëŸ¬ ê°œì˜ íŒ¨í„´ì´ í•¨ê»˜ ì ìš©ë˜ì–´ ì™„ì„±ëœ í•˜ë‚˜ì˜ ë””ìì¸ì´ë‹¤.\nì˜µì €ë²„ íŒ¨í„´\nMVC íŒ¨í„´ì—ì„œ ëª¨ë¸ê³¼ ë·° ê°„ì˜ í†µì‹ ì€ ì£¼ë¡œ ì˜µì €ë²„ íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.\nflowchart LR view1[/ë·° 1/] model1[[\"ëª¨ë¸(ì˜µì €ë²„ë¸”)\"]] subgraph ì˜µì €ë²„ controller{{ì»¨íŠ¸ë¡¤ëŸ¬}} view2[/ë·° 1/] view3[/ë·° 2/] end view1--\"ì˜µì €ë²„ ë“±ë¡\"--\u003emodel1 model1--\"ìƒíƒœ ë³€ê²½\"--\u003econtroller model1--\"ìƒíƒœ ë³€ê²½\"--\u003eview2 model1--\"ìƒíƒœ ë³€ê²½\"--\u003eview3 ëª¨ë¸ì˜ ìƒíƒœ ë³€ê²½ ì‹œ, ë“±ë¡ëœ ë·°ë“¤ì—ê²Œ ìë™ìœ¼ë¡œ ì•Œë¦¼ì„ ë³´ë‚´ì–´ ë·°ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤. ë·°ì™€ ëª¨ë¸ê°„ì˜ ê°•í•œ ê²°í•©ì„ í”¼í•˜ë©´ì„œ ìƒíƒœ ë³€í™”ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì „íŒŒí•  ìˆ˜ ìˆë‹¤. ëª¨ë¸ì€ ì˜µì €ë²„ íŒ¨í„´ì„ ì¨ì„œ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ê·¸ ëª¨ë¸ê³¼ ì—°ê´€ëœ ê°ì²´ë“¤ì—ê²Œ ì—°ë½í•œë‹¤.\nì˜µì €ë²„ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ì„ ë·°ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œë¶€í„° ì™„ì „íˆ ë…ë¦½ ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ í•œ ëª¨ë¸ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ë·°ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆê³ , ì—¬ëŸ¬ ê°œì˜ ë·°ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\nì „ëµ íŒ¨í„´\nì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì´ë©°, ë·°ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê³ ì „ì ì¸ ì „ëµ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆë‹¤.\nflowchart LR v[/ë·°/] c1{{ì»¨íŠ¸ë¡¤ëŸ¬ 1}} c2{{ì»¨íŠ¸ë¡¤ëŸ¬ 2}} v--\u003ec1 v--\u003ec2 ë·° ê°ì²´ë¥¼ ì—¬ëŸ¬ ì „ëµì„ ì¨ì„œ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©°, ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì „ëµì„ ì œê³µí•œë‹¤. ì—¬ëŸ¬ ì…ë ¥ ì „ëµì„ ì •ì˜í•˜ê³ , ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì´ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ì‚¬ìš©ì ì…ë ¥ì— ëŒ€ì‘í•˜ê²Œ ëœë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë°”ê¾¸ë©´ ë·°ì˜ í–‰ë™ë„ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ë·°ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²‰ëª¨ìŠµì—ë§Œ ì‹ ê²½ ì“°ê³ , ì¸í„°í˜ì´ìŠ¤ì˜ í–‰ë™ì„ ê²°ì •í•˜ëŠ” ì¼ì€ ëª¨ë‘ ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ë§¡ê¸´ë‹¤. ì‚¬ìš©ìê°€ ìš”ì²­í•œ ë‚´ì—­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ëª¨ë¸ì— ìš”ì²­í•˜ëŠ” ë¶€ë¶„ì„ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë‹´ë‹¹í•˜ê²Œ ë˜ì–´, ë·°ë¥¼ ëª¨ë¸ë¡œë¶€í„° ë¶„ë¦¬í•˜ëŠ” ë°ì—ë„ ë„ì›€ì´ ëœë‹¤.\nì»´í¬ì§€íŠ¸ íŒ¨í„´\nflowchart LR v[/ë·°/] r(((GUI))) v--paint--\u003er ë·°ë¥¼ êµ¬ì„±í•˜ëŠ” ìš”ì†Œë“¤ì„ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì»´í¬ì§€íŠ¸ íŒ¨í„´ì„ í™œìš©í•œë‹¤. ë³µí•© ë·°ëŠ” ì—¬ëŸ¬ ë‹¨ì„ ë·°ì™€ í•˜ìœ„ ë³µí•© ë·°ë¡œ êµ¬ì„±ë  ìˆ˜ ìˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë·°ì—ê²Œ í™”ë©´ì„ ê°±ì‹ í•´ ë‹¬ë¼ê³  ìš”ì²­í–ˆì„ ë•Œ, ìµœìƒìœ„ ë·° êµ¬ì„± ìš”ì†Œì—ê²Œë§Œ í™”ë©´ì„ ê°±ì‹ í•˜ë¼ê³  ì „ë‹¬í•˜ë©´ ì»´í¬ì§€íŠ¸ íŒ¨í„´ì´ ì•Œì•„ì„œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.\nê·¸ ì™¸ ì ìš©ëœ íŒ¨í„´\nì»¤ë§¨ë“œ íŒ¨í„´ ì‚¬ìš©ìì˜ ì•¡ì…˜ì— ë”°ë¼ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ëª¨ë¸ì˜ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ë·°ë¥¼ ì—…ë°ì´íŠ¸ í•´ì•¼í•œë‹¤. ì»¤ë§¨ë“œ íŒ¨í„´ì€ ì•¡ì…˜ì„ ìº¡ìŠí™”í•˜ì—¬ ê°ì²´ë¡œ ë‚˜íƒ€ë‚´ê³ , ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì´ ê°ì²´ë¥¼ í†µí•´ ì•¡ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ ë·°ë‚˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìƒì„±í•˜ëŠ” ë° íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŠ¹ì • ë·° ë˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ìƒì„±ì„ ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ ê²°ì •í•˜ë„ë¡ í•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ, ìœ ì—°ì„±ì„ ì œê³µí•œë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ ë·°ì˜ ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ë™ì ìœ¼ë¡œ í™•ì¥í•˜ê³  ì‹¶ì„ ë•Œ ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë·°ë¥¼ ê°ì‹¸ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŸ°íƒ€ì„ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ì‹±ê¸€í†¤ íŒ¨í„´ MVC íŒ¨í„´ì—ì„œ ëª¨ë¸ì´ë‚˜ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì£¼ë¡œ ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë¡œ ìœ ì§€ëœë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì—­ì—ì„œ í•´ë‹¹ ê°ì²´ì— ì ‘ê·¼ì´ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©ëœë‹¤. í•µì‹¬ ì •ë¦¬ ë³µí•© íŒ¨í„´ 2ê°œ ì´ìƒì˜ íŒ¨í„´ì„ ê²°í•©í•´ì„œ ì¼ë°˜ì ìœ¼ë¡œ ìì£¼ ë“±ì¥í•˜ëŠ” ë¬¸ì œë“¤ì˜ í•´ë²•ì„ ì œê³µí•œë‹¤. ëª¨ë¸-ë·°-ì»¨íŠ¸ë¡¤ëŸ¬(MVC)ëŠ” ì˜µì €ë²„, ì „ëµ, ì»´í¬ì§€íŠ¸ íŒ¨í„´ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë³µí•© íŒ¨í„´ì´ë‹¤. ëª¨ë¸ì€ ì˜µì €ë²„ íŒ¨í„´ì„ ì‚¬ìš©í•´ì„œ ì˜ì¡´ì„±ì„ ì—†ì• ë©´ì„œë„ ì˜µì €ë²„ë“¤ì—ê²Œ ìì‹ ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŒì„ ì•Œë¦´ ìˆ˜ ìˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë·°ì˜ ì „ëµ ê°ì²´ì´ë‹¤. ë·°ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë°”ê¿”ì„œ ë˜ ë‹¤ë¥¸ í–‰ë™ì„ í•  ìˆ˜ ìˆë‹¤. ë·°ëŠ” ì»´í¬ì§€íŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•´ì„œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤. ë³´í†µ íŒ¨ë„ì´ë‚˜ í”„ë ˆì„, ë²„íŠ¼ê³¼ ê°™ì€ ì¤‘ì²©ëœ êµ¬ì„± ìš”ì†Œë¡œ ì´ë£¨ì–´ì§„ë‹¤. ëª¨ë¸, ë·°, ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” 3ê°€ì§€ íŒ¨í„´ìœ¼ë¡œ ì„œë¡œ ëŠìŠ¨í•˜ê²Œ ê²°í•©ë˜ë¯€ë¡œ ê¹”ë”í•˜ë©´ì„œë„ ìœ ì—°í•œ êµ¬í˜„ì´ ê°€ëŠ¥í•´ì§„ë‹¤. ìƒˆë¡œìš´ ëª¨ë¸ì„ ê¸°ì¡´ì˜ ë·°ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì—°ê²°í•´ì„œ ì“¸ ë•ŒëŠ” ì–´ëŒ‘í„° íŒ¨í„´ì„ í™œìš©í•˜ë©´ ëœë‹¤. MVCëŠ” ì›¹ì—ë„ ì ìš©ëœë‹¤. í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°ì— MVCë¥¼ ì ì‘ì‹œì¼œ ì£¼ëŠ” ë‹¤ì–‘í•œ ì›¹ MVC í”„ë ˆì„ì›Œí¬ê°€ ìˆë‹¤. ","date":"2024-01-17T14:20:08+09:00","image":"https://codemario318.github.io/post/gof/12/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/12/","title":"12. íŒ¨í„´ì„ ëª¨ì•„ íŒ¨í„´ ë§Œë“¤ê¸° - ë³µí•© íŒ¨í„´"},{"content":" í”„ë¡ì‹œ íŒ¨í„´ì€ íŠ¹ì • ê°ì²´ë¡œì˜ ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ëŒ€ë¦¬ì¸(íŠ¹ì • ê°ì²´ë¥¼ ëŒ€ë³€í•˜ëŠ” ê°ì²´)ë¥¼ ì œê³µí•œë‹¤.\ní”„ë¡ì‹œ íŒ¨í„´ì´ë€? í”„ë¡ì‹œ íŒ¨í„´ì€ í•œ ê°ì²´ê°€ ë‹¤ë¥¸ ê°ì²´ì— ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ ì—­í• ì„ ìˆ˜í–‰í•˜ì—¬ ì ‘ê·¼ì„ ì œì–´í•˜ê±°ë‚˜ ëŒ€ë¦¬ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì´ë‹¤.\nì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ë°©ë²•ì„ ë‹¬ë¦¬í•˜ì—¬ ì—¬ëŸ¬ ë³€í˜•ì´ ì¡´ì¬í•œë‹¤.\nì›ê²© í”„ë¡ì‹œ(Remote Proxy) ì›ê²© ê°ì²´ì— ëŒ€í•œ ë¡œì»¬ í‘œí˜„ì„ ì œê³µí•˜ì—¬, ì›ê²© ì„œë²„ì— ìˆëŠ” ê°ì²´ì— ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ê°€ìƒ í”„ë¡ì‹œ(Virtual Proxy) ê°ì²´ì˜ ìƒì„± ë° ì´ˆê¸°í™”ì— ë¹„ìš©ì´ ë§ì´ ë“¤ ë•Œ, ê°ì²´ê°€ ì‹¤ì œë¡œ í•„ìš”í•œ ì‹œì ê¹Œì§€ ìƒì„±ì„ ì§€ì—°ì‹œí‚¤ëŠ” ê°€ìƒ ê°ì²´ë¥¼ ì œê³µí•œë‹¤. ë³´í˜¸ í”„ë¡ì‹œ(Protection Proxy) ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ì—¬, íŠ¹ì • ì‚¬ìš©ìë‚˜ í´ë¼ì´ì–¸íŠ¸ì— ëŒ€í•œ ê¶Œí•œ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•œë‹¤. ìºì‹± í”„ë¡ì‹œ(Caching Proxy) ì´ì „ì— ìˆ˜í–‰í•œ ì—°ì‚° ê²°ê³¼ë¥¼ ìºì‹œí•˜ì—¬ ë™ì¼í•œ ìš”ì²­ì— ëŒ€í•œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤. í”„ë¡ì‹œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì›ê²© ê°ì²´, ìƒì„±í•˜ê¸° í˜ë“  ê°ì²´, ë³´ì•ˆì´ ì¤‘ìš”í•œ ê°ì²´ì™€ ê°™ì€ ë‹¤ë¥¸ ê°ì²´ë¡œì˜ ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ëŒ€ë¦¬ì¸ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nì´ë¥¼ í†µí•´ ë³µì¡í•œ ì‹œìŠ¤í…œì—ì„œ ê°ì²´ ê°„ì˜ í†µì‹ ê³¼ ìƒí˜¸ì‘ìš©ì„ ì¡°ì ˆí•˜ê³  í–¥ìƒì‹œí‚¤ëŠ” ë° ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\nêµ¬ì¡° classDiagram class Subject { \u003c\u003c interface \u003e\u003e request()* } class RealSubject { request() } class Proxy { request() } Subject \u003c|.. RealSubject Subject \u003c|.. Proxy Proxy --\u003e RealSubject : subject Subject(ì£¼ì²´) ì‹¤ì œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ê°ì²´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. RealSubject(ì‹¤ì œ ì£¼ì²´) Subjectì˜ ì‹¤ì œ êµ¬í˜„ì„ ì œê³µí•˜ëŠ” í´ë˜ìŠ¤ ì´ ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ê±°ë‚˜ ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. Proxy(í”„ë¡ì‹œ) Subjectì™€ ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©°, RealSubjectì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ê±°ë‚˜ ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. RealSubjectì™€ ProxyëŠ” Subject ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë¯€ë¡œ RealSubjectê°€ ë“¤ì–´ê°€ì•¼ í•  ìë¦¬ì— Proxyë¥¼ ëŒ€ì‹  ë„£ì„ ìˆ˜ ìˆë‹¤.\nì§„ì§œ ì‘ì—…ì€ RealSubject ê°ì²´ê°€ ì²˜ë¦¬í•˜ë©°, ProxyëŠ” ì´ ê°ì²´ì˜ ëŒ€ë³€ì¸ ì—­í• ì„ í•˜ë©´ì„œ RealSubjectë¡œì˜ ì ‘ê·¼ì„ ì œì–´í•˜ê²Œëœë‹¤.\nProxyëŠ” RealSubjectì˜ ë ˆí¼ëŸ°ìŠ¤ë¥¼ í¬í•¨í•˜ë©°(ì§ë²• ìƒì„±í•˜ê±°ë‚˜ ì œê±°í•˜ê¸°ë„ í•¨) í´ë¼ì´ì–¸íŠ¸ëŠ” í•­ìƒ Proxyë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê²Œ ëœë‹¤.\nì›ê²© í”„ë¡ì‹œ ì›ê²© í”„ë¡ì‹œëŠ” ëŒ€ë¦¬ì¸ì˜ ì–´ë–¤ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì›ê²© ê°ì²´ì—ê²Œ í•´ë‹¹ ë©”ì†Œë“œ í˜¸ì¶œì„ ì „ë‹¬í•˜ëŠ” ì›ê²© ê°ì²´ì˜ ë¡œì»¬ ëŒ€ë¦¬ì¸ ì—­í• ì„ í•˜ê²Œëœë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ê°ì²´ëŠ” ì›ê²© ê°ì²´ì˜ ë©”ì†Œë“œ í˜¸ì¶œì„ í•˜ëŠ” ê²ƒì²˜ëŸ¼ í–‰ë™í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ë¡œì»¬ í™ì— ë“¤ì–´ìˆëŠ” í”„ë¡ì‹œ ê°ì²´ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©°, í”„ë¡ì‹œì—ì„œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ê³¼ ê´€ë ¨ëœ ì €ìˆ˜ì¤€ ì‘ì—…ì„ ì²˜ë˜íˆì¤€ë‹¤.\nì›ê²© í”„ë¡ì‹œ(Remote Proxy)ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì‚¬ì´ì—ì„œ ê°ì²´ì— ëŒ€í•œ ì›ê²© ì•¡ì„¸ìŠ¤ë¥¼ ì œê³µí•˜ë©°, ê°ì²´ì˜ ë©”ì„œë“œ í˜¸ì¶œì„ ì›ê²©ìœ¼ë¡œ ì „ë‹¬í•˜ì—¬ ì‹¤í–‰í•˜ëŠ” ë° ì¤‘ì ‘ì„ ë‘”ë‹¤.\nflowchart LR subgraph ì›ê²© a((í´ë¼ì´ì–¸íŠ¸)) -- \"request()\" --\u003e b((í”„ë¡ì‹œ)) end subgraph ì‹¤ì œ c((RealSubject)) end b -. \"request()\" .-\u003e c ì›ê²© ê°ì²´ ì—‘ì„¸ìŠ¤ í´ë¼ì´ì–¸íŠ¸ê°€ ë¡œì»¬ì´ ì•„ë‹Œ ë‹¤ë¥¸ ì»´í“¨í„°ì— ìœ„ì¹˜í•œ ê°ì²´ì— ì•¡ì„¸ìŠ¤í•´ì•¼ í•  ë•Œ, ì›ê²© í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ ê°ì²´ì— ì ‘ê·¼í•œë‹¤. ë³´ì•ˆ ë° ê¶Œí•œ ì œì–´ ì›ê²© í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ì›ê²© ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ê³ , ë³´ì•ˆ ë° ê¶Œí•œ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. í”„ë¡ì‹œ íŒ¨í„´ì˜ ì‘ìš© ì¼ë°˜ì ì¸ í”„ë¡ì‹œ íŒ¨í„´ì—ì„œ ì›ê²© í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì™€ ì‹¤ì œ ê°ì²´ ì‚¬ì´ì˜ ì¤‘ê° ë§¤ê°œì²´ë¡œì„œ ë™ì‘í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. Java RMI(Remote Method Invocation) ì›ê²© í”„ë¡ì‹œëŠ” Javaì˜ RMIì™€ ê°™ì€ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ë  ìˆ˜ ìˆë‹¤.\ní´ë¼ì´ì–¸íŠ¸ëŠ” ë¡œì»¬ì—ì„œ ë§ˆì¹˜ ê°ì²´ë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì²˜ëŸ¼ ì›ê²© í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ì›ê²© ê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 // ì˜ˆì‹œ: ì›ê²© í”„ë¡ì‹œ ì¸í„°í˜ì´ìŠ¤ import java.rmi.Remote; import java.rmi.RemoteException; // í‘œì‹ìš©(Maker) Remote ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•˜ì—¬ ì¸í„°í˜ì´ìŠ¤ê°€ ì›ê²© í˜¸ì¶œì„ ì§€ì›í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œë¦°ë‹¤. public interface MyRemoteInterface extends Remote { // ëª¨ë“  ì›ê²© ë©”ì†Œë“œ í˜¸ì¶œì€ ìœ„í—˜ì´ ë”°ë¥´ë©° ëª¨ë“  ë©”ì†Œë“œì— RemoteExceptionì„ ì„ ì–¸í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. void myRemoteMethod() throws RemoteException; // ì›ê²© ë©”ì†Œë“œì˜ ì¸ìì™€ ë¦¬í„´ê°’ì€ ë°˜ë“œì‹œ ì›ì‹œ í˜•ì‹(primitive) ë˜ëŠ” Serializable í˜•ì‹ìœ¼ë¡œ ì„ ì–¸í•´ì•¼í•œë‹¤. String sayHello() throws RemoteException; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // ì˜ˆì‹œ: ì›ê²© í”„ë¡ì‹œ êµ¬í˜„ import java.rmi.RemoteException; import java.rmi.server.UnicastRemoteObject; public class MyRemoteObject extends UnicastRemoteObject implements MyRemoteInterface { protected MyRemoteObject() throws RemoteException { super(); } @Override public void myRemoteMethod() throws RemoteException { // ì‹¤ì œ ì›ê²© ë©”ì„œë“œ êµ¬í˜„ System.out.println(\u0026#34;Executing remote method\u0026#34;); } } ê°€ìƒ í”„ë¡ì‹œ ê°€ìƒ í”„ë¡ì‹œëŠ” í”„ë¡ì‹œ íŒ¨í„´ì˜ í•œ ì¢…ë¥˜ë¡œ, ê°ì²´ì˜ ìƒì„± ë° ì´ˆê¸°í™”ì— ë¹„ìš©ì´ ë§ì´ ë“¤ ë•Œ, ì‹¤ì œë¡œ ê°ì²´ê°€ í•„ìš”í•œ ì‹œì ê¹Œì§€ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ëŒ€ë¦¬ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì´ë‹¤.\nì´ë¥¼ í†µí•´ ì„±ëŠ¥ í–¥ìƒ ë° ìì› ì ˆì•½ì´ ê°€ëŠ¥í•˜ë©°, ì‚¬ìš©ìëŠ” ê°€ìƒ í”„ë¡ì‹œë¥¼ í†µí•´ ì‹¤ì œ ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\nflowchart LR a((í´ë¼ì´ì–¸íŠ¸)) -- \"request()\" --\u003e b((í”„ë¡ì‹œ)) --\u003e c((RealSubject)) ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ê°ì²´ ìƒì„± ê°ì²´ì˜ ìƒì„±ì´ë‚˜ ì´ˆê¸°í™”ì— ë§ì€ ë¹„ìš©ì´ ë“¤ ë•Œ, í•´ë‹¹ ê°ì²´ë¥¼ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ê¸° ì§ì „ê¹Œì§€ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ëŒ€ë¦¬ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ìƒì„±í•œë‹¤. ëŠë¦° ì´ˆê¸°í™” ì‘ì—… ê°ì²´ì˜ ì´ˆê¸°í™” ì‘ì—…ì´ ëŠë¦¬ê²Œ ìˆ˜í–‰ë˜ëŠ” ê²½ìš°, ì´ˆê¸°í™” ì‘ì—…ì´ ì™„ë£Œëœ í›„ì—ë§Œ ì‹¤ì œ ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ í•˜ëŠ” ê°€ìƒ í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì—° ë¡œë”©ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ìì› ì†Œëª¨ ìµœì í™” ìì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ í•„ìš”í•  ë•Œë§Œ ì‹¤ì œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ê°€ìƒ í”„ë¡ì‹œë¥¼ ì ìš©í•˜ì—¬ ìì› ì†Œëª¨ë¥¼ ìµœì í™” í•  ìˆ˜ ìˆë‹¤. ê°€ìƒ í”„ë¡ì‹œëŠ” ì‹¤ì œ ê°ì²´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê°€ìƒ í”„ë¡ì‹œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\nì´ë¥¼ í†µí•´ ì‹¤ì œ ê°ì²´ì˜ ìƒì„± ë° ì´ˆê¸°í™”ë¥¼ ì§€ì—°ì‹œí‚¨ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // ì˜ˆì‹œ: ê°€ìƒ í”„ë¡ì‹œ ì¸í„°í˜ì´ìŠ¤ public interface RealObject { void performOperation(); } // ì˜ˆì‹œ: ì‹¤ì œ ê°ì²´ êµ¬í˜„ public class RealObjectImpl implements RealObject { public RealObjectImpl() { // ê°ì²´ ìƒì„± ë° ì´ˆê¸°í™” ì‘ì—… } @Override public void performOperation() { // ì‹¤ì œ ê°ì²´ì˜ ë™ì‘ System.out.println(\u0026#34;Performing operation\u0026#34;); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // ì˜ˆì‹œ: ê°€ìƒ í”„ë¡ì‹œ êµ¬í˜„ public class VirtualProxy implements RealObject { private RealObjectImpl realObject; @Override public void performOperation() { // í•„ìš”í•  ë•Œë§Œ ì‹¤ì œ ê°ì²´ ìƒì„± if (realObject == null) { realObject = new RealObjectImpl(); } // ê°€ìƒ í”„ë¡ì‹œë¥¼ í†µí•´ ì‹¤ì œ ê°ì²´ì˜ ë™ì‘ í˜¸ì¶œ realObject.performOperation(); } } ì›ê²© í”„ë¡ì‹œì™€ ê°€ìƒ í”„ë¡ì‹œì˜ ì°¨ì´ ì›ê²© í”„ë¡ì‹œì™€ ê°€ìƒ í”„ë¡ì‹œëŠ” ë‘˜ ë‹¤ í”„ë¡ì‹œ íŒ¨í„´ì˜ ë³€í˜•ìœ¼ë¡œ, ê°ì²´ ê°„ì˜ í†µì‹ ì„ ì§€ì›í•˜ê±°ë‚˜ ê°ì²´ì˜ ìƒì„± ë° ì´ˆê¸°í™”ë¥¼ ìµœì í™”í•˜ê¸° ìœ„í•´ ìƒìš©ëœë‹¤.\nê·¸ëŸ¬ë‚˜ ê°ê°ì˜ ì£¼ëœ ëª©ì ê³¼ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì°¨ì´ê°€ ìˆë‹¤.\nëª©ì  ì›ê²© í”„ë¡ì‹œ: ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ ê°ì²´ ê°„ì˜ í†µì‹ ì„ ê°€ëŠ¥ì¼€ í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ í†µì‹ ì„ ì›í™œí•˜ê²Œ í•˜ê¸° ìœ„í•´ ê°ì²´ë¥¼ ì›ê²©ìœ¼ë¡œ í˜¸ì¶œí•˜ê³  ì‚¬ìš©í•œë‹¤. ê°€ìƒ í”„ë¡ì‹œ: ê°ì²´ì˜ ìƒì„± ë° ì´ˆê¸°í™”ì— ëŒ€í•œ ë¹„ìš©ì„ ìµœì í™”í•œë‹¤. í•„ìš”í•œ ì‹œì ê¹Œì§€ ì‹¤ì œ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ê°€ìƒì ì¸ ëŒ€ë¦¬ ê°ì²´ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ê²ƒì´ ëª©ì ì´ë‹¤. í™œìš© ì›ê²© í”„ë¡ì‹œ ê°ì²´ê°€ ì„œë¡œ ë‹¤ë¥¸ ì£¼ì†Œ ê³µê°„ì— ìœ„ì¹˜í•´ ìˆì„ ë•Œ ì‚¬ìš©ëœë‹¤. ê°ì²´ì˜ ë©”ì„œë“œë¥¼ ì›ê²©ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ íˆ¬ëª…í•œ ì›ê²© ì ‘ê·¼ì„ ì œê³µí•œë‹¤. ê°€ìƒ í”„ë¡ì‹œ ê°ì²´ì˜ ìƒì„±ì´ë‚˜ ì´ˆê¸°í™”ì— ë¹„ìš©ì´ ë§ì´ ë“¤ê±°ë‚˜, ì´ˆê¸°í™”ë¥¼ ì§€ì—°ì‹œì¼œì•¼ í•  ë•Œ ì‚¬ìš©ëœë‹¤. í•„ìš”í•œ ì‹œì ì—ë§Œ ì‹¤ì œ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ìì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤. êµ¬í˜„ ë°©ì‹ ì›ê²© í”„ë¡ì‹œ ì›ê²© ê°ì²´ ê°„ì˜ í†µì‹ ì„ ìœ„í•´ ì›ê²© ë©”ì„œë“œ í˜¸ì¶œì„ ì§€ì›í•˜ëŠ” ê¸°ìˆ ì„ í™œìš©í•œë‹¤. ex) Java RMI ê°€ìƒ í”„ë¡ì‹œ ê°ì²´ì˜ ìƒì„± ë° ì´ˆê¸°í™”ë¥¼ ì§€ì—°ì‹œí‚¤ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ëœë‹¤. í•„ìš”í•  ë•Œë§Œ ì‹¤ì œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì‚¬ìš©í•œë‹¤. ì£¼ìš” íŠ¹ì§• ì›ê²© í”„ë¡ì‹œ ë¶„ì‚° í™˜ê²½ì—ì„œì˜ í†µì‹ ì— ì¤‘ì ì„ ë‘ê³ , ë³´ì•ˆ, íš¨ìœ¨ì„± íˆ¬ëª…ì„± ë“±ì„ ê³ ë ¤í•´ì•¼í•œë‹¤. ê°€ìƒ í”„ë¡ì‹œ ê°ì²´ì˜ ìƒì„± ë° ì´ˆê¸°í™” ë¹„ìš©ì„ ìµœì í™”í•œë‹¤. í•„ìš”í•œ ì‹œì ê¹Œì§€ ì‹¤ì œ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ê°€ìƒì ì¸ ëŒ€ë¦¬ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ì„ ê°œì„ í•œë‹¤. ì›ê²© í”„ë¡ì‹œëŠ” ì£¼ë¡œ ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œì˜ ê°ì²´ ê°„ í†µì‹ ì„ ìœ„í•´ ì‚¬ìš©ë˜ê³ , ê°€ìƒ í”„ë¡ì‹œëŠ” ê°ì²´ì˜ ìƒì„±ê³¼ ì´ˆê¸°í™”ì— ëŒ€í•œ ë¹„ìš©ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.\në³´í˜¸ í”„ë¡ì‹œ ë³´í˜¸ í”„ë¡ì‹œëŠ” ì£¼ë¡œ ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ê³  ë³´í˜¸í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.\nì´ íŒ¨í„´ì€ ê°ì²´ì— ëŒ€í•œ í´ë¼ì´ì–¸íŠ¸ì˜ ì—‘ì„¸ìŠ¤ë¥¼ ì œí•œí•˜ê±°ë‚˜, íŠ¹ì •í•œ ê¶Œí•œ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•  ìˆ˜ ìˆë‹¤.\nì ‘ê·¼ ì œì–´ íŠ¹ì • ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œí•œí•˜ê±°ë‚˜ í—ˆìš©í•˜ê¸° ìœ„í•´ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ê²€ì‚¬í•˜ê³  í•„ìš”í•œ ê¶Œí•œ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•œë‹¤. ex) íŒŒì¼, ë°ì´í„°ë² ì´ìŠ¤ ë“± ë³´ì•ˆ ê°•í™” ê°ì²´ì— ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ì—¬ ë³´ì•ˆì„ ê°•í™”í•œë‹¤. ì‹¤ì œ ê°ì²´ì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ëŒ€ì‹ , ë³´í˜¸ í”„ë¡ì‹œë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œë§Œ ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ìºì‹± ë° ì„±ëŠ¥ ìµœì í™” ê°ì²´ì— ëŒ€í•œ ì—‘ì„¸ìŠ¤ë¥¼ ì œì–´í•˜ëŠ” ë™ì‹œì—, ìºì‹±ê³¼ ê°™ì€ ì„±ëŠ¥ ìµœì í™” ê¸°ë²•ì„ ì ìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì‘ì—…ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. classDiagram class Subject { \u003c\u003c interface \u003e\u003e *request() } class RealSubject { request() } class Proxy { request() } class InvocationHandler { \u003c\u003c interface \u003e\u003e *invoke() } class ConcreteInvocationHandler { invoke() } Subject \u003c|-- RealSubject Subject \u003c|-- Proxy InvocationHandler \u003c|-- ConcreteInvocationHandler 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 // ë³´í˜¸ í”„ë¡ì‹œ ì¸í„°í˜ì´ìŠ¤ public interface Subject { void request(); } // ì‹¤ì œ ê°ì²´ public class RealSubject implements Subject { @Override public void request() { System.out.println(\u0026#34;RealSubject: Handling request.\u0026#34;); } } // ë³´í˜¸ í”„ë¡ì‹œ public class Proxy implements Subject { private RealSubject realSubject; private String accessCode; // ì˜ˆì‹œë¡œ ê¶Œí•œ ì½”ë“œë¥¼ ì‚¬ìš© public Proxy(String accessCode) { this.accessCode = accessCode; } @Override public void request() { if (authenticate()) { if (realSubject == null) { realSubject = new RealSubject(); } realSubject.request(); } else { System.out.println(\u0026#34;Access denied. Authentication failed.\u0026#34;); } } private boolean authenticate() { // ê¶Œí•œ ê²€ì‚¬ ë¡œì§ return \u0026#34;1234\u0026#34;.equals(accessCode); } } ì •ë¦¬ í”„ë¡ì‹œ íŒ¨í„´ íŠ¹ì • ê°ì²´ë¡œì˜ ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ëŒ€ë¦¬ì¸ì„ ì œê³µí•œë‹¤. í”„ë¡ì‹œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì–´ë–¤ ê°ì²´ì˜ ëŒ€ë¦¬ì¸ì„ ë‚´ì„¸ì›Œì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ì ‘ê·¼ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤. ì›ê²© í”„ë¡ì‹œëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì›ê²© ê°ì²´ ì‚¬ì´ì˜ ë°ì´í„° ì „ë‹¬ì„ ê´€ë¦¬í•´ì¤€ë‹¤. ê°€ìƒ í”„ë¡ì‹œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ë° ë§ì€ ë¹„ìš©ì´ ë“œëŠ” ê°ì²´ë¡œì˜ ì ‘ê·¼ì„ ì œì–´í•œë‹¤. ë³´í˜¸ í”„ë¡ì‹œëŠ” í˜¸ì¶œí•˜ëŠ” ì¡±ì˜ ê¶Œí•œì— ë”°ë¼ì„œ ê°ì²´ì— ìˆëŠ” ë©”ì†Œë“œë¡œì˜ ì ‘ê·¼ì„ ì œì–´í•œë‹¤. ê·¸ ì™¸ì—ë„ ìºì‹± í”„ë¡ì‹œ, ë™ê¸°í™” í”„ë¡ì‹œ, ë°©í™”ë²½ í”„ë¡ì‹œ, ì§€ì—° ë³µì‚¬ í”„ë¡ì‹œì™€ ê°™ì´ ë‹¤ì–‘í•œ ë³€í˜•ëœ í”„ë¡ì‹œ íŒ¨í„´ì´ ìˆë‹¤. í”„ë¡ì‹œ íŒ¨í„´ì˜ êµ¬ì¡°ëŠ” ë°ì½”ë ˆì´í„° íŒ¨í„´ì˜ êµ¬ì¡°ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ê·¸ ìš©ë„ëŠ” ë‹¤ë¥´ë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ ê°ì²´ì— í–‰ë™ì„ ì¶”ê°€í•˜ì§€ë§Œ í”„ë¡ì‹œ íŒ¨í„´ì€ ì ‘ê·¼ì„ ì œì–´í•œë‹¤. ìë°”ì— ë‚´ì¥ëœ í”„ë¡ì‹œ ì§€ì› ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ë™ì  í”„ë¡ì‹œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì›í•˜ëŠ” í•¸ë“¤ëŸ¬ì—ì„œ í˜¸ì¶œì„ ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤. ë‹¤ë¥¸ ë˜í¼ë¥¼ ì“¸ ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ í”„ë¡ì‹œë¥¼ ì“°ë©´ ë””ìì¸ì— í¬í•¨ë˜ëŠ” í´ë˜ìŠ¤ì™€ ê°ì²´ì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚œë‹¤. ","date":"2023-12-29T10:22:08+09:00","image":"https://codemario318.github.io/post/gof/11/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/11/","title":"11. ê°ì²´ ì ‘ê·¼ ì œì–´í•˜ê¸° - í”„ë¡ì‹œ íŒ¨í„´"},{"content":" ì „ëµ íŒ¨í„´ê³¼ ìƒíƒœ íŒ¨í„´ì€ ìŒë‘¥ì´ì´ë‹¤.\nì „ëµ íŒ¨í„´ì€ ì•Œê³ ë¦¬ì¦˜ì„ ë°”ê¾¸ì–´ ì‚¬ìš©í•˜ëŠ” ë°˜ë©´ ìƒíƒœ íŒ¨í„´ì€ ë‚´ë¶€ ìƒíƒœë¥¼ ë°”ê¿ˆìœ¼ë¡œì¨ ê°ì²´ê°€ í–‰ë™ì„ ë°”ê¿€ ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤€ë‹¤.\nìƒíƒœ ê¸°ê³„ ìƒíƒœ ê¸°ê³„(State Machine)ëŠ” ê°ì²´ë‚˜ ì‹œìŠ¤í…œì´ ë‹¤ì–‘í•œ ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆê³ , íŠ¹ì • ì´ë²¤íŠ¸ì— ì˜í•´ ì´ ìƒíƒœê°€ ë³€í•˜ëŠ” ì‹œìŠ¤í…œì„ ë‚˜íƒ€ë‚´ëŠ” ëª¨ë¸ì´ë‹¤.\nìƒíƒœ ê¸°ê³„ëŠ” ìƒíƒœ, ì´ë²¤íŠ¸, ì „ì´(Transition), ë™ì‘(Action) ë“±ì˜ ê°œë…ì„ í¬í•¨í•˜ë©°, ê°ì²´ë‚˜ ì‹œìŠ¤í…œì´ íŠ¹ì • ìƒíƒœì—ì„œ ë‹¤ë¥¸ ìƒíƒœë¡œ ì „í™˜ë˜ëŠ” ê²ƒì„ ê´€ë¦¬í•œë‹¤.\nìƒíƒœ(State): ì‹œìŠ¤í…œì´ë‚˜ ê°ì²´ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ê° ìƒíƒœëŠ” íŠ¹ì • ì‹œì ì—ì„œ ì‹œìŠ¤í…œì´ ì–´ë–¤ ë™ì‘ì„ ìˆ˜í–‰í•˜ê³  ìˆëŠ”ì§€ë¥¼ í‘œí˜„í•œë‹¤. ì´ë²¤íŠ¸(Event): ìƒíƒœ ì „ì´ë¥¼ ìœ ë°œí•˜ëŠ” ì™¸ë¶€ë‚˜ ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì‚¬ê±´ì´ë‚˜ ì‹ í˜¸ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì´ë²¤íŠ¸ëŠ” íŠ¹ì • ìƒíƒœì—ì„œë§Œ ë°œìƒí•˜ê±°ë‚˜ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤. ì „ì´(Transition): ìƒíƒœ ê°„ ì „í™˜ì„ ì •ì˜í•œë‹¤. íŠ¹ì • ìƒíƒœì—ì„œ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì–´ë–¤ ë‹¤ìŒ ìƒíƒœë¡œ ì „í™˜ë˜ì–´ì•¼ í•˜ëŠ”ì§€ë¥¼ ì •ì˜í•œë‹¤. ë™ì‘(Action): ìƒíƒœ ì „ì´ê°€ ë°œìƒí•  ë•Œ ìˆ˜í–‰ë˜ëŠ” íŠ¹ì • ë™ì‘ì´ë‚˜ ì²˜ë¦¬ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ê° ì „ì´ì—ëŠ” ì—°ê´€ëœ ë™ì‘ì´ ì •ì˜ë  ìˆ˜ ìˆë‹¤. ìƒíƒœ ê¸°ê³„ëŠ” ì£¼ë¡œ ì‹œìŠ¤í…œì˜ ë³µì¡í•œ ë™ì‘ì„ ëª¨ë¸ë§í•˜ê³  ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì—ì„œëŠ” ìƒíƒœ ê¸°ê³„ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ì˜ ë™ì‘ì„ ìƒíƒœì— ë”°ë¼ íš¨ê³¼ì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆë‹¤.\nìƒíƒœ ê¸°ê³„ëŠ” **ìœ í•œ ìƒíƒœ ê¸°ê³„(Finite State Machine, FSM)**ë¡œ ë¶ˆë¦¬ê¸°ë„ í•˜ë©°, ì´ëŠ” ìƒíƒœì˜ ìˆ˜ê°€ ìœ í•œí•˜ë‹¤ëŠ” íŠ¹ì„±ì„ ê°•ì¡°í•œ ìš©ì–´ì´ë‹¤.\në½‘ê¸° ê¸°ê³„ ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ flowchart LR s([ì‹œì‘]) a((ë™ì „ ìˆìŒ)) b((ë™ì „ ì—†ìŒ)) c((ì•Œë§¹ì´ íŒë§¤)) d((ì•Œë§¹ì´ ë§¤ì§„)) e{ì•Œë§¹ì´ ê°œìˆ˜ \u003e 0} s--\u003ea a-- ë™ì „ ë°˜í™˜ --\u003eb b-- ë™ì „ íˆ¬ì… --\u003ea a-- ì†ì¡ì´ ëŒë¦¼ --\u003e c c-- ì•Œë§¹ì´ ë‚´ë³´ëƒ„ --\u003ee e-- Y --\u003eb e-- N --\u003e d ë™ì „ ìˆìŒ, ì—†ìŒ, ì•Œë§¹ì´ íŒë§¤, ë§¤ì§„ì´ ìƒíƒœ ì†ì¡ì´ ëŒì„, ë™ì „ íˆ¬ì…, ì•Œë§¹ì´ ë‚´ë³´ëƒ„, ë™ì „ ë°˜í™˜ í–‰ë™ì„ ì¸í„°í˜ì´ìŠ¤ë¼ê³  í•  ìˆ˜ ìˆìŒ í–‰ë™ë“¤ì„ ì‹¤í–‰í•  ë•Œ ìƒíƒœê°€ ë³€ê²½ë¨ ì•Œë§¹ì´ë¥¼ êº¼ë‚´ëŠ” í–‰ë™ì€ ê¸°ê³„ ë‚´ì—ì„œ ìì²´ì ìœ¼ë¡œ ì§„í–‰í•˜ëŠ” í–‰ë™ì— ê°€ê¹Œì›€ ìƒíƒœ íŒ¨í„´ ìƒíƒœ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœê°€ ë°”ë€œì— ë”°ë¼ ê°ì²´ì˜ í–‰ë™ì„ ë°”ê¿€ ìˆ˜ ìˆë‹¤.\n\u0026ldquo;ë§ˆì¹˜ ê°ì²´ì˜ í´ë˜ìŠ¤ê°€ ë°”ë€ŒëŠ” ê²ƒê³¼ ê°™ì´\u0026rdquo;\nìƒíƒœ íŒ¨í„´ì€ ìƒíƒœë¥¼ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ìº¡ìŠí™”í•œ ë‹¤ìŒ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ì—ê²Œ í–‰ë™ì„ ìœ„ì„í•˜ë¯€ë¡œ ë‚´ë¶€ ìƒíƒœê°€ ë°”ë€” ë•Œ í–‰ë™ì´ ë‹¬ë¼ì§„ë‹¤.\në˜í•œ í´ë˜ìŠ¤ê°€ êµ¬ì„±ìœ¼ë¡œ ì—¬ëŸ¬ ìƒíƒœ ê°ì²´ë¥¼ ë°”ê¿”ê°€ë©° ì‚¬ìš©í•˜ê²Œë˜ë¯€ë¡œ, í´ë¼ì´ì–¸íŠ¸ ê´€ì ì—ì„œ í˜„ì¬ ì‚¬ìš©í•˜ëŠ” ê°ì²´ì˜ í–‰ë™ì´ ì™„ì „íˆ ë‹¬ë¼ì ¸ ë§ˆì¹˜ ê°ì²´ì˜ í´ë˜ìŠ¤ê°€ ë°”ë€ŒëŠ” ê²ƒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.\nclassDiagram class Context { request() } class State { \u003c\u003c interface \u003e\u003e handle()* } class ConcreteStateA { handle() } class ConcreteStateB { handle() } Context --\u003e State State \u003c|-- ConcreteStateA State \u003c|-- ConcreteStateB Context: request()ë¥¼ í†µí•´ ìƒíƒœì˜ handle()ì„ í˜¸ì¶œí•œë‹¤. State: ëª¨ë“  êµ¬ìƒ ìƒíƒœ í´ë˜ìŠ¤ì˜ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤. ëª¨ë“  ìƒíƒœ í´ë˜ìŠ¤ì—ì„œ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë¯€ë¡œ ë°”ë€Œ ê°€ë©´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ConcreteState: Contextë¡œ ë¶€í„° ì „ë‹¬ëœ ìš”ì²­ì„ ìê¸° ë‚˜ë¦„ì˜ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ ì²˜ë¦¬í•œë‹¤. ì´ë¥¼ í†µí•´ Contextì—ì„œ ìƒíƒœë¥¼ ë°”ê¿€ ë•Œë§ˆë‹¤ í–‰ë™ë„ ë°”ë€Œê²Œ ëœë‹¤. ìƒíƒœ íŒ¨í„´ì€ ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœì— ë”°ë¼ ìˆ˜í–‰ë˜ëŠ” ê°ì²´ì˜ í–‰ìœ„ë¥¼ ìƒíƒœ ê°ì²´ë¡œ ìº¡ìŠí™”í•˜ì—¬ ê°ì²´ì˜ ìƒíƒœë¥¼ í‘œí˜„í•˜ê³  ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ê³  ìƒíƒœì— ë”°ë¼ ê°ì²´ì˜ í–‰ë™ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.\nì´ë¥¼ í†µí•´ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ë•Œë§ˆë‹¤ ì§ì ‘ ì¡°ê±´ë¬¸ì´ë‹¤ switchë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , ìƒíƒœì—ê²Œ í•´ë‹¹ í–‰ë™ì„ ìœ„ì„í•˜ì—¬ ì½”ë“œì˜ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì„ í–¥ìƒì‹œí‚¨ë‹¤.\níŠ¹ì§• ì¥ì \nìƒˆë¡œìš´ ìƒíƒœë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìƒíƒœë¥¼ ë³€ê²½í•  ë•Œ ê¸°ì¡´ ì½”ë“œë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  í™•ì¥ì´ ê°€ëŠ¥í•˜ë‹¤. ìƒíƒœì™€ ê´€ë ¨ëœ ì½”ë“œê°€ ìƒíƒœ ê°ì²´ì— ìº¡ìŠí™”ë˜ì–´ ìˆì–´ ì½”ë“œê°€ ë” ê°„ê²°í•˜ê³  ì½ê¸° ì‰¬ì›Œì§„ë‹¤. ìƒíƒœ ì „í™˜ ë¡œì§ì´ ê° ìƒíƒœì— ìº¡ìŠí™” ë˜ì–´ìˆì–´ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•˜ë‹¤. ë‹¨ì \nìƒíƒœê°€ ë§ì„ ê²½ìš° í´ë˜ìŠ¤ì˜ ìˆ˜ê°€ ê¸‰ê²©íˆ ì¦ê°€í•  ìˆ˜ ìˆê³ , ìƒíƒœ ê°„ì˜ ì „ì´ ë¡œì§ì´ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤. ì „ëµ íŒ¨í„´ê³¼ì˜ ì°¨ì´ì  ì „ëµ íŒ¨í„´ê³¼ ìƒíƒœ íŒ¨í„´ ëª¨ë‘ ê°ì²´ ê°„ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ì •ì˜í•˜ê³ , ì´ë¥¼ ë™ì ìœ¼ë¡œ êµí™˜í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” êµ¬ì¡°ì  ë””ìì¸ íŒ¨í„´ì´ì§€ë§Œ, ëª©ì ê³¼ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì°¨ì´ê°€ ìˆë‹¤.\nëª©ì  ì „ëµ íŒ¨í„´ ì•Œê³ ë¦¬ì¦˜ì˜ ë³€í˜•ì´ë‚˜ ì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì•¼í•  ë•Œ ì‚¬ìš© ì£¼ë¡œ ì•Œê³ ë¦¬ì¦˜ì´ë‚˜ ì „ëµ ê°„ì˜ ìƒí˜¸ êµí™˜ì´ í•„ìš”í•œ ê²½ìš° ì í•© ìƒíƒœ íŒ¨í„´ ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœì— ë”°ë¼ í–‰ë™ì´ ë‹¬ë¼ì ¸ì•¼ í•  ë•Œ ì‚¬ìš© ê°ì²´ê°€ ìƒíƒœì— ë”°ë¼ ì§ì ‘ì ìœ¼ë¡œ í–‰ë™ì„ ë³€ê²½í•´ì•¼ í•˜ëŠ” ê²½ìš° ìœ ìš©í•¨ ê´€ë¦¬ ëŒ€ìƒ ì „ëµ íŒ¨í„´ ì•Œê³ ë¦¬ì¦˜, ì „ëµ, í–‰ë™ì„ ìº¡ìŠí™” ê°ì²´ê°€ íŠ¹ì • í–‰ë™ì„ ìˆ˜í–‰í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ ì ìš© ìƒíƒœ íŒ¨í„´ ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœë¥¼ ìº¡ìŠí™” ê°ì²´ê°€ ë‚´ë¶€ ìƒíƒœì— ë”°ë¼ í–‰ë™ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ ì ìš© êµ¬ì¡°ì  ì°¨ì´ ì „ëµ íŒ¨í„´ ContextëŠ” Strategy ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ë©°, ì—¬ëŸ¬ ConreteStrategyë¥¼ ê°€ì§„ë‹¤. ContextëŠ” ì „ëµì„ ë™ì ìœ¼ë¡œ êµí™˜í•  ìˆ˜ ìˆë‹¤. ìƒíƒœ íŒ¨í„´ ContextëŠ” State ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ë©°, ì—¬ëŸ¬ ConcreteStateë¥¼ ê°€ì§„ë‹¤. ContextëŠ” ì „ëµì„ ë™ì ìœ¼ë¡œ êµí™˜í•  ìˆ˜ ìˆë‹¤. ì „ì´ ì „ëµ íŒ¨í„´ ì „ëµì´ ë³€ê²½ë˜ë©´ ContextëŠ” ì™„ì „íˆ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì „í™˜ëœë‹¤. ìƒíƒœ íŒ¨í„´ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ Contextì˜ í–‰ë™ì´ ë³€ê²½ë˜ì§€ë§Œ, ì „ì²´ ì‹œìŠ¤í…œì´ ì™„ì „íˆ ë‹¤ë¥¸ ìƒíƒœë¡œ ì´ë™í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ì˜ˆì‹œ ì „ëµ íŒ¨í„´ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ëŠ” ê²½ìš° ê²°ì œ ì‹œìŠ¤í…œì—ì„œ ì—¬ëŸ¬ ê²°ì œ ì „ëµ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ëŠ” ê²½ìš° ìƒíƒœ íŒ¨í„´ ìë™íŒë§¤ê¸°ì˜ ë™ì‘ì„ ëª¨ë¸ë§í•˜ëŠ” ê²½ìš° ê°ì²´ê°€ ë‹¤ì–‘í•œ ìƒíƒœì— ìˆì„ ë•Œ ê° ìƒíƒœì— ë”°ë¼ ë‹¤ë¥¸ í–‰ë™ì„ í•˜ëŠ” ê²½ìš° ì •ë¦¬ ìƒíƒœ íŒ¨í„´: í´ë˜ìŠ¤ì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•´ì•¼ í•œë‹¤ë©´ ìƒíƒœ íŒ¨í„´ì„ ì¨ì„œ ìƒíƒœë¥¼ ìº¡ìŠí™” í•  ìˆ˜ ìˆë‹¤. ë‚´ë¶€ ìƒíƒœê°€ ë°”ë€œì— ë”°ë¼ ê°ì²´ì˜ í–‰ë™ì´ ë°”ë€” ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤ ë§ˆì¹˜ ê°ì²´ì˜ í´ë˜ìŠ¤ê°€ ë°”ë€ŒëŠ” ê²ƒ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. ìƒíƒœ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ë‚´ë¶€ ìƒíƒœë¥¼ ë°”íƒ•ìœ¼ë¡œ ì—¬ëŸ¬ ê°€ì§€ ì„œë¡œ ë‹¤ë¥¸ í–‰ë™ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìƒíƒœ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í”„ë¡œì‹œì €í˜• ìƒíƒœ ê¸°ê³„ë¥¼ ì“¸ ë•Œì™€ëŠ” ë‹¬ë¦¬ ê° ìƒíƒœë¥¼ í´ë˜ìŠ¤ë¡œ í‘œí˜„í•œë‹¤. Context ê°ì²´ëŠ” í˜•ì¬ ìƒíƒœì—ê²Œ í–‰ë™ì„ ìœ„ì„í•œë‹¤. ê° ìƒíƒœë¥¼ í´ë˜ìŠ¤ë¡œ ìº¡ìŠí™”í•´ì„œ ë‚˜ì¤‘ì— ë³€ê²½í•´ì•¼ í•˜ëŠ”ë‚´ìš©ì„ êµ­ì§€í™”í•  ìˆ˜ ìˆë‹¤. ìƒíƒœ íŒ¨í„´ê³¼ ì „ëµ íŒ¨í„´ì˜ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì€ ë˜‘ê°™ì§€ë§Œ ìš©ë„ëŠ” ë‹¤ë¥´ë‹¤. ì „ëµ íŒ¨í„´ì—ì„œ Contextì˜ ë‚´ë¶€ ìƒíƒœê°€ ë°”ë€œì— ë”°ë¼ ê°ì²´ê°€ ì•Œì•„ì„œ í–‰ë™ì„ ë°”ê¿€ ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆë‹¤. ìƒíƒœ ì „í™˜ì€ State í´ë˜ìŠ¤ë¡œ ì œì–´í•  ìˆ˜ë„ ìˆê³ , Context í´ë˜ìŠ¤ë¡œ ì œì–´í•  ìˆ˜ë„ ìˆë‹¤. State í´ë˜ìŠ¤ë¥¼ ì—¬ëŸ¬ Context ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ê³µìœ í•˜ë„ë¡ ë””ìì¸í•  ìˆ˜ë„ ìˆë‹¤. ","date":"2023-12-05T15:48:08+09:00","image":"https://codemario318.github.io/post/gof/10/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/10/","title":"10. ê°ì²´ì˜ ìƒíƒœ ë°”ê¾¸ê¸° - ìƒíƒœ íŒ¨í„´"},{"content":" ê°ì²´ë¥¼ ì»¬ë ‰ì…˜ì— ì¶”ê°€í•˜ëŠ” ë°©ë²•ì€ ì •ë§ ë‹¤ì–‘í•˜ê³ , í´ë¼ì´ì–¸íŠ¸ê°€ ì»¬ë ‰ì…˜ì— ë“¤ì–´ìˆëŠ” ëª¨ë“  ê°ì²´ì— ì¼ì¼ì´ ì ‘ê·¼í•˜ê³  ì‹¶ì–´í•˜ëŠ” ë‚ ì´ ì˜¬ ê²ƒì´ë‹¤.\nê·¸ëŸ° ë‚ ì´ ì˜¤ë”ë¼ë„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë¶€ ë³´ì—¬ ì¤„ í•„ìš”ëŠ” ì—†ìœ¼ë©°, ê°ì²´ ì €ì¥ ë°©ì‹ì„ ë³´ì—¬ ì£¼ì§€ ì•Šìœ¼ë©´ì„œë„ í´ë¼ì´ì–¸íŠ¸ê°€ ê°ì²´ì— ì¼ì¼ì´ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì¤„ ìˆ˜ ìˆë‹¤.\nê·¸ë¦¬ê³  í•œ ë°©ì— ë©‹ì§„ ìë£Œ êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ”, ê°ì²´ë“¤ë¡œ êµ¬ì„±ëœ ìŠˆí¼ ì»¬ë ‰ì…˜ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.\në°˜ë³µì íŒ¨í„´ ë°˜ë³µì(iterator) íŒ¨í„´ì€ ì»¬ë ‰ì…˜ì˜ ìš”ì†Œë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•˜ì—¬ ë°˜ë³µì„ ìº¡ìŠí™”í•œë‹¤.\nì´ íŒ¨í„´ì„ í†µí•´ ì»¬ë ‰ì…˜ì˜ ë‚´ë¶€ í‘œí˜„ ë°©ì‹ì— ë…ë¦½ì ìœ¼ë¡œ ìš”ì†Œì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, í´ë¼ì´ì–¸íŠ¸ ì½”ë“œëŠ” ì»¬ë ‰ì…˜ ë‚´ë¶€ êµ¬ì¡°ì˜ ì„¸ë¶€ ì‚¬í•­ì„ ì•Œ í•„ìš”ê°€ ì—†ê²Œëœë‹¤.\níš¨ê³¼\nì»¬ë ‰ì…˜ ê°ì²´ì˜ ëª¨ë“  í•­ëª©ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì´ í†µì¼ë˜ë¯€ë¡œ ì¢…ë¥˜ì— ê´€ê³„ ì—†ì´ ëª¨ë“  ì§‘í•©ì²´ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤í˜•ì ì¸ ì½”ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ëª¨ë“  í•­ëª©ì— ì¼ì¼ì´ ì ‘ê¸€ã„´í•˜ëŠ” ì‘ì—…ì„ ì»¬ë ‰ì…˜ ê°ì²´ê°€ ì•„ë‹Œ ë°˜ë³µì ê°ì²´ê°€ ë§¡ê²Œëœë‹¤. ì§‘í•©ì²´ì˜ ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì´ ê°„ë‹¨í•´ì§€ê³  ì§‘í•©ì²´ëŠ” ê°ì²´ ì»¬ë ‰ì…˜ ê´€ë¦¬ì—ë§Œ ì „ë…í•  ìˆ˜ ìˆë‹¤. êµ¬ì¡° ì•Œì•„ë³´ê¸° classDiagram direction LR class Aggregate { \u003c\u003c interface \u003e\u003e createIterator()* Iterator } class ConcreateAggregate { createIterator() } class Iterator { \u003c\u003c interface \u003e\u003e hasNext()* Boolean next()* Object remove()* void } class ConcreateIterator { hasNext() next() remove() } class Client { } Aggregate \u003c|.. ConcreateAggregate Iterator \u003c|.. ConcreateIterator Aggregate \u003c|-- Client Client --|\u003e Iterator ConcreateAggregate --|\u003e ConcreateIterator Aggregate ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í´ë¼ì´ì–¸ì™€ ê°ì²´ ì»¬ë ‰ì…˜ì˜ êµ¬í˜„ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤. Iterator ëª¨ë“  ë°˜ë³µìê°€ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ì»¬ë ‰ì…˜ì— ë“¤ì–´ìˆëŠ” ì›ì†Œì— ëŒì•„ê°€ë©´ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ ì£¼ëŠ” ë©”ì†Œë“œë¥¼ ì œê³µí•œë‹¤. ConcreteAggregate ê°ì²´ ì»¬ë ‰ì…˜ì´ ë“¤ì–´ìˆë‹¤. ê·¸ ì•ˆì— ë“¤ì–´ìˆëŠ” ì»¬ë ‰ì…˜ì„ Iteratorë¡œ ë¦¬í„´í•˜ëŠ” ë©”ì†Œë“œë¥¼ êµ¬í˜„í•œë‹¤. ëª¨ë“  ConcreteAggregateëŠ” ê·¸ ì•ˆì— ìˆëŠ” ê°ì²´ ì»¬ë ‰ì…˜ì„ ëŒ€ìƒìœ¼ë¡œ ëŒì•„ê°€ë©° ë°˜ë³µ ì‘ì—…ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ConcreteIteratorì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ConcreteIterator ë°˜ë³µ ì‘ì—… ì¤‘ì— í˜„ì¬ ìœ„ì¹˜ë¥¼ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•œë‹¤. ë‹¨ì¼ ì—­í•  ì›ì¹™ ì–´ë–¤ í´ë˜ìŠ¤ì—ì„œ ë§¡ê³  ìˆëŠ” ëª¨ë“  ì—­í• ì€ ë‚˜ì¤‘ì— ì½”ë“œ ë³€í™”ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.\nì¦‰ ì—­í• ì´ 2ê°œ ì´ìƒ ìˆìœ¼ë©´ ë°”ë€” ìˆ˜ ìˆëŠ” ë¶€ë¶„ì´ 2ê°œ ì´ìƒì´ ëœë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\nì§‘í•©ì²´ ë‚´ë¶€ ì»¬ë ‰ì…˜ ê´€ë ¨ ê¸°ëŠ¥ê³¼ ë°˜ë³µììš© ë©”ì†Œë“œ ê´€ë ¨ ê¸°ëŠ¥ì„ ì „ë¶€ êµ¬í˜„í•œë‹¤ë©´ 2ê°€ì§€ ì´ìœ ë¡œ í´ë˜ìŠ¤ê°€ ë°”ë€” ìˆ˜ ìˆë‹¤.\nì»¬ë ‰ì…˜ì´ ì–´ë–¤ ì´ìœ ë¡œ ë³€ê²½ ë°˜ë³µì ê´€ë ¨ ê¸°ëŠ¥ì´ ë³€ê²½ ì´ëŸ¬í•œ ì´ìœ ë¡œ ì–´ë–¤ í´ë˜ìŠ¤ê°€ ë°”ë€ŒëŠ” ì´ìœ ëŠ” í•˜ë‚˜ ë¿ì´ì–´ì•¼ í•œë‹¤.\nì‘ì§‘ë„(cohesion)\ní´ë˜ìŠ¤ ë˜ëŠ” ëª¨ë“ˆì´ íŠ¹ì • ëª©ì ì´ë‚˜ ì—­í• ì„ ì–¼ë§ˆë‚˜ ì¼ê´€ë˜ê²Œ ì§€ì›í•˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì²™ë„ì´ë‹¤.\nì‘ì§‘ë„ê°€ ë†’ë‹¤ëŠ” ê²ƒì€ ì„œë¡œ ì—°ê´€ëœ ê¸°ëŠ¥ì´ ë¬¶ì—¬ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸ ì‘ì§‘ë„ê°€ ë‚®ë‹¤ëŠ” ê²ƒì€ ì„œë¡œ ìƒê´€ì—†ëŠ” ê¸°ëŠ¥ë“¤ì´ ë¬¶ì—¬ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸ Java Iterable ì¸í„°í˜ì´ìŠ¤ ì•Œì•„ë³´ê¸° ìë°”ì˜ ëª¨ë“  ì»¬ë ‰ì…˜ ìœ í˜•ì—ì„œ Iterable ì¸í„°í˜ì´ìŠ¤ë¥´ êµ¬í˜„í•œë‹¤.\nclassDiagram class Iterable { \u003c\u003c interface \u003e\u003e iterator()* Iterator +forEach()* +spliterator()* } class Iterator { \u003c\u003c interface \u003e\u003e hasNext()* Boolean next()* Object +remove()* void } class Collection { \u003c\u003c interface \u003e\u003e add()* addAll()* clear()* contains()* containsAll()* equals()* hashCode()* isEmpty()* iterator()* remove()* removeAll()* retainAll()* size()* toArray()* } Iterable \u003c|-- Collection ì–´ë–¤ í´ë˜ìŠ¤ì—ì„œ Iterableì„ êµ¬í˜„í•œë‹¤ë©´ ê·¸ í´ë˜ìŠ¤ëŠ” iterator() ë©”ì†Œë“œë¥´ êµ¬í˜„í•œë‹¤. ë©”ì†Œë“œëŠ” Iterator ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°˜ë³µìë¥¼ ë°˜í™˜í•œë‹¤. ì´ ì¸í„°í˜ì´ìŠ¤ëŠ” ì»¬ë ‰ì…˜ì— ìˆëŠ” í•­ëª©ì„ ëŒ€ìƒìœ¼ë¡œ ë°˜ë³µ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•˜ëŠ” forEach() ë©”ì†Œë“œê°€ ê¸°ë³¸ìœ¼ë¡œ í¬í•¨ëœë‹¤. ì»´í¬ì§€íŠ¸ íŒ¨í„´ ì»´í¬ì§€íŠ¸ íŒ¨í„´(Composite Pattern)ì€ ê°ì²´ë“¤ì„ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ êµ¬ì„±í•˜ì—¬ ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´(ê·¸ë£¹í™”ëœ ê°ì²´)ë¥¼ ë™ì¼í•˜ê²Œ ë‹¤ë£° ìˆ˜ ìˆë„ë¡ í•˜ëŠ” êµ¬ì¡°ì ì¸ ë””ìì¸ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì´ë‹¤.\nì´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ ë‹¨ì¼ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ êµ¬ë³„í•˜ì§€ ì•Šê³  ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆë‹¤.\nê°ì²´ì˜ êµ¬ì„±ê³¼ ê°œë³„ ê°ì²´ë¥¼ ë…¸ë“œë¡œ ê°€ì§€ëŠ” íŠ¸ë¦¬ í˜•íƒœì˜ ê°ì²´ êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì´ëŸ° ë³µí•© êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë©´ ë³µí•© ê°ì²´ì™€ ê°œë³„ ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ë˜‘ê°™ì€ ì‘ì—…ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤. ë³µí•© ê°ì²´ì™€ ê°œë³„ ê°ì²´ë¥¼ êµ¬ë¶„í•  í•„ìš”ê°€ ê±°ì˜ ì—†ì–´ì§„ë‹¤. classDiagram class Client { } class Component { \u003c\u003c abstract \u003e\u003e operation()* add(Component)* remove(Component)* getChild(int)* } class Leaf { operation() } class Composite { operation() add(Component) remove(Component) getChild(int) } Client --\u003e Component Component \u003c|-- Leaf Component \u003c|-- Composite Component \u003c-- Composite 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 // 1. Component ì¸í„°í˜ì´ìŠ¤ interface Component { void operation(); } // 2. Leaf í´ë˜ìŠ¤ (ë‹¨ì¼ ê°ì²´) class Leaf implements Component { private String name; public Leaf(String name) { this.name = name; } @Override public void operation() { System.out.println(\u0026#34;Leaf \u0026#34; + name + \u0026#34; operation\u0026#34;); } } // 3. Composite í´ë˜ìŠ¤ (ë³µí•© ê°ì²´) class Composite implements Component { private String name; private List\u0026lt;Component\u0026gt; children = new ArrayList\u0026lt;\u0026gt;(); public Composite(String name) { this.name = name; } public void add(Component component) { children.add(component); } public void remove(Component component) { children.remove(component); } @Override public void operation() { System.out.println(\u0026#34;Composite \u0026#34; + name + \u0026#34; operation\u0026#34;); for (Component child : children) { child.operation(); } } } // í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ public class Client { public static void main(String[] args) { // Leaf ê°ì²´ ìƒì„± Leaf leaf1 = new Leaf(\u0026#34;Leaf 1\u0026#34;); Leaf leaf2 = new Leaf(\u0026#34;Leaf 2\u0026#34;); // Composite ê°ì²´ ìƒì„± ë° Leaf ê°ì²´ ì¶”ê°€ Composite composite = new Composite(\u0026#34;Composite 1\u0026#34;); composite.add(leaf1); composite.add(leaf2); // ë‘ ê°œì˜ Leafì™€ Compositeë¥¼ ëª¨ë‘ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë‹¤ë£¸ composite.operation(); } } ì»´í¬ì§€íŠ¸ íŒ¨í„´ì€ í•œ í´ë˜ìŠ¤ì—ì„œ ê³„ì¸µêµ¬ì¡°ë¥¼ ê´€ë¦¬í•˜ëŠ” ì¼ê³¼ ê´€ë ¨ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì¼ 2ê°€ì§€ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\nì»´í¬ì§€íŠ¸ íŒ¨í„´ì€ ë‹¨ì¼ ì—­í•  ì›ì¹™ì„ ê¹¨ëŠ” ëŒ€ì‹  íˆ¬ëª…ì„±ì„ í™•ë³´í•˜ëŠ” íŒ¨í„´ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.\níˆ¬ëª…ì„±(transparency)\nComponent ì¸í„°í˜ì´ìŠ¤ì— ìì‹ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥ê³¼ ììœ¼ë¡œì¨ì˜ ê¸°ëŠ¥ì„ ì „ë¶€ ë„£ì–´ì„œ í´ë¼ì´ì–¸íŠ¸ê°€ ë³µí•© ê°ì²´ì™€ ìì„ ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nì´ë¥¼ í†µí•´ ì–´ë–¤ ì›ì†Œê°€ ë³µí•© ê°ì²´ì¸ì§€ ìì¸ì§€ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ íˆ¬ëª…í•˜ê²Œ ë³´ì¸ë‹¤.\nComponent í´ë˜ìŠ¤ì—ëŠ” ë‘ ì¢…ë¥˜ì˜ ê¸°ëŠ¥ì´ ëª¨ë‘ ë“¤ì–´ìˆë‹¤ ë³´ë‹ˆ ì•ˆì „ì„±ì€ ì•½ê°„ ë–¨ì–´ì§„ë‹¤.\nì´ëŸ° ë¬¸ì œëŠ” ë””ìì¸ìƒì˜ ê²°ì • ì‚¬í•­ì— ì†í•˜ë©°, ë‹¤ë¥¸ ë°©í–¥ìœ¼ë¡œ ë””ìì¸í•´ì„œ ì—¬ëŸ¬ ì—­í• ì„ ì„œë¡œ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ë¶„ë¦¬í•  ìˆ˜ë„ ìˆë‹¤.\nì–´ë–¤ ì›ì†Œì— ë¶€ì ì ˆí•œ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì¼ì´ ì¼ì–´ë‚˜ì§€ ì•Šì„ ê²ƒì´ê³ , ì»´íŒŒì¼ ì¤‘ í˜¹ì€ ì‹¤í–‰ ì¤‘ ë¬¸ì œê°€ ìƒê¸°ëŠ” ì¼ì„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤. ê·¸ ëŒ€ì‹  íˆ¬ëª…ì„±ì´ ë–¨ì–´ì§€ê²Œ ë˜ê³ , ì½”ë“œì—ì„œ ì¡°ê±´ë¬¸ì´ë¼ë“ ê°€ instanceof ì—°ì‚°ì ê°™ì€ ê±¸ ì¨ì•¼í•œë‹¤. ì •ë¦¬ ë°˜ë³µì íŒ¨í„´ ì»¬ë ‰ì…˜ì˜ êµ¬í˜„ ë°©ë²•ì„ ë…¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ì„œ ì§‘í•©ì²´ ë‚´ì˜ ëª¨ë“  í•­ë³µì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤. ì»´í¬ì§€íŠ¸ íŒ¨í„´ ê°ì²´ë¥¼ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ êµ¬ì„±í•´ì„œ ë¶€ë¶„-ì „ì²´ ê³„ì¸µ êµ¬ì¡°ë¥¼ êµ¬í˜„í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ ë˜‘ê°™ì€ ë°©ë²•ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ë°˜ë³µìë¥¼ ì‚¬ìš©í•˜ë©´ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë“œëŸ¬ë‚´ì§€ ì•Šìœ¼ë©´ì„œë„ í´ë¼ì´ì–¸íŠ¸ê°€ ì»¬ë ‰ì…˜ ì•ˆì— ë“¤ì–´ìˆëŠ” ëª¨ë“  ì›ì†Œì— ì ‘ê·¼í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤. ë°˜ë³µì íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì§‘í•©ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” ë°˜ë³µ ì‘ì—…ì„ ë³„ë„ì˜ ê°ì²´ë¡œ ìº¡ìŠí™”í•  ìˆ˜ ìˆë‹¤. ë°˜ë³µì íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì»¬ë ‰ì…˜ì— ìˆëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ ëŒ€ìƒìœ¼ë¡œ ë°˜ë³µ ì‘ì—…ì„ í•˜ëŠ” ì—­í• ì„ ì»¬ë ‰ì…˜ì—ì„œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤. ë°˜ë³µì íŒ¨í„´ì„ ì“°ë©´ ë°˜ë³µ ì‘ì—…ì— ë˜‘ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì§‘í•©ì²´ì— ìˆëŠ” ê°ì²´ë¥¼ í™œìš©í•˜ëŠ” ì½”ë“œë¥¼ ë§Œë“¤ ë•Œ ë‹¤í˜•ì„±ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. í•œ í´ë˜ìŠ¤ì—ëŠ” ë  ìˆ˜ ìˆìœ¼ë©´ í•œê°€ì§€ ì—­í• ë§Œ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì»´í¬ì§€íŠ¸ íŒ¨í„´ì€ ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ ëª¨ë‘ ë‹´ì•„ ë‘˜ ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ ì œê³µí•œë‹¤. ì»´í¬ì§€íŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ê°œë³„ ê°ì²´ì™€ ë³µí•© ê°ì²´ë¥¼ ë˜‘ê°™ì€ ë°©ë²•ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆë‹¤. ë³µí•© êµ¬ì¡°ì— ë“¤ì–´ìˆëŠ” ê²ƒì„ êµ¬ì„± ìš”ì†Œë¼ê³  ë¶€ë¥¸ë‹¤. êµ¬ì„± ìš”ì†Œì—ëŠ” ë³µí•© ê°ì²´ì™€ ì ê°ì²´ê°€ ìˆë‹¤. ì»´í¬ì§€íŠ¸ íŒ¨í„´ì„ ì ìš©í•  ë•ŒëŠ” ì—¬ëŸ¬ ì¥ë‹¨ì ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤. ìƒí™©ì— ë”°ë¼ íˆ¬ëª…ì„±ê³¼ ì•ˆì •ì„± ì‚¬ì´ì—ì„œ ì ì ˆí•œ ê· í˜•ì„ ì°¾ì•„ì•¼í•œë‹¤. ","date":"2023-12-01T11:42:08+09:00","image":"https://codemario318.github.io/post/gof/9/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/9/","title":"9. ì»¬ë ‰ì…˜ ì˜ ê´€ë¦¬í•˜ê¸° - ë°˜ë³µì íŒ¨í„´ê³¼ ì»´í¬ì§€íŠ¸ íŒ¨í„´"},{"content":" íƒ¬í”Œë« ë©”ì†Œë“œ íŒ¨í„´(Template Method Pattern)ì€ ì•Œê³ ë¦¬ì¦˜ì˜ ê³¨ê²©ì„ ì •ì˜í•œë‹¤.\ní…œí”Œë¦¿ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì•Œê³ ë¦¬ì¦˜ì˜ ì¼ë¶€ ë‹¨ê³„ë¥¼ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë©°, ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì • ë‹¨ê³„ë¥¼ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.\ní…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ì•Œê³ ë¦¬ì¦˜ì˜ í…œí”Œë¦¿ì„ ë§Œë“ ë‹¤.\ní…œí”Œë¦¿ì´ë€?\nì¼ë ¨ì˜ ë‹¨ê³„ë¡œ ì•Œê³ ë¦¬ì¦˜ì„ ì •ì˜í•œ ë©”ì†Œë“œì´ë‹¤.\nì—¬ëŸ¬ ë‹¨ê³„ ê°€ìš´ë° í•˜ë‚˜ ì´ìƒì˜ ë‹¨ê³„ê°€ ì¶”ìƒ ë©”ì†Œë“œë¡œ ì •ì˜ë˜ë©°, ê·¸ ì¶”ìƒ ë©”ì†Œë“œëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ëœë‹¤.\nì´ëŸ¬í•œ ë°©ì‹ì„ í†µí•´ ì„œë¸Œí´ë˜ìŠ¤ê°€ ì¼ë¶€ë¶„ì˜ êµ¬í˜„ì„ ì²˜ë¦¬í•˜ë©´ì„œë„ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ëŠ” ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤. êµ¬ì„± ìš”ì†Œ classDiagram class AbstractClass { \u003c\u003c abstract \u003e\u003e templeteMethod() primitiveOpertion1()* primitiveOpertion2()* } class ConcreteClass { primitiveOperation1() primitiveOperation2() } class templateMethod { primtiveOperation1() primitiveOpertion2() } AbstractClass \u003c|-- ConcreteClass AbstractClass .. templateMethod AbstractClass: ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ë©°, ì¼ë¶€ ë‹¨ê³„ëŠ” ì¶”ìƒ ë©”ì†Œë“œë¡œ ì„ ì–¸í•˜ì—¬ í•˜ìœ„ í´ë˜ìŠ¤ì—ê²Œ ìœ„ì„í•œë‹¤. ConcreteClass: ì¶”ìƒ í´ë˜ìŠ¤ì—ì„œ ì •ì˜ëœ ì¶”ìƒ ë©”ì†Œë“œë¥´ êµ¬í˜„í•˜ì—¬ ì•Œê³ ë¦¬ì¦˜ì˜ ì¼ë¶€ë¥¼ êµ¬ì²´í™”í•œë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public abstract class CaffeineBeverage { final void prepareRecipe() { boilWater(); brew(); pourInCup(); addCondiments(); } abstract void brew(); abstract void addCondiments(); void boilWater() { // ë©”ì†Œë“œ êµ¬í˜„ } void pourInCup() { // ë©”ì†Œë“œ êµ¬í˜„ } } í…œí”Œë¦¿ ë©”ì†Œë“œëŠ” ì•Œê³ ë¦¬ì¦˜ì˜ ê° ë‹¨ê³„ë¥¼ ì •ì˜í•˜ë©°, ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¼ë¶€ ë‹¨ê³„ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ ìœ ë„í•˜ëŠ”ë°, ìœ„ ì˜ˆì‹œì—ì„œ ì¹´í˜ì¸ ìŒë£Œë¥¼ ë§Œë“œëŠ” ì•Œê³ ë¦¬ì¦˜ í…œí”Œë¦¿ ë©”ì†Œë“œëŠ” prepareRecipe()ì´ë‹¤.\níƒ¬í”Œë¦¿ ë‚´ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ ê° ë‹¨ê³„ê°€ ë©”ì†Œë“œë¡œ í‘œí˜„ëœë‹¤. ì–´ë–¤ ë©”ì†Œë“œëŠ” CaffeineBerverageì—ì„œ ì²˜ë¦¬ëœë‹¤. ì–´ë– í•œ ë©”ì†Œë“œëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì²˜ë¦¬ëœë‹¤. ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì†Œë“œëŠ” abstractë¡œ ì„ ì–¸í•´ì•¼í•œë‹¤. í…œí”Œë¦¿ ë©”ì†Œë“œ í›„í¬ í›„í¬(hook)ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ì—ì„œ ì„ ì–¸ë˜ì§€ë§Œ ê¸°ë³¸ì ì¸ ë‚´ìš©ë§Œ êµ¬í˜„ë˜ì–´ ìˆê±°ë‚˜ ì•„ë¬´ ì½”ë“œë„ ë“¤ì–´ìˆì§€ ì•Šì€ ë©”ì†Œë“œì´ë‹¤.\nì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì„œë¸Œí´ë˜ìŠ¤ëŠ” ë‹¤ì–‘í•œ ìœ„ì¹˜ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì— ë¼ì–´ë“¤ ìˆ˜ ìˆë‹¤.(ë¬´ì‹œí•˜ê³  ë„˜ì–´ê°ˆ ìˆ˜ë„ ìˆë‹¤.)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 public abstract class CaffeineBeverageWithHook { final void prepareRecipe() { boilWater(); brew(); pourInCup(); if (customerWantsCondiments()) { addCondiments(); } } abstract void brew(); abstract void addCondiments(); void boilWater() { // ë©”ì†Œë“œ êµ¬í˜„ } void pourInCup() { // ë©”ì†Œë“œ êµ¬í˜„ } boolean customerWantsCondiments() { return true; } } í›„í¬ í™œìš©í•˜ê¸° í›„í¬ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ í›„í¬ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 public class CoffeeWithHook extends CaffeineBeverageWithHook { public void brew() { System.out.println(\u0026#39;ì»¤í”¼ ìš°ë¦¬ê¸°\u0026#39;); } public void addCondiments() { System.out.println(\u0026#34;ì´ê²ƒ ì €ê²ƒ ì¶”ê°€\u0026#34;); } public boolean customerWantsCondiments() { String answer = getUserInput(); if (answer.toLowerCase().startsWith(\u0026#34;y\u0026#34;)) { return true; } else { return false; } } private String getUserInput() { String answer = null; System.out.println(\u0026#39;ì´ê²ƒ ì €ê²ƒ ì¶”ê°€? (y/n)\u0026#39;); BufferedReader in = new BufferedReader(new InputStreamReader(System.in)); try { answer = in.readLine(); } catch (IOException ioe) { System.out.println(\u0026#34;IO Error!\u0026#34;); } if (answer == null) { answer = \u0026#34;no\u0026#34;; } return answer; } } í…œí”Œë¦¿ì„ ë§Œë“¤ ë•Œ ì¶”ìƒ ë©”ì†Œë“œë¥¼ ì¨ì•¼í•  ë•Œì™€ í›„í¬ë¥¼ ì¨ì•¼í•  ë•Œë¥¼ ì–´ë–»ê²Œ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ”ê°€? ì„œë¸Œí´ë˜ìŠ¤ê°€ ì•Œê³ ë¦¬ì¦˜ì´ íŠ¹ì • ë‹¨ê³„ë¥¼ ì œê³µí•´ì•¼ í•œë‹¤ë©´ ì¶”ìƒ ë©”ì†Œë“œë¥¼ ì¨ì•¼í•œë‹¤. ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì • ë‹¨ê³„ê°€ ì„ íƒì ìœ¼ë¡œ ì ìš©ëœë‹¤ë©´ í›„í¬ë¥¼ ì“´ë‹¤. í›„í¬ë¥¼ ì“°ë©´ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ í•„ìš”í•  ë•Œ í›„í¬ë¥¼ êµ¬í˜„í•  ìˆ˜ë„ ìˆì§€ë§Œ, ê¼­ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. í›„í¬ì˜ ìš©ë„ ì•Œê³ ë¦¬ì¦˜ì—ì„œ í•„ìˆ˜ì ì´ì§€ ì•Šì€ ë¶€ë¶„ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•˜ë„ë¡ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ í…œí”Œë¦¿ ë©”ì†Œë“œì—ì„œ ì•ìœ¼ë¡œ ì¼ì–´ë‚  ì¼ì´ë‚˜ ë§‰ ì¼ì–´ë‚œ ì¼ì— ì„œë¸Œí´ë˜ìŠ¤ê°€ ë°˜ì‘í•  ìˆ˜ ìˆë„ë¡ ê¸°íšŒë¥¼ ì œê³µí•˜ëŠ” ìš©ë„ë¡œ ë‚´ë¶€ì ìœ¼ë¡œ íŠ¹ì • ëª©ë¡ì„ ì¬ì •ë ¬í•œ í›„ì— ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ë„ë¡ í•˜ê³  ì‹¶ì€ ë•Œ ë“± ì„œë¸Œí´ë˜ìŠ¤ê°€ ì¶”ìƒ í´ë˜ìŠ¤ì—ì„œ ì§„í–‰ë˜ëŠ” ì‘ì—…ì„ ì²˜ë¦¬í•  ì§€ ë§ì§€ ê²°ì •í•˜ê²Œ í•˜ëŠ” ê¸°ëŠ¥ì„ ë¶€ì—¬í•˜ëŠ” ìš©ë„ ë“± ëª¨ë“  ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ëª¨ë“  ì¶”ìƒ ë©”ì†Œë“œë¥¼ ì •ì˜í•´ì•¼í•œë‹¤. í…œí”Œë¦¿ ë©”ì†Œë“œì— ìˆëŠ” ì•Œê³ ë¦¬ì¦˜ì˜ ë‹¨ê³„ ì¤‘ì—ì„œ ì •ì˜ë˜ì§€ ì•Šì€ ë¶€ë¶„ì„ ëª¨ë‘ ì±„ì›Œì¤˜ì•¼í•¨ ì¶”ìƒ ë©”ì†Œë“œê°€ ë„ˆë¬´ ë§ì•„ì§€ë©´ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¼ì¼ì´ ì¶”ìƒ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•˜ë¯€ë¡œ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ì•Œê³ ë¦¬ì¦˜ì˜ ë‹¨ê³„ë¥¼ ë„ˆë¬´ ì˜ê²Œ ìª¼ê°œì§€ ì•ŠëŠ” ê²ƒë„ í•œ ê°€ì§€ ë°©ë²•ì´ ë„ë¦¬ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì•Œê³ ë¦¬ì¦˜ì„ í¼ì§í•œ ëª‡ ê°€ì§€ ë‹¨ê³„ë¡œë§Œ ë‚˜ëˆ  ë†“ìœ¼ë©´ ìœ ì—°ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤. ëª¨ë“  ë‹¨ê³„ê°€ í•„ìˆ˜ëŠ” ì•„ë‹ˆë¯€ë¡œ í•„ìˆ˜ê°€ ì•„ë‹Œ ë¶€ë¶„ì„ í›„í¬ë¡œ êµ¬í˜„í•˜ë©´ ì¶”ìƒ í´ë˜ìŠ¤ì˜ ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ë¶€ë‹´ì´ ì¤„ ìˆ˜ ìˆë‹¤. í• ë¦¬ìš°ë“œ ì›ì¹™ í• ë¦¬ìš°ë“œ ì›ì¹™(Hollywood Principle)\në¨¼ì € ì—°ë½í•˜ì§€ ë§ˆì„¸ìš”. ì €í¬ê°€ ì—°ë½ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\ní• ë¦¬ìš°ë“œ ì›ì¹™ì„ í™œìš©í•˜ë©´ ì˜ì¡´ì„± ë¶€íŒ¨(Dependency rot)ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.\nì˜ì¡´ì„± ë¶€íŒ¨?\nì–´ë–¤ ê³ ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œê°€ ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œì— ì˜ì¡´í•˜ê³ , ê·¸ ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†ŒëŠ” ë‹¤ì‹œ ê³ ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œì— ì˜ì¡´í•˜ê²Œ ë˜ì–´ ì˜ì¡´ì„±ì˜ ë³µì¡í•˜ê²Œ ê¼¬ì—¬ìˆëŠ” ìƒí™©\nì˜ì¡´ì„±ì´ ë¶€íŒ¨í•˜ë©´ ì‹œìŠ¤í…œ ë””ìì¸ì´ ì–´ë–¤ ì‹ìœ¼ë¡œ ë˜ì–´ìˆëŠ”ì§€ ì•Œì•„ë³´ê¸° í˜ë“œë¯€ë¡œ, ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œê°€ ì‹œìŠ¤í…œì— ì ‘ì†í•  ìˆ˜ëŠ” ìˆì§€ë§Œ ì–¸ì œ, ì–´ë–»ê²Œ êµ¬ì„± ìš”ì†Œë¥¼ ì‚¬ìš©í• ì§€ëŠ” ê³ ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œê°€ ê²°ì •í•´ì•¼í•œë‹¤.\ní• ë¦¬ìš°ë“œ ì›ì¹™ê³¼ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´\ní…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì„ ì¨ì„œ ë””ìì¸í•˜ë©´ ê³ ìˆ˜ì¤€ ìš”ì†Œì—ì„œ ì €ìˆ˜ì¤€ ìš”ì†Œë¥¼ í•„ìš”í•  ë•Œë§Œ í˜¸ì¶œí•˜ëŠ” í˜•ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ê¸° ë•Œë¬¸ì— í• ë¦¬ìš°ë“œ ì›ì¹™ì„ ì ìš©í•˜ê²Œ ëœë‹¤.\ní• ë¦¬ìš°ë“œ ì›ì¹™ê³¼ ì˜ì¡´ì„± ë’¤ì§‘ê¸° ì›ì¹™\nì˜ì¡´ì„± ë’¤ì§‘ê¸° ì›ì¹™ì€ ë  ìˆ˜ ìˆìœ¼ë©´ êµ¬ìƒ í´ë˜ìŠ¤ ì‚¬ìš©ì„ ì¤„ì´ê³  ì¶”ìƒí™”ëœ ê²ƒì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ëŠ” ì›ì¹™ì´ë¼ë©´, í• ë¦¬ìš°ë“œ ì›ì¹™ì€ ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œê°€ ì»´í“¨í…Œì´ì…˜ì— ì°¸ì—¬í•˜ë©´ì„œë„ ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œì™€ ê³ ìˆ˜ì¤€ ê³„ì¸µ ê°„ ì˜ì¡´ì„ ì—†ì• ë„ë¡ í”„ë ˆì„ì›Œí¬ë‚˜ êµ¬ì„± ìš”ì†Œë¥¼ êµ¬ì¶•í•˜ëŠ” ê¸°ë²•ì´ë‹¤.\në”°ë¼ì„œ ê°ì²´ë¥¼ ë¶„ë¦¬í•œë‹¤ëŠ” í•˜ë‚˜ì˜ ëª©í‘œë¥¼ ê³µìœ í•˜ì§€ë§Œ, ì˜ì¡´ì„±ì„ í”¼í•˜ëŠ” ë°©ë²•ì— ìˆì–´ì„œ ì˜ì¡´ì„± ë’¤ì§‘ê¸° ìœˆì¹™ì´ í›¨ì”¬ ë” ê°•í•˜ê³  ì¼ë°˜ì ì¸ ë‚´ìš©ì„ ë‹´ê³  ìˆë‹¤.\ní• ë¦¬ìš°ë“œ ì›ì¹™ì€ ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œë¥¼ ë‹¤ì–‘í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©´ì„œë„ ë‹¤ë¥¸ í´ë˜ìŠ¤ê°€ êµ¬ì„± ìš”ì†Œì— ë„ˆë¬´ ì˜ì¡´í•˜ì§€ ì•Šê²Œ ë§Œë“¤ì–´ ì£¼ëŠ” ë””ìì¸ êµ¬í˜„ ê¸°ë²•ì„ ì œê³µí•œë‹¤.\ní…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ê³¼ ì „ëµ íŒ¨í„´ì˜ ì°¨ì´ì  í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ê³¼ ì „ëµ íŒ¨í„´ ëª¨ë‘ ì•Œê³ ë¦¬ì¦˜ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ê³ ìˆì§€ë§Œ ë‹¤ë¥¸ ì ‘ê·¼ ë°©ì‹ì„ ì·¨í•˜ê³ ìˆë‹¤.\ní…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³  ì¼ë¶€ ë‹¨ê³„ë¥¼ í•˜ìœ„ í´ë˜ìŠ¤ì— ìœ„ì„í•˜ì—¬ í™•ì¥ì„±ì„ ì œê³µí•˜ë©°, ì „ëµ íŒ¨í„´ì€ ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ê³  ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë° ì¤‘ì ì„ ë‘”ë‹¤.\nëª©ì  í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ ì£¼ë¡œ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ ì •ì˜í•˜ê³  ì¼ë¶€ ë‹¨ê³„ë¥¼ í•˜ìœ„ í´ë˜ìŠ¤ì—ê²Œ ìœ„ì„í•˜ì—¬ í™•ì •ì„±ì„ ì œê³µí•œë‹¤. ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ í‹€(í…œí”Œë¦¿)ì„ ì œê³µí•˜ê³  í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬ì²´ì ì¸ ë‹¨ê³„ë¥¼ êµ¬í˜„í•œë‹¤. ì „ëµ íŒ¨í„´ ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ê³  í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ì„ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. ì•Œê³ ë¦¬ì¦˜ì„ ê°ê°ì˜ ì „ëµìœ¼ë¡œ ì •ì˜í•˜ê³  ì´ë¥¼ ë™ì ìœ¼ë¡œ êµì²´í•˜ì—¬ ì‚¬ìš©í•œë‹¤. êµ¬í˜„ ë°©ì‹ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ ìƒìœ„ í´ë˜ìŠ¤ì—ëŠ” ì•Œê³ ë¦¬ì¦˜ì˜ í…œí”Œë¦¿ì´ ì¡´ì¬í•˜ë©°, ì¼ë¶€ ë‹¨ê³„ëŠ” ì¶”ìƒ ë©”ì†Œë“œë¡œ ì„ ì–¸ë˜ì–´ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„ëœë‹¤. í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” ì•Œê³ ë¦¬ì¦˜ì˜ ì¼ë¶€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤. ì „ëµ íŒ¨í„´ ì•Œê³ ë¦¬ì¦˜ì€ ì „ëµ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì •ì˜ë„ê³ , ê° ì „ëµì€ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤. ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ì‹¤í–‰ ì‹œì— ì›í•˜ëŠ” ì „ëµìœ¼ë¡œ êµì²´í•  ìˆ˜ ìˆë‹¤. í™•ì¥ì„± í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ë¥¼ í™•ì¥í•˜ëŠ” ë° ì í•©í•˜ë©°, ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ ì•Œê³ ë¦¬ì¦˜ì„ ë³€ê²½í•  ë•Œ ìœ ìš©í•˜ë‹¤. ì „ëµ íŒ¨í„´ ìƒˆë¡œìš´ ì „ëµì„ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ ì „ëµì„ ë³€ê²½í•  ë•Œ í™•ì¥ì„±ì´ ë›°ì–´ë‚˜ë‹¤. ëŸ°íƒ€ì¸ì— ë™ì ìœ¼ë¡œ ì „ëµì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ì˜ì¡´ì„± í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ ìƒìœ„ í´ë˜ìŠ¤ì™€ í•˜ìœ„ í´ë˜ìŠ¤ ê°„ì— ê°•í•œ ì˜ì¡´ì„±ì´ ìˆë‹¤. í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” ìƒìœ„ í´ë˜ìŠ¤ì˜ êµ¬ì¡°ë¥¼ ë”°ë¼ì•¼í•œë‹¤. ì „ëµ íŒ¨í„´ ì»¨í…ìŠ¤íŠ¸ì™€ ì „ëµ ê°„ì—ëŠ” ëŠìŠ¨í•œ ê²°í•©ì´ ìˆìœ¼ë©°, ê° ì „ëµì€ ë…ë¦½ì ìœ¼ë¡œ êµì²´ë  ìˆ˜ ìˆë‹¤. Java API ì† í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ì •ë§ ë§ì´ ì“°ì´ëŠ” íŒ¨í„´ì´ë¯€ë¡œ ì‰½ê²Œ ë°œê²¬í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ êµê³¼ì„œì ì¸ êµ¬í˜„ê³¼ëŠ” ë‹¤ë¥¸ í…œí”Œë¦¿ ë©”ì†Œë“œë„ ë§ì´ ìˆì–´ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ì§€ ì•Šìœ¼ë©´ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì´ ì ìš©ë˜ì–´ ìˆë‹¤ëŠ” ì‚¬ì‹¤ë„ ëª¨ë¥´ê³  ë„˜ì–´ê°€ê¸° ì‰½ë‹¤.\nArrays ì •ë ¬ ìë°”ì˜ Arrays í´ë˜ìŠ¤ì—ëŠ” ì •ë ¬í•  ë•Œ ì“¸ ìˆ˜ ìˆëŠ” í¸ë¦¬í•œ í…œí”Œë¦¿ ë©”ì†Œë“œê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.\nArraysì— ìˆëŠ” ì •ë ¬ìš© í…œí”Œë¦¿ ë©”ì†Œë“œì—ì„œ ì•Œê³ ë¦¬ì¦˜ì„ ì œê³µí•˜ì§€ë§Œ, íŠ¹ì • ìš”ì†Œ ë¹„êµ ë°©ë²•ì€ compareTo() ë©”ì†Œë“œë¡œ êµ¬í˜„í•´ì•¼í•œë‹¤.\ncompareTo() ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ê¸°ë§Œ í•˜ë©´ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„ ëœ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•˜ì—¬ ë°°ì—´ì˜ í•­ëª©ë“¤ì„ ì •ë ¬í•´ì¤€ë‹¤.\nJFrame JFrameì€ ê°€ì¥ ê¸°ë³¸ì ì¸ ìŠ¤ìœ™ ì»¨í…Œì´ë„ˆë¡œ paint() ë©”ì†Œë“œë¥¼ ìƒì†ë°›ëŠ” ì»¨í…Œì´ë„ˆì´ë‹¤.\npaint() ë©”ì†Œë“œëŠ” í›„í¬ ë©”ì†Œë“œë¼ì„œ ì•„ë¬´ ì¼ë„ í•˜ì§€ ì•Šì§€ë§Œ, ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ íŠ¹ì • í™”ë©´ ì˜ì—­ì— íŠ¹ì • ë‚´ìš©ì„ í‘œì‹œí•˜ëŠ” JFrameì˜ ì•Œê³ ë¦¬ì¦˜ì— ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ê·¸ë˜í”½ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\nAbstractList ArrayList, LinkedList ê°™ì€ ìë°”ì˜ ë¦¬ìŠ¤íŠ¸ ì»¬ë ‰ì…˜ì€ ë¦¬ìŠ¤íŠ¸ì—ì„œ í•„ìš”í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ ì£¼ëŠ” AbstractList í´ë˜ìŠ¤ë¥¼ í™•ì¥í•œë‹¤.\nAbstarctListì—ëŠ” get(), size() ì¶”ìƒ ë©”ì†Œë“œì— ì˜ì¡´í•˜ëŠ” subList() í…œí”Œë¦¿ ë©”ì†Œë“œê°€ ìˆì–´, AbstarctListë¥¼ í™•ì¥í•´ì„œ ë‚˜ë§Œì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ ë•ŒëŠ” ì´ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.\nì •ë¦¬ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ ì•Œê³ ë¦¬ì¦˜ì˜ ê³¨ê²©ì„ ì •ì˜í•œë‹¤. ì•Œê³ ë¦¬ì¦˜ì˜ ì¼ë¶€ ë‹¨ê³„ë¥¼ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ì•Œê³ ë¦¬ì¦˜ì˜ êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì • ë‹¨ê³„ë¥¼ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤. í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ì½”ë“œ ì¬ì‚¬ìš©ì— í° ë„ì›€ì´ ëœë‹¤. í…œí”Œë¦¿ ë©”ì†Œë“œê°€ ë“¤ì–´ìˆëŠ” ì¶”ìƒ í´ë˜ìŠ¤ëŠ” êµ¬ìƒ ë©”ì†Œë“œ, ì¶”ìƒ ë©”ì†Œë“œ, í›„í¬ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ì¶”ìƒ ë©”ì†Œë“œëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•œë‹¤. í›„í¬ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ì— ë“¤ì–´ìˆëŠ” ë©”ì†Œë“œë¡œ ì•„ë¬´ ì¼ë„ í•˜ì§€ ì•Šê±°ë‚˜ ê¸°ë³¸ í–‰ë™ë§Œì„ ì •ì˜í•œë‹¤. ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ í›„í¬ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•  ìˆ˜ ìˆë‹¤. í• ë¦¬ìš°ë“œ ì›ì¹™ì— ì˜í•˜ë©´, ì €ìˆ˜ì¤€ ëª¨ë“ˆì„ ì–¸ì œ ì–´ë–»ê²Œ í˜¸ì¶œí• ì§€ëŠ” ê³ ìˆ˜ì¤€ ëª¨ë“ˆì—ì„œ ê²°ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ì‹¤ì „ì—ì„œ ììˆ˜ ì“°ì´ì§€ë§Œ êµê³¼ì„œì ì¸ ë°©ì‹ìœ¼ë¡œ ì ìš©ë˜ì§„ ì•ŠëŠ”ë‹¤. ì „ëµ íŒ¨í„´ê³¼ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ëª¨ë‘ ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ì§€ë§Œ, ì „ëµ íŒ¨í„´ì€ êµ¬ì„±ì„, í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì€ ìƒì†ì„ ì‚¬ìš©í•œë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì€ íŠ¹í™”ëœ í…œí”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´ì´ë‹¤. ","date":"2023-11-21T06:37:08+09:00","image":"https://codemario318.github.io/post/gof/8/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/8/","title":"8. ì•Œê³ ë¦¬ì¦˜ ìº¡ìŠí™”í•˜ê¸° - íƒ¬í”Œë¦¿ ë©”ì†Œë“œ íŒ¨í„´"},{"content":" íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•œ ë””ìì¸ì„ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ì—ì„œ í•„ìš”í•  ë•Œ(í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•  ë•Œ), ì–´ëŒ‘í„° íŒ¨í„´ì„ ì´ìš©í•˜ë©´ ì‹¤ì œì™€ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§„ ê²ƒ ì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nì—¬ê¸°ì— ë”í•´ í¼ì‚¬ë“œ íŒ¨í„´ì„ ì´ìš©í•˜ë©´ ê°ì²´ë¥¼ ê°ì‹¸ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆë‹¤.\nì–´ëŒ‘í„° íŒ¨í„´ ì™œ ì–´ëŒ‘í„° íŒ¨í„´ì¼ê¹Œ? ì–´ëŒ‘í„° íŒ¨í„´ì—ì„œ ì˜ë¯¸í•˜ëŠ” ì–´ëŒ‘í„°(Adaptor)ëŠ” í”íˆ ë³¼ ìˆ˜ ìˆëŠ” AC ì „ì› ì–´ëŒ‘í„°ì— ì‚¬ìš©ë˜ëŠ” ì˜ë¯¸ì™€ ê°™ë‹¤.\nAC ì „ì› ì–´ëŒ‘í„°ëŠ” ë‹¤ë¥¸ ê·œê²©ì˜ í”ŒëŸ¬ê·¸ë¥¼ í•„ìš”ë¡œí•˜ëŠ” ì†Œì¼“ì— ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ”ë°, ê°ì²´ì§€í–¥ ì–´ëŒ‘í„°ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼(í”ŒëŸ¬ê·¸)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤(ì†Œì¼“)ì— ë§ëŠ” í˜•íƒœë¡œ ì ì‘ì‹œí‚¤ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\nì–´ëŒ‘í„° íŒ¨í„´ì˜ ì •ì˜ **ì–´ëŒ‘í„° íŒ¨í„´(Adapter Pattern)**ì€ ì¸í„°í˜ì´ìŠ¤ê°€ í˜¸í™˜ë˜ì§€ ì•Šì•„ ê°™ì´ ì“¸ ìˆ˜ ì—†ì—ˆë˜ í´ë˜ìŠ¤ë¥¼ íŠ¹ì • í´ë˜ìŠ¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìš”êµ¬í•˜ëŠ” ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤€ë‹¤.\nì–´ëŒ‘í„° íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤.\ní´ë¼ì´ì–¸íŠ¸ì™€ êµ¬í˜„ëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤. ë³€ê²½ ë‚´ì—­ì´ ì–´ëŒ‘í„°ì— ìº¡ìŠí™”ë˜ë¯€ë¡œ ë‚˜ì¤‘ì— ì¸í„°í˜ì´ìŠ¤ê°€ ë°”ë€Œë”ë¼ë„ í´ë¼ì´ì–¸íŠ¸ë¥¼ ë°”ê¿€ í•„ìš”ê°€ ì—†ë‹¤. classDiagram direction LR class Client { } class Target { \u003c\u003c interface \u003e\u003e request()* } class Adapter { request() } class Adaptee { specificRequest() } Client--\u003eTarget Target\u003c..Adapter Adapter--\u003eAdaptee í´ë¼ì´ì–¸íŠ¸ëŠ” íƒ€ê¹ƒ ì¸í„°í˜ì´ìŠ¤ë§Œ ë³¼ ìˆ˜ ìˆë‹¤. ì–´ëŒ‘í„°ì—ì„œ íƒ€ê¹ƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤. ì–´ëŒ‘í„°ëŠ” ì–´ëŒ‘í‹°ë¡œ êµ¬ì„±ë˜ì–´ìˆë‹¤. ëª¨ë“  ìš”ì²­ì€ ì–´ëŒ‘í‹°ì— ìœ„ì„ëœë‹¤. ì–´ëŒ‘í„°ëŠ” ì—¬ëŸ¬ ê°ì²´ì§€í–¥ ì›ì¹™ì„ ë°˜ì˜í•˜ê³  ìˆë‹¤.\nì–´ëŒ‘í‹°ë¥¼ ìƒˆë¡œ ë°”ë€ ì¸í„°í˜ì´ìŠ¤ë¡œ ê°ìŒ€ ë•ŒëŠ” ê°ì²´ êµ¬ì„±(composition)ì„ ì‚¬ìš©í•œë‹¤. ì´ëŸ¬í•œ ì ‘ê·¼ìœ¼ë¡œ ì–´ëŒ‘í‹°ì˜ ëª¨ë“  ì„œë¸Œí´ë˜ìŠ¤ì— ì–´ëŒ‘í„°ë¥¼ ì“¸ ìˆ˜ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸ë¥¼ íŠ¹ì • êµ¬í˜„ì´ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤ì— ì—°ê²°í•œë‹¤. ì„œë¡œ ë‹¤ë¥¸ ë°±ì—”ë“œ í´ë˜ìŠ¤ë¡œ ë³€í™˜ì‹œí‚¤ëŠ” ì—¬ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ êµ¬í˜„í•˜ë¯€ë¡œ íƒ€ê¹ƒ ì¸í„°í˜ì´ìŠ¤ë§Œ ì œëŒ€ë¡œ ìœ ì§€í•œë‹¤ë©´ ë‚˜ì¤‘ì— ë‹¤ë¥¸ êµ¬í˜„ì„ ì¶”ê°€í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. í´ë˜ìŠ¤ ì–´ëŒ‘í„° ì–´ëŒ‘í„° íŒ¨í„´ì€ ê°ì²´ ì–´ëŒ‘í„°ì™€ í´ë˜ìŠ¤ ì–´ëŒ‘í„°ë¡œ ë‘ ì¢…ë¥˜ê°€ ìˆë‹¤.\ní´ë˜ìŠ¤ ì–´ëŒ‘í„°ëŠ” ë‹¤ì¤‘ ìƒì†ì´ ê°€ëŠ¥í•´ì•¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ ì–´ëŒ‘í„°ëŠ” íƒ€ê¹ƒê³¼ ì–´ëŒ‘í‹° ëª¨ë‘ ì„œë¸Œí´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ê³ , ê°ì²´ ì–´ëŒ‘í„°ëŠ” êµ¬ì„±ìœ¼ë¡œ ì–´ëŒ‘í‹°ì— ìš”ì²­ì„ ì „ë‹¬í•œë‹¤.\nclassDiagram direction LR class Client { } class Target { request() } class Adapter { request() } class Adaptee { specificRequest() } Client--\u003eTarget Adapter--|\u003eTarget Adapter--|\u003eAdaptee ê°ì²´ ì–´ëŒ‘í„°\nêµ¬ì„±ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì–´ëŒ‘í‹° í´ë˜ìŠ¤ì™€ ê·¸ ì„œë¸Œí´ë˜ìŠ¤ì— ëŒ€í•´ì„œë„ ì–´ëŒ‘í„° ì—­í• ì„ í•  ìˆ˜ ìˆë‹¤. êµ¬ì„±ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì–´ëŒ‘í‹°í•œí…Œ í•„ìš”í•œ ì¼ì„ ì‹œí‚¤ëŠ” ì½”ë“œë§Œ ë§Œë“¤ë©´ ë˜ë¯€ë¡œ ì½”ë“œë¥¼ ë§ì´ ì“¸ í•„ìš”ê°€ ì—†ë‹¤. êµ¬ì„±ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ìœ ì—°ì„±ì„ ìµœëŒ€í•œ í™•ë³´í•  ìˆ˜ ìˆë‹¤. ì–´ëŒ‘í„° ì½”ë“œì— ì–´ë–¤ í–‰ë™ì„ ì¶”ê°€í•˜ë©´ ê·¸ ì–´ëŒ‘í„° ì½”ë“œëŠ” ì–´ëŒ‘í‹° í´ë˜ìŠ¤ì™€ ë”ë¶ˆì–´ ëª¨ë“  ì„œë¸Œí´ë˜ìŠ¤ì— ê·¸ëŒ€ë¡œ ì ìš©ëœë‹¤. í´ë˜ìŠ¤ ì–´ëŒ‘í„°\níŠ¹ì • ì–´ëŒ‘í‹° í´ë˜ìŠ¤ì—ë§Œ ì ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ì–´ëŒ‘í‹° ì „ì²´ë¥¼ ë‹¤ì‹œ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ì„œë¸Œí´ë˜ìŠ¤ë¼ì„œ ì–´ëŒ‘í‹°ì˜ í–‰ë™ì„ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì½”ë“œ ë¶„ëŸ‰ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë©”ì†Œë“œë¥¼ ë¹ ë¥´ê²Œ ì˜¤ë²„ë¼ì´ë“œ í•  ìˆ˜ ìˆë‹¤. Enumerationì„ Iteratorì— ì ì‘ì‹œí‚¤ê¸° Enumeration\nclassDiagram class Enumeration { \u003c\u003c interface \u003e\u003e hasMoreElements()* nextElement()* } ìë°”ì˜ ì´ˆê¸° ì»¬ë ‰ì…˜ í˜•ì‹(Vector, Stack, Hashtable)ì€ Enumerationì„ ë°˜í™˜í•˜ëŠ” elements() ë©”ì†Œë“œê°€ êµ¬í˜„ë˜ì–´ ìˆì—ˆëŠ”ë°, Enumeration ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¬ë ‰ì…˜ì˜ ê° í•­ëª©ì´ ì–´ë–»ê²Œ ê´€ë¦¬ë˜ëŠ”ì§€ ì‹ ê²½ ì“¸ í•„ìš” ì—†ì´ ì»¬ë ‰ì…˜ì˜ ëª¨ë“  í•­ëª©ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\nIterator\nclassDiagram class Iterator { \u003c\u003c interface \u003e\u003e hasNext()* next()* remove()* } ìµœê·¼ì—ëŠ” ì»¬ë ‰ì…˜ì— ìˆëŠ” ì¼ë ¨ì˜ í•­ëª©ì— ì ‘ê·¼í•˜ê³ , ê·¸ í•­ëª©ì„ ì œê±°í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” Iterator ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸° ì‹œì‘í–ˆë‹¤.\nEnumeration ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” êµ¬í˜• ì½”ë“œë¥¼ ë‹¤ë¤„ì•¼ í•  ë•Œë„ ìˆì§€ë§Œ ìƒˆë¡œìš´ ì½”ë“œë¥¼ ë§Œë“¤ ë•ŒëŠ” Iteratorë§Œ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ë‹¤. ì´ëŸ´ ë•Œ ì–´ëŒ‘í„° íŒ¨í„´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì–´ëŒ‘í„° ë””ìì¸í•˜ê¸°\níƒ€ê¹ƒ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³ , ì–´ëŒ‘í‹° ê°ì²´ë¡œ êµ¬ì„±ëœ ì–´ëŒ‘í„°ë¥¼ êµ¬í˜„í•´ì•¼í•œë‹¤.\nclassDiagram direction TB class Enumeration { \u003c\u003c interface \u003e\u003e hasMoreElements()* nextElement()* } class EnumerationIterator { hasNext() next() remove() } class Iterator { \u003c\u003c interface \u003e\u003e hasNext()* next()* remove()* } Iterator \u003c|.. EnumerationIterator Enumeration \u003c|-- EnumerationIterator hasNext()ì™€ next() ë©”ì†Œë“œëŠ” íƒ€ê¹ƒì—ì„œ ì–´ëŒ‘í‹°ë¡œ ë°”ë¡œ ì—°ê²°ë˜ì§€ë§Œ remove() ë©”ì†Œë“œëŠ” ì œê³µí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë³„ë„ êµ¬í˜„ì´ í•„ìš”í•˜ë‹¤.\nremove() ë©”ì†Œë“œ ì²˜ë¦¬í•˜ê¸°\nê²°ë¡ ì ìœ¼ë¡œ ì–´ëŒ‘í„° ì°¨ì›ì—ì„œ ì™„ë²½í•˜ê²Œ ì‘ë™í•˜ëŠ” remove() ë©”ì†Œë“œ êµ¬í˜„ ë°©ë²•ì€ ì—†ë‹¤.\nê·¸ë‚˜ë§ˆ ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ ëŸ°íƒ€ì„ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ” ê²ƒ ì´ë‹¤.\nì´ëŸ¬í•œ ìƒí™©ì„ ëŒ€ë¹„í•˜ì—¬ Iterator ì¸í„°í˜ì´ìŠ¤ë¥¼ ë””ìì¸ í•œ ì‚¬ëŒë“¤ì€ UnsupportedOperationExcetpionì„ ì§€ì›í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public class EnumerationIterator implements Iterator\u0026lt;Object\u0026gt; { EnumerationIterator\u0026lt;?\u0026gt; enumeration; public EnumerationIterator(Enumeration\u0026lt;?\u0026gt; enumeration) { this.enumeration = enumeration; } public boolean hasNext() { return enumeration.hasMoreElements(); } public Object next() { return enumeration.nextElement(); } public void remove() { throw new UnsupportedOperationException(); } } ë°ì½”ë ˆì´í„° íŒ¨í„´ê³¼ ì–´ëŒ‘í„° íŒ¨í„´ ë°ì½”ë ˆì´í„° íŒ¨í„´ê³¼ ì–´ëŒ‘í„° íŒ¨í„´ì€ ëª¨ë‘ êµ¬ì¡°ì  íŒ¨í„´(Structural pattern)ì— ì†í•˜ëŠ”ë°, ê¸°ì¡´ í´ë˜ìŠ¤ë“¤ì„ ì¡°í•©í•˜ì—¬ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì œê³µí•˜ê±°ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§ì¶”ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ëª©ì ê³¼ ì‚¬ìš©ë˜ëŠ” ìƒí™©ì—ì„œ ì°¨ì´ê°€ ìˆë‹¤.\në°ì½”ë ˆì´í„° íŒ¨í„´\në°ì½”ë ˆì´í„° íŒ¨í„´ì€ ê°ì²´ì— ë™ì ìœ¼ë¡œ ìƒˆë¡œìš´ ì±…ì„ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê°ì²´ë¥¼ ê°ì‹¸ì„œ í–‰ë™ì„ í™•ì¥í•˜ëŠ” íŒ¨í„´ì´ë‹¤.\nìƒì†ì„ í†µí•´ ê¸°ëŠ¥ì„ í™•ì¥í•˜ëŠ” ëŒ€ì‹  ê°ì²´ë¥¼ ê°ì‹¸ëŠ” ë°©ì‹ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê²Œëœë‹¤. í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ì›ë˜ì˜ ê°ì²´ì™€ ë°ì½”ë ˆì´í„°ë¡œ ê°ì‹¼ ê°ì²´ë¥¼ ë™ì¼í•˜ê²Œ ë‹¤ë£¨ë„ë¡ í•œë‹¤. ì–´ëŒ‘í„° íŒ¨í„´\nì–´ëŒ‘í„° íŒ¨í„´ì€ ì„œë¡œ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§„ ë‘ í´ë˜ìŠ¤ë¥¼ í•¨ê»˜ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ì–´ì£¼ëŠ” íŒ¨í„´ì´ë‹¤.\nê¸°ì¡´ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤. í´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ ìƒˆë¡œìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•œë‹¤. í¼ì‚¬ë“œ íŒ¨í„´ í¼ì‚¬ë“œ íŒ¨í„´ì€ ì„œë¸Œì‹œìŠ¤í…œì— ìˆëŠ” ì¼ë ¨ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•© ì¸í„°í˜ì´ìŠ¤ë¡œ ë¬¶ì–´ì¤€ë‹¤.\në˜í•œ ê³ ìˆ˜ì¤€ ì¸í„°í˜ì´ìŠ¤ë„ ì •ì˜í•˜ë¯€ë¡œ ì„œë¸Œì‹œìŠ¤í…œì„ ë” í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\ní¼ì‚¬ë“œ íŒ¨í„´ì€ í•˜ë‚˜ ì´ìƒì˜ í´ë˜ìŠ¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¹”ë”í•˜ë©´ì„œë„ íš¨ê³¼ì ì¸ í¼ì‚¬ë“œ(facade)ë¡œ ë®ì–´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë°”ê¾¸ê¸° ìœ„í•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³€ê²½í•œë‹¤.\nì“°ê¸° ì‰¬ìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” í¼ì‚¬ë“œ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•¨ìœ¼ë¡œì¨ ë³µì¡í•œ ì‹œìŠ¤í…œì„ í›¨ì”¬ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í¼ì‚¬ë“œëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ê³  í´ë¼ì´ì–¸íŠ¸ì™€ êµ¬ì„± ìš”ì†Œë¡œ ì´ë£¨ì–´ì§„ ì„œë¸Œì‹œìŠ¤í…œì„ ë¶„ë¦¬í•˜ëŠ” ì—­í• ë„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. í¼ì‚¬ë“œì™€ ì–´ëŒ‘í„°ëŠ” ëª¨ë‘ ì—¬ëŸ¬ ê°œì˜ í´ë˜ìŠ¤ë¥¼ ê°ìŒ€ ìˆ˜ ìˆì§€ë§Œ í¼ì‚¬ë“œëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë§Œë“œëŠ” ìš©ë„ë¡œ ì“°ì´ëŠ” ë°˜ë©´, ì–´ëŒ‘í„°ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜í•˜ëŠ” ìš©ë„ë¡œ ì“°ì¸ë‹¤.\ní™œìš© í¼ì‚¬ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì–´ë–¤ ì„œë¸Œì‹œìŠ¤í…œì— ì†í•œ ì¼ë ¨ì˜ ë³µì¡í•œ í´ë˜ìŠ¤ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë°”ê¿”ì„œ í†µí•©í•œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\në‹¤ë¥¸ íŒ¨í„´ê³¼ ë‹¬ë¦¬ í¼ì‚¬ë“œ íŒ¨í„´ì€ ë³µì¡í•œ ì¶”ìƒí™”ê°€ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ìƒë‹¹íˆ ë‹¨ìˆœí•œ í¸ì´ë‹¤. í¼ì‚¬ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë¸Œì‹œìŠ¤í…œì´ ì„œë¡œ ê¸´ë°€í•˜ê²Œ ì—°ê²°ë˜ì§€ ì•Šì•„ë„ ë˜ê³ , ë‹¤ìŒ ìµœì†Œ ì§€ì‹ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ëŠ”ë°ë„ ë„ì›€ì„ ì¤€ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 // ì„œë¸Œì‹œìŠ¤í…œ í´ë˜ìŠ¤ class CPU { public void processData() { System.out.println(\u0026#34;Processing data by CPU\u0026#34;); } } class Memory { public void load() { System.out.println(\u0026#34;Loading data into memory\u0026#34;); } } class HardDrive { public void readData() { System.out.println(\u0026#34;Reading data from hard drive\u0026#34;); } } // í¼ì‚¬ë“œ í´ë˜ìŠ¤ class ComputerFacade { private CPU cpu; private Memory memory; private HardDrive hardDrive; public ComputerFacade() { this.cpu = new CPU(); this.memory = new Memory(); this.hardDrive = new HardDrive(); } public void start() { System.out.println(\u0026#34;Starting computer\u0026#34;); cpu.processData(); memory.load(); hardDrive.readData(); System.out.println(\u0026#34;Computer started\u0026#34;); } public void shutDown() { System.out.println(\u0026#34;Shutting down computer\u0026#34;); // ì—¬ëŸ¬ ì„œë¸Œì‹œìŠ¤í…œì„ ì¢…ë£Œí•˜ëŠ” ë¡œì§ System.out.println(\u0026#34;Computer shut down\u0026#34;); } } // í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ public class Main { public static void main(String[] args) { ComputerFacade computer = new ComputerFacade(); computer.start(); // í´ë¼ì´ì–¸íŠ¸ëŠ” í¼ì‚¬ë“œë¥¼ í†µí•´ì„œë§Œ ì»´í“¨í„°ë¥¼ ë‹¤ë£° ìˆ˜ ìˆìŒ computer.shutDown(); } } ìµœì†Œ ì§€ì‹ ì›ì¹™ ê°ì²´ ì‚¬ì´ì˜ ìƒí˜¸ì‘ìš©ì€ ë  ìˆ˜ ìˆìœ¼ë©´ ì•„ì£¼ ê°€ê¹Œìš´ ì¹œêµ¬ì‚¬ì´ì—ë§Œ í—ˆìš©í•˜ëŠ” í¸ì´ ì¢‹ë‹¤.\nì‹œìŠ¤í…œì„ ë””ìì¸í•  ë•Œ ì–´ë–¤ ê°ì²´ë“  ê·¸ ê°ì²´ì™€ ìƒí˜¸ì‘ìš©ì„ í•˜ëŠ” í´ë˜ìŠ¤ì˜ ê°œìˆ˜ì™€ ìƒí˜¸ì‘ìš© ë°©ì‹ì— ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤.\nì´ ì›ì¹™ì„ ì˜ ë”°ë¥´ë©´ ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ ë³µì¡í•˜ê²Œ ì–½í˜€ ìˆì–´ ì‹œìŠ¤í…œì˜ í•œ ë¶€ë¶„ì„ ë³€ê²½í–ˆì„ ë•Œ ë‹¤ë¥¸ ë¶€ë¶„ê¹Œì§€ ì¤„ì¤„ì´ ê³ ì³ì•¼ í•˜ëŠ” ìƒí™©ì„ ë¯¸ë¦¬ ë°©ì§€í•  ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ í´ë˜ìŠ¤ê°€ ì„œë¡œ ë³µì¡í•˜ê²Œ ì˜ì¡´í•˜ê³  ìˆë‹¤ë©´ ê´€ë¦¬í•˜ê¸°ë„ í˜ë“¤ê³ , ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ë¶ˆì•ˆì •í•œ ì‹œìŠ¤í…œì´ ë§Œë“¤ì–´ì§„ë‹¤. ì¹œêµ¬ë¥¼ ë§Œë“¤ì§€ ì•Šê³  ë‹¤ë¥¸ ê°ì²´ì— ì˜í–¥ë ¥ í–‰ì‚¬í•˜ê¸° ìµœì†Œ ì§€ì‹ ì›ì¹™ì€ ì¹œêµ¬ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ” 4ê°œì˜ ê°€ì´ë“œë¼ì¸ì„ ì œì‹œí•œë‹¤.\nê°ì²´ ìì²´ ë©”ì†Œë“œì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ëœ ê°ì²´ ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ê±°ë‚˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“  ê°ì²´ ê°ì²´ì— ì†í•˜ëŠ” êµ¬ì„± ìš”ì†Œ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ë¡œ ë¦¬í„´ë°›ì€ ê°ì²´ì— ë“¤ì–´ìˆëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ë¥¸ ê°ì²´ì˜ ì¼ë¶€ë¶„ì— ìš”ì²­í•˜ê²Œë˜ê³ , ì§ì ‘ì ìœ¼ë¡œ ì•Œê³  ì§€ë‚´ëŠ” ê°ì²´ì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚œë‹¤.\nì´ ìƒí™©ì—ì„œ ìµœì†Œ ì§€ì‹ ì›ì¹™ì„ ë”°ë¥´ë ¤ë©´ ê°ì²´ê°€ ëŒ€ì‹  ìš”ì²­í•˜ë„ë¡ ë§Œë“œëŸ¬ì•¼í•˜ë©°, ì´ë¥¼ í†µí•´ ê°ì²´ì˜ í•œ êµ¬ì„± ìš”ì†Œë¥¼ ì•Œê³  ì§€ë‚¼ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\nì›ì¹™ì„ ë”°ë¥´ì§€ ì•ŠëŠ” ê²½ìš°\n1 2 3 4 public float getTemp() { Thermometer thermometer = station.getThermometer(); return thermometer.getTemperature(); } ì›ì¹™ì„ ë”°ë¥´ëŠ” ê²½ìš°\n1 2 3 public float getTemp() { return station.getTemperature(); } ìµœì†Œ ì§€ì‹ ì›ì¹™ì„ ì ìš©í•´ì„œ thermometerì—ê²Œ ìš”ì²­ì„ ì „ë‹¬í•˜ëŠ” ë©”ì†Œë“œë¥¼ station í´ë˜ìŠ¤ì— ì¶”ê°€í•˜ì—¬ ì˜ì¡´í•´ì•¼í•˜ëŠ” í´ë˜ìŠ¤ì˜ ê°œìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\nì ˆì¹œì—ê²Œë§Œ ë©”ì†Œë“œ í˜¸ì¶œí•˜ê¸° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 public class Car { // êµ¬ì„± ìš”ì†Œì˜ ë©”ì†Œë“œëŠ” í˜¸ì¶œí•´ë„ ì¢‹ìŒ Engine engine; // ... public Car() { // ... } public void start(Key key) { // ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„± // ì´ ê°ì²´ì˜ ë©”ì†Œë“œëŠ” í˜¸ì¶œí•´ë„ ì¢‹ìŒ Doors doors = new Doors(); // ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ëœ ê°ì²´ì˜ ë©”ì†Œë“œëŠ” í˜¸ì¶œí•´ë„ ì¢‹ìŒ boolean authorized = key.turns(); if (authorized) { // êµ¬ì„± ìš”ì†Œì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ë„ ì¢‹ìŒ engine.start(); // ê°ì²´ ë‚´ì˜ ìˆëŠ” ë©”ì†Œë“œëŠ” í˜¸ì¶œí•´ë„ ì¢‹ìŒ updateDashboardDisplay(); // ì§ì ‘ ìƒì„±í•˜ê±°ë‚˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“  ê°ì²´ì˜ ë©”ì†Œë“œëŠ” í˜¸ì¶œí•´ë„ ì¢‹ìŒ doors.lock(); } } public updateDashboardDisplay() { // ë””ìŠ¤í”Œë ˆì´ ê°±ì‹  } } ìµœì†Œ ì§€ì‹ ì›ì¹™ì„ ì˜ ë”°ë¥´ë©´ ê°ì²´ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆìœ¼ë©° ì†Œí”„íŠ¸ì›¨ì–´ ê´€ë¦¬ê°€ ë” í¸í•´ì§„ë‹¤.\ní•˜ì§€ë§Œ ì ìš©í•˜ë‹¤ ë³´ë©´ ë©”ì†Œë“œ í˜¸ì¶œì„ ì²˜ë¦¬í•˜ëŠ” ë˜í¼ í´ë˜ìŠ¤ë¥¼ ë” ë§Œë“¤ì–´ì•¼ í•  ìˆ˜ë„ ìˆìœ¼ë©° ì´ì— ë”°ë¼ ì‹œìŠ¤í…œì´ ë³µì¡í•´ì§€ê³ , ê°œë°œ ì‹œê°„ë„ ëŠ˜ì–´ë‚˜ê³ , ì„±ëŠ¥ë„ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\ní¼ì‚¬ë“œ íŒ¨í„´ê³¼ ìµœì†Œ ì§€ì‹ ì›ì¹™ í¼ì‚¬ë“œ íŒ¨í„´ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ì¹œêµ¬ëŠ” í¼ì‚¬ë“œ í´ë˜ìŠ¤ í•˜ë‚˜ ë¿ì´ë‹¤. ì •ë¦¬ ì–´ëŒ‘í„° íŒ¨í„´\níŠ¹ì • í´ë˜ìŠ¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìš”êµ¬í•˜ëŠ” ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜í•œë‹¤. ì¸í„°í˜ì´ìŠ¤ê°€ í˜¸í™˜ë˜ì§€ ì•Šì•„ ê°™ì´ ì“¸ ìˆ˜ ì—†ì—ˆë˜ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤€ë‹¤. í¼ì‚¬ë“œ íŒ¨í„´\nì„œë¸Œì‹œìŠ¤í…œì— ìˆëŠ” ì¼ë ¨ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•© ì¸í„°í˜ì´ìŠ¤ë¡œ ë¬¶ì–´ì¤€ë‹¤. ê³ ìˆ˜ì¤€ ì¸í„°í˜ì´ìŠ¤ë„ ì •ì˜í•˜ë¯€ë¡œ ì„œë¸Œì‹œìŠ¤í…œì„ ë” í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•˜ëŠ”ë° ì¸í„°í˜ì´ìŠ¤ê°€ ë§ì§€ ì•Šìœ¼ë©´ ì–´ëŒ‘í„°ë¥¼ ì“´ë‹¤. í° ì¸í„°í˜ì´ìŠ¤ì™€ ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¨ìˆœí•˜ê²Œ ë°”ê¾¸ê±°ë‚˜ í†µí•©í•´ì•¼ í•˜ë©´ í¼ì‚¬ë“œë¥¼ ì“´ë‹¤. ì–´ëŒ‘í„°ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì›í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¡œ ë°”ê¾¸ëŠ” ì—­í• ì„ í•œë‹¤. í¼ì‚¬ë“œëŠ” í´ë¼ì´ì–¸íŠ¸ë¥¼ ë³µì¡í•œ ì„œë¸Œì‹œìŠ¤í…œê³¼ ë¶„ë¦¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì–´ëŒ‘í„°ë¥¼ êµ¬í˜„í•  ë•ŒëŠ” íƒ€ê¹ƒ ì¸í„°í˜ì´ìŠ¤ì˜ í¬ê¸°ì™€ êµ¬ì¡°ì— ë”°ë¼ ì½”ë”©í•´ì•¼ í•  ë¶„ëŸ‰ì´ ê²°ì •ëœë‹¤. í¼ì‚¬ë“œ íŒ¨í„´ì—ì„œëŠ” ì„œë¸Œì‹œìŠ¤í…œìœ¼ë¡œ í¼ì‚¬ë“œë¥¼ ë§Œë“¤ê³  ì§„ì§œ ì‘ì—…ì€ ì„œë¸Œí´ë˜ìŠ¤ì— ë§¡ê¸´ë‹¤. ì–´ëŒ‘í„° íŒ¨í„´ì—ëŠ” ê°ì²´ ì–´ëŒ‘í„° íŒ¨í„´ê³¼ í´ë˜ìŠ¤ ì–´ëŒ‘í„° íŒ¨í„´ì´ ìˆìœ¼ë©°, í´ë˜ìŠ¤ ì–´ëŒ‘í„°ë¥¼ ì“°ëŸ¬ë©´ ë‹¤ì¤‘ ìƒì†ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤. í•œ ì„œë¸Œì‹œìŠ¤í…œì— í¼ì‚¬ë“œë¥¼ ì—¬ëŸ¬ê°œ ë§Œë“¤ì–´ë„ ëœë‹¤. ì–´ëŒ‘í„°ëŠ” ê°ì²´ë¥¼ ê°ì‹¸ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°”ê¾¸ëŠ” ìš©ë„ë¡œ, ë°ì½”ë ˆì´í„°ëŠ” ê°ì²´ë¥¼ ê°ì‹¸ì„œ ìƒˆë¡œìš´ í–‰ë™ì„ ì¶”ê°€í•˜ëŠ” ìš©ë„ë¡œ, í¼ì‚¬ë“œëŠ” ì¼ë ¨ì˜ ê°ì²´ë¥¼ ê°ì‹¸ì„œ ë‹¨ìˆœí•˜ê²Œ ë§Œë“œëŠ” ìš©ë„ë¡œ ì“°ì¸ë‹¤. ","date":"2023-11-16T09:55:08+09:00","image":"https://codemario318.github.io/post/gof/7/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/7/","title":"7. ì–´ëŒ‘í„° íŒ¨í„´ê³¼ í¼ì‚¬ë“œ íŒ¨í„´"},{"content":" ë©”ì†Œë“œí˜¸ì¶œì„ ìº¡ìŠí™”í•˜ë©´ ê³„ì‚° ê³¼ì •ì˜ ê° ë¶€ë¶„ì„ ê²°ì •í™”í•  ìˆ˜ ìˆê¸°ì— ê³„ì‚°í•˜ëŠ” ì½”ë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´ëŠ” ê·¸ ì¼ì´ ì–´ë–¤ ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€ ì „í˜€ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\nì»¤ë§¨ë“œ íŒ¨í„´ ì»¤ë§¨ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ìš”ì²­ ë‚´ì—­ì„ ê°ì²´ë¡œ ìº¡ìŠí™”í•´ì„œ ê°ì²´ë¥¼ ì„œë¡œ ë‹¤ë¥¸ ìš”ì²­ ë‚´ì—­ì— ë”°ë¼ ë§¤ê°œë³€ìˆ˜í™”í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬ë©´ ìš”ì²­ì„ íì— ì €ì¥í•˜ê±°ë‚˜ ë¡œê·¸ë¡œ ê¸°ë¡í•˜ê±°ë‚˜ ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì»¤ë§¨ë“œ ê°ì²´ëŠ” ì¼ë ¨ì˜ í–‰ë™ì„ íŠ¹ì • ë¦¬ì‹œë²„ì™€ ì—°ê²°í•¨ìœ¼ë¡œì¨ ìš”ì²­ì„ ìº¡ìŠí™”í•œê²ƒì´ë‹¤.\nì´ë¥¼ ìœ„í•´ í–‰ë™ê³¼ ë¦¬ì‹œë²„ë¥¼ í•œ ê°ì²´ì— ë„£ê³ , excute()ë¼ëŠ” ë©”ì†Œë“œ í•˜ë‚˜ë§Œ ì™¸ë¶€ì— ê³µê°œí•˜ëŠ” ë°©ë²•ì„ ì¨ì•¼ í•œë‹¤. ì´ ë©”ì†Œë“œ í˜¸ì¶œì— ë”°ë¼ ë¦¬ì‹œë²„ì—ì„œ ì¼ë ¨ì˜ ì‘ì—…ì„ ì²˜ë¦¬í•˜ë©°, ë°–ì—ì„œ ë³¼ ë•ŒëŠ” ì–´ë–¤ ê°ì²´ê°€ ë¦¬ì‹œë²„ ì—­í• ì„ í•˜ëŠ”ì§€, ê·¸ ë¦¬ì‹œë²„ê°€ ì–´ë–¤ ì¼ì„ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ëª…ë ¹ìœ¼ë¡œ ê°ì²´ë¥¼ ë§¤ê°œë³€ìˆ˜í™” í•  ìˆ˜ ìˆë‹¤.\níŠ¹ì • ì¸í„°í˜ì´ìŠ¤ë§Œ êµ¬í˜„ë˜ì–´ ìˆë‹¤ë©´ ê·¸ ì»¤ë§¨ë“œ ê°ì²´ì—ì„œ ì‹¤ì œë¡œ ì–´ë–¤ ì¼ì„ í•˜ëŠ”ì§€ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ë‹¤. ê¸°ë³¸ì ì¸ ì»¤ë§¨ë“œ íŒ¨í„´ì„ ì¡°ê¸ˆë§Œ í™•ì¥í•˜ë©´ íì™€ ë¡œê·¸ë¥¼ êµ¬í˜„í•˜ê±°ë‚˜ ì‘ì—… ì·¨ì†Œ í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í™œìš©ë  ìˆ˜ ìˆë‹¤.\nê¸°ë³¸ì ì¸ ì»¤ë§¨ë“œ íŒ¨í„´ì„ ì œëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë©´ ë©”íƒ€ ì»¤ë§¨ë“œ íŒ¨í„´(Meta Command Pattern)ë„ ì–´ë µì§€ ì•Šê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\në©”íƒ€ ì»¤ë§¨ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ ëª…ë ¹ì„ ë§¤í¬ë¡œë¡œ í•œë²ˆì— ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì»¤ë§¨ë“œ íŒ¨í„´ì€ ì–´ë–¤ ê²ƒì„ ìš”êµ¬í•˜ëŠ” ê°ì²´ì™€ ê·¸ ìš”êµ¬ë¥¼ ë°›ì•„ë“¤ì´ê³  ì²˜ë¦¬í•˜ëŠ” ê°ì²´ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê°ì²´ì§€í–¥ ë””ìì¸ íŒ¨í„´ì˜ í•œ ëª¨ë¸ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.\nì–´ë–¤ ì‘ì—…ì„ ìš”ì²­í•˜ëŠ” ìª½ê³¼ ê·¸ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ìª½ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤. ì»¤ë§¨ë“œ ê°ì²´ëŠ” íŠ¹ì • ê°ì²´ì— ê´€í•œ íŠ¹ì • ì‘ì—… ìš”ì²­ì„ ìº¡ìŠí™”í•´ì¤€ë‹¤. ê·¸ë ‡ê²Œ ê°ì²´ë¥¼ ë¶„ë¦¬í•˜ë©´ íŒ¨í„´ì´ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ëŒì•„ê°€ëŠ”ì§€ íŒŒì•…í•˜ê¸°ê°€ ì¡°ê¸ˆ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤. flowchart LR a((\"í´ë¼ì´ì–¸íŠ¸createCommandObject()\")) b((\"ì»¤ë§¨ë“œexcute()\")) c((\"ì¸ë³´ì»¤setCommand()\")) d((\"ì»¤ë§¨ë“œexecute()\")) e((\"ë¦¬ì‹œë²„action1()action2()\")) a-- 1. createCommandObject() --\u003e b b-- 2. setCommand() --\u003e c a-. 3 .-\u003e c c-- excute() --\u003e d d-- action1(), action2() --\u003e e í´ë¼ì´ì–¸íŠ¸ëŠ” ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤. ì»¤ë§¨ë“œ ê°ì²´ëŠ” ë¦¬ì‹œë²„ì— ì „ë‹¬í•  ì¼ë ¨ì˜ í–‰ë™ìœ¼ë¡œ êµ¬ì„±ëœë‹¤. ì»¤ë§¨ë“œ ê°ì²´ì—ëŠ” í–‰ë™ê³¼ ë¦¬ì‹œë²„(Receiver)ì˜ ì •ë³´ê°€ ê°™ì´ ë“¤ì–´ìˆë‹¤. ì»¤ë§¨ë“œ ê°ì²´ì—ì„œ ì œê³µí•˜ëŠ” ë©”ì†Œë“œëŠ” excute() í•˜ë‚˜ ë¿ì´ë‹¤. ì´ ë©”ì†Œë“œëŠ” í–‰ë™ì„ ìº¡ìŠí™”í•˜ë©°, ë¦¬ì‹œë²„ì— ìˆëŠ” íŠ¹ì • í–‰ë™ì„ ì²˜ë¦¬í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ì¸ë³´ì»¤(Invoker) ê°ì²´ì˜ setCommand() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ”ë°, ì´ë•Œ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ë„˜ê²¨ì¤€ë‹¤. ê·¸ ì»¤ë§¨ë“œ ê°ì²´ëŠ” ë‚˜ì¤‘ì— ì“°ì´ê¸° ì „ê¹Œì§€ ì¸ë³´ì»¤ ê°ì²´ì— ë³´ê´€ëœë‹¤. ì¸ë³´ì»¤ì—ì„œ ì»¤ë§¨ë“œ ê°ì²´ì˜ excute() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë¦¬ì‹œë²„ì— ìˆëŠ” í–‰ë™ ë©”ì†Œë“œê°€ í˜¸ì¶œëœë‹¤. ì¸ë³´ì»¤ ë¡œë”© í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì»¤ë§¨ë“œ ê°ì²´ ìƒì„± setCommand()ë¥¼ í˜¸ì¶œí•´ì„œ ì¸ë³´ì»¤ì— ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì €ì¥ ë‚˜ì¤‘ì— í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¸ë³´ì»¤ì—ê²Œ ê·¸ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë¼ê³  ìš”ì²­ ì¼ë‹¨ ì–´ë–¤ ëª…ë ¹ì„ ì¸ë³´ì»¤ì— ë¡œë”©í•œ ë‹¤ìŒ í•œë²ˆë§Œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³  ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì§€ìš°ë„ë¡ í•  ìˆ˜ë„ ìˆê³ , ì €ì¥í•´ ë‘” ëª…ë ¹ì„ ì—¬ëŸ¬ ë²ˆ ìˆ˜í–‰í•˜ê²Œ í•  ìˆ˜ë„ ìˆë‹¤.\nê¸°ë³¸ êµ¬ì¡° classDiagram direction LR class Client class Invoker { setCommand() } class Receiver { action() } class Command { \u003c\u003c interface \u003e\u003e excute()* undo()* } class ConcreteCommand { execute() undo() } Client --\u003e Invoker Client --\u003e Receiver Client --\u003e ConcreteCommand Invoker --\u003e Command Receiver \u003c-- ConcreteCommand Command \u003c.. ConcreteCommand ì»¤ë§¨ë“œ íŒ¨í„´ í™œìš©í•˜ê¸° ì»¤ë§¨ë“œë¡œ ì»´í“¨í…Œì´ì…˜(computation)ì˜ í•œ ë¶€ë¶„(ë¦¬ì‹œë²„ì™€ ì¼ë ¨ì˜ í–‰ë™)ì„ íŒ¨í‚¤ì§€ë¡œ ë¬¶ì–´ì„œ ì¼ê¸‰ ê°ì²´ í˜•íƒœë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ìƒì„±í•œ ë’¤ ì˜¤ëœ ì‹œê°„ì´ ì§€ë‚˜ë„ ê·¸ ì»´í“¨í…Œì´ì…˜ì„ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ëœë‹¤. ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œí•  ìˆ˜ë„ ìˆë‹¤. ì´ëŸ¬í•œ íŠ¹ì„±ì„ í™œìš©í•˜ì—¬ ì»¤ë§¨ë“œ íŒ¨í„´ì„ ìˆ˜ì¼€ì¤„ëŸ¬ë‚˜ ìŠ¤ë ˆë“œ í’€, ì‘ì—… íì™€ ê°™ì€ ë‹¤ì–‘í•œ ì‘ì—…ì— ì ìš©í•  ìˆ˜ ìˆë‹¤.\nì‘ì—… í í í•œ ìª½ ëì€ ì»¤ë§¨ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë„ë¡ ë˜ì–´ìˆê³ , ë‹¤ë¥¸ ìª½ ëì—ëŠ” ì»¤ë§¨ë“œë¥¼ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œë“¤ì´ ëŒ€ê¸°í•˜ê³  ìˆë‹¤.\nê° ìŠ¤ë ˆë“œëŠ” ìš°ì„  execute() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ê³  í˜¸ì¶œì´ ì™„ë£Œë˜ë©´ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ë²„ë¦¬ê³  ìƒˆë¡œìš´ ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\nì‘ì—… í í´ë˜ìŠ¤ëŠ” ê³„ì‚° ì‘ì—…ì„ í•˜ëŠ” ê°ì²´ë“¤ê³¼ ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´ ìˆê³ , í•œ ìŠ¤ë ˆë“œê°€ ì²˜ë¦¬ë¥¼ í•˜ë‹¤ ë„¤íŠ¸ì›Œí¬ë¡œ ë­”ê°€ë¥¼ ë‚´ë ¤ë°›ì„ ìˆ˜ë„ ìˆë‹¤ê³  í•˜ë”ë¼ë„, íì— ì»¤ë§¨ë“œ íŒ¨í„´ì„ êµ¬í˜„í•˜ëŠ” ê°ì²´ë¥¼ ë„£ìœ¼ë©´ ê·¸ ê°ì²´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œê°€ ìƒê¸°ê³  ìë™ìœ¼ë¡œ excute()ê°€ í˜¸ì¶œë˜ë¯€ë¡œ ì‘ì—… í ê°ì²´ëŠ” ì „í˜€ ì‹ ê²½ì“¸ í•„ìš”ê°€ ì—†ë‹¤.\nì»¤ë§¨ë“œ íŒ¨í„´ ë” í™œìš©í•˜ê¸° ì–´ë–¤ ì–´í”Œë˜ì¼€ì´ì…˜ì€ ëª¨ë“  í–‰ë™ì„ ê¸°ë¡í•´ ë‘ì—ˆë‹¤ê°€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë‹¤ìš´ë˜ì—ˆì„ ë•Œ ê·¸ í–‰ë™ì„ ë‹¤ì‹œ í˜¸ì¶œí•´ì„œ ë³µêµ¬í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë“± ì»¤ë§¨ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ store()ì™€ load() ë©”ì†Œë“œë¥¼ ì¶”ê°€í•´ì„œ ì´ëŸ° ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\nìë°”ì—ì„œëŠ” ì§ë ¬í™”ë¡œ êµ¬í˜„í•  ìˆ˜ë„ ìˆì§€ë§Œ ê´€ë ¨ëœ ì œì•½ ì¡°ê±´ìœ¼ë¡œ ì¸í•´ ì‰½ì§€ ì•Šë‹¤. classDiagram class Command { \u003c\u003c interface \u003e\u003e execute()* undo()* store()* load()* } flowchart LR a((Invoker)) b((Command1)) c((Command2)) d((Command3)) e[(storage)] a-- 1. execute() --\u003eb a-- 2. execute() --\u003ec a-- 3. execute() --\u003ed b-- store --\u003ee c-- store --\u003ee d-- store --\u003ee flowchart LR e[(storage)] b((Command1)) c((Command2)) d((Command3)) a((Invoker)) e-- load --\u003eb e-- load --\u003ec e-- load --\u003ed b-. \"1. execute()\" .-a c-. \"2. execute()\" .-a d-. \"3. execute()\" .-a ë§ŒëŠ¥ IOT ë¦¬ëª¨ì»¨ ì»¤ë§¨ë“œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ì»¤ë§¨ë“œ ê°ì²´ëŠ” ëª¨ë‘ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.\nê·¸ ì¸í„°í˜ì´ìŠ¤ì—ëŠ” ë©”ì†Œë“œê°€ í•˜ë‚˜ ë¿ì´ë©° ì¼ë°˜ì ìœ¼ë¡œ excute()ë¼ëŠ” ì´ë¦„ì„ ì“´ë‹¤.\n1 2 3 public interface Command { public void excute(); } ì»¤ë§¨ë“œ í´ë˜ìŠ¤ êµ¬í˜„ classDiagram class Light { on() off() } 1 2 3 4 5 6 7 8 9 10 11 public class LightOnCommand implements Command { Light light; public LightOnCommand(Light light) { this.light = light; } public void excute() { light.on(); } } ì»¤ë§¨ë“œ ê°ì²´ ì‚¬ìš©í•˜ê¸° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class SimpleRemoteControl { /** * ì»¤ë§¨ë“œë¥¼ ì €ì¥í•  ìŠ¬ë¡¯ì´ 1ê°œ ìˆë‹¤. * ì´ ìŠ¬ë¡¯ìœ¼ë¡œ 1ê°œì˜ ê¸°ê¸°ë¥¼ ì œì–´í•œë‹¤. */ Command slot; public SimpleRemoteControl() {}; /** * ìŠ¬ë¡¯ì„ ê°€ì§€ê³  ì œì–´í•  ëª…ë ¹ì„ ì„¤ì •í•œë‹¤. * ë¦¬ëª¨ì»¨ ë²„íŠ¼ì˜ ê¸°ëŠ¥ì„ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ í•´ë‹¹ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì–¼ë§ˆë“ ì§€ ë°”ê¿€ ìˆ˜ ìˆë‹¤. */ public void setCommand(Command command) { slot = command; } /** * ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ë©°, ìŠ¬ë¡¯ì— ì—°ê²°ëœ ì»¤ë§¨ë“œ ê°ì²´ì˜ excute() ë©”ì†Œë“œë§Œ í˜¸ì¶œí•˜ë©´ ëœë‹¤. */ public void buttonWasPressed() { slot.execute(); } } ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /** * ì»¤ë§¨ë“œ íŒ¨í„´ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ */ public class RemoteControlTest { public static void main(String[] args) { /** * remote ë³€ìˆ˜ê°€ ì¸ë³´ì»¤ ì—­í• ì„ í•œë‹¤. * í•„ìš”í•œ ì‘ì—…ì„ ìš”ì²­í•  ë•Œ ì‚¬ìš©í•  ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì¸ìë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤. */ SimpleRemoteControl remote = new SimpleRemoteControl(); /** * ìš”ì²­ì„ ë°›ì•„ì„œ ì²˜ë¦¬í•  ë¦¬ì‹œë²„ì¸ Light ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. */ Light light = new Light(); /** * ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ìƒì„œí•œë‹¤. ì´ë•Œ ë¦¬ì‹œë²„ë¥¼ ì „ë‹¬í•´ì¤€ë‹¤. */ LightOnCommand lightOn = new LigthOnCommand(light); /** * ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì¸ë³´ì»¤ì—ê²Œ ì „ë‹¬í•´ì¤€ë‹¤. */ remote.setCommand(lightOn); remote.buttonWasPressed(); } } ë¦¬ëª¨ì»¨ ì½”ë“œ ë§Œë“¤ê¸° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 public class RemoteControl { Command[] onCommands; Command[] offCommands; public RemoteControl() { onCommands = new Command[7]; offCommands = new Command[7]; Command noCommand = new NoCommand(); for (int i = 0; i \u0026lt; 7; i++) { onCommands[i] = noCommand; offCommands[i] = noCommand; } } public void setCommand(int slot, Command onCommand, Command offCommand) { onCommands[slot] = onCommand; offCommands[slot] = offCommand; } public void onButtonWasPushed(int slot) { onCommands[slot].execute(); } public void offButtonWasPushed(int slot) { offCommands[slot].execute(); } public String toString() { StringBuffer stringBuff = new StringBuffer(); stringBuff.append(\u0026#34;\\n----- ë¦¬ëª¨ì»¨ -----\\n\u0026#34;); for (int i = 0; i \u0026lt; onCommands.length; i++) { stringBuff.append( \u0026#34;[slot \u0026#34; + i + \u0026#34;] \u0026#34; + onCommands[i].getClass().getName() + \u0026#34; \u0026#34; + offCommands[i].getClass().getName() + \u0026#34;\\n\u0026#34; ); } return stringBuff.toString(); } } NoCommand ê°ì²´ NoCommand ê°ì²´ëŠ” ì¼ì¢…ì˜ ë„ ê°ì²´ì´ë‹¤.\në„ ê°ì²´ëŠ” ë”±íˆ ë¦¬í„´í•  ê°ì²´ë„ ì—†ê³  í´ë¼ì´ì–¸íŠ¸ê°€ nullì„ ì²˜ë¦¬í•˜ì§€ ì•Šê²Œ í•˜ê³  ì‹¶ì„ë•Œ í™œìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class NoCommand implements Command { public void execute() {} } public class RemoteControl { /** * NoCommand ê°ì²´ê°€ ì—†ëŠ” ê²½ìš° ì²˜ë¦¬ ì˜ˆì‹œ */ public void onButtonWasPushed(int slot) { if (onCommands[slot] != null) { onCommands[slot].execute(); } } } ë§ŒëŠ¥ IOT ë¦¬ëª¨ì»¨ì˜ ê²½ìš° ëª…ë ¹ì´ ì•„ì§ í• ë‹¹ë˜ì§€ ì•Šì€ ë¶€ë¶„ì— NoCommand ê°ì²´ë¥¼ ë„£ì–´ execute() ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ì–´ë„ ë¬¸ì œê°€ ìƒê¸°ì§€ ì•Šë„ë¡ í–ˆë‹¤.\nì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸° Command í´ë˜ìŠ¤ì— ìƒíƒœë¥¼ ì¶”ê°€í•˜ì—¬ ì‘ì—…ì„ ì·¨ì†Œ ê¸°ëŠ¥ì„ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 public interface Command { public void execute(); public void undo(); // ìƒˆë¡œ ì¶”ê°€ } public class LightOnCommand implements Command { // ... public void undo() { light.off(); } } public class LightOffCommand implements Command { // ... public void undo() { light.on(); } } public class RemoteControlWithUndo { // ... Command undoCommand; public RemoteControlWithUndo() { // ... undoCommand = noCommand; } // ... public void onButtonWasPushed(int slot) { onCommands[slot].execute(); undoCommand = onCommands[slot]; } public void offButtonWasPushed(int slot) { offCommands[slot].execute(); undoCommand = offCommands[slot]; } public void undoButtonWasPushed() { undoCommand.undo(); } } ìƒíƒœë¥¼ í™œìš©í•œ ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ classDiagram class CeilingFan { high() medium() low() off() getSpeed() } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 public class CeilingFan { public static final int HIGH = 3; public static final int MEDIUM = 2; public static final int LOW = 1; public static final int OFF = 0; String location; int speed; public CeilingFan(String location) { this.location = location; speed = OFF; } public void high() { speed = HIGH; } public void medium() { speed = MEDIUM; } public void low() { speed = LOW; } public void off() { speed = OFF; } public int getSpeed() { return speed; } } public class CeilingFanHighCommand implements Command { CeilingFan ceilingFan; int prevSpeed; public CeilingFanHighCommand(CeilingFan ceilingFan) { this.ceilingFan; } public void execute() { prevSpeed = ceilingFan.getSpeed(); ceilingFan.high(); } public void undo() { if (prevSpeed == CeilingFan.HIGH) { ceilingFan.high(); } else if (prevSpeed == CeilingFan.MEDIUM) { ceilingFan.medium(); } else if (prevSpeed == CeilingFan.LOW) { ceilingFan.low(); } else if (prevSpeed == CeilingFan.OFF) { ceilingFan.off(); } } } ë§¤í¬ë¡œ ì»¤ë§¨ë“œë¡œ ì—¬ëŸ¬ ë™ì‘ í•œë²ˆì— ì²˜ë¦¬í•˜ê¸° 1 2 3 4 5 6 7 8 9 10 11 12 13 public class MacroCommand implements Command { Command[] commands; public MacroCommand(Command[] commands) { this.commands = commands; } public void execute() { for (int i = 0; i \u0026lt; commands.length; i++) { commands[i].execute(); } } } ì •ë¦¬ ì»¤ë§¨ë“œíŒ¨í„´ ìš”ì²­ ë‚´ì—­ì„ ê°ì²´ë¡œ ìº¡ìŠí™”í•´ì„œ ê°ì²´ë¥¼ ì„œë¡œ ë‹¤ë¥¸ ìš”ì²­ ë‚´ì—­ì— ë”°ë¼ ë§¤ê°œë³€ìˆ˜í™” í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬ë©´ ìš”ì²­ì„ íì— ì €ì¥í•˜ê±°ë‚˜ ë¡œê·¸ë¡œ ê¸°ë¡í•˜ê±°ë‚˜ ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì»¤ë§¨ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ìš”ì²­í•˜ëŠ” ê°ì²´ì™€ ìš”ì²­ì„ ìˆ˜í–‰í•˜ëŠ” ê°ì²´ë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤. ë¶„ë¦¬í•˜ëŠ” ê³¼ì •ì˜ ì¤‘ì‹¬ì—ëŠ” ì»¤ë§¨ë“œ ê°ì²´ê°€ ìˆìœ¼ë©°, ê°ì²´ê°€ í–‰ë™ì´ ë“¤ì–´ìˆëŠ” ë¦¬ì‹œë²„ë¥¼ ìº¡ìŠí™”í•œë‹¤. ì¸ë³´ì»¤ëŠ” ë¬´ì–¸ê°€ ìš”ì²­í•  ë•Œ ì»¤ë§¨ë“œ ê°ì²´ì˜ execute() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ë©´ëœë‹¤. execute() ë©”ì†Œë“œëŠ” ë¦¬ì‹œë²„ì— ìˆëŠ” í–‰ë™ì„ í˜¸ì¶œí•œë‹¤. ì»¤ë§¨ë“œëŠ” ì¸ë³´ì»¤ë¥¼ ë§¤ê°œë³€ìˆ˜í™” í•  ìˆ˜ ìˆë‹¤. ì‹¤í–‰ ì¤‘ ë™ì ìœ¼ë¡œ ë§¤ê°œë³€ìˆ˜í™”ë¥¼ ì„¤ì •í•  ìˆ˜ë„ ìˆë‹¤. execute() ë©”ì†Œë“œê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ í˜¸ì¶œë˜ê¸° ì „ì˜ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ì‘ì—… ì·¨ì†Œ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ë©´ ì»¤ë§¨ë“œ íŒ¨í„´ìœ¼ë¡œ ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ë„ ìˆë‹¤. ë§¤í¬ë¡œ ì»¤ë§¨ë“œëŠ” ì»¤ë§¨ë“œë¥¼ í™•ì¥í•´ì„œ ì—¬ëŸ¬ ê°œì˜ ì»¤ë§¨ë“œë¥¼ í•œ ë²ˆì— í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê°€ì¥ ê°„í¸í•œ ë°©ë²•ì´ë‹¤. ë§¤í¬ë¡œ ì»¤ë§¨ë“œë¡œë„ ì–´ë µì§€ ì•Šê²Œ ì‘ì—… ì·¨ì†Œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. í”„ë¡œê·¸ë˜ë°ì„ í•˜ë‹¤ ë³´ë©´ ìš”ì²­ì„ ìŠ¤ìŠ¤ë¡œ ì²˜ë¦¬í•˜ëŠ” \u0026lsquo;ìŠ¤ë§ˆíŠ¸\u0026rsquo; ì»¤ë§¨ë“œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤. ì»¤ë§¨ë“œ íŒ¨í„´ì„ í™œìš©í•´ì„œ ë¡œê·¸ ë° íŠ¸ëœì­ì…˜ ì‹œìŠ¤í…œì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ","date":"2023-11-12T14:01:08+09:00","image":"https://codemario318.github.io/post/gof/6/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/6/","title":"6. ì»¤ë§¨ë“œ íŒ¨í„´ - í˜¸ì¶œ ìº¡ìŠí™”í•˜ê¸°"},{"content":"ì‹±ê¸€í„´ íŒ¨í„´ì€ íŠ¹ì • í´ë˜ìŠ¤ì— ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ë§Œ ë§Œë“¤ì–´ì§€ë„ë¡ í•´ ì£¼ëŠ” íŒ¨í„´ì´ë‹¤.\nê°ì²´ë¥¼ ì“¸ ë•Œ ì¸ìŠ¤í„´ìŠ¤ê°€ 2ê°œ ì´ìƒì´ë©´ í”„ë¡œê·¸ë¨ì´ ì´ìƒí•˜ê²Œ ëŒì•„ê°€ëŠ” ê²½ìš° ìì›ì„ ë¶ˆí•„ìš”í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê²°ê³¼ì— ì¼ê´€ì„±ì´ ì—†ì–´ì§€ëŠ” ê²½ìš° íŠ¹ì • ìƒí™©ì—ì„œëŠ” ê°ì²´ê°€ 1ê°œë§Œ ìˆì–´ë„, í˜¹ì€ 1ê°œë§Œ ìˆì–´ì•¼ ë¬¸ì œì—†ì´ ìˆ˜í–‰ë˜ëŠ” ê²½ìš° í™œìš©í•˜ëŠ” íŒ¨í„´ì´ë‹¤.\nìŠ¤ë ˆë“œ í’€ ìºì‹œ ëŒ€í™”ìƒì ì‚¬ìš©ì ì„¤ì • ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„¤ì •ì„ ì²˜ë¦¬í•˜ëŠ” ê°ì²´ ë¡œê·¸ ê¸°ë¡ìš© ê°ì²´ ë””ë°”ì´ìŠ¤ ë“œë¼ì´ë²„ ì „ì—­ ë³€ìˆ˜ì— ê°ì²´ë¥¼ ëŒ€ì…í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë  ë•Œ ê°ì²´ê°€ ìƒì„±ë˜ëŠ”ë° ê·¸ ê°ì²´ê°€ ìì›ì„ ë§ì´ ì°¨ì§€í•˜ë©´ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ì œì–´í•  ìˆ˜ ì—†ë‹¤.\ní•˜ì§€ë§Œ ì‹±ê¸€í„´ íŒ¨í„´ì„ í™œìš©í•˜ë©´ í•„ìš”í•  ë•Œë§Œ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nê³ ì „ì ì¸ ì‹±ê¸€í„´ íŒ¨í„´ êµ¬í˜„ë²• ìƒì„±ìë¥¼ privateë¡œ ë§Œë“¤ê³  static ë©”ì†Œë“œë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–»ë„ë¡ êµ¬í˜„í•˜ê¸° ë•Œë¬¸ì— ìƒì„±ìë¥¼ í†µí•´ì„œ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Singleton { private static Singleton uniqueInstance; private Singleton() {} public static Singleton getInstance() { if (uniqueInstance == null) { uniqueInstance; } return uniqueInstance; } // ... } ì•„ì§ ì¸ìŠ¤í„´ìŠ¤ê°€ ë§Œë“¤ì–´ì§€ì§€ ì•Šì•˜ë‹¤ë©´ privateìœ¼ë¡œ ì„ ì–¸ëœ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì—¬ Singleton ê°ì²´ë¥¼ ë§Œë“  ë‹¤ìŒ uniqueInstanceì— ê·¸ ê°ì²´ë¥¼ ëŒ€ì…í•œë‹¤.\nì´ë ‡ê²Œ ì²˜ë¦¬í•œë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”í•œ ìƒí™©ì´ ë‹¥ì¹˜ê¸° ì „ê¹Œì§€ ì•„ì˜ˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šê²Œ ëœë‹¤.\nì´ëŸ¬í•œ ë°©ë²•ì„ **ê²Œìœ¼ë¥¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±(lazyinstantation)**ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\nì‹±ê¸€í„´ íŒ¨í„´ì˜ ì •ì˜ **ì‹±ê¸€í„´ íŒ¨í„´(Singleton Pattern)**ì€ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ë§Œë“œë¡, ê·¸ ì¸ìŠ¤í„´ìŠ¤ë¡œì˜ ì „ì—­ ì ‘ê·¼ì„ ì œê³µí•œë‹¤.\nì‹±ê¸€í„´ íŒ¨í„´ì„ ì‹¤ì œë¡œ ì •ìš©í•  ë•ŒëŠ” í´ë˜ìŠ¤ì—ì„œ í•˜ë‚˜ë¿ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê´€ë¦¬í•˜ë„ë¡ ë§Œë“¤ë©´ ëœë‹¤.\nê·¸ë¦¬ê³  ë‹¤ë¥¸ ì–´ë–¤ í´ë˜ìŠ¤ì—ì„œë„ ìì‹ ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¶”ê°€ë¡œ ë§Œë“¤ì§€ ëª»í•˜ê²Œ í•´ì•¼í•œë‹¤. ì–´ë””ì„œë“  í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì „ì—­ ì ‘ê·¼ ì§€ì ì„ ì œê³µí•œë‹¤.\nì–¸ì œë“  í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ê°€ í•„ìš”í•˜ë©´ í´ë˜ìŠ¤ì— ìš”ì²­í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ ë†“ê³ , ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ í•˜ë‚˜ë¿ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê±´ë„¤ì£¼ë„ë¡ í•œë‹¤. ìì›ì„ ë§ì´ ì¡ì•„ë¨¹ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆë‹¤ë©´ ê³ ì „ì ì¸ ì‹±ê¸€í„´ ì²˜ëŸ¼ ê²Œìœ¼ë¥¸ ë°©ì‹ìœ¼ë¡œ ìƒì„±ë˜ë„ë¡ êµ¬í˜„í•  ê²½ìš° ìœ ìš©í•  ìˆ˜ ìˆë‹¤. classDiagram class Singleton { static uniqueInstance: Singleton static getInstance() Singleton } ì‹±ê¸€í„´ íŒ¨í„´ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì¼ë°˜ì ì¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë‹¤ì–‘í•œ ë°ì´í„°ì™€ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\në©€í‹° ìŠ¤ë ˆë”© ë¬¸ì œ ì‹±ê¸€í„´ íŒ¨í„´ì„ ì‚¬ìš©í•  ë•Œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë™ì‹œì— ìš”ì²­í•˜ëŠ” ìƒí™©ì—ì„œ ë…ë¦½ì ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì œê³µí•˜ì§€ ëª»í•´ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œëŠ” ìë°”ëŠ” getInstanceì— synchronized ì—°ì‚°ìë¥¼ ì¶”ê°€í•˜ë©´, ë©”ì†Œë“œ ì‚¬ìš© ì™„ë£Œ í›„ ìš”ì²­í•˜ê¸° ë•Œë¬¸ì— ì‰½ê²Œ í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 public class Singleton { private static Singleton uniqueInstance; private Singleton() {} public static synchronized Singleton getInstance() { if (uniqueInstance == null) { uniqueInstance = new Singleton(); } return uniqueInstance; } } ë” íš¨ìœ¨ì ìœ¼ë¡œ ë©€í‹°ìŠ¤ë ˆë”© ë¬¸ì œ í•´ê²°í•˜ê¸° synchronized ì—°ì‚°ìë¥¼ getInstanceì— ì ìš©í•˜ëŠ” ë°©ë²•ì€ ë™ê¸°í™”ë¡œ ì¸í•´ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆê³ , ì‹±ê¸€í„´ íŒ¨í„´ì—ì„œ ë©€í‹°ìŠ¤ë ˆë”© ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì‹œì ì€ ë©”ì†Œë“œê°€ ì‹œì‘ë˜ëŠ” ë•Œ ë¿ì´ë‹¤.\nuniqueInstance ë³€ìˆ˜ì— í• ë‹¹ì´ ì™„ë£Œë˜ë©´, í•­ìƒ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë™ê¸°í™” ì²˜ë¦¬ëŠ” ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤. getInstance ë©”ì†Œë“œì˜ ì„±ëŠ¥ì´ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤ë©´ í° ë¬¸ì œê°€ ì´ë‹ ìˆ˜ ìˆì§€ë§Œ ë©”ì†Œë“œë¥¼ ë™ê¸°í™”í•˜ë©´ ì„±ëŠ¥ì´ 100ë°° ì •ë„ ì €í•˜ëœë‹¤. ë”°ë¼ì„œ ë³‘ëª©ì´ ëœë‹¤ë©´ ë³„ë„ì˜ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤.\nì¸ìŠ¤í„´ìŠ¤ ì²˜ìŒë¶€í„° ë§Œë“¤ê¸° ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ Singletonì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ê³„ì† ì‚¬ìš©í•˜ê±°ë‚˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹¤í–‰ ì¤‘ì— ìˆ˜ì‹œë¡œ ë§Œë“¤ê³  ê´€ë¦¬í•˜ê¸°ê°€ ë²ˆê±°ë¡­ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ìŒë¶€í„° ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 public class Singleton { private static Singleton uniqueInstance = new Singleton(); private Singleton() {} public static synchronized Singleton getInstance() { return uniqueInstance; } } ì´ ë°©ë²•ì€ í´ë˜ìŠ¤ê°€ ë¡œë”©ë  ë•Œ JVMì—ì„œ Singletonì˜ í•˜ë‚˜ë¿ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì£¼ë©°, JVMì—ì„œ í•˜ë‚˜ë¿ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ì „ê¹Œì§€ ê·¸ ì–´ë–¤ ìŠ¤ë ˆë“œë„ uniqueInstance ì •ì  ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.\nDCLì„ í†µí•œ ë™ê¸°í™” ì¤„ì´ê¸° **DCL(Double-Checked Locking)**ì„ ì‚¬ìš©í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„œì˜¤ë””ì–´ ìˆëŠ”ì§€ í™•ì¸í•œ ë‹¤ìŒ ìƒì„±ë˜ì–´ ìˆì§€ ì•Šì•˜ì„ ë•Œë§Œ ë™ê¸°í™” í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public class Singleton { private volatile static Singleton uniqueInstance; private Singleton() {} public static Singleton getInstance() { if (uniqueInstance == null) { synchronized (Singleton.class) { if (uniqueInstance == null) { uniqueInstance = new Singleton(); } } } return uniqueInstance; } } volatile í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë©€í‹° ìŠ¤ë ˆë”©ì„ ì“°ë”ë¼ë„ ì´ˆê¸°í™”ë˜ëŠ” ê³¼ì •ì´ ì˜¬ë°”ë¥´ê²Œ ì§„í–‰ëœë‹¤. DCLì€ ìë°” 5ë³´ë‹¤ ë‚®ì€ ë²„ì „ì„ ì‚¬ìš©í•œë‹¤ë©´ ë™ê¸°í™”ê°€ ì œëŒ€ë¡œ ì•ˆë  ìˆ˜ ìˆë‹¤. ì‹±ê¸€í„´ íŒ¨í„´ì˜ ë¬¸ì œ ëª¨ë“  ë©”ì†Œë“œì™€ ë³€ìˆ˜ê°€ staticìœ¼ë¡œ ì„ ì–¸ëœ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë„ ê²°ê³¼ì ìœ¼ë¡œ ê°™ì§€ë§Œ ìë°”ì˜ ì •ì  ì´ˆê¸°í™”ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì¸í•´ ë””ë²„ê¹…ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ì˜ í´ë˜ìŠ¤ ë¡œë”ê°€ 2ê°œ ì´ìƒì´ë¼ë©´ ê°™ì€ í´ë˜ìŠ¤ë¥´ ã„¹ì—¬ëŸ¬ ë²ˆ ë¡œë”©í•˜ê²Œë˜ì–´ ì‹±ê¸€í„´ì— ì ìš© ì‹œ ì¸ìŠ¤í„´ìŠ¤ê°€ ì—¬ëŸ¬ê°œ ë§Œë“¤ì–´ ì§ˆ ìˆ˜ ìˆë‹¤. ë¦¬í”Œë ‰ì…˜, ì§ë ¬í™”, ì—­ì§ë ¬í™”ë„ ì‹±ê¸€í„´ì—ì„œ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤. Singletonì— ì˜ì¡´í•˜ëŠ” ê°ì²´ëŠ” ì „ë¶€ í•˜ë‚˜ì˜ ê°ì²´ì— ë‹¨ë‹¨í•˜ê²Œ ê²°í•©ë˜ë¯€ë¡œ ëŠìŠ¨í•œ ê²°í•© ì›ì¹™ì— ìœ„ë°°ëœë‹¤. enum í™œìš©í•˜ê¸° ì–¸ê¸‰ëœ ë™ê¸°í™” ë¬¸ë°, í´ë˜ìŠ¤ ë¡œë”© ë¬¸ì œ, ë¦¬í”Œë ‰ì…˜, ì§ë ¬í™”ì™€ ì—­ì§ˆë ¬í™” ë¬¸ì œ ë“±ì€ enumìœ¼ë¡œ ì‹±ê¸€í„´ì„ ìƒì„±í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 public enum Singleton { UNIQUE_INSTANCE; } public class SingletonClient { public static void main(String[] args) { Singleton singleton = Singleton.UNIQUE_INSTANCE; } } ì •ë¦¬ ì‹±ê¸€í„´ íŒ¨í„´ì€ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ë§Œ ë§Œë“¤ê³  ê·¸ ì¸ìŠ¤í„´ìŠ¤ë¡œì˜ ì „ì—­ ì ‘ê·¼ì„ ì œê³µí•˜ëŠ” ë°©ë²•. ì–´ë–¤ í´ë˜ìŠ¤ì— ì‹±ê¸€í„´ íŒ¨í„´ì„ ì ìš©í•˜ë©´ ê·¸ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ 1ê°œë§Œ ìˆë„ë¡ í•  ìˆ˜ ìˆë‹¤. ì‹±ê¸€í„´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í•˜ë‚˜ë¿ì¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–´ë””ì„œë“ ì§€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆë‹¤. ìë°”ì—ì„œ ì‹±ê¸€í„´ íŒ¨í„´ì„ êµ¬í˜„í•  ë•ŒëŠ” private ìƒì„±ìì™€ ì •ì  ë©”ì†Œë“œ, ì •ì  ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤. ë©€í‹° ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì†ë„ì™€ ìì› ë¬¸ì œë¥¼ íŒŒì•…í•´ë³´ê³  ì ì ˆí•œ êµ¬í˜„ë²•ì„ ì‚¬ìš©í•œë‹¤. ì‚¬ì‹¤ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë©€í‹°ìŠ¤ë ˆë”©ì„ ì“¸ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•´ì•¼í•œë‹¤. DCLì„ ì¨ì„œ êµ¬í˜„í•˜ë©´ ìë°” 5 ì´ì „ì— ë‚˜ì˜¨ ë²„ì „ì—ì„œëŠ” ìŠ¤ë ˆë“œ ê´€ë ¨ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ ë¡œë”ê°€ ì—¬ëŸ¬ ê°œ ìˆìœ¼ë©´ ì‹±ê¸€í„´ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šê³ , ì—¬ëŸ¬ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ìë°”ì˜ enumì„ ì“°ë©´ ê°„ë‹¨í•˜ê²Œ ì‹±ê¸€í„´ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ","date":"2023-11-05T18:01:08+09:00","image":"https://codemario318.github.io/post/gof/5/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/5/","title":"5. ì‹±ê¸€í„´ íŒ¨í„´"},{"content":" ëŠìŠ¨í•œ ê²°í•©ìœ¼ë¡œ ê°ì²´ì§€í–¥ ë””ìì¸ì„ ë§Œë“¤ì–´ë´…ì‹œë‹¤.\níŒ©í† ë¦¬ íŒ¨í„´ì€ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬í•˜ì—¬ ìº¡ìŠí™” í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì´ ë›°ì–´ë‚œ êµ¬ì¡°ë¥¼ ì œê³µí•œë‹¤.\níŒ©í† ë¦¬ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ì‘ì—…ì´ í•­ìƒ ê³µê°œë˜ì–´ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë©°, ì˜¤íˆë ¤ ëª¨ë“  ê²ƒì„ ê³µê°œí–ˆì„ë•Œ ê²°í•© ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\níŒ©í† ë¦¬ íŒ¨í„´ì€ ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±ì„ ì—†ì• ì„œ ê²°í•© ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤.\nnewë¥¼ ì‚¬ìš©í•˜ë©´ êµ¬ìƒ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ë§Œë“¤ì–´ì§„ë‹¤.\nì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒí´ë˜ìŠ¤ ê°™ì€ ìƒìœ„ ê°œë…ìœ¼ë¡œ íƒ€ì…ì„ ì„ ì–¸í•œë‹¤ê³  í•˜ë”ë¼ë„, ê²°ê³¼ì ìœ¼ë¡œ êµ¬ìƒí´ë˜ìŠ¤(í•˜ìœ„ ê°œë…)ì„ í• ë‹¹í•˜ê¸° ë•Œë¬¸ì— íŠ¹ì • êµ¬í˜„ì— ì˜ì¡´ëœë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.\nêµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì½”ë”©í•˜ë©´ ë‚˜ì¤‘ì— ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•  ê°€ëŠ¥ì„±ì´ ì»¤ì§€ê³ , ìœ ì—°ì„±ì´ ë–¨ì–´ì§„ë‹¤. ì—¬ëŸ¬ êµ¬ìƒ í´ë˜ìŠ¤ê°€ ìˆê³  íŠ¹ì • ìƒí™©ì—ì„œ ì„ íƒí•˜ì—¬ ë§Œë“¤ì–´ì•¼ í•  ìƒí™©ì´ë¼ë©´ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 /* 1ì¥ ì˜ˆì‹œ SimDuck ì°¸ì¡° */ Duck duck; if (picnic) { duck = new MallardDuck(); } else if (hunting){ duck = new DecoyDuck(); } else if (inBathTub) { duck = new RubberDuck(); } ì´ëŸ° ì½”ë“œë¥¼ ë³€ê²½í•˜ê±°ë‚˜ í™•ì¥í•´ì•¼ í•  ë•ŒëŠ” ì½”ë“œë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ê³  ìƒˆë¡œìš´ ì½”ë“œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ ì½”ë“œë¥¼ ì œê±°í•´ì•¼ í•œë‹¤.\në”°ë¼ì„œ ì´ëŸ°í•œ ë°©ì‹ìœ¼ë¡œ ë§Œë“¤ë©´ ê´€ë¦¬ì™€ ê°±ì‹ ì´ ì–´ë ¤ì›Œì§€ê³  ì˜¤ë¥˜ê°€ ìƒê¸¸ ê°€ëŠ¥ì„±ë„ ì»¤ì§„ë‹¤.\nê·¼ë³¸ ì›ì¸ new ì—°ì‚°ìë¡œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ë•Œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ê·¼ë³¸ì ì¸ ì›ì¸ì€ ë³€í™” ë•Œë¬¸ì´ë‹¤.\nì¸í„°í˜ì´ìŠ¤ì— ë§ì¶° ì½”ë”©í•˜ë©´ ì‹œìŠ¤í…œì—ì„œ ì¼ì–´ë‚  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ë³€í™”ì— ëŒ€ì‘í•  ìˆ˜ ìˆëŠ” ì´ìœ ëŠ” ì–´ë–¤ í´ë˜ìŠ¤ë“  íŠ¹ì • ì¸í„°í˜ì´ìŠ¤ë§Œ êµ¬í˜„í•˜ë©´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤í˜•ì„± ë•ë¿ì´ë‹¤.\nì´ì™€ ë°˜ëŒ€ë¡œ êµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ë§ì´ ì‚¬ìš©í•˜ë©´ ë³€ê²½ì— ë‹«í˜€ìˆê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ êµ¬ìƒ í´ë˜ìŠ¤ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ì¦‰, ë³€í™”í•  ë•Œë§ˆë‹¤ ì½”ë“œë¥¼ ê³ ì³ì•¼ í•˜ë¯€ë¡œ ë§ì€ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.\nì´ ë•Œë¬¸ì— ìƒˆë¡œìš´ êµ¬ìƒ í˜•ì‹ì„ ì¨ì„œ í™•ì¥í•´ì•¼ í•  ë•ŒëŠ” ì–´ë–»ê²Œ í•´ì„œë“  ë‹¤ì‹œ ì—´ ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ì•¼ í•˜ë©°, ê²°ê³¼ì ìœ¼ë¡œ êµ¬ìƒ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë¶€ë¶„ì„ ë¶„ë¦¬í•´ì•¼ í•œë‹¤.\nì´ë ‡ê²Œ ë¶„ë¦¬ë˜ì–´ ê°ì²´ ìƒì„±ì„ ì „ë‹´í•˜ëŠ” ì˜ì—­ì„ íŒ©í† ë¦¬ë¼ê³  í•œë‹¤.\nì˜ì¡´ì„± ë’¤ì§‘ê¸° ì›ì¹™ ë””ìì¸ ì›ì¹™\nì¶”ìƒí™”ëœ ê²ƒì— ì˜ì¡´í•˜ê²Œ ë§Œë“¤ê³  êµ¬ìƒ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê²Œ ë§Œë“ ë‹¤.\nì˜ì¡´ì„± ë’¤ì§‘ê¸° ì›ì¹™ì€ ê³ ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œê°€ ì €ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œì— ì˜ì¡´í•˜ë©´ ì•ˆë˜ë©°, í•­ìƒ ì¶”ìƒí™”ì— ì˜ì¡´í•˜ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nêµ¬í˜„ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶° í”„ë¡œê·¸ë˜ë°í•œë‹¤ë¼ëŠ” ì›ì¹™ê³¼ ìœ ì‚¬í•œ ì ì´ ë§ì§€ë§Œ ì˜ì¡´ì„± ë’¤ì§‘ê¸° ì›ì¹™ì—ì„œëŠ” ì¶”ìƒí™”ë¥¼ ë” ë§ì´ ê°•ì¡°í•œë‹¤. ê°œë°œì—ì„œ ê³ ìˆ˜ì¤€ê³¼ ì €ìˆ˜ì¤€ì˜ ê¸°ì¤€ì€ ê¸°ê³„ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ”ê°€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ë©°, ê¸°ê³„ìª½ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì €ìˆ˜ì¤€ì„ ì˜ë¯¸í•œë‹¤.\nì¦‰, ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ ë“±ì„ ì´ìš©í•œ ì¶”ìƒí™”ëœ ê°œë…ì¼ìˆ˜ë¡ ê³ ìˆ˜ì¤€ì´ê³ , ì»´í“¨í„°ê°€ í•´ì„í•´ì„œ ì‹¤í–‰í•˜ê²Œë˜ëŠ” ì½”ë“œ ë¶€ë¶„(êµ¬ìƒ í´ë˜ìŠ¤)ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì €ìˆ˜ì¤€ì´ë‹¤. flowchart a([íŠ¹ì • ê¸°ëŠ¥ì„ ì„ íƒí•´ì•¼í•˜ëŠ” ìš”ì†Œ]) a --\u003e b([ê¸°ëŠ¥ A]) a --\u003e c([ê¸°ëŠ¥ B]) a --\u003e d([ê¸°ëŠ¥ C]) a --\u003e e([ê¸°ëŠ¥ D]) íŒ©í† ë¦¬ í˜•ì‹ì˜ êµ¬í˜„ì—ì„œ ìœ„ì™€ ê°™ì´ ê³ ìˆ˜ì¤€ êµ¬ì„± ìš”ì†Œì—ì„œ ë¶„ê¸°ë¥¼ í†µí•´ íŠ¹ì • êµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ì„ íƒí•˜ëŠ” í˜•íƒœëŠ” ì €ìˆ˜ì¤€ ìš”ì†Œì— ì˜ì¡´í•˜ê³  ìˆê¸° ë•Œë¬¸ì— êµ¬ìƒ í´ë˜ìŠ¤ì˜ ì¢…ë¥˜ê°€ ì¶”ê°€ë˜ê±°ë‚˜, êµ¬ìƒ í´ë˜ìŠ¤ì˜ êµ¬í˜„ì´ ë°”ë€ë‹¤ë©´ ì˜ì¡´í•˜ê³ ìˆëŠ” ê³ ìˆ˜ì¤€ ìš”ì†Œì˜ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤.\nflowchart BT a([íŠ¹ì • ê¸°ëŠ¥ì„ ì„ íƒí•´ì•¼í•˜ëŠ” ìš”ì†Œ]) f([ê¸°ëŠ¥ ì¶”ìƒí™”]) b([ê¸°ëŠ¥ A]) --\u003e f c([ê¸°ëŠ¥ B]) --\u003e f d([ê¸°ëŠ¥ C]) --\u003e f e([ê¸°ëŠ¥ D]) --\u003e f f \u003c--\u003e a ë”°ë¼ì„œ ë¶„ê¸°ë¥¼ í†µí•´ íŠ¹ì • êµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ì„ íƒí•´ì•¼ í•˜ëŠ” êµ¬í˜„ì„ í”¼í•  ìˆ˜ ì—†ë‹¤ë©´ ì˜ì¡´ì„± ë’¤ì§‘ê¸°ë¥¼ í†µí•´ êµ¬ìƒ í´ë˜ìŠ¤ë“¤ì˜ ê³µí†µë˜ëŠ” ë¶€ë¶„ë“¤ì„ ëª¨ì•„ ìƒìœ„ ìš”ì†Œ(ì¸í„°í˜ì´ìŠ¤, ì¶”ìƒ í´ë˜ìŠ¤)ë¥¼ ë§Œë“¤ì–´ ì˜ì¡´í•˜ê²Œ íŒ©í† ë¦¬ë¥¼ êµ¬ì„±í•˜ê³ , í•´ë‹¹ ê¸°ëŠ¥ì´ í•„ìš”í•œ ìš”ì†Œì—ì„œ ë§Œë“¤ì–´ì§„ íŒ©í† ë¦¬ë¥¼ ì˜ì¡´í•˜ë„ë¡ í•˜ëŠ” ë°©ì‹ì„ ì œì•ˆí•˜ê³  ìˆë‹¤.\nì˜ì¡´ì„± ë’¤ì§‘ê¸° ì›ì¹™ì„ ì§€í‚¤ëŠ” ë°©ë²• ë‹¤ìŒ ê°€ì´ë“œë¼ì¸ì„ ë”°ë¥´ë©´ ì˜ì¡´ì„± ë’¤ì§‘ê¸° ì›ì¹™ì— ìœ„ë°°ë˜ëŠ” ê°ì²´ì§€í–¥ ë””ìì¸ì„ í”¼í•˜ëŠ”ë° ë„ì›€ì´ëœë‹¤.\në³€ìˆ˜ì— êµ¬ìƒ í´ë˜ìŠ¤ì˜ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì €ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ êµ¬ìƒ í´ë˜ìŠ¤ì˜ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œëœë‹¤. êµ¬ìƒ í´ë˜ìŠ¤ì—ì„œ ìœ ë„ëœ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤. êµ¬ìƒí´ë˜ìŠ¤ì—ì„œ ìœ ë„ëœ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ë©´ íŠ¹ì • êµ¬ìƒ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ê²Œëœë‹¤. ë² ì´ìŠ¤ í´ë˜ìŠ¤ì— ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆëŠ” ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì§€ ì•ŠëŠ”ë‹¤. ë² ì´ìŠ¤ í´ë˜ìŠ¤ê°€ ì œëŒ€ë¡œ ì¶”ìƒí™”ë˜ì§€ ì•ŠëŠ”ë‹¤. ëª¨ë“  ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ê²ƒë§Œ ì •ë¦¬ê°€ í•„ìš”í•˜ë‹¤. ê°„ë‹¨í•œ íŒ©í† ë¦¬ ê°„ë‹¨í•œ íŒ©í† ë¦¬(Simple Factory)ëŠ” ë””ìì¸ íŒ¨í„´ì´ë¼ê¸° ë³´ë‹¤ëŠ” í”„ë¡œê·¸ë˜ë°ì—ì„œ ìì£¼ ì“°ì´ëŠ” ê´€ìš©êµ¬ì— ê°€ê¹ë‹¤.\nê°„ë‹¨í•œ íŒ©í† ë¦¬ëŠ” ë‹¨ìˆœíˆ ê°ì²´ ìƒì„± ë¶€ë¶„ì„ ì „ë‹´í•œë‹¤.\nê°ì²´ ìƒì„± ë¶€ë¶„ì€ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íŒ©í† ë¦¬ë¡œ ìº¡ìŠí™”í•´ ë†“ìœ¼ë©´ êµ¬í˜„ì„ ë³€ê²½í•  ë•Œ íŒ©í† ë¦¬ í•˜ë‚˜ë§Œ ê³ ì¹˜ë©´ ëœë‹¤. classDiagram class Client { useProduct() } class SimpleProductFactory { createProduct() } class Product { \u003c\u003c interface \u003e\u003e action()* } class ConcreteProductA { action() } class ConcreteProductB { action() } class ConcreteProductC { action() } Client ..|\u003e SimpleProductFactory SimpleProductFactory ..\u003e Product Product \u003c|-- ConcreteProductA Product \u003c|-- ConcreteProductB Product \u003c|-- ConcreteProductC Client: íŒ©í† ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ íŒ©í† ë¦¬ë¥¼ í†µí•´ Productì˜ êµ¬ìƒ í´ë˜ìŠ¤ ì˜¤ë¸Œì íŠ¸ë¥¼ ë°›ìŒ SimplePizzaFactory: Product ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” íŒ©í† ë¦¬ ìœ ì¼í•˜ê²Œ êµ¬ìƒ Product í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ì°¸ì¡°í•¨ Product: íŒ©í† ë¦¬ì—ì„œ ìƒì‚°í•˜ëŠ” êµ¬ìƒ í´ë˜ìŠ¤ë“¤ì˜ ì¸í„°í˜ì´ìŠ¤ ConcreteProduct: íŒ©í† ë¦¬ì—ì„œ ìƒì‚°í•˜ëŠ” ì œí’ˆì— í•´ë‹¹í•˜ëŠ” êµ¬ìƒ í´ë˜ìŠ¤ Product ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. êµ¬ìƒ í´ë˜ìŠ¤ì—¬ì•¼ í•œë‹¤. ìµœì²¨ë‹¨ í”¼ì ê°€ê²Œì˜ ë¬¸ì œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 Pizza orderPizza(String type) { Pizza pizza; /** * ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” êµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ì„ íƒ */ if (type.equals(\u0026#34;cheese\u0026#34;)) { pizza = new CheesePizza(); } else if (type.equals(\u0026#34;greek\u0026#34;)) { pizza = new GreekPizza(); } else if (type.equals(\u0026#34;pepperoni\u0026#34;)) { pizza = new PepperoniPizza(); } pizza.prepare(); pizza.bake(); pizza.cut(); pizza.box(); return pizza; } orderPizza()ì—ì„œ ê°€ì¥ ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” êµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ì„ íƒí•˜ëŠ” ë¶€ë¶„ì´ë‹¤.\nìœ„ ì½”ë“œì—ì„œ í”¼ì ê°€ê²Œì˜ ë©”ë‰´ë¥¼ ë³€ê²½í•˜ë ¤ë©´ ì§ì ‘ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼í•œë‹¤. ì¦‰ ë³€ê²½ì— ë‹«í˜€ìˆì§€ ì•Šë‹¤. ë³€ê²½ë˜ëŠ” ë¶€ë¶„ì¸ ê°ì²´ ìƒì„± ì˜ì—­ì„ ë³„ë„ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.\nìµœì²¨ë‹¨ í”¼ì ê°€ê²Œì— ì ìš© 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 public class SimplePizzaFactory { public Pizza createPizza(String type) { if (type.equals(\u0026#34;cheese\u0026#34;)) { return new CheesePizza(); } else if (type.equals(\u0026#34;greek\u0026#34;)) { return new GreekPizza(); } else if (type.equals(\u0026#34;pepperoni\u0026#34;)) { return new PepperoniPizza(); } throw Exeption(); } } public class PizzaStore { SimplePizzaFactory factory; public Pizza orderPizza(String type) { Pizza pizza; pizza = factory.createPizza(type); pizza.prepare(); pizza.bake(); pizza.cut(); pizza.box(); return pizza; } // ... } íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´(Factory Method Pattern)ì—ì„œëŠ” ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“ ë‹¤.\nì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì§€ëŠ” ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ ê²°ì •í•˜ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë§Œë“œëŠ” ì¼ì„ ì„œë¸Œ í´ë˜ìŠ¤ì—ê²Œ ë§¡ê¸°ê²Œ ëœë‹¤.\nëª¨ë“  íŒ©í† ë¦¬ íŒ¨í„´ì€ ê°ì²´ ìƒì„±ì„ ìº¡ìŠí™”í•œë‹¤.\níŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì€ íŒ©í† ë¦¬ë¥¼ ë³„ë„ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ì§€ ì•Šê³  ìƒì‚° í´ë˜ìŠ¤ ë‚´ë¶€ì— ì¸í„°í˜ì´ìŠ¤ë¡œ íŒ©í† ë¦¬ í˜•ì‹ì„ êµ¬í˜„í•˜ë„ë¡ í•˜ì—¬ ê°ì²´ ìƒì„±ì„ ì „ë‹´í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìº¡ìŠí™”ë¥¼ ìˆ˜í–‰í•œë‹¤.\níŒ©í† ë¦¬ê°€ í•„ìš”í•œ ìš”ì†Œì—ì„œ ìì‹ ì˜ ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬ íŒ©í† ë¦¬ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ì‹ classDiagram class Creator { \u003c\u003c abstract \u003e\u003e factoryMethod()* anOperation() } class ConcreteCreator { factoryMethod() } class Product { \u003c\u003c abstract \u003e\u003e } class ConcreteProduct Product \u003c|-- ConcreteProduct Creator \u003c|-- ConcreteCreator ConcreteCreator ..|\u003e ConcreteProduct Creator: ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ì œí’ˆìœ¼ë¡œ ì›í•˜ëŠ” ì¼ì„ í•  ë•Œ í•„ìš”í•œ ëª¨ë“  ë©”ì†Œë“œê°€ êµ¬í˜„ë¨ í•˜ì§€ë§Œ ì œí’ˆì„ ë§Œë“¤ì–´ ì£¼ëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” ì¶”ìƒ ë©”ì†Œë“œë¡œ ì •ì˜ë˜ì–´ ìˆì„ ë¿ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•ŠìŒ. ì¶”ìƒ ë©”ì†Œë“œì¸ factoryMethod()ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì§ì ‘ êµ¬í˜„í•´ì•¼í•¨. ConcreteCreator: ì‹¤ì œë¡œ ì œí’ˆì„ ìƒì‚°í•˜ëŠ” factoryMetFhod()ë¥¼ êµ¬í˜„ êµ¬ìƒ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ì¼ì„ ì±…ì„ì§„ë‹¤. ì‹¤ì œ ì œí’ˆì„ ë§Œë“œëŠ” ë°©ë²•ì„ ì•Œê³  ìˆëŠ” í´ë˜ìŠ¤ëŠ” ì´ í´ë˜ìŠ¤ ë¿ì´ë‹¤. Product: ì œí’ˆ í´ë˜ìŠ¤ë¡œ ëª¨ë‘ ë˜‘ê°™ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•¨ ê·¸ ì œí’ˆì„ ì‚¬ìš©í•  í´ë˜ìŠ¤ì—ì„œ êµ¬ìƒ í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤ì˜ ë ˆí¼ëŸ°ìŠ¤ë¡œ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 public abstract class Creator { public Product anOperation(String type) { Product product; product = this.factoryMethod(type); /* somethimg */ return product; } protected abstract Product factoryMethod(String type); } Creator ì¶”ìƒ í´ë˜ìŠ¤ì—ì„œ ì¶”ìƒ ë©”ì†Œë“œë¡œ íŒ©í† ë¦¬ ë©”ì†Œë“œìš© ì¸í„°í˜ì´ìŠ¤(factoryMethod())ë¥¼ ì œê³µí•œë‹¤.\nCreator ì¶”ìƒ í´ë˜ìŠ¤ì— êµ¬í˜„ë˜ì–´ ìˆëŠ” ë‹¤ë¥¸ ë©”ì†Œë“œëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œì— ì˜í•´ ìƒì‚°ëœ ì œí’ˆìœ¼ë¡œ í•„ìš”í•œ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œê°€ ì¶”ìƒ ë©”ì†Œë“œë¡œ ì„ ì–¸ë˜ì—ˆê¸° ë•Œë¬¸ì— ì‹¤ì œ íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•˜ê³  ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ì¼ì€ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œë§Œ í•  ìˆ˜ ìˆë‹¤.\níŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì¶”ìƒ ë©”ì†Œë“œë¡œ ì„ ì–¸í•´ì„œ ì„œë¸Œí´ë˜ìŠ¤ê°€ ê°ì²´ ìƒì„±ì„ ì±…ì„ì§€ë„ë¡ í•œë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‹¤ì œë¡œ ìƒì„±ë˜ëŠ” êµ¬ìƒ ê°ì²´ê°€ ë¬´ì—‡ì¸ì§€ ì•Œ ìˆ˜ ì—†ê²Œ ë§Œë“œëŠ” ì—­í• ë„ ê²¸í•˜ê²Œëœë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œëŠ” íŠ¹ì • ê°ì²´ë¥¼ ë¦¬í„´í•˜ë©°, ê·¸ ê°ì²´ëŠ” ë³´í†µ ìŠˆí¼í´ë˜ìŠ¤ê°€ ì •ì˜í•œ ë©”ì†Œë“œ ë‚´ì—ì„œ ì“°ì¸ë‹¤. ë§¤ê°œë³€ìˆ˜ë¡œ ë§Œë“¤ ê°ì²´ì˜ ì¢…ë¥˜ë¥¼ ì„ íƒí•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. ìƒì‚°ì ì¶”ìƒ í´ë˜ìŠ¤ê°€ ì‹¤ì œ ìƒì‚°ë  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì „í˜€ ì•Œ ìˆ˜ ì—†ê³ , ì‚¬ìš©í•˜ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì— ë”°ë¼ ìƒì‚°ë˜ëŠ” ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ê°€ ì •í•´ì§€ê¸° ë•Œë¬¸ì—, ì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì§€ë¥¼ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ê²°ì •í•œë‹¤ê³  í‘œí˜„í•œë‹¤.\në³‘ë ¬ í´ë˜ìŠ¤ ê³„ì¸µêµ¬ì¡° classDiagram direction TD namespace ìƒì‚°ì í´ë˜ìŠ¤ { class Creator { \u003c\u003c abstract \u003e\u003e create()* Product useProduct() } class ConcreteCreatorA { create() Product } class ConcreteCreatorB { create() Product } } namespace ì œí’ˆ í´ë˜ìŠ¤ { class Product { \u003c\u003c abstract \u003e\u003e } class ConcreteProductA1 class ConcreteProductA2 class ConcreteProductB1 class ConcreteProductB2 } Creator \u003c|-- ConcreteCreatorA Creator \u003c|-- ConcreteCreatorB Product \u003c|-- ConcreteProductA1 Product \u003c|-- ConcreteProductB1 ConcreteProductA1 .. ConcreteProductA2 ConcreteProductB1 .. ConcreteProductB2 ConcreteCreatorA \u003c--\u003e ConcreteProductA1 ConcreteCreatorB \u003c--\u003e ConcreteProductB1 ConcreteCreatorA \u003c--\u003e ConcreteProductA2 ConcreteCreatorB \u003c--\u003e ConcreteProductB2 Creator: ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ê°ì²´ë¥¼ ìƒì‚°í•˜ë ¤ê³  êµ¬í˜„í•˜ëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œì˜ ì¶”ìƒ í´ë˜ìŠ¤ ì œí’ˆ í´ë˜ìŠ¤ì˜ ê°ì²´ëŠ” í´ë˜ìŠ¤ì˜ ì„œë¸Œí´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì§€ë¯€ë¡œ ìƒì‚°ì ìì²´ëŠ” ì–´ë–¤ êµ¬ìƒ ì œí’ˆ í´ë˜ìŠ¤ê°€ ë§Œë“¤ì–´ì§ˆì§€ ë¯¸ë¦¬ ì•Œ ìˆ˜ ì—†ë‹¤. ìƒì‚°ì í´ë˜ìŠ¤ì— ì¶”ìƒ ì œí’ˆ í¬ë˜ìŠ¤ì— ì˜ì¡´í•˜ëŠ” ì½”ë“œê°€ ë“¤ì–´ìˆì„ ë•Œë„ ìˆë‹¤. ConcreteCreator: íŒ©í† ë¦¬ ë©”ì†Œë“œë¡œ í•´ë‹¹ ë©”ì†Œë“œì—ì„œ ê°ì²´ë¥¼ ìƒì‚°í•˜ëŠ” êµ¬ìƒ ìƒì‚°ì. Product: íŒ©í† ë¦¬ê°€ ìƒì‚°í•˜ê²Œ ë  ì œí’ˆì˜ ì¸í„°í˜ì´ìŠ¤ ConcreteProduct: íŒ©í† ë¦¬ê°€ ìƒì‚°í•˜ê²Œ ë  ì œí’ˆ êµ¬ìƒ ì œí’ˆì€ êµ¬ìƒ ìƒì‚°ìê°€ ë§Œë“¤ì–´ì•¼ í•  ë§ì€ ì œí’ˆë“¤ì´ê³ , êµ¬ìƒ ìƒì‚°ì íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ë§ì€ êµ¬ìƒ ì œí’ˆë“¤ ì¤‘ í•„ìš”í•œ ì œí’ˆì„ ì„ íƒí•˜ê²Œ ëœë‹¤.\nì´ì²˜ëŸ¼ íŠ¹ì • êµ¬ìƒ ìƒì‚°ìê°€ íŒ©í† ë¦¬ ë©”ì†Œë“œë¡œ íŠ¹ì • ì œí’ˆêµ°ì„ ë§Œë“œëŠ” ëª¨ë“  ë°©ë²•ì„ ìº¡ìŠí™” ë˜ì–´ìˆê²Œë˜ëŠ” ë³‘ë ¬ í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.\nê°„ë‹¨í•œ íŒ©í† ë¦¬ì™€ ì°¨ì´ì  ê°„ë‹¨í•œ íŒ©í† ë¦¬ëŠ” íŠ¹ì • ìƒì‚°ìì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°˜ë©´, íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì€ ë” ìœ ì—°í•˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì„¤ê³„ë¥¼ í•  ìˆ˜ ìˆë‹¤.\nìƒì‚°ì í´ë˜ìŠ¤ì˜ ì„œë¸Œ í´ë˜ìŠ¤ë¡œ ì–´ë–¤ êµ¬ìƒ ì œí’ˆì„ ë§Œë“¤ì§€ ê²°ì •í•˜ê¸° ë•Œë¬¸ì— ìƒì„±í•˜ëŠ” ì œí’ˆì„ ë§ˆìŒëŒ€ë¡œ ë³€ê²½í•˜ê¸° ì‰½ë‹¤. ì¶”ìƒ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ ë©”ì†Œë“œ êµ¬í˜„ì„ í†µí•´ ë™ì‘ì„ ì¼ë°˜í™”í•˜ì—¬ ì—¬ëŸ¬ ë²ˆ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•œ í”„ë ˆì„ì›Œí¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. í”¼ì ê°€ê²Œ í”„ë ˆì„ì›Œí¬ ë§Œë“¤ê¸° íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì„ í†µí•´ ë‹¤ì–‘í•œ íŒ©í† ë¦¬ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆê³ , ì´ë¥¼ í†µí•´ íŠ¹ìƒ‰ìˆëŠ” í”¼ì ê°€ê²Œ ì§€ì ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 public abstract class Pizza { String name; String dough; String sauce; List\u0026lt;String\u0026gt; toppings = new ArrayList\u0026lt;String\u0026gt;(); void prepare() { System.out.println(\u0026#34;ì¤€ë¹„ì¤‘: \u0026#34; + name); System.out.println(\u0026#34;ë„ìš° ë§Œë“¤ê¸°...\u0026#34;); System.out.println(\u0026#34;ì†ŒìŠ¤ ë¿Œë¦¬ê¸°...\u0026#34;); System.out.println(\u0026#34;í† í•‘ ì˜¬ë¦¬ê¸°:\u0026#34;); for (String topping : toppings) { System.out.println(\u0026#34; \u0026#34; + topping); } } void bake() { System.out.println(\u0026#34;êµ½ê¸°\u0026#34;); } void cut() { System.out.println(\u0026#34;ìë¥´ê¸°\u0026#34;); } void box() { System.out.println(\u0026#34;ë‹´ê¸°\u0026#34;); } public String getName() { return name; } } public class NYStyleCheesePizza extends Pizza { public NYStyleCheesePizza() { name = \u0026#34;ë‰´ìš• ìŠ¤íƒ€ì¼ ì¹˜ì¦ˆ í”¼ì\u0026#34;; dough = \u0026#34;ì”¬ í¬ëŸ¬ìŠ¤íŠ¸\u0026#34;; sauce = \u0026#34;ë§ˆë¦¬ë‚˜ë¼\u0026#34;; toppings.add(\u0026#34;ë ˆì§€ì•„ë…¸ ì¹˜ì¦ˆ\u0026#34;); } } public class ChicagoStyleCheesePizza extends Pizza { public NYStyleCheesePizza() { name = \u0026#34;ì‹œì¹´ê³  ìŠ¤íƒ€ì¼ ì¹˜ì¦ˆ í”¼ì\u0026#34;; dough = \u0026#34;ë‘êº¼ìš´ í¬ëŸ¬ìŠ¤íŠ¸\u0026#34;; sauce = \u0026#34;í”ŒëŸ¼ í† ë§ˆí† \u0026#34;; toppings.add(\u0026#34;ëª¨ì§œë ë¼ ì¹˜ì¦ˆ\u0026#34;); } @java.lang.Override void cut() { System.out.println(\u0026#34;ë„¤ëª¨ë‚œ ëª¨ì–‘ìœ¼ë¡œ ìë¥´ê¸°\u0026#34;); } } public abstract class PizzaStore { public Pizza orderPizza(String type) { Pizza pizza; pizza = cratePizza(type); pizza.prepare(); pizza.bake(); pizza.cut(); pizza.box(); return pizza; } protected abstract Pizza createPizza(String type); } public class NYPizzaStore extends PizzaStore { Pizza createPizza(String type) { if (item.equals(\u0026#34;cheese\u0026#34;)) { return new NYStyleCheesePizza(\u0026#34;cheese\u0026#34;); } else null; } } public class ChicagoPizzaStore extends PizzaStore { Pizza createPizza(String type) { if (item.equals(\u0026#34;cheese\u0026#34;)) { return new ChicagoStyleCheesePizza(\u0026#34;cheese\u0026#34;); } else null; } } ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ êµ¬ìƒ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê³ ë„ ì„œë¡œ ì—°ê´€ë˜ê±°ë‚˜ ì˜ì¡´ì ì¸ ê°ì²´ë¡œ ì´ë£¨ì–´ì§„ ì œí’ˆêµ°ì„ ìƒì‚°í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.\nêµ¬ìƒ í´ë˜ìŠ¤ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ë§Œë“¤ê²Œëœë‹¤.\nì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¼ë ¨ì˜ ì œí’ˆì„ ê³µê¸‰ë°›ì„ìˆ˜ ìˆë‹¤.\nì´ë•Œ, ì‹¤ì œë¡œ ì–´ë–¤ ì œí’ˆì´ ìƒì‚°ë˜ëŠ”ì§€ëŠ” ì „í˜€ ì•Œ í•„ìš”ê°€ ì—†ë‹¤. ë”°ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ì™€ íŒ©í† ë¦¬ì—ì„œ ìƒì‚°ë˜ëŠ” ì œí’ˆì„ ë¶„ë¦¬í•  ìˆ˜ ìˆê²Œëœë‹¤.\nclassDiagram direction TD class Client { } class AbstractFactory { \u003c\u003c interface \u003e\u003e CreateProductA()* CreateProductB()* } class ConcreteFactory1 { CreateProductA() CreateProductB() } class ConcreteFactory2 { CreateProductA() CreateProductB() } class AbstractProductA { \u003c\u003c interface \u003e\u003e } class ProductA1 { } class ProductA2 { } class AbstractProductB { \u003c\u003c interface \u003e\u003e } class ProductB1 { } class ProductB2 { } Client --\u003e AbstractFactory Client --\u003e AbstractProductA Client --\u003e AbstractProductB AbstractFactory \u003c|-- ConcreteFactory1 AbstractFactory \u003c|-- ConcreteFactory2 AbstractProductA \u003c|-- ProductA1 AbstractProductA \u003c|-- ProductA2 AbstractProductB \u003c|-- ProductB1 AbstractProductB \u003c|-- ProductB2 ConcreteFactory1 --\u003e ProductA1 ConcreteFactory1 --\u003e ProductB1 ConcreteFactory2 --\u003e ProductA2 ConcreteFactory2 --\u003e ProductB2 ì¶”ìƒ íŒ©í† ë¦¬ê°€ ì¼ë ¨ì˜ ì œí’ˆì„ ë§Œë“œëŠ” ë° ì“°ì´ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ë ¤ê³  ë§Œë“¤ì–´ì¡Œê¸° ë•Œë¬¸ì— ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ì˜ ë©”ì†Œë“œê°€ íŒ©í† ë¦¬ ë©”ì†Œë“œë¡œ êµ¬í˜„ë˜ëŠ” ê²½ìš°ë„ ì¢…ì¢… ìˆë‹¤.\ní•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ì— ìˆëŠ” ê° ë©”ì†Œë“œëŠ” êµ¬ìƒ ì œí’ˆì„ ìƒì‚°í•˜ëŠ” ì¼ì„ ë§¡ê³ , ì¶”ìƒ íŒ©í† ë¦¬ì˜ ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ê° ë©”ì†Œë“œì˜ êµ¬í˜„ì„ ì œê³µí•˜ê²Œëœë‹¤.\níŒ©í† ë¦¬ íŒ¨í„´ í™œìš©ë²• ì–´ë–¤ íŒ¨í„´ì„ ì“°ë“  ê°ì²´ ìƒì„±ì„ ìº¡ìŠí™”í•´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²°í•¨ì„ ëŠìŠ¨í•˜ê²Œ ë§Œë“œë¡, íŠ¹ì • êµ¬í˜„ì— ëœ ì˜ì¡´í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\níŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´, ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ ëª¨ë‘ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ íŠ¹ì • êµ¬í˜„ìœ¼ë¡œë¶€í„° ë¶„ë¦¬í•˜ëŠ” ì—­í• ì„ í•˜ì§€ë§Œ ë°©ë²•ì´ ë‹¤ë¥´ê¸°ë•Œë¬¸ì— ìš©ë„ì— ë§ê²Œ í™œìš©í•œë‹¤.\níŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´: í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì™€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•  êµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬ì‹œì¼œì•¼ í•  ë•Œ ìœ ìš©í•˜ë‹¤. í´ë˜ìŠ¤ë¥¼ ì¨ì„œ ì œí’ˆì„ ë§Œë“ ë‹¤. ìƒì†ì„ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ë§Œë“ ë‹¤. ì„œë¸Œí´ë˜ìŠ¤ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ê³  íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•´ì•¼ í•œë‹¤. ìì‹ ì´ ì‚¬ìš©í•  ì¶”ìƒ í˜•ì‹ë§Œ ì•Œë©´ ë˜ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ êµ¬ìƒ í˜•ì‹ì„ ë¶„ë¦¬í•˜ê²Œëœë‹¤. í•œ ê°€ì§€ ì œí’ˆë§Œ ìƒì‚°í•˜ë¯€ë¡œ ë³µì¡í•œ ì¸í„°í˜ì´ìŠ¤ë„ í•„ìš”í•˜ì§€ ì•Šê³  ë©”ì†Œë“œë„ í•˜ë‚˜ë§Œ ìˆìœ¼ë©´ ëœë‹¤. ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´: í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë¡œ ì—°ê´€ëœ ì¼ë ¨ì˜ ì œí’ˆì„ ë§Œë“¤ì–´ì•¼ í•  ë•Œ, ì¦‰ ì œí’ˆêµ°ì„ ë§Œë“¤ì–´ì•¼ í•  ë•Œ í™œìš©í•˜ê¸° ì¢‹ë‹¤. ê°ì²´ë¥¼ ì¨ì„œ ì œí’ˆì„ ë§Œë“ ë‹¤. ê°ì²´ êµ¬ì„±(composition)ì„ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ë§Œë“ ë‹¤. ì œí’ˆêµ°ì„ ë§Œë“œëŠ” ì¶”ìƒ í˜•ì‹ì„ ì œê³µí•˜ê³  ì œí’ˆì´ ìƒìƒë˜ëŠ” ë°©ë²•ì„ ì´ í˜•ì‹ì˜ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œë‹¤. íŒ©í† ë¦¬ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“  ë‹¤ìŒ ì¶”ìƒ í˜•ì‹ì„ ì¨ì„œ ë§Œë“  ì½”ë“œì— ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ êµ¬ìƒ ì œí’ˆì„ ë¶„ë¦¬í•œë‹¤. ì œí’ˆêµ°ì— ì œí’ˆì„ ì¶”ê°€í•˜ëŠ” ë“±ì˜ ê´€ë ¨ ì œí’ˆì„ í™•ëŒ€í•´ì•¼ í•  ê²½ìš°ì— ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°”ê¿”ì•¼í•œë‹¤. ë§ì€ ì œí’ˆë“¤ì„ í¬í•¨í•˜ëŠ” ì œí’ˆ êµ°ì„ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ì£¼ í° í¸ì´ë‹¤. ë””ìì¸ ë„êµ¬ìƒì ì•ˆì— ë“¤ì–´ê°€ì•¼í•  ë„êµ¬ë“¤ ê°ì²´ì§€í–¥ ì›ì¹™ ì¶”ìƒí™”ëœ ê²ƒì— ì˜ì¡´í•˜ê²Œ ë§Œë“œë¡ êµ¬ìƒ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê²Œ ë§Œë“ ë‹¤. ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ êµ¬ìƒ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê³ ë„ ì„œë¡œ ì—°ê´€ë˜ê±°ë‚˜ ì˜ì¡´ì ì¸ ê°ì²´ë¡œ ì´ë£¨ì–´ì§„ ì œí’ˆêµ°ì„ ìƒì„±í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤. êµ¬ìƒ í´ë˜ìŠ¤ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ë§Œë“ ë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì§€ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ê²°ì •í•œë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ ë§Œë“œëŠ” ì¼ì„ ì„œë¸Œí´ë˜ìŠ¤ì— ë§¡ê¸¸ ìˆ˜ ìˆë‹¤. í•µì‹¬ ì •ë¦¬ íŒ©í† ë¦¬ë¥¼ ì“°ë©´ ê°ì²´ ìƒì„±ì„ ìº¡ìŠí™”í•  ìˆ˜ ìˆë‹¤. ê°„ë‹¨í•œ íŒ©í† ë¦¬ëŠ” ì—„ë°€í•˜ê²Œ ë§í•´ì„œ ë””ìì¸ íŒ¨í„´ì€ ì•„ë‹ˆì§€ë§Œ, í´ë¼ì´ì–¸íŠ¸ì™€ êµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê°„ë‹¨í•œ ê¸°ë²•ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì€ ìƒì†ì„ í™œìš©í•œë‹¤. ê°ì²´ ìƒì„±ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ê²Œ ë§¡ê¸°ê³ , ì„œë¸Œí´ë˜ìŠ¤ëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ êµ¬í˜„í•´ì„œ ê°ì²´ë¥¼ ìƒì‚°í•œë‹¤. ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ì€ ê°ì²´ êµ¬ì„±ì„ í™œìš©í•œë‹¤. íŒ©í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì„ ì–¸í•œ ë©”ì†Œë“œì—ì„œ ê°ì²´ ìƒì„±ì´ êµ¬í˜„ëœë‹¤. ëª¨ë“  íŒ©í† ë¦¬ íŒ¨í„´ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ìƒ í´ë˜ìŠ¤ ì˜ì¡´ì„±ì„ ì¤„ì—¬ì¤Œìœ¼ë¡œì¨ ëŠìŠ¨í•œ ê²°í•©ì„ ë„ì™€ì¤€ë‹¤. íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì€ íŠ¹ì • í´ë˜ìŠ¤ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ì¼ì„ ì„œë¸Œí´ë˜ìŠ¤ì—ê²Œ ë„˜ê¸´ë‹¤. ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ì€ êµ¬ìƒ í´ë˜ìŠ¤ì— ì§ì ‘ ì˜ì¡´í•˜ì§€ ì•Šê³ ë„ ì„œë¡œ ê´€ë ¨ëœ ê°ì²´ë¡œ ì´ë£¨ì–´ì§„ ì œí’ˆêµ°ì„ ë§Œë“œëŠ” ìš©ë„ë¡œ ì“°ì¸ë‹¤. ì˜ì¡´ì„± ë’¤ì§‘ê¸° ìœˆì¹™ì„ ë”°ë¥´ë©´ êµ¬ìƒ í˜•ì‹ ì˜ì¡´ì„ í”¼í•˜ê³  ì¶”ìƒí™”ë¥¼ ì§€í–¥í•  ìˆ˜ ìˆë‹¤. íŒ©í† ë¦¬ëŠ” êµ¬ìƒ í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ì¶”ìƒ í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶°ì„œ ì½”ë”©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê°•ë ¥í•œ ê¸°ë²•ì´ë‹¤. ","date":"2023-10-29T13:29:08+09:00","image":"https://codemario318.github.io/post/gof/4/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/4/","title":"4. íŒ©í† ë¦¬ íŒ¨í„´"},{"content":"ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ ê°ì²´ ì‘ì„±ì´ë¼ëŠ” í˜•ì‹ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì— í´ë˜ìŠ¤ë¥¼ ê¾¸ë¯¸ëŠ” ë°©ë²•ì´ë‹¤.\në°ì½”ë ˆì´í„° íŒ¨í„´ì„ í™œìš©í•˜ë©´ ê¸°ì¡´ í´ë˜ìŠ¤ ì½”ë“œë¥¼ ë°”ê¾¸ì§€ ì•Šê³ ë„ ê°ì²´ì— ìƒˆë¡œìš´ ì„ë¬´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\në°ì½”ë ˆì´í„° íŒ¨í„´ ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ ê¸°ì¡´ ì½”ë“œë¥¼ ê±´ë“œë¦¬ì§€ ì•Šê³  í™•ì¥ìœ¼ë¡œ ìƒˆë¡œìš´ í–‰ë™ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë‹¤. ì´ë¥¼ í†µí•´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ê¸‰ë³€í•˜ëŠ” ì£¼ë³€ í™˜ê²½ì— ì‘ ì ì‘í•˜ëŠ” ìœ ì—°í•˜ê³  íŠ¼íŠ¼í•œ ë””ìì¸ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nOCP(Open-Close Principle) ì‚´í´ë³´ê¸° í´ë˜ìŠ¤ëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ìˆì–´ì•¼ í•˜ì§€ë§Œ ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤.\ní™•ì •ì—ëŠ” ì—´ë ¤ìˆê³  ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆë‹¤ëŠ” ê²ƒì€ ëª¨ìˆœì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆìœ¼ë‚˜ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ì‹œìŠ¤í…œì„ í™•ì¥í•˜ê²Œ í•´ ì£¼ëŠ” ê°ì²´ì§€í–¥ ê¸°ë²•ì€ ë§ë‹¤.(ex. ì˜µì €ë²„ íŒ¨í„´)\në°ì½”ë ˆì´í„° íŒ¨í„´ë„ ì´ ì¤‘ í•˜ë‚˜ë¡œ í™•ì¥í•˜ë ¤ê³  ì½”ë“œë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ì¼ì„ ë°©ì§€í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.\nëª¨ë“  ë¶€ë¶„ì—ì„œ OCPë¥¼ ì¤€ìˆ˜í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\nOCPë¥¼ ì¤€ìˆ˜í•˜ëŠ” ê°ì²´ì§€í–¥ ë””ìì¸ì„ ë§Œë“¤ë ¤ë©´ ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•˜ê³ , ë””ìì¸ì˜ ëª¨ë“  ë¶€ë¶„ì„ ê¹”ë”í•˜ê²Œ ì •ëˆí•  ë§Œí¼ ì—¬ìœ ê°€ ìˆëŠ” ìƒí™©ë„ í”ì¹˜ ì•Šë‹¤(êµ³ì´ ê·¸ë ‡ê²Œ í•  í•„ìš”ê°€ ì—†ë‹¤).\në”°ë¼ì„œ ë””ìì¸í•œ ê²ƒ ì¤‘ì—ì„œ ê°€ì¥ ë°”ë€” ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„ì„ ì¤‘ì ì ìœ¼ë¡œ ì‚´í´ë³´ê³  OCPë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì´ ê°€ì¥ ì¢‹ë‹¤.\nì½”ë“œì—ì„œ í™•ì¥í•´ì•¼ í•  ë¶€ë¶„ì„ ì„ íƒí•  ë•ŒëŠ” ì„¸ì‹¬í•œ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\në¬´ì¡°ê±´ OCPë¥¼ ì ìš©í•œë‹¤ë©´ ì“¸ë°ì—†ëŠ” ì¼ì„ í•˜ë©° ì‹œê°„ì„ ë‚­ë¹„í•  ìˆ˜ ìˆë‹¤. í•„ìš” ì´ìƒìœ¼ë¡œ ë³µì¡í•˜ê³  ì´í•´í•˜ê¸° í˜ë“  ì½”ë“œë¥¼ ë§Œë“œë ‰ ë  ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ ì‚´í´ë³´ê¸° ì´í›„ ì˜ˆì‹œì—ì„œ ì„¤ëª…í•  ìŠ¤íƒ€ë²„ì¦ˆì—ì„œ ìŒë£Œ ê°€ê²©ê³¼ ì²¨ê°€ë¬¼ ê°€ê²©ì„ í•©í•´ ì´ ê°€ê²©ì„ ì‚°ì¶œí•˜ëŠ” ë°©ë²•ì€ ì¢‹ì€ ë°©ë²•ì´ ì•„ë‹ˆì—ˆë‹¤.\ní´ë˜ìŠ¤ê°€ ë§¤ìš° ë§ì•„ì§„ë‹¤. ì¼ë¶€ ì„œë¸Œí´ë˜ìŠ¤ì—ëŠ” ì í•©í•˜ì§€ ì•Šì€ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤. ì¼ë‹¨ ê¸°ë³¸ ë‹¨ìœ„ì—ì„œ ì‹œì‘í•˜ì—¬ ì¶”ê°€ë˜ëŠ” ìš”ì†Œë“¤ë¡œ ìµœì†Œ ë‹¨ìœ„ë¥¼ ì¥ì‹(decorate)í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤.\nê°€ì¥ ê¸°ë³¸ì´ ë˜ëŠ” ê°ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì¶”ê°€ë˜ëŠ” ìš”ì†Œë“¤ë¡œ ì¥ì‹í•œë‹¤. ìµœì¢… ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ë‚´ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤. ì¶”ê°€ ìš”ì†Œë“¤ì˜ ê²°ê³¼ë¥¼ ë§Œë“œëŠ” ì¼ì€ í•´ë‹¹ ê°ì²´ì—ê²Œ ìœ„ì„í•œë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ ìœ„ì™€ ê°™ì€ ë°©ì‹ì„ ì¶”ê°€ë˜ëŠ” ìš”ì†Œ ê°ì²´ë¡œ ë˜í•‘í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•œë‹¤.\në°ì½”ë ˆì´í„°ì˜ ìŠˆí¼í´ë˜ìŠ¤ëŠ” ìì‹ ì´ ì¥ì‹í•˜ê³  ìˆëŠ” ê°ì²´ì˜ ìŠˆí¼í´ë˜ìŠ¤ì™€ ê°™ë‹¤. í•œ ê°ì²´ë¥¼ ì—¬ëŸ¬ê°œì˜ ë°ì½”ë ˆì´í„°ë¡œ ê°ìŒ€ ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„°ëŠ” ìì‹ ì´ ê°ì‹¸ê³  ìˆëŠ” ê°ì²´ì™€ ê°™ì€ ìŠˆí¼í´ë˜ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆê¸°ì— ì›ë˜ ê°ì²´ê°€ ë“¤ì–´ê°ˆ ìë¦¬ì— ë°ì½”ë ˆì´í„° ê°ì²´ë¥¼ ë„£ì–´ë„ ìƒê´€ì—†ë‹¤. ë°ì½”ë ˆì´í„°ëŠ” ìì‹ ì´ ì¥ì‹í•˜ê³  ìˆëŠ” ê°ì²´ì—ê²Œ ì–´ë–¤ í–‰ë™ì„ ìœ„ì„í•˜ëŠ” ì¼ ë§ê³ ë„ ì¶”ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ê°ì²´ëŠ” ì–¸ì œë“  ê°ìŒ€ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‹¤í–‰ ì¤‘ì— í•„ìš”í•œ ë°ì½”ë ˆì´í„°ë¥¼ ë§ˆìŒëŒ€ë¡œ ì ìš©í•  ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ì˜ ì •ì˜ ë°ì½”ë ˆì´í„° íŒ¨í„´ìœ¼ë¡œ ê°ì²´ì— ì¶”ê°€ ìš”ì†Œë¥¼ ë™ì ìœ¼ë¡œ ë”í•  ìˆ˜ ìˆë‹¤.\në°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œë³´ë‹¤ í›¨ì”¬ ìœ ì—°í•˜ê²Œ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆë‹¤.\nclassDiagram class Component { methodA() methodB() } class ConcreteComponent { methodA() methodB() } class Decorator { Component wrappedObj methodA() methodB() } class ConcreteDecoratorA { methodA() methodB() newBehavior() } class ConcreteDecoratorB { Object newState methodA() methodB() newBehavior() } Component \u003c-- ConcreteComponent Component \u003c-- Decorator Component \u003c.. Decorator : êµ¬ì„± ìš”ì†Œ Decorator \u003c-- ConcreteDecoratorA Decorator \u003c-- ConcreteDecoratorB Component: ê° êµ¬ì„± ìš”ì†ŒëŠ” ì§ì ‘ ì“°ì¼ ìˆ˜ ìˆê³  ë°ì½”ë ˆì´í„°ì— ê°ì‹¸ì—¬ ì“°ì¼ ìˆ˜ë„ ìˆë‹¤. ConcreteComponent: ìƒˆë¡œìš´ í–‰ë™ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•œë‹¤. Decorator: ìì‹ ì´ ì¥ì‹í•  êµ¬ì„± ìš”ì†Œì™€ ê°™ì€ ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤. ê° ë°ì½”ë ˆì´í„° ì•ˆì—ëŠ” Component ê°ì²´ê°€ ë“¤ì–´ìˆì–´ì•¼ í•˜ë¯€ë¡œ êµ¬ì„± ìš”ì†Œì˜ ë ˆí¼ëŸ°ìŠ¤ë¥¼ í¬í•¨í•œ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ìˆë‹¤. ConcreteDecorator: ë°ì½”ë ˆì´í„°ê°€ ê°ì‹¸ê³  ìˆëŠ” Component ê°ì²´ìš© ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ìˆìœ¼ë©° Componentì˜ ìƒíƒœë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„°ê°€ ì‚¬ë¡œìš´ ë©”ì†Œë“œë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆìœ¼ë‚˜ ì¼ë°˜ì ìœ¼ë¡œ ìƒˆë¡œìš´ ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ëŠ” ëŒ€ì‹  Componentì— ì›ë˜ ìˆë˜ ë©”ì†Œë“œë¥¼ ë³„ë„ì˜ ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•œë‹¤. ë°ì½”ë ˆì´í„°ì˜ ìƒì†ê³¼ êµ¬ì„± ë°ì½”ë ˆì´í„°ì—ì„œëŠ” ì „ëµ íŒ¨í„´ì²˜ëŸ¼ êµ¬ì„±ì„ ì´ìš©í•˜ì—¬ í–‰ë™ì„ ë¶„ë¦¬í•˜ì§€ ì•Šê³ , ë°ì½”ë ˆì´í„°ë¡œ ê°ì‹¸ëŠ” ê°ì²´ì˜ í˜•ì‹ê³¼ ê°™ê²Œ êµ¬ì„±í•˜ì—¬, ìƒì†ì„ í†µí•´ í˜•ì‹ì„ ë§ì¶”ê²Œ ëœë‹¤.\nìƒì†ìœ¼ë¡œ í–‰ë™ì„ ë¬¼ë ¤ë°›ì§€ ì•Šê³ , ì–´ë– í•œ êµ¬ì„± ìš”ì†Œë¥¼ ê°€ì§€ê³  ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“¤ ë•Œ ìƒˆë¡œìš´ í–‰ë™ì„ ì¶”ê°€í•œë‹¤. ì¶”ìƒ í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤ ë“±ìœ¼ë¡œ í˜•ì‹ì„ ë§ì¶”ê³  ìƒì†ì„ í†µí•´ í–‰ë™ì„ êµ¬í˜„í•˜ë„ë¡ í•˜ì—¬ êµ¬ì„±ì„ ì´ìš©í•˜ê²Œ ëœë‹¤. ë°ì½”ë ˆì´í„°ë¥¼ ê°ì‹¸ê¸° ìœ„í•´ ë§Œë“  ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥ë˜ëŠ” ë°ì½”ë ˆì´í„°ì— í–‰ë™ì„ êµ¬í˜„í•˜ì—¬ í• ë‹¹í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±ì„ ì´ìš©í•œë‹¤. ê°ì²´ì˜ êµ¬ì„±(ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹)ì„ ì´ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ, ë°ì½”ë ˆì´í„°ê°€ ë‹¤ì–‘í•˜ê²Œ ì¶”ê°€ë˜ì–´ë„ ìœ ì—°ì„±ì„ ìƒì§€ ì•Šì„ ìˆ˜ ìˆê²Œ ëœë‹¤. ìƒì†ë§Œ ì¨ì•¼ í–ˆë‹¤ë©´ í–‰ë™ì´ ì»´íŒŒì¼ ì‹œ ìŠˆí¼í´ë˜ìŠ¤ì—ì„œ ë°›ì€ ê²ƒê³¼ ì½”ë“œë¡œ ì˜¤ë²„ë¼ì´ë“œ í•œ ê²ƒë§Œ ì“¸ìˆ˜ ìˆê²Œ ì •ì ìœ¼ë¡œ ê²°ì •ë˜ì–´ ë²„ë¦°ë‹¤. ë°ì½”ë ˆì´í„°ê°€ ê°ì‹¼ ë°ì½”ë ˆì´í„°ì˜ ë™ì‘ì„ êµ¬í˜„í•˜ëŠ” ê²ƒìœ¼ë¡œ êµ¬ì„±ì„ í™œìš©í•˜ë©´ ì‹¤í–‰ ì¤‘ì— ì›í•˜ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ë§ˆìŒëŒ€ë¡œ ì¡°í•©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„°ì˜ ë‹¨ì  java.io íŒ¨í‚¤ì§€\njava.io íŒ¨í‚¤ì§€ëŠ” íŒŒì¼ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ëŠ” ìŠ¤íŠ¸ë¦¼ì— ê¸°ëŠ¥ì„ ë”í•˜ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°ì²´ë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´ êµ‰ì¥íˆ ë§ì€ í´ë˜ìŠ¤ê°€ ìˆë‹¤.\nì¶”ìƒ ë°ì½”ë ˆì´í„° í´ë˜ìŠ¤(ì¶”ìƒ êµ¬ì„± ìš”ì†Œ) ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” InputStreamì„ ê¾¸ë¯¸ëŠ” FilterInputStreamì™€ FilterInputStreamë¥¼ ê¾¸ë¯¸ëŠ” BufferedInputStream, ZipInputStream ì„ ê¾¸ë¯¸ëŠ” í˜•ì‹ìœ¼ë¡œ ê³„ì† í™•ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„ë˜ì–´ ìˆë‹¤.\nflowchart BT a[InputStream] aa[FileInputStream] b[StringBufferInputStream] c[ByteArrayInputStream] d[FilterInputStream] e[PushbackInputStream] f[BufferedInputStream] g[DataInputStream] h[InflatorInputStream] i[ZipInputStream] i --\u003e h e --\u003e d f --\u003e d g --\u003e d h --\u003e d aa --\u003e a b --\u003e a c --\u003e a d --\u003e a ê²°ê³¼ì ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ ìˆëŠ” ë§ì€ í´ë˜ìŠ¤ë“¤ì´ InputSteramì„ ê°ì‹¸ ì£¼ëŠ” ë˜í¼ í´ë˜ìŠ¤ë¡œ ì‘ë™í•˜ê²Œ ëœë‹¤.\nì¡ë‹¤í•œ í´ë˜ìŠ¤ê°€ ë„ˆë¬´ ë§ì•„ì§„ë‹¤.\në°ì½”ë ˆì´í„°ê°€ ì–´ë–¤ ì‹ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ì´í•´í•˜ë©´ ë‹¤ë¥¸ ì‚¬ëŒì´ êµ¬í˜„í•œ ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ í™œìš©í•´ë„ ê°œë°œí•˜ê¸° ì‰½ë‹¤. ì˜ ëª¨ë“ ë‹¤ë©´ í™œìš©í•˜ê¸° ì–´ë µë‹¤. í´ë˜ìŠ¤ê°€ ì–´ë–¤ ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë¨¼ì € íŒŒì•…í•´ì•¼ ì‚¬ìš©í•˜ê¸° ì‰½ë‹¤. íŠ¹ì • í˜•ì‹ì— ì˜ì¡´í•˜ëŠ” ì½”ë“œì— ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì ìš©í•˜ë©´ ì—‰ë§ì´ ë  ìˆ˜ ìˆë‹¤.\në°ì½”ë ˆì´í„°ì˜ ì¥ì ì¸ ë°ì½”ë ˆì´í„°ë¥¼ ë¼ì›Œ ë„£ì–´ë„ í´ë¼ì´ì–¸íŠ¸ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì „í˜€ ì•Œ ìˆ˜ ì—†ë‹¤ëŠ” ì¥ì ì„ ëˆ„ë¦´ ìˆ˜ ì—†ë‹¤. êµ¬ì„± ìš”ì†Œë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë° í•„ìš”í•œ ì½”ë“œê°€ í›¨ì”¬ ë³µì¡í•´ì§„ë‹¤.\nêµ¬ì„± ìš”ì†Œ ì¸ìŠ¤í„´ìŠ¤ë§Œ ë§Œë“ ë‹¤ê³  ëŠë‚˜ì§€ ì•Šê³  ë§ì€ ë°ì½”ë ˆì´í„°ë¡œ ê°ì‹¸ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. êµ¬ìƒ êµ¬ì„± ìš”ì†Œë¡œ ì–´ë–¤ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œì— ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì ìš©í•˜ë©´ ì½”ë“œê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šê³ , ë°˜ëŒ€ë¡œ ì¶”ìƒ êµ¬ì„± ìš”ì†Œë¡œ ëŒì•„ê°€ëŠ” ì½”ë“œì—ëŠ” ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì ìš©í•´ì•¼ë§Œ ì œëŒ€ë¡œëœ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.\nêµ¬ìƒ êµ¬ì„± ìš”ì†Œë¡œ ëŒì•„ê°€ëŠ” ì½”ë“œë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤ë©´ ë°ì½”ë ˆì´í„° íŒ¨í„´ ì‚¬ìš©ì„ ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ë´ì•¼í•œë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì“°ë©´ ê´€ë¦¬í•´ì•¼ í•  ê°ì²´ê°€ ëŠ˜ì–´ë‚˜ë¯€ë¡œ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ë„ ë†’ì•„ì§ˆ ìˆ˜ ìˆë‹¤.\nì‹¤ì œë¡œëŠ” íŒ©í† ë¦¬ë‚˜ ë¹Œë” ê°™ì€ ë‹¤ë¥¸ íŒ¨í„´ìœ¼ë¡œ ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“¤ê³  ì‚¬ìš©í•˜ê²Œëœë‹¤. ì´ëŸ¬í•œ íŒ¨í„´ì„ ë°°ìš´ë‹¤ë©´ ë°ì½”ë ˆì´í„°ë¡œ ì¥ì‹ëœ êµ¬ìƒ êµ¬ì„± ìš”ì†ŒëŠ” ìº¡ìŠí™”ê°€ ì˜ ë˜ë¯€ë¡œ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì„ ì¤„ì´ê²Œëœë‹¤. ì´ˆëŒ€í˜• ì»¤í”¼ ì „ë¬¸ì , ìŠ¤íƒ€ë²„ì¦ˆ ìµœì´ˆ ì£¼ë¬¸ ì‹œìŠ¤í…œ classDiagram class Beverage { description getDescription() cost() } class HouseBlend { cost() } class DarkRoast { cost() } class Decaf { cost() } class Espresso { cost() } Beverage \u003c-- HouseBlend Beverage \u003c-- DarkRoast Beverage \u003c-- Decaf Beverage \u003c-- Espresso Beverage: ìŒë£Œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ ë§¤ì¥ì—ì„œ íŒë§¤ë˜ëŠ” ëª¨ë“  ìŒë£ŒëŠ” ì´ í´ë˜ìŠ¤ì˜ ì„œë¸Œí´ë¼ìŠ¤ì„ description: ê° ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì„¤ì •ë˜ëŠ” ìŒë£Œ ì„¤ëª… cost(): ì¶”ìƒë©”ì†Œë“œë¡œì„œ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼í•¨ ìƒì†ì„ ì´ìš©í•œ ê°œì„  ê³ ê°ì´ ì»¤í”¼ë¥¼ ì£¼ë¬¸í•  ë•Œ ìš°ìœ ë‚˜ ë‘ìœ , ëª¨ì¹´ ë“± ì¶”ê°€ í•­ëª©ì„ ì–¹ê¸°ë„ í•˜ë¯€ë¡œ ê·¸ë•Œë§ˆë‹¤ ê°€ê²©ì´ ì˜¬ë¼ê°€ì•¼í•œë‹¤.\nê°ê°ì— ëŒ€ì‘í•˜ëŠ” ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ë°©ë²•ë„ ìˆì§€ë§Œ, ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì™€ ìŠˆí¼í´ë˜ìŠ¤ ìƒì†ì„ í†µí•´ ê°œì„ ë  ìˆ˜ ìˆë‹¤.\nclassDiagram class Beverage { description +milk +soy +mocha +whip getDescription() cost() +has...() +set...() } class HouseBlend { cost() } class DarkRoast { cost() } class Decaf { cost() } class Espresso { cost() } Beverage \u003c-- HouseBlend Beverage \u003c-- DarkRoast Beverage \u003c-- Decaf Beverage \u003c-- Espresso ìƒì†ì„ ì´ìš©í•œ ê°œì„ ì˜ ë¬¸ì œì  ê°ê° ì˜µì…˜ì— ëŒ€ì‘í•˜ëŠ” ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ë°©ë²•ë³´ë‹¤ëŠ” ë‚˜ì€ ë°©ë²•ì´ì§€ë§Œ ì—¬ì „íˆ ë¬¸ì œì ì€ ì¡´ì¬í•œë‹¤.\nì²¨ê°€ë¬¼ ê°€ê²©ì´ ë°”ë€” ë•Œë§ˆë‹¤ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼í•œë‹¤. ì²¨ê°€ë¬¼ì˜ ì¢…ë¥˜ê°€ ë§ì•„ì§€ë©´ ìƒˆë¡œìš´ ë©”ì†Œë“œë¥¼ ì¶”ê°€í•´ì•¼ í•˜ê³ , ìŠˆí¼í´ë˜ìŠ¤ì˜ cost() ë©”ì†Œë“œë„ ê³ ì³ì•¼í•œë‹¤. íŠ¹ì • ì²¨ê°€ë¬¼ì´ ë“¤ì–´ê°€ë©´ ì•ˆë˜ëŠ” ìŒë£Œê°€ ì¶”ê°€ëœë‹¤ë©´ ë§‰ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. ë“± ë°ì½”ë ˆì´í„° íŒ¨í„´ ì ìš©í•˜ê¸° ë‹¤í¬ë¡œìŠ¤íŠ¸ì— ëª¨ì¹´, íœ˜í•‘ ì¶”ê°€ë¥¼ ìˆ˜í–‰í•˜ê²Œ ë  ê²½ìš° ì•„ë˜ì™€ ê°™ì€ ê³¼ì •ì„ ê±°ì³ì•¼í•œë‹¤.\nDarkRoast ê°ì²´ì—ì„œ ì‹œì‘í•œë‹¤. Mocha ê°ì²´ë¥¼ ë§Œë“¤ê³  ê·¸ ê°ì²´ë¡œ DarkRoast ê°ì²´ë¥¼ ê°ì‹¼ë‹¤. Whip ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“¤ì–´ Mochaë¥¼ ê°ì‹¼ë‹¤. ê°€ê²©ì„ ê³„ì‚°í•œë‹¤. ê°€ì¥ ë°”ê¹¥ìª½ì— ìˆëŠ” ë°ì½”ë ˆì´í„°ì¸ Whipì˜ cost()ë¥¼ í˜¸ì¶œí•œë‹¤. Whipì€ ì¥ì‹í•˜ê³  ìˆëŠ” ê°ì²´ì—ê²Œ ê°€ê²© ê³„ì‚°ì„ ìœ„ì„í•˜ê³ , ê°€ê²©ì´ êµ¬í•´ì§€ë©´ ê³„ì‚°ëœ ê°€ê²©ì— íœ˜í•‘í¬ë¦¼ì˜ ê°€ê²©ì„ ë”í•œ ë‹¤ìŒ ê²°ê³¼ê°’ì„ ë¦¬í„´í•œë‹¤. Berverage í´ë˜ìŠ¤ ì¥ì‹í•˜ê¸° classDiagram class Beverage { description getDescription() cost() } class HouseBlend { cost() } class DarkRoast { cost() } class Decaf { cost() } class Espresso { cost() } Beverage \u003c-- HouseBlend Beverage \u003c-- DarkRoast Beverage \u003c-- Decaf Beverage \u003c-- Espresso class CondimentDecorator { getDescription() } Beverage \u003c-- CondimentDecorator Beverage \u003c.. CondimentDecorator : êµ¬ì„± ìš”ì†Œ class Milk { Beverage beverage cost() getDescription() } class Mocha { Beverage beverage cost() getDescription() } class Soy { Beverage beverage cost() getDescription() } class Whip { Beverage beverage cost() getDescription() } CondimentDecorator \u003c-- Milk CondimentDecorator \u003c-- Mocha CondimentDecorator \u003c-- Soy CondimentDecorator \u003c-- Whip ì»¤í”¼ ì£¼ë¬¸ ì‹œìŠ¤í…œ ì½”ë“œ ë§Œë“¤ê¸° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 public abstract class Beverage { String description = \u0026#34;ì œëª© ì—†ìŒ\u0026#34;; public String getDescription() { return description; } public abstract double cost(); } /** * Beverage ê°ì²´ê°€ ë“¤ì–´ê°ˆ ìë¦¬ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ Beverage í´ë˜ìŠ¤ë¥¼ í™•ì¥í•œë‹¤. */ public abstract class CondimentDecorator extends Beverage { /** * ë°ì½”ë ˆì´í„°ê°€ ê°ìŒ€ ìŒë£Œë¥¼ ë‚˜íƒ€ë‚´ëŠ” Beverage ê°ì²´ë¥¼ ì§€ì •í•œë‹¤. * ìŒë£Œë¥¼ ì§€ì •í•  ë•ŒëŠ” ë°ì½”ë ˆì´í„°ì—ì„œ ì–´ë–¤ ìŒë£Œë“  ê°ìŒ€ ìˆ˜ ìˆë„ë¡ ìŠˆí¼ í´ë˜ìŠ¤ ìœ í˜•ì„ ì´ìš©í•œë‹¤. */ Beverage beverage; public abstract String getDescription(); } /** * Beverage ê°ì²´ë¥¼ í™•ì¥í•˜ì—¬ ê¸°ë³¸ ìŒë£Œë¥¼ ë§Œë“ ë‹¤. */ public class Espresso extends Beverage { public Espresso() { description = \u0026#34;ì—ìŠ¤í”„ë ˆì†Œ\u0026#34;; } @java.lang.Override public double cost() { return 1.99; } } /** * CondimentDecoratorë¥¼ í™•ì¥í•˜ì—¬ ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“ ë‹¤. */ public class Mocha extends CondimentDecorator { /** * ê°ì‹¸ê³ ì í•˜ëŠ” ìŒë£Œë¥¼ ì €ì¥í•˜ëŠ” ë°ì½”ë ˆì´í„° ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™” í•œë‹¤. * @param beverage */ public Mocha(Beverage beverage) { this.beverage = beverage; } @java.lang.Override public String getDescription() { return beverage.getDescription() + \u0026#34;, ëª¨ì¹´\u0026#34;; } @java.lang.Override public double cost() { return beverage.cost() + .20; } } í•µì‹¬ ì •ë¦¬ ê°ì²´ì§€í–¥ ì›ì¹™ + í´ë˜ìŠ¤ëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ìˆì–´ì•¼ í•˜ì§€ë§Œ ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤(OCP). ê°ì²´ì§€í–¥ íŒ¨í„´ + ë°ì½”ë ˆì´í„° íŒ¨í„´ ê°ì²´ì— ì¶”ê°€ ìš”ì†Œë¥¼ ë™ì ìœ¼ë¡œ ë”í•  ìˆ˜ ìˆë‹¤. ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œë³´ë‹¤ í›¨ì”¬ ìœ ì—°í•˜ê²Œ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ë””ìì¸ì˜ ìœ ì—°ì„± ë©´ì—ì„œ ë³´ë©´ ìƒì†ìœ¼ë¡œ í™•ì¥í•˜ëŠ” ì¼ì€ ë³„ë¡œ ì¢‹ì€ ì„ íƒì€ ì•„ë‹ˆë‹¤. ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • ì—†ì´ í–‰ë™ì„ í™•ì¥í•´ì•¼ í•˜ëŠ” ìƒí™©ë„ ìˆë‹¤. êµ¬ì„±ê³¼ ìœ„ì„ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì— ìƒˆë¡œìš´ í–‰ë™ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ìƒì† ëŒ€ì‹  ë°ì½”ë ˆì´í„° íŒ¨í„´ìœ¼ë¡œ í–‰ë™ì„ í™•ì¥í•  ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ì€ êµ¬ìƒ êµ¬ì„± ìš”ì†Œë¥¼ ê°ì‹¸ ì£¼ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•œë‹¤. ë°ì½”ë ˆì´í„° í´ë˜ìŠ¤ì˜ í˜•ì‹ì€ ê·¸ í´ë˜ìŠ¤ê°€ ê°ì‹¸ëŠ” í´ë˜ìŠ¤ í˜•ì‹ì„ ë°˜ì˜í•œë‹¤. ìƒì†ì´ë‚˜ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ìœ¼ë¡œ ìì‹ ì´ ê°ìŒ€ í´ë˜ìŠ¤ì™€ ê°™ì€ í˜•ì‹ì„ ê°€ì§„ë‹¤. ë°ì½”ë ˆì´í„°ëŠ” ìê¸°ê°€ ê°ì‹¸ê³  ìˆëŠ” êµ¬ì„± ìš”ì†Œì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ë”í•¨ìœ¼ë¡œì¨ í–‰ë™ì„ í™•ì¥í•œë‹¤. êµ¬ì„± ìš”ì†Œë¥¼ ê°ì‹¸ëŠ” ë°ì½”ë ˆì´í„°ì˜ ê°œìˆ˜ì—ëŠ” ì œí•œì´ ì—†ë‹¤. êµ¬ì„± ìš”ì†Œì˜ í´ë¼ì´ì–¸íŠ¸ëŠ” ë°ì½”ë ˆì´í„°ì˜ ì¡´ì¬ë¥¼ ì•Œ ìˆ˜ ì—†ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ êµ¬ì„± ìš”ì†Œì˜ êµ¬ì²´ì ì¸ í˜•ì‹ì— ì˜ì¡´í•˜ëŠ” ê²½ìš°ëŠ” ì˜ˆì™¸ ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ìì˜í•œ ê°ì²´ê°€ ë§¤ìš° ë§ì´ ì¶”ê°€ë  ìˆ˜ ìˆë‹¤. ë°ì½”ë ˆì´í„°ë¥¼ ë„ˆë¬´ ë§ì´ ì‚¬ìš©í•˜ë©´ ì½”ë“œê°€ í•„ìš” ì´ìƒìœ¼ë¡œ ë³µì¡í•´ì§„ë‹¤. ","date":"2023-10-02T14:29:08+09:00","image":"https://codemario318.github.io/post/gof/3/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/3/","title":"3. ë°ì½”ë ˆì´í„° íŒ¨í„´"},{"content":"ì˜µì €ë²„ íŒ¨í„´ì€ ì¤‘ìš”í•œ ì¼ì´ ì¼ì–´ë‚¬ì„ ë•Œ ê°ì²´ì—ê²Œ ìƒˆ ì†Œì‹ì„ ì•Œë ¤ ì¤„ ìˆ˜ ìˆëŠ” íŒ¨í„´ì´ë‹¤.\nì¼ëŒ€ ë‹¤ ê´€ê³„ë‚˜ ëŠìŠ¨í•œ ê²°í•©ê°™ì€ ê°œë…ì„ í†µí•´ êµ¬ì„±ë˜ë©° ìì£¼ ì‚¬ìš©ë˜ëŠ” íŒ¨í„´ ì¤‘ í•˜ë‚˜ì´ë‹¤.\nì˜µì €ë²„ íŒ¨í„´ ì˜µì €ë²„ íŒ¨í„´ì€ ì£¼ì œ(Subject), ì˜µì €ë²„(observer)ë¡œ êµ¬ì„±ëœë‹¤.\nflowchart LR a((ì£¼ì œ ê°ì²´)) subgraph ì˜µì €ë²„ ê°ì²´ b((ê°ì²´ 1)) c((ê°ì²´ 2)) d((ê°ì²´ 3)) end a-.-\u003eb a-.-\u003ec a-.-\u003ed ì´ ì±…ì—ì„œëŠ” ì˜µì €ë²„ íŒ¨í„´ì„ ì‹ ë¬¸ êµ¬ë…ì„ ì˜ˆì‹œë¡œ ë“¤ê³  ìˆë‹¤.\nì‹ ë¬¸ì‚¬ê°€ ì‹ ë¬¸ì„ ì°ì–´ë‚¸ë‹¤. ë…ìê°€ íŠ¹ì • ì‹ ë¬¸ì‚¬ì— êµ¬ë… ì‹ ì²­ì„ í•˜ë©´ êµ¬ë… í•´ì§€ ì „ê¹Œì§€ ìƒˆë¡œìš´ ì‹ ë¬¸ì´ ë‚˜ì˜¬ ë•Œë§ˆë‹¤ ë°°ë‹¬ì„ ë°›ì„ ìˆ˜ ìˆë‹¤. ì‹ ë¬¸ì„ ë³´ê³ ì‹¶ì§€ ì•Šìœ¼ë©´ êµ¬ë… í•´ì§€ ì‹ ì²­ì„ í•œë‹¤. ì‹ ë¬¸ì‚¬ê°€ ë§í•˜ì§€ ì•ŠëŠ” ì´ìƒ ì—¬ëŸ¬ êµ¬ë…ìë“¤ì€ ì‹ ë¬¸ì„ êµ¬ë…í•˜ê±°ë‚˜ í•´ì§€í•˜ëŠ” ê²ƒì„ ë°˜ë³µí•œë‹¤. ì˜µì €ë²„ íŒ¨í„´ì˜ ì •ì˜ ì˜µì €ë²„ íŒ¨í„´ì€ ì¼ë ¨ì˜ ê°ì²´ ì‚¬ì´ì—ì„œ ì¼ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì •ì˜í•˜ê³ , í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ëª¨ë“  ê°ì²´ì— ì—°ë½ì´ ê°„ë‹¤.\nì˜µì €ë²„ íŒ¨í„´ì€ í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ì—°ë½ì´ ê°€ê³  ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¼ëŒ€ë‹¤(one-two-many) ì˜ì¡´ì„±ì„ ì •ì˜í•œë‹¤.\nì˜µì €ë²„ëŠ” ì£¼ì œì— ë”¸ë ¤ ìˆìœ¼ë©° ì£¼ì œì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ì˜µì €ë²„ì—ê²Œ ì •ë³´ê°€ ì „ë‹¬ëœë‹¤. ë³´í†µ ì£¼ì œ ì¸í„°í˜ì´ìŠ¤ì™€ ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤ê°€ ë“¤ì–´ìˆëŠ” í´ë˜ìŠ¤ ë””ìì¸ìœ¼ë¡œ êµ¬í˜„í•œë‹¤. ì˜µì €ë²„ íŒ¨í„´ì˜ êµ¬ì¡° classDiagram direction LR class Subject { \u003c\u003c interface \u003e\u003e registerObserver() removeObserver() notifyObservers() } class Observer { \u003c\u003c interface \u003e\u003e update() } class ConcreteSubject { registerObserver() removeObserver() notifyObservers() getState() setState() } class ConcreteObserver { update() } Subject --\u003e Observer : ì˜µì €ë²„ ConcreteObserver ..\u003e Observer ConcreteSubject \u003c-- ConcreteObserver : ì£¼ì œ Subject \u003c.. ConcreteSubject Subject ì£¼ì œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸í„°í˜ì´ìŠ¤ë¡œ ê°ì²´ì—ì„œ ì˜µì €ë²„ë¡œ ë“±ë¡í•˜ê±°ë‚˜ ì˜µì €ë²„ ëª©ë¡ì—ì„œ íƒˆí‡´í•˜ê³  ì‹¶ì„ ë•Œ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ì˜ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤. Observer ì˜µì €ë²„ê°€ ë  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ê°ì²´ëŠ” ë§Œë“œì‹œ Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. ì£¼ì œì˜ ìƒíƒœê°€ ë°”ë€Œì—ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” update() ë©”ì†Œë“œë¡œë§Œ êµ¬ì„±ëœë‹¤. ConcreteSubject ì£¼ì œ ì—­í• ì„ í•˜ëŠ” êµ¬ìƒ í´ë˜ìŠ¤ëŠ” í•­ìƒ Subject ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. ì£¼ì œ í´ë˜ìŠ¤ì—ëŠ” ë“±ë¡ ë° í•´ì§€ìš© ë©”ì†Œë“œì™€ ìƒíƒœê°€ ë°”ë€” ë•Œë§ˆë‹¤ ëª¨ë“  ì˜µì €ë²„ì—ê²Œ ì—°ë½í•˜ëŠ” notifyObservers() ë©”ì†Œë“œë„ êµ¬í˜„í•´ì•¼ í•œë‹¤. Concreteobserver Observer ì¸í„°í˜ì´ìŠ¤ë§Œ êµ¬í˜„í•œë‹¤ë©´ ë¬´ì—‡ì´ë“  ì˜µì €ë²„ í´ë˜ìŠ¤ê°€ ë  ìˆ˜ ìˆë‹¤. ê° ì˜µì €ë²„ëŠ” íŠ¹ì • ì£¼ì œì— ë“±ë¡í•´ì„œ ì—°ëµ ë°›ì„ ìˆ˜ ìˆë‹¤. ì¶œíŒ-êµ¬ë…(publish-Subscribe) íŒ¨í„´ê³¼ì˜ ì°¨ì´ì \nì¶œíŒ-êµ¬ë… íŒ¨í„´ì€ êµ¬ë…ìê°€ ì„œë¡œ ë‹¤ë¥¸ ìœ í˜•ì˜ ë©”ì‹œì§€ì— ê´€ì‹¬ì„ ê°€ì§ˆ ìˆ˜ ìˆê³ , ì¶œíŒì‚¬ì™€ êµ¬ë…ìë¥¼ ë” ì„¸ì„¸í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆëŠ” ë³µì¡í•œ íŒ¨í„´ì´ë‹¤.\nëŠìŠ¨í•œ ê²°í•©ì˜ ìœ„ë ¥ ëŠìŠ¨í•œ ê²°í•©(Loose Coupling)ì€ ê°ì²´ë“¤ì´ ìƒí˜¸ì‘ìš©í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, ì„œë¡œ ì˜ ëª¨ë¥´ëŠ” ê´€ê³„ë¥¼ ì˜ë¯¸í•œë‹¤.\nëŠìŠ¨í•œ ê²°í•©ì„ í™œìš©í•˜ë©´ ìœ ì—°ì„±ì´ ì¢‹ì•„ì§„ë‹¤. ì˜µì €ë²„ íŒ¨í„´ì€ ëŠìŠ¨í•œ ê²°í•©ì˜ ì¢‹ì€ ì˜ˆì‹œì´ë‹¤. ì˜µì €ë²„ íŒ¨í„´ì˜ ëŠìŠ¨í•œ ê²°í•©\nì£¼ì œëŠ” ì˜µì €ë²„ê°€ íŠ¹ì • ì¸í„°í˜ì´ìŠ¤(Observer)ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ì•Œê³ ìˆë‹¤. ì˜µì €ë²„ëŠ” ì–¸ì œë“ ì§€ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì£¼ì œëŠ” Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê°ì²´ì˜ ëª©ë¡ì—ë§Œ ì˜ì¡´í•˜ë¯€ë¡œ ì—”ì œë“ ì§€ ìƒˆë¡œìš´ ì˜µì €ë²„ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì‹¤í–‰ ì¤‘ì— í•˜ë‚˜ì˜ ì˜µì €ë²„ë¥¼ ë‹¤ë¥¸ ì˜µì €ë²„ë¡œ ë°”ê¿”ë„ ì£¼ì œëŠ” ê³„ì†í•´ì„œ ë‹¤ë¥¸ ì˜µì €ë²„ì—ê²Œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ìƒˆë¡œìš´ í˜•ì‹ì˜ ì˜µì €ë²„ë¥¼ ì¶”ê°€í•  ë•Œë„ ì£¼ì œë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤. ìƒˆë¡œìš´ ì˜µì €ë²„ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•  ë•Œ ë³€ê²½ ì—†ì´ Observer ì¸í„°í˜ì´ìŠ¤ë§Œ êµ¬í˜„í•œë‹¤ë©´ ì–´ë–¤ ê°ì²´ì—ë„ ì—°ë½í•  ìˆ˜ ìˆë‹¤. ì£¼ì œì™€ ì˜µì €ë²„ëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. ë‘˜ì´ ì„œë¡œ ë‹¨ë‹¨í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ì†ì‰½ê²Œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. ì£¼ì œë‚˜ ì˜µì €ë²„ê°€ ë‹¬ë¼ì ¸ë„ ì„œë¡œì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ëŠìŠ¨í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì£¼ì œë‚˜ ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ì¡°ê±´ë§Œ ë§Œì¡±í•œë‹¤ë©´ ì–´ë–»ê²Œ ê³ ì³ë„ ë¬¸ì œê°€ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤. +ë””ìì¸ ì›ì¹™: ìƒí˜¸ì‘ìš©í•˜ëŠ” ê°ì²´ ì‚¬ì´ì—ëŠ” ê°€ëŠ¥í•˜ë©´ ëŠìŠ¨í•œ ê²°í•©ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nëŠìŠ¨í•˜ê²Œ ê²°í•©í•˜ëŠ” ë””ìì¸ì„ ì‚¬ìš©í•˜ë©´ ìƒí˜¸ì˜ì¡´ì„±ì„ ìµœì†Œí™” í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë³€ê²½ ì‚¬í•­ì´ ìƒê²¨ë„ ë¬´ë‚œíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìœ ì—°í•œ ê°ì²´ì§€í–¥ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.\ní’€ ë°©ì‹ ê¸°ë³¸ì ì¸ ì˜µì €ë²„ íŒ¨í„´ì€ ì£¼ì œê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ì˜µì €ë²„ì—ê²Œ ì•Œë¦¬ëŠ” ë°©ì‹(í‘¸ì‹œ)ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ì€ ë³€ê²½ ë°˜ì˜ì´ í•„ìš”ì—†ëŠ” ì˜µì €ë²„ì—ê²Œë„ ì•Œë¦¬ê²Œ ëœë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œê°€ ì¡´ì¬í•œë‹¤ë©´ ì˜µì €ë²„ê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ ë°ì´í„°ë¥¼ ëŒì–´ì˜¤ëŠ” í’€ ë°©ì‹ì„ í†µí•´ ê°œì„ ë  ìˆ˜ ìˆë‹¤.\nê°’ì´ ë³€í–ˆë‹¤ëŠ” ì•Œë¦¼ì„ ì˜µì €ë²„ê°€ ë°›ì•˜ì„ ë•Œ ì£¼ì œì— ìˆëŠ” ê²Œí„° ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ì„œ í•„ìš”í•œ ê°’ì„ ë‹¹ê²¨ì˜¤ë„ë¡ ë³€ê²½í•œë‹¤.\ní‘¸ì‹œì™€ í’€ì€ êµ¬í˜„ ë°©ë²•ì˜ ë¬¸ì œì´ì§€ë§Œ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê³„ì† ë°”ë€Œê³  ë³µì¡í•´ì§€ë¯€ë¡œ, ëŒ€ì²´ë¡œ ì˜µì €ë²„ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ê³¨ë¼ì„œ ê°€ì ¸ê°€ë„ë¡ ë§Œë“œëŠ” ë°©ë²•ì´ ë” ì¢‹ë‹¤.\nì£¼ì œì—ì„œ ì•Œë¦¼ ë³´ë‚´ê¸°\n1 2 3 4 5 6 7 class Subject { public void notifyObservers() { for (Observer observer: observers) { observer.update(); } } } ì˜µì €ë²„ì—ì„œ ì•Œë¦¼ ë°›ê¸°\nObserver ì¸í„°í˜ì´ìŠ¤ì—ì„œ update() ë©”ì†Œë“œì— ë§¤ê°œë³€ìˆ˜ê°€ ì—†ë„ë¡ ì„œëª…ì„ ë°”ê¾¼ë‹¤. 1 2 3 public interface Observer { public void update(); } update() ë©”ì†Œë“œì˜ ì„œëª…ì„ ë°”ê¾¸ê³  Subject êµ¬ìƒ ì£¼ì œ ë©”ì†Œë“œì˜ ê²Œí„°ë¡œ ë‚ ì”¨ë¥¼ ë°›ì•„ì˜¤ë„ë¡ Observer êµ¬ìƒ í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•œë‹¤. 1 2 3 4 5 6 class ExtendObserver extends Observer { public void update() { this.item = ExtendSubject.getItem(); ì´í›„_ë™ì‘(); } } ë””ìì¸ ì›ì¹™ ë‹¬ë¼ì§€ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ë‚´ê³  ë‹¬ë¼ì§€ì§€ ì•ŠëŠ” ë¶€ë¶„ê³¼ ë¶„ë¦¬í•œë‹¤. ì˜µì €ë²„ íŒ¨í„´ì—ì„œ ë³€í•˜ëŠ” ê²ƒì€ ì£¼ì œì˜ ìƒíƒœì™€ ì˜µì €ë²„ì˜ ê°œìˆ˜, í˜•ì‹ì´ë‹¤. ì˜µì €ë²„ íŒ¨í„´ì—ì„œëŠ” ì£¼ì œë¥¼ ë°”ê¾¸ì§€ ì•Šê³ ë„ ì£¼ì œì˜ ìƒíƒœì— ì˜ì¡´í•˜ëŠ” ê°ì²´ë“¤ì„ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ë‚˜ì¤‘ì— ë°”ë€” ê²ƒì„ ëŒ€ë¹„í•´ ë‘ë©´ í¸í•˜ê²Œ ì‘ì—…í•  ìˆ˜ ìˆë‹¤. êµ¬í˜„ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶° í”„ë¡œê·¸ë˜ë°í•œë‹¤. ì£¼ì œì™€ ì˜µì €ë²„ì—ì„œ ëª¨ë‘ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í–ˆë‹¤. ìƒì†ë³´ë‹¤ëŠ” êµ¬ì„±ì„ í™œìš©í•œë‹¤. ì˜µì €ë²„ íŒ¨í„´ì—ì„œëŠ” êµ¬ì„±ì„ í™œìš©í•´ì„œ ì˜µì €ë²„ë“¤ì„ ê´€ë¦¬í•œë‹¤. ì£¼ì œì™€ ì˜µì €ë²„ ì‚¬ì´ì˜ ê´€ê³„ê°€ ìƒì†ì´ ì•„ë‹Œ êµ¬ì„±ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤. ê¸°ìƒ ëª¨ë‹ˆí„°ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš”êµ¬ ì‚¬í•­ ë¶„ì„ flowchart LR a((ìŠµë„ ì„¼ì„œ)) b((ì˜¨ë„ ì„¼ì„œ)) c((ê¸°ì•• ì„¼ì„œ)) d([ê¸°ìƒ ìŠ¤í…Œì´ì…˜]) e((WeatherData ê°ì²´)) f[[ë””ìŠ¤í”Œë ˆì´ ì¥ë¹„]] a-.-\u003ed b-.-\u003ed c-.-\u003ed d\u003c-.ë°ì´í„° ì·¨ë“.-e e-.í™”ë©´ì— í‘œì‹œ.-\u003ef WatherData ê°ì²´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§Œë“¤ì–´ì§ í˜„ì¬ ê¸°ìƒ ì¡°ê±´(ì˜¨ë„, ìŠµë„ ê¸°ì••) ì¶”ì  WatherData ê°ì²´ë¥¼ ë°”íƒ•ìœ¼ë¡œ 3ê°œ í•­ëª©ì„ í™”ë©´ì— í‘œì‹œí•¨ í˜„ì¬ ì¡°ê±´, ê¸°ìƒ í†µê³„, ê°„ë‹¨í•œ ê¸°ìƒ ì˜ˆë³´ í•´ë‹¹ í•­ëª©ë“¤ì´ ìµœì‹  ì¸¡ì •ì¹˜ë¥¼ ìˆ˜ì§‘í•  ë•Œë§ˆë‹¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°±ì‹  ë‹¤ë¥¸ ê°œë°œìê°€ ì§ì ‘ ë‚ ì”¨ ë””ìŠ¤í”Œë ˆì´ë¥¼ ë§Œëœì–´ ë°”ë¡œ ë„£ì„ ìˆ˜ ìˆë„ë¡ í™•ì¥ ê°€ëŠ¥í•´ì•¼ í•¨ ì •ë³´ê°€ í™”ë©´ì— í‘œì‹œë˜ëŠ” íšŸìˆ˜ë¡œ ê³ ê°ì—ê°€ ìš”ê¸ˆ ë¶€ê³¼ êµ¬í˜„ ëª©í‘œ ë””ìŠ¤í”Œë ˆì´ë¥¼ êµ¬í˜„í•˜ê³  ìƒˆë¡œìš´ ê°’ì´ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤(measurementsChanged() í˜¸ì¶œ ì‹œ) WeatherDataì—ì„œ ë””ìŠ¤í”Œë ˆì´ë¥¼ ì—…ë°ì´íŠ¸ í•´ì•¼í•œë‹¤.\nclassDiagram direction RL class WeatherData { getTemperature() getHumidity() getPressure() measurementsChanged() } note for WeatherData \"ê¸°ìƒ ê´€ì¸¡ê°’ ê°±ì‹ ì‹œ measurementsChanged() í˜¸ì¶œ\" WeatherData í´ë˜ìŠ¤ì—ëŠ” 3ê°€ì§€ ì¸¡ì •ê°’(ì˜¨ë„, ìŠµë„ ê¸°ì••)ì˜ ê²Œí„° ë©”ì†Œë“œê°€ ìˆë‹¤. ìƒˆë¡œìš´ ê¸°ìƒ ì¸¡ì • ë°ì´í„°ê°€ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ measurementsChanged() ë©”ì†Œë“œê°€ í˜¸ì¶œë¨ ì´ ë©”ì†Œë“œê°€ ì–´ë–¤ ì‹ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ”ì§€ ëª¨ë¥¸ë‹¤(ì•Œ í•„ìš”ë„ ì—†ë‹¤) ê°€ìƒ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë””ìŠ¤í”Œë ˆì´ ìš”ì†Œ 3ê°€ì§€ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. í˜„ì¬ ì¡°ê±´, ê¸°ìƒ í†µê³„, ê¸°ìƒ ì˜ˆë³´ ë””ìŠ¤í”Œë ˆì´ë¥¼ ì—…ë°ì´íŠ¸í•˜ë„ë¡ measurementsChanged()ì— ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. ì¶”ê°€ ëª©í‘œ\nê¸°ìƒ ìŠ¤í…Œì´ì…˜ì´ ì„±ê³µí•˜ë©´ ë””ìŠ¤í”Œë ˆì´ê°€ ë” ëŠ˜ì–´ë‚  ìˆ˜ë„ ìˆê³ , ë””ìŠ¤í”Œë ˆì´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ë§ˆì¼“í”Œë ˆì´ìŠ¤ê°€ ë§Œë“¤ì–´ì§ˆì§€ë„ ëª¨ë¥¸ë‹¤. ë”°ë¼ì„œ í™•ì¥ì„±ì„ ê³ ë ¤í•œë‹¤ë©´ ì¢‹ì„ ìˆ˜ ìˆë‹¤.\nê°€ìƒ ìŠ¤í…Œì´ì…˜ìš© ì½”ë“œ ì¶”ê°€ 1ì°¨ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„ë  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class WeatherData { // ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì„ ì–¸ public void measurementsChanged() { // ìµœì‹  ì¸¡ì •ê°’ ê°€ì ¸ì˜¤ê¸° float temp = getTemperature(); float humidity = getHumidity; float pressure = getPressure(); // ê° ë””ìŠ¤í”Œë ˆì´ ì—…ë°ì´íŠ¸ currentConditionsDisplay.update(temp, humidity, pressure); statisticsDisplay.update(temp, humidity, pressure); forecastDisplay.update(temp, humidity, pressure); } // ê¸°íƒ€ ë©”ì†Œë“œ } ì›ì¹™ìœ¼ë¡œ ì¶”ê°€ ì½”ë“œ ì‚´í´ë³´ê¸° êµ¬ì²´ì ì¸ êµ¬í˜„(Bad) ê° ë””ìŠ¤í”Œë ˆì´ë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ë¡œì§ì´ êµ¬ì²´ì ì¸ êµ¬í˜„ì— ë§ì¶°ì ¸ ìˆìœ¼ë¯€ë¡œ í”„ë¡œê·¸ë¨ì„ ê³ ì¹˜ì§€ ì•Šê³ ëŠ” ë‹¤ë¥¸ ë””ìŠ¤í”Œë ˆì´ë¥¼ ì¶”ê°€, ì œê±°í•  ìˆ˜ ì—†ë‹¤. ìº¡ìŠí™” ë¶€ì¬(Bad) ë””ìŠ¤í”Œì—ì´ë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ë¡œì§ì€ ë°”ë€” ìˆ˜ ìˆëŠ” ë¶€ë¶„ìœ¼ë¡œ ìº¡ìŠí™”ê°€ í•„ìš”í•¨ ê³µí†µëœ ì¸í„°í˜ì´ìŠ¤(Good) {ê°ì²´}.update ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í•˜ëŠ” ê³µí†µì ì¸ ì¸í…Œí˜ì´ìŠ¤ë¥¼ êµ¬ì„±í–ˆìŒ ê¸°ìƒ ìŠ¤í…Œì´ì…˜ ì„¤ê³„í•˜ê¸° classDiagram direction LR class Subject { \u003c\u003c interface \u003e\u003e registerObserver() removeObserver() notifyObservers() } class Observer { \u003c\u003c interface \u003e\u003e update() } class DisplayElement { \u003c\u003c interface \u003e\u003e display() } class WeatherData { registerObserver() removeObserver() notifyObservers() getTemperature() getHumidity() getPressure() measurementsChanged() } class CurrentConditionsDisplay { update() display() } class StatisticsDisplay { update() display() } class ThirdPartyDisplay { update() display() } class ForecastDisplay { update() display() } Subject --\u003e Observer : ì˜µì €ë²„ WeatherData ..\u003e Subject CurrentConditionsDisplay --\u003e WeatherData : ì£¼ì œ CurrentConditionsDisplay ..\u003e Observer StatisticsDisplay ..\u003e DisplayElement StatisticsDisplay ..\u003e Observer ThirdPartyDisplay ..\u003e DisplayElement ThirdPartyDisplay ..\u003e Observer ForecastDisplay ..\u003e DisplayElement ForecastDisplay ..\u003e Observer Subject: ì£¼ì œ ì¸í„°í˜ì´ìŠ¤ Observer: ì˜µì €ë²„ ì¸í„°í˜ì´ìŠ¤, ì£¼ì œì—ì„œ ì˜µì €ë²„ì—ê²Œ ê°±ì‹ ëœ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²• ì œê³µ DisplayElement: ëª¨ë“  ë””ìŠ¤í”Œë ˆì´ ìš”ì†Œì˜ êµ¬í˜„ ì¸í„°í˜ì´ìŠ¤ WeatherData: Subject ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•  ê¸°ìƒ ì •ë³´ CurrentConditionsDisplay: WatherData ê°ì²´ë¡œë¶€í„° ì–»ì€ í˜„ì¬ ì¸¡ì •ê°’ì„ ë³´ì—¬ì¤„ ì˜µì €ë²„ ì´ë©´ì„œ ë””ìŠ¤í”Œë ˆì´ ìš”ì†Œ StatisticsDisplay: ì¸¡ì •ì¹˜ì˜ í†µê³„ì¹˜ë¥¼ í‘œì‹œí•  ì˜µì €ë²„ ì´ë©´ì„œ ë””ìŠ¤í”Œë ˆì´ ìš”ì†Œ ForecastDisplay: ì¸¡ì •ì¹˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê¸°ìƒ ì˜ˆë³´ë¥¼ í™”ë©´ì— ë³´ì—¬ì¤„ ë””ìŠ¤í”Œë ˆì´ ìš”ì†Œ ThirdPartyDisplay: ìƒˆë¡­ê²Œ êµ¬í˜„ë  ë””ìŠ¤í”Œë ˆì´ ìš”ì†Œ\u0026hellip; ë””ìì¸ ë„êµ¬ìƒì ì•ˆì— ë“¤ì–´ê°€ì•¼ í•  ë„êµ¬ë“¤ ê°ì²´ì§€í–¥ ê¸°ì´ˆ ì¶”ìƒí™” ìº¡ìŠí™” ë‹¤í˜•ì„± ìƒì† ê°ì²´ì§€í–¥ ì›ì¹™ ë°”ë€ŒëŠ” ë¶€ë¶„ì€ ìº¡ìŠí™”íŒë‹¤. ìƒì†ë³´ë‹¤ëŠ” êµ¬ì„±ì„ í™œìš©í•œë‹¤. êµ¬í˜„ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶° í”„ë¡œê·¸ë˜ë°í•œë‹¤. + ìƒí˜¸ì‘ìš©ì„ í•˜ëŠ” ê°ì²´ ì‚¬ì´ì—ëŠ” ê°€ëŠ¥í•˜ë©´ ëŠìŠ¨í•œ ê²°í•©ì„ ì‚¬ìš©í•œë‹¤. ê°ì²´ì§€í–¥ íŒ¨í„´ ì „ëµíŒ¨í„´ + ì˜µì €ë²„ íŒ¨í„´ í•œ ê°ì²´ì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ì—°ë½ì´ ê°€ê³  ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¼ëŒ€ë‹¤ ì˜ì¡´ì„±ì„ ì •ì˜í•œë‹¤. í•µì‹¬ ì •ë¦¬ ì˜µì €ë²„ íŒ¨í„´ì€ ê°ì²´ë“¤ ì‚¬ì´ì— ì¼ëŒ€ë‹¤ ê´€ê³„ë¥¼ ì •ì˜í•œë‹¤. ì£¼ì œëŠ” ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¨ì„œ ì˜µì €ë²„ì—ê²Œ ì—°ë½í•œë‹¤. Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸°ë§Œ í•˜ë©´ ì–´ë–¤ êµ¬ìƒ í´ë˜ìŠ¤ì˜ ì˜µì €ë²„ë¼ë„ íŒ¨í„´ì— ì°¸ì—¬í•  ìˆ˜ ìˆë‹¤. ì£¼ì œëŠ” ì˜µì €ë²„ë“¤ì´ Observer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ê²ƒì„ ì œì™¸í•˜ë©´ ì˜µì €ë²„ì— ê´€í•´ ì „í˜€ ëª¨ë¥¸ë‹¤.(ëŠìŠ¨í•œ ê²°í•©) ì˜µì €ë²„ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì£¼ì œê°€ ë°ì´í„°ë¥¼ ë³´ë‚´ê±°ë‚˜(í‘¸ì‹œ) ì˜µì €ë²„ê°€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬(í’€) ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ í’€ ë°©ì‹ì„ ì˜³ì€ ë°©ì‹ìœ¼ë¡œ ê°„ì£¼í•¨ ì˜µì €ë²„ íŒ¨í„´ì€ ì—¬ëŸ¬ ê°œì˜ ì£¼ì œì™€ ë©”ì‹œì§€ ìœ í˜•ì´ ìˆëŠ” ë³µì¡í•œ ìƒí™©ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¶œíŒ-êµ¬ë… íŒ¨í„´ê³¼ ì¹œì²™ì´ë‹¤. ì˜µì €ë²„ íŒ¨í„´ì€ ìì£¼ ì“°ì´ëŠ” íŒ¨í„´ìœ¼ë¡œ ëª¨ë¸-ë·°-ì»¨íŠ¸ë¡¤ëŸ¬(MVC)ë¥¼ ë°°ìš¸ ë•Œ ë‹¤ì‹œ ë³¼ ìˆ˜ ìˆì„ê²ƒì´ë‹¤. GUI í”„ë ˆì„ ì›Œí¬ë“¤ì´ ì˜µì €ë²„ íŒ¨í„´ì„ ë§ì´ ì‚¬ìš©í•œë‹¤. RxJava, ìë°”ë¹ˆ, RMI ì™¸ ì½”ì½”ì•„, ìŠ¤ìœ„í”„íŠ¸, JS ê°™ì€ ë‹¤ë¥¸ ì–¸ì–´ì˜ í”„ë ˆì„ì›Œí¬ì—ì„œë„ ì˜µì €ë²„ íŒ¨í„´ì„ ë§ì´ ì‚¬ìš©í•œë‹¤. ","date":"2023-09-27T13:09:08+09:00","image":"https://codemario318.github.io/post/gof/2/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/2/","title":"2. ì˜µì €ë²„ íŒ¨í„´"},{"content":"ë””ìì¸ íŒ¨í„´ ë§Œë‚˜ê¸° ëˆ„êµ°ê°€ê°€ ì´ë¯¸ ìš°ë¦¬ì˜ ë¬¸ì œë¥¼ í•´ê²°í•´ ë†“ì•˜ë‹¤.\në””ìì¸ íŒ¨í„´ì€ ë‹¤ë¥¸ ê°œë°œìê°€ ë˜‘ê°™ì€ ë¬¸ì œë¥¼ ê²½í—˜í•˜ê³  í•´ê²°í•˜ë©´ì„œ ìµí˜”ë˜ ì§€í˜œì™€ êµí›ˆì´ ë‹´ê²¨ìˆë‹¤.\në””ìì¸ íŒ¨í„´ì€ ì½”ë“œê°€ ì•„ë‹Œ ê²½í—˜ì„ ì¬ì‚¬ìš© í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.\në””ìì¸ ì›ì¹™ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë‹¬ë¦¬ì§€ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ë‚´ê³ , ë‹¬ë¼ì§€ì§€ ì•ŠëŠ” ë¶€ë¶„ê³¼ ë¶„ë¦¬í•œë‹¤.\në‹¬ë¼ì§€ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ ë‚˜ë¨¸ì§€ ì½”ë“œì— ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ ìº¡ìŠí™” í•œë‹¤. ì´ë¡œ ì¸í•´ ì½”ë“œë¥¼ ë³€ê²½í•˜ëŠ” ê³¼ì •ì—ì„œ ì˜ë„ì¹˜ ì•Šê²Œ ë°œìƒí•˜ëŠ” ì¼ì„ ì¤„ì´ë©° ì‹œìŠ¤í…œì˜ ìœ ì—°ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì½”ë“œì— ìƒˆë¡œìš´ ìš”êµ¬ ì‚¬í•­ì´ ìˆì„ ë•Œë§ˆë‹¤ ë°”ë€ŒëŠ” ë¶€ë¶„ì´ ìˆë‹¤ë©´ ë¶„ë¦¬í•´ì•¼í•œë‹¤.\nì´ ë””ìì¸ ì›ì¹™ì€ ë‹¤ìŒê³¼ ê°™ì´ í•´ì„í• ìˆ˜ë„ ìˆë‹¤.\në°”ë€ŒëŠ” ë¶€ë¶„ì€ ë”°ë¡œ ë½‘ì•„ ìº¡ìŠí™”í•œë‹¤. ê·¸ëŸ¬ë©´ ë‚˜ì¤‘ì— ë°”ë€Œì§€ ì•ŠëŠ” ë¶€ë¶„ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì¹˜ ì•Šê³  ê·¸ ë¶€ë¶„ë§Œ ê³ ì¹˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ìˆë‹¤.\nì´ ê°œë…ì€ ë§¤ìš° ê°„ë‹¨í•˜ì§€ë§Œ ë‹¤ë¥¸ ëª¨ë“  ë””ìì¸ íŒ¨í„´ì˜ ê¸°ë°˜ì„ ì´ë£¨ëŠ” ì›ì¹™ì´ë‹¤.\nëª¨ë“  íŒ¨í„´ì€ ì‹œìŠ¤í…œì˜ ì¼ë¶€ë¶„ì„ ë‹¤ë¥¸ ë¶€ë¶„ê³¼ ë…ë¦½ì ìœ¼ë¡œ ë³€í™”ì‹œí‚¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.\níŒ¨í„´ê³¼ ì „ë¬¸ ìš©ì–´ íŒ¨í„´ìœ¼ë¡œ ì†Œí†µí•˜ë©´ ì¼ìƒì–´ë¡œ êµ¬êµ¬ì ˆì ˆ ë§í•  ë•Œë³´ë‹¤ í›¨ì”¬ íš¨ìœ¨ì ì¸ ì˜ì‚¬ì†Œí†µì„ í•  ìˆ˜ ìˆë‹¤.\në””ìì¸ íŒ¨í„´ì€ ê°œë°œì ì‚¬ì´ì—ì„œ ì„œë¡œ ëª¨ë‘ ì´í•´í•  ìˆ˜ ìˆëŠ” ìš©ì–´ë¥¼ ì œê³µí•œë‹¤.\nìš©ì–´ë¥¼ ì´ì• í•˜ê³  ë‚˜ë©´ ë‹¤ë¥¸ ê°œë°œìì™€ ë” ì‰½ê²Œ ëŒ€í™”í•  ìˆ˜ ìˆê³ , íŒ¨í„´ì„ ì•„ì§ ëª¨ë¥´ëŠ” ì‚¬ëŒë“¤ì—ê²ŒëŠ” íŒ¨í„´ì„ ë°°ìš°ê³  ì‹¶ì€ ìƒê°ì´ ë“¤ë„ë¡ ìê·¹ì„ ìˆ˜ ìˆë‹¤.\në˜í•œ ìì§ˆêµ¬ë ˆí•œ ê°ì²´ ìˆ˜ì¤€ì—ì„œì˜ ìƒê°ì´ ì•„ë‹Œ, íŒ¨í„´ ìˆ˜ì¤€ì—ì„œ ìƒê°í•  ìˆ˜ ìˆê¸°ì— ì•„í‚¤í…ì²˜ë¥¼ ìƒê°í•˜ëŠ” ìˆ˜ì¤€ë„ ëŒì–´ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.\níŒ¨í„´ìœ¼ë¡œ ì˜ì‚¬ì†Œí†µí•˜ë©´ íŒ¨í„´ ì´ë¦„ê³¼ ê·¸ íŒ¨í„´ì— ë‹´ê²¨ìˆëŠ” ëª¨ë“  ë‚´ìš©, íŠ¹ì„±, ì œì•½ì¡°ê±´ ë“±ì„ í•¨ê»˜ ì´ì•¼ê¸° í•  ìˆ˜ ìˆë‹¤. ì „ëµ íŒ¨í„´ì„ ì‚¬ìš©í–ˆë‹¤ëŠ” ë§ì€, ëŒ€ìƒì˜ ë™ì‘ì„ ì‰½ê²Œ í™•ì¥í•˜ê±°ë‚˜ ë³€ê²½í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ë“¤ì˜ ì§‘í•©ìœ¼ë¡œ ìº¡ìŠí™” í–ˆë‹¤ëŠ” ë‚´ìš©ì„ ê°„ëµí•˜ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤. íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ê°„ë‹¨í•œ ë‹¨ì–´ë¡œ ë§ì€ ì–˜ê¸°ë¥¼ í•  ìˆ˜ ìˆë‹¤. ë­”ê°€ë¥¼ ì„¤ëª…í•  ë•Œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ìƒê°í•˜ê³  ìˆëŠ” ë””ìì¸ì„ ë‹¤ë¥¸ ê°œë°œìê°€ ë¹ ë¥´ê³  ì •í™•í•˜ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤. íŒ¨í„´ ìˆ˜ì¤€ì—ì„œ ì´ì•¼ê¸°í•˜ë©´ ë””ìì¸ì— ë” ì˜¤ë«ë™ì•ˆ ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤. íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ê°ì²´ì™€ í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒê³¼ ê´€ë ¨ëœ ìì§ˆêµ¬ë ˆí•œ ë‚´ìš©ì— ì‹œê°„ì„ ë²„ë¦´ í•„ìš”ê°€ ì—†ì–´ ë””ìì¸ ìˆ˜ì¤€ì—ì„œ ì´ˆì ì„ ë§ì¶œ ìˆ˜ ìˆë‹¤. ì „ë¬¸ ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ê°œë°œíŒ€ì˜ ëŠ¥ë ¥ì„ ê·¹ëŒ€í™” í•  ìˆ˜ ìˆë‹¤. ë””ìì¸ íŒ¨í„´ ìš©ì–´ë¥¼ ëª¨ë“  íŒ€ì›ì´ ì˜ ì•Œê³  ìˆë‹¤ë©´ ì˜¤í•´ì˜ ì†Œì§€ê°€ ì¤„ì–´ ì‘ì—…ì„ ë¹ ë¥´ê²Œ ì§„í–‰í•  ìˆ˜ ìˆë‹¤. ì „ë¬¸ ìš©ì–´ëŠ” ì‹ ì… ê°œë°œìì—ê²Œ í›Œë¥­í•œ ìê·¹ì œê°€ ë  ìˆ˜ ìˆë‹¤. ì„ ë°°ê°€ ë””ìì¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ë””ìì¸ íŒ¨í„´ì„ ë°°ìš¸ ë™ê¸°ê°€ ë¶€ì—¬ë  ìˆ˜ ìˆë‹¤. ë””ìì¸ íŒ¨í„´ ì‚¬ìš©ë²• ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í”„ë ˆì„ì›Œí¬ëŠ” ê°œë°œ ëª¨ë¸ ì „ë°˜ì— ê±¸ì³ì„œ ë§ì€ ì˜í–¥ì„ ë¯¸ì¹œë‹¤. í•˜ì§€ë§Œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì´ ì´í•´í•˜ê¸° ì‰½ê³ , ê´€ë¦¬í•˜ê¸° ì‰¬ìš´ ìœ ì—°í•œ ë°©ë²•ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì¡°ë¥¼ ë§Œë“œëŠ” ë° ë„ì›€ì„ ì£¼ì§€ëŠ” ëª»í•œë‹¤.\në””ìì¸ íŒ¨í„´ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë³´ë‹¤ ë” ë†’ì€ ë‹¨ê³„ì— ì†í•œë‹¤.\në””ìì¸ íŒ¨í„´ì€ í´ë˜ìŠ¤ì™€ ê°ì²´ë¥¼ êµ¬ì„±í•´ì„œ ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•˜ëŠ”ë°, ê·¸ëŸ° ë””ìì¸ì„ íŠ¹ì • ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë§ê²Œ ì ìš©í•˜ëŠ” ì¼ì€ ê°œë°œìì˜ ëª«ì´ë‹¤.\në””ìì¸ íŒ¨í„´ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ í”„ë ˆì„ì›Œí¬ê°€ ë„ì™€ì£¼ì§€ ëª»í•˜ëŠ” ë¶€ë¶„ì„ í•´ê²°í•˜ëŠ”ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤.\níŒ¨í„´ì„ ì™„ì „íˆ ìµí˜€ ë‘ë©´ ì–´ë–¤ ì½”ë“œê°€ ìœ ì—°ì„± ì—†ì´ ì—‰ë§ìœ¼ë¡œ ê¼¬ì—¬ìˆëŠ” ìŠ¤íŒŒê²Œí‹° ì½”ë“œë¼ëŠ” ì‚¬ì‹¤ì„ ê¸ˆë°© ê¹¨ë‹³ì„ ìˆ˜ ìˆë‹¤. ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œ íŒ¨í„´ì„ ì ìš©í•˜ì—¬ ì½”ë“œë¥¼ ê°œì„ í•  ìˆ˜ ìˆë‹¤. ê°ì²´ì§€í–¥ ë””ìì¸ ì›ì¹™ê³¼ ë””ìì¸ íŒ¨í„´ ìº¡ìŠí™”, ì¶”ìƒí™”, ìƒì†, ë‹¤í˜•ì„±ì„ ì˜ ì•Œê³  ìˆê³  í™œìš©í•  ìˆ˜ ìˆë‹¤ê³  í•˜ë”ë¼ë„ ìœ ì—°í•˜ê³ , ì¬ì‚¬ìš©ì´ ìš©ì´í•˜ê³ , ê´€ë¦¬í•˜ê¸° ì‰¬ìš´ ì‹œìŠ¤í…œì„ ì‰½ê²Œ ë§Œë“¤ê¸°ëŠ” ì–´ë ¤ìš´ ì¼ì´ë‹¤.\në””ìì¸ íŒ¨í„´ì€ ê°„ë‹¨í•˜ì§€ë§Œì€ ì•Šì€ ê°ì²´ì§€í–¥ ì‹œìŠ¤í…œ êµ¬ì¶• ë°©ë²•ë“¤ì„ ëª¨ì•„ì„œ ì •ì˜í•œ ë§ê·¸ëŒ€ë¡œ íŒ¨í„´ì´ë‹¤.\në”°ë¼ì„œ ë””ìì¸ íŒ¨í„´ì„ ì˜ ì•Œê³  ìˆë‹¤ë©´, ë¹„êµì  ì ì€ ìˆ˜ê³ ë¡œ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ” ë””ìì¸ì„ ë§Œë“¤ ìˆ˜ ìˆê²Œëœë‹¤.\në””ìì¸ì€ ì˜ˆìˆ ì´ë‹¤.\nì¥ì ì´ ìˆìœ¼ë©´ ë‹¨ì ë„ ìˆì§€ë§Œ, ë§ì€ ì‚¬ëŒì´ ì˜¤ëœ ì‹œê°„ ë™ì•ˆ ê³ ë¯¼í•´ì„œ ì°¾ì•„ë‚¸ ë””ìì¸ íŒ¨í„´ì„ ì˜ ë”°ë¥¸ë‹¤ë©´ í›¨ì”¬ ì¢‹ì€ ë””ìì¸ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\në˜í•œ íŒ¨í„´ì˜ ë°‘ë°”íƒ•ì—ëŠ” ê°ì²´ì§€í–¥ íŒ¨í„´ì´ ìˆìœ¼ë¯€ë¡œ ì›ì¹™ì„ ì•Œê³  ìˆë‹¤ë©´ ë¬¸ì œì— ë”± ë§ëŠ” íŒ¨í„´ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œì— ì ì ˆí•œ ë””ìì¸ì„ ë§Œë“œëŠ”ë° ë„ì›€ì„ ì¤„ ìˆ˜ ìˆë‹¤.\në””ìì¸ ë„êµ¬ìƒì ì•ˆì— ë“¤ì–´ê°€ì•¼ í•  ë„êµ¬ë“¤ ê°ì²´ì§€í–¥ ê¸°ì´ˆ ì¶”ìƒí™” ìº¡ìŠí™” ë‹¤í˜•ì„± ìƒì† ê°ì²´ì§€í–¥ ì›ì¹™ ë°”ë€ŒëŠ” ë¶€ë¶„ì€ ìº¡ìŠí™” í•œë‹¤. ìƒì†ë³´ë‹¤ëŠ” êµ¬ì„±ì„ í™œìš©í•œë‹¤. êµ¬í˜„ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶°ì„œ í”„ë¡œê·¸ë˜ë°í•œë‹¤. ë“± ê°ì²´ì§€í–¥ íŒ¨í„´ ì „ëµíŒ¨í„´ ë“± ì‹œë‚˜ë¦¬ì˜¤ ì‹œìŠ¤í…œì„ ì²˜ìŒ ë””ìì¸ í• ë•Œ í‘œì¤€ ê°ì²´ì§€í–¥ ê¸°ë²•ì„ ì‚¬ìš©í•˜ì—¬ ìŠˆí¼í´ë˜ìŠ¤ë¥¼ ë§Œë“  ë‹¤ìŒ, ê·¸ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ì—¬ ì„œë¡œ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤.\nì´í›„ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ìš”êµ¬í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•˜ì—¬ ìŠˆí¼í´ë˜ìŠ¤ì— í•´ë‹¹ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ì˜€ìœ¼ë‚˜, ìŠˆí¼í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ëª¨ë“  í´ë˜ìŠ¤ë“¤ì´ ë©”ì†Œë“œê°€ ì ìš©ë¨ì— ë”°ë¼ í•´ë‹¹ ê¸°ëŠ¥ì´ í•„ìš”ì—†ëŠ” ëª¨ë“  í´ë˜ìŠ¤ì—ì„œ í•´ë‹¹ ê¸°ëŠ¥ì´ ì ìš©ë˜ ê²°êµ­ ì˜¤ë¥˜ë¥¼ ë§Œë“¤ê²Œ ë˜ì—ˆë‹¤.\nì´ì— ë”°ë¼ í•´ë‹¹ ê¸°ëŠ¥ì´ í•„ìš”ì—†ëŠ” ì„œë¸Œ í´ë˜ìŠ¤ì˜ ì¶”ê°€ëœ ìŠˆí¼í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë§‰ì•˜ë‹¤.\ní•˜ì§€ë§Œ ì´ëŸ° ìƒí™©ìœ¼ë¡œ ì¸í•´ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¤‘ë³µì´ ë§ì´ ë°œìƒí•  ìˆ˜ ìˆì—ˆê³ , ì§€ì†ì ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸°ë¡œ í•¨ì— ë”°ë¼ íŠ¹ì •í•œ ê¸°ëŠ¥ì„ ë¬¶ì–´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„¤ê³„í•˜ì˜€ë‹¤.\në¬¸ì œ ì„œë¸Œí´ë˜ìŠ¤ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ëª¨ë“  ì„œë¸Œí´ë˜ìŠ¤ì— í•„ìš”í•œ ê¸°ëŠ¥ì´ ì•„ë‹ˆë¯€ë¡œ ìƒì†ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ì˜¬ë°”ë¥¸ ë°©ë²•ì´ ì•„ë‹ˆë‹¤.\nì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì¼ë¶€ ë¬¸ì œì ì€ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ, ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì½”ë“œ ê´€ë¦¬ì— ì»¤ë‹¤ë€ ë¬¸ì œê°€ ìƒê¸´ë‹¤. ì„œë¸Œí´ë˜ìŠ¤ì— í•„ìš”í•œ ëª¨ë“  ê¸°ëŠ¥ë“¤ì— ëŒ€í•´ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ë°©ì‹ë„ ì„œë¸Œí´ë˜ìŠ¤ë§ˆë‹¤ êµ¬í˜„ì´ í•„ìš”í•˜ë¯€ë¡œ ì¢‹ì€ í•´ê²°ë°©ë²•ì´ ì•„ë‹ˆë‹¤. ì´ëŸ¬í•œ ë¬¸ì œëŠ” ë””ìì¸ íŒ¨í„´ì˜ ì ìš©ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\në¬¸ì œë¥¼ ëª…í™•í•˜ê²Œ íŒŒì•…í•˜ê¸° ìœ„ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ë¥¼ ìœ„í•´ ìƒì†ì„ í™œìš©í•˜ëŠ” ê²ƒì€ ëª¨ë“  ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ í•œ ê°€ì§€ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•˜ë„ë¡ í•˜ëŠ” ë°©ë²•ì´ê¸° ë•Œë¬¸ì— ìµœì„ ì˜ í•´ê²°ì±…ì´ ì•„ë‹ˆë‹¤.\në˜í•œ ì¸í…Œí˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ê´œì°®ì•„ ë³´ì´ì§€ë§Œ, ì¸í„°í˜ì´ìŠ¤ì—ëŠ” êµ¬í˜„ëœ ì½”ë“œê°€ ì—†ìœ¼ë¯€ë¡œ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.\ní•œê°€ì§€ í–‰ë™ì„ ë°”ê¿€ë•Œë§ˆë‹¤ ê·¸ í–‰ë™ì´ ì •ì˜ë˜ì–´ ìˆëŠ” ì„œë¡œ ë‹¤ë¥¸ ì„œë¸Œ í´ë˜ìŠ¤ë¥¼ ì „ë¶€ ì°¾ì•„ì„œ ì½”ë“œë¥¼ ì¼ì¼ì´ ê³ ì³ì•¼í•œë‹¤. ê·¸ ê³¼ì •ìœ¼ë¡œ ì¸í•´ ìƒˆë¡œìš´ ë²„ê·¸ê°€ ìƒê¸¸ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. ë°”ë€ŒëŠ” ë¶€ë¶„ê³¼ ê·¸ë ‡ì§€ ì•Šì€ ë¶€ë¶„ ë¶„ë¦¬í•˜ê¸° ë³€í™”í•˜ëŠ” ë¶€ë¶„ê³¼ ê·¸ëŒ€ë¡œ ìˆëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬í•˜ë ¤ë©´ 2ê°œì˜ í´ë˜ìŠ¤ ì§‘í•©ì„ ë§Œë“ ë‹¤. ê° í´ë˜ìŠ¤ì˜ ì§‘í•©ì—ëŠ” ê°ê°ì˜ í–‰ë™ì„ êµ¬í˜„í•œ ê²ƒì„ ì „ë¶€ ì§‘ì–´ë„£ëŠ”ë‹¤. ë³€í™”í•˜ëŠ” ê¸°ëŠ¥ì„ ìŠˆí¼í´ë˜ìŠ¤ì—ì„œ ëª¨ë‘ ë¶„ë¦¬í•˜ì—¬ ê° í–‰ë™ì„ ë‚˜íƒ€ë‚¼ í´ë˜ìŠ¤ ì§‘í•©ì„ ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\nflowchart LR a((ìŠˆí¼í´ë˜ìŠ¤))--\u003eb a--\u003ec subgraph ë‹¬ë¼ì§€ëŠ” ê¸°ëŠ¥ b([ë©”ì†Œë“œ êµ¬í˜„ 1]) c([ë©”ì†Œë“œ êµ¬í˜„ 2]) end ë‹¬ë¼ì§€ëŠ” ê¸°ëŠ¥ì„ ë””ìì¸í•˜ëŠ” ë°©ë²• ë‹¬ë¼ì§€ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ ì§‘í•©ì€ ìµœëŒ€í•œ ìœ ì—°í•˜ê²Œ ë§Œë“¤ê³ , ì¸ìŠ¤í„´ìŠ¤ì— ê¸°ëŠ¥ì„ í• ë‹¹í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„í•´ ê° í–‰ë™ì€ ì¸í„°í˜ì´ìŠ¤ë¡œ í‘œí˜„í•˜ê³  ì¸í…Œí˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ í–‰ë™ì„ êµ¬í˜„í•œë‹¤.\nì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” ìŠˆí¼í´ë˜ìŠ¤ì—ì„œ êµ¬ì²´ì ìœ¼ë¡œ êµ¬í˜„í•˜ê±°ë‚˜ ì„œë¸Œí´ë˜ìŠ¤ ìì²´ì—ì„œ ë³„ë„ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì—ì„œ í•­ìƒ íŠ¹ì • êµ¬í˜„ì— ì˜ì¡´í•œë‹¤. ì„œë¸Œí´ë˜ìŠ¤ëŠ” ì¸í„°í˜ì´ìŠ¤ë¡œ í‘œí˜„ë˜ëŠ” í–‰ë™ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì‹¤ì œ í–‰ë™ êµ¬í˜„ì´ ìŠˆí¼í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ê²Œë§Œ êµ­í•œë˜ì§€ ì•ŠëŠ”ë‹¤. ì¸í„°í˜ì´ìŠ¤ë¡œ ì¸í•´ ì„œë¸Œí´ë˜ìŠ¤ë§ˆë‹¤ í•´ë‹¹ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼í•˜ëŠ” ë¬¸ì œì ì´ ìˆë‹¤. ì‹¤ì œ ì‹¤í–‰ ì‹œì— ì“°ì´ëŠ” ê°ì²´ê°€ ì½”ë“œì— ê³ ì •ë˜ì§€ ì•Šë„ë¡ ìƒì†ì´ ì•„ë‹Œ ìƒìœ„ í˜•ì‹(super type)ì— ë§ì¶° í”„ë¡œê·¸ë˜ë°í•´ì„œ ë‹¤í˜•ì„±ì„ í™œìš©í•´ì•¼ í•œë‹¤ëŠ” ì ì—ì„œ ì¸í„°í˜ì´ìŠ¤ì— ë§ì¶°ì„œ í”„ë¡œê·¸ë˜ë°í•œë‹¤ëŠ” ë§ì€ ì‚¬ì‹¤ ìƒìœ„ í˜•ì‹ì— ë§ì¶° í”„ë¡œê·¸ë˜ë°í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\në³€ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ ë³´í†µ ì¶”ìƒ í´ë˜ìŠ¤ë‚˜ ì¸í…Œí˜ì´ìŠ¤ ê°™ì€ ìƒìœ„ í˜•ì‹ìœ¼ë¡œ ì„ ì–¸í•´ì•¼ í•œë‹¤. ê°ì²´ë¥¼ ë³€ìˆ˜ì— ëŒ€ì…í•  ë•Œ ìƒìœ„ í˜•ì‹ì„ êµ¬ì²´ì ìœ¼ë¡œ êµ¬í˜„í•œ í˜•ì‹ì´ë¼ë©´ ì–´ë–¤ ê°ì²´ë“  ë„£ì„ ìˆ˜ ìˆë‹¤. í–‰ë™ í†µí•©í•˜ê¸° íŠ¹ì • í–‰ë™ì„ ìŠˆí¼í´ë˜ìŠ¤ ë˜ëŠ” ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œ ë©”ì†Œë“œë¥¼ ì¨ì„œ êµ¬í˜„í•˜ì§€ ì•Šê³  ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ìœ„ì„í•œë‹¤.\nclassDiagram class Duck { + FlyBehavior flyBehavior + QuackBehavior quackBehavior + performQuack() - quack() swim() display() + performFly() - performFly() } 1 2 3 4 5 6 7 public abstract class Duck { QuackBehavior quackBehavior; public void performQuack() { quackBehavior.quack(); } } íŠ¹ì • í–‰ë™ì„ í•´ê³  ì‹¶ì„ë• ì¸í…Œí˜ì´ìŠ¤ì— ì˜í•´ ì°¸ì¡°ë˜ëŠ” ê°ì²´ì—ì„œ ë™ì‘í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìœ„ì„í•  ìˆ˜ ìˆë‹¤.\në™ì ìœ¼ë¡œ í–‰ë™ ì§€ì •í•˜ê¸° Setterë¥¼ ì´ìš©í•˜ì—¬ ìœ„ì„í•œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ì„¤ì •í•œë‹¤ë©´ ë™ì ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆë‹¤.\nì „ëµ íŒ¨í„´ ì•Œê³ ë¦¬ì¦˜êµ°ì„ ì •ì˜í•˜ê³  ìº¡ìŠí™”í•˜ì—¬ ê°ê°ì˜ ì•Œê³ ë¦¬ì¦˜êµ°ì„ ìˆ˜ì •í•´ì„œ ì“¸ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì „ëµíŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì•Œê³ ë¦¬ì¦˜ì„ ë¶„ë¦¬í•´ì„œ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\nì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ ë˜ëŠ” ë™ì‘ì„ ë™ì ìœ¼ë¡œ ì„ íƒí•˜ê³  ì‚¬ìš©í•´ì•¼ í•  ë•Œ í´ë˜ìŠ¤ì˜ í–‰ë™ì„ ë³€ê²½í•˜ê³  í™•ì¥í•˜ê¸° ì‰¬ìš´ êµ¬ì¡°ë¥¼ ê°–ì¶”ê³ ì í•  ë•Œ ì½”ë“œ ì¤‘ë³µì„ ë°©ì§€í•˜ê³  ì¬ì‚¬ìš©ì„±ì„ ë†’íë•Œ êµ¬ì¡° ì „ëµ(Strategy): ë‹¤ì–‘í•œ ì•Œê³ ë¦¬ì¦˜ ë˜ëŠ” ë™ì‘ì„ ë‚˜íƒ€ë‚´ëŠ” ì¸í„°í˜ì´ìŠ¤ ë˜ëŠ” ì¶”ìƒ í´ë˜ìŠ¤ ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì—¬ëŸ¬ ì „ëµ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•¨ ì „ëµ ì»¨í…ìŠ¤íŠ¸(Strategy Context): ì „ëµ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ë¡œ, ì „ëµì„ ë³€ê²½í•˜ê³  ì‹¤í–‰í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰ ì»¨í…ìŠ¤íŠ¸ ê°ì²´ëŠ” ì „ëµ ê°ì²´ë¥¼ ê°€ì§€ë©° í•„ìš”ì— ë”°ë¼ ì „ëµì„ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ì „ëµ êµ¬ì²´ í´ë˜ìŠ¤(Concrete Strategy): ì „ëµ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ êµ¬ì²´ í´ë˜ìŠ¤ë“¤ ê° í´ë˜ìŠ¤ëŠ” íŠ¹ì •í•œ ì•Œê³ ë¦¬ì¦˜ì´ë‚˜ ë™ì‘ì„ êµ¬í˜„ ìº¡ìŠí™”ëœ í–‰ë™ ì‚´í´ë³´ê¸° classDiagram class Duck { FlyBehavior flyBehavior QuackBehavior quackBehavior swim() display() performQuack() performFly() setFlyBehavior() setQuackBehavior() } class MallardDuck { display() } class RedheadDuck { display() } class RubberDuck { display() } class DecoyDuck { display() } Duck \u003c|-- MallardDuck Duck \u003c|-- RedheadDuck Duck \u003c|-- RubberDuck Duck \u003c|-- DecoyDuck class ImpFlyBehavior { fly() } class FlyWithWings { fly() // ë‚˜ëŠ” í–‰ë™ êµ¬í˜„ } class FlyNoWay { fly() // ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠìŒ } ImpFlyBehavior\u003c|--Duck ImpFlyBehavior\u003c|--FlyWithWings ImpFlyBehavior\u003c|--FlyNoWay class ImpQuackBehavior { quack() } class Quack { quack() // ì†Œë¦¬ ë‚´ëŠ” í–‰ë™ êµ¬í˜„ } class Squeak { quack() // ê³ ë¬´ ì˜¤ë¦¬ ì†Œë¦¬ êµ¬í˜„ } class MuteQuack { quack() // ì•„ë¬´ ì†Œë¦¬ ë‚´ì§€ ëª»í•¨ } ImpQuackBehavior\u003c|--Duck ImpQuackBehavior\u003c|--Quack ImpQuackBehavior\u003c|--Squeak ImpQuackBehavior\u003c|--MuteQuack í–‰ë™ë“¤ì„ ì•Œê³ ë¦¬ì¦˜êµ°(family of algorithms)ìœ¼ë¡œ ìƒê°í•˜ê³  ìœ„ì²˜ëŸ¼ í–‰ë™ì„ ìƒì†ë°›ëŠ” ëŒ€ì‹  ì˜¬ë°”ë¥¸ í–‰ë™ ê°ì²´ë¡œ êµ¬ì„±ë˜ëŠ” í–‰ë™ì„ ë¶€ì—¬ë°›ê¸° ìœ„í•´ ë‘ í´ë˜ìŠ¤ë¥¼ í•©ì¹˜ëŠ” ê²ƒì„ êµ¬ì„±ì„ ì´ìš©í•œë‹¤ë¼ê³  í‘œí˜„í•œë‹¤.\nì •ë¦¬ ê°ì²´ì§€í–¥ ê¸°ì´ˆ ì§€ì‹ë§Œ ê°€ì§€ê³ ëŠ” íœ¼ë¥­í•œ ê°ì²´ì§€í–¥ ë””ìì´ë„ˆê°€ ë  ìˆ˜ ì—†ë‹¤. íœ¼ë¥­í•œ ê°ì²´ì§€í–¥ ë””ìì¸ì´ë¼ë©´ ì¬ì‚¬ìš©ì„±, í™•ì¥ì„±, ê´€ë¦¬ì˜ ìš©ì´ì„±ì„ ê°–ì¶œ ì¤„ ì•Œì•„ì•¼ í•œë‹¤. íŒ¨í„´ì€ í›Œë¥­í•œ ê°ì²´ì§€í–¥ ë””ìì¸ í’ˆì§ˆì„ ê°–ì¶”ê³  ìˆëŠ” ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤. íŒ¨í„´ì€ ê²€ì¦ë°›ì€ ê°ì²´ì§€í–¥ ê²½í—˜ì˜ ì‚°ë¬¼ì´ë‹¤. íŒ¨í„´ì´ ì½”ë“œë¥¼ ë°”ë¡œ ì œê³µí•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‚˜, ë””ìì¸ ë¬¸ì œì˜ ë³´í¸ì ì¸ í•´ë²•ì„ ì œê³µí•œë‹¤. íŒ¨í„´ì€ ë°œëª…ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°œê²¬ë˜ëŠ” ê²ƒì´ë‹¤. ëŒ€ë¶€ë¶„ì˜ íŒ¨í„´ê³¼ ì›ì¹™ì€ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ë³€ê²½ ë¬¸ì œì™€ ì—°ê´€ë˜ì–´ ìˆë‹¤. ëŒ€ë¶€ë¶„ íŒ¨í„´ì€ ì‹œìŠ¤í…œì˜ ì¼ë¶€ë¶„ì„ ë‚˜ë¨¸ì§€ ë¶€ë¶„ê³¼ ë¬´ê´€í•˜ê²Œ ë³€ê²½í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤. ë§ì€ ê²½ìš°ì— ì‹œìŠ¤í…œì—ì„œ ë°”ë€ŒëŠ” ë¶€ë¶„ì„ ê³¨ë¼ë‚´ì„œ ìº¡ìŠí™”í•´ì•¼ í•œë‹¤. íŒ¨í„´ì€ ë‹¤ë¥¸ ê°œë°œìì™€ì˜ ì˜ì‚¬ì†Œí†µì„ ê·¹ëŒ€í™”í•˜ëŠ” ì „ë¬¸ ìš©ì–´ ì—­í• ì„ í•œë‹¤. ","date":"2023-09-20T15:25:08+09:00","image":"https://codemario318.github.io/post/gof/1/cover_hu5fe9e632d31d6204170abf166c9a2927_244577_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/gof/1/","title":"1. ë””ìì¸ íŒ¨í„´ ì†Œê°œì™€ ì „ëµ íŒ¨í„´"},{"content":"MySQL ë³µì œì—ì„œëŠ” ì†ŒìŠ¤ ì„œë²„ì˜ íŠ¹ì • ì´ë²¤íŠ¸ë“¤ë§Œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì ìš©ë  ìˆ˜ ìˆë„ë¡ í•„í„°ë§ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\ní•„í„°ë§ì˜ ì£¼ì²´ëŠ” ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ë‘˜ ë‹¤ ë  ìˆ˜ ìˆë‹¤.\në ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì¢€ ë” ë‹¤ì–‘í•œ í˜•íƒœì˜ í•„í„°ë§ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì†ŒìŠ¤ ì„œë²„ì—ì„œëŠ” ë°œìƒí•œ ì´ë²¤íŠ¸ë“¤ ì¤‘ íŠ¹ì • ì´ë²¤íŠ¸ë“¤ë§Œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•˜ê±°ë‚˜ í˜¹ì€ ê¸°ë¡í•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨ ë³µì œì—ì„œ ì´ë²¤íŠ¸ê°€ í•„í„°ë§ ë  ìˆ˜ ìˆê²Œ í•œë‹¤. ì†ŒìŠ¤ ì„œë²„ì—ì„œì˜ í•„í„°ë§ì€ ë°ì´í„°ë² ì´ìŠ¤ ë‹¨ìœ„ë¡œë§Œ ê°€ëŠ¥í•˜ë©°, ì˜µì…˜ì„ ì‚¬ìš©í•´ íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì´ë²¤íŠ¸ë“¤ë§Œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ë˜ê²Œ í•˜ê±°ë‚˜ í˜¹ì€ ê¸°ë¡ë˜ì§€ ì•Šê²Œë” ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\nbinlog-do-db ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•  ë°ì´í„°ë² ì´ìŠ¤ëª…ì„ ì§€ì •í•œë‹¤. ì§€ì •ëœ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì´ë²¤íŠ¸ë“¤ë§Œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ëœë‹¤. binlog-ignore-db ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•˜ì§€ ì•Šì„ ë°ì´í„°ë² ì´ìŠ¤ëª…ì„ ì§€ì •í•œë‹¤. ì§€ì •ëœ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì´ë²¤íŠ¸ë“¤ì€ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ë˜ì§€ ì•ŠëŠ”ë‹¤. ë‘ ì˜µì…˜ì€ MySQL ì„œë²„ë¥¼ ì‹œì‘í•  ë•Œ ì»¤ë§¨ë“œ ë¼ì¸ì´ë‚˜ ì„¤ì • íŒŒì¼ì— ì§€ì •í•´ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ì—†ì–´ ì¬ì‹œì‘ì´ í•„ìš”í•˜ë‹¤.\n1 2 3 4 binlog-do-db=production binlog-do-db=db1 binlog-do-db=db2 binlog-ignore-db=test ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” ì†ŒìŠ¤ ì„œë²„ì—ì„œë³´ë‹¤ ìœ ì—°í•œ í˜•íƒœë¡œ í•„í„°ë§ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë©°, ë™ì ìœ¼ë¡œ í•„í„°ë§ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ë„ ìˆë‹¤.\në ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œì˜ í•„í„°ë§ì€ ë¦´ë ˆì´ ë¡œê·¸ì— ì €ì¥ëœ ì´ë²¤íŠ¸ë“¤ì„ ì‹¤í–‰í•˜ëŠ” ì‹œì ì— ì ìš©ëœë‹¤. ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ì´ë²¤íŠ¸ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ë¯¸ë¦¬ í•„í„°ë§í•´ì„œ ì´ë²¤íŠ¸ë“¤ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì¼ë‹¨ ëª¨ë“  ì´ë²¤íŠ¸ë“¤ì„ ê°€ì ¸ì˜¨ ë‹¤ìŒ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ í•„í„°ë§ì„ ì ìš©í•œë‹¤. ì‚¬ìš©ìëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ ì‹œì‘í•  ë•Œ ì»¤ë§¨ë“œ ë¼ì¸ í˜¹ì€ ì„¤ì • íŒŒì¼ì— ì˜µì…˜ì„ ì§€ì •í•˜ê±°ë‚˜ í˜„ì¬ êµ¬ë™ì¤‘ì¸ ë ˆí”Œë¦¬ê°€ ì„œë²„ì—ì„œ CHANGE REPLICATION FILTER êµ¬ë¬¸ìœ¼ë¡œ í•„í„°ë§ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 CHANGE REPLICATION FILTER filter[, filter, ...] [FOR CHANNEL channel_name] filter: REPLICATE_DO_DB = (db_name[, db_name, ...]) REPLICATE_IGNORE_DB = (db_name[, db_name, ...]) REPLICATE_DO_TABLE = (db_name.table_name[, db_name.table_name, ...]) REPLICATE_IGNORE_TABLE = (db_name.table_name[, db_name.table_name, ...]) RELICATE_WILD_DO_TABLE = (\u0026#39;db_pattern.table_pattern\u0026#39;[, \u0026#39;db_pattern.table_pattern\u0026#39;, ...]) REPLICATE_WILD_IGNORE_TABLE = (\u0026#39;db_pattern.table_pattern\u0026#39;[, \u0026#39;db_pattern.table_pattern\u0026#39;, ...]) REPLICATE_REWRITE_DB = ((from_db, to_db) [, (from_db, to_db), ...]) ì˜µì…˜ ì»¤ë§¨ë“œ ë¼ì¸ ë° ì„¤ì • íŒŒì¼ ì˜µì…˜ ì„¤ëª… REPLICATE_DO_DB replicate-do-db ë³µì œ ëŒ€ìƒ ë°ì´í„°ë² ì´ìŠ¤ ì§€ì • REPLICATE_IGNORE_DB replicate-ignore-db ë³µì œì—ì„œ ì œì™¸í•  ë°ì´í„°ë² ì´ìŠ¤ ì§€ì • REPLICATE_DO_TABLE replicate-do-table ë³µì œ ëŒ€ìƒ í…Œì´ë¸”ì„ ì§€ì • REPLICATE_IGNORE_TABLE replicate-ignore-table ë³µì œì—ì„œ ì œì™¸í•  í…Œì´ë¸”ì„ ì§€ì • RELICATE_WILD_DO_TABLE replicate-wild-do-table ë³µì œ ëŒ€ìƒ í…Œì´ë¸”ì„ ì™€ì¼ë“œì¹´ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•´ ì§€ì • REPLICATE_WILD_IGNORE_TABLE replicate-wild-ignore-table ë³µì œì—ì„œ ì œì™¸í•  í…Œì´ë¸”ì„ ì™€ì¼ë“œ ì¹´ë“œ íŒ¨í„´ìœ¼ë¡œ ì§€ì • REPLICATE_REWRITE_DB replicate-rewrite-db íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì´ë²¤íŠ¸ë“¤ì„ ì§€ì •í•œ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì¹˜í™˜í•´ì„œ ì ìš© ë³µì œ í•„í„°ë§ì„ ì ìš©í•˜ë ¤ë©´ ë³µì œë¥¼ ì‹œì‘í•˜ê¸° ì „ í•´ë‹¹ êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ê±°ë‚˜ SQL ìŠ¤ë ˆë“œë¥¼ ë©ˆì¶˜ í›„ êµ¬ë¬¸ì„ ì‹¤í–‰í•œ í›„ SQL ìŠ¤ë ˆë“œë¥¼ ì¬ì‹œì‘í•œë‹¤.\nì´ë¯¸ ì„¤ì •ëœ í•„í„°ë§ ì˜µì…˜ë“¤ì„ í•´ì œí•˜ë ¤ë©´ CHANGE REPLICATION FILTER êµ¬ë¬¸ì— í•´ì œí•˜ê³ ì í•˜ëŠ” í•„í„°ë§ ì˜µì…˜ë“¤ì„ ëª…ì‹œì ìœ¼ë¡œ ë¹ˆ ê°’ìœ¼ë¡œ ì„¤ì •í•´ì„œ ì‹¤í–‰í•œë‹¤.\n1 2 CHANGE REPLICATION FILTER REPLICATE_DO_DB = (), REPLICATE_IGNORE_DB = (); ë³µì œ í•„í„°ë§ì´ ì ìš©ëœ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” ë³µì œëœ ì´ë²¤íŠ¸ ì‹¤í–‰ ì‹œ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ê±°ì¹œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ìˆ˜ì¤€ìœ¼ë¡œ ì„¤ì •ëœ í•„í„°ë§ ì˜µì…˜ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ 1ì°¨ì ìœ¼ë¡œ í•„í„°ë§í•œë‹¤. í…Œì´ë¸” ìˆ˜ì¤€ìœ¼ë¡œ ì„¤ì •ëœ í•„í„°ë§ ì˜µì…˜ë“¤ì„ ì²´í¬í•´ì„œ ìµœì¢…ì ìœ¼ë¡œ ì´ë²¤íŠ¸ì˜ ì ìš© ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ìˆ˜ì¤€ì˜ í•„í„°ë§ ì˜µì…˜ë“¤ì˜ ê²½ìš° ë³µì œë˜ì–´ ë„˜ì–´ì˜¨ ì´ë²¤íŠ¸ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ í¬ë§·ë³„ë¡œ í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ì†í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹ë³„í•˜ëŠ” ë°©ì‹ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì´ë‹¤.\nì´ë²¤íŠ¸ê°€ Statement í¬ë§·ì¸ ê²½ìš°ì—ëŠ” USE ë¬¸ì— ì˜í•´ ì§€ì •ëœ ë””í´íŠ¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•„í„°ë§ì´ ì ìš©ëœë‹¤. ROW í¬ë§·ì¸ ê²½ìš° DML ì´ë²¤íŠ¸ë“¤ì€ ë³€ê²½ëœ í…Œì´ë¸”ì´ ì†í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•„í„°ë§ì´ ì ìš©ëœë‹¤. DDL ì´ë²¤íŠ¸ë“¤ì€ Row í¬ë§·ì´ë¼ë„ Statement í¬ë§·ìœ¼ë¡œ ë¡œê¹…ë˜ë¯€ë¡œ USE ë¬¸ì— ì˜í•´ ì§€ì •ëœ ë°ì´í„° ë² ì´ìŠ¤ê°€ í•„í„°ë§ ê¸°ì¤€ì´ ëœë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ í¬ë§·ì— ë”°ë¼ ë°ì´í„°ë² ì´ìŠ¤ ì‹ë³„ ë°©ì‹ì´ ë‹¬ë¼ì§€ë¯€ë¡œ ì‚¬ìš©ìê°€ ì˜ˆìƒí–ˆë˜ ê²ƒê³¼ëŠ” ë‹¤ë¥´ê²Œ í•„í„°ë§ì´ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ìëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìˆ˜ì¤€ì˜ í•„í„°ë§ ì˜µì…˜ì„ ì‚¬ìš©í•  ë•Œ ì„œë²„ì— ì„¤ì •ëœ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ í¬ë§·ì´ ë¬´ì—‡ì¸ì§€ í™•ì¸í•´ì•¼ í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§ì ‘ ëª…ì‹œí•´ì„œ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ê°€ ìˆëŠ”ì§€ ë°˜ë“œì‹œ ì‚¬ì „ì— í™•ì¸í•´ì•¼ í•œë‹¤. í…Œì´ë¸” ìˆ˜ì¤€ì˜ í•„í„°ë§ ì˜µì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë„ ë³µì œ ëŒ€ìƒ í…Œì´ë¸”ê³¼ ë³µì œ ì œì™¸ ëŒ€ìƒ í…Œì´ë¸”ì„ í•¨ê»˜ ë³€ê²½í•˜ëŠ” í˜•íƒœì˜ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë°”ì´ë„ˆë¦¬ ë¡œê·¸ í¬ë§·ì— ë”°ë¼ í•„í„°ë§ ê²°ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤.\nROW í¬ë§· DDLë¬¸ì— ì˜í•´ì„œ USE ë¬¸ì„ ì‚¬ìš©í•´ ë””í´íŠ¸ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì„¤ì •ë˜ê²Œ í•˜ê³  ì¿¼ë¦¬ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ëª…ì„ ì§€ì •í•˜ì§€ ì•ŠëŠ”ë‹¤. STATEMENT or MIXED DML, DDL ëª¨ë‘ USE ë¬¸ì„ ì‚¬ìš©í•´ ë””í´íŠ¸ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì„¤ì •ë˜ê²Œ í•˜ê³  ì¿¼ë¦¬ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ëª…ì„ ì§€ì •í•˜ì§€ ì•ŠëŠ”ë‹¤. ë³µì œ ëŒ€ìƒ í…Œì´ë¸”ê³¼ ë³µì œ ì œì™¸ ëŒ€ìƒ í…Œì´ë¸”ì„ ëª¨ë‘ ë³€ê²½í•˜ëŠ” DMLì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ","date":"2023-09-16T20:01:10+09:00","image":"https://codemario318.github.io/post/real-mysql/16/7/4/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/16/7/4/","title":"16.7.4 ë³µì œ ê³ ê¸‰ ì„¤ì • - í•„í„°ë§ëœ ë³µì œ(Filterd Replication)"},{"content":"MySQL ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ë¹„ì •ìƒ ì¢…ë£Œë˜ëŠ” ê²½ìš° ì„œë²„ë¥¼ ë‹¤ì‹œ êµ¬ë™ì‹œì¼°ì„ ë•Œ, ì†ŒìŠ¤ ì„œë²„ì™€ì˜ ë³µì œ ë™ê¸°í™”ê°€ ì‹¤íŒ¨í•  ìˆ˜ ìˆê³ , ì´ë¡œ ì¸í•´ ìµœì•…ì˜ ê²½ìš° ì„œë¹„ìŠ¤ê°€ ì¤‘ë‹¨ë  ìˆ˜ ìˆë‹¤.\në ˆí”Œë¦¬ì¹´ ì„œë²„ ì¬êµ¬ì¶•í•˜ëŠ” ë™ì•ˆ ë˜ ë‹¤ë¥¸ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì†ŒìŠ¤ ì„œë²„ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ë³µêµ¬ë  ë•Œê¹Œì§€ ì˜ˆë¹„ ì„œë²„ ì—†ì´ ìš´ì˜ë˜ì–´ì•¼ í•˜ë©° ë³µêµ¬ë˜ëŠ” ë™ì•ˆ ì†ŒìŠ¤ ì„œë²„ì—ë„ ì¥ì• ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ì„œë¹„ìŠ¤ê°€ ì¤‘ë‹¨ë  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ìƒí™©ì„ ëŒ€ë¹„í•˜ê¸° ìœ„í•´ ë¹„ì •ìƒ ì¢…ë£Œëœ í›„ ì¬êµ¬ë™ëì„ ë•Œë„ ë³µì œê°€ ì›í™œí•˜ê²Œ ì¬ê°œë  ìˆ˜ ìˆê²Œ ì—¬ëŸ¬ ì„¤ì •ì„ ì œê³µí•˜ë©°, ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” ì„œë²„ ì¥ì•  ì´í›„ì—ë„ ë¬¸ì œì—†ì´ ë³µì œê°€ ì§„í–‰ë˜ëŠ” í¬ë˜ì‹œ ì„¸ì´í”„ ë³µì œë¥¼ ì‹¤í˜„í•  ìˆ˜ ìˆë‹¤.\ní¬ë˜ì‹œ ì„¸ì´í”„ ë³µì œëŠ” ì˜µì…˜ì„ í™œì„±í™”í•´ì„œ ì ìš©í•˜ëŠ” ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ ì—¬ëŸ¬ ê°€ì§€ ë³µì œ ê´€ë ¨ ì˜µì…˜ë“¤ì„ ë³µì œ ì‚¬ìš© í˜•íƒœì— ë”°ë¼ ì ì ˆíˆ ì„¤ì •í–ˆì„ ë•Œ ì–»ê²Œ ë˜ëŠ” íš¨ê³¼ë¼ í•  ìˆ˜ ìˆë‹¤. ì„œë²„ ì¥ì• ì™€ ë³µì œ ì‹¤íŒ¨ MySQL ë³µì œëŠ” ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œì™€ SQL ìŠ¤ë ˆë“œê°€ í˜‘ì—…í•˜ì—¬ ì†ŒìŠ¤ ì„œë²„ì™€ì˜ ë™ê¸°í™”ë¥¼ ìˆ˜í–‰í•œë‹¤.\nI/O ìŠ¤ë ˆë“œ ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì´ë²¤íŠ¸ë¥¼ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ê°€ì ¸ì˜¨ í›„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ë¡œì»¬ ë””ìŠ¤í¬ì— íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹. SQL ìŠ¤ë ˆë“œ I/O ìŠ¤ë ˆë“œê°€ ê°€ì ¸ì˜¨ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì´ë²¤íŠ¸ë¥¼ ì‹¤ì œ MySQL ì„œë²„ì—ì„œ ì¬ì‹¤í–‰í•˜ëŠ” ì—­í•  ë‹´ë‹¹. ë™ê¸°í™” ê³¼ì •ì—ì„œ I/O ìŠ¤ë ˆë“œì™€ SQL ìŠ¤ë ˆë“œëŠ” ê°ê° ìì‹ ì´ ì–´ëŠ ì‹œì ê¹Œì§€ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ê°€ì ¸ì™”ëŠ”ì§€, ì–´ëŠ íŠ¸ëœì­ì…˜ê¹Œì§€ ì¬ì‹¤í–‰í–ˆëŠ”ì§€ì— ëŒ€í•œ í¬ì§€ì…˜ ì •ë³´ë¥¼ ë‚¨ê¸°ë©°, ì„œë²„ê°€ ì¢…ë£Œë˜ì—ˆë‹¤ê°€ ì¬ì‹¤í–‰ë˜ë©´ í¬ì§€ì…˜ ì •ë³´ë“¤ì„ ì°¸ì¡°í•´ì„œ ë³µì œë¥¼ ì–´ëŠ ì‹œì  ë¶€í„° ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í• ì§€ë¥¼ íŒë‹¨í•˜ê²Œ ëœë‹¤.\nì‹¤í–‰ í¬ì§€ì…˜ ì •ë³´ëŠ” ì‹œìŠ¤í…œ ë³€ìˆ˜ë“¤ì— ì„¤ì •ëœ ê°’ì— ë”°ë¼ íŒŒì¼, í…Œì´ë¸” í˜•íƒœë¡œ ê´€ë¦¬ëœë‹¤. íŒŒì¼ í˜•íƒœë¡œ ê´€ë¦¬ë  ê²½ìš° ê° ìŠ¤ë ˆë“œê°€ ë™ì‘í•  ë•Œ ì‹¤ì œ ìì‹ ì´ ì²˜ë¦¬ ì¤‘ì¸ ë‚´ìš©ê³¼ í¬ì‹œì…˜ ì •ë³´ë¥¼ ì›ìì ìœ¼ë¡œ ë™ê¸°í™”ëœ ìƒíƒœë¡œ ê´€ë¦¬í•  ìˆ˜ ì—†ì–´ ì²˜ë¦¬í•œ ë‚´ì—­ê³¼ í¬ì§€ì…˜ ì •ë³´ ê°„ì— ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ìˆ˜ ìˆì—ˆë‹¤.\nI/O ìŠ¤ë ˆë“œê°€ ë¦´ë ˆì´ ë¡œê·¸ì— ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•œ í›„ í¬ì§€ì…˜ ì •ë³´ íŒŒì¼ì— ì—…ë°ì´íŠ¸ë¥¼ í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë¹„ì •ìƒ ì¢…ë£Œì‹œ ì¬êµ¬ë™í•  ë•Œ ë¦´ë ˆì´ ë¡œê·¸ì— ë™ì¼í•œ ì´ë²¤íŠ¸ê°€ ê¸°ë¡ë  ìˆ˜ ìˆë‹¤. SQL ìŠ¤ë ˆë“œê°€ ë¦´ë ˆì´ ë¡œê·¸ì— ê¸°ë¡ëœ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•œ í›„ í¬ì§€ì…˜ ì •ë³´ íŒŒì¼ì— ì—…ë°ì´íŠ¸ë¥¼ í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë¹„ì •ìƒ ì¢…ë£Œë˜ë©´ ì¬êµ¬ë™ì‹œ ë™ì¼í•œ íŠ¸ëœì­ì…˜ì´ ì¬ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ë¶ˆì¼ì¹˜ë¡œ ì¸í•´ ë™ë¦¬í•œ INSERT ì¿¼ë¦¬ê°€ ë‘ë²ˆ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” Duplicate key ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œëœë‹¤.\nìƒí™©ì— ë”°ë¼ ë‹¤ì–‘í•œ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©° ìµœì•…ì˜ ê²½ìš° ì—ëŸ¬ ì—†ì´ ë°ì´í„°ê°€ ì˜ëª»ë  ìˆ˜ë„ ìˆë‹¤. í…Œì´ë¸”ë¡œ ê´€ë¦¬í•˜ëŠ” ê²½ìš° InnoDB ì—”ì§„ì„ ì‚¬ìš©í•˜ë¯€ë¡œ SQL ìŠ¤ë ˆë“œê°€ íŠ¸ëœì­ì…˜ ì ìš©ê³¼ í¬ì§€ì…˜ ì •ë³´ ì—…ë°ì´íŠ¸ë¥¼ í•œ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ ì›ìì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ SQL ìŠ¤ë ˆë“œê°€ ë™ì¼í•œ ì¿¼ë¦¬ë¥¼ ì¬ì‹¤í–‰í•˜ëŠ” ë¬¸ì œëŠ” ë°©ì§€í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\nI/O ìŠ¤ë ˆë“œì˜ í¬ì§€ì…˜ ë¶ˆì¼ì¹˜ ë¬¸ì œëŠ” relay_log_recovery ì˜µì…˜ì´ ë„ì…ë˜ë©° í•´ê²°ë˜ì—ˆë‹¤.\nì¬êµ¬ë™ ì‹œ I/O ìŠ¤ë ˆë“œì˜ í¬ì§€ì…˜ì„ ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹¤í–‰í–ˆë˜ í¬ì§€ì…˜ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤. ìƒˆë¡œìš´ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì„ ìƒì„±í•´ì„œ SQL ìŠ¤ë ˆë“œê°€ ì½ì–´ì•¼ í•  ë¦´ë ˆì´ ë¡œê·¸ í¬ì§€ì…˜ ìœ„ì¹˜ë¥¼ ì´ˆê¸°í™”í•œë‹¤. 1 2 relay_log_recover=ON relay_log_info_repository=TABLE ì„¤ì •í•œë‹¤ê³  í•˜ë”ë¼ë„ ìš´ì˜ì²´ì œì˜ ë¹„ì •ìƒ ì¢…ë£Œì‹œ ë°ì´í„° íŒŒì¼ ìì²´ê°€ ì†ìƒë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¬´ìš©ì§€ë¬¼ì¼ ìˆ˜ ìˆë‹¤.\në³µì œ ì‚¬ìš© í˜•íƒœë³„ í¬ë˜ì‹œ ì„¸ì´í”„ ë³µì œ ì„¤ì • MySQL ë³µì œëŠ” ì‚¬ìš©ìê°€ ì„¤ì •í•œ ë‚´ìš©ì— ë”°ë¼ ë³µì œ íƒ€ì… ë° ë™ê¸°í™” ë°©ì‹ì´ ë‹¤ë¥´ë¯€ë¡œ ê·¸ì— ë”°ë¼ í¬ë˜ì‹œ ì„¸ì´í”„ ë³µì œ ì„¤ì •ë„ ì¡°ê¸ˆì”© ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ ë³µì œ + ì‹±ê¸€ ìŠ¤ë ˆë“œ ë™ê¸°í™” ìµœì†Œ ì˜µì…˜ ì„¤ì • ì…‹ê³¼ ë™ì¼í•˜ë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ ë³µì œ + ë©€í‹° ìŠ¤ë ˆë“œ ë™ê¸°í™” ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë³µì œëœ íŠ¸ëœì­ì…˜ë“¤ì˜ ì»¤ë°‹ ìˆœì„œê°€ ì†ŒìŠ¤ ì„œë²„ì—ì„œì™€ ë™ì¼í•˜ë„ë¡ ì„¤ì •ëëŠ”ì§€ ì—¬ë¶€ì— ë”°ë¼ í¬ë˜ì‹œ ì„¸ì´í”„ ë³µì œë¥¼ ìœ„í•œ ì˜µì…˜ ì…‹ì´ ë‹¬ë¼ì§„ë‹¤.\nì†ŒìŠ¤ ì„œë²„ì™€ íŠ¸ëœì­ì…˜ ì»¤ë°‹ ìˆœì„œ ì¼ì¹˜ ì—¬ë¶€ í¬ë˜ì‹œ ì„¸ì´í”„ ë³µì œ ì„¤ì • ì¼ì¹˜ ìµœì†Œ ì„¤ì • ë¶ˆì¼ì¹˜ ìµœì†Œ ì„¤ì • + sync_relay_log=1 sync_relay_log ë¦´ë ˆì´ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ì™€ ì–¼ë§ˆë‚˜ ìì£¼ ë™ê¸°í™”í•  ê²ƒì¸ì§€ ì œì–´(ê¸°ë³¸ê°’ 10000) 0: MySQLì—ì„œëŠ” ë™ê¸°í™” X, ìš´ì˜ì²´ì œ ì„¤ì •ì— ë”°ë¼ ë„ìµí™” ìˆ˜í–‰ 1ì´ìƒ: ë¦´ë ˆì´ ë¡œê·¸ì— ì§€ì •ëœ ìˆ˜ë§Œí‹ˆ ì´ë²¤íŠ¸ê°€ ê¸°ë¡ëì„ ë•Œ ë™ê¸°í™” ìˆ˜í–‰ 1ì´ ì•„ë‹Œ ê°’ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë¹„ì •ìƒ ì¢…ë£Œì‹œ ë™ê¸°í™”ë˜ì§€ ëª»í•œ ë¦´ë ˆì´ ë¡œê·¸ì˜ ë‚´ìš©ì´ ìœ ì‹¤ë  ìˆ˜ ìˆì–´ ê°­ì´ ë°œìƒ ê°€ëŠ¥í•˜ê³  ì´ë¡œì¸í•´ ë³µì œê°€ ì‹¤íŒ¨í•  ìˆ˜ ìˆë‹¤. ì˜µì…˜ì„ 1ë¡œ ì„¤ì •í•˜ë©´ ì´ë²¤íŠ¸ê°€ ë¦´ë ˆì´ ë¡œê·¸ì— ê¸°ë¡ë  ë•Œë§ˆë‹¤ ë””ìŠ¤í¬ì—ë„ ë™ê¸°í™”ê°€ ì²˜ë¦¬ë˜ë¯€ë¡œ ì´ë²¤íŠ¸ ì†ì‹¤ì„ ìµœì†Œí™” í•  ìˆ˜ ìˆìœ¼ë‚˜ ë””ìŠ¤í¬ì— ë¶€í•˜ë¥¼ ì£¼ê²Œ ë˜ë©°, ë³µì œ ì‹œ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤.\në”°ë¼ì„œ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” LOGICAL_LOCK ë°©ì‹ì„ ì‚¬ìš©í•˜ê³  slave_preserve_commit_order ì˜µì…˜ì„ 1ë¡œ ì„¤ì •í•˜ì—¬ ê°­ì´ ë°œìƒ í•˜ì§€ ì•Šê²Œ í•˜ì—¬ sync_relay_log=1 ì„¤ì • ì—†ì´ë„ í¬ë˜ì‹œ ì„¸ì´í”„í•œ ë³µì œê°€ ë  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.\nGTID ê¸°ë°˜ ë³µì œ + ì‹±ê¸€ ìŠ¤ë ˆë“œ ë™ê¸°í™” mysql.gtid_executed í…Œì´ë¸” ë°ì´í„°ê°€ ë³µì œëœ íŠ¸ëœì­ì…˜ì´ ì ìš©ë  ë•Œë§ˆë‹¤ ë§¤ë²ˆ í•¨ê»˜ ê°±ì‹ ë˜ëŠ”ì§€ ì—¬ë¶€ì— ë”°ë¼ ì˜µì…˜ ì…‹ì´ ë‹¬ë¼ì§„ë‹¤.\ngtid_executed í…Œì´ë¸” ë°ì´í„°ê°€ ë§¤ íŠ¸ëœì­ì…˜ ì ìš© ì‹œ ê°±ì‹ ë˜ëŠ” ê²½ìš°\n1 2 3 4 relay_log_recovery=ON ## ë³µì œ AUTO_POSITION í™œì„±í™” [MASTER | SOURCE]_AUTO_POSITION=1 gtid_excuted í…Œì´ë¸” ë°ì´í„°ê°€ ë§¤ íŠ¸ëœì­ì…˜ ì ìš© ì‹œ ê°±ì‹ ë˜ì§€ ì•ŠëŠ” ê²½ìš°\n1 2 3 4 5 6 7 8 relay_log_recovery=ON ## ë³µì œ AUTO_POSITION í™œì„±í™” [MASTER | SOURCE]_AUTO_POSITION=1 ## sync_binlog=1 innodb_flush_log_at_trx_commit=1 GTID ê¸°ë°˜ ë³µì œì—ì„œëŠ” [MASTER | SOURCE]_AUTO_POSITION=1 ì˜µì…˜ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ ê²½ìš° SQL ìŠ¤ë ˆë“œê°€ ë§ˆì§€ë§‰ìœ¼ë¡œ ì ìš©í•œ íŠ¸ëœì­ì…˜ì˜ GTIDë¥¼ ì–»ê¸° ìœ„í•´ ë³µêµ¬ ì‹œ mysql.slave_relay_log_info í…Œì´ë¸”ì´ ì•„ë‹Œ mysql.gtid_excuted í…Œì´ë¸” ë°ì´í„°ë¥¼ ì°¸ì¡°í•œë‹¤.\nì´ì— ë”°ë¼ relay_log_info_repositiory=TABLE ì˜µì…˜ì´ ì œì™¸ëœë‹¤. gtid_executed í…Œì´ë¸”ì´ ë§¤ íŠ¸ëœì­ì…˜ì´ ì ìš©ë  ë•Œë§ˆë‹¤ í•­ìƒ í•¨ê»˜ ê°±ì‹ ë˜ì–´ì•¼ ì •ìƒì ìœ¼ë¡œ ë³µêµ¬ì‚¬ ìˆ˜í–‰ëœë‹¤.\ngtid_executed í…Œì´ë¸” í…Œì´í„°ëŠ” MySQL 8.0.17 ë²„ì „ë¶€í„°ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë§¤ íŠ¸ëœì­ì…˜ ì ìš© ì‹œ í•¨ê»˜ ê°±ì‹ ëœë‹¤. MySQL 8.0.17 ë¯¸ë§Œ ë²„ì „ì„ í…Œì´ë¸” ì„¤ì •ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤. gtid_executed í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ë§¤ íŠ¸ëœì­ì…˜ì´ ì ìš©ë  ë•Œë§ˆë‹¤ ê° ì‹±ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ MySQL ì„œë²„ì˜ ë°”ì•„ë„ˆë¦¬ ë¡œê·¸ë¥¼ í†µí•´ ëˆ„ë½ëœ íŠ¸ëœì­ì…˜ë“¤ì˜ GTIDë“¤ì„ ë³µêµ¬í•´ì•¼ í•˜ë¯€ë¡œ sync_binlog=1, innodb_flush_log_at_trx_commit=1 ì˜µì…˜ì´ ë°˜ë“œì‹œ ì„¤ì •ë¼ ìˆì–´ì•¼ í•œë‹¤.\nGTID ê¸°ë°˜ ë³µì œ + ë©€í‹° ìŠ¤ë ˆë“œ ë™ê¸°í™” ì‹±ê¸€ ìŠ¤ë ˆë“œë¡œ ë™ê¸°í™”ë˜ëŠ” ê²½ìš°ì™€ ë™ì¼í•˜ë‹¤.\nìœ ì˜í•  ì ì€ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œì¸ ê²½ìš° ì•ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ í›„ relay_log_recovery=ON ì„¤ì •ìœ¼ë¡œ ì¬êµ¬ë™ ì‹œ íŠ¸ëœì­ì…˜ ê°­ì„ ë©”ìš°ëŠ” ì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤.\nì´ëŠ” SOURCE_AUTO_POSITION ì˜µì…˜ì„ ì‚¬ìš©í•˜ëŠ” GTID ê¸°ë°˜ ë³µì œì—ì„œëŠ” ë¶ˆí•„ìš”í•˜ì§€ë§Œ, ì˜µì…˜ ì‚¬ìš© ì—¬ë¶€ì™€ ê´€ê³„ì—†ì‹œ ì‹¤í–‰ë˜ëŠ”ë° ì´ëŸ¬í•œ ì²˜ë¦¬ë¡œ ì¸í•´ ì˜¤íˆë ¤ í¬ë˜ì‹œê°€ ë°œìƒí•´ ë¦´ë ˆì´ ë¡œê·¸ì— ì´ë²¤íŠ¸ê°€ ì†ì‹¤ë˜ë©´ ì•ì„œ ì–¸ê¸‰í•œ ê²ƒê³¼ ë™ì¼í•˜ê²Œ ë³µêµ¬ ì‘ì—… ì‹œ ê°­ ë©”ìš°ê¸° ì‘ì—…ì´ ì‹¤íŒ¨í•˜ë©´ì„œ ë³µì œ ì—°ê²°ì´ ì‹¤íŒ¨í•˜ëŠ” í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nMySQL 8.0.18/5.7.28 ë²„ì „ë¶€í„°ëŠ” GTID ê¸°ë°˜ì´ë©´ì„œ SOURCE_AUTO_POSITION ì˜µì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì— ëŒ€í•´ì„œ ì´ëŸ¬í•œ ì‘ì—…ì´ ìë™ìœ¼ë¡œ ìƒëµë˜ë„ë¡ ê°¯ë„ˆë˜ì—ˆë‹¤.\n","date":"2023-09-16T19:21:10+09:00","image":"https://codemario318.github.io/post/real-mysql/16/7/3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/16/7/3/","title":"16.7.3 ë³µì œ ê³ ê¸‰ ì„¤ì • - í¬ë˜ì‹œ ì„¸ì´í”„ ë³µì œ(Crash-safe Replication)"},{"content":"MySQL ë³µì œì—ì„œëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ë³µì œëœ íŠ¸ëœì­ì…˜ë“¤ì„ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ì•„ë‹Œ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\nì†ŒìŠ¤ ì„œë²„ì—ì„œëŠ” ì—¬ëŸ¬ ì„¸ì…˜ì—ì„œ ì‹¤í–‰ëœ DML ì¿¼ë¦¬ë“¤ì´ ë™ì‹œì— ì²˜ë¦¬ë˜ëŠ”ë°, ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì§§ì€ ì‹œê°„ ë™ì•ˆ ë‹¤ëŸ‰ì˜ DML ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê²½ìš° MySQL 5.6 ë²„ì „ ë¯¸ë§Œì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ëª¨ë“  íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•˜ë¯€ë¡œ ë³µì œ ë™ê¸°í™”ì— ì§€ì—°ì´ ë°œìƒí•œë‹¤.\në˜í•œ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë¡œë§Œ ë³µì œê°€ ë™ê¸°í™” ë˜ëŠ”ê²ƒì€ ë©€í‹°ì½”ì–´ CPUê°€ ì¥ì°©ëœ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì—ì„œëŠ” ì„œë²„ì˜ ìì›ì„ ì¶©ë¶„íˆ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” ë¹„íš¨ìœ¨ì ì¸ ë°©ì‹ì´ì—ˆë‹¤.\nflowchart LR a[Relay Log]--\u003eb([Coordinator Thread]) subgraph Worker 1 direction LR c[[Queue]] --\u003e d([Worker Thread]) end subgraph Worker 2 direction LR e[[Queue]] --\u003e f([Worker Thread]) end subgraph Worker N direction LR g[[Queue]] --\u003e h([Worker Thread]) end b--\u003ec b--\u003ee b--\u003eg ê¸°ì¡´ ë‹¨ì¼ ìŠ¤ë ˆë“œ ë³µì œì—ì„œëŠ” ë ˆí”Œë¦¬ì¼€ì´ì…˜ SQL ìŠ¤ë ˆë“œê°€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì„ ì½ì–´ì„œ ë°”ë¡œ íŠ¸ëœì­ì…˜ì„ ì ìš©í•˜ëŠ” í˜•íƒœì˜€ë‹¤ë©´ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œì—ì„œëŠ” SQL ìŠ¤ë ˆë“œëŠ” ì½”ë””ë„¤ì´í„° ìŠ¤ë ˆë“œ(Coordinator Thread)ë¡œ ë¶ˆë¦¬ë©°, ì‹¤ì œë¡œ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ìŠ¤ë ˆë“œì¸ ì›Œì»¤ ìŠ¤ë ˆë“œì™€ í˜‘ì—…í•´ì„œ ë™ê¸°í™”ë¥¼ ì§„í–‰í•œë‹¤.\nì½”ë””ë„¤ì´í„° ìŠ¤ë ˆë“œëŠ” ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì—ì„œ ì´ë²¤íŠ¸ë“¤ì„ ì½ì€ ë’¤ ì„¤ì •ëœ ë°©ì‹ì— ë”°ë¼ ìŠ¤ì¼€ì¤„ë§ í•´ì„œ ì›Œì»¤ ìŠ¤ë ˆë“œì— ê° ì´ë²¤íŠ¸ë¥¼ í• ë‹¹í•œë‹¤. ê° ì´ë²¤íŠ¸ëŠ” ì›Œì»¤ ìŠ¤ë ˆë“œë“¤ì˜ íì— ì ì¬ë˜ë©° ì›Œì»¤ ìŠ¤ë ˆë“œëŠ” íì—ì„œ ì´ë²¤íŠ¸ë“¤ì„ êº¼ë‚´ ìˆœì°¨ì ìœ¼ë¡œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì ìš©í•œë‹¤. ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œëŠ” ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ë³µì œëœ íŠ¸ëœì­ì…˜ë“¤ì„ ì–´ë–»ê²Œ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ê²ƒì¸ê°€ì— ë”°ë¼ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ê³¼ LOGICAL CLOCK ê¸°ë°˜ ì²˜ë¦¬ ë°©ì‹ìœ¼ë¡œ ë‚˜ë‰œë‹¤.\nslave_parallel_type ë³‘ë ¬ ì²˜ë¦¬ ë°©ì‹ ì„¤ì • ê¸°ë³¸ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ë°©ì‹œê¸ë¡œ ì„¤ì • parallel_workers ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ ì›Œì»¤ ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. 0 ~ 1024 ê¹Œì§€ ì„¤ì • ê°€ëŠ¥ 1ë¡œ ì„¤ì •í•˜ë©´ ìŠ¤ë ˆë“œ ë³µì œë¥¼ ìœ„í•œ ì½”ë“œ ë¸”ë¡ì´ ëª¨ë‘ ì‹¤í–‰ë˜ë©´ì„œ ì‹¤ì œ ë³µì œëŠ” ë‹¨ì„ ìŠ¤ë ˆë“œì²˜ëŸ¼ ì²˜ë¦¬ë¨ 0ìœ¼ë¡œ ì„¤ì •ì‹œ ë‹¨ì¼ ìŠ¤ë ˆë“œ ëª¨ë“œë¡œ ë³µì œ ìˆ˜í–‰, ë¶€ê°€ì ì¸ ì‘ì—… ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ slave_pending_jobs_size_max ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ ì›Œì»¤ ìŠ¤ë ˆë“œì˜ íì— í• ë‹¹í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ë©”ëª¨ë¦¬ í¬ê¸°ë¥¼ ì„¤ì • MySQL 8.0 ê¸°ë³¸ê°’ì€ 128MB ì‘ì€ ì´ë²¤íŠ¸ë“¤ì´ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ëŠ” OLTP í™˜ê²½ì—ì„œëŠ” ê¸°ë³¸ê°’ë„ ë¬¸ì œ ì—†ìŒ ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ì „ë‹¬ë°›ì€ ì´ë²¤íŠ¸ í¬ê¸°ê°€ ì„¤ì •ëœ ê°’ì„ ì´ˆê³¼í•˜ëŠ” ê²½ìš° ëª¨ë“  ì›Œì»¤ ìŠ¤ë ˆë“œë“¤ì˜ íê°€ ë°”ìœ„ì§ˆ ë•Œ ê¹Œì§€ ëŒ€ê¸°í›„ ì²˜ë¦¬ë¨ ë³µì œ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì ì ˆíˆ í° ê°’ ì„¤ì • í•„ìš” SHOW PROCESSLIST ëª…ë ¹ì„ í†µí•´ ì½”ë””ë„¤ì´í„° ìŠ¤ë ˆë“œì™€ ì›Œì»¤ ìŠ¤ë ˆë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\në°ì´í„° ë² ì´ìŠ¤ ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œ ë°©ì‹ì€ ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ ì²˜ë¦¬ ë°©ì‹ì´ë¼ê³ ë„ í•˜ë©°, ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œê°€ ì²˜ìŒ ë„ì…ëì„ ë•Œ ìœ ì¼í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë˜ ë°©ì‹ì´ë‹¤.\në°ì´í„° ë² ì´ìŠ¤ ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œëŠ” MySQL ë‚´ì˜ ë°ì´í„°ë² ì´ìŠ¤ ë‹¨ìœ„ë¡œ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” í˜•íƒœë¥¼ ë§í•œë‹¤.\nMySQL ì„œë²„ì— ë°ì´í„°ë² ì´ìŠ¤ê°€ í•˜ë‚˜ë°–ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì¥ì ì„ ê°€ì§€ì§€ ëª»í•œë‹¤. ì—¬ëŸ¬ ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ê°€ ìˆë‹¤ë©´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê°œìˆ˜ ë§Œí¼ ì›Œì»¤ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì½”ë””ë„¤ì´í„° ìŠ¤ë ˆë“œëŠ” ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì½ì–´ ë°ì´í„°ë² ì´ìŠ¤ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ê³  ê° ì›Œì»¤ ìŠ¤ë ˆë“œì—ê²Œ ì´ë²¤íŠ¸ë“¤ì„ í• ë‹¹í•œë‹¤.\nflowchart LR a[íŠ¸ëœì­ì…˜ 3: UPDATE DB3\nUPDATE DB1\níŠ¸ëœì­ì…˜ 2: UPDATE DB2\níŠ¸ëœì­ì…˜ 3: UPDATE DB1] b([ì½”ë””ë„¤ì´í„° ìŠ¤ë ˆë“œ]) c([ì›Œì»¤ ìŠ¤ë ˆë“œ 1\n1. UPDATE DB1\níŠ¸ëœì­ì…˜ 1]) d([ì›Œì»¤ ìŠ¤ë ˆë“œ 2\n2. UPDATE DB2\níŠ¸ëœì­ì…˜ 2]) e([ì›Œì»¤ ìŠ¤ë ˆë“œ 3\n3. UPDATE DB3\níŠ¸ëœì­ì…˜ 3]) a--4. UPDATE DB1\níŠ¸ëœì­ì…˜ 3--\u003eb b--\u003ec b--\u003ed b--\u003ee ìœ„ì˜ íŠ¸ëœì­ì…˜ 3ì˜ ë§ˆì§€ë§‰ ì²˜ë¦¬ì¸ UPDATE DB1 ê°™ì€ ê²½ìš° ì›Œì»¤ ìŠ¤ë ˆë“œ 1ì´ ì´ë¯¸ ì²˜ë¦¬ì¤‘ì´ë¯€ë¡œ í•´ë‹¹ ì‘ì—…ì„ ì™„ë£Œë ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê²Œ ëœë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œì—ì„œëŠ” í…Œì´ë¸”ì´ë‚˜ ë ˆì½”ë“œ ìˆ˜ì¤€ê¹Œì§€ì˜ ì¶©ëŒ ì—¬ë¶€ëŠ” ê³ ë ¤í•˜ì§€ ì•Šê³  ë°ì´í„°ë² ì´ìŠ¤ê°€ ë™ì¼í•œì§€ë§Œ ë¹„êµí•˜ê¸°ë•Œë¬¸ì—, ë³€ê²½ ëŒ€ìƒ í…Œì´ë¸”ì´ë‚˜ ë ˆì½”ë“œëŠ” ë‹¤ë¥´ë‹¤ê³  í•˜ë”ë¼ë„ ëŒ€ê¸°í•œë‹¤. íŠ¸ëœì­ì…˜ 3ì˜ UPDATE DB1ì´ ëŒ€ê¸°í•˜ê³  ìˆëŠ” ìƒí™©ì—ì„œ, ì›Œì»¤ ìŠ¤ë ˆë“œ 2ì˜ ì‘ì—…ì´ ì´ë¯¸ ì™„ë£Œë˜ê³  ë„¤ ë²ˆì§¸ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë˜ ë‹¤ë¥¸ DB2 ë³€ê²½ ì‘ì—…ì´ ë“¤ì–´ì˜¨ë‹¤ê³  í•˜ë”ë¼ë„ ëŒ€ê¸°í•˜ê²Œ ëœë‹¤. ì´ëŸ¬í•œ ì²˜ë¦¬ë¡œ ì¸í•´ ì„œë¡œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ì¿¼ë¦¬ë‚˜ íŠ¸ëœì­ì…˜ì´ ë¹ˆë²ˆí•˜ê²Œ ì‹¤í–‰ë˜ëŠ” ê²½ìš° ì˜ˆìƒí–ˆë˜ ê²ƒë³´ë‹¤ ë©€í‹° ìŠ¤ë ˆë“œ ì²˜ë¦¬ íš¨ìœ¨ì´ ë‚®ì•„ì§ˆ ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ MySQL ì„œë²„ì— ì—¬ë ¤ ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì¡´ì¬í•˜ê³  ê° ë°ì´í„°ë² ì´ìŠ¤ì— ìœ ì…ë˜ëŠ” DMLì´ ì„œë¡œ ë…ë¦½ì ì´ë©´ì„œ ê· ë“±í•˜ê²Œ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì´ë¼ë©´ ë°ì´í„°ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œê°€ ë‹¨ì¼ ìŠ¤ë ˆë“œ ë³µì œë³´ë‹¤ ì›”ë“±í•œ ì²˜ë¦¬ëŸ‰ì„ ë³´ì¸ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì • í›„ ë³µì œë¥¼ ì—°ê²°í•˜ë©´ ëœë‹¤.\nê¸°ì¡´ì— ì´ë¯¸ ë‹¨ì¼ ìŠ¤ë ˆë“œ ë³µì œê°€ ì§„í–‰ë˜ê³  ìˆëŠ” ìƒí™©ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œë¡œ ì „í™˜í•˜ê³  ì‹¶ë‹¤ë©´ SQL ìŠ¤ë ˆë“œë§Œ ë©ˆì¶˜ í›„ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œë¥¼ ì„¤ì •í•˜ê³  ë‹¤ì‹œ ì‹œì‘í•˜ë©´ ëœë‹¤. 1 2 3 [mysqld] slave_parallel_type=\u0026#39;DATABASE\u0026#39; slave_parallel_workers=N (N\u0026gt;0) ë°ì´í„°ë² ì´ìŠ¤ ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œì—ì„œëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ìì²´ì ìœ¼ë¡œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ê°€ì§€ê³  log_slave_updates ìˆê³  ì˜µì…˜ì´ í™œì„±í™”ë˜ì–´ ìˆì„ ë•Œ ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ëœ íŠ¸ëœì­ì…˜ ìˆœì„œì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ëœ íŠ¸ëœì­ì…˜ ìˆœì„œê°€ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.\në ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œ ë™ê¸°í™”ì—ì„œ ê° íŠ¸ëœì­ì…˜ì´ ì²˜ë¦¬ëœ ì‹œì ì— ë”°ë¼ ì‹¤ì œ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì‹¤í–‰ëœ ê²ƒê³¼ëŠ” ìˆœì„œê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ê°€ì¥ ìµœê·¼ì— ì‹«ì• ëœ íŠ¸ëœì­ì…˜ì„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ í™•ì¸í•œë‹¤ê³  í–ˆì„ ë•Œ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ê·¸ íŠ¸ëœì­ì…˜ ì´ì „ì— ì‹¤í–‰ëœ ëª¨ë“  íŠ¸ëœì­ì…˜ë“¤ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ë„ ì „ë¶€ ì‹¤í–‰ë˜ì—ˆë‹¤ê³  ë³´ì¥í•˜ê¸´ ì–´ë µë‹¤. LOGICAL CLOCK ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œ MySQL 5.7 ë²„ì „ë¶€í„° ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ë„˜ì–´ì˜¨ ì „ì²´ íŠ¸ëœì­ì…˜ë“¤ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì¢…ì†ë˜ì§€ ì•Šê³  ë©€í‹° ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬í•˜ëŠ”, ì¦‰ ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì—ì„œë„ ë©€í‹° ìŠ¤ë ˆë“œ ë™ê¸°í™” ì²˜ë¦¬ê°€ ê°€ëŠ¥í•œ LOGICAL CLOCK ë°©ì‹ì´ ë„ì…ë˜ì–´ ë°ì´í„° ë² ì´ìŠ¤ ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œì˜ ì•„ì‰¬ì›€ì„ í•´ì†Œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\nLOGICAL CLOCK ê¸°ë°˜ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œëŠ” ì†ŒìŠ¤ ì„œë²„ì—ì„œ íŠ¸ëœì­ì…˜ë“¤ì´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¡œ ê¸°ë¡ë  ë•Œ ê° íŠ¸ëœì­ì…˜ë³„ë¡œ ë…¼ë¦¬ì ì¸ ìˆœë²ˆ ê°’ì„ ë¶€ì—¬í•´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ íŠ¸ëœì­ì…˜ì˜ ìˆœë²ˆ ê°’ì„ ë°”íƒ•ìœ¼ë¡œ ì •í•´ì§„ ê¸°ì¤€ì— ë”°ë¼ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ì´ë‹¤.\níŠ¸ëœì­ì…˜ì´ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤ê³  ì—¬ê²¨ì§€ëŠ” ê¸°ì¤€ì€ ê°™ì€ ìƒí™©ì—ì„œë„ ì„¸ë¶€ ì²˜ë¦¬ ë°©ì‹ì— ë”°ë¼ ë‹¬ë¼ë”˜ë‹¤.\nCommit-parent ê¸°ë°˜ ë°©ì‹ ì ê¸ˆ(Lock) ê¸°ë°˜ ë°©ì‹ WriteSet ê¸°ë°˜ ë°©ì‹ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ê·¸ë£¹ ì»¤ë°‹ MySQL 5.5 ë²„ì „ê¹Œì§€ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ í•œ ì‹œì ì— í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ë§Œ ì»¤ë°‹ë  ìˆ˜ ìˆì—ˆìœ¼ë©°, ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— íŠ¸ëœì­ì…˜ì„ ê¸°ë¡í•˜ê³  ë””ìŠ¤í¬ì™€ ë™ê¸°í™”í•˜ëŠ” ë¶€ë¶„ë„ ë§ˆì°¬ê°€ì§€ë¡œ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ì§„í–‰ë  ìˆ˜ ì—†ì—ˆë‹¤.\nsequenceDiagram í´ë¼ì´ì–¸íŠ¸-\u003e\u003eMySQL: COMMIT; MySQL-\u003e\u003eìŠ¤í† ë¦¬ì§€ ì—”ì§„: prepare; MySQL-\u003e\u003eë°”ì´ë„ˆë¦¬ ë¡œê·¸: write; MySQL-\u003e\u003eë°”ì´ë„ˆë¦¬ ë¡œê·¸: fsync; MySQL-\u003e\u003eìŠ¤í† ë¦¬ì§€ ì—”ì§„: commit; MySQL--\u003e\u003eí´ë¼ì´ì–¸íŠ¸: OK; í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì»¤ë°‹ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ MySQL ì„œë²„ì—ì„œëŠ” Prepare, Commit ë‘ ë‹¨ê³„ë¥¼ ê±°ì³ ë¨¸ë‹›ì„ ì²˜ë¦¬í•˜ëŠ”ë°, ì´ë¥¼ ë¶„ì‚° íŠ¸ëœì­ì…˜ ì´ë¼ê³  í•œë‹¤.\në¶„ì‚° íŠ¸ëœì­ì…˜ì€ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•  ë•Œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì ìš©ëœ ë‚´ìš©ê³¼ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ëœ ë‚´ìš© ê°„ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. ì»¤ë°‹ì„ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•œ ë‚´ìš©ì„ ë””ìŠ¤í¬ì™€ ë™ê¸°í™”í•˜ëŠ” fsync ì‘ì—…ì€ sync_binlog ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°’ì— ë”°ë¼ ì‹¤í–‰ ì—¬ë¶€ì™€ ì‹¤í–‰ ë¹ˆë„ìˆ˜ê°€ ê²°ì •ëœë‹¤\n1: íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œë§ˆë‹¤ ë””ìŠ¤í¬ ë™ê¸°í™”ë¥¼ ìˆ˜í–‰ ë¹ˆë²ˆí•˜ê²Œ ìˆ˜í–‰ë˜ëŠ” ë””ìŠ¤í¬ ë™ê¸°í™” ì‘ì—…ì€ ì„œë²„ì— ë¶€í•˜ê°€ ë°œìƒí•œë‹¤. íŠ¸ëœì­ì…˜ ì²˜ë¦¬ëŸ‰ ì €í•˜ë¥¼ ì•¼ê¸°í•œë‹¤. ì´ ê°™ì€ ì²˜ë¦¬ ì„±ëŠ¥ ì €í•˜ ë¬¸ì œë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ MySQL 5.6 ë²„ì „ì—ì„œëŠ” ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ì»¤ë°‹ì„ ë™ì‹œì— ì§„í–‰í•  ìˆ˜ ìˆê²Œ ë°”ë€Œì—ˆê³ , ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ë‹¨ì˜ ì²˜ë¦¬ ë˜í•œ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì„ í•¨ê»˜ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ê·¸ë£¹ ì»¤ë°‹ ê¸°ëŠ¥ì´ ë„ì…ë˜ì—ˆë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ ê·¸ë£¹ ì»¤ë°‹ì—ì„œ íŠ¸ëœì­ì…˜ë“¤ì€ ì»¤ë°‹ ì²˜ë¦¬ ê³¼ì • ì¤‘ Prepareì´í›„ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ê´€ë ¨ ì²˜ë¦¬ë¥¼ ì§„í•¼í•  ë•Œ ì„¸ ë‹¨ê³„ë¥¼ ê±°ì¹˜ë©´ì„œ ìµœì¢…ì ìœ¼ë¡œ ê·¸ë£¹ ì»¤ë°‹ëœë‹¤.\níŠ¸ëœì­ì…˜ë“¤ì€ ìˆœì„œëŒ€ë¡œ ëŒ€ê¸° íì— ë“±ë¡ëœë‹¤. ë¹„ì–´ìˆëŠ” ëŒ€ê¸° íì— ì²«ë²ˆì§¸ë¡œ ë“±ë¡ëœ íŠ¸ëœì­ì…˜ì„ ë¦¬ë”(Leader)ë¼ê³  í•˜ë©°, ì´í›„ ë“±ë¡ëœ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ë“¤ì€ íŒ”ë¡œì›Œ(Follower) ë¼ê³  í•œë‹¤. íŒ”ë¡œì›ŒëŠ” ë¦¬ë”ì—ê²Œ ìì‹ ì˜ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ì— ëŒ€í•œ ëª¨ë“  ê²ƒì„ ì¼ì„í•˜ë©°, ë¦¬ë”ëŠ” íì— ë“±ë¡ëœ ëª¨ë“  íŒ”ë¡œì›Œë“¤ì„ ê°€ì ¸ì™€ ì²˜ë¦¬í•˜ê³  ë‹¤ìŒ ë‹¨ê³„ì˜ ëŒ€ê¸° íì— ë“±ë¡í•œë‹¤. ë‹¤ìŒ ë‹¨ê³„ì˜ íì— ë“±ë¡ë  ë•ŒëŠ” íê°€ ë¹„ì–´ìˆì§€ ì•Šì€ ê²½ìš° ë¦¬ë”ëŠ” íŒ”ë¡œì›Œê°€ë˜ê³  í•´ë‹¹ íì˜ ë¦¬ë”ê°€ ê·¸ ë‹¨ê³„ì—ì„œì˜ ì²˜ë¦¬ë¥¼ ì£¼ë„í•˜ê²Œ ëœë‹¤. ë¦¬ë”ëŠ” íŒ”ë¡œì›Œê°€ ë  ìˆ˜ ìˆìœ¼ë‚˜ íŒ”ë¡œì›ŒëŠ” ì ˆëŒ€ ë¦¬ë”ê°€ ë  ìˆ˜ ì—†ë‹¤. ê° ë‹¨ê³„ì˜ íŠ¸ëœì­ì…˜ë“¤ì€ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬ëœë‹¤.\nFlush ë‹¨ê³„ ëŒ€ê¸° íì— ë“±ë¡ëœ ê° íŠ¸ëœì­ì…˜ë“¤ì„ ìˆœì„œëŒ€ë¡œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•œë‹¤. Sync ë‹¨ê³„ ì•ì„œ ê¸°ë¡ëœ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ë‚´ìš©ë“¤ì„ ë””ìŠ¤í¬ì™€ ë™ê¸°í™”í•˜ëŠ” fsync() ì‹œìŠ¤í…œ ì½œì´ ìˆ˜í–‰ëœë‹¤. sync_binlog ì˜µì…˜ì— ì„¤ì •ëœ ê°’ì— ë”°ë¼ ë””ìŠ¤í¬ ë™ê¸°í™” ìˆ˜í–‰ íŠ¸ëœì­ì…˜ ë³„ë¡œ ë™ê¸°í™”ê°€ ìˆ˜í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ íŠ¸ëœì­ì…˜ ê·¸ë£¹ì— ëŒ€í•´ ë™ê¸°í™”ê°€ ìˆ˜í–‰ë¨ ëŒ€ê¸° íì— íŠ¸ëœì­ì…˜ë“¤ì´ ë§ì„ìˆ˜ë¡ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬ë¨ Sync ë‹¨ê³„ì˜ ëŒ€ê¸° íì— ë§ì€ íŠ¸ëœì­ì…˜ì„ ìŒ“ê¸° ìœ„í•´ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì—¬ ì‹¤í–‰ì„ ì§€ì—°í•  ìˆ˜ ìˆìŒ binlog_group_commit_sync_delay:\në™ê¸°í™” ì‘ì—…ì„ ì–¼ë§ˆì •ë„ ì§€ì—°ì‹œí‚¬ì§€ ì œì•„í•˜ëŠ” ë³€ìˆ˜(ë§ˆì´í¬ë¡œ ì´ˆ) binlog_group_commit_sync_no_delay_count:\në™ê¸°í™” ì‘ì—…ì´ ì§„í–‰ë˜ê¸° ì „ì— ì§€ì—°ë˜ì–´ ëŒ€ê¸°í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ íŠ¸ëœì­ì…˜ ìˆ˜ Commit ë‹¨ê³„ ëŒ€ê¸° íì— ë“±ë¡ëœ íŠ¸ëœì­ì…˜ë“¤ì— ëŒ€í•´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì»¤ë°‹ì„ ì§„í–‰í•œë‹¤. ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì»¤ë°‹ì€ ëŒ€ê¸° íì— ë“±ë¡ëœ ìˆœì„œëŒ€ë¡œ í˜¹ì€ ë³‘ë ¬ë¡œë„ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤. ëŒ€ê¸° íì— ë“±ë¡ëœ ìˆœì„œëŒ€ë¡œ ì»¤ë°‹ë˜ëŠ” ê²½ìš° ëŒ€ê¸° íì˜ ë¦¬ë”ì— ì˜í•´ ì²˜ë¦¬ê°€ ì§„í–‰ ì´ëŸ¬í•œ ê²½ìš° íŠ¸ëœì­ì…˜ë“¤ì€ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ëœ ìˆœì„œì™€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì»¤ë°‹ëœ ìˆœì„œê°€ ì¼ì¹˜í•˜ê²Œ ëœë‹¤. ë³‘ë ¬ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²½ìš° ë¦¬ë”ê°€ ì•„ë‹Œ ê° íŠ¸ëœì­ì…˜ë“¤ì´ ì»¤ë°‹ì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ íŠ¸ëœì­ì…˜ë“¤ì´ ì»¤ë°‹ë˜ëŠ” ìˆœì„œë¥¼ ì œì–´í•  ìˆ˜ ìˆë‹¤. binlob_order_commit: ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ëœ ìˆœì„œëŒ€ë¡œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì»¤ë°‹ë¨ Commit-parent ê¸°ë°˜ ë°©ì‹ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œ ë™ê¸°í™”ê°€ ì²˜ìŒ ë„ì…ëë˜ ë²„ì „ì—ì„œ ì ìš©ëœ ë°©ì‹ìœ¼ë¡œ, ë™ì¼ ì‹œì ì— ì»¤ë°‹ëœ íŠ¸ëœì­ì…˜ë“¤ì„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë³‘ë ¬ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆê²Œ í•œë‹¤.\nì»¤ë°‹ ì‹œì ì´ ê°™ì€ íŠ¸ëœì­ì…˜ë“¤ì€ ì ê¸ˆ ê²½í•© ë“±ê³¼ ê°™ì´ ì„œë¡œ ì¶©ëŒí•˜ëŠ” ë¶€ë¶„ì´ ì—†ëŠ” íŠ¸ëœì­ì…˜ë“¤ì´ë¯€ë¡œ ë³‘ë ¬ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤ëŠ” ë¶€ë¶„ì—ì„œ ì°©ì•ˆë¨. Commit-parent ê¸°ë°˜ ë°©ì‹ì´ ì ìš©ëœ MySQL ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ LOGICAL CLOCK ë©€í‹° ìŠ¤ë ˆë“œ ë™ê¸°í™”ê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ” ê²½ìš° ì†ŒìŠ¤ ì„œë²„ì—ì„œ ê°™ì€ ì‹œì ì— ì»¤ë°‹ëœ íŠ¸ëœì­ì…˜ë“¤ì„ ë³µì œ ë™ê¸°í™”í•  ë•Œ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•œë‹¤.\nMySQL ì„œë²„ëŠ” ê°™ì€ ì‹œì ì— ì»¤ë°‹ ì²˜ë¦¬ëœ íŠ¸ëœì­ì…˜ë“¤ì„ ì‹ë³„í•  ìˆ˜ ìˆë„ë¡, ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— íŠ¸ëœì­ì…˜ì„ ê¸°ë¡í•  ë•Œ commit_clockì´ë¼ëŠ” 64ë¹„íŠ¸ ì •ìˆ˜ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤. ê° íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ì„ ìœ„í•´ Prepare ë‹¨ê³„ì— ì§„ì…í–ˆì„ ë•Œ ì„¤ì •ë˜ë©° ê·¸ ë‹¹ì‹œì˜ commit clock ê°’ì´ ì €ì¥ëœë‹¤.(ìµœì¢…ì ìœ¼ë¡œ ì»¤ë°‹ë˜ê¸° ì „ì— ê°’ì´ ì¦ê°€í•¨) ê°™ì€ ì‹œì ì— ì»¤ë°‹ ì²˜ë¦¬ê°€ ì‹œì‘ëœ íŠ¸ëœì­ì…˜ë“¤ì€ ë™ì¼í•œ commit_seq_no ê°’ì„ ê°€ì§€ë©°, ë³µì œëœ íŠ¸ëœì­ì…˜ë“¤ì˜ í•´ë‹¹ ê°’ì„ ë°”íƒ•ìœ¼ë¡œ ê°™ì€ ê°’ì„ ê°€ì§„ íŠ¸ëœì­ì…˜ë“¤ì„ ë³‘ë ¬ë¡œ ìˆ˜í–‰í•œë‹¤. ë³‘ë ¬ ì²˜ë¦¬ ê¸°ì¤€ì¸ commit_seq_no ê°’ì´ ì•ì„œ ì»¤ë°‹ëœ íŠ¸ëœì­ì…˜ ìˆœë²ˆ ê°’ì— í•´ë‹¹í•˜ë¯€ë¡œ ì´ ë°©ì‹ì„ Commit-parent ê¸°ë°˜ ë°©ì‹ì´ë¼ê³  í•œë‹¤.\nsequenceDiagram 0-\u003e\u003e1:Tx1 C=0; 1-\u003e\u003e2:Tx2 C=1; 2-\u003e\u003e3:Tx3 C=2; 3-\u003e\u003e4:Tx4 C=3; 4-\u003e\u003e5:Tx5 C=4; 4-\u003e\u003e6:Tx6 C=4; 4-\u003e\u003e7:Tx7 C=4; 4-\u003e\u003e8:Tx8 C=6; 6-\u003e\u003e9:Tx9 C=6; 8-\u003e\u003e10:Tx10 C=8; Commit-parent ê¸°ë°˜ì—ì„œëŠ” ì†ŒìŠ¤ ì„œë²„ì—ì„œ ê°™ì€ ê·¸ë£¹ìœ¼ë¡œ ì»¤ë°‹ëœ íŠ¸ëœì­ì…˜ ìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œì˜ íŠ¸ëœì­ì…˜ ë³‘ë ¬ ì²˜ë¦¬ìœ¨ì´ í–¥ìƒëœë‹¤.\nì‚¬ìš©ìëŠ” ì†ŒìŠ¤ ì„œë²„ì—ì„œ binlog_group_commit_sync_delay ì‹œìŠ¤í…œ ë³€ìˆ˜ì™€ binlog_group_commit_sync_no_delay_count ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì ì ˆí•œ ê°’ì„ ì„¤ì •í•´ ê·¸ë£¹ ì»¤ë°‹ë˜ëŠ” íŠ¸ëœì­ì…˜ ìˆ˜ë¥¼ ëŠ˜ë¦´ ìˆ˜ ìˆë‹¤.\nì†ŒìŠ¤ ì„œë²„ì—ì„œ íŠ¸ëœì­ì…˜ë“¤ì˜ ì²˜ë¦¬ ì†ë„ë¥¼ ëŠë¦¬ê²Œ í•˜ëŠ” ëŒ€ì‹ , ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œì˜ ì²˜ë¦¬ ì†ë„ë¥¼ ë†’ì´ëŠ” ë°©ë²•ì´ë‹¤. ì†ŒìŠ¤ ì„œë² ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ë“¤ì´ ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì„¤ì •ì„ ë³€ê²½í•œ í›„ ì£¼ì˜ ê¹Šê²Œ ëª¨ë‹ˆí„°ë§ í•´ì•¼í•œë‹¤. ì ê¸ˆ ê¸°ë°˜ ë°©ì‹ ê¸°ì¡´ Commit-parent ê¸°ë°˜ ë°©ì‹ì—ì„œëŠ” ë‹¨ìˆœí•˜ê²Œ ë§ˆì§€ë§‰ìœ¼ë¡œ ì»¤ë°‹ëœ ì„ í–‰ íŠ¸ëœì­ì…˜ì˜ ìˆœë²ˆ ê°’ì´ ë™ì¼í•œ íŠ¸ëœì­ì…˜ë“¤ë§Œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤.\nê·¸ëŸ¬ë‚˜ ì ê¸ˆ ê¸°ë°˜ ë°©ì‹ì—ì„œëŠ” ì„ í–‰ íŠ¸ëœì­ì…˜ì˜ ìˆœë²ˆ ê°’ì´ ë™ì¼í•˜ì§€ ì•Šë”ë¼ë„ ì»¤ë°‹ ì²˜ë¦¬ ì‹œì ì´ ê²¹ì¹œë‹¤ë©´ ê·¸ íŠ¸ëœì­ì…˜ë“¤ì€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤.\nì´ë¥¼ ìœ„í•´ MySQL ì„œë²„ì—ì„œëŠ” íŠ¸ëœì­ì…˜ì„ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•  ë•Œ sequence_numberì™€ last_committedë¼ëŠ” ê°’ì„ í•¨ê»˜ ê¸°ë¡í•œë‹¤.\nsequence_number ì»¤ë°‹ëœ íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ë…¼ë¦¬ì ì¸ ìˆœë²ˆ ê°’ìœ¼ë¡œ, ë§¤ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œë§ˆë‹¤ ê°’ì´ ì¦ê°€í•œë‹¤. last_committed í˜„ íŠ¸ëœì­ì…˜ ì´ì „ì— ì»¤ë°‹ëœ ê°€ì¥ ìµœì‹  íŠ¸ëœì­ì…˜ì˜ sequence_number ê°’ì´ ì €ì¥ëœë‹¤. ë°”ì´ë„ˆë¦¬ íŒŒì¼ì´ ìƒˆë¡œìš´ íŒŒì¼ë¡œ ë¡œí…Œì´ì…˜ ë˜ëŠ” ê²½ìš° sequence_number ê°’ì€ 1, last_committed ê°’ì€ 0ìœ¼ë¡œ ì´ˆê¸°í™”ëœë‹¤. ì ê¸ˆ ê¸°ë°˜ LOGICAL CLOCK ë°©ì‹ì´ ì ìš©ëœ MySQL ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” LOGICAL CLOCK ë©€í‹° ìŠ¤ë ˆë“œ ë™ê¸°í™”ê°€ í™œì„±í™”ë¼ ìˆëŠ” ê²½ìš° ë³„ë ¬ë¡œ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ê¸°ì¤€ìœ¼ë¡œ íŠ¸ëœì­ì…˜ë“¤ì˜ ì‹¤í–‰ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤.\nì‹¤í–‰í•˜ë ¤ëŠ” íŠ¸ëœì­ì…˜ì˜ last_committed \u0026lt; í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ íŠ¸ëœì­ì…˜ë“¤ì´ ê°€ì§€ëŠ” ê°€ì¥ ì‘ì€ sequence_number sequenceDiagram 0-\u003e\u003e1:Tx1 C=0, S=1; 1-\u003e\u003e2:Tx2 C=1, S=2; 2-\u003e\u003e3:Tx3 C=2, S=3; 3-\u003e\u003e4:Tx4 C=3, S=4; 4-\u003e\u003e5:Tx5 C=4, S=5; 4-\u003e\u003e6:Tx6 C=4, S=6; 4-\u003e\u003e7:Tx7 C=4, S=7; 4-\u003e\u003e8:Tx8 C=6, S=7; 6-\u003e\u003e9:Tx9 C=6, S=9; 8-\u003e\u003e10:Tx10 C=8, S=10; ì ê¸ˆ ê¸°ë°˜ ë°©ì‹ì—ì„œëŠ” íŠ¸ëœì­ì…˜ë“¤ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ë³µì œëì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬ëœë‹¤.\níŠ¸ëœì­ì…˜ ì²˜ë¦¬ Tx1, Tx2, Tx3, Tx4 ë³‘ë ¬ ì²˜ë¦¬ ê°€ëŠ¥ ì¡°ê±´ì„ ì¶©ì¡±í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìˆœì°¨ì ìœ¼ë¡œ í•˜ë‚˜ì”© ì‹¤í–‰ë¨ Tx5, Tx6, Tx7 ë³‘ë ¬ ì²˜ë¦¬ ê¸°ëŠ¥ ì¡°ê±´ì„ ì¶©ì¡±í•˜ë¯€ë¡œ ë³‘ë ¬ë¡œ ì‹¤í–‰ ê°€ëŠ¥ Tx8, Tx9 Tx6ì´ ì¢…ë£Œë˜ê³  Tx7ì´ ì•„ì§ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš° Tx8, Tx9ëŠ” Tx7ê³¼ ê°™ì´ ì‹¤í–‰ë  ìˆ˜ ìˆìŒ(Tx8, 9ì˜ last_committed ê°’ë³´ë‹¤ Tx7ì˜ sequence_number ê°’ì´ í¬ë¯€ë¡œ) Tx10 Tx8ì´ ì¢…ë£Œë˜ê³  Tx9ê°€ ì‹¤í–‰ ì¤‘ì¼ ë•Œ Tx9ê³¼ í•¨ê»˜ ì‹¤í–‰ ê°€ëŠ¥ ì ê¸ˆ ê¸°ë°˜ ë°©ì‹ì€ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì»¤ë°‹ ì²˜ë¦¬ ì‹œì ì´ ê²¹ì¹˜ëŠ” íŠ¸ëœì­ì…˜ë“¤ì˜ ìˆ˜ê°€ ë§ì„ ìˆ˜ë¡ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ìµœëŒ€í•œ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë˜ë¯€ë¡œ Commit-parent ê¸°ë°˜ ë°©ì‹ê³¼ ë™ì¼í•˜ê²Œ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ê·¸ë£¹ ì»¤ë°‹ë˜ëŠ” íŠ¸ëœì­ì…˜ ìˆ˜ì— ì˜í–¥ì˜ ë°›ëŠ”ë‹¤.\nì ê¸ˆ ê¸°ë°˜ ë°©ì‹ì—ì„œë„ ì†ŒìŠ¤ ì„œë²„ì˜ ì‹œìŠ¤í…œ ë³€ìˆ˜ ê°’ì„ ì ì ˆíˆ ì¡°ì •í•´ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œì˜ ë³‘ë ¬ ì²˜ë¦¬ìœ¨ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤. WriteSet ê¸°ë°˜ ë°©ì‹ WriteSet ê¸°ë°˜ ë°©ì‹ì€ íŠ¸ëœì­ì…˜ì˜ ì»¤ë°‹ ì²˜ë¦¬ ì‹œì ì´ ì•„ë‹Œ íŠ¸ëœì­ì…˜ì´ ë³€ê²½í•œ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë³‘ë ¬ ì²˜ë¦¬ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤.\nê¸°ì¡´ ì ê¸ˆ ê¸°ë°˜ ë°©ì‹ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì»¤ë°‹ ì²˜ë¦¬ ì‹œì ì´ ì „í˜€ ê²¹ì¹˜ì§€ ì•ŠëŠ” ë‘ íŠ¸ëœì­ì…˜ì€ ë³‘ë ¬ë¡œ ì‹¤í–‰ë  ìˆ˜ ì—†ì—ˆë‹¤.\n1 2 Tx1 : ---P-------C----------------\u0026gt; Tx2 : --------------P--------C----\u0026gt; WriteSet ê¸°ë°˜ ë°©ì‹ì—ì„œëŠ” ë‘ íŠ¸ëœì­ì…˜ì´ ì„œë¡œ ë‹¤ë¥¸ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì´ë¼ë©´ ë³‘ë ¬ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\në™ì¼í•œ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ” íŠ¸ëœì­ì…˜ë“¤ì€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ëª¨ë‘ ë³‘ë ¬ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤. WriteSet ê¸°ë°˜ì—ì„œëŠ” ê°™ì€ ì„¸ì…˜ì—ì„œ ì‹¤í–‰ëœ íŠ¸ëœì­ì…˜ë“¤ì˜ ë³‘ë ¬ ì²˜ë¦¬ ì—¬ë¶€ì— ë”°ë¼ WRITESETê³¼ WRITESET_SESSTION íƒ€ì…ìœ¼ë¡œ ë‚˜ëˆ ì§„ë‹¤.\nbinlog_transaction_dependency_tracking ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤. COMMIT_ORDER ê¸°ë³¸ê°’ìœ¼ë¡œ ì ê¸ˆ ê¸°ë°˜ ë°©ì‹ê³¼ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤. WRITESET ì„œë¡œ ë‹¤ë¥¸ ë°ì´í„°ë¥¼ ë³€ê²½í•œ íŠ¸ëœì­ì…˜ë“¤ì€ ëª¨ë‘ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤. WRITE_SESSION WRITE_SET ì²˜ë¦¬ì—ì„œ ë™ì¼í•œ ì„¸ì…˜ì—ì„œ ì‹¤í–‰ëœ íŠ¸ëœì­ì…˜ë“¤ì€ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë  ìˆ˜ ì—†ë‹¤ëŠ” ì ë§Œ ë‹¤ë¥´ë‹¤. WriteSet ê¸°ë°˜ ë°©ì‹ì—ì„œëŠ” ê° íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•œ ë°ì´í„°ë¥¼ ê¸°ì£¼ëŠ¥ë¡œ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ìœ„í•œ íŠ¸ëœì­ì…˜ë“¤ì˜ ì¢…ì† ê´€ê³„ë¥¼ ì •ì˜í•˜ë¯€ë¡œ ì´ë¥¼ ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì— ì˜í•´ ë³€ê²½ëœ ë°ì´í„°ë“¤ì˜ ëª©ë¡ì„ ê´€ë¦¬í•œë‹¤.\në³€ê²½ëœ ë°ì´í„°ë“¤ì€ í•˜ë‚˜í•˜ë‚˜ê°€ ì „ë¶€ í•´ì‹œê°’ìœ¼ë¡œ í‘œí˜„ëœë‹¤. í•´ì‹±ëœ ë³€ê²½ ë°ì´í„°ë¥¼ WriteSetì´ë¼ê³  í•œë‹¤. WriteSetì€ í…Œì´ë¸”ì— ì¡´ì¬í•˜ëŠ” ìœ ë‹ˆí¬í•œ í‚¤ì˜ ê°œìˆ˜ë§Œí¼ ë§Œë“¤ì–´ì§„ë‹¤. ë”°ë¼ì„œ í•˜ë‚˜ì˜ ë³€ê²½ ë°ì´í„°ëŠ” ì—¬ëŸ¬ ê°œì˜ WriteSetì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. 1 WriteSet = hash(index_name, db_name, db_name_length, table_name, table_name_length, value, value_length) íŠ¸ëœì­ì…˜ë“¤ì˜ WriteSetì€ MySQL ì„œë²„ ë©”ëª¨ë¦¬ì—ì„œ í•´ì‹œë§µ í…Œì´ë¸”ë¡œ ê·¸ íˆìŠ¤í† ë¦¬ê°€ ê´€ë¦¬ëœë‹¤.\níˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì—ëŠ” ë³€ê²½ëœ ë°ì´í„°ì˜ í•´ì‹œê°’ì¸ WriteSetê³¼ í•´ë‹¹ ë°ì´í„°ë¥¼ ë³€ê²½í•œ íŠ¸ëœì­ì…˜ì˜ sequence_number ê°’ì´ Key-Value í˜•íƒœë¡œ ì €ì¥ëœë‹¤. ì‚¬ìš©ìëŠ” binlog_transaction_dependency_histroy_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì´ ìµœëŒ€ë¡œ ê°€ì§ˆ ìˆ˜ ìˆëŠ” WriteSet ê°œìˆ˜ë¥¼ ì •í•  ìˆ˜ ìˆë‹¤(ê¸°ë³¸ê°’ 25000). ì €ì¥ëœ ë°ì´í„° ìˆ˜ê°€ ì§€ì •ëœ ìµœëŒ€ ê°œìˆ˜ë§Œí¼ ë„ë‹¬í•˜ë©´ íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì€ ì´ˆê¸°í™”ëœë‹¤. DDL ì¿¼ë¦¬ê°€ ì‹¤í–‰ëœ ê²½ìš°ì—ë„ ì´ˆê¸°í™”ëœë‹¤. WriteSet ê¸°ë°˜ ë°©ì‹ì—ì„œë„ ë§ˆì°¬ê°€ì§€ë¡œ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë˜ë©´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— íŠ¸ëœì­ì…˜ ì •ë³´ì™€ í•¨ê»˜ last_committed ê°’ê³¼ sequence_number ê°’ì´ ê¸°ë¡ë˜ë©°, ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.\nWRITESET, WRITESET_SESSION íƒ€ì… ëª¨ë‘ íŠ¸ëœì­ì…˜ ì»¤ë°‹ì„ ì²˜ë¦¬í•  ë•Œ íŠ¸ëœì­ì…˜ì˜ last_committed ê°’ì„ 1ì°¨ì ìœ¼ë¡œ COMMIT_ORDER íƒ€ì… ê¸°ë°˜ìœ¼ë¡œ ì„¤ì •í•œë‹¤. ì´í›„ WriteSet íˆìŠ¤í† ë¦¬ í…Œì´ë¸” ë°ì´í„°ë¥¼ ì¡°íšŒí•´ì„œ íŠ¸ëœì­ì…˜ì˜ WriteSetê³¼ ì¶©ëŒí•˜ëŠ” WriteSetì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸ í›„ ë‹¤ì‹œ last_committed ê°’ì„ ì„¤ì •í•˜ê²Œ ëœë‹¤. ì²˜ë¦¬ ê³¼ì •\nWriteSet íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì—ì„œ ê°€ì¥ ì‘ì€ sequence_number ê°’ì„ ìì‹ ì˜ last_committed ê°’ìœ¼ë¡œ ì„¤ì •í•œë‹¤. WriteSetì„ íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì—ì„œ ì°¾ëŠ”ë‹¤. ì¶©ëŒí•˜ëŠ” ë°ì´í„°ê°€ ìˆì„ ê²½ìš° ì´ í•´ì‹œê°’ì— ë§¤í•‘ëœ sequence_number ê°’ì„ ìì‹ ì˜ sequence_number ê°’ìœ¼ë¡œ ë³€ê²½í•œë‹¤. ê¸°ì¡´ sequence_number ê°’ì€ ìì‹ ì˜ last_committed ê°’ìœ¼ë¡œ ì„¤ì •í•œë‹¤. ê¸°ì¡´ sequence_number ê°’ì´ ìì‹ ì˜ last_committed ê°’ë³´ë‹¤ í¬ì§€ ì•Šì„ ê²½ìš° ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¶©ëŒí•˜ëŠ” ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì— ìì‹ ì˜ sequence_number ê°’ê³¼ í•¨ê»˜ í•´ë‹¹ ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤. íŠ¸ëœì­ì…˜ì—ì„œëŠ” WriteSet íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì— ìì‹ ì˜ WriteSetê³¼ ì¶©ëŒë˜ëŠ” WriteSet ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš° ê·¸ WriteSetì— ë§¤í•‘ëœ sequence_number ê°’ì„ ê°€ì ¸ì™€ ìì‹ ì˜ last_committedì— ì €ì¥í•˜ê³  í•´ìƒ WriteSetì˜ sequence_numberë¥¼ ìì‹ ì˜ sequence_number ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.\nì¶©ëŒí•˜ëŠ” WriteSetì´ ì—¬ëŸ¬ê°œì´ê³  WriteSetì´ ë‹¤ë¥¸ sequence_number ê°’ì„ ê°€ì§€ëŠ” ê²½ìš° ê°€ì¥ í° sequence_numberë¡œ ì—…ë°ì´íŠ¸ëœë‹¤. ì¶©ëŒí•˜ëŠ” WriteSetì´ ì—†ë‹¤ë©´ í•´ë‹¹ íŠ¸ëœì­ì…˜ì´ ê°€ì§„ WriteSetë“¤ì´ íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì— ìƒˆë¡œ ì €ì¥ë˜ê³  WriteSet ì¤‘ ê°€ì¥ ì‘ì€ sequence_numberë¡œ ì €ì¥ëœë‹¤. WRITESET_SESSION íƒ€ì…ì—ì„œëŠ” ì´ë ‡ê²Œ ê²°ì •ëœ last_committed ê°’ì„, ê°™ì€ ì„¸ì…˜ì—ì„œ ì»¤ë°‹ëœ ë§ˆì§€ë§‰ íŠ¸ëœì­ì…˜ì˜ sequnece_number ê°’ê³¼ í•œë²ˆ ë” ë¹„êµí•´ì„œ ë‘˜ ì¤‘ ë” í°ê°’ì„ ì„ íƒí•´ last_committedì— ì €ì¥í•œë‹¤.\nWRITESETê³¼ WRITESET_SESSION íƒ€ì… ëª¨ë“œ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½ëœ ë°ì´í„°ë“¤ì´ ì†í•˜ëŠ” í…Œì´ë¸”ì´ ìœ ë‹ˆí¬í•œ í‚¤ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šì€ ê²½ìš° í•´ë‹¹ íŠ¸ëœì­ì…˜ì˜ WriteSetì€ ìƒì„±ë˜ì§€ ì•Šìœ¼ë©°, last_committedì—ëŠ” COMMIT_ORDER íƒ€ì… ê¸°ë°˜ìœ¼ë¡œ ê²°ì •ëœ ê°’ì´ ê·¸ëŒ€ë¡œ ì‚¬ìš©ëœë‹¤. ë³€ê²½ëœ ë°ì´í„°ë“¤ì´ ì†í•˜ëŠ” í…Œì´ë¸”ì˜ ìœ ë‹ˆí¬í•œ í‚¤ë“¤ì´ ë‹¤ë¥¸ í…Œì´ë¸”ì—ì„œ ì™¸ë˜í‚¤ë¡œ ì°¸ì¡°ë˜ëŠ” ê²½ìš°ì—ë„ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤. WriteSet ê¸°ë°˜ ë°©ì‹ì—ì„œëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œì˜ íŠ¸ëœì­ì…˜ ë³‘ë ¬ ì²˜ë¦¬ê°€ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë™ì‹œì— ì»¤ë°‹ë˜ëŠ” íŠ¸ëœì­ì…˜ ìˆ˜ì— ì˜ì¡´ì ì´ì§€ ì•Šìœ¼ë¯€ë¡œ ê·¸ë£¹ ì»¤ë°‹ë˜ëŠ” íŠ¸ëœì­ì…˜ ìˆ˜ë¥¼ ëŠ˜ë¦¬ê¸° ìœ„í•´ ì˜ë„ì ìœ¼ë¡œ ì†ŒìŠ¤ ì„œë²„ì˜ íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì²˜ë¦¬ ì†ë„ë¥¼ ì €í•˜ì‹œí‚¬ í•„ìš”ê°€ ì—†ë‹¤.\nì²´ì¸ í˜•íƒœë¡œ ë³µì œê°€ êµ¬ì„±ë¼ ìˆëŠ” ê²½ìš° í•˜ìœ„ ê³„ì¸µì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ê°ˆìˆ˜ë¡ ë³‘ë ¬ë¡œ ì²˜ë¦¬ë˜ëŠ” íŠ¸ëœì­ì…˜ ìˆ˜ê°€ ì ì  ì¤„ì–´ë“œëŠ” ë¬¸ì œëŠ” WRITESET íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ë³‘ë ¬ ì²˜ë¦¬ëŸ‰ ê°ì†Œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤. WriteSet ê¸°ë°˜ ë°©ì‹ì€ ì–´ëŠ ë°©ì‹ë³´ë‹¤ë„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œì˜ ë³‘ë ¬ ì²˜ë¦¬ì„±ì„ ë†’ì´ëŠ” ë°©ì‹ì´ì§€ë§Œ íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œ ì¶”ê°€ì ì¸ ë©”ëª¨ë¦¬ ê³µê°„ì´ í•„ìš”í•˜ë©° ë§¤ íŠ¸ëœì­ì…˜ë§ˆë‹¤ WriteSet íˆìŠ¤í† ë¦¬ í…Œì´ë¸”ì— ì €ì¥ëœ ê°’ë“¤ì„ ê³„ì† ë¹„êµí•´ì•¼ í•˜ë¯€ë¡œ ì´ì— ë”°ë¥¸ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤.\në©€í‹° ìŠ¤ë ˆë“œ ë³µì œì™€ ë³µì œ í¬ì§€ì…˜ ì •ë³´ ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œì—ì„œ ê° ì›Œì»¤ ìŠ¤ë ˆë“œë“¤ì´ ì‹¤í–‰í•œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì´ë²¤íŠ¸ì˜ í¬ì§€ì…˜ ì •ë³´ëŠ” relay_log_info_repository ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì§€ì •ëœ ê°’ì— ë”°ë¼ mysql ë°ì´í„°ë² ì´ìŠ¤ ë‚´ slave_worker_info í…Œì´ë¸” í˜¹ì€ ë°ì´í„° ë””ë ‰í„°ë¦¬ ë‚´ worker-relay-log.info ì ‘ë‘ì‚¬ë¥¼ ê°€ì§€ëŠ” íŒŒì¼ë“¤ì— ê° ìŠ¤ë ˆë“œë³„ë¡œ ì €ì¥ë˜ë©°, ì›Œì»¤ ìŠ¤ë ˆë“œë“¤ì€ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰ ì™„ë£Œí•  ë•Œë§ˆë‹¤ í•´ë‹¹ ë°ì´í„°ë¥¼ ê°±ì‹ í•œë‹¤.\ní˜„ì¬ ë³µì œ ì´ë²¤íŠ¸ì˜ ì²˜ë¦¬ í˜„í™©ì„ ë³´ì—¬ì£¼ëŠ” ì–´í”Œë¼ì´ì–´ ë©”íƒ€ë°ì´í„°ì—ëŠ” ì›Œì»¤ ìŠ¤ë ˆë“œë“¤ì´ ì‹¤í–‰í•œ ì´ë²¤íŠ¸ë“¤ì—ì„œ ë¡œìš° ì›Œí„°ë§ˆí¬ì— í•´ë‹¹í•˜ëŠ” ì´ë²¤íŠ¸ì˜ í¬ì§€ì…˜ ê°’ì´ ì €ì¥ëœë‹¤.\nì½”ë””ë„¤ì´í„° ìŠ¤ë ˆë“œê°€ ìˆ˜í–‰í•˜ëŠ” ì²´í¬í¬ì¸íŠ¸ ì‘ì–´ë²  ì˜í•´ ì£¼ê¸°ì ìœ¼ë¡œ ê°±ì‹ ëœë‹¤. ê°­ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ì²´í¬í¬ì¸íŠ¸ ì§€ì ì€ í•­ìƒ ê°­ ì´ì „ì— ì‹¤í–‰ ì™„ë£Œëœ ì´ë²¤íŠ¸ì—ì„œë§Œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤. ë¨¼ì € ì‹¤í–‰ëœ íŠ¸ëœì­ì…˜ë³´ë‹¤ ë‚˜ì¤‘ì— ì‹¤í–‰ëœ íŠ¸ëœì­ì…˜ì´ ë¨¼ì € ì²˜ë¦¬ë˜ì—ˆì„ ë•Œ ë°œìƒí•˜ëŠ” í¬ì§€ì…˜ ê°„ê²©ì„ ê°­(Gap)ì´ë¼ê³  í•œë‹¤. ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œì—ì„œ slave_preserve_commit_order ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ë¹„í™œì„±í™”ë˜ì–´ìˆëŠ” ê²½ìš° ë°œìƒí•œë‹¤. ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë³µì œë¥¼ í†µí•´ ë„˜ì–´ì˜¨ ì´ë²¤íŠ¸ë¥¼ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì»¤ë°‹ëœ ìˆœì„œì™€ ë™ì¼í•œ ìˆœì„œë¡œ ì»¤ë°‹í•  ê²ƒì¸ì§€ë¥¼ ì œì–´ 1ë¡œ ì„¤ì •ì‹œ ì—¬ëŸ¬ ì´ë²¤íŠ¸ë“¤ì´ ë™ì‹œì— ì²˜ë¦¬ë¼ë„ ë¦´ë ˆì´ ë¡œê·¸ì— ê¸°ë¡ëœ ìˆ˜ì„œëŒ€ë¡œ ì»¤ë°‹ë˜ì–´ ê°­ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ê°­ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ í•˜ë”ë¼ë„ ì–´í”Œë¼ì´ì–´ ë©”íƒ€ë°ì´í„°ëŠ” ì›Œì»¤ ìŠ¤ë ˆë“œë“¤ì´ ì²˜ë¦¬í•œ ì´ë²¤íŠ¸ ë‚´ì—­ì´ ì‹¤ì‹œê°€ëŠ¥ë¡œ ë°˜ì˜ëœ ë°ì´í„°ê°€ ì•„ë‹ˆë¼ ì²´í¬í¬ì¸íŠ¸ ì£¼ê¸°ë§ˆë‹¤ ê°±ì‹ ë˜ëŠ” ë°ì´í„°ë¯€ë¡œ ì‹¤ì œ ì ìš©ëœ ì´ë²¤íŠ¸ì˜ í¬ì§€ì…˜ ê°’ë³´ë‹¤ ì´ì „ì˜ í¬ì§€ì…˜ ê°’ì„ ë³´ì—¬ì¤€ë‹¤. (ëª…ë ¹ì„ í†µí•œ ì¡°íšŒë„ ë™ì¼í•¨) ì½”ë””ë„¤ì´í„° ìŠ¤ë ˆë“œëŠ” ë‹¤ìŒ ì‹œìŠ¤í…œ ë³€ìˆ˜ë“¤ì— ì„¤ì •ëœ ê°’ì„ ë°”íƒ•ìœ¼ë¡œ ì›Œì»¤ ìŠ¤ë ˆë“œë“¤ì—ì„œ ì‹¤í–‰ëœ ì´ë²¤íŠ¸ë“¤ì— ëŒ€í•´ ì²´í¬í¬ì¸íŠ¸ë¥¼ ìˆ˜í–‰í•´ ì–´í”Œë¼ì´ì–´ ë©”íƒ€ë°ì´í„°ë¥¼ ê°±ì‹ í•œë‹¤.\nslave_checkpoint_period ì–´í”Œë¼ì´ì–´ ë©”íƒ€ë°ì´í„° ê°±ì‹  ì‘ì—…ì˜ ì£¼ê¸°ë¥¼ ê²°ì •í•˜ëŠ” ì‹œìŠ¤í…œ ë³€ìˆ˜(ê¸°ë³¸ê°’ 300 (ë°€ë¦¬ì´ˆ)) slave_checkpoint_group ì–´í”Œë¼ì´ì–´ ë©”íƒ€ë°ì´í„° ê°±ì‹  ì‘ì—…ì˜ ì£¼ê¸°ë¥¼ ê²°ì •í•˜ëŠ” ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì‹¤í–‰í•œ íŠ¸ëœì­ì…˜ì˜ ê°œìˆ˜ë¥¼ ì§€ì •í•¨ ","date":"2023-09-16T17:44:10+09:00","image":"https://codemario318.github.io/post/real-mysql/16/7/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/16/7/2/","title":"16.7.2 ë³µì œ ê³ ê¸‰ ì„¤ì • - ë©€í‹° ìŠ¤ë ˆë“œ ë³µì œ"},{"content":"ë³µì œëŠ” ìµœëŒ€í•œ ë¹ ë¥´ê²Œ ë™ê¸°í™”í•´ì„œ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¥´í‚¤ ì„œë²„ ê°€ëŠì´ ë°ì´í„°ë¥¼ ë™ì¼í•œ ìƒíƒœë¡œ ë§Œë“œëŠ” ê²ƒì´ ì›ë˜ì˜ ëª©ì ì´ë‹¤.\nì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ê°„ì˜ ë°ì´í„° ë™ê¸°í™” ì§€ì—°ì´ ì—†ìœ¼ë©´ ì—†ì„ìˆ˜ë¡ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ ì´ìš©í•œ ì¥ì•  ë³µêµ¬ê°€ ìš©ì´í•´ì§€ë©°, ì´ëŸ¬í•œ ë¶€ë¶„ì€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ ì„œë²„ìŠ¤ì˜ ì½ê¸° ìš”ì²­ ì²˜ë¦¬ ìš©ë„ë¡œ ì‚¬ìš©í•  ë•Œë„ ë§¤ìš° ìœ ìš©í•˜ë‹¤.\ní•˜ì§€ë§Œ ë•Œë¡œëŠ” ì˜ë„ì ìœ¼ë¡œ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ê°„ì˜ ë³µì œë¥¼ ì§€ì—°ì‹œì¼œì•¼ í•  ë•Œë„ ìˆë‹¤.\nê°œë°œìë‚˜ DBAê°€ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì‹¤ìˆ˜ë¡œ ì¤‘ìš”í•œ í…Œì´ë¸”ì´ë‚˜ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ ë©ˆì¶”ê³  ë°ì´í„°ë¥¼ ë³µêµ¬í•´ì•¼ í•˜ëŠ” ê²½ìš° ì´ì „ ì‹œì ì˜ ë°ì´í„° ê°’ì— ëŒ€í•´ í™•ì¸ì´ í•„ìš”í•œ ê²½ìš° ë°ì´í„° ë°˜ì˜ì— ì§€ì—°ì´ ìˆì„ ë•Œ ì–´ë–»ê²Œ ì„œë¹„ìŠ¤ê°€ ë™ì‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì‹œë®¬ë ˆì´ì…˜ì´ í•„ìš”í•œ ê²½ìš° 1 2 3 4 5 /* 8.0.23 ì´ì „ */ CHANGE MASTER TO MASTE_DELAY=86400; /* 8.0.23 ì´í›„ */ CHANGE REPLICATION SOURCE TO MASTE_DELAY=86400; MySQL 8.0 ê°œì„ ì  MySQLì˜ ì§€ì—°ëœ ë³µì œ ê¸°ëŠ¥ì€ 5.6 ë²„ì „ì—ì„œ ì²˜ìŒ ë„ì…ëìœ¼ë©°, 8.0 ë²„ì „ì—ì„œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— íƒ€ì„ ìŠ¤íƒ¬í”„ê°€ ì¶”ê°€ë˜ëŠ” ë“± ëª‡ ê°€ì§€ ë¶€ë¶„ë“¤ì´ ê°œì„ ë˜ì—ˆë‹¤.\noriginal_commit_timestamp(OCT)\níŠ¸ëœì­ì…˜ì´ ì›ë³¸ ì†ŒìŠ¤ ì„œë²„(íŠ¸ëœì­ì…˜ì´ ì‹œì‘ëœ ì†ŒìŠ¤ ì„œë²„)ì—ì„œ ì»¤ë°‹ëœ ì‹œê°ìœ¼ë¡œ, ë°€ë¦¬ì´ˆ ë‹¨ìœ„ì˜ ìœ ë‹‰ìŠ¤ íƒ€ì„ìŠ¤íƒ¬í”„ ê°’ìœ¼ë¡œ ì €ì¥ëœë‹¤. immediate_commit_timestamp(ICT)\níŠ¸ëœì­ì…˜ì´ ì§ê³„ ì†ŒìŠ¤ ì„œë²„(ë°”ë¡œ ìœ„ ì†ŒìŠ¤ ì„œë²„)ì—ì„œ ì»¤ë°‹ëœ ì‹œê°ìœ¼ë¡œ, ë°€ë¦¬ì´ˆ ë‹¨ìœ„ì˜ ìœ ë‹‰ìŠ¤ íƒ€ì„ìŠ¤íƒ¬í”„ ê°’ìœ¼ë¡œ ì €ì¥ëœë‹¤. OCT ê°’ì€ ë³µì œ êµ¬ì„±ì—ì„œ í•´ë‹¹ íŠ¸ëœì­ì…˜ì´ ë³µì œë˜ëŠ” ëª¨ë“  ë ˆí”Œë¦¬ì¹´ ì„œë²„ë“¤ì´ ë™ì¼í•œ ê°’ì„ ê°€ì§€ë©°, ì›ë³¸ ì†ŒìŠ¤ì„œë²„ëŠ” OCT ê°’ê³¼ ICT ê°’ì´ ë™ì¼í•˜ë‹¤.\nlog_slave_updates ì˜µì…˜ì´ í™œì„±í™” ë˜ì–´ìˆëŠ” ê²½ìš° ICTì—ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë³µì œëœ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ëœ ì‹œì ìœ¼ë¡œ ê°’ì´ ì €ì¥ëœë‹¤.\në‘ íƒ€ì„ ìŠ¤íƒ¬í”„ ê°’ì€ ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ë˜ì–´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ê·¸ëŒ€ë¡œ ë³µì œë˜ì–´ ë¦´ë ˆì´ ë¡œê·¸ì— ì €ì¥ë˜ëŠ”ë°, ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” SOURCE_DELAY ì˜µì…˜ì— ê°’ì´ ì§€ì •ë˜ë©´ ICTë¥¼ ì°¸ì¡°í•˜ì—¬ ê° íŠ¸ëœì­ì…˜ë³„ë¡œ ì‹¤í–‰ì„ ì§€ì—°ì‹œí‚¬ ê²ƒì¸ì§€ ê²°ì •í•œë‹¤.\nMySQL 8.0 ë¯¸ë§Œ ë²„ì „ì˜ ì§€ì—°ëœ ë³µì œì—ì„œëŠ” ì´ë²¤íŠ¸ ê·¸ë£¹(íŠ¸ëœì­ì…˜) ë‹¨ìœ„ê°€ ì•„ë‹Œ ê°œë³„ ì´ë²¤íŠ¸ ë‹¨ìœ„ë¡œ ì§€ì—° ì‹¤í–‰ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ì˜€ë‹¤.\nì´ë¡œ ì¸í•´ ë™ì¼í•œ íŠ¸ëœì­ì…˜ ë‚´ì˜ ì´ë²¤íŠ¸ë“¤ì´ë¼ í•˜ë”ë¼ë„ ê° ì´ë²¤íŠ¸ ì‚¬ì´ì— ì§€ì—° ëŒ€ê¸°ê°€ ë°œìƒí•˜ì˜€ê³ , ì§€ì—° ì¸¡ì •ì„ ìœ„í•œ ê¸°ì¤€ ì‹œê°ë„ ê° ì´ë²¤íŠ¸ê°€ ì¢…ë£Œëœ ì‹œê°ì´ ì•„ë‹Œ ì‹œì‘ëœ ì‹œê°ì´ ê¸°ì¤€ì´ì—ˆë‹¤.\nì›ë³¸ ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ëœ ì´ë²¤íŠ¸ ì‹œì‘ ê°’ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë“¤ë¡œ ê·¸ëŒ€ë¡œ ë³µì œë˜ë¯€ë¡œ ìµœí•˜ìœ„ ê³„ì¸µì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” ìì‹ ì˜ ì§ê³„ ì†ŒìŠ¤ ì„œë²„ê°€ ì•„ë‹Œ ì›ë³¸ ì†ŒìŠ¤ ì„œë²„ì˜ ì‹œê°ì„ ê¸°ì¤€ìœ¼ë¡œ ì§€ì—°ì´ ê³„ì‚°ë˜ì—ˆìœ¼ë©°, ì²´ì¸ ë³µì œë¥¼ êµ¬ì„±í•˜ëŠ” ì„œë²„ë“¤ì˜ íƒ€ì„ì¡´ì´ ì„œë¡œ ë‹¤ë¥¸ê²½ìš° ì§€ì—° ì‹œê°„ì´ ì˜ˆìƒí•œ ê²ƒê³¼ëŠ” ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ê³„ì‚°ë˜ì–´ í‘œì‹œë˜ì—ˆëŠ”ë° íƒ€ì„ ìŠ¤íƒ¬í”„ë¥¼ í™œìš©í•˜ê²Œ ë˜ë©° ì´ëŸ¬í•œ ë¬¸ì œì ì´ ì‚¬ë¼ì¡Œë‹¤.\nì§€ì—°ëœ ë³µì œê°€ í™œì„±í™”ë˜ë©´ SHOW [REPLICA | SLAVE] STATUS ëª…ë ¹ì˜ ê²°ê³¼ì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì–¼ë§ˆë‚˜ ì§€ì—°ë˜ì–´ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€, ë‹¤ìŒ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•  ë•Œê¹Œì§€ ì–¼ë§ˆë‚˜ ì‹œê°„ì´ ë‚¨ì•˜ëŠ”ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 SHOW GLOBAL STATUS LIKE \u0026#39;%semi_sync_master%\u0026#39;; SHOW GLOBAL STATUS LIKE \u0026#39;%semi_sync_slave%\u0026#39;; ì§€ì—°ëœ ë³µì œë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•˜ë”ë¼ë„ ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ëŠ” ì¦‰ì‹œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ë¡œ ë³µì‚¬ëœë‹¤. ë”°ë¼ì„œ ì†ŒìŠ¤ ì„œë²„ê°€ ì¥ì• ë¡œ ë””ìŠ¤í¬ì˜ ë°ì´í„°ê°€ ë³µêµ¬ ë¶ˆê°€ëŠ¥í•˜ë‹¤ í•˜ë”ë¼ë„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ë¦´ë ˆì´ ë¡œê·¸ë¥¼ ì´ìš©í•´ì„œ ë³µêµ¬í•œë‹¤ë©´ ì§€ì—°ëœ ë³µì œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë³µì œì™€ ê°™ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œì˜ ì¥ì•  ë³µêµ¬ê°€ ê°€ëŠ¥í•˜ë‹¤. ë³µì œë¥¼ ì§€ì—°ë˜ì§€ ì•Šë„ë¡ ë‹¤ì‹œ ì„¤ì •í•˜ê³  ì‹¶ì€ ê²½ìš° ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤.\n1 2 3 4 STOP [SLAVE | REPLICA] SQL_THREAD; CHANEGE [MASTER | REPLICATION SOURCE] TO [MASTER_DELAY | SOURCE_DELAY]=0; START [SLAVE | REPLICA] SQL_THREAD; ```ì œ ","date":"2023-09-12T10:29:10+09:00","image":"https://codemario318.github.io/post/real-mysql/16/7/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/16/7/1/","title":"16.7.1 ë³µì œ ê³ ê¸‰ ì„¤ì • - ì§€ì—°ëœ ë³µì œ"},{"content":"ì‹±ê¸€ ë ˆí”Œë¦¬ì¹´ ë³µì œ êµ¬ì„± flowchart LR a([ì›¹ ì„œë²„]) b[(ì†ŒìŠ¤ ì„œë²„)] c[(ë ˆí”Œë¦¬ì¹´ ì„œë²„)] a-. ì½ê¸° + ì“°ê¸° .-\u003e b a-. ì½ê¸° .-\u003e c b--\u003ec í•˜ë‚˜ì˜ ì†ŒìŠ¤ ì„œë²„ì— í•˜ë‚˜ì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë°˜ ì—°ê²°ë¼ ìˆëŠ” ë³µì œ í˜•íƒœë¥¼ ë§í•œë‹¤.\nê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœë¡œ, ë³´í†µ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ëŠ” ì†ŒìŠ¤ ì„œë²„ì—ë§Œ ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•´ ì‚¬ìš©í•˜ê³  ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ëŠ” ì ‘ê·¼í•˜ì§€ ì•Šìœ¼ë©°, ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì¥ì• ê°€ ë°œìƒí–ˆì„ ë•Œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ì˜ˆë¹„ ì„œë²„ ë° ë°ì´í„° ë°±ì—… ìˆ˜í–‰ì„ ìœ„í•œ ìš©ë„ë¡œ ë§ì´ ì‚¬ìš©ëœë‹¤.\nì´ ê°™ì€ í˜•íƒœì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œë„ ì„œë¹„ìŠ¤ìš© ì½ê¸° ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤ê³  í•˜ë©´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ë¬¸ì œê°€ ë°œìƒí•œ ê²½ìš° ì„œë¹„ìŠ¤ ì¥ì•  ìƒí™©ì´ ë„ë˜í•  ìˆ˜ ìˆë‹¤.\nì´ë ‡ê²Œ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì¼ëŒ€ì¼ë¡œ êµ¬ì„±ëœ í˜•íƒœì—ì„œëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ ì •ë§ ì˜ˆë¹„ìš© ì„œë²„ë¡œì„œë§Œ ì‚¬ìš©í•˜ëŠ” ê²Œ ì œì¼ ì í•©í•˜ë‹¤.\në©€í‹° ë ˆí”Œë¦¬ì¹´ ë³µì œ êµ¬ì„± flowchart LR a([ì›¹ ì„œë²„]) b[(ì†ŒìŠ¤ ì„œë²„)] c[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1)] d[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2)] a-. ì½ê¸° + ì“°ê¸° .-\u003e b a-. ì½ê¸° .-\u003e d b--\u003ec b--\u003ed ë©€í‹° ë ˆí”Œë¦¬ì¹´ ë³µì œëŠ” í•˜ë‚˜ì˜ ì†ŒìŠ¤ ì„œë²„ì— 2ê°œ ì´ìƒì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ ì—°ê²°í•œ ë³µì œ í˜•íƒœë¡œ, ë³´í†µ ì‹±ê¸€ ë ˆí”Œë¦¬ì¹´ ë³µì œ êµ¬ì„±ì—ì„œ ì¶”ê°€ì ì¸ ìš©ë„ë¥¼ ìœ„í•´ ì—¬ë¶„ì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ í•„ìš”í•´ì¡Œì„ ë•Œ ìì£¼ ì‚¬ìš©ë˜ëŠ” í˜•íƒœë‹¤.\nìƒˆë¡œ ì˜¤í”ˆë  ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©í•  MySQL ì„œë²„ë¥¼ ì„¤ì •í•  ë•ŒëŠ” ìœ ì…ë˜ëŠ” ì¿¼ë¦¬ ìš”ì²­ì´ ì ê¸° ë•Œë¬¸ì— ë³´í†µ ì‹±ê¸€ ë ˆí”Œë¦¬ì¹´ ë³µì œ êµ¬ì„±ìœ¼ë¡œ êµ¬ì¶•í•˜ì§€ë§Œ, ì„œë¹„ìŠ¤ì˜ íŠ¸ë˜í”½ì´ í¬ê²Œ ì¦ê°€í•˜ë©´ ì†ŒìŠ¤ ì„œë²„ í•œ ëŒ€ì—ì„œë§Œ ì¿¼ë¦¬ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸°ì—ëŠ” ë²…ì°° ìˆ˜ ìˆë‹¤.\nì´ë ‡ê²Œ ì¦ê°€ëœ ì¿¼ë¦¬ ìš”ì²­ì€ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì“°ê¸°ë³´ë‹¤ëŠ” ì½ê¸° ìš”ì²­ì´ ë” ë§ìœ¼ë¯€ë¡œ ì‚¬ìš©ìëŠ” ë©€í‹° ë ˆí”Œë¦¬ì¹´ í˜•íƒœë¡œ ë³µì œ êµ¬ì„±ì„ ì „í™˜í•´ ì½ê¸° ìš”ì²­ ì²˜ë¦¬ë¥¼ ë¶„ì‚°ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\nì„œë¹„ìŠ¤ì˜ ì½ê¸° ìš”ì²­ ì²˜ë¦¬ë¥¼ ë¶„ì‚°í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë ˆí”Œë¦¬ì¹´ ì„œë²„ í•œ ëŒ€ëŠ” ì˜ˆë¹„ìš©ìœ¼ë¡œ ë‚¨ê²¨ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì²´ì¸ ë³µì œ êµ¬ì„± flowchart LR a([ì›¹ ì„œë²„]) b[(ì†ŒìŠ¤ ì„œë²„ 1)] c[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-1)] d[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-2)] e[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-3 / ì†ŒìŠ¤ ì„œë²„ 2)] f([ë°°ì¹˜/ë¶„ì„ ì„œë²„]) g[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2-1)] h[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2-2)] a-. ì½ê¸° + ì“°ê¸° .-\u003e b a-. ì½ê¸° .-\u003e d b--\u003ec b--\u003ed b--\u003ee e--\u003eg e--\u003eh f-. ì½ê¸° .-\u003e h ë©€í‹° ë ˆí”Œë¦¬ì¹´ ë³µì œ êµ¬ì„±ì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ë„ˆë¬´ ë§ì•„ ì†ŒìŠ¤ ì„œë²„ì˜ ì„±ëŠ¥ì— ì•…ì˜í–¥ì´ ì˜ˆìƒëœë‹¤ë©´ 1:N:M êµ¬ì¡°ì˜ ì²´ì¸ ë³µì œ êµ¬ì„±ì„ ê³ ë ¤í•´ ë³¼ ìˆ˜ ìˆë‹¤.\nMySQL ë³µì œì—ì„œ ì†ŒìŠ¤ ì„œë²„ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ìš”ì²­í•  ë•Œë§ˆë‹¤ ê³„ì† ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì½ì–´ì„œ ì „ë‹¬í•´ì•¼ í•œë‹¤.\në”°ë¼ì„œ ë§Œì•½ í•˜ë‚˜ì˜ ì†ŒìŠ¤ ì„œë²„ì— ì—°ê²°ëœ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ìˆ˜ê°€ ë§ë‹¤ë©´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì½ê³  ì „ë‹¬í•˜ëŠ” ì‘ì—… ìì²´ê°€ ë¶€í•˜ê°€ ë  ìˆ˜ë„ ìˆë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-3 / ì†ŒìŠ¤ ì„œë²„ 2 í˜•íƒœë¡œ ì†ŒìŠ¤ ì„œë²„ê°€ í•´ì•¼ í•  ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ë°°í¬ ì—­í• ì„ ìƒˆë¡œìš´ MySQL ì„œë²„ë¡œ ë„˜ê¸¸ ìˆ˜ ìˆë‹¤.\nì²´ì¸ ë³µì œ êµ¬ì„±ì„ ì´ìš©í•œ ì„œë²„ êµì²´ ì´ ë³µì œ í˜•íƒœëŠ” MySQL ì„œë²„ë¥¼ ì—…ê·¸ë ˆì´ë“œí•˜ê±°ë‚˜ ì¥ë¹„ë¥¼ ì¼ê´„ êµì²´í•  ë•Œë„ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\nflowchart subgraph êµ¬ ì¥ë¹„ direction LR a([ì›¹ ì„œë²„]) b[(ì†ŒìŠ¤ ì„œë²„ 1)] c[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-1)] d[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-2)] a-. ì½ê¸° + ì“°ê¸° .-\u003e b a-. ì½ê¸° .-\u003e d b--\u003ec b--\u003ed end ìœ„ì™€ ê°™ì€ êµ¬ ì¥ë¹„ë¥¼ ì‹  ì¥ë¹„ë¡œ êµì²´í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ìƒˆë¡œìš´ ì¥ë¹„ë¥¼ êµ¬ì„±í•œë‹¤.\nflowchart LR subgraph êµ¬ ì¥ë¹„ direction LR a([ì›¹ ì„œë²„]) b[(ì†ŒìŠ¤ ì„œë²„ 1)] c[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-1)] d[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-2)] a-. ì½ê¸° + ì“°ê¸° .-\u003e b a-. ì½ê¸° .-\u003e d b--\u003ec b--\u003ed b--\u003ee end subgraph ì‹  ì¥ë¹„ direction LR e[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-3 / ì†ŒìŠ¤ ì„œë²„ 2)] f[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2-1)] g[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2-2)] e--\u003ef e--\u003eg end ìœ„ì™€ ê°™ì´ ë³µì œë¥¼ êµ¬ì„±í•˜ì—¬ ê¸°ì¡´ êµ¬ ì¥ë¹„ì—ì„œ ì§„í–‰ë˜ëŠ” ë³µì œë¥¼ í†µí•´ ê°™ì´ ë™ê¸°í™” ë  ìˆ˜ ìˆê²Œ êµ¬ì„±í•œë‹¤.\nflowchart LR subgraph êµ¬ ì¥ë¹„ direction LR a([ì›¹ ì„œë²„]) b[(ì†ŒìŠ¤ ì„œë²„ 1)] c[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-1)] d[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-2)] a-. ì½ê¸° + ì“°ê¸° (ë³€ê²½ ì „) .-\u003e b a-. ì½ê¸° .-\u003e d b--\u003ec b--\u003ed b--\u003ee end subgraph ì‹  ì¥ë¹„ direction LR e[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-3 / ì†ŒìŠ¤ ì„œë²„ 2)] f[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2-1)] g[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2-2)] a-. ì½ê¸° + ì“°ê¸° (ë³€ê²½ í›„) .-\u003e e e--\u003ef e--\u003eg end ë³µì œê°€ ì™„ë£Œë˜ë©´ êµ¬ ì¥ë¹„ ê·¸ë£¹ ì„œë²„ë¥¼ ëª¨ë‘ ë³µì œ ê·¸ë£¹ì—ì„œ ì œì™¸ì‹œí‚¨ë‹¤.\nflowchart LR subgraph ì‹  ì¥ë¹„ direction LR a([ì›¹ ì„œë²„]) e[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1-3 / ì†ŒìŠ¤ ì„œë²„ 2)] f[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2-1)] g[(ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2-2)] a-. ì½ê¸° + ì“°ê¸° .-\u003e e a-. ì½ê¸° + ì“°ê¸° .-\u003e f e--\u003ef e--\u003eg end ì²´ì¸ í˜•íƒœì˜ ë³µì œë¥¼ êµ¬ì„±í•˜ë ¤ë©´ ì¤‘ê°„ ê³„ì¸µì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì´ë©´ì„œ ë™ì‹œì— ì†ŒìŠ¤ ì„œë²„ ì—­í• ì„ í•˜ëŠ” ì„œë²„ì—ì„œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ log_slave_updates ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ë°˜ë“œì‹œ í™œì„±í™” ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. ì²´ì¸ ë³µì œ êµ¬ì„±ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì¤‘ê°„ ê³„ì¸µì˜ ì„œë²„ì—ì„œ ì¥ì• ê°€ ë°œìƒí•˜ëŠ” ê²½ìš° í•˜ìœ„ ê³„ì¸µì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë“¤ë„ ë³µì œê°€ ì¤‘ë‹¨ë˜ë¯€ë¡œ ì¥ì•  ì²˜ë¦¬ì‹œ ë³µì¡ë„ê°€ ì¡°ê¸ˆ ë” ë†’ì„ ìˆ˜ ìˆë‹¤. ë“€ì–¼ ì†ŒìŠ¤ ë³µì œ êµ¬ì„± ë“€ì–¼ ì†ŒìŠ¤ ë³µì œ êµ¬ì„±ì€ ë‘ ê°œì˜ MySQL ì„œë²„ê°€ ì„œë¡œ ì†ŒìŠ¤ ì„œë²„ì´ì ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ” í˜•íƒœì´ë‹¤.\nflowchart LR a([ì›¹ ì„œë²„]) b[(ì†ŒìŠ¤/ë ˆí”Œë¦¬ì¹´ ì„œë²„ 1)] c[(ì†ŒìŠ¤/ë ˆí”Œë¦¬ì¹´ ì„œë²„ 2)] a-. ì½ê¸° + ì“°ê¸° .-\u003e b a-. ì½ê¸° + ì“°ê¸° .-\u003e c b\u003c--\u003ec ë“€ì–¼ ì†ŒìŠ¤ êµ¬ì„±ì€ ë‘ MySQL ì„œë²„ ëª¨ë‘ ì“°ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ í° íŠ¹ì§•ì´ë‹¤.\nê° ì„œë²„ì—ì„œ ë³€ê²½í•œ ë°ì´í„°ëŠ” ë³µì œë¥¼ í†µí•´ ë‹¤ì‹œ ê° ì„œë²„ì— ì ìš©ë˜ë¯€ë¡œ ì–‘ìª½ì—ì„œ ì“°ê¸°ê°€ ë°œìƒí•˜ì§€ë§Œ ë‘ ì„œë²„ëŠ” ì„œë¡œ ë™ì¼í•œ ë°ì´í„°ë¥¼ ê°–ëŠ”ë‹¤. ëª©ì ì— ë”°ë¼ ACTIVE-PASSIVE ë˜ëŠ” ACTIVE-ACTIVE í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ACTIVE-PASSIVE í•˜ë‚˜ì˜ MySQL ì„œë²„ì—ì„œë§Œ ì“°ê¸° ì‘ì—…ì´ ìˆ˜í–‰ë˜ëŠ” í˜•íƒœì´ë‹¤.\nì‹±ê¸€ ë ˆí”Œë¦¬ì¹´ êµ¬ì„±ê³¼ ë‹¤ë¥¸ì ì€ ì˜ˆë¹„ ì„œë²„ì¸ ë‹¤ë¥¸ MySQL ì„œë²„ê°€ ë°”ë¡œ ì“°ê¸° ì‘ì—…ì´ ê°€ëŠ¥í•œ ìƒíƒœì´ë¯€ë¡œ ì‘ì—…ì´ ìˆ˜í–‰ë˜ê³  ìˆëŠ” ì„œë²„ì—ì„œ ë¬¸ì œ ë°œìƒ ì‹œ ë³„ë„ì˜ ì„¤ì • ë³€ê²½ ì—†ì´ ë°”ë¡œ ì˜ˆë¹„ìš© ì„œë²„ë¡œ ì“°ê¸° ì‘ì—…ì„ ì „í™˜í•  ìˆ˜ ìˆë‹¤. í•œ ì„œë²„ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ë°”ë¡œ ì“°ê¸°ê°€ ì „í™œë  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©ëœë‹¤. ACTIVE-ACTIVE ë‘ ì„œë²„ ëª¨ë‘ì— ì“°ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” í˜•íƒœì´ë‹¤.\nì£¼ë¡œ ì§€ë¦¬ì ìœ¼ë¡œ ë§¤ìš° ë–¨ì–´ì§„ ìœ„ì¹˜ì—ì„œ ìœ ì…ë˜ëŠ” ì“°ê¸° ìš”ì²­ë„ ì›í™œí•˜ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. ê° ì§€ì—­ì— ìœ„ì¹˜í•œ MySQL ì„œë²„ë¡œ ìˆ˜í–‰ë˜ê²Œ ë” êµ¬í˜„í•˜ì—¬ ì²˜ë¦¬í•˜ë©°, ìµœì¢…ì ìœ¼ë¡œ ê°™ì€ ë°ì´í„°ë“¤ì„ ê°–ê²Œ ëœë‹¤. í•˜ì§€ë§Œ ë³µì œë¥¼ í†µí•´ ë‹¤ë¥¸ ì§€ì—­ì˜ ì„œë²„ë¡œë¶€í„° ë„˜ì–´ì˜¨ íŠ¸ëœì­ì…˜ì´ ì ìš©ë˜ê¸°ê¹Œì§€ëŠ” ë‹¤ì†Œ ì‹œê°„ì´ ê±¸ë ¤ ì ìš© ì „ê¹Œì§€ ì¼ê´€ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ì£¼ì˜ì‚¬í•­ ë™ì¼í•œ ë°ì´í„°ë¥¼ ê° ì„œë²„ì—ì„œ ë³€ê²½ ë‘ ì„œë²„ ëª¨ë‘ì—ì„œ ì“°ê¸°ê°€ ë°œí–‰í•˜ëŠ” ACTIVE-ACTIVE í˜•íƒœ ë™ì¼í•œ ë°ì´í„°ì— ëŒ€í•œ ë³€ê²½ íŠ¸ëœì­ì…˜ì´ ì„œë²„ì— ë™ì‹œì ì— ìœ ì…ë˜ëŠ” ê²½ìš° ë‚˜ì¤‘ì— ì²˜ë¦¬ëœ íŠ¸ëœì­ì…˜ì˜ ë‚´ìš©ì´ ìµœì¢…ì ìœ¼ë¡œ ë°˜ì˜í•¨ ì´ëŸ¬í•œ ê²½ìš° ì˜ˆìƒí•˜ì§€ ëª»í•œ ë°©í–¥ìœ¼ë¡œ ë°ì´í„°ê°€ ì²˜ë¦¬ë  ìˆ˜ ìˆìŒ í…Œì´ë¸”ì—ì„œ Auto-Increment ì‚¬ìš© ê±°ì˜ ë™ì¼í•œ ì‹œì ì— ìƒˆë¡œìš´ ë°ì´í„°ê°€ ê° ì„œë²„ë¡œ ìœ ì…ë˜ì—ˆì„ ë•Œ ê°™ì€ í‚¤ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ACTIVE-ACTIVE í˜•íƒœì—ì„œëŠ” ë™ì‹œì ì— ë™ì¼í•œ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” íŠ¸ëœì­ì…˜ì´ ìˆì–´ì„œëŠ” ì•ˆë˜ë©°, í…Œì´ë¸”ì˜ Auto-Increment í‚¤ ì‚¬ìš©ì„ ì§€ì–‘í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì—ì„œ ê¸€ë¡œë²Œí•˜ê²Œ ê°’ì„ ìƒì„±í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nACTIVE-PASSIVE í˜•íƒœë¼ë„ë™ì‹œì— ì“°ê¸° ìš”ì²­ì´ ìœ ì…ëœë‹¤ë©´ ë°œìƒí•œë‹¤.\në©€í‹° ì†ŒìŠ¤ ë³µì œ êµ¬ì„± ë©€í‹° ì†ŒìŠ¤ ë³µì œ êµ¬ì„±ì€ í•˜ë‚˜ì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ë‘˜ ì´ìƒì˜ ì†ŒìŠ¤ ì„œë²„ë¥¼ ê°–ëŠ” í˜•íƒœë¥¼ ë§í•œë‹¤.\nflowchart TD a[(ì†ŒìŠ¤ ì„œë²„ 1)] b[(ì†ŒìŠ¤ ì„œë²„ 2)] c[(ì†ŒìŠ¤ ì„œë²„ 3)] d[(ì†ŒìŠ¤ ì„œë²„ 4)] e[(ë ˆí”Œë¦¬ì¹´ ì„œë²„)] a--\u003ee b--\u003ee c--\u003ee d--\u003ee ë©€í‹° ì†ŒìŠ¤ ë³µì œ ê¸°ëŠ¥ì€ MySQL 5.7.6 ë²„ì „ì—ì„œ ì²˜ìŒ ë„ì…ë˜ì—ˆìœ¼ë©°, ë‹¤ìŒê³¼ ê°™ì€ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.\nì—¬ëŸ¬ MySQL ì„œë²„ì— ì¡´ì¬í•˜ëŠ” ê°ê¸° ë‹¤ë¥¸ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ MySQL ì„œë²„ë¡œ í†µí•© ë°ì´í„° ë¶„ì„ ê°™ì€ ê²½ìš° ì¡°ê¸ˆ ë” ë¹ ë¥´ê³  í¸ë¦¬í•˜ê²Œ ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³ ì í•  ë•Œ ë©€í‹° ì†ŒìŠ¤ ë³µì œ í˜•íƒœë¥¼ ì‚¬ìš©í•˜ë©´ íš¨ê³¼ì ì´ë‹¤. ì—¬ëŸ¬ MySQL ì„œë²„ì— ìƒ¤ë”©ë¼ ìˆëŠ” í…Œì´ë¸” ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ í…Œì´ë¸”ë¡œ í†µí•© ëŠ˜ì–´ë‚  ì„œë¹„ìŠ¤ íŠ¸ë˜í”½ì— ëŒ€ë¹„í•´ ì„œë²„ë“¤ì„ ë™ì¼í•œ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ êµ¬ì¡°ë¥¼ ê°€ì§€ëŠ” ìƒ¤ë“œ í˜•íƒœë¡œ êµ¬ì„±í–ˆì§€ë§Œ íŠ¸ë˜í”½ì´ ìœ ì…ë˜ì§€ ì•Šì€ ê²½ìš° ë©€í‹° ì†ŒìŠ¤ ë³µì œë¥¼ êµ¬ì„±í•˜ì—¬ ìƒ¤ë”©ëœ í…Œì´ë¸”ë“¤ì˜ ë°ì´í„°ë¥¼ í†µí•©í•´ MySQL ì„œë²„ ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ MySQL ì„œë²„ì— ë°ì´í„°ë“¤ì„ ëª¨ì•„ í•˜ë‚˜ì˜ MySQL ì„œë²„ì—ì„œ ë°±ì—…ì„ ìˆ˜í–‰ ë‹¤ìˆ˜ì˜ ì„œë²„ì˜ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ ì„œë²„ì—ì„œ ë°±ì—…í•˜ê³ ì í•  ë•Œë„ ë©€í‹° ì†ŒìŠ¤ ë³µì œ êµ¬ì„±ì„ í†µí•´ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ë©€í‹° ì†ŒìŠ¤ ë³µì œ í˜•íƒœë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ê° ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ìœ ì…ë˜ëŠ” ë³€ê²½ ì´ë²¤íŠ¸ë“¤ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ë³µì œë˜ì—ˆì„ ë•Œ ì„œë¡œ ì¶©ëŒì„ ì¼ìœ¼í‚¬ ë§Œí•œ ë¶€ë¶„ì´ ì—†ëŠ”ì§€ ì‚¬ì „ì— ì¶©ë¶„í•œ ê²€í† ê°€ í•„ìš”í•˜ë‹¤.\në©€í‹° ì†ŒìŠ¤ ë³µì œì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ê° ì†ŒìŠ¤ ì„œë²„ë“¤ì˜ ëŒ€ì²´ ì„œë²„ë¡œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ì–´ë ¤ì›€ì´ ìˆìœ¼ë¯€ë¡œ ì¥ì•  ëŒ€ë¹„ìš© ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ë©€í‹° ì†ŒìŠ¤ê°€ ì•„ë‹Œ ê° ì†ŒìŠ¤ ì„œë²„ì™€ ì¼ëŒ€ì¼ ë³µì œë¡œ ì—°ê²°ëœ ë³„ë„ì˜ ì„œë²„ë¡œ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në©€í‹° ì†ŒìŠ¤ ë³µì œ ë™ì‘ ë©€í‹° ì†ŒìŠ¤ ë³µì œì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ìì‹ ê³¼ ì—°ê²°ëœ ì†ŒìŠ¤ ì„œë²„ë“¤ì˜ ë³€ê²½ ì´ë²¤íŠ¸ë“¤ì„ ë™ì‹œì ì— ë³‘ë ¬ë¡œ ë™ê¸°í™”í•œë‹¤.\nê° ì†ŒìŠ¤ ì„œë²„ë“¤ì— ëŒ€í•œ ë³µì œê°€ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ë©°, ê°ê°ì˜ ë…ë¦½ëœ ë³µì œ ì²˜ë¦¬ë¥¼ ì±„ë„(Channel)ì´ë¼ê³  í•œë‹¤.\nê° ë³µì œ ì±„ë„ì€ ê°œë³„ì ì¸ ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œ, ë¦´ë ˆì´ ë¡œê·¸, ë ˆí”Œë¦¬ì¼€ì´ì…˜ SQL ìŠ¤ë ˆë“œë¥¼ ê°€ì§€ë©°, ì±„ë„ì˜ ì´ë¦„ì€ ì–´ëŠ ì†ŒìŠ¤ ì„œë²„ì™€ì˜ ë³µì œì—°ê²°ì¸ì§€ë¥¼ êµ¬ë³„í•  ìˆ˜ ìˆëŠ” ì‹ë³„ì ì—­í• ì„ í•œë‹¤.\nìµœëŒ€ 256ê°œ ë³µì œ ì±„ë„ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤.\në©€í‹° ì†ŒìŠ¤ ë³µì œ êµ¬ì¶• ê¸°ì¡´ì˜ ë‹¨ì¼ ì†ŒìŠ¤ ë³µì œì™€ ë‹¬ë¦¬ êµ¬ì¶•í•˜ëŠ” ê³¼ì •ì— í° ì°¨ì´ê°€ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.\në³µì œë¥¼ ì—°ê²°í•˜ê¸° ìœ„í•´ ì†ŒìŠ¤ ì„œë²„ë“¤ì˜ ë°±ì—… ë°ì´í„°ë¥¼ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ì ì¬í•´ì•¼ í•˜ëŠ”ë°, ê¸°ì¡´ê³¼ ë‹¬ë¦¬ ì—¬ëŸ¬ ëŒ€ì˜ ì†ŒìŠ¤ ì„œë²„ì˜ ë°±ì—… ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ë¯€ë¡œ ì´ë¶€ë¶„ì˜ ì‘ì—…ì´ ì¡°ê¸ˆ ë²ˆê±°ë¡­ê³  ê¹Œë‹¤ë¡­ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆë‹¤.\n","date":"2023-09-07T12:47:10+09:00","image":"https://codemario318.github.io/post/real-mysql/16/6/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/16/6/","title":"16.6 ë³µì œ - ë³µì œ í† í´ë¡œì§€"},{"content":"MySQL ì„œë²„ì—ì„œëŠ” ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ê°„ì˜ ë³µì œ ë™ê¸°í™”ì— ëŒ€í•´ ë‘ê°€ì§€ ë°©ì‹ì„ ì œê³µí•œë‹¤.\në¹„ë™ê¸° ë³µì œ(Asynchronous replication): ì˜¤ë˜ì „ë¶€í„° ì‚¬ìš©ë˜ì–´ì™”ë‹¤. ë°˜ë™ê¸° ë³µì œ(Semi-synchronous replication): MySQL 5.5 ë²„ì „ë¶€í„° ë„ì…ë˜ì—ˆë‹¤. ë¹„ë™ê¸° ë³µì œ MySQL ë³µì œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.\në¹„ë™ê¸° ë°©ì‹ì´ë€ ì†ŒìŠ¤ ì„œë²„ê°€ ìì‹ ê³¼ ë³µì œ ì—°ê²°ëœ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë³€ê²½ ì´ë²¤íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ì „ë‹¬ë˜ì–´ ì ìš©ëëŠ”ì§€ë¥¼ í™•ì¸í•˜ì§€ ì•ŠëŠ”ë‹¤.\nì†ŒìŠ¤ ì„œë²„ì—ì„œ ì»¤ë°‹ëœ íŠ¸ëœì­ì…˜ì€ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ë˜ë©°, ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ì‹ ê·œ íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì†ŒìŠ¤ ì„œë²„ì— ìš”ì²­í•œë‹¤.\në¹„ë™ê¸° ë³µì œ ë°©ì‹ì—ì„œ ì†ŒìŠ¤ ì„œë²„ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ë³€ê²½ ì´ë²¤íŠ¸ê°€ ì˜ ì „ë‹¬ëëŠ”ì§€, ì‹¤ì œë¡œ ì ìš©ëëŠ”ì§€ ì•Œì§€ ëª»í•˜ë©° ì´ì— ëŒ€í•œ ì–´ë– í•œ ë³´ì¥ë„ í•˜ì§€ ì•ŠëŠ”ë‹¤.\nì´ë¡œ ì¸í•´ ì†ŒìŠ¤ ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ìµœê·¼ê¹Œì§€ ì ìš©ëœ íŠ¸ëœì­ì…˜ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•Šì•„ ëˆ„ë½ëœ íŠ¸ëœì­ì…˜ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\në§Œì•½ ì†ŒìŠ¤ ì„œë²„ ì¥ì• ë¡œ ì¸í•´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ ìƒˆë¡œìš´ ì†ŒìŠ¤ ì„œë²„ë¡œ ìŠ¹ê²©ì‹œí‚¤ëŠ” ê²½ìš° ì‚¬ìš©ìëŠ” ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ì „ë‹¬ë°›ì§€ ëª»í•œ íŠ¸ëœì­ì…˜ì´ ìˆëŠ”ì§€ ì§ì ‘ í™•ì¸í•˜ê³  ê·¸ëŸ° ê²ƒë“¤ì´ ìˆë‹¤ë©´ í•„ìš” ì‹œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ìˆ˜ë™ìœ¼ë¡œ ë‹¤ì‹œ ì ìš©í•´ì•¼ í•œë‹¤.\nì´ì²˜ëŸ¼ ë¹„ë™ê¸° ë³µì œëŠ” ì†ŒìŠ¤ ì„œë²„ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ë™ê¸°í™” ì—¬ë¶€ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ ê°€ì¥ í° ë‹¨ì ì´ì§€ë§Œ ì†ŒìŠ¤ ì„œë²„ê°€ ê° íŠ¸ëœì­ì…˜ì— ëŒ€í•´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ì „ì†¡ë˜ëŠ” ë¶€ë¶„ì„ ê³ ë ¤í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ëª‡ê°€ì§€ ì¥ì ì´ ìˆë‹¤.\níŠ¸ëœì­ì…˜ ì²˜ë¦¬ì‹œ ì¢€ ë” ë¹ ë¥¸ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤. ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ë¬¸ì œê°€ ìƒê¸°ë”ë¼ë„ ì†ŒìŠ¤ ì„œë²„ì—ëŠ” ì•„ë¬´ëŸ° ì˜í–¥ë„ ë°›ì§€ ì•ŠëŠ”ë‹¤. ë¹„ë™ê¸° ë³µì œ ë°©ì‹ì€ ì†ŒìŠ¤ ì„œë²„ì— ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ ì—¬ëŸ¬ ëŒ€ ì—°ê²°í•œë‹¤ê³  í•´ë„ ì†ŒìŠ¤ ì„œë²„ì—ì„œ í° ì„±ëŠ¥ ì €í•˜ê°€ ì—†ë‹¤. 10ëŒ€ ì´ìƒ ì—°ê²°í•˜ëŠ” ê²½ìš° ì„±ëŠ¥ ì €í•˜ê°€ ìˆì„ ìˆ˜ ìˆë‹¤. ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ë¬´ê±°ìš´ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì–´ ì„±ëŠ¥ ì €í•˜ê°€ ìˆë”ë¼ë„ ì†ŒìŠ¤ ì„œë²„ì™€ëŠ” ê´€ê³„ê°€ ì—†ìœ¼ë¯€ë¡œ ë¶„ì„ ìš©ë„ ë“±ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì¢‹ë‹¤. ì´ëŸ¬í•œ ì¥ì ìœ¼ë¡œ ì¸í•´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ í™•ì¥í•´ì„œ ì½ê¸° íŠ¸ë˜í”½ì„ ë¶„ì‚°í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•˜ê¸° ì í•©í•˜ë‹¤.\në°˜ë™ê¸° ë³µì œ ë°˜ë™ê¸° ë³µì œëŠ” ë¹„ë™ê¸° ë³µì œë³´ë‹¤ ì¢€ ë” í–¥ìƒëœ ë°ì´í„° ë¬´ê²°ì„±ì„ ì œê³µí•˜ëŠ” ë³µì œ ë™ê¸°í™” ë°©ì‹ì´ë‹¤.\nì†ŒìŠ¤ ì„œë²„ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ë³´ëƒ„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì „ë‹¬ë°›ì€ ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ë¦´ë ˆì´ ë¡œê·¸ì— ê¸°ë¡ í›„ ì‘ë‹µ(ACK)ì„ ë³´ëƒ„ ì†ŒìŠ¤ ì„œë²„ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ê²Œ ì‘ë‹µì„ ë°›ìœ¼ë©´ íŠ¸ëœì­ì…˜ì„ ì™„ì „íˆ ì»¤ë°‹ í´ë¼ì´ì–¸íŠ¸ì— ê²°ê³¼ë¥¼ ë°˜í™˜ ì´ëŸ¬í•œ ê³¼ì •ì„ í†µí•´ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì»¤ë°‹ë˜ì–´ ì •ìƒì ìœ¼ë¡œ ê²°ê³¼ê°€ ë°˜í™˜ëœ ëª¨ë“  íŠ¸ëœì­ì…˜ë“¤ì— ëŒ€í•´ ì ì–´ë„ í•˜ë‚˜ì˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ëŠ” í•´ë‹¹ íŠ¸ëœì­ì…˜ë“¤ì´ ì „ì†¡ë˜ì—ˆìŒì„ ë³´ì¥í•œë‹¤.\ní•˜ì§€ë§Œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì „ì†¡ì´ ë˜ì—ˆìŒì„ ë³´ì¥í•œë‹¤ëŠ” ê²ƒì´ì§€, ì‹¤ì œë¡œ ë³µì œëœ íŠ¸ëœì­ì…˜ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì ìš©ëœ ê²ƒê¹Œì§€ ë³´ì¥í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.\në°˜ë™ê¸° ë³µì œì—ì„œëŠ” ì†ŒìŠ¤ ì„œë²„ê°€ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ì¤‘ ì–´ëŠ ì§€ì ì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠëƒì— ë”°ë¼ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì¥ì• ê°€ ë°œìƒí–ˆì„ ë•Œ ì‚¬ìš©ìê°€ ê²ªì„ ìˆ˜ ìˆëŠ” ë¬¸ì œ ìƒí™©ì´ ì¡°ê¸ˆ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ìëŠ” rpl_semi_sync_master_wait_point ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ ì†ŒìŠ¤ ì„œë²„ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ì§€ì ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤.\nAFTER_SYNC:\nì†ŒìŠ¤ ì„œë²„ì—ì„œëŠ” ê° íŠ¸ëœì­ì…˜ì„ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•˜ê³  ë‚œ í›„ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì»¤ë°‹í•˜ê¸° ì „ ë‹¨ê³„ì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ê²Œ ëœë‹¤. ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œë¶€í„° ì •ìƒì ìœ¼ë¡œ ì‘ë‹µì´ ë‚´ë ¤ì˜¤ë©´ ì†ŒìŠ¤ ì„œë²„ëŠ” ê·¸ë•Œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì»¤ë°‹í•´ì„œ íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ì™„ì „íˆ ëë‚´ê³  íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•œ í´ë¼ì´ì–¸íŠ¸ì— ê·¸ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. AFTER_COMMIT\nì†ŒìŠ¤ ì„œë²„ì—ì„œ íŠ¸ëœì­ì…˜ì„ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•˜ê³  ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œì˜ ì»¤ë°‹ë„ ì§„í–‰í•˜ê³  ë‚˜ì„œ ìµœì¢…ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì— ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ì „ì— ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦°ë‹¤. ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œë¶€í„° ì‘ë‹µì´ ë‚´ë ¤ì˜¤ë©´ ê·¸ë•Œ í´ë¼ì´ì–¸íŠ¸ëŠ” ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì–»ê³  ê·¸ ë‹¤ìŒ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì²˜ìŒ ë°˜ë™ê¸° ë³µì œê°€ ë„ì…ëì„ ë•ŒëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì»¤ë°‹ê¹Œì§€ ì™„ë£Œ í›„ ëŒ€ê¸°í•˜ëŠ” AFTER_COMMIT ë°©ì‹ìœ¼ë¡œë§Œ ë™ì‘í–ˆìœ¼ë‚˜, MySQL 5.7 ë²„ì „ì—ì„œ AFTER_SYNC ë°©ì‹ì´ ë„ì…ëœ í›„ MySQL 8.0 ë²„ì „ì—ì„œ ê¸°ë³¸ ë™ì‘ ë°©ì‹ìœ¼ë¡œ ì±„íƒë˜ì—ˆë‹¤.\nAFTER_SYNCì™€ AFTER_COMMIT ë¹„êµ AFTER_SYNC ë°©ì‹ì€ AFTER_COMMITë³´ë‹¤ ë¬´ê²°ì„±ì´ ê°•í™”ëœ ë°©ì‹ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ìˆë‹¤.\níŒ¬í…€ ë¦¬ë“œ AFTER_COMMITì—ì„œëŠ” íŠ¸ëœì­ì…˜ì´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì»¤ë°‹ê¹Œì§€ ì²˜ë¦¬ëœ í›„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ”ë°, ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì»¤ë°‹ê¹Œì§€ ì™„ë£Œëœ ë°ì´í„°ëŠ” ë‹¤ë¥¸ ì„¸ì…˜ì—ì„œë„ ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤.\në”°ë¼ì„œ ì†ŒìŠ¤ ì„œë²„ê°€ ì–´ë–¤ íŠ¸ëœì­ì…˜ì— ëŒ€í•´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì»¤ë°‹ í›„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œë¶€í„° ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ìƒí™©ì—ì„œ ì†ŒìŠ¤ ì„œë²„ì˜ ì¥ì• ê°€ ë°œìƒí•œ ê²½ìš°, ì‚¬ìš©ìëŠ” ì´í›„ ìƒˆë¡œìš´ ì†ŒìŠ¤ ì„œë²„ë¡œ ìŠ¹ê²©ëœ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ìì‹ ì´ ì´ì „ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì¡°íšŒí–ˆë˜ ë°ì´í„°ë¥¼ ë³´ì§€ ëª»í•  ìˆ˜ë„ ìˆë‹¤.\nAFTER_SYNCëŠ” ì†Œí† ë¦¬ì§€ ì—”ì§„ ì»¤ë°‹ ì „ì— ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ë¯€ë¡œ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ë˜ ì¤‘ì— ì†ŒìŠ¤ ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ íŒ¬í…€ ë¦¬ë“œ í˜„ìƒì„ ê²ªì§€ ì•Šê²Œ í•œë‹¤.\nì¥ì•  ë³µêµ¬ AFTER_COMMITì€ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì»¤ë°‹ë˜ì—ˆìœ¼ë‚˜ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ë³µì œëŠ” ë˜ì§€ ì•Šì€ ìƒí™©ì—ì„œ ì¥ì• ê°€ ë°œìƒí•œ ì†ŒìŠ¤ ì„œë²„ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì‚¬ìš©ìê°€ ìˆ˜ë™ìœ¼ë¡œ íŠ¸ëœì­ì…˜ë“¤ì„ ë¡¤ë°±ì‹œì¼œì•¼í•œë‹¤.\nAFTER_SYNC ë°©ì‹ì€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ë³µì œë˜ì§€ ì•Šì•˜ì§€ë§Œ ì†ŒìŠ¤ ì„œë²„ì—ëŠ” ì»¤ë°‹ë˜ì–´ ì‹¤ì œ ë°ì´í„°ì— ë°˜ì˜ëœ íŠ¸ëœì­ì…˜ë“¤ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³„ë„ ë¡¤ë°± ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.\në°˜ë™ê¸° ë³µì œë¼ í•˜ë”ë¼ë„ ì†ŒìŠ¤ ì„œë²„ì— ì¥ì• ê°€ ë°œìƒí–ˆì„ ë•Œ ì†ŒìŠ¤ ì„œë²„ì˜ ë°ì´í„°ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ë°ì´í„°ê°€ ë‹¬ë¼ì§€ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¥ì• ê°€ ë°œìƒí•œ ì†ŒìŠ¤ ì„œë²„ë¥¼ ë°”ë¡œ ì¬ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.\nìœ ì…ëœ íŠ¸ëœì­ì…˜ì˜ ìˆ˜ê°€ ë§ë‹¤ë©´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ íŠ¸ëœì­ì…˜ ë°˜ì˜ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì€ ê±°ì˜ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ, ë°±ì—…ëœ ë°ì´í„°ë¥¼ ìƒˆë¡œ êµ¬ì¶•í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì„±ëŠ¥ ë° ì£¼ì˜ì‚¬í•­ ë°˜ë™ê¸° ë³µì œëŠ” íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ì¤‘ì— ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ë¯€ë¡œ ë¹„ë™ê¸° ë°©ì‹ê³¼ ë¹„êµí–ˆì„ ë•Œ íŠ¸ëœì­ì…˜ì˜ ì²˜ë¦¬ ì†ë„ê°€ ë” ëŠë¦´ ìˆ˜ ìˆë‹¤. ìµœì†Œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ì‘ë‹µì„ ìš”ì²­í•˜ê³  ì „ë‹¬ë°›ê¸° ê¹Œì§€ì˜ ë„¤íŠ¸ì›Œí¬ ì™•ë³µ ì‹œê°„ë§Œí¼ ë” ê±¸ë¦¼ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì‘ë‹µì´ ëŠ¦ì–´ì§€ëŠ” ê²½ìš° ë” í° ì§€ì—° ë°œìƒ ì´ì²˜ëŸ¼ ë„¤íŠ¸ì›Œí¬ í†µì‹ ìœ¼ë¡œ ì¸í•œ ì§€ì—°ì„ ì˜ˆë°©í•˜ê¸° ìœ„í•´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ë¬¼ë¦¬ì ìœ¼ë¡œ ê°€ê¹ê²Œ ìœ„ì¹˜í•˜ëŠ”ê²Œ ìœ ë¦¬í•  ìˆ˜ ìˆë‹¤. ì†ŒìŠ¤ ì„œë²„ì—ì„œ ì„¤ì •ëœ íƒ€ì„ì•„ì›ƒ ì‹œê°„ì„ ì´ˆê³¼í•˜ë©´ ìë™ìœ¼ë¡œ ë¹„ë™ê¸° ë³µì œ ë°©ì‹ìœ¼ë¡œ ì „í™˜í•œë‹¤. ë°˜ë™ê¸° ë³µì œ ì„¤ì • ë°©ë²• MySQL ì„œë²„ì—ì„œ ë°˜ë™ê¸° ë³µì œ ê¸°ëŠ¥ì€ í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ êµ¬í˜„ë¼ ìˆìœ¼ë¯€ë¡œ ì´ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € ê´€ë ¨ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 /* ì†ŒìŠ¤ ì„œë²„ */ INSTALL PLUGIN rpl_semi_sync_master SONAME \u0026#39;semisync_mastser.so\u0026#39;; /* ë ˆí”Œë¦¬ì¹´ ì„œë²„ */ INSTALL PLUGIN rpl_semi_sync_slave SONAME \u0026#39;semisync_slave.so\u0026#39;; í”ŒëŸ¬ê·¸ì¸ì´ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ëëŠ”ì§€ëŠ” information_schema.PLUGINS í…Œì´ë¸”ì„ ì¡°íšŒí•˜ê±°ë‚˜ SHOW PLUGINS ëª…ë ¹ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 SELECT PLUGIN_NAME, PLUGIN_STATUS FROM information_schema.PLUGINS WHERE PLUGIN_NAME LIKE \u0026#39;%semi%\u0026#39;; SHOW PLUGINS; ë°˜ë™ê¸° ë³µì œ ì‚¬ìš©ì„ ìœ„í•´ ê´€ë ¨ ì‹œìŠ¤í…œ ë³€ìˆ˜ë“¤ì„ ì ì ˆíˆ ì„¤ì •í•´ì•¼ í•˜ëŠ”ë°, ì´ ì‹œìŠ¤í…œ ë³€ìˆ˜ë“¤ì€ í”ŒëŸ¬ê·¸ì¸ì´ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ëœ ì´í›„ SHOW GLOBAL VARIABLES ëª…ë ¹ ë“±ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nrpl_semi_sync_master_enabled: ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°˜ë™ê¸° ë³µì œ í™œì„±í™” ì—¬ë¶€ë¥¼ ì œì–´í•œë‹¤. ON(1), OFF(0) rpl_semi_sync_master_timeout: ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ëŠ” ì‹œê°„ìœ¼ë¡œ, ë°€ë¦¬ì´ˆ ë‹¨ìœ„ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì´ ì§€ì •ëœ ì‹œê°„ì„ ì´ˆê³¼í•˜ë©´ ë¹„ë™ê¸° ë³µì œë¡œ ì „í™˜í•œë‹¤. ê¸°ë³¸ê°’: 10000 (10ì´ˆ) rpl_semi_sync_master_trace_level: ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°˜ë™ê¸° ë³µì œì— ëŒ€í•´ ë””ë²„ê¹… ì‹œ ì¶œë ¥ë˜ëŠ” ë¡œê·¸ ìˆ˜ì¤€ì— ëŒ€í•œ ë ˆë²¨ì„ ì§€ì •í•œë‹¤. 1, 16, 32, 64 ì§€ì • ê°€ëŠ¥ rpl_semi_sync_master_wait_for_slave_count: ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°˜ë“œì‹œ ì‘ë‹µì„ ë°›ì•„ì•¼í•˜ëŠ” ë ˆí”Œë¦¬ì¹´ ìˆ˜ë¥¼ ê²°ì •í•œë‹¤. ê¸°ë³¸ê°’: 1, ì„¤ì • ê°€ëŠ¥ ê°’: 1 ~ 655535 ì‘ë‹µì„ ë°›ì•„ì•¼ í•˜ëŠ” ë ˆí”Œë¦¬ì¹´ ìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ì†ŒìŠ¤ ì„œë²„ì—ì„œì˜ ì²˜ë¦¬ ì„±ëŠ¥ì€ ì €í•˜ë  ìˆ˜ ìˆë‹¤. rpl_semi_sync_master_wait_no_slave: ì„¤ì •ëœ íƒ€ì„ì•„ì›ƒ ì‹œê°„ ë™ì•ˆ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°˜ë™ê¸° ë³µì œë¡œ ì—°ê²°ëœ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ìˆ˜ê°€ ì§€ì •ëœ ìˆ˜ ë³´ë‹¤ ì ì–´ì¡Œì„ ë•Œ ì–´ë–»ê²Œ ì²˜ë¦¬í• ê²ƒì¸ì§€ ê²°ì •í•œë‹¤. ON(1): ë°˜ë™ê¸° ë³µì œë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€, OFF(0): ì¦‰ì‹œ ë¹„ë™ê¸° ë³µì œë¡œ ì „í™˜ rpl_semi_sync_master_wait_point: ì†ŒìŠ¤ ì„œë²„ê°€ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë‹¨ê³„ ì¤‘ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì‘ë‹µì„ ëŒ€ê¸°í•˜ëŠ” ì§€ì ì„ ì„¤ì •.(AFFTER_SYNC(ê¸°ë³¸ê°’), AFFTER_COMMIT) rpl_semi_sync_slave_enabled: ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë°˜ë™ê¸° í™œì„±í™” ì—¬ë¶€ë¥¼ ì œì–´. ON(1), OFF(0) rpl_semi_sync_slave_trace_level: ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë°˜ë™ê¸° ë³µì œì— ëŒ€í•œ ë””ë²„ê¹… ìˆ˜ì¤€ ë ˆë²¨ì„ ì„¤ì •í•œë‹¤. 1, 16, 32, 64 ì§€ì • ê°€ëŠ¥ rpl_semi_sync_master_wait_point ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” MySQL 5.7.2 ë²„ì „ì—ì„œ AFFTER SYNC ë°©ì‹ì´ ë„ì…ë˜ë©° ì¶”ê°€ëœ ë³€ìˆ˜ë¡œ, ì´ì „ ë²„ì „ê³¼ ì´í›„ ë²„ì „ ê°„ì˜ ë°˜ë™ê¸° ë³µì œì‹œ ì„¤ì •ì‹œ ë°˜ë™ê¸° ë³µì œê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ê¸°ì¡´ì— ë³µì œê°€ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœë¼ë©´ ë°˜ë™ê¸° ë³µì œ ì ìš©ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œë¥¼ ì¬ì‹œì‘ í•´ì•¼í•œë‹¤.\në°˜ë™ê¸° ë³µì œê°€ ì˜ ì ìš©ë˜ì—ˆëŠ”ì§€ëŠ” SHOW GLOBAL STATUS ëª…ë ¹ì„ í†µí•´ í™•ì¼í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-09-06T12:47:10+09:00","image":"https://codemario318.github.io/post/real-mysql/16/5/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/16/5/","title":"16.5 ë³µì œ - ë³µì œ ë™ê¸°í™” ë°©ì‹"},{"content":"ê°œìš” ì´ë²ˆì—ëŠ” ê¹ƒ ë¸Œëœì¹˜ ì „ëµì„ ë°”íƒ•ìœ¼ë¡œ ê¹ƒ ë¸Œëœì¹˜ë¥¼ êµ¬ì„±í•´ë³´ê³ , ì´ì— ë§ëŠ” CI/CDë¥¼ êµ¬ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.\nì´ì „ ì§ì¥ì—ì„œëŠ” Git flow ë¸Œëœì¹˜ ì „ëµê³¼ Gitlab flow ë¸Œëœì¹˜ ì „ëµê³¼ ìœ ì‚¬í•œ ë°©ì‹ìœ¼ë¡œ ë¸Œëœì¹˜ë¥¼ ìš´ìš©í–ˆìŠµë‹ˆë‹¤.\nê´€ë ¨ ë¬¸ì„œì—ëŠ” Git flow ë¸Œëœì¹˜ ì „ëµìœ¼ë¡œ êµ¬ì„±í–ˆë‹¤ê³  ë˜ì–´ìˆì—ˆëŠ”ë°, ì§€ì†ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ì„œ ê°œë°œìë“¤ì´ í¸í•˜ê²Œ ëŠë¼ëŠ” ë°©ì‹ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ë°”ë€ ë“¯ í–ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  Gitlab CI/CDë¥¼ í†µí•´ CI/CDê°€ êµ¬ì„±ë˜ì–´ ìˆì—ˆëŠ”ë°, ì„œë²„ ë¡œì§ì— jQuery ë¿ë§Œ ì•„ë‹ˆë¼ Vue ë“±ì´ í•œ í”„ë¡œì íŠ¸ì— ì¡´ì¬í•˜ëŠ” ì¡°ê¸ˆ ë³µì¡í•œ ëª¨ë†€ë¦¬ì‹ êµ¬ì¡°ì—ì„œ Vueë¥¼ ì§ì ‘ ë¹Œë“œí•´ì„œ í‘¸ì‹œí•˜ëŠ” ê²ƒì´ ë„ˆë¬´ ë¶ˆí¸í•´ì„œ ê´€ë ¨ ì‘ì—…ì„ í–ˆì—ˆìŠµë‹ˆë‹¤.\nCI/CDê°€ ì˜¨í”„ë ˆë¯¸ìŠ¤ í™˜ê²½ì—ì„œ ì´ë¯¸ êµ¬ì¶•ë˜ì–´ìˆë˜ ìš´ì˜, í…ŒìŠ¤íŠ¸, ê°œë°œ í™˜ê²½ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ê¹ƒ ì „í™˜ ì „(3~4ë…„ ì „?) SVNì—ì„œ ì‚¬ìš©í•˜ë˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë™ì‘ì‹œí‚¤ëŠ” í˜•íƒœë¡œ ì‚¬ìš©ë˜ê³  ìˆì—ˆëŠ”ë° ìŠ¤í¬ë¦½íŠ¸ê°€ SPA í™œìš©ì„ ê³ ë ¤í•˜ì§€ ì•Šì•˜ê³ , ë§ì´ ë³µì¡í•´ì„œ ê³ ìƒí–ˆì—ˆë˜ ê¸°ì–µì´ ë‚˜ë„¤ìš”.\n8ë…„ ë™ì•ˆ ì œëŒ€ë¡œ ì§„í–‰í•˜ì§€ ëª»í•œ íšŒì‚¬ì˜ ê³„íšì¸ ì–¸ì–´ ì „í™˜ì„ ìœ„í•´ MSAë¡œ êµ¬ì¡°ë¥¼ ë³€ê²½í•´ì•¼í•œë‹¤ëŠ” ì˜ê²¬ì„ í”¼ë ¥í–ˆì—ˆìŠµë‹ˆë‹¤.\nì´ë¥¼ ìœ„í•´ MSA êµ¬ì¡° ë³€ê²½ì„ ìœ„í•œ ì»¨í…Œì´ë„ˆ ì¸í”„ë¼ì—ì„œ ê°œë°œ, í…ŒìŠ¤íŠ¸, ìš´ì˜ í™˜ê²½ì„ ì–´ë–»ê²Œ ë°°í¬í•´ì•¼ í• ê¹Œ, CI/CDëŠ” ì–´ë–»ê²Œ êµ¬ì„±í•˜ë©´ ì¢‹ì„ê¹Œ ê³ ë¯¼í–ˆì—ˆëŠ”ë° í‡´ì‚¬ ê¸°ë…ìœ¼ë¡œ í•œë²ˆ ì •ë¦¬í•´ë³´ê³  ì§ì ‘ êµ¬ì„±í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\nGitlab CI/CD ì‘ì—…í•  ë•Œ ìë£Œê°€ ë§ì´ ì—†ì–´ ê³ ìƒí–ˆë˜ ê¸°ì–µë„ ìˆê³ , ìƒˆë¡œìš´ ë‚´ìš©ì„ ì°ë¨¹í•˜ê¸° ìœ„í•´ ì´ë²ˆì—ëŠ” Jenkinsìœ¼ë¡œ í•´ë³´ê² ìŠµë‹ˆë‹¤.\nê°œë°œ í”„ë¡œì„¸ìŠ¤ ë‹¤ì‹œ ì´ì „ ì§ì¥ ì´ì•¼ê¸°ë¥¼ í•´ë³´ë©´ ê°œë°œ í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤.(git-flow ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.)\nrelease ë¸Œëœì¹˜ì—ì„œ feature ë¸Œëœì¹˜ë¥¼ ìƒì„±í•œë‹¤. CI/CDë¡œ ì˜¨í”„ë ˆë¯¸ìŠ¤ í…ŒìŠ¤íŠ¸ìš© ì„œë²„ë“¤ë¡œ feature ë¸Œëœì¹˜ë¥¼ ë³µì œí•˜ê³  nginx ì„¤ì • ì¶”ê°€ë¥¼ í†µí•´ ê°œë°œ ì„œë²„ë¥¼ ë°°í¬ feature ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•œë‹¤. ê°œë°œìê°€ ì—¬ëŸ¬ ëª… íˆ¬ì…ë˜ë©´ í•œ ë¸Œëœì¹˜ë¥¼ ê°™ì´ ì‚¬ìš© feature ë¸Œëœì¹˜ë¡œ release ë¸Œëœì¹˜ì— ëŒ€í•´ MRì„ ë§Œë“¤ê³  ê°œë°œ í…ŒìŠ¤íŠ¸ì™€ ì„ íƒì ìœ¼ë¡œ ì½”ë“œ ë¦¬ë·°ë¥¼ ì§„í–‰í•œë‹¤. feature ë¸Œëœì¹˜ë¥¼ í†µí•´ ë°°í¬ëœ devlopment, staging, production í™˜ê²½ì—ì„œ QAë¥¼ ì§„í–‰í•œë‹¤. feature ë¸Œëœì¹˜ë¥¼ release ë¸Œëœì¹˜ì— ë¨¸ì§€í•˜ê³  release ë¸Œëœì¹˜ë¥¼ ì´ìš©í•´ devlopment, staging, production í™˜ê²½ì—ì„œ QAë¥¼ ì§„í–‰í•œë‹¤. production í…ŒìŠ¤íŠ¸ ì§„í–‰ì‹œ ì‚¬ìš©ìì—ê²Œ ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆëŠ” í…ŒìŠ¤íŠ¸ëŠ” ê¸ˆì§€ ë§¤ì£¼ í™”, ëª© release ë¸Œëœì¹˜ë¥¼ master ë¸Œëœì¹˜ì™€ ë¨¸ì§€í•œë‹¤. CI/CDë¥¼ í†µí•´ ë°°í¬ ë¬¸ì œ ìœ„ì™€ ê°™ì€ ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¥¼ ê±°ì¹˜ë©´ì„œ ì•„ë˜ì™€ ê°™ì€ ë¶ˆí¸í•¨ì„ ëŠê¼ˆìŠµë‹ˆë‹¤.\nì‘ì—… ì˜ì—­ì´ ë¹„ìŠ·í•œ ê²½ìš°, release ë¸Œëœì¹˜ì—ì„œ ë°œìƒí•œ ì´ìŠˆê°€ ë‚´ê°€ ì‘ì—…í•œ ë¶€ë¶„ ë•Œë¬¸ì— ë°œìƒí•œ ì´ìŠˆì¸ì§€, ë‹¤ë¥¸ featureì—ì„œ ë°œìƒí•œ ì´ìŠˆì¸ì§€ í™•ì¸í•˜ê¸° ê¹Œë‹¤ë¡­ë‹¤. ì‘ì—…ì„ ìµœëŒ€í•œ ê²¹ì¹˜ì§€ ì•Šê²Œ ë°°ì •í•´ì£¼ì‹œê¸´ í–ˆìŠµë‹ˆë‹¤. release ë¸Œëœì¹˜ì— ìƒˆë¡œìš´ featureê°€ ë¨¸ì§€ë˜ë©´ ìƒˆë¡œìš´ ì´ìŠˆê°€ ë°œìƒí•˜ì—¬ ë‹¤ë¥¸ featureì—ë„ ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤. ì¶©ëŒ ì²˜ë¦¬ ì‹¤ìˆ˜, ì‚¬ì´ë“œ ì´í™íŠ¸ ë“± release ë¸Œëœì¹˜ì—ì„œì˜ QA ì‹œë‚˜ë¦¬ì˜¤ê°€ í´ ê²½ìš° ì •ê¸° ë°°í¬ë¡œ ì¸í•´ ì¶©ë¶„íˆ ê²€ì¦í•  ì‹œê°„ì´ ë¶€ì¡±í•  ìˆ˜ ìˆë‹¤. feature ë¸Œëœì¹˜ë“¤ì´ ì˜¨í”„ë ˆë¯¸ìŠ¤ í™˜ê²½ì— ë°°í¬ë˜ì–´ ì§„í–‰ì¤‘ì¸ ì—…ë¬´ê°€ ë§ë‹¤ë©´ ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ê°€ ë¶€ì¡±í•´ì§„ë‹¤. ì €ëŠ” ì´ëŸ¬í•œ ë¬¸ì œì˜ ì›ì¸ì´ featureê°€ í†µí•©ë˜ëŠ” release ë¸Œëœì¹˜ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\në§ì€ íšŒì‚¬ì—ì„œ Git flowë¥¼ ì±„íƒí•˜ì—¬ ë²„ì „ ë³„ release í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ë°©ì‹ì„ ì±„íƒí•˜ê³  ìˆìœ¼ë©°, íŠ¹íˆ feature ë¸Œëœì¹˜ë¥¼ ë§ì´ êµ¬ì„±í•´ì•¼í•˜ëŠ” ê²½ìš° ì´ëŸ¬í•œ ì„ íƒì„ í†µí•´ ë¦¬ìŠ¤í¬ë¥¼ ì¤„ì´ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.\nê°œì¸ì ìœ¼ë¡œ Git flow ë¸Œëœì¹˜ ì „ëµì—ì„œ release ë¸Œëœì¹˜ë¥¼ êµ¬ì„±í•˜ëŠ” ì´ìœ ëŠ” production ë²„ì €ë‹ì´ ê°€ì¥ í¬ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\në§ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì œí’ˆ, ë¼ì´ë¸ŒëŸ¬ë¦¬ì²˜ëŸ¼ ë²„ì „ë§ˆë‹¤ ë§ì€ ë³€ê²½ì„ í•œë²ˆì— ì ìš©í•˜ê³  ì´ì „ ë²„ì „ì„ ê³„ì† ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš° releaseë¥¼ í†µí•´ ì—¬ëŸ¬ ì¥ì ì„ ì·¨í•  ìˆ˜ ìˆì§€ë§Œ ì›¹ ì„œë¹„ìŠ¤ì²˜ëŸ¼ ì‘ì€ ë³€ê²½ ì‚¬í•­ë“¤ì„ ì§€ì†ì ìœ¼ë¡œ ë¹ ë¥´ê²Œ ë°˜ì˜í•´ì•¼ê³ , ì´ì „ ë²„ì „ì´ í° ì˜ë¯¸ê°€ ì—†ëŠ” ê²½ìš° ì´ëŸ¬í•œ ë²„ì €ë‹ì´ ì£¼ëŠ” ì¥ì ì€ í¬ì§€ ì•Šìœ¼ë©° ì˜¤íˆë ¤ ë¶€ì‘ìš©ì´ ë” í¬ë‹¤ê³  ìƒê°ë˜ì—ˆìŠµë‹ˆë‹¤.\nê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì´ì „ ì§ì¥ì—ì„œ ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ë¸Œëœì¹˜ë¥¼ êµ¬ì„±í•œ ì´ìœ ë„ ë‚©ë“ì€ ë©ë‹ˆë‹¤.\ní° ëª¨ë†€ë¦¬ì‹ ë ˆê±°ì‹œë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì´ìŠˆë¥¼ releaseë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆì–´ ì•ˆì‹¬í•  ìˆ˜ ìˆìŒ ë¹„êµì  ìµœê·¼ê¹Œì§€ í™œìš©í–ˆë˜ SVN ê°œë°œ í”„ë¡œì„¸ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ í™œìš©í•˜ê¸° ìœ„í•´ ì˜¨í”„ë ˆë¯¸ìŠ¤ í™˜ê²½ì— ë§ì¶”ì–´ ì‘ì„±ëœ ë³µì¡í•œ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • ë¶€ë‹´ ê¸°ì¡´ ê°œë°œìë“¤ì˜ í•™ìŠµ ë¶€ë‹´ ë“± Github flow Git flowì™€ ê°™ì€ ë³µì¡í•œ ë¸Œëœì¹˜ ì „ëµì„ ë‹¨ìˆœí™” í•˜ê¸° ìœ„í•´ GitHub flowì™€ ì´ë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•œ ì—¬ëŸ¬ ë¸Œëœì¹˜ ì „ëµì´ ì œì•ˆë˜ì—ˆìŠµë‹ˆë‹¤.\nGithub flowëŠ” Githubì—ì„œ ì œì•ˆëœ ë°°í¬ ì „ëµìœ¼ë¡œ í¬ê²Œ ì•„ë˜ì™€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°€ì§‘ë‹ˆë‹¤.\nmain ë¸Œëœì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ ë˜ëŠ” ë²„ê·¸ ìˆ˜ì •ì„ ê°œë°œí•˜ê¸° ìœ„í•œ ë¸Œëœì¹˜ ìƒì„±. ë³€ê²½ ì‚¬í•­ì„ ì»¤ë°‹í•˜ê³ , ì´ë¥¼ Pull Request (PR)ë¡œ ë³‘í•© ìš”ì²­. PRì—ì„œ ì½”ë“œ ê²€í† ì™€ ë…¼ì˜ ì§„í–‰. PR ìŠ¹ì¸ ì‹œ main ë¸Œëœì¹˜ë¡œ ë³‘í•©í•˜ê³  ìë™ ë°°í¬. Github FlowëŠ” ë‹¨ìˆœí•œ êµ¬ì¡°ë¡œ ë²„ì „ ê´€ë¦¬ê°€ í•„ìš” ì—†ìœ¼ë©´ì„œ ë¹ ë¥¸ ë°°í¬ê°€ í•„ìš”í•œ ì‘ì€ ê·œëª¨ì˜ í”„ë¡œì íŠ¸ì—ì„œ ìœ ìš©í•˜ê²Œ í™œìš©ë  ìˆ˜ ìˆìœ¼ë‚˜ ë„ˆë¬´ ë‹¨ìˆœí•œ êµ¬ì¡°ë¡œ ì¸í•´ ë¹„êµì  ê·œëª¨ê°€ ìˆëŠ” í”„ë¡œì íŠ¸ì—ì„œëŠ” ì í•©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në³µì¡í•œ ì›Œí¬í”Œë¡œìš° ì§€ì› ë¶€ì¡± ê¸´ ì‘ì—… ì²˜ë¦¬ì˜ ì–´ë ¤ì›€ ëª…ì‹œì ì¸ staging í™˜ê²½ ë¶€ì¬ ë“± ì´ëŸ¬í•œ ë‹¨ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ê²½ìš° ì ìš©ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në‹¤ìˆ˜ì˜ ì¸ì›ì´ í˜‘ì—…ì„ í•˜ëŠ” ê²½ìš° ì‘ì—… ìˆ˜ê°€ ë§ì€ ê²½ìš° ë“± ëª¨ë†€ë¦¬ì‹ êµ¬ì¡° Mono-repo Gitlab flow release ë¸Œëœì¹˜ë¥¼ í†µí•´ feature ë¸Œëœì¹˜ë¥¼ í†µí•©í•˜ëŠ” ê³¼ì •ì´ ì—†ì´ ë¦¬ë·° ì™„ë£Œ í›„ ë°°ë¡œ ë°°í¬ë˜ëŠ” Github flowì—ì„œëŠ” ê¸°ì¡´ Git ë³µì¡í•¨ì„ í•´ì†Œí•˜ì˜€ì§€ë§Œ ë‹¨ìˆœí•œ êµ¬ì¡°ë¡œ ì•„ì‰¬ìš´ ë¶€ë¶„ë“¤ì´ ìˆëŠ”ë°, ì´ëŸ¬í•œ ë¶€ë¶„ë“¤ì„ í•´ì†Œí•  ìˆ˜ ìˆëŠ” ë¸Œëœì¹˜ ì „ëµìœ¼ë¡œ Gitlab flowê°€ ìˆìŠµë‹ˆë‹¤.\nGit flowëŠ” develop ë¸Œëœì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€ë˜ê³  ì´ëŸ¬í•œ ë³€ê²½ ë‚´ìš©ë“¤ì„ release ë¸Œëœì¹˜ë¥¼ í†µí•´ í†µí•©ë˜ì§€ë§Œ, Gitlab flowëŠ” master ë¸Œëœì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ feature ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ê³  feature ë¸Œëœì¹˜ë¥¼ í†µí•´ ë§Œë“¤ì–´ì§€ëŠ” ê¸°ëŠ¥ì„ ì§ì ‘ ë°˜ì˜í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\nì´ëŸ¬í•œ ê¸°ëŠ¥ ì¤‘ì‹¬ì˜ ê°œë°œì„ í†µí•´ ë¦´ë¦¬ìŠ¤ ë¨¸ì§€ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë²„í—¤ë“œë¥¼ ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nfeature ë¸Œëœì¹˜ë¥¼ í†µí•´ ê°œë°œ í™˜ê²½ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê³ , master ë¸Œëœì¹˜ë¥¼ í†µí•´ staging í™˜ê²½ì— ëŒ€í•œ ë°°í¬ì™€ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ë©°, pre-production ë¸Œëœì¹˜ë¥¼ í†µí•´ ìš´ì˜ í™˜ê²½ì—ì„œì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì™„ë£Œí•˜ê³  ì‹¤ì œ ìš´ì˜ í™˜ê²½ìœ¼ë¡œ ë°°í¬ë˜ëŠ” íë¦„ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ ì €ëŠ” Gitlab flow ë¸Œëœì¹˜ ì „ëµì„ í™œìš©í•´ì„œ í”„ë¡œì„¸ìŠ¤ë¥¼ êµ¬ì„±í•˜ê³ , CI/CDë¡œ í…ŒìŠ¤íŠ¸ í™˜ê²½ê¹Œì§€ ë§Œë“¤ì–´ë³´ëŠ” ì‘ì—…ì„ í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤. ëŒ€ëµì ì¸ í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\nmaster ë¸Œëœì¹˜ì—ì„œ feature ë¸Œëœì¹˜ë¥¼ ìƒì„±í•œë‹¤. feature ë¸Œëœì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ CI/CDë¥¼ í™œìš©í•˜ì—¬ dev í™˜ê²½ì„ ë°°í¬í•œë‹¤. feature ë¸Œëœì¹˜ì—ì„œ ì‘ì—…ì„ ì™„ë£Œ í›„ master ë¸Œëœì¹˜ì— MRë¥¼ ë§Œë“¤ê³  ë¦¬ë·°ë¥¼ ì§„í–‰í•˜ê³  ë¦¬ë·°ê°€ ì™„ë£Œë˜ë©´ master ë¸Œëœì¹˜ì— ë¨¸ì§€í•œë‹¤. master ê¸°ì¤€ìœ¼ë¡œ stg í™˜ê²½ì„ ë°°í¬í•œë‹¤. stg QAê°€ ì™„ë£Œë˜ë©´ master ë¸Œëœì¹˜ë¥¼ pre-production ë¸Œëœì¹˜ë¡œ ë¨¸ì§€í•œë‹¤. pre-production ê¸°ì¤€ìœ¼ë¡œ ìš´ì˜ í™˜ê²½ì„ ë°°í¬í•œë‹¤. pre-production QAê°€ ì™„ë£Œë˜ë©´ ì‹¤ì œë¡œ ë°°í¬í•œë‹¤. Best practices Gitlab flow ë¸Œëœì¹˜ ì „ëµì„ ì‚¬ìš©í•  ë•Œ ì•„ë˜ì™€ ê°™ì€ ê·¸ë¼ìš´ë“œ ë£°ì„ ì„¤ì •í•˜ê³  ì§€í‚¬ê²ƒì„ ê¶Œí•˜ê³  ìˆìŠµë‹ˆë‹¤.\nmaster ë¸Œëœì¹˜ì— ëŒ€í•´ ì§ì ‘ ì»¤ë°‹í•˜ì§€ ì•Šê³  ê¼­ feature ë¸Œëœì¹˜ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ë°˜ì˜ ë¨¸ì§€ ì „ ì½”ë“œ ë¦¬ë·°ë¥¼ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤. ëª¨ë“  ì»¤ë°‹ì— ëŒ€í•´ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰ master ë¸Œëœì¹˜ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ë“¤ì´ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì‘í•œë‹¤ê³  í™•ì‹ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. feature ë¸Œëœì¹˜ì— ìƒˆë¡­ê²Œ ì»¤ë°‹í•  ë•Œ masterì— ë³‘í•©í•  ë•Œ master ë¸Œëœì¹˜ì— feature ë¸Œëœì¹˜ë¥¼ ë¨¸ì§€í•˜ê¸° ì „ ì½”ë“œë¦¬ë·° ìˆ˜í–‰ ë°°í¬ëŠ” branch ë˜ëŠ” tag ê¸°ì¤€ìœ¼ë¡œ ìë™ì„ ìˆ˜í–‰ masterì— ì´ë¯¸ ë°˜ì˜ëœ ì»¤ë°‹ì— ëŒ€í•´ rebaseë¥¼ ìˆ˜í–‰ X ê¸°ì¡´ í…ŒìŠ¤íŠ¸ì™€ ìˆ˜ì • ë‚´ìš©ì„ í™•ì¸í•˜ê¸° í˜ë“¤ì–´ ì§ˆ ìˆ˜ ìˆë‹¤. cherry pickì´ í˜ë“¤ì–´ì§ˆ ìˆ˜ ìˆë‹¤. ëª¨ë“  feature ë¸Œëœì¹˜ì˜ ì‹œì‘ê³¼ ë³‘í•© ëŒ€ìƒì€ master ë¸Œëœì¹˜ ê¸¸ì–´ì§€ëŠ” ë¸Œëœì¹˜ ë¶„ê¸°ë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤. ì»¤ë°‹ ë©”ì‹œì§€ëŠ” ë¬´ìŠ¨ ì—­í• ì„ í–ˆëŠ”ì§€ í‘œí˜„í•´ì•¼í•¨. í•«í”½ìŠ¤ëŠ” master ë¨¼ì € ë°˜ì˜í•  ê²ƒ ","date":"2023-08-31T23:21:25+09:00","image":"https://codemario318.github.io/post/infra/container-env/2/cover_hu2346df674ac5a4d10745571793c062e9_26488_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/infra/container-env/2/","title":"2. ê¹ƒ ë¸Œëœì¹˜ ì „ëµê³¼ CI/CD"},{"content":"MySQLì˜ ë³µì œëŠ” ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ëœ ë³€ê²½ ë‚´ì—­(ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì´ë²¤íŠ¸)ë“¤ì„ ì‹ë³„í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ ë³µì œ(Binary Log File Position Based Replication)ê³¼ ê¸€ë¡œë²Œ íŠ¸ëœì­ì…˜ ID ê¸°ë°˜ ë³µì œ(Global Transaction Identifiers Based Replication)ë¡œ ë‚˜ë‰˜ëŠ”ë°, ê° ë°©ì‹ì˜ ë™ì‘ ì›ë¦¬ì™€ êµ¬ì¶• ë°©ë²•ì´ ìˆë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ ë³´ê²¢ëŠ” MySQLì— ë³µì œ ê¸°ëŠ¥ì´ ì²˜ìŒ ë„ì…ëì„ ë•Œë¶€í„° ì œê³µëœ ë°©ì‹ìœ¼ë¡œ, ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ëª…ê³¼ íŒŒì¼ ë‚´ì—ì„œì˜ ìœ„ì¹˜(Offset ë˜ëŠ” Position)ë¡œ ê°œë³„ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì´ë²¤íŠ¸ë¥¼ ì‹ë³„í•˜ì—¬ ë³µì œë˜ëŠ” í˜•íƒœë¥¼ ë§í•œë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ ë³µì œëŠ” ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°œìƒí•œ ê° ì´ë²¤íŠ¸ì— ëŒ€í•œ ì‹ë³„ì´ ë°˜ë“œì‹œ í•„ìš”í•˜ë‹¤.\në³µì œë¥¼ ì²˜ìŒ êµ¬ì¶•í•  ë•Œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì†ŒìŠ¤ì„œë²„ì˜ ì–´ë–¤ ì´ë²¤íŠ¸ë¡œë¶€í„° ë™ê¸°í™”ë¥¼ ìˆ˜í–‰í•  ê²ƒì¸ê°€ì— ëŒ€í•œ ì •ë³´ë¥¼ ì„¤ì •í•´ì•¼ í•œë‹¤. ë³µì œê°€ ì„¤ì •ëœ ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ì†ŒìŠ¤ ì„œë²„ì˜ ì–´ëŠ ì´ë²¤íŠ¸ê¹Œì§€ ë¡œì»¬ ë””ìŠ¤í¬ë¡œ ê°€ì ¸ì™”ê³  ë˜ ì ìš©í–ˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ë©° ì†ŒìŠ¤ ì„œë²„ì— í•´ë‹¹ ì •ë³´ë¥¼ ì „ë‹¬í•´ ê·¸ ì´í›„ ë°”ì´ë„ˆë¦¬ ì´ë²¤íŠ¸ë¡œ ê°€ì ¸ì˜¨ë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ ë³µì œì—ì„œëŠ” ì´ëŸ¬í•œ ì´ë²¤íŠ¸ í•˜ë‚˜í•˜ë‚˜ë¥¼ ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ëª…ê³¼ íŒŒì¼ ë‚´ì—ì„œì˜ ìœ„ì¹˜ ê°’(File Offset)ì˜ ì¡°í•©ìœ¼ë¡œ ì‹ë³„í•˜ê³  ì´ë¥¼ í†µí•´ ìì‹ ì˜ ì ìš© ë‚´ì—­ì„ ì¶”ì í•  ìˆ˜ ìˆë‹¤.\në³µì œë¥¼ ì¼ì‹œì ìœ¼ë¡œ ì¤‘ë‹¨í•  ìˆ˜ ìˆë‹¤. ì¬ê°œí•  ë•Œë„ ìì‹ ì´ ë§ˆì§€ë§‰ìœ¼ë¡œ ì ìš©í–ˆë˜ ì´ë²¤íŠ¸ ì´í›„ì˜ ì´ë²¤íŠ¸ë“¤ë¶€í„° ë‹¤ì‹œ ì½ì–´ì˜¬ ìˆ˜ ìˆë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì—ëŠ” ê° ì´ë²¤íŠ¸ë³„ë¡œ ì´ ì´ë²¤íŠ¸ê°€ ìµœì´ˆë¡œ ë°œìƒí•œ MySQL ì„œë²„ë¥¼ ì‹ë³„í•˜ê¸° ìœ„í•´ server_idë¥¼ í•¨ê»˜ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ ë³µì œì— ì°¸ì—¬í•œ MySQL ì„œë²„ë“¤ì´ ëª¨ë‘ ê³ ìœ í•œ server_id ê°’ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤.\nserver_idëŠ” MySQL ì„œë²„ì˜ ì‹œìŠ¤í…œ ë³€ìˆ˜ ì¤‘ í•˜ë‚˜ë¡œ, ì‚¬ìš©ìê°€ ì„œë²„ë§ˆë‹¤ ì›í•˜ëŠ” ê°’ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. (ê¸°ë³¸ê°’ì€ 1) server_idê°€ ë™ì¼í•  ê²½ìš° ìì‹ ì˜ ì„œë²„ì—ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ë¡œ ê°„ì£¼í•´ì„œ ë°œìƒí•œ ì´ë²¤íŠ¸ë¥¼ ì ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ì˜ ë³µì œ êµ¬ì¶• MySQL ì„œë²„ ê°„ì— ë³µì œë¥¼ ì„¤ì •í•  ë•ŒëŠ” ê° ì„œë²„ì— ë°ì´í„°ê°€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ ì—¬ë¶€ì™€ ë³µì œë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ê²ƒì¸ì§€ ë“±ì— ë”°ë¼ ë³µì œ ì„¤ì • ê³¼ì • ë° êµ¬ì¶• ë°©ë²•ì´ ë‹¬ë¼ì§„ë‹¤.\nì„¤ì • ì¤€ë¹„ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°˜ë“œì‹œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ í™œì„±í™”ë¼ ìˆì–´ì•¼ í•œë‹¤. ë³µì œ êµ¬ì„±ì›ì´ ë˜ëŠ” ê° MySQL ì„œë²„ê°€ ê³ ìœ í•œ server_idê°’ì„ ê°€ì ¸ì•¼í•œë‹¤. MySQL 8.0 ì—ì„œëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë¼ ìˆì–´, ì„œë²„ ì‹œì‘ ì‹œ ë°ì´í„° ë””ë ‰í„°ë¦¬ ë°‘ì— binlogë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì´ ìë™ìœ¼ë¡œ ìƒì„±ëœë‹¤. server_id ê°’ë„ ê¸°ë³¸ì ìœ¼ë¡œ 1ë¡œ ì„¤ì •ë˜ëŠ”ë°, ì„œë²„ë§ˆë‹¤ ê³ ìœ í•œ ê°’ì„ ê°€ì ¸ì•¼í•˜ë¯€ë¡œ ë‹¤ë¥¸ ê°’ì„ ì„¤ì •í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì†ŒìŠ¤ ì„œë²„ ì„¤ì • ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ë‚˜ íŒŒì¼ëª…ì„ ë”°ë¡œ ì„¤ì •í•˜ê³  ì‹¶ë‹¤ë©´ log_bin ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ ì›í•˜ëŠ” ê°’ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. í•„ìš”ì— ë”°ë¼ ë¡œê·¸ ë™ê¸°í™” ë°©ì‹, ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ìºì‹œí•˜ê¸° ìœ„í•œ ë©”ëª¨ë¦¬ í¬ê¸°, ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ í¬ê¸°, ë³´ê´€ ì£¼ê¸° ë“±ë„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. 1 2 3 4 5 6 7 8 [mysqld] server_id=1 log_bin=/binary-log-dir-path/binary-log-name sync_binlog=1 binlog_cache_size=5M max_binlog_size=512M binlog_expire_logs_seconds=1209600 ... ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ ì •ìƒì ìœ¼ë¡œ ê¸°ë¡ë˜ê³  ìˆëŠ”ì§€ëŠ” ì†ŒìŠ¤ ì„œë²„ì— ë¡œê·¸ì¸í•˜ì—¬ SHOW MASTER STATUS ëª…ë ¹ì„ ì‹¤í–‰í•´ë³´ë©´ ëœë‹¤.\në ˆí”Œë¦¬ì¹´ ì„œë²„ ì„¤ì • ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë³µì œë¥¼ ìœ„í•´ ìƒì„±í•˜ëŠ” ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ë„ ë³µì œ ì„¤ì • ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ ë°ì´í„° ë””ë ‰í„°ë¦¬ ë°‘ì— ìë™ìœ¼ë¡œ ìƒì„±ëœë‹¤. ë¦´ë ˆì´ ë¡œê·¸ì— ê¸°ë¡ëœ ì´ë²¤íŠ¸ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì ìš©ë˜ë©´ ë”ì´ìƒ í•„ìš”í•˜ì§€ ì•Šê²Œ ë˜ëŠ”ë°, í•„ìš”ì—†ì–´ì§„ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ìë™ìœ¼ë¡œ ì‚­ì œí•œë‹¤. ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì„ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ì§€ ì•Šê³  ìœ ì§€í•˜ë ¤ë©´ relay_log_purge ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ OFFë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤. OFFë¡œ ì„¤ì •í•˜ë©´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ë””ìŠ¤í¬ ì—¬ìœ  ê³µê°„ì´ ë¶€ì¡±í•˜ì§€ ì•Šì€ì§€ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ë¯€ë¡œ read_only ì„¤ì •ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì†ŒìŠ¤ ì„œë²„ì˜ ì¥ì• ë¡œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì†ŒìŠ¤ ì„œë²„ë¡œ ìŠ¹ê²©ë  ìˆ˜ ìˆìŒì„ ê³ ë ¤í•˜ë©´ log_slave_updates ì‹œìŠ¤í…œ ë³€ìˆ˜ë„ ëª…ì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ë³µì œì— ì˜í•œ ë°ì´í„° ë³€ê²½ ì‚¬í•­ì€ ìì‹ ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•˜ì§€ ì•ŠëŠ”ë° log_slave_updates ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ë©´ ë³µì œì— ì˜í•œ ë°ì´í„° ë³€ê²½ ë‚´ìš©ë„ ìì‹ ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡í•˜ê²Œ ëœë‹¤. 1 2 3 4 5 6 7 [mysqld] server_id=2 relay_log=/relay-log-dir-path/relay-log-name relay_log_purge=ON read_only log_slave_updates ... ë³µì œ ê³„ì • ì¤€ë¹„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ ì†ŒìŠ¤ ì„œë²„ì— ì ‘ì†í•´ì•¼ í•˜ë¯€ë¡œ ì ‘ì† ì‹œ ì‚¬ìš©í•  DB ê³„ì •ì´ í•„ìš”í•˜ë‹¤.(ë³µì œìš© ê³„ì •ì´ë¼ í•¨)\në³µì œë¥¼ ìœ„í•´ íŠ¹ë³„íˆ ìƒˆë¡œìš´ ê³„ì •ì„ ë§Œë“¤ í•„ìš” ì—†ì´ ê¸°ì¡´ ì‚¬ìš© ì¤‘ì¸ ê³„ì •ì— ë³µì œ ê´€ë ¨ ê¶Œí•œì„ ì¶”ê°€ë¡œ ë¶€ì—¬í•´ë„ ë˜ì§€ë§Œ ë³µì œì—ì„œ ì‚¬ìš©ë˜ëŠ” ê³„ì •ì˜ ë¹„ë°€ë²ˆí˜¸ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ì»¤ë„¥ì…˜ ë©”íƒ€ë°ì´í„°ì— í‰ë¬¸ìœ¼ë¡œ ì €ì¥ë˜ë¯€ë¡œ ë³´ì•ˆ ì¸¡ë³€ì„ ê³ ë ¤í•˜ì—¬ ë³µì œì— ì‚¬ìš©ë˜ëŠ” ê¶Œí•œë§Œ ì£¼ì–´ì§„ ë³„ë„ì˜ ê³„ì •ì„ ìƒì„±í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në³µì œìš© ê³„ì •ì€ ë³µì œë¥¼ ì‹œì‘í•˜ê¸° ì „ ì†ŒìŠ¤ ì„œë²„ì— ë¯¸ë¦¬ ì¤€ë¹„ë¼ ìˆì–´ì•¼ í•˜ë©°, ì´ ê³„ì •ì€ ë°˜ë“œì‹œ REPLICATION SLAVE ê¶Œí•œì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤.\n1 2 CREATE USER \u0026#39;repl_user\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;repl_user_password\u0026#39;; GRANT REPLICATION SLAVE ON *.* TO \u0026#39;repl_user\u0026#39;@\u0026#39;%\u0026#39;; ì„¤ëª…ì„ ìœ„í•´ ë³µì œ ê³„ì •ì˜ í˜¸ìŠ¤íŠ¸ ì œí•œì„ \u0026ldquo;%\u0026ldquo;ë¡œ ì„¤ì •í–ˆì§€ë§Œ ë³´ì•ˆì„ ìœ„í•´ ê¼­ í•„ìš”í•œ IP ëŒ€ì—­ì—ì„œë§Œ ë³µì œ ì—°ê²°ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në°ì´í„° ë³µì‚¬ ì†ŒìŠ¤ ì„œë²„ì˜ ë°ì´í„°ë¥¼ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ê°€ì ¸ì™€ì„œ ì ì¬í• ë•ŒëŠ” MySQL ì—”í„°í”„ë¼ì´ì¦ˆ ë°±ì—…ì´ë‚˜ mysqldump ê°™ì€ íˆ´ì„ ì´ìš©í•´ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë‚´ë ¤ë°›ì•„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ë³µì‚¬í•œë‹¤.\nmysqldumpë¥¼ ì‚¬ìš©í•´ ì†ŒìŠ¤ ì„œë²„ì˜ ë°ì´í„°ë¥¼ ë¤í”„í•  ë•ŒëŠ” --single-transaction, --master-data ì˜µì…˜ì„ ë°˜ë“œì‹œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\n--single-transaction: ë°ì´í„°ë¥¼ ë¤í”„í•  ë•Œ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•´ ë¤í”„ê°€ ì§„í–‰ë˜ê²Œ í•´ì„œ í…Œì´ë¸”ì´ë‚˜ ë ˆì½”ë“œì— ì ê¸ˆì„ ê±¸ì§€ ì•Šê³  InnoDB í…Œì´ë¸”ë“¤ì— ëŒ€í•´ ì¼ê´€ëœ ë°ì´í„°ë¥¼ ë¤í”„ë°›ì„ ìˆ˜ ìˆê²Œ í•œë‹¤. --master-data: ë¤í”„ ì‹œì‘ ì‹œì ì˜ ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ëª…ê³¼ ìœ„ì¹˜ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ë³µì œ ì„¤ì • êµ¬ë¬¸(CHANGE REPLICATION SOURCE TO, CHANGE MASTER TO)ì´ ë¤í”„ íŒŒì¼ í—¤ë”ì— ê¸°ë¡ë  ìˆ˜ ìˆê²Œ í•œë‹¤. í•´ë‹¹ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ MySQL ì„œë²„ì—ì„œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì˜ ìœ„ì¹˜ë¥¼ ìˆœê°„ì ìœ¼ë¡œ ê³ ì •í•˜ê¸° ìœ„í•´ FLUSH TABLES WITH READ LOCK ëª…ë ¹ì„ ì‹¤í–‰í•´ ê¸€ë¡œë²Œ ë½(ëª¨ë“  í…Œì´ë¸”ì— ëŒ€í•œ ì½ê¸° ì ê¸ˆ)ì„ ê±´ë‹¤. 1: ë¤í”„ íŒŒì¼ ë‚´ì˜ ë³µì œ ì„¤ì • êµ¬ë¬¸ì´ ì‹¤ì œ ì‹¤í–‰ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ê¸°ë¡ëœë‹¤. 2: í•´ë‹¹ êµ¬ë¬¸ì´ ì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ ì°¸ì¡°ë§Œ í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ê¸°ë¡ëœë‹¤. 1 2 mysqldump -uroot -p --single-transaction --master-data=2 \\ --opt --routines --triggers --hex-blob --all-databases \u0026gt; source_data.sql ë°ì´í„° ë¤í”„ê°€ ì™„ë£Œë˜ë©´ source_data.sql íŒŒì¼ì„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ì˜®ê²¨ ë°ì´í„° ì ì¬ë¥¼ ì§„í–‰í•œë‹¤.\n1 2 ## ì„œë²„ì— ì§ì ‘ ì ‘ì†í•´ ë°ì´í„° ì ì¬ ëª…ë ¹ì„ ì‹¤í–‰ SOURCE /tmp/master_data.sql 1 2 3 4 ## MySQL ì„œë²„ì— ë¡œê·¸ì¸í•˜ì§€ ì•Šê³  ë°ì´í„° ì ì¬ ëª…ë ¹ì„ ì‹¤í–‰ ## ë‹¤ìŒ ë‘ ëª…ë ¹ì–´ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš© mysql -uroot -p \u0026lt; /tmp/source_data.sql cat /tmp/source_data.sql | mysql -uroot -p mysqldumpì— ì§€ì •ëœ \u0026ndash;master-data ì˜µì…˜ìœ¼ë¡œ FLUSH TABLES WITH READ LOCK ëª…ë ¹ì´ ì‹¤í–‰ë˜ê¸° ì „ì— ì´ë¯¸ ì¥ì‹œê°„ ì‹¤í–‰ì¤‘ì¸ ì¿¼ë¦¬ê°€ ìˆë‹¤ë©´ ê¸€ë¡œë²Œ ë½ ëª…ë ¹ì–´ê°€ ì‹¤í–‰ ì¤‘ì¸ ì¿¼ë¦¬ì—ì„œ ì°¸ì¡°í•˜ê³  ìˆëŠ” í…Œì´ë¸”ë“¤ì— ëŒ€í•œ ì ê¸ˆì„ íšë“í•  ìˆ˜ ì—†ì–´ ëŒ€ê¸°í•˜ê²Œ ëœë‹¤.\nê¸€ë¡œë²Œ ë½ ëª…ë ¹ì–´ê°€ ëŒ€ê¸°í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•˜ë©´ ê·¸ ë’¤ë¡œ ìœ ì…ë˜ëŠ” ë‹¤ë¥¸ ì¿¼ë¦¬ë“¤ë„ ì—°ë‹¬ì•„ ëŒ€ê¸°í•´ì„œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì§€ ëª»í•˜ê³  ì ì²´ë˜ì–´ ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¥ì‹œê°„ ì‹¤í–‰ ì¤‘ì¸ ì¿¼ë¦¬ê°€ ìˆëŠ”ì§€, ëª…ë ¹ ì‹¤í–‰ í›„ì—ë„ ëŒ€ê¸° í˜„ìƒì´ ë°œìƒí•˜ê³  ìˆì§€ ì•Šì€ì§€ ë¯¸ë¦¬ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në³µì œ ì‹œì‘ mysqldumpë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ë¤í”„í•˜ê³ , ë¤í”„í•œ ë°ì´í„°ë¥¼ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì ì¬ê°€ ì™„ë£Œë˜ëŠ” ê¸°ê°„ê¹Œì§€ ì†ŒìŠ¤ ì„œë²„ì˜ ë°ì´í„°ê°€ ë°˜ì˜ì´ ë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤.\në³µì œë¥¼ ì„¤ì •í•˜ëŠ” ëª…ë ¹ì€ CHANGE REPLICARTION SOURCE TO(CHANGE MASTER TO) ëª…ë ¹ìœ¼ë¡œ, mysqldumpë¡œ ë°±ì—… ë°›ì€ íŒŒì¼ì˜ í—¤ë” ë¶€ë¶„ì—ì„œ í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.\në°±ì—…ë°›ì€ íŒŒì¼ì„ ì—´ì–´ 24 ë¼ì¸ì¯¤ì— ìœ„ì¹˜í•œ CHANGE MASTERë¡œ ì‹œì‘í•˜ëŠ” ë‚´ìš©ì„ ë³µì‚¬í•´ë‘”ë‹¤.\n1 2 3 4 5 6 7 less /tmp/source_data.sql ... -- Position to start replication or point-in-time recovery from -- -- CHANGE MASTER TO MASTER_LOG_FILE=\u0026#39;binary-log.000002\u0026#39;, MASTER_LOG_POS=2708; ë³µì‚¬í•´ë‘” ë‚´ìš©(CHANGE MASTER TO MASTER_LOG_FILE='binary-log.000002', MASTER_LOG_POS=2708;)ì— ì†ŒìŠ¤ ì„œë²„ MySQL ì„œë²„ì˜ í˜¸ìŠ¤íŠ¸ëª…, í¬íŠ¸, ë³µì œìš© ì‚¬ìš©ì ê³„ì •, ë¹„ë°€ë²ˆí˜¸ ë“±ì„ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•´ ë³µì œ ì„¤ì • ëª…ë ¹ì„ ì¤€ë¹„í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 -- // MySQL 8.0.23 ì´ìƒ CHANGE REPLICATION SOURCE TO SOURCE_HOST=\u0026#39;source_server_host\u0026#39;, SOURCE_PORT=3306, SOURCE_USER=\u0026#39;repl_user\u0026#39;, SOURCE_PASSWORD=\u0026#39;repl_user_password\u0026#39;, SOURCE_LOG_FILE=\u0026#39;binary-log.000002\u0026#39;, SOURCE_LOG_POS=\u0026#39;2708, GET_SOURCE_PUBLIC_KEY=1; -- // MySQL 8.0.23 ì´í•˜ CHANGE MASTER TO MASTER_HOST=\u0026#39;source_server_host\u0026#39;, MASTER_PORT=3306, MASTER_USER=\u0026#39;repl_user\u0026#39;, MASTER_PASSWORD=\u0026#39;repl_user_password\u0026#39;, MASTER_LOG_FILE=\u0026#39;binary-log.000002\u0026#39;, MASTER_LOG_POS=2708, GET_MASTER_PUBLIC_KEY=1; GET_[SOURCE | MASTER]_PUBLIC_KEY: RSA í‚¤ ê¸°ë°˜ ë¹„ë°€ë²ˆí˜¸ êµí™˜ ë°©ì‹ì˜ í†µì‹ ì„ ìœ„í•´ ê³µê°œí‚¤ë¥¼ ì†ŒìŠ¤ ì„œë²„ì— ìš”ì²­í•  ê²ƒì¸ì§€ ì—¬ë¶€\në³µì œ ì„¤ì •ì— ë³´ì•ˆëœ ì—°ê²°ê³¼ ê´€ë ¨ëœ ì˜µì…˜ë“¤ì„ ëª…ì‹œí•˜ì§€ ì•Šì•„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì†ŒìŠ¤ ì„œë²„ì™€ í•¨í˜¸í™”ë˜ì§€ ì•ŠëŠ” í†µì‹  ë°©ì‹ìœ¼ë¡œ ì—°ê²°ë˜ëŠ” ê²½ìš° ë³„ë„ë¡œ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ìœ„ ëª…ë ¹ì„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ MySQLì— ë¡œê·¸ì¸í•˜ì—¬ ì‹¤í–‰í•œ í›„ SHOW [REPLICA | SLAVE] STATUS ëª…ë ¹ì„ ì‹¤í–‰í•´ë³´ë©´ ë³µì œ ê´€ë ¨ ì •ë³´ê°€ ë“±ë¡ë˜ê³  ë™ê¸°í™” ëª…ë ¹ì„ ëŒ€ê¸°í•˜ëŠ” ìƒíƒœê°€ ë˜ì–´ [Replica | Slave]_IO_Runningê³¼ [Replica | Slave]_SQL_Running ì»¬ëŸ¼ì´ No í‘œì‹œëœë‹¤.\nì´ ìƒíƒœì—ì„œ START [Replica | Slave] ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ë‘ ì»¬ëŸ¼ ê°’ì´ Yesë¡œ ë°”ë€Œë©° ë™ê¸°í™”ë˜ì§€ ì•Šì•˜ë˜ ë³€ê²½ì‚¬í•­ë“¤ì„ ì†ŒìŠ¤ ì„œë²„ë¡œ ë¶€í„° ê°€ì ¸ì™€ ì ìš©í•œë‹¤.\nSHOW [REPLICA | SLAVE] STATUS ëª…ë ¹ì˜ ê²°ê³¼ì— ë‚˜íƒ€ë‚˜ëŠ” Seconds_Behind_[Source | Master]ì˜ ê°’ì´ 0ì´ ë˜ë©´ ì™„ì „íˆ ë™ê¸°í™”ëìŒì„ ì˜ë¯¸í•œë‹¤.\nSTART [REPLICA | SLAVE] ëª…ë ¹ì„ ì‹¤í–‰í–ˆëŠ”ë°ë„ Yesë¡œ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•„ë˜ ë‚´ìš©ë“¤ì„ í™•ì¸í•œë‹¤.\nì†ŒìŠ¤ ì„œë²„ì˜ í˜¸ìŠ¤íŠ¸ëª… MySQLì˜ í¬íŠ¸ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë³µì œìš© ì ‘ì† ê³„ì •ê³¼ ë¹„ë°€ë²ˆí˜¸ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ê°„ì— ë„¤íŠ¸ì›Œí¬ì‚¬ìœ¼ì´ ë¬¸ì œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê°€ë°˜ì˜ ë³µì œì—ì„œ íŠ¸ëœì­ì…˜ ê±´ë„ˆë›°ê¸° ë³µì œë¡œ êµ¬ì„±ë¼ ìˆëŠ” MySQL ì„œë²„ë“¤ì„ ìš´ì˜í•˜ë‹¤ ë³´ë©´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ë„˜ì–´ì˜¨ íŠ¸ëœì­ì…˜ì´ ì œëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ ëª»í•˜ê³  ì—ëŸ¬ê°€ ë°œìƒí•´ ë³µì œê°€ ë©ˆì¶”ëŠ” í˜„ìƒì´ ë°œìƒí•˜ê¸°ë„ í•œë‹¤.\nëŒ€ë¶€ë¶„ ì‚¬ìš©ìì˜ ì‹¤ìˆ˜ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.(ì¤‘ë³µ í‚¤ ì—ëŸ¬) ê²½ìš°ì— ë”°ë¼ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë¬¸ì œë˜ëŠ” ì†ŒìŠ¤ ì„œë²„ì˜ íŠ¸ëœì­ì…˜ì„ ë¬´ì‹œí•˜ê³  ë„˜ì–´ê°€ë„ë¡ ì²˜ë¦¬í•´ë„ ê´œì°®ë‹¤ë©´ sql_slave_skip_counter ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ë¬¸ì œë˜ëŠ” íŠ¸ëœì­ì…˜ì„ ê±´ë„ˆë›¸ ìˆ˜ ìˆë‹¤.\n1 2 3 STOP [SLAVE | REPLICA] SQL_THREAD; SET GLOBAL sql_slave_skip_counter=1; START [SLAVE | REPLICA] SQL_THREAD; sql_slave_skip_counter ì‹œìŠ¤í…œ ë³€ìˆ˜ì—ëŠ” ì ìš©í•˜ì§€ ì•Šê³  ê±´ë„ˆë›¸ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì´ë²¤íŠ¸ ê·¸ë£¹ ìˆ˜ë¥¼ ì§€ì •í•œë‹¤.\n1ë¡œ ì„¤ì •í–ˆì„ë•Œ DML ì¿¼ë¦¬ ë¬¸ì¥ í•˜ë‚˜ë¥¼ ê°€ì§„ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì´ë²¤íŠ¸ 1ê°œë¥¼ ë¬´ì‹œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ í˜„ì¬ ì´ë²¤íŠ¸ë¥¼ í¬í•¨í•œ ì´ë²¤íŠ¸ ê·¸ë£¹ì„ ë¬´ì‹œí•œë‹¤. ì´ë²¤íŠ¸ ê·¸ë£¹ì€ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” í…Œì´ë¸”ì˜ ê²½ìš°ì—ëŠ” íŠ¸ëœì­ì…˜ì´ í•˜ë‚˜ì˜ ì´ë²¤íŠ¸ ê·¸ë£¹ì´ ë˜ë©°, íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ì—ì„œëŠ” DML ë¬¸ì¥ í•˜ë‚˜í•˜ë‚˜ê°€ ì´ë²¤íŠ¸ ê·¸ë£¹ì´ ëœë‹¤.\ní•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì— ì—¬ëŸ¬ ê°œì˜ DML ì¿¼ë¦¬ë“¤ì´ í¬í•¨ë˜ëŠ” ê²½ìš°ê°€ ì¡´ì¬í•œë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œ ì¿¼ë¦¬ ì™¸ì— ë‹¤ë¥¸ ì¿¼ë¦¬ë“¤ì´ ì˜ˆìƒì¹˜ ëª»í•˜ê²Œ í•¨ê»˜ ë¬´ì‹œë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤.\n","date":"2023-08-30T23:27:10+09:00","image":"https://codemario318.github.io/post/real-mysql/16/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/16/2/","title":"16.3.3 ë³µì œ (2) - ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜ ê¸°ë°˜ ë³µì œ"},{"content":"ê°œì¸ì ìœ¼ë¡œ í•´ë³´ê³  ì‹¶ì—ˆë˜ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì¸í”„ë¼ í™˜ê²½ì„ êµ¬ì¶•í•´ë³´ë ¤ê³ í•©ë‹ˆë‹¤.\nì´ì „ íšŒì‚¬ì—ì„œ ê±°ëŒ€í•œ ëª¨ë†€ë¦¬ì‹ êµ¬ì¡°ë¡œ ìš´ì˜ë˜ë˜ ì„œë¹„ìŠ¤ë¥¼ íšŒì‚¬ ì¥ê¸° ë¹„ì „ì¸ Java ì „í™˜ê³¼ MSA ì „í™˜ì„ ìœ„í•´ ê¼­ í•„ìš”í•˜ë‹¤ê³  ì¡¸ë¼ì„œ í•´ë³´ë¼ê³  í—ˆë½ì„ ë°›ê³  ê³µë¶€í•˜ê³  ìˆì—ˆëŠ”ë° ê²°êµ­ í‡´ì‚¬ë¥¼ í•˜ê²Œ ë˜ì—ˆë„¤ìš”.\nê¸°ë³¸ì ì¸ ë‚´ìš©ë“¤ì€ ì»¨í…Œì´ë„ˆ ì¸í”„ë¼ í™˜ê²½ êµ¬ì¶•ì„ ìœ„í•œ ì¿ ë²„ë„¤í‹°ìŠ¤/ë„ì»¤ ì±…ì„ í†µí•´ í•™ìŠµí•˜ì˜€ê³ , ì¶”ê°€ë¡œ ì°¸ê³ í•œ ë‚´ìš©ë“¤ì€ ë”°ë¡œ ê³µìœ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\nì»¨í…Œì´ë„ˆ ì¸í”„ë¼ í™˜ê²½ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ ì²« ê±¸ìŒìœ¼ë¡œ Dockerë¥¼ ì´ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆì— ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\nì¤€ë¹„ ì´ì „ì— ì½”í”„ë§ ì°ë¨¹ í•´ë³´ë ¤ê³  ë§Œë“¤ì—ˆë˜ í”„ë¡œì íŠ¸ì„ ë°°í¬í•˜ëŠ” ì‹¤ìŠµì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.\në„ì»¤ ì¤€ë¹„ ì‹¤ìŠµì„ ìœ„í•´ ë¡œì»¬ í™˜ê²½ì— Dockerë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\nì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•œë° ê³µì‹ ë¬¸ì„œë¥¼ ë”°ë¼ì„œ ì°¨ë¶„í•˜ê²Œ ì§„í–‰í•˜ì‹œë©´ ì–´ë µì§€ ì•Šê²Œ ìˆ˜í–‰í•˜ì‹¤ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê´€ë ¨ ë§í¬ë§Œ ë‚¨ê¹ë‹ˆë‹¤.\nInstall Docker Desktop í”„ë¡œì íŠ¸ ì¤€ë¹„ ì œê°€ ì°ë¨¹ì„ ìœ„í•´ ë§Œë“¤ì—ˆë˜ ì½”í”„ë§ í”„ë¡œì íŠ¸ëŠ” ìŠ¤í”„ë§ ê³µì‹ ê°€ì´ë“œì˜ Building web applications with Spring Boot and Kotlinì…ë‹ˆë‹¤.\n1 2 mkdir blog \u0026amp;\u0026amp; cd blog curl https://start.spring.io/starter.zip -d language=kotlin -d type=gradle-project-kotlin -d dependencies=web,mustache,jpa,h2,devtools -d packageName=com.example.blog -d name=Blog -o blog.zip ìœ„ ëª…ë ¹ì„ ì‚¬ìš©í•˜ì…¨ë‹¤ë©´ Kotlin DSL + Gradleë¡œ ë¹Œë“œí•  ìˆ˜ ìˆëŠ” SpringBoot í”„ë¡œì íŠ¸ê°€ ì•„ë˜ êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ì¡Œì„ ê²ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 . â”œâ”€â”€ Dockerfile â”œâ”€â”€ HELP.md â”œâ”€â”€ build â”œâ”€â”€ build.gradle.kts â”œâ”€â”€ gradle â”œâ”€â”€ gradlew â”œâ”€â”€ gradlew.bat â”œâ”€â”€ settings.gradle.kts â””â”€â”€ src ì €ëŠ” ê°€ì´ë“œ ë¬¸ì„œëŒ€ë¡œ ì´ë¯¸ êµ¬í˜„ì„ í•œ ìƒíƒœë¼ ì¶”ê°€ ì‘ì—… ì—†ì´ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ, ì˜ ë°°í¬ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ê°„ë‹¨í•œ REST ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì–´ì£¼ê² ìŠµë‹ˆë‹¤.\níŒ¨í‚¤ì§€ ê²½ë¡œ ë‚´ì— ìˆë‹¤ë©´ ì–´ë–¤ ì´ë¦„ìœ¼ë¡œ ë§Œë“¤ì–´ë„ ìƒê´€ì€ ì—†ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 package com.example.blog import org.springframework.web.bind.annotation.GetMapping import org.springframework.web.bind.annotation.RequestMapping import org.springframework.web.bind.annotation.RestController @RestController @RequestMapping(\u0026#34;/api/hello\u0026#34;) class HelloController { @GetMapping(\u0026#34;/\u0026#34;) fun hello() = \u0026#34;Hello\u0026#34; } ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ì¤€ë¹„ (ê³µìœ ê¸° ì‚¬ìš©ì‹œ) ì €ì™€ ê°™ì´ ê³µìœ ê¸°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì •ìƒ ë™ì‘ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ í™˜ê²½ì´ ê³µìœ ê¸°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë„˜ê¸°ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.\nì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì ‘ê·¼í•˜ë ¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°°í¬ëœ ì„œë²„ì˜ IPì™€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‚¬ìš© ì¤‘ì¸ PORT ì •ë³´ë¥¼ ì•Œì•„ì•¼ í•˜ëŠ”ë°, ì €ì²˜ëŸ¼ ê³µìœ ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì—ì„œëŠ” ê³µìœ ê¸°ê°€ IPë¥¼ í• ë‹¹ ë°›ê²Œ ë©ë‹ˆë‹¤.\në¼ìš°í„°(ê³µìœ ê¸° ë“±)ìœ¼ë¡œ êµ¬ì„±ëœ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì„œë¸Œë„· ì´ë¼ê³  í•˜ë©°, ì„œë¸Œë„· ìì²´ì ìœ¼ë¡œ ë‚´ë¶€ IPë¥¼ í• ë‹¹í•˜ê¸° ë•Œë¬¸ì— ì„œë¸Œë„· ë‚´ë¶€ì—ì„œ ì„œë¡œ í†µì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në”°ë¼ì„œ ê³µìœ ê¸°ì— ë“¤ì–´ì˜¨ ìš”ì²­ì„ ì—°ê²°ëœ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•œ ë¡œì»¬ í™˜ê²½ìœ¼ë¡œ ìš”ì²­ì„ ì „ë‹¬í•´ì•¼ í•˜ëŠ”ë°, ì´ëŸ¬í•œ ì²˜ë¦¬ë¥¼ í¬íŠ¸ í¬ì›Œë”©ì´ë¼ê³  í•©ë‹ˆë‹¤.\ní¬íŠ¸ í¬ì›Œë”©ì€ ê³µìœ ê¸°ê°€ ë°›ì€ ìš”ì²­ì„ ë‚´ë¶€ì ìœ¼ë¡œ ì—°ê²°ëœ ëª©ì ì§€ì— ì „ë‹¬í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ìš”ì²­ì„ ë°›ëŠ” ê³µìœ ê¸°ì— ì„¤ì •í•´ì•¼ í•˜ê³ , ëŒ€ë¶€ë¶„ ê³µìœ ê¸°ê°€ ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.\ní˜„ì¬ ì—°ê²°ëœ ë¬´ì„  ì¸í„°ë„·ì˜ IP ì •ë³´ê°€ ë‚´ë¶€ IPì´ê³ , ì™¸ë¶€ IPëŠ” mac ê¸°ì¤€ ì•„ë˜ ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 curl ifconfig.me ê³µìœ ê¸° ê´€ë¦¬ì í˜ì´ì§€ëŠ” ë‚´ë¶€ IPì—ì„œ ë§ˆì§€ë§‰ì´ 1ë¡œ ë°”ê¿” ì ‘ê·¼í•˜ë©´ ë©ë‹ˆë‹¤. ì €ëŠ” ê°™ì€ ê²½ìš°ëŠ” http://192.168.0.1/ ì´ì—ˆìŠµë‹ˆë‹¤.\nIpTime ê³µìœ ê¸°ëŠ” ì´ëŸ° ì‹ìœ¼ë¡œ ë‚˜ì˜¬ í…ë°, êµ¬ì„±ì€ ëŒ€ë¶€ë¶„ ê°™ìŠµë‹ˆë‹¤.\nì™¸ë¶€ IP, ë‚´ë¶€ IP ë§ì¶° ì…ë ¥í•˜ê³  ì™¸ë¶€ í¬íŠ¸ëŠ” í¬íŠ¸ í¬ì›Œë”©í•  ëŒ€ìƒ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ê³ , ë‚´ë¶€ í¬íŠ¸ëŠ” ë¡œì»¬ í™˜ê²½ì—ì„œ ë°°í¬ë  ì»¨í…Œì´ë„ˆì˜ í˜¸ìŠ¤íŠ¸ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.\nì™¸ë¶€ í¬íŠ¸ ê°™ì€ ê²½ìš° http í¬íŠ¸ ë²ˆí˜¸ê°€ 80ì´ë¼ì„œ ì„¤ì •í–ˆëŠ”ë°, 8ë¹„íŠ¸ ì •ìˆ˜ê°’ì´ë¼ë©´ ì–´ë–¤ ê°’ì´ ë“¤ì–´ê°€ë„ ìƒê´€ì—†ìŠµë‹ˆë‹¤.\në‹¤ë§Œ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ì ‘ê·¼í•  ë•Œ ì™¸ë¶€_IP:ì™¸ë¶€_í¬íŠ¸ë¡œ ì ‘ê·¼í•˜ì‹œë©´ ë©ë‹ˆë‹¤.\nì»¨í…Œì´ë„ˆ ë¹Œë“œ Docker ì»¨í…Œì´ë„ˆ ë°°í¬ë¥¼ ìœ„í•´ ë°°í¬í•˜ê³ ì í•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¡œ ë¹Œë“œí•´ì•¼í•©ë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ ë¹Œë“œ ì¼ë°˜ì ìœ¼ë¡œ Docker ì»¨í…Œì´ë„ˆë¥¼ ë¹Œë“œí•  ë•Œ ì´ë¯¸ì§€ í¬ê¸° ë° ë¹Œë“œ ì‹œê°„ ìµœì í™”ë¥¼ ìœ„í•´ ì‹¤í–‰ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ë§Œì„ ì´ë¯¸ì§€ì— í¬í•¨í•´ ë¹Œë“œí•©ë‹ˆë‹¤.\nì‹¤ìŠµ ê°™ì€ Spring boot í”„ë¡œì íŠ¸ ê°™ì€ ê²½ìš° ë¹Œë“œë¥¼ ì™„ë£Œí•œ í›„ ìƒì„±ë˜ëŠ” ì‹¤í–‰ íŒŒì¼ì¸ .jar íŒŒì¼ë§Œì„ í¬í•¨í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.\n1 ./gradlew build í•´ë‹¹ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ë©´ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ë¹Œë“œ ê²°ê³¼ë¬¼ë“¤ì´ ë‚˜ì˜µë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 . â”œâ”€â”€ classes â”‚Â â””â”€â”€ kotlin â”œâ”€â”€ generated â”‚Â â””â”€â”€ source â”œâ”€â”€ kotlin â”‚Â â”œâ”€â”€ compileKotlin â”‚Â â”œâ”€â”€ compileTestKotlin â”‚Â â”œâ”€â”€ kaptGenerateStubsKotlin â”‚Â â””â”€â”€ kaptGenerateStubsTestKotlin â”œâ”€â”€ libs â”‚Â â”œâ”€â”€ \u0026lt;í”„ë¡œì íŠ¸ëª…\u0026gt;-\u0026lt;build.gradleì— ì„¤ì •í•œ ë²„ì „\u0026gt;-plain.jar â”‚Â â””â”€â”€ \u0026lt;í”„ë¡œì íŠ¸ëª…\u0026gt;-\u0026lt;build.gradleì— ì„¤ì •í•œ ë²„ì „\u0026gt;.jar â”œâ”€â”€ reports â”‚Â â””â”€â”€ tests â”œâ”€â”€ resolvedMainClassName â”œâ”€â”€ resources â”‚Â â””â”€â”€ main â”œâ”€â”€ snapshot â”‚Â â””â”€â”€ kotlin â”œâ”€â”€ test-results â”‚Â â””â”€â”€ test â””â”€â”€ tmp â”œâ”€â”€ bootJar â”œâ”€â”€ jar â”œâ”€â”€ kapt3 â””â”€â”€ test Gradle ê°™ì€ ê²½ìš° ë³„ë„ ì„¤ì •ì„ í•˜ì§€ ì•Šì•˜ë‹¤ë©´ build/libs ë””ë ‰í„°ë¦¬ì— \u0026lt;í”„ë¡œì íŠ¸ëª…\u0026gt;-\u0026lt;build.gradleì— ì„¤ì •í•œ ë²„ì „\u0026gt; í˜•íƒœë¡œ ì‹¤í–‰ íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.\nPlain JARëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë§Œì„ JAR íŒŒì¼ë¡œ íŒ¨í‚¤ì§• í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë°°í¬ë˜ëŠ” íŒŒì¼ì˜ í¬ê¸°ê°€ ì‘ì§€ë§Œ, ì‹¤í–‰ ì‹œì— ì¢…ì†ì„±ì„ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ìˆìŠµë‹ˆë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ SpringBoot ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•  ë•ŒëŠ” Fat JAR ë°©ì‹ìœ¼ë¡œ ì¢…ì†ì„±ì„ ë‚´ì¥í•˜ì—¬ ì‹¤í–‰ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ë°°í¬í•˜ë¯€ë¡œ Fat JARë¥¼ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì— í¬í•¨í•˜ë©´ ë©ë‹ˆë‹¤.\nì§€ê¸ˆì€ ì§ì ‘ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ í”„ë¡œì íŠ¸ë¥¼ ë¹Œë“œí•˜ê³  ìˆì§€ë§Œ, CI/CD í†µí•´ ë³€ê²½ëœ ë‚´ìš©ì„ ë°˜ì˜í•˜ê³  ë¹Œë“œí•´ì„œ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nDockerfile ì‘ì„± Dockerfileì€ Docker ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê¸° ìœ„í•´ í•„ìš”í•œ ëª…ë ¹ê³¼ í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ë“±ì„ ê¸°ìˆ í•œ í…ìŠ¤íŠ¸ íŒŒì¼ì…ë‹ˆë‹¤.\nDocker ì´ë¯¸ì§€ëŠ” ì‹¤í–‰ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í•´ë‹¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  í™˜ê²½ ë° ì¢…ì†ì„±ì„ í¬í•¨í•˜ëŠ”ë°, Dockerfileì„ í†µí•´ ì´ë¯¸ì§€ë¥¼ ì–´ë–»ê²Œ êµ¬ì„±í•˜ê³  ë¹Œë“œí•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ëª…ë ¹ì„ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nDockerfileì„ í”„ë¡œì íŠ¸ ìµœìƒìœ„ ë””ë ‰í„°ë¦¬ì— ë§Œë“¤ê³  docker build ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì‘ì„± ë‚´ìš©ì— ë§ì¶° ë¹Œë“œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.\nê·¸ëŸ¼ ê°„ë‹¨í•˜ê²Œ Dockerfileì„ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤. ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì§ì ‘ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•­ëª©ë“¤ë§Œ ì»¨í…Œì´ë„ˆì— ê¸°ìˆ í•´ì£¼ë©´ ë©ë‹ˆë‹¤.\n1 2 3 FROM bellsoft/liberica-runtime-container:jre-17-slim-musl COPY build/libs/*.jar app/app.jar ENTRYPOINT [\u0026#34;java\u0026#34;, \u0026#34;-jar\u0026#34;,\u0026#34;/app/app.jar\u0026#34;] Dockerfileì„ í•´ì„í•´ë³´ë©´\nFROM: ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. Ubuntu ê¸°ë°˜ Java 17 ëŸ°íƒ€ì„ í™˜ê²½ ì´ë¯¸ì§€ì¸ bellsoft/liberica-runtime-container:jre-17-slim-muslë¡œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤. ë² ì´ìŠ¤ ì´ë¯¸ì§€ëŠ” Docker Hub ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆê³ , ì €ëŠ” jre 17 ì¤‘ ê°€ì¥ ìš©ëŸ‰ì´ ì‘ì€ ì´ë¯¸ì§€ë¡œ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ì¸ í™˜ê²½ì´ êµ¬ì„±ëœ ì´ë¯¸ì§€ëŠ” ëŒ€ë¶€ë¶„ Docker Hubì—ì„œ ì°¾ì„ ìˆ˜ ìˆê³  í•´ë‹¹ ì´ë¯¸ì§€ì˜ ì´ë¯¸ì§€ ë ˆì´ì–´ë„ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤. COPY: í˜¸ìŠ¤íŠ¸ ì‹œìŠ¤í…œì˜ ë””ë ‰í„°ë¦¬ì—ì„œ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ì§€ì • ìœ„ì¹˜ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤. Java ì‹¤í–‰íŒŒì¼ì„ ì»¨í…Œì´ë„ˆ í™˜ê²½ ìµœìƒìœ„ ë””ë ‰í„°ë¦¬ì— app.jar ì´ë¦„ìœ¼ë¡œ ë³µì‚¬í•˜ê²Œ ë©ë‹ˆë‹¤. ENTRYPOINT: ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë  ë•Œ ì‹¤í–‰í•  ëª…ë ¹ì–´ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ENTRYPOINTëŠ” CMDë¡œ ëŒ€ì²´í•  ìˆ˜ë„ ìˆëŠ”ë° ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ëŠ” ë°©ì‹ì´ ì¡°ê¸ˆ ë‹¤ë¦…ë‹ˆë‹¤. ì´ëŠ” ì¶”í›„ì— ë‹¤ë¤„ë³´ê² ìŠµë‹ˆë‹¤. Docker ì´ë¯¸ì§€ ë¹Œë“œ ì´ì œ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•´ë³´ê² ìŠµë‹ˆë‹¤. ê¸°ë³¸ ì‚¬ìš©ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n1 docker build [OPTIONS] PATH | URL | - ì—¬ëŸ¬ ì˜µì…˜ì´ ìˆì§€ë§Œ -t(--tag) ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¦„ê³¼ íƒœê·¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¦„:íƒœê·¸ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ê³ , íƒœê·¸ëŠ” ìƒëµë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 docker build -t \u0026lt;ì´ë¯¸ì§€ ì´ë¦„:íƒœê·¸\u0026gt; \u0026lt;Dockerfileì´ ìœ„ì¹˜í•œ ë””ë ‰í„°ë¦¬ ê²½ë¡œ\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 [+] Building 9.0s (8/8) FINISHED =\u0026gt; [internal] load build definition from Dockerfile 0.0s =\u0026gt; =\u0026gt; transferring dockerfile: 281B 0.0s =\u0026gt; [internal] load .dockerignore 0.0s =\u0026gt; =\u0026gt; transferring context: 2B 0.0s =\u0026gt; [internal] load metadata for docker.io/bellsoft/liberica-runtime-container:jre-17-slim-musl 2.6s =\u0026gt; [auth] bellsoft/liberica-runtime-container:pull token for registry-1.docker.io 0.0s =\u0026gt; [internal] load build context 0.0s =\u0026gt; =\u0026gt; transferring context: 344B 0.0s =\u0026gt; [1/2] FROM docker.io/bellsoft/liberica-runtime-container:jre-17-slim-musl@sha256:95ebc03f0f27568a915cc2616a8e9f12e3eb33f4c3197c71606c186 6.1s =\u0026gt; =\u0026gt; resolve docker.io/bellsoft/liberica-runtime-container:jre-17-slim-musl@sha256:95ebc03f0f27568a915cc2616a8e9f12e3eb33f4c3197c71606c186 0.0s =\u0026gt; =\u0026gt; sha256:95ebc03f0f27568a915cc2616a8e9f12e3eb33f4c3197c71606c186e84096969 529B / 529B 0.0s =\u0026gt; =\u0026gt; sha256:216addf7a20c81782208e43c78219ebf492c4ac44dc6ebd2fa4f04b7fe5573c9 1.77kB / 1.77kB 0.0s =\u0026gt; =\u0026gt; sha256:a53839d7740238f431dd368e69ab2fde8df89f7fe7df9fc1f1bb50aa59ccd6a1 39.73MB / 39.73MB 5.1s =\u0026gt; =\u0026gt; extracting sha256:a53839d7740238f431dd368e69ab2fde8df89f7fe7df9fc1f1bb50aa59ccd6a1 0.9s =\u0026gt; [2/2] COPY build/libs/*.jar app/app.jar 0.1s =\u0026gt; exporting to image 0.1s =\u0026gt; =\u0026gt; exporting layers 0.1s =\u0026gt; =\u0026gt; writing image sha256:9830437234c832dc3ad45e9833a27e89449889296bdf9ec9091f6680d648d8a8 0.0s =\u0026gt; =\u0026gt; naming to docker.io/library/kt-spring-docker-edit 0.0s Use \u0026#39;docker scan\u0026#39; to run Snyk tests against images to find vulnerabilities and learn how to fix them ì €ëŠ” kt-spring-dockerë¡œ ì´ë¦„ì„ ì„¤ì •í•˜ê³  íƒœê·¸ëŠ” ì„¤ì •í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ìœ„ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë¹Œë“œ ê³¼ì •ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\nê²°ê³¼ëŠ” docker images ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 docker images 1 2 3 4 REPOSITORY TAG IMAGE ID CREATED SIZE ... kt-spring-docker-edit latest 9830437234c8 7 minutes ago 164MB ... ì»¨í…Œì´ë„ˆ ë°°í¬ ì»¨í…Œì´ë„ˆ ë°°í¬ë¥¼ ìœ„í•œ ê¸°ë³¸ ëª…ë ¹ì–´ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\n1 docker run [OPTIONS] IMAGE [COMMAND] [ARG...] ë‹¤ì–‘í•œ ì˜µì…˜ì´ ì¡´ì¬í•˜ì§€ë§Œ ê·¸ ì¤‘ -p(--publish) ì˜µì…˜ì€ í˜¸ìŠ¤íŠ¸ í¬íŠ¸ì™€ ì»¨í…Œì´ë„ˆ í¬íŠ¸ë¥¼ ì—°ê²°í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 docker run -p \u0026lt;í˜¸ìŠ¤íŠ¸_í¬íŠ¸ë²ˆí˜¸:ì»¨í…Œì´ë„ˆ_í¬íŠ¸ë²ˆí˜¸\u0026gt; \u0026lt;ì»¨í…Œì´ë„ˆ ì‹ë³„ì\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 WARNING: The requested image\u0026#39;s platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested . ____ _ __ _ _ /\\\\ / ___\u0026#39;_ __ _ _(_)_ __ __ _ \\ \\ \\ \\ ( ( )\\___ | \u0026#39;_ | \u0026#39;_| | \u0026#39;_ \\/ _` | \\ \\ \\ \\ \\\\/ ___)| |_)| | | | | || (_| | ) ) ) ) \u0026#39; |____| .__|_| |_|_| |_\\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot :: (v3.1.2) 2023-08-30T17:29:41.102Z INFO 1 --- [ main] c.m.k.KotlinTutorialApplicationKt : Starting KotlinTutorialApplicationKt v0.0.1-SNAPSHOT using Java 17.0.8 with PID 1 (/app/app.jar started by root in /) 2023-08-30T17:29:41.124Z INFO 1 --- [ main] c.m.k.KotlinTutorialApplicationKt : No active profile set, falling back to 1 default profile: \u0026#34;default\u0026#34; 2023-08-30T17:29:46.689Z INFO 1 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode. 2023-08-30T17:29:47.122Z INFO 1 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 375 ms. Found 2 JPA repository interfaces. 2023-08-30T17:29:51.800Z INFO 1 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http) 2023-08-30T17:29:51.850Z INFO 1 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat] 2023-08-30T17:29:51.851Z INFO 1 --- [ main] o.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/10.1.11] 2023-08-30T17:29:52.320Z INFO 1 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext 2023-08-30T17:29:52.334Z INFO 1 --- [ main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10170 ms 2023-08-30T17:29:53.238Z INFO 1 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting... 2023-08-30T17:29:54.047Z INFO 1 --- [ main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:71313eab-1da9-46b3-bcd5-df59c1121b0b user=SA 2023-08-30T17:29:54.057Z INFO 1 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed. 2023-08-30T17:29:54.322Z INFO 1 --- [ main] o.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default] 2023-08-30T17:29:54.538Z INFO 1 --- [ main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.6.Final 2023-08-30T17:29:54.576Z INFO 1 --- [ main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer 2023-08-30T17:29:55.140Z INFO 1 --- [ main] o.h.b.i.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy 2023-08-30T17:29:56.491Z INFO 1 --- [ main] o.s.o.j.p.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer 2023-08-30T17:29:58.111Z INFO 1 --- [ main] o.h.b.i.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy 2023-08-30T17:30:01.316Z INFO 1 --- [ main] o.h.e.t.j.p.i.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform] 2023-08-30T17:30:01.550Z INFO 1 --- [ main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit \u0026#39;default\u0026#39; 2023-08-30T17:30:04.136Z WARN 1 --- [ main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning 2023-08-30T17:30:06.776Z INFO 1 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat started on port(s): 8080 (http) with context path \u0026#39;\u0026#39; 2023-08-30T17:30:06.861Z INFO 1 --- [ main] c.m.k.KotlinTutorialApplicationKt : Started KotlinTutorialApplicationKt in 28.216 seconds (process running for 31.678) 2023-08-30T17:30:47.268Z INFO 1 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring DispatcherServlet \u0026#39;dispatcherServlet\u0026#39; 2023-08-30T17:30:47.272Z INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet : Initializing Servlet \u0026#39;dispatcherServlet\u0026#39; 2023-08-30T17:30:47.288Z INFO 1 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet : Completed initialization in 14 ms docker ps ëª…ë ¹ì„ í†µí•´ í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆë¥¼ í™•ì¸í•  ìˆ˜ ìˆê³ , ì•ì„œ ì„¤ëª…í•´ ë“œë¦° ì™¸ë¶€ IPë¥¼ í†µí•´ ì ‘ê·¼í•´ë³´ë©´ ì •ìƒì ìœ¼ë¡œ ë°°í¬ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9d85dbbbf374 kt-spring-docker-edit-2 \u0026#34;java -jar /app/app.â€¦\u0026#34; About an hour ago Up About an hour 0.0.0.0:8080-\u0026gt;8080/tcp bold_chaum ","date":"2023-08-29T14:52:25+09:00","image":"https://codemario318.github.io/post/infra/container-env/1/cover_hu2346df674ac5a4d10745571793c062e9_26488_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/infra/container-env/1/","title":"1. Dockerë¥¼ ì´ìš©í•œ ì»¨í…Œì´ë„ˆ ë°°í¬"},{"content":"ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìš´ì˜í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ë‘ ê°€ì§€ ìš”ì†Œë¥¼ ê¼½ìœ¼ë¼ë©´ ë°”ë¡œ í™•ì¥ì„±ê³¼ ê°€ìš©ì„±ì´ë‹¤.\nì„œë¹„ìŠ¤ì—ì„œ ë°œìƒí•˜ëŠ” ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ì„ ì•ˆì •ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ í™•ì¥ì´ í•„ìˆ˜ì ì´ë©°, ì‚¬ìš©ìê°€ ì–¸ì œë“ ì§€ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´ DBMS ì„œë²„ë¥¼ í¬í•¨í•¨ í•˜ìœ„ ì‹œìŠ¤í…œë“¤ì˜ ê°€ìš©ì„±ì´ ë°˜ë“œì‹œ ë’·ë°›ì¹¨ë¼ì•¼ í•œë‹¤.\nì´ ë‘ ìš”ì†Œë¥¼ ìœ„í•´ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ ì´ ë³µì œ(Replication)ì´ë‹¤.\nê°œìš” ë³µì œëŠ” í•œ ì„œë²„ì—ì„œ ë‹¤ë¥¸ ì„œë²„ë¡œ ë°ì´í„°ê°€ ë™ê¸°í™”ë˜ëŠ” ê²ƒì„ ë§í•˜ë©°, ì›ë³¸ ë°ì´í„°ë¥¼ ê°€ì§„ ì„œë²„ë¥¼ ì†ŒìŠ¤(Source) ì„œë²„, ë³µì œëœ ë°ì´í„°ë¥¼ ê°€ì§€ëŠ” ì„œë²„ë¥¼ ë ˆí”Œë¦¬ì¹´(Replica) ì„œë²„ë¼ê³  ë¶€ë¥¸ë‹¤.\nì†ŒìŠ¤ ì„œë²„ì—ì„œ ë°ì´í„° ë° ìŠ¤í‚¤ë§ˆì— ëŒ€í•œ ë³€ê²½ì´ ìµœì´ˆë¡œ ë°œìƒí•˜ë©°, ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” ì´ëŸ¬í•œ ë³€ê²½ ë‚´ì—­ì„ ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ì „ë‹¬ë°›ì•„ ìì‹ ì´ ê°€ì§€ê³  ìˆëŠ” ë°ì´í„°ì— ë°˜ì˜í•¨ìœ¼ë¡œì¨ ì†ŒìŠ¤ ì„œë²„ì— ì €ì¥ëœ ë°ì´í„°ì™€ ë™ê¸°í™” ì‹œí‚¨ë‹¤.\nëŒ€ë¶€ë¶„ì˜ DBMSì—ì„œ ë³µì œ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ë  DB ì„œë²„ë¥¼ êµ¬ì¶•í•  ë•ŒëŠ” ë©”ì¸ìœ¼ë¡œ ì‚¬ìš©ë  ì†ŒìŠ¤ ì„œë²„ í•œ ëŒ€ì™€ ë³µì œë¥¼ í†µí•´ ì†ŒìŠ¤ ì„œë²„ì™€ ë™ì¼í•œ ë°ì´í„°ë¥¼ ê°€ì§„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ í•œ ëŒ€ ì´ìƒ í•¨ê»˜ êµ¬ì¶•í•œë‹¤.\nì´ëŠ” ì„œë¹„ìŠ¤ì˜ ë©”ì¸ DB ì„œë²„ì¸ ì†ŒìŠ¤ ì„œë²„ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œë¥¼ ëŒ€ë¹„í•´ë ¤ëŠ” ëª©ì ì´ ì œì¼ í¬ì§€ë§Œ ë³µì œë¥¼ í†µí•´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°ëŠ” ì—¬ëŸ¬ê°€ì§€ ëª©ì ì´ ìˆë‹¤. ìŠ¤ì¼€ì¼ ì•„ì›ƒ(Scale-out) ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ë‹¤ ë³´ë©´ ì‚¬ìš©ìê°€ ëŠ˜ì–´ë‚˜ê³ , ì´ì— ë”°ë¼ DB ì„œë²„ë¡œ ìœ ì…ë˜ëŠ” íŠ¸ë˜í”½ë„ ìì—°íˆ ì¦ê°€í•´ DB ì„œë²„ì˜ ë¶€í•˜ê°€ ë†’ì•„ì§„ë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ì„œë²„ì˜ ì„±ëŠ¥ì„ ì˜¬ë¦¬ëŠ” ìŠ¤ì¼€ì¼ ì—…(Scale-up)ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í° ë³€í™” ì—†ì´ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ, ì„œë²„ í•œ ëŒ€ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” íŠ¸ë˜í”½ì€ í•œê³„ê°€ ìˆìœ¼ë¯€ë¡œ ì¼ì‹œì ì¸ í•´ê²° ë°©ë²•ì´ë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ë™ì¼í•œ ë°ì´í„°ë¥¼ ê°€ì§„ DB ì„œë²„ë¥¼ ì—¬ëŸ¬ê°œ ì‚¬ìš©í•˜ëŠ” ìŠ¤ì¼€ì¼ ì•„ì›ƒ ë°©ì‹ìœ¼ë¡œ íŠ¸ë˜í”½ ì¦ê°€ë¥¼ ì¡°ê¸ˆ ë” ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤.\në°ì´í„° ë°±ì—… DB ì„œë²„ì—ëŠ” ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë°ì´í„°ê°€ ì €ì¥ë˜ë©°, ì‚¬ìš©ìì˜ ì‹¤ìˆ˜ë¡œ ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆì„ ë•Œ ì„œë¹„ìŠ¤ ìš´ì˜ì— ì¹˜ëª…ì ì¸ ì˜í–¥ì„ ì¤„ ìˆ˜ë„ ìˆë‹¤.\nì´ëŸ¬í•œ ê²½ìš°ë¥¼ ëŒ€ë¹„í•˜ê¸° ìœ„í•´ DB ì„œë²„ì— ì €ì¥ëœ ë°ì´í„°ë“¤ì„ ì£¼ê¸°ì ìœ¼ë¡œ ë°±ì—…í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì ì¸ë°, ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ê°€ ì €ì¥ë¼ ìˆëŠ” DB ì„œë²„ì—ì„œ ë°±ì—… í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ì–´ ë°±ì—…ì„ ì§„í–‰í•œë‹¤.\nì´ì²˜ëŸ¼ ë™ì¼í•œ ì„œë²„ ë‚´ì—ì„œ ë°±ì—…ì´ ì‹¤í–‰ë˜ëŠ” ê²½ìš° ë°±ì—… í”„ë¡œê·¸ë¨ê³¼ DBMSê°€ ì„œë²„ì˜ ìì›ì„ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ë°±ì—…ìœ¼ë¡œ ì¸í•´ ì‹¤í–‰ ì¤‘ì¸ ì¿¼ë¦¬ë“¤ì´ ì˜í–¥ì„ ë°›ì•„ ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ì—¬ ë°±ì—…ì„ ì‹¤í–‰í•œë‹¤.\në°ì´í„° ë¶„ì„ DB ì„œë²„ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì„œë¹„ìŠ¤ì— ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ë“¤ì´ ì‹¤í–‰ë˜ì§€ë§Œ, ë°ì´í„° ë¶„ì„ì„ ìœ„í•œ ë¶„ì„ìš© ì¿¼ë¦¬ë“¤ì„ ì‹¤í–‰í•˜ê¸°ë„ í•˜ëŠ”ë°, ì´ëŸ¬í•œ ì¿¼ë¦¬ë“¤ì˜ ê²½ìš° ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒ, ì§‘ê³„ ì—°ì‚°ì„ ìœ„í•œ ì¡°íšŒ ë“± ë¶€í•˜ê°€ í° ì¿¼ë¦¬ë“¤ì´ ì£¼ë¡œ ì‹¤í–‰ë˜ì–´ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” DB ì„œë²„ë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë¹„ìŠ¤ì— ì¥ì• ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ê¸° ìœ„í•´ ë°ì´í„° ë¶„ì„ì„ ìœ„í•œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ì—¬ ì „ìš©ìœ¼ë¡œ í™œìš©í•˜ê¸°ë„ í•œë‹¤.\në°ì´í„°ì˜ ì§€ë¦¬ì  ë¶„ì‚° DB ì„œë²„ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ì„œë¡œ ë¨¼ ê±°ë¦¬ì— ìˆëŠ” ê²½ìš° ë‘ ì„œë²„ê°„ì˜ í†µì‹  ì‹œê°„ì€ ê±°ë¦¬ì— ë¹„ë¡€í•˜ì—¬ ëŠ˜ì–´ë‚˜ê²Œëœë‹¤.\nì„œë¹„ìŠ¤ ì‘ë‹µ ì†ë„ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì˜ ì²˜ë¦¬ ì†ë„ì™€ ë”ë¶ˆì–´ ì„œë²„ ê°„ì˜ í†µì‹  ì†ë„ì—ë„ ì˜í–¥ì„ ë°›ìœ¼ë¯€ë¡œ ì„œë²„ì˜ ë¬¼ë¦¬ì ì¸ ìœ„ì¹˜ë¥¼ ê°€ê¹ê²Œ êµ¬ì„±í•˜ëŠ”ê²Œ ì¢‹ì€ë°, DB ì„œë²„ì˜ ìœ„ì¹˜ë¥¼ ì´ë™ì‹œí‚¤ì§€ ëª»í•œë‹¤ë©´ ë³µì œë¥¼ í†µí•´ ê°€ê¹Œìš´ ê³³ì— ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¥¼ êµ¬ì¶•í•´ ì‚¬ìš©í•˜ì—¬ ê°œì„ ë  ìˆ˜ ìˆë‹¤.\në³µì œ ì•„í‚¤í…ì²˜ MySQL ë³µì œëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìœ¼ë©°, ì†ŒìŠ¤ ì„œë²„ì—ì„œ ìƒì„±ëœ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ì „ì†¡ë˜ê³  ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œëŠ” í•´ë‹¹ ë‚´ìš©ì„ ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•œ ë’¤ ìì‹ ì´ ê°€ì§„ ë°ì´í„°ì— ë°˜ì˜í•¨ìœ¼ë¡œì¨ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ê°„ì˜ ë°ì´í„° ë™ê¸°í™”ê°€ ì´ë£¨ì–´ì§„ë‹¤.\nMySQL ì„œë²„ì—ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  ë³€ê²½ ì‚¬í•­ì€ ë³„ë„ì˜ ë¡œê·¸ íŒŒì¼ì— ìˆœì„œëŒ€ë¡œ ê¸°ë¡ë˜ëŠ”ë°, ì´ë¥¼ ë°”ì´ë„ˆë¦¬ ë¡œê·¸(Binary Log)ë¼ê³  í•œë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì—ëŠ” ë°ì´í„° ë³€ê²½ ë‚´ì—­ ë¿ë§Œ ì•„ë‹ˆë¼ í…Œì´ë¸”ì˜ êµ¬ì¡° ë³€ê²½ê³¼ ê³„ì •ì´ë‚˜ ê¶Œí•œì˜ ë³€ê²½ ì •ë³´ê¹Œì§€ ëª¨ë‘ ì €ì¥ë˜ë©°, ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ëœ ê° ë³€ê²½ ì •ë³´ë“¤ì„ ì´ë²¤íŠ¸ë¼ê³  í•œë‹¤. ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì½ì–´ ë“¤ì—¬ ë”°ë¡œ ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•´ë‘” íŒŒì¼ì„ ë¦´ë ˆì´ ë¡œê·¸ë¼ê³  í•œë‹¤. MySQL ë³µì œëŠ” ì„¸ ê°œì˜ ìŠ¤ë ˆë“œì— ì˜í•´ ì‘ë™í•œë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ ë¤í”„ ìŠ¤ë ˆë“œ(Binary Log Dump Thread) ì†ŒìŠ¤ ì„œë²„ì— ìœ„ì¹˜í•œ ìŠ¤ë ˆë“œì´ë©°, ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ë°ì´í„° ë™ê¸°í™”ë¥¼ ìœ„í•´ ì†ŒìŠ¤ ì„œë²„ì— ì ‘ì†í•´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì •ë³´ë¥¼ ìš”ì²­í•˜ë©´, ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ì—°ê²°ë  ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ë¤í”„ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•´ì„œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì˜ ë‚´ìš©ì„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ì „ì†¡í•œë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ ë¤í”„ ìŠ¤ë ˆë“œëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²Œì˜¤ ë³´ë‚¼ ê° ì´ë²¤íŠ¸ë¥¼ ì½ì„ ë•Œ ì¼ì‹œì ìœ¼ë¡œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ì ê¸ˆì„ ìˆ˜í–‰í•˜ë©°, ì´ë²¤íŠ¸ë¥¼ ì½ê³ ë‚œ í›„ì—ëŠ” ë°”ë¡œ ì ê¸ˆì„ í•´ì œí•œë‹¤.\nì´ ìŠ¤ë ˆë“œëŠ” ì†ŒìŠ¤ ì„œë²„ì—ì„œ SHOW PROCESSLIT ëª…ë ¹ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œ(Replication I/O Thread) ë³µì œê°€ ì‹œì‘ë˜ë©´(START REPLICA, START SLAVE) ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” I/O ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ê³ , ë³µì œê°€ ë©ˆì¶”ë©´(STOP REPLICA, STOP SLAVE)ë˜ë©´ I/O ìŠ¤ë ˆë“œëŠ” ì¢…ë£Œëœë‹¤.\nI/O ìŠ¤ë ˆë“œëŠ” ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ë¤í”„ ìŠ¤ë ˆë“œë¡œë¶€í„° ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì´ë²¤íŠ¸ë¥¼ ê°€ì ¸ì™€ ë¡œì»¬ ì„œë²„ì˜ íŒŒì¼(ë¦´ë ˆì´ ë¡œê·¸)ë¡œ ì €ì¥í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì½ì–´ íŒŒì¼ë¡œ ì“°ëŠ” ì—­í• ë§Œ í•˜ê¸° ë•Œë¬¸ì— I/O ìŠ¤ë ˆë“œë¼ ë¶€ë¥¸ë‹¤. ì´ ìŠ¤ë ˆë“œì˜ ìƒíƒœëŠ” MySQLì˜ ë³µì œ í˜„í™©ì„ ë³´ì—¬ì£¼ëŠ” SHOW REPLICA STATUS(SHOW SLAVE STATUS) ëª…ë ¹ì˜ ê²°ê³¼ì—ì„œ Replica_IO-Running(Slave_SQL_running) ì»¬ëŸ¼ì— í‘œì‹œëœ ê°’ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë ˆí”Œë¦¬ì¼€ì´ì…˜ SQL ìŠ¤ë ˆë“œ(Replication SQL Thread) ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œì— ì˜í•´ ì‘ì„±ëœ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì˜ ì´ë²¤íŠ¸ë¥¼ ì½ê³  ì‹¤í–‰í•œë‹¤.\në ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì£¼ì˜ì‚¬í•­ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œì™€ SQL ìŠ¤ë ˆë“œëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— SQL ìŠ¤ë ˆë“œì—ì„œ ì´ë²¤íŠ¸ë¥¼ ì ìš©í•˜ëŠ” ê²Œ ëŠë¦¬ë”ë¼ë„ I/O ìŠ¤ë ˆë“œëŠ” ê·¸ê²ƒê³¼ ë¬´ê´€í•˜ê²Œ ì •ìƒì ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì†ŒìŠ¤ ì„œë²„ë¡œë¶€í„° ì´ë²¤íŠ¸ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ìˆë‹¤.\në ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì†ŒìŠ¤ ì„œë²„ì˜ ë³€ê²½ ì‚¬í•­ë“¤ì´ ì ìš©ë˜ëŠ” ê²ƒì€ ì†ŒìŠ¤ ì„œë²„ê°€ ë™ì‘í•˜ëŠ” ê²ƒê³¼ëŠ” ë³„ê°œë¡œ ì§„í–‰ë˜ë¯€ë¡œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ë¬¸ì œê°€ ìƒê¸°ë”ë¼ë„ ì†ŒìŠ¤ ì„œë²„ëŠ” ì „í˜€ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤.\nê·¸ëŸ¬ë‚˜ ì†ŒìŠ¤ ì„œë²„ì— ë¬¸ì œê°€ ìƒê²¨ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šê²Œ ë˜ë©´ ë³µì œëŠ” ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê³  ì¤‘ë‹¨ëœë‹¤.(ë³µì œ ê¸°ëŠ¥ë§Œ)\nì´ì— ë”°ë¼ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ëŠ” ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ë§Œ, ë™ê¸°í™”ê°€ ì•ˆë˜ì–´ ì˜ˆì „ ìƒíƒœ ë°ì´í„°ë¥¼ ë³´ê²Œ ëœë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ê¸° ìœ„í•´ ë³µì œê°€ ì‹œì‘ë˜ë©´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ë¦´ë ˆì´ ë¡œê·¸ë¥¼ ë¹„ë¡¯í•´ ì´ ì„¸ê°€ì§€ ìœ í˜•ì˜ ë³µì œ ê´€ë ¨ ë°ì´í„°ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•œë‹¤.\në¦´ë ˆì´ ë¡œê·¸(Relay Log) ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œì— ì˜í•´ ì‘ì„±ë˜ëŠ” íŒŒì¼ë¡œ, ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì—ì„œ ì½ì–´ì˜¨ ì´ë²¤íŠ¸(íŠ¸ëœì­ì…˜) ì •ë³´ê°€ ì €ì¥ëœë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë§ˆì°¬ê°€ì§€ë¡œ í˜„ì¬ ì¡´ì¬í•˜ëŠ” ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ë“¤ì˜ ëª©ë¡ì´ ë‹´ê¸´ ì¸ë±ìŠ¤ íŒŒì¼ê³¼ ì‹¤ì œ ì´ë²¤íŠ¸ ì •ë³´ê°€ ì €ì¥ë¼ ìˆëŠ” ë¡œê·¸ íŒŒì¼ë“¤ë¡œ êµ¬ì„±ëœë‹¤. ë¦´ë ˆì´ ë¡œê·¸ì— ì €ì¥ëœ íŠ¸ëœì­ì…˜ ì´ë²¤íŠ¸ë“¤ì€ ë ˆí”Œë¦¬ì¼€ì´ì…˜ SQL ìŠ¤ë ˆë“œì— ì˜í•´ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì ìš©ëœë‹¤. ì»¤ë„¥ì…˜ ë©”íƒ€ë°ì´í„°(Connection Metadata) ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œì—ì„œ ì†ŒìŠ¤ ì„œë²„ì— ì—°ê²°í•  ë•Œ ì‚¬ìš©í•˜ëŠ” DB ê³„ì • ì •ë³´ ë° í˜„ì¬ ì½ê³  ìˆëŠ” ì†ŒìŠ¤ ì„œë²„ì˜ ë°”ì´ë„ˆë¦¬ íŒŒì¼ëª…ê³¼ íŒŒì¼ ë‚´ ìœ„ì¹˜ ê°’ ë“±ì´ ë‹´ê²¨ìˆë‹¤. ì´ëŸ¬í•œ ì •ë³´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ mysql.slave_master_info í…Œì´ë¸”ì— ì €ì¥ëœë‹¤. ì–´í”Œë¼ì´ì–´ ë©”íƒ€ë°ì´í„°(Applier Metadata) ë ˆí”Œë¦¬ì¼€ì´ì…˜ SQL ìŠ¤ë ˆë“œì—ì„œ ë¦´ë ˆì´ ë¡œê·¸ì— ì €ì¥ëœ ì†ŒìŠ¤ ì„œë²„ì˜ ì´ë²¤íŠ¸ë“¤ì„ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì— ì ìš©í•˜ëŠ” ì»´í°ì–¸íŠ¸ì´ë‹¤. ìµœê·¼ ì ìš©ëœ ì´ë²¤íŠ¸ì— ëŒ€í•´ í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ì €ì¥ë¼ ìˆëŠ” ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ëª…ê³¼ íŒŒì¼ ë‚´ ìœ„ì¹˜ ì •ë³´ ë“±ì„ ë‹´ê³  ìˆë‹¤. ë ˆí”Œë¦¬ì¼€ì´ì…˜ SQL ìŠ¤ë ˆë“œê°€ ì´ëŸ¬í•œ ì •ë³´ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ë ˆí”Œë¦¬ì¹´ ì„œë² ì— ë‚˜ë¨¸ì§€ ì´ë²¤íŠ¸ë“¤ì„ ì ìš©í•œë‹¤. ì´ëŸ¬í•œ ì •ë³´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ mysql.slave_relay_log_info í…Œì´ë¸”ì— ì €ì¥ëœë‹¤. ì»¤ë„¥ì…˜ ë° ì–´í”Œë¼ì´ì–´ ë©”íƒ€ë°ì´í„°ëŠ” MySQL ì‹œìŠ¤í…œ ë³€ìˆ˜ master_info_repository, relay_log_info_repositoryë¥¼ í†µí•´ ì–´ë–¤ íƒœë¡œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ì§€ ê²°ì •í•  ìˆ˜ ìˆë‹¤.\nFILE: ì»¤ë„¥ì…˜ ë©”íƒ€ë°ì´í„°ì™€ ì–´í”Œë¼ì´ì–´ ë©”íƒ€ë°ì´í„°ëŠ” ê°ê° MySQLì˜ ë°ì´í„° ë””ë ‰í„°ë¦¬ì—ì„œ íŒŒì¼ë¡œ ê´€ë¦¬ëœë‹¤. TABLE: MySQLì˜ mysql ë°ì´í„° ë² ì´ìŠ¤ ë‚´ í…Œì´ë¸”ì— ê°ê° ë°ì´í„°ê°€ ì €ì¥ëœë‹¤. FILE íƒ€ì…ì€ ë ˆí”Œë¦¬ì¼€ì´ì…˜ I/O ìŠ¤ë ˆë“œë¡œ SQL ìŠ¤ë ˆë“œê°€ ë™ì‘í•  ë•Œ íŒŒì¼ì˜ ë‚´ìš©ì´ ë™ê¸°í™”ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ì—¬ ì—¬ëŸ¬ ë¬¸ì œë¥¼ ë°œìƒì‹œì¼°ë‹¤.\nì´ë¡œì¸í•´ MySQL 8.0.2 ë²„ì „ë¶€í„° ê¸°ë³¸ê°’ìœ¼ë¡œ TABLEì´ ë˜ì—ˆê³ , FILE íƒ€ì…ì€ ì‚­ì œ ì˜ˆì •ì´ë‹¤.\n","date":"2023-08-29T10:51:10+09:00","image":"https://codemario318.github.io/post/real-mysql/16/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/16/1/","title":"16. ë³µì œ (1)"},{"content":"4ê°€ì§€ ê¸°ë³¸ íŒŒí‹°ì…˜ ê¸°ë²•ì„ ì œê³µí•˜ê³  ìˆìœ¼ë©°, í•´ì‹œì™€ í‚¤ íŒŒí‹°ì…˜ì—ëŒ€í•´ì„œëŠ” ë¦¬ë‹ˆì–´ íŒŒí‹°ì…˜ê³¼ ê°™ì€ ì¶”ê°€ì ì¸ ê¸°ë²•ë„ ì œê³µí•œë‹¤.\në ˆì¸ì§€ íŒŒí‹°ì…˜ ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ í•´ì‹œ íŒŒí‹°ì…˜ í‚¤ íŒŒí‹°ì…˜ ë ˆì¸ì§€ íŒŒí‹°ì…˜ íŒŒí‹°ì…˜ í‚¤ì˜ ì—°ì†ëœ ë²”ìœ„ë¡œ íŒŒí‹°ì…˜ì„ ì •ì˜í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” íŒŒí‹°ì…˜ ë°©ë²• ì¤‘ í•˜ë‚˜ë‹¤.\nMAXVALUE í‚¤ì›Œë“œë¥¼ ì´ìš©í•´ ëª…ì‹œë˜ì§€ ì•Šì€ ë²”ìœ„ì˜ í‚¤ ê°’ì´ ë‹´ê¸´ ë ˆì½”ë“œë¥¼ ì €ì¥í•˜ëŠ” íŒŒí‹°ì…˜ì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤.\në ˆì¸ì§€ íŒŒí‹°ì…˜ì˜ ìš©ë„ ë‹¤ìŒê³¼ ê°™ì€ ì„±ê²©ì„ ì§€ëŠ” í…Œì´ë¸”ì—ì„œëŠ” ë ˆì¸ì§€ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në‚ ì§œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ê°€ ëˆ„ì ë˜ê³  ì—°ë„ë‚˜ ì›”, ë˜ëŠ” ì¼ ë‹¨ìœ„ë¡œ ë¶„ì„í•˜ê³  ì‚­ì œí•´ì•¼ í•  ë•Œ ë²”ìœ„ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ íŒŒí‹°ì…˜ì— ê· ë“±í•˜ê²Œ ë‚˜ëˆŒ ìˆ˜ ìˆì„ ë•Œ íŒŒí‹°ì…˜ í‚¤ ìœ„ì£¼ë¡œ ê²€ìƒ‰ì´ ìì£¼ ì‹¤í–‰ë  ë•Œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íŒŒí‹°ì…˜ì˜ ì¥ì ì€ ë‹¤ìŒ 2ê°€ì§€ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\ní° í…Œì´ë¸”ì„ ì‘ì€ í¬ê¸°ì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ ë¶„ë¦¬ í•„ìš”í•œ íŒŒí‹°ì…˜ë§Œ ì ‘ê·¼(ì“°ê¸°, ì½ê¸°) ìœ„ 2ê°€ì§€ ì¥ì  ì¤‘ ë‘ ë²ˆì§¸ ì¥ì ì˜ íš¨ê³¼ê°€ ë§¤ìš° í° í¸ì´ë‹¤.\níŒŒí‹°ì…˜ì„ ì ìš©í•˜ë©´ì„œ ë‘ ë²ˆì§¸ ì¥ì ì€ ì·¨í•˜ì§€ ëª»í•˜ê³  ì²« ë²ˆì§¸ ì¥ì ì—ë§Œ ì§‘ì¤‘í•˜ë‹¤ë³´ë‹ˆ, ê²°ê³¼ì ìœ¼ë¡œ íŒŒí‹°ì…˜ ë•Œë¬¸ì— ì˜¤íˆë ¤ ì„œë²„ì˜ ì„±ëŠ¥ì„ ë” ë–¨ì–´ëœ¨ë¦¬ê²Œ ëœë‹¤.\nì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ íŒŒí‹°ì…˜ì—ì„œ ë‘ê°€ì§€ ì¥ì ì„ ëª¨ë‘ ì·¨í•˜ê¸°ëŠ” ë§¤ìš° ì–´ë µì§€ë§Œ, ì´ë ¥ì„ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì—ì„œ ë ˆì¸ì§€ íŒŒí‹°ì…˜ì€ ë‘ ê°€ì§€ ì¥ì ì„ ëª¨ë‘ ì–´ë µì§€ ì•Šê²Œ ì·¨í•  ìˆ˜ ìˆë‹¤.\në ˆì¸ì§€ íŒŒí‹°ì…˜ í…Œì´ë¸” ìƒì„± 1 2 3 4 5 6 7 8 9 10 11 12 CREATE TAVLE employees ( id INT NOT NULL, first_name VARCHAR(30), last_name VARCHAR(30), hired DATE NOT NULL DEFAULT \u0026#39;1970-01-01\u0026#39;, ... ) PARITITON BY RANGE( YEAR(hired) ) ( PARTITION p0 VALUES LESS THAN (1991), PARTITION p1 VALUES LESS THAN (1996), PARTITION p2 VALUES LESS THAN (2001), PARTITION p3 VALUES LESS THAN MAXVALUE ); PARTITION BY RANGE í‚¤ì›Œë“œë¡œ ë ˆì¸ì§€ íŒŒí‹°ì…˜ì„ ì •ì˜í•œë‹¤. PARTITION BY RANGE ë’¤ì— ì»¬ëŸ¼ ë˜ëŠ” ë‚´ì¥ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ íŒŒí‹°ì…˜ í‚¤ë¥¼ ëª…ì‹œí•œë‹¤. VALUES LESS THAN ìœ¼ë¡œ ëª…ì‹œëœ ê°’ë³´ë‹¤ ì‘ì€ ê°’ë§Œ í•´ë‹¹ íŒŒí‹°ì…˜ì— ì €ì¥í•˜ê²Œ ì„¤ì •í•œë‹¤. LESS THAN ì ˆì— ëª…ì‹œëœ ê°’ì€ ê·¸ íŒŒí‹°ì…˜ì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤. VALUE LESS THAN MAXVALUEë¡œ ëª…ì‹œë˜ì§€ ì•Šì€ ë ˆì½”ë“œë¥¼ ì €ì¥í•  íŒŒí‹°ì…˜ì„ ì§€ì •í•œë‹¤. ì„ íƒ ì‚¬í•­ì´ë¯€ë¡œ ì§€ì •í•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤. VALUE LESS THAN MAXVALUEê°€ ì •ì˜ë˜ì§€ ì•Šìœ¼ë©´ hired ì»¬ëŸ¼ì˜ ê°’ì´ \u0026lsquo;2011-02-30\u0026rsquo;ì¸ ë ˆì½”ë“œê°€ INSERTë  ë•Œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. Table has no partition for value 2011 ë©”ì‹œì§€ í‘œì‹œ í…Œì´ë¸”ê³¼ ê° íŒŒí‹°ì…˜ì€ ê°™ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ MySQL 8.0 ì—ì„œëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ë¯€ë¡œ ë³„ë„ë¡œ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ InnoDB í…Œì´ë¸”ë¡œ ìƒì„±ëœë‹¤. ë ˆì¸ì§€ íŒŒí‹°ì…˜ì˜ ë¶„ë¦¬ì™€ ë³‘í•© ë‹¨ìˆœ íŒŒí‹°ì…˜ì˜ ì¶”ê°€ 1 2 ALTER TABLE employees ADD PARTITION (PARTITION p4 VALUES LESS THAN (2011)); í˜„ì¬ employees í…Œì´ë¸”ì—ëŠ” LESS THAN MAXVALUE íŒŒí‹°ì…˜ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ë ¤ê³  í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\nì´ë¯¸ MAXVALUE íŒŒí‹°ì…˜ì´ 2001ë…„ ì´í›„ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” ìƒíƒœì—ì„œ 2011ë…„ íŒŒí‹°ì…˜ì´ ì¶”ê°€ë˜ë©´ 2011ë…„ ë ˆì½”ë“œëŠ” 2ê°œì˜ íŒŒí‹°ì…˜ì— ë‚˜ë‰˜ì–´ ì €ì¥ë˜ëŠ” ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚¸ë‹¤.\nì´ëŠ” í•˜ë‚˜ì˜ ë ˆì½”ë“œëŠ” ë°˜ë“œì‹œ í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ì—ë§Œ ì €ì¥ë¼ì•¼ í•œë‹¤ëŠ” ê¸°ë³¸ ì¡°ê±´ì„ ë²—ì–´ë‚˜ëŠ” ê²ƒì´ë¯€ë¡œ ì´ëŸ¬í•œ ê²½ìš° ALTER TABLE ... REORGANIZE PARTITION ëª…ë ¹ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 ALTER TABLE employees ALGORITHM=INPLACE, LOCK=SHARED, REORGANIZE PARTITION p3 INTO ( PARTITION p3 VALUES LESS THAN (2011), PARTITION p4 VALUES LESS THAN MAXVALUE ) ; í•´ë‹¹ ëª…ë ¹ì€ íŒŒí‹°ì…˜ì˜ ë ˆì½”ë“œë¥¼ ëª¨ë‘ ìƒˆë¡œìš´ ë‘ ê°œì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ ë³µì‚¬í•˜ëŠ” ì‘ì—…ì„ í•„ìš”ë¡œ í•œë‹¤. p3 íŒŒí‹°ì…˜ì˜ ë ˆì½”ë“œê°€ ë§¤ìš° ë§ë‹¤ë©´ ë§¤ìš° ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ê²Œ ëœë‹¤.\në ˆì¸ì§€ íŒŒí‹°ì…˜ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ LESS THAN MAXVALUE ì ˆì„ ì‚¬ìš©í•˜ëŠ” íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ì§€ ì•Šê³ , ë¯¸ë˜ì— ì‚¬ìš©ë  íŒŒí‹°ì…˜ì„ ë¯¸ë¦¬ 2~3ê°œ ì •ë„ ë” ë§Œë“¤ì–´ ë‘ëŠ” í˜•íƒœë¡œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸°ë„ í•œë‹¤. ê·¸ë¦¬ê³  ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•´ ì£¼ê¸°ì ìœ¼ë¡œ íŒŒí‹°ì…˜ í…Œì´ë¸”ì˜ ì—¬ìœ  ê¸°ê°„ì„ íŒë‹¨í•´ì„œ íŒŒí‹°ì…˜ì„ ìë™ìœ¼ë¡œ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤.\ní•˜ì§€ë§Œ í•„ìš”í•œ íŒŒí‹°ì…˜ì„ ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ì— ì˜ì¡´í•˜ëŠ” ê²½ìš° ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ì˜ ì˜¤ë¥˜ë¡œ íŒŒí‹°ì…˜ì´ ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ì§€ ëª»í•  ìˆ˜ë„ ìˆë‹¤.\nLESS THAN MAXVALUE íŒŒí‹°ì…˜ì´ ì¡´ì¬í•œë‹¤ê³  í•˜ë”ë¼ë„ ì´ íŒŒí‹°ì…˜ì´ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤ë©´ íŒŒí‹°ì…˜ì„ ìˆ˜ì •í•˜ëŠ” ëª…ë ¹ì€ ë§¤ìš° ë¹¨ë¦¬ ì™„ë£Œë  ê²ƒì´ë¯€ë¡œ ì„±ëŠ¥ ê´€ë ¨í•´ì„œ ê±±ì •ì€ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.\níŒŒí‹°ì…˜ ì‚­ì œ ë ˆì¸ì§€ íŒŒí‹°ì…˜ì„ ì‚­ì œí•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ DROP PARTITION í‚¤ì›Œë“œì— ì‚­ì œí•˜ë ¤ëŠ” íŒŒí‹°ì…˜ì˜ ì´ë¦„ì„ ì§€ì •í•˜ë©´ ëœë‹¤.\në ˆì¸ì§€, ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ ì•„ì£¼ ë¹ ë¥´ê²Œ ì²˜ë¦¬ë˜ë¯€ë¡œ ë‚ ì§œ ë‹¨ìœ„ë¡œ íŒŒí‹°ì…˜ëœ í…Œì´ë¸”ì—ì„œ ì˜¤ë˜ëœ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ìš©ë„ë¡œ ìì£¼ ì‚¬ìš©ëœë‹¤.\n1 ALTER TABLE employees DROP PARTITION p0; ë ˆì¸ì§€ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì—ì„œ íŒŒí‹°ì…˜ì„ ì‚­ì œí•  ë•Œ í•­ìƒ ê°€ì¥ ì˜¤ë˜ëœ íŒŒí‹°ì…˜ ìˆœì„œë¡œë§Œ ì‚­ì œí•  ìˆ˜ ìˆë‹¤.\nê¸°ì¡´ íŒŒí‹°ì…˜ì˜ ë¶„ë¦¬ í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ì„ ë‘ ê°œ ì´ìƒì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ ë¶„ë¦¬í•˜ê³ ì í•  ë•ŒëŠ” REORGANIZE PARTITION ëª…ë ¹ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ë‹¤ìŒ ì˜ˆì œëŠ” MAXVALUE íŒŒí‹°ì…˜ì¸ p3ì„ ë‘ê°œë¡œ ë‚˜ëˆ„ëŠ” ëª…ë ¹ì´ë‹¤.\n1 2 3 4 5 6 ALTER TABLE employees ALGORITHM=INPLACE, LOCK=SHARED, REORGANIZE PARTITION p3 INTO ( PARTITION p3 VALUES LESS THAN (2011), PARTITION p4 VALUES LESS THAN MAXVALUE ) ; MAXVALUE íŒŒí‹°ì…˜ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ íŒŒí‹°ì…˜ë“¤ë„ ëª…ë ¹ì„ ì´ìš©í•´ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤. ê¸°ì¡´ íŒŒí‹°ì…˜ì˜ ë ˆì½”ë“œë¥¼ ìƒˆë¡œìš´ íŒŒí‹°ì…˜ìœ¼ë¡œ ë³µì‚¬í•˜ê¸° ë•Œë¬¸ì— ê¸°ì¡´ íŒŒí‹°ì…˜ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ì— ë”°ë¼ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆë‹¤. ê¸°ì¡´ íŒŒí‹°ì…˜ì˜ ë ˆì½”ë“œê°€ ë§ë‹¤ë©´ ì˜¨ë¼ì¸ DDLë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆë„ë¡ ALGORITHM, LOCK ì ˆì„ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤. íŒŒí‹°ì…˜ ì¬êµ¬ì„± ëª…ë ¹ì€ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ìµœì†Œí•œ ì½ê¸° ì ê¸ˆìœ¼ë¡œ ì¸í•´ í…Œì´ë¸” ì“°ê¸°ê°€ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ì¬êµ¬ì„± ì‘ì—…ì€ ì¿¼ë¦¬ ì²˜ë¦¬ê°€ ë§ì§€ ì•Šì€ ì‹œê°„ëŒ€ì— ì§„í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê¸°ì¡´ íŒŒí‹°ì…˜ ë³‘í•© REORGANIZE PARTITION ëª…ë ¹ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 ALTER TABLE employees ALGORITHM=INPLACE, LOCK=SHARED, REORGANIZE PARTITION p2, p3 INTO ( PARTITION p23 VALUES LESS THAN (2011), ); íŒŒí‹°ì…˜ì„ ë³‘í•©í•˜ëŠ” ê²½ìš°ë„ íŒŒí‹°ì…˜ ì¬êµ¬ì„±ì´ í•„ìš”í•˜ì—¬, í…Œì´ë¸”ì— ëŒ€í•´ ì½ê¸° ì ê¸ˆì„ í•œë‹¤.\në¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì€ ë ˆì¸ì§€ íŒŒí‹°ì…˜ê³¼ í¡ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤.\në‘˜ì˜ ê°€ì¥ í° ì°¨ì´ëŠ” ë ˆì¸ì§€ íŒŒí‹°ì…˜ì€ íŒŒí‹°ì…˜ í‚¤ ê°’ì˜ ë²”ìœ„ë¡œ íŒŒí‹°ì…˜ì„ êµ¬ì„±í•  ìˆ˜ ìˆì§€ë§Œ, ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì€ íŒŒí‹°ì…˜ í‚¤ ê°’ í•˜ë‚˜í•˜ë‚˜ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë‚˜ì—´í•´ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤. ë”°ë¼ì„œ ë ˆì¸ì§€ íŒŒí‹°ì…˜ê³¼ ê°™ì´ MAXVALUE íŒŒí‹°ì…˜ì„ ì •ì˜í•  ìˆ˜ ì—†ë‹¤. ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì˜ ìš©ë„ í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì„±ì„ ì§€ë‹ ë•ŒëŠ” ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\níŒŒí‹°ì…˜ í‚¤ ê°’ì´ ì½”ë“œê°’ì´ë‚˜ ì¹´í…Œê³ ë¦¬ì™€ ê°™ì´ ê³ ì •ì ì¼ ë•Œ í‚¤ ê°’ì´ ì—°ì†ë˜ì§€ ì•Šê³  ì •ë ¬ ìˆœì„œì™€ ê´€ê³„ì—†ì´ íŒŒí‹°ì…˜ì„ í•´ì•¼ í•  ë•Œ íŒŒí‹°ì…˜ í‚¤ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë ˆì½”ë“œì˜ ê±´ìˆ˜ê°€ ê· ì¼í•˜ê³  ê²€ìƒ‰ ì¡°ê±´ì— íŒŒí‹°ì…˜ í‚¤ê°€ ìì£¼ ì‚¬ìš©ë  ë•Œ ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ í…Œì´ë¸” ìƒì„± 1 2 3 4 5 6 7 8 9 10 11 CREATE TABLE product( id INT NOT NULL, name VARCHAR(30), category_id INT NOT NULL, ... ) PARTITION BY LIST( category_id ) ( PARTITION p_appliance VALUES IN (3), PARTITION p_computer VALUES IN (1, 9), PARTITION p_sports VALUES IN (2, 6, 7), PARTITION p_etc VALUES IN (4, 5, 8, NULL) ); INT íƒ€ì…ì˜ category_id ì»¬ëŸ¼ ê°’ì„ ê·¸ëŒ€ë¡œ íŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©í•œë‹¤. VALUES IN (...)ì„ í†µí•´ íŒŒí‹°ì…˜ë³„ë¡œ ì €ì¥í•  íŒŒí‹°ì…˜ í‚¤ ê°’ì˜ ëª©ë¡ì„ ë‚˜ì—´í•œë‹¤. í‚¤ ê°’ì¤‘ì— NULLì„ ëª…ì‹œí•  ìˆ˜ë„ ìˆë‹¤. MAXVALUE íŒŒí‹°ì…˜ì€ ì •ì˜í•  ìˆ˜ ì—†ë‹¤. 1 2 3 4 5 6 7 8 9 10 11 CREATE TABLE product( id INT NOT NULL, name VARCHAR(30), category_id VARCHAR(20) NOT NULL, ... ) PARTITION BY LIST( category_id ) ( PARTITION p_appliance VALUES IN (\u0026#39;TV\u0026#39;), PARTITION p_computer VALUES IN (\u0026#39;Notebook\u0026#39;, \u0026#39;Desktop\u0026#39;), PARTITION p_sports VALUES IN (\u0026#39;Tennis\u0026#39;, \u0026#39;Soccer\u0026#39;), PARTITION p_etc VALUES IN (\u0026#39;Magazine\u0026#39;, \u0026#39;Socks\u0026#39;, NULL) ); ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì˜ ë¶„ë¦¬ì™€ ë³‘í•© íŒŒí‹°ì…˜ì„ ì •ì˜í•˜ëŠ” ë¶€ë¶„ì—ì„œ VALUE LESS THANì´ ì•„ë‹Œ VALUES INì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒ ì™¸ì—ëŠ” ë ˆì¸ì§€ íŒŒí‹°ì…˜ì˜ ì¶”ê°€, ì‚­ì œ, ë³‘í•© ì‘ì—…ì´ ëª¨ë‘ ê°™ë‹¤.\në¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ ì£¼ì˜ì‚¬í•­ ëª…ì‹œë˜ì§€ ì•Šì€ ë‚˜ë¨¸ì§€ ê°’ì„ ì €ì¥í•˜ëŠ” MAXVALUE íŒŒí‹°ì…˜ì„ ì •ì˜í•  ìˆ˜ ì—†ë‹¤. ë ˆì¸ì§€ íŒŒí‹°ì…˜ê³¼ëŠ” ë‹¬ë¦¬ NULLì„ ì €ì¥í•˜ëŠ” íŒŒí‹°ì…˜ì„ ë³„ë„ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. í•´ì‹œ íŒŒí‹°ì…˜ í•´ì‹œ íŒŒí‹°ì…˜ì€ MySQL ì—ì„œ ì •ì˜í•œ í•´ì‹œ í•¨ìˆ˜ì— ì˜í•´ ë ˆì½”ë“œê°€ ì €ì¥ë  íŒŒí‹°ì…˜ì„ ê²°ì •í•˜ëŠ” ë°©ë²•ì´ë‹¤.\nMySQLì—ì„œ ì •ì˜í•œ í•´ì‹œ í•¨ìˆ˜ëŠ” ë³µì¡í•œ ì•Œê³ ë¦¬ì¦˜ì´ ì•„ë‹ˆë¼ íŒŒí‹°ì…˜ì˜ í‘œí˜„ì‹ì˜ ê²°ê´ê°’ì„ íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¡œ ì €ì¥ë  íŒŒí‹°ì…˜ì„ ê²°ì •í•˜ëŠ” ë°©ì‹ì´ë‹¤. í•´ì‹œ íŒŒí‹°ì…˜ì˜ íŒŒí‹°ì…˜ í‚¤ëŠ” í•­ìƒ ì •ìˆ˜ íƒ€ì…ì˜ ì»¬ëŸ¼ì´ê±°ë‚˜ ì •ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í‘œí˜„ì‹ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•´ì‹œ íŒŒí‹°ì…˜ì—ì„œ íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ëŠ” ë ˆì½”ë“œë¥¼ ê° íŒŒí‹°ì…˜ì— í• ë‹¹í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ê³¼ ì—°ê´€ë˜ê¸° ë•Œë¬¸ì— íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ì‘ì—…ì—ëŠ” í…Œì´ë¸” ì „ì²´ì ìœ¼ë¡œ ë ˆì½”ë“œë¥¼ ì¬ë¶„ë°°í•˜ëŠ” ì‘ì—…ì´ ë”°ë¥¸ë‹¤. í•´ì‹œ íŒŒí‹°ì…˜ì˜ ìš©ë„ í•´ì‹œ íŒŒí‹°ì…˜ì€ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì„±ì„ ì§€ë‹Œ í…Œì´ë¸”ì— ì í•©í•˜ë‹¤.\në ˆì¸ì§€ íŒŒí‹°ì…˜ì´ë‚˜ ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê· ë“±í•˜ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì–´ë ¤ìš¸ ë•Œ í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œê°€ ë¹„ìŠ·í•œ ì‚¬ìš© ë¹ˆë„ë¥¼ ë³´ì´ì§€ë§Œ í…Œì´ë¸”ì´ ë„ˆë¬´ ì»¤ì„œ íŒŒí‹°ì…˜ì„ ì ìš©í•´ì•¼ í•  ë•Œ í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ íŠ¹ì • ê°’ì— ì˜í–¥ì„ ë°›ì§€ ì•Šê³  ì „ì²´ì ìœ¼ë¡œ ë¹„ìŠ·í•œ ì‚¬ìš© ë¹ˆë„ë¥¼ ë³´ì¼ ë•Œ ì í•©í•˜ë‹¤.\ní•´ì‹œ íŒŒí‹°ì…˜, í‚¤ íŒŒí‹°ì…˜ì˜ ëŒ€í‘œì ì¸ ìš©ë„ë¡œëŠ” íšŒì› í…Œì´ë¸”ì„ ë“¤ ìˆ˜ ìˆë‹¤. íšŒì› ì •ë³´ëŠ” ê°€ì… ì¼ìê°€ ì˜¤ë˜ë¼ì„œ ì‚¬ìš©ë˜ì§€ ì•Šê±°ë‚˜ ìµœì‹ ì´ì–´ì„œ ë” ë¹ˆë²ˆí•˜ê²Œ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ì§€ì—­ì´ë‚˜ ì·¨ë¯¸ ê°™ì€ ì •ë³´ ë˜í•œ ì‚¬ìš© ë¹ˆë„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ê±°ì˜ ì—†ë‹¤. í•´ì‹œ íŒŒí‹°ì…˜ í…Œì´ë¸” ìƒì„± 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 /* íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ë§Œ ì§€ì • */ CREATE TABLE employees ( id INT NOT NULL, first_name VARCHAR(30), last_name VARCHAR(30), hired DATE NOT NULL DEFAULT \u0026#39;1970-01-01\u0026#39;, ... ) PARTITION BY HASH(id) PARTITIONS 4; /* íŒŒí‹°ì…˜ì˜ ì´ë¦„ì„ ë³„ë„ë¡œ ì§€ì • */ CREATE TABLE employees ( id INT NOT NULL, first_name VARCHAR(30), last_name VARCHAR(30), hired DATE NOT NULL DEFAULT \u0026#39;1970-01-01\u0026#39;, ... ) PARTITION BY HASH(id) PARTITIONS 4 ( PARTITION p0 ENGINE=INNODB, PARTITION p1 ENGINE=INNODB, PARTITION p2 ENGINE=INNODB, PARTITION p3 ENGINE=INNODB, ); í•´ì‹œ íŒŒí‹°ì…˜ì˜ íŒŒí‹°ì…˜ í‚¤ ë˜ëŠ” íŒŒí‹°ì…˜ í‘œí˜„ì‹ì€ ë°˜ë“œì‹œ ì •ìˆ˜ íƒ€ì…ì˜ ê°’ì„ ë°˜í™˜í•´ì•¼í•œë‹¤. í•´ì‹œë‚˜ í‚¤ íŒŒí‹°ì…˜ì—ì„œëŠ” íŠ¹ì • íŒŒí‹°ì…˜ì„ ì‚­ì œí•˜ê±°ë‚˜ ë³‘í•©í•˜ëŠ” ì‘ì—…ì´ ê±°ì˜ ë¶ˆí•„ìš”í•˜ë¯€ë¡œ íŒŒí‹°ì…˜ì˜ ì´ë¦„ì„ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ í¬ê²Œ ì˜ë¯¸ëŠ” ì—†ë‹¤. íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ë§Œ ì§€ì •í•˜ë©´ ê° íŒŒí‹°ì…˜ì˜ ì´ë¦„ì€ ê¸°ë³¸ì ìœ¼ë¡œ \u0026ldquo;p0, p1, \u0026hellip;\u0026ldquo;ê³¼ ê°™ì€ ê·œì¹™ìœ¼ë¡œ ìƒì„±ëœë‹¤. í•´ì‹œ íŒŒí‹°ì…˜ì˜ ë¶„ë¦¬ì™€ ë³‘í•© íŒŒí‹°ì…˜ì˜ ë¶„ë¦¬ë‚˜ ë³‘í•©ìœ¼ë¡œ ì¸í•´ íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ê°€ ë³€ê²½ëœë‹¤ëŠ” ê²ƒì€ í•´ì‹œ í•¨ìˆ˜ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ë³€ê²½í•˜ëŠ” ê²ƒ ì´ë¯€ë¡œ, í•´ì‹œ íŒŒí‹°ì…˜ì˜ ë¶„ë¦¬ì™€ ë³‘í•©ì€ ëª¨ë“  íŒŒí‹°ì…˜ì— ì €ì¥ëœ ë ˆì½”ë“œë¥¼ ì¬ë¶„ë°° í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.\ní•´ì‹œ íŒŒí‹°ì…˜ ì¶”ê°€ í•´ì‹œ íŒŒí‹°ì…˜ í‚¤ ê°’ì„ í…Œì´ë¸”ì˜ íŒŒí‹°ì…˜ ê°œìˆ˜ë¡œ MOD ì—°ì‚°í•œ ê²°ê´ê°’ì— ì˜í•´ ê° ë ˆì½”ë“œê°€ ì €ì¥ë  íŒŒí‹°ì…˜ì„ ê²°ì •í•œë‹¤.\në”°ë¼ì„œ ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì´ ì¶”ê°€ëœë‹¤ë©´ ê¸°ì¡´ì˜ ê° íŒŒí‹°ì…˜ì— ì €ì¥ëœ ëª¨ë“  ë ˆì½”ë“œê°€ ì¬ë°°ì¹˜ë¼ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 /* íŒŒí‹°ì…˜ 1ê°œë§Œ ì¶”ê°€í•˜ë©´ì„œ íŒŒí‹°ì…˜ ì´ë¦„ ë¶€ì—¬ */ ALTER TABLE employees ALGORITHM=INPLACE, LOCK=SHARED, ADD PARTITION(PARTITION p5 ENGINE=INNODB); /* íŒŒí‹°ì…˜ 6ê°œë¥¼ ì´ë¦„ ì—†ì´ ì¶”ê°€ */ ALTER TABLE employees ALGORITHM=INPLACE, LOCK=SHARED, ADD PARTITION PARTITIONS 6; ìœ„ì˜ ì˜ˆì œê°™ì´ í•´ì‹œ íŒŒí‹°ì…˜ì—ì„œ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì€ INPLACE ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤ê³  í•˜ë”ë¼ë„ ë ˆì½”ë“œ ë¦¬ë¹Œë“œ ì‘ì—…ì´ í•„ìš”í•˜ë©° í…Œì´ë¸”ì— ëŒ€í•œ ì½ê¸° ì ê¸ˆì´ í•„ìš”í•˜ë‹¤. ë”°ë¼ì„œ í•´ì‹œ íŒŒí‹°ì…˜ì—ì„œ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìƒì„±í•˜ëŠ” ì‘ì—…ì€ ë§ì€ ë¶€í•˜ë¥¼ ë°œìƒì‹œí‚¤ë©°, ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë™ì¼ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì€ í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.\ní•´ì‹œ íŒŒí‹°ì…˜ ì‚­ì œ í•´ì‹œë‚˜ í‚¤ íŒŒí‹°ì…˜ì€ íŒŒí‹°ì…˜ ë‹¨ìœ„ë¡œ ë ˆì½”ë“œë¥¼ ì‚­ì œí•˜ëŠ” ë°©ë²•ì´ ì—†ë‹¤.\n1 2 3 4 5 6 ALTER TABLE employees DROP PARTITION p0; /* Error Code : 1512 DROP PARTITION can only be used on RANGE/LIST partitions */ MySQL ì„œë²„ê°€ ì§€ì •í•œ íŒŒí‹°ì…˜ í‚¤ ê°’ì„ ê°€ê³µí•˜ì—¬ ë°ì´í„°ë¥¼ ê° íŒŒí‹°ì…˜ìœ¼ë¡œ ë¶„ì‚°í•œ ê²ƒì´ë¯€ë¡œ ê° íŒŒí‹°ì…˜ì— ì €ì¥ëœ ë ˆì½”ë“œê°€ ì–´ë–¤ ë¶€ë¥˜ì˜ ë°ì´í„°ì¸ì§€ ì‚¬ìš©ìê°€ ì˜ˆì¸¡í•  ìˆ˜ ì—†ë‹¤.\ní•´ì‹œ íŒŒí‹°ì…˜ì´ë‚˜ í‚¤ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•œ í…Œì´ë¸”ì—ì„œ íŒŒí‹°ì…˜ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ ì˜ë¯¸ë„ ì—†ìœ¼ë©° í•´ì„œë„ ì•ˆë  ì‘ì—…ì´ë‹¤.\ní•´ì‹œ íŒŒí‹°ì…˜ ë¶„í•  í•´ì‹œ íŒŒí‹°ì…˜ì´ë‚˜ í‚¤ íŒŒí‹°ì…˜ì—ì„œ íŠ¹ì • íŒŒí‹°ì…˜ì„ ë‘ ê°œ ì´ìƒì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ ë¶„í• í•˜ëŠ” ê¸°ëŠ¥ì€ ì—†ìœ¼ë©°, í…Œì´ë¸” ì „ì²´ì ìœ¼ë¡œ íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ë¥¼ ëŠ˜ë¦¬ëŠ” ì‘ì—…ë§Œ ê°€ëŠ¥í•˜ë‹¤.\ní•´ì‹œ íŒŒí‹°ì…˜ ë³‘í•© 2ê°œ ì´ìƒì˜ íŒŒí‹°ì…˜ì„ í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ í†µí•©í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•Šê³ , íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ë¥¼ ì¤„ì´ëŠ” ê²ƒë§Œ ê°€ëŠ¥í•˜ë‹¤.\n1 2 ALTER TABLE employees ALGORITHM=INPLACE, LOCK=SHARED COALESCE PARTITION 1; COALESCE PARTITION ë’¤ì— ëª…ì‹œí•œ ìˆ«ì ê°’ì€ ì¤„ì´ê³ ì í•˜ëŠ” íŒŒí‹°ì…˜ ê°œìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤.\në§ˆì°¬ê°€ì§€ë¡œ í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œê°€ ì¬ë°°ì¹˜ë˜ëŠ” ì‘ì—…ì´ ìˆ˜í–‰ë¼ì•¼í•œë‹¤.\ní•´ì‹œ íŒŒí‹°ì…˜ ì£¼ì˜ì‚¬í•­ íŠ¹ì • íŒŒí‹°ì…˜ë§Œ ì‚­ì œ í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì€ ë‹¨ìˆœíˆ íŒŒí‹°ì…˜ë§Œ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê¸°ì¡´ ëª¨ë“  ë°ì´í„°ì˜ ì¬ë°°ì¹˜ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. í•´ì‹œ íŒŒí‹°ì…˜ì€ ë ˆì¸ì§€ íŒŒí‹°ì…˜ì´ë‚˜ ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ê³¼ëŠ” ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ê´¸ë¦¬í•˜ê¸° ë•Œë¬¸ì— ìš©ë„ì— ì í•©í•œ í•´ê²°ì±…ì¸ì§€ í™•ì¸ì´ í•„ìš”í•˜ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ìµìˆ™í•œ íŒŒí‹°ì…˜ ì¡°ì‘ì´ë‚˜ íŠ¹ì„±ì€ ëŒ€ë¶€ë¶„ ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì´ë‚˜ ë ˆì¸ì§€ íŒŒí‹°ì…˜ì—ë§Œ í•´ë‹¹í•˜ëŠ” ê²ƒë“¤ì´ ë§ë‹¤. í•´ì‹œ, í‚¤ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ì¡°ì‘í•  ë•ŒëŠ” ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤. í‚¤ íŒŒí‹°ì…˜ í‚¤ íŒŒí‹°ì…˜ì€ í•´ì‹œ íŒŒí‹°ì…˜ê³¼ ì‚¬ìš©ë²•ê³¼ íŠ¹ì„±ì´ ê±°ì˜ ê°™ë‹¤.\ní‚¤ íŒŒí‹°ì…˜ì—ì„œëŠ” ì •ìˆ˜ íƒ€ì…ì´ë‚˜ ì •ìˆ˜ê°’ì„ ë°˜í™˜í•˜ëŠ” í‘œí˜„ì‹ ë¿ë§Œì•„ë‹ˆë¼ ëŒ€ë¶€ë¶„ì˜ ë°ì´í„° íƒ€ì…ì— ëŒ€í•´ íŒŒí‹°ì…˜ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤. ì„ ì •ëœ íŒŒí‹°ì…˜ í‚¤ì˜ ê°’ì„ MD5() í•¨ìˆ˜ë¥¼ ì´ìš©í•´ í•´ì‹œ ê°’ì„ ê³„ì‚°í•˜ê³ , ê·¸ ê°’ì„ MOD ì—°ì‚°í•˜ì—¬ ë°ì´í„°ë¥¼ ê° íŒŒí‹°ì…˜ì— ë¶„ë°°í•œë‹¤. í‚¤ íŒŒí‹°ì…˜ ìƒì„± 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 /* í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ìˆëŠ” ê²½ìš° ìë™ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ íŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©ë¨ */ CREATE TABLE k1 ( id INT NOT NULL, name VARCHAR(20), PRIMARY KEY (id) ) /* ê´„í˜¸ì˜ ë‚´ìš©ì„ ë¹„ì›Œë‘ë©´ ìë™ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ëª¨ë“  ì»¬ëŸ¼ì´ íŒŒí‹°ì…˜ í‚¤ê°€ ë¨, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ì¼ë¶€ë§Œ ëª…ì‹œí•  ìˆ˜ë„ ìˆìŒ */ PARTITION BY KEY() PARTITIONS 2; /* í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ì—†ì„ ë•Œ ìœ ë‹ˆí¬ í‚¤ê°€ ì¡´ì¬í•˜ë©´ íŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©ë¨ */ CREATE TABLE k1 ( id INT NOT NULL, name VARCHAR(20), UNIQUE KEY (id) ) PARTITION BY KEY() PARTITIONS 2; /* í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ì˜ ì»¬ëŸ¼ ì¼ë¶€ë¥¼ íŒŒí‹°ì…˜ í‚¤ë¡œ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì • */ CREATE TABLE dept_emp ( emp_no INT NOT NULL, dept_no CHAR(4) NOT NULL, ... PRIMARY KEY (dept_no, emp_no) ) /* ê´„í˜¸ ë‚´ìš©ì— í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ì¤‘ì—ì„œ ì¼ë¶€ë§Œ ì„ íƒí•˜ì—¬ íŒŒí‹°ì…˜ í‚¤ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥ */ PARTITION BY KEY(dept_no) PARTITIONS 2; í‚¤ íŒŒí‹°ì…˜ì˜ ì£¼ì˜í•˜í•­ ë° íŠ¹ì´ì‚¬í•­ í‚¤ íŒŒí‹°ì…˜ì€ MySQL ì„œë²„ê°€ ë‚´ë¶€ì ìœ¼ë¡œ MD5() í•¨ìˆ˜ë¥¼ ì´ìš©í•´ íŒŒí‹°ì…˜í•˜ê¸° ë•Œë¬¸ì— íŒŒí‹°ì…˜ í‚¤ê°€ ë°˜ë“œì‹œ ì •ìˆ˜ íƒ€ì…ì´ ì•„ë‹ˆì–´ë„ ëœë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ ì¤‘ ì¼ë¶€ë§Œìœ¼ë¡œë„ íŒŒí‹°ì…˜ í•  ìˆ˜ ìˆë‹¤. ìœ ë‹ˆí¬ í‚¤ë¥¼ íŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©í•  ë•Œ í•´ë‹¹ ìœ ë‹ˆí¬ í‚¤ëŠ” ë°˜ë“œì‹œ NOT NULLì´ì–´ì•¼ í•œë‹¤. í•´ì‹œ íŒŒí‹°ì…˜ì— ë¹„í•´ íŒŒí‹°ì…˜ ê°„ì˜ ë ˆì½”ë“œë¥¼ ë” ê· ë“±í•˜ê²Œ ë¶„í• í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í‚¤ íŒŒí‹°ì…˜ì´ ë” íš¨ìœ¨ì ì´ë‹¤. ë¦¬ë‹ˆì–´ í•´ì‹œ íŒŒí‹°ì…˜/ë¦¬ë‹ˆì–´ í‚¤ íŒŒí‹°ì…˜ í•´ì‹œ, í‚¤ íŒŒí‹°ì…˜ì€ ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ íŒŒí‹°ì…˜ì„ í†µí•©í•´ì„œ ê°œìˆ˜ë¥¼ ì¤„ì¼ ë•Œ ëŒ€ìƒ íŒŒí‹°ì…˜ë§Œì´ ì•„ë‹ˆë¼ í…Œì´ë¸”ì˜ ì „ì²´ íŒŒì´ì…˜ì— ì €ì¥ëœ ë ˆì½”ë“œì˜ ì¬ë¶„ë°° ì‘ì—…ì´ ë°œìƒí•˜ëŠ”ë°, ì´ëŸ¬í•œ ë‹¨ì ì„ ìµœì†Œí™” í•˜ê¸° ìœ„í•´ ë¦¬ë‹ˆì–´ í•´ì‹œ íŒŒí‹°ì…˜/ë¦¬ë‹ˆì–´ í‚¤ íŒŒí‹°ì…˜ ì•Œê³ ë¦¬ì¦˜ì´ ê³ ì•ˆë˜ì—ˆë‹¤.\nê° ë ˆì½”ë“œ ë¶„ë°°ë¥¼ ìœ„í•´ \u0026ldquo;Power-of-two(2ì˜ ìŠ¹ìˆ˜)\u0026rdquo; ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•˜ë©°, íŒŒí‹°ì…˜ì˜ ì¶”ê°€ë‚˜ í†µí•© ì‹œ ë‹¤ë¥¸ íŒŒí‹°ì…˜ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ìµœì†Œí™”í•œë‹¤.\nPower-of-two ì•Œê³ ë¦¬ì¦˜ í•´ì‹œ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ 2ì˜ ê±°ë“­ì œê³± ìˆ˜ë¡œ ì •ì˜ë˜ëŠ” ê²½ìš° ì‚¬ìš©ë˜ëŠ” í•´ì‹œ ì¶©ëŒ í•´ê²° ë°©ë²• ì¤‘ í•˜ë‚˜ë¡œ, í•´ì‹œ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ 2^nì´ë¼ë©´ ì ì ˆí•˜ê²Œ ë™ì‘í•  ìˆ˜ ìˆë‹¤.\ní•´ì‹œ í…Œì´ë¸”ì˜ í¬ê¸°ë¥¼ 2^nìœ¼ë¡œ ì„¤ì •í•œë‹¤. í‚¤ë¥¼ í•´ì‹œ í•¨ìˆ˜ì— ë„£ì–´ í•´ì‹œ ê°’ì„ ê³„ì‚°í•œë‹¤. ê³„ì‚°ëœ í•´ì‹œ ê°’ì„ 2^nìœ¼ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ë²„í‚· ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©í•œë‹¤. í•´ì‹œ ì¶©ëŒì´ ë°œìƒí•  ê²½ìš°, ë‹¤ìŒ ë¹ˆ ë²„í‚·ìœ¼ë¡œ ì´ë™í•˜ì—¬ ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¶©ëŒì„ í•´ê²°í•œë‹¤.\në§Œì•½ ì¶©ëŒì´ ë°œìƒí•œ ìœ„ì¹˜ê°€ ì´ë¯¸ ì‚¬ìš©ì¤‘ì¸ ê²½ìš°, ë‹¤ìŒ ë²„í‚·ì„ ê²€ì‚¬í•˜ê³  ë¹„ì–´ìˆëŠ” ë²„í‚·ì„ ì°¾ì„ ë•Œê¹Œì§€ ë°˜ë³µí•˜ë©°, ì´ëŸ¬í•œ ê³¼ì •ì„ ì„ í˜• íƒì‚¬ë¼ê³  í•œë‹¤.\në¦¬ë‹ˆì–´ í•´ì‹œ íŒŒí‹°ì…˜/ë¦¬ë‹ˆì–´ í‚¤ íŒŒí‹°ì…˜ì˜ ì¶”ê°€ ë° í†µí•© ë¦¬ë‹ˆì–´ íŒŒí‹°ì…˜ì˜ ê²½ìš° ë‹¨ìˆœíˆ ë‚˜ë¨¸ì§€ ì—°ì‚°ìœ¼ë¡œ ë ˆì½”ë“œê°€ ì €ì¥ë  íŒŒí‹°ì…˜ì„ ê²°ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, \u0026ldquo;Power-of-two\u0026rdquo; ë¶„ë°° ë°©ì‹ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— íŒŒí‹°ì…˜ì˜ ì¶”ê°€ë‚˜ í†µí•© ì‹œ íŠ¹ì • íŒŒí‹°ì…˜ì˜ ë°ì´í„°ì—ëŒ€í•´ì„œë§Œ ì´ë™ ì‘ì—…ì„ í•˜ë©´ ëœë‹¤.\níŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ í†µí•©í•˜ëŠ” ì‘ì—…ì—ì„œ ë‚˜ë¨¸ì§€ íŒŒí‹°ì…˜ì˜ ë°ì´í„°ëŠ” ì¬ë¶„ë°° ëŒ€ìƒì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.\në¦¬ë‹ˆì–´ í•´ì‹œ íŒŒí‹°ì…˜/ë¦¬ë‹ˆì–´ í‚¤ íŒŒí‹°ì…˜ì˜ ì¶”ê°€ ë¦¬ë‹ˆì–´ íŒŒí‹°ì…˜ì— ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ëŠ” ëª…ë ¹ì€ ì¼ë°˜ í•´ì‹œ íŒŒí‹°ì…˜ì´ë‚˜ í‚¤ íŒŒí‹°ì…˜ê³¼ ë™ì¼í•˜ë©° í‚¤ ë¶„ë°° ì•Œê³ ë¦¬ì¦˜ì—ë§Œ ì°¨ì´ê°€ ìˆë‹¤.\në¦¬ë‹ˆì–´ íŒŒí‹°ì…˜ì€ \u0026ldquo;Power-of-two\u0026rdquo; ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë ˆì½”ë“œê°€ ë¶„ë°°ë¼ ìˆê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•  ë•Œë„ íŠ¹ì • íŒŒí‹°ì…˜ì˜ ë ˆì½”ë“œë§Œ ì¬ë¶„ë°° í•˜ë©´ ëœë‹¤.\në‹¤ë¥¸ íŒŒí‹°ì…˜ ë°ì´í„°ëŠ” ë ˆì½”ë“œ ì¬ë¶„ë°° ì‘ì—…ê³¼ ê´€ë ¨ì´ ì—†ê¸° ë•Œë¬¸ì— ì¼ë°˜ í•´ì‹œ íŒŒí‹°ì…˜ì´ë‚˜ í‚¤ íŒŒí‹°ì…˜ì˜ íŒŒí‹°ì…˜ ì¶”ê°€ë³´ë‹¤ ë§¤ìš° ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\në¦¬ë‹ˆì–´ í•´ì‹œ íŒŒí‹°ì…˜/ë¦¬ë‹ˆì–´ í‚¤ íŒŒí‹°ì…˜ í†µí•© ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•  ë•Œì™€ ê°™ì´ ì¼ë¶€ íŒŒí‹°ì…˜ì— ëŒ€í•´ì„œë§Œ ë ˆì½”ë“œ í†µí•© ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. í†µí•©ë˜ëŠ” íŒŒí‹°ì…˜ë§Œ ë ˆì½”ë“œ ì´ë™ì´ í•„ìš”í•˜ë©°, ë‚˜ë¨¸ì§€ íŒŒí‹°ì…˜ì˜ ë ˆì½”ë“œëŠ” ë ˆì½”ë“œ ì¬ë¶„ë°° ì‘ì—…ì—ì„œ ì œì™¸ëœë‹¤.\në¦¬ë‹ˆì–´ í•´ì‹œ íŒŒí‹°ì…˜/ë¦¬ë‹ˆì–´ í‚¤ íŒŒí‹°ì…˜ê³¼ ê´€ë ¨ëœ ì£¼ì˜ì‚¬í•­ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ í†µí•©í•  ë•Œ ì‘ì—…ì˜ ë²”ìœ„ë¥¼ ìµœì†Œí™”í•˜ëŠ” ëŒ€ì‹  ê° íŒŒí‹°ì…˜ì´ ê°€ì§€ëŠ” ë ˆì½”ë“œì˜ ê±´ìˆ˜ëŠ” ì¼ë°˜ í•´ì‹œ íŒŒí‹°ì…˜ì´ë‚˜ í‚¤ íŒŒí‹°ì…˜ë³´ë‹¤ëŠ” ëœ ê· ë“±í•´ì§ˆ ìˆ˜ ìˆë‹¤.\ní•´ì‹œ íŒŒí‹°ì…˜ì´ë‚˜ í‚¤ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì— ëŒ€í•´ ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•´ì•¼ í•  ìš”ê±´ì´ ë§ë‹¤ë©´ ë¦¬ë‹ˆì–´ í•´ì‹œ íŒŒí‹°ì…˜ ë˜ëŠ” ë¦¬ë‹ˆì–´ í‚¤ íŒŒí‹°ì…˜ì„ ì ìš©í•˜ëŠ” ê²ƒì˜ ì¢‹ìœ¼ë‚˜, íŒŒí‹°ì…˜ì„ ì¡°ì •í•  í•„ìš”ê°€ ê±°ì˜ ì—†ë‹¤ë©´ ì¼ë°˜ í•´ì‹œ íŒŒí‹°ì…˜ì´ë‚˜ í‚¤ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\níŒŒí‹°ì…˜ í…Œì´ë¸”ì˜ ì¿¼ë¦¬ ì„±ëŠ¥ íŒŒí‹°ì…˜ í…Œì´ë¸”ì— ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ë•Œ í…Œì´ë¸”ì˜ ëª¨ë“  íŒŒí‹°ì…˜ì„ ì½ì„ì§€ ì•„ë‹ˆë©´ ì¼ë¶€ íŒŒí‹°ì…˜ë§Œ ì½ì„ì§€ëŠ” ì„±ëŠ¥ì— ì•„ì£¼ í°ì˜í–¥ì„ ë¯¸ì¹œë‹¤.\nì¿¼ë¦¬ì˜ ì„±ëŠ¥ì€ í…Œì´ë¸”ì—ì„œ ì–¼ë§ˆë‚˜ ë§ì€ íŒŒí‹°ì…˜ì„ í”„ë£¨ë‹í•  ìˆ˜ ìˆëŠ”ì§€ê°€ ê´€ê±´ì´ë©°, ì˜µí‹°ë§ˆì´ì €ê°€ ìˆ˜ë¦½í•˜ëŠ” ì‹¤í–‰ ê³„íšì—ì„œ ì–´ë–¤ íŒŒí‹°ì…˜ì— ì œì™¸ë˜ê³  ì„ íƒë˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë ˆì¸ì§€ íŒŒí‹°ì…˜ì´ë‚˜ ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì—ì„œ ê°œë³„ íŒŒí‹°ì…˜ì„ ëª…ì‹œí•´ì•¼í•˜ë¯€ë¡œ, ë ˆì¸ì§€ íŒŒí‹°ì…˜ì´ë‚˜ ë¦¬ìŠ¤íŠ¸ íŒŒí‹°ì…˜ì´ ì‚¬ìš©ë˜ëŠ” í…Œì´ë¸”ì˜ ê°œìˆ˜ëŠ” íŒŒí‹°ì…˜ ê°œìˆ˜ëŠ” ì ì€í¸ì´ë‹¤. í•´ì‹œë‚˜ í‚¤ íŒŒí‹°ì…˜ì˜ ê²½ìš° íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ë§Œ ì§€ì •í•˜ë©´ ë˜ë¯€ë¡œ ë§ì€ íŒŒí‹°ì…˜ì„ ê°€ì§„ í…Œì´ë¸”ë„ ì‰½ê²Œ ìƒì„±í•  ìˆ˜ ìˆì–´ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤. ì¸ë±ìŠ¤ê°€ ìˆë‹¤ê³  í•˜ë”ë¼ë„ íŒŒí‹°ì…˜ í…Œì´ë¸” ì¡°íšŒê°€ í•„ìš”í•˜ë¯€ë¡œ íŒŒí‹°ì…˜ ì¡°ê±´ì— ë”°ë¼ íŒŒí‹°ì…˜ í…Œì´ë¸”ì„ ëª¨ë‘ í™•ì¸í•´ì•¼ í•  ìˆ˜ ìˆë‹¤. ì¼ë¶€ íŒŒí‹°ì…˜ë§Œ ì§‘ì¤‘ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤ë©´ ë¬¸ì œ ì—†ê² ì§€ë§Œ, ê· ë“±í•˜ê²Œ íŒŒí‹°ì…˜ ë˜ì—ˆë‹¤ë©´ ì˜¤ë²„í—¤ë“œê°€ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤. MySQL ì„œë²„ì˜ íŒŒí‹°ì…˜ì€ ìƒ¤ë”©ì´ ì•„ë‹ˆë¯€ë¡œ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•  ë•ŒëŠ” ë°˜ë“œì‹œ íŒŒí‹°ì…˜ í”„ë£¨ë‹ì´ ì–¼ë§ˆë‚˜ ë„ì›€ì´ ë ì§€ ì˜ˆì¸¡í•´ë³´ê³  ì ìš©í•´ì•¼í•œë‹¤. ","date":"2023-08-28T09:54:10+09:00","image":"https://codemario318.github.io/post/real-mysql/13/3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/13/3/","title":"13.3 íŒŒí‹°ì…˜ - MySQL íŒŒí‹°ì…˜ì˜ ì¢…ë¥˜"},{"content":"íŒŒí‹°ì…˜ì€ 5.1 ë²„ì „ë¶€í„° ë„ì…ë˜ì–´ 8.0 ë²„ì „ê¹Œì§€ ë§ì€ ë°œì „ì´ ìˆì—ˆì§€ë§Œ, ì•„ì§ë„ ë§ì€ ì œì•½ì„ ì§€ë‹ˆê³ ìˆë‹¤.\nëŒ€ë¶€ë¶„ íŒŒí‹°ì…˜ì˜ íƒœìƒì ì¸ í•œê³„ì´ê¸° ë•Œë¬¸ì— MySQL ì„œë²„ê°€ ì•„ë¬´ë¦¬ ì—…ê·¸ë ˆì´ë“œ ëœë‹¤ê³  í•˜ë”ë¼ë„ ì—¬ì „íˆ ê°€ì§ˆ ì œì•½ì‚¬í•­ì¼ ìˆ˜ë„ ìˆë‹¤.\níŒŒí‹°ì…˜ì˜ ì œì•½ ì‚¬í•­ 1 2 3 4 5 6 7 8 9 10 11 CREATE TABLE tb_article ( article_id INT NOT NULL AUTO_INCREMENT, reg_date DATETIME NOT NULL, ... PRIMARY KEY(article_id, reg_date) ) PARTITION BY RANGE ( YEAR(reg_Date) ) ( PRATITION p2009 VALUES LESS THAN (2010), PRATITION p2010 VALUES LESS THAN (2011), PRATITION p2011 VALUES LESS THAN (2012), PRATITION p9999 VALUES LESS THAN MAXVALUE ); PARTITION BY RANGE ì ˆì€ ì´ í…Œì´ë¸”ì´ ë ˆì¸ì§€ íŒŒí‹°ì…˜ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nìŠ¤í† ì–´ë“œ ë£¨í‹´ì´ë‚˜ UDF, ì‚¬ìš©ì ë³€ìˆ˜ ë“±ì„ íŒŒí‹°ì…˜ í‘œí˜„ì‹ì— ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. íŒŒí‹°ì…˜ í‘œí˜„ì‹ì€ ì¼ë°˜ì ìœ¼ë¡œ ì»¬ëŸ¼ ê·¸ ìì²´ ë˜ëŠ” MySQL ë‚´ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ì¼ë¶€ í•¨ìˆ˜ë“¤ì€ íŒŒí‹°ì…˜ ìƒì„±ì€ ê°€ëŠ¥í•˜ì§€ë§Œ í”„ë£¨ë‹ì„ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ í¬í•¨í•´ì„œ í…Œì´ë¸”ì˜ ëª¨ë“  ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ëŠ” íŒŒí‹°ì…˜ í‚¤ ì»¬ëŸ¼ì„ í¬í•¨í•´ì•¼ í•œë‹¤. íŒŒí‹°ì…˜ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ëŠ” ëª¨ë‘ ë¡œì»¬ ì¸ë±ìŠ¤ì´ë©°, ë™ì¼ í…Œì´ë¸”ì— ì†Œì†ëœ ëª¨ë“  íŒŒí‹°ì…˜ì€ ê°™ì€ êµ¬ì¡°ì˜ ì¸ë±ìŠ¤ë§Œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. íŒŒí‹°ì…˜ ê°œë³„ë¡œ ì¸ë±ìŠ¤ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì¶”ê°€í•  ìˆ˜ ì—†ë‹¤. ë™ì¼ í…Œì´ë¸”ì— ì†í•œ ëª¨ë“  íŒŒí‹°ì…˜ì€ ë™ì¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ë§Œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ì„œë¸Œ íŒŒí‹°ì…˜ê¹Œì§€ í¬í•¨í•˜ì—¬ 8192ê°œì˜ íŒŒí‹°ì…˜ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. íŒŒí‹°ì…˜ ìƒì„± ì´í›„ MySQL sql_mode ì‹œìŠ¤í…œ ë³€ìˆ˜ ë³€ê²½ì€ ë°ì´í„° íŒŒí‹°ì…˜ì˜ ì¼ê´€ì„±ì„ ê¹¨ëœ¨ë¦´ ìˆ˜ ìˆë‹¤. íŒŒí‹°ì…˜ í…Œì´ë¸”ì—ì„œëŠ” ì™¸ë˜í‚¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. íŒŒí‹°ì…˜ í…Œì´ë¸”ì€ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ ìƒì„±ì´ë‚˜ ì „ë¬¸ ê²€ìƒ‰ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ê³µê°„ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì»¬ëŸ¼ íƒ€ì…ì€ íŒŒí‹°ì…˜ í…Œì´ë¸”ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì„ì‹œ í…Œì´ë¸”ì€ íŒŒí‹°ì…˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ íŒŒí‹°ì…˜ í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ ê°€ì¥ í¬ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì œì•½ ì‚¬í•­ì€ ëª¨ë“œ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì— íŒŒí‹°ì…˜ í‚¤ ì»¬ëŸ¼ì´ í¬í•¨ë¼ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.\níŒŒí‹°ì…˜ í‘œí˜„ì‹ì—ëŠ” ê¸°ë³¸ì ì¸ ì‚°ìˆ  ì—°ì‚°ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ì¶”ê°€ë¡œ MySQL ë‚´ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\në‚´ì¥ í•¨ìˆ˜ë“¤ì„ íŒŒí‹°ì…˜ í‘œí˜„ì‹œê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  í•´ì„œ ëª¨ë‘ íŒŒí‹°ì…˜ í”„ë£¨ë‹ì„ ì§€ì›í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ ë©”ë‰´ì–¼ì„ ì°¸ì¡°í•˜ì. íŒŒí‹°ì…˜ ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­ íŒŒí‹°ì…˜ í…Œì´ë¸”ì˜ ê²½ìš° í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ í¬í•¨í•œ ìœ ë‹ˆí¬ í‚¤ì— ëŒ€í•´ì„œëŠ” ìƒë‹¹íˆ ë¨¸ë¦¬ ì•„í”ˆ ì œì•½ì‚¬í•­ì´ ìˆë‹¤.\níŒŒí‹°ì…˜ì˜ ëª©ì ì€ ì‘ì—… ë²”ìœ„ë¥¼ ì¢íˆëŠ” ê²ƒì¸ë°, ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ëŠ” ì¤‘ë³µ ë ˆì½”ë“œì— ëŒ€í•œ ì²´í¬ ì‘ì—… ë•Œë¬¸ì— ë²”ìœ„ê°€ ì¢í˜€ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì´ë‹¤.\nMySQL íŒŒí‹°ì…˜ì€ ì¼ë°˜ í…Œì´ë¸”ê³¼ ê°™ì´ ë³„ë„ì˜ íŒŒì¼ë¡œ ê´€ë¦¬ë˜ëŠ”ë°, ì´ì™€ ê´€ë ¨í•˜ì—¬ ì„œë²„ê°€ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” íŒŒì¼ì˜ ê°œìˆ˜ì™€ ì—°ê´€ëœ ì œì•½ë„ ìˆë‹¤.\níŒŒí‹°ì…˜ê³¼ ìœ ë‹ˆí¬ í‚¤(í”„ë¼ì´ë¨¸ë¦¬ í‚¤ í¬í•¨) ì¢…ë¥˜ì™€ ê´€ê³„ì—†ì´ í…Œì´ë¸”ì— ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ìˆìœ¼ë©´ íŒŒí‹°ì…˜ í‚¤ëŠ” ëª¨ë“  ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì˜ ì¼ë¶€ ë˜ëŠ” ëª¨ë“  ì»¬ëŸ¼ì„ í¬í•¨í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 CREATE TABLE tb_parition ( fd1 INT NOT NULL, fd2 INT NOT NULL, fd3 INT NOT NULL, UNIQUE KEY (fb1, fb2) ) PARTITION BY HASH (fd3) PARTITIONS 4 ; CREATE TABLE tb_parition ( fd1 INT NOT NULL, fd2 INT NOT NULL, fd3 INT NOT NULL, UNIQUE KEY (fb1), UNIQUE KEY (fb2) ) PARTITION BY HASH (fd1 + fd2) PARTITIONS 4 ; CREATE TABLE tb_parition ( fd1 INT NOT NULL, fd2 INT NOT NULL, fd3 INT NOT NULL, PRIMARY KEY (fb1), UNIQUE KEY (fb2, fb3) ) PARTITION BY HASH (fd1 + fd2) PARTITIONS 4 ; ìœ„ ì˜ˆì‹œëŠ” ëª¨ë‘ ì˜ëª»ëœ í…Œì´ë¸” íŒŒí‹°ì…˜ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì´ë‹¤.\nìœ ë‹ˆí¬ í‚¤ì— ëŒ€í•´ íŒŒí‹°ì…˜ í‚¤ê°€ ì œëŒ€ë¡œ ì„¤ì •ëëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ê° ìœ ë‹ˆí¬ í‚¤ì— ëŒ€í•´ ê°’ì´ ì£¼ì–´ì¡Œì„ ë•Œ í•´ë‹¹ ë ˆì½”ë“œê°€ ì–´ëŠ íŒŒí‹°ì…˜ì— ì €ì¥ë¼ ìˆëŠ”ì§€ ê³„ì‚°í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ì ì„ ê¸°ì–µí•˜ë©´ ëœë‹¤.\nì²« ë²ˆì§¸ ì¿¼ë¦¬ëŠ” ìœ ë‹ˆí¬ í‚¤ì™€ íŒŒí‹°ì…˜ í‚¤ê°€ ì „í˜€ ì—°ê´€ì´ ì—†ê¸° ë•Œë¬¸ì— ë¶ˆê°€ëŠ¥ ë‘ ë²ˆì§¸ ì¿¼ë¦¬ëŠ” ì²« ë²ˆì§¸ ìœ ë‹ˆí¬ í‚¤ ì»¬ëŸ¼ì¸ fd1ë§Œìœ¼ë¡œ íŒŒí‹°ì…˜ ê²°ì •ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤(fd2 ì»¬ëŸ¼ë„ ê°™ì´ ìˆì–´ì•¼ íŒŒí‹°ì…˜ ìœ„ì¹˜ë¥¼ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.) ì„¸ ë²ˆì§¸ ì¿¼ë¦¬ ë˜í•œ fd1 ê°’ ë§Œìœ¼ë¡œ íŒŒí‹°ì…˜ íŒë‹¨ì´ ë˜ì§€ ì•Šìœ¼ë©°, ìœ ë‹ˆí¬ í‚¤ì¸ fd2, fd3ë¡œë„ íŒŒí‹°ì…˜ ìœ„ì¹˜ë¥¼ ê²°ì •í•  ìˆ˜ ì—†ë‹¤. ì•„ë˜ëŠ” ì˜³ì€ ì˜ˆì‹œì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 CREATE TABLE tb_parition ( fd1 INT NOT NULL, fd2 INT NOT NULL, fd3 INT NOT NULL, UNIQUE KEY (fb1, fb2, fd3) ) PARTITION BY HASH (fd1) PARTITIONS 4 ; CREATE TABLE tb_parition ( fd1 INT NOT NULL, fd2 INT NOT NULL, fd3 INT NOT NULL, UNIQUE KEY (fb1, fd2) ) PARTITION BY HASH (fd1 + fd2) PARTITIONS 4 ; CREATE TABLE tb_parition ( fd1 INT NOT NULL, fd2 INT NOT NULL, fd3 INT NOT NULL, PRIMARY KEY (fb1, fd2, fd3), UNIQUE KEY (fb3) ) PARTITION BY HASH (fd3) PARTITIONS 4 ; íŒŒí‹°ì…˜ê³¼ open_files_limit ì‹œìŠ¤í…œ ë³€ìˆ˜ ì„¤ì • MySQLì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ í…Œì´ì„ íŒŒì¼ ë‹¨ìœ„ë¡œ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— MySQL ì„œë²„ì—ì„œ ë™ì‹œì— ì˜¤í”ˆëœ íŒŒì¼ì˜ ê°œìˆ˜ê°€ ìƒë‹¹íˆ ë§ì•„ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ë¥¼ ì œí•œí•˜ê¸° ìœ„í•´ ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ë™ì‹œì— ì˜¤í”ˆí•  ìˆ˜ ìˆëŠ” ì ì ˆí•œ íŒŒì¼ì˜ ê°œìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ”ë°, íŒŒí‹°ì…˜ ë˜ì§€ ì•Šì€ ì¼ë°˜ í…Œì´ë¸”ì€ í…Œì´ë¸” 1ê°œë‹¹ ì˜¤í”ˆëœ íŒŒì¼ì˜ ê°œìˆ˜ê°€ 2~3ê°œ ìˆ˜ì¤€ì´ì§€ë§Œ íŒŒí‹°ì…˜ í…Œì´ë¸”ì—ì„œëŠ” íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ * 2~3 ê°œê°€ ëœë‹¤.\në”°ë¼ì„œ íŒŒí‹°ì…˜ì„ ë§ì´ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì‹œìŠ¤í…œ ì ¼ìˆ˜ë¥¼ ì ˆì ˆíˆ ë†’ì€ ê°’ìœ¼ë¡œ ë‹¤ì‹œ ì„¤ì •í•  í•„ìš”ê°€ ìˆë‹¤.\n","date":"2023-08-27T20:24:10+09:00","image":"https://codemario318.github.io/post/real-mysql/13/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/13/2/","title":"13.2 íŒŒí‹°ì…˜ - ì£¼ì˜ì‚¬í•­"},{"content":"íŒŒí‹°ì…˜ ê¸°ëŠ¥ì€ í…Œì´ë¸”ì„ ë…¼ë¦¬ì ìœ¼ë¡œëŠ” í•˜ë‚˜ì˜ í…Œì´ë¸”ì´ì§€ë§Œ ë¬¼ë¦¬ì ìœ¼ë¡œëŠ” ì—¬ëŸ¬ ê°œì˜ í…Œì´ë¸”ë¡œ ë¶„ë¦¬í•´ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.\nì£¼ë¡œ ëŒ€ìš©ëŸ‰ í…Œì´ë¸”ì„ ë¬¼ë¦¬ì ìœ¼ë¡œ ì—¬ëŸ¬ ê°œì˜ ì†Œê·œëª¨ í…Œì´ë¸”ë¡œ ë¶„ì‚°í•˜ëŠ” ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. íŒŒí‹°ì…˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë”ë¼ë„ ì–´ë–¤ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠëƒì— ë”°ë¼ ì˜¤íˆë¦¬ ì„±ëŠ¥ì´ ë” ë‚˜ë¹ ì§€ëŠ” ê²½ìš°ë„ ë°œìƒí•  ìˆ˜ ìˆë‹¤. MySQL íŒŒí‹°ì…˜ì´ ì ìš©ëœ í…Œì´ë¸”ì—ì„œ INSERTë‚˜ SELECT ê°™ì€ ì¿¼ë¦¬ê°€ ì–´ë–»ê²Œ ì‹¤í–‰ë˜ëŠ”ì§€ ì´í•´í•œë‹¤ë©´ íŒŒí‹°ì…˜ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ì¥ ìµœì ì¼ì§€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.\níŒŒí‹°ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ  í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ë§ì•„ì§„ë‹¤ê³  í•´ì„œ ë¬´ì¡°ê±´ íŒŒí‹°ì…˜ì„ ì ìš©í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì¸ ê²ƒì€ ì•„ë‹ˆë‹¤.\ní•˜ë‚˜ì˜ í…Œì´ë¸”ì´ ë„ˆë¬´ ì»¤ì„œ ì¸ë±ìŠ¤ì˜ í¬ê¸°ê°€ ë¬¼ë¦¬ì ì¸ ë©”ëª¨ë¦¬ë³´ë‹¤ í›¨ì”¬ í° ê²½ìš° ë°ì´í„° íŠ¹ì„±ìƒ ì£¼ê¸°ì ì¸ ì‚­ì œ ì‘ì—…ì´ í•„ìš”í•œ ê²½ìš° ë‹¨ì¼ INSERTì™€ ë‹¨ì¼ ë˜ëŠ” ë²”ìœ„ SELECTì˜ ë¹ ë¥¸ ì²˜ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¸ë±ìŠ¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ SELECTë¥¼ ìœ„í•œ ê²ƒìœ¼ë¡œ ë³´ì´ì§€ë§Œ UPDATEë‚˜ DELETE ì¿¼ë¦¬ë¥¼ ìœ„í•´ í•„ìš”í•œ ë•Œë„ ë§ë‹¤.\në¬¼ë¡  ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ ì¸ë±ìŠ¤ ë³€ê²½ì„ ìœ„í•œ ë¶€ê°€ì ì¸ ì‘ì—…ì´ ë°œìƒí•˜ì§€ë§Œ ì²˜ë¦¬ ëŒ€ìƒ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•˜ë ¤ë©´ ì¸ë±ìŠ¤ê°€ í•„ìˆ˜ì ì´ì§€ë§Œ ì¸ë±ìŠ¤ê°€ ì»¤ì§€ë©´ ì»¤ì§ˆìˆ˜ë¡ ëŠë ¤ì§€ëŠ” ë‹¨ì ì´ ìˆë‹¤.\níŠ¹íˆ í•œ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ í¬ê¸°ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ MySQLì´ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ ê³µê°„ë³´ë‹¤ í¬ë‹¤ë©´ ì˜í–¥ì€ ë” ì‹¬ê°í•˜ë‹¤.\ní…Œì´ë¸”ì˜ ë°ì´í„°ëŠ” ì‹¤ì§ˆì ì¸ ë¬¼ë¦¬ ë©”ëª¨ë¦¬ë³´ë‹¤ í° ê²ƒì´ ì¼ë°˜ì ì´ê² ì§€ë§Œ, ì¸ë±ìŠ¤ì˜ ì›Œí‚¹ ì…‹ì´ ì‹¤ì§ˆì ì¸ ë¬¼ë¦¬ ë©”ëª¨ë¦¬ë³´ë‹¤ í¬ë‹¤ë©´ ì¿¼ë¦¬ ì²˜ë¦¬ê°€ ìƒë‹¹íˆ ëŠë ¤ì§„ë‹¤.\níŒŒí‹°ì…˜í•˜ì§€ ì•Šê³  í•˜ë‚˜ì˜ í° í…Œì´ë¸”ë¡œ ì‚¬ìš©í•˜ë©´ ì¸ë±ìŠ¤ë„ ì»¤ì§€ê³  ê·¸ë§Œí¼ ë¬¼ë¦¬ì ì¸ ë©”ëª¨ë¦¬ ê³µê°„ë„ ë§ì´ í•„ìš”í•˜ë¯€ë¡œ, íŒŒí‹°ì…˜ì„ í†µí•´ ë°ì´í„°ì™€ ì¸ë±ìŠ¤ë¥¼ ì¡°ê°í™”í•´ì„œ ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ì¤€ë‹¤.\në°ì´í„°ì˜ ë¬¼ë¦¬ì ì¸ ì €ì¥ì†Œë¥¼ ë¶„ë¦¬ ë°ì´í„° íŒŒì¼ì´ë‚˜ ì¸ë±ìŠ¤ íŒŒì¼ì´ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ì°¨ì§€í•˜ëŠ” ê³µê°„ì´ í¬ë‹¤ë©´ ê·¸ë§Œí¼ ë°±ì—…ì´ë‚˜ ê´€ë¦¬ ì‘ì—…ì´ ì–´ë ¤ì›Œì§„ë‹¤. MySQLì€ í…Œì´ë¸”ì˜ ë°ì´í„°ë‚˜ ì¸ë±ìŠ¤ë¥¼ íŒŒì¼ ë‹¨ìœ„ë¡œ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë” ì¹˜ëª…ì ì¸ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œëŠ” íŒŒí‹°ì…˜ì„ í†µí•´ íŒŒì¼ì˜ í¬ê¸°ë¥¼ ì¡°ì ˆí•˜ê±°ë‚˜ íŒŒí‹°ì…˜ë³„ íŒŒì¼ë“¤ì´ ì €ì¥ë  ìœ„ì¹˜ë‚˜ ë””ìŠ¤í¬ë¥¼ êµ¬ë¶„í•´ì„œ ì§€ì •í•´ í•´ê²°í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\ní•˜ì§€ë§Œ MySQLì—ì„œëŠ” í…Œì´ë¸”ì˜ íŒŒí‹°ì…˜ ë‹¨ìœ„ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ê±°ë‚˜ íŒŒí‹°ì…˜ë³„ë¡œ ë‹¤ë¥¸ ì¸ë±ìŠ¤ë¥¼ ê°€ì§€ëŠ” í˜•íƒœëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.\nì´ë ¥ ë°ì´í„°ì˜ íš¨ìœ¨ì ì¸ ê´€ë¦¬ ê±°ì˜ ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¡œê·¸ë¼ëŠ” ì´ë ¥ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆëŠ”ë°, ì´ëŠ” ë‹¨ê¸°ê°„ì— ëŒ€ëŸ‰ìœ¼ë¡œ ëˆ„ì ë¨ê³¼ ë™ì‹œì— ì¼ì • ê¸°ê°„ì´ ì§€ë‚˜ë©´ ì“¸ëª¨ê°€ ì—†ì–´ì§„ë‹¤.\në¡œê·¸ ë°ì´í„°ëŠ” ê²°êµ­ ì‹œê°„ì´ ì§€ë‚˜ë©´ ë³„ë„ë¡œ ì•„ì¹´ì´ë¹™í•˜ê±°ë‚˜ ë°±ì—…í•œ í›„ ì‚­ì œí•´ë²„ë¦¬ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë©°, íŠ¹íˆ ë‹¤ë¥¸ ë°ì´í„°ì— ë¹„í•´ ë¼ì´í”„ ì‚¬ì´í´ì´ ìƒë‹¹íˆ ì§§ë‹¤.\në¡œê·¸ í…Œì´ë¸”ì—ì„œ ë¶ˆí•„ìš”í•´ì§„ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ ì¼ë°˜ í…Œì´ë¸”ì—ì„œëŠ” ìƒë‹¹íˆ ê³ ë¶€í•˜ ì‘ì—…ì— ì†í•œë‹¤.\në¡œê·¸ í…Œì´ë¸”ì„ íŒŒí‹°ì…˜ í…Œì´ë¸”ë¡œ ê´€ë¦¬í•œë‹¤ë©´ í’€í•„ìš”í•œ ë°ì´í„° ì‚­ì œ ì‘ì—…ì€ ë‹¨ìˆœíˆ íŒŒí‹°ì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê°„ë‹¨í•˜ê³  ë¹ ë¥´ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤. MySQL íŒŒí‹°ì…˜ì˜ ë‚´ë¶€ ì²˜ë¦¬ 1 2 3 4 5 6 7 8 9 10 11 CREATE TABLE tb_article ( article_id INT NOT NULL, reg_date DATETIME NOT NULL, ... PRIMARY KEY(article_id, reg_date) ) PARTITION BY RANGE ( YEAR(reg_Date) ) ( PRATITION p2009 VALUES LESS THAN (2010), PRATITION p2010 VALUES LESS THAN (2011), PRATITION p2011 VALUES LESS THAN (2012), PRATITION p9999 VALUES LESS THAN MAXVALUE ); íŒŒí‹°ì…˜ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ INSERT INSERT ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ë©´ MySQL ì„œë²„ëŠ” INSERTë˜ëŠ” ì»¬ëŸ¼ì˜ ê°’ ì¤‘ì—ì„œ íŒŒí‹°ì…˜ í‚¤ì¸ reg_date ì»¬ëŸ¼ì˜ ê°’ì„ ì´ìš©í•´ íŒŒí‹°ì…˜ í‘œí˜„ì‹ì„ í‰ê°€í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ì´ìš©í•´ ë ˆì½”ë“œê°€ ì €ì¥ë  ì ì ˆí•œ íŒŒí‹°ì…˜ì„ ê²°ì •í•œë‹¤.\nìƒˆë¡œ INSERTë˜ëŠ” ë ˆì½”ë“œë¥¼ ìœ„í•œ íŒŒí‹°ì…˜ì´ ê²°ì •ë˜ë©´ ë‚˜ë¨¸ì§€ ê³¼ì •ì€ íŒŒí‹°ì…˜ ë˜ì§€ ì•Šì€ ì¼ë°˜ í…Œì´ë¸Œë¡œê°€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ëœë‹¤.\níŒŒí‹°ì…˜ í…Œì´ë¸”ì˜ UPDATE UPDATE ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë³€ê²½ ëŒ€ìƒ ë ˆì½”ë“œê°€ ì–´ëŠ íŒŒí‹°ì…˜ì— ì €ì¥ë¼ ìˆëŠ”ì§€ ì°¾ì•„ì•¼ í•˜ëŠ”ë°, ì´ë•Œ WHERE ì¡°ê±´ì— íŒŒí‹°ì…˜ í‚¤ ì»¬ëŸ¼ì´ ì¡°ê±´ìœ¼ë¡œ ì¡´ì¬í•œë‹¤ë©´ ê·¸ ê°’ì„ ì´ìš©í•´ ë ˆì½”ë“œê°€ ì €ì¥ëœ íŒŒí‹°ì…˜ì—ì„œ ë¹ ë¥´ê²Œ ëŒ€ìƒ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ WHERE ì¡°ê±´ì— íŒŒí‹°ì…˜ í‚¤ ì»¬ëŸ¼ì˜ ì¡°ê±´ì´ ë©´ì‹œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë³€ê²½ ëŒ€ìƒ ë ˆì½”ë“œë¥¼ ì°¾ê¸° ìœ„í•´ ëª¨ë“  íŒŒí‹°ì…˜ì„ ê²€ìƒ‰í•œë‹¤. ì‹¤ì œ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì˜ ì ˆì°¨ëŠ” UPDATE ì¿¼ë¦¬ê°€ ì–´ë–¤ ì»¬ëŸ¼ì˜ ê°’ì„ ë³€ê²½í•˜ëŠëƒì— ë”°ë¼ í° ì°¨ì´ê°€ ìƒê¸´ë‹¤.\níŒŒí‹°ì…˜ í‚¤ ì´ì™¸ì˜ ì»¬ëŸ¼ë§Œ ë³€ê²½ë  ë•ŒëŠ” íŒŒí‹°ì…˜ì´ ì ìš©ë˜ì§€ ì•Šì€ ì¼ë°˜ í…Œì´ë¸”ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì»¬ëŸ¼ ê°’ë§Œ ë³€ê²½í•œë‹¤. íŒŒí‹°ì…˜ í‚¤ ì»¬ëŸ¼ì´ ë³€ê²½ë  ë•ŒëŠ” ê¸°ì¡´ ë ˆì½”ë“œê°€ ì €ì¥ëœ íŒŒí‹°ì…˜ì—ì„œ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ì‚­ì œí•˜ê³ , ë³€ê²½ë˜ëŠ” íŒŒí‹°ì…˜ í‚¤ ì»¬ëŸ¼ì˜ í‘œí˜„ì‹ì„ í‰ê°€í•˜ì—¬ ìƒˆë¡œìš´ íŒŒí‹°ì…˜ì„ ê²°ì •í•˜ì—¬ ìƒˆë¡œ ì €ì¥í•œë‹¤. íŒŒí‹°ì…˜ í…Œì´ë¸”ì˜ ê²€ìƒ‰ íŒŒí‹°ì…˜ í…Œì´ë¸”ì„ ê²€ìƒ‰í•  ë•Œ ì„±ëŠ¥ì— í¬ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì¡°ê±´ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nWHERE ì ˆì˜ ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í•´ì•¼ í•  íŒŒí‹°ì…˜ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ”ê°€? WHERE ì ˆì˜ ì¡°ê±´ì´ ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©(ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”)í•  ìˆ˜ ìˆëŠ”ê°€? íŒŒí‹°ì…˜ í…Œì´ë¸”ì—ì„œëŠ” ì²« ë²ˆì§¸ ì„ íƒì‚¬í•­ì˜ ê²°ê³¼ì— ì˜í•´ ë‘ ë²ˆì§¸ ì„ íƒì‚¬í•­ì˜ ì‘ì—… ë‚´ìš©ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\níŒŒí‹°ì…˜ ì„ íƒ ê°€ëŠ¥ + ì¸ë±ìŠ¤ íš¨ìœ¨ì  ì‚¬ìš© ê°€ëŠ¥ ê°€ì¥ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬ ë  ìˆ˜ ìˆë‹¤. íŒŒí‹°ì…˜ ê°œìˆ˜ì™€ ê´€ê³„ì—†ì´ ê²€ìƒ‰ì„ ìœ„í•´ ê¼­ í•„ìš”í•œ íŒŒí‹°ì…˜ì˜ ì¸ë±ìŠ¤ë§Œ ë ˆì¸ì§€ ìŠ¤ìº”í•œë‹¤. íŒŒí‹°ì…˜ ì„ íƒ ë¶ˆê°€ + ì¸ë±ìŠ¤ íš¨ìœ¨ì  ì‚¬ìš© ê°€ëŠ¥ ëª¨ë“  íŒŒí‹°ì…˜ì„ ëŒ€ìƒìœ¼ë¡œ ê²€ìƒ‰í•´ì•¼ í•œë‹¤. ê° íŒŒí‹°ì…˜ì— ëŒ€í•´ì„œëŠ” ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìµœì¢…ì ìœ¼ë¡œ í…Œì´ë¸”ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  íŒŒí‹°ì…˜ì˜ ê°œìˆ˜ë§Œí¼ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ìˆ˜í–‰í•´ì„œ ê²€ìƒ‰í•˜ê²Œëœë‹¤. íŒŒí‹°ì…˜ ê°œìˆ˜ ë§Œí¼ì˜ í…Œì´ë¸”ì— ëŒ€í•´ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº” í›„ ê²°ê³¼ë¥¼ ë³‘í•©í•´ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒ ê³¼ ê°™ë‹¤. íŒŒí‹°ì…˜ ì„ íƒ ê°€ëŠ¥ + ì¸ë±ìŠ¤ íš¨ìœ¨ì  ì‚¬ìš© ë¶ˆê°€ ê²€ìƒ‰ì„ ìœ„í•´ í•„ìš”í•œ íŒŒí‹°ì…˜ë§Œ ì½ëŠ”ë‹¤. ëŒ€ìƒ íŒŒí‹°ì…˜ì— ëŒ€í•´ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í•œë‹¤. ê° íŒŒí‹°ì…˜ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ë‹¤ë©´ ìƒë‹¹íˆ ëŠë¦¬ê²Œ ì²˜ë¦¬ë ê²ƒì´ë‹¤. íŒŒí‹°ì…˜ ì„ íƒ ë¶ˆê°€ + ì¸ë±ìŠ¤ íš¨ìœ¨ì  ì‚¬ìš© ë¶ˆê°€ ëª¨ë“  íŒŒí‹°ì…˜ì— ëŒ€í•´ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í•œë‹¤. íŒŒí‹°ì…˜ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ ìŠ¤ìº”ê³¼ ì •ë ¬ íŒŒí‹°ì…˜ í…Œì´ë¸”ì—ì„œ ì¸ë±ìŠ¤ëŠ” ì „ë¶€ ë¡œì»¬ ì¸ë±ìŠ¤ì— í•´ë‹¹í•œë‹¤.\nëª¨ë“  ì¸ë±ìŠ¤ëŠ” íŒŒí‹°ì…˜ ë‹¨ìœ„ë¡œ ìƒì„±ëœë‹¤. íŒŒí‹°ì…˜ê³¼ ê´€ê³„ì—†ì´ í…Œì´ë¸” ì „ì²´ ë‹¨ìœ„ë¡œ ê¸€ë¡œë²Œí•˜ê²Œ í•˜ë‚˜ì˜ í†µí•©ëœ ì¸ë±ìŠ¤ëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. íŒŒí‹°ì…˜ì´ ë˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ì—ì„œëŠ” ì¸ë±ìŠ¤ë¥¼ ìˆœì„œëŒ€ë¡œ ì½ìœ¼ë©´ í¬ ì»¬ëŸ¼ìœ¼ë¡œ ì •ë ¬ëœ ê²°ê³¼ë¥¼ ë°”ë¡œ ì–»ì„ ìˆ˜ ìˆì§€ë§Œ, íŒŒí‹°ì…˜ëœ í…Œì´ë¸”ì€ ê·¸ë ‡ì§€ ì•Šë‹¤.\n1 2 3 4 5 6 SELECT * FROM tb_article WHERE reg_userid BETWEEN \u0026#39;brew\u0026#39; AND \u0026#39;toto\u0026#39; AND reg_date BETWEEN \u0026#39;2009-01-01\u0026#39; AND \u0026#39;2010-12-31\u0026#39; ORDER BY reg_userid ; MySQL ì„œë²„ëŠ” ì—¬ëŸ¬ íŒŒí‹°ì…˜ì— ëŒ€í•´ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ìˆ˜í–‰í•  ë•Œ ê° íŒŒí‹°ì…˜ìœ¼ë¡œë¶€í„° ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì •ë ¬ëœ ìˆœì„œëŒ€ë¡œ ì½ìœ¼ë©´ì„œ ìš°ì„ ìˆœìœ„ íì— ì„ì‹œë¡œ ì €ì¥í•œë‹¤. íŒŒí‹°ì…˜ í…Œì´ë¸”ì—ì„œ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ í†µí•´ ë ˆì½”ë“œë¥¼ ì½ì„ ë•Œ ë³„ë„ì˜ ì •ë ¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ëŠ” ì•Šìœ¼ë©°, ë‚´ë¶€ì ìœ¼ë¡œ í ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤. íŒŒí‹°ì…˜ í”„ë£¨ë‹ ì˜µí‹°ë§ˆì´ì €ì— ì˜í•´ ë¶ˆí•„ìš”í•œ íŒŒí‹°ì…˜ì—ëŠ” ì „í˜€ ì ‘ê·¼í•˜ì§€ ì•ŠëŠ”ë°, ì´ë ‡ê²Œ ìµœì í™” ë‹¨ê³„ì—ì„œ í•„ìš”í•œ íŒŒí‹°ì…˜ë§Œ ê³¨ë¼ë‚´ê³  ë¶ˆí•„ìš”í•œ ê²ƒë“¤ì€ ì‹¤í–‰ ê³„íšì—ì„œ ë°°ì œí•˜ëŠ” ê²ƒì„ íŒŒí‹°ì…˜ í”„ë£¨ë‹ì´ë¼ í•œë‹¤.\n","date":"2023-08-27T19:54:10+09:00","image":"https://codemario318.github.io/post/real-mysql/13/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/13/","title":"13.1 íŒŒí‹°ì…˜"},{"content":"MinikubeëŠ” ë¡œì»¬ í™˜ê²½ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ê°„í¸í•˜ê²Œ êµ¬ì¶•í•˜ê³  ì‹¤í–‰í•˜ê¸° ìœ„í•œ ë„êµ¬ì…ë‹ˆë‹¤.\në‹¨ì¼ ë¨¸ì‹  ìœ„ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì‹¤í–‰í•˜ë¯€ë¡œ ê°œë°œ, í…ŒìŠ¤íŠ¸ ë° í•™ìŠµì„ ìœ„í•œ ë¡œì»¬ í™˜ê²½ì—ì„œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.\nminikubeëŠ” ì»¨í…Œì´ë„ˆ, ê°€ìƒë¨¸ì‹  í™˜ê²½ì—ì„œ ë™ì‘í•˜ë¯€ë¡œ ì´ì™€ ê°™ì€ í™˜ê²½ì„ ë¨¼ì € êµ¬ì„±í•´ì•¼í•˜ë©°, ì €ëŠ” ì‚¬ì „ì— dockerë¥¼ ì„¤ì¹˜, ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.\nminikube í´ëŸ¬ìŠ¤í„° ë§Œë“¤ê¸° Homebrewë¥¼ ì‚¬ìš©í•˜ì—¬ minikubeë¥¼ ê°„ë‹¨í•˜ê²Œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 brew install minikube ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆë‹¤ë©´ í´ëŸ¬ìŠ¤í„°ë¥¼ ì‹œì‘í•´ì¤ë‹ˆë‹¤.\n1 minikube start ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì—ˆë‹¤ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ ëŒ€ì‹œë³´ë“œë¥¼ ì—´ì–´ë³´ê² ìŠµë‹ˆë‹¤.\n1 minikube dashboard ëŒ€ì‹œë³´ë“œ ì• ë“œì˜¨ê³¼ í”„ë¡ì‹œê°€ í™œì„±í™”ë˜ê³  í•´ë‹¹ í”„ë¡ì‹œë¡œ ì ‘ì†í•˜ëŠ” ê¸°ë³¸ ì›¹ ë¸Œë¼ìš°ì € ì°½ì´ ì—´ë¦½ë‹ˆë‹¤.\nëŒ€ì‹œë³´ë“œì—ì„œ ë””í”Œë¡œì´ë¨¼íŠ¸ë‚˜ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ ìì›ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 minikube addons enable metrics-server ëŒ€ì‹œë³´ë“œê°€ ì—´ë¦¬ì§€ ì•ŠëŠ”ë‹¤ë©´ ì• ë“œì˜¨ì„ ì¶”ê°€í•´ë³´ì„¸ìš”.\në””í”Œë¡œì´ë¨¼íŠ¸ ë§Œë“¤ê¸° ì¿ ë²„ë„¤í‹°ìŠ¤ ë””í”Œë¡œì´ë¨¼íŠ¸ëŠ” í—¬ìŠ¤ ì²´í¬ë¥¼ í†µí•´ íŒŒë“œì˜ ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë˜ì—ˆë‹¤ë©´ ì¬ì‹œì‘í•´ì¤ë‹ˆë‹¤. ê³µì‹ë¬¸ì„œì—ì„œëŠ” íŒŒë“œì˜ ìƒì„± ë° ìŠ¤ì¼€ì¼ë§ì„ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë””í”Œë¡œì´ë¨¼íŠ¸ë¥¼ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ íŒŒë“œëŠ” ê´€ë¦¬ì™€ ë„¤íŠ¸ì›Œí‚¹ ëª©ì ìœ¼ë¡œ í•¨ê»˜ ë¬¶ì—¬ ìˆëŠ” í•˜ë‚˜ ì´ìƒì˜ ì»¨í…Œì´ë„ˆ ê·¸ë£¹ì…ë‹ˆë‹¤.\nkubectl create ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ íŒŒë“œë¥¼ ê´€ë¦¬í•  ë””í”Œë¡œì´ë¨¼íŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤.\n1 kubectl create deployment NAME --image=image -- [COMMAND] [args...] [options] 1 kubectl create deployment hello-node --image=registry.k8s.io/e2e-test-images/agnhost:2.39 -- /agnhost netexec --http-port=8080 ë§Œë“¤ì–´ì§€ëŠ” íŒŒë“œëŠ” ê³µì‹ë¬¸ì„œì—ì„œ ì œê³µëœ Docker ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\në””í”Œë¡œì´ë¨¼íŠ¸ ë³´ê¸° 1 kubectl get deployments 1 2 NAME READY UP-TO-DATE AVAILABLE AGE hello-node 1/1 1 1 3m38s íŒŒë“œ ë³´ê¸° 1 kubectl get pods 1 2 NAME READY STATUS RESTARTS AGE hello-node-67949d9db-7xxk9 1/1 Running 0 5m50s í´ëŸ¬ìŠ¤í„° ì´ë²¤íŠ¸ ë³´ê¸° 1 kubectl get events 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 LAST SEEN TYPE REASON OBJECT MESSAGE 7m28s Normal Scheduled pod/hello-node-67949d9db-7xxk9 Successfully assigned default/hello-node-67949d9db-7xxk9 to minikube 7m29s Normal Pulling pod/hello-node-67949d9db-7xxk9 Pulling image \u0026#34;registry.k8s.io/e2e-test-images/agnhost:2.39\u0026#34; 7m18s Normal Pulled pod/hello-node-67949d9db-7xxk9 Successfully pulled image \u0026#34;registry.k8s.io/e2e-test-images/agnhost:2.39\u0026#34; in 10.747873713s 7m18s Normal Created pod/hello-node-67949d9db-7xxk9 Created container agnhost 7m18s Normal Started pod/hello-node-67949d9db-7xxk9 Started container agnhost 7m29s Normal SuccessfulCreate replicaset/hello-node-67949d9db Created pod: hello-node-67949d9db-7xxk9 7m29s Normal ScalingReplicaSet deployment/hello-node Scaled up replica set hello-node-67949d9db to 1 57m Normal Starting node/minikube Starting kubelet. 57m Normal NodeHasSufficientMemory node/minikube Node minikube status is now: NodeHasSufficientMemory 57m Normal NodeHasNoDiskPressure node/minikube Node minikube status is now: NodeHasNoDiskPressure 57m Normal NodeHasSufficientPID node/minikube Node minikube status is now: NodeHasSufficientPID 57m Normal NodeAllocatableEnforced node/minikube Updated Node Allocatable limit across pods 57m Normal Starting node/minikube 57m Normal RegisteredNode node/minikube Node minikube event: Registered Node minikube in Controller kubectl í™˜ê²½ì„¤ì • ë³´ê¸° 1 kubectl config view í•´ë‹¹ ëª…ë ¹ìœ¼ë¡œ í™˜ê²½ì„¤ì •ì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ë‹¤ë¥¸ í´ëŸ¬ìŠ¤í„°ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´ minikube ì™¸ ë‹¤ë¥¸ ì„¤ì •ë“¤ë„ í‘œì‹œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 apiVersion: v1 clusters: - cluster: certificate-authority: /Users/mario/.minikube/ca.crt extensions: - extension: last-update: Thu, 24 Aug 2023 14:45:00 KST provider: minikube.sigs.k8s.io version: v1.31.2 name: cluster_info server: https://127.0.0.1:64072 name: minikube contexts: - context: cluster: minikube extensions: - extension: last-update: Thu, 24 Aug 2023 14:45:00 KST provider: minikube.sigs.k8s.io version: v1.31.2 name: context_info namespace: default user: minikube name: minikube current-context: minikube kind: Config preferences: {} users: - name: minikube user: client-certificate: /Users/mario/.minikube/profiles/minikube/client.crt client-key: /Users/mario/.minikube/profiles/minikube/client.key ì„œë¹„ìŠ¤ ë§Œë“¤ê¸° ê¸°ë³¸ì ìœ¼ë¡œ íŒŒë“œëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì˜ IP ì£¼ì†Œë¡œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆê¸°ë•Œë¬¸ì— hello-node ì»¨í…Œì´ë„ˆë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•˜ë ¤ë©´ íŒŒë“œë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¹„ìŠ¤ë¡œ ë…¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤.\nkubectl expose ëª…ë ¹ìœ¼ë¡œ í¼ë¸”ë¦­ ì¸í„°ë„·ì— íŒŒë“œë¥¼ ë…¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 kubectl expose (-f FILENAME | TYPE NAME) [--port=port] [--protocol=TCP|UDP|SCTP] [--target-port=number-or-name] [--name=name] [--external-ip=external-ip-of-service] [--type=type] [options] ì—¬ëŸ¬ ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ê³µì‹ ë¬¸ì„œì—ì„œ ì œê³µí•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ë´…ì‹œë‹¤.\n1 kubectl expose deployment hello-node --type=LoadBalancer --port=8080 --type=LoadBalancer: í´ëŸ¬ìŠ¤í„° ë°–ì˜ ì„œë¹„ìŠ¤ë¡œ ë…¸ì¶œí•˜ê¸° ì›í•œë‹¤ëŠ” ëœ» ì…ë‹ˆë‹¤. ì´ë¯¸ì§€ ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œëŠ” TCP í¬íŠ¸ 8080ì—ì„œë§Œ ìˆ˜ì‹ í•©ë‹ˆë‹¤. kubectl exposeë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ í¬íŠ¸ë¥¼ ë…¸ì¶œí•œ ê²½ìš°, í´ë¼ì´ì–¸íŠ¸ëŠ” ë‹¤ë¥¸ í¬íŠ¸ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. 1 kubectl get services 1 2 3 NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE hello-node LoadBalancer 10.97.121.119 \u0026lt;pending\u0026gt; 8080:30180/TCP 4m44s ... ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ ì§€ì›í•˜ëŠ” í´ë¼ìš°ë“œ ê³µê¸‰ìì˜ ê²½ìš°ì—ëŠ” ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì™¸ë¶€ IP ì£¼ì†Œê°€ í”„ë¡œë¹„ì €ë‹ í•˜ì§€ë§Œ, minikubeì—ì„œ LoadBalancer íƒ€ì…ì€ minikube service ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ í•´ë‹¹ ì„œë¹„ìŠ¤ë¥¼ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œí•©ë‹ˆë‹¤.\n1 minikube service hello-node 1 2 3 4 5 6 7 8 9 10 11 12 13 |-----------|------------|-------------|---------------------------| | NAMESPACE | NAME | TARGET PORT | URL | |-----------|------------|-------------|---------------------------| | default | hello-node | 8080 | http://192.168.49.2:30180 | |-----------|------------|-------------|---------------------------| ğŸƒ hello-node ì„œë¹„ìŠ¤ì˜ í„°ë„ì„ ì‹œì‘í•˜ëŠ” ì¤‘ |-----------|------------|-------------|------------------------| | NAMESPACE | NAME | TARGET PORT | URL | |-----------|------------|-------------|------------------------| | default | hello-node | | http://127.0.0.1:64781 | |-----------|------------|-------------|------------------------| ğŸ‰ Opening service default/hello-node in default browser... â— Because you are using a Docker driver on darwin, the terminal needs to be open to run it. ì œê±°í•˜ê¸° í´ëŸ¬ìŠ¤í„°ì—ì„œ ë§Œë“¤ì–´ì§„ ë¦¬ì†ŒìŠ¤ë¥¼ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 2 kubectl delete service hello-node kubectl delete deployment hello-node í•„ìš”ì‹œ minikube ê°€ìƒ ë¨¸ì‹ ì„ ì •ì§€í•˜ê±°ë‚˜ ì‚´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n1 minikube stop 1 minikube delete ","date":"2023-08-24T12:51:03+09:00","image":"https://codemario318.github.io/post/kubernetes/tutorials/1/cover_hu15504362c54454204bbf321d3bfe3873_12586_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/kubernetes/tutorials/1/","title":"ì¿ ë²„ë„¤í‹°ìŠ¤ íŠœí† ë¦¬ì–¼ - 1. Hello Minikube"},{"content":"ì‘ì„±ëœ ì¿¼ë¦¬ê°€ ì–¼ë§ˆë‚˜ íš¨ìœ¨ì ì´ê³  ë” ê°œì„ í•  ë¶€ë¶„ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ì•„ë˜ì˜ ê³¼ì •ì„ ê±°ì¹œë‹¤.\nì‹¤í–‰ ê³„íšì„ ì‚´í´ë³´ê³  ë¬¸ì œë  ë§Œí•œ ë¶€ë¶„ì´ ìˆëŠ”ì§€ ê²€í† í•œë‹¤. ì‹¤í–‰ ê³„íšì— íŠ¹ë³„íˆ ë¬¸ì œë  ë¶€ë¶„ì´ ì—†ë‹¤ë©´ ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì‹¤í–‰í•´ë³¸ë‹¤. ì‹¤í–‰ ê³„íšìƒ ë³´ì´ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì‹¤í–‰í•´ë³´ë©´ì„œ ëˆˆìœ¼ë¡œ ì„±ì„ ì²´í¬í•  ë•Œ ì—¬ëŸ¬ ë°©í•´ ìš”ì†Œê°€ ìˆëŠ”ë°, ì´ëŸ¬í•œ ë°©í•´ ìš”ì†Œë¥¼ ê°„ê³¼í•˜ê³  ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ íŒë‹¨í•˜ëŠ” ê²ƒì€ ë§¤ìš° ìœ„í—˜í•˜ë‹¤.\nì¿¼ë¦¬ì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ìš”ì†Œ ì§ì ‘ ì‘ì„±í•œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ ë³´ê³  ì„±ëŠ¥ì„ íŒë‹¨í•  ë•Œ ê°€ì¥ í° ë³€ìˆ˜ëŠ” ì„œë²„ê°€ ê°€ì§€ê³  ìˆëŠ” ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ë²„í¼ë‚˜ ìºì‹œì´ë‹¤.\nìš´ì˜ì²´ì œì˜ ìºì‹œ MySQL ì„œë²„ëŠ” ìš´ì˜ì²´ì œì˜ íŒŒì¼ ì‹œìŠ¤í…œ ê´€ë ¨ ê¸°ëŠ¥(ì‹œìŠ¤í…œ ì½œ ë“±)ì„ ì´ìš©í•´ ë°ì´í„° íŒŒì¼ì„ ì½ì–´ì˜¨ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ëŒ€ë¶€ë¶„ ìš´ì˜ì²´ì œëŠ” í•œ ë²ˆ ì½ì–´ì€ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ë³„ë„ ìºì‹œ ì˜ì—­ì— ë³´ê´€í–ˆë‹¤ê°€ ë‹¤ì‹œ í•´ë‹¹ ë°ì´í„°ê°€ ìš”ì²­ë˜ë©´ ë””ìŠ¤í¬ë¥¼ ì½ì§€ ì•Šê³  ìºì‹œì˜ ë‚´ìš©ì„ ë°”ë¡œ MySQL ì„œë²„ë¡œ ì „ë‹¬í•œë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì¼ë°˜ì ìœ¼ë¡œ íŒŒì¼ ì‹œìŠ¤í…œì˜ ìºì‹œë‚˜ ë²„í¼ë¥¼ ê±°ì¹˜ì§€ ì•ŠëŠ” Direct I/Oë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ìš´ì˜ì²´ì œì˜ ìºì‹œê°€ í° ì˜í–¥ì„ ë¯¸ì¹˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ìš´ì˜ì²´ì œì˜ ìºì‹œ ì˜ì¡´ë„ê°€ ë†’ê¸° ë•Œë¬¸ì— ìºì‹œì— ë”°ë¼ ì„±ëŠ¥ ì°¨ì´ê°€ í¬ë‹¤. ìš´ì˜ì²´ì œê°€ ê´€ë¦¬í•˜ëŠ” ìºì‹œë‚˜ ë²„í¼ëŠ” ê³µìš© ê³µê°„ìœ¼ë¡œ MySQL ì„œë²„ì™€ ê°™ì€ ì‘ìš© í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œëœ í›„ì—ë„ ë‚¨ì•„ìˆì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ìš´ì˜ì²´ì œê°€ ê°€ì§€ê³  ìˆëŠ” ìºì‹œë‚˜ ë²„í¼ê°€ ì „í˜€ ì—†ëŠ” ìƒíƒœì—ì„œ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ìºì‹œ ì‚­ì œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê³  í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n1 2 3 4 5 6 ## linux ê¸°ì¤€! ## ìºìŠ¤ë‚˜ ë²„í¼ì˜ ë‚´ìš©ì„ ë””ìŠ¤í¬ì™€ ë™ê¸°í™” sync ## ìš´ì˜ì²´ì œì˜ í¬í•¨ëœ ìºì‹œ ë‚´ìš©ì„ ì´ˆê¸°í™”í•œë‹¤. echo 3 \u0026gt; /proc/sys/vm/drop_caches MySQL ì„œë²„ì˜ ë²„í¼í’€(InnoDB ë²„í¼í’€ê³¼ MyISAMì˜ í‚¤ ìºì‹œ) ìš´ì˜ ì²´ì œì˜ ë²„í¼ë‚˜ ìºì‹œì™€ ë§ˆì°¬ê°€ì§€ë¡œ MySQL ì„œë²„ì—ì„œë„ InnoDB ë²„í¼í’€, MyISAM í‚¤ ìºì‹œ ë“±ìœ¼ë¡œ ë°ì´í„° íŒŒì¼ì˜ ë‚´ìš©ì„ í˜ì´ì§€(ë˜ëŠ” ë¸”ë¡) ë‹¨ìœ„ë¡œ ìºì‹œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\nInnoDB ë²„í¼í’€ì€ ì¸ë±ìŠ¤ í˜ì´ì§€ì™€ ë°ì´í„° í˜ì´ì§€ê¹Œì§€ ìºì‹œí•˜ë©°, ì“°ê¸° ì‘ì—…ì„ ìœ„í•œ ë²„í¼ë§ ì‘ì—…ê¹Œì§€ ì²˜ë¦¬í•œë‹¤. MyISAM í‚¤ ìºì‹œëŠ” ì½ê¸°ë¥¼ ìœ„í•œ ìºì‹œ ì—­í• ì„ ìˆ˜í–‰í•˜ë©°, ì œí•œì ìœ¼ë¡œ ì¸ë±ìŠ¤ ë³€ê²½ë§Œì„ ìœ„í•œ ë²„í¼ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì¸ë±ìŠ¤ë¥¼ ì œì™¸í•œ í…Œì´ë¸” ë°ì´í„°ëŠ” ëª¨ë‘ ìš´ì˜ì²´ì œì˜ ìºì‹œì— ì˜ì¡´í•œë‹¤. MySQL ì„œë²„ê°€ í•œë²ˆ ì‹œì‘ë˜ë©´ ë²„í¼í’€ê³¼ í‚¤ ìºì‹œë¥¼ ê°•ì œë¡œ í¼ì§€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ìœ¼ë¯€ë¡œ ì´ˆê¸°í™” í•˜ë ¤ë©´ MySQL ì„œë²„ë¥¼ ì¬ì‹œì‘ í•´ì•¼í•œë‹¤.\nInnoDB ë²„í„í’€ì€ ì„œë²„ê°€ ì¢…ë£Œë  ë•Œ ìë™ìœ¼ë¡œ ë¤í”„ëë‹¤ê°€ ì‚¬ì‘ë  ë•Œ ìë™ìœ¼ë¡œ ì ì¬í•˜ë¯€ë¡œ InnoDB ë²„í¼í’€ì´ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë„ì§€ ì•Šê²Œ innodb_buffer_pool_load_at_startup ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ OFFë¡œ ì„¤ì •í•œ í›„ ì¬ì‹œì‘ í•´ì•¼ í•œë‹¤.\në…ë¦½ëœ MySQL ì„œë²„ MySQL ì„œë²„ê°€ ê¸°ë™ ì¤‘ì¸ ì¥ë¹„ì— ì›¹ ì„œë²„ë‚˜ ë‹¤ë¥¸ ë°°ì¹˜ìš© í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ê³  ìˆë‹¤ë©´ í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì´ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.\nì´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ í…ŒìŠ¤íŠ¸ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ì´ë‚˜ ë„¤íŠ¸ì›Œí¬ì˜ ì˜í–¥ ìš”ì†Œë„ ê³ ë ¤í•´ì•¼ í•œë‹¤. MySQL ì„œë²„ê°€ ì„¤ì¹˜ëœ ì„œë²„ì— ì§ì ‘ ë¡œê·¸ì¸í•´ì„œ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆë‹¤ë©´ ì´ëŸ¬í•œ ìš”ì†Œë¥¼ ì‰½ê²Œ ë°°ì œí•  ìˆ˜ ìˆë‹¤. ì¿¼ë¦¬ í…ŒìŠ¤íŠ¸ íšŸìˆ˜ ì‹¤ì œ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ MySQL ì„œë²„ì˜ ìƒíƒœê°€ ì›Œë°ì—…ëœ ìƒíƒœì—ì„œ ì§„í–‰í• ì§€ ì•„ë‹ˆë©´ ì½œë“œ ìƒíƒœì—ì„œ ì§„í–‰í• ì§€ë„ ê³ ë ¤í–ì•¼ í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” ì›Œë°ì—…ëœ ìƒíƒœë¥¼ ê°€ì •í•œë‹¤. ì–´ëŠì •ë„ ì‚¬ìš©ëŸ‰ì´ ìˆëŠ” ì„œë¹„ìŠ¤ë¼ë©´ ì›Œë°ì—… ìƒíƒœë¡œ ì „í™˜í•˜ëŠ” ë° ì˜¤ë˜ ê±¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤. ìš´ì˜ì²´ì œì˜ ìºì‹œë‚˜ ë²„í¼í’€, í‚¤ ìºì‹œëŠ” í¬ê¸°ê°€ ì œí•œì ì´ë¯€ë¡œ ì¿¼ë¦¬ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ë°ì´í„°ë‚˜ ì¸ë±ìŠ¤ í˜ì´ì§€ë³´ë‹¤ í¬ê¸°ê°€ ì‘ìœ¼ë©´ í”ŒëŸ¬ì‹œ ì‘ì—…ê³¼ ìºì‹œ ì‘ì—…ì´ ë°˜ë³µí•´ì„œ ë°œìƒí•˜ë¯€ë¡œ ì¿¼ë¦¬ë¥¼ í•œ ë²ˆ ì‹¤í–‰í•´ì„œ ë‚˜ì˜¨ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ì‹ ë¢°í•´ì„œëŠ” ì•ˆëœë‹¤.\nì¿¼ë¦¬ë¥¼ ë²ˆê°ˆì•„ê°€ë©´ì„œ 6~7íšŒ ì‹¤í–‰í•œ í›„, ì²˜ìŒ í•œë‘ ë²ˆì˜ ê²°ê³¼ëŠ” ë²„ë¦¬ê³  ë‚˜ë¨¸ì§€ ê²°ê³¼ì˜ í‰ê· ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë²„í¼í’€ê³¼ í‚¤ìºì‹œê°€ ì¤€ë¹„ë˜ì§€ ì•Šì„ ë•Œê°€ ë§ì•„ ëŒ€ì²´ë¡œ ë§ì€ ì‹œê°„ì´ ê±¸ë ¤ í¸ì°¨ê°€ í´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì´ ê°™ì€ ì‚¬í•­ì„ ê³ ë ¤í•´ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ ë¹„êµí•˜ëŠ” ê²ƒì€ ê²°êµ­ ìƒëŒ€ì ì¸ ë¹„êµì´ë¯€ë¡œ ì¿¼ë¦¬ê°€ ì–´ë–¤ ì„œë²„ì—ì„œë„ ê·¸ ì‹œê°„ ë‚´ì— ì²˜ë¦¬ëœë‹¤ê³  ë³´ì¥í•  ìˆ˜ëŠ” ì—†ë‹¤.\nì‹¤ì œ ì„œë¹„ìŠ¤ìš© MySQL ì„œë²„ì—ì„œëŠ” ë™ì‹œì— ì—¬ëŸ¬ê°œì˜ ì¿¼ë¦¬ê°€ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì´ë‹¤. ì¿¼ë¦¬ê°€ ìì›ì„ ì ìœ í•˜ê¸° ìœ„í•œ ê²½í•¨ ë“±ì´ ë°œìƒí•˜ë¯€ë¡œ í•­ìƒ í…ŒìŠ¤íŠ¸ë³´ë‹¤ëŠ” ëŠë¦° ì²˜ë¦¬ ì„±ëŠ¥ì„ ë³´ì´ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ","date":"2023-08-23T13:02:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/8/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/8/","title":"11.8 ì¿¼ë¦¬ ì‘ì„± ë° ìµœì í™” - ì¿¼ë¦¬ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸"},{"content":"ì¿¼ë¦¬ê°€ ì˜¤ëœ ì‹œê°„ ì‹¤í–‰ë˜ê³  ìˆëŠ” ê²½ìš°ë„ ë¬¸ì œì§€ë§Œ íŠ¸ëœì­ì…˜ì´ ì˜¤ëœ ì‹œê°„ ì™„ë£Œë˜ì§€ ì•Šê³  í™œì„± ìƒíƒœë¡œ ë‚¨ì•„ìˆëŠ” ê²ƒë„ MySQL ì„œë²„ì˜ ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\nMySQL ì„œë²„ì˜ íŠ¸ëœì­ì…˜ ëª©ë¡ì€ information_schema.innodb_trx í…Œì´ë¸”ì„ í†µí•´ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 SELECT trx_id ,( SELECT CONCAT(user, \u0026#39;@\u0026#39;, host) FROM information_schema.processlist WHERE id=trx_mysql_thread_id ) AS soucre_info ,trx_state ,trx_started ,now() ,(unix_timestamp(now() - unix_timestamp(trx_started))) AS lasting_sec ,trx_requested_lock_id ,trx_wait_started ,trx_mysql_thread_id ,trx_tables_in_use ,trx_tables_in_use ,trx_tables_locked FROM information_schema.innodb_trx WHERE (unix_timestamp(now()) - unix_timestamp(trx_started)) \u0026gt; 5 \\G ì–´ë–¤ ë ˆì½”ë“œë¥¼ ì ê·¸ê³  ìˆëŠ”ì§€ëŠ” performance_schema.locks í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ë©´ ëœë‹¤.\n1 SELECT * FROM performance_schema.data_locks \\G ","date":"2023-08-23T12:57:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/9/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/9/","title":"11.7.9 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - í™œì„± íŠ¸ëœì­ì…˜ ì¡°íšŒ"},{"content":"MySQL ì„œë²„ì— ì ‘ì†ëœ ì‚¬ìš©ìì˜ ëª©ë¡ì´ë‚˜ ê° í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©ìê°€ í˜„ì¬ ì–´ë–¤ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ìˆëŠ”ì§€ëŠ” SHOW PROCESSLIST ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 SHOW PROCESSLIST; /* +----+-----------------+-----------+-----------+---------+--------+------------------------+------------------+ | Id | User | Host | db | Command | Time | State | Info | +----+-----------------+-----------+-----------+---------+--------+------------------------+------------------+ | 5 | event_scheduler | localhost | NULL | Daemon | 514030 | Waiting on empty queue | NULL | | 9 | root | localhost | employees | Query | 0 | init | SHOW PROCESSLIST | +----+-----------------+-----------+-----------+---------+--------+------------------------+------------------+ */ í™œìš© MySQL ì„œë²„ê°€ ì–´ë–¤ ìƒíƒœì¸ì§€ë¥¼ íŒë‹¨í•˜ëŠ” ë°ë„ ë§ì€ ë„ì›€ì´ ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì¾Œì í•œ ìƒíƒœë¡œ ì„œë¹„ìŠ¤ë˜ëŠ” MySQLì—ì„œëŠ” ëŒ€ë¶€ë¶„ì˜ í”„ë¡œì„¸ì„œì˜ Command ì»¬ëŸ¼ì´ Sleep ìƒíƒœë¡œ í‘œì‹œëœë‹¤. ì»¬ëŸ¼ ê°’ì´ Query ì´ë©´ì„œ Timeì´ ìƒë‹¹íˆ í° ê°’ì„ ê°€ì§€ê³  ìˆë‹¤ë©´ ì¿¼ë¦¬ê°€ ì¥ì‹œê°„ ì‹¤í–‰ë˜ê³  ìˆìŒì„ ì˜ë¯¸í•œë‹¤. State ì»¬ëŸ¼ State ì»¬ëŸ¼ì— í‘œì‹œë  ìˆ˜ ìˆëŠ” ê°’ì˜ ì¢…ë¥˜ëŠ” ë‹¤ì–‘í•˜ë©° ì£¼ì˜ê¹Šê²Œ ì‚´í´ì•¼í•˜ëŠ” í•­ëª©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nCopying ... Sorting ... í•´ë‹¹ ê°’ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë¬¸ì¥ì´ í‘œì‹œë˜ëŠ” ê²½ìš° ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë´ì•¼ í•œë‹¤.\nê°•ì œ ì¢…ë£Œ Id ì»¬ëŸ¼ê°’ì€ ì ‘ì†ëœ ì»¤ë„¥ì…˜ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì „ìš© ìŠ¤ë ˆë“œì˜ ë²ˆí˜¸ë¥¼ ì˜ë¯¸í•˜ë©° KILL ... ìœ¼ë¡œ ì¿¼ë¦¬ë‚˜ ì»¤ë„¥ì…˜ì„ ê°•ì œ ì¢…ë£Œí•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 /* ì¿¼ë¦¬ ê°•ì œ ì¢…ë£Œ, ì»¤ë„¥ì…˜ ìœ ì§€ */ KILL QUERY 4228; /* ì¿¼ë¦¬ ë° ì»¤ë„¥ì…˜ ê°•ì œ ì¢…ë£Œ */ KILL 4228; ","date":"2023-08-23T12:45:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/8/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/8/","title":"11.7.8 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - í”„ë¡œì„¸ìŠ¤ ì¡°íšŒ ë° ê°•ì œ ì¢…ë£Œ"},{"content":"í•˜ë‚˜ì˜ í…Œì´ë¸”ì— ëŒ€í•´ ì—¬ëŸ¬ê°€ì§€ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ í•´ì•¼ í•˜ëŠ” ê²½ìš° ì˜¨ë¼ì¸ DDLì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë©´ ê°œë³„ ALTER TABLE ëª…ë ¹ì„ ì°¨ë¡€ëŒ€ë¡œ ì‹¤í–‰í•˜ëŠ” ë°©ë²• ë³´ë‹¤ ëª¨ì•„ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ìœ¼ë¡œ íš¨ìœ¨ì ì´ë‹¤.\n1 2 3 4 5 ALTER TABLE employees ADD INDEX ix_lastname (last_name, first_name), ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE employees ADD INDEX ix_birthdate (birth_date), ALGORITHM=INPLACE, LOCK=NONE; ìœ„ì²˜ëŸ¼ 2ê°œì˜ ALTER TABLE ëª…ë ¹ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ê°ê° ìƒì„±í•˜ë©´ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ë•Œë§ˆë‹¤ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ í’€ ìŠ¤ìº”í•´ì„œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ê²Œ ëœë‹¤.\n1 2 3 4 ALTER TABLE employees ADD INDEX ix_lastname (last_name, first_name), ADD INDEX ix_birthdate (birth_date), ALGORITHM=INPLACE, LOCK=NONE; ìœ„ì™€ ê°™ì´ ëª¨ì•„ì„œ ì‹¤í–‰í•˜ë©´ ë ˆì½”ë“œë¥¼ í•œ ë²ˆë§Œ í’€ìŠ¤ìº”í•´ì„œ 2ê°œì˜ ì¸ë±ìŠ¤ë¥¼ í•œêº¼ë²ˆì— ìƒì„±í•  ìˆ˜ ìˆê²Œ ë˜ì–´ 2ê°œì˜ ì¸ë±ìŠ¤ë¥¼ ê°ê° ìƒì„±í•˜ëŠ” ë° ê±¸ë¦¬ëŠ” ì‹œê°„ë³´ë‹¤ ë§ì€ ì‹œê°„ì„ ë‹¨ì¶•í•  ìˆ˜ ìˆë‹¤.\nìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ë“¤ì´ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤ë©´ ëª¨ì•„ì„œ ì‹¤í–‰í•  í•„ìš”ëŠ” ì—†ë‹¤. ê°€ëŠ¥í•˜ë©´ ê°™ì€ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì„ ëª¨ì•„ì„œ ì‹¤í–‰í•œë‹¤. ê°™ì€ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë”ë¼ë„ í…Œì´ë¸” ë¦¬ë¹Œë”© ì—¬ë¶€ì— ë”°ë¼ ëª¨ì•„ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ë©´ ë” íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ","date":"2023-08-23T12:32:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/7/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/7/","title":"11.7.7 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - í…Œì´ë¸” ë³€ê²½ ë¬¶ìŒ ì‹¤í–‰"},{"content":"MySQL 8.0 ë²„ì „ì—ì„œëŠ” ëŒ€ë¶€ë¶„ì˜ ì¸ë±ìŠ¤ ë³€ê²½ ì‘ì—…ì´ ì˜¨ë¼ì¸ DDLë¡œ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë„ë¡ ê°œì„ ëë‹¤.\nì¸ë±ìŠ¤ ì¶”ê°€ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ALTER TABLE employees ADD PRIMARY KEY (emp_no), ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE employees ADD UNIQUE INDEX ux_empno (emp_no), ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE employees ADD INDEX ix_lastname (last_name), ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE employees ADD FULLTEXT INDEX fx_firstname_lastname (first_name, last_name), ALGORITHM=INPLACE, LOCK=SHARED; ALTER TABLE employees ADD SPATIAL INDEX fx_loc (last_location), ALGORITHM=INPLACE, LOCK=SHARED; ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ì™€ ê³µê°„ ê²€ìƒ‰ ì¸ë±ìŠ¤ëŠ” INPLACE ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¸ë±ìŠ¤ ìƒì„±ì´ ê°€ëŠ¥í•˜ì§€ë§Œ SHARED ì ê¸ˆì´ í•„ìš”í•˜ë‹¤. B-Tree ìë£Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¸ë±ìŠ¤ì˜ ì¶”ê°€ëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¼ê³  í•˜ë”ë¼ë„ INPLACE ì•Œê³ ë¦¬ì¦˜ì— ì ê¸ˆ ì—†ì´ ì˜¨ë¼ì¸ìœ¼ë¡œ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤. ì¸ë±ìŠ¤ ì¡°íšŒ ì¸ë±ìŠ¤ì˜ ëª©ë¡ì„ ì¡°íšŒí•  ë•ŒëŠ” SHOW INDEXES ëª…ë ¹ì„ ì‚¬ìš©í•˜ê±°ë‚˜ SHOW CREATE TABLE ëª…ë ¹ìœ¼ë¡œ í‘œì‹œë˜ëŠ” í…Œì´ë¸”ì˜ ìƒì„± ëª…ë ¹ì„ ì°¸ì¡°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 SHOW INDEX FROM employees; /* +-----------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | Table | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment | Visible | Expression | +-----------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ | employees | 0 | PRIMARY | 1 | emp_no | A | 297022 | NULL | NULL | | BTREE | | | YES | NULL | | employees | 0 | ux_empno | 1 | emp_no | A | 280034 | NULL | NULL | | BTREE | | | YES | NULL | | employees | 1 | ix_hiredate | 1 | hire_date | A | 5332 | NULL | NULL | | BTREE | | | YES | NULL | | employees | 1 | ix_gender_birthdate | 1 | gender | A | 5 | NULL | NULL | | BTREE | | | YES | NULL | | employees | 1 | ix_gender_birthdate | 2 | birth_date | A | 10970 | NULL | NULL | | BTREE | | | YES | NULL | | employees | 1 | ix_firstname | 1 | first_name | A | 1619 | NULL | NULL | | BTREE | | | YES | NULL | | employees | 1 | ix_lastname | 1 | last_name | A | 1681 | NULL | NULL | | BTREE | | | YES | NULL | | employees | 1 | fx_firstname_lastname | 1 | first_name | NULL | 280034 | NULL | NULL | | FULLTEXT | | | YES | NULL | | employees | 1 | fx_firstname_lastname | 2 | last_name | NULL | 280034 | NULL | NULL | | FULLTEXT | | | YES | NULL | +-----------+------------+-----------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+---------+------------+ */ SHOW INDEXES ëª…ë ¹ì€ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ë§Œ ì¸ë±ìŠ¤ ì»¬ëŸ¼ë³„ë¡œ í•œ ì¤„ì”© í‘œì‹œí•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 SHOW CREATE TABLE employees; /* +-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | Table | Create Table | +-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | employees | CREATE TABLE `employees` ( `emp_no` int NOT NULL, `birth_date` date NOT NULL, `first_name` varchar(14) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `last_name` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `gender` enum(\u0026#39;M\u0026#39;,\u0026#39;F\u0026#39;) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `hire_date` date NOT NULL, PRIMARY KEY (`emp_no`), UNIQUE KEY `ux_empno` (`emp_no`), KEY `ix_hiredate` (`hire_date`), KEY `ix_gender_birthdate` (`gender`,`birth_date`), KEY `ix_firstname` (`first_name`), KEY `ix_lastname` (`last_name`), FULLTEXT KEY `fx_firstname_lastname` (`first_name`,`last_name`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci STATS_PERSISTENT=0 | +-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ */ ì¸ë±ìŠ¤ ì´ë¦„ ë³€ê²½ ì¿¼ë¦¬ì—ì„œ ì¸ë±ìŠ¤ì˜ ì´ë¦„ì„ íŒíŠ¸ë¡œ ì‚¬ìš©í•˜ë©´ MySQL ì„œë²„ì—ì„œ í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•˜ê±°ë‚˜ ë‹¤ë¥¸ ì¸ë±ìŠ¤ë¡œ ëŒ€ì²´í•˜ëŠ” ê²½ìš° ì‘ìš©í”„ë¡œê·¸ë¨ì˜ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í–ˆë‹¤.\nì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•˜ê³  ë™ì¼ ì´ë¦„ìœ¼ë¡œ ìƒˆë¡œìš´ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ë˜ì§€ë§Œ ìƒˆë¡œìš´ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë™ì•ˆ í•„ìš”í•œ ì¸ë±ìŠ¤ê°€ ì—†ì–´ì§€ë¯€ë¡œ ì†ì‰½ê²Œ ì‘ì—…í•˜ê¸°ê°€ ì–´ë ¤ì› ë‹¤.\nì´ëŠ” ì¸ë±ìŠ¤ì˜ ì´ë¦„ë§Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤ë©´ ìƒˆë¡œìš´ ì¸ë±ìŠ¤ë¡œ ê¸°ì¡´ ì¸ë±ìŠ¤ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ”ë°, MySQL 5.7 ë²„ì „ë¶€í„°ëŠ” ì¸ë±ìŠ¤ì˜ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\n1 2 ALTER TABLE salaries RENAME INDEX ix_salary TO ix_salary2, ALGORITHM=INPLACE, LOCK=NONE; ì¸ë±ìŠ¤ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ì‘ì—…ì€ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì§€ë§Œ ì‹¤ì œ í…Œì´ë¸” ë¦¬ë¹Œë“œë¥¼ í•„ìš”ë¡œ í•˜ì§€ ì•ŠëŠ”ë‹¤. ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ íŒíŠ¸ë¡œ í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ì´ë¦„ì„ ì‚¬ìš© ì¤‘ì´ë¼ê³  í•˜ë”ë¼ë„ ì§§ì€ ì‹œê°„ ì•ˆì— êµì²´ê°€ ê°€ëŠ¥í•˜ë‹¤. 1 2 3 4 5 6 7 8 9 10 /* ìƒˆë¡œìš´ ì¸ë±ìŠ¤ ìƒì„± */ ALTER TABLE employees ADD INDEX index_new (first_name, last_name), ALGORITHM=INPLACE, LOCK=NONE; /* ê¸°ì¡´ ì¸ë±ìŠ¤ ì‚­ì œ ë° ìƒˆë¡œìš´ ì¸ë±ìŠ¤ì˜ ì´ë¦„ì„ ë³€ê²½ */ ALTER TABLE employees DROP INDEX ix_firstname, RENAME INDEX index_new TO ix_firstname, ALGORITHM=INPLACE, LOCK=NONE; ì¸ë±ìŠ¤ ê°€ì‹œì„± ë³€ê²½ MySQL ì„œë²„ì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ ALTER TABLE DROP INDEX ëª…ë ¹ìœ¼ë¡œ ì¦‰ì‹œ ì™„ë£Œëœë‹¤.\ní•˜ì§€ë§Œ í•œ ë²ˆ ì‚­ì œëœ ì¸ë±ìŠ¤ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ëŠ” ê²ƒì€ ë§¤ìš° ë§ì€ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ë„ ìˆë‹¤.\nìµœì•…ì˜ ê²½ìš° ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì„œë¹„ìŠ¤ë¥¼ ë©ˆì¶”ê³ , ì¸ë±ìŠ¤ë¥¼ ë‹¤ì‹œ ìƒì„±í•˜ê³  ì‘ìš© í”„ë¡œê·¸ë¨ì„ ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í•œë‹¤. ì¸ë±ìŠ¤ë‚˜ í…Œì´ë¸”ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ ë¶€ë‹´ìŠ¤ëŸ¬ìš´ ì‘ì—…ì´ë¯€ë¡œ í•œ ë²ˆ ìƒì„±ëœ ì¸ë±ìŠ¤ëŠ” ì‚­ì œí•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ì¸ë±ìŠ¤ì˜ ê°€ì‹œì„±ì„ ì œì–´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ë„ì…ë˜ì—ˆìœ¼ë©°, ì´ë¡œ ì¸í•´ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\n1 ALTER TABLE employees ALTER INDEX ix_firstname [INVISIBLE | VISIBLE]; ì¸ë±ìŠ¤ê°€ INVISIBLE ìƒíƒœë¡œ ë³€ê²½ë˜ëŠ” ì˜µí‹°ë§ˆì´ì €ëŠ” í•´ë‹¹ ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•œë‹¤.\ní•´ë‹¹ ëª…ë ¹ì€ ë©”íƒ€ë°ì´í„°ë§Œ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— ì˜¨ë¼ì¸ DDLë¡œ ì‹¤í–‰ë˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•˜ê¸° ì „ ë¨¼ì € í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ë¹„í™œì„±í•˜ì—¬ ìƒí™©ì„ ëª¨ë‹ˆí„°ë§í•œ í›„ ì•ˆì „í•˜ê²Œ ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆê²Œ ëë‹¤. ìµœì´ˆ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ë•Œë„ ê°€ì‹œì„±ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 SHOW CREATE TABLE employees \\G /* CREAET TABLE employees \\G ( ... KEY \u0026#39;ix_firstname_lastname\u0026#39; (\u0026#39;first_name\u0026#39;, \u0026#39;last_name\u0026#39;) /* !80000 INVISIBLE */ ) ENGINE=InnoDB */ ë¹„ìŠ·í•œ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ì¸ë±ìŠ¤ê°€ ë§ì•„ì§€ë©´ MySQL ì˜µí‹°ë§ˆì´ì €ê°€ ë‹¤ë¥¸ ì¸ë±ìŠ¤ë¥¼ ì„ íƒí•˜ì—¬ ì‹¤í–‰ê³„íšì´ ë°”ë€Œê³ , ì´ë¡œì¸í•´ ì„±ëŠ¥ì´ ì•…í™”ë  ìˆ˜ë„ ìˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œê°€ ìš°ë ¤ë˜ëŠ” ê²½ìš° ì²˜ìŒ INVISIBLEë¡œ ìƒì„± í›„ ë¶€í•˜ê°€ ë‚®ì„ ë•Œ VISIBLEë¡œ ë³€ê²½í•˜ì—¬ ëª¨ë‹ˆí„°ë§í•˜ê³  ì ìš© ì—¬ë¶€ë¥¼ ê²°ì • ë° ì„±ëŠ¥ì´ ë–¨ì–´ì§€ëŠ” ì›ì¸ì„ ë¶„ì„ í•  ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ ì‚­ì œ 1 2 3 ALTER TABLE employees DROP PRIMARY, ALGORITHM=COPY, LOCK=SHARED; ALTER TABLE employees DROP INDEX ux_empno, ALGORITHM=COPY, LOCK=NONE; ALTER TABLE employees DROP fx_loc, ALGORITHM=INPLACE, LOCK=NONE; MySQL ì„œë²„ì˜ ì¸ë±ìŠ¤ ì‚­ì œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë§¤ìš° ë¹¨ë¦¬ ì²˜ë¦¬ëœë‹¤.\nì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ ì‚­ì œ ì‘ì—…ì€ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì§€ë§Œ í…Œì´ë¸” ë¦¬ë¹Œë”©ì€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ì‚­ì œ ì‘ì—…ì€ ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œì— ì €ì¥ëœ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì„ ì‚­ì œí•´ì•¼ í•œë‹¤. ì„ì‹œ í…Œì´ë¸”ë¡œ ë ˆì½”ë“œë¥¼ ë³µì‚¬í•´ì„œ í…Œì´ë¸”ì„ ì¬êµ¬ì„± í•´ì•¼í•œë‹¤. ","date":"2023-08-23T12:05:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/6/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/6/","title":"11.7.6 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - ì¸ë±ìŠ¤ ë³€ê²½"},{"content":"í…Œì´ë¸” êµ¬ì¡° ë³€ê²½ ì‘ì—…ì€ ëŒ€ë¶€ë¶„ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ê±°ë‚˜ íƒ€ì…ì„ ë³€ê²½í•˜ëŠ” ì‘ì—…ì´ë‹¤.\nì»¬ëŸ¼ ì¶”ê°€ MySQL 8.0 ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ë©´ì„œ í…Œì´ë¸” ì»¬ëŸ¼ ì¶”ê°€ ì‘ì—…ì€ ëŒ€ë¶€ë¶„ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ì˜¨ë¼ì¸ DDLë¡œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.\në˜í•œ ì»¬ëŸ¼ì„ í…Œì´ë¸”ì˜ ì œì¼ ë§ˆì§€ë§‰ ì»¬ëŸ¼ìœ¼ë¡œ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì€ INSTANT ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì¦‰ì‹œ ì¶”ê°€ëœë‹¤.\n1 2 3 4 5 ALTER TABLE employees ADD COLUMN emp_telno VARCHAR(20), ALGORITHM = INSTANT; ALTER TABLE employees ADD COLUMN emp_telno VARCHAR(20) AFTER emp_no, ALGORITHM = INPLACE, LOCK = NONE; ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ì»¬ëŸ¼ ì¤‘ê°„ì— ìƒˆë¡œ ì¶”ê°€í•˜ëŠ” ê²½ìš° í…Œì´ë¸”ì˜ ë¦¬ë¹Œë“œê°€ í•„ìš”í•˜ì—¬ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\në”°ë¼ì„œ í…Œì´ë¸”ì´ í° ê²½ìš°ë¼ë©´ í…Œì´ë¸”ì˜ ë§ˆì§€ë§‰ ì»¬ëŸ¼ìœ¼ë¡œ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì»¬ëŸ¼ ì‚­ì œ ì»¬ëŸ¼ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ í•­ìƒ í…Œì´ë¸” ë¦¬ë¹Œë“œë¥¼ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— INPLACE ì•Œê³ ë¦¬ì¦˜ë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\n1 2 ALTER TABLE employees DROP COLUMN emp_telno, ALGORITHM = INPLACE, LOCK = NONE; ì´ë¦„ ë° íƒ€ì… ë³€ê²½ ì»¬ëŸ¼ì˜ íƒ€ì… ë³€ê²½ì€ í˜„ì¬ ì»¬ëŸ¼ì˜ íƒ€ì…ê³¼ ë³€ê²½í•˜ê³ ì í•˜ëŠ” ë°ì´í„° íƒ€ì…ì— ë”°ë¼ ë§¤ìš° ë‹¤ì–‘í•œ í˜•íƒœê°€ ë  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /* ì´ë¦„ ë³€ê²½ */ ALTER TABLE salaries CHANGE to_date end_date DATE NOT NULL, ALGORITHM = INPLACE, LOCK = NONE; /* INTë¥¼ VARCHARë¡œ ë³€ê²½ */ ALTER TABLE salaries MODIFY salary VARCHAER(20), ALGORITHM = COPY, LOCK = SHARED; /* VARCHAR í™•ì¥ */ ALTER TABLE employees MODIFY last_name VARCHAER(30) NOT NULL, ALGORITHM = COPY, LOCK = NONE; /* VARCHAR ì¶•ì†Œ */ ALTER TABLE employees MODIFY last_name VARCHAER(10) NOT NULL, ALGORITHM = COPY, LOCK = SHARED; ì´ë¦„ ë³€ê²½: ì»¬ëŸ¼ì˜ ì´ë¦„ë§Œ ë³€ê²½í•˜ëŠ” ì‘ì—…ì€ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì§€ë§Œ ì‹¤ì œ ë°ì´í„° ë¦¬ë¹Œë“œ ì‘ì—…ì€ í•„ìš”ì¹˜ ì•Šìœ¼ë¯€ë¡œ ë¹ ë¥´ê²Œ ì™„ë£Œëœë‹¤. ë°ì´í„° íƒ€ì… ë³€ê²½: ë°ì´í„° íƒ€ì…ì´ ë³€ê²½ë˜ëŠ” ê²½ìš° COPY ì•Œê³ ë¦¬ì¦˜ì´ í•„ìš”í•˜ë©° ì˜¨ë¼ì¸ DDLë¡œ ì‹¤í–‰ë˜ì–´ë„ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì¤‘ì—ëŠ” í…Œì´ë¸” ì“°ê¸° ì‘ì—…ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í¬ê¸° í™•ì¥: í™•ì¥í•˜ëŠ” ê²½ìš°ëŠ” í˜„ì¬ ê¸¸ì´ì™€ í™•ì¥í•˜ëŠ” ê¸¸ì´ì˜ ê´€ê³„ì— ë”°ë¼ ë¦¬ë¹Œë“œê°€ í•„ìš”í•  ìˆ˜ ìˆë‹¤. í¬ê¸° ì¶•ì†Œ: ê¸¸ì´ë¥¼ ì¶•ì†Œí•˜ëŠ” ê²½ìš° ì™„ì „íˆ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ê²½ìš°ê³¼ ê°™ì´ COPY ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤. ìŠ¤í‚¤ë§ˆë¥¼ ë³€ê²½í•˜ëŠ” ì¤‘ í…Œì´ë¸”ì˜ ë°ì´í„° ë³€ê²½ì€ í—ˆìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ SHEREDë¡œ ì‚¬ìš©ë¼ì•¼í•œë‹¤. ì»¬ëŸ¼ íƒ€ì…ì„ ë³€ê²½ ì¤‘ ê°€ì¥ ë¹ˆë²ˆí•œ ê²ƒì€ VARCHAR, VARBINARY íƒ€ì…ì˜ ê¸¸ì´ë¥¼ í™•ì¥í•˜ëŠ” ê²ƒì´ë‹¤.\ní•´ë‹¹ íƒ€ì…ì€ ì»¬ëŸ¼ì˜ ìµ€ëŒ€ í—ˆìš© ì‚¬ì´ìê°€ ë©”íƒ€ë°ì´í„°ì— ì €ì¥ë˜ì§€ë§Œ, ì‹¤ì œ ì»¬ëŸ¼ì´ ê°€ì§€ëŠ” ê°’ì˜ ê¸¸ì´ëŠ” ë°ì´í„° ë ˆì½”ë“œì˜ ì»¬ëŸ¼ í—¤ë”ì— ì €ì¥ë˜ëŠ”ë°, ë™ì¼í•œ ê°’ì´ë”ë¼ë„ ë‹¤ë¥¸ ìš©ëŸ‰ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤. ê°’ì˜ ê¸¸ì´ë¥¼ ìœ„í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê³µê°„ì˜ í¬ê¸°ëŠ” ìµœëŒ€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë°”ì´íŠ¸ ìˆ˜ ë§Œí¼ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì»¬ëŸ¼ê°’ì˜ ê¸¸ì´ ì €ì¥ìš© ê³µê°„ì€ ì»¬ëŸ¼ì˜ ê°’ì´ ìµœëŒ€ ê°€ì§ˆìˆ˜ ìˆëŠ” ë°”ì´íŠ¸ ìˆ˜ê°€ 255 ì´í•˜ì¸ ê²½ìš° 1 ë°”ì´íŠ¸ë§Œ ì‚¬ìš©í•˜ë©°, 256 ë°”ì´íŠ¸ ì´ìƒì¸ ê²½ìš° 2ë°”ì´íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤. INPLACE ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ í•„ìš”ë¡œ í•˜ëŠ” ê°™ì€ ìš©ëŸ‰ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²½ìš° ë¦¬ë¹Œë“œê°€ í•„ìš” ì—†ì§€ë§Œ, ë¬¸ì ì…‹ì´ë‚˜ í¬ê¸° ë³€ê²½ìœ¼ë¡œ ì¸í•´ í•„ìš”ë¡œ í•˜ëŠ” ìš©ëŸ‰ì´ ë³€ê²½ëœë‹¤ë©´ ë¦¬ë¹Œë”©ì´ í•„ìš”í•˜ë‹¤. ","date":"2023-08-18T16:00:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/5/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/5/","title":"11.7.5 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - ì»¬ëŸ¼ ë³€ê²½"},{"content":"í…Œì´ë¸”ì€ ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ê°€ì§€ëŠ” ì£¼ì²´ë¡œì„œ, ì„œë²„ì˜ ë§ì€ ì˜µì…˜ê³¼ ì¸ë±ìŠ¤ ë“±ì˜ ê¸°ëŠ¥ì´ í…Œì´ë¸”ì— ì¢…ì†ë˜ì–´ ì‚¬ìš©ëœë‹¤.\ní…Œì´ë¸” ìƒì„± 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 CREATE [TEMPORARY] TABLE [IF NOT EXISTS] tb_test ( member_id BIGINT [UNSIGNED] [AUTO_INCREMENT], nickname CHAR(20) [CHARACTER SET \u0026#39;utf-8\u0026#39;] [COLLATE \u0026#39;utf8_general_ci\u0026#39;] [NOT NULL], home_url VARCHAR(200) [COLLATE \u0026#39;latin1_general_cs\u0026#39;], birth_year SMALLINT [(4)] [UNSIGNED] [ZEROFILL], member_point INT [NOT NULL] [DEFAULT 0], registerd_dttm DATETIME [NOT NULL], modified_ts TIMESTAMP [NOT NULL] [DEFAULT CURRENT_TIMESTAMP], gender ENUM(\u0026#39;Female\u0026#39;, \u0026#39;Male\u0026#39;) [NOT NULL], hobby SET(\u0026#39;Reading\u0026#39;, \u0026#39;Game\u0026#39;, \u0026#39;Sports\u0026#39;), profile TEXT [NOT NULL], session_data BLOB, PRIMARY KEY (member_id), UNIQUE INDEX ux_nickname (nickname), INDEX ix_registereddttm (registered_dttm) ) ENGINE=INNODB; TEMPORARY í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ì»¤ë„¥ì…˜ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•œ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤. ì´ë¯¸ ê°™ì€ í…Œì´ë¸”ì´ ìˆìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©° ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë¬´ì‹œí•  ìˆ˜ ìˆë‹¤. í…Œì´ë¸”ì„ ì •ì˜í•œ ìŠ¤í¬ë¦½íŠ¸ ë§ˆì§€ë§‰ì— ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ê²°ì •í•˜ê¸° ìœ„í•œ ENGINE í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë³„ë„ë¡œ ì •ì˜ë˜ì§€ ì•Šìœ¼ë©´ MySQL 8.0ì—ì„œëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. ê° ì»¬ëŸ¼ì€ ì»¬ëŸ¼ëª… + ì»¬ëŸ¼íƒ€ì… + [íƒ€ì… ë³„ ì˜µì…˜] + [NULL ì—¬ë¶€] + [ê¸°ë³¸ê°’] ìˆœì„œë¡œ ëª…ì‹œí•˜ê³ , íƒ€ì…ë³„ë¡œ ì—¬ëŸ¬ ì˜µì…˜ì„ ì¶”ê°€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n15ì¥ ì°¸ì¡° í…Œì´ë¸” êµ¬ì¡° ì¡°íšŒ í…Œì´ë¸” êµ¬ì¡°ë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ SHOW CREATE TABLE, DESC ëª…ë ¹ì´ ìˆë‹¤.\nSHOW CREATE TABLE CREATE TABLE ë¬¸ì¥ì„ í‘œì‹œí•´ì¤€ë‹¤. ìµœì´ˆë¡œ ìƒì„±í•  ë•Œ ì‚¬ìš©ìê°€ ì‹¤í–‰í•œ ë‚´ìš©ì´ ì•„ë‹Œ í…Œì´ë¸”ì˜ ë©”íƒ€ ì •ë³´ë¥¼ ì½ì–´ CREATE TABLE ëª…ë ¹ìœ¼ë¡œ ì¬ì‘ì„±í•˜ì—¬ ë³´ì—¬ì¤€ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 SHOW CREATE TABLE employees; /* +-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | Table | Create Table | +-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | employees | CREATE TABLE `employees` ( `emp_no` int NOT NULL, `birth_date` date NOT NULL, `first_name` varchar(14) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `last_name` varchar(16) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `gender` enum(\u0026#39;M\u0026#39;,\u0026#39;F\u0026#39;) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `hire_date` date NOT NULL, PRIMARY KEY (`emp_no`), KEY `ix_hiredate` (`hire_date`), KEY `ix_gender_birthdate` (`gender`,`birth_date`), KEY `ix_firstname` (`first_name`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci STATS_PERSISTENT=0 | +-----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ */ ì»¬ëŸ¼ì˜ ëª©ë¡, ì¸ë±ìŠ¤, ì™¸ë˜í‚¤ ì •ë³´ë¥¼ ë™ì‹œì— ë³´ì—¬ì£¼ê¸° ë•Œë¬¸ì— SQLì„ íŠœë‹í•˜ê±°ë‚˜ í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ í™•ì¸í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.\nDESC DESCRIBEì˜ ì•½ì–´ í˜•íƒœì˜ ëª…ë ¹ìœ¼ë¡œ ê°™ì€ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤. í…Œì´ë¸”ì´ ì»¬ëŸ¼ ì •ë³´ë¥¼ ë³´ê¸° í¸í•œ í‘œ í˜•íƒœë¡œ í‘œì‹œí•´ì¤€ë‹¤.\nì¸ë±ìŠ¤ ì»¬ëŸ¼ì˜ ìˆœì„œë‚˜ ì™¸ë˜í‚¤, í…Œì´ë¸” ìì²´ì˜ ì†ì„±ì„ ë³´ì—¬ì£¼ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ í…Œì´ë¸”ì˜ ì „ì²´ì ì¸ êµ¬ì¡°ë¥¼ í•œ ë²ˆì— í™•ì¸í•˜ê¸°ëŠ” ì–´ë µë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 DESC employees; /* +------------+---------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +------------+---------------+------+-----+---------+-------+ | emp_no | int | NO | PRI | NULL | | | birth_date | date | NO | | NULL | | | first_name | varchar(14) | NO | MUL | NULL | | | last_name | varchar(16) | NO | | NULL | | | gender | enum(\u0026#39;M\u0026#39;,\u0026#39;F\u0026#39;) | NO | MUL | NULL | | | hire_date | date | NO | MUL | NULL | | +------------+---------------+------+-----+---------+-------+ */ í…Œì´ë¸”ì˜ êµ¬ì¡° ë³€ê²½ ALTER TABLE ëª…ë ¹ì„ ì‚¬ìš©í•œë‹¤. í…Œì´ë¸”ì˜ ìì²´ì˜ ì†ì„±ì„ ë³€ê²½í•  ìˆ˜ ìˆì„ë¿ë§Œ ì•„ë‹ˆë¼ ì¸ë±ìŠ¤ì˜ ì¶”ê°€ ì‚­ì œë‚˜ ì»¬ëŸ¼ì„ ì¶”ê°€/ì‚­ì œí•˜ëŠ” ìš©ë„ë¡œë„ ì‚¬ìš©ëœë‹¤.\ní…Œì´ë¸” ìì²´ì— ëŒ€í•œ ì†ì„± ë³€ê²½ì€ ì£¼ë¡œ í…Œì´ë¸”ì˜ ë¬¸ì ì§‘í•©ì´ë‚˜ ìŠ¤í† ë¦¬ì§€ ì—”ì§„, íŒŒí‹°ì…˜ êµ¬ì¡° ë“±ì˜ ë³€ê²½ì´ë‹¤.\níŒŒí‹°ì…˜ì€ 13ì¥ ì°¸ì¡° 1 2 3 4 5 6 ALTER TABLE employees CONVERT TO CHARACTER SET UTF8MB4 COLLATE UTF8MB4_GENERAL_CI, ALGORITHM=INPLACE, LOCK=NONE; ALTER TABLE employees ENGINE=InnoDB, ALGORITHM=INPLACE, LOCK=NONE; ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì€ ë‚´ë¶€ì ì¸ í…Œì´ë¸”ì˜ ì €ì¥ì†Œë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì´ë¼ í•­ìƒ í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ë³µì‚¬í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.\nALTER TABLE ë¬¸ì¥ì— ëª…ì‹œëœ ENGINEì´ ê¸°ì¡´ê³¼ ë™ì¼í•˜ë”ë¼ë„ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ë³µì‚¬í•˜ëŠ” ì‘ì—…ì€ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ì£¼ì˜í•´ì•¼ í•œë‹¤. í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¦¬ë¸”ë“œ í•˜ëŠ” ëª©ì ìœ¼ë¡œë„ ì‚¬ìš©ëœë‹¤. ì£¼ë¡œ ë ˆì½”ë“œì˜ ì‚­ì œê°€ ìì£¼ ë°œìƒí•˜ëŠ” í…Œì´ë¸”ì—ì„œ ë°ì´í„°ê°€ ì €ì¥ë˜ì§€ ì•Šì€ ë¹ˆ ê³µê°„ì„ ì œê±°í•´ ë””ìŠ¤í¬ ì‚¬ìš© ê³µê°„ì„ ì¤„ì´ëŠ” ì—­í• ì„ í•œë‹¤. í…Œì´ë¸” ëª… ë³€ê²½ RENAME TABLE ëª…ë ¹ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¹ìˆœíˆ í…Œì´ë¸”ì˜ ì´ë¦„ ë³€ê²½ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ í…Œì´ë¸”ì„ ì´ë™í•  ë•Œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 RENAME TABLE table1 TO table 2; RENAME TABLE db1.table1 TO db2.table 2; ì´ë¦„ë§Œ ë³€ê²½í•˜ëŠ” ê²½ìš° ì²« ë²ˆì§¸ ëª…ë ¹ ì²˜ëŸ¼ ë™ì¼ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì—ì„œ ì´ë¦„ë§Œ ë³€ê²½í•˜ëŠ” ì‘ì—…ì€ ë©”íƒ€ ì •ë³´ë§Œ ë³‘ê²½í•˜ê¸° ë•Œë¬¸ì— ë§¤ìš° ë¹¨ë¦¬ ì²˜ë¦¬ëœë‹¤. í…Œì´ë¸” ë³µì‚¬ ë‘ ë²ˆì§¸ ëª…ë ¹ê³¼ ê°™ì´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” ê²½ìš°ëŠ” ë©”íƒ€ ì •ë³´ë¿ë§Œ ì•„ë‹ˆë¼ í…Œì´ë¸”ì´ ì €ì¥ëœ íŒŒì¼ê¹Œì§€ ë‹¤ë¥¸ ë””ë ‰í„°ë¦¬ë¡œ ì´ë™í•´ì•¼ í•œë‹¤. ìš´ì˜ì²´ì œì—ì„œ ì„œë¡œ ë‹¤ë¥¸ íŒŒí‹°ì…˜ìœ¼ë¡œ íŒŒì¼ì„ ì´ë™í•  ë•ŒëŠ” ë°ì´í„° íŒŒì¼ì„ ë¨¼ì € ë³µì‚¬í•˜ê³  ë³µì‚¬ë¥¼ ì™„ë£Œí•˜ë©´ ì›ë³¸ íŒŒí‹°ì…˜ì˜ íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬í•˜ëŠ”ë° ë™ì¼í•˜ê²Œ ì²˜ë¦¬ëœë‹¤. ì„œë¡œ ë‹¤ë¥¸ ìš´ì˜ì²´ì œì˜ íŒŒì¼ ìŠ¤ìŠ¤í…œì„ ì‚¬ìš©í•˜ê³  ìˆì—ˆë‹¤ë©´ ë°ì´í„° íŒŒì¼ì˜ í¬ê¸°ì— ë¹„ë¡€í•´ì„œ ì‹œê°„ì´ ì†Œìš”ëœë‹¤. í…Œì´ë¸”ì„ êµì²´í•˜ëŠ” ê²½ìš° ì¼ì‹œì ìœ¼ë¡œ í…Œì´ë¸”ì´ ì—†ì–´ì§€ëŠ” ì‹œì ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì—ëŸ¬ë¥¼ ë°œìƒ ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ í…Œì´ë¸”ì˜ RENAMEëª…ë ¹ì„ í•˜ë‚˜ì˜ ë¬¸ì¥ìœ¼ë¡œ ë¬¶ì–´ ì‹¤í–‰í•˜ì—¬ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤. í…Œì´ë¸” ìƒíƒœ ì¡°íšŒ ëª¨ë“  í…Œì´ë¸”ì€ ë§Œë“¤ì–´ì§„ ì‹œê°„, ëŒ€ëµì ì¸ ë ˆì½”ë“œ ê±´ìˆ˜, ë°ì´í„° íŒŒì¼ì˜ í¬ê¸° ë“± ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ë˜í•œ ë°ì´í„° íŒŒì¼ì˜ ë²„ì „ì´ë‚˜ ë ˆì½”ë“œ í¬ë§· ë“±ê³¼ ê°™ì´ ìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì§€ë§Œ ì¤‘ìš”í•œ ì •ë³´ë„ ê°€ì§€ê³  ìˆëŠ”ë°, ì´ëŸ¬í•œ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì´ SHOW TABLE STATUS ...ë‹¤.\nLIKE 'íŒ¨í„´' ê³¼ ê°™ì€ ì¡°ê±´ì„ ì‚¬ìš©í•´ íŠ¹ì • í…Œì´ë¸”ì˜ ìƒíƒœë§Œ ì¡°íšŒí•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 SHOW TABLE STATUS LIKE \u0026#39;employees\u0026#39; \\G; /* *************************** 1. row *************************** Name: employees Engine: InnoDB Version: 10 Row_format: Dynamic Rows: 297022 Avg_row_length: 51 Data_length: 15220736 Max_data_length: 0 Index_length: 22593536 Data_free: 5242880 Auto_increment: NULL Create_time: 2023-07-25 10:31:33 Update_time: 2023-08-17 14:39:48 Check_time: NULL Collation: utf8mb4_general_ci Checksum: NULL Create_options: stats_persistent=0 Comment: */ SELECT ì¿¼ë¦¬ë¥¼ ì´ìš©í•´ì„œ ì¡°íšŒí•  ìˆ˜ë„ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 SELECT * FROM information_schema.TABLES WHERE TABLE_SCHEMA=\u0026#39;employees\u0026#39; AND TABLE_NAME=\u0026#39;employees\u0026#39; \\G /* *************************** 1. row *************************** TABLE_CATALOG: def TABLE_SCHEMA: employees TABLE_NAME: employees TABLE_TYPE: BASE TABLE ENGINE: InnoDB VERSION: 10 ROW_FORMAT: Dynamic TABLE_ROWS: 297022 AVG_ROW_LENGTH: 51 DATA_LENGTH: 15220736 MAX_DATA_LENGTH: 0 INDEX_LENGTH: 22593536 DATA_FREE: 5242880 AUTO_INCREMENT: NULL CREATE_TIME: 2023-07-25 10:31:33 UPDATE_TIME: 2023-08-17 14:39:48 CHECK_TIME: NULL TABLE_COLLATION: utf8mb4_general_ci CHECKSUM: NULL CREATE_OPTIONS: stats_persistent=0 TABLE_COMMENT: */ í…Œì´ë¸” êµ¬ì¡° ë³µì‚¬ SHOW CREATE TABLE\ní…Œì´ë¸” êµ¬ì¡°ëŠ” ê°™ì§€ë§Œ ì´ë¦„ë§Œ ë‹¤ë¥¸ í…Œì´ë¸”ì„ ìƒì„±í•  ë•ŒëŠ” SHOW CREATE TABLE ëª…ë ¹ì„ ì´ìš©í•´ í…Œì´ë¸”ì˜ ìƒì„± DDLì„ ì¡°íšŒí•œ í›„ì— ì¡°ê¸ˆ ë³€ê²½í•´ì„œ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤. CREATE TABLE ... AS SELECT ... LIMIT 0\nSHOW CREATE TABLE ëª…ë ¹ì„ ì‚¬ìš©í•˜ë©´ ë‚´ìš©ì„ ì¡°ê¸ˆ ë³€ê²½í•´ì•¼ í•  ìˆ˜ë„ ìˆë‹¤ ì¸ë±ìŠ¤ê°€ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤. CREATE TABLE ... LIKE\në°ì´í„°ëŠ” ë³µì‚¬í•˜ì§€ ì•Šê³  í…Œì´ë¸”ì˜ êµ¬ì¡°ë§Œ ë™ì¼í•˜ê²Œ ë³µì‚¬í•œë‹¤. ë°ì´í„°ê°€ì§€ ë³µì‚¬í•˜ë ¤ë©´ ìƒì„± í›„ INSERT INTO ëª…ë ¹ì„ ì¶”ê°€ë¡œ ì‚¬ìš©í•œë‹¤. í…Œì´ë¸” ì‚­ì œ MySQL 8.0 ì—ì„œëŠ” íŠ¹ì • í…Œì´ë¸”ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ì´ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ DMLì´ë‚˜ ì¿¼ë¦¬ë¥¼ ì§ì ‘ ë°©í•´í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\në ˆì½”ë“œê°€ ë§ì§€ ì•Šì€ í…Œì´ë¸”ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ ì„œë¹„ìŠ¤ ë„ì¤‘ì´ë¼ê³  í•˜ë”ë¼ë„ ë¬¸ì œê°€ ë˜ì§€ëŠ” ì•Šì§€ë§Œ ìš©ëŸ‰ì´ ë§¤ìš° í° í…Œì´ë¸”ì„ ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ ìƒë‹¹íˆ ë¶€í•˜ê°€ í¬ë‹¤.\nì„œë²„ëŠ” í•´ë‹¹ í…Œì´ë¸”ì´ ì‚¬ìš©í•˜ë˜ ë°ì´í„° íŒŒì¼ì„ ì‚­ì œí•´ì•¼ í•œë‹¤. íŒŒì¼ì˜ í¬ê¸°ê°€ ë§¤ìš° í¬ê³  ë””ìŠ¤í¬ì—ì„œ íŒŒì¼ ì¡°ê°ë“¤ì´ ë„ˆë¬´ ë¶„ì‚°ë˜ì–´ ì €ì¥ë¼ ìˆë‹¤ë©´ ë§ì€ ë””ìŠ¤í¬ ì½ê¸°/ì“°ê¸° ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. ì´ë¡œì¸í•´ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì˜ ì¿¼ë¦¬ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ë„ ìˆë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ë²„í¼ë¶ˆì˜ ê° í˜ì´ì§€ê°€ ê°€ì§„ ë ˆì½”ë“œì— ëŒ€í•œ í•´ì‹œ ì¸ë±ìŠ¤ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë°, ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ê°€ í™œì„±í™”ë¼ìˆëŠ” ê²½ìš° í…Œì´ë¸”ì´ ì‚­ì œë˜ë©´ ê´€ë ¨ ì •ë³´ë“¤ì„ ëª¨ë‘ ì‚­ì œí•´ì•¼ í•œë‹¤.\në§ì´ ê°€ì§€ê³  ìˆë‹¤ë©´ ì‚­ì œ ì‘ì—…ìœ¼ë¡œ ì¸í•´ ì„œë²„ì˜ ë¶€í•˜ê°€ ë†’ì•„ì§€ê³  ê°„ì ‘ì ìœ¼ë¡œ ë‹¤ë¥¸ ì¿¼ë¦¬ ì²˜ë¦¬ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ë„ ìˆë‹¤. í…Œì´ë¸”ì˜ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì—ë„ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤. ","date":"2023-08-18T14:32:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/4/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/4/","title":"11.7.4 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - í…Œì´ë¸” ë³€ê²½"},{"content":"MySQL ì„œë²„ì—ëŠ” ì „í†µì ìœ¼ë¡œ í…Œì´ë¸”ë³„ë¡œ ì „ìš© í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í–ˆì—ˆë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ì‹œìŠ¤í…œ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë§Œ ì œë„ˆëŸ´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í–ˆëŠ”ë°, ì œë„ˆëŸ´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ëŠ” ì—¬ëŸ¬ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ í•œêº¼ë²ˆì— ì €ì¥í•˜ëŠ” í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤.\nMySQL 8.0 ë²„ì „ì´ ë˜ë©´ì„œ ì‚¬ìš©ì í…Œì´ë¸”ì„ ì œë„ˆëŸ´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¡œ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ê³  í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” DDL ëª…ë ¹ì´ ì¶”ê°€ëë‹¤.\nì œì•½ ì‚¬í•­ MySQL 8.0ì—ì„œë„ ì œë„ˆëŸ´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ëŠ” ì—¬ëŸ¬ê°€ì§€ ì œì•½ ì‚¬í•­ì„ ê°€ì§„ë‹¤.\níŒŒí‹°ì…˜ í…Œì´ë¸”ì€ ì œë„ˆëŸ´ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•¨ ë³µì œ ì†ŒìŠ¤ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ë™ì¼ í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²½ìš° ADD DATAFILE ë¬¸ì¥ì€ ì‚¬ìš© ë¶ˆê°€ í…Œì´ë¸” ì•”í˜¸í™”ëŠ” í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ë‹¨ìœ„ë¡œ ì„¤ì •ë¨ í…Œì´ë¸” ì••ì¶• ê°€ëŠ¥ ì—¬ë¶€ëŠ” í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì˜ ë¸”ë¡ ì‚¬ì´ì¦ˆì™€ InnoDB í˜ì´ì§€ ì‚¬ì´ì¦ˆì— ì˜í•´ ê²°ì •ë¨ íŠ¹ì • í…Œì´ë¸”ì„ ì‚­ì œ(DROP TABLE)í•´ë„ ë””ìŠ¤í¬ ê³µê°„ì´ ìš´ì˜ì²´ì œë¡œ ë°˜ë‚©ë˜ì§€ ì•ŠìŒ ì¥ì  ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì‚¬ìš©ì í…Œì´ë¸”ì´ ì œë„ˆëŸ´ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ ê°œì„ ëœ ê²ƒì€ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\nì œë„ˆëŸ´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ íŒŒì¼ í•¸ë“¤ëŸ¬(Open file descriptor)ë¥¼ ìµœì†Œí™” í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ì— í•„ìš”í•œ ë©”ëª¨ë¦¬ ê³µê°„ ìµœì†Œí™” ìœ„ ì¥ì ì€ í…Œì´ë¸”ì˜ ê°œìˆ˜ê°€ ë§¤ìš° ë§ì€ ê²½ìš°ì— ìœ ìš©í•˜ë©°, ì¼ë°˜ì ì¸ í™˜ê²½ì—ì„œ ì œë„ˆëŸ´ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ì˜ ì¥ì ì„ ì·¨í•˜ê¸°ê°€ ì–´ë µë‹¤.\nì‚¬ìš© MySQL ì„œë²„ì—ì„œ í…Œì´ë¸”ì´ ì–´ë–¤ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í• ì§€ëŠ” innodb_file_per_table ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì œì–´í•  ìˆ˜ ìˆë‹¤.\nMySQL 8.0ì—ì„œëŠ” í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ ê¸°ë³¸ê°’ì´ ONì´ë¯€ë¡œ í…Œì´ë¸”ì€ ìë™ìœ¼ë¡œ ê°œë³„ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì— ì‘ì€ í…Œì´ë¸”ì´ ë§¤ìš° ë§ì´ í•„ìš”í•œ ì‘ìš© í”„ë¡œê·¸ë¨ì„ ê°œë°œ ì¤‘ì´ë¼ë©´ ì œë„ˆëŸ´ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ì— ëŒ€í•œ í™œìš©ì„ ê³ ë ¤í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ë‹¤.\n","date":"2023-08-18T14:23:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/3/","title":"11.7.3 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ ë³€ê²½"},{"content":"MySQLì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” 1ê°œ ì´ìƒì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\në‹¤ë¥¸ RDBMSì—ì„œëŠ” ìŠ¤í‚¤ë§ˆì™€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ë¶„í•´ì„œ ê´€ë¦¬í•˜ì§€ë§Œ MySQL ì„œë²„ì—ì„œëŠ” ìŠ¤í‚¤ë§ˆì™€ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë™ê²© ê°œë…ì´ë¯€ë¡œ êµ³ì´ ìŠ¤í‚¤ë§ˆë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. MySQLì˜ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë””ìŠ¤í¬ì˜ ë¬¼ë¦¬ì ì¸ ì €ì¥ì†Œë¥¼ êµ¬ë¶„í•˜ê¸°ë„ í•˜ì§€ë§Œ ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì„ ë¬¶ì–´ì„œ ì¡°ì¸ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ë‹¨ìˆœíˆ ë…¼ë¦¬ì ì¸ ê°œë…ì´ê¸°ë„ í•˜ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê°ì²´ì— ëŒ€í•œ ê¶Œí•œì„ êµ¬ë¶„í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë˜ê¸°ë„ í•˜ì§€ë§Œ ê·¸ ì´ìƒì˜ í° ì˜ë¯¸ë¥¼ ê°€ì§€ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ë°ì´í„°ë² ì´ìŠ¤ì— ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì€ ê¸°ë³¸ ë¬¸ì ì§‘í•©ì´ë‚˜ ì½œë ˆì´ì…˜ì„ ì„¤ì •í•˜ëŠ” ì •ë„ì´ë¯€ë¡œ ê°„ë‹¨í•˜ë‹¤.\n1 2 3 4 CREATE DATABASE [IF NOT EXISTS] employees; CREATE DATABASE [IF NOT EXISTS] employees CHARACTER SET utf8mb4; CREATE DATABASE [IF NOT EXISTS] employees CHARACTER SET utf8mb4 COLLATE utf8mb_general_ci; ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ 1 2 SHOW DATABASES; SHOW DATABASES LIKE \u0026#39;%emp%\u0026#39;; ì ‘ì†ëœ MySQL ì„œë²„ê°€ ê°€ì§€ê³  ìˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª©ë¡ì„ ë‚˜ì—´í•œë‹¤.\nê¶Œí•œì„ ê°€ì§€ê³  ìˆëŠ” ë°ì´í„° ë² ì´ìŠ¤ ëª©ë¡ë§Œ í‘œì‹œí•œë‹¤. SHOW DATABASES ê¶Œí•œì´ ìˆì–´ì•¼ í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì„ íƒ 1 USE employees; ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„ íƒí•˜ëŠ” ëª…ë ¹ì´ë‹¤.\nSQL ë¬¸ì¥ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šê³  í…Œì´ë¸” ì´ë¦„ì´ë‚˜ í”„ë¡œì‹œì €ì˜ ì´ë¦„ë§Œ ëª…ì‹œí•˜ë©´ í˜„ì¬ ì»¤ë„¥ì…˜ì˜ ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì£¼ì–´ì§„ í…Œì´ë¸”ì´ë‚˜ í”„ë¡œì‹œì €ë¥¼ ê²€ìƒ‰í•œë‹¤. ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ì´ë‚˜ í”„ë¡œì‹œì €ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì´ë¦„ ì•ì— ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ì„ ë°˜ë“œì‹œ ëª…ì‹œí•´ì•¼í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì†ì„± ë³€ê²½ 1 2 ALTER DATABASE employees CHARACTER SET = euckr; ALTER DATABASE employees CHARACTER SET = euckr COLLATE = euckr_korean_ci; ìƒì„±í•  ë•Œ ì§€ì •í•œ ë¬¸ì ì§‘í•©ì´ë‚˜ ì½œë ˆì´ì…˜ì„ ë³€ê²½í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ì‚­ì œ 1 DROP DATABASE [IF EXISTS] employees; ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚­ì œí•œë‹¤.\nì§€ì •í•œ ì´ë¦„ì˜ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. IF EXISTS í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì¡´ì¬í•  ë•Œë§Œ ì‚­ì œí•œë‹¤. ","date":"2023-08-18T14:10:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/2/","title":"11.7.2 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½"},{"content":"DBMS ì„œë²„ì˜ ëª¨ë“  ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ë³€ê²½í•˜ëŠ” ì¿¼ë¦¬ë¥¼ DDL(Data Definition Language)ë¼ê³  í•œë‹¤.\nìŠ¤í† ì–´ë“œ í”„ë¡œì‹œì €ë‚˜ í•¨ìˆ˜, DBë‚˜ í…Œì´ë¸” ë“±ì„ ìƒì„±í•˜ê±°ë‚˜ ë³€ê²½í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ëª…ë ¹ì´ DDLì— í•´ë‹¹í•œë‹¤. MySQL ì„œë²„ê°€ ì—…ê·¸ë ˆì´ë“œ ë˜ë©´ì„œ ë§ì€ DDLì´ ì˜¨ë¼ì¸ ëª¨ë“œë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆê²Œ ê°œì„ ëì§€ë§Œ, ìŠ¤í‚¤ë§ˆë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì€ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ê³  ì„œë²„ì— ë§ì€ ë¶€í•˜ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì‘ì—…ë“¤ì´ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤. MySQL 5.5 ì´ì „ ë²„ì „ê¹Œì§€ëŠ” ì„œë²„ì—ì„œ í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì—ì„œ DMLì„ ì‹¤í–‰í•  ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸ì— Perconaì—ì„œ ê°œë°œí•œ pt-online-schema-changeë¼ëŠ” ë„êµ¬ë¥¼ ì‚¬ìš©í•´ì•¼í–ˆë‹¤.(MySQL 5.5 ë²„ì „ì—ì„œë„ ì„±ëŠ¥ìƒ ì´ìœ ë¡œ ì‚¬ìš©í–ˆë‹¤.)\nMySQL 8.0 ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ë©´ì„œ ëŒ€ë¶€ë¶„ì˜ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì€ ì„œë²„ì— ë‚´ì¥ëœ ì˜¨ë¼ì¸ DDL ê¸°ëŠ¥ìœ¼ë¡œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ë„êµ¬ëŠ” ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì˜¨ë¼ì¸ DDL ì•Œê³ ë¦¬ì¦˜ ì˜¨ë¼ì¸ DDLì€ ìŠ¤í‚¤ë§ˆë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—… ë„ì¤‘ì—ë„ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì—ì„œ í•´ë‹¹ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì¡°íšŒí•˜ëŠ” ì‘ì—…ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤.\nì˜¨ë¼ì¸ DDL ê¸°ëŠ¥ì€ í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì¸ë±ìŠ¤ ì¶”ê°€ì™€ ê°™ì€ ëŒ€ë¶€ë¶„ì˜ ì‘ì—…ì— ëŒ€í•´ ì‘ë™í•œë‹¤. ALGORITHM, LOCK ì˜µì…˜ì„ í†µí•´ ì–´ë–¤ ëª¨ë“œë¡œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ì‹¤í–‰í• ì§€ ê²°ì •í•  ìˆ˜ ìˆë‹¤. MySQL ì„œë²„ëŠ” old_alter_table ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ALTER TABLE ëª…ë ¹ì´ ì˜¨ë¼ì¸ DDL ë˜ëŠ” ì˜ˆì „ ë°©ì‹(í…Œì´ë¸”ì˜ ì½ê³  ì“°ê¸°ë¥¼ ë§‰ê³  ìŠ¤í‚¤ë§ˆë¥¼ ë³€ê²½í•˜ëŠ” ë°©ì‹)ìœ¼ë¡œ ì²˜ë¦¬í• ì§€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤.\ní•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ê¸°ë³¸ê°’ì€ OFFë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ ê¸°ë³¸ì ìœ¼ë¡œ ì˜¨ë¼ì¸ DDLì´ í™œì„±í™”ëœë‹¤. ALTER TABLE ëª…ë ¹ì´ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì— ì í•©í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì°¾ëŠ”ë‹¤.\nALGORITHM=INSTANTë¡œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ ê°€ëŠ¥í•œì§€ í™•ì¸ í›„, ê°€ëŠ¥í•˜ë©´ ì„ íƒ ALGORITHM=INPLACEë¡œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ ê°€ëŠ¥í•œì§€ í™•ì¸ í›„, ê°€ëŠ¥í•˜ë©´ ì„ íƒ ALGORITHM=COPY ì•Œê³ ë¦¬ì¦˜ ì„ íƒ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì•Œê³ ë¦¬ì¦˜ì˜ ìš°ì„ ìˆœìœ„ê°€ ë‚®ì„ìˆ˜ë¡ MySQL ì„œë²„ëŠ” ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ìœ„í•´ ë” í° ì ê¸ˆê³¼ ë§ì€ ì‘ì—…ì„ í•„ìš”ë¡œ í•˜ê³  ì„œë²„ì˜ ë¶€í•˜ë„ ë§ì´ ë°œìƒì‹œí‚¨ë‹¤.\nINSTANT í…Œì´ë¸”ì˜ ë°ì´í„°ëŠ” ì „í˜€ ë³€ê²½í•˜ì§€ ì•Šê³ , ë©”íƒ€ë°ì´í„°ë§Œ ë³€ê²½í•˜ê³  ì‘ì—…ì„ ì™„ë£Œí•œë‹¤.\ní…Œì´ë¸”ì´ ê°€ì§„ ë ˆì½”ë“œ ê±´ìˆ˜ì™€ ë¬´ê´€í•˜ê²Œ ì‘ì—… ì‹œê°„ì´ ë§¤ìš° ì§§ë‹¤. ìŠ¤í‚¤ë§ˆ ë³€ê²½ ë„ì¤‘ í…Œì´ë¸”ì˜ ì½ê³  ì“°ê¸°ëŠ” ëŒ€ê¸°í•˜ê²Œ ë˜ì§€ë§Œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œê°„ì´ ë§¤ìš° ì§§ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì˜ ì¿¼ë¦¬ ì²˜ë¦¬ì—ëŠ” í¬ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤. INPLACE ì„ì‹œ í…Œì´ë¸”ë¡œ ë°ì´í„°ë¥¼ ë³µì‚¬í•˜ì§€ ì•Šê³  ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ì‹¤í–‰í•œë‹¤.\në‚´ë¶€ì ìœ¼ë¡œëŠ” í…Œì´ë¸”ì˜ ë¦¬ë¹Œë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ë ˆì½”ë“œì˜ ë³µì‚¬ ì‘ì—…ì€ ì—†ì§€ë§Œ í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ë¦¬ë¹Œë“œí•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í…Œì´ë¸”ì˜ í¬ê¸°ì— ë”°ë¼ ë§ì€ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ ìˆë‹¤. ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì¤‘ì—ë„ í…Œì´ë¸”ì˜ ì½ê¸°ì™€ ì“°ê¸° ëª¨ë‘ ê°€ëŠ¥í•˜ë‹¤. ìµœì´ˆ ì‹œì‘ ì‹œì ê³¼ ë§ˆì§€ë§‰ ì¢…ë£Œ ì‹œì ì—ëŠ” í…Œì´ë¸”ì˜ ì½ê³  ì“°ê¸°ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ ì‹œê°„ì´ ë§¤ìš° ì§§ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì˜ ì¿¼ë¦¬ ì²˜ë¦¬ì— ëŒ€í•œ ì˜í–¥ë„ëŠ” ë†’ì§€ ì•Šë‹¤. ëŒ€ë¶€ë¶„ ì ê¸ˆì€ NONEìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥í•˜ì§€ë§Œ, COPY ë³€ê²½ëœ ìŠ¤í‚¤ë§ˆë¥¼ ì ìš©í•œ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  í…Œì´ë¸”ì„ ëª¨ë‘ ì…ì‹œ í…Œì´ë¸”ë¡œ ë³µì‚¬í•œ í›„ ìµœì¢…ì ìœ¼ë¡œ ì„ì‹œ í…Œì´ë¸”ì„ RENAMEí•˜ì—¬ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ì™„ë£Œí•œë‹¤.\ní…Œì´ë¸” ì½ê¸°ë§Œ ê°€ëŠ¥í•˜ê³  DMLì€ ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤. ì ê¸ˆ ìˆ˜ì¤€ ì˜¨ë¼ì¸ DDL ëª…ë ¹ì€ ì•Œê³ ë¦¬ì¦˜ê³¼ í•¨ê»˜ ì ê¸ˆ ìˆ˜ì¤€ë„ í•¨ê»˜ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤.\n1 2 ALTER TABLE salaries CHANGE to_date end_date DATE NOT NULL, ALGORITHM=INPLACE, LOCK=NONE; ALGORITHM, LOCK ì˜µì…˜ì´ ëª…ì‹œë˜ì§€ ì•Šìœ¼ë©´ ì„œë²„ê°€ ì ì ˆí•œ ìˆ˜ì¤€ì˜ ì•Œê³ ë¦¬ì¦˜ê³¼ ì ê¸ˆ ìˆ˜ì¤€ì„ ì„ íƒí•œë‹¤.\nINSTANT ì•Œê³ ë¦¬ì¦˜ì€ ë©”íƒ€ë°ì´í„°ë§Œ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— ë§¤ìš° ì§§ì€ ì‹œê°„ ë™ì•ˆì˜ ë©”íƒ€ë°ì´í„° ì ê¸ˆì„ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— LOCK ì˜µì…˜ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.\nNONE: ì•„ë¬´ëŸ° ì ê¸ˆì„ ê±¸ì§€ ì•ŠìŒ SHARED: ì½ê¸° ì ê¸ˆì„ ê±¸ê³  ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ì‹¤í–‰í•œë‹¤. ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì¤‘ ì½ê¸°ëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ ì“°ê¸°ëŠ” ë¶ˆê°€ INPLACE ì•Œê³ ë¦¬ì¦˜ì´ ì‚¬ìš©ë˜ëŠ” ê²½ìš° ëŒ€ë¶€ë¶„ NONEìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥í•˜ì§€ë§Œ SHARED ìˆ˜ì¤€ê¹Œì§€ ì„¤ì •í•´ì•¼ í•  ìˆ˜ ìˆë‹¤. EXCLUSIVE: ì“°ê¸° ì ê¸ˆì„ ê±¸ê³  ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ì‹¤í–‰í•œë‹¤. í…Œì´ë¸”ì˜ ì½ê³  ì“°ê¸° ë¶ˆê°€ ì „í†µì ì¸ ALTER TABLEê³¼ ë™ì¼í•˜ë¯€ë¡œ ëª…ì‹œí•  í•„ìš”ëŠ” ì—†ë‹¤. ì˜¨ë¼ì¸ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì´ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë”ë¼ë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” í…Œì´ë¸”ì˜ ë¦¬ë¹Œë“œê°€ í•„ìš”í•  ìˆ˜ë„ ìˆë‹¤.\ní…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì€ ë°ì´í„° íŒŒì¼ì—ì„œ ë ˆì½”ë“œì˜ ì €ì¥ ìœ„ì¹˜ê°€ ë°”ë€Œì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í…Œì´ë¸” ë¦¬ë¹Œë“œê°€ í•„ìš”í•˜ë‹¤. ë‹¨ìˆœíˆ ì»¬ëŸ¼ì˜ ì´ë¦„ë§Œ ë³€ê²½í•˜ëŠ” ê²½ìš° INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•´ì•¼ í•˜ì§€ë§Œ í…Œì´ë¸” ë ˆì½”ë“œì˜ ë¦¬ë¹Œë“œëŠ” í•„ìš”í•˜ì§€ ì•Šë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì¶”ê°€í•˜ëŠ” ê²½ìš°ì™€ ê°™ì´ í…Œì´ë¸” ë ˆì½”ë“œì˜ ë¦¬ë¹Œë“œê°€ í•„ìš”í•œ ê²½ìš°ë¥¼ Data Reorganizing(ë°ì´í„° ì¬êµ¬ì„±) ë˜ëŠ” Table Rebuild(í…Œì´ë¸” ë¦¬ë¹Œë“œ) ë¼ê³  ë¶€ë¥¸ë‹¤.\nê²°ë¡ ì ìœ¼ë¡œ INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ë°ì´í„° ì¬êµ¬ì„±(í…Œì´ë¸” ë¦¬ë¹Œë“œ) ì—¬ë¶€ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\ní•„ìš”í•œ ê²½ìš°: ì ê¸ˆì„ í•„ìš”ë¡œ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì½ê³  ì“°ê¸°ëŠ” ê°€ëŠ¥í•˜ì§€ë©´ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ì— ë”°ë¼ ìƒë‹¹íˆ ë§ì€ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ë„ ìˆë‹¤. í•„ìš”ì¹˜ ì•Šì€ ê²½ìš°: INPLACE ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì§€ë§Œ INSTANT ì•Œê³ ë¦¬ì¦˜ì²˜ëŸ¼ ë§¤ìš° ë¹¨ë¦¬ ì‘ì—…ì´ ì™„ë£Œë  ìˆ˜ ìˆë‹¤. MySQL ì„œë²„ì˜ ì˜¨ë¼ì¸ DDL ê¸°ëŠ¥ì€ ë²„ì „ë³„ë¡œ ë§ì€ ì°¨ì´ê°€ ìˆìœ¼ë¯€ë¡œ ì‚¬ìš© ì¤‘ì¸ ë²„ì „ì´ 8.0ì´ ì•„ë‹ˆë¼ë©´ ë©”ë‰´ì–¼ì„ ì‚´í´ë³´ê³  í…Œì´ë¸” ë¦¬ë¹Œë“œê°€ í•„ìš”í•œì§€ í™•ì¸ì´ í•„ìš”í•˜ë‹¤.\në˜í•œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì„ ì‹¤í–‰í•˜ê¸° ì „ ë¨¼ì € ë©”ë‰´ì–¼ê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³¸ë‹¤ë©´ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\nì˜¨ë¼ì¸ ì²˜ë¦¬ ê°€ëŠ¥í•œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ MySQL ì„œë²„ì˜ ëª¨ë“  ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì´ ì˜¨ë¼ì¸ìœ¼ë¡œ ê°€ëŠ¥í•œ ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— í•„ìš”í•œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì˜ í˜•íƒœê°€ ì˜¨ë¼ì¸ìœ¼ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆëŠ”ì§€, ì¼ê³  ì“°ê¸°ê°€ ëŒ€ê¸°(Waiting)í•˜ê²Œ ë˜ëŠ”ì§€ í™•ì¸í•œ í›„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nMySQL ì„œë²„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì€ ë§¤ìš° ë‹¤ì–‘í•˜ê¸° ë•Œë¬¸ì— ëª¨ë“  ëª…ë ¹ì´ ì˜¨ë¼ì¸ DDLì„ ì§€ì›í•˜ëŠ”ì§€ëŠ” ê¸°ì–µí•˜ê¸° ì–´ë ¤ìš°ë¯€ë¡œ ê°€ì´ë“œë‚˜ ì±…ì„ ì°¸ê³ í•œë‹¤.\nALTER TABLE ë¬¸ì¥ì— LOCKê³¼ ALGORITHMì ˆì„ ëª…ì‹œí•´ì„œ ì˜¨ë¼ì¸ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì˜ ì²˜ë¦¬ ì•Œê³ ë¦¬ì¦˜ì„ ê°•ì œí•  ìˆ˜ ìˆìœ¼ë‚˜, ë¬´ì¡°ê±´ ëª…ì‹œí•œëŒ€ë¡œ ì²˜ë¦¬í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ëª…ì‹œëœ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì˜¨ë¼ì¸ DDLì´ ì²˜ë¦¬ë˜ì§€ ëª»í•œë‹¤ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê³  ì‘ì—…ì€ ìˆ˜í–‰ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì˜ë„í•˜ì§€ ì•Šì€ ì ê¸ˆê³¼ ëŒ€ê¸°ëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜¨ë¼ì¸ DDLì´ë¼ í•˜ë”ë¼ë„ ì„œë²„ì— ë¶€í•˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìœ¼ë©°, ê·¸ë¡œ ì¸í•´ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì˜ ì¿¼ë¦¬ë“¤ì´ ëŠë ¤ì§ˆ ìˆ˜ë„ ìˆë‹¤. ë”°ë¼ì„œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì´ ì§ì ‘ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì˜ DMLì„ ëŒ€ê¸°í•˜ê²Œ ë§Œë“¤ì§€ëŠ” ì•Šë”ë¼ë„ ì£¼ì˜í•´ì„œ ì‚¬ìš©í•œë‹¤.\nINPLACE ì•Œê³ ë¦¬ì¦˜ INPLACE ì•Œê³ ë¦¬ì¦˜ì€ ì„ì‹œ í…Œì´ë¸”ë¡œ ë ˆì½”ë“œë¥¼ ë³µì‚¬í•˜ì§€ëŠ” ì•Šë”ë¼ë„ ë‚´ë¶€ì ìœ¼ë¡œ í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ë¦¬ë¹Œë“œí•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ê±°ì¹œë‹¤.\nìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ ì§€ì›ë˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ í…Œì´ë¸”ì¸ì§€ í™•ì¸ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì¤€ë¹„ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì— ëŒ€í•œ ì •ë³´ë¥¼ ì¤€ë¹„í•´ì„œ ì˜¨ë¼ì¸ DDL ì‘ì—… ë™ì•ˆ ë³€ê²½ë˜ëŠ” ë°ì´í„°ë¥¼ ì¶”ì í•  ì¤€ë¹„ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ë³€ê²½ ë° ìƒˆë¡œìš´ DML ë¡œê¹… ì‹¤ì œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ, ì‘ì—…ì´ ìˆ˜í–‰ë˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì˜ DML ì‘ì—…ì´ ëŒ€ê¸°í•˜ì§€ ì•ŠëŠ”ë‹¤. ìŠ¤í‚¤ë§ˆë¥¼ ì˜¨ë¼ì¸ìœ¼ë¡œ ë³€ê²½í•¨ê³¼ ë™ì‹œì— ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œëŠ” ì‚¬ìš©ìì— ì˜í•´ì„œ ë°œìƒí•œ DMLë“¤ì— ëŒ€í•´ì„œ ë³„ë„ì˜ ë¡œê·¸ë¡œ ê¸°ë¡ ë¡œê·¸ ì ìš© ì˜¨ë¼ì¸ DDL ì‘ì—… ë™ì•ˆ ìˆ˜ì§‘ëœ DMLë“¤ì— ëŒ€í•´ ë³„ë„ ë¡œê·¸ë¡œ ê¸°ë¡ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì™„ë£Œ(COMMIT) INPLACE ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ìŠ¤í‚¤ë§ˆê°€ ë³€ê²½ëœë‹¤ê³  í•˜ë”ë¼ë„ 2, 4ë²ˆ ë‹¨ê³„ì—ì„œëŠ” ì§§ì€ ë°°ë‹¤ì  ì¡ê¸ˆì´ í•„ìš”í•˜ë©°, ì´ ì‹œì ì—ëŠ” ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì˜ DMLë“¤ì´ ì ê¹ ëŒ€ê¸°í•œë‹¤. ì‹¤ì œ ë³€ê²½ ì‘ì—…ì´ ì‹¤í–‰ë˜ë©° ë§ì€ ì‹œê°„ì´ í•„ìš”í•œ 3ë²ˆ ë‹¨ê³„ëŠ” DML ì‘ì—…ì´ ëŒ€ê¸° ì—†ì´ ì¦‰ì‹œ ì²˜ë¦¬ëœë‹¤. INPLACE ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì˜¨ë¼ì¸ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ ì§„í–‰ë˜ëŠ” ë™ì•ˆ ìƒˆë¡œ ìœ ì…ëœ DML ì¿¼ë¦¬ë“¤ì— ì˜í•´ ë³€ê²½ë˜ëŠ” ë°ì´í„°ë¥¼ ì˜¨ë¼ì¸ ë³€ê²½ ë¡œê·¸ë¼ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì— ìŒ“ì•„ ë‘ì—ˆë‹¤ê°€ ì™„ë£Œë˜ë©´ ë¡œê·¸ì˜ ë‚´ìš©ì„ ì‹¤ì œ í…Œì´ë¸”ë¡œ ì¼ê´„ ì ìš©í•œë‹¤. ì˜¨ë¼ì¸ ë³€ê²½ ë¡œê·¸ëŠ” ë©”ëª¨ë¦¬ì—ë§Œ ìƒì„±ë˜ë©°, ë©”ëª¨ë¦¬ ê³µê°„ì˜ í¬ê¸°ëŠ” innodb_online_alter_log_max_sizeì‹œìŠ¤í…œ ì„¤ì • ë³€ìˆ˜ì— ì˜í•´ ê²°ì •ëœë‹¤. ì˜¨ë¼ì¸ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ ì˜¤ëœ ì‹œê°„ ê±¸ë¦¬ê±°ë‚˜, ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì¤‘ì— ìœ ì…ë˜ëŠ” DML ì¿¼ë¦¬ê°€ ë§ë‹¤ë©´ ë©”ëª¨ë¦¬ ê³µê°„ì„ í¬ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” ì„¸ì…˜ ë‹¨ìœ„ì˜ ë™ì  ë³€ìˆ˜ì´ë¯€ë¡œ ì–¸ì œë“  ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ì˜¨ë¼ì¸ DDLì˜ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ì˜¨ë¼ì¸ DDLì´ INSTANT ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì‹œì‘ê³¼ ë™ì‹œì— ì‘ì—…ì´ ì™„ë£Œë˜ê¸° ë•Œë¬¸ì— ì‘ì—… ë„ì¤‘ ì‹¤íŒ¨í•  ê°€ëŠ¥ì„±ì€ ê±°ì˜ ì—†ì§€ë§Œ, INPLACE ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²½ìš° ë‚´ë¶€ì ìœ¼ë¡œ í…Œì´ë¸” ë¦¬ë¹Œë“œ ê³¼ì •ì´ í•„ìš”í•  ìˆ˜ ìˆê³ , ìµœì¢… ë¡œê·¸ ì ìš© ê³¼ì •ì´ í•„ìš”í•´ì„œ ì¤‘ê°„ì— ì‹¤íŒ¨í•  ê°€ëŠ¥ì„±ì´ ë†’ì€ í¸ì´ë‹¤.\nALTER TABLE ëª…ë ¹ì´ ì¥ì‹œê°„ ì‹¤í–‰ë˜ê³  ë™ì‹œì— ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì—ì„œ DMLì´ ë§ì´ ì‹¤í–‰ë˜ëŠ” ê²½ìš° ì˜¨ë¼ì¸ ë³€ê²½ ë¡œê·¸ì˜ ê³µê°„ì´ ë¶€ì¡±í•œ ê²½ìš° ALTER TABLE ëª…ë ¹ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ì´ì „ ë²„ì „ì˜ í…Œì…ë¥´ êµ¬ì¡°ì—ì„œëŠ” ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì•ˆë˜ì§€ë§Œ ì´í›„ í…Œì´ë¸” êµ¬ì¡°ì—ëŠ” ì í•©í•˜ì§€ ì•Šì€ ë ˆì½”ë“œê°€ INSERT, UPDATE ëë‹¤ë©´ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì€ ë§ˆì§€ë§‰ ê³¼ì •ì—ì„œ ì‹¤íŒ¨ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì„ ìœ„í•´ì„œ í•„ìš”í•œ ì ê¸ˆ ìˆ˜ì¤€ë³´ë‹¤ ë‚®ì€ ì ê¸ˆ ì˜µì…˜ì´ ì‚¬ìš©ëœ ê²½ìš° ì ê¸ˆ ì—†ì´ ì‹¤í–‰ë˜ëŠ”ë° ë³€ê²½ ì‘ì—…ì˜ ì²˜ìŒê³¼ ë§ˆì§€ë§‰ ê³¼ì •ì—ì„œ ì ê¸ˆì´ ì´ ìˆ˜í–‰ë˜ëŠ” ê³¼ì •ì—ì„œ ì ê¸ˆì„ íšë“í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì‘ì—…ì˜ ê²½ìš° ì •ë ¬ì„ ìœ„í•´ ë””ìŠ¤í¬ì˜ ì„ì‹œ ë””ë ‰í„°ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ ê³µê°„ì´ ë¶€ì¡±í•œ ê²½ìš° ì˜¨ë¼ì¸ DDL ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§ ì˜¨ë¼ì¸ DDLì„ í¬í•¨í•œ ëª¨ë“  ALTER TABLE ëª…ë ¹ì€ MySQL ì„œë²„ì˜ performance_schemaë¥¼ í†µí•´ ì§„í–‰ ìƒí™©ì„ ëª¨ë‹ˆí„°ë§ í•  ìˆ˜ ìˆë‹¤.\nperformance_schemaë¥¼ ì´ìš©í•´ ALTER TABLEì˜ ì§„í–‰ ìƒí™©ì„ ëª¨ë‹ˆí„°ë§ í•˜ë ¤ë©´ ì˜µì…˜(Instrument, Consumer)ì´ í™œì„±í™”ë¼ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 /* ì‹œìŠ¤í…œ ë³€ìˆ˜ í™œì„±í™” - ì„œë²„ ì¬ì‹œì‘ í•„ìš” */ SET GLOBAL performance_schema = ON; UPDATE performance_schema.setup_instruments SET ENABLED = \u0026#39;YES\u0026#39;, TIMED = \u0026#39;YES\u0026#39; WHERE NAME LIKE \u0026#39;stage/innodb/alter%\u0026#39; ; UPDATE performance_schema.setup_consumers SET ENABLED = \u0026#39;YES\u0026#39; WHERE NAME LIKE \u0026#39;%stages%\u0026#39; ; ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‘ì—…ì˜ ì§„í–‰ ìƒí™©ì€ performance_schema.events_stages_current í…Œì´ë¸”ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë° ì‹¤í–‰ì¤‘ì¸ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì¢…ë¥˜ì— ë”°ë¼ ê¸°ë¡ë˜ëŠ” ë‚´ìš©ì´ ì¡°ê¸ˆì”© ë‹¬ë¼ì§„ë‹¤.\n","date":"2023-08-17T14:51:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/7/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/7/1/","title":"11.7.1 ìŠ¤í‚¤ë§ˆ ì¡°ì‘(DDL) - ì˜¨ë¼ì¸ DDL"},{"content":"ì¼ë°˜ì ì¸ ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ í”„ë¡œê·¸ë¨ì—ì„œ UPDATE, DELETE ë¬¸ì¥ì€ ì£¼ë¡œ í•˜ë‚˜ì˜ í…Œì´ë¸”ì— ëŒ€í•´ í•œ ê±´ ì´ìƒì˜ ë ˆì½”ë“œë¥¼ ë³€ê²½, ì‚­ì œí•˜ê¸°ìœ„í•´ ì‚¬ìš©ë˜ì§€ë§Œ, MySQL ì„œë²„ì—ì„œëŠ” ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì¡°ì¸í•´ì„œ í•œ ê°œ ì´ìƒì˜ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ë„ ì œê³µí•œë‹¤.\nJOIN UPDATE, JOIN DELETEë¡œ ì²˜ë¦¬í•˜ë©° ì˜ëª»ëœ ë°ì´í„° ë³´ì •, ì¼ê´„ë¡œ ë§ì€ ë ˆì½”ë“œë¥¼ ë³€ê²½ ë° ì‚­ì œí•˜ëŠ” ê²½ìš°ì— ìœ ìš©í•˜ë‹¤. UPDATE \u0026hellip; ORDER BY \u0026hellip; LIMIT n MySQL ì—ì„œëŠ” UPDATE, DELETE ë¬¸ì¥ì— ORDER BY ì ˆê³¼ LIMITì ˆì„ ë™ì‹œì— ì‚¬ìš©í•´ íŠ¹ì • ì»¬ëŸ¼ìœ¼ë¡œ ì •ë ¬í•´ì„œ ìƒìœ„ ëª‡ ê±´ë§Œ ë³€ê²½ ë° ì‚­ì œí•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\ní•œ ë²ˆì— ë„ˆë¬´ ë§ì€ ë ˆì½”ë“œë¥¼ ë³€ê²½ ë° ì‚­ì œí•˜ëŠ” ì‘ì—…ì€ MySQL ì„œë²„ì— ê³¼ë¶€í•˜ë¥¼ ìœ ë°œí•˜ê±°ë‚˜ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì˜ ì¿¼ë¦¬ë¥¼ ë°©í•´í•  ìˆ˜ë„ ìˆëŠ”ë°, ì´ ë•Œ LIMITì ˆì„ ì´ìš©í•´ ì¡°ê¸ˆì”© ì˜ë¼ì„œ ë³€ê²½í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ë°©ì‹ì„ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\në³µì œ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë¬¸ì¥ì„ ì‹¤í–‰í•˜ë©´ ê²½ê³  ë©”ì‹œì§€ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ORDER BYì— ì˜í•´ ì •ë ¬ë˜ë”ë¼ë„ ì¤‘ë³µëœ ê°’ì˜ ìˆœì„œê°€ ë³µì œ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ë‹¬ë¼ì§ˆ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì´ë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ì •ë ¬í•˜ë©´ ë¬¸ì œëŠ” ì—†ì§€ë§Œ ì˜¤ë¥˜ëŠ” ê¸°ë¡ëœë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì˜ í¬ë§·ì´ ë¡œìš°(ROW)ì¼ ê²½ìš° ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ ë¬¸ì¥(STATEMENT) ê¸°ë°˜ì˜ ë³µì œì—ì„œëŠ” ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤. JOIN UPDATE ë‘ ê°œ ì´ìƒì˜ í…Œì´ë¸”ì„ ì¡°ì¸í•´ ì¡°ì¸ëœ ê²°ê³¼ ë ˆì½”ë“œë¥¼ ë³€ê²½ ë° ì‚­ì œí•˜ëŠ” ì¿¼ë¦¬ë¥¼ JOIN UPDATEë¼ê³  í•œë‹¤.\nì¡°ì¸ëœ í…Œì´ë¸” ì¤‘ì—ì„œ íŠ¹ì • í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ê°’ì„ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì— ì—…ë°ì´íŠ¸í•´ì•¼ í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. ê¼­ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ê°’ì„ ì°¸ì¡°í•˜ì§€ ì•Šë”ë¼ë„ ì¡°ì¸ë˜ëŠ” ì–‘ìª½ í…Œì´ë¸”ì— ê³µí†µìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” ë ˆì½”ë“œë§Œ ì°¾ì•„ì„œ ì—…ë°ì´íŠ¸í•˜ëŠ” ìš©ë„ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì¡°ì¸ë˜ëŠ” ëª¨ë“  í…Œì´ë¸”ì— ëŒ€í•´ ì½ê¸° ì°¸ì¡°ë§Œ ë˜ëŠ” í…Œì´ë¸”ì€ ì½ê¸° ì ê¸ˆì´ ê±¸ë¦¬ê³ , ì»¬ëŸ¼ì´ ë³€ê²½ë˜ëŠ” í…Œì´ë¸”ì€ ì“°ê¸° ì ê¸ˆì´ ê±¸ë¦°ë‹¤.\nì›¹ ì„œë¹„ìŠ¤ ê°™ì€ OLTP í™˜ê²½ì—ì„œëŠ” ë°ë“œë½ì„ ìœ ë°œí•  ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë¯€ë¡œ ë¹ˆë²ˆí•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í”¼í•˜ëŠ”ê²Œ ì¢‹ë‹¤. ë°°ì¹˜ í”„ë¡œê·¸ë¨ì´ë‚˜ í†µê³„ìš© UPDPATE ë¬¸ì¥ì—ì„œëŠ” ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. JOIN UPDATE ì¿¼ë¦¬ë„ 2ê°œ ì´ìƒì˜ í…Œì´ë¸”ì„ ë¨¼ì € ì¡°ì¸í•´ì•¼ í•˜ë¯€ë¡œ í…Œì´ë¸”ì˜ ì¡°ì¸ ìˆœì„œì— ë”°ë¼ UPDATE ë¬¸ì¥ì˜ ì„±ëŠ¥ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‚¬ìš©í•˜ê¸° ì „ì— ì‹¤í–‰ ê³„íšì„ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\níŒŒìƒ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” JOIN UPDATE 1 ALTER TABLE departments ADD emp_count INT; í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ departmentsì— í•´ë‹¹ ë¶€ì„œì— ì†Œì†ëœ ì‚¬ì›ì˜ ìˆ˜ë¥¼ ì €ì¥í•˜ê¸°ìœ„í•œ emp_countì»¬ëŸ¼ì„ ì¶”ê°€í•œë‹¤.\n1 2 3 4 5 6 7 8 9 UPDATE departments d, dept_emp de SET d.emp_count=COUNT(*) WHERE de.dept_no=d.dept_no GROUP BY de.dept_no ; /* ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026#39;GROUP BY de.dept_no\u0026#39; at line 4 */ ìœ„ ì¿¼ë¦¬ëŠ” dept_emp í…Œì´ë¸”ì—ì„œ ë¶€ì„œë³„ë¡œ ì‚¬ì›ì˜ ìˆ˜ë¥¼ departments í…Œì´ë¸”ì˜ emp_countë¥¼ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•´ ë§Œë“  ì¿¼ë¦¬ë‹¤.\nGROUP BYë¥¼ ì´ìš©í•´ì„œ í•´ë‹¹ ë¶€ì„œì˜ ì‚¬ì›ì„ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆì„ ê²ƒ ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ JOIN UPDATE ë¬¸ì¥ì—ì„œëŠ” GROUP BY, ORDER BYì ˆì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\nì´ë ‡ê²Œ ë¬¸ë²•ì ìœ¼ë¡œ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¿¼ë¦¬ëŠ” ì„œë¸Œì¿¼ë¦¬ë¥¼ ì´ìš©í•œ íŒŒìƒ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ì˜ë„í•œ ëŒ€ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 UPDATE departments d, ( SELECT de.dept_no, COUNT(*) AS emp_count FROM dept_emp de GROUP BY de.dept_no ) dc SET d.emp_count = dc.emp_count WHERE dc.dept_no = d.dept_no ; ì„œë¸Œì¿¼ë¦¬ë¡œ dept_dmp í…Œì´ë¸”ì„ dept_noë¡œ ê·¸ë£¨í•‘í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ íŒŒìƒ í…Œì´ë¸”ë¡œ ì €ì¥í•œ í›„, departments í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì—¬ ì—…ë°ì´íŠ¸ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.\nì—¬ëŸ¬ ë ˆì½”ë“œ UPDATE í•˜ë‚˜ì˜ UPDATE ë¬¸ì¥ìœ¼ë¡œ ì—¬ëŸ¬ ê°œì˜ ë ˆì½”ë“œë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš° ì•„ë˜ì™€ ê°™ì´ ëª¨ë“  ë ˆì½”ë“œ ê°’ì„ ë™ì¼í•œ ê°’ìœ¼ë¡œë§Œ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆì—ˆë‹¤.\n1 2 UPDATE departments SET emp_count = 10; UPDATE departments SET emp_count = emp_count + 10; í•˜ì§€ë§Œ MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ë ˆì½”ë“œ ìƒì„±(Row Constructor) ë¬¸ë²•ì„ ì´ìš©í•´ ë ˆì½”ë“œë³„ë¡œ ì„œë¡œ ë‹¤ë¥¸ ê°’ì„ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 CREATE TABLE user_level ( user_id BIGINT NOT NULL, user_lv INT NOT NULL, created_at DATETIME NOT NULL, PRIMARY KEY (user_id) ); UPDATE user_level ul INNER JOIN (VALUES ROW(1, 1), ROW(2, 4)) new_user_level (user_id, user_lv) ON new_user_level.user_id = ul.user_id SET ul.user_lv = ul.user_lv + new_user_level.user_lv ; VALUES ROW(...), ROW(...), ... ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©´ SQL ë¬¸ì¥ ë‚´ì—ì„œ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤.\nìœ„ ì˜ˆì œëŠ” 2ê±´ì˜ ë ˆì½”ë“œë¥¼ ê°€ì§€ëŠ” ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê³ , ì„ì‹œ í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ì—¬ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” JOIN UPDATE íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤.\nJOIN DELETE JOIN DELETE ë¬¸ì¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¨ì¼ í…Œì´ë¸” ì²˜ë¦¬ì‹œì™€ ì¡°ê¸ˆ ë‹¤ë¥¸ ë¬¸ë²•ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤.\ní•œê°œ í…Œì´ë¸” ë°ì´í„° ì‚­ì œ 1 2 3 4 5 6 DELETE e FROM employees e JOIN dept_emp de ON de.emp_no = e.emp_no JOIN departments d ON d.dept_no = de.dept_no WHERE d.dept_no = \u0026#39;d001\u0026#39; ; ìœ„ ì˜ˆì œëŠ” 3ê°œì˜ í…Œì´ë¸”ì„ ì¡°ì¸í•œ í›„ ì¡°ì¸ì´ ì„±ê³µí•œ ë ˆì½”ë“œì— ëŒ€í•´ employees í…Œì´ë¸”ì˜ ë ˆì½”ë“œë§Œ ì‚­ì œí•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ í•˜ë‚˜ì˜ í…Œì´ë¸”ì—ì„œ ë ˆì½”ë“œë¥¼ ì‚­ì œí•  ë•ŒëŠ” DELETE FROM table ... ê°™ì€ ë¬¸ë²•ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ JOIN DELETE ë¬¸ì¥ì—ì„œëŠ” DELETEì™€ FROMì ˆ ì‚¬ì´ì— ì‚­ì œí•  í…Œì´ë¸”ì„ ëª…ì‹œí•´ì•¼ í•œë‹¤. ì—¬ëŸ¬ê°œ í…Œì´ë¸” ë°ì´í„° ì‚­ì œ 1 2 3 4 5 6 DELETE e, de, d FROM employees e JOIN dept_emp de ON de.emp_no = e.emp_no JOIN departments d ON d.dept_no = de.dept_no WHERE d.dept_no = \u0026#39;d001\u0026#39; ; DELETEì™€ FROM ì‚¬ì´ì— í‘œì‹œëœ í…Œì´ë¸”ì— ëŒ€í•´ ì‚­ì œ ì²˜ë¦¬ëœë‹¤.\n","date":"2023-08-16T11:01:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/6/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/6/","title":"11.6 ì¿¼ë¦¬ ì‘ì„± ë° ìµœì í™” - UPDATEì™€ DELETE"},{"content":"ì¼ë°˜ì ìœ¼ë¡œ ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ ì„œë¹„ìŠ¤ì—ì„œ INSERT ë¬¸ì¥ì€ ëŒ€ë¶€ë¶„ 1ê±´ ë˜ëŠ” ì†ŒëŸ‰ì˜ ë ˆì½”ë“œë¥¼ ì²˜ë¦¬í•˜ë¯€ë¡œ ê·¸ë‹¤ì§€ ì„±ëŠ¥ì— ëŒ€í•´ ê³ ë ¤í•  ë¶€ë¶„ì´ ë§ì§€ ì•Šë‹¤.\nì˜¤íˆë ¤ ë§ì€ INSERT ë¬¸ì¥ì´ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²½ìš° INSERT ë¬¸ì¥ ìì²´ë³´ë‹¤ëŠ” í…Œì´ë¸”ì˜ êµ¬ì¡°ê°€ ì„±ëŠ¥ì— ë” ì˜í–¥ì„ ë¯¸ì¹œë‹¤.\ní•˜ì§€ë§Œ ë§ì€ ê²½ìš° ISNERTì˜ ì„±ëŠ¥ê³¼ SELECTì˜ ì„±ëŠ¥ì„ ë™ì‹œì— ë¹ ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” í…Œì´ë¸” êµ¬ì¡°ëŠ” ì—†ê¸° ë•Œë¬¸ì—, INSERTì™€ SELECT ì„±ëŠ¥ì„ ì–´ëŠ ì •ë„ íƒ€í˜‘í•˜ë©´ì„œ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì„¤ê³„í•´ì•¼ í•œë‹¤.\nê³ ê¸‰ ì˜µì…˜ INSERT IGNORE INSERT ë¬¸ì¥ì˜ IGNORE ì˜µì…˜ì€ íŠ¹ì • ìƒí™©ì— ëŒ€í•œ ì˜¤ë¥˜ë¥¼ ëª¨ë‘ ë¬´ì‹œí•˜ê³  ë‹¤ìŒ ë ˆì½”ë“œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•œë‹¤.\nì €ì¥í•˜ëŠ” ë ˆì½”ë“œì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì˜ ê°’ì´ ì´ë¯¸ í…Œì´ë¸”ì— ì¡´ì¬í•˜ëŠ” ë ˆì½”ë“œì™€ ì¤‘ë³µë˜ëŠ” ê²½ìš° ì—ëŸ¬ë¥¼ ê²½ê³  ìˆ˜ì¤€ì˜ ë©”ì‹œì§€ë¡œ ë°”ê¾¸ê³  ë‚˜ë§ˆì € ë ˆì½”ë“œ ì²˜ë¦¬ë¥¼ ì§„í–‰í•œë‹¤. ì €ì¥í•˜ëŠ” ë ˆì½”ë“œì˜ ì»¬ëŸ¼ì´ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ê³¼ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ê²½ìš° ì—ëŸ¬ë¥¼ ê²½ê³  ìˆ˜ì¤€ì˜ ë©”ì‹œì§€ë¡œ ë°”ê¾¸ê³  í•´ë‹¹ ì»¬ëŸ¼ì˜ ê¸°ë³¸ ê°’ìœ¼ë¡œ INSERT í•˜ë„ë¡ ë§Œë“ ë‹¤. í”„ë¡œê·¸ë¨ ì½”ë“œì—ì„œ ì¤‘ë³µì„ ë¬´ì‹œí•˜ê¸° ìœ„í•´ INSERT IGNORE ì˜µì…˜ì„ ì‚¬ìš©í•œë‹¤ë©´ ë°ì´í„° ì¤‘ë³µ ì´ì™¸ì˜ ì—ëŸ¬ê°€ ë°œìƒí•  ì—¬ì§€ê°€ ì—†ëŠ”ì§€ ë©´ë°€íˆ í™•ì¸í•œ í›„ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì œëŒ€ë¡œ ê²€ì¦ë˜ì§€ ì•Šì€ INSERT IGNORE ë¬¸ì¥ì€ ì˜ë„í•˜ì§€ ì•Šì€ ì—ëŸ¬ê¹Œì§€ ëª¨ë‘ ë¬´ì‹œí•´ë²„ë¦´ ìˆ˜ë„ ìˆë‹¤.\nINSERT \u0026hellip; ON DUPLICATE KEY UPDATE í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì˜ ì¤‘ë³µì´ ë°œìƒí•˜ë©´ UPDATE ë¬¸ì¥ì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ê²Œ í•´ì¤€ë‹¤.\nMySQL ì„œë²„ì˜ REPLACE ë¬¸ì¥ë„ ë¹„ìŠ·í•œ ì—­í• ì„ í•˜ì§€ë§Œ REPLACEëŠ” ë‚´ë¶€ì ìœ¼ë¡œ DELETE í›„ INSERTë¡œ ì‘ë™í•œë‹¤. 1 2 3 4 5 6 7 8 INSERT INTO daily_statistic SELECT DATE(visited_at), \u0026#39;VISIT\u0026#39;, COUNT(*) FROM access_log GROUP BY DATE(visited_at) ON DUPLICATE KEY UPDATE stat_value = stat_value + COUNT(*) ; # ERROR 1111 (HY000): Invalid use of group function ìœ„ ì˜ˆì œì—ì„œ stat_value ì»¬ëŸ¼ì—ëŠ” GROUP BY ê²°ê³¼ ê±´ìˆ˜ë¥¼ ì €ì¥í•˜ê³  ìˆë‹¤\nì¤‘ë³µìœ¼ë¡œ ì‹¤í–‰ ëœ ON DUPLICATE KEY UPDATE ì ˆì—ì„œ GROUP BY ê²°ê³¼ì¸ COUNT(*)ë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ì–´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ì´ëŸ¬í•œ ê²½ìš° VALUES() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ê²°í•  ìˆ˜ ìˆë‹¤. 1 2 3 4 5 6 INSERT INTO daily_statistic SELECT DATE(visited_at), \u0026#39;VISIT\u0026#39;, COUNT(*) FROM access_log GROUP BY DATE(visited_at) ON DUPLICATE KEY UPDATE stat_value = stat_value + VALUES(stat_value) ; VALUES() í•¨ìˆ˜ëŠ” ì»¬ëŸ¼ëª…ì„ ì¸ìë¡œ ì‚¬ìš©í•˜ëŠ”ë°, ìœ„ì˜ ì˜ˆì œê°™ì´ ì‚¬ìš©í•˜ë©´ INSERT í•˜ë ¤ê³  í–ˆë˜ ê°’ì„ ë°˜í™˜í•œë‹¤. MySQL 8.0.20 ë²„ì „ë¶€í„° VALUES() í•¨ìˆ˜ê°€ ì§€ì›ë˜ì§€ ì•Šì„ ì˜ˆì •ì´ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 INSERT INTO daily_statistic SELECT target_date, stat_name, stat_value FROM ( SELECT DATE(visited_at) target_date, \u0026#39;VISIT\u0026#39; stat_name, COUNT(*) stat_value FROM access_log GROUP BY DATE(visited_at) ) stat ON DUPLICATE KEY UPDATE daily_statistic.stat_value = daily_statistic.stat_value + stat.stat_value ; 1 2 3 4 5 6 INSERT INTO daily_statistic (target_date, stat_name, stat_value) VALUES (\u0026#39;2020-09-01\u0026#39;, \u0026#39;VISIT\u0026#39;, 1) ,(\u0026#39;2020-09-02\u0026#39;, \u0026#39;VISIT\u0026#39;, 1) AS new ON DUPLICATE KEY UPDATE daily_statistic.stat_value = daily_statistic.stat_value + new.stat_value ; LOAD DATA ëª…ë ¹ ì£¼ì˜ ì‚¬í•­ LOAD DATA ëª…ë ¹ì€ ë‚´ë¶€ì ìœ¼ë¡œ MySQL ì—”ì§„ê³¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ í˜¸ì¶œ íšŸìˆ˜ë¥¼ ìµœì†Œí™”í•˜ê³  ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ì§ì ‘ ë°ì´í„°ë¥¼ ì ì¬í•˜ê¸° ë•Œë¬¸ì— INSERT ëª…ë ¹ê³¼ ë¹„êµí–ˆì„ë•Œ ë§¤ìš° ë¹ ë¥´ë‹¤.\në‹¨ì¼ ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰ ë‹¨ì¼ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì‹¤í–‰ ì ì¬í•˜ëŠ” ë°ì´í„°ê°€ ì•„ì£¼ ë§ì§€ ì•Šë‹¤ë©´ í° ë¬¸ì œê°€ ë˜ì§€ëŠ” ì•Šì§€ë§Œ, ë°ì´í„°ê°€ ë§¤ìš° ì»¤ì„œ ì‹¤í–‰ ì‹œê°„ì´ ì•„ì£¼ ê¸¸ì–´ì§„ë‹¤ë©´ ë‹¤ë¥¸ ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ ì¿¼ë¦¬ë“¤ì˜ ì„±ëŠ¥ì´ ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.\nLOAD DATAëŠ” ë‹¨ì¼ ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— í…Œì´ë¸”ê³¼ ì¸ë±ìŠ¤ê°€ ì»¤ì§ˆìˆ˜ë¡ INSERT ì†ë„ê°€ ë–¨ì–´ì§„ë‹¤. í…Œì´ë¸”ì— ì—¬ëŸ¬ ì¸ë±ìŠ¤ê°€ ìˆë‹¤ë©´ LOAD DATA ë¬¸ì¥ì´ ë ˆì½”ë“œë¥¼ INSERTí•˜ê³  ì¸ë±ìŠ¤ì—ë„ í‚¤ ê°’ì„ INSERT í•´ì•¼ í•œë‹¤. ë ˆì½”ë“œê°€ INSERT ë ìˆ˜ë¡ í…Œì´ë¸”ê³¼ ì¸ë±ìŠ¤ì˜ í¬ê¸°ë„ ì»¤ì§„ë‹¤. LOAD DATAëŠ” ë‹¨ì¼ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ë¬¸ì¥ì´ ì‹œì‘í•œ ì‹œì ë¶€í„° ì–¸ë‘ë¡œê·¸ê°€ ì‚­ì œë˜ì§€ ëª»í•˜ê³  ìœ ì§€ë˜ì–´ì•¼ í•œë‹¤. ì–¸ë‘ë¡œê·¸ê°€ ë§ì´ ìŒ“ì´ë©´ ë ˆì½”ë“œë¥¼ ì½ëŠ” ì¿¼ë¦¬ë“¤ì´ í•„ìš”í•œ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë° ë” ë§ì€ ì˜¤ë²„í—¤ë“œë¥¼ ë§Œë“¤ì–´ ë‚´ê¸°ë„ í•œë‹¤. ê°€ëŠ¥í•˜ë‹¤ë©´ LOAD DATA ë¬¸ì¥ìœ¼ë¡œ ì ì¬í•  ë°ì´í„° íŒŒì¼ í•˜ë‚˜ë³´ë‹¤ëŠ” ì—¬ëŸ¬ ê°œì˜ íŒŒì¼ë¡œ ì¤€ë¹„í•˜ì—¬ ë™ì‹œì— ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì‹¤í–‰ë˜ê²Œ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. í…Œì´ë¸” ê°„ ë°ì´í„° ë³µì‚¬ ì‘ì—…ì´ë¼ë©´ INSERT ... SELECT ... ë¬¸ì¥ìœ¼ë¡œ ì¡°ê±´ì ˆì—ì„œ ë°ì´í„°ë¥¼ ë¶€ë¶„ì ìœ¼ë¡œ ì˜ë¼ íš¨ìœ¨ì ìœ¼ INSERTí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì˜ë¼ ì—¬ëŸ¬ ê°œì˜ ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰í•˜ê¸°ê°€ í›¨ì”¬ ìš©ì´í•˜ë‹¤. ì„±ëŠ¥ì„ ìœ„í•œ í…Œì´ë¸” êµ¬ì¡° INSERT ë¬¸ì¥ì˜ ì„±ëŠ¥ì€ ì¿¼ë¦¬ ë¬¸ì¥ ìì²´ë³´ë‹¤ëŠ” í…Œì´ë¸”ì˜ êµ¬ì¡°ì— ì˜í•´ ë§ì´ ê²°ì •ëœë‹¤.\nëŒ€ë¶€ë¶„ INSERT ë¬¸ì¥ì€ ë‹¨ì¼ ë ˆì½”ë“œë¥¼ ì €ì¥í•˜ëŠ” í˜•íƒœë¡œ ë§ì´ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ISNERT ë¬¸ì¥ ìì²´ëŠ” íŠœë‹í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì´ ë³„ë¡œ ì—†ë‹¤. ì‹¤ì œ ì¿¼ë¦¬ íŠœë‹ì„ í•  ë•Œë„ ì†ŒëŸ‰ì˜ ë ˆì½”ë“œë¥¼ INSERT í•˜ëŠ” ë¬¸ì¥ ìì²´ëŠ” ë¬´ì‹œí•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ëŒ€ëŸ‰ INSERT ì„±ëŠ¥ í•˜ë‚˜ì˜ INSERT ë¬¸ì¥ìœ¼ë¡œ ìˆ˜ë°±, ìˆ˜ì²œ ê±´ì˜ ë ˆì½”ë“œë¥¼ INSERTí•œë‹¤ë©´ ëŒ€ìƒ ë ˆì½”ë“œë“¤ì„ í‚¤ ê°’ ê¸°ì¤€ìœ¼ë¡œ ë¯¸ë¦¬ ì •ë ¬í•˜ì—¬ INSERT ë¬¸ì¥ì„ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ì— ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤\në ˆì½”ë“œë¥¼ INSERT í•  ë•Œë§ˆë‹¤ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ê²€ìƒ‰í•˜ì—¬ ë ˆì½”ë“œê°€ ì €ì¥ë  ìœ„ì¹˜ë¥¼ ì°¾ì•„ì•¼í•œë‹¤.\nì •ë ¬ì—†ì´ ëœë¤í•œ ë ˆì½”ë“œë¥¼ ì €ì¥í•  ê²½ìš° í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ B-Treeì—ì„œ ëœë¤í•œ ìœ„ì¹˜ì˜ í˜ì´ì§€ë¥¼ ë©”ëª¨ë¦¬ë¡œ ì½ì–´ì™€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì²˜ë¦¬ê°€ ë” ëŠë¦¬ë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë²„í¼ í’€ì´ ì¶©ë¶„íˆ í¬ë‹¤ë©´ ë¹„êµì  ëœ ëŠë¦´ ìˆ˜ ìˆë‹¤. ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤\nSELECTì˜ ì„±ëŠ¥ì„ ë†’íˆì§€ë§Œ INSERT ì„±ëŠ¥ì€ ë–¨ì–´ì§€ë¯€ë¡œ ë‚¨ìš©í•˜ëŠ” ê²ƒì€ ì„±ëŠ¥ìƒ ì¢‹ì§€ ì•Šë‹¤.\ní…Œì´ë¸”ì— ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ ë§ì„ìˆ˜ë¡, í…Œì´ë¸”ì´ í´ìˆ˜ë¡ INSERT ì„±ëŠ¥ì´ ë–¨ì–´ì§€ê²Œ ëœë‹¤. ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ë„ ì •ë ¬ëœ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ë©´ ë” ë¹ ë¥¸ ì„±ëŠ¥ì„ ì–»ì„ ìˆ˜ ìˆì§€ë§Œ, ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ ì €ì¥ë˜ëŠ” ìˆœì„œëŒ€ë¡œ ì •ë ¬ë˜ê²Œ ë³´ì¥í•˜ê¸° ì–´ë µë‹¤. ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì˜ ë³€ê²½ì€ ì¼ì‹œì ìœ¼ë¡œ ì²´ì¸ì§€ ë²„í¼ì— ë²„í¼ë§ëë‹¤ê°€ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì— ì˜í•´ ì¼ê´„ ì²˜ë¦¬ë  ìˆ˜ ìˆìœ¼ë‚˜, ë„ˆë¬´ ë§ì€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì˜ ë¶€í•˜ë¥¼ ìœ ë°œí•˜ë¯€ë¡œ ì „ì²´ì ì¸ ì„±ëŠ¥ì€ ë–¨ì–´ì§„ë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ì„ ì • í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ì„ ì •ì€ INSERT ì„±ëŠ¥ê³¼ SELECT ì„±ëŠ¥ì˜ ëŒ€ë¦½ë˜ëŠ” ë‘ê°€ì§€ ìš”ì†Œ ì¤‘ì—ì„œ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì•¼ í•¨ì„ ì˜ë¯¸í•œë‹¤.\ní…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” INSERT ì„±ëŠ¥ì„ ê²°ì •í•˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì´ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ìœ„í•œ í…Œì´ë¸”ì€ ì“°ê¸°ë³´ë‹¤ëŠ” ì½ê¸° ì¿¼ë¦¬ ë¹„ìœ¨ì´ ì••ë„ì ìœ¼ë¡œ ë†’ë‹¤. ì´ëŸ¬í•œ ë¶€ë¶„ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ì§€ë§Œ, ë§¤ìš° ë“œë¬¸ ê²½ìš°ì´ë¯€ë¡œ ì ì ˆíˆ íƒ€í˜‘í•´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì„ ì •í•´ì•¼í•œë‹¤.\nINSERT\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ìˆœì„œ: í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ë‹¨ì¡° ì¦ê°€ ë˜ëŠ” ë‹¨ì¡° ê°ì†Œí•˜ëŠ” íŒ¨í„´ì˜ ê°’ì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. INSERT í•˜ëŠ” ì²˜ë¦¬ëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ B-Treeê°€ ë©”ëª¨ë¦¬ì— ì ì¬ë¼ ìˆì–´ì•¼ ë¹ ë¥¸ INSERTë¥¼ ë³´ì¥í•  ìˆ˜ ìˆë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ì „ì²´ ë²”ìœ„ì— ëŒ€í•´ ëœë¤í•˜ê²Œ ì €ì¥ëœë‹¤ë©´ ë” í° ë²”ìœ„ì˜ í‚¤ë¥¼ ë©”ëª¨ë¦¬ì— ì ì¬í•˜ì—¬ í‚¤ë¥¼ íƒìƒ‰í•´ì•¼í•œë‹¤. ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•œ ê²½ìš° ì €ì¥ë  ìœ„ì¹˜ë¥¼ ì°¾ê¸° ìœ„í•´ ë””ìŠ¤í¬ ì½ê¸°ê°€ ë°œìƒí•˜ê²Œë˜ì–´ ì„±ëŠ¥ì´ ë§¤ìš° ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤. ì¸ë±ìŠ¤ì˜ ê°œìˆ˜ë¥¼ ìµœì†Œí™” í•´ì•¼í•œë‹¤. SELECT\ní´ëŸ¬ìŠ¤í„°ë§ í‚¤ì˜ íŠ¹ì„±: í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ëŒ€í•œ í´ëŸ¬ìŠ¤í„°ë§ í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ì¿¼ë¦¬ë³´ë‹¤ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì´ìš©í•˜ëŠ” ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì´ í›¨ì”¬ ë¹ ë¥´ë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ë°ì´í„° ì¡°íšŒì— ìµœì í™”ëœ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆë‹¤. ì¿¼ë¦¬ì— ë§ê²Œ í•„ìš”í•œ ì¸ë±ìŠ¤ë“¤ì„ ì¶”ê°€í•´ë„ ì‹œìŠ¤í…œ ì „ë°˜ê²…ìœ¼ë¡œ ì˜í–¥ë„ê°€ í¬ì§€ ì•Šë‹¤. Auto-Increment ì»¬ëŸ¼ SELECT ë³´ë‹¤ëŠ” INSERTì— ìµœì í™”ëœ í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒ ë‘ê°€ì§€ ìš”ì†Œë¥¼ ê°–ì¶° í…Œì´ë¸”ì„ ì¤€ë¹„í•œë‹¤.\në‹¨ì¡°ì¦ê°€ ë˜ëŠ” ë‹¨ì¡° ê°ì†Œë˜ëŠ” ê°’ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ì„ ì • ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ ìµœì†Œí™” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì€ ìë™ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ í´ëŸ¬ìŠ¤í„°ë§ ëœë‹¤. í•˜ì§€ë§Œ ìë™ ì¦ê°€ ì»¬ëŸ¼ì„ ì´ìš©í•˜ë©´ í´ëŸ¬ìŠ¤í„°ë§ ë˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ì˜ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.\nìë™ ì¦ê°€ ê°’ì„ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ í•´ì„œ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ê²ƒì´ ê°€ì¥ ë¹ ë¥¸ INSERTë¥¼ ë³´ì¥í•œë‹¤. MySQL ì„œë²„ì—ì„œëŠ” ìë™ ì¦ê°€ ê°’ì˜ ì±„ë²ˆì„ ìœ„í•´ì„œ ì ê¸ˆì´ í•„ìš”í•œë°, ì´ë¥¼ AUTO-INC ì ê¸ˆì´ë¼ê³  í•˜ë©°, ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\ninnodb_autoinc_lock_mode=0 í•­ìƒ AUTO-INC ì ê¸ˆì„ ê±¸ê³  í•œ ë²ˆì— 1 ì”©ë§Œ ì¦ê°€ëœ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. MySQL 5.1 í˜¸í™˜ì„±ê³¼ í…ŒìŠ¤íŠ¸ ìš©ë„ë¡œë§Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„¤ì •ì´ë‹¤. innodb_autoinc_lock_mode=1: Consecutive mode, MySQL 5.7 Default ë ˆì½”ë“œ í•œ ê±´ì”© INSERTí•˜ëŠ” ì¿¼ë¦¬ì—ì„œëŠ” ì ê¸ˆì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë®¤í…ìŠ¤ë¥¼ ì´ìš©í•´ ì²˜ë¦¬í•œë‹¤. í•˜ë‚˜ì˜ INSERT ë¬¸ìœ¼ë¡œ ì—¬ëŸ¬ ë ˆì½”ë“œë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜ LOAD DATA ì²˜ë¦¬ì‹œ ì ê¸ˆì„ ê±¸ê³  í•„ìš”í•œ ë§Œí¼ ìë™ ì¦ê°€ ê°’ì„ í•œêº¼ë²ˆì— ê°€ì ¸ì™€ ì‚¬ìš©í•œë‹¤. ìˆœì„œëŒ€ë¡œ ì±„ë²ˆëœ ìë™ ì¦ê°€ ê°’ì€ ì¼ê´€ë˜ê³ , ì—°ì†ëœ ë²ˆí˜¸ë¥¼ ê°–ê²Œ ëœë‹¤. innodb_autoinc_lock_mode=2: Interleaved mode, MySQL 8 Default LOAD DATAë‚˜ ë²Œí¬ INSERTë¥¼ í¬í•¨í•œ ë¬¸ì¥ì„ ì‹¤í–‰í•  ë•Œ ì ê¸ˆì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ìë™ ì¦ê°€ ê°’ì„ ì ë‹¹íˆ ë¯¸ë¦¬ ë°›ì•„ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê°€ì¥ ë¹ ë¥´ë‹¤. ì±„ë²ˆëœ ë²ˆí˜¸ëŠ” ë‹¨ì¡° ì¦ê°€í•˜ëŠ” ìœ ë‹ˆí¬í•œ ë²ˆí˜¸ê¹Œì§€ë§Œ ë³´ì¥í•˜ë©°, ìˆœì„œì™€ ë²ˆí˜¸ì˜ ì—°ì†ì„±ì€ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¿¼ë¦¬ ê¸°ë°˜ì˜ ë³µì œë¥¼ ì‚¬ìš©í•˜ëŠ” MySQL ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ìë™ ì¦ê°€ ê°’ì´ ë™ê¸°í™”ë˜ì§€ ëª»í•  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤. ë³µì œë¥¼ STATEMENT ë°”ì´ë„ˆë¦¬ ë¡œí¬ í¬ë§·ìœ¼ë¡œ ì‚¬ìš© ì¤‘ì´ë¼ë©´ 1ë¡œ ì„¤ì •í•´ì•¼í•œë‹¤.\nìë™ ì¦ê°€ ê°’ì´ ë°˜ë“œì‹œ ì—°ì†ì´ì–´ì•¼ í•œë‹¤ë©´ 2ë³´ë‹¤ëŠ” 1ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ì§€ë§Œ, 0ì´ë‚˜ 1ë¡œ ì„¤ì •í•˜ë”ë¼ë„ ì‹œê°„ì´ ì§€ë§ˆë©´ ì—°ì†ëœ ê°’ì— ë¹ˆ ê³µê°„ì´ ìƒê¸°ë¯€ë¡œ ì§‘ì°©í•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤.\n","date":"2023-08-02T08:30:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/5/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/5/","title":"11.5 ì¿¼ë¦¬ ì‘ì„± ë° ìµœì í™” - INSERT"},{"content":"InnoDB í…Œì´ë¸”ì— ëŒ€í•´ì„œëŠ” ë ˆì½”ë“œë¥¼ SELECTí•  ë•Œ ë ˆì½”ë“œì— ì•„ë¬´ëŸ° ì ê¸ˆë„ ê±¸ì§€ ì•ŠëŠ”ë°, ì´ë¥¼ ì ê¸ˆ ì—†ëŠ” ì½ê¸°(Non Locking Consistent Read) ë¼ê³  í•œë‹¤.\ní•˜ì§€ë§Œ SELECT ì¿¼ë¦¬ë¥¼ ì´ìš©í•´ ì½ì€ ë ˆì½”ë“œì˜ ì»¬ëŸ¼ê°’ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê°€ê³µí•´ì„œ ë‹¤ì‹œ ì—…ë°ì´íŠ¸í•˜ê³ ì í•  ë•ŒëŠ” SELECTê°€ ì‹¤í–‰ëœ í›„ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ê·¸ ì»¬ëŸ¼ì˜ ê°’ì„ ë³€ê²½í•˜ì§€ ëª»í•˜ê²Œ í•´ì•¼ í•œë‹¤.\nì´ëŸ´ ë•ŒëŠ” ë ˆì½”ë“œë¥¼ ì½ìœ¼ë©´ì„œ ê°•ì œë¡œ ì ê¸ˆì„ ê±¸ì–´ ë‘˜ í•„ìš”ê°€ ìˆëŠ”ë°, ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ì˜µì…˜ì´ FOR SHARE, FOR UPDATE ì ˆì´ë‹¤.\nFOR SHARE: SELECT ì¿¼ë¦¬ë¡œ ì½ì€ ë ˆì½”ë“œì— ëŒ€í•´ ì½ê¸° ì ê¸ˆ(ê³µìœ  ì ê¸ˆ, Shared lock)ì„ ì„¤ì •í•˜ê³  ë‹¤ë¥¸ ì„¸ì…˜ì—ì„œ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ëª»í•˜ê²Œ í•œë‹¤. ë‹¤ë¥¸ ì„¸ì…˜ì—ì„œ ì ê¸ˆì´ ê±¸ë¦° ë ˆì½”ë“œë¥¼ ì½ëŠ” ê²ƒì€ ê°€ëŠ¥. FOR UPDATE: SELECT ì¿¼ë¦¬ê°€ ì½ì€ ë ˆì½”ë“œì— ëŒ€í•´ ì“°ê¸° ì ê¸ˆ(ë°°íƒ€ ì ê¸ˆ, Exclusive lock)ì„ ì„¤ì •í•˜ê³ , ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œëŠ” ê·¸ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒ ë¿ë§Œ ì•„ë‹ˆë¼ ì½ê¸°ë„ ìˆ˜í–‰í•  ìˆ˜ ì—†ë‹¤. 1 2 SELECT * FROM employees WHERE emp_no = 10001 FOR SHARE; SELECT * FROM employees WHERE emp_no = 10001 FOR UPDATE; MySQL 8.0 ì´ì „ ë²„ì „ì—ì„œëŠ” SELECTë¡œ ì½ì€ ë ˆì½”ë“œì— ëŒ€í•œ ì½ê¸° ì ê¸ˆì„ ìœ„í•´ LOCK IN SHARE MODE ì ˆì„ ì‚¬ìš©í–ˆì§€ë§Œ, ë²„ì „ì´ ì—…ê·¸ë ˆì´ë“œë˜ë©° FOR SHAREë¡œ ë³€ê²½ë˜ì—ˆë‹¤.\nê¸°ì¡´ ë¬¸ë²•ì„ í˜¸í™˜í•˜ê¸°ëŠ” í•˜ì§€ë§Œ, 8.0 ë²„ì „ ë¶€í„° ì œê³µí•˜ëŠ” SELECT ì¿¼ë¦¬ ì ê¸ˆì„ ìœ„í•´ ì—¬ëŸ¬ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ìœ„í•´ FOR SHARE, FOR UPDATE ë¬¸ë²•ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì–¸ê¸‰í•œ ì ê¸ˆ ì˜µì…˜ì€ ëª¨ë‘ ìë™ ì»¤ë°‹ì´ ë¹„í™œì„±í™”ëœ ìƒíƒœ ë˜ëŠ” BEGIN ëª…ë ¹ì´ë‚˜ START TRANSACTION ëª…ë ¹ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì´ ì‹œì‘ëœ ìƒíƒœì—ì„œë§Œ ì ê¸ˆì´ ìœ ì§€ëœë‹¤.\nì£¼ì˜ ì‚¬í•­ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì—ì„œ FOR UPDATE, FOR SHARE ì ˆì„ ê°€ì§€ì§€ ì•ŠëŠ” SELECT ì¿¼ë¦¬ëŠ” ì ê¸ˆ ì—†ëŠ” ì½ê¸°ê°€ ì§€ì›ë˜ê¸° ë•Œë¬¸ì— íŠ¹ì • ë ˆì½”ë“œê°€ SELECT ... FOR UPDATE ì¿¼ë¦¬ì— ì˜í•´ ì ê²¨ì§„ ìƒíƒœë¼ í•˜ë”ë¼ë„ ì•„ë¬´ëŸ° ëŒ€ê¸° ì—†ì´ ì‹¤í–‰ëœë‹¤.\nì ê¸ˆ ëŒ€ê¸°í•˜ì§€ ì•ŠëŠ” ê²½ìš°\nì„¸ì…˜ 1 ì„¸ì…˜ 2 BEGIN; SELECT * FROM employees WHERE emp_no=10001 FOR UPDATE; SELECT * FROM employees WHERE emp_no=10001; =\u0026gt; ì ê¸ˆ ëŒ€ê¸° ì—†ì´ ì¦‰ì‹œ ê²°ê³¼ ë°˜í™˜ ì ê¸ˆ ëŒ€ê¸°í•˜ëŠ” ê²½ìš°\nì„¸ì…˜ 1 ì„¸ì…˜ 2 BEGIN; SELECT * FROM employees WHERE emp_no=10001 FOR UPDATE; SELECT * FROM employees WHERE emp_no=10001 FOR SHARE; =\u0026gt; ì„¸ì…˜ 1ì˜ ì ê¸ˆì„ ê¸°ë‹¤ë¦¼ COMMIT; SELECT ì¿¼ë¦¬ ê²°ê³¼ ë°˜í™˜ ì ê¸ˆ í…Œì´ë¸” ì„ íƒ 1 2 3 4 5 6 SELECT * FROM employees e INNER JOIN dept_emp de ON de.emp_no=e.emp_no INNER JOIN departments d ON d.dept_no=de.dept_no FOR UPDATE ; ìœ„ ì¿¼ë¦¬ëŠ” employees, dept_emp, departments í…Œì´ë¸”ì„ ì¡°ì¸í•´ì„œ ì½ìœ¼ë©° FROM UPDATEì ˆì„ ì‚¬ìš©í–ˆìœ¼ë¯€ë¡œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ 3ê°œ í…Œì´ë¸”ì—ì„œ ì½ì€ ë ˆì½”ë“œì— ëŒ€í•´ ëª¨ë‘ ì“°ê¸° ì ê¸ˆì„ ê±¸ê²Œ ëœë‹¤.\nê·¸ëŸ°ë° ì‹¤ì œ ì“°ê¸° ì ê¸ˆì€ employees í…Œì´ë¸”ë§Œ í•„ìš”í•˜ë‹¤ë©´ ì ê¸ˆì„ í…Œì´ë¸”ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ MySQL 8.0 ë¶€í„° ê°œì„ ì´ ë˜ì—ˆë‹¤.\n1 2 3 4 5 6 SELECT * FROM employees e INNER JOIN dept_emp de ON de.emp_no=e.emp_no INNER JOIN departments d ON d.dept_no=de.dept_no FOR UPDATE OF e ; NOWAIT \u0026amp; SKIP LOCKED ì§€ê¸ˆê¹Œì§€ MySQL ì ê¸ˆì€ ëˆ„êµ°ê°€ ë ˆì½”ë“œë¥¼ ì ê·¸ê³  ìˆë‹¤ë©´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì€ ê·¸ ì ê¸ˆì´ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í–ˆê³ , ë•Œë¡œëŠ” ì¼ì • ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì ê¸ˆ íšë“ ì‹¤íŒ¨ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë°›ì„ ìˆ˜ë„ ìˆì—ˆë‹¤.\nì´ëŸ¬í•œ ì²˜ë¦¬ëŠ” ì„œë¹„ìŠ¤ ìƒí™©ì— ë”°ë¼ ì ì ˆí•˜ì§€ ì•Šì‘ ì²˜ë¦¬ì¼ ìˆ˜ ìˆìœ¼ë©°, ì´ëŸ¬í•˜ ë¶€ë¶„ì„ ê°œì„ í•˜ê¸° ìœ„í•´ MySQL 8.0 ë¶€í„°ëŠ” NOWAIT, SKIP LOCKED ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆë‹¤.\nNOWAIT\ní•´ë‹¹ ë ˆì½”ë“œê°€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ì„œ ì ê²¨ì§„ ìƒíƒœë¼ë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ë©´ì„œ ì¦‰ì‹œ ì¢…ë£Œëœë‹¤. SELECT ì¿¼ë¦¬ê°€ í•´ë‹¹ ë ˆì½”ë“œì— ëŒ€í•´ ì¦‰ì‹œ ì ê¸ˆì„ íšë“í–ˆë‹¤ë©´ ì˜µì…˜ì´ NOWAIT ì—†ì„ë•Œì™€ ë™ì¼í•˜ê²Œ ì‹¤í–‰ëœë‹¤. SKIP LOCKED\nSELECT í•˜ë ¤ëŠ” ë ˆì½”ë“œê°€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ ì´ë¯¸ ì ê²¨ì§„ ìƒíƒœë¼ë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šê³ , ì ê¸ˆì´ ê±¸ë¦¬ì§€ ì•Šì€ ë ˆì½”ë“œë§Œ ê°€ì ¸ì˜¨ë‹¤. SKIP LOCKED êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” SELECT êµ¬ë¬¸ì€ ì ê¸ˆì´ ê±¸ë¦° ë ˆì½”ë“œë¥¼ ë¬´ì‹œí•˜ê³  ê²°ê³¼ê°€ ë°˜í™˜ë˜ë¯€ë¡œ í™•ì •ì ì´ì§€ ì•Šì€(NOT-DETERMINISTIC) ì¿¼ë¦¬ê°€ ëœë‹¤.\nNOWAIT, SKIP LOCKEDë¥¼ ì´ìš©í•œ í NOWAIT, SKIP LOCKED ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ íì™€ ê°™ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ë•Œ ìœ ìš©í•˜ê²Œ ì“°ì¼ ìˆ˜ ìˆë‹¤.\nì¿ í° ë°œê¸‰ ê¸°ëŠ¥ ì˜ˆì‹œ\ní•˜ë‚˜ì˜ ì¿ í°ì€ í•œ ì‚¬ìš©ìë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ì¿ í°ì˜ ê°œìˆ˜ëŠ” 1000ê°œ ì œí•œì´ë©°, ì„ ì°©ìˆœìœ¼ë¡œ ìš”ì²­í•œ ì‚¬ìš©ìì—ê²Œ ë°œê¸‰í•œë‹¤. 1 2 3 4 5 6 7 8 CREATE TABLE coupon ( coupon_id BIGINT NOT NULL, owned_user_id BIGINT NULL DEFAULT 0, coupon VARCHAR(15) NOT NULL, ... PRIMARY KEY (coupon_id), INDEX ix_owneduserid (owned_user_id) ); ì‘ìš© í”„ë¡œê·¸ë¨ ì½”ë“œì—ì„œ ì£¼ì¸ì´ ì—†ëŠ”(owned_user_id=0) ì¿ í°ì„ ê²€ìƒ‰í•´ì„œ í•˜ë‚˜ë¥¼ ê°€ì ¸ì˜¨ë‹¤. owned_user_idë¥¼ ìš”ì²­í•œ ì‚¬ìš©ìì˜ idë¡œ ì—…ë°ì´íŠ¸ í•œë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 BEGIN; SELECT * FROM coupon WHERE owned_user_id=0 ORDER BY coupon_id ASC LIMIT 1 FOR UPDATE ; /* í”„ë¡œê·¸ë¨ ì—°ì‚° ìˆ˜í–‰ */ UPDATE coupon SET owned_user_id=? WHERE coupon_id=? ; COMMIT; ìœ„ ì²˜ë¦¬ì—ì„œ 1000ëª…ì˜ ì‚¬ìš©ìê°€ ì¿ í°ì„ ìš”ì²­í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ëŠ” ê·¸ ìš”ì²­ë§Œí¼ í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•´ì„œ ìœ„ì˜ íŠ¸ëœì­ì…˜ì„ ë™ì‹œì— ì‹¤í–‰. ê° íŠ¸ëœì­ì…˜ì—ì„œ ì‹¤í–‰í•˜ëŠ” SELECT ... FOR UPDATE ì¿¼ë¦¬ëŠ” coupon í…Œì´ë¸”ì—ì„œ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¡œ ì§‘ì¤‘í•´ì„œ ì ê¸ˆ íšë“ ì‹œë„. ì²˜ìŒìœ¼ë¡œ ì ê¸ˆì„ íšë“í•˜ëŠ” íŠ¸ëœì­ì…˜ ì™¸ 999ê°œì˜ íŠ¸ëœì­ì…˜ì€ ì²«ë²ˆì§¸ íŠ¸ëœì­ì…˜ì˜ COMMIT ê¹Œì§€ ëŒ€ê¸° ìš”ì²­ ìˆœì„œëŒ€ë¡œ ì ê¸ˆì„ íšë“ ë° ëŒ€ê¸° íŠ¸ëœì­ì…˜ì˜ ì²˜ë¦¬ ì†ë„ì— ë”°ë¼ ì¼ì • ì‹œì  ì´í›„ íŠ¸ëœì­ì…˜ì€ timeout ì‹œê°„ ë‚´ì— ì ê¸ˆì„ íšë“í•˜ì§€ ëª»í•´ ì—ëŸ¬ì²˜ë¦¬ë¨ SELECT ì¿¼ë¦¬ì˜ ORDER BY coupon_idìœ¼ë¡œ ì¸í•´ ëª¨ë“  íŠ¸ëœì­ì…˜ì´ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¡œ ì§‘ì¤‘ëœë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, DBMS ì„œë²„ëŠ” ì¿¼ë¦¬ì˜ ì‹¤í–‰ì´ í•­ìƒ ì‹¤í–‰ ê³„íšì„ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜í–‰ë˜ê¸° ë•Œë¬¸ì— ORDER BYì™€ ë¬´ê´€í•˜ê²Œ ëª¨ë“  íŠ¸ëœì­ì…˜ì€ í•­ìƒ ìˆœì„œëŒ€ë¡œ ë ˆì½”ë“œë¥¼ ì½ëŠ”ë‹¤.\nMySQL 8.0 ì´ì „ ë²„ì „ì—ì„œëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë ˆë””ìŠ¤ ê°™ì€ ìºì‹œ ì†”ë£¨ì…˜ì„ ë³„ë„ë¡œ êµ¬ì¶•í•´ì„œ ì¿ í° ë°œê¸‰ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆë‹¤.\ní•˜ì§€ë§Œ MySQL 8.0 ë²„ì „ì—ì„œ ì œê³µí•˜ëŠ” UPDATE SKIP LOCKED ì ˆì„ ì´ìš©í•˜ë©´ íŠ¸ëœì­ì…˜ì´ ìˆ˜í–‰ë˜ëŠ” ë° ê±¸ë¦¬ëŠ” ì‹œê°„ê³¼ ê´€ê³„ì—†ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ì„œ ì´ë¯¸ ì ê¸ˆëœ ë ˆì½”ë“œë¥¼ ìŠ¤í‚µí•˜ëŠ” ì‹œê°„ë§Œ ì§€ë‚˜ë©´ ê°ìì˜ íŠ¸ëœì­ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\nNOWAIT, SKIP LOCKED ì ˆì€ SELECT ... FOR UPDATE êµ¬ë¬¸ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. UPDATE, DELETE ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. NOWAIT, SKIP LOCKED ì ˆì€ ì¿¼ë¦¬ ìì²´ë¥¼ ë¹„í™•ì •ì ìœ¼ë¡œ ë§Œë“œë¦­ ë•Œë¬¸ì— ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ë°ì´í„°ë² ì´ìŠ¤ì˜ ìƒíƒœë¥¼ ë‹¤ë¥¸ ê²°ê³¼ë¡œ ë§Œë“ ë‹¤. ì´ë¡œì¸í•´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ë„ ì–´ë–¤ ë ˆì½”ë“œê°€ ì—…ë°ì´íŠ¸ë˜ê±°ë‚˜ ì‚­ì œëëŠ”ì§€ ì•Œ ìˆ˜ ì—†ê²Œ ë˜ë¯€ë¡œ ì‚¬ìš©ìë¥¼ í˜¼ë€ì— ë¹ íŠ¸ë¦´ ìˆ˜ ìˆê³ , ì„œë²„ ë³µì œì—ì„œ í° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ","date":"2023-08-01T09:28:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/4/5/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/4/5/","title":"11.4 ì¿¼ë¦¬ ì‘ì„± ë° ìµœì í™” - SELECT(5) - ì ê¸ˆì„ ì‚¬ìš©í•˜ëŠ” SELECT"},{"content":"ìœˆë„ìš° í•¨ìˆ˜ëŠ” í˜„ì¬ ë ˆì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì—°ê´€ëœ ë ˆì½”ë“œ ì§‘í•©ì˜ ì—°ì‚°ì„ ìˆ˜í–‰í•œë‹¤.\nì§‘ê³„ í•¨ìˆ˜ëŠ” ì£¼ì–´ì§„ ê·¸ë£¹(GROUP BY ì ˆì— ë‚˜ì—´ëœ ì»¬ëŸ¼ ê°’ì— ë”°ë¥¸ ê·¸ë£¹ ë˜ëŠ” GROUP BY ì ˆ ì—†ì´ ì „ì²´ ê·¸ë£¹)ë³„ë¡œ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¡œ ë¬¶ì–´ ì¶œë ¥í•˜ì§€ë§Œ ìœˆë„ìš° í•¨ìˆ˜ëŠ” ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ëŠ” ë³€í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ìœ ì§€í•œë‹¤. ì¼ë°˜ì ì¸ SQL ë¬¸ì¥ì—ì„œ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¥¼ ì—°ì‚°í•  ë•Œ ë‹¤ë¥¸ ë ˆì½”ë“œì˜ ê°’ì„ ì°¸ì¡°í•  ìˆ˜ ì—†ëŠ”ë°, ì˜ˆì™¸ì ìœ¼ë¡œ GROUP BY ë˜ëŠ” ì§‘ê³„ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ ë‹¤ë¥¸ ë ˆì½”ë“œì˜ ì»¬ëŸ¼ ê°’ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤. GROUP BY ë˜ëŠ” ì§‘ê³„ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ê²°ê³¼ ì§‘í•©ì˜ ëª¨ì–‘ì´ ë°”ë€Œë‚˜, ìœˆë„ìš° í•¨ìˆ˜ëŠ” ê²°ê³¼ ì§‘í•©ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ í•˜ë‚˜ì˜ ë ˆì½”ë“œ ì—°ì‚°ì— ë‹¤ë¥¸ ë ˆì½”ë“œ ì—°ì‚°ì— ë”°ë¥¸ ë ˆì½”ë“œ ì»¬ëŸ¼ê°’ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤. ì¿¼ë¦¬ ê° ì ˆì˜ ì‹¤í–‰ ìˆœì„œ ìœˆë„ìš° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ì˜ ê²°ê³¼ì— ë³´ì—¬ì§€ëŠ” ë ˆì½”ë“œëŠ” FROMì ˆê³¼ WHERE ì ˆ, GROUP BYì™€ HAVING ì ˆì— ì˜í•´ ê²°ì •ë˜ê³ , ê·¸ ì´í›„ ìœˆë„ìš° í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.\nflowchart TB subgraph S1 [ìœˆë„ìš° í•¨ìˆ˜ ì´ì „ì— ì‹¤í–‰] direction LR A(WHERE) ~~~ B(FROM) ~~~ C(GROUP BY) ~~~ D(HAVING) end subgraph S2 [ìœˆë„ìš° í•¨ìˆ˜ ì²˜ë¦¬] end subgraph S3 [ìœˆë„ìš° í•¨ìˆ˜ ì´í›„ì— ì‹¤í–‰] direction LR E(SELECT ì ˆ) ~~~ F(ORDER BY ì ˆ) ~~~ G(LIMIT) end S1 --\u003e S2 --\u003e S3 ì¿¼ë¦¬ì—ì„œ ê° ì ˆì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ìˆ™ì§€í•˜ê³  ìˆì–´ì•¼ ì •í™•í•œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.\nex) ìœˆë„ìš° í•¨ìˆ˜ë¥¼ GROUP BY ì»¬ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ê±°ë‚˜ WHERE ì ˆì— ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ìˆœì„œë¥¼ ë²—ì–´ë‚˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ë ¤ë©´ FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. FROMì ˆ ì„œë¸Œì¿¼ë¦¬ì—†ì´ LIMITì„ ì‚¬ìš©í•œ ê²½ìš°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 SELECT emp_no ,from_date ,salary ,AVG(salary) OVER() AS avg_salary FROM salaries WHERE emp_no = 10001 LIMIT 5 ; /* +--------+------------+--------+------------+ | emp_no | from_date | salary | avg_salary | +--------+------------+--------+------------+ | 10001 | 1986-06-26 | 60117 | 75388.9412 | | 10001 | 1987-06-26 | 62102 | 75388.9412 | | 10001 | 1988-06-25 | 66074 | 75388.9412 | | 10001 | 1989-06-25 | 66596 | 75388.9412 | | 10001 | 1990-06-25 | 66961 | 75388.9412 | +--------+------------+--------+------------+ */ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” 17ê±´ì˜ ë ˆì½”ë“œë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¨ ë‹¤ìŒ ìœˆë„ìš° í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ì—ì„œ 5ê±´ë§Œ ë°˜í™˜í•œë‹¤.\nFROMì ˆ ì„œë¸Œì¿¼ë¦¬ì—ì„œ LIMITì„ ì‚¬ìš©í•œ ê²½ìš°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 SELECT emp_no ,from_date ,salary ,AVG(salary) OVER() AS avg_salary FROM (SELECT * FROM salaries WHERE emp_no = 10001 LIMIT 5) s2 ; /* +--------+------------+--------+------------+ | emp_no | from_date | salary | avg_salary | +--------+------------+--------+------------+ | 10001 | 1986-06-26 | 60117 | 64370.0000 | | 10001 | 1987-06-26 | 62102 | 64370.0000 | | 10001 | 1988-06-25 | 66074 | 64370.0000 | | 10001 | 1989-06-25 | 66596 | 64370.0000 | | 10001 | 1990-06-25 | 66961 | 64370.0000 | +--------+------------+--------+------------+ */ ìµœì¢… 5ê±´ì˜ í‰ê· ì„ ì˜ë¯¸ í•œë‹¤.\nìœˆë„ìš° í•¨ìˆ˜ ê¸°ë³¸ ì‚¬ìš©ë²• 1 AGGREGATE_FUNC() OVER(\u0026lt;partition\u0026gt; \u0026lt;order\u0026gt;) AS window_func_column ìœˆë„ìš° í•¨ìˆ˜ëŠ” ìš©ë„ë³„ë¡œ ë‹¤ì–‘í•œ í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì§‘ê³„ í•¨ìˆ˜ì™€ëŠ” ë‹¬ë¦¬ í•¨ìˆ˜ ë’¤ì— OVER ì ˆì„ ì´ìš©í•´ ì—°ì‚° ëŒ€ìƒì„ íŒŒí‹°ì…˜ í•˜ê¸° ìœ„í•œ ì˜µì…˜ì„ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ OVER ì ˆì— ì˜í•´ ë§Œë“¤ì–´ì§„ ê·¸ë£¹ì„ íŒŒí‹°ì…˜ ë˜ëŠ” ìœˆë„ìš° ë¼ê³  í•œë‹¤. ì •ë ¬ ì‚¬ìš©\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 SELECT e.* ,RANK() OVER(ORDER BY e.hire_date) AS hire_date_rank FROM employees e ; /* |... | 227544 | 1954-11-17 | Shahab | Demeyer | M | 2000-01-08 | 300018 | | 422990 | 1953-04-09 | Jaana | Verspoor | F | 2000-01-11 | 300019 | | 47291 | 1960-09-09 | Ulf | Flexer | M | 2000-01-12 | 300020 | | 222965 | 1959-08-07 | Volkmar | Perko | F | 2000-01-13 | 300021 | | 499553 | 1954-05-06 | Hideyuki | Delgrande | F | 2000-01-22 | 300022 | | 428377 | 1957-05-09 | Yucai | Gerlach | M | 2000-01-23 | 300023 | | 463807 | 1964-06-12 | Bikash | Covnot | M | 2000-01-28 | 300024 | +--------+------------+----------------+------------------+--------+------------+----------------+ */ ì†Œ ê·¸ë£¹ì„ ë³„ë„ë¡œ êµ¬ë¶„í•˜ì§€ ì•Šê³  ì „ì²´ ì§‘í•©ê³¼ ì§‘í•©ì—ì„œ e.hire_date ì»¬ëŸ¼ìœ¼ë¡œ ì •ë ¬í•œ í›„ ìˆœìœ„ë¥¼ ë§¤ê¸´ë‹¤.\níŒŒí‹°ì…˜ ë° ì •ë ¬ ì‚¬ìš©\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 SELECT de.dept_no ,e.emp_no ,e.first_name ,e.hire_date ,RANK() OVER(PARTITION BY de.dept_no ORDER BY e.hire_date) AS hire_date_rank FROM employees e INNER JOIN dept_emp de ON de.emp_no = e.emp_no ORDER BY de.dept_no, e.hire_date ; /* | d009 | 461853 | Licheng | 1999-10-14 | 23572 | | d009 | 292220 | Danny | 1999-10-26 | 23573 | | d009 | 252656 | Moti | 1999-10-28 | 23574 | | d009 | 65535 | Aleksander | 1999-11-21 | 23575 | | d009 | 89511 | Kazuhiro | 1999-11-27 | 23576 | | d009 | 218859 | Arvin | 1999-12-03 | 23577 | | d009 | 13919 | Brewster | 1999-12-04 | 23578 | | d009 | 73925 | Vasilii | 1999-12-30 | 23579 | | d009 | 60134 | Seshu | 2000-01-02 | 23580 | +---------+--------+----------------+------------+----------------+ */ ë¶€ì„œ ë³„ë¡œ ì…ì‚¬ ìˆœìœ„ë¥¼ ë§¤ê¸°ë ¤ê³  í•œë‹¤ë©´ ë¶€ì„œ ì½”ë“œë¡œ íŒŒí‹°ì…˜ì„ í•˜ë©´ ëœë‹¤.\níŒŒí‹°ì…˜ ë° ì •ë ¬ ë¯¸ì‚¬ìš©\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 SELECT emp_no ,from_date ,salary ,AVG(salary) OVER() AS avg_salary FROM salaries WHERE emp_no = 10001 ; /* +--------+------------+--------+------------+ | emp_no | from_date | salary | avg_salary | +--------+------------+--------+------------+ | 10001 | 1986-06-26 | 60117 | 75388.9412 | | 10001 | 1987-06-26 | 62102 | 75388.9412 | | 10001 | 1988-06-25 | 66074 | 75388.9412 | | 10001 | 1989-06-25 | 66596 | 75388.9412 | | 10001 | 1990-06-25 | 66961 | 75388.9412 | | 10001 | 1991-06-25 | 71046 | 75388.9412 | | 10001 | 1992-06-24 | 74333 | 75388.9412 | | 10001 | 1993-06-24 | 75286 | 75388.9412 | | 10001 | 1994-06-24 | 75994 | 75388.9412 | | 10001 | 1995-06-24 | 76884 | 75388.9412 | | 10001 | 1996-06-23 | 80013 | 75388.9412 | | 10001 | 1997-06-23 | 81025 | 75388.9412 | | 10001 | 1998-06-23 | 81097 | 75388.9412 | | 10001 | 1999-06-23 | 84917 | 75388.9412 | | 10001 | 2000-06-22 | 85112 | 75388.9412 | | 10001 | 2001-06-22 | 85097 | 75388.9412 | | 10001 | 2002-06-22 | 88958 | 75388.9412 | +--------+------------+--------+------------+ */ ì†Œê·¸ë£¹ íŒŒí‹°ì…˜ì´ë‚˜ ì •ë ¬ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš° PARTITIONì´ë‚˜ ORDER BY ì—†ì´ ë¹„ì–´ ìˆëŠ” OVER() ì ˆì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\nì‚¬ì› ë²ˆí˜¸ê°€ 10001ì¸ ì‚¬ì›ì˜ ëª¨ë“  ê¸‰ì—¬ ë³€ê²½ ì´ë ¥ì˜ í‰ê· ì„ ì¡°íšŒí•˜ë¯€ë¡œ PARTITION í‚¤ì›Œë“œë¥¼ ìƒëµí–ˆë‹¤. í‰ê· ì„ ê³„ì‚°í•˜ë¯€ë¡œ ì •ë ¬ì´ í•„ìš”í•˜ì§€ ì•Šì•„ ORDER BY í‚¤ì›Œë“œë¥¼ ìƒëµ í–ˆë‹¤. ë”°ë¼ì„œ avg_salary ì»¬ëŸ¼ì˜ ê°’ì€ ëª¨ë‘ ë™ì¼í•˜ë‹¤. í”„ë ˆì„ ì‚¬ìš©\nìœˆë„ìš° í•¨ìˆ˜ì˜ ê° íŒŒí‹°ì…˜ ì•ˆì—ì„œë„ ì—°ì‚° ëŒ€ìƒì„ ë ˆì½”ë“œë³„ë¡œ ì—°ì‚°ì„ ìˆ˜í–‰í•  ì†Œê·¸ë£¹ì´ ì‚¬ìš©ë˜ëŠ”ë°, ì´ë¥¼ í”„ë ˆì„ì´ë¼ í•œë‹¤.\nìœˆë„ìš° í•¨ìˆ˜ì—ì„œ í”„ë ˆì„ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•Šì•„ë„ ìƒí™©ì— ë§ê²Œ ë¬µì‹œì ìœ¼ë¡œ ì„ íƒí•œë‹¤. í”„ë ˆì„ì€ ë ˆì½”ë“œì˜ ìˆœì„œëŒ€ë¡œ í˜„ì¬ ë ˆì½”ë“œ ê¸°ì¤€ ì•ë’¤ ëª‡ ê±´ì„ ì—°ì‚° ë²”ìœ„ë¡œ ì œí•œí•˜ëŠ” ì—­í• ì„ í•œë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 AGGREGATER_FUNC() OVER(\u0026lt;partition\u0026gt; \u0026lt;order\u0026gt; \u0026lt;frame\u0026gt;) AS window_func_column frame: {ROWS | RANGE} {frame_start | frame_between} frame_between BETWEEN frame_start AND frame_end frame_start, frame_end: { CURRENT ROW | UNBOUNDED PRECEDING | UNBOUNDED FOLLOWING | expr PRECEDING | expr FOLLOWING } í”„ë ˆì„ì„ ë§Œë“œëŠ” ê¸°ì¤€ ROWS: ë ˆì½”ë“œì˜ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í”„ë ˆì„ ìƒì„± exprì—ëŠ” ë ˆì½”ë“œì˜ ìœ„ì¹˜ë¥¼ ëª…ì‹œí•´ì•¼ í•œë‹¤. RANGE: ORDER BY ì ˆì— ë©´ì‹œëœ ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ê°’ì˜ ë²”ìœ„ë¡œ í”„ë ˆì„ ìƒì„± exprì—ëŠ” ì»¬ëŸ¼ê³¼ ë¹„êµí•  ê°’ì´ ì„¤ì •ë¼ì•¼ í•œë‹¤. ì‹œì‘ê³¼ ë ì˜ë¯¸ CURRENT ROW: í˜„ì¬ ë ˆì½”ë“œ UNBOUNDED PRECEDING: íŒŒí‹°ì…˜ì˜ ì²« ë²ˆì§¸ ë ˆì½”ë“œ UNBOUNDED FOLLOWING: íŒŒí‹°ì…˜ì˜ ë§ˆì§€ë§‰ ë ˆì½”ë“œ expr PRECEDING: í˜„ì¬ ë ˆì½”ë“œë¡œë¶€í„° në²ˆì§¸ ì´ì „ ë ˆì½”ë“œ expr FOLLOWING: í˜„ì¬ ë ˆì½”ë“œë¡œë¶€í„° në²ˆì§¸ ì´í›„ ë ˆì½”ë“œ ìœˆë„ìš° í•¨ìˆ˜ì—ì„œ í”„ë ˆì„ì´ ë³„ë„ë¡œ ëª…ì‹œë˜ì§€ ì•Šìœ¼ë©´ ë¬´ì¡°ê±´ íŒŒí‹°ì…˜ì˜ ëª¨ë“  ë ˆì½”ë“œê°€ ì—°ì‚°ì˜ ëŒ€ìƒì´ ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.\nOVER() ì ˆì´ ORDER BYë¥¼ ê°€ì§€ëŠ”ì§€ ì—¬ë¶€ì— ë”°ë¼ ë¬µì‹œì ì¸ í”„ë ˆì„ ë²”ìœ„ê°€ ë‹¬ë¼ì§„ë‹¤.\nOVER()ê°€ ORDER BYë¥¼ ê°€ì§€ëŠ” ê²½ìš° íŒŒí‹°ì…˜ì˜ ì²« ë²ˆì§¸ ë ˆì½”ë“œë¶€í„° í˜„ì¬ ë ˆì½”ë“œê¹Œì§€ê°€ í”„ë ˆì„ì´ ëœë‹¤. OVER()ê°€ ORDER BYë¥¼ ê°€ì§€ì§€ ì•ŠëŠ” ê²½ìš° íŒŒí‹°ì…˜ì˜ ëª¨ë“  ë ˆì½”ë“œê°€ ë¬µì‹œì ì¸ í”„ë ˆì„ìœ¼ë¡œ ì„ íƒëœë‹¤. ì¼ë¶€ ìœˆë„ìš° í•¨ìˆ˜ë“¤ì€ í”„ë ˆì„ì´ ê³ ì •ë˜ì–´ìˆì–´ SQL ë¬¸ì¥ì—ì„œ í”„ë ˆì„ì„ ë³„ë„ë¡œ ëª…ì‹œí•˜ë”ë¼ë„ ë¬´ì‹œëœë‹¤. ì´ëŸ¬í•œ ê²½ìš° ì—ëŸ¬ëŠ” ë°œìƒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í˜¼ë€ìŠ¤ëŸ¬ìš¸ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•œë‹¤. CUME_DIST(), DENSE_RANK(), LAG(), LEAD(), NTILE(), PERCENT_RANK(), RANK(), ROW_NUMBER() ìœˆë„ìš° í•¨ìˆ˜ MySQL ì„œë²„ì˜ ìœˆë„ìš° í•¨ìˆ˜ì—ëŠ” ì§‘ê³„ í•¨ìˆ˜ì™€ ë¹„ ì§‘ê³„ í•¨ìˆ˜ë¥¼ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì§‘ê³„í•¨ìˆ˜ëŠ” GROUP BY ì ˆê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ë¥¼ ì˜ë¯¸í•˜ë©° OVER() ì ˆ ì—†ì´ ë‹¨ë…ìœ¼ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë¹„ ì§‘ê³„ í•¨ìˆ˜ëŠ” ë°˜ë“œì‹œ OVER() ì ˆì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ë©° ìœˆë„ìš° í•¨ìˆ˜ë¡œë§Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. DENSE_RANK()ì™€ RANK(), ROW_NUMBER() DENSE_RANK()ì™€ RANK() ëª¨ë‘ ORDER BY ê¸°ì¤€ìœ¼ë¡œ ë§¤ê²¨ì§„ ìˆœìœ„ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ ì¡°ê¸ˆ ì°¨ì´ê°€ ìˆë‹¤.\nRANK(): ë™ì ì¸ ë ˆì½”ë“œê°€ ë‘ ê±´ ì´ìƒì¸ ê²½ìš° ê·¸ ë‹¤ìŒ ë ˆì½”ë“œë¥¼ ë™ì ì¸ ë ˆì½”ë“œìˆ˜ ë§Œí¼ ì¦ê°€ì‹œí‚¨ ìˆœìœ„ë¥¼ ë°˜í™˜. DENSE_RANK(): ë™ì ì¸ ë ˆì½”ë“œë¥¼ 1ê±´ìœ¼ë¡œ ê°€ì •í•˜ê³  ìˆœìœ„ë¥¼ ë§¤ê¸°ê¸° ë•Œë¬¸ì— ì—°ì†ëœ ìˆœìœ„ë¥¼ ê°€ì§„ë‹¤. ROW_NUMBER(): ë˜‘ê°™ì´ ìˆœìœ„ë¥¼ ë§¤ê¸°ì§€ë§Œ ê° ë ˆì½”ë“œì˜ ê³ ìœ í•œ ìˆœë²ˆì„ ë°˜í™šë‚˜ë‹¤. ë™ì ì— ëŒ€í•œ ê³ ë ¤ ì—†ì´ ì •ë ¬ëœ ìˆœì„œëŒ€ë¡œ ë ˆì½”ë“œ ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•œë‹¤. LAG(), LEAD() LAG(): íŒŒí‹°ì…˜ ë‚´ì—ì„œ í˜„ì¬ ë ˆì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ në²ˆì§¸ ì´ì „ ë ˆì½”ë“œë¥´ ë°˜í™˜í•œë‹¤. LEAD(): ë°˜ëŒ€ë¡œ në²ˆì§¸ ì´í›„ ë ˆì½”ë“œë¥¼ ë°˜í™˜í•œë‹¤. 3ê°œ íŒŒë¼ë¯¸í„°ë¥¼ í•„ìš”ë¡œ í•˜ë©°, 1,2 ëŠ” í•„ìˆ˜ì´ë©°, 3ì€ ì„ íƒì´ë‹¤. ì»¬ëŸ¼ ì´ë¦„ ìœ„ì¹˜ ì¦ê° ìˆ«ì ìœˆë„ìš° í•¨ìˆ˜ì™€ ì„±ëŠ¥ MySQL ì„œë²„ì˜ ìœˆë„ìš° í•¨ìˆ˜ëŠ” 8.0 ë²„ì „ì— ì²˜ìŒ ë„ì…ëìœ¼ë©°, ì•„ì§ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ìµœì í™”ê°€ ë¶€ì¡±í•œ ë¶€ë¶„ë„ ìˆë‹¤.\nìœˆë„ìš° í•¨ìˆ˜ ì´ìš©\n1 2 3 4 5 6 7 8 9 10 11 12 EXPLAIN SELECT MAX(from_date) OVER(PARTITION BY emp_no) AS max_from_date FROM salaries ; /* +----+-------------+----------+------------+-------+---------------+-----------+---------+------+---------+----------+-----------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+---------------+-----------+---------+------+---------+----------+-----------------------------+ | 1 | SIMPLE | salaries | NULL | index | NULL | ix_salary | 4 | NULL | 2838426 | 100.00 | Using index; Using filesort | +----+-------------+----------+------------+-------+---------------+-----------+---------+------+---------+----------+-----------------------------+ */ GROUP BY ì´ìš©\n1 2 3 4 5 6 7 8 9 10 11 12 13 EXPLAIN SELECT MAX(from_date) FROM salaries GROUP BY emp_no ; /* +----+-------------+----------+------------+-------+-------------------+---------+---------+------+--------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+-------+-------------------+---------+---------+------+--------+----------+--------------------------+ | 1 | SIMPLE | salaries | NULL | range | PRIMARY,ix_salary | PRIMARY | 4 | NULL | 293568 | 100.00 | Using index for group-by | +----+-------------+----------+------------+-------+-------------------+---------+---------+------+--------+----------+--------------------------+ */ ë‘ ì¿¼ë¦¬ì˜ ê²°ê³¼ëŠ” ì°¨ì´ê°€ ìˆì§€ë§Œ ì‚¬ìš©ìë³„ë¡œ MAX(from_date) ê°’ì„ êµ¬í•œë‹¤.\nìœˆë„ìš° í•¨ìˆ˜ ì´ìš© ì¸ë±ìŠ¤ë¥¼ í’€ ìŠ¤ìº” ë ˆì½”ë“œ ì •ë ¬ ì‘ì—… ìˆ˜í–‰ GROUP BY ë³„ë„ ì •ë ¬ ì—†ìŒ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ìœ¼ë¡œ ê°’ì„ ì°¾ì•„ëƒ„ ì´ëŸ¬í•œ ì°¨ì´ë¡œ ì¸í•´ ì‹¤ì œ ë‘ ì¿¼ë¦¬ê°€ ì—°ì‚°ì— ì‚¬ìš©í•œ ë ˆì½”ë“œ ê±´ìˆ˜ë„ ìƒë‹¹íˆ ì°¨ì´ê°€ ë‚œë‹¤.\nìœˆë„ìš° í•¨ìˆ˜ëŠ” í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œ ê±´ìˆ˜ë§Œí¼ì˜ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ì§€ë§Œ, GROUP BY ì ˆì„ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ëŠ” ìœ ë‹ˆí¬í•œ emp_noë³„ë¡œ ë ˆì½”ë“œ 1ê±´ì”©ë§Œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ë‚´ë©´ ë˜ë¯€ë¡œ ë ˆì½”ë“œ ê±´ìˆ˜ì—ì„œ ì°¨ì´ê°€ ë‚  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì•ì˜ ê²°ê³¼ë¥¼ ë³´ë©´ ìœˆë„ìš° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ì¿¼ë¦¬ëŠ” ì˜ˆìƒë³´ë‹¤ í›¨ì”¬ ë§ì€ ë ˆì½”ë“œë¥¼ ê°€ê³µí–ˆê³ , ê·¸ë¡œ ì¸í•´ ë ˆì½”ë“œì˜ ì½ê³  ì“°ê¸°ê°€ ìƒë‹¹íˆ ë§ì´ ë°œìƒí–ˆë‹¤.\nì¿¼ë¦¬ ìš”ê±´ì— ë”°ë¼ GROUP BYë‚˜ ë‹¤ë¥¸ ê¸°ì¡´ ê¸°ëŠ¥ìœ¼ë¡œëŠ” ìœˆë„ìš° í•¨ìˆ˜ë¥¼ ëŒ€ì²´í•  ìˆ˜ ì—†ê² ì§€ë§Œ, ê°€ëŠ¥í•˜ë‹¤ë©´ ìœˆë„ìš° í•¨ìˆ˜ì— ë„ˆë¬´ ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì†ŒëŸ‰ì˜ ë ˆì½”ë“œì— ëŒ€í•´ì„œë¼ë©´ ìœˆë„ìš° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ë„ ë©”ëª¨ë¦¬ì—ì„œ ë¹ ë¥´ê²Œ ì²˜ë¦¬ë  ê²ƒì´ë¯€ë¡œ íŠ¹ë³„íˆ ì„±ëŠ¥ì— ëŒ€í•´ ê³ ë¯¼í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.\n","date":"2023-07-31T14:28:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/4/4/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/4/4/","title":"11.4 ì¿¼ë¦¬ ì‘ì„± ë° ìµœì í™” - SELECT(4) - ìœˆë„ìš° í•¨ìˆ˜(Window Function)"},{"content":"ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ë•Œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¨ìœ„ ì²˜ë¦¬ë³„ë¡œ ì¿¼ë¦¬ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.\nì¡°ì¸ì²˜ëŸ¼ ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì„ì–´ ë‘ëŠ” í˜•íƒœê°€ ì•„ë‹ˆì–´ì„œ ì¿¼ë¦¬ì˜ ê°€ë…ì„±ë„ ë†’ì•„ì§€ë©°, ë³µì¡í•œ ì¿¼ë¦¬ë„ ì†ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.\nMySQL 5.6 ë²„ì „ê¹Œì§€ëŠ” ì„œë¸Œì¿¼ë¦¬ë¥¼ ìµœì ìœ¼ë¡œ ì‹¤í–‰í•˜ì§€ ëª»í•  ë•Œê°€ ë§ì•˜ì§€ë§Œ ì„œë¸Œì¿¼ë¦¬ ì²˜ë¦¬ê°€ ë§ì´ ê°œì„ ë˜ì—ˆë‹¤.\nì„œë¸Œì¿¼ë¦¬ëŠ” ì¿¼ë¦¬ì˜ ì—¬ëŸ¬ ìœ„ì¹˜ì— ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë©° ìœ„ì¹˜ë³„ë¡œ ìµœì í™”ì™€ ì„±ëŠ¥ì— ë„ì›€ì´ ë˜ëŠ” ë°©ë²•ì´ ì¡°ê¸ˆì”© ë‹¤ë¥´ë‹¤.\nSELECT FROM WHERE ë“± SELECT ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ SELECT ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ê±°ë‚˜ ì¿¼ë¦¬ë¥¼ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê²Œ ë§Œë“¤ì§€ëŠ” ì•Šê¸° ë•Œë¬¸ì— ì„œë¸Œì¿¼ë¦¬ê°€ ì ì ˆíˆ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë©´ í¬ê²Œ ì£¼ì˜í•  ì‚¬í•­ì€ ì—†ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ SELECT ì ˆì— ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ê·¸ ì„œë¸Œì¿¼ë¦¬ëŠ” í•­ìƒ ì»¬ëŸ¼ê³¼ ë ˆì½”ë“œê°€ í•˜ë‚˜ì¸ ê²¨ë¡œê°€ë¥¼ ë°˜í™˜í•´ì•¼ í•˜ì§€ë§Œ, MySQLì—ì„œëŠ” ì´ ì²´í¬ ì¡°ê±´ì´ ì¡°ê¸ˆ ëŠìŠ¨í•˜ë‹¤.\nì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ 0ê±´ì¸ ê²½ìš° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 SELECT emp_no , (SELECT dept_name FROM departments WHERE dept_name = \u0026#39;Sales1\u0026#39;) subquery FROM dept_emp LIMIT 10 ; /* +--------+----------+ | emp_no | subquery | +--------+----------+ | 110022 | NULL | | 110085 | NULL | | 110183 | NULL | | 110303 | NULL | | 110511 | NULL | | 110725 | NULL | | 111035 | NULL | | 111400 | NULL | | 111692 | NULL | | 110114 | NULL | +--------+----------+ */ ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ëŠ” í•­ìƒ ê²°ê³¼ê°€ 0ê±´ì´ë‹¤. í•˜ì§€ë§Œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•Šê³  ê²°ê³¼ë¡œ NULLì„ ì±„ì›Œ ë°˜í™˜í•œë‹¤.\n2ê±´ ì´ìƒ ë ˆì½”ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ê²½ìš° 1 2 3 4 5 6 SELECT emp_no, (SELECT dept_name FROM departments) FROM dept_emp LIMIT 10 ; # ERROR 1242 (21000): Subquery returns more than 1 row ì—ëŸ¬ê°€ ë°œìƒí•˜ë©° ì¿¼ë¦¬ê°€ ì¢…ë£Œëœë‹¤.\n2ê°œ ì´ìƒ ì»¬ëŸ¼ì„ ê°€ì ¸ì˜¤ë ¤ê³  í•˜ëŠ” ê²½ìš° 1 2 3 4 5 6 7 SELECT emp_no ,(SELECT dept_no, dept_name FROM departments WHERE dept_name = \u0026#39;Sales1\u0026#39;) FROM dept_emp LIMIT 10 ; # ERROR 1241 (21000): Operand should contain 1 column(s) 2ê±´ ì´ìƒ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ì„œë¸Œì¿¼ë¦¬ì²˜ëŸ¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\nSELECT ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ì—ëŠ” ë¡œìš°(row) ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , ì˜¤ì§ ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬í•´ë„ ë˜ëŠ” ì¿¼ë¦¬ë¥¼ SELECT ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬í•´ë„ ë˜ëŠ” ì¿¼ë¦¬ë¥¼ SELECT ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì„±í•˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆëŠ”ë°, ì„œë¸Œì¿¼ë¦¬ë¡œ ì‹¤í–‰ë  ë•Œë³´ë‹¤ ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬í•  ë•Œ ì¡°ê¸ˆ ë” ë¹ ë¥´ê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤ë©´ ì¡°ì¸ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 SELECT COUNT( CONCAT( e1.first_name, (SELECT e2.first_name FROM employees e2 WHERE e2.emp_no=e1.emp_no) ) ) FROM employees e1; SELECT COUNT(CONCAT(e1.first_name, e2.first_name)) FROM employees e1 ,employees e2 WHERE e1.emp_no = e2.emp_no ; ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì•„ì§€ë©´ ì„±ëŠ¥ ì°¨ì´ê°€ ì»¤ì§€ë¯€ë¡œ ê°€ëŠ¥í•˜ë©´ ì¡°ì¸ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì„ ê¶Œì¥í•œë‹¤.\në™ì¼í•œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ë²ˆ ì‚¬ìš©í•˜ëŠ” ê²½ìš° 1 2 3 4 5 6 7 8 SELECT e.emp_no ,e.first_name ,(SELECT s.salary FROM salaries s WHERE s.emp_no = e.emp_no ORDER BY s.from_date DESC LIMIT 1) salary ,(SELECT s.from_date FROM salaries s WHERE s.emp_no = e.emp_no ORDER BY s.from_date DESC LIMIT 1) salary_from_date ,(SELECT s.to_date FROM salaries s WHERE s.emp_no = e.emp_no ORDER BY s.from_date DESC LIMIT 1) salary_to_date FROM employees e WHERE e.emp_no=499999 ; ìœ„ ì˜ˆì‹œì˜ ê²½ìš° LIMIT 1 ì¡°ê±´ìœ¼ë¡œ ì¸í•´ salaries í„°ì´ë¸”ì„ ì¡°ì¸ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ”ë°, MySQL 8.0 ë²„ì „ë¶€í„° ë„ì…ëœ ë˜í„°ëŸ´ ì¡°ì¸ì„ ì´ìš©í•˜ë©´ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 SELECT e.emp_no ,e.first_name ,s2.salary ,s2.from_date ,s2.to_date FROM employees e INNER JOIN LATERAL ( SELECT * FROM salaries s WHERE s.emp_no=e.emp_no ORDER BY s.from_date DESC LIMIT 1 ) s2 ON s2.emp_no=e.emp_no WHERE e.emp_no = 499999 ; 3ë²ˆ ë°˜ë³µë˜ë˜ ì„œë¸Œì¿¼ë¦¬ë¥¼ ë˜í„°ëŸ´ ì¡°ì¸ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ í•œë²•ë§Œ ì½ì–´ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\në˜í„°ëŸ´ ì¡°ì¸ì„ ì‚¬ìš©í•œ ê²½ìš° ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¶©ë¶„íˆ ì •ë ¬ëœ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒì—ë„ ì €ì—´ã„¹ì„ ìˆ˜í–‰í•˜ëŠ” ë²„ê·¸ê°€ ìˆë‹¤.\në˜í„°ëŸ´ ì¡°ì¸ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— Handler_write ê°’ê³¼ Handler_read_key ê°’ì´ ì¦ê°€í•  ìˆ˜ ìˆë‹¤. ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•œ ê²½ìš°ëŠ” í…Œì´ë¸”ì„ ì—¬ëŸ¬ë²ˆ ì½ê¸° ë•Œë¬¸ì— Handler_read_key ê°’ì´ ì¦ê°€í•  ìˆ˜ ìˆëŠ” ì‹¤í–‰ê³„íšì´ë‹¤. FROM ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ MySQL 5.7 ì „ MySQL ì„œë¹„ì—ì„œëŠ” FROM ì ˆì— ì„œë¸Œì¿¼ë¦¬ê°€ ì‚¬ìš©ë˜ë©´ í•­ìƒ ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ë¥¼ ì„ì‹œ í…Œì´ë¸”ë¡œ ì €ì¥í•˜ê³  í•„ìš”í•  ë•Œ ë‹¤ì‹œ ì„ì‹œ í…Œì´ë¸”ì„ ì½ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ FROM ì ˆì˜ ì„œë¸Œ ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ë³‘í•©í•˜ëŠ” í˜•íƒœë¡œ íŠœë‹ì„ í–ˆë‹¤.\nì´ì— ë”°ë¼ ì—…ê·¸ë ˆì´ë“œ ë˜ë©° ì˜µí‹°ë§ˆì´ì €ê°€ FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì™¸ë¶€ë¡œ ë³‘í•©í•˜ëŠ” ìµœì í™”ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.\nMySQL ì„œë²„ê°€ ì„œë¸Œì¿¼ë¦¬ë¥¼ ë³‘í•©í•´ì„œ ì¬ì‘ì„±í–ˆë‹¤ë©´ EXPLAIN ëª…ë ¹ì„ ì‹¤í–‰í•œ í›„, SHOW WARNINGS ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì–´ë–»ê²Œ ë³‘í•©í–ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 EXPLAIN SELECT * FROM (SELECT * FROM employees) y; /* +----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------+ | 1 | SIMPLE | employees | NULL | ALL | NULL | NULL | NULL | NULL | 300269 | 100.00 | NULL | +----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+-------+ */ SHOW WARNINGS; /* +-------+------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | Level | Code | Message | +-------+------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | Note | 1003 | /* select#1 */ select `employees`.`employees`.`emp_no` AS `emp_no`,`employees`.`employees`.`birth_date` AS `birth_date`,`employees`.`employees`.`first_name` AS `first_name`,`employees`.`employees`.`last_name` AS `last_name`,`employees`.`employees`.`gender` AS `gender`,`employees`.`employees`.`hire_date` AS `hire_date` from `employees`.`employees` | +-------+------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ */ ì„œë¸Œì¿¼ë¦¬ì—ì„œ ë°œìƒí•˜ëŠ” ì™¸ë¶€ ì¿¼ë¦¬ ë³‘í•©ì€ ê¼­ FROM ì ˆì—ì„œë§Œ ì ìš©ë˜ëŠ” ìµœì í™”ëŠ” ì•„ë‹ˆê³ , FROM ì‚¬ìš©ëœ ë·°ì˜ ê²½ìš°ì—ë„ MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ë·° ì¿¼ë¦¬ì™€ ì™¸ë¶€ ì¿¼ë¦¬ë¥¼ ë³‘í•©í•´ì„œ ìµœì í™”ëœ ì‹¤í–‰ ê³„íšì„ ì‚¬ìš©í•œë‹¤.\nFROM ì ˆì˜ ëª¨ë“  ì„œë¸Œì¿¼ë¦¬ë¥¼ ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ë³‘í•©í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë©°, ëŒ€í‘œì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠì´ ì„œë¸Œì¿¼ë¦¬ê°€ ì‚¬ìš©ë˜ë©´ FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ëŠ” ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ë³‘í•©ë˜ì§€ ëª»í•œë‹¤.\nì§‘í•© í•¨ìˆ˜ ì‚¬ìš©(SUM, MIN, MAX, COUNT ë“±) DISTINCT GROUP BY, HAVING LIMIT UNION(UNION DISTINCT), UNION ALL SELECT ì ˆì— ì„œë¸Œì¿¼ë¦¬ê°€ ì‚¬ìš©ëœ ê²½ìš° ì‚¬ìš©ì ë³€ìˆ˜ ì‚¬ìš©(ì‚¬ìš©ì ë³€ìˆ˜ì— ê°’ì´ í• ë‹¹ë˜ëŠ” ê²½ìš°) ì™¸ë¶€ ì¿¼ë¦¬ì™€ ë³‘í•©ë˜ëŠ” FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ê°€ ORDER BY ì ˆì„ ê°€ì§„ ê²½ìš° ì™¸ë¶€ ì¿¼ë¦¬ê°€ GROUP BYë‚˜ DISTINCTê°™ì€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì„œë¸Œì¿¼ë¦¬ì˜ ì •ë ¬ ì¡°ê±´ì„ ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ê°™ì´ ë³‘í•©í•œë‹¤.\nì™¸ë¶€ ì¿¼ë¦¬ì—ì„œ GROUP BY, DISTINCTì™€ ê°™ì€ ê¸°ëŠ¥ì´ ì‚¬ìš©ë˜ê³  ìˆë‹¤ë©´, ì„œë¸Œì¿¼ë¦¬ì˜ ì •ë ¬ ì‘ì—…ì€ ë¬´ì˜ë¯¸í•˜ê¸° ë•Œë¬¸ì— ORDER BYëŠ” ë¬´ì‹œëœë‹¤.\nWHERE ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ WHERE ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ëŠ” SELECT ì ˆì´ë‚˜ FROM ì ˆë³´ë‹¤ëŠ” ë‹¤ì–‘í•œ í˜•íƒœ(ì—°ì‚°ì)ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\në™ë“± ë˜ëŠ” í¬ë‹¤ ì‘ë‹¤ ë¹„êµ (= (subquery)) IN ë¹„êµ(IN (subquery)) NOT IN ë¹„êµ(NOT IN (subquery)) ë™ë“± ë˜ëŠ” í¬ë‹¤ ì‘ë‹¤ ë¹„êµ MySQL 5.5 ì´ì „ ë²„ì „ê¹Œì§€ëŠ” ì„œë¸Œì¿¼ë¦¬ ì™¸ë¶€ì˜ ì¡°ê±´ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì²´í¬ ì¡°ê·¼ìœ¼ë¡œ ì‚¬ìš©í–ˆìœ¼ë‚˜, ì´ëŸ¬í•œ ë°©ì‹ì€ í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ í•„ìš”í•œ ê²½ìš°ê°€ ë§ì•„ ì„±ëŠ¥ ì €í•˜ê°€ ì‹¬ê°í–ˆë‹¤.\nMySQL 5.5 ì´í•˜ dept_emp í…Œì´ë¸”ì„ í’€ ìŠ¤ìº”í•˜ë©´ì„œ ì„œë¸Œì¿¼ë¦¬ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ì²´í¬í•¨ MySQL 5.5 ì´ìƒ ì„œë¸Œì¿¼ë¦¬ë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ì—¬ ìƒìˆ˜ë¡œ ë³€í™˜ í›„ ìƒìˆ˜ê°’ìœ¼ë¡œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ëŒ€ì²´í•´ì—¬ ë‚˜ë¨¸ì§€ ì¿¼ë¦¬ ì‹¤í–‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 EXPLAIN SELECT * FROM dept_emp de WHERE de.emp_no = ( SELECT e.emp_no FROM employees e WHERE e.first_name = \u0026#39;Georgi\u0026#39; AND e.last_name = \u0026#39;Facello\u0026#39; LIMIT 1 ) ; /* TABLE +----+-------------+-------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------------+ | 1 | PRIMARY | de | NULL | ref | ix_empno_fromdate | ix_empno_fromdate | 4 | const | 1 | 100.00 | Using where | | 2 | SUBQUERY | e | NULL | ref | ix_firstname | ix_firstname | 58 | const | 253 | 10.00 | Using where | +----+-------------+-------+------------+------+-------------------+-------------------+---------+-------+------+----------+-------------+ TREE +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | EXPLAIN | +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | -\u0026gt; Filter: (de.emp_no = (select #2)) (cost=0.35 rows=1) -\u0026gt; Index lookup on de using ix_empno_fromdate (emp_no=(select #2)) (cost=0.35 rows=1) -\u0026gt; Select #2 (subquery in condition; run only once) -\u0026gt; Limit: 1 row(s) (cost=65.8 rows=1) -\u0026gt; Filter: (e.last_name = \u0026#39;Facello\u0026#39;) (cost=65.8 rows=25.3) -\u0026gt; Index lookup on e using ix_firstname (first_name=\u0026#39;Georgi\u0026#39;) (cost=65.8 rows=253) | +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ */ ì‹¤í–‰ ê³„íšì„ ì‚´í´ë³´ë©´ dept_emp í…Œì´ë¸”ì„ í’€ ìŠ¤ìº”í•˜ì§€ ì•Šê³  (emp_no, from_date) ì¡°í•©ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í–ˆë‹¤.\nTREE í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•œ ì‹¤í–‰ ê³„íšì˜ ë§ˆì§€ë§‰ ë¼ì¸ì—ì„œ Index lookup on e using ix_firstname (first_name='Georgi')ë¥¼ í†µí•´ employees í…Œì´ë¸”ì˜ ix_firstname ì¸ë±ìŠ¤ë¡œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•œ í›„, ê·¸ ê²°ê³¼ë¥¼ ì´ìš©í•´ dept_emp í…Œì´ë¸”ì˜ ix_empno_fromdate ì¸ë±ìŠ¤ë¥¼ ê²€ìƒ‰í•´ ì¿¼ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.\në™ë“± ë¹„êµ ë¿ë§Œ ì•„ë‹ˆë¼ ëŒ€ì†Œë¹„êµê°€ ì‚¬ìš©ë˜ì–´ë„ ë™ì¼í•œ ì‹¤í–‰ ê³„íšì„ ì‚¬ìš©í•œë‹¤.\në‹¨ì¼ ê°’ ë¹„êµê°€ ì•„ë‹Œ íŠœí”Œ ë¹„êµ ë°©ì‹ì´ ì‚¬ìš©ë˜ë©´ ì„œë¸Œì¿¼ë¦¬ê°€ ë¨¼ì € ì²˜ë¦¬ë˜ì–´ ìƒìˆ˜í™” ë˜ê¸´ í•˜ì§€ë§Œ, ì™¸ë¶€ ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê³  í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 EXPLAIN SELECT * FROM dept_emp de WHERE (emp_no, from_date) = ( SELECT emp_no, from_date FROM salaries WHERE emp_no = 100001 LIMIT 1) ; +----+-------------+----------+------------+------+-------------------+---------+---------+-------+--------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+----------+------------+------+-------------------+---------+---------+-------+--------+----------+-------------+ | 1 | PRIMARY | de | NULL | ALL | NULL | NULL | NULL | NULL | 331143 | 100.00 | Using where | | 2 | SUBQUERY | salaries | NULL | ref | PRIMARY,ix_salary | PRIMARY | 4 | const | 4 | 100.00 | Using index | +----+-------------+----------+------------+------+-------------------+---------+---------+-------+--------+----------+-------------+ IN ë¹„êµ WHERE ì ˆì— ì‚¬ìš©ëœ IN (subquery) í˜•íƒœì˜ ì¡°ê±´ì„ ì¡°ì¸ì˜ í•œ ë°©ì‹ì¸ ì„¸ë¯¸ ì¡°ì¸ìœ¼ë¡œ ê°„ì£¼í•˜ì—¬ ì²˜ë¦¬í•œë‹¤.\nì„¸ë¯¸ ì¡°ì¸(Semi-Join) ì‹¤ì œ ì¡°ì¸ì€ ì•„ë‹ˆì§€ë§Œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œê°€ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì´ìš©í•œ í‘œí˜„ì‹(ë˜ëŠ” ì»¬ëŸ¼ ê·¸ ìì²´)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ë¥¼ ì²´í¬í•˜ëŠ” í˜•íƒœ 1 2 3 4 5 6 7 SELECT * FROM employees e WHERE e.emp_no IN ( SELECT de.emp_no FROM dept_emp de WHERE de.from_date = \u0026#39;1995-01-01\u0026#39;) ; MySQL 5.5 ë²„ì „ê¹Œì§€ëŠ” ì„¸ë¯¸ ì¡°ì¸ ìµœì í™”ê°€ ë¶€ì¡±í•˜ì—¬ ëŒ€ë¶€ë¶„ í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ ë°œìƒí•˜ì˜€ìœ¼ë¯€ë¡œ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ì•Œë ¤ì¡Œì—ˆìœ¼ë‚˜, í˜„ì¬ëŠ” ì„¸ë¯¸ ì¡°ì¸ì˜ ìµœì í™”ê°€ ë§ì´ ê°œì„ ë˜ë©´ì„œ IN (subquery) í˜•íƒœë¥¼ 2ê°œì˜ ì¿¼ë¦¬ë¡œ ìª¼ê°œì–´ ì‹¤í–‰í•˜ê±°ë‚˜ ë‹¤ë¥¸ ìš°íšŒ ë°©ë²•ì„ ì°¾ì„ í•„ìš”ê°€ ì—†ì–´ì¡Œë‹¤.\nMySQL ì„œë²„ì˜ ì„¸ë¯¸ ì¡°ì¸ ìµœì í™”ëŠ” ì¿¼ë¦¬ íŠ¹ì„±ì´ë‚˜ ì¡°ì¸ ê´€ê³„ì— ë§ê²Œ 5ê°œ ì „ëµì„ ì‚¬ìš©í•œë‹¤.\ní…Œì´ë¸” í’€-ì•„ì›ƒ(Table Pull-out) í¼ìŠ¤íŠ¸ ë§¤ì¹˜(Firstmatch) ë£¨ìŠ¤ ìŠ¤ìº”(Loosescan) êµ¬ì²´í™”(Materialization) ì¤‘ë³µ ì œê±°(Duplicated Weed-out) MySQL 8.0ì„ ì‚¬ìš©í•œë‹¤ë©´ ì„¸ë¯¸ ì¡°ì¸ ìµœì í™”ì— ìµìˆ™í•´ì ¸ì•¼ í•œë‹¤.\nì˜ˆì „ì²˜ëŸ¼ ë¶ˆí•„ìš”í•˜ê²Œ ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ ì¡°ê°ìœ¼ë¡œ ë¶„ë¦¬í•´ì„œ ì‹¤í–‰í•˜ëŠ” ìŠµê´€ì„ ë²„ë¦¬ê³  MySQL 8.0ì˜ ê¸°ëŠ¥ì„ ì ê·¹ í™œìš©í•´ ê°œë°œ ìƒì‚°ì„±ì„ ë†’í ìˆ˜ ìˆë‹¤.\nNOT IN ë¹„êµ IN (subquery) ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ì´ ê²½ìš°ë¥¼ ì•ˆí‹° ì„¸ë¯¸ ì¡°ì¸(Anti Semi-Join)ì´ë¼ê³  ëª…ëª…í•œë‹¤.\nì¼ë°˜ì ì¸ RDBMSì—ì„œ Not-Equal ë¹„êµ(\u0026lt;\u0026gt;)ëŠ” ì¸ë±ìŠ¤ë¥¼ ì œëŒ€ë¡œ í™œìš©í•  ìˆ˜ ì—†ë“¯ì´ ì•ˆí‹° ì„¸ë¯¸ ì¡°ì¸ ë˜í•œ ìµœì í™”í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ë§ì§€ ì•Šë‹¤.\nì•ˆí‹° ì„¸ë¯¸ ì¡°ì¸ ì¿¼ë¦¬ê°€ ì‚¬ìš©ë˜ë©´ 2ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ìµœì í™”ë¥¼ ìˆ˜í–‰í•œë‹¤.\nNOT EXISTS êµ¬ì²´í™”(Materialization) ë‘ ê°€ì§€ ìµœì í™” ëª¨ë‘ ê·¸ë‹¤ì§€ ì„±ëŠ¥ í–¥ìƒì— ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ë°©ë²•ì´ë¯€ë¡œ ì¿¼ë¦¬ê°€ ìµœëŒ€í•œ ë‹¤ë¥¸ ì¡°ê±´ì„ í™œìš©í•´ì„œ ë°ì´í„° ê²€ìƒ‰ ë²”ìœ„ë¥¼ ì¢í ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nWHERE ì ˆì— ì•ˆí‹° ì„¸ë¯¸ ì¡°ì¸ ì¡°ê±´ë§Œ ë‹¨ë…ìœ¼ë¡œ ìˆë‹¤ë©´ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í”¼í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤.\nCTE(Common Table Expression) CTE(Common Table Expression)ëŠ” ì´ë¦„ì„ ê°€ì§€ëŠ” ì„ì‹œ í…Œì´ë¸”ë¡œì„œ, SQL ë¬¸ì¥ ë‚´ì—ì„œ í•œ ë²ˆ ì´ìƒ ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë©° SQL ë¬¸ì¥ì´ ì¢…ë£Œë˜ë©´ ìë™ìœ¼ë¡œ CTE ì„ì‹œ í…Œì´ë¸”ì€ ì‚­ì œëœë‹¤.\nCTEëŠ” ì¬ê·€ì  ë°˜ë³µ ì‹¤í–‰ ì—¬ë¶€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ Non-recursive, Recursive CTEë¡œ êµ¬ë¶„ëœë‹¤.\nMySQL ì„œë²„ì˜ CTEëŠ” ì¬ê·€ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ë‹¤ìŒê³¼ ë‹¤ì–‘í•œ SQL ë¬¸ì¥ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nSELECT, UPDATE, DELETE ë¬¸ì¥ì˜ ì œì¼ ì•ìª½ WITH cte1 AS (SELECT ...) SELECT ... WITH cte1 AS (SELECT ...) UPDATE ... WITH cte1 AS (SELECT ...) DELETE ... ì„œë¸Œì¿¼ë¦¬ì˜ ì œì¼ ì•ìª½ SELECT ... FROM ... WHERE id IN (WITH cte1 AS (SELECT ...) SELECT ...) ... SELECT ... FROM (WITH cte1 AS (SELECT ...) SELECT ...) ... SELECT ì ˆì˜ ë°”ë¡œ ì•ìª½ INSERT ... WITH cte 1 AS (SELECT ...) SELECT ... REPLACE ... WITH cte 1 AS (SELECT ...) SELECT ... CREATE TABLE ... WITH cte 1 AS (SELECT ...) SELECT ... CREATE VIEW ... WITH cte 1 AS (SELECT ...) SELECT ... DECLARE CURSOR ... WITH cte 1 AS (SELECT ...) SELECT ... EXPLAIN ... WITH cte 1 AS (SELECT ...) SELECT ... ë¹„ ì¬ê·€ì  CTE(Non-Recursive CTE) MySQL ì„œë²„ì—ì„œëŠ” ANSI í‘œì¤€ì„ ê·¸ëŒ€ë¡œ ì´ìš©í•´ì„œ WITH ì ˆì„ ì´ìš©í•´ CTEë¥¼ ì •ì˜í•œë‹¤.\nê¸°ë³¸ ì‚¬ìš©\n1 2 3 WITH cte1 AS (SELECT * FROM departments) SELECT * FROM cte1 ; CTEëŠ” WITH ì ˆë¡œ ì •ì˜í•œë‹¤. CTE ì¿¼ë¦¬ë¡œ ìƒì„±ë˜ëŠ” ì„ì‹œ í…Œì´ë¸”ì˜ ì´ë¦„ì€ WITH ë°”ë¡œ ë’¤ì— ì •ì˜í•œë‹¤. ì˜ˆì‹œ ì¿¼ë¦¬ì˜ cte1 ì„ì‹œ í…Œì´ë¸”ì€ í•œ ë²ˆë§Œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë¡œ ë°”ê¿” ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‹¤í–‰ ê³„íšê¹Œì§€ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ê°œì˜ ì„ì‹œ í…Œì´ë¸”ì„ í•˜ë‚˜ì˜ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©\n1 2 3 4 5 6 WITH cte1 AS (SELECT * FROM departments), cte2 AS (SELECT * FROM dept_emp) SELECT * FROM temp1 INNER JOIN cte2 ON cte2.dept_no = cte1.dept_no ; ì—¬ëŸ¬ ê°œì˜ CTE ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ë„ FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë¡œ ëŒ€ì²´í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ì„ì‹œ í…Œì´ë¸”ì´ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ëŠ” ë‘˜ì˜ ì‹¤í–‰ ê³„íšì´ ì¡°ê¸ˆ ë‹¬ë¼ì§„ë‹¤.\nCTEë¥¼ ì´ìš©í•œ ì‹¤í–‰ ê³„íš\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 EXPLAIN WITH cte1 AS (SELECT emp_no, MIN(from_date) FROM salaries GROUP BY emp_no) SELECT * FROM employees e INNER JOIN cte1 t1 ON t1.emp_no = e.emp_no INNER JOIN cte1 t2 ON t2.emp_no = e.emp_no ; /* +----+-------------+------------+------------+--------+-------------------+-------------+---------+-----------+--------+----------+--------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+------------+------------+--------+-------------------+-------------+---------+-----------+--------+----------+--------------------------+ | 1 | PRIMARY | \u0026lt;derived2\u0026gt; | NULL | ALL | NULL | NULL | NULL | NULL | 293568 | 100.00 | NULL | | 1 | PRIMARY | e | NULL | eq_ref | PRIMARY | PRIMARY | 4 | t1.emp_no | 1 | 100.00 | NULL | | 1 | PRIMARY | \u0026lt;derived2\u0026gt; | NULL | ref | \u0026lt;auto_key0\u0026gt; | \u0026lt;auto_key0\u0026gt; | 4 | t1.emp_no | 10 | 100.00 | NULL | | 2 | DERIVED | salaries | NULL | range | PRIMARY,ix_salary | PRIMARY | 4 | NULL | 293568 | 100.00 | Using index for group-by | +----+-------------+------------+------------+--------+-------------------+-------------+---------+-----------+--------+----------+--------------------------+ */ FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì´ìš©í•œ ì‹¤í–‰ ê³„íš\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 EXPLAIN SELECT * FROM employees e INNER JOIN (SELECT emp_no, MIN(from_date) FROM salaries GROUP BY emp_no) t1 INNER JOIN (SELECT emp_no, MIN(from_date) FROM salaries GROUP BY emp_no) t2 ; /* +----+-------------+------------+------------+-------+-------------------+---------+---------+------+--------+----------+-------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+------------+------------+-------+-------------------+---------+---------+------+--------+----------+-------------------------------+ | 1 | PRIMARY | \u0026lt;derived2\u0026gt; | NULL | ALL | NULL | NULL | NULL | NULL | 293568 | 100.00 | NULL | | 1 | PRIMARY | \u0026lt;derived3\u0026gt; | NULL | ALL | NULL | NULL | NULL | NULL | 293568 | 100.00 | Using join buffer (hash join) | | 1 | PRIMARY | e | NULL | ALL | NULL | NULL | NULL | NULL | 300269 | 100.00 | Using join buffer (hash join) | | 3 | DERIVED | salaries | NULL | range | PRIMARY,ix_salary | PRIMARY | 4 | NULL | 293568 | 100.00 | Using index for group-by | | 2 | DERIVED | salaries | NULL | range | PRIMARY,ix_salary | PRIMARY | 4 | NULL | 293568 | 100.00 | Using index for group-by | +----+-------------+------------+------------+-------+-------------------+---------+---------+------+--------+----------+-------------------------------+ */ CTEë¥¼ ì´ìš©í•œ ì¿¼ë¦¬ì—ì„œëŠ” ì„ì‹œ í…Œì´ë¸”ì„ í•œ ë²ˆë§Œ ìƒì„±í•˜ì§€ë§Œ, FROM ì ˆì— ì„œë¸Œì¿¼ë¦¬ë¥¼ ì´ìš©í•œ ì¿¼ë¦¬ì—ì„œëŠ” 2ê°œì˜ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ìœ„í•´ì„œ ê° ì„œë¸Œì¿¼ë¦¬ì—ì„œ salaries í…Œì´ë¸”ì„ ì½ì—ˆë‹¤. ì´ë¿ë§Œ ì•„ë‹ˆë¼ CTEë¡œ ìƒì„±ëœ ì„ì‹œ í…Œì´ë¸”ì€ ë‹¤ë¥¸ CTE ì¿¼ë¦¬ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„ ìˆë‹¤.\nê²°ë¡ \nCTE ì„ì‹œ í…Œì´ë¸”ì€ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ë¯€ë¡œ FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë³´ë‹¤ íš¨ìœ¨ì ì´ë‹¤. CTEë¡œ ì„ ì–¸ëœ ì„ì‹œ í…Œì´ë¸”ì„ ë‹¤ë¥¸ CTE ì¿¼ë¦¬ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤. CTEëŠ” ì„ì‹œ í…Œì´ë¸”ì˜ ìƒì„± ë¶€ë¶„ê³¼ ì‚¬ìš© ë¶€ë¶„ì˜ ì½”ë“œë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê°€ë…ì„±ì´ ë†’ë‹¤. ì¬ê·€ì  CTE(Recursive CTE) MySQL 8.0 ë¶€í„° CTEë¥¼ ì´ìš©í•œ ì¬ê·€ ì¿¼ë¦¬ê°€ ê°€ëŠ¥í•´ì¡Œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 WITH RECURSIVE cte (no) AS ( SELECT 1 UNION ALL SELECT (no + 1) FROM cte WHERE no \u0026lt; 5 ) SELECT * FROM cte; /* +------+ | no | +------+ | 1 | | 2 | | 3 | | 4 | | 5 | +------+ */ ì¬ê·€ì  CTE ì¿¼ë¦¬ëŠ” ë¹„ ì¬ê·€ì  ì¿¼ë¦¬ íŒŒíŠ¸ì™€ ì¬ê·€ì  íŒŒíŠ¸ë¡œ êµ¬ë¶„ë˜ë©°, ì´ ë‘˜ì„ UNION(UNION DISTINCT) ë˜ëŠ” UNION ALLë¡œ ì—°ê²°í•˜ëŠ” í˜•íƒœë¡œ ë°˜ë“œì‹œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤.\në¹„ì¬ê·€ì  íŒŒíŠ¸: SELECT 1 ì¬ê·€ì  íŒŒíŠ¸: UNION ALL SELECT (no + 1) FROM cte WHERE no \u0026lt; 5 ìœ„ ì˜ˆì‹œê°€ ë™ì‘í•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤.\nCTE ì¿¼ë¦¬ì˜ ë¹„ ì¬ê·€ì  íŒŒíŠ¸ì˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰ 1ë²ˆì˜ ê²°ê³¼ë¥¼ ì´ìš©í•´ cteë¼ëŠ” ì´ë¦„ì˜ ì„ì‹œ í…Œì´ë¸” ìƒì„± 1ë²ˆì˜ ê²°ê³¼ë¥¼ cteë¼ëŠ” ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥ 1ë²ˆ ê²°ê³¼ë¥¼ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•´ CTE ì¿¼ë¦¬ì˜ ì¬ê·€ì  íŒŒíŠ¸ë¥¼ ì‹¤í–‰ 4ë²ˆì˜ ê²°ê³¼ë¥¼ cteë¼ëŠ” ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥(ì´ë•Œ UNION, UNION DISTINCTì˜ ê²½ìš° ì¤‘ë³µ ì œê±°ë¥¼ ì‹¤í–‰) ì „ ë‹¨ê³„ì˜ ê²°ê³¼ë¥¼ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•´ CTE ì¿¼ë¦¬ì˜ ì¬ê·€ì  íŒŒíŠ¸ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰ 6ë²ˆ ë‹¨ê³„ì—ì„œ ì¿¼ë¦¬ ê²°ê³¼ê°€ ì—†ìœ¼ë©´ CTE ì¿¼ë¦¬ë¥¼ ì¢…ë£Œ 6ë²ˆì˜ ê²°ê³¼ë¥¼ cteë¼ëŠ” ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥ 6ë²ˆìœ¼ë¡œ ëŒì•„ê°€ ë°˜ë³µ ì‹¤í–‰ 1ë²ˆ ê³¼ì •ì—ì„œ ë§¤ìš° ì¤‘ìš”í•œ CTE ì„ì‹œ í…Œì´ë¸” êµ¬ì¡°ê°€ ê²°ì •ëœë‹¤.\nCTE í…Œì´ë¸”ì˜ êµ¬ì¡°(í…Œì´ë¸”ì˜ ì»¬ëŸ¼ëª…ê³¼ ì»¬ëŸ¼ì˜ ë°ì´í„° íƒ€ì…)ëŠ” CTE ì¿¼ë¦¬ì˜ ë¹„ ì¬ê·€ì  íŒŒíŠ¸ì˜ ê²°ê³¼ë¡œ ê²°ì •ëœë‹¤.\në¹„ ì¬ê·€ì  íŒŒíŠ¸ì˜ ê²°ê³¼ì™€ ì¬ê·€ì  íŒŒíŠ¸ì˜ ê²°ê³¼ì—ì„œ ì»¬ëŸ¼ ê°œìˆ˜ë‚˜ ì»¬ëŸ¼ íƒ€ì…, ì»¬ëŸ¼ ì´ë¦„ì´ ë‹¤ë¥¸ ê²½ìš° ë¹„ ì¬ê·€ì  íŒŒíŠ¸ì— ì •ì˜ëœ ê²°ê³¼ë¥¼ ì‚¬ìš©í•œë‹¤. CTEì˜ ë¹„ ì¬ê·€ì  ì¿¼ë¦¬ íŒŒíŠ¸ëŠ” ì´ˆê¸° ë°ì´í„°ì™€ ì„ì‹œ í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ì¤€ë¹„í•œë‹¤. ì¬ê·€ì  ì¿¼ë¦¬ íŒŒíŠ¸ì—ì„œëŠ” ì´í›„ ë°ì´í„°ë¥¼ ìƒì„±í•´ë‚´ëŠ” ì—­í• ì„ í•œë‹¤. ì¬ê·€ì  ì¿¼ë¦¬ íŒŒíŠ¸ë¥¼ ì‹¤í–‰í•  ë•ŒëŠ” ëª¨ë“  ë‹¨ê³„ì—ì„œ ë§Œë“¤ì–´ì§„ ê²°ê³¼ ì…‹ì´ ì•„ë‹ˆë¼ ì§ì „ ë‹¨ê³„ì˜ ê²°ê³¼ë§Œ ì¬ê·€ ì¿¼ë¦¬ì˜ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.\nì¬ê·€ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” CTEì—ì„œ ì£¼ì˜í•  ê²ƒì€ ë°˜ë³µ ì‹¤í–‰ì˜ ì¢…ë£Œ ì¡°ê±´ì´ë‹¤.\nëª¨ë“  ì¬ê·€ ì¿¼ë¦¬ì—ëŠ” ì¢…ë£Œ ì¡°ê±´ì´ í•„ìš”í•  ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì‹¤ì œ ì¬ê·€ ì¿¼ë¦¬ê°€ ë°˜ë³µì„ ë©ˆì¶”ëŠ” ì¡°ê±´ì€ ì¬ê·€ íŒŒíŠ¸ì˜ ê²°ê³¼ê°€ 0ê±´ì¼ ë•Œê¹Œì§€ë‹¤. ì‹¤ì œ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ëŠ” ëª‡ë‹¨ê³„ê¹Œì§€ ì¬ê·€ì ìœ¼ë¡œ ì‹¤í–‰í• ì§€ ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš°ê°€ ë” ë§ë‹¤. ë°ì´í„°ì˜ ì˜¤ë¥˜ë‚˜ ì¿¼ë¦¬ ì‘ì„±ìì˜ ì‹¤ìˆ˜ë¡œ ì¢…ë£Œ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ëª»í•´ ë¬´í•œ ë°˜ë³µí•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. cte_max_recursion_depth ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ìµœëŒ€ ë°˜ë³µ ì‹¤í–‰íšŸìˆ˜ë¥¼ ì œí•œí•  ìˆ˜ ìˆë‹¤. ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ê°’ì„ ì ì ˆíˆ ë‚®ì€ ê°’ìœ¼ë¡œ ë³€ê²½í•˜ê³ , ê¼­ í•„ìš”í•œ ì¿¼ë¦¬ì—ì„œë§Œ SET_VARíŒíŠ¸ë¥¼ ì´ìš©í•´ í•´ë‹¹ ì¿¼ë¦¬ì—ì„œë§Œ ë°˜ë³µ í˜¸ì¶œ íšŸìˆ˜ë¥¼ ëŠ˜ë¦¬ëŠ” ë°©ë²•ì„ ì¶”ì²œí•œë‹¤. CTE ì„ì‹œ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ëª…ì„ ë³€ê²½í•˜ê³ ì í•œë‹¤ë©´ CTE ë³„ëª… ë’¤ì— (...)ë¥¼ ì´ìš©í•´ ìƒˆë¡œìš´ ì´ë¦„ì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-07-26T12:08:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/4/3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/4/3/","title":"11.4 ì¿¼ë¦¬ ì‘ì„± ë° ìµœì í™” - SELECT - ì„œë¸Œì¿¼ë¦¬ (3)"},{"content":"GROUP BY GROUP BYëŠ” íŠ¹ì • ì»¬ëŸ¼ ê°’ìœ¼ë¡œ ë ˆì½”ë“œë¥¼ ê·¸ë£¨í•‘í•˜ê³ , ê·¸ë£¹ë³„ë¡œ ì§‘ê³„ëœ ê²°ê³¼ë¥¼ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¡œ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•œë‹¤.\nWITH ROLLUP GROUP BYê°€ ì‚¬ìš©ëœ ì¿¼ë¦¬ì—ì„œëŠ” ê·¸ë£¨í•‘ëœ ê·¸ë£¹ë³„ë¡œ ì†Œê³„ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ë¡¤ì—…(ROLLUP) ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ROLLUPìœ¼ë¡œ ì¶œë ¥ë˜ëŠ” ì†Œê³„ëŠ” ë‹¨ìˆœíˆ ìµœì¢… í•©ë§Œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì‚¬ìš©ëœ ì»¬ëŸ¼ì˜ ê°œìˆ˜ì— ë”°ë¼ ì†Œê³„ì˜ ë ˆë²¨ì´ ë‹¬ë¼ì§„ë‹¤.\nMySQLì˜ GROUP BY ... ROLLUP ì¿¼ë¦¬ëŠ” ì—‘ì…€ì˜ í”¼ë²— í…Œì´ë¸”ê³¼ ê±°ì˜ ë™ì¼í•œ ê¸°ëŠ¥ì´ë©°, ê²°ê³¼ì˜ ì†Œê³„ ë ˆì½”ë“œì˜ ì»¬ëŸ¼ê°’ì€ í•­ìƒ NULLë¡œ í‘œí˜„ëœë‹¤.\nì»¬ëŸ¼ 1ê°œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 SELECT dept_no, COUNT(*) FROM dept_emp GROUP BY dept_no WITH ROLLUP ; /* +---------+----------+ | dept_no | COUNT(*) | +---------+----------+ | d001 | 20211 | | d002 | 17346 | | d003 | 17786 | | d004 | 73485 | | d005 | 85707 | | d006 | 20117 | | d007 | 52245 | | d008 | 21126 | | d009 | 23580 | | NULL | 331603 | +---------+----------+ */ ì»¬ëŸ¼ 1ê°œ ì´ìƒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 SELECT first_name, last_name, COUNT(*) FROM employees GROUP BY first_name, last_name WITH ROLLUP ; /* +------------+-----------+----------+ | first_name | last_name | COUNT(*) | +------------+-----------+----------+ | Aamer | Anger | 1 | | Aamer | ... | ... | | Aamer | NULL | 228 | | Zvonko | Aamodt | 1 | | Zvonko | ... | ... | | Zvonko | NULL | 258 | | NULL | NULL | 300024 | +------------+-----------+----------+ */ MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ê·¸ë£¹ ë ˆì½”ë“œì— í‘œì‹œë˜ëŠ” NULLì„ GROUPING() í•¨ìˆ˜ë¥¼ í†µí•´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\në ˆì½”ë“œë¥¼ ì»¬ëŸ¼ìœ¼ë¡œ ë³€í™˜í•´ì„œ ì¡°íšŒ GROUP BYë‚˜ ì§‘í•© í•©ìˆ˜ë¥¼ í†µí•´ ë ˆì½”ë“œë¥¼ ê·¸ë£¨í•‘í•  ìˆ˜ ìˆì§€ë§Œ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¥¼ ì—¬ëŸ¬ ê°œì˜ ì»¬ëŸ¼ìœ¼ë¡œ ë‚˜ëˆ„ê±°ë‚˜ ë³€í™˜í•˜ëŠ” SQL ë¬¸ë²•ì€ ì—†ë‹¤.\ní•˜ì§€ë§Œ SUM(), COUNT() ê°™ì€ ì§‘í•© í•¨ìˆ˜ì™€ CASE WHEN ... END êµ¬ë¶„ì„ ì´ìš©í•´ ë ˆì½”ë“œë¥¼ ì»¬ëŸ¼ìœ¼ë¡œ ë³€í™˜í•˜ê±°ë‚˜ í•˜ë‚˜ì˜ ì»¬ëŸ¼ì„ ì¡°ê±´ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ 2ê°œ ì´ìƒì˜ ì»¬ëŸ¼ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì€ ê°€ëŠ¥í•˜ë‹¤.\në ˆì½”ë“œë¥´ ì»¬ëŸ¼ìœ¼ë¡œ ë³€í™˜ GROUP BYì˜ ê²°ê³¼ë¥¼ SUM(CASE WHEN ...) êµ¬ë¶„ì„ ì‚¬ìš©í•´ í•œ ë²ˆ ë” ë³€í™˜í•˜ë©´ ë ˆì½”ë“œë¥¼ ì»¬ëŸ¼ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 SELECT SUM(CASE WHEN dept_no=\u0026#39;1001\u0026#39; THEN emp_count ELSE 0 END) AS count_d001 , ... SUM(CASE WHEN dept_no=\u0026#39;1001\u0026#39; THEN emp_count ELSE 0 END) AS count_d009 FROM ( SELECT dept_no, COUNT(*) AS emp_count FROM dept_emp GROUP BY dept_no ) tb_dervied ; ì´ì²˜ëŸ¼ ë ˆì½”ë“œë¥¼ ì»¬ëŸ¼ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì„ í•  ë•ŒëŠ” ëª©ì ì´ë‚˜ ìš©ë„ì— ë§ê²Œ ì§‘í•© í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\nì´ ì˜ˆì œëŠ” ë¶€ì„œ ë²ˆí˜¸ê°€ ì¿¼ë¦¬ì˜ ì¼ë¶€ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ë³€ê²½ë˜ê±°ë‚˜ ì¶”ê°€ë˜ë©´ ì¿¼ë¦¬ë¥¼ ë³€ê²½í•´ì•¼ í•˜ì§€ë§Œ, ì´ëŸ° ë¶€ë¶„ì€ ë™ì  ì¿¼ë¦¬ ë“±ìœ¼ë¡œ ë³´ì™„í•  ìˆ˜ ìˆë‹¤.\ní•˜ë‚˜ì˜ ì»¬ëŸ¼ì„ ì—¬ëŸ¬ ì»¬ëŸ¼ìœ¼ë¡œ ë¶„ë¦¬ SUM(CASE WHEN ...) ë¬¸ì¥ì€ ì†Œê·¸ë£¹ì„ íŠ¹ì • ì¡°ê±´ìœ¼ë¡œ ë‚˜ëˆ  ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ìš©ë„ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nORDER BY ORDER BYëŠ” ê²€ìƒ‰ëœ ë ˆì½”ë“œë¥¼ ì–´ë–¤ ìˆœì„œë¡œ ì •ë ¬í•  ì§€ ê²°ì •í•œë‹¤. ORDER BY ì ˆì´ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ì•„ë˜ ê·œì¹™ì— ë§ì¶° ì •ë ¬ëœë‹¤.\nì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ SELECT ì¸ë±ìŠ¤ì— ì •ë ¬ëœ ìˆœì„œëŒ€ë¡œ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¨ë‹¤. í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ëŠ” SELECT MyISAM: í…Œì´ë¸”ì— ì €ì¥ëœ ìˆœì„œëŒ€ë¡œ ê°€ì ¸ì˜¨ë‹¤. InnoDB: í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ í´ëŸ¬ìŠ¤í„°ë§ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ìˆœì„œëŒ€ë¡œ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì„ì‹œ í…Œì´ë¸”ë¡œ ì²˜ë¦¬ë˜ëŠ” SELECT ì¡°íšŒë˜ëŠ” ë ˆì½”ë“œì˜ ìˆœì„œë¥¼ ì˜ˆì¸¡í•˜ê¸° ì–´ë µë‹¤. ORDER BYì ˆì´ ì—†ëŠ” SELECT ì¿¼ë¦¬ ê²°ê³¼ì˜ ìˆœì„œëŠ” ì²˜ë¦¬ ì ˆì°¨ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ì–´ë–¤ DBMSë„ ORDER BY ì ˆì´ ëª…ì‹œë˜ì§€ ì•Šì€ ì¿¼ë¦¬ì— ëŒ€í•´ ì •ë ¬ì„ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì •ë ¬ì´ í•„ìš”í•œ ê³³ì—ì„œëŠ” ORDER BY ì ˆì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.\nì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ORDER BY ORDER BYì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•  ë•ŒëŠ” ì¶”ê°€ ì •ë ¬ ì‘ì—…ì´ ìˆ˜í–‰ë˜ë©°, ì¿¼ë¦¬ ì‹¤í–‰ ê³„íšì— ìˆëŠ” Extra ì»¬ëŸ¼ì— \u0026ldquo;Using Filesort\u0026rdquo; ì½”ë©˜íŠ¸ê°€ ë…¸ì¶œëœë‹¤.\n\u0026ldquo;filesort\u0026quot;ì˜ \u0026ldquo;file\u0026quot;ì€ ë””ìŠ¤í¬ì˜ íŒŒì¼ì„ ì´ìš©í•´ ì •ë ¬ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ì˜ë¯¸ê°€ ì•„ë‹Œ MySQL ì„œë²„ê°€ ëª…ì‹œì ìœ¼ë¡œ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ìˆ˜í–‰í–ˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì •ë ¬ ëŒ€ìƒì´ ë§ì€ ê²½ìš° ì—¬ëŸ¬ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•˜ëŠ”ë°, ì •ë ¬ëœ ê²°ê³¼ë¥¼ ì„ì‹œë¡œ ë””ìŠ¤í¬ë‚˜ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ ë‘”ë‹¤.\nì‹¤ì œë¡œ ë©”ëª¨ë¦¬ë§Œ ì´ìš©í•´ ì •ë ¬ì´ ìˆ˜í–‰ë˜ì—ˆëŠ”ì§€ëŠ” MySQL ì„œë²„ ìƒíƒœê°’ì„ í™•ì¸í•´ë³´ë©´ ì•Œ ìˆ˜ ìˆë‹¤. ORDER BY ì‚¬ìš©ë²• ë° ì£¼ì˜ì‚¬í•­ ORDER BY ì ˆì€ 1ê°œ ì´ìƒì˜ ì»¬ëŸ¼ìœ¼ë¡œ ì •ë ¬ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°, ì •ë ¬ ìˆœì„œëŠ” ì»¬ëŸ¼ë³„ë¡œ ë‹¤ë¥´ê²Œ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì •ë ¬í•  ëŒ€ìƒì€ ì»¬ëŸ¼ëª…ì´ë‚˜ í‘œí˜„ì‹ìœ¼ë¡œ ëª…ì‹œí•˜ì§€ë§Œ, SELECTë˜ëŠ” ì»¬ëŸ¼ì˜ ìˆœë²ˆì„ ëª…ì‹œí•  ìˆ˜ë„ ìˆë‹¤.\nì´ëŸ¬í•œ ê²½ìš° ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìì—´ì„ ì‚¬ìš©í•  ê²½ìš° ORDER BY ì ˆ ìì²´ê°€ ë¬´ì‹œëœë‹¤. ì»¬ëŸ¼ ëª…ì´ë¼ê³  í•˜ë”ë¼ë„ ë¬¸ì ë¦¬í„°ëŸ´ì´ ì‚¬ìš©ëœë‹¤ë©´ ë¬´ì‹œëœë‹¤. ì—¬ëŸ¬ ë°©í–¥ìœ¼ë¡œ ë™ì‹œ ì •ë ¬ MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ì˜¤ë¦„ì°¨ìˆœê³¼ ë‚´ë¦¼ì°¨ìˆœì„ í˜¼ìš©í•´ì„œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\n1 ALTER TABLE salaries ADD INDEX ix_salary_fromdate (salary DESC, from_date ASC); ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì˜ˆì‹œ í…Œì´ë¸”ì„ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œë§Œ ì¡°íšŒí•˜ëŠ” ê²½ìš° 2ê°œì˜ ì¸ë±ìŠ¤ ì¤‘ í•˜ë‚˜ë§Œ ìˆì–´ë„ ì˜µí‹°ë§ˆì´ì €ëŠ” ì ì ˆíˆ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ì •ë ¬í•  ìˆ˜ ìˆê²Œ ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 SELECT * FROM salaries ORDER BY salary DESC LIMIT 10 ; 1 2 ALTER TABLE salaries ADD INDEX ix_salary_asc (salary ASC); ALTER TABLE salaries ADD INDEX ix_salary_desc (salary DESC); í•˜ì§€ë§Œ ì¿¼ë¦¬ê°€ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œë§Œ ë ˆì½”ë“œë¥¼ ì •ë ¬í•´ì„œ ê°€ì ¸ê°„ë‹¤ë©´ ì¸ë±ìŠ¤ëŠ” ë‹¹ì—°íˆ DESCë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ní•¨ìˆ˜ë‚˜ í‘œí˜„ì‹ì„ ì´ìš©í•œ ì •ë ¬ í•˜ë‚˜ ì´ìƒì˜ ì»¬ëŸ¼ ì—°ì‚° ê²°ê³¼ë¥¼ ì´ìš©í•œ ì •ë ¬ë„ ê°€ëŠ¥í•˜ë‹¤.\nMySQL 8.0 ì´ì „ê¹Œì§€ëŠ” ì—°ì‚° ê²°ê³¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ê¸° ìœ„í•´ì„œ ê°€ìƒ ì»¬ëŸ¼(Virtual Column)ì„ ì¶”ê°€í•˜ê³  ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í–ˆì§€ë§Œ, í•¨ìˆ˜ ê¸°ë°˜ì˜ ì¸ë±ìŠ¤ë¥¼ ì§€ì›í•˜ê¸° ì‹œì‘í–ˆë‹¤.\n","date":"2023-07-26T12:08:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/4/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/4/2/","title":"11.4 ì¿¼ë¦¬ ì‘ì„± ë° ìµœì í™” - SELECT (2)"},{"content":"ìŠ¤í„°ë””ë¥¼ ìœ„í•´ Real MySQL 8.0ë¥¼ ì£¼ì œë¡œ í•™ìŠµì„ ì§„í–‰ì¤‘ 11.4.7.3 OUTER JOINì˜ ì„±ëŠ¥ê³¼ ì£¼ì˜ì‚¬í•­ ë¶€ë¶„ì—ì„œ \u0026quot;OUTER JOINì„ ì‚¬ìš©í•  ë•Œ ë“œë¦¬ë¸ í…Œì´ë¸”ì— WHERE ì¡°ê±´ ì ìš© ì‹œ INNER JOINìœ¼ë¡œ ë³€ê²½ë˜ì–´ ì‹¤í–‰ë˜ë‹ˆ ì£¼ì˜í•´ì•¼ í•œë‹¤.\u0026quot; ë¼ëŠ” ë‚´ìš©ê³¼ ì˜ˆì‹œê°€ ìˆì—ˆëŠ”ë°, í•´ë‹¹ ë¶€ë¶„ì´ ì´í•´ê°€ ì˜ ì•ˆë˜ì—ˆìŠµë‹ˆë‹¤.\nê´€ë ¨ ìë£Œë¥¼ ì°¾ì•„ë³´ì•˜ìœ¼ë‚˜, ì‹¤í–‰ ê³„íšì—ì„œ OUTER JOINì´ INNER JOINìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ì´ìœ ë¥¼ ì„¤ëª…í•œ ìë£ŒëŠ” ëª» ì°¾ì•˜ê³ , í™•ì¸í•œ ëª¨ë“  ê¸€ì—ì„œ WHERE, ONì ˆ ì¡°ê±´ì„ ì²˜ë¦¬í•˜ëŠ” ìˆœì„œê°€ ë˜ëŠ” ë²”ìœ„ê°€ ë‹¤ë¥´ë‹¤. ë¼ëŠ” ê°„ëµí•œ ì„¤ëª…ë§Œ í•˜ê³  ìˆì–´ ë” ì •í™•í•œ ë‚´ìš©ë“¤ì„ ì•Œë ¤ë“œë¦´ ìˆ˜ ìˆì„ê¹Œ ì‹¶ì–´ ì œê°€ ì´í•´í•œ ë‚´ìš©ì„ ê¸°ë¡í•©ë‹ˆë‹¤.\nì±…ì˜ ì˜ˆì‹œ ì¿¼ë¦¬ì™€ Real MySQL 8.0 í•™ìŠµ ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\ní…Œì´ë¸” êµ¬ì¡° ì˜ˆì‹œë¡œ ì‚¬ìš©ë˜ëŠ” í…Œì´ë¸”ì˜ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nerDiagram EMPLOYEES ||--o{ DEPT_MANAGER: \"\" EMPLOYEES { emp_no int pk birth_date date first_name varchar last_name varchar gender enum hire_date date } DEPARTMENTS ||--o{ DEPT_MANAGER: \"\" DEPARTMENTS { dept_no char pk dept_name varchar emp_count int } DEPT_MANAGER { dept_no char pk, fk emp_no int pk, fk from_date date to_date date } ì¡°ì¸ ì²˜ë¦¬ ê³¼ì • ì¡°ì¸ ì‘ì—…ì€ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì„ ìŠ¤ìº”í•˜ê³ , ìŠ¤ìº”í•œ ë“œë¼ì´ë¹™ í…Œì´ë¸” ë ˆì½”ë“œì˜ ì¡°ì¸ ì»¬ëŸ¼ìœ¼ë¡œ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ë ˆì½”ë“œì— ëŒ€í•´ íƒìƒ‰ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.\nì¸ë±ìŠ¤ëŠ” ì´ë¯¸ ì •ë ¬ëœ ê°’ì„ ê°€ì§€ê¸° ë•Œë¬¸ì— ë¹ ë¥¸ ì†ë„ë¥¼ ë³´ì¥í•˜ì§€ë§Œ, ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ê²½ìš°ë¼ê³  í•˜ë”ë¼ë„ ì—¬ëŸ¬ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¤ëŠ” ìƒí™©ì—ì„œëŠ” ì¸ë±ìŠ¤ì˜ íŠ¹ì • ë²”ìœ„ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¸ë±ìŠ¤ ìŠ¤ìº” ì‘ì—… ë³´ë‹¤, ì¸ë±ìŠ¤ ê°’ì„ í•˜ë‚˜ì”© ë¹„êµí•´ì„œ ë°˜ë³µì ìœ¼ë¡œ ê°€ì ¸ì˜¤ëŠ” íƒìƒ‰ ì‘ì—…ì´ ìƒëŒ€ì ìœ¼ë¡œ ë¶€í•˜ê°€ ë†’ìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ì˜µí‹°ë§ˆì´ì €ëŠ” í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€ë‚˜ í…Œì´ë¸” ë ˆì½”ë“œ ê°œìˆ˜ ê°™ì€ í†µê³„ ì •ë³´ë¥¼ í™œìš©í•˜ì—¬ ë” ë¹ ë¥´ê²Œ ì²˜ë¦¬ë  ìˆ˜ ìˆëŠ” í…Œì´ë¸”ì„ ë“œë¦¬ë¸ í…Œì´ë¸”ë¡œ ì„ íƒí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìµœì í™”ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\nì´ë„ˆ ì¡°ì¸ê³¼ ì•„ìš°í„° ì¡°ì¸ì˜ ì°¨ì´ ì˜µí‹°ë§ˆì´ì €ì—ì„œ ì´ë„ˆ ì¡°ì¸ì€ ì˜µí‹°ë§ˆì´ì €ì— ì˜í•´ ë“œë¼ì´ë¹™, ë“œë¦¬ë¸ í…Œì´ë¸”ì´ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ë°˜ë©´ ì•„ìš°í„° ì¡°ì¸(LEFT JOIN, RIGHT JOIN)ì€ ëŒ€ìƒ í…Œì´ë¸”ì„ ê¸°ì¤€ìœ¼ë¡œ ì¡°íšŒë  ë ˆì½”ë“œë“¤ì´ ê²°ì •ë˜ë¯€ë¡œ í…Œì´ë¸”ì˜ ì¡°ì¸ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ(ì´ë¯¸ ê²°ì •ëœ ìˆœì„œì´ë¯€ë¡œ) í…Œì´ë¸” ì¡°ì¸ ìˆœì„œì— ì˜í•œ ìµœì í™”ëŠ” ë°œìƒí•˜ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤.\nì¦‰, ì´ë„ˆ ì¡°ì¸ì€ ì—¬ëŸ¬ ìƒí™©ì„ ê³ ë ¤í•˜ì—¬ ë” íš¨ìœ¨ì ì¸ í…Œì´ë¸”ì„ ë“œë¦¬ë¸ í…Œì´ë¸”ë¡œ ê²°ì •í•˜ì§€ë§Œ, ì•„ìš°í„° ì¡°ì¸ì€ ëŒ€ìƒ í…Œì´ë¸”ì„ ê¸°ì¤€ìœ¼ë¡œ ë ˆì½”ë“œë¥¼ ì„ íƒí•˜ê¸° ë•Œë¬¸ì— ë“œë¼ì´ë¹™ í…Œì´ë¸”ì´ ê²°ì •ë˜ë¯€ë¡œ í…Œì´ë¸” ì¡°ì¸ ìˆœì„œì— ì˜í•œ ìµœì í™”ë¥¼ ì§„í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\nì¿¼ë¦¬ ë¶„ì„ ì•„ìš°í„° ì¡°ì¸ì„ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ì—ì„œ ë“œë¦¬ë¸ í…Œì´ë¸”ì— ëŒ€í•œ ì¡°ê±´ì„ WHERE ì ˆì— ëª…ì‹œí•˜ë©´ INNER JOINìœ¼ë¡œ ë³€ê²½ë˜ì–´ ì²˜ë¦¬ëœë‹¤ê³  í•˜ëŠ”ë°, EXPLAIN ANALYZE ëª…ë ¹ìœ¼ë¡œ ì˜ˆì‹œ ì¿¼ë¦¬ê°€ ì–´ë–¤ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\nLEFT JOIN + WHERE ì¡°ê±´ 1 2 3 4 5 6 7 8 9 10 11 12 13 EXPLAIN ANALYZE SELECT * FROM employees e LEFT JOIN dept_manager mgr ON mgr.emp_no = e.emp_no WHERE mgr.dept_no=\u0026#39;d001\u0026#39; ; /* -\u0026gt; Nested loop inner join (cost=2.89 rows=2) (actual time=0.196..0.207 rows=2 loops=1) -\u0026gt; Filter: (mgr.emp_no is not null) (cost=0.7 rows=2) (actual time=0.0439..0.0504 rows=2 loops=1) -\u0026gt; Index lookup on mgr using PRIMARY (dept_no=\u0026#39;d001\u0026#39;) (cost=0.7 rows=2) (actual time=0.0425..0.0488 rows=2 loops=1) -\u0026gt; Single-row index lookup on e using PRIMARY (emp_no=mgr.emp_no) (cost=1.04 rows=1) (actual time=0.077..0.077 rows=1 loops=2) */ WHERE ì¡°ê±´ìœ¼ë¡œ ì²˜ë¦¬í•œ ì¿¼ë¦¬ê°€ Nested loop inner joinìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤. dept_manager í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•˜ì˜€ê³ , mgr.emp_no is not null ì¡°ê±´ì„ í†µí•´ í•„í„°ë§í•œ í›„, dept_no='d001' ì¡°ê±´ì„ í†µí•´ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³  employees í…Œì´ë¸”ì— ëŒ€í•´ ì¡°ì¸ ì»¬ëŸ¼ì¸ emp_no=mgr.emp_no ì´ìš©í•´ ì¸ë±ìŠ¤ íƒìƒ‰ì„ ìˆ˜í–‰í•˜ì—¬ ì¡°ì¸ì„ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤.\ndept_manager í…Œì´ë¸”ì— ëŒ€í•œ mgr.emp_no is not null í•„í„° ì²˜ë¦¬ëŠ” ì‹¤í–‰ ê³„íš ë³€ê²½ìœ¼ë¡œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ëª»ëœ ë°ì´í„°ë¥¼ ë°©ì§€í•˜ëŠ” ì°¨ì›ì—ì„œ ì¶”ê°€ì‹œí‚¤ëŠ” ê²ƒì´ ì•„ë‹Œê°€ ì¶”ì¸¡í•´ë´…ë‹ˆë‹¤.\n(ì°¸ê³ ë¡œ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ëª¨ë“  ì»¬ëŸ¼ì˜ ì¡°ê±´ì—ì„œ ê°™ì€ ì²˜ë¦¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.)\nINNER JOIN ì±…ì—ì„œëŠ” ì¿¼ë¦¬ë¥¼ INNER JOINìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì‹¤í–‰í•œë‹¤ê³  ì–¸ê¸‰í–ˆëŠ”ë°, ì‹¤ì œë¡œ ê·¸ëŸ´ê¹Œìš”? INNER JOINìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì‹¤í–‰ ê³„íšì„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 EXPLAIN ANALYZE SELECT * FROM employees e INNER JOIN dept_manager mgr ON mgr.emp_no = e.emp_no WHERE mgr.dept_no=\u0026#39;d001\u0026#39; ; /* -\u0026gt; Nested loop inner join (cost=1.4 rows=2) (actual time=0.0411..0.0482 rows=2 loops=1) -\u0026gt; Index lookup on mgr using PRIMARY (dept_no=\u0026#39;d001\u0026#39;) (cost=0.7 rows=2) (actual time=0.025..0.0287 rows=2 loops=1) -\u0026gt; Single-row index lookup on e using PRIMARY (emp_no=mgr.emp_no) (cost=0.3 rows=1) (actual time=0.00877..0.00881 rows=1 loops=2) */ ê±°ì˜ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ, INNER JOINìœ¼ë¡œ ì‹¤í–‰í•œ ì¿¼ë¦¬ëŠ” dept_manager í…Œì´ë¸”ì„ mgr.emp_no is not null ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§í•˜ëŠ” ì²˜ë¦¬ê°€ ì—†ë‹¤ëŠ” ì ì´ ë‹¤ë¦…ë‹ˆë‹¤.\nê·¸ë˜ì„œ ì´ìœ ëŠ”? ê·¸ë¦¼ì—ì„œ ë³´ì´ë“¯ ì•ˆí‹° ì¡°ì¸ì´ ì•„ë‹Œ ì•„ìš°í„° ì¡°ì¸(LEFT JOIN,OUTER JOIN)ì€ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë§Œ ì·¨í•˜ëŠ” ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ì¡°ì¸ë˜ëŠ” ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ë ˆì½”ë“œê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° ì•Œ ìˆ˜ ì—†ë‹¤ëŠ” ì˜ë¯¸ì˜ NULLì„ ì±„ì›Œ ë°˜í™˜í•˜ê²Œ ë©ë‹ˆë‹¤.\nì•„ìš°í„° ì¡°ì¸ì˜ WHERE ì ˆì—ì„œ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì„ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ \u0026ldquo;ì•„ìš°í„° ì¡°ì¸ëœ ê²°ê³¼ì—ì„œ íŠ¹ì • ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§ ì²˜ë¦¬ë¥¼ í•œë‹¤\u0026rdquo; ë¼ëŠ” ì˜ë¯¸ë¡œ ë§ì´ í•´ì„ë˜ëŠ” ê²ƒ ê°™ì€ë° ì´ëŠ” ì‚¬ì‹¤ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í•˜ëŠ” í‘œí˜„ì€ ì•„ë‹™ë‹ˆë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ ì¡°ì¸ ê²°ê³¼ì˜ ë“œë¦¬ë¸ í…Œì´ë¸” ì»¬ëŸ¼ì— ëŒ€í•´ IS NULLì„ ì œì™¸í•œ ëª¨ë“  ì¡°ê±´ì´ ì¡´ì¬í•œë‹¤ëŠ” ìì²´ê°€ ì•„ìš°í„° ì¡°ì¸ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ì¡°ì¸ ê²°ê³¼ë¬¼ì˜ í•´ë‹¹ ì»¬ëŸ¼ ê°’ì´ ì¡°ì¸ ê²°ê³¼ê°€ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ê°€ì •í•˜ê³ , ì´ëŠ” ë“œë¼ì´ë¹™ í…Œì´ë¸”ê³¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ êµì§‘í•©ì„ ì˜ë¯¸í•˜ëŠ” INNER JOIN ê²°ê³¼ì— ì¡°ê±´ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ë§Œë“¤ê²Œ ë©ë‹ˆë‹¤.\nì˜µí‹°ë§ˆì´ì €ê°€ ì•„ìš°í„° ì¡°ì¸ì„ INNER JOINìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì•„ìš°í„° ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì„ ëª¨ë‘ ì½ê³  êµì§‘í•©ì´ ì•„ë‹Œ ë“œë¦¬ë¸ í…Œì´ë¸” ì˜ì—­ì— ëŒ€í•´ì„œ NULLì„ ì±„ì›Œì£¼ëŠ” ì²˜ë¦¬ í›„ WHERE ì¡°ê±´ì„ ì´ìš©í•œ í•„í„°ë§ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ë³´ë‹¤ íš¨ìœ¨ì ì´ê³ , ì¡°ì¸ í…Œì´ë¸” ìˆœì„œ ë³€ê²½ì— ì˜í•œ ìµœì í™”ë„ ê°€ëŠ¥í•˜ë¯€ë¡œ í•©ë¦¬ì ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.\në°˜ëŒ€ë¡œ í•´ë‹¹ ì»¬ëŸ¼ì´ NULLì„ì„ í™•ì¸í•´ì•¼í•˜ëŠ” ì•ˆí‹° ì¡°ì¸ì€ ì•„ìš°í„° ì¡°ì¸ ì²˜ë¦¬ê°€ í•„ìš”í•˜ë¯€ë¡œ ì´ë„ˆ ì¡°ì¸ìœ¼ë¡œ ë³€ê²½ì´ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nì •ë¦¬ ì•„ìš°í„° ì¡°ì¸ì˜ ëª©ì ì€ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•˜ë˜, ë“œë¦¬ë¸ í…Œì´ë¸” ëŒ€ìƒì´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì— ì—†ë‹¤ë©´ NULLì„ ì±„ìš°ê¸° ìœ„í•¨ì…ë‹ˆë‹¤. ì˜ˆì‹œ ì¿¼ë¦¬ì—ì„œ ONì„ ì‚¬ìš©í•˜ì—¬ ì•„ìš°í„° ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬í•œ ê²½ìš° ì§ì›ë“¤ì„ ë³´ëŠ”ë° íŠ¹ì • ë¶€ì„œë¥¼ ì œì™¸í•œ ê´€ë¦¬ì ì—¬ë¶€ê¹Œì§€ í™•ì¸í•˜ê³  ì‹¶ì–´(NULLì´ ì•„ë‹ˆë©´ ê´€ë¦¬ì ì˜ë¯¸) ì•„ìš°í„° ì¡°ì¸ì˜ ë“œë¦¬ë¸ í…Œì´ë¸” ì˜ì—­ ì»¬ëŸ¼ì— IS NULLì„ ì œì™¸í•œ ëª¨ë“  WHERE ì¡°ê±´ì€ ì‚¬ì‹¤ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ì»¬ëŸ¼ì´ NULLì´ ì•„ë‹˜ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì´ëŠ” ì´ë„ˆ ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ë„ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ê³ , ë” íš¨ìœ¨ì  ì²˜ë¦¬í•  ì—¬ì§€ê°€ ìˆê¸° ë•Œë¬¸ì— ì˜µí‹°ë§ˆì´ì €ê°€ ì•„ìš°í„° ì¡°ì¸ì„ ì´ë„ˆ ì¡°ì¸ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. ì•„ìš°í„° ì¡°ì¸ì´ ì´ë„ˆ ì¡°ì¸ìœ¼ë¡œ ë³€ê²½ë˜ê²Œ ë˜ë©´ ì˜¤ì‘ë™ì„ ì˜ˆë°©í•˜ê¸° ìœ„í•œ ì²˜ë¦¬ë¡œ ì„±ëŠ¥ì— ì†í•´ê°€ ìˆì„ ìˆ˜ ìˆê³ (ì¶”ì¸¡), ì˜ëª»ëœ ì¿¼ë¦¬ í•´ì„ ì˜ˆë°©ì„ ìœ„í•´ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ WHERHE ì¡°ê±´ì„ ì‚¬ìš©í•˜ëŠ” OUTER JOIN ì¿¼ë¦¬ëŠ” ëª¨ë‘ INNER JOINë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ","date":"2023-07-25T11:52:14+09:00","image":"https://codemario318.github.io/post/db/where-on/cover_hu3d445aeca10173b7df51d6f3cd6c9292_48066_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/db/where-on/","title":"OUTER JOINì˜ WHERE, ON ì²˜ë¦¬ì— ëŒ€í•œ ì˜¤í•´ì™€ ì§„ì‹¤"},{"content":"ì›¹ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ì¼ë°˜ì ì¸ ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ í™˜ê²½ì˜ ë°ì´í„° ë² ì´ìŠ¤ì—ì„œëŠ” INSERT, UPDATE ê°™ì€ ì‘ì—…ì€ ë ˆì½”ë“œ ë‹¨ìœ„ë¡œ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ì´ìŠˆê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ” ë§¤ìš° ì ë‹¤.\ní•˜ì§€ë§Œ SELECTëŠ” ì—¬ëŸ¬ê°œì˜ í…Œì´ë¸”ë¡œ ë¶€í„° ë°ì´í„°ë¥¼ ì¡°í•©í•´ì„œ ë¹ ë¥´ê²Œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„ ì—¬ëŸ¬ê°œì˜ í…Œì´ë¸”ì„ ì–´ë–»ê²Œ ì½ëŠëƒì— ë”°ë¼ ì„±ëŠ¥ ì´ìŠˆê°€ ìì£¼ ë°œìƒí•˜ê²Œ ëœë‹¤.\nSELECT ì ˆì˜ ì²˜ë¦¬ ìˆœì„œ 1 2 3 4 5 6 7 8 9 SELECT s.emp_no, COUNT(DISTINCT e.first_name) AS cnt FROM salaries s INNER JOIN employees e ON e.emp_no=s.emp_no WHERE s.emp_no IN (100001, 100002) GROUP BY s.emp_no HAVING AVG(s.salary) \u0026gt; 1000 ORDER BY AVG(s.salary) LIMIT 10 ; SELECT ì¿¼ë¦¬ì—ì„œ ì–´ëŠ ì ˆì´ ë¨¼ì € ì‹¤í–‰ë ì§€ ì˜ˆì¸¡í•˜ì§€ ëª»í•  ë•Œê°€ ìˆëŠ”ë°, ì–´ëŠ ì ˆì´ ë¨¼ì € ì‹¤í–‰ë˜ëŠ”ì§€ ëª¨ë¥¸ë‹¤ë©´ ì²˜ë¦¬ ë‚´ìš©, ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ì—†ë‹¤.\nflowchart LR subgraph FIRST [\"WHERE ì ìš© ë° ì¡°ì¸ ì‹¤í–‰\"] direction TB A(ë“œë¼ì´ë¹™ í…Œì´ë¸”) -.-\u003e B(ë“œë¦¬ë¸ í…Œì´ë¸” 1) -.-\u003e C(ë“œë¦¬ë¸ í…Œì´ë¸” 2) end FIRST --\u003e D(\"GROUP BY\") --\u003e E(\"DISTINCT\") --\u003e F(\"HAVING ì¡°ê±´ ì ìš©\") --\u003e G(\"ORDER BY\") --\u003e H(\"LIMIT\") ëŒ€ë¶€ë¶„ ìœ„ ìˆœì„œëŒ€ë¡œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ëœë‹¤. ë˜í•œ SQLì—ëŠ” ORDER BYë‚˜ GROUP BY ì ˆì´ ìˆë”ë¼ë„ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì²˜ë¦¬í•  ë•ŒëŠ” ê·¸ ë‹¨ê³„ ìì²´ê°€ ë¶ˆí•„ìš”í•˜ë¯€ë¡œ ìƒëµëœë‹¤.\nflowchart LR subgraph FIRST [\"WHERE ì ìš©\"] A(ë“œë¼ì´ë¹™ í…Œì´ë¸”) end subgraph SECOND [\"ì¡°ì¸ ì‹¤í–‰\"] direction TB B(ë“œë¦¬ë¸ í…Œì´ë¸” 1) -.-\u003e C(ë“œë¦¬ë¸ í…Œì´ë¸” 2) end FIRST --\u003e G(\"ORDER BY\") --\u003e SECOND --\u003e H(\"LIMIT\") GROUP BY ì ˆì´ ì—†ì´ ORDER BYë§Œ ì‚¬ìš©ëœ ì¿¼ë¦¬ê°™ì€ ê²½ìš° ì²« ë²ˆì§¸ í…Œì´ë¸”ë§Œ ì½ì–´ ì •ë ¬ì„ ìˆ˜í–‰í•œ ë’¤ ë‚˜ë¨¸ì§€ í…Œì´ë¸”ì„ ì½ëŠ”ë‹¤.\nìœ„ì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ë²—ì–´ë‚˜ëŠ” ì¿¼ë¦¬ê°€ í•„ìš”í•˜ë‹¤ë©´ ì„œë¸Œì¿¼ë¦¬ë¡œ ì‘ì„±ëœ ì¸ë¼ì¸ ë·°(Inline View)ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì˜ˆì‹œ ì¿¼ë¦¬ì—ì„œ LIMITë¥¼ ë¨¼ì € ì ìš©í•˜ê³  ORDER BYë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 SELECT emp_no,cnt FROM ( SELECT s.emp_no ,COUNT(DISTINCT e.first_name) AS cnt ,MAX(s.salary) AS max_salary FROM salaries s INNER JOIN employees e ON e.emp_no=s.emp_no WHERE s.emp_no IN (100001, 100002) GROUP BY s.emp_no HAVING MAX(s.salary) \u0026gt; 1000 LIMIT 10 ) temp_view ORDER BY max_salary ; LIMITë¥¼ GROUP BYì „ ì‹¤í–‰í•˜ê³ ì í• ë•Œë„ ì„œë¸Œì¿¼ë¦¬ë¡œ ì¸ë¼ì¸ ë·°ë¥¼ ë§Œë“¤ì–´, ë·° ì•ˆì—ì„œ LIMIT ë¥¼ ì •ìš©í•˜ê³  ë°”ê¹¥ ì¿¼ë¦¬ì—ì„œ GROUP BY, ORDER BYë¥¼ ì ìš©í•´ì•¼ í•œë‹¤.\nì¸ë¼ì¸ ë·°ê°€ ì‚¬ìš©ë˜ë©´ ì„ì‹œ í…Œì´ë¸”ì´ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\nì¸ë±ìŠ¤ ì‚¬ìš©ì„ ìœ„í•œ ê¸°ë³¸ ê·œì¹™ ì¸ë±ìŠ¤ëŠ” B-Treeì— ì»¬ëŸ¼ì˜ ê°’ì„ ì•„ë¬´ëŸ° ë³€í™˜ ì—†ì´ ì •ë ¬í•˜ì—¬ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ì›ë³¸ ê°’ì„ ì´ìš©í•  ë•Œë§Œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\në”°ë¼ì„œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì¸ë±ìŠ¤ëœ ì»¬ëŸ¼ì˜ ê°’ ìì²´ë¥¼ ë³€í™˜í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤ëŠ” ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 /* ì¸ë±ìŠ¤ ì‚¬ìš© ë¶ˆê°€*/ SELECT * FROM salaries WHERE salary*10 \u0026gt; 150000; /* ì¸ë±ìŠ¤ ì‚¬ìš© ê°€ëŠ¥ */ SELECT * FROM salaries WHERE salary \u0026gt; 150000/10; ë³µì¡í•œ ì—°ì‚°ì„ ìˆ˜í–‰í•œë‹¤ê±°ë‚˜ MD5 í•¨ìˆ˜ì™€ ê°™ì´ í•´ì‹œ ê°’ì„ ë§Œë“¤ì–´ ë¹„êµí•´ì•¼ í•˜ëŠ” ê²½ìš°ë¼ë©´ ë¯¸ë¦¬ ê³„ì‚°ëœ ê°’ì„ ì €ì¥í•˜ë„ë¡ MySQL ê°€ìƒ ì»¬ëŸ¼(Virtual Column)ì„ ì¶”ê°€í•˜ê³  ê·¸ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ê±°ë‚˜ í•¨ìˆ˜ ê¸°ë°˜ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\nì €ì¥í•˜ê³ ì í•˜ëŠ” ê°’ì˜ íƒ€ì…ì— ë§ì¶° ì»¬ëŸ¼ì˜ íƒ€ì…ì„ ì„ ì •í•˜ê³ , ì¿¼ë¦¬ ì‘ì„±ì‹œ ë°ì´í„°ì˜ íƒ€ì…ì— ë§ì¶° ë¹„êµ ì¡°ê±´ì„ ì‚¬ìš©í•´ì•¼í•˜ë©°, ë°ì´í„° íƒ€ì…ì´ ì¡°ê¸ˆì´ë¼ë„ ë‹¤ë¥¸ ê²½ìš° ìµœì í™”ë˜ì§€ ëª»í•˜ëŠ” í˜„ìƒì€ MySQL ì„œë²„ì˜ ë²„ì „ì´ ì—…ê·¸ë ˆì´ë“œëœë‹¤ê³  í•´ì„œ í•´ê²°ë  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì´ ì•„ë‹ˆë¯€ë¡œ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\nWHERE WHERE ì¡°ê±´ì´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ í¬ê²Œ ì‘ì—… ë²”ìœ„ ê²°ì • ì¡°ê±´ê³¼ ì²´í¬ ì¡°ê±´ ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\nê·¸ ì¤‘ ì‘ì—… ë²”ìœ„ ê²°ì • ì¡°ê±´ì€ ë™ë“± ë¹„êµ ì¡°ê±´ì´ë‚˜ INìœ¼ë¡œ êµ¬ì„±ëœ ì¡°ê±´ì— ì‚¬ìš©ëœ ì»¬ëŸ¼ë“¤ì´ ì¸ë±ìŠ¤ì˜ ì»¬ëŸ¼ êµ¬ì„±ê³¼ ì¢Œì¸¡ì—ì„œë¶€í„° ë¹„êµí–ˆì„ ë•Œ ì–¼ë§ˆë‚˜ ì¼ì¹˜í•˜ëŠ”ê°€ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.\nflowchart TB subgraph SA [ì¸ë±ìŠ¤ ì»¬ëŸ¼ ìˆœì„œ] direction LR saa(COL_1) ~~~ sab(COL_2) ~~~ sac(COL_3) ~~~ sad(COL_4) end subgraph SB [WHERE ì¡°ê±´ì ˆ ì»¬ëŸ¼ ìˆœì„œ] direction LR sba(COL_2 = ?) ~~~ sbb(COL_4 = ?) ~~~ sbc(COL_3 \u003e ?) ~~~ sbd(COL_1 = ?) end SA ~~~ SB %% sba --\u003e sab %% sbb -.-\u003e sad %% sbc --\u003e sac %% sbd --\u003e saa WHEREì ˆì—ì„œ ì¡°ê±´ì ˆì— ë‚˜ì—´ëœ ìˆœì„œê°€ ì¸ë±ìŠ¤ì™€ ë‹¤ë¥´ë”ë¼ë„ ì˜µí‹°ë§ˆì´ì €ëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ë“¤ì„ ë½‘ì•„ì„œ ìµœì í™”ë¥¼ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ëœ ì¡°ê±´ì˜ ìˆœì„œëŠ” ì‹¤ì œ ì¸ë±ìŠ¤ ì‚¬ìš©ê³¼ ë¬´ê´€í•˜ë‹¤.\në™ë“± ë¹„êµ ì¡°ê±´: COL_1, COL_2 ë²”ìœ„ ë¹„êµ ì¡°ê±´: COL_3 ì²´í¬ì¡°ê±´: COL_4 ì§ì „ ì»¬ëŸ¼ì¸ COL_3ê°€ ë™ë“± ë¹„êµ ì¡°ê±´ì´ ì•„ë‹ˆë¼ ë²”ìœ„ ë¹„êµ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆê¸° ë•Œë¬¸ì— ì‘ì—…ë²”ìœ„ ê²°ì • ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤. WHERE ì ˆì˜ ì¡°ê±´ì€ GROUP BY, ORDER BYì™€ ë‹¬ë¦¬ ìˆœì„œë¥¼ ë³€ê²½í•´ë„ ê²°ê³¼ì˜ ì°¨ì´ê°€ ì—†ë‹¤.\nì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ì— ëŒ€í•œ ì¡°ê±´ ì¡´ì¬ ìœ ë¬´ê°€ ì¤‘ìš”í•˜ë‹¤.\nWHERE ì¡°ê±´ì—ì„œ OR ì„ í†µí•´ ì¡°ê±´ì„ ì‚¬ìš©í•  ê²½ìš° ì²˜ë¦¬ ë°©ì‹ì´ ë°”ë€ë‹¤.\n1 2 3 4 5 SELECT * FROM employees WHERE first_name = \u0026#39;Kebin\u0026#39; OR last_name = \u0026#39;Poly\u0026#39; ; first_nameì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ìˆê³ , last_name ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ê²½ìš° first_nameì˜ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ê²½ìš° (í’€ í…Œì´ë¸” ìŠ¤ìº”) + (ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”) ë³´ë‹¤ (í’€ í…Œì´ë¸” ìŠ¤ìº”)ì´ ì‘ì—…ëŸ‰ì´ ì ìœ¼ë¯€ë¡œ ì˜µí‹°ë§ˆì´ì €ëŠ” í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì„ íƒí•œë‹¤. ì¡°ê±´ì— ì‚¬ìš©ëœ ëª¨ë“  ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ìˆëŠ” ê²½ìš° index_merge ì ‘ê·¼ ë°©ë²•ìœ¼ë¡œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ìˆ˜ ìˆì–´ í’€ í…Œì´ë¸” ìŠ¤ìº”ë³´ë‹¤ ë¹ ë¥´ì§€ë§Œ, ì¸ë±ìŠ¤ í•˜ë‚˜ë¥¼ ë ˆì¸ì§€ ìŠ¤ìº”í•˜ëŠ” ê²ƒ ë³´ë‹¤ëŠ” ëŠë¦¬ë‹¤. WHERE ì¡°ê±´ì ˆì—ì„œ ANDë¡œ ì—°ê²°ëœë‹¤ë©´ ì½ì–´ì™€ì•¼ í•  ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì¤„ì´ì§€ë§Œ, ORë¡œ ì—°ê²°ë˜ë©´ ë¹„êµí•´ì•¼ í•  ë ˆì½”ë“œê°€ ëŠ˜ì–´ë‚˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì— ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\nGROUP BY GROUP BY ì ˆì˜ ê° ì»¬ëŸ¼ì€ ë¹„êµ ì—°ì‚°ìë¥¼ ê°€ì§€ì§€ ì•Šìœ¼ë¯€ë¡œ ì‘ì—… ë²”ìœ„ ê²°ì • ì¡°ê±´ì´ë‚˜ ì²´í¬ ì¡°ê±´ê³¼ ê°™ì´ êµ¬ë¶„í•´ì„œ ìƒê°í•  í•„ìš”ëŠ” ì—†ë‹¤.\nì¿¼ë¦¬ì— GROUP BYê°€ ì‚¬ìš©ë  ë•Œ ëª…ì‹œëœ ì»¬ëŸ¼ì˜ ìˆœì„œê°€ ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ì˜ ìˆœì„œì™€ ê°™ìœ¼ë©´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nflowchart TB subgraph SA [ì¸ë±ìŠ¤ ì»¬ëŸ¼ ìˆœì„œ] direction LR saa(COL_1) --\u003e sab(COL_2) --\u003e sac(COL_3) --\u003e sad(COL_4) end subgraph SB [WHERE ì¡°ê±´ì ˆ ì»¬ëŸ¼ ìˆœì„œ] direction LR sba(COL_1) --\u003e sbb(COL_2) --\u003e sbc(COL_3) end SA ~~~ SB %% sba --\u003e saa %% sbb -.-\u003e sab %% sbc --\u003e sac %% sbd --\u003e saa GROUP BY ì ˆì— ëª…ì‹œëœ ì»¬ëŸ¼ì´ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì˜ ìˆœì„œì™€ ìœ„ì¹˜ê°€ ê°™ì•„ì•¼í•œë‹¤. ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ ì¤‘ì—ì„œ ë’¤ìª½ì— ìˆëŠ” ì»¬ëŸ¼ì€ ëª…ì‹œë˜ì§€ ì•Šì•„ë„ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ ì¸ë±ìŠ¤ ì•ìª½ì— ìˆëŠ” ì»¬ëŸ¼ì´ ëª…ì‹œë˜ì§€ ì•Šìœ¼ë©´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. GROUP BY ì ˆì— ëª…ì‹œë„ë‹ˆ ì»¬ëŸ¼ì´ í•˜ë‚˜ë¼ë„ ìµë±ìŠ¤ì— ì—†ìœ¼ë©´ ì „í˜€ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 ## ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” GROUP BY ì˜ˆì‹œ # ix_col1234 (col_1, col_2, col_3, col_4) ## 1 ... GROUP BY COL_2, COL_1 ## 2 ... GROUP BY COL_1, COL_3, COL_2 ## 3 ... GROUP BY COL_1, COL_3 ## 4 ... GROUP BY COL_1, COL_2, COL_3, COL_4, COL_5 1,2: ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ ìˆœì„œì™€ ë¶ˆì¼ì¹˜ 3: COL_3 ì• COL_2 ì—†ìŒ 4: ì¸ë±ìŠ¤ê°€ ì—†ëŠ” COL_5 ì‚¬ìš© 1 2 3 4 5 6 7 8 ## ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ëŠ” GROUP BY ì˜ˆì‹œ # ix_col1234 (col_1, col_2, col_3, col_4) ... GROUP BY COL_1 ... GROUP BY COL_1, COL_2 ... GROUP BY COL_1, COL_2, COL_3 ... GROUP BY COL_1, COL_2, COL_3, COL_4 WHERE ì¡°ê±´ì ˆì— COL_1ì´ë‚˜ COL_2ê°™ì´ ì¸ë±ìŠ¤ ìˆœì„œê°€ ì•ì¸ ì»¬ëŸ¼ì— ëŒ€í•´ ë™ë“± ë¹„êµ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤ë©´ ìƒìˆ˜ë¡œ ë¹„êµí•˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ ì»¬ëŸ¼ì„ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 ## GROUP BYì— ì»¬ëŸ¼ì„ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ëŠ” ì˜ˆì‹œ # ix_col1234 (col_1, col_2, col_3, col_4) ... WHERE COL_1 = \u0026#39;ìƒìˆ˜\u0026#39; ... GROUP BY COL_2, COL_3 ... WHERE COL_1 = \u0026#39;ìƒìˆ˜\u0026#39; AND COL_2 = \u0026#39;ìƒìˆ˜\u0026#39; ... GROUP BY COL_3, COL_4 ORDER BY MySQLì—ì„œ ORDER BYì™€ GROUP BYëŠ” ì²˜ë¦¬ ë°©ë²•ì´ ìƒë‹¹íˆ ë¹„ìŠ·í•˜ì—¬ ì¸ë±ìŠ¤ ì‚¬ìš© ì—¬ë¶€ ë˜í•œ ê±°ì˜ í¡ì‚¬í•˜ë‹¤.\në‹¤ë¥¸ ì ì€ ì •ë ¬ë˜ëŠ” ê° ì»¬ëŸ¼ì˜ ì˜¤ë¦„ì°¨ìˆœ ë° ë‚´ë¦¼ì°¨ìˆœ ì˜µì…˜ì´ ì¸ë±ìŠ¤ì™€ ê°™ê±°ë‚˜ ì •ë°˜ëŒ€ì¸ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ ëª¨ë“  ì»¬ëŸ¼ì´ ì˜¤ë¦„ì°¨ìˆœì´ë‚˜ ë‚´ë¦¼ì°¨ìˆœì¼ ë•Œë§Œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 ## ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” ORDER BY ì˜ˆì‹œ # ix_col1234 (col_1, col_2, col_3, col_4) ## 1 ... GROUP BY COL_2, COL_3 ## 2 ... GROUP BY COL_1, COL_3, COL_2 ## 3 ... GROUP BY COL_1, COL_2 DESC, COL_3 ## 4 ... GROUP BY COL_1, COL_3 ## 5 ... GROUP BY COL_1, COL_2, COL_3, COL_4, COL_5 COL_1 ëˆ„ë½ ì»¬ëŸ¼ ìˆœì„œ ë¶ˆì¼ì¹˜ COL_2 ë‚´ë¦¼ì°¨ìˆœ COL_2 ëˆ„ë½ ì¸ë±ìŠ¤ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” COL_5 ì‚¬ìš© WHERE + (ORDER BY or GROUP BY) ì¿¼ë¦¬ê°€ WHERE + (ORDER BY ë˜ëŠ” GROUP BY) í˜•ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ” ê²½ìš° ê°ê° ë‹¤ë¥¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— 3ê°€ì§€ ë°©ì‹ ì¤‘ í•œê°€ì§€ ë°©ë²•ìœ¼ë¡œë§Œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œë‹¤.\në™ì‹œì— ê°™ì€ ì¸ë±ìŠ¤ë¥¼ ì´ìš©: ì •ë ¬ ëŒ€ìƒ ì»¬ëŸ¼ì´ ëª¨ë‘ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ì— ì—°ì†í•´ì„œ í¬í•¨ë˜ì–´ ìˆëŠ” ê²½ìš° ì‚¬ìš© ë‚˜ë¨¸ì§€ ë°©ì‹ë³´ë‹¤ í›¨ì”¬ ë¹ ë¥´ë‹¤. WHERE ì ˆë§Œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©: ORDER BY ì ˆì€ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì •ë ¬ì´ ë¶ˆê°€ëŠ¥í•˜ë©°, ì¸ë±ìŠ¤ë¥¼ í†µí•´ ê²€ìƒ‰ëœ ê²°ê³¼ ë ˆì½”ë“œë¥¼ ë³„ë„ì˜ ì •ë ¬ ì²˜ë¦¬ ê³¼ì •ì„ ê±°ì¹œë‹¤(Using Filesort) WHERE ì ˆì˜ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì§€ ì•Šì„ ë•Œ íš¨ìœ¨ì ì´ë‹¤. ORDER BY ì ˆë§Œ ì¸ë±ìŠ¤ë¥¼ ì´ìš© ORDER BY ì ˆì˜ ìˆœì„œëŒ€ë¡œ ì¸ë±ìŠ¤ë¥¼ ì½ìœ¼ë©´ì„œ ë ˆì½”ë“œë¥¼ í•œ ê±´ì”© WHERE ì ˆì˜ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµí•˜ì—¬ ì•„ë‹Œê²½ìš° ë²„ë¦¬ëŠ” í˜•ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤. ì•„ì£¼ ë§ì€ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•´ì„œ ì •ë ¬í•´ì•¼ í•˜ëŠ” ê²½ìš° ì´ëŸ¬í•œ í˜•íƒœë¡œ íŠœë‹í•˜ê¸°ë„ í•œë‹¤. ë˜í•œ WHERE ì ˆì—ì„œ ë™ë“± ë¹„êµ ì¡°ê±´ìœ¼ë¡œ ë¹„êµëœ ì»¬ëŸ¼ê³¼ ORDER BY ì ˆì— ëª…ì‹œëœ ì»¬ëŸ¼ì´ ìˆœì„œëŒ€ë¡œ ë¹ ì§ì—†ì´ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì˜ ì™¼ìª½ë¶€í„° ì¼ì¹˜í•´ì•¼ í•œë‹¤.\në¹„êµ ì¡°ê±´ì— ì‚¬ìš©ëœ ì»¬ëŸ¼ê³¼ ORDER BY ì ˆì˜ ì»¬ëŸ¼ì˜ ì¤‘ë³µì€ ìƒê´€ ì—†ë‹¤. ì¤‘ê°„ì— ë¹ ì§€ëŠ” ì»¬ëŸ¼ì´ ìˆìœ¼ë©´ ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ ì£¼ë¡œ WHEREì ˆë§Œ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œë‹¤. flowchart LR subgraph SAB [\" \"] direction TB SA ~~~ SB end subgraph SA [WHERE ì ˆ] direction TB saa(COL_1 = ?) end subgraph SB [ORDER BY ì ˆ] direction TB sba(COL_2) ~~~ sbb(COL_3) end subgraph SC [ì¸ë±ìŠ¤] direction TB sca(COL_1 ASC) ~~~ scb(COL_2 ASC) ~~~ scc(COL_3 ASC) ~~~ scd(COL_4 ASC) end subgraph SDE [\" \"] direction TB SD ~~~ SE end subgraph SD [WHERE ì ˆ] direction TB sda(COL_1 = ?) ~~~ sdb(COL_2 = ?) ~~~ sdc(COL_3 \u003e ?) end subgraph SE [ORDER BY ì ˆ] direction TB sea(COL_3 DESC) ~~~ seb(COL_4 DESC) end SA ~~~ SB SAB ~~~ SC ~~~ SDE 1 2 3 4 5 6 7 8 9 10 11 12 13 # ì¸ë±ìŠ¤ ì‚¬ìš© ê°€ëŠ¥: ë“±ë“± ë¹„êµë¡œ ì‚¬ìš©ëœ ì»¬ëŸ¼ SELECT * FROM tb_test WHERE COL_1 = 10 ORDER BY COL_2, COL_3 ; # ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤. SELECT * FROM tb_test WHERE COL_1 = 10 ORDER BY COL_1, COL_2, COL_3 ; 1 2 3 4 5 6 7 8 9 10 11 12 13 # ë²”ìœ„ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆì§€ë§Œ ëª¨ë“  ì»¬ëŸ¼ì„ ëª…ì‹œí•˜ì—¬ ì¸ë±ìŠ¤ ì‚¬ìš© ê°€ëŠ¥ SELECT * FROM tb_test WHERE COL_1 \u0026gt; 10 ORDER BY COL_1, COL_2, COL_3 ; # ì¸ë±ìŠ¤ ì‚¬ìš© ë¶ˆê°€ SELECT * FROM tb_test WHERE COL_1 \u0026gt; 10 ORDER BY COL_2, COL_3 ; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # ì¸ë±ìŠ¤ ì‚¬ìš© ë¶ˆê°€ SELECT * FROM tb_test WHERE COL_1 = 10 ORDER BY COL_3, COL_4 ; SELECT * FROM tb_test WHERE COL_1 \u0026gt; 10 ORDER BY COL_2, COL_3 ; SELECT * FROM tb_test WHERE COL_1 IN (1, 2, 3, 4) ORDER BY COL_2 ; GROUP BY + ORDER BY GROUP BYì™€ ORDER BY ë™ì‹œì— ì‚¬ìš©ëœ ì¿¼ë¦¬ì—ì„œ ë‘ ì ˆì´ ëª¨ë‘ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•´ ì²˜ë¦¬ë˜ë ¤ë©´ ëª…ì‹œëœ ì»¬ëŸ¼ì˜ ìˆœì„œì™€ ë‚´ìš©ì´ ëª¨ë‘ ì¼ì¹˜í•´ì•¼ í•œë‹¤.\nMySQL 5.7 ë²„ì „ê¹Œì§€ëŠ” GROUP BYëŠ” ì‚¬ìš©ëœ ì»¬ëŸ¼ì— ëŒ€í•œ ì •ë ¬ê¹Œì§€ í•¨ê»˜ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ì´ì—ˆìœ¼ë‚˜ MySQL 8.0 ë¶€í„°ëŠ” ì»¬ëŸ¼ì˜ ì •ë ¬ì„ ë³´ì¥í•˜ì§€ ì•Šì•„ ì •ë ¬ì´ í•„ìš”í•œ GROUP BYë¼ë©´ ORDER BYë¥¼ ëª¨ë‘ ëª…ì‹œí•´ì•¼ í•œë‹¤.\nWHERE + GROUP BY + ORDER BY ì•„ë˜ ì§ˆë¬¸ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ì—¬ íë¦„ì„ í™•ì¸í•œë‹¤.\nWHERE ì ˆì´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê°€? GROUP BY ì ˆì´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê°€? GROUP BY ì ˆê³¼ ORDER BY ì ˆì´ ë™ì‹œì— ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê°€? flowchart LR A(START) --\u003e|Y| B{WHERE} B --\u003e|Y| C{GROUP BY} B --\u003e|N| D{GROUP BY} C --\u003e|Y| E{ORDER BY} C --\u003e|N| RB[Only WHERE] E --\u003e|Y| RA[WHERE, GROUP BY, ORDER BY] E --\u003e|N| RB D --\u003e|N| F{GROUP BY} F --\u003e|Y| G{ORDER BY} F --\u003e|N| RD[ì¸ë±ìŠ¤ ì‚¬ìš© ë¶ˆê°€] G --\u003e|Y| RC[GROUP BY, ORDER BY] G --\u003e|N| RD WHERE ì ˆ ë¹„êµ ì¡°ê±´ ì‚¬ìš©ì‹œ ì£¼ì˜ì‚¬í•­ WHEREì ˆì— ì‚¬ìš©ë˜ëŠ” ë¹„êµ ì¡°ê±´ì˜ í‘œí˜„ì‹ì€ ìƒë‹¹íˆ ì¤‘ìš”í•˜ë‹¤. ì¿¼ë¦¬ê°€ ìµœì ìœ¼ë¡œ ì‹¤í–‰ë˜ë ¤ë©´ ì í•©í•œ ì¸ë±ìŠ¤ì™€ í•¨ê»˜ ë¹„êµ ì¡°ê±´ì˜ í‘œí˜„ì‹ì„ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nNULL ë¹„êµ ë‹¤ë¥¸ DBMSì™€ ë‹¤ë¥´ê²Œ MySQL ì—ì„œëŠ” NULL ê°’ì´ í¬í•¨ëœ ë ˆì½”ë“œë„ ì¸ë±ìŠ¤ë¡œ ê´€ë¦¬í•œë‹¤.\ní•˜ì§€ë§Œ SQL í‘œì¤€ì—ì„œ NULLì˜ ì •ì˜ëŠ” ë¹„êµí•  ìˆ˜ ì—†ëŠ” ê°’ì´ë©°, ì´ì— ë”°ë¼ ë‘ ê°’ì´ ëª¨ë‘ NULLì„ ê°€ì§„ë‹¤ê³  í•˜ë”ë¼ë„ ì´ ë‘ ê°’ì´ ë™ë“±í•œì§€ ë¹„êµí•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\nì¿¼ë¦¬ì—ì„œ IS NULL ë˜ëŠ” \u0026lt;=\u0026gt;ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ì™¸ ì»¬ëŸ¼ì˜ ê°’ì´ NULLì¸ì§€ ì•Œ ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ë‹¤.\në¬¸ìì—´ì´ë‚˜ ìˆ«ì ë¹„êµ ë¬¸ìì—´ ì»¬ëŸ¼ì´ë‚˜ ìˆ«ì ì»¬ëŸ¼ì„ ë¹„êµí•  ë•ŒëŠ” ë°˜ë“œì‹œ ê·¸ íƒ€ì…ì— ë§ëŠ” ìƒìˆ˜ê°’ì„ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.\n1 2 3 4 SELECT * FROM employees WHERE emp_no=1001; SELECT * FROM employees WHERE first_name=\u0026#39;smith\u0026#39;; SELECT * FROM employees WHERE emp_no=\u0026#39;1001\u0026#39;; SELECT * FROM employees WHERE first_name=1001; 1, 2ë²ˆ ì¿¼ë¦¬ëŠ” ì»¬ëŸ¼ì˜ íƒ€ì…ê³¼ ë¹„êµí•˜ëŠ” ìƒìˆ˜ê°’ì´ ë™ì¼í•œ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ ì¸ë±ìŠ¤ë¥¼ ì ì ˆíˆ ì´ìš©í•  ìˆ˜ ìˆë‹¤. 3ë²ˆ ì¿¼ë¦¬ëŠ” emp_no ì»¬ëŸ¼ì´ ìˆ«ì íƒ€ì…ì´ë¯€ë¡œ ë¬¸ìì—´ ìƒìˆ˜ê°’ì„ ìˆ«ìë¡œ íƒ€ì… ë³€í™˜í•´ì„œ ì‚¬ìš©í•˜ë¯€ë¡œ íŠ¹ë³„í•œ ì„±ëŠ¥ ì €í•˜ëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. 4ë²ˆ ì¿¼ë¦¬ëŠ” first_nameì´ ë¬¸ìì—´ ì»¬ëŸ¼ì´ì§€ë§Œ ë¹„êµë˜ëŠ” ìƒìˆ˜ê°’ì´ ìˆ«ì íƒ€ì…ì´ë¯€ë¡œ ì˜µí‹°ë§ˆì´ì €ëŠ” ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§€ëŠ” ìˆ«ì íƒ€ì…ìœ¼ë¡œ ë¹„êµë¥¼ ìˆ˜í–‰í•˜ë ¤ê³  ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•œë‹¤. first_name ì»¬ëŸ¼ì˜ ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜í•˜ì—¬ ë¹„êµë¥¼ ìˆ˜í–‰í•˜ê²Œ ë˜ì–´ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì§€ ëª»í•œë‹¤. ì»¬ëŸ¼ íƒ€ì…ì— ë§ê²Œ ìƒìˆ˜ ë¦¬í„°ëŸ´ì„ ë¹„êµ ì¡°ê±´ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\në‚ ì§œ ë¹„êµ DATE or DATETIME ë¬¸ìì—´ ë¹„êµ\nDATE, DATETIME íƒ€ì… ê°‘ê³¼ ë¬¸ìì—´ì„ ë¹„êµí•  ë•ŒëŠ” ë¬¸ìì—´ ê°’ì„ ìë™ìœ¼ë¡œ ë³€í™˜í•´ì„œ ë¹„êµë¥¼ ìˆ˜í–‰í•˜ë¯€ë¡œ ëª…ì‹œì ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì²˜ë¦¬ë¥¼ ê±°ì¹˜ì§€ ì•Šì•„ë„ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ëœë‹¤. DATE, DATETIME íƒ€ì… ì»¬ëŸ¼ì„ ë³€ê²½í•˜ëŠ” ê²½ìš° ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ìƒìˆ˜ë¥¼ ë³€í˜•í•˜ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë¬¸ìì—´ë¡œ ë³€ê²½ ë‚ ì§œ ê³„ì‚° ì²˜ë¦¬ ë“± DATE ì™€ DATETIME ë¹„êµ\në”°ë¡œ ë³€í™˜í•˜ì§€ ì•Šê³  ë¹„êµí•´ë„ ë‚´ë¶€ì ìœ¼ë¡œ DATE íƒ€ì…ì„ YYYY-MM-DD 00:00:00 í˜•íƒœë¡œ ë³€í™˜í•˜ì—¬ ë¹„êµë¥¼ ìˆ˜í–‰í•œë‹¤. í•´ë‹¹ íƒ€ì… ë¹„êµì—ì„œ íƒ€ì… ë³€í™˜ì€ ì¸ë±ìŠ¤ ì‚¬ìš©ì—¬ë¶€ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì„±ëŠ¥ë³´ë‹¤ëŠ” ì¿¼ë¦¬ì˜ ê²°ê³¼ì— ì£¼ì˜í•˜ì—¬ ì‚¬ìš©í•œë‹¤. DATETIME ì™€ TIMESTAMP ë¹„êµ\nDATE, DATETIME ê°’ì„ TIMESTAMP ê°’ì„ ë³€í™˜ ì—†ì´ ë¹„êµí•˜ë©´ ë¬¸ì œì—†ì´ ì‘ë™í•˜ê³  ì‹¤í–‰ ê³„íšë„ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì‚¬ìš©í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ê·¸ë ‡ì§€ ì•Šë‹¤.\nTIMESTAMPê°’ì€ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¨ìˆœ ìˆ«ì ê°’ìœ¼ë¡œ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ë¹„êµ ëŒ€ìƒ ì»¬ëŸ¼ íƒ€ì…ì— ë§ê²Œ ë³€í™˜í•´ì„œ ì‚¬ìš©í•´ì•¼í•œë‹¤.\nShort-Circuit Evalutation 1 2 3 4 5 boolean in_transaction; if ( in_transaction \u0026amp;\u0026amp; has_modified() ) { commit(); } ìœ„ ì²˜ëŸ¼ ì—¬ëŸ¬ ê°œì˜ í‘œí˜„ì‹ì´ AND, OR ë…¼ë¦¬ ì—°ì‚°ìë¡œ ì—°ê²°ëœ ê²½ìš° ì„ í–‰ í‘œí˜„ì‹ì˜ ê²°ê³¼ì— ë”°ë¼ í›„í–‰ í‘œí˜„ì‹ì„ í‰ê°€í• ì§€ ê²°ì •í•˜ëŠ” ìµœì í™”ë¥¼ Short-circuit Evaluation ì´ë¼ê³  í•˜ë©°, MySQL ì„œë²„ì—ì„œë„ ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìˆ˜í–‰í•œë‹¤.\nMySQL ì„œë²„ëŠ” ì¿¼ë¦¬ì˜ WHERE ì ˆì— ë‚˜ì—´ëœ ìˆœì„œëŒ€ë¡œ Short-circuit Evaluation ë°©ì‹ìœ¼ë¡œ í‰ê°€í•˜ì—¬ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ë°˜í™˜í•´ì•¼ í• ì§€ ê²°ì •í•˜ì§€ë§Œ, ë‚˜ì—´ëœ ì¡°ê±´ ì¤‘ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì´ ìˆë‹¤ë©´ í•´ë‹¹ ì¡°ê±´ì„ ìµœìš°ì„ ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.\nê·¸ë ‡ê¸° ë•Œë¬¸ì— WHERE ì¡°ê±´ì ˆì—ì„œ ë‚˜ì—´ëœ ìˆœì„œê°€ ì¸ë±ìŠ¤ì˜ ì‚¬ìš© ì—¬ë¶€ë¥¼ ê²°ì •í•˜ì§€ëŠ” ì•Šê²Œëœë‹¤.\nì¸ë±ìŠ¤ ì‚¬ìš© ë¶ˆê°€\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 # 0ë²ˆ: 2,844,047ê±´ SELECT COUNT(*) FROM salaries; # 1ë²ˆ: 2,442,943ê±´ SELECT COUNT(*) FROM salaries WHERE CONVERT_TZ(from_date, \u0026#39;+00:00\u0026#39;, \u0026#39;+09:00\u0026#39;) \u0026gt; \u0026#39;1991-01-01\u0026#39; ; # 2ë²ˆ: 0ê±´ SELECT COUNT(*) FROM salaries WHERE to_date \u0026lt; \u0026#39;1985-01-01\u0026#39; ; # 3ë²ˆ(1 AND 2 ì¡°ê±´): 0ê±´ SELECT COUNT(*) FROM salaries WHERE CONVERT_TZ(from_date, \u0026#39;+00:00\u0026#39;, \u0026#39;+09:00\u0026#39;) \u0026gt; \u0026#39;1991-01-01\u0026#39; AND to_date \u0026lt; \u0026#39;1985-01-01\u0026#39; ; # 4ë²ˆ(2 AND 1 ì¡°ê±´): 0ê±´ SELECT COUNT(*) FROM salaries WHERE to_date \u0026lt; \u0026#39;1985-01-01\u0026#39; AND CONVERT_TZ(from_date, \u0026#39;+00:00\u0026#39;, \u0026#39;+09:00\u0026#39;) \u0026gt; \u0026#39;1991-01-01\u0026#39; ; ìœ„ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ëœ ë‘ ê°œì˜ ì¡°ê±´ì€ ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ ë°œìƒí•œë‹¤. ê·¸ë¦¬ê³  2ë²ˆ ì¡°ê±´ì˜ ê²°ê³¼ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ 0 ì´ë¯€ë¡œ 1ë²ˆ ì¡°ê±´ê³¼ 2ë²ˆ ì¡°ê±´ì´ AND ì—°ê²°ëœ 3ë²ˆ, 4ë²ˆ ì¿¼ë¦¬ì˜ ê²°ê³¼ë„ 0ê±´ì´ë‹¤.\n1ë²ˆ ì¡°ê±´ì€ ì „ì²´ ë ˆì½”ë“œì— ëŒ€í•´ CONVERT_TZ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ í›„ ê·¸ ê²°ê³¼ì— ëŒ€í•´ ë¹„êµ ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼í•˜ì§€ë§Œ, 2ë²ˆ ì¡°ê±´ì€ ë¹„êµ ì‘ì—…ë§Œ ì „ì²´ ë ˆì½”ë“œì— ëŒ€í•´ ìˆ˜í–‰í•œë‹¤.\nì´ëŸ¬í•œ ìƒí™©ì—ì„œ Short-circuit Evaluation ìµœì í™”ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì¡°ê±´ì˜ ê²°ê³¼ê°€ 0ê±´ì¸ 2ë²ˆ ì¡°ê±´ì„ ì„ í–‰í•˜ë©´ 1ë²ˆ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, 3ë²ˆ ì¿¼ë¦¬ë³´ë‹¤ ë” ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤.\nì¸ë±ìŠ¤ ì‚¬ìš© ê°€ëŠ¥\n1 2 3 4 5 6 7 # ix_firstname(first_name) SELECT * FROM employees WHERE last_name=\u0026#39;Aamodt\u0026#39; AND first_name=\u0026#39;Matt\u0026#39; AND MONTH(birth_date)=1 ; ìœ„ ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš© ê°€ëŠ¥í•œ first_nameì„ ë¨¼ì € í‰ê°€í•˜ê³ , ì´í›„ ë‚˜ì—´ëœ ìˆœì„œëŒ€ë¡œ ì¡°ê±´ë“¤ì„ í‰ê°€í•œë‹¤.\nDISTINCT íŠ¹ì • ì»¬ëŸ¼ì˜ ìœ ë‹ˆí¬í•œ ê°’ì„ ì¡°íšŒí•˜ê¸° ìœ„í•´ SELECT ì ˆì— DISTINCTë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ë§ì€ ì‚¬ìš©ìê°€ ì¡°ì¸ì„ í•˜ëŠ” ê²½ìš° ë ˆì½”ë“œ ì¤‘ë³µì„ ë§‰ê¸° ìœ„í•´ ë‚¨ë°œí•˜ëŠ” ê²½í–¥ì´ ìˆë‹¤.\nì´ëŸ¬í•œ ë‚¨ìš©ì€ ì„±ëŠ¥ì ì¸ ë¬¸ì œë„ ìˆì§€ë§Œ ì¿¼ë¦¬ì˜ ê²°ê³¼ë„ ì˜ë„í•œ ë°”ì™€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤.\nì—¬ëŸ¬ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ëŠ” ì¿¼ë¦¬ì—ì„œëŠ” ì¡°ì¸ ì¡°ê±´ì— ë”°ë¼ ë ˆì½”ë“œê°€ ëª‡ ë°°ì”© ë¶ˆì–´ë‚˜ê¸°ë„ í•˜ëŠ”ë°, í…Œì´ë¸”ê°„ ì—…ë¬´ì ì¸ ì—°ê²° ì¡°ê±´ì„ ì´í•´í•˜ì§€ ëª»í•˜ê³  ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ê²½ìš° ì´ëŸ¬í•œ ë‚¨ìš©ì´ ë°œìƒí•˜ê²Œë˜ë¯€ë¡œ 1:1. 1:N ì¡°ì¸ì¸ì§€ ì—…ë¬´ì ì¸ íŠ¹ì„±ì„ ì˜ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nLIMIT n LIMITëŠ” ì¿¼ë¦¬ ê²°ê³¼ì—ì„œ ì§€ì •ëœ ìˆœì„œì— ìœ„ì¹˜í•œ ë ˆì½”ë“œë§Œ ê°€ì ¸ì˜¤ê³ ì í•  ë•Œ ì‚¬ìš©í•œë‹¤.\nì˜¤ë¼í´ê³¼ ê°™ì€ RDBMSì™€ëŠ” ë‹¤ë¥´ê²Œ MySQLì˜ LIMITëŠ” WHERE ì¡°ê±´ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— í•­ìƒ ì¿¼ë¦¬ì˜ ê°€ì¥ ë§ˆì§€ë§‰ì— ì‹¤í–‰ëœë‹¤.\n1 2 3 4 5 6 SELECT * FROM employees WHERE emp_no BETWEEN 10001 AND 10010 ORDER BY first_name LIMIT 0, 5 ; employees í…Œì´ë¸”ì—ì„œ WHERE ì ˆì˜ ê²€ìƒ‰ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì „ë¶€ ì½ì–´ì˜¨ë‹¤. 1ë²ˆì—ì„œ ì½ì–´ì˜¨ ë ˆì½”ë“œë¥¼ first_name ì»¬ëŸ¼ ê°’ì— ë”°ë¼ ì •ë ¬í•œë‹¤. ì •ë ¬ëœ ê²°ê³¼ì—ì„œ ìƒìœ„ 5ê±´ë§Œ ë°˜í™˜í•œë‹¤. MySQLì—ì„œ LIMITëŠ” ì¿¼ë¦¬ì—ì„œ ëª¨ë“  ë ˆì½”ë“œì˜ ì •ë ¬ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤ê³  í•˜ë”ë¼ë„ í•„ìš”í•œ ë ˆì½”ë“œ ê±´ìˆ˜ë§Œ ì¤€ë¹„ë˜ë©´ ì¦‰ì‹œ ì¿¼ë¦¬ë¥¼ ì¢…ë£Œí•œë‹¤.\ní•˜ì§€ë§Œ ì¿¼ë¦¬ì— í¬í•¨ëœ ORDER BY, GROUP BY ì ˆì—ì„œ ìˆ˜í–‰í•˜ëŠ” ì •ë ¬ ì‘ì—…ì´ ì¸ë±ìŠ¤ë¥¼ ì ì ˆíˆ ì´ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° ì²˜ë¦¬ê°€ ì™„ë£Œëœ í›„ì— LIMITê°€ ì ìš©ë˜ë¯€ë¡œ ì„±ëŠ¥ ê°œì„ ì— í° ì˜ë¯¸ê°€ ì—†ì„ ìˆ˜ ìˆë‹¤.\ní’€ í…Œì´ë¸” ìŠ¤ìº” 1 SELECT * FROM employees LIMIT 0, 10; í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ì§€ë§Œ LIMIT ì¡°ê±´ìœ¼ë¡œ ì¸í•´ MySQLì´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ë¶€í„° 10ê°œì˜ ë ˆì½”ë“œë¥¼ ì½ì–´ ë“¤ì´ëŠ” ìˆœê°„ ì½ê¸° ì‘ì—…ì„ ë©ˆì¶”ê²Œëœë‹¤.\nì •ë ¬, ê·¸ë£¨í•‘, DISTINCTê°€ ì—†ëŠ” ì¿¼ë¦¬ì—ì„œ LIMIT ì¡°ê±´ì„ ì‚¬ìš©í•˜ë©´ ì¿¼ë¦¬ê°€ ìƒë‹¹íˆ ë¹¨ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\nGROUP BY 1 SELECT * FROM employees GROUP BY first_name LIMIT 0, 10; ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” GROUP BYëŠ” ê·¸ë£¨í•‘ê³¼ ì •ë ¬ì˜ íŠ¹ì„±ì„ ëª¨ë‘ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— GROUP BY ì‘ì—…ì´ ì™„ë£Œë˜ê³  ë‚˜ì„œì•¼ LIMIT ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\nLIMITì´ GROUP BYì™€ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” ê²½ìš° ì‹¤ì§ˆì ì¸ ì„œë²„ì˜ ì‘ì—… ë‚´ìš©ì„ í¬ê²Œ ì¤„ì—¬ì£¼ì§€ëŠ” ëª»í•œë‹¤.\nDISTINCT 1 SELECT DISTINCT first_name FROM employees LIMIT 0, 10; ì •ë ¬ì´ í•„ìš”ì—†ëŠ” DISTINCTëŠ” ìœ ë‹ˆí¬í•œ ê·¸ë£¹ë§Œ ë§Œë“¤ì–´ ë‚´ë©´ ëœë‹¤.\nMySQLì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ í†µí•´ í’€ í…Œì´ë¸” ìŠ¤ìº”ìœ¼ë¡œ employees í…Œì´ë¸” ë ˆì½”ë“œë¥¼ ì½ì–´ ë“¤ì„ê³¼ ë™ì‹œì— DISTINCTë¥¼ ìœ„í•œ ì¤‘ë³µ ì œê±° ì‘ì—…(ì„ì‹œ í…Œì´ë¸” ì‚¬ìš©)ì„ ì‘ì—…ì„ ë°˜ë³µì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë‹¤ê°€ ìœ ë‹ˆí¬í•œ ë ˆì½”ë“œê°€ LIMIT ê±´ìˆ˜ ë§Œí¼ ì±„ì›Œì¡Œë‹¤ë©´ ì¿¼ë¦¬ë¥¼ ë©ˆì¶˜ë‹¤.\nì´ë ‡ê²Œ DISTINCT ì™€ í•¨ê»˜ ì‚¬ìš©ëœ LIMITê°€ ì‹¤ì§ˆì ì¸ ì¤‘ë³µ ì œê±° ì‘ì—… ë²”ìœ„ë¥¼ ì¤„ì—¬ì£¼ê²Œ ë˜ë¯€ë¡œ ì‘ì—…ëŸ‰ë„ ì¤„ì´ëŠ” íš¨ê³¼ë¥¼ ê°€ì§„ë‹¤.\nWHERE + ORDER BY 1 2 3 4 5 6 SELECT * FROM employees WHERE emp_no BETWEEN 10001 AND 11000 ORDER BY first_name LIMIT 0, 10 ; employees í…Œì´ë¸”ë¡œë¶€í„° ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì½ì€ í›„ first_name ì»¬ëŸ¼ ê°’ìœ¼ë¡œ ì •ë ¬ì„ ìˆ˜í–‰í•œë‹¤.\nì •ë ¬ì„ ìˆ˜í–‰í•˜ë©´ì„œ í•„ìš”í•œ 10ê±´ì„ ì±„ìš°ë©´ ë‚˜ë¨¸ì§€ ì‘ì—…ì„ ë©ˆì¶”ê³  ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜í•œë‹¤.\nì´ ë•Œ ì •ë ¬ì„ ìˆ˜í–‰í•˜ê¸° ì „ì— WHERE ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ëª¨ë“  ë ˆì½”ë“œë¥¼ ì½ì–´ì™€ì•¼ í•˜ì§€ë§Œ, ì½ì–´ì˜¨ ê²°ê³¼ê°€ ì „ë¶€ ì •ë ¬ë¼ì•¼ ì¿¼ë¦¬ê°€ ì™„ë£Œë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•„ìš”í•œ ë§Œí¼ë§Œ ì •ë ¬í•˜ë©´ ëœë‹¤.\ní•˜ì§€ë§Œ ì´ ì¿¼ë¦¬ë„ GROUP BY ì™€ ì‚¬ìš©í–ˆì„ ë•Œ ì²˜ëŸ¼ í¬ê²Œ ì‘ì—…ëŸ‰ì„ ì¤„ì—¬ì£¼ì§€ëŠ” ëª»í•œë‹¤.\nOFFSET ì‹¤ì œ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì€ ì‚¬ìš©ìì˜ í™”ë©´ì— ë ˆì½”ë“œê°€ ëª‡ ê±´ ì¶œë ¥ë˜ëŠëƒë³´ë‹¤ MySQL ì„œë²„ê°€ ê·¸ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ê¸° ìœ„í•´ ì–´ë– í•œ ì‘ì—…ë“¤ì„ í–ˆëŠ”ì§€ê°€ ì¤‘ìš”í•œë°, LIMITì— offsetì„ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§•ê³¼ ê°™ì€ ì²˜ë¦¬ë¥¼ í•  ë•Œ í° ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 SELECT * FROM salaries ORDER BY salary LIMIT 2_000_000, 10 ; ìœ„ ì¿¼ë¦¬ ì²˜ë¦¬ëŠ” salaries í…Œì´ë¸”ì„ ì²˜ìŒë¶€í„° ì½ìœ¼ë©´ì„œ 2,000,010ê±´ì˜ ë ˆì½”ë“œë¥¼ ì½ì€ í›„ 2,000,000ê±´ì€ ë²„ë¦¬ê³  ë§ˆì§€ë§‰ 10ê±´ë§Œ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜í•˜ëŠ”ë°, ì‚¬ìš©ì í™”ë©´ì— ë³´ì—¬ì£¼ëŠ” ë ˆì½”ë“œëŠ” 10ê±´ì´ì§€ë§Œ ì‹¤ì œ 2,000,010ê±´ì˜ ë ˆì½”ë“œë¥¼ ì½ì–´ì•¼ í•˜ë¯€ë¡œ ë§¤ìš° ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ì²˜ëŸ¼ LIMIT ì¡°ê±´ì˜ í˜ì´ì§•ì´ ì²˜ìŒ ëª‡ ê°œ í˜ì´ì§€ ì¡°íšŒë¡œ ëë‚˜ì§€ ì•Šì„ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ë©´ WHERE ì¡°ê±´ì ˆë¡œ ì½ì–´ì•¼ í•  ìœ„ì¹˜ë¥¼ ì°¾ê³  ê·¸ ìœ„ì¹˜ì—ì„œ 10ê°œë§Œ ì½ëŠ” í˜•íƒœì˜ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # ì²« í˜ì´ì§€ SELECT * FROM salaries ORDER BY salary LIMIT 0, 10; # ë‘ ë²ˆì§¸ í˜ì´ì§€(ì²« í˜ì´ì§€ì˜ ë§ˆì§€ë§‰ salary ê°’ê³¼ emp_no ê°’ ì´ìš©) SELECT * FROM salaries WHERE salary \u0026gt;= 38864 AND NOT (salary = 38864 AND emp_no \u0026lt;= 274049) ORDER BY salary LIMIT 0, 10 ; # ë§ˆì§€ë§‰ í˜ì´ì§€ SELECT * FROM salaries WHERE salary \u0026gt;= 154888 AND NOT (salary = 154888 AND emp_no \u0026lt;= 109334) ORDER BY salary LIMIT 0, 10 ; salaryì™€ ê°™ì´ ì¤‘ë³µì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ë©´ ì¡°ê±´ì— ë”°ë¼ì„œ ë°ì´í„°ê°€ ëˆ„ë½, ì¤‘ë³µ ë“±ìœ¼ë¡œ ì˜ë„í•˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤.\nCOUNT() COUNT() í•œìˆ˜ëŠ” ê²°ê³¼ ë ˆì½”ë“œì˜ ê±´ìˆ˜ë¥¼ ë°˜í˜¸ë‚˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. ì»¬ëŸ¼ì´ë‚˜ í‘œí˜„ì‹ì„ ì¸ìë¡œ ë°›ìœ¼ë©°, íŠ¹ë³„í•œ í˜•íƒœë¡œ *ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.\nCOUNT(*)ì²˜ëŸ¼ í•¨ìˆ˜ ë‚´ì— ì‚¬ìš©ëœ *ëŠ” SELECTì™€ ë‹¬ë¦¬ ë ˆì½”ë“œ ìì²´ë¥¼ ì˜ë¯¸í•˜ëŠ” ê²ƒìœ¼ë¡œ pk, 1 ê³¼ ê°™ì€ ê°’ì„ ì¸ìë¡œ ì£¼ì§€ ì•Šì•„ë„ ë™ì¼í•œ ì„±ëŠ¥ì„ ë³´ì—¬ì¤€ë‹¤. MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì€ í…Œì´ë¸”ì˜ ë©”íƒ€ ì •ë³´ì— ì „ì²´ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ê´€ë¦¬í•˜ë¯€ë¡œ, ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš° COUNT ì²˜ë¦¬ëŠ” ë§¤ìš° ë¹ ë¥´ê²Œ ì²˜ë¦¬ë˜ì§€ë§Œ, ì¡°ê±´ì´ ìˆëŠ” ê²½ìš° ë ˆì½”ë“œë¥¼ ì½ì§€ ì•ŠëŠ” ì´ìƒ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì¼ë°˜ì ì¸ DBMSì™€ ê°™ì´ ì²˜ë¦¬ëœë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì—ì„œëŠ” ì¡°ê±´ì´ ì—†ëŠ” COUNT(*) ì¿¼ë¦¬ë¼ê³  í•˜ë”ë¼ë„ ì§ì ‘ ë°ì´í„°ë‚˜ ì¸ë±ìŠ¤ë¥¼ ì½ì–´ì•¼ë§Œ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í° í…Œì´ë¸”ì—ì„œ COUNT() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‘ì—…ì— ì£¼ì˜í•´ì•¼ í•œë‹¤.\nCOUNT(*) ì¿¼ë¦¬ì—ì„œ ê°€ì¥ ë§ì´ í•˜ëŠ” ì‹¤ìˆ˜ëŠ” ORDER BY êµ¬ë¬¸ì´ë‚˜ ì²´í¬ ì¡°ê±´ì„ ê°€ì§€ì§€ ì•ŠëŠ” LEFT JOINê³¼ ê°™ì€ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒê³¼ëŠ” ë¬´ê´€í•œ ì‘ì—…ì„ í¬í•¨í•˜ëŠ” ê²ƒì´ë‹¤.\nCOUNT(*) ì¿¼ë¦¬ì—ì„œ ORDER BY ì ˆì€ ì–´ë– í•œ ê²½ìš°ì—ì„œ í•„ìš”í•˜ì§€ ì•Šìœ¼ë©°, LEFT JOIN ë˜í•œ ë ˆì½”ë“œ ê±´ìˆ˜ì˜ ë³€í™”ê°€ ì—†ê±°ë‚˜ ì•„ìš°í„° í…Œì´ë¸”ì—ì„œ ë³„ë„ ì²´í¬ë¥¼ í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²½ìš° ëª¨ë‘ ì œê±°í•´ì•¼í•œë‹¤.\në§ì€ ì‚¬ìš©ìê°€ ì¼ë°˜ì ìœ¼ë¡œ ì»¬ëŸ¼ì˜ ê°’ì„ SELECT í•˜ëŠ” ì¿¼ë¦¬ë³´ë‹¤ COUNT(*) ì¿¼ë¦¬ê°€ í›¨ì”¬ ë¹ ë¥´ê²Œ ì‹¤í–‰ë  ê²ƒìœ¼ë¡œ ìƒê°í•˜ì§€ë§Œ, ì¸ë±ìŠ¤ë¥¼ ì œëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•œ COUNTì¿¼ë¦¬ëŠ” í˜ì´ì§•í•´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¿¼ë¦¬ë³´ë‹¤ ë§¤ìš° ëŠë¦¬ê²Œ ì‹¤í–‰ ë  ìˆ˜ ìˆë‹¤.\nCOUNT() í•¨ìˆ˜ì— ì»¬ëŸ¼ëª…ì´ë‚˜ í‘œí˜„ì‹ì´ ì¸ìë¡œ ì‚¬ìš©ë˜ë©´ ê·¸ ì»¬ëŸ¼ì´ë‚˜ í‘œí˜„ì‹ì˜ ê²°ê³¼ê°€ NULLì´ ì•„ë‹Œ ë ˆì½”ë“œ ê±´ìˆ˜ë§Œ ë°˜í™˜í•œë‹¤. ë”°ë¼ì„œ NULLì´ ë  ìˆ˜ ìˆëŠ” ì»¬ëŸ¼ì— COUNT í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ìœ„ë„ëŒ€ë¡œ ì¿¼ë¦¬ê°€ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸ì´ í•„ìš”í•˜ë‹¤.\nJOIN JOINì˜ ìˆœì„œì™€ ì¸ë±ìŠ¤ ì¼ë°˜ì ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ì¿¼ë¦¬í•˜ëŠ” ì‘ì—…ì—ì„œëŠ” ê°€ì ¸ì˜¤ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì†ŒëŸ‰ì´ê¸° ë•Œë¬¸ì— ì¸ë±ìŠ¤ ìŠ¤ìº” ì‘ì—…ì€ ë¶€í•˜ê°€ ì‘ì§€ë§Œ íŠ¹ì • ì¸ë±ìŠ¤í‚¤ë¥¼ ì°¾ëŠ” ì¸ë±ìŠ¤ íƒìƒ‰ ì‘ì—…ì€ ìƒëŒ€ì ìœ¼ë¡œ ë¶€í•˜ê°€ ë†’ì€í¸ì´ë‹¤.\nì¡°ì¸ ì‘ì—…ì—ì„œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì„ ì½ì„ ë•ŒëŠ” ì¸ë±ìŠ¤ íƒìƒ‰ ì‘ì—…ì„ ë‹¨ í•œ ë²ˆë§Œ ìˆ˜í–‰í•˜ê³ , ê·¸ ì´í›„ë¶€í„°ëŠ” ìŠ¤ìº”ë§Œ ì‹¤í–‰í•œë‹¤.\ní•˜ì§€ë§Œ ë“œë¦¬ë¸ í…Œì´ë¸”ì—ì„œëŠ” ì¸ë±ìŠ¤ íƒìƒ‰ ì‘ì—…ê³¼ ìŠ¤ìº” ì‘ì—…ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì—ì„œ ì½ì€ ë ˆì½”ë“œ ê±´ìˆ˜ë§Œí¼ ë°˜ë³µí•˜ë¯€ë¡œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ê³¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì´ 1:1ë¡œ ì¡°ì¸ë˜ë”ë¼ë„ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ì½ëŠ” ê²ƒì´ í›¨ì”¬ ë” í° ë¶€í•˜ë¥¼ ì°¨ì§€í•œë‹¤.\nì´ì— ë”°ë¼ ë“œë¼ì´ë¹™ í…Œì´ë¸”ê³¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì´ 1:1ë¡œ ì¡°ì¸ë˜ë”ë¼ë„ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ì½ëŠ” ê²ƒì´ í›¨ì”¬ ë” í° ë¶€í•˜ë¥¼ ì°¨ì§€í•˜ë¯€ë¡œ ì˜µí‹°ë§ˆì´ì €ëŠ” í•­ìƒ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì´ ì•„ë‹ˆë¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ìµœì ìœ¼ë¡œ ì½ì„ ìˆ˜ ìˆê²Œ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•œë‹¤.\n1 2 3 4 SELECT * FROM employees e, dept_emp de WHERE e.emp_no = de.emp_no ; ë‘ ì»¬ëŸ¼ ëª¨ë‘ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ê²½ìš° ì–´ëŠ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ìœ¼ë¡œ ì„ íƒí•˜ë“  ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ê²€ìƒ‰ ì‘ì—…ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ê²½ìš° ì˜µí‹°ë§ˆì´ì €ê°€ í†µê³„ ì •ë³´ë¥¼ ì´ìš©í•´ ì ì ˆíˆ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì„ ì„ íƒí•˜ê²Œ ëœë‹¤. ë ˆì½”ë“œ ê±´ìˆ˜ ë“± ì´ëŸ¬í•œ ê²½ìš° ì˜µí‹°ë§ˆì´ì €ê°€ ì„ íƒí•˜ëŠ” ë°©ë²•ì´ ìµœì ì¸ ê²½ìš°ê°€ ë§ë‹¤. e.emp_noì—ë§Œ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ê²½ìš° dept_emp í…Œì´ë¸”ì´ ë“œë¦¬ë¸ í…Œì´ë¸”ë¡œ ì„ íƒë˜ë©´ employees í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ë§Œí¼ dept_emp í…Œì´ë¸”ì„ í’€ ìŠ¤ìº” í•´ì•¼ë§Œ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ì˜µí‹°ë§ˆì´ì €ëŠ” í•­ìƒ dept_no í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•œë‹¤. e.emp_no=1001 ê°™ì´ employees í…Œì´ë¸”ì„ ì•„ì£¼ íš¨ìœ¨ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì—ë„ ê°™ë‹¤. de.emp_noì—ë§Œ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ê²½ìš° employees í…Œì´ë¸”ì´ ë°˜ë³µëœ í’€ ìŠ¤ìº”ì„ í”¼í•˜ê¸° ìœ„í•´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒëœë‹¤. ë‘ ì»¬ëŸ¼ ëª¨ë‘ ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ê²½ìš° ì–´ëŠ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ìœ¼ë¡œ ì„ íƒí•˜ë”ë¼ë„ í’€ ìŠ¤ìº”ì´ ë°œìƒí•˜ë¯€ë¡œ ì˜µí‹°ë§ˆì´ì €ê°€ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì„ ì ì ˆíˆ ì„ íƒí•œë‹¤. ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì ì€ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ í›¨ì”¬ íš¨ìœ¨ì ì´ë‹¤. ì¡°ì¸ ì¡°ê±´ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ì ì ˆí•œ ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ê²½ìš° MySQL 8.0.18 ì´ì „ ë²„ì „ì€ ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸, ì´í›„ ë²„ì „ì€ í•´ì‹œ ì¡°ì¸ì„ ì‚¬ìš©í•œë‹¤. JOIN ì»¬ëŸ¼ì˜ ë°ì´í„° íƒ€ì… WHERE ì ˆì— ì‚¬ìš©ë˜ëŠ” ì¡°ê±´ì—ì„œ í‘œí˜„ì‹ì˜ ë°ì´í„° íƒ€ì…ì„ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì¡°ì¸ ì¡°ê±´ì—ì„œë„ ë™ì¼í•˜ê²Œ ì¡°ì¸ ì»¬ëŸ¼ ê°„ì˜ ë¹„êµì—ì„œ ê° ì»¬ëŸ¼ì˜ ë°ì´í„° íƒ€ì…ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\në¹„êµ ì¡°ê±´ì—ì„œ ì–‘ìª½ í•­ì´ ìƒìˆ˜ì´ë“  í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì´ë“  ê´€ê³„ì—†ì´ ë°ì´í„° íƒ€ì…ì´ ë‹¤ë¥´ë‹¤ë©´ ëŒ€ìƒ ì»¬ëŸ¼ì— ëŒ€í•œ íƒ€ì… ë³€í™˜ í›„ ë¹„êµë¥¼ ìˆ˜í–‰í•˜ë¯€ë¡œ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ì—†ê²Œëœë‹¤.\në”°ë¼ì„œ ì˜µí‹°ë§ˆì´ì €ëŠ” ë“œë¦¬ë¸ í…Œì´ë¸”ì´ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê³ , ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ í•„ìš”í•˜ê²Œ ëœë‹¤ëŠ”ê²ƒì„ ë¯¸ë¦¬ ì•Œê¸° ë•Œë¬¸ì— ì¡°ì¸ ë²„í¼ë¥¼ ì´ìš©í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\nì˜ˆì™¸ ìƒí™©\nì¸ë±ìŠ¤ ì‚¬ìš©ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë°ì´í„° íƒ€ì…ì€ ë³€í™˜ì´ í•„ìš”í•œ ê²½ìš°ì´ë©°, ë³€í™˜ì„ í•˜ì§€ ì•Šê³ ë„ ë¹„êµí•  ìˆ˜ ìˆëŠ” ê²½ìš° ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nCHAR, VARCHAR INT, BIGINT, SMALLINT DATE, DATETIME ëŒ€í‘œì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ íŒ¨í„´ì€ ë¬¸ì œê°€ ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.\nCHAR, INT ë¹„êµ ê°™ì´ ë°ì´í„° íƒ€ì…ì˜ ì¢…ë¥˜ê°€ ì™„ì „íˆ ë‹¤ë¥¸ ê²½ìš° ê°™ì€ CHAR íƒ€ì…ì´ë¼ë„ ë¬¸ì ì§‘í•©ì´ë‚˜ ì½œë ˆì´ì…˜ì´ ë‹¤ë¥¸ ê²½ìš° ê°™ì€ INT íƒ€ì…ì´ë”ë¼ë„ ë¶€í˜¸ì˜ ì¡´ì¬ ì—¬ë¶€ê°€ ë‹¤ë¥¸ ê²½ìš° ì´ëŸ¬í•œ ìƒí™©ì„ ì˜ˆë°©í•˜ê¸° ìœ„í•´ ì»¬ëŸ¼ì˜ ë¬¸ì ì§‘í•©, ì½œë ˆì´ì…˜ì„ í†µì¼í•˜ëŠ” ë“± ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ì— ëŒ€í•œ í‘œì¤€í™” ê·œì¹™ì„ ìˆ˜ë¦½í•˜ê³ , ê·œì¹™ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë¥¼ ì§„í–‰í•´ì•¼ í•œë‹¤.\nOUTER JOIN ì„±ëŠ¥ê³¼ ì£¼ì˜ì‚¬í•­ INNER JOINì€ ì¡°ì¸ ëŒ€ìƒ í…Œì´ë¸”ì— ëª¨ë‘ ì¡´ì¬í•˜ëŠ” ë ˆì½”ë“œë§Œ ê²°ê³¼ ì§‘í•©ìœ¼ë¡œ ë°˜í™˜í•œë‹¤. ì´ëŸ¬í•œ íŠ¹ì„± ë•Œë¬¸ì— ì•„ìš°í„° ì¡°ì¸ìœ¼ë¡œë§Œ ì¡°ì¸ì„ ì‹¤í–‰í•˜ëŠ” ì¿¼ë¦¬ë“¤ë„ ìì£¼ ë³´ì´ëŠ”ë° ì¼ë¶€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì—¬ì§€ê°€ ìˆë‹¤.\nMySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ì ˆëŒ€ë¡œ ì•„ìš°í„°ë¡œ ì¡°ì¸ë˜ëŠ” í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ì´ ë–¨ì–´ì§€ëŠ” ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ìˆ˜ ìˆë‹¤. ì´ë„ˆ ì¡°ì¸ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¿¼ë¦¬ë¥¼ ì•„ìš°í„° ì¡°ì¸ìœ¼ë¡œ ì‘ì„±í•˜ë©´ ì˜µí‹°ë§ˆì´ì €ê°€ ì¡°ì¸ ìˆœì„œë¥¼ ë³€ê²½í•˜ë©° ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ìµœì í™” ê¸°íšŒë¥¼ ë¹¼ì•—ëŠ” ê²°ê³¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. í•„ìš”í•œ ë°ì´í„°ê°€ ì¡°ì¸ë˜ëŠ” í…Œì´ë¸” ê°„ì˜ ê´€ê³„ë¥¼ ëª…í™•íˆ íŒŒì•…í•´ì„œ ê¼­ í•„ìš”í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ì´ë„ˆ ì¡°ì¸ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì•„ìš°í„° ì¡°ì¸ìœ¼ë¡œ ì¡°ì¸ë˜ëŠ” í…Œì´ë¸”ì— ëŒ€í•œ ì¡°ê±´ì„ WHERE ì ˆì— í•¨ê»˜ ëª…ì‹œí•˜ëŠ” ê²ƒ ì´ë‹¤. ì•„ìš°í„° ì¡°ì¸ ë“œë¦¬ë¸ í…Œì´ë¸” ì»¬ëŸ¼ì— IS NULLì´ì™¸ì˜ ì¡°ê±´ì´ ìˆëŠ” ê²½ìš° ì˜µí‹°ë§ˆì´ì €ê±° INNER JOINìœ¼ë¡œ ë³€ê²½í•œë‹¤. JOINê³¼ ì™¸ë˜í‚¤(FOREIGN KEY) ì™¸ë˜í‚¤ë¥¼ ìƒì„±í•˜ëŠ” ì£¼ëª©ì ì€ ë°ì´í„°ì˜ ì°¸ì¡° ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ì„œì´ë©°, ì™¸ë˜í‚¤ëŠ” ì¡°ì¸ ì²˜ë¦¬ì™€ ì•„ë¬´ ê´€ê³„ê°€ ì—†ë‹¤.\nSQLë¡œ í…Œì´ë¸” ê°„ì˜ ì¡°ì¸ì€ ì „í˜€ ë¬´ê´€í•œ ì»¬ëŸ¼ì„ ì¡°ì¸ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•´ë„ ë¬¸ë²•ì ìœ¼ë¡œ ë¬¸ì œê°€ ë˜ì§„ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ë°ì´í„° ëª¨ë¸ë§ì„ í•  ë•ŒëŠ” ê° í…Œì´ë¸”ê°„ì˜ ê´€ê³„ë¥¼ í‘œí˜„í•˜ì§€ë§Œ ì™¸ë˜í‚¤ë¡œ ìƒì„±í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë” ë§ë‹¤. í…Œì´ë¸” ê°„ì˜ ì¡°ì¸ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì™¸ë˜í‚¤ê°€ í•„ìš”í•œ ê²ƒì€ ì•„ë‹ˆë‹¤. ì§€ì—°ëœ ì¡°ì¸(Delayed Join) ì§€ì—°ëœ ì¡°ì¸ì´ë€ ì¡°ì¸ì´ ì‹¤í–‰ë˜ê¸° ì´ì „ì— GROUP BY, ORDER BYë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì„ ì˜ë¯¸í•œë‹¤.\nì¡°ì¸ì„ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ì— GROUP BY, ORDER BYë¥¼ ì‚¬ìš©í•  ë•Œ ê° ì²˜ë¦¬ ë°©ë²•ì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì´ë¯¸ ìµœì ìœ¼ë¡œ ì²˜ë¦¬ë˜ê³  ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ MySQL ì„œë²„ëŠ” ëª¨ë“  ì¡°ì¸ì„ ì‹¤í–‰í•œ í›„ GROUP BY, ORDER BYë¥¼ ì²˜ë¦¬í•œë‹¤.\nì¡°ì¸ì€ ëŒ€ì²´ë¡œ ì‹¤í–‰ë˜ë©´ ë ìˆ˜ë¡ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ë¯€ë¡œ GROUP BY, ORDER BYê°€ ìˆ˜í–‰ë  ë•ŒëŠ” ì¡°ì¸ ì „ ë ˆì½”ë“œì— ìˆ˜í–‰í•  ë•Œ ë³´ë‹¤ ë§ì€ ë ˆì½”ë“œë¥¼ ì²˜ë¦¬í•´ì•¼í•œë‹¤.\nì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•œ ìµœì í™”ì´ë©°, ì£¼ë¡œ LIMITì™€ ì‚¬ìš©ë  ë•Œ í° íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.\nì§€ì—°ëœ ì¡°ì¸ ë¯¸ì ìš©\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 EXPLAIN SELECT e.* FROM salaries s, employees e WHERE e.emp_no = s.emp_no AND s.emp_no BETWEEN 10001 AND 13000 GROUP BY s.emp_no ORDER BY SUM(s.salary) DESC LIMIT 10 ; /* +----+-------------+-------+------------+-------+-------------------+---------+---------+--------------------+------+----------+----------------------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+-------+------------+-------+-------------------+---------+---------+--------------------+------+----------+----------------------------------------------+ | 1 | SIMPLE | e | NULL | range | PRIMARY | PRIMARY | 4 | NULL | 3000 | 100.00 | Using where; Using temporary; Using filesort | | 1 | SIMPLE | s | NULL | ref | PRIMARY,ix_salary | PRIMARY | 4 | employees.e.emp_no | 9 | 100.00 | NULL | +----+-------------+-------+------------+-------+-------------------+---------+---------+--------------------+------+----------+----------------------------------------------+ */ employees í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•˜ì—¬ ì¡°ê±´ì— ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì½ê³ , salaries í…Œì´ë¸”ì„ ì¡°ì¸í•œë‹¤. ì¡°ì¸ì˜ ê²°ê³¼ 12,000ê±´ì˜ ë ˆì½”ë“œë¥¼ ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥í•˜ê³  GROUP BY ì²˜ë¦¬ë¥¼ í†µí•´ 3000ê±´ìœ¼ë¡œ ì¤„ì¸ë‹¤. ORDER BY ì²˜ë¦¬ í›„ ìƒìœ„ 10ê±´ì„ ë°˜í™˜í•œë‹¤. ì§€ì—°ëœ ì¡°ì¸ ì ìš©\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 EXPLAIN SELECT e.* FROM (SELECT s.emp_no FROM salaries s WHERE s.emp_no BETWEEN 10001 AND 13000 GROUP BY s.emp_no ORDER BY SUM(s.salary) DESC LIMIT 10) x, employees e WHERE e.emp_no = x.emp_no ; /* +----+-------------+------------+------------+--------+-------------------+---------+---------+----------+-------+----------+----------------------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+------------+------------+--------+-------------------+---------+---------+----------+-------+----------+----------------------------------------------+ | 1 | PRIMARY | \u0026lt;derived2\u0026gt; | NULL | ALL | NULL | NULL | NULL | NULL | 10 | 100.00 | NULL | | 1 | PRIMARY | e | NULL | eq_ref | PRIMARY | PRIMARY | 4 | x.emp_no | 1 | 100.00 | NULL | | 2 | DERIVED | s | NULL | range | PRIMARY,ix_salary | PRIMARY | 4 | NULL | 56844 | 100.00 | Using where; Using temporary; Using filesort | +----+-------------+------------+------------+--------+-------------------+---------+---------+----------+-------+----------+----------------------------------------------+ -\u0026gt; Nested loop inner join (cost=5 rows=0) -\u0026gt; Table scan on x (cost=2.5..2.5 rows=0) -\u0026gt; Materialize (cost=0..0 rows=0) -\u0026gt; Limit: 10 row(s) -\u0026gt; Sort: sum(s.salary) DESC, limit input to 10 row(s) per chunk -\u0026gt; Stream results (cost=17107 rows=56844) -\u0026gt; Group aggregate: sum(s.salary) (cost=17107 rows=56844) -\u0026gt; Filter: (s.emp_no between 10001 and 13000) (cost=11423 rows=56844) -\u0026gt; Index range scan on s using PRIMARY over (10001 \u0026lt;= emp_no \u0026lt;= 13000) (cost=11423 rows=56844) -\u0026gt; Single-row index lookup on e using PRIMARY (emp_no=x.emp_no) (cost=0.26 rows=1) */ ì§€ì—°ëœ ì¡°ì¸ìœ¼ë¡œ ê°œì„ ëœ ì¿¼ë¦¬ëŠ” ì„ì‹œ í…Œì´ë¸”ì„ í•œ ë²ˆ ë” ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ëŠë¼ë‹¤ê³  ì˜ˆìƒí•  ìˆ˜ë„ ìˆì§€ë§Œ, ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥í•  ë ˆì½”ë“œê°€ ì ìœ¼ë¯€ë¡œ ë©”ëª¨ë¦¬ë¥¼ ì´ìš©í•´ ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤. ì‹¤í–‰ ê³„íšìƒìœ¼ë¡œ ë³´ë©´ ì§€ì—°ëœ ì¡°ì¸ìœ¼ë¡œ ë³€ê²½ëœ ì¿¼ë¦¬ê°€ ëŠë¦´ ê²ƒ ê°™ì§€ë§Œ ì‹¤ì œë¡œëŠ” 3~4ë°° ë¹ ë¥´ë‹¤.\nì§€ì—°ëœ ì¿¼ë¦¬ì˜ ì›ë¦¬ë¥¼ ì •í™•íˆ ì´í•´í•˜ì§€ ëª»í•œ ìƒíƒœë¡œ ì‘ì„±í•˜ë©´ ì˜¤íˆë ¤ ì—­íš¨ê³¼ê°€ ë‚  ìˆ˜ë„ ìˆì§€ë§Œ ì˜ íŠœë‹ëœ ì§€ì—°ëœ ì¿¼ë¦¬ëŠ” ì›ë˜ ì¿¼ë¦¬ë³´ë‹¤ í›¨ì”¬ ê°œì„ ë  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ëª¨ë“  ì¿¼ë¦¬ë¥¼ ì§€ì—°ëœ ì¿¼ë¦¬ í˜•íƒœë¡œ ê°œì„ í•  ìˆ˜ ìˆëŠ”ê²ƒì´ ì•„ë‹ˆë©° ì•„ë˜ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼í•œë‹¤.\nLEFT (OUTER) JOIN ë“œë¼ì´ë¹™ í…Œì´ë¸”ê³¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì€ 1:1, M:1 ê´€ê³„ì—¬ì•¼ í•œë‹¤. INNER JOIN ë“œë¼ì´ë¹™ í…Œì´ë¸”ê³¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì€ 1:1, M:1 ê´€ê³„ì—¬ì•¼ í•œë‹¤. ë“œë¼ì´ë¹™ í…Œì…ë¥´ì— ìˆëŠ” ë ˆì½”ë“œëŠ” ë“œë¦¬ë¸ í…Œì´ë¸”ì— ëª¨ë‘ ì¡´ì¬í•´ì•¼ í•œë‹¤. ë‘ ë²ˆì§¸ì™€ ì„¸ë²ˆì§¸ ì¡°ê±´ì€ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì„ ì„œë¸Œì¿¼ë¦¬ë¡œ ë§Œë“¤ê³  ì´ ì„œë¸Œì¿¼ë¦¬ì— LIMITë¥¼ ì¶”ê°€í•´ë„ ìµœì¢… ê²°ê³¼ì˜ ê±´ìˆ˜ê°€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë³´ì¦ì„ í•´ì£¼ëŠ” ì¡°ê±´ì´ê¸° ë•Œë¬¸ì— ë°˜ë“œì‹œ ì •í™•íˆ í™•ì¸í•œ í›„ ì ìš©í•´ì•¼ í•œë‹¤. ì§€ì—°ëœ ì¡°ì¸ì€ ì¡°ì¸ì˜ ê°œìˆ˜ë¥¼ ì¤„ì´ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼ GROUP BY, ORDER BY ì²˜ë¦¬ê°€ í•„ìš”í•œ ë ˆì½”ë“œì˜ ì „ì²´ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ì—­í• ë„ í•œë‹¤.\në˜í„°ëŸ´ ì¡°ì¸(Lateral Join) MySQL ë²„ì „ë¶€í„°ëŠ” ë˜í„°ëŸ´ ì¡°ì¸ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•´ íŠ¹ì • ê·¸ë£¹ë³„ë¡œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ì„œ ê·¸ ê²°ê³¼ì™€ ì¡°ì¸í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡Œë‹¤.\n1 2 3 4 5 6 7 8 9 10 SELECT * FROM employees e LEFT JOIN LATERAL ( SELECT * FROM salaries s WHERE s.emp_no = e.emp_no ORDER BY s.from_date DESC LIMIT 2 ) s2 ON s2.emp_no = e.emp_no WHERE e.frist_name = \u0026#39;Matt\u0026#39; ; ìœ„ ì¿¼ë¦¬ëŠ” employees í…Œì…ë¥´ì—ì„œ ì´ë¦„ì´ Mattì¸ ì‚¬ì›ì— ëŒ€í•´ ì‚¬ì›ë³„ë¡œ ê°€ì¥ ìµœê·¼ ê¸‰ì—¬ ë³€ê²½ ë‚´ì—­ì„ ìµœëŒ€ 2ê±´ì”©ë§Œ ë°˜í™˜í•œë‹¤.\në˜í„°ëŸ´ ì¡°ì¸ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì€ FROM ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ì—ì„œ ì™¸ë¶€ ì¿¼ë¦¬ì˜ FROM ì ˆì— ì •ì˜ëœ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤. FROM ì ˆì— ì‚¬ìš©í•˜ëŠ” ì„œë¸Œì¿¼ë¦¬ê°€ ì™¸ë¶€ ì¿¼ë¦¬ì˜ ì»¬ëŸ¼ì„ ì°¸ì¡°í•˜ê¸° ìœ„í•´ì„œëŠ” LATERAL í‚¤ì›Œë“œë¥¼ ëª…ì‹œí•´ì•¼í•˜ë©° ëˆ„ë½ëœë‹¤ë©´ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\nLATERAL í‚¤ì›Œë“œë¥¼ ê°€ì§„ ì„œë¸Œì¿¼ë¦¬ëŠ” ì¡°ì¸ ìˆœì„œìƒ í›„ìˆœìœ„ë¡œ ë°€ë¦¬ê³ , ì™¸ë¶€ ì¿¼ë¦¬ì˜ ê²°ê³¼ ë ˆì½”ë“œ ë‹¨ìœ„ë¡œ ì„ì‹œ í…Œì´ë¸”ì´ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ê¼­ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nì‹¤í–‰ ê³„íšìœ¼ë¡œ ì¸í•œ ì •ë ¬ ííŠ¸ëŸ¬ì§ MySQL 8.0 ì´ì „ ë²„ì „ ê¹Œì§€ëŠ” ì•Œê³ ë¦¬ì¦˜ íŠ¹ì„±ìƒ í…Œì´ë¸”ì—ì„œ ì½ì€ ìˆœì„œê°€ ìœ ì§€ë˜ëŠ” ë„¤ìŠ¤í‹°ë“œ-ë£¨í”„ ë°©ì‹ì˜ ì¡°ì¸ë§Œ ê°€ëŠ¥í–ˆì§€ë§Œ, ì •ë ¬ ìˆœì„œê°€ ë°”ë€ŒëŠ” í•´ì‹œ ì¡°ì¸ì´ ë„ì…ë˜ë©´ì„œ ì„ íƒë˜ëŠ” ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì‹¤í–‰ ê³„íšì€ ì˜µí‹°ë§ˆì´ì €ì— ì˜í•´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì •ë ¬ëœ ê²°ê³¼ê°€ í•„ìš”í•œ ê²½ìš°ë¼ë©´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ìˆœì„œì— ì˜ì¡´í•˜ì§€ ë§ê³  ORDER BYì ˆì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n","date":"2023-07-21T11:13:10+09:00","image":"https://codemario318.github.io/post/real-mysql/11/4/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/11/4/1/","title":"11.4 ì¿¼ë¦¬ ì‘ì„± ë° ìµœì í™” - SELECT (1)"},{"content":"ì»¬ëŸ¼ ì´ë¦„ê³¼ ë‹¬ë¦¬ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œ ì„±ëŠ¥ì— ê´€ë ¨ëœ ì¤‘ìš”í•œ ë‚´ìš©ì´ Extra ì»¬ëŸ¼ì— ì§€ì£¼ í‘œì‹œëœë‹¤.\nê³ ì •ëœ ëª‡ê°œì˜ ë¬¸ì¥ì´ í‘œì‹œë˜ëŠ”ë°, ì¼ë°˜ì ìœ¼ë¡œ 2~3ê°œì”© í•¨ê»˜ í‘œì‹œëœë‹¤. ë‚´ë¶€ì ì¸ ì²˜ë¦¬ ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•´ ì¡°ê¸ˆ ë” ê¹Šì´ ìˆëŠ” ë‚´ìš©ì„ ë³´ì—¬ì£¼ëŠ” ê²½ìš°ê°€ ë§ë‹¤. const row not found ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œ const ì ‘ê·¼ ë°©ë²•ìœ¼ë¡œ í…Œì´ë¸”ì„ ì½ì—ˆì§€ë§Œ ì‹¤ì œë¡œ í•´ë‹¹ í…Œì´ë¸”ì— ë ˆì½”ë“œê°€ 1ê±´ë„ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° í‘œì‹œëœë‹¤.\nDeleting all rows MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ê³¼ ê°™ì´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ í•¸ë“¤ëŸ¬ ì°¨ì›ì—ì„œ í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ê²½ìš° í‘œì‹œëœë‹¤.\nWHERE ì¡°ê±´ì ˆì´ ì—†ëŠ” DELETE ë¬¸ì¥ì˜ ì‹¤í–‰ ê³„íšì—ì„œ ìì£¼ í‘œì‹œëœë‹¤. í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ì‚­ì œí•˜ëŠ” í•¸ë“¤ëŸ¬ ê¸°ëŠ¥(API)ì„ í•œë²ˆ í˜¸ì¶œí•´ì„œ ì²˜ë¦¬ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. MySQL 8.0 ë²„ì „ë¶€í„° InnoDB, MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ëª¨ë‘ í•´ë‹¹ ìµœì í•˜ëŠ” í‘œì‹œí•˜ì§€ ì•Šìœ¼ë©°, í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ì‚­ì œí•˜ê³ ì í•œë‹¤ë©´ WHERE ì¡°ê±´ì ˆì´ ì—†ëŠ” DELETE ë³´ë‹¤ TURNCATE TABLE ëª…ë ¹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.\nDistinct ì¿¼ë¦¬ì˜ DISTINCTë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì¡°ì¸í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” í•­ëª©ì€ ë¬´ì‹œí•˜ê³  ê³¡ í•„ìš”í•œ ê²ƒë§Œ ì¡°ì¸í–ˆì„ ê²½ìš° í‘œì‹œëœë‹¤.\nFirstMatch ì„¸ë¯¸ ì¡°ì¸ ìµœì í™” ì¤‘ì—ì„œ FirstMatch ì „ëµì´ ì‚¬ìš©ë˜ë©´ í‘œì‹œëœë‹¤.\nFull scan on NULL key col1 IN (SELECT col2 FROM ...)ê³¼ ê°™ì€ ì¡°ê±´ì„ ê°€ì§„ ì¿¼ë¦¬ì—ì„œ col1ì˜ ê°’ì´ NULLì´ ê°€ëŠ¥í•  ê²½ìš° í‘œì‹œëœë‹¤.\ncol1ì˜ ê°’ì´ NULL ì¼ ê²½ìš° ê²°ê³¼ì ìœ¼ë¡œ ì¡°ê±´ì€ NULL IN (SELECT col2 FROM ...)ë¡œ ì²˜ë¦¬ë˜ëŠ”ë°, ì´ ë•Œ ì°¨ì„ ì±…ìœ¼ë¡œ ì„œë¸Œì¿¼ë¦¬ í…Œì´ë¸”ì— ëŒ€í•´ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‚¬ìš©í•  ê²ƒì´ë¼ëŠ” ì‚¬ì‹¤ì„ ì•Œë ¤ì£¼ëŠ” í‚¤ì›Œë“œì´ë‹¤.\nIN, NOT IN ì—°ì‚°ì ì™¼ìª½ ê°’ì´ NULLì¸ ë ˆì½”ë“œê°€ ìˆê³  ê°œë³„ì ìœ¼ë¡œ WHERE ì¡°ê±´ì´ ì§€ì •ë˜ì–´ ìˆë‹¤ë©´ ì„±ëŠ¥ì— í° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\ncol1ì´ NOT NULLë¡œ ì •ì˜ëœ ì»¬ëŸ¼ì´ë¼ë©´ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤. NULL ë¹„êµ ì¡°ê±´ì„ ë¬´ì‹œí•´ë„ ê´œì°®ë‹¤ë©´ IS NOT NULL ì¡°ê±´ì„ ì¶”ê°€í•˜ë©´ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤. IN, NOT IN ì—°ì‚°ì ì™¼ìª½ì— ìˆëŠ” ê°’ì— ì‹¤ì œë¡œ NULLì´ ì—†ë‹¤ë©´ í’€ í…Œì´ë¸” ìŠ¤ìº”ì€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. SQL í‘œì¤€ì—ì„œ NULLì„ ì•Œ ìˆ˜ ì—†ëŠ” ê°’ìœ¼ë¡œ ì •ì˜í•˜ê³  ìˆìœ¼ë©° NULL ì—°ì‚°ì— ëŒ€í•œ ê·œì¹™ì„ ì •ì˜í•˜ê³  ìˆë‹¤.\nì„œë¸Œì¿¼ë¦¬ê°€ 1ê±´ì´ë¼ë„ ê²°ê³¼ ë ˆì½”ë“œë¥¼ ê°€ì§„ë‹¤ë©´ ìµœì¢… ë¹„êµ ê²°ê³¼ëŠ” NULL ì„œë¸Œì¿¼ë¦¬ê°€ 1ê±´ë„ ê²°ê³¼ ë ˆì½”ë“œë¥¼ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤ë©´ ìµœì¢… ë¹„êµ ê²°ê³¼ëŠ” FALSE ì´ëŸ¬í•œ ë¹„êµ ê³¼ì •ì—ì„œ col1ì´ NULLì´ë©´ ì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš©ëœ í…Œì´ë¸”ì— ëŒ€í•´ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í•´ì•¼ë§Œ ê²°ê³¼ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤. Impossible HAVING ì¿¼ë¦¬ì— ì‚¬ìš©ëœ HAVING ì ˆì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œê°€ ì—†ì„ ë•Œ í‘œì‹œëœë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¿¼ë¦¬ ì¤‘ì—ì„œ í•´ë‹¹ ë©”ì‹œì§€ê°€ ì¶œë ¥ëœë‹¤ë©´ ì¿¼ë¦¬ê°€ ì œëŒ€ë¡œ ì‘ì„±ë˜ì§€ ëª»í•œ ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë¯€ë¡œ ì¿¼ë¦¬ì˜ ë‚´ìš©ì„ ë‹¤ì‹œ ì ê²€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. Impossible WHERE WHERE ì¡°ê±´ì´ í•­ìƒ FALSEê°€ ë  ìˆ˜ ë°–ì— ì—†ëŠ” ê²½ìš° í‘œì‹œëœë‹¤.\nLooseScan ì„¸ë¯¸ ì¡°ì¸ ìµœì í™” ì¤‘ì—ì„œ LooseScan ìµœì í™” ì „ëµì´ ì‚¬ìš©ë  ê²½ìš° í‘œì‹œëœë‹¤.\nNo matching (min/max) row MIN(), MAX()ì™€ ê°™ì€ ì§‘í•© í•œìˆ˜ê°€ ìˆëŠ” ì¿¼ë¦¬ì˜ ì¡°ê±´ì ˆì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ í•œ ê±´ë„ ì—†ì„ ê²½ìš° ì¶œë ¥ë˜ë©°, ê²°ê³¼ë¡œ NULLì´ ë°˜í™˜ëœë‹¤.\nno matching row in const table ì¡°ì¸ì—ì„œ ì‚¬ìš©ëœ í…Œì´ë¸”ì—ì„œ const ì ‘ê·¼ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼í•  ë•Œ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ ì—†ì„ê²½ìš° í‘œì‹œëœë‹¤.\nNo matching rows after partition pruning íŒŒí‹°ì…˜ëœ í…Œì´ë¸”ì— ëŒ€í•œ UPDATE, DELETE ëª…ë ¹ ì‹¤í–‰ì‹œ í•´ë‹¹ íŒŒí‹°ì…˜ì—ì„œ ëŒ€ìƒ ë ˆì½”ë“œê°€ ì—†ì„ ê²½ìš° í‘œì‹œëœë‹¤.\nNo tables used FROM ì ˆì´ ì—†ëŠ” ì¿¼ë¦¬ ë¬¸ì¥ì´ë‚˜ FROM DUAL í˜•íƒœì˜ ì¿¼ë¦¬ ì‹¤í–‰ ê³„íšì—ì„œ ì¶œë ¥ëœë‹¤.\nMySQL ì„œë²„ëŠ” FROM ì ˆì´ ì—†ëŠ” ì¿¼ë¦¬ë„ í—ˆìš©ëœë‹¤.\nNot exists ì•„ìš°í„° ì¡°ì¸ì„ ì´ìš©í•´ ì•ˆí‹° ì¡°ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ì¿¼ë¦¬ì—ì„œ í‘œì‹œëœë‹¤.\nì˜µí‹°ë§ˆì´ì €ê°€ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì´ìš©í•´ í…Œì´ë¸”ì„ ì¡°ì¸í•  ë•Œ ë ˆì½”ë“œê°€ ì¡´ì¬í•˜ëŠ”ì§€ë§Œ íŒë‹¨í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì¡°ì¸ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ ì—¬ëŸ¬ ê±´ ìˆë‹¤ê³  í•˜ë”ë¼ë„ 1ê±´ë§Œ ì¡°íšŒí•´ë³´ê³  ì²˜ë¦¬ë¥¼ ì™„ë£Œí™”ëŠ” ìµœì í™”ë¥¼ ì˜ë¯¸í•œë‹¤. ì•ˆí‹° ì¡°ì¸(Anti-join)ì´ë€?\nA í…Œì´ë¸”ì—ì„œëŠ” ì¡´ì¬í•˜ì§€ë§Œ B í…Œì´ë¸”ì—ëŠ” ì—†ëŠ” ê°’ì„ ì¡°íšŒí•´ì•¼ í•˜ëŠ” ê²½ìš° NOT IN (subquery), NOT EXISTS ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì´ëŸ¬í•œ í˜•íƒœì˜ ì¡°ì¸ì„ ì•ˆí‹°-ì¡°ì¸ì´ë¼ê³  í•œë‹¤.\në˜‘ê°™ì€ ì²˜ë¦¬ë¥¼ ì•„ìš°í„° ì¡°ì¸ì„ ì´ìš©í•´ì„œë„ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ë° ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì„ ê²½ìš° ì•„ìš°í„° ì¡°ì¸ì„ ì´ìš©í•˜ë©´ ë” ë¹ ë¥¸ ì„±ëŠ¥ì„ ë‚¼ ìˆ˜ ìˆë‹¤.\nPlan isn\u0026rsquo;t ready yet MySQL 8.0 ë²„ì „ì—ì„œëŠ” ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ EXPLAIN FOR CONNECTION ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, ì´ ë•Œ í•´ë‹¹ ì»¤ë„¥ì…˜ì—ì„œ ì•„ì§ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ì§€ ëª»í•œ ê²½ìš° í•´ë‹¹ ë©”ì‹œì§€ê°€ ì¶œë ¥ëœë‹¤.\nì´ ê²½ìš° ëŒ€ìƒ ì»¤ë„¥ì…˜ì˜ ì¿¼ë¦¬ê°€ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ì—¬ìœ  ì‹œê°„ì„ ì£¼ê³  ë‹¤ì‹œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ëœë‹¤. Range checked for each record(index map:N) 1 2 3 4 5 6 EXPLAIN SELECT * FROM employees e1 , employees e2 WHERE e2.emp_no \u0026gt;= e1.emp_no ; ë‘ ê°œì˜ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ëŠ” ê²½ìš° ì¡°ì¸ ì¡°ê±´ì— ìƒìˆ˜ê°€ ì—†ê³  ë‘˜ ë‹¤ ë³€ìˆ˜ì¸ ê²½ìš° MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” e1ì˜ ë ˆì½”ë“œë¥¼ ì½ì„ ë•Œë§ˆë‹¤ e1.emp_no ê°’ì´ ê³„ì† ë³€í™”í•˜ë¯€ë¡œ ì¿¼ë¦¬ì˜ ë¹„ìš© ê³„ì‚°ì„ ìœ„í•œ ê¸°ì¤€ê°’ì´ ë°”ë€Œë¯€ë¡œ ì–´ë–¤ ì ‘ê·¼ ë°©ë²•ìœ¼ë¡œ e2 í…Œì´ë¸”ì„ ì½ëŠ” ê²ƒì´ ì¢‹ì„ì§€ íŒë‹¨í•  ìˆ˜ ì—†ë‹¤.\nì¡°ê±´ì— ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì¡°íšŒí•˜ê¸° ìœ„í•´ e1 í…Œì´ë¸”ì„ ì²˜ìŒë¶€í„° ëê¹Œì§€ ìŠ¤ìº”í•˜ë©° e2 í…Œì´ë¸”ì—ì„œ ì¡°ê±´ì„ ë¹„êµí•´ì•¼ í•œë‹¤.\nì‚¬ë²ˆì´ 1 ~ 1ì–µ ë²ˆ ê¹Œì§€ ìˆë‹¤ê³  ê°€ì •í•˜ë©´ e1.emp_noê°€ 1ì¸ ê²½ìš° e2 í…Œì´ë¸”ì˜ 1ì–µ ê±´ì„ ëª¨ë‘ ì½ì–´ì•¼ í•˜ê³ , e1.emp_noê°€ 1ì–µì¸ ê²½ìš° e2 í…Œì´ë¸”ì„ í•œ ê±´ë§Œ ì½ìœ¼ë©´ ëœë‹¤.\në”°ë¼ì„œ e1 í…Œì´ë¸”ì˜ emp_noê°€ ì‘ì„ ë•ŒëŠ” e2 í…Œì´ë¸”ì„ í’€ í…Œì´ë¸” ìŠ¤ìº”ìœ¼ë¡œ ì ‘ê·¼í•˜ê³ , e1 í…Œì´ë¸”ì˜ emp_noê°€ í° ê°’ì¼ ë•ŒëŠ” e2 í…Œì´ë¸”ì„ ë ˆì¸ì§€ ìŠ¤ìº”ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” í˜•íƒœë¡œ ìˆ˜í–‰ë˜ëŠ” ê²ƒì´ ìµœì ì˜ ì¡°ì¸ ë°©ë²•ì´ë‹¤.\nì´ë ‡ê²Œ ë ˆì½”ë“œë§ˆë‹¤ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº” ì‚¬ìš©ì´ ë” ì í•©í•œì§€ ì²´í¬í•˜ëŠ” ì‹¤í–‰ ê³„íšì´ í™œìš©ë  ê²½ìš° \u0026ldquo;Range checked for each record\u0026quot;ê°€ ë…¸ì¶œë˜ê³ , ì¶œë ¥ ë‚´ìš©ì—ì„œ í‘œì‹œë˜ëŠ” \u0026ldquo;(index map: N)\u0026ldquo;ì€ ì¸ë±ìŠ¤ê°€ í™œìš©ë  ê²½ìš° ì‚¬ìš©ë  í›„ë³´ ì¸ë±ìŠ¤ ìˆœë²ˆì˜ 16ì§„ìˆ˜ë¡œ ê°’ìœ¼ë¡œ ì‹¤ì œ í™•ì¸ ì‹œ ì–´ë–¤ ë ˆì½”ë“œê°€ ì‚¬ìš©ë ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤.\nRecursive MySQL 8.0 ë²„ì „ë¶€í„° CTE(Common Table Expression)ë¥¼ ì´ìš©í•´ ì¬ê·€ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìœ¼ë©°, ì¬ê·€ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì€ Recursiveë¡œ í‘œì‹œëœë‹¤.\n1 2 3 4 5 6 7 8 WITH RECURSIVE cte (n) AS ( SELECT 1 UNION ALL SELECT n + 1 FROM cte WHERE n \u0026lt; 5 ) SELECT * FROM cte ; \u0026rsquo;n\u0026rsquo; ì´ë¼ëŠ” ì»¬ëŸ¼ í•˜ë‚˜ë¥¼ ê°€ì§„ cteë¼ëŠ” ì´ë¦„ì˜ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸” ìƒì„± \u0026rsquo;n\u0026rsquo; ì»¬ëŸ¼ì˜ ê°’ì´ 1ë¶€í„° 5 ê¹Œì§€ 1ì”© ì¦ê°€ì‹œì¼œ ë ˆì½”ë“œë¥¼ 5ê±´ ë§Œë“¤ê³  cte ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥ WITH êµ¬ë¬¸ì„ ì´ìš©í•œ CTEê°€ ì‚¬ìš©ëë‹¤ê³  ë°˜ë“œì‹œ \u0026ldquo;Recursive\u0026rdquo; ë¬¸êµ¬ê°€ í‘œì‹œë˜ëŠ” ê²ƒì´ ì•„ë‹Œ, WITH êµ¬ë¶„ì´ **ì¬ê·€ CTE(Recursive CTE)**ë¡œ ì‚¬ìš©ë  ê²½ìš°ì—ë§Œ ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.\nRematerialize MySQL ë²„ì „ë¶€í„° ë˜í„°ëŸ´ ì¡°ì¸(LATERAL JOIN) ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆëŠ”ë°, ë˜í„°ëŸ´ë¡œ ì¡°ì¸ë˜ëŠ” í…Œì´ë¸”ì€ ì„ í–‰ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë³„ë¡œ ì„œë¸Œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ì„œ ê·¸ ê²°ê³¼ë¥¼ ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥í•œë‹¤. ì´ ê³¼ì •ì„ \u0026ldquo;Rematerializing\u0026rdquo; ì´ë¼ê³  í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 SELECT * FROM employees e LEFT JOIN LATERAL ( SELECT * FROM salaries s WHERE s.emp_no=e.emp_no ORDER BY s.from_date DESC LIMIT 2 ) s2 ON s2.emp_no=e.emp_no WHERE e.first_name=\u0026#39;Matt\u0026#39; ; ë˜í„°ëŸ´ ì¡°ì¸\nFROMì ˆ ì„œë¸Œì¿¼ë¦¬ì—ì„œ ë©”ì¸ì¿¼ë¦¬ë¥¼ í™œìš©í•œ ì¡°ê±´ì„ í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ë”°ë¼ì„œ ì„ í–‰ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ë³„ë¡œ ì„œë¸Œ ì¿¼ë¦¬ ì‹¤í–‰ì´ í•„ìš”í•˜ë‹¤.\n(WHERE s.emp_no=e.emp_no)\nSelect tables optimized away MIN(), MAX()ë§Œ SELECT ì ˆì— ì‚¬ìš©ë˜ê±°ë‚˜ GROUP BYë¡œ MIN(), MAX()ë¥¼ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ê°€ ì¸ë±ìŠ¤ë¥¼ ì˜¤ë¦„ì°¨ìˆœ ë˜ëŠ” ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ 1ê±´ë§Œ ì½ëŠ” í˜•íƒœì˜ ìµœì í™”ê°€ ì ìš©ë  ê²½ìš° ë…¸ì¶œëœë‹¤.\nMyISAM í…Œì´ë¸”ì€ ì „ì²´ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì—GROUP BY ì—†ì´ COUNT(*)ë§Œ SELECT í•˜ëŠ” ê²½ìš°ì—ë„ ì´ëŸ¬í•œ í˜•íƒœì˜ ìµœì í™”ê°€ ë°œìƒí•œë‹¤. í•˜ì§€ë§Œ WHERE ì¡°ê±´ì ˆì´ ìˆëŠ” ì¿¼ë¦¬ëŠ” ì´ëŸ¬í•œ ìµœì í™”ë¥¼ ì ìš©í•˜ì§€ ëª»í•œë‹¤.\nStart temporary, End temporary ì„¸ë¯¸ ì¡°ì¸ ìµœì í™” ì¤‘ Duplicate Weed-out ìµœì í™” ì „ëµì´ ì‚¬ìš©ë˜ë©´ í‘œì‹œëœë‹¤.\nDuplicate Weed-out ìµœì í™” ì „ëµì€ ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ê±´ì„ ì œê±°í•˜ê¸° ìœ„í•´ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë•Œ ì¡°ì¸ë˜ì–´ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥ë˜ëŠ” í…Œì´ë¸”ì„ ì‹ë³„í•  ìˆ˜ ìˆë„ë¡ ì¡°ì¸ ì²« í…Œì´ë¸”ì— \u0026ldquo;Start temporary\u0026rdquo;, ì¡°ì¸ì´ ëë‚˜ëŠ” ë¶€ë¶„ì— \u0026ldquo;End temporary\u0026rdquo; ë¬¸êµ¬ë¥¼ í‘œì‹œí•œë‹¤.\nUnique row not found ë‘ ê°œì˜ í…Œì´ë¸”ì´ ê°ê° ìœ ë‹ˆí¬ ì»¬ëŸ¼ìœ¼ë¡œ ì•„ìš°í„° ì¡°ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ì¿¼ë¦¬ì—ì„œ ì•„ìš°í„° í…Œì´ë¸”ê³¼ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ë•Œ í‘œì‹œëœë‹¤.\nUsing filesort ORDER BYë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•  ë•ŒëŠ” ì¡°íšŒëœ ë ˆì½”ë“œë¥¼ ë‹¤ì‹œ ì •ë ¬í•˜ëŠ”ë°, ì´ì²˜ëŸ¼ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ì—¬ ì´ë¯¸ ì¡°íšŒëœ ë ˆì½”ë“œë¥¼ ì •ë ¬ìš© ë©”ëª¨ë¦¬ ë²„í¼ì— ë³µì‚¬í•˜ì—¬ ì •ë ¬ì„ ìˆ˜í–‰í•˜ê²Œ ëœ ê²½ìš° í‘œì‹œëœë‹¤.\nUsing filesort ë¬¸êµ¬ê°€ ì¶œë ¥ë˜ëŠ” ì¿¼ë¦¬ëŠ” ë§ì€ ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¤ë¯€ë¡œ ì¿¼ë¦¬ë¥¼ íŠœë‹í•˜ê±°ë‚˜ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nUsing index(ì»¤ë²„ë§ ì¸ë±ìŠ¤) ë°ì´í„° íŒŒì¼ì„ ì „í˜€ ì½ì§€ ì•Šê³  ì¸ë±ìŠ¤ë§Œ ì½ì–´ ì¿¼ë¦¬ë¥¼ ëª¨ë‘ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ ë•Œ í‘œì‹œëœë‹¤.\nì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì²˜ë¦¬í•˜ëŠ” ì¿¼ë¦¬ì—ì„œ ê°€ì¥ í° ë¶€í•˜ë¥¼ ì°¨ì§€í•˜ëŠ” ë¶€ë¶„ì€ ì¸ë±ìŠ¤ ê²€ìƒ‰ì—ì„œ ì¼ì¹˜í•˜ëŠ” í‚¤ ê°’ë“¤ì˜ ë ˆì½”ë“œë¥¼ ì½ê¸° ìœ„í•´ ë°ì´í„° íŒŒì¼ì„ ê²€ìƒ‰í•˜ëŠ” ì‘ì—…ìœ¼ë¡œ, ìµœì•…ì˜ ê²½ìš° ëª¨ë“  ë ˆì½”ë“œì— ëŒ€í•´ ë””ìŠ¤í¬ë¥¼ ì½ì–´ì•¼ í•  ìˆ˜ ìˆë‹¤.\nì»¤ë²„ë§ ì¸ë±ìŠ¤ëŠ” ì¸ë±ìŠ¤ë¥¼ í†µí•´ ëª¨ë“  ë ˆì½”ë“œë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ ì˜ë¯¸í•˜ë©° ë§¤ìš° ë¹ ë¥¸ ì¡°íšŒ ì„±ëŠ¥ì„ ë³´ì—¬ì¤€ë‹¤.\ní•˜ì§€ë§Œ ë¬´ì¡°ê±´ ì»¤ë²„ë§ ì¸ë±ìŠ¤ë¡œ ì²˜ë¦¬í•˜ë ¤ê³  ì¸ë±ìŠ¤ì— ë§ì€ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ë©´ ê³¼ë„í•˜ê²Œ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì´ ë§ì•„ì§€ë©´ì„œ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ì‹¬í•´ì§€ê³ , ë ˆì½”ë“œë¥¼ ì €ì¥í•˜ê±°ë‚˜ ë³€ê²½í•˜ëŠ” ì‘ì—…ì´ ë§¤ìš° ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.\nì ‘ê·¼ ë°©ë²•(ì‹¤í–‰ ê³„íšì˜ type ì»¬ëŸ¼)ì´ eq_ref, ref, range, index_merge, index ë“±ê³¼ ê°™ì´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì‹¤í–‰ ê³„íšì— í‘œì‹œë  ìˆ˜ ìˆìœ¼ë©°, ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”ì„ ì‹¤í–‰í•  ë•Œë„ ì»¤ë²„ë§ ì¸ë±ìŠ¤ë¡œ ì²˜ë¦¬ë˜ë©´ ì•„ë‹Œ ê²½ìš°ë³´ë‹¤ í›¨ì”¬ ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤.\nUsing index condition ì˜µí‹°ë§ˆì´ì €ê°€ ì¸ë±ìŠ¤ ì»¨ë””ì…˜ í‘¸ì‹œë‹¤ìš´ ìµœì í™”ë¥¼ ì‚¬ìš©í•  ê²½ìš° í‘œì‹œëœë‹¤.\nUsing index for group-by GROUP BY ì²˜ë¦¬ê°€ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•´ ì¶”ê°€ ì •ë ¬ ì‘ì—… ì—†ì´ ìˆ˜í–‰ë  ê²½ìš° í‘œì‹œëœë‹¤.\nGROUP BY ì²˜ë¦¬ë¥¼ ìœ„í•´ ê·¸ë£¨í•‘ ì»¬ëŸ¼ì„ ì´ìš©í•´ ì •ë ¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ë‹¤ì‹œ ì •ë ¬ëœ ê²°ê³¼ë¥¼ ê·¸ë£¨í•‘ í•˜ëŠ” í˜•íƒœì˜ ê³ ë¶€í•˜ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì´ëŸ¬í•œ ì²˜ë¦¬ê°€ ì¸ë±ìŠ¤(B-Tree ì¸ë±ìŠ¤ì— í•œí•´)ë¥¼ ì´ìš©í•˜ë©´ ë³„ë„ì˜ ì¶”ê°€ ì •ë ¬ ì‘ì—… ì—†ì´ ì •ë ¬ëœ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì„ ìˆœì„œëŒ€ë¡œ ì½ìœ¼ë©° ê·¸ë£¨í•‘ ì‘ì—…ë§Œ ìˆ˜í–‰í•˜ê²Œ ë˜ì–´ íš¨ìœ¨ì ì´ê³  ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤.\níƒ€ì´íŠ¸ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ í†µí•œ GROUP BY ì²˜ë¦¬ AVG(), SUM(), COUNT() ì²˜ëŸ¼ ì¡°íšŒí•˜ë ¤ëŠ” ê°’ì´ ëª¨ë“  ì¸ë±ìŠ¤ë¥¼ ë‹¤ ì½ì–´ì•¼ í•  ê²½ìš° í•„ìš”í•œ ë ˆì½”ë“œë§Œ ì½ì„ ìˆ˜ê°€ ì—†ëŠ” ê²½ìš° ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì§€ë§Œ, ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì´ë¼ í•˜ì§€ ì•Šìœ¼ë©°, ì´ ì—ë”°ë¼ ì‹¤í–‰ ê³„íšì—ëŠ” í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤.\në£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ í†µí•œ GROUP BY ì²˜ë¦¬ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì€ í•„ìš”í•œ ë¶€ë¶„ë§Œ í™œìš©í•˜ê¸° ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ë“¬ì„±ë“¬ì„± ì½ëŠ” ì²˜ë¦¬ë¥¼ ì˜ë¯¸í•œë‹¤.\në‹¨ì¼ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ì¸ë±ìŠ¤ì—ì„œëŠ” ê·¸ë£¨í•‘ ì»¬ëŸ¼ ë§ê³ ëŠ” ì•„ë¬´ê²ƒë„ ì¡°íšŒí•˜ì§€ ì•ŠëŠ” ì¿¼ë¦¬ì—ì„œ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤. ë‹¤ì¤‘ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¸ë±ìŠ¤ì—ì„œëŠ” \u0026lsquo;GROUP BY\u0026rsquo; ì ˆì´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , MIN(), MAX() ê°™ì´ ì²« ë²ˆì§¸, ë§ˆì§€ë§‰ ë ˆì½”ë“œë§Œ ì½ì–´ë„ ë˜ëŠ” ê²½ìš° ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. GROUP BYì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´GROUP BY ì¡°ê±´ì—ì„œ ì¸ë±ìŠ¤ë¥´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì´ ê°–ì¶°ì ¸ì•¼ í•˜ì§€ë§Œ ê·¸ ì´ì „ì— WHERE ì ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¸ë±ìŠ¤ì—ì„œë„ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.\nWHERE ì¡°ê±´ì ˆì´ ì—†ëŠ” ê²½ìš° GROUP BY ì ˆì˜ ì»¬ëŸ¼ê³¼ SELECTë¡œ ê°€ì ¸ì˜¤ëŠ” ì»¬ëŸ¼ì´ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì„ ê°–ì¶”ë©´ ëœë‹¤. ê·¸ë ‡ì§€ ëª»í•  ê²½ìš° íƒ€ì´íŠ¸ ì¸ë±ìŠ¤ ìŠ¤ìº”ì´ë‚˜ ë³„ë„ ì •ë ¬ ê³¼ì •ì„ í†µí•´ ì²˜ë¦¬ëœë‹¤. WHERE ì¡°ê±´ì ˆì´ ìˆì§€ë§Œ ê²€ìƒ‰ì„ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° GROUP BY ì ˆì€ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ WHERE ì¡°ê±´ì´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° GROUP BYë¥¼ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ì½ì€ í›„ WHERE ì¡°ê±´ì˜ ë¹„êµë¥¼ ìœ„í•´ ë°ì´í„° ë ˆì½”ë“œë¥¼ ì½ì–´ì•¼ í•œë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ í™œìš©í•  ìˆ˜ ì—†ì–´ íƒ€ì´íŠ¸ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ í†µí•´ ì²˜ë¦¬ëœë‹¤. WHERE ì ˆì˜ ì¡°ê±´ì´ ìˆê³ , ê²€ìƒ‰ì„ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í•˜ë‚˜ì˜ ë‹¨ìœ„ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê²½ìš°ì— index_merge ì´ì™¸ì˜ ì ‘ê·¼ ë°©ë²•ì—ì„œëŠ” ë‹¨ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. WHERE ì ˆì˜ ì¡°ê±´ê³¼ GROUP BY ì²˜ë¦¬ê°€ ë˜‘ê°™ì€ ì¸ë±ìŠ¤ë¥¼ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²½ìš° ë£¨ìŠ¤ ì¸ã„·ê²ŒìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¸ë±ìŠ¤ê°€ ë‹¤ë¥¸ ê²½ìš° ì˜µí‹°ë§ˆì´ì €ëŠ” ì¼ë°˜ì ìœ¼ë¡œ WHERE ì¡°ê±´ ì ˆì´ ì‘ì—… ë²”ìœ„ë¥¼ ì¢íˆëŠ” ëª»í•œë‹¤ê³  í•˜ë”ë¼ë„ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ê²½í–¥ì„ ë³´ì¸ë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì€ ì£¼ë¡œ ëŒ€ëŸ‰ì˜ ë ˆì½”ë“œë¥¼ GROUP BYí•˜ëŠ” ê²½ìš° ì„±ëŠ¥ í–¥ìƒ íš¨ê³¼ê°€ ìˆì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ WHERE, GROUP BY ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²½ìš°ë¼ë„ WHERE ì¡°ê±´ì— ì˜í•´ ê²€ìƒ‰ëœ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì ìœ¼ë©´ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì¶©ë¶„íˆ ë¹ ë¥´ë¯€ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\në£¨ìŠ¤ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì²˜ë¦¬ë³´ë‹¤ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë” ë¹ ë¥´ë‹¤ê³  íŒë‹¨í•œë‹¤ë©´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\nUsing index for skip scan ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ìµœì í™”ë¥¼ ì‚¬ìš©ë  ê²½ìš° í‘œì‹œëœë‹¤.\nUsing join buffer í…Œì´ë¸” ì¡°ì¸ì‹œ ì¡°ì¸ ë²„í¼ê°€ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì— í‘œì‹œëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë¹ ë¥¸ ì¿¼ë¦¬ ì‹¤í–‰ì„ ìœ„í•´ ì¡°ì¸ë˜ëŠ” ì»¬ëŸ¼ì€ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ”ë°, ì‹¤ì œ ì¡°ì¸ì— í•„ìš”í•œ ì¸ë±ìŠ¤ëŠ” ì¡°ì¸ë˜ëŠ” ì–‘ìª½ í…Œì´ë¸” ì»¬ëŸ¼ì´ ì•„ë‹ˆë¼ ì¡°ì¸ì—ì„œ ë’¤ì— ì½ëŠ” í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì´ë‹¤. ë“œë¦¬ë¸ í…Œì´ë¸”ì´ ê²€ìƒ‰ ìœ„ì£¼ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ì¸ë±ìŠ¤ê°€ ì—†ìœ¼ë©´ ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ì»¤ì§€ë¯€ë¡œ, ì¡°ì¸ë˜ëŠ” ë‘ í…Œì´ë¸”ì— ìˆëŠ” ê° ì»¬ëŸ¼ì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì¡°ì‚¬í•˜ê³ , ì¸ë±ìŠ¤ê°€ ì—†ëŠ” í…Œì´ë¸”ì„ ë¨¼ì € ì½ì–´ ì¡°ì¸ì„ ì‹¤í–‰í•œë‹¤. ë“œë¦¬ë¸ í…Œì´ë¸”ì— ê²€ìƒ‰ì„ ìœ„í•œ ì ì ˆí•œ ì¸ë±ìŠ¤ê°€ ì—†ë‹¤ë©´ ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì´ë‚˜ í•´ì‹œ ì¡°ì¸ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë•Œ ì¡°ì¸ ë²„í¼ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©° í•´ë‹¹ ë¬¸êµ¬ê°€ ë…¸ì¶œëœë‹¤. ì¹´í…Œì‹œì•ˆ ì¡°ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ì¿¼ë¦¬ëŠ” í•­ìƒ ì¡°ì¸ ë²„í¼ë¥¼ ì´ìš©í•œë‹¤. Block Nested Loop, Batched Key Access, Hash join ë“± ì‚¬ìš©ëœ ì•Œê³ ë¦¬ì¦˜ì´ ê°™ì´ í‘œì‹œëœë‹¤. Using MRR MMR(Multi Range Read) ìµœì í™”ê°€ ì‚¬ìš©ëœ ê²½ìš° ë…¸ì¶œëœë‹¤.\nMMR? MySQL ì—”ì§„ì´ ì—¬ëŸ¬ ê°œì˜ í‚¤ ê°’ì„ í•œë²ˆì— ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì „ë‹¬í•˜ê³ , ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë„˜ê²¨ë°›ì€ í‚¤ ê°’ë“¤ì„ ì •ë ¬í•´ì„œ ìµœì†Œí•œì˜ í˜ì´ì§€ ì ‘ê·¼ë§ˆëŠ¥ë¡œ í•„ìš”í•œ ë ˆì½”ë“œë¥¼ ì½ëŠ” ìµœì í™” ë°©ë²•ì´ë‹¤.\nInnoDBë¥¼ í¬í•œí•œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨ì—ì„œëŠ” ì¿¼ë¦¬ ì‹¤í–‰ì˜ ì „ì²´ì ì¸ ë¶€ë¶„ì„ ì•Œì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ìµœì í™”ê°€ í•œê³„ê°€ ìˆë‹¤. ì•„ë¬´ë¦¬ ë§ì€ ë ˆì½”ë“œë¥¼ ì½ëŠ” ê³¼ì •ì´ë¼ í•˜ë”ë¼ë„ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ MySQL ì—”ì§„ì´ ë„˜ê²¨ì£¼ëŠ” í‚¤ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë ˆì½”ë“œë¥¼ í•œ ê±´ì”© ì½ì–´ ë°˜í™˜í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™í•œì€ í•œê³„ì ì´ ìˆì—ˆë‹¤. ë§¤ë²ˆ ì½ì–´ì„œ ë°˜í™˜í•˜ëŠ” ë ˆì½”ë“œê°€ ë™ì¼ í˜ì´ì§€ì— ìˆë‹¤ê³  í•˜ë”ë¼ë„ ë ˆì½”ë“œ ë‹¨ìœ„ë¡œ API í˜¸ì¶œì´ í•„ìš”í•˜ë‹¤. Using sort_union, Using union, Using intersect ì¿¼ë¦¬ê°€ index_merge ì ‘ê·¼ ë°©ë²•ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²½ìš° 2ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ê°€ ë™ì‹œì— ì‚¬ìš©ë  ìˆ˜ ìˆëŠ”ë°, ì´ ë•Œ ë‘ ì¸ë±ìŠ¤ë¡œë¶€í„° ì½ì€ ê²°ê³¼ë¥¼ ì–´ë–»ê²Œ ë³‘í•©í–ˆëŠ”ì§€ ì¡°ê¸ˆ ë” ìƒì„¸í•˜ê²Œ ì„¤ëª…í•˜ê¸° ìœ„í•´ 3ê°œ ì¤‘ í•˜ë‚˜ì˜ ë©”ì‹œì§€ë¥¼ ì„ íƒì ìœ¼ë¡œ ì¶œë ¥í•œë‹¤.\nUsing intersect(\u0026hellip;) ê° ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì´ ANDë¡œ ì—°ê²°ëœ ê²½ìš° ê° ì²˜ë¦¬ ê²°ê³¼ì—ì„œ êµì§‘í•©ì„ ì¶”ì¶œí•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œ ê²½ìš° Using union(\u0026hellip;) ê° ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì´ ORë¡œ ì—°ê²°ëœ ê²½ìš° ê° ì²˜ë¦¬ ê²°ê³¼ì—ì„œ í•©ì§‘í•©ì„ ì¶”ì¶œí•´ë‚´ëŠ” ì‘ì—… ìˆ˜í–‰ Using sort_union(\u0026hellip;) Using unionê³¼ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ë§Œ Using unionìœ¼ë¡œ ì²˜ë¦¬ë  ìˆ˜ ì—†ëŠ” ê²½ìš°(ex: ORë¡œ ì—°ê²°ëœ ëŒ€ëŸ‰ì˜ range ì¡°ê±´ë“¤) ì´ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë¨ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë§Œ ë¨¼ì € ì½ì–´ ì ˆë ¬í•˜ê³  ë³‘í•©í•œ ì´í›„ ë ˆì½”ë“œë¥¼ ì½ì–´ì„œ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ ë ˆì½”ë“œ ê±´ìˆ˜ì— ê´€ê³„ ì—†ì´ WHERE ì¡°ê±´ì´ ì‚¬ìš©ëœ ë¹„êµ ì¡°ê±´ì´ ëª¨ë‘ ë™ë“±í•˜ë‹¤ë©´ Using union, ì•„ë‹ ê²½ìš° Using sort_unionì´ ì‚¬ìš©ëœë‹¤.\nUsing temporary ì¿¼ë¦¬ê°€ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬ëœ ê²½ìš° í‘œì‹œëœë‹¤.\nì‚¬ìš©ëœ ì„ì‹œ í…Œì´ë¸”ì´ ë©”ëª¨ë¦¬, ë””ìŠ¤í¬ ì¤‘ ì–´ë””ì— ìƒì„±ë˜ì—ˆëŠ”ì§€ëŠ” ì‹¤í–‰ ê³„íšìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ì—†ë‹¤. Using temporaryê°€ í‘œì‹œë˜ì§€ ì•Šì•„ë„ ë‚´ë¶€ì ìœ¼ë¡œ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•  ë•Œë„ ë§ë‹¤. FROM ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œ ì¿¼ë¦¬ëŠ” ë¬´ì¡°ê±´ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤.(íŒŒìƒ í…Œì´ë¸”) COUNT(DISTINCT col1)ë¥¼ í¬í•¨í•˜ëŠ” ì¿¼ë¦¬ë„ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ë©´ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“ ë‹¤. UNION, UNION DISTINCTê°€ ì‚¬ìš©ëœ ì¿¼ë¦¬ëŠ” í•­ìƒ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•´ ê²°ê³¼ë¥¼ ë³‘í•©í•œë‹¤. MySQL 8.0 ë¶€í„° UNION ALLì˜ ê²½ìš°ëŠ” ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ì •ë ¬ ì‘ì—…ì€ ì„ì‹œ ë²„í¼ ê³µê°„ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì •ë ¬í•´ì•¼ í•  ë ˆì½”ë“œê°€ ë§ì´ì§€ë©´ ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í•˜ë©°, ë””ìŠ¤í¬ì— ì‚¬ìš©ëœ ë²„í¼ë„ ì„ì‹œ í…Œì´ë¸”ê³¼ ë™ì¼í•˜ë‹¤. ì¿¼ë¦¬ê°€ ì •ë ¬ì„ ìˆ˜í–‰í•  ë•Œ ì‹¤í–‰ ê³„íšì˜ Extra ì»¬ëŸ¼ì— Using filesortê°€ í‘œì‹œëœë‹¤. Using where MySQL ì—”ì§„ì€ ë‚´ë¶€ì ìœ¼ë¡œ í¬ê²Œ MySQL ì—”ì§„ê³¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ 2ê°œì˜ ë ˆì´ì–´ë¡œ ë‚˜ëˆ ë³¼ ìˆ˜ ìˆë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë””ìŠ¤í¬ë‚˜ ë©”ëª¨ë¦¬ìƒì—ì„œ í•„ìš”í•œ ë ˆì½”ë“œë¥¼ ì½ëŠ” ì—­í•  ìˆ˜í–‰ MySQL ì—”ì§„ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°›ì€ ë ˆì½”ë“œë¥¼ ê°€ê³µ ë˜ëŠ” ì—°ì‚°í•˜ëŠ” ì‘ì—… ìˆ˜í–‰. ì´ ë•Œ MySQL ì—”ì§„ ë ˆì´ì–´ì—ì„œ ë³„ë„ì˜ ê°€ê³µì„ í•´ì„œ í•„í„°ë§ ì‘ì—…ì„ ì²˜ë¦¬í•œ ê²½ìš° Using whereê°€ í‘œì‹œëœë‹¤. ì‹¤í–‰ ê³„íšì—ì„œ Using where ë¬¸êµ¬ê°€ ë…¸ì¶œëœ ì´ìœ ë¥¼ ì´í•´í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ê°€ ë§ì•„ ì„±ëŠ¥ìƒì˜ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ì§€ ì„ ë³„í•˜ëŠ” ëŠ¥ë ¥ì´ í•„ìš”í•œë°, MySQL 8.0ì—ì„œëŠ” ì‹¤í–‰ ê³„íšì— filtered ì»¬ëŸ¼ì´ í‘œì‹œë˜ë¯€ë¡œ ì„±ëŠ¥ìƒì˜ ì´ìŠˆê°€ ìˆëŠ”ì§€ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤.\nZero limit MySQL ì„œë²„ì—ì„œ ë°ì´í„° ê°’ì´ ì•„ë‹Œ ì¿¼ë¦¬ì˜ ê²°ê³¼ê°’ì˜ ë©”íƒ€ë°ì´í„°ë§Œ í•„ìš”í•œ ê²½ìš° LIMIT 0ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë•Œ ì˜µí‹°ë§ˆì´ì €ê°€ ì‚¬ìš©ìì˜ ì˜ë„ë¥¼ ì•Œì•„ì±„ê³  ì‹¤ì œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œëŠ” ì „í˜€ ì½ì§€ ì•Šìœ¼ë©°, ì´ëŸ¬í•œ ê²½ìš° í•´ë‹¹ ë¬¸êµ¬ê°€ ë…¸ì¶œëœë‹¤.\n","date":"2023-07-12T15:19:10+09:00","image":"https://codemario318.github.io/post/real-mysql/10/3/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/10/3/2/","title":"10.3 ì‹¤í–‰ ê³„íš - ì‹¤í–‰ ê³„íš ë¶„ì„ (2) Extra ì»¬ëŸ¼"},{"content":"EXPLAIN ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì¿¼ë¦¬ ë¬¸ì¥ì˜ íŠ¹ì„±ì— ë”°ë¼ í‘œ í˜•íƒœë¡œ 1ì¤„ ì´ìƒì˜ ê²°ê³¼ê°€ í‘œì‹œëœë‹¤.\ní‘œì˜ ê° ë¼ì¸(ë ˆì½”ë“œ)ì€ ì¿¼ë¦¬ ë¬¸ì¥ì—ì„œ ì‚¬ìš©ëœ í…Œì´ë¸”(ì„ì‹œ í…Œì´ë¸” í¬í•¨)ì˜ ê°œìˆ˜ë§Œí¼ ì¶œë ¥ëœë‹¤.\nì‹¤í–‰ ìˆœì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ìœ„ì—ì„œ ì•„ë˜ë¡œ ìˆœì„œëŒ€ë¡œ í‘œì‹œë˜ë©° ì¶œë ¥ëœ ì‹¤í–‰ ê³„íšì—ì„œ ìœ„ìª½ì— ì¶œë ¥ëœ ê²°ê³¼ì¼ìˆ˜ë¡ ì¿¼ë¦¬ì˜ ë°”ê¹¥ ë¶€ë¶„ì´ê±°ë‚˜ ë¨¼ì € ì ‘ê·¼í•œ í…Œì´ë¸”ì´ê³ , ì•„ë˜ìª½ì— ì¶œë ¥ëœ ê²°ê³¼ì¼ìˆ˜ë¡ ì¿¼ë¦¬ì˜ ì•ˆìª½ ë¶€ë¶„ ë˜ëŠ” ë‚˜ì¤‘ì— ì ‘ê·¼í•œ í…Œì´ë¸”ì— í•´ë‹¹í•œë‹¤.\nid ì»¬ëŸ¼ 1 2 3 SELECT ... FROM (SELECT ... FROM tb_test1) tb1, tb_test2 tb2 WHERE tb1.id = tb2.id; ìœ„ ì¿¼ë¦¬ì˜ SELECTëŠ” 2ê°œì˜ SELECTë¡œ ë¶„ë¦¬í•´ì„œ ìƒê°í•´ë³¼ ìˆ˜ ìˆê³ , ì´ë ‡ê²Œ ë¶„ë¦¬í•œ ë‹¨ìœ„ë¡œ êµ¬ë¶„í•œ ê²ƒì„ ë‹¨ìœ„ ì¿¼ë¦¬ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\n1 2 SELECT ... FROM tb_test1; SELECT ... FROM tb1, tb_test2 tb2 WHERE tb1.id = tb2.id; ì‹¤í–‰ ê³„íšì—ì„œ ê°€ì¥ ì™¼ìª½ì— í‘œì‹œë˜ëŠ” id ì»¬ëŸ¼ì€ ë‹¨ìœ„ SELECT ì¿¼ë¦¬ë³„ë¡œ ë¶€ì—¬ë˜ëŠ” ì‹ë³„ì ê°’ì´ë‹¤. í•˜ë‚˜ì˜ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ë©´ ì¡°ì¸ë˜ëŠ” í…Œì´ë¸”ì˜ ê°œìˆ˜ë§Œí¼ ì‹¤í–‰ ê³„íšì— ë ˆì½”ë“œê°€ ì¶œë ¥ë˜ì§€ë§Œ ê°™ì€ id ê°’ì´ ë¶€ì—¬ëœë‹¤. 1 2 EXPLAIN SELECT ((SELECT COUNT(*) FROM employees) + (SELECT COUNT(*) FROM departments)) AS total_count; ìœ„ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œëŠ” ì¿¼ë¦¬ ë¬¸ì¥ì´ 3ê°œ ë‹¨ìœ„ì˜ SELECT ì¿¼ë¦¬ë¡œ êµ¬ì„±ë˜ì–´ìˆìœ¼ë¯€ë¡œ ì‹¤í–‰ ê³„íšì— ê° ë ˆì½”ë“œê°€ ê°ê¸° ë‹¤ë¥¸ idê°’ì„ ê°€ì§€ê²Œ ëœë‹¤.\nì‹¤í–‰ ê³„íšì˜ id ì»¬ëŸ¼ì´ í…Œì´ë¸”ì˜ ì ‘ê·¼ ìˆœì„œë¥¼ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. select_type ì»¬ëŸ¼ ê° ë‹¨ìœ„ SELECT ì¿¼ë¦¬ê°€ ì–´ë–¤ íƒ€ì…ì˜ã… ì¿¼ë¦¬ì¸ì§€ í‘œì‹œë˜ëŠ” ì»¬ëŸ¼ì´ë‹¤.\nSIMPLE UNION, ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë‹¨ìˆœí•œ SELECT ì¿¼ë¦¬ì¸ ê²½ìš° í•´ë‹¹ ì¿¼ë¦¬ ë¬¸ì¥ì˜ select_typeì€ SIMPLEë¡œ í‘œì‹œëœë‹¤. (ì¿¼ë¦¬ì— ì¡°ì¸ì´ í¬í•¨ëœ ê²½ìš° ê¹Œì§€)\nì¿¼ë¦¬ ë¬¸ì¥ì´ ì•„ë¬´ë¦¬ ë³µì¡í•˜ë”ë¼ë„ ì‹¤í–‰ ê³„íšì—ì„œ select_typeì´ PRIMARYì¸ ë‹¨ìœ„ SELECT ì¿¼ë¦¬ëŠ” í•˜ë‚˜ë§Œ ì¡´ì¬í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì¿¼ë¦¬ì˜ ì œì¼ ë°”ê¹¥ SELECT ì¿¼ë¦¬ê°€ SIMPLEë¡œ í‘œì‹œëœë‹¤. PRIMARY UNION, ì„œë¸Œì¿¼ë¦¬ë¥¼ ê°€ì§€ëŠ” SELECT ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œ ê°€ì¥ ë°”ê¹¥ìª½ì— ìˆëŠ” ë‹¨ìœ„ ì¿¼ë¦¬ëŠ” PRIMARYë¡œ í‘œì‹œëœë‹¤.\nSIMPLEê³¼ ë§ˆì°¬ê°€ì§€ë¡œ PRIMARYì¸ ë‹¨ìœ„ ì¿¼ë¦¬ëŠ” í•˜ë‚˜ë§Œ ì¡´ì¬í•œë‹¤. ì¿¼ë¦¬ì˜ ì œì¼ ë°”ê¹¥ìª½ì— ìˆëŠ” ë‹¨ìœ„ ì¿¼ë¦¬ê°€ PRIMARYë¡œ í‘œì‹œëœë‹¤. UNION UNIONìœ¼ë¡œ ê²°í•©í•˜ëŠ” ë‹¨ìœ„ ì¿¼ë¦¬ ê°€ìš´ë° ì²« ë²ˆì§¸ë¥¼ ì œì™¸í•œ ë‹¨ìœ„ ì¿¼ë¦¬ì˜ select_typeì€ UNIONìœ¼ë¡œ í‘œì‹œëœë‹¤.\nUNIONì˜ ì²«ë²ˆì§¸ ë‹¨ìœ„ ì¿¼ë¦¬ëŠ” UNIONë˜ëŠ” ì¿¼ë¦¬ ê²°ê³¼ë“¤ì„ ëª¨ì•„ì„œ ìì¥í•˜ëŠ” ì„ì‹œí…Œì´ë¸”(DRIVED)ì´ select_typeìœ¼ë¡œ í‘œì‹œëœë‹¤. DEPENDENT UNION UNION, UNION ALLë¡œ ì§‘í•©ì„ ê²°í•¨í•˜ëŠ” ì¿¼ë¦¬ì—ì„œ í‘œì‹œëœë‹¤.\nDEPENDENTëŠ” UNION, UNION ALLë¡œ ê²°í•¨ëœ ë‹¨ìœ„ í€„ì´ê°€ ì™¸ë¶€ ì¿¼ë¦¬ì— ì˜í•´ ì˜í–¥ì„ ë°›ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. UNION RESULT UNION ê²°ê³¼ë¥¼ ë‹´ì•„ë‘ëŠ” í…Œì´ë¸”ì„ ì˜ë¯¸í•œë‹¤.\nMySQL 8.0 ì´ì „ ë²„ì „ì—ì„œëŠ” UNION, UNION ALL ì¿¼ë¦¬ëŠ” ëª¨ë‘ UNIONì˜ ê²°ê³¼ë¥¼ ì„ì‹œ í…Œì´ë¸”ë¡œ ìƒì„±í–ˆëŠ”ë°, UNION ALLì€ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ê°œì„ ë˜ì–´ ì„ì‹œ í…Œì´ë¸” ë²„í¼ë§ì´ í•„ìš”í•œ UNION, UNION DISTINCT ì¿¼ë¦¬ ì‚¬ìš©ì‹œ ë…¸ì¶œëœë‹¤.\nì‹¤í–‰ ê³„íšìƒì—ì„œ í•´ë‹¹ ì„ì‹œ í…Œì´ë¸”ì„ ê°€ë¦¬í‚¤ëŠ” ë¼ì¸ì˜ select_typeì´ UNION RESULTì´ë‹¤. UNION RESULTëŠ” ì‹¤ì œ ì¿¼ë¦¬ì—ì„œ ë‹¨ìœ„ ì¿¼ë¦¬ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— id ê°’ì´ ë¶€ì—¬ë˜ì§€ ì•ŠëŠ”ë‹¤. SUBQUERY ì¼ë°˜ì ìœ¼ë¡œ ì„œë¸Œì¿¼ë¦¬ë¼ê³  í•˜ë©´ ì—¬ëŸ¬ ê°€ì§€ë¥¼ í†µí‹€ì—ì„œ ë§í•˜ì§€ë§Œ, select_typeì˜ SUBQUERYëŠ” FROM ì ˆ ì´ì™¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì„œë¸Œì¿¼ë¦¬ë¥¼ ì˜ë¯¸í•œë‹¤.\nMySQL ì„œë²„ì˜ ì‹¤í–‰ ê³„íšì—ì„œ FROM ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ëŠ” DERIVEDë¡œ í‘œì‹œëœë‹¤.\nì„œë¸Œì¿¼ë¦¬\nì‚¬ìš©ëœ ìœ„ì¹˜ ì¤‘ì²©ëœ ì„œë¸Œì¿¼ë¦¬(Nested Query): SELECT ë˜ëŠ” ì»¬ëŸ¼ì— ì‚¬ìš©ëœ ê²½ìš° ì„œë¸Œì¿¼ë¦¬(Subquery): WHERE ì ˆì—ì„œ ì‚¬ìš©ëœ ê²½ìš° íŒŒìƒ í…Œì´ë¸”(Derived Table): FROM ì ˆì— ì‚¬ìš©ëœ ê²½ìš° ë‹¤ë¥¸ RDBMSì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì¸ë¼ì¸ ë·°(Inline View), ì„œë¸Œ ì…€ë ‰íŠ¸(Sub Select)ë¼ê³  í•œë‹¤. ë°˜í™˜í•˜ëŠ” ê°’ì˜ íŠ¹ì„± ìŠ¤ì¹¼ë¼ ì„œë¸Œì¿¼ë¦¬(Scalar Subquery): í•˜ë‚˜ì˜ ê°’ë§Œ (ì»¬ëŸ¼ì´ ë‹¨ í•˜ë‚˜ì¸ ë ˆì½”ë“œ 1ê±´ë§Œ) ë°˜í™˜. ë¡œìš° ì„œë¸Œì¿¼ë¦¬(Row Subquery): ì»¬ëŸ¼ì˜ ê°œìˆ˜ì™€ ê´€ê³„ì—†ì´ í•˜ë‚˜ì˜ ë ˆì½”ë“œë§Œ ë°˜í™˜í•˜ëŠ” ì¿¼ë¦¬ DEPENDENT SUBQUERY ì„œë¸Œì¿¼ë¦¬ê°€ ë°”ê¹¥ìª½ SELECT ì¿¼ë¦¬ì—ì„œ ì •ì˜ëœ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° DEPENDENT SUBQUERYë¼ê³  í‘œì‹œëœë‹¤.\nì•ˆìª½ì˜ ì„œë¸Œì¿¼ë¦¬ ê²°ê³¼ê°€ ë°”ê¹¥ìª½ SELECT ì¿¼ë¦¬ì˜ ì»¬ëŸ¼ì— ì˜ì¡´ì ì´ê¸° ë•Œë¬¸ì— DEPENDENTë¼ëŠ” í‚¤ì›Œë“œê°€ ë¶™ëŠ”ë‹¤. DEPENDENT UNION, DEPENDENT SUBQUERY ë˜í•œ ì™¸ë¶€ ì¿¼ë¦¬ê°€ ë¨¼ì € ìˆ˜í–‰ëœ í›„ ë‚´ë¶€ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ë¯€ë¡œ ì¼ë°˜ ì„œë¸Œì¿¼ë¦¬ë³´ë‹¤ëŠ” ì²˜ë¦¬ ì†ë„ê°€ ëŠë¦° ê²½ìš°ê°€ ë§ë‹¤. DERIVED DERIVEDëŠ” ë‹¨ìœ„ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê²°ê³¼ë¡œ ë©”ëª¨ë¦¬ë‚˜ ë””ìŠ¤í¬ì— ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nselect_typeì´ DERIVEDì¸ ê²½ìš°ì— ìƒì„±ë˜ëŠ” ì„ì‹œ í…Œì´ë¸”ì„ íŒŒìƒ í…Œì´ë¸”ì´ë¼ê³  í•œë‹¤. MySQL 5.5 ë²„ì „ê¹Œì§€ëŠ” íŒŒìƒ í…Œì´ë¸”ì— ì¸ë±ìŠ¤ê°€ ì „í˜€ ì—†ìœ¼ë¯€ë¡œ ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ì¡°ì¸í•  ë•Œ ì„±ëŠ¥ìƒ ë¶ˆë¦¬í•  ë•Œê°€ ë§ë‹¤. FROM ì ˆì˜ ì„œë¸Œ ì¿¼ë¦¬ë¥¼ ì œê±°í•˜ê³  ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í˜•íƒœì¼ ê²½ìš° ë‹¤ë¥¸ RDBMSì—ì„œëŠ” ì¿¼ë¦¬ë¥¼ ì¬ì‘ì„±í•˜ëŠ” í˜•íƒœì˜ ìµœì í™” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. MySQL 8.0 ì´ì „ ë²„ì „ì—ì„œëŠ” ì—¬ì „íˆ íŒŒìƒ í…Œì´ë¸”ì„ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ì‹¤í–‰ ê³„íšì„ ì¡°ì¸ í˜•íƒœë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në˜í•œ, ì˜µí‹°ë§ˆì´ì €ê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²ƒì€ í•œê³„ê°€ ìˆìœ¼ë¯€ë¡œ ìµœì í™”ëœ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nDEPENDENT DERIVED MySQL 8.0 ë²„ì „ë¶€í„° ë˜í„°ëŸ´ ì¡°ì¸(LATERAL JOIN) ê¸°ëŠ¥ ì¶”ê°€ë¡œ FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ì—ì„œë„ ì™¸ë¶€ ì»¬ëŸ¼ì„ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì´ë¡œ ì¸í•´ ì™¸ë¶€ ì˜í–¥ì„ ë°›ëŠ” íŒŒìƒ í…Œì´ë¸”ì´ ìƒì„±ë  ê²½ìš° í‘œì‹œëœë‹¤.\nUNCACHEABLE SUBQUERY í•˜ë‚˜ì˜ ì¿¼ë¦¬ ë¬¸ì¥ì— ì„œë¸Œì¿¼ë¦¬ê°€ í•˜ë‚˜ë§Œ ìˆë”ë¼ë„ ì‹¤ì œ í•´ë‹¹ ì„œë¸Œì¿¼ë¦¬ê°€ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì¡°ê±´ì´ ë˜‘ê°™ì€ ì„œë¸Œì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ê²½ìš° ë‹¤ì‹œ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì´ì „ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ë¥¼ ë‚´ë¶€ì ì¸ ìºì‹œ ê³µê°„ì— ë‹´ì•„ë‘”ë‹¤.\níŠ¹íˆ DEPENDENT SUBQUERYì˜ ê²½ìš° ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ ì™¸ë¶€ ì¿¼ë¦¬ì˜ ê°’ ë‹¨ìœ„ë¡œ ìºì‹œê°€ ë§Œë“¤ì–´ì§„ë‹¤. í•˜ì§€ë§Œ ì„œë¸Œì¿¼ë¦¬ì— í¬í•¨ëœ ìš”ì†Œì— ì˜í•´ ìºì‹œ ìì²´ê°€ ë¶ˆê°€ëŠ¥ í•  ìˆ˜ ìˆëŠ”ë° ì´ëŸ¬í•œ ê²½ìš° UNCACHEABLE SUBQUERYë¡œ í‘œì‹œëœë‹¤.\nìºì‹œë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°\nì‚¬ìš©ì ë³€ìˆ˜ê°€ ì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš© NOT-DETERMNISTIC ì†ì„±ì˜ ìŠ¤í† ì–´ë“œ ë£¨í‹´ì´ ì„œë¸Œì¿¼ë¦¬ ë‚´ì— ì‚¬ìš©ëœ ê²½ìš° UUID(), RAND() ê°™ì€ ê²°ê´ê°’ì´ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ë‹¬ë¼ì§€ëŠ” í•¨ìˆ˜ê°€ ì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš©ëœ ê²½ìš° UNCACHEABLE UNION UNIONê³¼ UNCACHEABLE ì†ì„±ì´ í˜¼í•©ëœ select_type\nMATERIALIZED FROM, IN (subquery) í˜•íƒœì˜ ì¿¼ë¦¬ì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ê°€ ë‚´ìš©ì„ ì„ì‹œ í…Œì´ë¸”ë¡œ êµ¬ì²´í™”(Meterialization)í•œ í›„, ì„ì‹œí…Œì´ë¸”ê³¼ ëŒ€ìƒ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” í˜•íƒœë¡œ ìµœì í™”ê°€ ì ìš©ë  ê²½ìš° í‘œì‹œë˜ëŠ” select_typeì´ë‹¤.\nMySQL 5.6 ë²„ì „ë¶€í„° ë„ì…ë˜ì—ˆë‹¤. DERIVEDì™€ ë¹„ìŠ·í•˜ê²Œ ì¿¼ë¦¬ì˜ ë‚´ìš©ì„ ì„ì‹œ í…Œì´ë¸”ë¡œ ìƒì„±í•œë‹¤. table ì»¬ëŸ¼ MySQL ì„œë²„ì˜ ì‹¤í–‰ ê³„íšì€ ë‹¨ìœ„ SELECT ì¿¼ë¦¬ ê¸°ì¤€ì´ ì•„ë‹Œ í…Œì´ë¸” ê¸°ì¤€ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ë°, í…Œì´ë¸” ì´ë¦„ì— ë³„ì¹­ì´ ë¶€ì—¬ëœ ê²½ìš° ë³„ì¹­ì´ í‘œì‹œëœë‹¤.\n\u0026lt;\u0026gt;ë¡œ ë‘˜ëŸ¬ì‹¸ì¸ ì´ë¦„ì´ ë©´ì‹œëœ ê²½ìš° ì„ì‹œ í…Œì´ë¸”ì„ ì˜ë¯¸í•œë‹¤. ì•ˆì— í•­ìƒ í‘œì‹œë˜ëŠ” ìˆ«ìëŠ” SELECT ì¿¼ë¦¬ì˜ id ê°’ì„ ì§€ì¹­í•˜ê²Œ ëœë‹¤. partitions ì»¬ëŸ¼ MySQL 5.7 ë²„ì „ê¹Œì§€ëŠ” ì˜µí‹°ë§ˆì´ì €ê°€ ì‚¬ìš©í•˜ëŠ” íŒŒí‹°ì…˜ë“¤ì˜ ëª©ë¡ì€ EXPLAIN PARTITION ëª…ë ¹ì„ í†µí•´ í™•ì¸ ê°€ëŠ¥í–ˆì§€ë§Œ, 8.0 ë²„ì „ë¶€í„° EXPLAIN ëª…ë ¹ìœ¼ë¡œ íŒŒí‹°ì…˜ ê´€ë ¨ ì‹¤í–‰ ê³„íšê¹Œì§€ ëª¨ë‘ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\níŒŒí‹°ì…˜ì„ ì‚¬ìš©í•  ê²½ìš° ì¿¼ë¦¬ì—ì„œ ì¡°íšŒí•˜ë ¤ëŠ” ë°ì´í„°ê°€ íŠ¹ì • íŒŒí‹°ì…˜ì— ìœ„ì¹˜í•˜ê²Œ ë˜ë¯€ë¡œ, ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ì‹œ ì¡°ê±´ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” íŒŒí‹°ì…˜ì— ëŒ€í•´ ë¶„ì„ì„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. (íŒŒí‹°ì…˜ í”„ë£¨ë‹: Partition pruning)\në”°ë¼ì„œ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ í†µí•´ ì–´ëŠ íŒŒí‹°ì…˜ì„ ì½ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì–´ì•¼ ì¿¼ë¦¬ íŠœë‹ì´ ê°€ëŠ¥í•˜ë©°, íŒŒí‹°ì…˜ì„ ì°¸ì¡°í•˜ëŠ” ì¿¼ë¦¬ì˜ ê²½ìš° ì˜µí‹°ë§ˆì´ì €ê°€ ì¿¼ë¦¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ í•„ìš”í•œ íŒŒí‹°ì…˜ë“¤ì˜ ëª©ë¡ë§Œ ëª¨ì•„ ì‹¤í–‰ ê³„íšì˜ partitions ì»¬ëŸ¼ì— í‘œì‹œí•´ì¤€ë‹¤.\ntype ì»¬ëŸ¼ MySQL ì„œë²„ê°€ ê° í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì½ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ íŠœë‹í•  ë•Œ ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë¯€ë¡œ ì‹¤í–‰ ê³„íšì—ì„œ type ì»¬ëŸ¼ì€ ë°˜ë“œì‹œ ì²´í¬í•´ì•¼í•œë‹¤.\nALLì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ëŠ”ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì ‘ê·¼ ë°©ë²•ì´ë‹¤. index_mergeë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì ‘ê·¼ ë°©ë²•ì€ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ë§Œ ì‚¬ìš©í•œë‹¤. system ë ˆì½”ë“œê°€ 1ê±´ë§Œ ì¡´ì¬í•˜ëŠ” í…Œì´ë¸” ë˜ëŠ” í•œ ê±´ë„ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ëŠ” í˜•íƒœì˜ ì ‘ê·¼ ë°©ë²•ì´ë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì—ì„œëŠ” ë‚˜íƒ€ë‚˜ì§€ ì•Šê³ , MyISAM, MEMORY í…Œì´ë¸”ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ì ‘ê·¼ ë°©ì‹ì´ë‹¤. í…Œì´ë¸”ì— ë ˆì½”ë“œê°€ 1ê±´ ì´í•˜ì¸ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì ‘ê·¼ ë°©ë²•ì´ë¯€ë¡œ ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ì—ì„œëŠ” ê±°ì˜ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤. const í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ì™€ ê´€ê³„ì—†ì´ ì¿¼ë¦¬ê°€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ ì»¬ëŸ¼ì„ ì´ìš©í•˜ëŠ” WHERE ì¡°ê±´ì ˆì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ë°˜ë“œì‹œ 1ê±´ì„ ë°˜í™˜í•˜ëŠ” ì¿¼ë¦¬ì˜ ì²˜ë¦¬ë°©ì‹ì´ë‹¤.\në‹¤ì¤‘ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ ì¤‘ì—ì„œ ì¸ë±ìŠ¤ì˜ ì¼ë¶€ ì»¬ëŸ¼ë§Œ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ë•ŒëŠ” const ì ‘ê·¼ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì‹¤ì œë¡œ ë ˆì½”ë“œê°€ 1ê±´ë§Œ ì €ì¥ë¼ ìˆë”ë¼ë„ ë°ì´í„°ë¥¼ ì½ì–´ë³´ì§€ ì•Šê³ ì„œëŠ” ë ˆì½”ë“œê°€ 1ê±´ì´ë¼ëŠ” ê²ƒì„ í™•ì‹ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ì¼ë¶€ë§Œ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ë•ŒëŠ” refë¡œ í‘œì‹œëœë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì˜ ëª¨ë“  ì»¬ëŸ¼ì„ ë™ë“± ì¡°ê±´ìœ¼ë¡œ ëª…ì‹œí•˜ë©´ const ì ‘ê·¼ ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤. MySQLì˜ ì˜µí‹°ë§ˆì´ì €ê°€ ì¿¼ë¦¬ë¥¼ ìµœì í™”í•˜ëŠ” ë‹¨ê³„ì—ì„œ ì¿¼ë¦¬ë¥¼ ë¨¼ì € ì‹¤í–‰í™”ì—¬ í†µì§¸ë¡œ ìƒìˆ˜í™” í•˜ê¸° ë•Œë¬¸ì— ì»¬ëŸ¼ì˜ ê°’ì´ constë¡œ í‘œì‹œëœë‹¤.\neq_ref ì—¬ëŸ¬ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œë§Œ í‘œì‹œëœë‹¤. ì¡°ì¸ì—ì„œ ì²˜ìŒ ì½ì€ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ê°’ì„, ê·¸ë‹¤ìŒ ì½ì–´ì•¼ í•  í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ ì»¬ëŸ¼ì˜ ê²€ìƒ‰ ì¡°ê±´ì— ì‚¬ìš©í•  ë•Œë¥¼ ê°€ë¥´ì¼œ eq_refë¼ê³  í•œë‹¤.\nì¡°ì¸ì—ì„œ ë‘ ë²ˆì§¸ ì´í›„ì— ì½ëŠ” í…Œì´ë¸”ì—ì„œ ë°˜ë“œì‹œ 1ê±´ë§Œ ì¡´ì¬í•œë‹¤ëŠ” ë³´ì¥ì´ ìˆì–´ì•¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì ‘ê·¼ ë°©ë²•ì´ë‹¤.\në‘ ë²ˆì§¸ ì´í›„ì— ì½ëŠ” í…Œì´ë¸”ì´ eq_refê°€ í‘œì‹œëœë‹¤. ë‘ ë²ˆì§¸ ì´í›„ì— ì½íˆëŠ” í…Œì…ë¥´ì„ ìœ ë‹ˆí¬ í‚¤ë¡œ ê²€ìƒ‰í•  ë•Œ í•´ë‹¹ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ëŠ” NOT NULL ì´ì–´ì•¼ í•œë‹¤. ë‹¤ì¤‘ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ë¼ë©´ ì¸ë±ìŠ¤ì˜ ëª¨ë“  ì»¬ëŸ¼ì´ ë¹„êµ ì¡°ê±´ì— ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤. ref ì¸ë±ìŠ¤ì˜ ì¢…ë¥˜ì™€ ê´€ê³„ì—†ì´ ë™ë“± ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì´ë‹¤.\neq_refì™€ëŠ” ë‹¬ë¦¬ ì¡°ì¸ì˜ ìˆœì„œì™€ ê´€ê³„ì—†ì´ ì‚¬ìš©ë˜ë©°, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ ë“±ì˜ ì œì•½ ì¡°ê±´ë„ ì—†ë‹¤.\nref íƒ€ì…ì€ ë°˜í™˜ë˜ëŠ” ë ˆì½”ë“œê°€ ë°˜ë“œì‹œ 1ê±´ì´ë¼ëŠ” ë³´ì¥ì´ ì—†ìœ¼ë¯€ë¡œ const, eq_refë³´ë‹¤ëŠ” ë¹ ë¥´ì§€ ì•Šë‹¤. í•˜ì§€ë§Œ ë™ë“± ì¡°ê±´ìœ¼ë¡œë§Œ ë¹„êµë˜ë¯€ë¡œ ë§¤ìš° ë¹ ë¥¸ ë ˆì½”ë“œ ì¡°íšŒ ë°©ë²•ì˜ í•˜ë‚˜ë‹¤. ë™ë“± ë¹„êµ ì—°ì‚°ì\n=, \u0026lt;=\u0026gt;ë¥¼ ì˜ë¯¸í•œë‹¤.\nfulltext ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•´ ë ˆì½”ë“œë¥¼ ì½ëŠ” ì ‘ê·¼ ë°©ë²•ì„ ì˜ë¯¸í•œë‹¤.\nì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ëŠ” í†µê³„ ì •ë³´ê°€ ê´€ë¦¬ë˜ì§€ ì•Šì•„ ì„±ëŠ¥ì´ ì¼ê´€ì ì´ì§€ ì•Šê³ , ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì „í˜€ ë‹¤ë¥¸ SQL ë¬¸ë²•ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nì „ë¬¸ ê²€ìƒ‰ ì¡°ê±´ì€ ìš°ì„ ìˆœìœ„ê°€ ë§¤ìš° ë†’ì•„, ì¿¼ë¦¬ì—ì„œ ì „ë¬¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¡°ê±´ê³¼ ê·¸ ì™¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¡°ê±´ì„ í•¨ê»˜ ì‚¬ìš©í•œë‹¤ë©´ ê·¸ì™¸ ì¡°ê±´ì´ const, eq_ref, refê°€ ì•„ë‹ˆë¼ë©´ ì¼ë°˜ì ìœ¼ë¡œ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¡°ê±´ìœ¼ë¡œ ì„ íƒí•˜ì—¬ ì²˜ë¦¬ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” fulltextë³´ë‹¤ ì¼ë°˜ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” range ì ‘ê·¼ ë°©ë²•ì´ ë” ë¹¨ë¦¬ ì²˜ë¦¬ë˜ë¯€ë¡œ, ì „ë¬¸ ê²€ìƒ‰ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ì¡°ê±´ë³„ë¡œ ì„±ëŠ¥ì„ í™•ì¸í•´ ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nref_or_null ref ì ‘ê·¼ ë°©ë²•ì— NULL ë¹„êµê°€ ì¶”ê°€ëœ ë°©ì‹ì´ë‹¤. ì‹¤ì œ ì—…ë¬´ì—ì„œ ë§ì´ í™œìš©ë˜ì§€ ì•Šì§€ë§Œ, ë§Œì•½ ì‚¬ìš©ëœë‹¤ë©´ ë‚˜ì˜ì§€ ì•ŠëŠ” ì ‘ê·¼ ë°©ë²•ì´ë‹¤.\nunique_subquery WHERE ì¡°ê±´ì ˆì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” IN (subquery) í˜•íƒœì˜ ì¿¼ë¦¬ë¥¼ ìœ„í•œ ì ‘ê·¼ ë°©ë²•ì´ë‹¤.\nì„œë¸Œì¿¼ë¦¬ì—ì„œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ìœ ë‹ˆí¬í•œ ê°’ë§Œ ë°˜í™œí•  ë•Œ ì‚¬ìš©ëœë‹¤. MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ì„¸ë¯¸ ì¡°ì¸ì„ ìµœì í™”í•˜ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬ë˜ë¯€ë¡œ ì‹¤ì œë¡œëŠ” ë” ìµœì í™”ëœ ë‹¤ë¥¸ ì‹¤í–‰ ê³„íšì´ ë³´ì¼ í™•ë¥ ì´ ë†’ë‹¤. index_subquery IN ì—°ì‚°ì íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ê´„í˜¸ ì•ˆì— ìˆëŠ” ê°’ì˜ ëª©ë¡ì—ì„œ ì¤‘ë³µëœ ê°’ì´ ë¨¼ì € ì œê±°ë˜ì–´ì•¼ í•˜ëŠ”ë°, IN (subquery)ì—ì„œ ì„œë¸Œì¿¼ë¦¬ê°€ ì¤‘ë³µëœ ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆì„ë•Œ ì´ë¥¼ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆëŠ” ê²½ìš° index_subquery ì ‘ê·¼ ë°©ë²•ì´ ì‚¬ìš©ëœë‹¤.\nrange ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº” í˜•íƒœì˜ ì ‘ê·¼ ë°©ë²•ì´ë‹¤. rangeëŠ” ì¸ë±ìŠ¤ë¥¼ í•˜ë‚˜ì˜ ê°’ì´ ì•„ë‹ˆë¼ ë²”ìœ„ë¡œ ê²€ìƒ‰í•˜ëŠ” ê²½ìš°ë¥¼ ì˜ë¯¸í•˜ë©°, ì£¼ë¡œ \u0026lt;, \u0026gt;, IS NULL, BETWEEN, IN, LIKE ë“±ì˜ ì—°ì‚°ìë¥¼ ì´ìš©í•´ ì¸ë±ìŠ¤ ê²€ìƒ‰í•  ë•Œ ì‚¬ìš©ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¿¼ë¦¬ê°€ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì ‘ê·¼ ë°©ë²•ì´ë‹¤. ì–¼ë§ˆë‚˜ ë§ì€ ë ˆì½”ë“œë¥¼ í•„ìš”ë¡œ í•˜ëŠëƒì— ë”°ë¼ ì°¨ì´ëŠ” ìˆì§€ë§Œ ìƒë‹¹íˆ ë¹ ë¥¸ ë°©ë²•ì¤‘ í•˜ë‚˜ì´ë‹¤. index_merge 2ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ë¥´ ì´ìš©í•´ ê°ê°ì˜ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚¸ í›„, ê·¸ ê²°ê³¼ë¥¼ ë³‘í•©í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.\nì—¬ëŸ¬ ì¸ë±ìŠ¤ë¥¼ ì½ì–´ì•¼ í•˜ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œ range ì ‘ê·¼ ë°©ë²•ë³´ë‹¤ íš¨ìœ¨ì„±ì´ ë–¨ì–´ì§„ë‹¤. ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ì—ëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì²˜ë¦¬ëœ ê²°ê³¼ëŠ” í•­ìƒ 2ê°œ ì´ìƒì˜ ì§‘í•©ì´ ë˜ê¸° ë•Œë¬¸ì— ê·¸ ë‘ ì§‘í•©ì˜ êµì§‘í•©ì´ë‚˜ í•©ì§‘í•©, ë˜ëŠ” ì¤‘ë³µ ì œê±°ì™€ ê°™ì€ ë¶€ê°€ì ì¸ ì‘ì—…ì´ ë” í•„ìš”í•˜ë‹¤. index ì¸ë±ìŠ¤ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì½ëŠ” ì¸ë±ìŠ¤ í’€ìŠ¤ìº”ì„ ì˜ë¯¸í•œë‹¤.\ní…Œì´ë¸”ì„ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì½ëŠ” í’€ í…Œì´ë¸” ìŠ¤ìº” ë°©ì‹ê³¼ ë¹„êµí–ˆì„ë•Œ ë¹„êµí•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ëŠ” ê°™ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„° íŒŒì¼ ì „ì²´ë³´ë‹¤ í¬ê¸°ê°€ ì‘ìœ¼ë¯€ë¡œ í’€ í…Œì´ë¸” ìŠ¤ìº”ë³´ë‹¤ ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤. ì¿¼ë¦¬ì˜ ë‚´ìš©ì— ë”°ë¼ ì •ë ¬ëœ ì¸ë±ìŠ¤ì˜ ì¥ì ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤. index ì ‘ê·¼ ë°©ë²•ì€ ë‹¤ìŒ ì£¼ê±´ ê°€ìš´ë° (1 + 2) ë˜ëŠ” (1 + 3) ì¡°ê±´ì„ ì¶©ì¡±í•˜ëŠ” ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì½ê¸° ë°©ì‹ì´ë‹¤.\nrange, const, ref ê°™ì€ ì ‘ê·¼ ë°©ë²•ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° ì¸ë±ìŠ¤ì— í¬í•¨ëœ ì»¬ëŸ¼ë§Œìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì¿¼ë¦¬ì¸ ê²½ìš°(ë°ì´í„° íŒŒì¼ì„ ì½ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²½ìš°) ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì •ë ¬ì´ë‚˜ ê·¸ë£¨í•‘ ì‘ì—…ì´ ê°€ëŠ¥í•œ ê²½ìš°(ë³„ë„ì˜ ì •ë ¬ ì‘ì—…ì„ í”¼í•  ìˆ˜ ìˆëŠ” ê²½ìš°) ALL í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì˜ë¯¸í•˜ëŠ” ì ‘ê·¼ ë°©ë²•ì´ë‹¤. í…Œì´ë¸”ì„ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì½ì–´ ë¶ˆí•„ìš”í•œ ë ˆì½”ë“œë¥¼ ì œê±°í•˜ê³  ë°˜í™˜í•˜ëŠ” ê°€ì¥ ë¹„íš¨ìœ¨ì ì¸ ë°©ë²•ì´ë‹¤.\në°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ë‚˜ ë°°ì¹˜ í”„ë¡œê·¸ë¨ì²˜ëŸ¼ ëŒ€ìš©ëŸ‰ì˜ ë ˆì½”ë“œë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¿¼ë¦¬ì—ì„œ ì˜ëª» íŠœë‹ëœ ì¿¼ë¦¬(ì–µì§€ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œëœ íŠœë‹ì¿¼ë¦¬)ë³´ë‹¤ ë” ë‚˜ì€ ì ‘ê·¼ë°©ë²•ì´ë‹¤. ì¼ë°™ê±°ìœ¼ë¡œ ì‘ì—… ë²”ìœ„ë¥¼ ì œí•œí•˜ëŠ” ì¡°ê±´ì´ ì•„ë‹ˆë¯€ë¡œ ë¹ ë¥¸ ì‘ë‹µì„ ì‚¬ìš©ìì—ê²Œ ë³´ë‚´ì•¼í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ì—ëŠ” ì í•©í•˜ì§€ ì•Šë‹¤. í…Œì´ë¸”ì´ ë§¤ìš° ì‘ì§€ ì•Šë‹¤ë©´ ì‹¤ì œë¡œ í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì–´ëŠ ã…ˆì–´ë„ ì €ì¥í•œ ìƒíƒœì—ì„œ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ í™•ì¸í•´ë³´ê³  ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. possible_keys ì»¬ëŸ¼ ì˜µí‹°ë§ˆì´ì €ê°€ ìµœì ì˜ ì‹¤í–‰ ê³„íšì„ ë§Œë“¤ê¸° ìœ„í•´ í›„ë³´ë¡œ ì„ ì •í–ˆë˜ ì ‘ê·¼ ë°©ë²•ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¸ë±ìŠ¤ì˜ ëª©ë¡ì´ë‹¤.\nì‹¤ì œ ì‹¤í–‰ ê³„íšì—ì„œëŠ” í•´ë‹¹ í…Œì´ë¸”ì˜ ëª¨ë“  ì¸ë±ìŠ¤ê°€ ëª©ë¡ì— í¬í•¨ë˜ëŠ” ê²½ìš°ê°€ ë§ì•„ ì¿¼ë¦¬ íŠœë‹ì— í¬ê²Œ ë„ì›€ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. íŠ¹ë³„í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³  ë¬´ì‹œí•´ë˜ ëœë‹¤. ì»¬ëŸ¼ì— ì¸ã„·ê²ŒìŠ¤ ì´ë¦„ì´ ë‚˜ì—´ëë‹¤ê³  í•´ì„œ ê·¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. key ì»¬ëŸ¼ key ì»¬ëŸ¼ì— í‘œì‹œë˜ëŠ” ì¸ë±ìŠ¤ëŠ” ìµœì¢… ì„ íƒëœ ì‹¤í–‰ ê³„íšì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤.\nì¿¼ë¦¬ íŠœë‹ì‹œ ì˜ë„í–ˆë˜ ì¸ë±ìŠ¤ê°€ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. ì‹¤í–‰ ê³„íšì˜ type ì»¬ëŸ¼ì´ index_mergeê°€ ì•„ëŠ” ê²½ìš°ì—ëŠ” ë°˜ë“œì‹œ í…Œì´ë¸” í•˜ë‚˜ë‹¹ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ë§Œ ì´ìš©í•  ìˆ˜ ìˆë‹¤. ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë©´ NULLë¡œ í‘œì‹œëœë‹¤. key_len ì»¬ëŸ¼ ì‹¤ì œ ì—…ë¬´ì—ì„œ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì€ ë‹¨ì¼ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¸ë±ìŠ¤ë³´ë‹¤ ë‹¤ì¤‘ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¸ë±ìŠ¤ê°€ ë” ë§ì€ë°, key_len ì»¬ëŸ¼ì€ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë‹¤ì¤‘ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ì¸ë±ìŠ¤ì—ì„œ ëª‡ ê°œì˜ ì»¬ëŸ¼ê¹Œì§€ ì‚¬ìš©í–ˆëŠ”ì§€ ì•Œë ¤ì¤€ë‹¤.(ì¸ë±ìŠ¤ì˜ ê° ë ˆì½”ë“œì—ì„œ ëª‡ ë°”ì´íŠ¸ê¹Œì§€ ì‚¬ìš©í–ˆëŠ”ì§€)\në‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ë¿ ì•„ë‹ˆë¼ ë‹¨ì¼ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¸ë±ìŠ¤ì—ì„œë„ ê°™ì€ ì§€í‘œë¥¼ ì œê³µí•œë‹¤. ref ì»¬ëŸ¼ ì ‘ê·¼ ë°©ë²•ì´ refë¼ë©´ ì°¸ì¡° ì¡°ê±´(Equal ë¹„êµ ì¡°ê±´)ìœ¼ë¡œ ì–´ë–¤ ê°’ì´ ì œê³µë˜ì—ˆëŠ”ì§€ ë³´ì—¬ì¤€ë‹¤.\nìƒìˆ«ê°’ì„ ì§€ì •í–ˆë‹¤ë©´ const í‘œì‹œ ë‹¤ë¥¸ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ê°’ì´ë©´ í…Œì´ë¸”ëª…ê³¼ ì»¬ëŸ¼ëª… í‘œì‹œ ì½œë ˆì´ì…˜ ë³€í™˜ì´ë‚˜ ê°’ ì°¨ì²´ì˜ ì—°ì‚°ì„ ê±°ì³ ì°¸ì¡°í–ˆì„ ê²½ìš° func í‘œì‹œ MySQL ì„œë²„ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ê°’ì„ ë³€í™˜í•´ì•¼ í•˜ëŠ” ê²½ìš° func í‘œì‹œ ë¬¸ìì§‘í•©ì´ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ë‘ ë¬¸ìì—´ ì»¬ëŸ¼ì„ ì¡°ì¸ ìˆ«ì íƒ€ì…ì˜ ì»¬ëŸ¼ê³¼ ë¬¸ìì—´ íƒ€ì…ì˜ ì»¬ëŸ¼ ì¡°ì¸ ë“± rows ì»¬ëŸ¼ rows ì»¬ëŸ¼ì€ ì‹¤í–‰ ê³„íšì˜ íš¨ìœ¨ì„± íŒë‹¨ì„ ìœ„í•´ ì˜ˆì¸¡í•œ ì½ì–´ì•¼ í•  ì´ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤.\nMySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ê° ì¡°ê±´ì— ëŒ€í•´ ê°€ëŠ¥í•œ ì²˜ë¦¬ ë°©ì‹ì„ ë‚˜ì—´í•˜ê³ , ê° ì²˜ë¦¬ë°©ì‹ì˜ ë¹„ìš©ì„ ë¹„êµí•´ ìµœì¢…ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œ ê° ì²˜ë¦¬ ë°©ì‹ì´ ì–¼ë§ˆë‚˜ ë§ì€ ë ˆì½”ë“œë¥¼ ì½ê³  ë¹„êµí•´ì•¼ í•˜ëŠ”ì§€ ì˜ˆì¸¡í•´ ë¹„ìš©ì„ ì‚°ì •í•œë‹¤.\nëŒ€ìƒ í…Œì´ë¸”ì— ì–¼ë§ˆë‚˜ ë§ì€ ë ˆì½”ë“œê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ ê° ì¸ë±ìŠ¤ ê°’ì˜ ë¶„í¬ë„ê°€ ì–´ë–¤ì§€ rows ê°’ì€ ê° ìŠ¤í† ë¦¬ì§€ ì—”ì§ˆë³„ë¡œ ê°€ì§€ê³  ìˆëŠ” í†µê³„ ì •ë³´ë¥¼ ì°¸ì¡°í•´ ì‚°ì¶œí•´ë‚¸ ì˜ˆìƒê°’ì´ë¯€ë¡œ ì „í™•í•˜ì§€ëŠ” ì•Šë‹¤. ë°˜í™˜í•˜ëŠ” ë ˆì½”ë“œì˜ ì˜ˆì¸¡ì¹˜ê°€ ì•„ë‹ˆë¼ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì–¼ë§ˆë‚˜ ë§ì€ ë ˆì½”ë“œë¥¼ ì½ê³  ì²´í¬í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ì˜ë¯¸í•œë‹¤. filtered ì»¬ëŸ¼ filtered ì»¬ëŸ¼ì€ ì½ì–´ì•¼ í•  ì´ ë ˆì½”ë“œ ê±´ìˆ˜ rowsì—ì„œ í•„í„°ë§ ë˜ê³  ë‚¨ëŠ” ë ˆì½”ë“œì˜ ë¹„ìœ¨ì„ ì˜ë¯¸í•œë‹¤.\n1 2 3 4 5 6 EXPLAIN SELECT * FROM employees e WHERE e.first_name=\u0026#39;Matt\u0026#39; AND e.hire_date BETWEEN \u0026#39;1990-01-01\u0026#39; AND \u0026#39;1991-01-01\u0026#39; ; id select_type type key rows filtered 1 SIMPLE ref ix_firstname 233 16.03 ìœ„ ì‹¤í–‰ê³„íšì—ì„œ ix_firstname ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ ì½ì–´ì•¼ í•  ë²”ìœ„ë¥¼ ì œí•œí•˜ì˜€ê³ , ë”°ë¼ì„œ í•„ìˆ˜ì ìœ¼ë¡œ ì½ì–´ì•¼ í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ëŠ” rows ê°’ì¸ 233ì´ë‹¤.\nì½ì–´ì•¼ í•˜ëŠ” ë ˆì½”ë“œ 233ê±´ ì¤‘ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ì—†ëŠ” ì¡°ê±´ì¸ hire_date ì¡°ê±´ì„ í†µí•´ ë‹¤ì‹œ ê°’ì„ í•„í„°ë§í•˜ê²Œ ë˜ëŠ”ë°, filtered ê°’ì€ ì½ì–´ì™€ì•¼í•  ë ˆì½”ë“œ ì¤‘ ì¡°ê±´ìœ¼ë¡œ ì¸í•´ í•„í„°ë§ ë˜ê³  ë‚¨ì€ ë ˆì½”ë“œì˜ ë¹„ìœ¨ì„ ì˜ë¯¸í•œë‹¤.\në”°ë¼ì„œ ì¿¼ë¦¬ì˜ ê²°ê³¼ ì˜ˆìƒ ê±´ìˆ˜ëŠ” 233 * 0.1603 ìœ¼ë¡œ ì•½ 37ê±´ì´ë‹¤.\nëŒ€ë¶€ë¶„ ì¿¼ë¦¬ì—ì„œ WHERE ì ˆì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¡°ê±´ì´ ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë©°, íŠ¹íˆ ì¡°ì¸ì´ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ì—ëŠ” WHERE ì ˆì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ë„ ì¤‘ìš”í•˜ì§€ë§Œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ íŒŒì•…í•˜ëŠ” ê²ƒë„ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.\n","date":"2023-07-11T13:07:10+09:00","image":"https://codemario318.github.io/post/real-mysql/10/3/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/10/3/1/","title":"10.3 ì‹¤í–‰ ê³„íš - ì‹¤í–‰ ê³„íš ë¶„ì„ (1)"},{"content":"MySQL ì‹¤í–‰ ê³„íšì€ DESC ë˜ëŠ” EXPLAIN ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë˜í•œ MySQL 8.0 ë¶€í„° EXPLAIN ëª…ë ¹ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ ì˜µì…˜ì´ ì¶”ê°€ë˜ì—ˆë‹¤.\nì‹¤í–‰ ê³„íš ì¶œë ¥ í¬ë§· ì´ì „ ë²„ì „ì—ì„œëŠ” EXPLAIN EXTENDED, EXPLAIN PARTITIONS ëª…ë ¹ì´ êµ¬ë¶„ë˜ì–´ ìˆì—ˆì§€ë§Œ 8.0 ë²„ì „ë¶€í„°ëŠ” ëª¨ë“  ë‚´ìš©ì´ í†µí•©ë˜ì–´ ë³´ì´ë„ë¡ ê°œì„ ë˜ë©´ì„œ ì˜µì…˜ì´ ë¬¸ë²•ì—ì„œ ì œê±°ë˜ì—ˆë‹¤.\në˜í•œ FORMAT ì˜µì…˜ì„ ì‚¬ìš©í•´ ì‹¤í–‰ ê³„íšì˜ í‘œì‹œ ë°©ë²•ì„ JSON, TREE, ë‹¨ìˆœ í…Œì´ë¸” í˜•íƒœë¡œ ì„ íƒí•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 /* * ë‹¨ìˆœ í…Œì´ë¸” */ EXPLAIN SELECT * FROM employees e INNER JOIN salaries s ON s.emp_no=e.emp_no WHERE first_name=\u0026#39;ABC\u0026#39; ; 1 2 3 4 5 6 7 8 9 /* * íŠ¸ë¦¬ */ EXPLAIN FROMAT=TREE SELECT * FROM employees e INNER JOIN salaries s ON s.emp_no=e.emp_no WHERE first_name=\u0026#39;ABC\u0026#39; ; 1 2 3 4 5 6 7 8 9 /* * JSON */ EXPLAIN FORMAT=JSON SELECT * FROM employees e INNER JOIN salaries s ON s.emp_no=e.emp_no WHERE first_name=\u0026#39;ABC\u0026#39; ; ì¿¼ë¦¬ì˜ ì‹¤í–‰ ì‹œê°„ í™•ì¸ MySQL 8.0.18 ë²„ì „ë¶€í„°ëŠ” ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšê³¼ ë‹¨ê³„ë³„ ì†Œìš”ëœ ì‹œê°„ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” EXPLAIN ANALYZE ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆë‹¤.\nê¸°ì¡´ SHOW PROFILE ëª…ë ¹ê³¼ ë‹¤ë¥´ê²Œ ì‹¤í–‰ ê³„íšì˜ ë‹¨ê³„ë³„ë¡œ ì†Œìš”ëœ ì‹œê°„ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ë©°, í•­ìƒ TREE í˜•ì‹ìœ¼ë¡œë§Œ ì œê³µë˜ì–´ FORMAT ì˜µì…˜ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\nEXPLAIN ANALYZE ëª…ë ¹ì˜ ê²°ê³¼ì—ëŠ” ë‹¨ê³„ë³„ë¡œ ì‹¤ì œ ì†Œìš”ëœ ì‹œê°„ê³¼ ì²˜ë¦¬í•œ ë ˆì½”ë“œ ê±´ìˆ˜, ë°˜ë³µ íšìˆ˜ê°€ í‘œì‹œëœë‹¤.\nEXPAIN ëª…ë ¹ê³¼ ë‹¬ë¦¬ ì‹¤í–‰ ê³„íšë§Œ ì¶”ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì‹¤ì œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ì‚¬ìš©ëœ ì‹¤í–‰ ê³„íšê³¼ ì†Œìš”ëœ ì‹œê°„ì„ ë³´ì—¬ì¤€ë‹¤. ê·¸ë˜ì„œ EXPLAIN ANALYZE ìœ¼ë¡œ ì‹¤í–‰í•˜ì˜€ì„ ë•Œ ì‹¤ì œë¡œ ì¿¼ë¦¬ê°€ ëª¨ë‘ ì™„ë£Œ ë˜ì–´ì•¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì‹¤í–‰ ì‹œê°„ì´ ì•„ì£¼ ë§ì´ ê±¸ë¦¬ëŠ” ì¿¼ë¦¬ë¼ë©´ EXPLAIN ëª…ë ¹ì„ í†µí•´ í™•ì¸í•œ ì‹¤í–‰ ê³„íšì„ ë°”íƒ•ìœ¼ë¡œ 1ì°¨ íŠœë‹ í›„ì— EXPLAIN ANALYZE ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n","date":"2023-06-29T11:07:10+09:00","image":"https://codemario318.github.io/post/real_mysql/10/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql/10/2/","title":"10.2 ì‹¤í–‰ ê³„íš - ì‹¤í–‰ ê³„íš í™•ì¸"},{"content":"MySQL ì„œë²„ì—ì„œ ë³´ì—¬ì£¼ëŠ” ì‹¤í–‰ ê³„íšì„ ì½ê³  ì´í•´í•˜ë ¤ë©´ MySQL ì„œë²„ê°€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì„ ì´í•´í•  í•„ìš”ê°€ ìˆë‹¤.\nMySQL ì„œë²„ì˜ ì‹¤í–‰ ê³„íšì—ì„œ í†µê³„ ì •ë³´ëŠ” ì‹¤í–‰ ê³„íšì— ê°€ì¥ í° ì˜í–¥ì„ ë¯¸ì¹œë‹¤.\nMySQL 5.7 ë²„ì „ê¹Œì§€ëŠ” í…Œì´ë¸”ê³¼ ì¸ë±ìŠ¤ì— ëŒ€í•œ ê°œê´„ì ì¸ ì •ë³´ë¥¼ ê°€ì§€ê³  ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í–ˆìœ¼ë‚˜, ì´ëŠ” í…Œì´ë¸” ì»¬ëŸ¼ì˜ ê°’ë“¤ì´ ì‹¤ì œ ì–´ë–»ê²Œ ë¶„í¬ë¼ ìˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ê°€ ì—†ê¸° ë•Œë¬¸ì— ì‹¤í–‰ ê³„íšì˜ ì •í™•ë„ê°€ ë–¨ì–´ì§€ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤.\nì´ì— ë”°ë¼ MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ì¸ë±ìŠ¤ë˜ì§€ ì•Šì€ ì»¬ëŸ¼ë“¤ì— ëŒ€í•´ì„œë„ ë°ì´í„° ë¶„í¬ë„ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì €ì¥í•˜ëŠ” íˆìŠ¤í† ê·¸ë¨(Histogram) ì •ë³´ê°€ ë„ì…ë˜ì—ˆë‹¤.\ní…Œì´ë¸” ë° ì¸ë±ìŠ¤ í†µê³„ ì •ë³´ íˆìŠ¤í† ê·¸ë¨ì´ ë„ì…ëë‹¤ê³  í•´ì„œ ê¸°ì¡´ í…Œì´ë¸”ì´ë‚˜ ì¸ë±ìŠ¤ì˜ í†µê³„ ì •ë³´ê°€ í•„ìš”í•˜ì§€ ì•Šì€ ê²ƒì€ ì•„ë‹ˆë‹¤.\në¹„ìš© ê¸°ë°˜ ìµœì í™”ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ í†µê³„ ì •ë³´ë¡œ í†µê³„ ì •ë³´ê°€ ì •í™•í•˜ì§€ ì•Šë‹¤ë©´ ì—‰ëš±í•œ ë°©í–¥ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nMySQL ë˜í•œ ë‹¤ë¥¸ DBMSì™€ ê°™ì´ ë¹„ìš© ê¸°ë°˜ ìµœì í™”ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ë‹¤ë¥¸ DBMSë³´ë‹¤ í†µê³„ ì •ë³´ì˜ ì •í™•ë„ê°€ ë†’ì§€ ì•Šê³  í†µê³„ ì •ë³´ì˜ íœ˜ë°œì„±ì´ ê°•í–ˆë‹¤. ì´ì— ë”°ë¼ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œ ì‹¤ì œ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì¼ë¶€ ë¶„ì„í•´ì„œ í†µê³„ ì •ë³´ë¥¼ ë³´ì™„í•´ì„œ ì‚¬ìš©í–ˆë‹¤.\nMySQL ì„œë²„ì˜ í†µê³„ ì •ë³´ MySQL 5.5 ë²„ì „ ê¹Œì§€ëŠ” ê° í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ê°€ ë©”ëª¨ë¦¬ì—ë§Œ ê´€ë¦¬ë˜ê³ , SHOW IDNEX ëª…ë ¹ìœ¼ë¡œë§Œ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì˜ ë¶„í¬ë„ë¥¼ ë³¼ ìˆ˜ ìˆì–´ ì„œë²„ê°€ ì¬ì‹œì‘ë˜ë©´ ìˆ˜ì§‘ëœ í†µê³„ ì •ë³´ê°€ ëª¨ë‘ íœ˜ë°œë˜ì—ˆë‹¤.\nì´ì— ë”°ë¼ MySQL 5.6 ë²„ì „ë¶€í„°ëŠ” ê° í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ë¥¼ mysql ë°ì´í„°ë² ì´ìŠ¤ì˜ innodb_index_stats í…Œì´ë¸”ê³¼ innodb_table_stats í…Œì´ë¸”ì„ í†µí•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì— ëŒ€í•œ í†µê³„ ì •ë³´ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ(Persisdtent) ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\n1 SHOW TABLES LIKE \u0026#39;%_stats\u0026#39;; Tables_in_mysql (%_stats) innodb_index_stats innodb_table_stats MySQL 5.6ì—ì„œ í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ STATS_PERSISTENT ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ”ë°, ì´ ì„¤ì •ê°’ì— ë”°ë¼ í…Œì´ë¸” ë‹¨ìœ„ë¡œ ì˜êµ¬ì ì¸ í†µê³„ ì •ë³´ë¥¼ ë³´ê´€í• ì§€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 CREATE TABLE tab_test (fd1 INT, fd2 VARCHAR(20) PRIMARY KEY(fd1)) ENIGNE=InnoDB STATS_PERSISTENT={ DEFAULT | 0 | 1 } 0: í…Œì´ë¸” í†µê³„ ì •ë³´ë¥¼ MySQL 5.5 ì´ì „ ë°©ì‹ëŒ€ë¡œ ê´€ë¦¬ 1: í†µê³„ ì •ë³´ë¥¼ mysql ë°ì´í„°ë² ì´ìŠ¤ì˜ innodb_index_stats, innodb_table_stats í…Œì´ë¸”ì— ì €ì¥í•¨ DEFAULT: innodb_stats_persistent ì‹œìŠ¤í…œ ë³€ìˆ˜ ê°’ìœ¼ë¡œ ê²°ì •. ê¸°ë³¸ì ìœ¼ë¡œëŠ” 1 í†µê³„ ì •ë³´ì˜ ê° ì»¬ëŸ¼ì€ ë‹¤ìŒê³¼ ê°™ì€ ê°’ì„ ì €ì¥í•˜ê³  ìˆë‹¤.\nstat_name={} n_diff_pfx% ì¸ë±ìŠ¤ê°€ ê°€ì§„ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ n_leaf_pages ì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œ í˜ì´ì§€ ê°œìˆ˜ size ì¸ë±ìŠ¤ íŠ¸ë¦¬ì˜ ì „ì²´ í˜ì´ì§€ ê°œìˆ˜ n_rows í…Œì´ë¸”ì˜ ì „ì²´ ë ˆì½”ë“œ ê±´ìˆ˜ clusterd_index_size í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ í¬ê¸°(InnoDB í˜ì´ì§€ ê°œìˆ˜ sum_of_other_index_sizes í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì œì™¸í•œ ì¸ë±ìŠ¤ì˜ í¬ê¸°(InnoDB í˜ì´ì§€ ê°œìˆ˜) sum_of_other_index_sizes ì»¬ëŸ¼ì€ í…Œì´ë¸”ì˜ STATS_AUTO_RECALC ì˜µì…˜ì— ë”°ë¼ 0ìœ¼ë¡œ ë³´ì¼ ìˆ˜ë„ ìˆëŠ”ë°, ê·¸ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ í…Œì´ë¸”ì— ëŒ€í•´ ANALYZE TABLE ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ í†µê³—ê°’ì´ ì €ì¥ëœë‹¤.\nMySQL 5.5 ë²„ì „ ê¹Œì§€ëŠ” í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ê°€ ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ë˜ì—ˆê¸° ë•Œë¬¸ì— ì„œë²„ê°€ ì¬ì‹œì‘ë˜ë©´ í†µê³„ ì •ë³´ê°€ ì´ˆê¸°í™”ë˜ì–´ ë‹¤ì‹œ ìˆ˜ì§‘ë¼ì•¼ í•˜ê³ , ì¶”ê°€ì ìœ¼ë¡œ ì‚¬ìš©ìë‚˜ ê´€ë¦¬ìê°€ ì•Œì§€ ëª»í•˜ëŠ” ìˆœê°„ì— ë‹¤ìŒê³¼ ê°™ì€ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ìë™ìœ¼ë¡œ í†µê³„ ì •ë³´ê°€ ê°±ì‹ ë˜ì—ˆë‹¤.\ní…Œì´ë¸”ì´ ìƒˆë¡œ ì˜¤í”ˆë˜ëŠ” ê²½ìš° í…Œì´ë¸”ì˜ ë ˆì½”ë“œê°€ ëŒ€ëŸ‰ìœ¼ë¡œ ë³€ê²½ë˜ëŠ” ê²½ìš° í…Œì´ë¸”ì˜ ì „ì²´ ë ˆì½”ë“œ ì¤‘ì—ì„œ 1/16 ì •ë„ì˜ UPDATE, INSERT, DELETEê°€ ì‹¤í–‰ë˜ëŠ” ê²½ìš° ANALYZE TABLE ëª…ë ¹ì´ ì‹¤í–‰ë˜ëŠ” ê²½ìš° SHOW TABLE STATUS, SHOW INDEX FROM ëª…ë ¹ì´ ì‹¤í–‰ë˜ëŠ” ê²½ìš° InnoDB ëª¨ë‹ˆí„°ê°€ í™œì„±í™”ë˜ëŠ” ê²½ìš° innodb_stats_on_metadata ì‹œìŠ¤í…œ ì„¤ì •ì´ ONì¸ ìƒíƒœì—ì„œ SHOW TABLE STATUS ëª…ë ¹ì´ ì‹¤í–‰ë˜ëŠ” ê²½ìš° í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ê°€ ìì£¼ ê°±ì‹ ë˜ë©´ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ ì •í™•íˆ ì²˜ë¦¬í•˜ì§€ ëª»í•  ìˆ˜ ìˆì—ˆìœ¼ë‚˜ ì˜êµ¬ì ì¸ í†µê³„ ì •ë³´ê°€ ë„ì…ë˜ë©´ì„œ ì˜ë„í•˜ì§€ ì•Šì€ í†µê³„ ì •ë³´ ë³€ê²½ì„ ë§‰ì„ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ë˜í•œ innodb_stats_auto_recalc ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ê°’ì„ OFFë¡œ ì„¤ì •í•˜ì—¬ í†µê³„ ì •ë³´ê°€ ìë™ìœ¼ë¡œ ê°±ì‹ ë˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.\nMySQL 5.5 ë²„ì „ì—ì„œëŠ” í…Œì´ë¸”ì˜ í†µê³„ ì •ë³´ë¥¼ ìˆ˜ì§‘í•  ë•Œ ëª‡ ê°œì˜ InnoDB í…Œì´ë¸” ë¸”ë¡ì„ ìƒ˜í”Œë§í• ì§€ ê²°ì •í•˜ëŠ” ì˜µì…˜ìœ¼ë¡œ innodb_stats_sample_pages ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ì œê³µë˜ì—ˆëŠ”ë°, 5.6 ë²„ì „ë¶€í„° ì—†ì–´ì§€ê³  innodb_stats_transient_sample_pages, innodb_stats_persistent_sample_pages ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ë¶„ë¦¬ë˜ì—ˆë‹¤.\ninnodb_stats_transient_sample_pages ê¸°ë³¸ê°’: 8 ìë™ìœ¼ë¡œ í†µê³„ ì •ë³´ ìˆ˜ì§‘ì´ ì‹¤í–‰ë  ë•Œ ì„¤ì •ëœ í˜ì´ì§€ ê°œìˆ˜ë§Œ ì„ì˜ë¡œ ìƒ˜í”Œë§í•´ì„œ ë¶„ì„í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ í†µê³„ ì •ë³´ë¡œ í™œìš© innodb_stats_persistent_sample_pages ê¸°ë³¸ê°’: 20 ANALYZE TABLE ëª…ë ¹ì´ ì‹¤í–‰ë˜ë©´ ì„ì˜ë¡œ ì„¤ì •ê°’ ê°œìˆ˜ ë§Œí¼ì˜ í˜ì´ì§€ë§Œ ìƒ˜í”Œë§í•´ì„œ ë¶„ì„í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ì˜êµ¬ì ì¸ í†µê³„ ì •ë³´ í…Œì´ë¸”ì— ì €ì¥í•˜ê³  í™œìš© ì˜êµ¬ì ì¸ í†µê³„ ì •ë³´ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ MySQL ì„œë²„ì˜ ì ê²€ì´ë‚˜ ì‚¬ìš©ëŸ‰ì´ ë§ì§€ ì•Šì€ ì‹œê°„ì„ ì´ìš©í•´ ë” ì •í™•í•œ í†µê³„ ì •ë³´ë¥¼ ìˆ˜ì§‘í•  ìˆ˜ë„ ìˆë‹¤. ë” ì •í™•í•œ í†µê³„ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³ ì í•œë‹¤ë©´ innodb_stats_persistent_sample_pages ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ë†’ì„ ê°’ì„ ì„¤ì •í•˜ë©´ ë˜ì§€ë§Œ ì´ ê°’ì„ ë„ˆë¬´ ë†’ì´ë©´ í†µê³„ ì •ë³´ ìˆ˜ì§‘ ì‹œê°„ì´ ê¸¸ì–´ì§€ë¯€ë¡œ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\níˆìŠ¤í† ê·¸ë¨ MySQL 5.7 ë²„ì „ê¹Œì§€ í™œìš©ë˜ë˜ í†µê³„ ì •ë³´ëŠ” ì¸ë±ìŠ¤ëœ ì»¬ëŸ¼ì˜ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ ì •ë„ë¡œ ë‹¨ìˆœí•˜ì—¬ ì˜µí‹°ë§ˆì´ì €ê°€ ìµœì ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ê¸°ì—ëŠ” ë§ì´ ë¶€ì¡±í•˜ì—¬ ì˜µí‹°ë§ˆì´ì €ëŠ” ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œ ì‹¤ì œ ì¸ë±ìŠ¤ì˜ ì¼ë¶€ í˜ì´ì§€ë¥¼ ëœë¤ìœ¼ë¡œ ê°€ì ¸ì™€ ì°¸ì¡°ì—¬ ë¶€ì¡±í•œ ë¶€ë¶„ì„ ë©”ì› ë‹¤.\n8.0 ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ ë˜ë©´ì„œ MySQL ì„œë²„ë„ ì»¬ë¦„ì˜ ë°ì´í„° ë¶„í¬ë„ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ í™œìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\níˆìŠ¤í† ê·¸ë¨ ì •ë³´ ìˆ˜ì§‘ MySQL 8.0 ë²„ì „ì—ì„œ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ëŠ” ì»¬ëŸ¼ ë‹¨ìœ„ë¡œ ê´€ë¦¬ë˜ëŠ”ë°, ì´ëŠ” ìë™ìœ¼ë¡œ ìˆ˜ì§‘ë˜ì§€ ì•Šê³  ANALYZE TABLE ... UPDATE HISTOGRAM ëª…ë ¹ì„ í†µí•´ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜ì§‘ ë° ê´€ë¦¬ëœë‹¤.\nìˆ˜ì§‘ëœ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ëŠ” ì‹œìŠ¤í…œ ë”•ì…”ë„ˆë¦¬ì— í•¨ê»˜ ì €ì¥ë˜ê³ , MySQL ì„œë²„ê°€ ì‹œì‘ë  ë•Œ ë”•ì…”ë„ˆë¦¬ì˜ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ infomation_schema ë°ì´í„°ë² ì´ìŠ¤ì˜ column_statistics í…Œì´ë¸”ë¡œ ë¡œë“œí•œë‹¤. ë”°ë¼ì„œ ì‹¤ì œ íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ ì¡°íšŒí•˜ë ¤ë©´ column_statistics í…Œì´ë¸”ì„ SELECT í•´ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.\nMySQL 8.0 ë²„ì „ì—ì„œëŠ” 2ì¢…ë¥˜ì˜ íˆìŠ¤í† ê·¸ë¨ íƒ€ì…ì´ ì§€ì›ëœë‹¤.\nSingleton(ì‹±ê¸€í†¤ íˆìŠ¤í† ê·¸ë¨) ì»¬ëŸ¼ê°’ ê°œë³„ë¡œ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ê´€ë¦¬í•˜ëŠ” íˆìŠ¤í† ê·¸ë¨ Value-Based íˆìŠ¤í† ê·¸ë¨ ë˜ëŠ” ë„ìˆ˜ ë¶„í¬ë¼ê³ ë„ ë¶ˆë¦°ë‹¤. ì»¬ëŸ¼ ê°€ì§„ ê°’ ë³„ë¡œ ë²„í‚·ì´ í• ë‹¹ëœë‹¤. ê° ë²„í‚·ì´ ì»¬ëŸ¼ì˜ ê°’ê³¼ ë°œìƒ ë¹ˆë„ì˜ ë¹„ìœ¨ 2ê°œ ê°’ì„ ê°€ì§„ë‹¤. Equi-Height(ë†’ì´ ê· í˜• íˆìŠ¤í† ê·¸ë¨) ì»¬ëŸ¼ê°’ì˜ ë²”ìœ„ë¥¼ ê· ë“±í•œ ê°œìˆ˜ë¡œ êµ¬ë¶„í•´ì„œ ê´€ë¦¬í•˜ëŠ” íˆìŠ¤í† ê·¸ë¨ Height-Balances íˆìŠ¤í† ê·¸ë¨ì´ë¼ê³ ë„ ë¶ˆë¦°ë‹¤. ê°œìˆ˜ê°€ ê· ë“±í•œ ì»¬ëŸ¼ê°’ì˜ ë²”ìœ„ë³„ë¡œ í•˜ë‚˜ì˜ ë²„í‚·ì´ í• ë‹¹ëœë‹¤ ê° ë²„í‚·ì´ ë²”ìœ„ ì‹œì‘ê°’ ë° ë§ˆì§€ë§‰ ê°’, ë°œìƒ ë¹ˆë„ìœ¨, ê° ë²„í‚·ì— í¬í•¨ëœ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ë“± 4ê°œ ê°’ì„ ê°€ì§„ë‹¤. íˆìŠ¤í† ê·¸ë¨ì€ ë²„í‚·(Bucket) ë‹¨ìœ„ë¡œ êµ¬ë¶„ë˜ì–´ ë ˆì½”ë“œ ê±´ìˆ˜ë‚˜ ì»¬ëŸ¼ê°’ì˜ ë²”ìœ„ê°€ ê´¸ë¦¬ëœë‹¤.\ninformation_schema.column_statistics í…Œì´ë¸”ì˜ HISTOGRAM ì»¬ëŸ¼ì´ ê°€ì§„ ë‚˜ë¨¸ì§€ í•„ë“œë“¤ì€ ë‹¤ìŒê³¼ ê°™ì€ ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆë‹¤.\nsampling-rate íˆìŠ¤í† ê·¸ë¨ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ ìŠ¤ìº”í•œ í˜ì´ì§€ì˜ ë¹„ìœ¨ ìƒ˜í”Œë§ ë¹„ìœ¨ì´ 0.35ë¼ë©´ ì „ì²´ í˜ì´ì§€ì˜ 35% ìŠ¤ìº”ì„ ì˜ë¯¸ ìƒ˜í”Œë¦¼ ë¹„ìœ¨ì´ ë†’ì•„ì§ˆìˆ˜ë¡ ë” ì •í™•í•œ íˆìŠ¤í† ê·¸ë¨ì´ ë˜ê² ì§€ë§Œ, í…Œì´ë¸”ì„ ì „ë¶€ ìŠ¤ìº”í•˜ëŠ” ê²ƒì€ ë¶€í•˜ê°€ ë†’ìœ¼ë©° ì‹œìŠ¤í…œì˜ ìì›ì„ ë§ì´ ì†Œëª¨í•œë‹¤. histogram_generation_max_mem_size ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ë©”ëª¨ë¦¬ í¬ê¸°ì— ë§ê²Œ ì ì ˆíˆ ìƒ˜í”Œë§í•œë‹¤. ê¸°ë³¸ê°’ 20MB histogram-type íˆìŠ¤í† ê·¸ë¨ì˜ ì¢…ë¥˜ number-of-buckets-specified íˆìŠ¤í† ê·¸ë¨ì„ ìƒì„±í•  ë•Œ ì„¤ì •í–ˆë˜ ë²„í‚·ì˜ ê°œìˆ˜ ë³„ë„ë¡œ ê°œìˆ˜ë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ 100ê°œì˜ ë²„í‚·ì´ ì‚¬ìš©ë¨ ìµœëŒ€ 1024ê°œë¡œ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ 100ê°œ ë²„í‚·ì´ë©´ ì¶©ë¶„í•œ ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìŒ íˆìŠ¤í† ê·¸ë¨ ì‚­ì œ íˆìŠ¤í† ê·¸ë¨ì˜ ì‚­ì œ ì‘ì—…ì€ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë”•ì…”ë„ˆë¦¬ì˜ ë‚´ìš©ë§Œ ì‚­ì œí•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì¿¼ë¦¬ ì²˜ë¦¬ ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ì¦‰ì‹œ ì™„ë£Œëœë‹¤. í•˜ì§€ë§Œ íˆìŠ¤í† ê·¸ë¨ì´ ì‚¬ë¼ì§€ë©´ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìœ ì˜ê°€ í•„ìš”í•˜ë‹¤.\n1 2 ANALYZE TABLE employees.employees DROP HISTOGRAM ON gender, hire_date; íˆìŠ¤í† ê·¸ë¨ì„ ì‚­ì œí•˜ì§€ ì•Šê³  MySQL ì˜µí‹°ë§ˆì´ì €ê°€ íˆìŠ¤í† ê·¸ë¨ì„ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ í•˜ë ¤ë©´ optimizer_switch ì‹œìŠ¤í…œ ë³€ìˆ˜ ê°’ì„ ë³€ê²½í•˜ë©´ ëœë‹¤. ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ê°’ì„ ê¸€ë¡œë²Œë¡œ ë³€ê²½í•˜ë©´ MySQL ì„œë²„ì˜ ëª¨ë“  ì¿¼ë¦¬ê°€ íˆìŠ¤í† ê·¸ë¨ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©°, condition_fanout_filter ì˜µì…˜ì— ì˜í•´ ì˜í–¥ë°›ëŠ” ë‹¤ë¥¸ ìµœì í™” ê¸°ëŠ¥ë“¤ì˜ ì‚¬ìš©ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\n1 SET GLOBAL optimizer_switch=\u0026#39;condition_fanout_filter=off\u0026#39;; íˆìŠ¤í† ê·¸ë¨ ì •ë³´ê°€ ì—†ìœ¼ë©´ ì˜µí‹°ë§ˆì´ì €ëŠ” ë°ì´í„°ê°€ ê· ë“±í•˜ê²Œ ë¶„í¬ë¼ ìˆì„ ê²ƒìœ¼ë¡œ ì˜ˆì¸¡í•˜ê³ , íˆìŠ¤í† ê·¸ë¨ì´ ìˆìœ¼ë©´ íŠ¹ì • ë²”ìœ„ì˜ ë°ì´í„°ê°€ ë§ê³  ì ìŒì„ ì‹ë³„í•˜ë¯€ë¡œ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ì´ ë‹¬ë¼ì§€ë¯€ë¡œ ì¿¼ë¦¬ ì„±ëŠ¥ì— ìƒë‹¹í•­ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\níˆìŠ¤í† ê·¸ë¨ê³¼ ì¸ë±ìŠ¤ íˆìŠ¤í† ê·¸ë¨ê³¼ ì¸ë±ìŠ¤ëŠ” ì™„ì „íˆ ë‹¤ë¥¸ ê°ì²´ì´ë¯€ë¡œ ì„œë¡œ ë¹„êµí•  ëŒ€ìƒì€ ì•„ë‹ˆì§€ë§Œ, MySQL ì„œë²„ì—ì„œ ì¸ë±ìŠ¤ëŠ” ë¶€ì¡±í•œ í†µê³„ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤ëŠ” ì¸¡ë©´ì—ì„œ ì–´ëŠ ì •ë„ ê³µí†µì ì„ ê°€ì§„ë‹¤.\nMySQL ì„œë²„ì—ì„œëŠ” ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œ ì‚¬ìš© ê°€ëŠ¥í•œ ì¸ë±ìŠ¤ë“¤ë¡œë¶€í„° ì¡°ê±´ì ˆì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ëŒ€ëµ íŒŒì•…í•˜ê³  ìµœì¢…ì ìœ¼ë¡œ ê°€ì¥ ë‚˜ì€ ì‹¤í–‰ ê³„íšì„ ì„ íƒí•œë‹¤.\nì¸ë±ìŠ¤ ë‹¤ì´ë¸Œ(Index Dive)\nì¡°ê±´ì ˆì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì˜ˆì¸¡í•˜ê¸° ìœ„í•´ ì‹¤ì œ ì¸ë±ìŠ¤ì˜ B-Treeë¥¼ ìƒ˜í”Œë§í•´ì„œ í™•ì¸í•˜ëŠ” ì‘ì—…\nMySQL 8.0 ì„œë²„ì—ì„œëŠ” ì¸ë±ìŠ¤ëœ ì»¬ëŸ¼ì„ ê²€ìƒ‰ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê·¸ ì»¬ëŸ¼ì˜ íˆìŠ¤í† ê·¸ë¨ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì‹¤ì œ ì¸ë±ìŠ¤ ë‹¤ì´ë¸Œë¥¼ í†µí•´ ì§ì ‘ ìˆ˜ì§‘í•œ ì •ë³´ë¥¼ í™œìš©í•œë‹¤. ê·¸ë˜ì„œ íˆìŠ¤í† ê·¸ë¨ì€ ì£¼ë¡œ ì¸ë±ìŠ¤ë˜ì§€ ì•Šì€ ì»¬ëŸ¼ì— ëŒ€í•œ ë°ì´í„° ë¶„í¬ë„ë¥¼ ì°¸ì¡°í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.\ní•˜ì§€ë§Œ ì¸ë±ìŠ¤ ë‹¤ì´ë¸Œ ì‘ì—…ì€ ì–´ëŠ ì •ë„ì˜ ë¹„ìš©ì´ í•„ìš”í•˜ë©°, ë•Œë¡œëŠ” (IN ì ˆì— ê°’ì´ ë§ì´ ëª…ì‹œëœ ê²½ìš°) ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ë§Œìœ¼ë¡œë„ ìƒë‹¹í•œ ì¸ë±ìŠ¤ ë‹¤ì´ë¸Œë¥¼ ì‹¤í–‰í•˜ê³  ë¹„ìš©ë„ ì»¤ì§„ë‹¤.\nì¡°ë§Œê°„ ì‹¤ì œ ì¸ë±ìŠ¤ ë‹¤ì´ë¸Œë¥¼ ì‹¤í–‰í•˜ê¸° ë³´ë‹¤ íˆìŠ¤í† ê·¸ë¨ì„ í™œìš©í•˜ëŠ” ìµœì í™” ê¸°ëŠ¥ë„ ì¶”ê°€ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.\nì½”ìŠ¤íŠ¸ ëª¨ë¸(Cost Model) MySQL ì„œë²„ê°€ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.\në””ìŠ¤í¬ë¡œë¶€í„° ë°ì´í„° í˜ì´ì§€ ì½ê¸° ë©”ëª¨ë¦¬(InnoDB ë²„í¼í’€)ë¡œë¶€í„° í˜ì´ì§€ ì½ê¸° ì¸ë±ìŠ¤ í‚¤ ë¹„êµ ë ˆì½”ë“œ í‰ê°€ ë©”ëª¨ë¦¬ ì„ì‹œ í…Œì´ë¸” ì‘ì—… ë””ìŠ¤í¬ ì„ì‹œ í…Œì´ë¸” ì‘ì—… MySQL ì„œë²„ëŠ” ì‚¬ìš©ìì˜ ì¿¼ë¦¬ì— ëŒ€í•´ ì´ëŸ¬í•œ ë‹¤ì–‘í•œ ì‘ì—…ì´ ì–¼ë§ˆë‚˜ í•„ìš”í•œì§€ ì˜ˆì¸¡í•˜ê³  ì „ì²´ ì‘ì—…ë¹„ìš©ì„ ê³„ì‚°í•œ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì  ì‹¤í–‰ ê³„íšì„ ì°¾ëŠ”ë°, ì´ë ‡ê²Œ ì „ì²´ ì¿¼ë¦¬ì˜ ë¹„ìš©ì„ ê³„ì‚°í•˜ëŠ”ë° í•„ìš”í•œ ë‹¨ìœ„ ì‘ì—…ë“¤ì˜ ë¹„ìš©ì„ ì½”ìŠ¤íŠ¸ ëª¨ë¸ì´ë¼ê³  í•œë‹¤.\nMySQL 5.7 ì´ì „ ë²„ì „ê¹Œì§€ëŠ” ì´ëŸ° ì½”ìŠ¤íŠ¸ ëª¨ë¸ì„ ì†ŒìŠ¤ ì½”ë“œì— ìƒìˆ˜í™” í•´ì„œ ìƒˆìš©í–ˆìœ¼ë‚˜, ì´ëŸ¬í•œ ì‘ì—… ë¹„ìš©ì€ ì„œë²„ê°€ ì‚¬ìš©í•˜ëŠ” í•˜ë“œì›¨ì–´ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìµœì  ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ì— ìˆì–´ í•­ìƒ ê¸ì •ì ì´ì§€ ì•Šì•˜ë‹¤.\nì´ëŸ¬í•œ ë¶€ë¶„ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ MySQL 5.7 ë²„ì „ë¶€í„° ì†ŒìŠ¤ ì½”ë“œì— ìƒìˆ˜í™” ë˜ì–´ìˆë˜ ê° ë‹¨ìœ„ ì‘ì—… ë¹„ìš©ì„ DBMS ê´€ë¦¬ìê°€ ì¡°ì •í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆì§€ë§Œ, ì¸ë±ìŠ¤ë˜ì§€ ì•Šì€ ì»¬ëŸ¼ì˜ ë°ì´í„° ë¶„í¬(íˆìŠ¤í† ê·¸ë¨)ë‚˜ ë©”ëª¨ë¦¬ì— ìƒì£¼ì¤‘ì¸ í˜ì´ì§€ì˜ ë¹„ìœ¨ ë“± ë¹„ìš© ê³„ì‚°ê³¼ ì—°ê´€ëœ ë¶€ë¶„ì˜ ì •ë³´ê°€ ë¶€ì¡±í–ˆë‹¤.\nMySQL 8.0 ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ë©´ì„œ ì»¬ëŸ¼ì˜ ë°ì´í„° ë¶„í¬ë¥¼ ìœ„í•œ íˆìŠ¤í† ê·¸ë¨ê³¼ ê° ì¸ë±ìŠ¤ë³„ ë©”ëª¨ë¦¬ì— ì ì¬ëœ í˜ì´ì§€ì˜ ë¹„ìœ¨ì´ ê´€ë¦¬ë˜ê³  ì˜µí‹°ë§ˆì´ì €ì˜ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ì— ì‚¬ìš©ë˜ê¸° ì‹œì‘í–ˆë‹¤.\nMySQL 8.0 ì„œë²„ì˜ ì½”ìŠ¤íŠ¸ëª¨ë¸ì€ ë‹¤ìŒ 2ê°œ í…Œì´ë¸”ì— ì €ì¥ë˜ì–´ ìˆëŠ” ì„¤ì •ê°’ì„ ì‚¬ìš©í•˜ëŠ”ë°, ë‘ í…Œì´ë¸” ëª¨ë‘ mysql DBì— ì¡´ì¬í•œë‹¤.\nserver_cost ì¸ë±ìŠ¤ë¥¼ ì°¾ê³  ë ˆì½”ë“œë¥¼ ë¹„êµí•˜ê³  ì„ì‹œ í…Œì´ë¸” ì²˜ë¦¬ì— ëŒ€í•œ ë¹„ìš© ê´€ë¦¬ engine_cost ë ˆì½”ë“œë¥¼ ê°€ì§„ ë°ì´í„° í˜ì´ì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° í•„ìš”í•œ ë¹„ìš© ê´€ë¦¬ ê° í…Œì´ë¸”ì€ ê³µí†µìœ¼ë¡œ 5ê°œ ì»¬ëŸ¼ì„ ê°€ì§„ë‹¤.\ncost_name: ì½”ìŠ¤íŠ¸ ëª¨ë¸ì˜ ê° ë‹¨ìœ„ ì‘ì—… default_value: ê° ë‹¨ìœ„ ì‘ì—…ì˜ ë¹„ìš© ê¸°ë³¸ê°’ìœ¼ë¡œ, MySQL ì„œë²„ ì†ŒìŠ¤ì½”ë“œì— ì„¤ì •ëœ ê°’ cost_value: DBMS ê´€ë¦¬ìê°€ ì„¤ì •í•œ ê°’ NULLì´ë©´ default_value ì»¬ëŸ¼ê°’ ì‚¬ìš© last_update: ì‘ì—… ë¹„ìš©ì´ ë³€ê²½ëœ ì‹œì  comment: ë¹„ìš©ì— ëŒ€í•œ ì¶”ê°€ ì„¤ëª… engine_cost í…Œì´ë¸”ì€ 2ê°œì˜ ì»¬ëŸ¼ì„ ë” ê°€ì§„ë‹¤.\nengine_name: ë¹„ìš©ì´ ì ìš©ëœ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ë³„ë¡œ ê° ë‹¨ìœ„ ì‘ì—… ë¹„ìš©ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ê°’ì€ defaultì´ë©° íŠ¹ì • ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë¹„ìš©ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ë‹¤ë©´ í•´ë‹¹ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¹„ìš©ìœ¼ë¡œ ê°’ì„ ì ìš©í•œë‹¤. device_type: ë””ìŠ¤í¬ íƒ€ì… MySQL 8.0ì—ì„œëŠ” ì•„ì§ ì´ ì»¬ëŸ¼ì˜ ê°’ì„ í™œìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. MySQL 8.0 ë²„ì „ì˜ ì½”ìŠ¤íŠ¸ ëª¨ë¸ì—ì„œ ì§€ì›í•˜ëŠ” ë‹¨ìœ„ ì‘ì—…ì€ ë‹¤ìŒê³¼ ê°™ì´ 8ê°œì´ë‹¤.\ncost_name default_value ì„¤ëª… engine_cost io_block_read_cost 1.00 ë””ìŠ¤í¬ ë°ì´í„° í˜ì´ì§€ ì½ê¸° memory_block_read_cost 0.25 ë©”ëª¨ë¦¬ ë°ì´í„° í˜ì´ì§€ ì½ê¸° sever_cost disk_temptable_create_cost 20.00 ë””ìŠ¤í¬ ì„ì‹œ í…Œì´ë¸” ìƒì„± disk_temptable_row_cost 0.50 ë””ìŠ¤í¬ ì„ì‹œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ì½ê¸° key_compare_cost 0.05 ì¸ë±ìŠ¤ í‚¤ ë¹„êµ memory_temptable_create_cost 1.00 ë©”ëª¨ë¦¬ ì„ì‹œ í…Œì´ë¸” ìƒì„± memory_temptable_row_cost 0.10 ë©”ëª¨ë¦¬ ì„ì‹œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ì½ê¸° row_evaluate_cost 0.10 ë ˆì½”ë“œ ë¹„êµ ê° ë‹¨ìœ„ ì‘ì—…ì˜ ë¹„ìš©ì„ ì´ìš©í•´ MySQL ì„œë²„ì˜ ì‹¤í–‰ ê³„íšì— í‘œì‹œë˜ëŠ” ë¹„ìš©ì„ ì§ì ‘ ê³„ì‚°í•´ë³´ê³  ì‹¶ì„ ìˆ˜ ìˆì§€ë§Œ, ì—­ìœ¼ë¡œ ì´ëŸ¬í•œ ê³„ì‚°ì„ ì§ì ‘ í•´ë³´ê¸°ëŠ” ì‰½ì§€ ì•Šë‹¤.\nB-Tree ê¹Šì´ì™€ ì¸ë±ìŠ¤ í‚¤ ê²€ìƒ‰ì„ ìœ„í•´ ì½ì–´ì•¼í•˜ëŠ” í˜ì´ì§€ì˜ ê°œìˆ˜ ë””ìŠ¤í¬ì™€ ë©”ëª¨ë¦¬(ë²„í¼í’€)ì—ì„œ ì¼ì–´ì•¼í•˜ëŠ” ë°ì´í„° í˜ì´ì§€ì˜ ê°œìˆ˜ ë ˆì½”ë“œ ì •ë ¬ ì‘ì—…ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¥´ì¦˜ë³„ í‚¤ ê°’ ë¹„êµ ì‘ì—… íšŸìˆ˜ ë“± ì´ëŸ° ì •ë³´ëŠ” ëª¨ë‘ ì‚¬ìš©ìì—ê²Œ í‘œì‹œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì§ì ‘ ê³„ì‚°í•˜ëŠ” ê²ƒì€ ìƒë‹¹íˆ ì–´ë µë‹¤.\nì½”ìŠ¤íŠ¸ ëª¨ë¸ì—ì„œ ì¤‘ìš”í•œ ê²ƒì€ ê° ë‹¨ìœ„ ì‘ì—…ì— ì„¤ì •ë˜ëŠ” ë¹„ìš© ê°’ì´ ì»¤ì§€ë©´ ì–´ë˜ ì‹¤í–‰ ê³„íšë“¤ì´ ê³ ë¹„ìš©ìœ¼ë¡œ ë°”ë€Œê³  ì–´ë–¤ ì‹¤í–‰ ê³„íšë“¤ì´ ì €ë¹„ìš©ìœ¼ë¡œ ë°”ë€ŒëŠ”ì§€ íŒŒì•…í•˜ëŠ” ê²ƒì´ë‹¤. ëŒ€í¬ì ìœ¼ë¡œ ê° ë‹¨ìœ„ ì‘ì—…ì˜ ë¹„ìš©ì´ ë³‘ê²¬ë˜ë©´ ì˜ˆìƒí•  ìˆ˜ ìˆëŠ” ê²°ê³¼ë“¤ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nkey_compare_cost ë¹„ìš©ì„ ë†’ì´ë©´ MySQL ì„œë²„ ì˜µí‹°ë§ˆì´ì €ê°€ ê°€ëŠ¥í•˜ë©´ ì •ë ¬ì„ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ” ë°©í–¥ì˜ ì‹¤í–‰ ê³„íšì„ ì„ íƒí•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤. row_evaluate_cost ë¹„ìš©ì„ ë†’ì´ë©´ í’€ ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ëŠ” ì¿¼ë¦¬ë“¤ì˜ ë¹„ìš©ì´ ë†’ì•„ì§€ê³ , MySQL ì„œë²„ ì˜µí‹°ë§ˆì´ì €ëŠ” ê°€ëŠ¥í•˜ë©´ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ëŠ” ì‹¤í–‰ ê³„íšì„ ì„ íƒí•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤. disk_temptable_create_costì™€ dist_temptable_row_cost ë¹„ìš©ì„ ë†’ì´ë©´ MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ë””ìŠ¤í¬ì— ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ì§€ ì•ŠëŠ” ë°©í–¥ì˜ ì‹¤í–‰ ê³„íšì„ ì„ íƒí•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤. memory_temptable_create_costì™€ memory_temptable_row_cost ë¹„ìš©ì„ ë†’ì´ë©´ MySQLì„œë²„ ì˜µí‹°ë§ˆì´ì €ëŠ” ë©”ëª¨ë¦¬ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ì§€ ì•ŠëŠ” ë°©í–¥ìœ¼ë¡œ ì‹¤í–‰ ê³„íšì„ ì„ íƒí•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤. io_block_read_cost ë¹„ìš©ì´ ë†’ì•„ì§€ë©´ MySQL ì„œë²„ ì˜µí‹°ë§ˆì´ì €ëŠ” ê°€ëŠ¥í•˜ë©´ InnoDB ë²„í¼í’€ì— ë°ì´í„° í˜ì´ì§€ê°€ ë§ì´ ì ì¬ë˜ì–´ìˆëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹¤í–‰ ê³„íšì„ ì„ íƒí•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤. memory_block_read_cost ë¹„ìš©ì´ ë†’ì•„ì§€ë§Œ InnoDB ë²„í¼í’€ì— ì ì¬ëœ ë°ì´í„° í˜ì´ì§€ê°€ ìƒëŒ€ì ìœ¼ë¡œ ì ë‹¤ê³  í•˜ë”ë¼ë„ ê·¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤. ì½”ìŠ¤íŠ¸ ëª¨ë¸ì€ MySQL ì„œë²„ê°€ ì‚¬ìš©í•˜ëŠ” í•˜ë“œì›¨ì–´ì™€ MySQL ì„œë²„ ë‚´ë¶€ì ì¸ ì²˜ë¦¬ ë°©ì‹ì— ëŒ€í•œ ê¹Šì´ ìˆëŠ” ì§€ì‹ì„ í•„ìš”ë¡œ í•œë‹¤. MySQL ì„œë²„ì— ì ìš©ëœ ê¸°ë³¸ ê°’ìœ¼ë¡œë„ 20ë…„ì´ ë„˜ëŠ” ì‹œê°„ë™ì•ˆ ìˆ˜ë§ì€ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì˜ ì‚¬ìš©ë˜ì–´ ì™”ìœ¼ë¯€ë¡œ, ì´ëŸ° ë¶€ë¶„ì— ëŒ€í•´ ì „ë¬¸ì ì¸ ì§€ì‹ì„ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤ë©´ ì„œë²„ìŠ¤ì— ì‚¬ìš©ë˜ëŠ” MySQL ì„œë²„ì˜ engine_cost í…Œì´ë¸”ê³¼ server_cost í…Œì´ë¸”ì˜ ê¸°ë³¸ê°’ì„ í•¨ë¶€ë¡œ ë³€ê²½í•˜ì§€ ì•ŠëŠ” ê²Œ ì¢‹ë‹¤.\n","date":"2023-06-27T11:42:10+09:00","image":"https://codemario318.github.io/post/real_mysql/10/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql/10/1/","title":"10.1 ì‹¤í–‰ ê³„íš - í†µê³„ ì •ë³´"},{"content":"MySQL ë²„ì „ì´ ì—…ê·¸ë ˆì´ë“œë˜ê³  í†µê³„ ì •ë³´ë‚˜ ì˜µí‹°ë§ˆì´ì €ì˜ ìµœì í™” ë°©ë²•ë“¤ì´ ë” ì•„ì–‘í•´ì§€ë©´ì„œ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íš ìµœì í™”ê°€ ë§ì´ ì„±ìˆ™í•˜ê³  ìˆì§€ë§Œ, ì—¬ì „íˆ ì„œë¹„ìŠ¤ ë¡œì§ì„ ì´í•˜ì§€ëŠ” ëª»í•˜ê¸° ë•Œë¬¸ì— ê°œë°œìë‚˜ DBAë³´ë‹¤ MySQL ì„œë²„ê°€ ë¶€ì¡±í•œ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œê°€ ìˆì„ ìˆ˜ ìˆë‹¤.\nì´ëŸ° ê²½ìš°ì—ëŠ” ì˜µí‹°ë§ˆì´ì €ì—ê²Œ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ ì–´ë–»ê²Œ ìˆ˜ë¦½í•´ì•¼ í• ì§€ ì•Œë ¤ì¤„ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•„ìš”í•˜ë‹¤. ì¼ë°˜ì ì¸ DBMSëŠ” ì´ëŸ¬í•œ ëª©ì ìœ¼ë¡œ íŒíŠ¸ê°€ ì œê³µë˜ë©°, MySQLì—ì„œë„ ë‹¤ì–‘í•œ ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ë¥¼ ì œê³µí•œë‹¤.\nì¸ë±ìŠ¤ íŒíŠ¸ ì´ì „ ë¶€í„° ì‚¬ìš©ë˜ì–´ì˜¤ë˜ USE INDEX ê°™ì€ íŒíŠ¸ ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ MySQL 5.6 ë²„ì „ë¶€í„° ìƒˆë¡­ê²Œ ì‹œì‘í•œ íŒíŠ¸ ë° STRAIGHT_JOIN ë“± ì¸ë±ìŠ¤ íŒíŠ¸ STRAIGHT_JOIN, USE_INDEX ë“± ì„ í¬í•¨í•œ ì¸ë±ìŠ¤ íŒíŠ¸ë“¤ì€ SELECT, UPDATE ê°™ì€ SQL ë¬¸ë²•ì— ë§ê²Œ ì‚¬ìš©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš© ì‹œ ANSI-SQL í‘œì¤€ ë¬¸ë²•ì„ ì¤€ìˆ˜í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ ì£¼ì„ ì²˜ëŸ¼ ì‚¬ìš©ë˜ê³ , ë‹¤ë¥¸ RDBMS ì—ì„œ ì£¼ì„ìœ¼ë¡œ í•´ì„í•˜ê²Œ ë˜ëŠ” ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ë¥¼ ì‚¬ìš©í•  ê²ƒì„ ì¶”ì²œí•œë‹¤.\nSTRAIGHT_JOIN STRAIGHT_JOINì€ ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ì¸ ë™ì‹œì— ì¡°ì¸ í‚¤ì›Œë“œì´ê¸°ë„ í•˜ë‹¤. STRAIGHT_JOINì€ SELECT, UPDATE, DELETE ì¿¼ë¦¬ì—ì„œ ì—¬ëŸ¬ê°œì˜ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ê²½ìš° ì¡°ì¸ ìˆœì„œë¥¼ ê³ ì •í•˜ëŠ” ì—­í• ì„ í•œë‹¤.\n1 2 3 4 5 6 EXPLAIN SELECT * FROM employees e, dept_emp de, departments d WHERE e.emp_no=de.emp_no AND d.dept_no ; id select_type table type key rows Extra 1 SIMPLE d index ix_deptname 9 Using index 1 SIMPLE de ref PRIMARY 41392 NULL 1 SIMPLE e eq_ref PRIMARY 1 NULL ìœ„ ì¿¼ë¦¬ëŠ” 3ê°œì˜ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì§€ë§Œ ì˜µí‹°ë§ˆì´ì €ì˜ íŒë‹¨ì— ì˜í•´ ì¡°ì¸ ìˆœì„œê°€ ê²°ì •ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì¡°ì¸ì„ í•˜ê¸° ìœ„í•œ ì»¬ëŸ¼ë“¤ì˜ ì¸ë±ìŠ¤ ì—¬ë¶€ë¡œ ì¡°ì¸ì˜ ìˆœì„œê°€ ê²°ì •ë˜ë©°, ì¡°ì¸ ì»¬ëŸ¼ì˜ ì¸ë±ìŠ¤ì— ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ëŠ” ê²½ìš°ì—ëŠ” (WHERE ì¡°ê±´ì´ ìˆëŠ” ê²½ìš° ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”) ë ˆì½”ë“œê°€ ì ì€ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•œë‹¤.\nì´ëŸ¬í•œ ì¿¼ë¦¬ì˜ ì¡°ì¸ ìˆœì„œë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ STRAIGHT_JOIN íŒíŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 EXPLAIN SELECT STRAIGHT_JOIN e.first_name ,e.last_name ,d.dept_name FROM employees e, dept_emp de, departments d WHERE e.emp_no=de.emp_no AND d.dept_no ; EXPLAIN SELECT /*! STRAIGHT_JOIN */ e.first_name ,e.last_name ,d.dept_name FROM employees e, dept_emp de, departments d WHERE e.emp_no=de.emp_no AND d.dept_no ; id select_type table type key rows Extra 1 SIMPLE e ALL NULL 300473 NULL 1 SIMPLE de ref ix_empno_fromdate 1 Using index 1 SIMPLE d eq_ref PRIMARY 1 NULL STRAIGHT_JOIN íŒíŠ¸ëŠ” ì˜µí‹°ë§ˆì´ì €ê°€ FROM ì ˆì— ë©´ì‹œëœ í…Œì´ë¸”ì˜ ìˆœì„œëŒ€ë¡œ ì¡°ì¸ì„ ìˆ˜í–‰í•˜ë„ë¡ ìœ ë„í•œë‹¤. ì£¼ë¡œ ë‹¤ìŒ ê¸°ì¤€ì— ë§ê²Œ ì¡°ì¸ ìˆœì„œê°€ ê²°ì •ë˜ì§€ ì•ŠëŠ ã„´ê²½ìš°ì—ë§Œ STRAIGHT_JOIN íŒíŠ¸ë¡œ ì¡°ì¸ ìˆœì„œë¥¼ ì¡°ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì„ì‹œí…Œì´ë¸”ê³¼ ì¼ë°˜ í…Œì´ë¸”ì˜ ì¡°ì¸ ì´ëŸ¬í•œ ê²½ìš°ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì„ì‹œ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì¼ë°˜ í…Œì´ë¸”ì˜ ì¡°ì¸ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ê²½ìš°ì—ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì‘ì€ ì¡±ì„ ë¨¼ì € ì½ë„ë¡ ë“œë¼ì´ë¹™ìœ¼ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ì€ë°, ëŒ€ë¶€ë¶„ ì˜µí‹°ë§ˆì´ì €ê°€ ì‹¤í–‰ ê³„íšì„ ì œëŒ€ë¡œ ìˆ˜ë¦½í•˜ì§€ ëª»í•´ì„œ ì‹¬ê°í•œ ì„±ëŠ¥ ì €í•˜ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” íŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì„ì‹œ í…Œì´ë¸”ë¼ë¦¬ ì¡°ì¸ ì„ì‹œ í…Œì´ë¸”ì€ í•­ìƒ ì¸ë±ìŠ¤ê°€ ì—†ê¸° ë•Œë¬¸ì— ì–´ëŠ í…Œì´ë¸”ì„ ë¨¼ì € ë“œë¼ì´ë¹™ìœ¼ë¡œ ì½ì–´ë„ ë¬´ê´€í•˜ë¯€ë¡œ í¬ê¸°ê°€ ì‘ì€ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ìœ¼ë¡œ ì„ íƒí•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì¼ë°˜ í…Œì´ë¸”ë¼ë¦¬ ì¡°ì¸ ì–‘ìª½ í…Œì´ë¸” ëª¨ë‘ ì¡°ì¸ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ìˆê±°ë‚˜ ì–‘ìª½ í…Œì´ë¸” ëª¨ë‘ ì¡°ì¸ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ê²½ìš°ì—ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì ì€ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ìœ¼ë¡œ ì„ íƒí•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê·¸ ì´ì™¸ì˜ ê²½ìš°ì—ëŠ” ì¡°ì¸ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ì—†ëŠ” í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ìœ¼ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. STRAIGHT_JOIN íŒíŠ¸ì™€ ë¹„ìŠ·í•œ ì—­í• ì„ í•˜ëŠ” ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆë‹¤.\nJOIN_FIXED_ORDER JOIN_ORDER JOIN_PREFIX JOIN_SUFFIX STRAIGTH_JOINì™€ JOIN_FIXED_ORDER íŒíŠ¸ëŠ” í•œë²ˆ ì‚¬ìš©ë˜ë©´ FROMì ˆì˜ ëª¨ë“  í…Œì´ë¸”ì— ëŒ€í•´ ì¡°ì¸ ìˆœì„œê°€ ê²°ì •ë˜ë©°, ë‚˜ë¨¸ì§€ 3ê°œëŠ” ì¼ë¶€ í…Œì´ë¸”ì˜ ì¡°ì¸ ìˆœì„œì— ëŒ€í•´ì„œë§Œ ì œì•ˆí•˜ëŠ” íŒíŠ¸ì´ë‹¤.\nUSE_INDEX, FORCE IDNEX, IGNORE INDEX ì¡°ì¸ì˜ ìˆœì„œë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒ ë‹¤ìŒìœ¼ë¡œ ìì‹œ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ ì¸ë±ìŠ¤ íŒíŠ¸ì¸ë°, STRAIGHT_JOIN íŒíŠ¸ì™€ëŠ” ë‹¬ë¦¬ ì¸ë±ìŠ¤ íŒíŠ¸ëŠ” ì‚¬ìš©í•˜ë ¤ëŠ” ì¸ë±ìŠ¤ë¥¼ ê°€ì§€ëŠ” í…Œì´ë¸” ë’¤ì— íŒíŠ¸ë¥¼ ëª…ì‹œí•œë‹¤.\nMySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í• ì§€ë¥¼ ë¬´ë‚œí•˜ê²Œ ì˜ ì„ íƒí•˜ëŠ” í¸ì´ì§€ë§Œ, 3~4ê°œ ì´ìƒì˜ ì»¬ëŸ¼ì„ í¬í•¨í•˜ëŠ” ë¹„ìŠ·í•œ ì¸ë±ìŠ¤ê°€ ì—¬ëŸ¬ ê°œ ì¡´ì¬í•˜ëŠ” ê²½ìš°ì—ëŠ” ì‹¤ìˆ˜ë¥¼ í•˜ëŠ”ë°, ì´ëŸ° ê²½ìš°ì—ëŠ” ê°•ì œë¡œ íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ íŒíŠ¸ë¥¼ ì¶”ê°€í•œë‹¤.\nUSE_INDEX ê°€ì¥ ìì£¼ ì‚¬ìš©ë˜ëŠ” íŒíŠ¸ë¡œ, ì˜µí‹°ë§ˆì´ì €ì—ê²Œ íŠ¹ì • í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê¶Œì¥í•œë‹¤. ëŒ€ë¶€ë¶„ íŒíŠ¸ë¥¼ ì±„íƒí•˜ì§€ë§Œ, í•­ìƒ ì‚¬ìš©í•˜ì§„ ì•ŠëŠ”ë‹¤. FORCE IDNEX USE_INDEXì™€ ê¸°ëŠ¥ì ìœ¼ë¡œëŠ” ê°™ì§€ë§Œ ì¡°ê·¼ ë” ê°•í•œ ìš°ì„ ë„ë¥¼ ë¶€ì—¬í•œë‹¤. USE_INDEX íŒíŠ¸ë„ ì¶©ë¶„íˆ ìš°ì„ ë„ê°€ ë†’ê³ , USE_INDEXë¥¼ ì‚¬ìš©í–ˆìŒì—ë„ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ FORCE IDNEXë¥¼ ì‚¬ìš©í•´ë„ í™œìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë§ë‹¤. IGNORE INDEX íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê¸° í•˜ëŠ” íŒíŠ¸ì´ë‹¤. ì˜µí‹°ë§ˆì´ì €ê°€ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë„ë¡ ìœ ë„í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ëŒ€ì²´ë¡œ GROUP BY, ORDER BY ì‘ì—…ì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë©´ ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì¥í•˜ë©°, ì˜µí‹°ë§ˆì´ì €ê°€ ëŒ€ë¶€ë¶„ ìµœì ìœ¼ë¡œ ì„ íƒí•˜ê¸° ë•Œë¬¸ì— í¬ê²Œ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤.\n1 2 3 4 5 6 SELECT * FROM employees WHERE emp_no=10001; SELECT * FROM employees FORCE INDEX(primary) WHERE emp_no=10001; SELECT * FROM employees USE INDEX(primary) WHERE emp_no=10001; SELECT * FROM employees IGNORE INDEX(primary) WHERE emp_no=10001; SELECT * FROM employees FORCE INDEX(ix_firstname) WHERE emp_no=10001; 1~3 ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ íŒíŠ¸ê°€ ì£¼ì–´ì§€ì§€ ì•Šì•„ë„ WHERE ì¡°ê±´ì„ í†µí•´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì´ìš©í•˜ì—¬ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ìµœì ì„ì„ ì˜µí‹°ë§ˆì´ì €ê°€ íŒë‹¨í•˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ ì‹¤í–‰ ê³„íšìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\nì˜µí‹°ë§ˆì´ì €ëŠ ã„´í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ì™€ ê°™ì€ ì¸ë±ìŠ¤ì— ëŒ€í•´ì„œ ì„ íƒ ì‹œ ê°€ì¤‘ì¹˜ë¥¼ ë‘ê³  ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ê¸° ë•Œë¬¸ì— ì „ë¬¸ ê²€ìƒ‰(Full Text search) ì¸ë±ìŠ¤ê°€ ìˆëŠ” ê²½ìš°ì—ëŠ” ë‹¤ë¥¸ ì¼ë°˜ ë³´ì¡° ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒí™©ì´ë¼ê³  í•˜ë”ë¼ë„ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì„ íƒí•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\nMySQLì˜ ì˜µí‹°ë§ˆì´ì €ê°€ ì‰¬ìš´ ìµœì í™”ëŠ” ë§¤ìš° ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì¸ë±ìŠ¤ì˜ ì‚¬ìš©ë²•ì´ë‚˜ ì¢‹ì€ ì‹¤í–‰ ê³„íšì´ ì–´ë–¤ ê²ƒì¸ì§€ íŒë‹¨í•˜ê¸° í˜ë“  ìƒí™©ì´ë¼ë©´ íŒíŠ¸ë¥¼ ì‚¬ìš©í•´ ê°•ì œë¡œ ì˜µí‹°ë§ˆì´ì €ì˜ ì‹¤í–‰ ê³„íšì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì€ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nìµœì ì˜ ì‹¤í–‰ ê³„íšì€ ë°ì´í„°ì˜ ì„±ê²©ì— ë”°ë¼ì„œ ì‹œì‹œê°ê° ë³€í•˜ë¯€ë¡œ, í˜„ì¬ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ê³„íšì´ì—ˆë‹¤ê³  í•˜ë”ë¼ë„ ì´í›„ ë°”ë€” ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì˜µí‹°ë§ˆì´ì €ê°€ ë‹¹ì‹œ í†µê³„ ì •ë³´ë¥¼ ê°€ì§€ê³  ì„ íƒí•˜ê²Œ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nê°€ì¥ í›Œë¥­í•œ ìµœì í™”ëŠ” ê·¸ ì¿¼ë¦¬ë¥¼ ì„œë¹„ìŠ¤ì—ì„œ ì—†ì• ë²„ë¦¬ê±°ë‚˜ íŠœë‹í•  í•„ìš”ê°€ ì—†ê²Œ ë°ì´í„°ë¥¼ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ë©°, ê·¸ê²ƒì´ ì–´ë µë‹¤ë©´ ë°ì´í„° ëª¨ë¸ì˜ ë‹¨ìˆœí™”ë¥¼ í†µí•´ ì¿¼ë¦¬ë¥¼ ê°„ê²°í•˜ê²Œ ë§Œë“¤ê³  íŒíŠ¸ê°€ í•„ìš”í•˜ì§€ ì•Šê²Œ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì–´ë–¤ ë°©ë²•ë„ ì—†ë‹¤ë©´ ê·¸ ë‹¤ìŒìœ¼ë¡œ íŒíŠ¸ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì¸ë°, ì¼ë°˜ì ìœ¼ë¡œ ì‹¤ë¬´ì—ì„œëŠ” ì•ìª½ì˜ ì‘ì—…ë“¤ì— ìƒë‹¹í•œ ì‹œê°„ê³¼ ì‘ì—… ëŠ¥ë ¥ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì´ëŸ° íŒíŠ¸ì— ì˜ì¡´í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\nSQL_CALC_FOUND_ROWS MySQLì˜ LIMITë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œê°€ ëª…ì‹œëœ ìˆ˜ ë³´ë‹¤ ë” ë§ë‹¤ê³  í•˜ë”ë¼ë„ ì§€ì •í•œ ìˆ˜ ë§Œí¼ ì°¾ìœ¼ë©´ ê²€ìƒ‰ ì‘ì—…ì„ ë©ˆì¶”ì§€ë§Œ, ì‚¬ìš©ìì—ê²ŒëŠ” LIMITì— ì œí•œëœ ìˆ˜ë§Œí¼ì˜ ë ˆì½”ë“œë¥¼ ë°˜í™˜ë¨ì—ë„ ë¶ˆêµ¬í•˜ê³  ëê¹Œì§€ ê²€ìƒ‰ì„ ìˆ˜í–‰í•œë‹¤.\n1 2 3 4 5 SELECT SQL_CALC_FOUND_ROWS * FROM employees LIMIT 5 ; SELECT FOUND_ROWS() AS total_record_count; emp_no birth_date first_name last_name gender hire_date 10001 1953-09-02 Georgi Facello M 1986-06-26 total_record_count 300024 ì•„ë§ˆë„ ì´ ê¸°ëŠ¥ì„ ì›¹ í”„ë¡œê·¸ë¨ì˜ í˜ì´ì§• ê¸°ëŠ¥ì— ì ìš©í•˜ê¸° ìœ„í•´ ê²€í† í–ˆê±°ë‚˜ ì´ë¯¸ ì‚¬ìš©í•˜ê³  ìˆì„ì§€ ëª¨ë¥´ì§€ë§Œ ì´ ì¿¼ë¦¬ íŒíŠ¸ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.\n1 2 3 4 5 6 7 SELECT SQL_CALC_FOUND_ROWS * FROM employees WHERE first_name=\u0026#39;Georgi\u0026#39; LIMIT 0, 20 ; SELECT FOUND_ROWS() AS total_record_count; ì´ ê²½ìš°ì—ëŠ” í•œ ë²ˆì˜ ì¿¼ë¦¬ ì‹¤í–‰ìœ¼ë¡œ í•„ìš”í•œ ì •ë³´ 2ê°€ì§€ë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¤ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ FOUND_ROWS() í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ìœ„í•´ ë˜ í•œë²ˆì˜ ì¿¼ë¦¬ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì¿¼ë¦¬ë¥¼ 2ë²ˆ ì‹¤í–‰í•´ì•¼ í•œë‹¤.\nìœ„ ì¿¼ë¦¬ëŠ” first_name='Georgi' ì¡°ê±´ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ employees í…Œì´ë¸”ì˜ ix_firstname ì¸ë±ìŠ¤ë¥¼ ë ˆì¸ì§€ ìŠ¤ìº”ìœ¼ë¡œ ì‹¤ì œ ê°’ì„ ì½ì–´ì˜¨ë‹¤. LIMITë¥¼ í†µí•´ ì²˜ìŒ 20ê±´ë§Œ ê°€ì ¸ì˜¤ë„ë¡ í–ˆì§€ë§Œ SQL_CALC_FOUND_ROWS íŒíŠ¸ë¡œ ì¸í•´ ì‹¤ì œ ì´ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œëŠ” ì „ì²´ 253ê±´ì„ ì „ë¶€ ì½ì–´ì•¼í•˜ë©°, ì´ë¡œì¸í•´ ix_firstname ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì‹¤ì œ ë°ì´í„° ë ˆì½”ë“œë¥¼ ì°¾ì•„ê°€ëŠ” ì‘ì—…ìœ¼ë¡œ ì¸í•´ ëœë¤ I/Oê°€ 253ë²ˆ ë°œìƒí•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 SELECT COUNT(*) FROM employees WHERE first_name=\u0026#39;Georgi\u0026#39; ; SELECT SQL_CALC_FOUND_ROWS * FROM employees WHERE first_name=\u0026#39;Georgi\u0026#39; LIMIT 0, 20 ; ìœ„ ë°©ë²• ë˜í•œ ì¿¼ë¦¬ë¥¼ 2ë²ˆ ì‹¤í–‰í•´ì•¼ í•˜ì§€ë§Œ, ì‹¤ì œ ë ˆì½”ë“œ ë°ì´í„°ê°€ í•„ìš”í•œ ê²ƒì´ ì•„ë‹ˆë¼ ê±´ìˆ˜ë§Œ ê°€ì ¸ì˜¤ë©´ ë˜ëŠ” ì»¤ë²„ë§ ì¸ë±ìŠ¤ ì¿¼ë¦¬ ì´ë¯€ë¡œ ì‹¤ì œë¡œ ë°ì´í„° ë ˆì½”ë“œë¥¼ ì°¾ê¸° ìœ„í•œ ëœë¤ I/OëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ë‘ë²ˆì§¸ ì¿¼ë¦¬ëŠ” LIMIT ì œí•œìœ¼ë¡œ ì¸í•´ ëœë¤ I/Oê°€ 20ë²ˆë§Œ ë°œìƒí•˜ê²Œ ëœë‹¤.\nì¿¼ë¦¬ê°€ ì ì ˆíˆ íŠœë‹ë˜ì§€ ì•Šì•˜ê±°ë‚˜ WHERE ì¡°ê±´ì— ëŒ€í•´ì„œ ì ì ˆí•œ ì¸ë±ìŠ¤ê°€ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ì„ ê²½ìš° SQL_CALC_FOUND_ROWSë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë” ë¹ ë¥¼ ìˆ˜ ìˆì§€ë§Œ ì´ëŸ¬í•œ ê²½ìš°ì—ëŠ” ì¿¼ë¦¬ë‚˜ ì¸ë±ìŠ¤ë¥¼ íŠœë‹í•˜ì—¬ ë’¤ì— ì„¤ëª…í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ëŒ€ì²´ë¡œ ë” ë¹ ë¥´ë‹¤. ì¸ë±ìŠ¤ë‚˜ ì¿¼ë¦¬ì˜ íŠœë‹ì´ ì œëŒ€ë¡œ ëë‹¤ë©´ ë’¤ì— ì„¤ëª…í•œ ë°©ì‹ì´ ë” ë¹ ë¥´ê²Œ ì‹¤í–‰ë  ê²ƒì´ë¯€ë¡œ SQL_CALC_FOUND_ROWS íŒíŠ¸ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.\në˜í•œ SELECT ë¬¸ì¥ì´ UNION, UNION DISTINTìœ¼ë¡œ ì—°ê²° ëœ ê²½ìš°ì—ëŠ” SQL_CALC_FOUND_ROWS íŒíŠ¸ë¥¼ ì‚¬ìš©í•´ë„ FOUND_ROWS í•¨ìˆ˜ë¡œ ì •í™•í•œ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ë‹¤.\nì˜µí‹°ë§ˆì´ì € íŒíŠ¸ MySQL 8.0ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ íŒíŠ¸ëŠ” ì¢…ë¥˜ê°€ ë§¤ìš° ë‹¤ì–‘í•˜ê³  íŒíŠ¸ê°€ ë¯¸ì¹˜ëŠ” ì˜í–¥ ë²”ìœ„ë„ ë§¤ìš° ë‹¤ì–‘í•˜ë‹¤.\nì˜µí‹°ë§ˆì´ì € íŒíŠ¸ ì¢…ë¥˜ ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ëŠ” ì˜í–¥ ë²”ìœ„ì— ë”°ë¼ 4ê°œ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤: íŠ¹ì • ì¸ë±ìŠ¤ì˜ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ í…Œì´ë¸”: íŠ¹ì • í…Œì´ë¸”ì˜ ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ ì¿¼ë¦¬ ë¸”ë¡: íŠ¹ì • ì¿¼ë¦¬ ë¸”ë¡ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ë¡œì„œ, íŠ¹ì • ì¿¼ë¦¬ ë¸”ë¡ì˜ ì´ë¦„ì„ ëª…ì‹œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ íŒíŠ¸ê°€ ëª…ì‹œëœ ì¿¼ë¦¬ ë¸”ë¡ì— ëŒ€í•´ì„œë§Œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ ê¸€ë¡œë²Œ(ì¿¼ë¦¬ ì „ì²´): ì „ì²´ ì¿¼ë¦¬ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” íŒíŠ¸ ì´ êµ¬ë¶„ìœ¼ë¡œ ì¸í•´ íŒíŠ¸ì˜ ì‚¬ìš© ìœ„ì¹˜ê°€ ë‹¬ë¼ì§€ëŠ” ê²ƒì€ ì•„ë‹ˆë©°, íŒíŠ¸ì— ì¸ë±ìŠ¤ ì´ë¦„ì´ ëª…ì‹œë  ìˆ˜ ìˆëŠ” ê²½ìš° ì¸ë±ìŠ¤ ìˆ˜ì¤€ì˜ íŒíŠ¸ë¡œ êµ¬ë¶„í•˜ê³ , í…Œì´ë¸” ì´ë¦„ê¹Œì§€ë§Œ ëª…ì‹œë  ìˆ˜ ìˆëŠ” ê²½ìš°ë¥¼ í…Œì´ë¸” ìˆ˜ì¤€ì˜ íŒíŠ¸ë¡œ êµ¬ë¶„í•œë‹¤.\në˜í•œ íŠ¹ì • íŒíŠ¸ëŠ” í…Œì´ë¸”ê³¼ ì¸ë±ìŠ¤ì˜ ì´ë¦„ì„ ëª¨ë‘ ëª…ì‹œí•  ìˆ˜ë„ ìˆì§€ë§Œ ì¸ë±ìŠ¤ì˜ ì´ë¦„ì„ ëª…ì‹œí•˜ì§€ ì•Šê³  í…Œì´ë¸” ì´ë¦„ë§Œ ëª…ì‹œí•˜ëŠ” ê²½ìš° ì¸ë±ìŠ¤ì™€ í…Œì´ë¸” ìˆ˜ì¤€ì˜ íŒíŠ¸ê°€ ëœë‹¤.\níŒíŠ¸ ì´ë¦„ ì„¤ëª… ì˜í–¥ ë²”ìœ„ MAX_EXECUTION_TIME ì¿¼ë¦¬ì˜ ì‹¤í–‰ ì‹œê°„ ì œí•œ ê¸€ë¡œë²Œ RESOUREC_GROUP ì¿¼ë¦¬ ì‹¤í–‰ì˜ ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ì„¤ì • ê¸€ë¡œë²Œ SET_VAR ì¿¼ë¦¬ ì‹¤í–‰ì„ ìœ„í•œ ì‹œìŠ¤í…œ ë³€ìˆ˜ ì œì–´ ê¸€ë¡œë²Œ SUBQUERY ì„œë¸Œì¿¼ë¦¬ì˜ ì„¸ë¯¸ ì¡°ì¸ ìµœì í™” ì „ëµ ì œì–´ ì¿¼ë¦¬ ë¸”ë¡ BKA, NO_BKA BKA(Batched Key Access) ì¡°ì¸ ì‚¬ìš© ì—¬ë¶€ ì œì–´ ì¿¼ë¦¬ ë¸”ë¡, í…Œì´ë¸” BNL, NO_BNL ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ ì‚¬ìš© ì—¬ë¶€ ì œì–´(MySQL 8.0.20 ë¶€í„°ëŠ” í•´ì‹œì¡°ì¸ ì‚¬ìš© ì—¬ë¶€ ì œì–´) ì¿¼ë¦¬ ë¸”ë¡, í…Œì´ë¸” DERIVED_CONDITION_PUSHDOWN, NO_DERIVED_CONDITION_PUSHDOWN ì™¸ë¶€ ì¿¼ë¦¬ì˜ ì¡°ê±´ì„ ì„œë¸Œì¿¼ë¦¬ë¡œ ì˜®ê¸°ëŠ” ìµœì í™” ì‚¬ìš© ì—¬ë¶€ ì œì–´ ì¿¼ë¦¬ ë¸”ë¡, í…Œì´ë¸” HASH_JOIN, NO_HASH_JOIN í•´ì‹œ ì¡°ì¸ ì‚¬ìš© ì—¬ë¶€ ì œì–´(MySQL 8.0.18 ë§Œ ì‚¬ìš© ê°€ëŠ¥) ì¿¼ë¦¬ ë¸”ë¡, í…Œì´ë¸” JOIN_FIXED_ORDER FROM ì ˆì— ëª…ì‹œëœ í…Œì´ë¸” ìˆœì„œëŒ€ë¡œ ì¡°ì¸ ì‹¤í–‰ ì¿¼ë¦¬ ë¸”ë¡ JOIN_ORDER íŒíŠ¸ì— ëª…ì‹œëœ í…Œì´ë¸” ìˆœì„œëŒ€ë¡œ ì¡°ì¸ ì‹¤í–‰ ì¿¼ë¦¬ ë¸”ë¡ JOIN_PREFIX íŒíŠ¸ì— ëª…ì‹œëœ í…Œì´ë¸”ì„ ì¡°ì¸ì˜ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì¡°ì¸ ì‹¤í–‰ ì¿¼ë¦¬ ë¸”ë¡ JOIN_SURFFIX íŒíŠ¸ì— ëª…ì‹œëœ í…Œì´ë¸” ë“œë¦¬ë¸ í…Œì´ë¸”ë¡œ ì¡°ì¸ ì‹¤í–‰ ì¿¼ë¦¬ ë¸”ë¡ QB_NAME ì¿¼ë¦¬ ë¸”ë¡ì˜ ì´ë¦„ ì„¤ì •ì„ ìœ„í•œ íŒíŠ¸ ì¿¼ë¦¬ ë¸”ë¡ SEMI_JOIN, NO_SEMIJOIN ì„œë¸Œì¿¼ë¦¬ì˜ ì„¸ë¯¸ ì¡°ì¸ ìµœì í™” ì „ëµ ì œì–´ ì¿¼ë¦¬ ë¸”ë¡ MERGE, NO_MERGE FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë‚˜ ë·°ë¥¼ ì™¸ë¶€ ì¿¼ë¦¬ ë¸”ë¡ìœ¼ë¡œ ë³‘í•©í•˜ëŠ” ìµœì í™”ë¥¼ ìˆ˜í–‰í• ì§€ ì—¬ë¶€ ì œì–´ í…Œì´ë¸” INDEX_MERGE, NO_INDEX_MERGE FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ë‚˜ ë·°ë¥¼ ì™¸ë¶€ ì¿¼ë¦¬ ë¸”ë¡ìœ¼ë¡œ ë³‘í•©í•˜ëŠ” ìµœì í™”ë¥¼ ìˆ˜í–‰í• ì§€ ì—¬ë¶€ ì œì–´ í…Œì´ë¸”, ì¸ë±ìŠ¤ MRR, NO_MRR MRR(Multi-Range Read) ì‚¬ìš© ì—¬ë¶€ ì œì–´ í…Œì´ë¸”, ì¸ë±ìŠ¤ NO_ICP ICP(ì¸ë±ìŠ¤ ì»¨ë””ì…˜ í‘¸ì‹œë‹¤ìš´) ìµœì í™” ì „ëµ ì‚¬ìš© ì—¬ë¶€ ì œì–´ í…Œì´ë¸”, ì¸ë±ìŠ¤ NO_RANGE_OPTIMIZATION ì¸ë±ìŠ¤ ë ˆì¸ì§€ ì—‘ì„¸ìŠ¤ë¥¼ ë¹„í™œì„±í™”(íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ê±°ë‚˜ ì¿¼ë¦¬ë¥¼ í’€ í…Œì´ë¸” ìŠ¤ìº” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬) í…Œì´ë¸”, ì¸ë±ìŠ¤ SKIP_SCAN, NO_SKIP_SCAN ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ì‚¬ìš© ì—¬ë¶€ ì œì–´ í…Œì´ë¸”, ì¸ë±ìŠ¤ INDEX, NO_INDEX GROUP_BY, ORDER_BY, WHERE ì ˆ ì²˜ë¦¬ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤ ì‚¬ìš© ì—¬ë¶€ ì œì–´ ì¸ë±ìŠ¤ GROUP_INDEX, NO_GROUP_INDEX GROUP_BY ì²˜ë¦¬ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤ ì‚¬ìš© ì—¬ë¶€ ì œì–´ ì¸ë±ìŠ¤ JOIN_INDEX, NO_JOIN_INDEX WHERE ì²˜ë¦¬ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤ ì‚¬ìš© ì—¬ë¶€ ì œì–´ ì¸ë±ìŠ¤ ORDER_INDEX, NO_ORDER_INDEX ORDER_BY ì²˜ë¦¬ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤ ì‚¬ìš© ì—¬ë¶€ ì œì–´ ì¸ë±ìŠ¤ ","date":"2023-06-09T11:42:10+09:00","image":"https://codemario318.github.io/post/real-mysql/9/4/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/9/4/","title":"9.4 ì˜µí‹°ë§ˆì´ì €ì™€ íŒíŠ¸ - ì¿¼ë¦¬ íŒíŠ¸"},{"content":"í…Œì´ë¸”ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ì‹¤í–‰ ê³„íšì„ ì°¾ëŠ” ê²ƒì´ ìƒë‹¹íˆ ì–´ë ¤ì›Œì§€ê³ , í•˜ë‚˜ì˜ ì¿¼ë¦¬ì—ì„œ ì¡°ì¸ë˜ëŠ” í…Œì´ë¸”ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ë°ë§Œ ëª‡ ë¶„ì´ ê±¸ë¦´ ìˆ˜ë„ ìˆë‹¤.\nMySQLì—ëŠ” ìµœì í™”ëœ ì¡°ì¸ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ì„ ìœ„í•œ 2ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ì´ ìˆìœ¼ë©°, 4ê°œì˜ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ëŠ” ì¿¼ë¦¬ê°€ ì¡°ì¸ ì˜µí‹°ë§ˆì´ì € ì•Œê³ ë¦¬ì¦˜ì— ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ ì‚´í´ë³¼ê²ƒì´ë‹¤.\n1 2 3 SELECT * FROM t1, t2, t3, t4 WHERE ... Exhaustive ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ (ì™„ì „ íƒìƒ‰) Exhausitve ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ MySQL 5.0 ì´í•˜ ë²„ì „ì—ì„œ ì‚¬ìš©ë˜ë˜ ì¡°ì¸ ìµœì í™” ê¸°ë²•ìœ¼ë¡œ, FROMì ˆì— ëª…ì‹œëœ ëª¨ë“  í…Œì´ë¸”ì˜ ì¡°í•©ì— ëŒ€í•´ ì‹¤í–‰ ê³„íšì˜ ë¹„ìš©ì„ ê³„ì‚°í•´ì„œ ìµœì ì˜ ì¡°í•© 1ê°œë¥¼ ì°¾ëŠ” ë°©ë²•ì´ë‹¤.\ní…Œì´ë¸”ì´ 20ê°œë¼ë©´ ì´ ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬í–ˆì„ ë•Œ ê°€ëŠ¥í•œ ì¡°ì¸ ì¡°í•©ì€ ëª¨ë“œ 20!(3628800)ê°œê°€ ëœë‹¤.\nGreedy ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ Greedy ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ Exhaustive ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ ì†Œëª¨ì ì¸ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ MySQL 5.0 ë¶€í„° ë„ì…ëœ ì¡°ì¸ ìµœì í™” ê¸°ë²•ì´ë‹¤.\nì „ì²´ Nê°œì˜ í…Œì´ë¸” ì¤‘ì—ì„œ optimizer_search_depth ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì •ì˜ëœ ê°œìˆ˜ì˜ í…Œì…ë¥´ë¡œ ê°€ëŠ¥í•œ ì¡°ì¸ ì¡°í•© ìƒì„± 1ë²ˆì—ì„œ ìƒì„±ëœ ì¡°ì¸ ì¡°í•© ì¤‘ ìµœì†Œ ë¹„ìš©ì˜ ì‹¤í–‰ ê³„íš í•˜ë‚˜ë¥¼ ì„ ì • 2ë²ˆì—ì„œ ì„ ì •ëœ ì‹¤í–‰ ê³„íšì˜ ì²« ë²ˆì§¸ í…Œì´ë¸”ì„ \u0026ldquo;ë¶€ë¶„ ì‹¤í–‰ ê³„íš\u0026quot;ì˜ ì²« ë²ˆì§¸ í…Œì´ë¸”ë¡œ ì„ ì • ì „ì²´ N-1ê°œì˜ í…Œì´ë¸” ì¤‘ ì‹œìŠ¤í…œ ì„¤ì • ë³€ìˆ˜ì— ì •ì˜ëœ ê°œìˆ˜ì˜ í…Œì´ë¸”ë¡œ ê°€ëŠ¥í•œ ì¡°ì¸ ì¡°í•©ì„ ìƒì„± 4ë²ˆì—ì„œ ìƒì„±ëœ ì¡°ì¸ ì¡°í•©ë“¤ì„ í•˜ë‚˜ì”© 3ë²ˆì—ì„œ ìƒì„±ëœ \u0026ldquo;ë¶€ë¶„ ì‹¤í–‰ ê³„íš\u0026quot;ì— ëŒ€ì…í•´ ì‹¤í–‰ ë¹„ìš© ê³„ì‚° 5ë²ˆì˜ ë¹„ìš© ê³„ì‚° ê²°ê³¼, ìµœì  ì‹¤í–‰ ê³„íšì—ì„œ ë‘ ë²ˆì§¸ í…Œì´ë¸”ì„ 3ë²ˆì—ì„œ ìƒì„±ëœ \u0026ldquo;ë¶€ë¶„ ì‹¤í–‰ ê³„íš\u0026quot;ì˜ ë‘ ë²ˆì§¸ í…Œì´ë¸”ë¡œ ì„ ì • ë‚¨ì€ í…Œì´ë¸”ì´ ëª¨ë‘ ì—†ì–´ì§ˆ ë•Œê¹Œì§€ 4~6 ë°˜ë³µí•˜ë©° \u0026ldquo;ë¶€ë¶„ ì‹¤í–‰ ê³„íš\u0026quot;ì— í…Œì´ë¸”ì˜ ì¡°ì¸ ìˆœì„œë¥¼ ê¸°ë¡ ìµœì¢…ì ìœ¼ë¡œ \u0026ldquo;ë¶€ë¶„ ì‹¤í–‰ ê³„íš\u0026quot;ì´ í…Œì´ë¸”ì˜ ì¡°ì¸ ìˆœì„œë¡œ ê²°ì • Greedy ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì€ optimizer_search_depth ì‹œìŠ¤í…œ ë³€ìˆ˜ ê°’ì— ë”°ë¼ ìµœì í™”ì˜ ë¹„ìš©ì´ ìƒë‹¹íˆ ì¤„ì–´ë“¤ ìˆ˜ ìˆìœ¼ë©° ê¸°ë³¸ê°’ì€ 62ì´ë‹¤.\nì‹œìŠ¤í…œ ë³€ìˆ˜ optimizer_search_depth: ê°’ì— ë”°ë¼ ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí• ì§€ ê²°ì •í•œë‹¤. 0: Exhaustive ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ 1+: Greedy ê¸°ë³¸ê°’ì€ 62ì´ë‚˜ ë§ì€ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ê²½ìš° ìƒë‹¹íˆ ë¶€ë‹´ë  ìˆ˜ ìˆê³  0ì¼ ê²½ìš° ì¿¼ë¦¬ ì„±ëŠ¥ì— ì‹¬ê°í•­ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.(ì¼ë°˜ì ìœ¼ë¡œ 4~5 ê°€ ì ë‹¹í•˜ë‹¤.) optimizer_prune_level: MySQL 5.0 ë¶€í„° ì¶”ê°€ëœ Heuristic ê²€ìƒ‰ì´ ì‘ë™í•˜ëŠ” ë°©ì‹ì„ ì œì–´í•œë‹¤. ë‹¤ì–‘í•œ ì¡°ì¸ ìˆœì„œ ë¹„ìš©ì„ ê³„ì‚°í•˜ëŠ” ë„ì¤‘ ì´ë¯¸ ê³„ì‚°í–ˆë˜ ì¡°ì¸ ìˆœì„œë³´ë‹¤ ë¹„ìš©ì´ í¬ë‹¤ë©´ ì¤‘ê°„ì— í¬ê¸°í•œë‹¤. 1ë¡œ ì„¤ì •ì‹œ Heuristic ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤. ì‹¤ì œ Hueuristic ì¡°ì¸ ìµœì í™”ëŠ” ì¡°ì¸ ëŒ€ìƒ í…Œì´ë¸”ì´ ëª‡ê°œ ë˜ì§€ ì•Ší„°ë¼ë„ ìƒë‹¹í•œ ì„±ëŠ¥ ì°¨ì´ë¥¼ ë‚´ë¯€ë¡œ 0ìœ¼ë¡œ ë³€ê²½í•˜ì§€ ì•Šì„ ê²ƒì„ ê¶Œì¥í•œë‹¤. ","date":"2023-06-08T11:47:10+09:00","image":"https://codemario318.github.io/post/real-mysql/9/3/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/9/3/2/","title":"9.3.2 ì˜µí‹°ë§ˆì´ì €ì™€ íŒíŠ¸ - ê³ ê¸‰ ìµœì í™”(ì¡°ì¸ ìµœì í™” ì•Œê³ ë¦¬ì¦˜)"},{"content":"MySQL ì„œë²„ì˜ ì˜µí‹°ë§ˆì´ì €ê°€ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œ í†µê³„ ì •ë³´ì™€ ì˜µí‹°ë§ˆì´ì € ì˜µì…˜ì„ ê²°í•©í•˜ì—¬ ìµœì ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ê²Œ ëœë‹¤.\nì¡°ì¸ ê´€ë ¨ ì˜µí‹°ë§ˆì´ì € ì˜µì…˜ MySQL ì´ˆê¸° ë²„ì „ë¶€í„° ì œê³µë˜ì—ˆê³  ë§ì€ ì‚¬ëŒë“¤ì´ ì‹ ê²½ì“°ì§€ ì•Šì§€ë§Œ, ì¡°ì¸ì´ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì„œë¹„ìŠ¤ì—ì„œëŠ” ì•Œì•„ì•¼í•œë‹¤. ì˜µí‹°ë§ˆì´ì € ìŠ¤ìœ„ì¹˜ MySQL 5.5 ë²„ì „ë¶€í„° ì œê³µë˜ì–´ ê³ ê¸‰ ìµœì í™” ê¸°ëŠ¥ë“¤ì„ í™œì„±í™”í• ì§€ ì œì–´í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤. ì˜µí‹°ë§ˆì´ì € ìŠ¤ìœ„ì¹˜ ì˜µì…˜ì€ optimizer_switchì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ì œì–´í•˜ëŠ”ë° ì—¬ëŸ¬ ê°œì˜ ì˜µì…˜ì„ ì„¸íŠ¸ë¡œ ë¬¶ì–´ì„œ ì„¤ì •í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.\nì˜µí‹°ë§ˆì´ì € ìŠ¤ìœ„ì¹˜ ì´ë¦„ ê¸°ë³¸ê°’ ì„¤ëª… batch_key_access off BKA ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • block_nested_loop on Block Nested Loop ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • engine_condition_pushdown on Engine Condition Pushdown ê¸°ëŠ¥ì„ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • index_condition_pushdown on Index Condition Pushdown ê¸°ëŠ¥ì„ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • use_index_extensions on Index Extension ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • index_merge on Index Merge ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • index_merge_intersection on Index Merge Intersection ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • index_merge_sort_union on Index Merge Sort Union ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • index_merge_union on Index Merge Union ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • mrr on MRR ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • mrr_cost_based on ë¹„ìš© ê¸°ë°˜ MRR ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • semijoin on ì„¸ë¯¸ ì¡°ì¸ ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • firstmatch on FirstMatch ì„¸ë¯¸ ì¡°ì¸ ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • loosescan on LoooseScan ì„¸ë¯¸ ì¡°ì¸ ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • materialization on Materialization ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì •(ì„œë¯¸ ì¡°ì¸ ìµœì í™” í¬í•¨) subquery_materialization_cost_based on ë¹„ìš© ê¸°ë°˜ì˜ Materialization ìµœì í™”ë¥¼ ì‚¬ìš©í• ì§€ ì—¬ë¶€ ì„¤ì • ê°ê°ì˜ ì˜µí‹°ë§ˆì´ì € ìŠ¤ìœ„ì¹˜ ì˜µì…˜ì€ default, on, off ì¤‘ì—ì„œ í•˜ë‚˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ê¸€ë¡œë²Œê³¼ ì„¸ì…˜ë³„ ëª¨ë‘ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œ ë³€ìˆ˜ì´ë¯€ë¡œ MySQL ì„œë²„ ì „ì²´ì ìœ¼ë¡œ ë˜ëŠ” í˜„ì¬ ì»¤ë„¥ì…˜ì— ëŒ€í•´ì„œë§Œ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•  ìˆ˜ ìˆê³  ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ë¥¼ ì´ìš©í•´ í˜„ì¬ ì¿¼ë¦¬ì—ë§Œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 // ê¸€ë¡œë²Œ SET GLOBAL optimizer_switch=\u0026#39;index_merge=on,index_merge_union=on,...\u0026#39;; // ë¡œì»¬ ì„¸ì…˜ SET SESSION optimizer_switch=\u0026#39;index_merge=on,index_merge_union=on,...\u0026#39;; // ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ SELECT /*+ SET_VAR(optimizer_switch=\u0026#39;condition_fanout_filter=off`) */ ... FROM ... MRRê³¼ ë°°ì¹˜ í‚¤ ì—‘ì„¸ìŠ¤(mrr \u0026amp; batched_key_access) MRRì´ë€?\nMRRì€ \u0026ldquo;Multi-Range Read\u0026quot;ë¥¼ ì¤„ì—¬ì„œ ë¶€ë¥´ëŠ” ì´ë¦„ì¸ë°, ë©”ë‰´ì–¼ì—ì„œëŠ” DS-MRR(Disk Sweep Multi-Range Read)ì´ë¼ê³ ë„ í•œë‹¤.\në„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸\nMySQL ì„œë²„ì—ì„œ ì§€ê¸ˆê¹Œì§€ ì§€ì›í•˜ë˜ ì¡°ì¸ ë°©ì‹ì€ ë“œë¼ì´ë¹™ í…Œì´ë¸”(ì¡°ì¸ì—ì„œ ê°€ì¥ ë¨¼ì € ì½ëŠ” í…Œì´ë¸”)ì˜ ë ˆì½”ë“œë¥¼ í•œ ê±´ ì½ì–´ì„œ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ì•„ì„œ ì¡°ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì´ë‹¤.\nMySQL ì„œë²„ì˜ ë‚´ë¶€ êµ¬ì¡°ìƒ ì¡°ì¸ ì²˜ë¦¬ëŠ” MySQL ì—”ì§„ì´ ì²˜ë¦¬í•˜ì§€ë§Œ, ì‹¤ì œ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•˜ê³  ì½ëŠ” ë¶€ë¶„ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë‹´ë‹¹í•˜ê¸° ë•Œë¬¸ì—, ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ë³„ë¡œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì°¾ìœ¼ë©´ ë ˆì½”ë“œë¥¼ ì°¾ê³  ì½ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œëŠ” ì•„ë¬´ëŸ° ìµœì í™”ë¥¼ í•  ìˆ˜ ì—†ë‹¤ëŠ” ë¬¸ì œì ì´ ìˆì—ˆë‹¤.\nì´ëŸ¬í•œ ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ MySQL ì„œë²„ëŠ” ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ì–´ì„œ ë“œë¦¬ë¸ í…Œì´ë¸”ê³¼ì˜ ì¡°ì¸ì„ ì¦‰ì‹œ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì¡°ì¸ ëŒ€ìƒì„ ë²„í¼ë§ í•œë‹¤. ì¡°ì¸ ë²„í¼ì— ë ˆì½”ë“œê°€ ê°€ë“ ì°¨ë©´ MySQL ì—”ì§„ì€ ë²„í¼ë§ëœ ë ˆì½”ë“œë¥¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ í•œ ë²ˆì— ìš”ì²­í•˜ê²Œ ëœë‹¤. ì´ëŸ¬í•œ ì²˜ë¦¬ë¡œ ì¸í•´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì½ì–´ì•¼í•  ë ˆì½”ë“œë“¤ì„ ë°ì´í„° í˜ì´ì§€ì— ì •ë ¬ëœ ìˆœì„œë¡œ ì ‘ê·¼í•´ì„œ ë””ìŠ¤í¬ì˜ ë°ì´í„° í˜ì´ì§€ ì½ê¸°ë¥¼ ìµœì†Œí™” í•œë‹¤.\nì´ëŸ¬í•œ ë°©ì‹ì„ MRRì´ë¼ê³  í•˜ë©°, MRRì„ ì‘ìš©í•´ì„œ ì‹¤í–‰ë˜ëŠ” ì¡°ì¸ ë°©ì‹ì„ BKA(Batched Key Access) ì¡°ì¸ì´ë¼ê³  í•œë‹¤. BKA ì¡°ì¸ ìµœì í™”ëŠ” ì¿¼ë¦¬ì˜ íŠ¹ì„±ì— ë”°ë¼ BKA ì¡°ì¸ì´ í° ë„ì›€ì´ ë˜ëŠ” ê²½ìš°ë„ ìˆì§€ë§Œ, ë¶€ê°€ì ì¸ ì •ë ¬ ì‘ì—…ì´ í•„ìš”í•´ì§€ë©´ì„œ ì˜¤íˆë ¤ ì„±ëŠ¥ì— ì•ˆì¢‹ì€ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²½ìš°ê°€ ìˆì–´ ê¸°ë³¸ì ìœ¼ë¡œ ë¹„í™œì„±í™”ë˜ì–´ìˆë‹¤.\në¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸(block_nested_loop) MySQL ì„œë²„ì—ì„œ ì‚¬ìš©ë˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ì¡°ì¸ì€ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì´ë©°, ì¡°ì¸ì˜ ì—°ê²° ì¡°ê±´ì´ ë˜ëŠ” ì»¬ëŸ¼ì— ëª¨ë‘ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ê²½ìš° ì‚¬ìš©ë˜ëŠ” ì¡°ì¸ ë°©ì‹ì´ë‹¤.\n1 2 3 4 5 6 7 8 EXPLAIN SELECT * FROM employees e INNER JOIN salaries s ON s.emp_no=e.emp_no AND s.from_date \u0026lt;= NOW() AND s.to_date \u0026gt;= NOW() WHERE e.first_name = \u0026#39;Amor\u0026#39; ; id select_type table type key rows Extra 1 SIMPLE e ref ix_firstname 1 NULL 1 SIMPLE s ref PRIMARY 10 Using where ìœ„ì™€ ê°™ì€ í˜•íƒœì˜ ì¡°ì¸ì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ ë§ˆì¹˜ ì¤‘ì²©ëœ ë°˜ë³µ ëª…ë ¹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ ì‘ë™í•œë‹¤ê³  í•´ì„œ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì´ë¼ê³  í•œë‹¤.\n1 2 3 4 5 6 for(row1 IN employees) { for(row2 IN salaries) { if(condition_matched) return (row1, row2); } } ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì€ ì¡°ì¸ ë²„í¼ê°€ ì‚¬ìš©ë˜ëŠ”ì§€ ì—¬ë¶€ì™€ ì¡°ì¸ì—ì„œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ê³¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì´ ì–´ë–¤ ìˆœì„œë¡œ ì¡°ì¸ë˜ëŠëƒë‹¤.\nì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì—ì„œ \u0026ldquo;Block\u0026quot;ì´ë¼ëŠ” ë‹¨ì–´ê°€ ì‚¬ìš©ë˜ë©´ ë³„ë„ì˜ ë²„í¼ê°€ ì‚¬ìš©ë˜ì—ˆìŒì„ ì˜ë¯¸ì´ë‹¤.\nì¡°ì¸ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œ Extra ì»¬ëŸ¼ì— \u0026ldquo;Using Join buffer\u0026quot;ë¼ëŠ” ë¬¸êµ¬ê°€ í‘œì‹œë˜ë©´ ê·¸ ì‹¤í–‰ ê³„íšì€ ì¡°ì¸ ë²„í¼ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nì¡°ì¸ì€ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì—ì„œ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œì˜ ê±´ìˆ˜ë§Œí¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ê²€ìƒ‰í•˜ë©´ì„œ ì²˜ë¦¬ë˜ì–´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì€ í•œ ë²ˆì— ì­‰ ì½ì§€ë§Œ, ë“œë¦¬ë¸ í…Œì´ë¸”ì€ ì—¬ëŸ¬ ë²ˆ ì½ëŠ” ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì—ì„œ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ 1000ê±´ ì´ì—ˆëŠ”ë°, ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ì¡°ì¸ ì¡°ê±´ì´ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ì—†ì—ˆë‹¤ë©´ ë“œë¦¬ë¸ í…Œì´ë¸”ì—ì„œ ì—°ê²°ë˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ê¸° ìœ„í•´ 1000ë²ˆì˜ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í•´ì•¼í•œë‹¤. ë”°ë¼ì„œ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ê²€ìƒ‰í•  ë•Œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì¿¼ë¦¬ëŠ” ìƒë‹¹íˆ ëŠë ¤ì§€ë©°, ì˜µí‹°ë§ˆì´ì €ëŠ” ìµœëŒ€í•œ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ê²€ìƒ‰ì´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•œë‹¤.\nê·¸ëŸ°ë° ì–´ë–¤ ë°©ì‹ìœ¼ë¡œë„ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ë‚˜ ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”ì„ í”¼í•  ìˆ˜ì—†ë‹¤ë©´ ì˜µí‹°ë§ˆì´ì €ëŠ” ë“œë¼ì´ë¹™ í…Œì´ë¸”ì—ì„œ ì½ì€ ë ˆì½”ë“œë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•œ í›„ ë“œë¦¬ë¸ í…Œì´ë¸”ê³¼ ì´ ë©”ëª¨ë¦¬ ìºì‹œë¥¼ ì¡°ì¸í•˜ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬í•œë‹¤. ì´ë•Œ ì‚¬ìš©ë˜ëŠ” ë©”ëª¨ë¦¬ì˜ ìºì‹œë¥¼ ì¡°ì¸ ë²„í¼ë¼ê³  í•œë‹¤. ì¡°ì¸ ë²„í¼ëŠ” join_buffer_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ í¬ê¸°ë¥¼ ì œí•œí•  ìˆ˜ ìˆìœ¼ë©°, ì¡°ì¸ì´ ì™„ë£Œë˜ë©´ ì¡°ì¸ ë²„í¼ëŠ” ë°”ë¡œ í•´ì œëœë‹¤.\n1 2 3 4 5 SELECT * FROM dept_emp de, employees e WHERE de.from_date \u0026gt; \u0026#39;1995-01-01\u0026#39; AND e.emp_no \u0026lt; 109004 ; id select_type table type key rows Extra 1 SIMPLE de ref ix_fromdate 1 Using index condition 1 SIMPLE s ref PRIMARY 10 Using join buffer (block nested loop) ìœ„ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ dept_empí…Œì´ë¸”ì´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì´ë©°, employees í…Œì…ë¥´ì„ ì½ì„ ë•ŒëŠ” ì¡°ì¸ ë²„í¼ë¥¼ ì´ìš©í•´ ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì„ í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.\ndept_emp í…Œì´ë¸”ì˜ ix_fromdateì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•œë‹¤. ì¡°ì¸ì— í•„ìš”í•œ ë‚˜ë¨¸ì§€ ì»¬ëŸ¼ì„ ëª¨ë‘ dept_emp í…Œì´ë¸”ë¡œë¶€í„° ì½ì–´ì„œ ì¡°ì¸ ë²„í¼ì— ì €ì¥í•œë‹¤. employees í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì´ìš©í•´ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•œë‹¤. 3ë²ˆì—ì„œ ê²€ìƒ‰ëœ ê²°ê³¼(employees)ì— 2ë²ˆì˜ ìºì‹œëœ ì¡°ì¸ ë²„í¼ì˜ ë ˆì½”ë“œë¥¼ ê²°í•©í•´ì„œ ë°˜í™˜í•œë‹¤. 4ë²ˆ ë‹¨ê³„ê°€ employees í…Œì´ë¸”ì˜ ê²°ê³¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ dept_emp í…Œì´ë¸”ì˜ ê²°ê³¼ë¥¼ ë³‘í•©í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ì¡°ì¸ ë²„í¼ê°€ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ì—ì„œëŠ” ì¡°ì¸ì˜ ìˆœì„œê°€ ê±°ê¾¸ë¡œì¸ ê²ƒì²˜ëŸ¼ ì‹¤í–‰ëœë‹¤. ì‹¤ì œ ì´ ì¿¼ë¦¬ì˜ ì‹¤í–‰ê³„íš ìƒìœ¼ë¡œëŠ” dept_emp í…Œì´ë¸”ì´ ë“œë¼ì´ë¹™ í…Œì´ë¸”, employees í…Œì´ë¸”ì´ ë“œë¦¬ë¸ í…Œì´ë¸”ì´ì§€ë§Œ, ì‹¤ì œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ê²°ê³¼ë¥¼ ì¡°ì¸ ë²„í¼ì— ë‹´ì•„ë‘ê³  ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ì½ì–´ ì¡°ì¸ ë²„í¼ì—ì„œ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì¡°ì¸ì´ ìˆ˜í–‰ëœ í›„ ê°€ì ¸ì˜¤ëŠ” ê²°ê³¼ëŠ” ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ìˆœì„œì— ì˜í•´ ê²°ì •ë˜ì§€ë§Œ, ì¡°ì¸ ë²„í¼ê°€ ì‚¬ìš©ë˜ëŠ” ì¡°ì¸ì—ì„œëŠ” ê²°ê³¼ì˜ ì •ë ¬ ìˆœì„œê°€ ííŠ¸ëŸ¬ ì§ˆ ìˆ˜ ìˆë‹¤.\nMySQL 8.0.18 ë²„ì „ë¶€í„°ëŠ” í•´ì‹œ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì´ ë„ì…ë¼ì—ˆê³ , 8.0.20 ë²„ì „ë¶€í„°ëŠ” ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì€ ë”ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šê³  í•´ì‹œ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì´ ëŒ€ì²´ë˜ì–´ ì‚¬ìš©ëœë‹¤.\nì¸ë±ìŠ¤ ì»¨ë””ì…˜ í‘¸ì‹œë‹¤ìš´(index_condition_pushdown) 1 2 3 4 5 // ì¸ë±ìŠ¤ ì¶”ê°€ ALTER TABEL emplyees ADD INDEX ix_lastname_firstname (last_name, first_name); // index_condition_pushdown ë¹„í™œì„±í™” SET optimizer_swith=\u0026#39;index_condition_pushdown=off\u0026#39;; 1 2 3 4 5 SELECT * FROM employees WHERE last_name=\u0026#39;Action\u0026#39; AND first_name LIKE \u0026#39;%sal\u0026#39; ; id select_type table type key rows Extra 1 SIMPLE employees ref ix_lastname_firstname 66 Using where ì¸ë±ìŠ¤ ì»¨ë””ì…˜ í‘¸ì‹œë‹¤ìš´ì´ ë¹„í™œì„±í™” ëœ í›„ ì‹¤í–‰ëœ ì¡°íšŒ ì¿¼ë¦¬ëŠ” ì´ first_name LIKE %sal ì¡°ê±´ìœ¼ë¡œ ì¸í•´ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ìœ¼ë¡œëŠ” ê²€ìƒ‰ í•´ì•¼í•  ì¸ë±ìŠ¤ì˜ ë²”ìœ„ë¥¼ ì¢í ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ix_lastname_firstname ì¸ë±ìŠ¤ì— í•¨ê»˜ ì €ì¥ë˜ì–´ìˆëŠ” fisrt_name ê°’ì„ í™œìš©í•˜ì§€ ëª»í•œë‹¤. ë”°ë¼ì„œ last_nameì„ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ëª¨ë‘ ì½ì€ í›„ first_name ì¡°ê±´ì„ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ê²°ê³¼ì¸ì§€ í•˜ë‚˜ì”© ë¹„êµí•´ë³´ëŠ” ì¡°ê±´(ì²´í¬ì¡°ê±´, í•„í„°ë§ ì¡°ê±´)ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ê²Œ ë˜ì–´ ì‹¤í–‰ ê³„íšì˜ Extra ì»¬ëŸ¼ì— Using whereë¡œ í‘œì‹œëœë‹¤.\në”°ë¼ì„œ í•´ë‹¹ ì¿¼ë¦¬ì˜ last_name='Action'ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œê°€ 100,000ê±´ì´ê³ , ê·¸ ì¤‘ first_name LIKE %sal ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ë ˆì½”ë“œê°€ 1ê±´ ë¿ì´ë¼ë©´ 999,999ê±´ì˜ ë ˆì½”ë“œ ì½ê¸° ì‘ì—…ì€ ë¶ˆí•„ìš”í•œ ì‘ì—…ì´ ë˜ì–´ë²„ë¦°ë‹¤.\nì¸ë±ìŠ¤ë¥¼ ë¹„êµí•˜ëŠ” ì‘ì—…ì€ ì‹¤ì œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ìˆ˜í–‰í•˜ì§€ë§Œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œì—ì„œ ì¡°ê±´ì„ ë¹„êµí•˜ëŠ” ì‘ì—…ì€ MySQL ì—”ì§„ì´ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. MySQL 5.5 ë²„ì „ê¹Œì§€ëŠ” ì¸ë±ìŠ¤ë¥¼ ë²”ìœ„ ì œí•œ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— MySQL ì—”ì§„ì´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ í•´ë‹¹ ì¡°ê±´ì„ ì „ë‹¬í•˜ì§€ ì•Šì•˜ë‹¤.\nì´ëŠ” MySQL 5.6 ë²„ì „ë¶€í„° ê°œì„ ë˜ì–´ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ìµœëŒ€í•œ í•„í„°ë§ê¹Œì§€ ì™„ë£Œí•˜ì—¬ ê¼­ í•„ìš”í•œ ë ˆì½”ë“œì— ëŒ€í•´ì„œë§Œ í…Œì´ë¸” ì½ê¸°ë¥¼ ìˆ˜í–‰í•˜ê²Œ ë˜ì—ˆë‹¤. ì¸ë±ìŠ¤ ì»¨ë””ì…˜ í‘¸ì‹œë‹¤ìš´ì„ í™œì„±í™”í•˜ê³  ì‹¤í–‰ ê³„íšì„ í™•ì¸í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ëœë‹¤.\nid select_type table type key rows Extra 1 SIMPLE employees ref ix_lastname_firstname 66 Using index condition ì¸ë±ìŠ¤ í™•ì¥(use_index_extensions) í•´ë‹¹ ì˜µì…˜ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì—ì„œ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì— ìë™ìœ¼ë¡œ ì¶”ê°€ëœ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆê²Œ í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì˜µì…˜ì´ë‹¤.\n1 2 3 4 5 6 7 8 CREATE TABLE dept_emp ( emp_no INT NOT NULL, dept_no CHAR(4) NOT NULL, from_date DATE NOT NULL, to_date DATE NOT NULL, PRIMARY KEY (dept_no, emp_no), KEY ix_fromdate (from_date), ) ENGINE=InnoDB; InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ í´ëŸ¬ìŠ¤í„°ë§ í‚¤ë¡œ ìƒì„±í•œë‹¤. ë”°ë¼ì„œ ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë¦¬í”„ ë…¸ë“œì— í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì„ ê°€ì§„ë‹¤. dept_empí…Œì´ë¸”ì—ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” (dept_no, emp_no)ì´ë©°, ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ ix_fromdateëŠ” from_date ì»¬ëŸ¼ë§Œ í¬í•¨í•œë‹¤. ë”°ë¼ì„œ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë°ì´í„° ë ˆì½”ë“œë¥¼ ì°¾ì•„ê°€ê¸° ìœ„í•´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì¸ (dept_no, emp_no) ì»¬ëŸ¼ì„ ìˆœì„œëŒ€ë¡œ í¬í•¨í•œë‹¤. ìµœì¢…ì ìœ¼ë¡œ ix_fromdateì¸ë±ìŠ¤ëŠ” (dept_no, emp_no) ì¡°í•©ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•œ ê²ƒê³¼ í¡ì‚¬í•˜ê²Œ ì‘ë™í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 EXPLAIN SELECT COUNT(*) FROM dept_emp WHERE from_date=\u0026#39;1987-07-25\u0026#39; AND dept_no=\u0026#39;d001\u0026#39; ; id select_type table type key key_len ref 1 SIMPLE dept_emp ref ix_fromdate 19 const, const ì˜ˆì „ MySQL ë²„ì „ì—ì„œëŠ” ìœ„ì™€ ê°™ì€ ì¿¼ë¦¬ê°€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì˜ ë§ˆì§€ë§‰ì— ìë™ ì¶”ê°€ë˜ëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì œëŒ€ë¡œ í™œìš©í•˜ì§€ ëª»í–ˆì§€ë§Œ, ì—…ê·¸ë ˆì´ë“œ ë˜ë©´ì„œ ì˜µí‹°ë§ˆì´ì €ëŠ” ix_fromdateì¸ë±ìŠ¤ì˜ ë§ˆì§€ë§‰ì— (dept_no, emp_no)ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì¸ì§€í•˜ê³  ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.\nì‹¤í–‰ê³„íšì˜ key_len ì»¬ëŸ¼ì€ ì¿¼ë¦¬ê°€ ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ ì¤‘ì—ì„œ ì–´ëŠ ë¶€ë¶„ê¹Œì§€ ì‚¬ìš©í–ˆëŠ”ì§€ë¥¼ ë°”ì´íŠ¸ ìˆ˜ë¡œ ë³´ì—¬ì£¼ëŠ”ë°, ìœ„ ì˜ˆì œì—ì„œëŠ” from_date ì»¬ëŸ¼(3ë°”ì´íŠ¸), dept_emp ì»¬ëŸ¼(16ë°”ì´íŠ¸)ê¹Œì§€ ì‚¬ìš©í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 EXPLAIN SELECT COUNT(*) FROM dept_emp WHERE from_date=\u0026#39;1987-07-25\u0026#39; ; id select_type table type key key_len ref 1 SIMPLE dept_emp ref ix_fromdate 3 const dept_no='d001' ì¡°ê±´ì„ ì œê±°í•˜ë©´ from_dateì»¬ëŸ¼ì„ ìœ„í•œ 3 ë°”ì´íŠ¸ë§Œ í‘œì‹œëœë‹¤.\n1 2 3 4 5 6 EXPLAIN SELECT COUNT(*) FROM dept_emp WHERE from_date=\u0026#39;1987-07-25\u0026#39; ORDER BY dept_no ; id select_type table type key key_len Extra 1 SIMPLE dept_emp ref ix_fromdate 3 NULL InnoDBì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì— í¬í•¨ë¼ ìˆìœ¼ë¯€ë¡œ ìœ„ì™€ ê°™ì€ ì •ë ¬ ì‘ì—…ë„ ì¸ë±ìŠ¤ë¡œ ì²˜ë¦¬ë˜ì–´ Extra ì»¬ëŸ¼ì— Using Filesortê°€ í‘œì‹œë˜ì§€ ì•Šê²Œ ëœë‹¤.\nì¸ë±ìŠ¤ ë¨¸ì§€(index_merge) ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš°, ëŒ€ë¶€ë¶„ ì˜µí‹°ë§ˆì´ì €ëŠ” í…Œì´ë¸”ë³„ë¡œ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ë§Œ ì‚¬ìš©í•˜ë‹¤ë¡ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ì§€ë§Œ ì¸ë±ìŠ¤ ë¨¸ì§€ ì‹¤í–‰ ê³„íšì„ ì‚¬ìš©í•˜ë©´ í•˜ë‚˜ì˜ í…Œì´ë¸”ì— 2ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•œë‹¤.\nì¿¼ë¦¬ì—ì„œ í•œ í…Œì´ë¸”ì— ëŒ€í•œ WHERE ì¡°ê±´ì´ ì—¬ëŸ¬ê°œ ìˆë”ë¼ë„ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ë§Œì„ ì‚¬ìš©í•´ì„œ ì‘ì—… ë²”ìœ„ë¥¼ ì¶©ë¶„íˆ ì¤„ì¼ ìˆ˜ ìˆëŠ” ê²½ìš°ë¼ë©´ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ì— í¬í•¨ëœ ì»¬ëŸ¼ì— ëŒ€í•œ ì¡°ê±´ë§Œìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ê²€ìƒ‰í•˜ê³  ë‚˜ë¨¸ì§€ ì¡°ê±´ì€ ì½ì–´ì˜¨ ë ˆì½”ë“œì— ëŒ€í•´ì„œ ì²´í¬í•˜ëŠ” í˜•íƒœë¡œë§Œ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤. í•˜ì§€ë§Œ ì¿¼ë¦¬ì— ì‚¬ìš©ëœ ê°ê°ì˜ ì¡°ê±´ì´ ì„œë¡œ ë‹¤ë¥¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³  ê·¸ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒ ë  ë•Œ MySQL ì„œë²„ëŠ” ì¸ë±ìŠ¤ ë¨¸ì§€ ì‹¤í–‰ ê³„íšì„ ì„ íƒí•œë‹¤.\nì¸ë±ìŠ¤ ë¨¸ì§€ ì‹¤í–‰ ê³„íšì€ 3ê°œì˜ ì‹¤í–‰ ê³„íšìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìœ¼ë©°, ëª¨ë‘ ì—¬ëŸ¬ê°œì˜ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¨ë‹¤ëŠ” ê²ƒì€ ë™ì¼í•˜ì§€ë§Œ ê°ê°ì˜ ê²°ê³¼ë¥¼ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë³‘í•©í•  ì§€ì— ë”°ë¼ êµ¬ë¶„ëœë‹¤.\nì¸ë±ìŠ¤ ë¨¸ì§€ - êµì§‘í•©(index_merge_intersection) 1 2 3 4 5 6 EXPLAIN SELECT ( FROM employees WHERE first_name=\u0026#39;Georgi\u0026#39; AND emp_no BETWEEN 10000 AND 20000 ; type key key_len Extra index_merge ix_firstname, PRIMARY 62, 4 Using intersect(ix_firstname, PRIMARY); Using where ìœ„ ì¿¼ë¦¬ëŠ” 2ê°œì˜ WHEREì¡°ê±´ì„ ê°€ì§€ê³  ìˆëŠ”ë°, employees í…Œì´ë¸”ì˜ first_name, emp_no ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì¦‰ 2ê°œ ì¤‘ì—ì„œ ì–´ë–¤ ì¡°ê±´ì„ ì‚¬ìš©í•˜ë”ë¼ë„ ì¸ë±ìŠ¤ë¥¼ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì˜µí‹°ë§ˆì´ì €ëŠ” ix_firstname, PRIMARY í‚¤ë¥¼ ëª¨ë‘ ì‚¬ìš©í•´ì„œ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ê²°ì •í–ˆë‹¤.\nì‹¤í–‰ ê³„íšì˜ Extra ì»¬ëŸ¼ì— Using intersectë¼ê³  í‘œì‹œëœ ê²ƒì€ ì´ ì¿ ëŸ¬ê°€ ì—¬ëŸ¬ê°œì˜ ì¸ë±ìŠ¤ë¥¼ ê°ê° ê²€ìƒ‰í•´ì„œ ê·¸ ê²°ê³¼ì˜ êµì§‘í•©ë§Œ ë°˜í™˜í–ˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nì¸ë±ìŠ¤ ë¨¸ì§€ í•©ì§‘í•©(index_merge_union) ì¸ë±ìŠ¤ ë¨¸ì§€ì˜ Using unionì€ WHERE ì ˆì— ì‚¬ìš©ëœ 2ê°œ ì´ìƒì˜ ì¡°ê±´ì´ ê°ê°ì˜ ì¸ã„·ê²ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë˜ OR ì—°ì‚°ìë¡œ ì—°ê²°ëœ ê²½ìš°ì— ì‚¬ìš©ë˜ëŠ” ìµœì í™”ë‹¤.\n1 2 3 4 5 SELECT * FROM employees WHERE first_name=\u0026#39;Matt\u0026#39; OR hire=\u0026#39;1987-03-31\u0026#39; ; type key key_len Extra index_merge ix_firstname, ix_hiredate 58, 3 Using union(ix_firstname, ix_hiredate); employees í…Œì´ë¸”ì—ëŠ” ix_firstname, ix_hiredate ì¸ë±ìŠ¤ê°€ ì¤€ë¹„ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ëª¨ë“  ì¡°ê±´ì´ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤. ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì˜ Extra ì»¬ëŸ¼ì— Using union(\u0026hellip;, \u0026hellip;)ë¼ê³  í‘œì‹œëœë‹¤ë©´ ì¸ë±ìŠ¤ ë¨¸ì§€ ìµœì í™”ê°€ ê°ê°ì˜ ì¸ë±ìŠ¤ ê²€ìƒ‰ ê²°ê³¼ë¥¼ Union ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë³‘í•©í–ˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nUnion ì•Œê³ ë¦¬ì¦˜\nì¸ë±ìŠ¤ì˜ ê²°ê³¼ê°€ ì´ë¯¸ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ì •ë ¬ë˜ì–´ ìˆì„ ë•Œ, ê°ê°ì˜ ì¸ë±ìŠ¤ë¡œ ì¡°íšŒí•œ ê²°ê³¼ë¥¼ í•˜ë‚˜ì”© ê°€ì ¸ì™€ ë¹„êµí•˜ë©´ì„œ emp_no ì»¬ëŸ¼ì˜ ê°’ì´ ì¤‘ë³µëœ ë ˆì½”ë“œë“¤ì„ ìš°ì„  ìˆœìœ„ íë¥¼ ì´ìš©í•´ ì •ë ¬ ì—†ì´ ê±¸ëŸ¬ë‚¼ ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ ë¨¸ì§€ - ì •ë ¬ í›„ í•©ì§‘í•©(index_merge_sort_union) Union ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ”ë° ê²°ê³¼ì˜ ì •ë ¬ì´ í•„ìš”í•œ ê²½ìš° MySQL ì„œë²„ëŠ” ì¸ë±ìŠ¤ ë¨¸ì§€ ìµœì í™”ì˜ Sort union ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 SELECT * FROM employees WHERE first_name=\u0026#39;Matt\u0026#39; OR hire_date BETWEEN \u0026#39;1987-03-01\u0026#39; AND \u0026#39;1987-03-31\u0026#39; ; type key key_len Extra index_merge ix_firstname, ix_hiredate 58, 3 Using sort_union(ix_firstname, ix_hiredate); ix_hiredate ê°™ì€ ê²½ìš° ë‚ ì§œ ìˆœì„œëŒ€ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì™€ ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ìœ„ ì¿¼ë¦¬ì—ì„œ ì¤‘ë³µ ì œê±°ë¥¼ ìœ„í•´ ìš°ì„ ìˆœìœ„ íë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ëœë‹¤. ë”°ë¼ì„œ MySQL ì„œë²„ëŠ” ë‘ ì§‘í•©ì˜ ê²°ê³¼ì—ì„œ ì¤‘ë³µì„ ì œê±°í•˜ê¸° ìœ„í•´ ê° ì§‘í•©ì„ emp_noì»¬ëŸ¼ìœ¼ë¡œ ì •ë ¬í•œ ë‹¤ìŒ ì¤‘ë³µ ì œê±°ë¥¼ ìˆ˜í–‰í•œë‹¤.\nì¸ë±ìŠ¤ ë¨¸ì§€ ìµœì í™”ì—ì„œ ì¤‘ë³µ ì œëŸ¬ë¥¼ ìœ„í•´ ê°•ì œë¡œ ì •ë ¬ì„ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” ì‹¤í–‰ ê³„íšì˜ Extra ì»¬ëŸ¼ì— \u0026ldquo;Using sort_union\u0026rdquo; ë¬¸êµ¬ê°€ í‘œì‹œëœë‹¤.\nì„¸ë¯¸ ì¡°ì¸(semijoin) ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ì‹¤ì œ ì¡°ì¸ì„ ìˆ˜í–‰í•˜ì§€ëŠ” ì•Šê³ , ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ë§Œ ì²´í¬í•˜ëŠ” í˜•íƒœì˜ ì¿¼ë¦¬ë¥¼ ì„¸ë¯¸ ì¡°ì¸(semi-join)ì´ë¼ê³  í•œë‹¤.\n1 2 3 4 5 6 7 SELECT * FROM employees e WHERE e.emp_no IN ( SELECT de.emp_no FROM dept_emp de WHERE de.from_date=\u0026#39;1995-01-01\u0026#39; ) id select_type table type key rows 1 PRIMARY e ALL NULL 300363 2 SUBQUERY de ref ix_fromdate 57 ì¼ë°˜ì ì¸ RDBMSëŠ” dept_emp í…Œì´ë¸”ì„ ì¡°íšŒí•˜ëŠ” ì„œë¸Œì¿¼ë¦¬ ë¶€ë¶„ì´ ë¨¼ì € ì‹¤í–‰ë˜ê³  ê·¸ë‹¤ìŒ employees í…Œì´ë¸”ì—ì„œ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë§Œ ê²€ìƒ‰ í•˜ì§€ë§Œ, MySQL 5.7 ê¹Œì§€ëŠ” ì„¸ë¯¸ ì¡°ì¸ í˜•íƒœì˜ ìµœì í™”ê°€ ë¶€ì¡±í•˜ì—¬ employees í…Œì´ë¸”ì„ í’€ ìŠ¤ìº” í•˜ë©´ì„œ í•œ ê±´ í•œ ê±´ ì„œë¸Œì¿¼ë¦¬ì˜ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµí•œë‹¤. ì´ì—ë”°ë¼ 57ê±´ë§Œ ì½ì–´ë„ ë  ì¿¼ë¦¬ë¥¼ 30ë§Œ ê±´ ë„˜ê²Œ ì½ì–´ ì²˜ë¦¬ëœë‹¤.\nì„¸ë¯¸ì¡°ì¸ í˜•íƒœ ì¿¼ë¦¬ì™€ ì•ˆí‹° ì„¸ë¯¸ì¡°ì¸ í˜•íƒœì˜ ì¿¼ë¦¬ëŠ” ìµœì í™” ë°©ë²•ì´ ì°¨ì´ê°€ ìˆë‹¤.\nì„¸ë¯¸ì¡°ì¸: = (subquery), IN (subquery) ì„¸ë¯¸ ì¡°ì¸ ìµœì í™” IN-to-EXISTS ìµœì í™” MATERIALIZATION ìµœì í™” ì•ˆí‹°ì„¸ë¯¸ì¡°ì¸: \u0026lt;\u0026gt; (subquery), NOT IN (subquery) IN-to-EXISTS ìµœì í™” MATERIALIZATION ìµœì í™” MySQL ì„œë²„ 8.0 ë²„ì „ ë¶€í„° ì„¸ë¯¸ ì¡°ì¸ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ìµœì í™” ì „ëµì„ ì‚¬ìš©í•œë‹¤.\nTable Pull-out Duplicate Weed-out First Match Loose Scan Materialization Table Pull-out ìµœì í™”ëŠ” ì‚¬ìš© ê°€ëŠ¥í•˜ë©´ í•­ìƒ ì„¸ë¯¸ì¡°ì¸ë³´ë‹¤ëŠ” ì¢‹ì€ ì„±ëŠ¥ì„ ë‚´ê¸° ë•Œë¬¸ì— ë³„ë„ë¡œ ì œì–´í•˜ëŠ” ì˜µí‹°ë§ˆì´ì € ì˜µì…˜ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.\ní…Œì´ë¸” í’€-ì•„ì›ƒ(Table Pull-out) Table Pull-out ìµœì í™”ëŠ” ì„¸ë¯¸ ì¡°ì¸ì˜ ì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš©ëœ í…Œì´ë¸”ì„ ì•„ìš°í„° ì¿¼ë¦¬ë¡œ ë„ì§‘ì–´ë‚¸ í›„ì— ì¿¼ë¦¬ë¥¼ ì¡°ì¸ ì¿¼ë¦¬ë¡œ ì¬ì‘ì„±í•˜ëŠ” í˜•íƒœì˜ ìµœì í™”ì´ë‹¤. ì´ ë°©ë²•ì€ ì„œë¸Œì¿¼ë¦¬ ìµœì í™”ê°€ ë„ì…ë˜ê¸° ì´ì „ì— ìˆ˜ë™ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ íŠœë‹í•˜ë˜ ëŒ€í‘œì ì¸ ë°©ë²•ì´ì—ˆë‹¤.\n1 2 3 4 5 6 7 EXPLAIN SELECT * FROM employees e WHERE emp_no IN ( SELECT de.emp_no FROM dept_emp de WHERE de.dept_no=\u0026#39;d009\u0026#39; ); id select_type table type key rows Extra 1 SIMPLE de ref PRIMARY 46012 Using Index 1 SIMPLE e eq_ref PRIMARY 1 NULL MySQL 8.0 ë²„ì „ì—ì„œ ì´ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì€ ìœ„ì™€ ê°™ë‹¤.\ndept_emp í…Œì´ë¸”ê³¼ employees í…Œì´ë¸”ì´ ìˆœì„œëŒ€ë¡œ í‘œì‹œë˜ì–´ ìˆëŠ”ë°, ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì€ id ì»¬ëŸ¼ ê°’ì´ ëª¨ë‘ 1ì´ë¼ëŠ” ê²ƒì´ë‹¤. ì´ ê°’ì´ ë™ì¼í•œ ê°’ì„ ê°€ì§„ë‹¤ëŠ” ê²ƒì€ ë‘ í…Œì´ë¸”ì´ ì„œë¸Œì¿¼ë¦¬ í˜•íƒœê°€ ì•„ë‹ˆë¼ ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŒì„ ì˜ë¯¸í•œë‹¤.\nTable pullout ìµœì í™”ëŠ” ë³„ë„ë¡œ ì‹¤í–‰ ê³„íšì˜ Extra ì»¬ëŸ¼ì— íŠ¹ë³„í•œ ë¬¸êµ¬ë¥¼ í‘œì‹œí•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— Table pullout ìµœì í™”ê°€ ì‚¬ìš©ëëŠ”ì§€ëŠ” ì‹¤í–‰ ê³„íšì—ì„œ í•´ë‹¹ í…Œì´ë¸”ë“¤ì˜ id ì»¬ëŸ¼ ê°’ì´ ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµí•´ë³´ëŠ” ê²ƒì´ ê°€ì¥ ê°„ë‹¨í•˜ë‹¤.\nTable pullout ìµœì í™”ê°€ ì‚¬ìš©ëëŠ”ì§€ ë” ì •í™•í•˜ê²Œ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ EXPLAIN ëª…ë ¹ì„ ì‹¤í–‰í•œ ì§í›„ SHOW WARNINGS ëª…ë ¹ìœ¼ë¡œ MySQL ì˜µí‹°ë§ˆì´ì €ê°€ ì¬ì‘ì„±í•œ ì¿¼ë¦¬ë¥¼ ì‚´í´ë³´ëŠ” ê²ƒì´ë‹¤.\nTable pullout ìµœì í™”ëŠ” ëª¨ë“  í˜•íƒœì˜ ì„œë¸Œì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.\nì„¸ë¯¸ ì¡°ì¸ ì„œë¸Œì¿¼ë¦¬ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ì„œë¸Œì¿¼ë¦¬ ë¶€ë¶„ì´ UNIQUE ì¸ë±ìŠ¤ë‚˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ë£©ì—…ìœ¼ë¡œ ê²°ê³¼ê°€ 1ê±´ì¸ ê²½ìš°ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. Table pulloutì´ ì ìš©ëœë‹¤ê³  í•˜ë”ë¼ë„ ê¸°ì¡´ ì¿¼ë¦¬ì—ì„œ ê°€ëŠ¥í–ˆë˜ ìµ²ê±°í™” ë°©ë²•ì´ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•œ ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ MySQLì—ì„œëŠ” ê°€ëŠ¥í•˜ë‹¤ë©´ Table pullout ìµœì í™”ë¥¼ ìµœëŒ€í•œ ì ìš©í•œë‹¤. ì„œë¸Œì¿¼ë¦¬ì˜ í…Œì´ë¸”ì„ ì•„ìš°í„° ì¿¼ë¦¬ë¡œ ê°€ì ¸ì™€ì„œ ì¡°ì¸ìœ¼ë¡œ í’€ì–´ì“°ëŠ” ìµœì í™”ë¥¼ ìˆ˜í–‰í•˜ëŠ”ë°, ë§Œì•½ ì„œë¸Œì¿¼ë¦¬ì˜ ëª¨ë“  í…Œì´ë¸”ì´ ì•„ìš°í„° ì¿¼ë¦¬ë¡œ ë„ì§‘ì–´ ë‚¼ ìˆ˜ ìˆë‹¤ë©´ ì„œë¸Œì¿¼ë¦¬ ìì²´ëŠ” ì—†ì–´ì§„ë‹¤. MySQLì—ì„œëŠ” \u0026ldquo;ìµœëŒ€í•œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì¡°ì¸ìœ¼ë¡œ í’€ì–´ì„œ ì‚¬ìš©í•´ë¼\u0026rdquo; ë¼ëŠ” íŠœë‹ ê°€ì´ë“œê°€ ë§ì€ë°, Table pullout ìµœì í™”ëŠ” ì´ ê°€ì´ë“œë¥¼ ê·¸ëŒ€ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì¡°ì¸ìœ¼ë¡œ í’€ì–´ì„œ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì–´ì¡Œë‹¤. í¼ìŠ¤íŠ¸ ë§¤ì¹˜(firstmatch) First Match ìµœì í™” ì „ëµì€ IN (subquery) í˜•íƒœì˜ ì„¸ë¯¸ ì¡°ì¸ì„ EXISTS (subquery) í˜•íƒœë¡œ íŠœë‹í•œ ê²ƒê³¼ ë¹„ìŠ·í•œ ë°©ë²•ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.\n1 2 3 4 5 6 7 8 9 EXPLAIN SELECT * FROM employees e WHERE e.first_name=\u0026#39;Matt\u0026#39; AND e.emp_no IN ( SELECT t.emp_no FROM titles t WHERE t.from_date BETWEEN \u0026#39;1995-01-01\u0026#39; AND \u0026#39;1995-01-30\u0026#39; ) ; id table type key rows Extra 1 e ref ix_firstname 233 NULL 1 t ref PRIMARY 1 Using where; Using index; FirstMatch(e) ì‹¤í–‰ ê³„íšì˜ id ì»¬ëŸ¼ ê°’ì´ ëª¨ë‘ 1ë¡œ í‘œì‹œëœ ê²ƒìœ¼ë¡œ ë´ì„œ ì„œë¸Œì¿¼ë¦¬ íŒ¨í„´ì´ ì•„ë‹Œ ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.\n\u0026ldquo;FirstMatch(e)\u0026rdquo; ë¬¸êµ¬ëŠ” employees í…Œì´ë¸”ì˜ ë ˆì½”ë“œì— ëŒ€í•´ titles í…Œì´ë¸”ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ 1ê±´ë§Œ ì°¾ìœ¼ë©´ ë”ì´ìƒì˜ titles í…Œì´ë¸” ê²€ìƒ‰ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì‹¤ì œ ì˜ë¯¸ë¡ ì ìœ¼ë¡œ EXISTS (subquery)ì™€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ëœ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ FirstMatchëŠ” ì„œë¸Œì¿¼ë¼ ì•„ë‹ˆë¼ ì¡°ì¸ìœ¼ë¡œ í’€ì–´ì„œ ì‹¤í–‰í•˜ë©´ì„œ ì¼ì¹˜í•˜ëŠ” ì²«ë²ˆì§¸ ë ˆì½”ë“œë§Œ ê²€ìƒ‰í•˜ëŠ” ìµœì í™”ë¥¼ ì‹¤í–‰í•œ ê²ƒì´ë‹¤.\nFirst Match ìµœì í™”ëŠ” MySQL 5.5ì—ì„œ ìˆ˜í–‰í–ˆë˜ ìµœì í™” ë°©ë²•ì€ IN-to-EXISTS ë³€í™˜ê³¼ ê±°ì˜ ë¹„ìŠ·í•œ ì²˜ë¦¬ ë¡œì§ì„ ìˆ˜í–‰í•˜ì§€ë§Œ First Match ìµœì í™” ì „ëµì€ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì´ ìˆë‹¤.\nì—¬ëŸ¬ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ê²½ìš° ì›ë˜ ì¿¼ë¦¬ì—ëŠ” ì—†ë˜ ë™ë“± ì¡°ê±´ì„ ì˜µí‹°ë§ˆì´ì €ê°€ ìë™ìœ¼ë¡œ ì¶”ê°€í•˜ëŠ” í˜•íƒœì˜ ìµœì í™”ê°€ ì‹¤í–‰ë˜ê¸°ë„ í•œë‹¤. ê¸°ì¡´ì˜ IN-to-EXISTS ìµœì í™”ì—ì„œëŠ” ì´ëŸ¬í•œ ë™ë“± ì¡°ê±´ ì „íŒŒê°€ ì„œë¸Œì¿¼ë¦¬ ë‚´ì—ì„œë§Œ ê°€ëŠ¥í–ˆì§€ë§Œ FirstMatchì—ì„œëŠ” ì¡°ì¸ í˜•íƒœë¡œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ì„œë¸Œì¿¼ë¦¬ë¿ë§Œ ì•„ë‹ˆë¼ ì•„ìš°í„° ì¿¼ë¦¬ì˜ í…Œì´ë¸”ê¹Œì§€ ì „íŒŒë  ìˆ˜ ìˆë‹¤. FirstMatch ìµœì í™”ë¡œ ì‹¤í–‰ë˜ë©´ ë” ë§ì€ ì¡°ê±´ì´ ì£¼ì–´ì§€ëŠ” ê²ƒì´ë¯€ë¡œ ë” ë‚˜ì€ ì‹¤í–‰ê³„íšì„ ìˆ˜ë¦½í•  ìˆ˜ ìˆë‹¤. IN-to-EXISTS ë³€í™˜ ìµœì í™” ì „ëµì—ì„œëŠ” ì•„ë¬´ëŸ° ì¡°ê±´ ì—†ì´ ë³€í™˜ì´ ê°€ëŠ¥í•œ ê²½ìš°ë„¤ëŠ” ë¬´ì¡°ê±´ ê·¸ ìµœì í™”ë¥¼ ìˆ˜í–‰í–ˆì§€ë§Œ FirstMatch ìµœì í™”ì—ì„œëŠ” ì„œë¸Œì¿¼ë¦¬ì˜ ëª¨ë“  í…Œì´ë¸”ì— ëŒ€í•´ ìµœì í™”ë¥¼ ìˆ˜í–‰í• ì§€ ì¼ë¶€ í…Œì´ë¸”ì—ì„œë§Œ ìˆ˜í–‰í• ì§€ ì·¨ì‚¬ì„ íƒ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ ì¥ì ì´ë‹¤. FirstMatch ìµœì í™” ë˜í•œ íŠ¹ì • í˜•íƒœì˜ ì„œë¸Œì¿¼ë¦¬ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ìµœì í™”ì´ë‹¤.\nì„œë¸Œì¿¼ë¦¬ì—ì„œ í•˜ë‚˜ì˜ ë ˆì½”ë“œë§Œ ê²€ìƒ‰ë˜ë©´ ë”ì´ìƒì˜ ê²€ìƒ‰ì„ ë©ˆì¶”ëŠ” ë‹¨ì¶• ì‹¤í–‰ ê²½ë¡œì´ê¸° ë•Œë¬¸ì— ì„œë¸Œì¿¼ë¦¬ëŠ” ê·¸ ì„œë¸Œì¿¼ë¦¬ê°€ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ì•„ìš°í„° ì—ì´ë¸”ì´ ë¨¼ì € ì¡°íšŒëœ ì´í›„ì— ì‹¤í–‰ëœë‹¤. ì‚¬ìš©ëœë‹¤ë©´ ì‹¤í–‰ ê³„íšì˜ Extra ì»¬ëŸ¼ì—ëŠ” FirstMatch(table-N) ë¬¸êµ¬ê°€ í‘œì‹œëœë‹¤. ìƒê´€ ì„œë¸Œì¿¼ë¦¬(Correlated subquery)ì—ì„œë„ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. GROUP BYë‚˜ ì§‘í•© í•¨ìˆ˜ê°€ ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ì˜ ìµœì í™”ì—ëŠ” ì‚¬ìš©ë  ìˆ˜ ì—†ë‹¤. ë£¨ìŠ¤ ìŠ¤ìº”(loosescan) ì„¸ë¯¸ ì¡°ì¸ ì„œë¸Œì¿¼ë¦¬ ìµœì í™”ì˜ LooseScanì€ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” GROUP BY ìµœì í™” ë°©ë²•ì—ì„œ ì‚´í´ë³¸ Using index for group-byì˜ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ê³¼ ë¹„ìŠ·í•œ ì½ê¸° ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 6 7 EXPLAIN SELECT * FROM departments d WHERE d.dept_no IN ( SELECT de.dept_no FROM dept_emp de ); id table type key rows Extra 1 de index PRIMARY 331143 Using index; LooseScan 1 d eq_ref PRIAMRY 1 NULL departments í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ëŠ” 9ê±´ë¿ì´ì§€ë§Œ dept_emp í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ëŠ” ì•½ 33ë§Œê±´ ì €ì¥ë˜ì–´ìˆë‹¤. ê·¸ëŸ°ë° dept_emp í…Œì´ë¸”ì—ëŠ” (dept_no + emp_no) ì»¬ëŸ¼ì˜ ì¡°í•©ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ì¸ë±ìŠ¤ê°€ ë§Œë“¤ì–´ì ¸ ìˆë‹¤. ì´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ì „ì²´ ë ˆì½”ë“œ ìˆ˜ëŠ” 33ë§Œ ê±´ ì •ë„ ìˆì§€ë§Œ dept_no ë§Œìœ¼ë¡œ ê·¸ë£¨í•‘í•´ì„œ ë³´ë©´ ê²°êµ­ 9ê±´ ë¿ì´ë¯€ë¡œ dept_emp í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ìœ¼ë¡œ ìœ ë‹ˆì¹´í•œ dept_noë§Œ ì½ìœ¼ë©´ íš¨ìœ¨ì ìœ¼ë¡œ ì„œë¸Œì¿¼ë¦¬ ë¶€ë¶„ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš©ëœ dept_emp í…Œì´ë¸”ì´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì‹¤í–‰ë˜ë©°, dept_emp í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ dept_no ë¶€ë¶„ì—ì„œ ìœ ë‹ˆí¬í•˜ê²Œ í•œ ê±´ì”©ë§Œ ì½ê³  ìˆë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì¤€ë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì˜ Using index for group-byë„ ë™ì¼í•˜ê²Œ ì‘ë™í•œë‹¤.\nLooseScan ìµœì í™”ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì„±ì„ ì§€ë‹Œë‹¤.\në£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ìœ¼ë¡œ ì„œë¸Œì¿¼ë¦¬ í…Œì´ë¸”ì„ ì½ê³ , ê·¸ë‹¤ìŒìœ¼ë¡œ ì•„ìš°í„° í…Œì´ë¸”ì„ ë“œë¦¬ë¸ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ ì¡°ì¸ì„ ìˆ˜í–‰í•œë‹¤. ê·¸ë˜ì„œ ì„œë¸Œì¿¼ë¦¬ ë¶€ë¶„ì´ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì´ ê°–ì¶°ì ¸ì•¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìµœì í™”ë‹¤. ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœì˜ ì„œë¸Œì¿¼ë¦¬ë“¤ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 1 2 SELECT .. FROM .. WHERE expr IN (SELECT keypart1 FROM tab WHERE ...) SELECT .. FROM .. WHERE expr IN (SELECT keypart2 FROM tab WHERE keypart1=\u0026#39;ìƒìˆ˜\u0026#39;) êµ¬ì²´í™”(Materialization) Materialization ìµœì í™”ëŠ” ì„¸ë¯¸ ì¡°ì¸ì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ë¥¼ í†µì§¸ë¡œ êµ¬ì²´í™”í•´ì„œ ì¿¼ë¦¬ë¥¼ ìµœì í™”í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤. êµ¬ì²´í™”ëŠ” ì‰½ê²Œ í‘œí˜„í•˜ë©´ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\n1 2 3 4 5 6 7 8 EXPLAIN SELECT * FROM employees e WHERE e.emp_no IN ( SELECT de.emp_no FROM dept_emp de WHERE de.from_date=\u0026#39;1995-01-01\u0026#39; ); id select_type table type key ref 1 SIMPLE ALL NULL NULL 1 SIMPLE e eq_ref PRIMARY .emp_no 2 MATERIALIZED de ref ix_fromdate const ìœ„ ì¿¼ë¦¬ë¥¼ FirstMatch ìµœì í™”ë¥¼ ì‚¬ìš©í•˜ë©´ employees í…Œì´ë¸”ì— ëŒ€í•œ ì¡°ê±´ì´ ì„œë¸Œì¿¼ë¦¬ ì´ì™¸ì—ëŠ” ì•„ë¬´ê²ƒë„ ì—†ê¸° ë•Œë¬¸ì— employees í…Œì´ë¸”ì„ í’€ ìŠ¤ìº”í•´ì•¼ í•˜ë¯€ë¡œ ì„±ëŠ¥ í–¥ìƒì— ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.\nMySQL ì„œë²„ ì˜µí‹°ë§ˆì´ì €ëŠ” ì´ëŸ° í˜•íƒœì˜ ì¿¼ë¦¬ë¥¼ ìœ„í•´ ì„œë¸Œì¿¼ë¦¬ êµ¬ì²´í™”(Subquery Materialization)ë¼ëŠ” ìµœì í™”ë¥¼ ë„ì…í–ˆë‹¤. ì‹¤í–‰ ê³„íš ë§ˆì§€ë§‰ ë¼ì¸ì˜ select_type ì»¬ëŸ¼ì— \u0026ldquo;MATERIALIZED\u0026quot;ë¼ê³  ì¶œë ¥ëœë‹¤.\nì´ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì€ 2ê°œì´ì§€ë§Œ ì„ì‹œ í…Œì´ë¸”()ì´ ìƒì„±ë˜ì–´ 3ê°œ ë¼ì¸ì´ ì¶œë ¥ëœë‹¤. dept_emp í…Œì´ë¸”ì„ ì½ëŠ” ì„œë¸Œí€„ê°€ ë¨¼ì € ì‹¤í–‰ë˜ì–´ ê·¸ê²°ê³¼ë¡œ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ê³ , ì„œë¸Œì¿¼ë¼ êµ¬ì²´í™”ëœ ì„ì‹œ í…Œì´ë¸”ê³¼ employees í…Œì´ë¸”ì„ ì¡°ì¸í•´ì„œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.\nMaterialization ìµœì í™”ëŠ” ë‹¤ë¥¸ ì„œë¸Œì¿¼ë¦¬ì™€ ë‹¬ë¦¬, ì„œë¸Œ ì¿¼ë¦¬ ë‚´ì— GROUP BYì ˆì´ ìˆì–´ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 EXPLAIN SELECT * FROM employees e WHERE e.emp_no IN ( SELECT de.emp_no FROM dept_emp de WHERE de.from_date=\u0026#39;1995-01\u0026#39;01\u0026#39; GROUP BY de.dept_no ); Materialization ìµœì í™”ê°€ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ì¿¼ë¦¬ì—ë„ ì—­ì‹œ ëª‡ ê°€ì§€ ì œí•œì‚¬í•­ê³¼ íŠ¹ì„±ì´ ìˆë‹¤.\nIN (subpuery)ì—ì„œ ì„œë¸Œì¿¼ë¦¬ëŠ” ìƒê´€ ì„œë¸Œì¿¼ë¦¬ê°€ ì•„ë‹ˆì–´ì•¼ í•œë‹¤. ì„œë¸Œì¿¼ë¦¬ëŠ” GROUP BYë‚˜ ì§‘í•© í•¨ìˆ˜ë“¤ì´ ì‚¬ìš©ë˜ì–´ë„ êµ¬ì²´í™”ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. êµ¬ì²´í™”ê°€ ì‚¬ìš©ëœ ê²½ìš°ì—ëŠ” ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì´ ì‚¬ìš©ëœë‹¤. ì„¸ë¯¸ì¡°ì¸ì´ ì•„ë‹Œ ì„œë¸Œì¿¼ë¦¬ì˜ ìµœì í™”ì—ì„œë„ êµ¬ìµœí™”ë¥¼ ì´ìš©í•œ ìµœì í™”ê°€ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ í•´ë‹¹ ì˜µì…˜ì´ ë¹„í™œì„±í™”ëœë‹¤ë©´ ì„¸ë¯¸ ì¡°ì¸ì´ ì•„ë‹Œ ì„œë¸Œì¿¼ë¦¬ ìµœì í™”ì—ì„œë„ êµ¬ì²´í™”ë¥¼ ì´ìš©í•œ ìµœì í™”ëŠ” ì‚¬ìš©ë˜ì§€ ëª»í•œë‹¤.\nì¤‘ë³µ ì œê±°(Duplicated Weed-out) Duplicated Weed-outì€ ì„¸ë¯¸ ì¡°ì¸ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì¼ë°˜ì ì¸ INNER JOIN ì¿¼ë¦¬ë¡œ ë°”ê¿” ì‹¤í–‰í•˜ê³  ë§ˆì§€ë§‰ì— ì¤‘ë³µëœ ë ˆì½”ë“œë¥¼ ì œê±°í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ìµœì í™” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.\n1 2 3 4 5 6 7 8 EXPLAIN SELECT * FROM employees e WHERE e.emp_no IN ( SELECT s.emp_no FROM salaries s WHERE s.salary \u0026gt; 150000 ); salaries í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ (emp_no + from_date)ì´ë¯€ë¡œ salaryê°€ 150000 ì´ìƒì¸ ë ˆì½”ë“œë¥¼ salaries í…Œì´ë¸”ì—ì„œ ì¡°íšŒí•˜ë©´ ê·¸ ê²°ê³¼ì—ëŠ” ì¤‘ë³µëœ emp_noê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 SELECT e.* FROM employees e salaries s WHERE e.emp_no=s.emp_no AND s.salary \u0026gt; 150000 GROUP BY e.emp_no ; ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ GROUP BYë¥¼ í™œìš©í•˜ë©´ ì„¸ë¯¸ ì¡°ì¸ ì„œë¸Œì¿¼ë¦¬ì™€ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ Duplicate Weedout ìµœì í™” ì•Œê³ ë¦¬ì¦˜ì€ ì›ë³¸ ì¿¼ë¦¬ë¥¼ ìœ„ì™€ ê°™ì´ INNER JOIN + GROUP BY ì ˆë¡œ ë°”ê¿” ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ ì‘ì—…ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•œë‹¤.\nsqlaries í…Œì´ë¸”ì˜ ix_salary ì¸ë±ìŠ¤ë¥¼ ìŠ¤ìº”í•´ì„œ salaryê°€ 150000ë³´ë‹¤ í° ì‚¬ì›ì„ ê²€ìƒ‰í•´ employees í…Œì´ë¸”ì„ ì¡°ì¸ ì¡°ì¸ëœ ê²°ê³¼ë¥¼ ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥ ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥ëœ ê²°ê³¼ì—ì„œ emp_no ê¸°ì¤€ìœ¼ë¡œ ì¤‘ë³µ ì œê±° ì¤‘ë³µì„ ì œê±°í•˜ê³  ë‚¨ì€ ë ˆì½”ë“œë¥¼ ìµœì¢…ì ìœ¼ë¡œ ë°˜í™˜ id select_type table type key Extra 1 SIMPLE s range ix_salary Using where; Using index; Start temporary 1 SIMPLE e eq_ref PRIMARY End temporary ìµœì í™”ë¥¼ ì´ìš©í•œ ì˜ˆì œ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, ì´ ì‹¤í–‰ ê³„íšì—ì„œëŠ” \u0026ldquo;Duplicate Weedout\u0026quot;ì´ë¼ëŠ” ë¬¸êµ¬ê°€ ë³„ë„ë¡œ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ Extra ì»¬ëŸ¼ì— \u0026ldquo;Start temporary\u0026rdquo;, \u0026ldquo;End temporary\u0026rdquo; ë¬¸êµ¬ê°€ ë³„ë„ë¡œ í‘œì‹œëœë‹¤.\nDuplicate Weedout ìµœì í™”ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ê³¼ ì œì•½ ì‚¬í•­ì´ ìˆë‹¤.\nì„œë¸Œì¿¼ë¦¬ê°€ ìƒê´€ ì„œë¶€ì¿¼ë¦¬ë¼ê³  í•˜ë”ë¼ë„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìµœì í™”ë‹¤. ì„œë¸Œì¿¼ë¦¬ê°€ GROUP BYë‚˜ ì§‘í•© í•¨ìˆ˜ê°€ ì‚¬ìš©ëœ ê²½ìš°ì—ëŠ” ì‚¬ìš©ë  ìˆ˜ ì—†ë‹¤. ì„œë¸Œì¿¼ë¦¬ì˜ í…Œì´ë¸”ì„ ì¡°ì¸ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ìµœì í™”í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ë§ë‹¤. ì»¨ë””ì…˜ íŒ¬ì•„ì›ƒ(condition_fanout_filter) ì¡°ì¸ì„ ì‹¤í–‰í•  ë•Œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ì½ê¸° ë•Œë¬¸ì— í…Œì´ë¸”ì˜ ìˆœì„œëŠ” ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì— ë§¤ìš° í° ì˜í–¥ì„ ë¯¸ì¹œë‹¤. ê·¸ë˜ì„œ MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ì—¬ëŸ¬ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ê²½ìš° ê°€ëŠ¥í•˜ë©´ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì ì€ ìˆœì„œëŒ€ë¡œ ì¡°ì¸ì„ ì‹¤í–‰í•œë‹¤.\n1 2 3 4 5 6 SELECT * FROM employees e INNER JOIN salaries s ON s.emp_no=e.emp_no WHERE e.first_name=\u0026#39;Matt\u0026#39; AND e.hire_date BETWEEN \u0026#39;1985-11-21\u0026#39; AND \u0026#39;1986-11-21\u0026#39; ; Condition_fanout_filter ë¹„í™œì„±í™” ì‹¤í–‰ ê³„íš\nid table type key rows filtered Extra 1 e ref ix_firstname 233 100.00 Using where 1 s ref PRIMARY 10 100.00 NULL employees í…Œì´ë¸”ì—ì„œ ix_firstname ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ first_name='Matt' ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” 233ê±´ì˜ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰ ê²€ìƒ‰ëœ ë ˆì½”ë“œ ì¤‘ì—ì„œ hire_dateê°€ \u0026lsquo;1985-11-21\u0026rsquo; ë¶€í„° \u0026lsquo;1986-11-21\u0026rsquo;ì¼ ì‚¬ì´ì¸ ë ˆì½”ë“œë§Œ ê±¸ëŸ¬ëƒ„. ì´ ì‹¤í–‰ê³„íšì—ì„œëŠ” filtered ì»¬ëŸ¼ì˜ ì»¬ëŸ¼ ê°’ì´ 100ì¸ ê²ƒì€ ì˜µí‹°ë§ˆì´ì €ê°€ 233ê±´ ëª¨ë‘ ì¡°ê±´ì„ ë§Œì¡±í•  ê²ƒìœ¼ë¡œ ì˜ˆì¸¡í–ˆë‹¤ëŠ” ì˜ë¯¸ employees í…Œì´ë¸”ì„ ì½ì€ ê²°ê³¼ì— ëŒ€í•´ salaries í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì´ìš©í•´ salaries í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ëŠ”ë‹¤. MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” employees í…Œì´ë¸”ì˜ ë ˆì½”ë“œ í•œ ê±´ë‹¹ salaries í…Œì´ë¸”ì˜ ë ˆì½”ë“œ 10ê±´ì´ ì¼ì¹˜í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒí•¨. Condition_fanout_filter ë¹„í™œì„±í™” ì‹¤í–‰ ê³„íš\nid table type key rows filtered Extra 1 e ref ix_firstname 233 23.20 Using where 1 s ref PRIMARY 10 100.00 NULL rows ì»¬ëŸ¼ì˜ ê°’ì€ 233ìœ¼ë¡œ ë™ì¼í•˜ì§€ë§Œ filtered ì»¬ëŸ¼ì˜ ê°’ì´ 23.20ë¡œ ë°”ë€Œì—ˆë‹¤. MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” first_name ì»¬ëŸ¼ ì¡°ê±´ ì´ì™¸ì˜ ë‚˜ë¨¸ì§€ ì¡°ê±´(hire_date)ì— ëŒ€í•´ì„œë„ ì–¼ë§ˆë‚˜ ì¡°ê±´ì„ ì¶©ì¡±í• ì§€ë¥¼ ê³ ë ¤í–ˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.\nì¦‰ condition_fanout_filter ìµœì í™”ê°€ ë¹„í™œì„±í™” ëœ ê²½ìš°ì—ëŠ” employees í…Œì´ë¸”ì—ì„œ ëª¨ë“  ì¡°ê±´ì„ ì¶©ì¡±í•˜ëŠ” ë ˆì½”ë“œê°€ 233ê±´ì¼ ê²ƒìœ¼ë¡œ ì˜ˆì¸¡í–ˆì§€ë§Œ, í™œì„±í™”ì‹œ 54ê±´ë§Œ ì¡°ê±´ì„ ì¶©ì¡±í•  ê²ƒì´ë¼ê³  ì˜ˆì¸¡í•œê²ƒì´ë‹¤. MySQL ì˜µí‹°ë§ˆì´ì €ê°€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì •í™•í•˜ê²Œ ì˜ˆì¸¡í•  ìˆ˜ ìˆë‹¤ë©´ ë” ë¹ ë¥¸ ì‹¤í–‰ ê³„íšì„ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆë‹¤.\ní•´ë‹¹ ìµœì í™”ê°€ í™œì„±í™”ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì»¬ëŸ¼ì˜ ì¡°ê±´ë“¤ì— ëŒ€í•´ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œì˜ ë¹„ìœ¨ì„ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.\nWHERE ì¡°ê±´ì ˆì— ì‚¬ìš©ëœ ì»¬ëŸ¼ì— ëŒ€í•´ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ê²½ìš° WHERE ì¡°ê±´ì ˆì— ì‚¬ìš©ëœ ì»¬ëŸ¼ì— ëŒ€í•´ íˆìŠ¤í† ê·¸ë¨ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš° ì˜ˆì œ ì¿¼ë¦¬ê°€ ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ê²½ìš°ì—ëŠ” ix_firstname ì¸ë±ìŠ¤ë§Œ ì‚¬ìš©í•œë‹¤. í•˜ì§€ë§Œ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ê²½ìš° í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì¡°ê±´ì´ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ 233ê±´ ì •ë„ë¼ëŠ” ê²ƒì„ ì•Œì•„ë‚´ê³ , hire_date ì»¬ëŸ¼ì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œì˜ ë¹„ìœ¨ì„ ëŒ€ëµ 23.2%ì¼ ê²ƒìœ¼ë¡œ ì˜ˆì¸¡í•œë‹¤. hire_date ì»¬ëŸ¼ì˜ ì¸ë±ìŠ¤ê°€ ì—†ë‹¤ë©´ MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” first_name ì»¬ëŸ¼ì˜ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ hire_date ì»¬ëŸ¼ì˜ ë¶„í¬ë„ë¥¼ ì‚´í´ë³´ê³  filterdì»¬ëŸ¼ì˜ ê°’ì„ ì˜ˆì¸¡í•œë‹¤.\nMySQL ì˜µí‹°ë§ˆì´ì €ê°€ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œ í…Œì´ë¸”ì´ë‚˜ ì¸ë±ìŠ¤ì˜ í†µê³„ ì •ë³´ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë‹¤ìŒì˜ ìˆœì„œëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ë°©ì‹ì„ ì„ íƒí•œë‹¤.\nì˜µí‹°ë§ˆì´ì €(Range optimizer)ë¥¼ ì´ìš©í•œ ì˜ˆì¸¡ íˆìŠ¤í† ê·¸ë¨ì„ ì´ìš©í•œ ì˜ˆì¸¡ ì¸ë±ìŠ¤ í†µê³„ë¥¼ ì´ìš©í•œ ì˜ˆì¸¡ ì¶”ì¸¡ì— ê¸°ë°˜í•œ ì˜ˆì¸¡(Guesstimates) ë ˆì¸ì§€ ì˜µí‹°ë§ˆì´ì €ëŠ” ì‹¤ì œ ì¸ë±ìŠ¤ì˜ ë°ì´í„°ë¥¼ ì‚´í´ë³´ê³  ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ë°©ì‹ì¸ë°, ì‹¤ì œ ì¿¼ë¦¬ ì‹¤í–‰ ì „ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ ë‹¨ê³„ì—ì„œ ë¹ ë¥´ê²Œ ì†ŒëŸ‰ì˜ ë°ì´í„°ë¥¼ ì½ì–´ë³¸ë‹¤. (ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ìˆ˜ ìˆì„ë•Œë§Œ)\ncondition_fanout_filter ìµœì í™” ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ë©´ MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ë” ì •êµí•œ ê³„ì‚°ì„ ê±°ì³ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•œë‹¤.\nê·¸ì— ë”°ë¼ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ì— ë” ë§ì€ ì‹œê°„ê³¼ ì»´í“¨íŒ… ìì›ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë¯€ë¡œ, MySQL 8.0 ì´ì „ ë²„ì „ì—ì„œë„ ì¿¼ë¦¬ ì‹¤í–‰ ê³„íšì´ ì˜ëª»ëœ ì„ íƒì„ í•œ ì ì´ ë³„ë¡œ ì—†ë‹¤ë©´ ì„±ëŠ¥ í–¥ìƒì— í¬ê²Œ ë„ì›€ì´ ë˜ì§€ ì•Šì„ìˆ˜ë„ ìˆê³ , ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ì˜ ì˜¤ë²„í—¤ë“œê°€ ë” í¬ê²Œ ë³´ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì—…ê·¸ë ˆì´ë“œ ì „ í™•ì¸ì´ í•„ìš”í•˜ë‹¤.\níŒŒìƒ í…Œì´ë¸” ë¨¸ì§€(derived_merge) 1 2 3 4 5 6 7 8 9 EXPLAIN SELECT * FROM ( SELECT * FROM employees WHERE first_name=\u0026#39;Matt\u0026#39; ) derived_table WHERE derived_table.hire_date=\u0026#39;1986-04-03\u0026#39; ; ì´ì „ ë²„ì „ì˜ MySQL ì„œë²„ ì²˜ë¦¬ ë°©ì‹\nid select_type table type key 1 PRIMARY ref \u0026lt;auto_key0\u0026gt; 2 DERIVED employees ref ix_firstname employees í…Œì´ë¸”ì„ ì½ëŠ” ë¼ì¸ì˜ select_type ì»¬ëŸ¼ ê°’ì´ DREIVEDë¼ê³  í‘œì‹œë˜ì–´ ìˆëŠ”ë°, ì´ëŠ” employees í…Œì´ë¸”ì—ì„œ first_name ì»¬ëŸ¼ ê°’ì´ \u0026lsquo;Matt\u0026rsquo;ì¸ ë ˆì½”ë“œë“¤ë§Œ ì½ì–´ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê³ , ì´ ì„ì‹œ í…Œì´ë¸”ì„ ë‹¤ì‹œ ì½ì–´ hire_date ì»¬ëŸ¼ ê°’ì´ \u0026lsquo;1986-04-03\u0026rsquo;ì¸ ë ˆì½”ë“œë§Œ ê±¸ëŸ¬ë‚´ì–´ ë´”í™˜í•œ ê²ƒì´ë‹¤. MySQL ì„œë²„ì—ì„œëŠ” FROM ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ë¥¼ íŒŒìƒ í…Œì´ë¸”ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\nì´ ì‹¤í–‰ ê³„íšì€ ê²½ìš° MySQL ì„œë²„ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  first_name='Matt ì¸ ë ˆì½”ë“œë¥¼ employees í…Œì´ë¸”ì—ì„œ ì½ì–´ ì„ì‹œ í…Œì´ë¸”ë¡œ INSERT í•œë‹¤. ê·¸ í›„ ë‹¤ì‹œ ì„ì‹œ í…Œì´ë¸”ì„ ì½ìœ¼ë¯€ë¡œ MySQL ì„œë²„ëŠ” ë ˆì½”ë“œë¥¼ ë³µì‚¬í•˜ê³  ì½ëŠ” ì˜¤ë²„í—¤ë“œê°€ ë” ì¶”ê°€ëœë‹¤.\në‚´ë¶€ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì„ì‹œ í…Œì´ë¸”ì€ ì²˜ìŒì—ëŠ” ë©”ëª¨ë¦¬ì— ìƒì„±ë˜ì§€ë§Œ, ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥ë  ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì•„ì§€ë©´ ê²°êµ­ ë””ìŠ¤í¬ë¡œ ë‹¤ì‹œ ê¸°ë¡ë˜ë¯€ë¡œ ì„ì‹œ í…Œì´ë¸”ì´ ë©”ëª¨ë¦¬ì— ìƒì£¼í•  ë§Œí¼ í¬ê¸°ê°€ ì‘ë‹¤ë©´ ì„±ëŠ¥ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šì§€ë§Œ ë ˆì½”ë“œê°€ ë§ì•„ì§„ë‹¤ë©´ ì„ì‹œ í…Œì´ë¸”ë¡œ ë ˆì½”ë“œë¥¼ ë³µì‚¬í•˜ê³  ì½ëŠ” ì˜¤ë²„í—¤ë“œë¡œ ì¸í•´ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì€ ë§ì´ ëŠë ¤ì§„ë‹¤.\nMySQL 5.7 ì´í›„ ì²˜ë¦¬ ë°©ì‹\nMySQL 5.7 ë²„ì „ë¶€í„° íŒŒìƒ í…Œì´ë¸”ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ì„œë¸Œì¿¼ë¦¬ë¥¼ ì™¸ë¶€ ì¿¼ë¦¬ì™€ ë³‘í•©í•´ì„œ ì„œë¸Œì¿¼ë¦¬ ë¶€ë¶„ì„ ì œê±°í•˜ëŠ” ìµœì í™”ê°€ ë„ì…ë˜ì—ˆë‹¤.\nid select_type table type key 1 SIMPLE employees index_merge ix_hiredate, ix_firstname ì´ ì‹¤í–‰ ê³„íšì—ì„œëŠ” select_type ì»¬ëŸ¼ì´ DERIVEDì˜€ë˜ ë¼ì¸ì´ ì—†ì–´ì§€ê³ , ì„œë¸Œì¿¼ë¦¬ ì—†ì´ employees í…Œì´ë¸”ì„ ì¡°íšŒí•˜ë‹¨ í˜•íƒœì˜ ë‹¨ìˆœ ì‹¤í–‰ ê³„íšìœ¼ë¡œ ë°”ë€Œì—ˆë‹¤. SHOW WARNINGS ëª…ë ¹ìœ¼ë¡œ ì˜µí‹°ë§ˆì´ì €ê°€ ìƒˆë¡œ ì‘ì„±í•œ ì¿¼ë¦¬ë¥¼ ì‚´í´ë³´ë©´ ì„œë¸Œì¿¼ë¦¬ ë¶€ë¶„ì´ ì–´ë–»ê²Œ ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ë³‘í•©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 SELECT employees.employees.emp_no , ... FROM employees.employees WHERE employees.employees.hire_date = DATE\u0026#39;1986-04-03\u0026#39; AND employees.employees.first_name = \u0026#39;Matt\u0026#39; \u0026#39; ì˜ˆì „ ë²„ì „ì˜ MySQL ì„œë²„ì—ì„œëŠ” ì„œë¸Œì¿¼ë¦¬ë¡œ ì‘ì„±ëœ ì¿¼ë¦¬ë¥¼ ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ë³‘í•©í•˜ëŠ” ì‘ì—…ì„ DBAê°€ ìˆ˜ì‘ì—…ìœ¼ë¡œ ë§ì´ ì²˜ë¦¬í–ˆìœ¼ë‚˜, ì˜µí‹°ë§ˆì´ì €ê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ êµ³ì´ ì¿¼ë¦¬ë¥¼ ìƒˆë¡œ ì‘ì„±í•  í•„ìš”ëŠ” ì—†ì–´ì¡Œë‹¤.\ní•˜ì§€ë§Œ ëª¨ë“  ì¿¼ë¦¬ì— ëŒ€í•´ ì˜µí‹°ë§ˆì´ì €ê°€ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ë³‘í•©í•  ìˆ˜ ìˆëŠ”ê²ƒì€ ì•„ë‹ˆë©°, ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì—ì„œëŠ” ì˜µí‹°ë§ˆì´ì €ê°€ ìë™ìœ¼ë¡œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ë³‘í•©í•  ìˆ˜ ì—†ê²Œ ëœë‹¤. ë”°ë¼ì„œ ê°€ëŠ¥í•˜ë‹¤ë©´ ì„œë¸Œì¿¼ë¦¬ëŠ” ì™¸ë¶€ ì¿¼ë¦¬ë¡œ ìˆ˜ë™ìœ¼ë¡œ ë³‘í•©í•´ì„œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ í–¥ìƒì— ë„ì›€ì´ ëœë‹¤.\nSUM(), MIN(), MAX() ê°™ì€ ì§‘ê³„ í•¨ìˆ˜ì™€ ìœˆë„ìš° í•¨ìˆ˜(Window Function)ê°€ ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ DISTINCTê°€ ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ GROUP BY, HAVINGì´ ì‚¬ìš©ëœ ì„œë¸Œ ì¿¼ë¦¬ LIMITì´ ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ UNION, UNION ALLì„ í¬í•¨í•˜ëŠ” ì„œë¸Œì¿¼ë¦¬ SELECT ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ ê°’ì´ ë³€ê²½ë˜ëŠ” ì‚¬ìš©ì ë³€ìˆ˜ê°€ ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ ì¸ë¹„ì €ë¸” ì¸ë±ìŠ¤(use_invisivble_indexes) MySQL 8.0 ì´ì „ ë²„ì „ê¹Œì§€ëŠ” ì¸ë±ìŠ¤ê°€ ì¡´ì¬í•˜ë©´ í•­ìƒ ì˜µí‹°ë§ˆì´ì €ê°€ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•  ë•Œ í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ê²€í† í•˜ê³  ì‚¬ìš©í–ˆìœ¼ë‚˜, ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•˜ì§€ ì•Šê³ , í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ì œì–´í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\nALTER TABLE ... ALTER INDEX ... [ VISIBLE | INVISIBLE ] ëª…ë ¹ìœ¼ë¡œ ì¸ë±ìŠ¤ì˜ ê°€ìš© ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\ní•´ë‹¹ ì˜µì…˜ì„ ì´ìš©í•˜ë©´ INVISIBLEë¡œ ì„¤ì •ëœ ì¸ë±ìŠ¤ë¼ í•˜ë”ë¼ë„ ì˜µí‹°ë§ˆì´ì €ê°€ ì‚¬ìš©í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆë‹¤.\n1 SET optimizer_switch=\u0026#39;use_invisible_indexes=on\u0026#39;; ìŠ¤í‚µ ìŠ¤ìº”(skip_scan) ì¸ë±ìŠ¤ì˜ í•µì‹¬ì€ ê°’ì´ ì •ë ¬ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒì´ë©°, ì´ë¡œ ì¸í•´ ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ì˜ ìˆœì„œê°€ ë§¤ìš° ì¢…ìš”í•˜ë‹¤. (A, B, C) ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ì¸ë±ìŠ¤ê°€ ìˆì„ ë•Œì˜ WHERE ì ˆì— Bì™€ C ì»¬ëŸ¼ì— ëŒ€í•œ ì¡°ê±´ì´ ìˆë‹¤ë©´ ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº”ì€ ì œí•œì ì´ê¸´ í•˜ì§€ë§Œ ì¸ë±ìŠ¤ì˜ ì´ëŸ° ì œì•½ ì‚¬í•­ì„ ë›°ì–´ë„˜ì„ ìˆ˜ ìˆëŠ” ìµœì í™” ê¸°ë²•ì´ë‹¤.\n1 2 ALTER TABLE employees ADD INDEX ix_gender_birthdate (gender, birth_date); ìœ„ì™€ ê°™ì€ í…Œì´ë¸”ì´ ìˆë‹¤ë©´ WHERE ì¡°ê±´ì ˆì— gender ì»¬ëŸ¼ì— ëŒ€í•œ ë¹„êµ ì¡°ê±´ì´ í•„ìˆ˜ì ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 // ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ì¿¼ë¦¬ SELECT * FROM employees WHERE birth_date \u0026gt;= \u0026#39;1965-02-01\u0026#39; ; // ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¿¼ë¦¬ SELECT * FROM employees WHERE gender=\u0026#39;M\u0026#39; AND birth_date \u0026gt;= \u0026#39;1965-02-01\u0026#39; ; ìœ„ ì¿¼ë¦¬ì—ì„œ ì²˜ìŒ ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ birth_date ì»¬ëŸ¼ë¶€í„° ì‹œì‘í•˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ìƒˆë¡œ ìƒì„±í•´ì•¼í–ˆìœ¼ë‚˜, MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ìµœì í™”ê°€ ë„ì…ë˜ì–´ ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì»¬ëŸ¼ì´ ì¡°ê±´ì ˆì— ì‚¬ìš©ë˜ì§€ ì•Šë”ë¼ë„ í›„í–‰ ì»¬ëŸ¼ë§Œì˜ ì¡°ê±´ìœ¼ë¡œë„ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì¿¼ë¦¬ ì„±ëŠ¥ ê°œì„ ì´ ê°€ëŠ¥í•˜ë‹¤.\nì²« ë²ˆì§¸ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ ì˜µí‹°ë§ˆì´ì €ëŠ” í…Œì´ë¸”ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  gender ì»¬ëŸ¼ì˜ ê°’ì„ ê°€ì ¸ì™€ ë‘ ë²ˆì§¸ ì¿¼ë¦¬ì™€ ê°™ì´ gender ì»¬ëŸ¼ì˜ ì¡°ê±´ì´ ìˆëŠ” ê²ƒì²˜ëŸ¼ ì¿¼ë¦¬ë¥¼ ìµœì í™”í•œë‹¤. ë”°ë¼ì„œ ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì»¬ëŸ¼ì´ ë§¤ìš° ë‹¤ì–‘í•œ ê°’ì„ ê°€ì§€ëŠ” ê²½ìš° ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ìµœì í™”ê°€ ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆê²Œëœë‹¤. ë”°ë¼ì„œ ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì»¬ëŸ¼ì´ ì†Œìˆ˜ì˜ ìœ ë‹ˆí¬í•œ ê°’ì„ ê°€ì§ˆë•Œë§Œ ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ìµœì í™”ë¥¼ ì‚¬ìš©í•œë‹¤.\ní•´ì‹œ ì¡°ì¸ MySQL 8.0.18 ë²„ì „ë¶€í„°ëŠ” í•´ì‹œ ì¡°ì¸ì´ ì¶”ê°€ë¡œ ì§€ì›ë˜ê¸° ì‹œì‘í–ˆë‹¤. í•´ì‹œ ì¡°ì¸ ê¸°ëŠ¥ì€ ê¸°ì¡´ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ë³´ë‹¤ í•´ì‹œ ì¡°ì¸ì´ ë¹ ë¥´ë‹¤ê³  ìƒê°í•˜ì§€ë§Œ í•­ìƒ ì°¸ì€ ì•„ë‹ˆë‹¤.\ní•´ì‹œ ì¡°ì¸ì€ ì²« ë²ˆì§¸ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë°ëŠ” ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ì§€ë§Œ ìµœì¢… ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë° ê¹Œì§€ëŠ” ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ì§€ ì•ŠëŠ”ë‹¤. ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì€ ë§ˆì§€ë§‰ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë° ê¹Œì§€ëŠ” ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ì§€ë§Œ ì²« ë²ˆì§¸ ë ˆì½”ë“œë¥¼ ì°¾ëŠ”ê²ƒì€ ìƒëŒ€ì ìœ¼ë¡œ ë¹ ë¥´ë‹¤.\nì¦‰, í•´ì‹œ ì¡°ì¸ ì¿¼ë¦¬ëŠ” ìµœê³  ìŠ¤ë£¨í’‹(Best Throughput) ì „ëµì— ì í•©í•˜ê³ , ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì€ ìµœê³  ì‘ë‹µ ì†ë„(Best Response-time) ì „ëµì— ì í•©í•˜ë‹¤.\nì¼ë°˜ì ì¸ ì›¹ ì„œë¹„ìŠ¤ëŠ” ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ ì„œë¹„ìŠ¤ì´ê¸° ë•Œë¬¸ì— ìŠ¤ë£¨í’‹ë„ ì¤‘ìš”í•˜ì§€ë§Œ ì‘ë‹µ ì†ë„ê°€ ë” ì¤‘ìš”í•˜ë‹¤. ë¶„ì„ê³¼ ê°™ì€ ì„œë¹„ìŠ¤ëŠ” ì‚¬ìš©ìì˜ ì‘ë‹µ ì‹œê°„ë³´ë‹¤ëŠ” ì „ì²´ì ìœ¼ë¡œ ì²˜ë¦¬ ì†Œìš”ì‹œê°„ì´ ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì— ì‘ë‹µì†ë„ë³´ë‹¤ëŠ” ì „ì²´ ìŠ¤ë£¨í’‹ì´ ì¤‘ìš”í•˜ë‹¤. MySQL ì„œë²„ëŠ” ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë²”ìš© RDBMSì´ë¯€ë¡œ ì„œë²„ì˜ ì‘ë‹µ ì†ë„ê°€ ë” ì¤‘ìš”í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ MySQL ì„œë²„ëŠ” ì£¼ë¡œ ì¡°ì¸ ì¡°ê±´ì˜ ì»¬ëŸ¼ì´ ì¸ë±ìŠ¤ê°€ ì—†ë‹¤ê±°ë‚˜ ì¡°ì¸ ëŒ€ìƒ í…Œì´ë¸” ì¤‘ ì¼ë¶€ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§¤ìš° ì ì€ ê²½ìš°ì— ëŒ€í•´ì„œë§Œ í•´ì‹œ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ìˆë‹¤.\ní•´ì‹œ ì¡°ì¸ ìµœì í™”ëŠ” ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì˜ ì°¨ì„ ì±… ê°™ì€ ê¸°ëŠ¥ì´ë¯€ë¡œ ì˜µí‹°ë§ˆì´ì € íŒíŠ¸ë¥¼ ì´ìš©í•´ì„œ ê°•ì œë¡œ ì¿¼ë¦¬ ì‹¤í–‰ ê³„íšì„ í•´ì‹œ ì¡°ì¸ìœ¼ë¡œ ìœ ë„í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤.\ní•´ì‹œ ì¡°ì¸ ê¸°ëŠ¥ì´ ì—†ì—ˆì„ë•ŒëŠ” ì¡°ì¸ ì¡°ê±´ì´ ì¸ë±ìŠ¤ë¥¼ ì œëŒ€ë¡œ í™œìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì´ë¼ëŠ” ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í–ˆë‹¤. ë”°ë¼ì„œ ì¸ë±ìŠ¤ê°€ ì˜ ì„¤ê³„ëœ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ ì‹¤í–‰ ê³„íšì€ ê±°ì˜ ë³¼ ìˆ˜ ì—†ì—ˆë‹¤. ë¸”ë¡ ê¸°ë°˜ì˜ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì—ì„œ ë¸”ë¡ì€ join_buffer_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ í¬ê¸°ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì„ ì˜í•˜ëŠ”ë°, ì¡°ì¸ ë²„í¼ë¥¼ ë¬´í•œì • í¬ê²Œ ì„¤ì •í•  ìˆ˜ ì—†ê³ , ì¡°ì¸ ëŒ€ìƒ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ í¬ê¸°ê°€ ì¡°ì¸ ë²„í¼ë³´ë‹¤ í° ê²½ìš° ë“œë¼ì´ë¹™ í…Œì´ë¸”ì„ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µí•´ì„œ ìŠ¤ìº”í•´ì•¼ í•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.\nê·¸ë˜ì„œ MySQL 8.0.18 ~ 8.0.19 ë²„ì „ì—ì„œëŠ” ë™ë“± ì¡°ì¸(Equi-Join)ì„ ìœ„í•´ì„œëŠ” í•´ì‹œ ì¡°ì¸ì´ ì‚¬ìš©ëì§€ë§Œ ì•ˆí‹° ì¡°ì¸ì´ë‚˜ ì„¸ë¯¸ ì¡°ì¸ì„ ìœ„í•´ì„œëŠ” ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì´ ì‚¬ìš©ëë‹¤. MySQL 8.0.20 ë²„ë²ˆë¶€í„°ëŠ” block_nested_loop ê°™ì€ optimizer_switch ë˜ëŠ” BNLê³¼ NO_BNLê³¼ ê°™ì€ íŒíŠ¸ë“¤ë„ ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ê°€ ì•„ë‹Œ í•´ì‹œ ì¡°ì¸ì„ ìœ ë„í•˜ëŠ” ëª©ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.\n1 2 3 4 5 6 EXPLAIN SELECT * FROM employees e IGNORE INDEX(PRIMARY, ix_hiredate) INNER JOIN dept_emp de IGNORE INDEX(ix_empno_fromdate, ix_fromdate) ON de.emp_no=e.emp_no AND de.from_date=e.hire_Date ; id select_type table type Extra 1 SIMPLE de ALL NULL 1 SIMPLE e ALL Using where; Using join buffer (hash join) IGNOREë¡œ ì¸í•´ í†µí•´ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì§€ ëª»í•˜ì—¬ ì˜µí‹°ë§ˆì´ì €ëŠ” ì ì ˆí•œ ì¸ë±ìŠ¤ë¥¼ ì°¾ì„ìˆ˜ ì—†ì–´ í•´ì‹œ ì¡°ì¸ì„ í™œìš©í•˜ê²Œ ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ í•´ì‹œ ì¡°ì¸ì€ ë¹Œë“œ ë‹¨ê³„(Build-phase) ì™€ í”„ë¡œë¸Œ ë‹¨ê³„(Probe-phase)ë¡œ ë‚˜ë‰˜ì–´ ì²˜ë¦¬ëœë‹¤.\në¹Œë“œë‹¨ê³„ ì¡°ì¸ ëŒ€ìƒ í…Œì´ë¸” ì¤‘ì—ì„œ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì ì–´ í•´ì‹œ í…Œì´ë¸”ë¡œ ë§Œë“¤ê¸°ì— ìš©ì´í•œ í…Œì´ë¸”ì„ ê³¨ë¼ ë©”ëª¨ë¦¬ì— í•´ì‹œ í…Œì´ë¸”ì„ ìƒì„±(ë¹Œë“œ)í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. í•´ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ëŠ” ì›ë³¸ í…Œì´ë¸”ì„ ë¹Œë“œ í…Œì´ë¸”ì´ë¼ê³ ë„ í•œë‹¤. í”„ë¡œë¸Œ ë‹¨ê³„ ë‚˜ë¨¸ì§€ í•´ì‹œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ì–´ í•´ì‹œ í…Œì´ë¸”ì˜ ì¼ì¹˜ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤. ì½ëŠ” ë‚˜ë¨¸ì§€ í…Œì´ë¸”ì„ í”„ë¡œë¸Œ í…Œì´ë¸”ì´ë¼ê³ ë„ í•œë‹¤. ìœ„ì˜ ì‹¤í–‰ê³„íšì—ì„œëŠ” ì–´ëŠ í…Œì´ë¸”ì´ ë¹Œë“œ í…Œì´ë¸”ì´ê³  ì–´ëŠ í…Œì´ë¸”ì´ í”„ë¡œë¸Œ í…Œì´ë¸”ì¸ì§€ ì‹ë³„í•˜ê¸° ì–´ë µë‹¤. ì´ëŸ¬í•œ ê²½ìš°ì—ëŠ” EXPLAIN FORMAT=TREE ëª…ë ¹ ë˜ëŠ” EXPLAIN ANALYZE ëª…ë ¹ì„ ì‚¬ìš©í•˜ë©´ ì¡°ê¸ˆ ë” ì‰½ê²Œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 EXPLAIN FORMAT=TREE SELECT * FROM employees e IGNORE INDEX(PRIMARY, ix_hiredate) INNER JOIN dept_epq de IGNORE INDEX(ix_empno_fromdate, ix_fromdate) ON de.emp_no=e.emp_no AND de.from_date=e.hire_date \\G 1 2 3 4 5 -\u0026gt; Inner hash join (e.hire_date = de.from_date), (e.emp_no = de.emp_no) (cost=9942694661.05 rows=331143) -\u0026gt; Table scan on e (cost=0.08 rows=300252) -\u0026gt; Hash -\u0026gt; Table scan on de (cost=33979.30 rows=331143) Tree í¬ë§· ì‹¤í–‰ ê³„íšì—ì„œ ìµœí•˜ë‹¨ ì œì¼ ì•ˆìª½ì˜ dept_emp í…Œì´ë¸”ì´ ë¹Œë“œ í…Œì´ë¸”ë¡œ ì„ ì •ë˜ì—ˆë‹¤. MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” í•´ì‹œ ì¡°ì¸ì„ ìœ„í•´ ë¹Œë“œ í…Œì´ë¸”ì¸ dept_emp í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ì–´ì„œ ë©”ëª¨ë¦¬ì— í•´ì‹œ í…Œì´ë¸”ì„ ìƒì„±í–ˆë‹¤. ê·¸ë¦¬ê³  í”„ë¡œë¸Œ í…Œì´ë¸”ë¡œ ì„ íƒëœ employees í…Œì´ë¸”ì„ ìŠ¤ìº”í•˜ë©´ì„œ ë©”ëª¨ë¦¬ì— ìƒì„±ëœ í•´ì‹œ í…Œì´ë¸”ì—ì„œ ë ˆì½”ë“œë¥¼ ì°¾ì•„ ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜í•œë‹¤.\ní•´ì‹œ í…Œì…ë¥´ì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•  ë•Œ MySQL ì„œë²„ëŠ” join_buffer_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ í¬ê¸°ë¥¼ ì œì–´í•  ìˆ˜ ìˆëŠ” ì¡°ì¸ ë²„í¼ë¥¼ ì‚¬ìš©í•œë‹¤. í•´ì‹œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì•„ ê³µê°„ì´ ë¶€ì¡±í•  ê²½ìš° MySQL ì„œë²„ëŠ” ë¹Œë“œ í…Œì…ë¥´ê³¼ í”„ë¡œë¸Œ í…Œì´ë¸”ì„ ì ë‹¹í•œ í¬ê¸°ì˜ ì²­í¬ë¡œ ë¶„ë¦¬ í›„ ì²­í¬ë³„ë¡œ ë™ì¼ ë°©ì‹ìœ¼ë¡œ í•´ì‹œ ì¡°ì¸ì„ ì²˜ë¦¬í•œë‹¤.\në§Œë“¤ì–´ì§ˆ í•´ì‹œ í…Œì´ë¸”ì´ ì„¤ì •ëœ ë©”ëª¨ë¦¬ í¬ê¸°ë³´ë‹¤ í°ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— í•´ì‹œ ì¡°ì¸ì˜ ì²˜ë¦¬ ë°©ë²•ì´ ë³µì¡í•´ì§„ë‹¤. MySQL ì„œë²„ëŠ” dept_emp í…Œì´ë¸”ì„ ì½ìœ¼ë©° ë©”ëª¨ë¦¬ì˜ í•´ì‹œ í…Œì´ë¸”ì„ ì¤€ë¹„í•˜ë‹¤ê°€ ì§€ì •ëœ ë©”ëª¨ë¦¬ í¬ê¸°ë¥¼ ë„˜ì–´ì„œë©´ dept_emp í…Œì´ë¸”ì˜ ë‚˜ë¨¸ì§€ ë ˆì½”ë“œë¥¼ ë””ìŠ¤í¬ì— ì²­í¬ë¡œ êµ¬ë¶„í•˜ì—¬ ì €ì¥í•˜ê³  employees í…Œì´ë¸”ì˜ emp_no ê°’ì„ ì´ìš©í•´ ë©”ëª¨ë¦¬ì˜ í•´ì‹œ í…Œì´ë¸”ì„ ê²€ìƒ‰í•˜ì—¬ 1ì°¨ ì¡°ì¸ ê²°ê³¼ë¥¼ ìƒì„±í•œë‹¤.\në™ì‹œì— employees í…Œì´ë¸”ì—ì„œ ì½ì€ ë ˆì½”ë“œë¥¼ ë””ìŠ¤í¬ì— ì²­í¬ë¡œ êµ¬ë¶„í•´ ì €ì¥í•œë‹¤. ì´ë•Œ \u0026ldquo;ë¹Œë“œ í…Œì´ë¸” ì²­í¬\u0026quot;ëŠ” dept_emp í…Œì´ë¸”ì˜ ë ˆì½”ë“œë“¤ì„ ì €ì¥í•´ë‘” ê³µê°„ì´ê³ , \u0026ldquo;í”„ë¡œë¸Œ í…Œì´ë¸” ì²­í¬\u0026quot;ëŠ” employees í…Œì´ë¸”ì˜ ë ˆì½”ë“œë“¤ì„ ì €ì¥í•´ë‘” ê³µê°„ì´ë‹¤.\n1ì°¨ ì¡°ì¸ì´ ì™„ë£Œë˜ë©´ MySQL ì„œë²„ëŠ” ë””ìŠ¤í¬ì— ì €ì¥ëœ \u0026ldquo;ë¹Œë“œ í…Œì´ë¸” ì²­í¬\u0026quot;ì—ì„œ ì²« ë²ˆì§¸ ì²­í¬ë¥¼ ì½ì–´ ë‹¤ì‹œ \u0026ldquo;ë©”ëª¨ë¦¬ í•´ì‹œ í…Œì´ë¸”\u0026quot;ì„ êµ¬ì¶•í•œë‹¤. ê·¸ë¦¬ê³  \u0026ldquo;í”„ë¡œë¸Œ í…Œì´ë¸” ì²­í¬\u0026quot;ì—ì„œ ì²« ë²ˆì§¸ ì²­í¬ë¥¼ ì½ìœ¼ë©´ì„œ ìƒˆë¡œ êµ¬ì¶•ëœ \u0026ldquo;ë©”ëª¨ë¦¬ í•´ì‹œ í…Œì´ë¸”\u0026quot;ê³¼ ì¡°ì¸ì„ ìˆ˜í–‰í•´ 2ì°¨ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\nì´í›„ ë””ìŠ¤í¬ì— ì €ì¥ëœ ì²­í¬ ê°œìˆ˜ë§Œí¼ ë°˜ë³µ ì²˜ë¦¬í•´ì„œ ì™„ì„±ëœ ì¡°ì¸ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ê³ , ì²­í¬ ë‹¨ìœ„ë¡œ ì¡°ì¸ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ 2ì°¨ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ \u0026ldquo;ë¹Œë“œ í…Œì´ë¸”\u0026quot;ê³¼ \u0026ldquo;í”„ë¡œë¸Œ í…Œì´ë¸”\u0026quot;ì„ ë™ì¼ ê°œìˆ˜ì˜ ì²­í¬ë¡œ ìª¼ê°œ ë””ìŠ¤í¬ì— ì €ì¥í•œë‹¤.\nMySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ë¹Œë“œ í…Œì´ë¸”ì˜ í¬ê¸°ì— ë”°ë¼ ë©”ëª¨ë¦¬ì—ì„œ ëª¨ë‘ ì²˜ë¦¬ ê°€ëŠ¥í•œ í•´ì‹œ ì¡°ì¸ì˜ ê²½ìš° í´ë˜ì‹ í•´ì‹œ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ê³ , í•´ì‹œ í…Œì´ë¸”ì´ ì¡°ì¸ ë²„í¼ ë©”ëª¨ë¦¬ë³´ë‹¤ í° ê²½ìš° ê·¸ë ˆì´ìŠ¤ í•´ì‹œ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ í•˜ì´ë¸Œë¦¬ë“œí•˜ê²Œ í™œìš©í•˜ë„ë¡ êµ¬í˜„ë˜ì–´ìˆë‹¤.\nì¸ë±ìŠ¤ ì •ë ¬ ì„ í˜¸(prefer_ordering_index) MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ORDER BY, GROUP BY ì²˜ë¦¬ì‹œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš© ê°€ëŠ¥í•œ ê²½ìš° ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œ ì¸ë±ìŠ¤ì˜ ê°€ì¤‘ì¹˜ë¥¼ ë†’ê²Œ ì„¤ì •í•´ ì‹¤í–‰ëœë‹¤.\n1 2 3 4 5 6 EXPLAIN SELECT * FROM employees WHERE hiring_date BETWEEN \u0026#39;1985-01-01\u0026#39; AND \u0026#39;1985-02-01\u0026#39; ORDER BY emp_no ; id table key rows Extra 1 employees PRIMARY 300252 Using where ì„ íƒë  ìˆ˜ ìˆëŠ” ëŒ€í‘œì ì¸ ì‹¤í–‰ê³„íš\nix_hiredate ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ì€ ë‹¤ìŒ emp_noë¡œ ì •ë ¬í•´ì„œ ê²°ê³¼ë¥¼ ë°˜í™˜ employees í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ emp_noì´ë¯€ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì •ìˆœìœ¼ë¡œ ì½ìœ¼ë©° hire_date ì»¬ëŸ¼ì˜ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµ í›„ ê²°ê³¼ë¥¼ ë°˜í™˜ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ hire_date ì»¬ëŸ¼ì˜ ì¡°ê±´ì— ë¶€í•©ë˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì§€ ì•Šë‹¤ë©´ 1ë²ˆìœ¼ë¡œ ì‹¤í–‰ë  ê²ƒ ê°™ì§€ë§Œ, ì‹¤í–‰ ê³„íšì—ì„œëŠ” ì²´ë¯€í•´ì•¼ í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ìƒë‹¹íˆ ë§ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  PRIMARY í‚¤ë¥¼ í’€ ìŠ¤ìº”í•˜ë©´ì„œ hire_date ì»¬ëŸ¼ì„ í•„í„°ë§í•˜ë„ë¡ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê³  ìˆë‹¤. ì´ëŠ” ì •ë ¬ëœ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ ì˜ëª»ëœ ì‹¤í–‰ê³„íšì„ ì„ íƒí–ˆì„ í™•ë¥ ì´ ë†’ë‹¤.\nMySQL 8.0.20 ë²„ì „ê¹Œì§€ëŠ” ì´ëŸ¬í•œ ì˜µí‹°ë§ˆì´ì €ì˜ ì‹¤ìˆ˜ê°€ ìì£¼ ë°œìƒí•˜ë©´ IGNORE INDEX íŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ORDER BYë¥¼ ìœ„í•œ íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ í–ˆìœ¼ë‚˜, MySQL 8.0.21 ë²„ì „ë¶€í„°ëŠ” ì˜µí‹°ë§ˆì´ì €ê°€ ORDER BYë¥¼ ìœ„í•œ ì¸ë±ìŠ¤ì— ë„ˆë¬´ ê°€ì¤‘ì¹˜ë¥¼ ë¶€ì—¬í•˜ì§€ ì•Šë„ë¡ prefer_ordering_index ì˜µí‹°ë§ˆì´ì € ì˜µì…˜ì´ ì¶”ê°€ë˜ì—ˆë‹¤.\nê¸°ë³¸ê°’ì€ ON ì´ì§€ë§Œ ë¹„íš¨ìœ¨ì ì¸ ì„ íƒì„ ìì£¼ í•œë‹¤ë©´ OFFë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-06-06T12:30:10+09:00","image":"https://codemario318.github.io/post/real-mysql/9/3/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/9/3/1/","title":"9.3.1 ì˜µí‹°ë§ˆì´ì €ì™€ íŒíŠ¸ - ê³ ê¸‰ ìµœì í™”(ì˜µí‹°ë§ˆì´ì € ìŠ¤ìœ„ì¹˜ ì˜µì…˜)"},{"content":"GROUP BY ì²˜ë¦¬ GROUP BY ë˜í•œ ORDER BYì™€ ê°™ì´ ì¿¼ë¦¬ê°€ ìŠ¤íŠ¸ë¦¬ë°ëœ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ì—†ê²Œ í•˜ëŠ” ì²˜ë¦¬ ì¤‘ í•˜ë‚˜ë‹¤. GROUP BYì ˆ ì‚¬ìš©ì‹œ ê²°ê³¼ì— ëŒ€í•œ í•„í„°ë§ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆëŠ” HAVINGì ˆì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠë°, GROUP BY ì—ì„œ ì‚¬ìš©ëœ ì¡°ê±´ì€ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•´ì„œ ì²˜ë¦¬ë  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ HAVINGì ˆì„ íŠœë‹í•˜ë ¤ê³  ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë°©ë²•ì„ ê³ ë¯¼í•  í•„ìš”ëŠ” ì—†ë‹¤.\nGROUP BY ì‘ì—…ë„ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê³¼ ê·¸ë ‡ì§€ ëª»í•œ ê²½ìš°ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ë•Œ ì¸ë±ìŠ¤ ìŠ¤ìº”: ì¸ë±ìŠ¤ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ì½ëŠ”ë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”: ì¸ë±ìŠ¤ë¥¼ ê±´ë„ˆë›°ë©´ì„œ ì½ëŠ”ë‹¤. ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ì§€ ì•Šì„ ë•Œ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•œë‹¤. (íƒ€ì´íŠ¸) ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ëŠ” GROUP BY ORDER BYì˜ ê²½ìš°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì¡°ì¸ì˜ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì— ì†í•œ ì»¬ëŸ¼ë§Œì„ ì´ìš©í•´ ê·¸ë£¨í•‘ í•  ë•Œ GROUP BY ì»¬ëŸ¼ìœ¼ë¡œ ì´ë¯¸ ì¸ë±ìŠ¤ê°€ ìˆë‹¤ë©´ ê·¸ ì¸ë±ìŠ¤ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ì½ìœ¼ë©° ê·¸ë£¨í•‘ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¡œ ì¡°ì¸ì„ ì²˜ë¦¬í•œë‹¤.\nGROUP BYê°€ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì²˜ë¦¬ëœë‹¤ê³  í•˜ë”ë¼ë„ ê·¸ë£¹ í•¨ìˆ˜ ë“±ì˜ ê·¸ë£¹ê°’ì„ ì²˜ë¦¬ë¡œ ì¸í•´ ì„ì‹œ í…Œì´ë¸”ì´ í•„ìš”í•  ë•Œë„ ìˆë‹¤. GROUP BYê°€ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ëŠ” ì´ë¯¸ ì •ë ¬ëœ ì¸ë±ìŠ¤ë¥¼ ì½ëŠ” ê²ƒì´ë¯€ë¡œ ì¿¼ë¦¬ ì‹¤í–‰ ì‹œì ì— ì¶”ê°€ì ì¸ ì •ë ¬ ì‘ì—…ì´ë‚˜ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì€ í•„ìš”í•˜ì§€ ì•Šë‹¤. ì´ëŸ¬í•œ ê·¸ë£¨í•‘ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œëŠ” Extra ì»¬ëŸ¼ì— ë³„ë„ë¡œ \u0026ldquo;Using index for group-by\u0026rdquo;, \u0026ldquo;Using temporary, Using filesort\u0026quot;ê°€ í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ëŠ” GROUP BY ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº” ë°©ì‹ì€ ì¸ë±ìŠ¤ì˜ ë ˆì½”ë“œë¥¼ ê±´ë„ˆ ë›°ë©´ì„œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì½ì–´ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ëŠ”ë°, ì˜µí‹°ë§ˆì´ì €ê°€ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì‹¤í–‰ ê³„íšì˜ Extra ì»¬ëŸ¼ì— \u0026ldquo;Using index for group-by\u0026rdquo; ì½”ë©˜íŠ¸ê°€ í‘œì‹œëœë‹¤.\n1 2 3 4 5 6 EXPLAIN SELECT emp_no FROM salaries WHERE from_date = \u0026#39;1985-03-01\u0026#39; GROUP BY emp_no ; id table type key Extra 1 salaries range PRIMARY Using where; Using index for group-by salaries í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ëŠ” (emp_no, from_date)ë¡œ ìƒì„±ë¼ ìˆìœ¼ë¯€ë¡œ ìœ„ì˜ ì¿¼ë¦¬ ë¬¸ì¥ì—ì„œ WHERE ì¡°ê±´ì€ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº” ì ‘ê·¼ ë°©ì‹ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ì—†ëŠ” ì¿¼ë¦¬ì§€ë§Œ, ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì´ìš©í–ˆìœ¼ë©°, GROUP BY ì²˜ë¦¬ê¹Œì§€ ì¸ë±ìŠ¤ë¥´ ì‚¬ìš©í–ˆë‹¤.\n(emp_no, from_date) ì¸ë±ìŠ¤ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ìŠ¤ìº”í•˜ë©´ì„œ emp_noì˜ ì²« ë²ˆì§¸ ìœ ì¼í•œ ê°’(ê·¸ë£¹ í‚¤)ë¥¼ ì°¾ì•„ë‚¸ë‹¤. (emp_on, from_date) ì¸ë±ìŠ¤ì—ì„œ emp_noê°€ \u0026lsquo;10001\u0026rsquo;ì¸ ê²ƒ ì¤‘ì—ì„œ from_date ê°’ì´ \u0026lsquo;1985-03-01\u0026rsquo;ì¸ ë ˆì½”ë“œë§Œ ê°€ì ¸ì˜¨ë‹¤. ì¸ë±ìŠ¤ì—ì„œ emp_noì˜ ê·¸ë‹¤ìŒ ìœ ë‹ˆí¬í•œ(ê·¸ë£¹ í‚¤) ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. 3ë²ˆ ë‹¨ê³„ì—ì„œ ê²°ê³¼ê°€ ë” ì—†ìœ¼ë©´ ì²˜ë¦¬ë¥¼ ì¢…ë£Œí•˜ê³ , ê²°ê³¼ê°€ ìˆë‹¤ë©´ 2ë²ˆ ê³¼ì •ìœ¼ë¡œ ëŒì•„ê°€ì„œ ë°˜ë³µ ìˆ˜í–‰í•œë‹¤. MySQL ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº” ë°©ì‹ì€ ë‹¨ì¼ í…Œì´ë¸”ì— ëŒ€í•´ ìˆ˜í–‰ë˜ëŠ” GROUP BY ì²˜ë¦¬ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í”„ë¦¬í”½ìŠ¤ ì¸ë±ìŠ¤(Prefix index, ì»¬ëŸ¼ì˜ ì•ìª½ ì¼ë¶€ë§Œìœ¼ë¡œ ìƒì„±ëœ ì¸ë±ìŠ¤)ëŠ” ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤í‚¨ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì—ì„œëŠ” ìœ ë‹ˆí¬í•œ ê°’ì˜ ìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ì„±ëŠ¥ì´ í–¥ìƒë˜ëŠ” ë°˜ë©´ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì—ì„œëŠ” ì¸ë±ìŠ¤ì˜ ìœ ë‹ˆí¬í•œ ê°’ì˜ ìˆ˜ê°€ ì ì„ìˆ˜ë¡ ì„±ëŠ¥ì´ í–¥ìƒëœë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì€ ë¶„í¬ë„ê°€ ì¢‹ì§€ ì•Šì€ ì¸ë±ìŠ¤ì¼ìˆ˜ë¡ ë” ë¹ ë¥¸ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚¸ë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ì—ì„œëŠ” ë³„ë„ì˜ ì„ì‹œ í…Œì´ë¸”ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì´ ì‚¬ìš©ë  ìˆ˜ ìˆì„ì§€ ì—†ì„ì§€ íŒë‹¨í•˜ëŠ” ê²ƒì€ WHEREì ˆì˜ ì¡°ê±´ì´ë‚˜ ORDER BY ì ˆì´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì„ì§€ ì—†ì„ì§€ íŒë‹¨í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ë” ì–´ë µë‹¤.\nMIN, MAX ì˜ì™¸ì˜ ì§‘í•© í•¨ìˆ˜ê°€ ì‚¬ìš©ëœ ê²½ìš° ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº” ì‚¬ìš© ë¶ˆê°€ GROUP BYì— ì‚¬ìš©ëœ ì»¬ëŸ¼ì´ ì¸ë±ìŠ¤ êµ¬ì„± ì»¬ëŸ¼ì˜ ì™¼ìª½ë¶€í„° ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš° ì‚¬ìš© ë¶ˆê°€ SELECT ì ˆì˜ ì»¬ëŸ¼ì´ GROUP BYì™€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš° ì‚¬ìš© ë¶ˆê°€ MySQL 8 ë²„ì „ë¶€í„°ëŠ” ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ìµœì í™”ë„ ë„ì…ëë‹¤. ì´ì— ë”°ë¼ ì˜µí‹°ë§ˆì´ì €ê°€ ì¿¼ë¦¬ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•˜ëŠ” ë¶€ë¶„ê¹Œì§€ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº” ë°©ì‹ìœ¼ë¡œ ìµœì í™”ê°€ ê°€ëŠ¥í•´ì¡Œë‹¤. ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ë˜í•œ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì¡°ê±´ì´ ëˆ„ë½ëœ ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì»¬ëŸ¼ì´ ìœ ë‹ˆí¬í•œ ê°’ì„ ë§ì´ ê°€ì§ˆìˆ˜ë¡ ì¿¼ë¦¬ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë–¨ì–´ì§€ê²Œ ë˜ì–´ ì„ í–‰ ì»¬ëŸ¼ì˜ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ê°€ ë§ìœ¼ë©´ ì¸ë±ìŠ¤ ìŠ¤í‚µ ìµœì í™”ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ëœë‹¤.\nì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” GROUP BY 1 2 3 4 5 6 7 EXPLAIN SELECT e.last_name, AVG(s.salary) FROM employees e, salaries s WHERE s.emp_no = e.emp_no GROUP BY e.last_name ; id table type key rows Extra 1 e ALL NULL 300584 Using temporary 1 s ref PRIMARY 10 NULL ìœ„ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œëŠ” Extra ì»¬ëŸ¼ì— \u0026ldquo;Using temporary\u0026rdquo; ë©”ì‹œì§€ê°€ í‘œì‹œë˜ì—ˆëŠ”ë°, ì´ëŠ” employeesë¥¼ í’€ ìŠ¤ìº”í•˜ê¸° ë•Œë¬¸ì´ ì•„ë‹ˆë¼ ì¸ë±ìŠ¤ë¥¼ ì „í˜€ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” GROUP BYì´ê¸° ë•Œë¬¸ì´ë‹¤.\nExtra ì»¬ëŸ¼ì— \u0026ldquo;Using filesort\u0026quot;ê°€ í‘œì‹œë˜ì§€ ì•Šì€ ì´ìœ ëŠ” ê¸°ì¡´ì—ëŠ” GROUP BYê°€ ì‚¬ìš©ëœ ì¿¼ë¦¬ëŠ” ê·¸ë£¨í•‘ ë˜ëŠ” ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ë¬µì‹œì ì¸ ì •ë ¬ê¹Œì§€ ì‹¤í–‰ë˜ì—ˆìœ¼ë‚˜ MySQL 8 ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ ë˜ë©° ë¬µì‹œì ì¸ ì •ë ¬ì„ ì²˜ë¦¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.\nMySQL 8ì—ì„œëŠ” GROUP BYê°€ í•„ìš”í•œ ê²½ìš° ë‚´ë¶€ì ìœ¼ë¡œ GROUP BY ì ˆì˜ ì»¬ëŸ¼ë“¤ë¡œ êµ¬ì„±ëœ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ë¥¼ ê°€ì§„ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ì–´ ì¤‘ë³µ ì œê±°ì™€ ì§‘í•© í•¨ìˆ˜ ì—°ì‚°ì„ ìˆ˜í–‰í•œë‹¤.\n1 2 3 4 5 CREATE TEMPORARY TABLE... ( last_name VARCHAR(16), salary INT, UNIQUE INDEX ux_lastname(last_name) ); ê·¸ë¦¬ê³  ì¡°ì¸ì˜ ê²°ê³¼ë¥¼ í•œ ê±´ì”© ê°€ì ¸ì™€ ì„ì‹œ í…Œì´ë¸”ì—ì„œ ì¤‘ë³µ ì²´í¬ë¥¼ í•˜ë©´ì„œ INSERT, UPDATEë¥¼ ì‹¤í–‰í•˜ì—¬, ë³„ë„ì˜ ì •ë ¬ ì‘ì—… ì—†ì´ GROUP BYê°€ ì²˜ë¦¬ëœë‹¤.\ní•˜ì§€ë§Œ MySQL 8.0ì—ì„œë„ ORDER BYê°€ ê°™ì´ ì‚¬ìš©ë˜ë©´ ëª…ì‹œì ìœ¼ë¡œ ì •ë ¬ ì‘ì—…ì„ ì‹¤í–‰í•œë‹¤.\nDISTINCT ì²˜ë¦¬ íŠ¹ì • ì»¬ëŸ¼ì˜ ìœ ë‹ˆí¬í•œ ê°’ë§Œ ì¡°íšŒí•˜ë ¤ë©´ SELECT ì¿¼ë¦¬ì— DISTINTë¥¼ ì‚¬ìš©í•œë‹¤. DISTINT ê°™ì€ ê²½ìš° ì§‘í•© í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” ê²½ìš° í‚¤ì›Œë“œê°€ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë²”ìœ„ê°€ ë‹¤ë¥´ë‹¤. ë˜í•œ ì§‘í•© í•¨ìˆ˜ì™€ ê°™ì´ ì‚¬ìš©ë  ë•Œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•  ë•ŒëŠ” í•­ìƒ ì„ì‹œ í…Œì´ë¸”ì´ í•„ìš”í•˜ì§€ë§Œ Extra ì»¬ëŸ¼ì— \u0026ldquo;Using temporary\u0026rdquo; ë©”ì‹œì§€ê°€ ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤.\nSELECT DISTINCT ... ë‹¨ìˆœíˆ ì¡°íšŒë˜ëŠ” ë ˆì½”ë“œ ì¤‘ì—ì„œ ìœ ë‹ˆí¬í•œ ë ˆì½”ë“œë§Œ ê°€ì ¸ì˜¤ê³ ì í•˜ë©´ SELECT DISTINCT í˜•íƒœì˜ ì¿¼ë¦¬ ë¬¸ì¥ì„ ì‚¬ìš©í•œë‹¤. ì´ ê²½ìš°ì—ëŠ” GROUP BYì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©° íŠ¹íˆ MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” GROUP BYë¥¼ ìˆ˜í–‰í•˜ëŠ” ì¿¼ë¦¬ì— ORDER BYì ˆì´ ì—†ìœ¼ë©´ ì •ë ¬ì„ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì•„ë˜ ì¿¼ë¦¬ëŠ” ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\n1 2 3 4 5 6 SELECT DISTINCT emp_no FROM salaries; SELECT emp_no FROM salaries GROUP BY emp_no; DISTINTëŠ” SELECTí•˜ëŠ” ë ˆì½”ë“œ(íŠœí”Œ)ì„ ìœ ë‹ˆí¬í•˜ê²Œ ì¡°íšŒí•˜ëŠ” ê²ƒì´ì§€, íŠ¹ì • ì»¬ëŸ¼ë§Œ ìœ ë‹ˆí¬í•˜ê²Œ ì¡°íšŒí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. 1 SELECT DISTINCT first_name, last_name FROM employees; DISTINTëŠ” í•¨ìˆ˜ì²˜ëŸ¼ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. 1 SELECT DISTINCT(first_name), last_name FROM employees; ì‹¤ì œ ì²˜ë¦¬ì‹œ ì˜ë¯¸ ì—†ëŠ” ê´„í˜¸ë¡œ íŒë‹¨í•˜ì—¬ ì œê±°ëœë‹¤. SELECT ì ˆì— ì‚¬ìš©ëœ DISTINCT í‚¤ì›Œë“œëŠ” ì¡°íšŒë˜ëŠ” ëª¨ë“  ì»¬ëŸ¼ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ë§Œ, ì§‘í•© í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©ëœ ê²½ìš° ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤.\nì§‘í•© í•¨ìˆ˜ì™€ í•¨ê»˜ ì‚¬ìš©ëœ DISTINCT COUNT, MIN, MAX ê°™ì€ ì§‘í•© í•¨ìˆ˜ ë‚´ì—ì„œ DISTINCT í‚¤ì›Œë“œê°€ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ”ë°, ì´ ê²½ìš°ì—ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ë¥¸ í˜•íƒœë¡œ í•´ì„ëœë‹¤. ì§‘í•© í•¨ìˆ˜ê°€ ì—†ëŠ” ì¡°íšŒ ì¿¼ë¦¬ì—ì„œëŠ” ì¡°íšŒí•˜ëŠ” ëª¨ë“  ì»¬ëŸ¼ì˜ ì¡°í•©ì´ ìœ ë‹ˆí¬í•œ ê²ƒë“¤ë§Œ ê°€ì ¸ì˜¤ì§€ë§Œ, ì§‘í•© í•¨ìˆ˜ ë‚´ì—ì„œ ì‚¬ìš©ë  ê²½ìš° ì§‘í•© í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ëœ ì»¬ëŸ¼ ê°’ì´ ìœ ë‹ˆí¬í•œ ê²ƒë“¤ì„ ê°€ì ¸ì˜¨ë‹¤.\n1 2 3 4 5 6 7 EXPLAIN SELECT COUNT(DISTINCT s.salary) FROM employees e, salaries s WHERE e.emp_no = s.emp_no AND e.emp_no BETWEEN 100001 AND 100100 ; id table type key rows Extra 1 e range PRIMARY 100 Using where; Using index 1 s ref PRIMARY 10 NULL ìœ„ ì¿¼ë¦¬ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ COUNT(DISTINCT s.salary)ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì§€ë§Œ, ì‹¤í–‰ ê³„íšì—ì„œ \u0026ldquo;Using temporary\u0026quot;ë¥¼ í‘œì‹œí•˜ì§€ ì•ŠëŠ”ë‹¤.\nemployees í…Œì´ë¸”ê³¼ salaries í…Œì´ë¸”ì„ ì¡°ì¸í•œ ê²°ê³¼ì—ì„œ salary ì»¬ëŸ¼ì˜ ê°’ë§Œ ì €ì¥í•˜ê¸° ìœ„í•œ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“œë  ì‚¬ìš©í•œë‹¤. ì´ë•Œ ì„ì‹œ í…Œì´ë¸”ì˜ salaryì»¬ëŸ¼ì—ëŠ” ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì•„ì§„ë‹¤ë©´ ìƒë‹¹íˆ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 SELECT COUNT(DISTINCT emp_no) FROM employees; SELECT COUNT(DISTINCT emp_no) FROM dept_emp GROUP BY dept_no ; id table type key rows Extra 1 dept_emp index PRIMARY 331143 Using index ì¸ë±ìŠ¤ëœ ì»¬ëŸ¼ì— ëŒ€í•´ DISTINCT ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•  ë•ŒëŠ” ì¸ë±ìŠ¤ë¥¼ í’€ ìŠ¤ìº”í•˜ê±°ë‚˜ ë ˆì¸ì§€ ìŠ¤ìº”í•˜ë©´ì„œ ì„ì‹œ í…Œì´ë¸” ì—†ì´ ìµœì í™”ëœ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\në‚´ë¶€ ì„ì‹œ í…Œì´ë¸” í™œìš© MySQL ì—”ì§„ì´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°›ì•„ì˜¨ ë ˆì½”ë“œë¥¼ ì •ë ¬í•˜ê±°ë‚˜ ê·¸ë£¨í•‘í•  ë•ŒëŠ” ë‚´ë¶€ì ì¸ ì„ì‹œ í…Œì´ë¸”(Internal temporary table)ì„ ì‚¬ìš©í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ MySQL ì—”ì§„ì´ ì‚¬ìš©í•˜ëŠ” ì„ì‹œ í…Œì´ë¸”ì€ ì²˜ìŒì—ëŠ” ë©”ëª¨ë¦¬ì— ìƒì„±ëë‹¤ê°€ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ ì»¤ì§€ë©´ ë””ìŠ¤í¬ë¡œ ì˜®ê²¨ì§„ë‹¤. ë¬¼ë¡  íŠ¹ì • ì˜ˆì™¸ ì¼€ì´ìŠ¤ì—ëŠ” ë©”ëª¨ë¦¬ë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ë°”ë¡œ ë””ìŠ¤í¬ì— ì„ì‹œ í…Œì´ë¸”ì´ ë§Œë“¤ì–´ì§€ê¸°ë„ í•œë‹¤.\nMySQL ì—”ì§„ì´ ë‚´ë¶€ì ì¸ ê°€ê³µì„ ìœ„í•´ ìƒì„±í•˜ëŠ” ì„ì‹œ í…Œì´ë¸”ì€ ë‹¤ë¥¸ ì„¸ì…˜ì´ë‚˜ ë‹¤ë¥¸ ì¿¼ë¦¬ì—ì„œëŠ” ë³¼ ìˆ˜ ì—†ìœ¼ë©° ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì‚¬ìš©ìê°€ ìƒì„±í•œ ì„ì‹œ í…Œì´ë¸”ê³¼ëŠ” ë‹¬ë¦¬ ë‚´ë¶€ì ì¸ ì„ì‹œ í…Œì´ë¸”ì€ ì¿¼ë¦¬ì˜ ì²˜ë¦¬ê°€ ì™„ë£Œë˜ë©´ ìë™ìœ¼ë¡œ ì‚­ì œëœë‹¤.\në©”ëª¨ë¦¬ ì„ì‹œ í…Œì´ë¸”ê³¼ ë””ìŠ¤í¬ ì„ì‹œ í…Œì´ë¸” MySQL 8.0 ì´ì „ ë²„ì „ê¹Œì§€ëŠ” ì›ë³¸ í…Œì´ë¸”ì˜ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ê³¼ ê´€ê³„ì—†ì´ ì„ì‹œ í…Œì´ë¸”ì´ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ë©°, ë””ìŠ¤í¬ì— ì €ì¥ë  ë•ŒëŠ” MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì´ìš©í–ˆë‹¤.\nMEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ VARBINARY, VARCHAR ê°™ì€ ê°€ë³€ ê¸¸ì´ íƒ€ì¼ì„ ì§€ì›í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ì„ì‹œ í…Œì´ë¸”ì´ ë©”ëª¨ë¦¬ì— ë§Œë“¤ì–´ì§€ê²Œ ë˜ë©´ ê°€ë³€ ê¸¸ì´ íƒ€ì…ì˜ ê²½ìš° ìµœëŒ€ ê¸¸ì´ë§Œí¼ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ì—¬ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ì‹¬í•´ì§€ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤. MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ ëª»í•œë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¡œ ì¸í•´ MySQL 8.0 ë²„ì „ ë¶€í„°ëŠ” TempTable ì´ë¼ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ê³ , ë””ìŠ¤í¬ì— ì €ì¥ë˜ëŠ” ì„ì‹œ í…Œì´ë¸”ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.\ninternal_tmp_mem_storage_engine: ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ë©”ëª¨ë¦¬ìš© ì„ì‹œ í…Œì´ë¸”ì„ MEMORYì™€ TempTable ì¤‘ì—ì„œ ì„ íƒí•  ìˆ˜ ìˆìœ¼ë©° ê¸°ë³¸ê°’ì€ TempTableì´ë‹¤. temptable_max_ram: TempTableì´ ìµœëŒ€í•œ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ ê³µê°„ì˜ í¬ê¸°ë¥¼ ì œì–´í•  ìˆ˜ ìˆìœ¼ë©° ê¸°ë³¸ê°’ì€ 1GBì´ë‹¤. temptable_usemmap: ì„ì‹œ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ 1GBë³´ë‹¤ ì»¤ì§€ëŠ” ê²½ìš° MySQL ì„œë²„ëŠ” ë©”ëª¨ë¦¬ì˜ ì„ì‹œ í…Œì´ë¸”ì„ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ëŠ”ë°, 2ê°€ì§€ ë°©ë²• ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë©° ê¸°ë³¸ê°’ì€ ONì´ë©° OFFì‹œ InnoDB í…Œì´ë¸”ë¡œ ê¸°ë¡í•œë‹¤. MMAP íŒŒì¼ë¡œ ë””ìŠ¤í¬ì— ê¸°ë¡: InnoDB í…Œì´ë¸”ë¡œ ì „í™˜í•˜ëŠ” ê²ƒ ë³´ë‹¤ ì˜¤ë²„í—¤ë“œê°€ ì ë‹¤. InnoDB í…Œì´ë¸”ë¡œ ê¸°ë¡ internal_tmp_disk_storage_engine: ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì´ ë©”ëª¨ë¦¬ì— ìƒì„±ë˜ì§€ ì•Šê³  ì²˜ìŒë¶€í„° ë””ìŠ¤í¬ í…Œì´ë¸”ë¡œ ìƒì„±ë˜ëŠ” ê²½ìš° í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ë”°ë¼ ìƒì„±ë˜ë©° ê¸°ë³¸ê°’ì€ InnoDBì´ë‹¤. ì„ì‹œ í…Œì´ë¸”ì´ í•„ìš”í•œ ì¿¼ë¦¬ ë‹¤ìŒê³¼ ê°™ì€ íŒ¨í„´ì˜ ì¿¼ë¦¬ëŠ” MySQLì—”ì§„ì—ì„œ ë³„ë„ì˜ ë°ì´í„° ê°€ê³µ ì‘ì—…ì„ í•„ìš”ë¡œ í•˜ë¯€ë¡œ ëŒ€í‘œì ìœ¼ë¡œ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ì¼€ì´ìŠ¤ë‹¤.\nORDER BYì™€ GROUP BYì— ëª…ì‹œëœ ì»¬ëŸ¼ì´ ë‹¤ë¥¸ ì¿¼ë¦¬ ORDER BY, GROUP BYì— ë©´ì‹œëœ ì»¬ëŸ¼ì´ ì¡°ì¸ì˜ ìˆœì„œìƒ ì²« ë²ˆì§¸ í…Œì´ë¸”ì´ ì•„ë‹Œ ì¿¼ë¦¬ DISTINCTì™€ ORDER BYê°€ ë™ì‹œì— ì¿¼ë¦¬ì— ì¡´ì¬í•˜ëŠ” ê²½ìš° ë˜ëŠ” DISTINCTê°€ ì¸ë±ìŠ¤ë¡œ ì²˜ë¦¬ë˜ì§€ ëª»í•˜ëŠ” ì¿¼ë¦¬ UNIONì´ë‚˜ UNION DISTINCTê°€ ì‚¬ìš©ëœ ì¿¼ë¦¬(select_type ì»¬ëŸ¼ì´ UNION RESULTì¸ ê²½ìš°) ì¿¼ë¦¬ ì‹¤í–‰ ê³„íšì—ì„œ select_typeì´ DERIVEDì¸ ì¿¼ë¦¬ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš© ì—¬ë¶€ëŠ” Extra ì»¬ëŸ¼ì—ì„œ \u0026ldquo;Using temporary\u0026quot;ë¼ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸í•œë‹¤. í•˜ì§€ë§Œ ë©”ì‹œì§€ê°€ í‘œì‹œë˜ì§€ ì•ŠëŠ” ê²½ìš°ì—ë„ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ë§ˆì§€ë§‰ 3ê°œ íŒ¨í„´ì´ ê·¸ëŸ¬í•œ ê²½ìš°ë‹¤.\nì²« ë²ˆì§¸ë¶€í„° ë„¤ ë²ˆì§¸ê¹Œì§€ì˜ ì¿¼ë¦¬ íŒ¨í„´ì€ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ë¥¼ ê°€ì§€ëŠ” ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì´ ë§Œë“¤ì–´ì§€ê³ , ë§ˆì§€ë§‰ ì¿¼ë¦¬ íŒ¨í„´ì€ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì´ ìƒì„±ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ìˆëŠ” ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì€ ê·¸ë ‡ì§€ ì•Šì€ ì¿¼ë¦¬ë³´ë‹¤ ì²˜ë¦¬ ì„±ëŠ¥ì´ ìƒë‹¹íˆ ëŠë¦¬ë‹¤.\nì„ì‹œ í…Œì´ë¸”ì´ ë””ìŠ¤í¬ì— ìƒì„±ë˜ëŠ” ê²½ìš° ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì€ ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë©”ëª¨ë¦¬ìƒì— ë§Œë“¤ì–´ì§€ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ ë©”ëª¨ë¦¬ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë˜ì–´ ë””ìŠ¤í¬ ê¸°ë°˜ì˜ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•œë‹¤.\nUNIONì´ë‚˜ UNION ALLì—ì„œ SELECTë˜ëŠ” ì»¬ëŸ¼ ì¤‘ ê¸¸ì´ê°€ 512ë°”ì´íŠ¸ ì´ìƒì¸ í¬ê¸°ì˜ ì»¬ëŸ¼ì´ ìˆëŠ” ê²½ìš° GROUP BYë‚˜ DISTINCT ì»¬ëŸ¼ì—ì„œ 512 ë°”ì´íŠ¸ ì´ìƒì¸ ì»¬ëŸ¼ì´ ìˆëŠ” ê²½ìš° ë©”ëª¨ë¦¬ ì„ì‹œ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ í¬ê¸°ë³´ë‹¤ í° ê²½ìš°(tmp_table_size, max_heap_table_size, temptable_max_ram) ì„ì‹œ í…Œì´ë¸” ê´€ë ¨ ìƒíƒœ ë³€ìˆ˜ ì‹¤í–‰ ê³„íšìƒì—ì„œ \u0026ldquo;Using temporary\u0026quot;ê°€ í‘œì‹œë˜ë©´ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í–‡ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆì§€ë§Œ ì„ì‹œ í…Œì´ë¸”ì´ ë©”ëª¨ë¦¬ì—ì„œ ì²˜ë¦¬ëëŠ”ì§€ ë””ìŠ¤í¬ì—ì„œ ì²˜ë¦¬ëëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ìœ¼ë©°, ëª‡ê°œì˜ ì„ì‹œ í…Œì´ë¸”ì´ ì‚¬ìš©ëëŠ”ì§€ë„ ì•Œ ìˆ˜ ì—†ë‹¤.\nì„ì‹œ í…Œì´ë¸”ì˜ ìƒì„± ë°©ì‹ì„ í™•ì¸í•˜ë ¤ë©´ MySQL ì„œë²„ì˜ ìƒíƒœ ë³€ìˆ˜ë¥¼ í™•ì¸í•´ë³´ë©´ ëœë‹¤.\n1 2 3 4 5 6 7 FLUSH STATUS; SELECT first_name, last_name FROM employees GROUP BY first_name, last_name; SHOW SESSION STATUS LIKE \u0026#39;Created_tmp%\u0026#39;; Created_tmp_tables: ì¿¼ë¦¬ì˜ ì²˜ë¦¬ë¥¼ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì˜ ê°œìˆ˜ë¥¼ ëˆ„ì í•˜ëŠ” ìƒíƒœê°’ì´ë‹¤. ë‚´ë¶€ ì„ì‹œ í…Œì…ë¥´ì´ ë©”ëª¨ë¦¬ì— ë§Œë“¤ì–´ ì¡ŒëŠ”ì§€ë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šê³  ëª¨ë‘ ëˆ„ì í•œë‹¤. Created_tmp_disk_tables: ë””ìŠ¤í¬ì— ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸”ì´ ë§Œë“¤ì–´ì§„ ê°œìˆ˜ë§Œ ëˆ„ì í•´ì„œ ê°€ì§€ê³  ìˆëŠ” ìƒíƒœê°’ì´ë‹¤. ","date":"2023-05-23T15:30:10+09:00","image":"https://codemario318.github.io/post/real-mysql/9/2/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/9/2/2/","title":"9.2 ê¸°ë³¸ ë°ì´í„° ì²˜ë¦¬(2)"},{"content":"ë ˆì½”ë“œ 1~2ê±´ì„ ê°€ì ¸ì˜¤ëŠ” ì¿¼ë¦¬ë¥¼ ì œì™¸í•˜ë©´ ëŒ€ë¶€ë¶„ì˜ SELECTì¿¼ë¦¬ì—ì„œ ì •ë ¬ì€ í•„ìˆ˜ì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. ì •ë ¬ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì€ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ë•Œ Filesortë¼ëŠ” ë³„ë„ì˜ ì²˜ë¦¬ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nì¥ì  ë‹¨ì  ì¸ë±ìŠ¤ ì´ìš© INSERT, UPDATE, DELETE ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ë•Œ ì´ë¯¸ ì¸ë±ìŠ¤ê°€ ì •ë ¬ ë¼ ìˆì–´ì„œ ìˆœì„œëŒ€ë¡œ ì½ê¸°ë§Œ í•˜ë©´ ë˜ë¯€ë¡œ ë§¤ìš° ë¹ ë¥´ë‹¤. INSERT, UPDATE, DELETE ì‘ì—… ì‹œ ë¶€ê°€ì ì¸ ì¸ë±ìŠ¤ ì¶”ê°€/ì‚­ì œ ì‘ì—…ìœ¼ë¡œ ì¸í•´ ë””ìŠ¤í¬ ê³µê°„ì´ ë” ë§ì´ í•„ìš”í•˜ë‹¤. ì¸ë±ìŠ¤ì˜ ê°œìˆ˜ê°€ ëŠ˜ì–´ë‚ ìˆ˜ë¡ InnoDB ë²„í¼í’€ì„ ìœ„í•œ ë©”ëª¨ë¦¬ê°€ ë§ì´ í•„ìš”í•˜ë‹¤. Filesort ì´ìš© ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ë˜ë¯€ë¡œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ë•Œì˜ ë‹¨ì ì´ ì¥ì ìœ¼ë¡œ ë°”ë€ë‹¤. ì •ë ¬í•´ì•¼ í•  ë ˆì½”ë“œê°€ ë§ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ì—ì„œ Filesortê°€ ì²˜ë¦¬ë˜ë¯€ë¡œ ì¶©ë¶„íˆ ë¹ ë¥´ë‹¤. ì •ë ¬ ì‘ì—…ì´ ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ ì²˜ë¦¬ë˜ë¯€ë¡œ ë ˆì½”ë“œ ëŒ€ìƒ ê±´ìˆ˜ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ì¿¼ë¦¬ì˜ ì‘ë‹µ ì†ë„ê°€ ëŠë¦¬ë‹¤. ë ˆì½”ë“œë¥¼ ì •ë ¬í•˜ê¸° ìœ„í•´ í•­ìƒ Filesort ì •ë ¬ ì‘ì—…ì„ ê±°ì³ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‚˜, ëª¨ë“  ì •ë ¬ì„ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ë„ë¡ íŠœë‹í•˜ëŠ” ê²ƒì€ ê±°ì˜ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\nì •ë ¬ ê¸°ì¤€ì´ ë„ˆë¬´ ë§ì•„ ìš”ê±´ë³„ë¡œ ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš° GROUP BYì˜ ê²°ê³¼ ë˜ëŠ” DISTINTê°™ì€ ì²˜ë¦¬ì˜ ê²¨ë¡œê°€ë¥¼ ì •ë ¬í•´ì•¼ í•˜ëŠ” ê²½ìš° UNIONì˜ ê²°ê³¼ì™€ ê°™ì´ ì„ì‹œ í…Œì´ë¸”ì˜ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ì •ë ¬í•´ì•¼ í•˜ëŠ” ê²½ìš° ëœë¤í•˜ê²Œ ê²°ê³¼ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ê²½ìš° MySQL ì„œë²„ì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ì§€ ì•Šê³  ë³„ë„ì˜ ì •ë ¬ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í–ˆëŠ”ì§€ëŠ” ì‹¤í–‰ ê³„íšì˜ Extraì»¬ëŸ¼ì— Using filesort ë©”ì‹œì§€ê°€ í‘œì‹œë˜ëŠ”ì§€ ì—¬ë¶€ë¡œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.\nMySQLì˜ ì •ë ¬ íŠ¹ì„±ì„ ì´í•´í•˜ë©´ ì¿¼ë¦¬ë¥¼ íŠœë‹í•  ë•Œ ì–´ë– í—¥ í•˜ë©´ ì¡°ê¸ˆì´ë¼ë„ ë” ë¹ ë¥¸ ì¿¼ë¦¬ê°€ ë ì§€ ì‰½ê²Œ íŒë‹¨í•  ìˆ˜ ìˆì„ê²ƒì´ë‹¤.\nì†ŒíŠ¸ ë²„í¼ MySQLì€ ì •ë ¬ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë³„ë„ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ í• ë‹¹ë°›ì•„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì†ŒíŠ¸ ë²„í¼ë¼ê³  í•œë‹¤.\nì†ŒíŠ¸ ë²„í¼ëŠ” ì •ë ¬ì´ í•„ìš”í•œ ê²½ìš°ì—ë§Œ í• ë‹¹ë˜ë©°, ë²„í¼ì˜ í¬ê¸°ëŠ” ì •ë ¬í•´ì•¼ í•  ë ˆì½”ë“œì˜ í¬ê¸°ì— ë”°ë¼ ê°€ë³€ì ìœ¼ë¡œ ì¦ê°€í•˜ì§€ë§Œ ìµœëŒ€ ì‚¬ìš© ê°€ëŠ¥í•œ ì†ŒíŠ¸ ë²„í¼ì˜ ê³µê°„ì€ sort_buffer_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì†ŒíŠ¸ ë²„í¼ë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ ê³µê°„ì€ ì¿¼ë¦¬ì˜ ì‹¤í–‰ì´ ì™„ë£Œë˜ë©´ ì¦‰ì‹œ ì‹œìŠ¤í…œìœ¼ë¡œ ë°˜ë‚©ëœë‹¤.\nì •ë ¬í•´ì•¼í•  ë ˆì½”ë“œê°€ ì ì–´ ë©”ëª¨ë¦¬ì— í• ë‹¹ëœ ì†ŒíŠ¸ ë²„í¼ë§Œìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ìˆë‹¤ë©´ ë¹ ë¥´ê²Œ ì •ë ¬ì´ ì²˜ë¦¬ë˜ì§€ë§Œ, ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì†ŒíŠ¸ ë²„í¼ë¡œ í• ë‹¹ëœ ê³µê°„ë³´ë‹¤ í¬ë©´ ì •ë ¬í•´ì•¼ í•  ë ˆì½”ë“œë¥¼ ì—¬ëŸ¬ ì¡°ê°ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì²˜ë¦¬í•˜ê²Œëœë‹¤.\nì´ ê³¼ì •ì—ì„œ ë©”ëª¨ë¦¬ì˜ ì†ŒíŠ¸ ë²„í¼ì—ì„œ ì •ë ¬ì„ ìˆ˜í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ ì„ì‹œë¡œ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí•œë‹¤. ì´ì²˜ëŸ¼ ê° ë²„í¼ í¬ê¸°ë§Œí¼ ì •ë ¬ëœ ë ˆì½”ë“œë¥¼ ë‹¤ì‹œ ë³‘í•©í•˜ë©´ì„œ ì •ë ¬ì„ ìˆ˜í–‰í•´ì•¼ í•˜ë©°(ë©€í‹° ë¨¸ì§€, Multi-merge) ìˆ˜í–‰ëœ ë©¸í‹° ë¨¸ì§€ íšŸìˆ˜ëŠ” Sort_merge_passesë¼ëŠ” ìƒíƒœ ë³€ìˆ˜ì— ëˆ„ì í•´ì„œ ì§‘ê³„ëœë‹¤.\nì´ëŸ¬í•œ ì‘ì—…ë“¤ì´ ëª¨ë‘ ë””ìŠ¤í¬ì˜ ì“°ê¸°ì™€ ì½ê¸°ë¥¼ ìœ ë°œí•˜ê²Œ ë˜ì–´ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ë°˜ë³µ ì‘ì—… íšŸìˆ˜ë„ ë§ì•„ì§„ë‹¤.\nì†ŒíŠ¸ ë²„í¼ë¥¼ í¬ê²Œ ì„¤ì •í•˜ë©´ ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ ë” ë¹¨ë¼ì§ˆ ê²ƒìœ¼ë¡œ ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œ ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼ë¡œëŠ” í° ì°¨ì´ë¥¼ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë¦¬ê³  ë¦¬ëˆ…ìŠ¤ ê³„ì—´ì˜ ìš´ì˜ì²´ì œì—ì„œëŠ” ë„ˆë¬´ í° ì†ŒíŠ¸ ë²„í¼ í¬ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, í° ë©”ëª¨ë¦¬ ê³µê°„ í• ë‹¹ ë•Œë¬¸ì— ì„±ëŠ¥ì´ í›¨ì”¬ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\në˜í•œ ì†ŒíŠ¸ ë²„í¼ëŠ” ì„¸ì…˜ ë©”ëª¨ë¦¬ ì˜ì—­ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ê³µìœ í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì»¤ë„¥ì…˜ì´ ë§ì„ìˆ˜ë¡, ì •ë ¬ ì‘ì—…ì´ ë§ì„ìˆ˜ë¡ ì†ŒíŠ¸ ë²„í¼ë¡œ ì†Œë¹„ë˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì´ ì»¤ì ¸ ìš´ì˜ì²´ì œì—ì„œ ë©”ëª¨ë¦¬ ë¶€ì¡± í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì†ŒíŠ¸ ë²„í¼ë¥¼ ì„¤ì •í•´ì„œ ë¹ ë¥¸ ì„±ëŠ¥ì„ ì–»ì„ ìˆ˜ëŠ” ì—†ì§€ë§Œ ë””ìŠ¤í¬ì˜ ì½ê¸°ì™€ ì“°ê¸° ì‚¬ìš©ëŸ‰ì€ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ MySQL ì„œë²„ì˜ ë°ì´í„°ê°€ ë§ê±°ë‚˜ ë””ìŠ¤í¬ I/O ì„±ëŠ¥ì´ ë‚®ì€ ì¥ë¹„ë¼ë©´ ì†ŒíŠ¸ ë²„í¼ì˜ í¬ê¸°ë¥¼ ë” í¬ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ë„ì›€ì´ ë  ìˆ˜ë„ ìˆë‹¤.\nì •ë ¬ ì•Œê³ ë¦¬ì¦˜ ë ˆì½”ë“œë¥¼ ì •ë ¬í•  ë•Œ ë ˆì½”ë“œ ì „ì²´ë¥¼ ì†ŒíŠ¸ ë²„í¼ì— ë‹´ì„ì§€ ë˜ëŠ” ì •ë ¬ ê¸°ì¤€ ì»¬ëŸ¼ë§Œ ì†ŒíŠ¸ ë²„í¼ì— ë‹´ì„ì§€ì— ë”°ë¼ ì‹±ê¸€ íŒ¨ìŠ¤, Single-passì™€ íˆ¬ íŒ¨ìŠ¤, Two-pass 2ê°€ì§€ ì •ë ¬ ëª¨ë“œë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nì •ë ¬ì„ ìˆ˜í–‰í•˜ëŠ” ì¿¼ë¦¬ê°€ ì–´ë–¤ ì •ë ¬ ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì˜µí‹°ë§ˆì´ì € íŠ¸ë ˆì´ìŠ¤ ê¸°ëŠ¥ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 SET OPTIMIZER_TRACE=\u0026#34;enabled=on\u0026#34;, END_MARKERS_IN_JSON=on; SET OPTIMIZER_TRACE_MAX_MEM_SIZE=1000000; SELECT * FROM employees ORDER BY last_name LIMIT 100000, 1; SELECT * FROM INFORMATION_SCHEMA.OPTIMIZER_TRACE \\G ë§ˆì§€ë§‰ ì¿¼ë¦¬ ì‹¤í–‰ í›„ ì¶œë ¥ëœ ë‚´ìš©ì—ì„œ \u0026ldquo;filesort_summary\u0026rdquo; ì„¹ì…˜ì˜ \u0026ldquo;sort_algorithm\u0026rdquo; í•„ë“œì— ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì´ í‘œì‹œë˜ê³ , \u0026ldquo;sort_mode\u0026rdquo; í•„ë“œì—ëŠ” 3ê°€ì§€ ì •ë ¬ ë°©ì‹ì¤‘ í•˜ë‚˜ê°€ í‘œì‹œëœë‹¤.\n\u0026lt;sort_key, rowid\u0026gt;: ì •ë ¬ í‚¤ì™€ ë ˆì½”ë“œì˜ ë¡œìš° ì•„ì´ë“œë§Œ ê°€ì ¸ì™€ì„œ ì •ë ¬í•˜ëŠ” ë°©ì‹ \u0026lt;sort_key, additional_fields\u0026gt;: ì •ë ¬ í‚¤ì™€ ë ˆì½”ë“œ ì „ì²´ë¥¼ ê°€ì ¸ì™€ì„œ ì •ë ¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ë ˆì½”ë“œì˜ ì»¬ëŸ¼ë“¤ì€ ê³ ì • ì‚¬ì´ì¦ˆë¡œ ë©”ëª¨ë¦¬ì— ì €ì¥ \u0026lt;sort_key, packed_additional_fields\u0026gt;: ì •ë ¬ í‚¤ì™€ ë ˆì½”ë“œ ì „ì²´ë¥¼ ê°€ì ¸ì™€ì„œ ì •ë ¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ë ˆì½”ë“œì˜ ì»¬ëŸ¼ë“¤ì€ ê°€ë³€ ì‚¬ì´ì¦ˆë¡œ ë©”ëª¨ë¦¬ ì €ì¥ ì—¬ê¸°ì„œëŠ” ì²« ë²ˆì§¸ ë°©ì‹ì„ íˆ¬ íŒ¨ìŠ¤ì •ë ¬ ë°©ì‹ì´ë¼ ëª…ëª…í•˜ê³ , ë‚˜ë¨¸ì§€ ë°©ì‹ì„ ì‹±ê¸€ íŒ¨ìŠ¤ì •ë ¬ ë°©ì‹ì´ë¼ê³  ëª…ëª…í•˜ê² ë‹¤. ì„¸ ë²ˆì§¸ ë°©ì‹ì€ MySQL 5.7 ë²„ì „ë¶€í„° ë„ì…ëëŠ”ë°, ì´ëŠ” ì •ë ¬ì„ ìœ„í•œ ë©”ëª¨ë¦¬ ê³µê°„ì˜ íš¨ìœ¨ì ì¸ ì‚¬ìš©ì„ ìœ„í•´ ì¶”ê°€ ë„ì…ëœ ë°©ì‹ì´ë‹¤.\nì‹±ê¸€ íŒ¨ìŠ¤ ì •ë ¬ ë°©ì‹ ì†ŒíŠ¸ ë²„í¼ì— ì •ë ¬ ê¸°ì¤€ ì»¬ëŸ¼ì„ í¬í•¨í•´ SELECT ëŒ€ìƒì´ ë˜ëŠ” ì»¬ëŸ¼ ì „ë¶€ë¥¼ ë‹´ì•„ ì •ë ¬ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ì´ë‹¤.\n1 2 3 SELECT emp_no, first_name, last_name FROM employees ORDER BY first_name; ìœ„ ì¿¼ë¦¬ì™€ ê°™ì´ first_nameìœ¼ë¡œ ì •ë ¬í•´ì„œ emp_no, first_name, last_nameì„ SELECTí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‹±ê¸€ íŒ¨ìŠ¤ ì •ë ¬ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ê²Œ ë˜ë©´, ì²˜ìŒ employees í…Œì´ë¸”ì„ ì½ì„ ë•Œ ì •ë ¬ì— í•„ìš”í•˜ì§€ ì•ŠëŠ” last_name ì»¬ëŸ¼ê¹Œì§€ ì „ë¶€ ì½ì–´ ì†ŒíŠ¸ ë²„í¼ì— ë‹´ê³  ì •ë ¬ì„ ìˆ˜í–‰í•œë‹¤. ê·¸ë¦¬ê³  ì •ë ¬ì´ ì™„ë£Œë˜ë©´ ì •ë ¬ ë²„í¼ì˜ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ë„˜ê²¨ì¤€ë‹¤.\níˆ¬ íŒ¨ìŠ¤ ì •ë ¬ ë°©ì‹ ì •ë ¬ ëŒ€ìƒ ì»¬ëŸ¼ê³¼ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ë§Œ ì†ŒíŠ¸ ë²„í¼ì— ë‹´ì•„ì„œ ì •ë ¬ì„ ìˆ˜í–‰í•˜ê³ , ì •ë ¬ëœ ìˆœì„œëŒ€ë¡œ ë‹¤ì‹œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ í…Œì´ë¸”ì„ ì½ì–´ì„œ SELECTí•  ì»¬ëŸ¼ì„ ê°€ì ¸ì˜¤ëŠ” ì •ë ¬ ë°©ì‹ìœ¼ë¡œ, ì‹±ê¸€ íŒ¨ìŠ¤ ì •ë ¬ ë°©ì‹ì´ ë„ì…ë˜ê¸° ì´ì „ë¶€í„° ì‚¬ìš©í•˜ë˜ ë°©ì‹ì´ë‹¤.\nì²˜ìŒ employees í…Œì´ë¸”ì„ ì½ì„ ë•ŒëŠ” ì •ë ¬ì— í•„ìš”í•œ first_nameì»¬ëŸ¼ê³¼ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì¸ emp_noë§Œ ì½ì–´ì„œ ì •ë ¬ì„ ìˆ˜í–‰í•œë‹¤. ì´ ì •ë ¬ì´ ì™„ë£Œë˜ë©´ ê·¸ ê²°ê³¼ ìˆœì„œëŒ€ë¡œ employees í…Œì´ë¸”ì„ í•œë²ˆ ë” ì½ì–´ì„œ last_nameì„ ê°€ì ¸ì˜¤ê³ , ìµœì¢…ì ìœ¼ë¡œ ê·¸ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ ìª½ìœ¼ë¡œ ë„˜ê¸°ëŠ” ê³¼ì •ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì •ë¦¬ MySQL ì˜ˆì „ ì •ë ¬ ë°©ì‹ì¸ íˆ¬ íŒ¨ìŠ¤ ë°©ì‹ì€ í…Œì´ë¸”ì„ ë‘ ë²ˆ ì½ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ìƒë‹¹íˆ ë¶ˆí•©íˆí•˜ì§€ë§Œ, ìƒˆë¡œìš´ ì •ë ¬ ë°©ì‹ì¸ ì‹±ê¸€ íŒ¨ìŠ¤ëŠ” ì´ëŸ¬í•œ ë¶ˆí•©ë¦¬ê°€ ì—†ë‹¤. í•˜ì§€ë§Œ ì‹±ê¸€ íŒ¨ìŠ¤ ì •ë ¬ ë°©ì‹ì€ ë” ë§ì€ ì†ŒíŠ¸ ë²„í¼ ê³µê°„ì´ í•„ìš”í•˜ë‹¤.\nìµœì‹  ë²„ì „ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‹±ê¸€ íŒ¨ìŠ¤ ì •ë ¬ ë°©ì‹ì„ ì£¼ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ ê²½ìš°ì— ë”°ë¼ íˆ¬ íŒ¨ìŠ¤ ì •ë ¬ ë°©ì‹ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤.\në ˆì½”ë“œì˜ í¬ê¸°ê°€ max_length_for_sort_data ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°’ë³´ë‹¤ í´ ë•Œ BLOBì´ë‚˜ TEXT íƒ€ì…ì˜ ì»¬ëŸ¼ì´ SELECT ëŒ€ìƒì— í¬í•¨í•  ë•Œ ì‹±ê¸€ íŒ¨ìŠ¤ ë°©ì‹ì€ ì •ë ¬ ëŒ€ìƒ ë ˆì½”ë“œì˜ í¬ê¸°ë‚˜ ê±´ìˆ˜ê°€ ì‘ì€ ê²½ìš° ë¹ ë¥¸ ì„±ëŠ¥ì„ ë³´ì´ë©°, íˆ¬ íŒ¨ìŠ¤ ë°©ì‹ì€ ì •ë ¬ ëŒ€ìƒ ë ˆì½”ë“œì˜ í¬ê¸°ë‚˜ ê±´ìˆ˜ê°€ ìƒë‹¹íˆ ë§ì€ ê²½ìš° íš¨ìœ¨ì ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.\nSELECT ì¿¼ë¦¬ì—ì„œ ê¼­ í•„ìš”í•œ ì»¬ëŸ¼ë§Œ ì¡°íšŒí•˜ì§€ ì•Šê³ , ëª¨ë“  ì»¬ëŸ¼ì„ ê°€ì ¸ì˜¤ë„ë¡ ê°œë°œí•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë°, ì´ëŠ” ì •ë ¬ ë²„í¼ë¥¼ ëª‡ ë°°ì—ì„œ ëª‡ì‹­ ë°° ê¹Œì§€ ë¹„íš¨ìœ¨ ì ìœ¼ë¡œ ì‚¬ìš©í•  ê°€ëŠ¥ì„±ì´ í¬ë¯€ë¡œ ì •ë ¬ì´ í•„ìš”í•œ SELECTëŠ” ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ì„ í¬í•¨í•˜ì§€ ì•Šê²Œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.\nì •ë ¬ ì²˜ë¦¬ ë°©ë²• ì¿¼ë¦¬ì— ORDER BYê°€ ì‚¬ìš©ë˜ë©´ ë°˜ë“œì‹œ ë‹¤ìŒ 3ê°€ì§€ ì²˜ë¦¬ ë°©ë²• ì¤‘ í•˜ë‚˜ë¡œ ì •ë ¬ì´ ì²˜ë¦¬ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì•„ë˜ìª½ì— ìˆëŠ” ì •ë ¬ ë°©ë²•ìœ¼ë¡œ ê°ˆìˆ˜ë¡ ì²˜ë¦¬ ì†ë„ëŠ” ë–¨ì–´ì§„ë‹¤.\nì •ë ¬ ì²˜ë¦¬ ë°©ë²• ì‹¤í–‰ ê³„íš Extra ì»¬ëŸ¼ ë‚´ìš© ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ì •ë ¬ ë³„ë„ í‘œê¸° ì—†ìŒ ì¡°ì¸ì—ì„œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬ \u0026ldquo;Using filesort\u0026rdquo; ì¡°ì¸ì—ì„œ ì¡°ì¸ ê²°ê³¼ë¥¼ ì„ì‹œ í…Œì´ë¸”ë¡œ ì €ì¥ í›„ ì •ë ¬ \u0026ldquo;Using temporary; Using filesort\u0026rdquo; ì˜µí‹°ë§ˆì´ì €ëŠ” ì •ë ¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆì„ì§€ ê²€í† í•˜ëŠ”ë°, ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë©´ \u0026ldquo;filesort\u0026rdquo; ê³¼ì • ì—†ì´ ì¸ë±ìŠ¤ë¥¼ ìˆœì„œëŒ€ë¡œ ì½ì–´ ë°˜í™˜í•œë‹¤. í•˜ì§€ë§Œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ë©´ WHERE ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•´ ì •ë ¬ ë²„í¼ì— ì €ì¥í•˜ë©´ì„œ ì •ë ¬ì„ ì²˜ë¦¬í•œë‹¤.\nì´ë•Œ MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ì •ë ¬ ëŒ€ìƒ ë ˆì½”ë“œë¥¼ ìµœì†Œí™” í•˜ê¸° ìœ„í•´ ë‹¤ìŒ 2ê°€ì§€ ë°©ë²• ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•œë‹¤.\nì¡°ì¸ì˜ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬í•œ ë‹¤ìŒ ì¡°ì¸ì„ ìˆ˜í–‰ ì¡°ì¸ì´ ëë‚˜ê³  ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¨ í›„ ì •ë ¬ì„ ìˆ˜í–‰ ì¼ë°˜ì ìœ¼ë¡œ ì¡°ì¸ì´ ìˆ˜í–‰ë˜ë©´ì„œ ë ˆì½”ë“œ ê±´ìˆ˜ì™€ ë ˆì½”ë“œì˜ í¬ê¸°ëŠ” ê±°ì˜ ë°°ìˆ˜ë¡œ ë¶ˆì–´ë‚˜ê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤ë©´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬í•œ ë‹¤ìŒ ì¡°ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì´ íš¨ìœ¨ì ì´ë‹¤. ê·¸ë˜ì„œ ë‘ ë²ˆì§¸ ë°©ë²•ë³´ë‹¤ëŠ” ì²« ë²ˆì§¸ ë°©ë²•ì´ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\nì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì •ë ¬ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì •ë ¬ì„ ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ ORDER BYì— ëª…ì‹œëœ ì»¬ëŸ¼ì´ ì œì¼ ë¨¼ì € ì½ëŠ” í…Œì´ë¸”(ì¡°ì¸ì´ ì‚¬ìš©ëœ ê²½ìš° ë“œë¼ì´ë¹™ í…Œì´ë¸”)ì— ì†í•˜ê³ , ORDER BYì˜ ìˆœì„œëŒ€ë¡œ ìƒì„±ëœ ì¸ë±ìŠ¤ê°€ ìˆì–´ì•¼ í•œë‹¤. WHEREì ˆì— ì²« ë²ˆì§¸ë¡œ ì½ëŠ” í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì— ëŒ€í•œ ì¡°ê±´ì´ ìˆë‹¤ë©´ ê·¸ ì¡°ê±´ê³¼ ORDER BYëŠ” ê°™ì€ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. B-Tree ê³„ì—´ì˜ ì¸ë±ìŠ¤ê°€ ì•„ë‹Œ í•´ì‹œ ì¸ë±ìŠ¤ë‚˜ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ ë“±ì—ì„œëŠ” ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì •ë ¬ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. (R-Tree ì¸ë±ìŠ¤ ë¶ˆê°€) ì—¬ëŸ¬ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ê²½ìš°ì—ëŠ” ë„¤ìŠ¤í‹°ë“œ-ë£¨í”„(Nested-loop) ë°©ì‹ì˜ ì¡°ì¸ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì •ë ¬ì´ ì²˜ë¦¬ë˜ëŠ” ê²½ìš°ì—ëŠ” ì‹¤ì œ ì¸ë±ìŠ¤ì˜ ê°’ì´ ì •ë ¬ë¼ ìˆê¸° ë•Œë¬¸ì— ì¸ë±ìŠ¤ì˜ ìˆœì„œëŒ€ë¡œ ì½ê¸°ë§Œ í•˜ë©´ ë˜ì–´ MySQL ì—”ì§„ì—ì„œ ë³„ë„ì˜ ì •ë ¬ì„ ìœ„í•œ ì¶”ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\ní•˜ì§€ë§Œ ì¡°ì¸ì´ ì‚¬ìš©ëœ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì— ì¡°ì¸ ë²„í¼ê°€ ì‚¬ìš©ë˜ë©´ ìˆœì„œê°€ ííŠ¸ëŸ¬ ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤.\nORDER BY ì ˆì„ ë„£ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ ì •ë ¬ë˜ë¯€ë¡œ ORDER BY ìì²´ë¥¼ ì¿¼ë¦¬ì—ì„œ ì œê±°í•˜ê¸°ë„ í•˜ì§€ë§Œ, MySQL ì„œë²„ëŠ” ì •ë ¬ì„ ì¸ë±ìŠ¤ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš° ë¶€ê°€ì ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ì •ë ¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ORDER BYê°€ ì¿¼ë¦¬ì— ëª…ì‹œëœë‹¤ê³  í•´ì„œ ì‘ì—…ëŸ‰ì´ ëŠ˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ê·¸ë¦¬ê³  ì•Œ ìˆ˜ ì—†ëŠ” ì´ìœ ë¡œ ì‹¤í–‰ ê³„íšì´ ì¡°ê¸ˆ ë³€ê²½ëœë‹¤ë©´, ê¸°ëŒ€í–ˆë˜ ìˆœì„œëŒ€ë¡œ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í•´ ë²„ê·¸ë¡œ ì—°ê²°ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ORDER BY ì ˆì„ ëª…ì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì¡°ì¸ì˜ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬ ì¼ë°˜ì ìœ¼ë¡œ ì¡°ì¸ì´ ìˆ˜í–‰ë˜ë©´ ê²°ê³¼ ë ˆì½”ë“œì˜ ê±´ìˆ˜ê°€ ëª‡ ë°°ë¡œ ë¶ˆì–´ë‚˜ê³ , ë ˆì½”ë“œ í•˜ë‚˜ì˜ í¬ê¸°ë„ ëŠ˜ì–´ë‚˜ê¸° ë•Œë¬¸ì— ì¡°ì¸ì„ ì‹¤í–‰í•˜ê¸° ì „ ì²« ë²ˆì§¸ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ë¨¼ì € ì •ë ¬í•œ ë‹¤ìŒ ì¡°ì¸ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì •ë ¬ì˜ ì°¨ì„ ì±…ì´ë‹¤. ì´ëŸ¬í•œ ë°©ë²•ìœ¼ë¡œ ì •ë ¬ì´ ì²˜ë¦¬ë˜ë ¤ë©´ ì¡°ì¸ì—ì„œ ì²« ë²ˆì§¸ë¡œ ì½íˆëŠ” í…Œì´ë¸”(ë“œë¼ì´ë¹™ í…Œì´ë¸”)ì˜ ì»¬ëŸ¼ë§Œìœ¼ë¡œ ORDER BY ì ˆì„ ì‘ì„±í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 SELECT * FROM employees e, salaries s WHERE s.emp_no = e.emp_no AND e.emp_no BETWEEN 100002 AND 100010 ORDER BY e.last_name ; WHERE ì ˆì˜ ì¡°ê±´ìœ¼ë¡œ ì¸í•´ ì˜µí‹°ë§ˆì´ì €ëŠ” employees í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•œë‹¤.\nWHERE ì ˆì˜ ê²€ìƒ‰ì¡°ê±´ emp_noëŠ” employees í…Œì´ë¸”ì˜ íŒŒë¦¬ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì´ìš©í•´ ê²€ìƒ‰í•˜ë©´ ì‘ì—…ëŸ‰ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ì¡°ì¸ ì»¬ëŸ¼ì¸ emp_no ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ìˆë‹¤. ê²€ìƒ‰ì€ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ ORDER BY ì ˆì— ëª…ì‹œëœ ì»¬ëŸ¼ì€ employees í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì™€ ì „í˜€ ì—°ê´€ì´ ì—†ìœ¼ë¯€ë¡œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì •ë ¬ì€ ë¶ˆê°€ëŠ¥í•˜ì§€ë§Œ, ì •ë ¬ ê¸°ì¤€ ì»¬ëŸ¼ì´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì— í¬í•¨ëœ ì»¬ëŸ¼ì´ë¯€ë¡œ ì˜µí‹°ë§ˆì´ì €ëŠ” ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ê²€ìƒ‰í•´ì„œ ì •ë ¬ì„ ë¨¼ì € ìˆ˜í–‰í•˜ê³ , ê·¸ ê²°ê³¼ì™€ salaries í…Œì´ë¸”ì„ ì¡°ì¸í•˜ëŠ” ë°©ì‹ì„ ì„ íƒí•œë‹¤.\nì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ BETWEEN ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë°ì´í„° ê²€ìƒ‰ ê²€ìƒ‰ ê²°ê³¼ë¥¼ last_name ì»¬ëŸ¼ìœ¼ë¡œ ì •ë ¬ì„ ìˆ˜í–‰(Filesort) ì •ë ¬ëœ ê²°ê³¼ë¥¼ ìˆœì„œëŒ€ë¡œ ì½ìœ¼ë©° sqlaries í…Œì´ë¸”ê³¼ ì¡°ì¸ì„ ìˆ˜í–‰í•´ ìµœì¢… ê²°ê³¼ë¥¼ ê°€ì ¸ì˜´ ì„ì‹œ í…Œì´ë¸”ì„ ì´ìš©í•œ ì •ë ¬ ì¿¼ë¦¬ê°€ ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ì§€ ì•Šê³ , í•˜ë‚˜ì˜ í…Œì´ë¸”ë¡œ ë¶€í„° SELECTí•´ì„œ ì •ë ¬í•˜ëŠ” ê²½ìš°ë¼ë©´ ì„ì‹œ í…Œì´ë¸”ì´ í•„ìš”í•˜ì§€ ì•Šì§€ë§Œ, 2ê°œ ì´ìƒì˜ í…Œì´ë¸”ì„ ì¡°ì¸í•´ì„œ ê·¸ ê²°ê³¼ë¥¼ ì •ë ¬í•´ì•¼ í•œë‹¤ë©´ ì„ì‹œ í…Œì´ë¸”ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.\n\u0026ldquo;ì¡°ì¸ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬\u0026quot;í•˜ëŠ” ê²½ìš°ë¼ë©´ 2ê°œ ì´ìƒì˜ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ë©´ì„œ ì •ë ¬ì´ ì‹¤í–‰ë˜ì§€ë§Œ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ê·¸ ì™¸ íŒ¨í„´ì˜ ì¿¼ë¦¬ì—ì„œëŠ” í•­ìƒ ì¡°ì¸ì˜ ê²°ê³¼ë¥¼ ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ì •ë ¬í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹œë‹¤. ë”°ë¼ì„œ ì´ ë°©ë²•ì€ ì •ë ¬ 3ê°€ì§€ ë°©ì‹ ì¤‘ ì •ë ¬í•´ì•¼ í•  ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ê°€ì¥ ë§ê¸° ë•Œë¬¸ì— ê°€ì¥ ëŠë¦¬ë‹¤.\n1 2 3 4 5 6 SELECT * FROM employees e, salaries s WHERE s.emp_no = e.emp_no AND e.emp_no BETWEEN 100002 AND 100010 ORDER BY s.salary ; id table type key Extra 1 e range PRIMARY Using where; Using temporary; Using filesort 1 s ref PRIMARY NULL ì¿¼ë¦¬ ì‹¤í–‰ ê³„íš \u0026ldquo;Extra\u0026quot;ì»¬ëŸ¼ì— \u0026ldquo;Using where; Using temporary; Using filesort\u0026quot;ì½”ë©˜íŠ¸ê°€ í‘œì‹œë˜ëŠ”ë°, ì´ëŠ” ì¡°ì¸ì˜ ê²°ê³¼ë¥¼ ì„ì‹œ í…Œì´ë¸”ì— ì €ì¥í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ì •ë ¬ ì²˜ë¦¬í–ˆìŒì„ ì˜ë¯¸í•œë‹¤.\nì •ë ¬ ì²˜ë¦¬ ë°©ë²•ì˜ ì„±ëŠ¥ ë¹„êµ ì£¼ë¡œ ì›¹ ì„œë¹„ìŠ¤ìš© ì¿¼ë¦¬ì—ì„œëŠ” ORDER BYì™€ í•¨ê»˜ LIMITì´ ê±°ì˜ í•„ìˆ˜ë¡œ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ê°€ ë§ì€ë°, ì¼ë°˜ì ìœ¼ë¡œ LIMITì€ í…Œì´ë¸”ì´ë‚˜ ì²˜ë¦¬ ê²°ê³¼ì˜ ì¼ë¶€ë§Œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— MySQL ì„œë²„ê°€ ì²˜ë¦¬í•´ì•¼ í•  ì‘ì—…ëŸ‰ì„ ì¤„ì´ëŠ” ì—­í• ì„ í•œë‹¤.\ní•˜ì§€ë§Œ ORDER BY, GROUP BY ê°™ì€ ì‘ì—…ì€ WHERE ì¡±ë„ˆì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë¥¼ LIMIT ê±´ìˆ˜ ë§Œí¼ë§Œ ê°€ì ¸ì™€ì„œëŠ” ì²˜ë¦¬í•  ìˆ˜ ì—†ê³ , ìš°ì„  ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë¥¼ ëª¨ë‘ ê°€ì ¸ì™€ì„œ ì •ë ¬ì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ê·¸ë£¨í•‘ ì‘ì—…ì„ ì‹¤í–‰í•´ì•¼ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ë¡œ ì¸í•´ WHERE ì¡°ê±´ì´ ì•„ë¬´ë¦¬ ì¸ë±ìŠ¤ë¥¼ ì˜ í™œìš©í•˜ë„ë¡ íŠœë‹í•´ë„ ì˜ëª»ëœ ORDER BY, GROUP BY ë•Œë¬¸ì— ì¿¼ë¦¬ê°€ ëŠë ¤ì§€ëŠ” ê²½ìš°ê°€ ë§ì´ ë°œìƒí•œë‹¤.\nìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ ì„œë²„ ìª½ì—ì„œ ì²˜ë¦¬í•  ë°ì´í„°ê°€ ì–¼ë§ˆì¸ì§€ì— ê´€ê³„ ì—†ì´ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ ê²€ìƒ‰ë  ë•Œë§ˆë‹¤ ë°”ë¡œë°”ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì„±í•´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ, í´ë¼ì´ì–¸íŠ¸ëŠ” ì¿¼ë¦¬ë¥¼ ìš”ì²­í•˜ê³  ê³§ë°”ë¡œ ì›í–ˆë˜ ì²« ë²ˆì§¸ ë ˆì½”ë“œë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤. (ë§ˆì§€ë§‰ ë ˆì½”ë“œëŠ” ì–¸ì œ ë°›ì„ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.)\nì¿¼ë¦¬ê°€ ìŠ¤íŠ¸ë¦¬ë¹™ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” MySQL ì„œë²„ê°€ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ì¦‰ì‹œ ì „ë‹¬ë°›ê¸° ë•Œë¬¸ì— ë™ì‹œì— ë°ì´í„°ì˜ ê°€ê³µ ì‘ì—…ì„ ì‹œì‘í•  ìˆ˜ ìˆë‹¤. ì›¹ì„œë¹„ìŠ¤ ê°™ì€ OLTP í™˜ê²½ì—ì„œëŠ” ì¿¼ë¦¬ì˜ ìš”ì²­ì—ì„œ ì²« ë²ˆì§¸ ë ˆì½”ë“œë¥¼ ì „ë‹¬ë°›ê²Œ ë˜ê¸°ê¹Œì§€ì˜ ì‘ë‹µ ì‹œê°„ì´ ì¤‘ìš”í•œ ê²½ìš°ê°€ ë§ì€ë°, ìŠ¤íŠ¸ë¦¬ë¹™ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ëŠ” ì¿¼ë¦¬ê°€ ì–¼ë§ˆë‚˜ ë§ì€ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•˜ëŠëƒì— ìƒê´€ì—†ì´ ë¹ ë¥¸ ì‘ë‹µ ì‹œê°„ì„ ë³´ì¥í•´ì¤€ë‹¤.\në˜í•œ ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ì—ì„œ LIMIT ì²˜ëŸ¼ ê²°ê³¼ ê±´ìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ì¡°ê±´ë“¤ì€ í’€ í…Œì´ë¸” ìŠ¤ìº”ì˜ ê²°ê³¼ê°€ ì•„ë¬´ëŸ° ë²„í¼ë§ ì²˜ë¦¬ë‚˜ í•„í„°ë§ ê³¼ì • ì—†ì´ ë°”ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ìŠ¤íŠ¸ë¦¬ë° ë˜ê¸° ë•Œë¬¸ì— ì¿¼ë¦¬ì˜ ì „ì²´ ì‹¤í–‰ ì‹œê°„ì„ ìƒë‹¹íˆ ì¤„ì—¬ì¤„ ìˆ˜ ìˆë‹¤.\në²„í¼ë§ ë°©ì‹ ORDER BY, GROUP BY ê°™ì€ ì²˜ë¦¬ëŠ” WHERE ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ëª¨ë“  ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¨ í›„, ì •ë ¬í•˜ê±°ë‚˜ ê·¸ë£¨í•‘í•´ì„œ ì°¨ë¡€ëŒ€ë¡œ ë³´ë‚´ì•¼ í•˜ë¯€ë¡œ ì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ ìŠ¤íŠ¸ë¦¬ë°ë˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\në˜í•œ ë²„í¼ë§ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ëŠ” ë¨¼ì € ê²°ê³¼ë¥¼ ëª¨ì•„ì„œ MySQL ì„œë²„ì—ì„œ ì¼ê´„ ê°€ì˜¹í•´ì•¼ í•˜ë¯€ë¡œ ëª¨ë“  ê²°ê³¼ë¥¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ê°€ì ¸ì˜¬ ë•Œê°€ì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤. ë”°ë¼ì„œ LIMIT ì²˜ëŸ¼ ê²°ê³¼ ê±´ìˆ˜ë¥¼ ì œí•œí•˜ëŠ” ì¡°ê±´ì´ ìˆì–´ë„ ì„±ëŠ¥ í–¥ìƒì— ë³„ë¡œ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì •ë ¬ ì²˜ë¦¬ ë°©ë²„ì—ì„œ ì†Œê°œí•œ ORDER BYì˜ 3ê°€ì§€ ì²˜ë¦¬ ë°©ë²• ê°€ìš´ë° ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ì •ë ¬ ë°©ì‹ë§Œ ìŠ¤íŠ¸ë¦¬ë° í˜•íƒœì˜ ì²˜ë¦¬ì´ë©°, ë‚˜ë¨¸ì§€ëŠ” ëª¨ë‘ ë²„í¼ë§ëœ í›„ì— ì •ë ¬ëœë‹¤. ì¦‰ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ì •ë ¬ ë°©ì‹ì€ LIMITë¡œ ì œí•œëœ ê±´ìˆ˜ë§Œí¼ë§Œ ì½ìœ¼ë©´ì„œ ë°”ë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œ ê²°ê³¼ë¥¼ ì „ì†¡í•´ ì¤„ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 /* tb_test1ì˜ ë ˆì½”ë“œëŠ” 100ê±´ tb_test2 í…Œì´ë¸”ì˜ ë ˆì½”ë“œê°€ 1000ê±´ (tb_test1ì˜ ë ˆì½”ë“œ 1ê±´ë‹¹ tb_test2ì˜ ë ˆì½”ë“œê°€ 10ê±´ì”© ì¡´ì¬í•¨) */ SELECT * FROM tb_test1 t1, tb_test2 t2 WHERE t1.col1=t2.col1 ORDER BY t1.col2 LIMIT 10 ; tb_test1ê°€ ë“œë¼ì´ë¹™ë˜ëŠ” ê²½ìš°\nì •ë ¬ ë°©ë²• ì½ì–´ì•¼ í•  ê±´ìˆ˜ ì¡°ì¸ íšŸìˆ˜ ì •ë ¬í•´ì•¼ í•  ëŒ€ìƒ ê±´ìˆ˜ ì¸ë±ìŠ¤ ì‚¬ìš© tb_test1: 1ê±´, tb_test2: 10ê±´ 1ë²ˆ 0ê±´ ì¡°ì¸ì˜ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬ tb_test1: 100ê±´, tb_test2: 10ê±´ 1ë²ˆ 100ê±´(tb_test1 í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ ë§Œí¼ ì •ë ¬ í•„ìš” ì„ì‹œ í…Œì´ë¸” ì‚¬ìš© í›„ ì •ë ¬ tb_test1: 100ê±´, tb_test2: 1000ê±´ 100ë²ˆ 1000ê±´(ì¡°ì¸ëœ ê²°ê³¼ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ëª¨ë‘ ì •ë ¬í•´ì•¼í•¨) tb_test2ê°€ ë“œë¼ì´ë¹™ë˜ëŠ” ê²½ìš°\nì •ë ¬ ë°©ë²• ì½ì–´ì•¼ í•  ê±´ìˆ˜ ì¡°ì¸ íšŸìˆ˜ ì •ë ¬í•´ì•¼ í•  ëŒ€ìƒ ê±´ìˆ˜ ì¸ë±ìŠ¤ ì‚¬ìš© tb_test2: 10ê±´, tb_test1: 10ê±´ 10ë²ˆ 0ê±´ ì¡°ì¸ì˜ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬ tb_test2: 1000ê±´, tb_test1: 1ê±´ 10ë²ˆ 1000ê±´(tb_test2 í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ ë§Œí¼ ì •ë ¬ í•„ìš” ì„ì‹œ í…Œì´ë¸” ì‚¬ìš© í›„ ì •ë ¬ tb_test2: 1000ê±´, tb_test2: 100ê±´ 1000ë²ˆ(tb_test2 í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ë§Œí¼ ì¡°ì¸ ë°œìƒ) 1000ê±´(ì¡°ì¸ëœ ê²°ê³¼ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ëª¨ë‘ ì •ë ¬í•´ì•¼í•¨) ì–´ëŠ í…Œì´ë¸”ì´ ë¨¼ì € ì¡°ì¸ë˜ëŠ”ì§€ë„ ì¤‘ìš”í•˜ì§€ë§Œ ì–´ë–¤ ì •ë ¬ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€ëŠ” ë” í° ì„±ëŠ¥ ì°¨ì´ë¥¼ ë§Œë“ ë‹¤. ê°€ëŠ¥í•˜ë‹¤ë©´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ì •ë ¬ë¡œ ìœ ë„í•˜ê³ , ê·¸ë ‡ì§€ ëª»í•˜ë‹¤ë©´ ìµœì†Œí•œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬í•´ë„ ë˜ëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ìœ ë„í•˜ëŠ” ê²ƒë„ ì¢‹ì€ íŠœë‹ ë°©ë²•ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.\nì •ë ¬ ê´€ë ¨ ìƒíƒœ ë³€ìˆ˜ MySQL ì„œë²„ëŠ” ì²˜ë¦¬í•˜ëŠ” ì£¼ìš” ì‘ì—…ì— ëŒ€í•´ì„œëŠ” í•´ë‹¹ ì‘ì—…ì˜ ì‹¤í–‰ íšŸìˆ˜ë¥¼ ìƒíƒœ ë³€ìˆ˜ë¡œ ì €ì¥í•œë‹¤. ì •ë ¤ë¡œê°€ ê´€ë ¨í•´ì„œë„ ì§€ê¸ˆê¹Œì§€ ëª‡ ê±´ì˜ ë ˆì½”ë“œë‚˜ ì •ë ¬ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í–ˆëŠ”ì§€, ì†ŒíŠ¸ ë²„í¼ ê°„ì˜ ë³‘í•© ì‘ì—…(ë©€í‹° ë¨¸ì§€)ì€ ëª‡ ë²ˆì´ë‚˜ ë°œìƒí–ˆëŠ”ì§€ ë“±ì„ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•´ ë³¼ ìˆ˜ ìˆë‹¤.\n1 2 3 FLUSH STATUS; SHOW STATUS LIKE \u0026#39;Sort%\u0026#39; ; Sort_merge_passes: ë©€í‹° ë¨¸ì§€ ì²˜ë¦¬ íšŸìˆ˜ Sort_range: ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ í†µí•´ ê²€ìƒ‰ëœ ê²°ê³¼ì— ëŒ€í•œ ì •ë ¬ ì‘ì—… íšŸìˆ˜(ëˆ„ì ) Sort_rows: í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í†µí•´ ê²€ìƒ‰ëœ ê²°ê³¼ì— ëŒ€í•œ ì •ë ¬ ì‘ì—… íšŸìˆ˜(ëˆ„ì ) Sort_rows: ì§€ê¸ˆê¹Œì§€ ì •ë ¬í•œ ì „ì²´ ë ˆì½”ë“œ ê±´ìˆ˜ ","date":"2023-05-23T12:40:10+09:00","image":"https://codemario318.github.io/post/real-mysql/9/2/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/9/2/1/","title":"9.2 ê¸°ë³¸ ë°ì´í„° ì²˜ë¦¬(1) - ORDER BY ì²˜ë¦¬ (Using filesort)"},{"content":"MySQL ì„œë²„ë¡œ ìš”ì²­ëœ ì¿¼ë¦¬ëŠ” ê²°ê³¼ëŠ” ë™ì¼í•˜ì§€ë§Œ ë‚´ë¶€ì ìœ¼ë¡œ ê·¸ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ë°©ë²•ì€ ë§¤ìš° ë‹¤ì–‘í•˜ë©°, ì–´ë–¤ ë°©ë²•ì´ ìµœì ì´ê³  ìµœì†Œì˜ ë¹„ìš©ì´ ì†Œëª¨ë ì§€ ê²°ì •í•´ì•¼ í•œë‹¤. MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ì¿¼ë¦¬ë¥¼ ìµœì ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ê° í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ì–´ë–¤ ë¶„í¬ë¡œ ì €ì¥ë¼ ìˆëŠ”ì§€ í†µê³„ ì •ë³´ë¥¼ ì°¸ì¡°í•˜ì—¬ ê¸°ë³¸ ë°ì´í„°ë¥¼ ë¹„êµí•´ ìµœì ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•œë‹¤.\nê°œìš” ì–´ë–¤ DBMSë“ ì§€ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ì˜µí‹°ë§ˆì´ì €ëŠ” ê°€ì¥ ë³µì¡í•œ ë¶€ë¶„ìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìœ¼ë©°, ì˜µí‹°ë§ˆì´ì €ê°€ ë§Œë“¤ì–´ ë‚´ëŠ” ì‹¤í–‰ ê³„íšì„ ì´í•´í•˜ëŠ” ê²ƒ ë˜í•œ ìƒë‹¹íˆ ì–´ë ¤ìš´ ë¶€ë¶„ì´ë‹¤. í•˜ì§€ë§Œ ì‹¤í–‰ ê³„íšì„ ì´í•´í•  ìˆ˜ ìˆì–´ì•¼ë§Œ ì‹¤í–‰ ê³„íšì˜ ë¶ˆí•©ë¦¬í•œ ë¶€ë¶„ì„ ì°¾ì•„ë‚´ê³ , ë” ìµœì í™”ëœ ë°©ë²•ìœ¼ë¡œ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ë„ë¡ ìœ ë„í•  ìˆ˜ ìˆë‹¤.\nì‹¤í–‰ ì ˆì°¨ MySQL ì„œë²„ì—ì„œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì •ì€ í¬ê²Œ ì„¸ ë‹¨ê³„ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nSQL íŒŒì‹±: ì‚¬ìš©ìë¡œë¶€í„° ìš”ì²­ëœ SQL ë¬¸ì¥ì„ ì˜ê²Œ ìª¼ê°œì–´ MySQL ì„œë²„ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ë¶„ë¦¬(íŒŒìŠ¤ íŠ¸ë¦¬)í•œë‹¤. SQL íŒŒì„œë¼ëŠ” ëª¨ë“ˆë¡œ ì²˜ë¦¬í•œë‹¤. ì´ë•Œ ë¬¸ë²•ì ìœ¼ë¡œ ì˜ëª»ëœë‹¤ë©´ ê±¸ëŸ¬ì§„ë‹¤. ì´ ë‹¨ê³„ì—ì„œ SQL íŒŒìŠ¤ íŠ¸ë¦¬ê°€ ë§Œë“¤ì–´ì§€ê³ , MySQL ì„œë²„ëŠ” SQL ë¬¸ì¥ ìì²´ê°€ ì•„ë‹Œ íŒŒìŠ¤ íŠ¸ë¦¬ë¥¼ ì´ìš©í•´ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤. ìµœì í™” ë° ì‹¤í–‰ ê³„íš ìˆ˜ë¦½: MySQL ì˜µí‹°ë§ˆì´ì €ì— ì˜í•´ SQLì˜ íŒŒì‹± ì •ë³´(íŒŒìŠ¤ íŠ¸ë¦¬)ë¥¼ í™•ì¸í•˜ë©° ì–´ë–¤ í…Œì´ë¸” ë¶€í„° ì½ê³  ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ í…Œì´ë¸”ì„ ì½ì„ì§€ ì„ íƒí•œë‹¤. ë¶ˆí•„ìš”í•œ ì¡°ê±´ ì œê±° ë° ë³µì¡í•œ ì—°ì‚° ë‹¨ìˆœí™” ì—¬ëŸ¬ í…Œì´ë¸”ì˜ ì¡°ì¸ì´ ìˆëŠ” ê²½ìš° ì–´ë–¤ ìˆœì„œë¡œ í…Œì´ë¸”ì„ ì½ì„ì§€ ê²°ì • ê° í…Œì´ë¸”ì— ì‚¬ìš©ëœ ì¡°ê±´ê³¼ ì¸ë±ìŠ¤ í†µê³„ ì •ë³´ë¥¼ ì´ìš©í•´ ì‚¬ìš©í•  ì¸ë±ìŠ¤ë¥¼ ê²°ì • ê°€ì ¸ì˜¨ ë ˆì½”ë“œë“¤ì„ ì„ì‹œ í…Œì´ë¸”ì— ë„£ê³  ë‹¤ì‹œ í•œë²ˆ ê°€ê³µí•´ì•¼ í•˜ëŠ”ì§€ ê²°ì • ë‘ ë²ˆì§¸ ë‹¨ê³„ì—ì„œ ê²°ì •ëœ í…Œì´ë¸”ì˜ ì¼ê¸° ìˆœì„œë‚˜ ì„ íƒëœ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ë‘ ë²ˆì§¸ ë‹¨ê³„ê°€ ì™„ë£Œë˜ë©´ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì´ ë§Œë“¤ì–´ì§€ë©°, ì„¸ ë²ˆì§¸ ë‹¨ê³„ì—ì„œ ìˆ˜ë¦½ëœ ì‹¤í–‰ ê³„íšëŒ€ë¡œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ë ˆì½”ë“œë¥¼ ì½ì–´ì˜¤ë„ë¡ ìš”ì²­í•˜ê³ , MySQL ì—”ì§„ì—ì„œëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°›ì€ ë ˆì½”ë“œë¥¼ ì¡°ì¸í•˜ê±°ë‚˜ ì •ë ¬í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\nì˜µí‹°ë§ˆì´ì €ì˜ ì¢…ë¥˜ ì˜µí‹°ë§ˆì´ì €ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ë‘ë‡Œì™€ ê°™ì€ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤. ì˜µí‹°ë§ˆì´ì €ëŠ” í˜„ì¬ ëŒ€ë¶€ë¶„ì˜ DBMSê°€ ì„ íƒí•˜ê³  ìˆëŠ” ë¹„ìš© ê¸°ë°˜ ìµœì í™”(Cost-based optimizer, CBO) ë°©ë²•ê³¼ ì˜ˆì „ ì´ˆê¸° ë²„ì „ì˜ ì˜¤ë¼í´ DMBSì—ì„œ ë§ì´ ì‚¬ìš©í–ˆë˜ ê·œì¹™ ê¸°ë°˜ ìµœì í™” ë°©ë²•(Rule-based optimizer, RBO)ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nRBO: ê¸°ë³¸ì ìœ¼ë¡œ ëŒ€ìƒ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ë‚˜ ì„ íƒë„ ë“±ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ì˜µí‹°ë§ˆì´ì €ì— ë‚´ì¥ëœ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ë°©ì‹ì„ ì˜ë¯¸í•œë‹¤. í†µê³„ ì •ë³´(í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ë‚˜ ì»¬ëŸ¼ ê°’ì˜ ë¶„í¬ë„)ë¥¼ ì¡°ì‚¬í•˜ì§€ ì•Šê³  ì‹¤í–‰ ê³„íšì´ ìˆ˜ë¦½ë˜ê¸° ë•Œë¬¸ì— ê°™ì€ ì¿¼ë¦¬ì— ëŒ€í•´ì„œëŠ” ê±°ì˜ í•­ìƒ ê°™ì€ ì‹¤í–‰ ë°©ë²•ì„ ë§Œë“¤ì–´ ë‚¸ë‹¤. ì‚¬ìš©ìì˜ ë°ì´í„°ëŠ” ë¶„í¬ë„ê°€ ë§¤ìš° ë‹¤ì–‘í•˜ê¸° ë•Œë¬¸ì— ê·œì¹™ ê¸°ë°˜ì˜ ìµœì í™”ëŠ” ì´ë¯¸ ì˜¤ë˜ì „ë¶€í„° ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. CBO: ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì—¬ëŸ¬ ê°€ì§€ ê°€ëŠ¥í•œ ë°©ë²•ì„ ë§Œë“¤ê³ , ê° ë‹¨ìœ„ ì‘ì—…ì˜ ë¹„ìš©(ë¶€í•˜) ì •ë³´ì™€ ëŒ€ìƒ í…Œì´ë¸”ì˜ ì˜ˆì¸¡ëœ í†µê³„ ì •ë³´ë¥¼ ì´ìš©í•´ ì‹¤í–‰ ê³„íšë³„ ë¹„ìš©ì„ ì‚°ì¶œí•œë‹¤. ì‚°ì¶œëœ ì‹¤í–‰ ë°©ë²•ë³„ë¡œ ë¹„ìš©ì´ ìµœì†Œë¡œ ì†Œìš”ë˜ëŠ” ì²˜ë¦¬ ë°©ì‹ì„ ì„ íƒí•´ ìµœì¢…ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤. ê·œì¹™ ê¸°ë°˜ ìµœì í™”ëŠ” ê° í…Œì´ë¸”ì´ë‚˜ ì¸ë±ìŠ¤ì˜ í†µê³„ ì •ë³´ê°€ ê±°ì˜ ì—†ê³  ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦° CPU ì—°ì‚° íƒ“ì— ë¹„ìš© ê³„ì‚° ê³¼ì •ì´ ë¶€ë‹´ìŠ¤ëŸ½ë‹¤ëŠ” ì´ìœ ë¡œ ì‚¬ìš©ë˜ëŠ” ìµœì í™” ë°©ë²•ì´ë‹¤. í˜„ì¬ëŠ” MySQLì„ í¬í•¨í•œ ëŒ€ë¶€ë¶„ì˜ RDBMSê°€ ë¹„ìš© ê¸°ë°˜ì˜ ì˜µí‹°ë§ˆì´ì €ë¥¼ ì±„íƒí•˜ê³  ìˆë‹¤.\nMySQL ì„œë²„ë¥¼ í¬í•¨í•œ ëª¨ë“  RDBMSëŠ” ë°ì´í„°ë¥¼ ì •ë ¬í•˜ê±°ë‚˜ ê·¸ë£¨í•‘í•˜ëŠ” ë“± ê¸°ë³¸ ë°ì´í„° ê°€ê³µ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆë‹¤. í•˜ì§€ë§Œ ê²°ê³¼ë¬¼ì€ ë™ì¼í•˜ë”ë¼ë„ RDBMS ë³„ë¡œ ê·¸ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ë‚´ëŠ” ê³¼ì •ì€ ì²œì°¨ë§Œë³„ì´ë‹¤.\ní’€ í…Œì´ë¸” ìŠ¤ìº”ê³¼ í’€ ì¸ë±ìŠ¤ ìŠ¤ìº” í’€ í…Œì´ë¸” ìŠ¤ìº”: ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì½ì–´ ìš”ì²­ëœ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì‘ì—…ì„ ì˜ë¯¸í•œë‹¤. í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë„ˆë¬´ ì‘ì•„ì„œ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì½ëŠ” ê²ƒ ë³´ë‹¤ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í•˜ëŠ” í¸ì´ ë” ë¹ ë¥¸ê²½ìš°(í…Œì´ë¸”ì´ í˜ì´ì§€ 1ê°œë¡œ êµ¬ì„±ëœ ê²½ìš°) WHERE ì ˆì´ë‚˜ ON ì ˆì— ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆëŠ” ì ì ˆí•œ ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš° ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¿¼ë¦¬ë¼ê³  í•˜ë”ë¼ë„ ì˜µí‹°ë§ˆì´ì €ê°€ íŒë‹¨í•œ ì¡°ê±´ ì¼ì¹˜ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë„ˆë¬´ ë§ì€ ê²½ìš°(ì¸ë±ìŠ¤ B-Treeë¥¼ ìƒ˜í”Œë§í•´ì„œ ì¡°ì‚¬í•œ í†µê³„ ì •ë³´ ê¸°ì¤€) ì¼ë°˜ì ìœ¼ë¡œ í…Œì´ë¸”ì˜ ì „ì²´ í¬ê¸°ëŠ” ì¸ë±ìŠ¤ë³´ë‹¤ í›¨ì”¬ í¬ê¸° ë•Œë¬¸ì— í…Œì´ë¸”ì„ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì½ëŠ” ì‘ì—…ì€ ìƒë‹¹íˆ ë§ì€ ë””ìŠ¤í¬ ì½ê¸°ê°€ í•„ìš”í•˜ë‹¤. ê·¸ë˜ì„œ ëŒ€ë¶€ë¶„ DBMSëŠ” í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‹¤í–‰í•  ë•Œ í•œêº¼ë²ˆì— ì—¬ëŸ¬ê°œì˜ ë¸”ë¡ì´ë‚˜ í˜ì´ì§€ë¥¼ ì½ì–´ì˜¤ëŠ” ê¸°ëŠ¥ì„ ë‚´ì¥í•˜ê³  ìˆë‹¤.\ní•˜ì§€ë§Œ MySQLì—ëŠ” í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‹¤í–‰í•  ë•Œ í•œêº¼ë²ˆì— ëª‡ ê°œì”© í…Œì´ë¸”ì„ ì½ì–´ì˜¬ì§€ ì„¤ì •í•˜ëŠ” ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” ì—†ë‹¤. ê·¸ë˜ì„œ ë§ì€ ì‚¬ëŒë“¤ì´ MySQLì€ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‹¤í–‰í•  ë•Œ ë””ìŠ¤í¬ë¡œë¶€í„° í˜ì´ì§€ë¥¼ í•˜ë‚˜ì”© ì½ì–´ ì˜¤ëŠ” ê²ƒìœ¼ë¡œ ìƒê°í•˜ì§€ë§Œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ íŠ¹ì • í…Œì´ë¸”ì˜ ì—°ì†ëœ ë°ì´í„° í˜ì´ì§€ê°€ ì½íˆë©´ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì— ì˜í•´ ë¦¬ë“œ ì–´í—¤ë“œ(Read ahead) ì‘ì—…ì´ ìë™ìœ¼ë¡œ ì‹œì‘ë˜ë©°, ì´ë¥¼ í†µí•´ ìš”ì²­ì´ ì˜¤ê¸° ì „ì— ë¯¸ë¦¬ ë””ìŠ¤í¬ì—ì„œ í•„ìš”í•  ë°ì´í„°ë¥¼ ì˜ˆì¸¡í•˜ì—¬ ì½ì–´ ë²„í¼í’€ì— ê°€ì €ë‹¤ë‘”ë‹¤.\nì¦‰, í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ ì‹¤í–‰ë˜ë©´ ì²˜ìŒ ëª‡ê°œì˜ ë°ì´í„° í˜ì´ì§€ëŠ” í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ(Foreground thread, í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œ)ê°€ í˜ì´ì§€ ì½ê¸°ë¥¼ ì‹¤í–‰í•˜ì§€ë§Œ íŠ¹ì • ì‹œì ë¶€í„°ëŠ” ì½ê¸° ì‘ì—…ì„ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œë¡œ ë„˜ê¸´ë‹¤.\në°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ì½ê¸°ë¥¼ ë„˜ê²¨ë°›ëŠ” ì‹œì ë¶€í„°ëŠ” í•œë²ˆì— 4ê°œ ë˜ëŠ” 8ê°œì”© í˜ì´ì§€ë¥¼ ì½ìœ¼ë©´ì„œ ê³„ì† ê·¸ ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ê³ , í•œ ë²ˆì— ìµœëŒ€ 64ê°œì˜ ë°ì´í„° í˜ì´ì§€ê¹Œì§€ ì½ì–´ ë²„í¼í’€ì— ì €ì¥í•´ë‘”ë‹¤. í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œëŠ” ë¯¸ë¦¬ ë²„í¼í’€ì— ì¤€ë¹„ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ë‹¤ ì‚¬ìš©í•˜ê¸°ë§Œ í•˜ë©´ ë˜ë¯€ë¡œ ì¿¼ë¦¬ê°€ ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤.\nMySQL ì„œë²„ì—ì„œëŠ” innodb_read_ahead_threshold ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ì–¸ì œ ë¦¬ë“œ ì–´í—¤ë“œë¥¼ ì‹œì‘í• ì§€ ì„ê³„ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì— ì˜í•´ ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°œìˆ˜ë§Œí¼ì˜ ì—°ì†ëœ ë°ì´í„° í˜ì´ì§€ê°€ ì½íˆë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•´ ëŒ€ëŸ‰ìœ¼ë¡œ ê·¸ ë‹¤ìŒ í˜ì´ì§€ë“¤ì„ ì½ì–´ì„œ ë²„í¼í’€ë¡œ ì ì¬í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì¶©ë¶„í•˜ì§€ë§Œ ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ìš©ìœ¼ë¡œ MySQLì„ ì‚¬ìš©í•œë‹¤ë©´ ì´ ì˜µì…˜ì„ ë” ë‚®ì€ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë” ë¹¨ë¦¬ ë¦¬ë“œ ì–´í—¤ë“œê°€ ì‹œì‘ë˜ê²Œ ìœ ë„í•˜ëŠ” ê²ƒë„ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.\në¦¬ë“œ ì–´í—¤ë“œëŠ” í’€ ì¸ë±ìŠ¤ ìŠ¤ìº”ì—ì„œë„ ë™ì¼í•˜ê²Œ ì‚¬ìš©ëœë‹¤.\në³‘ë ¬ ì²˜ë¦¬ MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ìš©ë„ê°€ í•œì •ë¼ ìˆê¸´ í•˜ì§€ë§Œ ì¿¼ë¦¬ ë³‘ë ¬ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•´ì¡Œë‹¤.\nì—¬ê¸°ì„œ ë§í•˜ëŠ” ë³‘ë ¬ ì²˜ë¦¬ëŠ” í•˜ë‚˜ì˜ ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë‚˜ëˆ„ì–´ ë™ì‹œì— ì²˜ë¦¬í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\ninnodb_parallel_read_threads ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ í•˜ë‚˜ì˜ ì¿¼ë¦¬ë¥¼ ìµœëŒ€ ëª‡ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•´ì„œ ì²˜ë¦¬í• ì§€ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ì•„ì§ MySQL ì„œë²„ì—ì„œëŠ” ì¿¼ë¦¬ë¥¼ ì—¬ëŸ¬ ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•´ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•˜ê²Œ í•˜ëŠ” íŒíŠ¸ë‚˜ ì˜µì…˜ì€ ì—†ìœ¼ë©°, ì•„ë¬´ëŸ° WHEREì¡°ê±´ ì—†ì´ ë‹¨ìˆœíˆ í…Œì´ë¸”ì˜ ì „ì²´ ê±´ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¿¼ë¦¬ë§Œ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n1 2 SET SESSION innodb_parallel_read_threads={n}; SELECT COUNT(*) FROM salaries; ë³‘ë ¬ ì²˜ë¦¬ìš© ìŠ¤ë ˆë“œ ê°œìˆ˜ê°€ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ì¿¼ë¦¬ ì²˜ë¦¬ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì´ ëŒ€ì²´ë¡œ ì¤„ì–´ë“¤ì§€ë§Œ, ì„œë²„ì— ì¥ì°©ëœ CPUì˜ ì½”ì–´ ê°œìˆ˜ë¥¼ ë„˜ì–´ì„œëŠ” ê²½ìš°ì—ëŠ” ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ë„ ìˆìœ¼ë‹ˆ ì£¼ì˜ê°€ í•„ìš”í•˜ë‹¤.\n","date":"2023-05-22T16:09:10+09:00","image":"https://codemario318.github.io/post/real-mysql/9/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/9/1/","title":"9. ì˜µí‹°ë§ˆì´ì €ì™€ íŒíŠ¸ (1)"},{"content":"í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ ì¼ë°˜ì ì¸ ì¸ë±ìŠ¤ëŠ” ì»¬ëŸ¼ì˜ ê°’ ì¼ë¶€(ê±¸ëŸ½ì˜ ê°’ ì•ë¶€ë¶„) ë˜ëŠ” ì „ì²´ì— ëŒ€í•´ì„œë§Œ ì¸ë±ìŠ¤ ìƒì„±ì´ í—ˆìš©ë˜ì§€ë§Œ, ì»¬ëŸ¼ì˜ ê°’ì„ ë³€í˜•í•´ì„œ ë§Œë“¤ì–´ì§„ ê°’ì— ëŒ€í•´ ì¸ë±ìŠ¤ë¥¼ êµ¬ì¶•í•´ì•¼ í•˜ëŠ” ê²½ìš°ë„ ìˆëŠ”ë°, ì´ëŸ¬í•œ ê²½ìš° í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.\nMySQL ì„œë²„ì˜ í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ëŠ” ì¸ë±ì‹±í•  ê°’ì„ ê³„ì‚°í•˜ëŠ” ê³¼ì •ì˜ ì°¨ì´ë§Œ ìˆì„ ë¿, ì‹¤ì œ ì¸ë±ìŠ¤ì˜ ë‚´ë¶€ì ì¸ êµ¬ì¡° ë° ìœ ì§€ ê´€ë¦¬ ë°©ë²•ì€ B-Tree ì¸ë±ìŠ¤ì™€ ë™ì¼í•˜ë‹¤.\nê°€ìƒ ì»¬ëŸ¼ì„ ì´ìš©í•œ ì¸ë±ìŠ¤ 1 2 3 4 5 6 7 CREATE TABLE user ( user_id BIGINT, first_name VARCHAR(10), last_name VARCHAR(10), PRIMARY KEY (user_id) ); ì´ì „ ë²„ì „ì˜ MySQLì€ í•´ë‹¹ í…Œì´ë¸”ì—ì„œ first_nameê³¼ last_nameì„ í•©ì³ ê²€ìƒ‰í•´ì•¼ í•˜ëŠ” ìš”ê±´ì´ ìƒê²¼ë‹¤ë©´ full_nameì´ë¼ëŠ” ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ê³  ëª¨ë“  ë ˆì½”ë“œì— ëŒ€í•´ í•´ë‹¹ ì»¬ëŸ¼ì„ ì—…ë°ì´íŠ¸ í•˜ëŠ” ì‘ì—…ì„ ê±°ì²˜ì•¼ ì¸ë±ìŠ¤ë¥¼ ìƒì„± í•  ìˆ˜ ìˆì—ˆë‹¤.\ní•˜ì§€ë§Œ MySQL 8.0 ë²„ì „ ë¶€í„°ëŠ” ê°€ìƒ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ê³  í•´ë‹¹ ê°€ìƒ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ ëë‹¤.\n1 2 3 ALTER TABLE user ADD full_name VARCHAR(30) AS (CONCAT(first_name, \u0026#39; \u0026#39;, last_name)) VIRTUAL, ADD INDEX ix_fullname (full_name); ê°€ìƒ ì»¬ëŸ¼ì´ VIRTUAL, STORED ì˜µì…˜ ì¤‘ ì–´ë–¤ ì˜µì…˜ìœ¼ë¡œ ìƒì„±ëë“  ê´€ê³„ ì—†ì´ í•´ë‹¹ ê°€ìƒ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ê°€ìƒ ì»¬ëŸ¼ì€ í…Œì´ë¸”ì— ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ëŠ” ê²ƒê³¼ ê°™ì€ íš¨ê³¼ë¥¼ ë‚´ê¸° ë•Œë¬¸ì— ì‹¤ì œ í…Œì´ë¸”ì˜ êµ¬ì¡°ê°€ ë³€ê²½ëœë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.\ní•¨ìˆ˜ë¥¼ ì´ìš©í•œ ì¸ë±ìŠ¤ ê°€ìƒ ì»¬ëŸ¼ì€ MySQL 5.7 ë²„ì „ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆì§€ë§Œ í•¨ìˆ˜ë¥¼ ì§ì ‘ ì¸ë±ìŠ¤ ìƒì„± êµ¬ë¬¸ì— ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ì—ˆë‹¤. í•˜ì§€ë§Œ MySQL 8.0 ë²„ì „ ë¶€í„°ëŠ” í…Œì´ë¸” êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ , í•¨ìˆ˜ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ ëë‹¤.\n1 2 3 4 5 6 7 8 CREATE TABLE user ( user_id BIGINT, first_name VARCHAR(10), last_name VARCHAR(10), PRIMARY KEY (user_id), INDEX ix_fullname ((CONCAT(first_name, \u0026#39; \u0026#39;, last_name))) ); í•¨ìˆ˜ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ì¸ë±ìŠ¤ëŠ” í…Œì´ë¸”ì˜ êµ¬ì¡°ëŠ” ë³€ê²½í•˜ì§€ ì•Šê³ , ê³„ì‚°ëœ ê²°ê´ê°’ì˜ ê²€ìƒ‰ì„ ë¹ ë¥´ê²Œ ë§Œë“¤ì–´ì¤€ë‹¤. í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ë¥¼ ì œëŒ€ë¡œ í™œìš©í•˜ë ¤ë©´ ë°˜ë“œì‹œ ì¡°ê±´ì ˆì— í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ì— ëª…ì‹œëœ í‘œí˜„ì‹ì´ ê·¸ëŒ€ë¡œ ì‚¬ìš©ë¼ì•¼ í•œë‹¤. í•¨ìˆ˜ ìƒì„± ì‹œ ëª…ì‹œëœ í‘œí˜„ì‹ê³¼ ì¿¼ë¦¬ì˜ WHERE ì¡°ê±´ì ˆì— ì‚¬ìš©ëœ í‘œí˜„ì‹ì´ ë‹¤ë¥´ë‹¤ë©´ ê²°ê³¼ê°€ ê°™ë‹¤ê³  í•˜ë”ë¼ë„ MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ë‹¤ë¥¸ í‘œí˜„ì‹ìœ¼ë¡œ ê°„ì£¼í•´ì„œ í•¨ìˆ˜ ê¸°ë°˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤.\nê°€ìƒ ì»¬ëŸ¼ê³¼ í•¨ìˆ˜ë¥¼ ì§ì ‘ ì´ìš©í•˜ëŠ” ì¸ë±ìŠ¤ëŠ” ì‚¬ìš©ë²•ê³¼ ë¬¸ë²•ì—ì„œ ì¡°ê¸ˆ ì°¨ì´ê°€ ìˆì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œ ë™ì¼í•œ êµ¬í˜„ ë°©ë²•ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì–´ë–¤ ë°©ë²•ì„ ì‚¬ìš©í•˜ë”ë¼ë„ ë‘˜ì˜ ì„±ëŠ¥ ì°¨ì´ëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\në©€í‹° ë°¸ë¥˜ ì¸ë±ìŠ¤ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì œì™¸í•œ ëª¨ë“  ì¸ë±ìŠ¤ëŠ” ë ˆì½”ë“œ 1ê±´ì´ 1ê°œì˜ ì¸ë±ìŠ¤ í‚¤ ê°’ì„ ê°€ì§€ëŠ” 1:1 ê´€ê³„ì´ë‹¤. í•˜ì§€ë§Œ ë©€í‹° ë°¸ë¥˜ ì¸ë±ìŠ¤ëŠ” í•˜ë‚˜ì˜ ë°ì´í„° ë ˆì½”ë“œê°€ ì—¬ëŸ¬ ê°œì˜ í‚¤ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ì¸ë±ìŠ¤ë‹¤. ì¼ë°˜ì ì¸ RDBMSë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒê°í•˜ë©´ ì´ëŸ¬í•œ ì¸ë±ìŠ¤ëŠ” ì •ê·œí™”ì— ìœ„ë°°ë˜ëŠ” í˜•íƒœì´ì§€ë§Œ, ìµœê·¼ RDBMSë“¤ì´ JSON ë°ì´í„° íƒ€ì…ì„ ì§€ì›í•˜ê¸° ì‹œì‘í•˜ë©´ì„œ JSONì˜ ë°°ì—´ íƒ€ì…ì˜ í•„ë“œì— ì €ì¥ëœ ì›ì†Œë“¤ì— ëŒ€í•œ ì¸ë±ìŠ¤ ìš”ê±´ì´ ë°œìƒí•œ ê²ƒì´ë‹¤.\nJSON í¬ë§·ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” MongoDBëŠ” ì²˜ìŒë¶€í„° ì´ëŸ° í˜•íƒœì˜ ì¸ë±ìŠ¤ë¥¼ ì§€ì›í•˜ê³  ìˆì—ˆì§€ë§Œ MySQL ì„œë²„ëŠ” ë©€í‹° ë°¸ë¥˜ ì¸ë±ìŠ¤ì— ëŒ€í•œ ì§€ì› ì—†ì´ JSON íƒ€ì…ì˜ ì»¬ëŸ¼ë§Œ ì§€ì›í–ˆë‹¤. í•˜ì§€ë§Œ ë°°ì—´ í˜•íƒœì— ëŒ€í•œ ì¸ë±ìŠ¤ ìƒì„±ì´ ë˜ì§€ ì•Šì•„ MongoDBì˜ ê¸°ëŠ¥ê³¼ ë§ì´ ë¹„êµë˜ê³¤ í–ˆë‹¤.\nMySQL 8.0 ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ë©´ì„œ JSON ê´€ë¦¬ ê¸°ëŠ¥ì€ MongoDBì— ë¹„í•´ì„œë„ ë¶€ì¡±í•¨ì´ ì—†ëŠ” ìƒíƒœë¡œ ë°œì „í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 CREATE TABLE user ( user_id BIGINT AUTO_INCREMENT PRIMARY KEY, first_name VARCHAR(10), last_name VARCHAR(10), credit_info JSON, INDEX imx_creditscores ((CAST(credit_info-\u0026gt;\u0026#39;$.credit_scores\u0026#39; AS UNSIGNED ARRAY))) ); INSERT INTO user VALUES (1, \u0026#39;mario\u0026#39;, \u0026#39;lee\u0026#39;, \u0026#39;{\u0026#34;credit_scores\u0026#34;:[360, 353, 351]}\u0026#39;); ë©€í‹° ë°¸ë¥˜ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì¼ë°˜ì ì¸ ì¡°ê±´ ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ ì•ˆ ë˜ê³ , ë°˜ë“œì‹œ ë‹¤ìŒ í•¨ìˆ˜ë“¤ì„ ì´ìš©í•´ì„œ ê²€ìƒ‰í•´ì•¼ ì˜µí‹°ë§ˆì´ì €ê°€ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•œë‹¤.\nMEMBER OF() JSON_CONTAINS() JSON_OVERLAPS() 1 SELECT * FROM user WHERE 360 MEMBER OF(credit_info-\u0026gt;\u0026#39;$.credit_scores\u0026#39;); MySQL ì„œë²„ì˜ Worklogì—ëŠ” DECIMAL, INTEGER, DATETIME, VARCHAR/CHAR íƒ€ì…ì— ëŒ€í•´ ë©€í‹° ë°¸ë¥˜ ì¸ë±ìŠ¤ë¥¼ ì§€ì›í•œë‹¤ê³  ëª…ì‹œë¼ ìˆì§€ë§Œ MySQL 8.0.21 ë²„ì „ì—ì„œëŠ” VARCHAR/CHAR íƒ€ì…ì— ëŒ€í•´ì„œëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ê³§ VARCHAR/CHARíƒ€ì…ì˜ ë°°ì—´ í˜•íƒœ CASTì™€ ë©€í‹° ë°¸ë¥˜ ì¸ë±ìŠ¤ê°€ ì§€ì›ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.\ní´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ MySQL ì„œë²„ì—ì„œ í´ëŸ¬ìŠ¤í„°ë§ì€ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ë¹„ìŠ·í•œ ê²ƒ(í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ)ë“¤ë¼ë¦¬ ë¬¶ì–´ì„œ ì €ì¥í•˜ëŠ” í˜•íƒœë¡œ êµ¬í˜„ë˜ëŠ”ë°, ì´ëŠ” ì£¼ë¡œ ë¹„ìŠ·í•œ ê°’ë“¤ì„ ë™ì‹œì— ì¡°íšŒí•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤ëŠ” ì ì—ì„œ ì°©ì•ˆë˜ì—ˆë‹¤. MySQLì—ì„œ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œë§Œ ì§€ì›í•œë‹¤.\ní´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ëŠ” í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ëŒ€í•´ì„œë§Œ ì ìš©ë˜ëŠ” ë‚´ìš©ì´ë‹¤. ì¦‰ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì´ ë¹„ìŠ·í•œ ë ˆì½”ë“œë¼ë¦¬ ë¬¶ì–´ì„œ ì €ì¥í•˜ëŠ” ê²ƒì„ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ë¼ê³  í‘œí˜„í•œë‹¤.\në”°ë¼ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì— ì˜í•´ ë ˆì½”ë“œì— ì €ì¥ ìœ„ì¹˜ê°€ ê²°ì •ë˜ë©°, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì´ ë³€ê²½ëœë‹¤ë©´ ê·¸ ë ˆì½”ë“œì˜ ë¬¼ë¦¬ì ì¸ ì €ì¥ ìœ„ì¹˜ê°€ ë°”ë€Œì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë§ ëœ í…Œì´ë¸”ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ ìì²´ì— ëŒ€í•œ ì˜ì¡´ë„ê°€ ìƒë‹¹íˆ í¬ê¸° ë•Œë¬¸ì— ì‹ ì¤‘íˆ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ê²°ì •í•´ì•¼í•œë‹¤.\ní´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ëŠ” í”„ë¼ì´ì»¤ë¦¬ í‚¤ ê°’ì— ì˜í•´ ë ˆì½”ë“œì˜ ì €ì¥ ìœ„ì¹˜ê°€ ê²°ì •ë˜ë¯€ë¡œ ì¸ë±ìŠ¤ ì•Œê³ ë¦¬ì¦˜ì´ë¼ê¸° ë³´ë‹¤ëŠ” í…Œì´ë¸” ë ˆì½”ë“œì˜ ì €ì¥ ë°©ì‹ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤, ê·¸ë˜ì„œ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ì™€ í´ëŸ¬ìŠ¤í„°ë§ í…Œì´ë¸”ì€ ë™ì˜ì–´ë¡œ ì‚¬ìš©ë˜ê¸°ë„ í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ InnoDBì™€ ê°™ì´ í•­ìƒ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ë¡œ ì €ì¥ë˜ëŠ” í…Œì´ë¸”ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê¸°ë°˜ ê²€ìƒ‰ì´ ë§¤ìš° ë¹ ë¥´ë©°, ëŒ€ì‹  ë ˆì½”ë“œì˜ ì €ì¥ì´ë‚˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ë³€ê²½ì´ ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¬ë‹¤.\ní´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ êµ¬ì¡°ë¥¼ ë³´ë©´ í´ëŸ¬ìŠ¤í„°ë§ í…Œì´ë¸”ì˜ êµ¬ì¡° ìì²´ëŠ” ì¼ë°˜ B-Treeì™€ ë¹„ìŠ·í•˜ë‹¤. í•˜ì§€ë§Œ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ë¥¼ ìœ„í•œ B-Treeì˜ ë¦¬í”„ ë…¸ë“œì™€ëŠ” ë‹¬ë¦¬ í´ëŸ¬ìŠ¤í„°ë§ ì¸ê²ŸìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œì—ëŠ” ë ˆì½”ë“œì˜ ëª¨ë“  ì»¬ëŸ¼ì´ ê°™ì´ ì €ì¥ë¼ ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.\n1 UPDATE tb_test SET emp_no=10002 WHERE emp_no=10007; í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ì—†ëŠ” InnoDB í…Œì´ë¸”ì—ì„œëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë‹¤ìŒ ìš°ì„ ìˆœìœ„ëŒ€ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ëŒ€ì²´í•  ì»¬ëŸ¼ì„ ì„ íƒí•œë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ìˆë‹¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ í´ëŸ¬ìŠ¤í„°ë§ í‚¤ë¡œ ì„ íƒ NOT NULLì˜µì…˜ì˜ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ ì¤‘ì—ì„œ ì²« ë²ˆì§¸ ì¸ë±ìŠ¤ë¥¼ í´ëŸ¬ìŠ¤í„°ë§ í‚¤ë¡œ ì„ íƒ ìë™ìœ¼ë¡œ ìœ ë‹ˆí¬í•œ ê°’ì„ ê°€ì§€ë„ë¡ ì¦ê°€ë˜ëŠ” ì»¬ëŸ¼ì„ ë‚´ë¶€ì ìœ¼ë¡œ ì¶”ê°€í•œ í›„, í´ëŸ¬ìŠ¤í„°ë§ í‚¤ë¡œ ì„ íƒ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ì ì ˆí•œ í´ëŸ¬ìŠ¤í„°ë§ í‚¤ í›„ë³´ë¥¼ ì°¾ì§€ ëª»í•˜ëŠ” ê²½ìš° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë‚´ë¶€ì ìœ¼ë¡œ ë ˆì½”ë“œì˜ ì¼ë ¨ë²ˆí˜¸ ì»¬ëŸ¼ì„ ìƒì„±í•˜ëŠ”ë°, ìë™ìœ¼ë¡œ ì¶”ê°€ëœ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œë˜ì§€ ì•Šìœ¼ë©°, ì¿¼ë¦¬ ë¬¸ì¥ì— ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì¦‰ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ì „í˜€ ì—†ëŠ” InnoDB í…Œì´ë¸”ì—ì„œëŠ” ì•„ë¬´ ì˜ë¯¸ ì—†ëŠ” ìˆ«ì ê°’ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë§ë˜ì–´ ì‚¬ìš©ìì—ê²Œ ì•„ë¬´ëŸ° í˜œíƒë„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.\në”°ë¼ì„œ InnoDB í…Œì´ë¸”ì—ì„œ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ëŠ” í…Œì´ë¸”ë‹¹ ë‹¨ í•˜ë‚˜ë§Œ ê°€ì§ˆìˆ˜ ìˆëŠ” ì—„ì²­ë‚œ í˜œíƒì´ë¯€ë¡œ ê°€ëŠ¥í•˜ë‹¤ë©´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ MyISAMì´ë‚˜ MEMORY í…Œì´ë¸” ê°™ì€ í´ëŸ¬ìŠ¤í„°ë§ë˜ì§€ ì•Šì€ í…Œì´ë¸”ì€ INSERTë  ë•Œ ì²˜ìŒ ì €ì¥ëœ ê³µê°„ì—ì„œ ì ˆëŒ€ ì´ë™í•˜ì§€ ì•ŠëŠ”ë‹¤. ë°ì´í„° ë ˆì½”ë“œê°€ ì €ì¥ëœ ì£¼ì†ŒëŠ” ë‚´ë¶€ì ì¸ ë ˆì½”ë“œ ì•„ì´ë””(ROWID) ì—­í• ì„ í•˜ë©°, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì˜ ê° í‚¤ëŠ” ê·¸ ì£¼ì†Œë¥¼ ì´ìš©í•´ ì‹¤ì œ ë°ì´í„°ë¥¼ ì°¾ì•„ì˜¤ê¸° ë•Œë¬¸ì— í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì™€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” êµ¬ì¡°ì ìœ¼ë¡œ ì•„ë¬´ëŸ° ì°¨ì´ê°€ ì—†ë‹¤.\nInnoDBëŠ” í´ëŸ¬ìŠ¤í„°ë§ í‚¤ ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë°ì´í„° ë ˆì½”ë“œì˜ ì£¼ì†Œê°€ ë³€ê²½ë˜ê³  ê·¸ë•Œë§ˆë‹¤ í•´ë‹¹ í…Œì´ë¸”ì˜ ëª¨ë“  ì¸ë±ìŠ¤ì— ì €ì¥ëœ ì£¼ì†Ÿê°’ì„ ë³€ê²½í•´ì•¼ í•œë‹¤. ì´ëŸ° ì˜¤ë²„í—¤ë“œë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ InnoDB í…Œì´ë¸”(í´ëŸ¬ìŠ¤í„°ë§ í…Œì´ë¸”)ì˜ ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” í•´ë‹¹ ë ˆì½”ë“œê°€ ì €ì¥ëœ ì£¼ì†Œê°€ ì•„ë‹Œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì„ ì €ì¥í•˜ë„ë¡ êµ¬í˜„ë¼ ìˆë‹¤.\nInnoDBê°€ MyISAMë³´ë‹¤ ì¡°ê¸ˆ ë” ë³µì¡í•˜ê²Œ ì²˜ë¦¬ë˜ì§€ë§Œ, InnoDBí…Œì´ë¸”ì—ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ë” í° ì¥ì ì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ ì €í•˜ì— ëŒ€í•´ ê±±ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.\ní´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ì˜ ì¥ì ê³¼ ë‹¨ì  ì¥ì \ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ê²€ìƒ‰í•  ë•Œ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë§¤ìš° ë¹ ë¦„(íŠ¹íˆ, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ë²”ìœ„ ê²€ìƒ‰í•˜ëŠ” ê²½ìš° ë§¤ìš° ë¹ ë¦„) í…Œì´ë¸”ì˜ ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ì¸ë±ìŠ¤ë§Œìœ¼ë¡œ ì²˜ë¦¬ë  ìˆ˜ ì‡ëŠ” ê²½ìš°ê°€ ë§ìŒ(ì»¤ë²„ë§ ì¸ë±ìŠ¤) ë‹¨ì \ní…Œì´ë¸”ì˜ ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ í´ëŸ¬ìŠ¤í„°ë§ í‚¤ë¥¼ ê°–ê¸° ë•Œë¬¸ì— í´ëŸ¬ì‹œí„°ë§ í‚¤ ê°’ì˜ í¬ê¸°ê°€ í´ ê²½ìš° ì „ì²´ì ìœ¼ë¡œ ì¸ë±ìŠ¤ì˜ í¬ê¸°ê°€ ì»¤ì§ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ê²€ìƒ‰í•  ë•Œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ë‹¤ì‹œ í•œë²ˆ ê²€ìƒ‰í•´ì•¼ í•˜ë¯€ë¡œ ì²˜ë¦¬ ì„±ëŠ¥ì´ ëŠë¦¼ INSERTí•  ë•Œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•´ ë ˆì½”ë“œì˜ ì €ì¥ ìœ„ì¹˜ê°€ ê²°ì •ë˜ê¸° ë•Œë¬¸ì— ì²˜ë¦¬ ì„±ëŠ¥ì´ ëŠë¦¼ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ë³€ê²½í•  ë•Œ ë ˆì½”ë“œë¥¼ DELETEí•˜ê³  INSERT í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì²˜ë¦¬ ì„±ëŠ¥ì´ ëŠë¦¼ ì¼ë°˜ì ìœ¼ë¡œ ì›¹ ì„œë¹„ìŠ¤ì™€ ê°™ì€ ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ í™˜ê²½ì—ì„œëŠ” ì“°ê¸°ì™€ ì½ê¸° ë¹„ìœ¨ì´ 2:8, 1:9 ì •ë„ì´ê¸° ë•Œë¬¸ì— ì¡°ê¸ˆ ëŠë¦° ì“°ê¸°ë¥¼ ê°ìˆ˜í•˜ê³  ì½ê¸°ë¥¼ ë¹ ë¥´ê²Œ ìœ ì§€í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.\ní´ëŸ¬ìŠ¤í„°ë§ í…Œì´ë¸” ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ í‚¤ì˜ í¬ê¸° í´ëŸ¬ìŠ¤í„°ë§ í…Œì´ë¸”ì˜ ê²½ìš° ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤(í´ëŸ¬ìŠ¤í„°ë§ í‚¤) ê°’ì„ í¬í•¨í•œë‹¤. ê·¸ë˜ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ í¬ê¸°ê°€ ì»¤ì§€ë©´ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ë„ ìë™ìœ¼ë¡œ í¬ê¸°ê°€ ì»¤ì§„ë‹¤. í•˜ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ í…Œì´ë¸”ì— ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ 4~5ê°œ ì •ë„ ìƒì„±ëœë‹¤ëŠ” ê²ƒì„ ê³ ë ¤í•˜ë©° ã„´ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ í¬ê¸°ëŠ” ê¸‰ê²©íˆ ì¦ê°€í•œë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ í¬ê¸° ë ˆì½”ë“œë‹¹ ì¦í•˜ê°€í•˜ëŠ” ì¸ë±ìŠ¤ í¬ê¸° 100ë§Œ ê±´ ì €ì¥ ì‹œ ì¦ê°€í•˜ëŠ” ì¸ë±ìŠ¤ í¬ê¸° 10ë°”ì´íŠ¸ 10 ë°”ì´íŠ¸ * 5 = 50 ë°”ì´íŠ¸ 50ë°”ì´íŠ¸ * 1,000,000 = 47MB 50ë°”ì´íŠ¸ 50 ë°”ì´íŠ¸ * 5 = 250 ë°”ì´íŠ¸ 250ë°”ì´íŠ¸ * 1,000,000 = 238MB ë ˆì½”ë“œ í•œ ê±´ì„ ìƒê°í•˜ë©´ ì»¤ ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë‚˜ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ 100ë§Œ ê±´ë§Œ ë¼ë„ ì¸ë±ìŠ¤ì˜ í¬ê¸°ê°€ ê±°ì˜ 190MBë‚˜ ì¦ê°€í•œë‹¤. ë˜í•œ ì¸ë±ìŠ¤ê°€ ì»¤ì§ˆìˆ˜ë¡ ê°™ì€ ì„±ëŠ¥ì„ ë‚´ê¸° ìœ„í•´ ê·¸ë§Œí¼ì˜ ë©”ëª¨ë¦¬ê°€ ë” í•„ìš”í•´ì§€ë¯€ë¡œ InnoDB í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•´ì•¼ í•œë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” AUTO-INCREMENT ë³´ë‹¤ëŠ” ì—…ë¬´ì ì¸ ì»¬ëŸ¼ìœ¼ë¡œ ìƒì„±(ê°€ëŠ¥í•˜ë©´) InnoDBì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” í´ëŸ¬ìŠ¤í„°ë§ í‚¤ë¡œ ì‚¬ìš©ë˜ë©°, ì´ ê°’ì— ì˜í•´ ë ˆì½”ë“œì˜ ìœ„ì¹˜ê°€ ê²°ì •ëœë‹¤. ì¦‰ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ê²€ìƒ‰í•˜ëŠ” ê²½ìš° í´ëŸ¬ìŠ¤í„°ë§ ë˜ì§€ì•Šì€ í…Œì´ë¸”ì— ë¹„í•´ ë§¤ìš° ë¹ ë¥´ê²Œ ì²˜ë¦¬ë  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•œë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ì˜ë¯¸ë§Œí¼ì´ë‚˜ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ ê²€ìƒ‰ì—ì„œ ìƒë‹¹íˆ ë¹ˆë²ˆí•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì„¤ë ¹ ì»¬ëŸ¼ì˜ í¬ê¸°ê°€ í¬ë”ë¼ë„ ì—…ë¬´ì ìœ¼ë¡œ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ëŒ€í‘œí•  ìˆ˜ ìˆë‹¤ë©´ ê·¸ ì»¬ëŸ¼ì„ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ë°˜ë“œì‹œ ëª…ì‹œí•  ê²ƒ ê°€ëŠ¥í•˜ë©´ AUTO_INCREMENTì»¬ëŸ¼ì„ ì´ìš©í•´ì„œë¼ë„ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ìƒì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. InnoDBì—ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë‚´ë¶€ì ìœ¼ë¡œ ì¼ë ¨ë²ˆí˜¸ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ì§€ë§Œ ì‚¬ìš©ìëŠ” ì „í˜€ ì ‘ê·¼í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œAUTO_INCREMENT ì»¬ëŸ¼ì„ ìƒì„±í•˜ê³  í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ì„¤ì •í•˜ì—¬ ì‚¬ìš©ìê°€ í™œìš©í•  ìˆ˜ ìˆëŠ” ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë˜í•œ ROW ê¸°ë°˜ ë³µì œë‚˜ InnoDB Clusterì—ì„œëŠ” ëª¨ë“  í…Œì´ë¸”ì´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ê°€ì ¸ì•¼ë§Œ ì •ìƒì ì¸ ë³µì œ ì„±ëŠ¥ì„ ë³´ì¥í•˜ê¸°ë„ í•˜ë¯€ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ê¼­ ìƒì„±í•´ì•¼ í•œë‹¤.\nAUTO-INCREMENT ì»¬ëŸ¼ì„ ì¸ì¡° ì‹ë³„ìë¡œ ì‚¬ìš©í•  ê²½ìš° ì—¬ëŸ¬ ê°œì˜ ì»¬ëŸ¼ì´ ë³µí•©ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ë§Œë“¤ì–´ì§€ëŠ” ê²½ìš° í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ í¬ê¸°ê°€ ê¸¸ì–´ì§ˆ ë•Œê°€ ê°€ë” ìˆëŠ”ë°, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ í¬ê¸°ê°€ ê¸¸ì–´ë„ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ ê·¸ëŒ€ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ë„ í•„ìš”í•˜ê³  í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ í¬ê¸°ë„ ê¸¸ë‹¤ë©´ AUTO_INCREMENTì»¬ëŸ¼ì„ ì¶”ê°€í•˜ê³  ì´ë¥¼ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ì„¤ì •í•œë‹¤.\nì´ë ‡ê²Œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ ì¸ìœ„ì ìœ¼ë¡œ ì¶”ê°€ëœ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì¸ì¡° ì‹ë³„ì(Surrogate key)ë¼ê³  í•œë‹¤. ê·¸ë¦¬ê³  ë¡œê·¸ í…Œì…ë¥´ê³¼ ê°™ì´ ì¡°íšŒë³´ë‹¤ëŠ” INSERT ìœ„ì£¼ì˜ í…Œì´ë¸”ë“¤ì€ AUTO_INCREMENTë¥¼ ì´ìš©í•œ ì¸ì¡° ì‹ë³„ìë¥¼ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ í–¥ìƒì— ë„ì›€ì´ ëœë‹¤.\nìœ ë‹ˆí¬ ì¸ë±ìŠ¤ ìœ ë‹ˆí¬ëŠ” ì¸ë±ìŠ¤ë¼ê¸°ë³´ë‹¤ëŠ” ì œì•½ ì¡°ê±´ì— ê°€ê¹ë‹¤. í…Œì´ë¸”ì´ë‚˜ ì¸ë±ìŠ¤ì— ê°™ì€ ê°’ì´ 2ê°œ ì´ìƒ ì €ì¥ë  ìˆ˜ ì—†ìŒì„ ì˜ë¯¸í•˜ëŠ”ë°, MySQLì—ì„œëŠ” ì¸ë±ìŠ¤ ì—†ì´ ìœ ë‹ˆí¬ ì œì•½ë§Œ ì„¤ì •í•  ë°©ë²•ì´ ì—†ë‹¤.\nìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì—ì„œ NULLë„ ì €ì¥ë  ìˆ˜ ìˆëŠ”ë°, NULLì€ íŠ¹ì • ê°’ì´ ì•„ë‹ˆë¯€ë¡œ 2ê°œ ì´ìƒ ì €ì¥ë  ìˆ˜ ìˆë‹¤. MySQLì—ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ NULLì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ìœ ë‹ˆí¬ ì†ì„±ì´ ìë™ìœ¼ë¡œ ë¶€ì—¬ëœë‹¤.\nìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì™€ ì¼ë°˜ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì˜ ë¹„êµ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì™€ ìœ ë‹ˆí¬í•˜ì§€ ì•Šì€ ì¼ë°˜ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ì¸ë±ìŠ¤ êµ¬ì¡°ìƒ ì•„ë¬´ëŸ° ì°¨ì´ì ì´ ì—†ë‹¤. í•˜ì§€ë§Œ ì½ê¸°ì™€ ì“°ê¸°ì— ëŒ€í•´ ì„±ëŠ¥ì ìœ¼ë¡œ ë‹¤ë¥¸ ë¶€ë¶„ì´ ìˆë‹¤.\nì¸ë±ìŠ¤ ì½ê¸° ë§ì€ ì‚¬ëŒë“¤ì´ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ë¹ ë¥´ë‹¤ê³  ìƒê°í•˜ì§€ë§Œ, ìœ ë‹ˆí¬í•˜ì§€ ì•Šì€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì—ì„œ í•œ ë²ˆ ë” í•´ì•¼ í•˜ëŠ” ì‘ì—…ì€ ë””ìŠ¤í¬ ì½ê¸°ê°€ ì•„ë‹ˆë¼ CPUì—ì„œ ì»¬ëŸ¼ ê°’ì„ ë¹„êµí•˜ëŠ” ì‘ì—…ì´ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ìƒ ì˜í–¥ì´ ê±°ì˜ ì—†ë‹¤.\nìœ ë‹ˆí¬í•˜ì§€ ì•Šì€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ì¤‘ë³µëœ ê°’ì´ í—ˆìš©ë˜ë¯€ë¡œ ì½ì–´ì•¼ í•  ë ˆì½”ë“œê°€ ë§ì•„ì„œ ëŠë¦°ê²ƒì´ì§€, ì¸ë±ìŠ¤ ìì²´ì˜ íŠ¹ì„± ë•Œë¬¸ì— ëŠë¦° ê²ƒì´ ì•„ë‹ˆë‹¤.\ní•˜ë‚˜ì˜ ê°’ì„ ê²€ìƒ‰í•˜ëŠ” ê²½ìš°, ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì™€ ì¼ë°˜ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ì‚¬ìš©ë˜ëŠ” ì‹¤í–‰ ê³„íšì´ ë‹¤ë¥´ë‹¤. í•˜ì§€ë§Œ ì´ëŠ” ì¸ë±ìŠ¤ì˜ ì„±ê²©ì´ ìœ ë‹ˆí¬í•œì§€ ì•„ë‹Œì§€ì— ë”°ë¥¸ ì°¨ì´ì¼ ë¿ í° ì°¨ì´ëŠ” ì—†ë‹¤.\nì¸ë±ìŠ¤ ì“°ê¸° ìƒˆë¡œìš´ ë ˆì½”ë“œê°€ INSERT ë˜ê±°ë‚˜ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì˜ ê°’ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°ì—ëŠ” ì¸ë±ìŠ¤ ì“°ê¸° ì‘ì—…ì´ í•„ìš”í•˜ë‹¤. ê·¸ëŸ°ë° ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì˜ í‚¤ ê°’ì„ ì“¸ ë•ŒëŠ” ì¤‘ë³µëœ ê°’ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ì²´í¬í•˜ëŠ” ê³¼ì •ì´ í•œ ë‹¨ê³„ ë” í•„ìš”í•˜ë‹¤. ê·¸ë˜ì„œ ìœ ë‹ˆí¬í•˜ì§€ ì•Šì€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì˜ ì“°ê¸°ë³´ë‹¤ ëŠë¦¬ë‹¤.\nMySQLì—ì„œëŠ” ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì—ì„œ ì¤‘ë³µëœ ê°’ì„ ì²´í¬í•  ë•ŒëŠ” ì½ê¸° ì ê¸ˆì„ ì‚¬ìš©í•˜ê³ , ì“°ê¸°ë¥¼ í•  ë•ŒëŠ” ì“°ê¸° ì ê¸ˆì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ ê³¼ì •ì—ì„œ ë°ë“œë½ì´ ì•„ì£¼ ë¹ˆë²ˆíˆ ë°œìƒí•œë‹¤.\në˜í•œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ëŠ” ì¸ë±ìŠ¤ í‚¤ì˜ ì €ì¥ì„ ë²„í¼ë§ í•˜ê¸° ìœ„í•´ ì²´ì¸ì§€ ë²„í¼(Change Buffer)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ë±ìŠ¤ì˜ ì €ì¥ì´ë‚˜ ë³€ê²½ ì‘ì—…ì´ ìƒë‹¹íˆ ë¹¨ë¦¬ ì²˜ë¦¬ë˜ì§€ë§Œ, ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ëŠ” ë°˜ë“œì‹œ ì¤‘ë³µ ì²´í¬ë¥¼ í•´ì•¼í•˜ë¯€ë¡œ ì‘ì—… ìì²´ë¥¼ ë²„í¼ë§ í•˜ì§€ ëª»í•œë‹¤. ì´ ë•Œë¬¸ì— ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ëŠ” ì¼ë°˜ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ë³´ë‹¤ ë³€ê²½ ì‘ì—…ì´ ë” ëŠë¦¬ë‹¤.\nìœ ë‹ˆí¬ ì¸ë±ìŠ¤ ì‚¬ìš©ì‹œ ì£¼ì˜ì‚¬í•­ ê¼­ í•„ìš”í•œ ê²½ìš°ë¼ë©´ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ ë‹¹ì—°í•˜ë‚˜, ì„±ëŠ¥ì´ ì¢‹ì•„ì§ˆ ê²ƒìœ¼ë¡œ ìƒê°í•˜ê³  ë¶ˆí•„ìš”í•˜ê²Œ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ëŠ” ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤. í•˜ë‚˜ì˜ í…Œì´ë¸”ì—ì„œ ê°™ì€ ì»¬ëŸ¼ì— ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì™€ ì¼ë°˜ ì¸ë±ìŠ¤ë¥¼ ê°ê° ì¤‘ë³µí•´ì„œ ìƒì„±í•´ ë‘” ê²½ìš°ê°€ ê°€ë” ìˆëŠ”ë°, ê°™ì€ ì—­í• ì„ í•˜ë¯€ë¡œ ì¤‘ë³µí•´ì„œ ì¸ã„·ê²ŒìŠ¤ë¥¼ ìƒì„±í•  í•„ìš”ëŠ” ì—†ë‹¤. ë˜‘ê°™ì€ ì»¬ëŸ¼ì— ëŒ€í•´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì™€ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ë¥¼ ë™ì¼í•˜ê²Œ ìƒì„±í•˜ëŠ” ê²½ìš°ë„ ìˆëŠ”ë° ì´ ë˜í•œ ì¤‘ë³µì´ë‹¤. ê²°ë¡ ì ìœ¼ë¡œ ìœ ì¼ì„±ì´ ê¼­ ë³´ì¥ë˜ì–´ì•¼ í•˜ëŠ” ì»¬ëŸ¼ì— ëŒ€í•´ì„œëŠ” ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ë˜, ê¼­ í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ ë³´ë‹¤ëŠ” ìœ ë‹ˆí¬í•˜ì§€ ì•Šì€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ë„ í•œ ë²ˆì”© ê³ ë ¤í•´ë³´ì.\nì™¸ë˜í‚¤ MySQLì—ì„œ ì™¸ë˜í‚¤ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œë§Œ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©°, ì™¸ë˜í‚¤ ì œì•½ì´ ì„¤ì •ë˜ë©´ ìë™ìœ¼ë¡œ ì—°ê´€ë˜ëŠ” í…Œì´ë¸”ì˜ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê¹Œì§€ ìƒì„±ëœë‹¤. ì™¸ë˜í‚¤ê°€ ì œê±°ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œëŠ” ìë™ìœ¼ë¡œ ìƒì„±ëœ ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•  ìˆ˜ ì—†ë‹¤.\nInnoDBì˜ ì™¸ë˜í‚¤ ê´€ë¦¬ì—ëŠ” ì¤‘ìš”í•œ ë‘ ê°€ì§€ íŠ¹ì§•ì´ ìˆë‹¤.\ní…Œì´ë¸” ë³€ê²½(ì“°ê¸° ì ê¸ˆ)ì´ ë°œìƒí•˜ëŠ” ê²½ìš°ì—ë§Œ ì ê¸ˆ ê²½í•©(ì ê¸ˆ ëŒ€ê¸°)ì´ ë°œìƒí•œë‹¤. ì™¸ë˜í‚¤ì™€ ì—°ê´€ë˜ì§€ ì•Šì€ ì»¬ëŸ¼ì˜ ë³€ê²½ì€ ìµœëŒ€í•œ ì ê¸ˆ ê²½í•¨(ì ê¸ˆ ëŒ€ê¸°)ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 CREATE TABLE tb_parant ( id INT NOT NULL , fd VARCHAR(100) NOT NULL, PRIMARY KEY (id) ) ENGINE=InnoDB; CREATE TABLE tb_child ( id INT NOT NULL, pid INT DEFAULT NULL, fd VARCHAR(100) DEFAULT NULL, PRIMARY KEY (id), KEY ix_parentid (pid), CONSTRAINT child_ibfk_1 FOREIGN KEY (pid) REFERENCES tb_parant (id) ON DELETE CASCADE ) ENGINE=InnoDB; INSERT INTO tb_parant VALUES (1, \u0026#39;p1\u0026#39;), (2, \u0026#39;p2\u0026#39;); INSERT INTO tb_child VALUES (100, 1, \u0026#39;c100\u0026#39;); ìì‹ í…Œì´ë¸”ì˜ ë³€ê²½ì´ ëŒ€ê¸°í•˜ëŠ” ê²½ìš° ì‘ì—… ë²ˆí˜¸ ì»¤ë„¥ì…˜-1 ì»¤ë„¥ì…˜-2 1 BEGIN; 2 UPDATE tb_parent SET fb=\u0026lsquo;changed-2\u0026rsquo; WHERE id=2; 3 BEGIN; 4 UPDATE tb_child SET pid=2 WHERE id=100; 5 ROLLBACK; 6 Query OK, 1 row affected 2ë²ˆ ì»¤ë„¥ì…˜ ëŠ” ë¶€ëª¨ í…Œì´ë¸”ì˜ ë³€ê²½ ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤. 1ë²ˆ ì»¤ë„¥ì…˜ì—ì„œ íŠ¸ëœì­ì…˜ì´ ì¢…ë£Œí•˜ë©´ 2ë²ˆ ì»¤ë„¥ì…˜ì˜ ëŒ€ê¸°ì¤‘ì´ë˜ ì‘ì—…ì´ ì¦‰ì‹œ ì²˜ë¦¬ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì¦‰ ìì‹ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ ì»¬ëŸ¼ì˜ ë³€ê²½ì€ ë¶€ëª¨ í…Œì´ë¸”ì˜ í™•ì¸ì´ í•„ìš”í•œë°, ì´ ìƒíƒœì—ì„œ ë¶€ëª¨ í…Œì´ë¸”ì˜ í•´ë‹¹ ë ˆì½”ë“œê°€ ì“°ê¸° ì ê¸ˆì´ ê±¸ë ¤ìˆìœ¼ë©´ í•´ë‹¹ ì“°ê¸° ì ê¸ˆì´ í•´ì œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê²Œ ëœë‹¤.\nìì‹ í…Œì´ë¸”ì˜ ì™¸ë˜í‚¤ê°€ ì•„ë‹Œ ì»¬ëŸ¼ì˜ ë³€ê²½ì€ ì™¸ë˜í‚¤ë¡œ ì¸í•œ ì ê¸ˆ í™•ì¥ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\në¶€ëª¨ í…Œì´ë¸”ì˜ ë³€ê²½ ì‘ì—…ì´ ëŒ€ê¸°í•˜ëŠ” ê²½ìš° ì‘ì—… ë²ˆí˜¸ ì»¤ë„¥ì…˜-1 ì»¤ë„¥ì…˜-2 1 BEGIN; 2 UPDATE tb_child SET fb=\u0026lsquo;changed-100\u0026rsquo; WHERE id=100; 3 BEGIN; 4 DELETE FROM tb_parent WHERE id=1; 5 ROLLBACK; 6 Query OK, 1 row affected 1ë²ˆ ì»¤ë„¥ì…˜ì—ì„œ ë¶€ëª¨ í‚¤ë¥¼ ì°¸ì¡°í•˜ëŠ” ìì‹ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ë©´ tb_child í…Œì´ë¸”ì˜ ë ˆì½”ë“œì— ëŒ€í•´ ì“°ê¸° ì ê¸ˆì„ íšë“í•œë‹¤. ì´ ìƒíƒœì—ì„œ 2ë²ˆ ì»¤ë„¥ì…˜ì´ ë¶€ëª¨ í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ë¶€ëª¨ ë ˆì½”ë“œë¥¼ ì‚­ì œí•˜ëŠ” ê²½ìš° ì´ ì¿¼ë¦¬ëŠ” ìì‹ í…Œì´ë¸”ì˜ ë ˆì½”ë“œì— ëŒ€í•œ ì“°ê¸° ì ê¸ˆì´ í•´ì œë  ë•Œê¹Œì§€ ê¸°ëŒ€ë ¤ì•¼ í•œë‹¤. ì´ëŠ” ìì‹ í…Œì´ë¸”ì´ ìƒì„±ë  ë•Œ ì ìš©ëœ ì™¸ë˜í‚¤ì˜ íŠ¹ì„±(ON DELETE CASCADE) ë•Œë¬¸ì— ë¶€ëª¨ ë ˆì½”ë“œê°€ ì‚­ì œë˜ë©´ ìì‹ ë ˆì½”ë“œë„ ë™ì‹œì— ì‚­ì œë˜ëŠ” ì‹ìœ¼ë¡œ ì‘ë™í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì™¸ë˜ í‚¤ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ìƒì„±í•˜ë ¤ë©´ ì´ëŸ¬í•œ í˜„ìƒìœ¼ë¡œ ì¸í•œ ì ê¸ˆ ê²½í•©ê¹Œì§€ ê³ ë ¤í•´ ëª¨ë¸ë§ì„ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në¬¼ë¦¬ì ìœ¼ë¡œ ì™¸ë˜í‚¤ë¥¼ ìƒì„±í•˜ë©´ ìì‹ í…Œì´ë¸”ì— ë ˆì½”ë“œê°€ ì¶”ê°€ë˜ëŠ” ê²½ìš° í•´ë‹¹ ì°¸ì¡°í‚¤ê°€ ë¶€ëª¨ í…Œì´ë¸”ì— ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ”ë°, ë¬¼ë¦¬ì ì¸ ì™¸ë˜í‚¤ì˜ ê³ ë ¤ ì‚¬í•­ì€ ì´ëŸ¬í•œ ì²´í¬ ì‘ì—…ì´ ì•„ë‹ˆë¼ ì´ëŸ¬í•œ ì²´í¬ë¥¼ ìœ„í•´ ì—°ê´€ í…Œì´ë¸”ì— ì½ê¸° ì ê¸ˆì„ ê±¸ì–´ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤.\nì´ë ‡ê²Œ ì ê¸ˆì´ ë‹¤ë¥¸ í…Œì´ë¸”ë¡œ í™•ì¥ë˜ë©´ ê·¸ë§Œí¼ ì „ì²´ì ìœ¼ë¡œ ì¿¼ë¦¬ì˜ ë™ì‹œ ì²˜ë¦¬ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤.\n","date":"2023-05-14T19:24:10+09:00","image":"https://codemario318.github.io/post/real-mysql/8/4/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/8/4/","title":"8. ì¸ë±ìŠ¤ (4)"},{"content":"ë¬¸ì„œì˜ ë‚´ìš© ì „ì²´ë¥¼ ì¸ë±ìŠ¤í™”í•´ì„œ íŠ¹ì • í‚¤ì›Œë“œê°€ í¬í•¨ëœ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ëŠ” ì „ë¬¸(Full Text) ê²€ìƒ‰ì—ëŠ” InnoDBë‚˜ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì œê³µí•˜ëŠ” ì¼ë°˜ì ì¸ ìš©ë„ì˜ B-Tree ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\në¬¸ì„œ ì „ì²´ì— ëŒ€í•œ ë¶„ì„ê³¼ ê²€ìƒ‰ì„ ìœ„í•œ ì¸ë±ì‹± ì•Œê³ ë¦¬ì¦˜ì„ ì „ë¬¸ ê²€ìƒ‰(Full Text Search) ì¸ë±ìŠ¤ë¼ê³  í•˜ëŠ”ë°, ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ëŠ” ì¼ë°˜í™”ëœ ê¸°ëŠ¥ì˜ ëª…ì¹­ìœ¼ë¡œ ì•Œê³ ë¦¬ì¦˜ì˜ ì´ë¦„ì„ ì§€ì¹­í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.\nì¸ë±ìŠ¤ ì•Œê³ ë¦¬ì¦˜ ì „ë¬¸ ê²€ìƒ‰ì—ì„œëŠ” ë¬¸ì„œ ë³¸ë¬¸ì˜ ë‚´ìš©ì—ì„œ ì‚¬ìš©ìê°€ ê²€ìƒ‰í•˜ê²Œ ë  í‚¤ì›Œë“œë¥¼ ë¶„ì„í•˜ê³ , ë¹ ë¥¸ ê²€ìƒ‰ìš©ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì´ëŸ¬í•œ í‚¤ì›Œë“œë¡œ ì¸ë±ìŠ¤ë¥¼ êµ¬ì¶•í•œë‹¤. í‚¤ì›Œë“œì˜ ë¶„ì„ ë° ì¸ë±ìŠ¤ êµ¬ì¶•ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì´ ìˆì„ ìˆ˜ ìˆë‹¤.\nì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ëŠ” ë¬¸ì„œì˜ í‚¤ì›Œë“œë¥¼ ì¸ë±ì‹±í•˜ëŠ” ê¸°ë²•ì— ë”°ë¼ êµ¬ë¶„ë  ìˆ˜ ìˆë‹¤.\nì–´ê·¼ ë¶„ì„ ì•Œê³ ë¦¬ì¦˜ n-gram ì•Œê³ ë¦¬ì¦˜ ì–´ê·¼ ë¶„ì„ ì•Œê³ ë¦¬ì¦˜ MySQL ì„œë²„ì˜ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‘ ê°€ì§€ ì¤‘ìš”í•œ ê³¼ì •ì„ ê±°ì³ì„œ ìƒ‰ì¸ ì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤.\në¶ˆìš©ì–´(Stop Word)ì²˜ë¦¬ ê²€ìƒ‰ì—ì„œ ë³„ ê°€ì¹˜ê°€ ì—†ëŠ” ë‹¨ì–´ë¥¼ ëª¨ë‘ í•„í„°ë§í•´ì„œ ì œê±°í•˜ëŠ” ì‘ì—…ì„ ì˜ë¯¸ ë¶ˆìš©ì–´ì˜ ê°œìˆ˜ê°€ ë§ì§€ ì•Šê¸° ë•Œë¬¸ì— ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•œ ì½”ë“œì— ìƒìˆ˜ë¡œ ì •ì˜í•´ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ìœ ì—°ì„±ì„ ìœ„í•´ ë¶ˆìš©ì–´ ìì²´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤í™”í•´ì„œ ì‚¬ìš©ìê°€ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•  ìˆ˜ ìˆê²Œ êµ¬í˜„í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤. ì–´ê·¼ ë¶„ì„(Stemming) ê²€ìƒ‰ì–´ë¡œ ì„ ì •ëœ ë‹¨ì–´ì˜ ë¿Œë¦¬ì¸ ì›í˜•ì„ ì°¾ëŠ” ì‘ì—…ì´ë‹¤. MySQL ì„œë²„ëŠ” ì˜¤í”ˆì†ŒìŠ¤ í˜•íƒœì†Œ ë¶„ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ MeCabì„ í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤. í•œê¸€ì´ë‚˜ ì¼ë³¸ì–´ì˜ ê²½ìš° ì˜ì–´ì™€ ê°™ì´ ë‹¨ì–´ì˜ ë³€í˜• ìì²´ëŠ” ê±°ì˜ ì—†ê¸° ë•Œë¬¸ì— ì–´ê·¼ë¶„ì„ë³´ë‹¤ëŠ” ë¬¸ì¥ì˜ í˜•íƒœì†Œë¥¼ ë¶„ì„í•´ì„œ ëª…ì‚¬ì™€ ì¡°ì‚¬ë¥¼ êµ¬ë¶„í•˜ëŠ” ê¸°ëŠ¥ì´ ë” ì¤‘ìš”í•œ í¸ì´ë‹¤. n-gram ì•Œê³ ë¦¬ì¦˜ MeCabì„ ìœ„í•œ í˜•íƒœì†Œ ë¶„ì„ì€ ë§¤ìš° ì „ë¬¸ì ì¸ ì „ë¬¸ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì´ì–´ì„œ ë§Œì¡±í•  ë§Œí•œ ê²°ê³¼ë¥¼ ë‚´ê¸° ìœ„í•´ì„œëŠ” ë§ì€ ë…¸ë ¥ê³¼ ì‹œê°„ì„ í•„ìš”ë¡œ í•œë‹¤. ì „ë¬¸ì ì¸ ê²€ìƒ‰ ì—”ì§„ì„ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ë©´ ë²”ìš©ì ìœ¼ë¡œ ì ìš©í•˜ê¸°ëŠ” ì‰½ì§€ ì•Šê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ n-gram ì•Œê³ ë¦¬ì¦˜ì´ ë„ì…ë˜ì—ˆë‹¤.\nn-gramì´ë€ ë³¸ë¬¸ì„ ë¬´ì¡°ê±´ ëª‡ ê¸€ìì”© ì˜ë¼ì„œ ì¸ë±ì‹±í•˜ëŠ” ë°©ë²•ì´ë‹¤. í˜•íƒœì†Œ ë¶„ì„ë³´ë‹¤ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ ë‹¨ìˆœí•˜ê³  êµ­ê°€ë³„ ì–¸ì–´ì— ëŒ€í•œ ì´í•´ì™€ ì¤€ë¹„ ì‘ì—…ì´ í•„ìš” ì—†ëŠ” ë°˜ë©´, ë§Œë“¤ì–´ì§„ ì¸ë±ìŠ¤ì˜ í¬ê¸°ëŠ” ìƒë‹¹íˆ í° í¸ì´ë‹¤. nì€ ì¸ë±ì‹±í•  í‚¤ì›Œë“œì˜ ìµœì†Œ ê¸€ì ìˆ˜ë¥¼ ì˜ë¯¸í•˜ëŠ”ë°, ì¼ë°˜ì ìœ¼ë¡œëŠ” 2ê¸€ì ë‹¨ìœ„ë¡œ í‚¤ì›Œë“œë¥¼ ìª¼ê°œì„œ ì¸ë±ì‹±í•˜ëŠ” 2-gram(Bi-gram) ë°©ì‹ì´ ë§ì´ ì‚¬ìš©ëœë‹¤.\n1 To be or not to be. That is the question ê° ë‹¨ì–´ëŠ” ë„ì–´ì“°ê¸°ì™€ ë§ˆì¹¨í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ 10ê°œì˜ ë‹¨ì–´ë¡œ êµ¬ë¶„ë˜ê³ , 2ê¸€ìì”© ì¤‘ì²©í•´ì„œ í† í°ìœ¼ë¡œ ë¶„ë¦¬ëœë‹¤.\në‹¨ì–´ bi-gram í† í° To To be be or or not no ot to to be be that Th ha at is is the th he question qu ue es st ti io on ê° ê¸€ìê°€ ì¤‘ì²©ë˜ì–´ í† í°í™” ë˜ê¸° ë•Œë¬¸ì— Bi-gram ì•Œê³ ë¦¬ì¦˜ì—ì„œëŠ” ê¸€ììˆ˜ - 1ê°œì˜ í† í°ìœ¼ë¡œ êµ¬ë¶„ëœë‹¤. ì´ë ‡ê²Œ êµ¬ë¶„ëœ í† í°ì„ ì¸ë±ìŠ¤ì— ì €ì¥í•œë‹¤. ì´ë•Œ ì¤‘ë³µëœ í† í°ì€ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ë¡œ ë³‘í•©ë˜ì–´ ì €ì¥í•œë‹¤.\nMySQL ì„œë²„ëŠ” ì´ë ‡ê²Œ ìƒì„±ëœ í† í°ë“¤ì— ëŒ€í•´ì„œ ë¶ˆìš©ì–´ë¥¼ ê±¸ëŸ¬ë‚´ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ë°, ì´ë•Œ ë¶ˆìš©ì–´ì™€ ë™ì¼í•˜ê±°ë‚˜ ë¶ˆìš©ì–´ë¥¼ í¬í•¨í•˜ëŠ” ê²½ìš° ê±¸ëŸ¬ì„œ ë²„ë¦°ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ MySQL ì„œë²„ì— ë‚´ì¥ëœ ë¶ˆìš©ì–´ëŠ” information_schema.innodb_ft_default_stopword í…Œì´ë¸”ì„ í†µí•´ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.\nì…ë ¥ ë¶ˆìš©ì–´ ì¼ì¹˜ ë¶ˆìš©ì–´ í¬í•¨ ì¶œë ¥(ìµœì¢… ì¸ë±ìŠ¤ ë“±ë¡) at O be O be O es et ha O he he he io O is O no no on O or O ot ot qu qu st st Th Th th th ti O To O to O ue ue ì „ë¬¸ ê²€ìƒ‰ì„ ë” ë¹ ë¥´ê²Œ í•˜ê¸° ìœ„í•´ 2ë‹¨ê³„ ì¸ë±ì‹±(í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ì¸ë±ìŠ¤)ê³¼ ê°™ì€ ë°©ë²•ë„ ìˆì§€ë§Œ MySQL ì„œë²„ëŠ” êµ¬ë¶„ëœ í† í°ì„ ë‹¨ìˆœí•œ B-Tree ì¸ë±ìŠ¤ì— ì €ì¥í•œë‹¤.\në¶ˆìš©ì–´ ë³€ê²½ ë° ì‚­ì œ n-gramì˜ í† í° íŒŒì‹± ë° ë¶ˆìš©ì–´ ì²˜ë¦¬ ì˜ˆì‹œ ê²°ê³¼ë¥¼ ë³´ë©´ \u0026ldquo;ti\u0026rdquo;, \u0026ldquo;at\u0026rdquo;, \u0026ldquo;ha\u0026rdquo; ê°™ì€ í† í°ë“¤ì€ \u0026ldquo;a\u0026rdquo;, \u0026ldquo;i\u0026rdquo; ì² ìê°€ ë¶ˆìš©ì–´ë¡œ ë“±ë¡ë¼ ìˆê¸° ë•Œë¬¸ì— ëª¨ë‘ ê±¸ëŸ¬ì§„ë‹¤. ì‹¤ì œë¡œ ì´ ê°™ì€ ë¶ˆìš©ì–´ ì²˜ë¦¬ëŠ” ì‚¬ìš©ìì—ê²Œ ë„ì›€ì´ ë˜ê¸°ë³´ë‹¤ëŠ” ì‚¬ìš©ìë¥¼ ë” í˜¼ë€ìŠ¤ëŸ½ê²Œ í•˜ëŠ” ê¸°ëŠ¥ì¼ ìˆ˜ë„ ìˆë‹¤. ê·¸ë˜ì„œ ë¶ˆìš©ì–´ ì²˜ë¦¬ ìì²´ë¥¼ ì™„ì „íˆ ë¬´ì‹œí•˜ê±°ë‚˜ MySQL ì„œë²„ì— ë‚´ì¥ëœ ë¶ˆìš©ì–´ ëŒ€ì‹  ì‚¬ìš©ìê°€ ì§ì ‘ ë¶ˆìš©ì–´ë¥¼ ë“±ë¡í•˜ëŠ” ë°©ë²•ì„ ê¶Œì¥í•œë‹¤.\nì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ì˜ ë¶ˆìš©ì–´ ì²˜ë¦¬ ë¬´ì‹œ\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ê³¼ ê´€ê³„ ì—†ì´ MySQL ì„œë²„ì˜ ëª¨ë“  ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ì— ëŒ€í•´ ë¶ˆìš©ì–´ë¥¼ ì™„ì „íˆ ì œê±°í•œë‹¤. MySQL ì„œë²„ì˜ ì„¤ì • íŒŒì¼(my.cnf)ì˜ ft_storpword_file ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ë¹ˆ ë¬¸ìì—´ì„ ì„¤ì •í•œë‹¤. í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” ì„œë²„ê°€ ì¬ì‹œì‘ë  ë•Œë§Œ ì¸ì§€í•˜ê¸° ë•Œë¬¸ì— ì„¤ì • ë³€ê²½ì‹œ ì„œë²„ë¥¼ ì¬ì‹œì‘í•´ì•¼ ë°˜ì˜ëœë‹¤. ì‚¬ìš©ì ì •ì˜ ë¶ˆìš©ì–´ë¥¼ ì ìš©í•  ë•Œë„ í•´ë‹¹ íŒŒì¼ ê²½ë¡œë¥¼ ì ìš©í•˜ì—¬ ë°˜ì˜í•  ìˆ˜ ìˆë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì˜ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ì— ëŒ€í•´ì„œë§Œ ë¶ˆìš©ì–´ ì²˜ë¦¬ ë¬´ì‹œ innodb_ft_enable_stopword ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ OFFë¡œ ì„¤ì •í•œë‹¤. í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” ë™ì ì¸ ì‹œìŠ¤í…œ ë³€ìˆ˜ì´ë¯€ë¡œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì—ì„œë„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ì ì •ì˜ ë¶ˆìš©ì–´ ì‚¬ìš©\në¶ˆìš©ì–´ ëª©ë¡ì„ íŒŒì¼ë¡œ ì €ì¥í•˜ê³ , MySQL ì„œë²„ ì„¤ì •íŒŒì¼ì—ì„œ íŒŒì¼ì˜ ê²½ë¡œë¥¼ ft_stopword_file ì„¤ì •ì— ë“±ë¡í•œë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì˜ ì „ë¬¸ ê²€ìƒ‰ ì—”ì§„ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, innodb_ft_server_stopword_table ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ë¶ˆìš©ì–´ í…Œì´ë¸”ì„ ì„¤ì •í•œë‹¤. ì´ë•Œ ë¶ˆìš©ì–´ ëª©ë¡ì„ ë³€ê²½í•œ ì´í›„ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ê°€ ìƒì„±ë¼ì•¼ë§Œ ë³€ê²½ëœ ë¶ˆìš©ì–´ê°€ ì ìš©ëœë‹¤. 1 2 3 4 5 6 CREATE TABLE my_stopword(value VARCHAR(30)) ENGINE = INNODB; INSERT INTO my_stopword(value) VALUES (\u0026#39;MySQL\u0026#39;); SET GLOBAL innodb_ft_server_stopword_table=\u0026#39;mydb/my_stopword\u0026#39;; ALTER TABLE tb_bi_gram ADD FULLTEXT INDEX fx_title_body(title, body) WITH PARSER ngram; innodb_ft_user_stopword_table ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ë„ ìˆìœ¼ë©°, innodb_ft_server_stopword_tableì™€ ì‚¬ìš©ë²•ì´ ë™ì¼í•˜ë‹¤. ì—¬ëŸ¬ ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ê°€ ì„œë¡œ ë‹¤ë¥¸ ë¶ˆìš©ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°ì— í™œìš©í•  ìˆ˜ ìˆë‹¤.\nì „ë¬¸ ê²€ìƒ‰ ì—”ì§„ ì¸ë±ìŠ¤ì˜ ê°€ìš©ì„± ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë°˜ë“œì‹œ 2ê°€ì§€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.\nì¿¼ë¦¬ ë¬¸ì¥ì´ ì „ë¬¸ ê²€ìƒ‰ì„ ìœ„í•œ ë¬¸ë²•(MATCH ... AGAINST)ì„ ì‚¬ìš© í…Œì´ë¸”ì´ ì „ë¬¸ ê²€ìƒ‰ ëŒ€ìƒ ì»¬ëŸ¼ì— ëŒ€í•´ì„œ ì „ë¬¸ ì¸ë±ìŠ¤ ë³´ìœ  1 2 3 4 5 6 7 CREATE TABLE tb_test ( doc_id INT, doc_body TEXT, PRIMARY KEY (doc_id), FULLTEXT KEY fx_docbody (doc_body) WITH PARSER ngram ) ENGINE=InnoDB; 1 2 3 4 5 6 /* í’€ í…Œì´ë¸” ìŠ¤ìº”ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ */ SELECT * FROM tb_test WHERE doc_body LIKE \u0026#39;%ì• í”Œ%\u0026#39;; 1 2 3 4 5 6 /* ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¡œ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ */ SELECT * FROM tb_test WHERE MATCH(doc_body) AGAINST (\u0026#39;ì• í”Œ\u0026#39; IN BOOLEAN MODE); ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë°˜ë“œì‹œ MATCH ... AGAINST ...êµ¬ë¬¸ìœ¼ë¡œ ê²€ìƒ‰ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì•¼ í•˜ë©°, ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ë“¤ì€ MATCHì ˆì˜ ê´„í˜¸ ì•ˆì— ëª¨ë‘ ëª…ì‹œë˜ì–´ì•¼ í•œë‹¤.\n","date":"2023-05-14T17:24:10+09:00","image":"https://codemario318.github.io/post/real-mysql/8/3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/8/3/","title":"8. ì¸ë±ìŠ¤ (3) - ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤"},{"content":"B-TreeëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¸ë±ì‹± ì•Œê³ ë¦¬ì¦˜ ê°€ìš´ë° ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ê³ , ê°€ì¥ ë¨¼ì € ë„ì…ë˜ì—ˆì§€ë§Œ ì•„ì§ê¹Œì§€ë„ ê°€ì¥ ë²”ìš©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì¸ë±ìŠ¤ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.\nB-Treeì—ëŠ” ì—¬ëŸ¬ ë³€í˜•ëœ í˜•ëŒ€ì˜ ì•Œê³ ë¦¬ì¦˜ì´ ìˆëŠ”ë°, ì¼ë°˜ì ìœ¼ë¡œ DMBSì—ì„œëŠ” B+-Tree, B*-Treeê°€ ì‚¬ìš©ëœë‹¤.\nB-TreeëŠ” ì»¬ëŸ¼ì˜ ì›ë˜ ê°’ì„ ë³€í˜•ì‹œí‚¤ì§€ ì•Šê³  ì¸ë±ìŠ¤ êµ¬ì¡°ì²´ ë‚´ì—ì„œëŠ” í•­ìƒ ì •ë ¬ëœ ìƒíƒœë¡œ ìœ ì§€í•œë‹¤. ì „ë¬¸ ê²€ìƒ‰ê°™ì€ íŠ¹ìˆ˜í•œ ìš”ê±´ì´ ì•„ë‹Œ ê²½ìš°, ëŒ€ë¶€ë¶„ ì¸ë±ìŠ¤ëŠ” B-Treeë¥¼ ì‚¬ìš©í•œë‹¤.\nêµ¬ì¡° ë° íŠ¹ì„± B-TreeëŠ” íŠ¸ë¦¬ êµ¬ì¡°ì˜ ìµœìƒìœ„ì— í•˜ë‚˜ì˜ ë£¨íŠ¸ ë…¸ë“œê°€ ì¡´ì¬í•˜ê³  ê·¸ í•˜ìœ„ì— ìì‹ ë…¸ë“œê°€ ë¶™ì–´ìˆëŠ” í˜•íƒœì´ë‹¤. íŠ¸ë¦¬ êµ¬ì¡°ì˜ ê°€ì¥ í•˜ìœ„ì— ìˆëŠ” ë…¸ë“œë¥¼ ë¦¬í”„ ë…¸ë“œë¼ í•˜ê³ , íŠ¸ë¦¬ êµ¬ì¡°ì—ì„œ ë£¨íŠ¸ ë…¸ë“œë„ ì•„ë‹ˆê³  ë¦¬í”„ ë…¸ë“œë„ ì•„ë‹Œ ì¤‘ê°„ ë…¸ë“œë¥¼ ë¸Œëœì¹˜ ë…¸ë“œë¼ê³  í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¸ë±ìŠ¤ì™€ ì‹¤ì œ ë°ì´í„°ê°€ ì €ì¥ëœ ë°ì´í„°ëŠ” ë”°ë¡œ ê´€ë¦¬ë˜ëŠ”ë°, ì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œëŠ” í•­ìƒ ì‹¤ì œ ë°ì´í„° ë ˆì½”ë“œë¥¼ ì°¾ì•„ê°€ê¸° ìœ„í•œ ì£¼ì†Ÿê°’ì„ ê°€ì§„ë‹¤.\nì¸ë±ìŠ¤ì˜ í‚¤ ê°’ì€ ëª¨ë‘ ì •ë ¬ë¼ ìˆì§€ë§Œ, ë°ì´í„° íŒŒì¼ë¦ ë ˆì½”ë“œëŠ” ì •ë ¬ë¼ ìˆì§€ ì•Šê³  ì„ì˜ì˜ ìˆœì„œë¡œ ì €ì¥ë¼ ìˆë‹¤. ë ˆì½”ë“œê°€ ì‚­ì œë˜ì–´ ë¹ˆ ê³µê°„ì´ ìƒê¸°ë©´ ê·¸ë‹¤ìŒ INSERTëŠ” ê°€ëŠ¥í•œ í•œ ì‚­ì œëœ ê³µê°„ì„ ì¬í™œìš© í•˜ë„ë¡ DBMSê°€ ì„¤ê³„ë˜ê¸° ë•Œë¬¸ì—, í•­ìƒ INSERTìˆœì„œëŒ€ë¡œ ì €ì¥ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.\nì¸ë±ìŠ¤ëŠ” í…Œì´ë¸”ì˜ í‚¤ ì»¬ëŸ¼ë§Œ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ ë‚˜ë¨¸ì§€ ì»¬ëŸ¼ì„ ì½ìœ¼ë ¤ë©´ ë°ì´í„° íŒŒì¼ì—ì„œ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ì°¾ì•„ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„í•´ ì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œëŠ” ë°ì´í„° íŒŒì¼ì— ì €ì¥ëœ ë ˆì½”ë“œì˜ ì£¼ì†Œë¥¼ ê°€ì§„ë‹¤.\nMyISAM ë ˆì½”ë“œ ì£¼ì†ŒëŠ” MyISAM í…Œì´ë¸” ìƒì„± ì˜µì…˜ì— ë”°ë¼ ë ˆì½”ë“œê°€ í…Œì´ë¸”ì— INSERTëœ ìˆœë²ˆì´ê±°ë‚˜ ë°ì´í„° íŒŒì¼ ë‚´ì˜ ìœ„ì¹˜ë‹¤. (ROWID) ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ ë¬¼ë¦¬ì ì¸ ì£¼ì†Œë¥¼ ê°€ì§„ë‹¤. InnoDB í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ROWID ì—­í• ì„ í•œë‹¤ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì£¼ì†Œì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë…¼ë¦¬ì ì¸ ì£¼ì†Œë¥¼ ê°€ì§„ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ë ˆì½”ë“œë¥¼ ì½ì„ë•ŒëŠ” ë°ì´í„° íŒŒì¼ì„ ë°”ë¡œ ì°¾ì•„ê°€ì§€ ëª»í•˜ê³ , ì¸ë±ìŠ¤ì— ì €ì¥ë˜ì–´ìˆëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ì¸ë±ìŠ¤ì˜ ë¦¬í”„ í˜ì´ì§€ì— ì €ì¥ë¼ ìˆëŠ” ë ˆì½”ë“œë¥¼ ì½ê¸° ìœ„í•´ì„œëŠ” ë°˜ë“œì‹œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì €ì¥í•˜ê³  ìˆëŠ” B-Treeë¥¼ ë‹¤ì‹œ í•œë²ˆ ê²€ìƒ‰í•´ì•¼ í•œë‹¤. ì´ëŸ¬í•œ íŠ¹ì§•ìœ¼ë¡œ ì¸í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì˜ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ê²ƒ ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ê°ê° ì¥ë‹¨ì ì„ ê°€ì§€ê³  ìˆë‹¤.\nB-Tree ì¸ë±ìŠ¤ í‚¤ ì¶”ê°€ ë° ì‚­ì œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì €ì¥í•˜ê±°ë‚˜ ë³€ê²½í•˜ëŠ” ê²½ìš° ì¸ë±ìŠ¤ í‚¤ ì¶”ê°€ë‚˜ ì‚­ì œ ì‘ì—…ì´ ë°œìƒí•œë‹¤. ì´ì—ë”°ë¼ ì£¼ì˜í•´ì•¼ í•  ì‚¬í•­ì´ ìˆë‹¤.\nì¸ë±ìŠ¤ í‚¤ ì¶”ê°€ ìƒˆë¡œìš´ í‚¤ ê°’ì´ B-Treeì— ì €ì¥ë  ë•ŒëŠ” ì €ì¥ë  í‚¤ ê°’ì„ ì´ìš©í•´ B-Treeìƒì˜ ì ì ˆí•œ ìœ„ì¹˜ë¥¼ ê²€ìƒ‰í•´ì•¼ í•œë‹¤. ì €ì¥ë  ìœ„ì¹˜ê°€ ê²°ì •ë˜ë©´ ë ˆì½”ë“œì˜ í‚¤ ê°’ê³¼ ëŒ€ìƒ ë ˆì½”ë“œì˜ ì£¼ì†Œ ì •ë³´ë¥¼ B-Treeì˜ ë¦¬í”„ ë…¸ë“œì— ì €ì¥í•œë‹¤.\në¦¬í”„ ë…¸ë“œê°€ ê½‰ ì°¨ì„œ ë”ëŠ” ì €ì¥í•  ìˆ˜ ì—†ì„ ë•ŒëŠ” ë¦¬í”„ ë…¸ë“œê°€ ë¶„ë¦¬ë¼ì•¼ í•˜ëŠ”ë°, ì´ëŠ” ìƒìœ„ ë¸Œëœì¹˜ ë…¸ë“œê¹Œì§€ ì²˜ë¦¬ ë²”ìœ„ê°€ ë„“ì–´ì§„ë‹¤. ì´ëŸ¬í•œ ì‘ì—… íƒ“ì´ B-TreeëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì“°ê¸° ì‘ì—…(ìƒˆë¡œìš´ í‚¤ë¥¼ ì¶”ê°€)ì— ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ê²ƒìœ¼ë¡œ ì•Œë ¤ì¡Œë‹¤.\nì¸ë±ìŠ¤ ì¶”ê°€ë¡œ ì¸í•´ INSERT, UPDATE ë¬¸ì¥ì´ ì–´ë–¤ ì˜í–¥ì„ ë°›ì„ì§€ ì˜ˆìƒí•´ë³´ë ¤ë©´ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ìˆ˜, ì»¬ëŸ¼ í¬ê¸°, ì¸ë±ìŠ¤ ì»¬ëŸ¼ì˜ íŠ¹ì„± ë“±ì„ í™•ì¸í•´ì•¼ í•œë‹¤. ëŒ€ëµì ìœ¼ë¡œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ì‘ì—… ë¹„ìš©ì„ 1ì´ë¼ê³  ê°€ì •í•˜ë©´, í•´ë‹¹ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ì— í‚¤ë¥¼ ì¶”ê°€í•˜ëŠ” ì‘ì—… ë¹„ìš©ì„ 1.5 ì •ë„ë¡œ ì˜ˆì¸¡í•œë‹¤. í…Œì´ë¸”ì— ì¸ë±ìŠ¤ê°€ 3ê°œê°€ ìˆë‹¤ë©´ 5.5(1.5 * 3 + 1) ì •ë„ë¡œ ì˜ˆì¸¡í•œë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ì´ ë¹„ìš©ì˜ ëŒ€ë¶€ë¶„ì´ ë””ìŠ¤í¬ë¡œë¶€í„° ì¸ë±ìŠ¤ í˜ì´ì§€ë¥¼ ì½ê³  ì“°ê¸°ë¥¼ í•´ì•¼í•´ì„œ ê±¸ë¦¬ëŠ” ì‹œê°„ì´ë‹¤.\nMyISAMì´ë‚˜ MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì—ì„œëŠ” INSERT ë¬¸ì¥ì´ ì‹¤í–‰ë˜ë©´ ì¦‰ì‹œ ìƒˆë¡œìš´ í‚¤ ê°’ì„ B-Tree ì¸ë±ìŠ¤ì— ë³€ê²½í•˜ì§€ë§Œ, InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ í•„ìš”í•˜ë‹¤ë©´ ì¸ë±ìŠ¤ í‚¤ ì¶”ê°€ ì‘ì—…ì„ ì§€ì—°ì‹œì¼œ ë‚˜ì¤‘ì— ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì˜ ê²½ìš° ì¤‘ë³µ ì²´í¬ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì¦‰ì‹œ B-Treeì— ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•œë‹¤.\nì¸ë±ìŠ¤ í‚¤ ì‚­ì œ B-Treeì˜ í‚¤ ê°’ì´ ì‚­ì œë˜ëŠ” ê²½ìš°ëŠ” ìƒë‹¹íˆ ê°„ë‹¨í•˜ë‹¤. í•´ë‹¹ í‚¤ ê°’ì´ ì €ì¥ëœ B-Treeì˜ ë¦¬í”„ ë…¸ë“œë¥¼ ì°¾ì•„ì„œ ê·¸ëƒ¥ ì‚­ì œ ë§ˆí¬ë§Œ í•˜ë©´ ì‘ì—…ì´ ì™„ë£Œëœë‹¤. ì‚­ì œ ë§ˆí‚¹ëœ ì¸ë±ìŠ¤ í‚¤ ê³µê°„ì€ ê³„ì† ê·¸ëŒ€ë¡œ ë°©ì¹˜í•˜ê±°ë‚˜ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ í‚¤ ì‚­ì œë¡œ ì¸í•œ ë§ˆí‚¹ ì‘ì—… ë˜í•œ ë””ìŠ¤í¬ ì“°ê¸°ê°€ í•„ìš”í•˜ë©°, MySQL 5.5 ì´ìƒ ë²„ì „ì˜ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œëŠ” ë²„í¼ë§ ë˜ì–´ ì§€ì—° ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤. ì²˜ë¦¬ê°€ ì§€ì—°ëœ ì¸ë±ìŠ¤ í‚¤ ì‚­ì œ ë˜í•œ ì‚¬ìš©ìì—ê²ŒëŠ” íŠ¹ë³„í•œ ì•…ì˜í–¥ ì—†ì´ MySQL ì„œë²„ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë¯€ë¡œ íŠ¹ë³„íˆ ê±±ì •í•  ê²ƒì€ ì—†ë‹¤.\nMyISAMì´ë‚˜ MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ í…Œì´ë¸”ì—ì„œëŠ” ì²´ì¸ì§€ ë²„í¼ì™€ ê°™ì€ ê¸°ëŠ¥ì´ ì—†ìœ¼ë¯€ë¡œ ì¸ë±ìŠ¤ í‚¤ ì‚­ì œê°€ ì™„ë£Œëœ í›„ ì¿¼ë¦¬ ì‹¤í–‰ì´ ì™„ë£Œëœë‹¤.\nì¸ë±ìŠ¤ í‚¤ ë³€ê²½ ì¸ë±ìŠ¤ì˜ í‚¤ ê°’ì€ ê°’ì— ë”°ë¼ ì €ì¥ë  ë¦¬í”„ ë…¸ë“œì˜ ìœ„ì¹˜ê°€ ê²°ì •ë˜ë¯€ë¡œ B-Treeì˜ í‚¤ ê°’ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°ì—ëŠ” ë‹¨ìˆœíˆ ì¸ë±ìŠ¤ìƒì˜ í‚¤ ê°’ë§Œ ë³€ê²½í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ B-Treeì˜ í‚¤ ê°’ ë³€ê²½ ì‘ì—…ì€ ë¨¼ì € í‚¤ ê°’ì„ ì‚­ì œí•œ í›„, ë‹¤ì‹œ ìƒˆë¡œìš´ í‚¤ ê°’ì„ ì¶”ê°€í•˜ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬ëœë‹¤.\nê²°êµ­ ì¸ë±ìŠ¤ í‚¤ ê°’ì„ ë³€ê²½í•˜ëŠ” ì‘ì—…ì€ ê¸°ì¡´ ì¸ë±ìŠ¤ í‚¤ ê°’ì„ ì‚­ì œí•œ í›„ ìƒˆë¡œìš´ ì¸ë±ìŠ¤ í‚¤ ê°’ì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬ë˜ê³  InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì— ëŒ€í•´ì„œëŠ” ì´ ì‘ì—… ëª¨ë‘ ì²´ì¸ì§€ ë²„í¼ë¥¼ í™œìš©í•´ ì§€ì—° ì²˜ë¦¬ ë  ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ í‚¤ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ê²€ìƒ‰í•˜ëŠ” ì‘ì—…ì€ B-Treeì˜ ë£¨íŠ¸ ë…¸ë“œë¶€í„° ì‹œì‘í•´ ë¸Œëœì¹˜ ë…¸ë“œë¥¼ ê±°ì³ ìµœì¢… ë¦¬í”„ ë…¸ë“œê¹Œì§€ ì´ë™í•˜ë©´ì„œ ë¹„êµ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ë°, ì´ ê³¼ì •ì„ íŠ¸ë¦¬ íƒìƒ‰ì´ë¼ê³  í•œë‹¤.\nì¸ë±ìŠ¤ íŠ¸ë¦¬ íƒìƒ‰ì€ SELECTë¿ë§Œ ì•„ë‹ˆë¼ UPDATE, DELETEë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•´ì•¼ í•  ë•Œë„ ì‚¬ìš©ëœë‹¤.\nB-Tree ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ê²€ìƒ‰ì€ 100% ì¼ì¹˜ ë˜ëŠ” ê°’ì˜ ì•ë¶€ë¶„ë§Œ ì¼ì¹˜í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\në¶€ë“±í˜¸ ë¹„êµ ì¡°ê±´ì—ì„œë„ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆì§€ë§Œ, ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” í‚¤ ê°’ì˜ ë’·ë¶€ë¶„ë§Œ ê²€ìƒ‰í•˜ëŠ” ìš©ë„ë¡œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì¸ë±ìŠ¤ë¥¼ í‚¤ ê°’ì— ë³€í˜•ì´ ê°€í•´ì§„ í›„ ë¹„êµë˜ëŠ” ê²½ìš° ë¹ ë¥¸ ê²€ìƒ‰ ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ì—†ë‹¤.(ë³€í˜•ëœ ê°’ì€ ì¸ë±ìŠ¤ì— ì¡´ì¬í•˜ëŠ” ê°’ì´ ì•„ë‹ˆë¯€ë¡œ) í•¨ìˆ˜ë‚˜ ì—°ì‚°ì„ ìˆ˜í–‰í•œ ê²°ê³¼ë¡œ ì •ë ¬ ë˜ëŠ” ê²€ìƒ‰ InnoDB í…Œì´ë¸”ì—ì„œ ì§€ì›í•˜ëŠ” ë ˆì½”ë“œ ì ê¸ˆì´ë‚˜ ë„¥ìŠ¤íŠ¸ í‚¤ë½ì´ ê²€ìƒ‰ì„ ìˆ˜í–‰í•œ ì¸ë±ìŠ¤ë¥¼ ì ê·¼ í›„ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì ê·¸ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë¼ìˆì–´, UPDATE, DELETE ë¬¸ì¥ì´ ì‹¤í–‰ë  ë•Œ í…Œì´ë¸”ì— ì ì ˆíˆ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¸ë±ìŠ¤ê°€ ì—†ìœ¼ë©´ ë¶ˆí•„ìš”í•˜ê²Œ ë§ì€ ë ˆì½”ë“œë¥¼ ì ê·¸ê²Œ ëœë‹¤.\nB-Tree ì¸ë±ìŠ¤ ì‚¬ìš©ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ìš”ì†Œ ì»¬ëŸ¼ í¬ê¸° ë ˆì½”ë“œì˜ ê±´ìˆ˜ ìœ ë‹ˆí¬í•œ ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ ê°œìˆ˜ ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë””ìŠ¤í¬ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ ë‹¨ìœ„ë¥¼ í˜ì´ì§€ ë˜ëŠ” ë¸”ë¡ì´ë¼ê³  í•˜ë©°, ë””ìŠ¤í¬ì˜ ëª¨ë“  ì½ê¸° ë° ì“°ê¸° ì‘ì—…ì˜ ìµœì†Œ ì‘ì—… ë‹¨ìœ„ê°€ ëœë‹¤. ë˜í•œ í˜ì´ì§€ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë²„í¼í’€ì—ì„œ ë°ì´í„°ë¥¼ ë²„í¼ë§í•˜ëŠ” ê¸°ë³¸ ë‹¨ìœ„ì´ê¸°ë„ í•˜ë‹¤. ì¸ë±ìŠ¤ë„ ê²°êµ­ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ê´€ë¦¬ë˜ë©°, ë£¨íŠ¸ì™€ ë¸Œëœì¹˜ ë¦¬í”„ ë…¸ë“œë¥¼ êµ¬ë¶„í•œ ê¸°ì¤€ì´ í˜ì´ì§€ ë‹¨ìœ„ì´ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ DBMSì˜ B-TreeëŠ” ìì‹ ë…¸ë“œì˜ ê°œìˆ˜ê°€ ê°€ë³€ì ì¸ êµ¬ì¡°ë‹¤. ì¸ë±ìŠ¤ì˜ í˜ì´ì§€ í¬ê¸°ì™€ í‚¤ ê°’ì˜ í¬ê¸°ì— ë”°ë¼ ìì‹ ë…¸ë“œì˜ ìµœëŒ€ ê°œìˆ˜ê°€ ê²°ì •ëœë‹¤. MySQL 5.7 ë²„ì „ë¶€í„°ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ í˜ì´ì§€ í¬ê¸°ë¥¼ innodb_page_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ 4KB ~ 64KB ì‚¬ì´ì˜ ê°’ì„ ê²°ì • í•  ìˆ˜ ìˆìœ¼ë©°, ê¸°ë³¸ê°’ì€ 16KB ì´ë‹¤.\nì¸ë±ìŠ¤ í˜ì´ì§€ëŠ” ì¸ë±ìŠ¤ í‚¤ ê°’ê³¼ í•´ë‹¹í•˜ëŠ” ì£¼ì†Ÿê°’ì„ ì¸ë±ìŠ¤ í˜ì´ì§€ì— ì§€ì •í•˜ê²Œ ë˜ë©°, í˜ì´ì§€ í¬ê¸°ê°€ ë³€í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° ì¸ë±ìŠ¤ í‚¤ ê°’ì´ ì»¤ì§€ë©´ í•˜ë‚˜ì˜ í˜ì´ì§€ì— ì €ì¥ë˜ëŠ” ë ˆì½”ë“œì˜ ê°œìˆ˜ëŠ” ì¤„ì–´ë“¤ê²Œ ëœë‹¤. í‚¤ í¬ê¸°ê°€ ì»¤ì„œ í•œ í˜ì´ì§€ì— 300ê°œì˜ ë ˆì½”ë“œê°€ ì¸ë±ìŠ¤ í˜ì´ì§€ì— ì €ì¥ëœë‹¤ê³  ê°€ì •í•˜ë©´ SELECT ì¿¼ë¦¬ë¥¼ í†µí•´ 500ê°œì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•´ì•¼ í•œë‹¤ê³  í–ˆì„ë•Œ ìµœì†Œí•œ 2ë²ˆ ì½ê¸° ì‘ì—…ì´ ë°œìƒí•˜ê²Œ ëœë‹¤.\në”°ë¼ì„œ, ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” í‚¤ ê°’ì˜ í¬ê¸°ê°€ ì»¤ì§€ë©´ ë””ìŠ¤í¬ë¡œ ë¶€í„° ì½ì–´ì™€ì•¼ í•˜ëŠ” íšŸìˆ˜ê°€ ëŠ˜ì–´ë‚  ìˆ˜ ìˆê³ , ê·¸ë§Œí¼ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤. ë˜í•œ ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ ê¸¸ì´ê°€ ê¸¸ì–´ì§„ë‹¤ëŠ” ê²ƒì€ ì „ì²´ì ì¸ ì¸ë±ìŠ¤ì˜ í¬ê¸°ê°€ ì»¤ì§„ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ê¸° ë•Œë¬¸ì—, ë¬´í•œì • ì¸ë±ìŠ¤ë¥¼ ìºì‹œí•´ë‘˜ ìˆ˜ ì—†ëŠ” InnoDBì˜ ë²„í¼í’€, MyISAMì˜ í‚¤ ìºì‹œì— ì €ì¥í•  ìˆ˜ ìˆëŠ” ê³µê°„ì´ ë¶€ì¡±í•´ì ¸ ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\nB-Tree ê¹Šì´ ì¸ë±ìŠ¤ì˜ ê¹Šì´ëŠ” ìƒë‹¹íˆ ì¤‘ìš”í•˜ì§€ë§Œ ì œì–´í•  ë°©ë²•ì€ ì—†ë‹¤.\nB-Treeì˜ ê¹Šì´ëŠ” MySQLì—ì„œ ê°’ì„ ê²€ìƒ‰í•  ë•Œ ëª‡ ë²ˆì´ë‚˜ ëœë¤í•˜ê²Œ ë””ìŠ¤í¬ë¥¼ ì½ì–´ì•¼ í•˜ëŠ”ì§€ì™€ ì§ê²°ë˜ëŠ” ë¬¸ì œë‹¤. ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ê°€ ì»¤ì§ˆìˆ˜ë¡ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ í˜ì´ì§€ê°€ ë‹´ì„ ìˆ˜ ìˆëŠ” ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ ê°œìˆ˜ê°€ ì ì–´ì§€ê³ , ì´ì— ë”°ë¼ ê°™ì€ ê°œìˆ˜ì˜ ì¸ë±ìŠ¤ í‚¤ê°’ì„ ì €ì¥í•˜ê²Œ ë˜ë©´ ë” ê¹Šì–´ì§€ê²Œëœë‹¤. ë”°ë¼ì„œ ë””ìŠ¤í¬ ì½ê¸°ê°€ ë” ë§ì´ í•„ìš”í•˜ê²Œ ëœë‹¤.\nì¸ã„·ê²ŒìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ëŠ” ê°€ëŠ¥í•œ ì‘ê²Œ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ì§€ë§Œ, ì‹¤ì œë¡œ ì•„ë¬´ë¦¬ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë² ì´ìŠ¤ë¼ë„ B-Treeì˜ ê¹Šì´ê°€ 5ë‹¨ê³„ ì´ìƒê¹Œì§€ ê¹Šì–´ì§€ëŠ” ê²½ìš°ëŠ” í”í•˜ì§€ ì•Šë‹¤.\nì„ íƒë„(ê¸°ìˆ˜ì„±) ì¸ë±ìŠ¤ì—ì„œ ì„ íƒë„(Selectivity) ë˜ëŠ” ê¸°ìˆ˜ì„±(Cardinality)ì€ ê±°ì˜ ê°™ì€ ì˜ë¯¸ë¡œ ì‚¬ìš©ë˜ë©°, ëª¨ë“  ì¸ë±ìŠ¤ í‚¤ ê°’ ê°€ìš´ë° ìœ ë‹ˆí¬í•œ ê°’ì˜ ìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤.\nì¸ë±ìŠ¤ í‚¤ ê°’ ê°€ìš´ë° ì¤‘ë³µëœ ê°’ì´ ë§ì•„ì§ˆìˆ˜ë¡ ê¸°ìˆ˜ì„±ì€ ë‚®ì•„ì§€ê³  ë™ì‹œì— ì„ íƒë„ ë˜í•œ ë–¨ì–´ì§€ê²Œ ëœë‹¤. ì¸ë±ìŠ¤ëŠ” ì„ íƒë„ê°€ ë†’ì„ìˆ˜ë¡ ê²€ìƒ‰ ëŒ€ìƒì´ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì— ê·¸ë§Œí¼ ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤.\nì„ íƒë„ê°€ ì¢‹ì§€ ì•Šë‹¤ê³  í•˜ë”ë¼ë„ ì •ë ¬ì´ë‚˜ ê·¸ë£¨í•‘ê³¼ ê°™ì€ ì‘ì—…ì„ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒì´ í›¨ì”¬ ë‚˜ì€ ê²½ìš°ë„ ë§ë‹¤. ì¸ë±ìŠ¤ê°€ í•­ìƒ ê²€ìƒ‰ì—ë§Œ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ ì—¬ëŸ¬ ê°€ì§€ ìš©ë„ë¥¼ ê³ ë ¤í•´ ì ì ˆíˆ ì¸ë±ìŠ¤ë¥¼ ì„¤ê³„í•´ì•¼í•œë‹¤.\nì„ íƒë„ê°€ ë‚®ì€ ì¸ë±ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ë©´ MySQL ì„œë²„ëŠ” ë¶ˆí•„ìš”í•œ ë°ì´í„°ë¥¼ ë” ë§ì´ ì½ì–´ì˜¤ê²Œ ëœë‹¤.\nì½ì–´ì•¼ í•˜ëŠ” ë ˆì½”ë“œì˜ ê±´ìˆ˜ ì¸ë±ìŠ¤ë¥¼ í†µí•´ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ëŠ” ê²ƒì€ ì¸ë±ìŠ¤ë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ë°”ë¡œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ëŠ” ê²ƒ ë³´ë‹¤ ë†’ì€ ë¹„ìš©ì´ ë“œëŠ” ì‘ì—…ì´ë‹¤. ë”°ë¼ì„œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ì½ê¸°ì˜ ì†ìµ ë¶„ê¸°ì ì´ ì–¼ë§ˆì¸ì§€ë¥¼ íŒë‹¨í•  í•„ìš”ê°€ ìˆë‹¤.\nì¼ë°˜ì ì¸ DBMSì˜ ì˜µí‹°ë§ˆì´ì €ì—ì„œëŠ” ì¸ë±ìŠ¤ë¥¼ í†µí•´ ë ˆì½”ë“œ 1ê±´ì„ ì½ëŠ” ê²ƒì´ í…Œì´ë¸”ì—ì„œ ì§ì ‘ ë ˆì½”ë“œ 1ê±´ì„ ì½ëŠ” ê²ƒë³´ë‹¤ 4~5ë°° ì •ë„ ë¹„ìš©ì´ ë” ë§ì´ ë“œëŠ” ì‘ì—…ì¸ ê²ƒìœ¼ë¡œ ì˜ˆì¸¡í•œë‹¤. ì¦‰ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì½ì–´ì•¼ í•  ë ˆì½”ë“œì˜ ê±´ìˆ˜ê°€ ì „ì²´ í…Œì´ë¸” ë ˆì½”ë“œì˜ 20%~25%ë¥¼ ë„˜ì–´ì„œë©´ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ì§€ ì•Šê³  í…Œì´ë¸”ì„ ëª¨ë‘ ì§ì ‘ ì½ì–´ì„œ í•„ìš”í•œ ë ˆì½”ë“œë§Œ ê°€ë ¤ë‚´ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë‹¤.\në§ì€ ë ˆì½”ë“œë¥¼ ì½ì„ ë•ŒëŠ” ê°•ì œë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ íŒíŠ¸ë¥¼ ì¶”ê°€í•´ë„ ì„±ëŠ¥ìƒ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ì ì´ ì—†ë‹¤.\nB-Tree ì¸ë±ìŠ¤ë¥¼ í†µí•œ ë°ì´í„° ì½ê¸° ì–´ë–¤ ê²½ìš°ì— ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ìœ ë„í• ì§€, ë˜ëŠ” ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ í• ì§€ íŒë‹¨í•˜ë ¤ë©´ MySQLì´ ì–´ë–»ê²Œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ë ˆì½”ë“œë¥¼ ì½ì–´ ë‚´ëŠ”ì§€ ì•Œì•„ì•¼ í•œë‹¤.\nì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº” 1 2 3 SELECT * FROM employees WHERE first_name BETWEEN \u0026#39;Ebbe\u0026#39; AND \u0026#39;Gad\u0026#39;; ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì€ ê²€ìƒ‰í•´ì•¼ í•  ì¸ë±ìŠ¤ì˜ ë²”ìœ„ê°€ ê²°ì •ëì„ ëŒ€ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. ê²€ìƒ‰í•˜ë ¤ëŠ” ê°’ì˜ ìˆ˜ë‚˜ ê²€ìƒ‰ ê²°ê³¼ ë ˆì½”ë“œ ê±´ìˆ˜ì™€ ê´€ê³„ ì—†ì´ ë ˆì¸ì§€ ìŠ¤ìº”ì´ë¼ê³  í‘œí˜„í•œë‹¤.\në£¨íŠ¸ ë…¸ë“œì—ì„œë¶€í„° ë¹„êµë¥¼ ì‹œì‘í•´ ë¸Œëœì¹˜ ë…¸ë“œë¥¼ ê±°ì¹˜ê³  ìµœì¢…ì ìœ¼ë¡œ ë¦¬í”„ ë…¸ë“œê¹Œì§€ ì°¾ì•„ ë“¤ì–´ê°€ì•¼ë§Œ ë¹„ë¡œì†Œ í•„ìš”í•œ ë ˆì½”ë“œì˜ ì‹œì‘ ì§€ì ì„ ì°¾ì„ ìˆ˜ ìˆë‹¤. ì´ì²˜ëŸ¼ ì°¨ë¡€ëŒ€ë¡œ ì£½ ì½ëŠ” ê²ƒì„ ìŠ¤ìº”ì´ë¼ê³  í‘œí˜„í•˜ë©°, ìŠ¤ìº”í•˜ë‹¤ê°€ ë¦¬í”„ ë…¸ë“œì˜ ëê¹Œì§€ ì½ìœ¼ë©´ ë¦¬í”„ ë…¸ë“œì˜ êµ¬ê°„ì€ ì‹¤ì œ ìŠ¤ìº”í•˜ëŠ” ë²”ìœ„ë¥¼ í‘œí˜„í•œë‹¤.\nB-Tree ì¸ë±ìŠ¤ì—ì„œ ë£¨íŠ¸ì™€ ë¸Œëœì¹˜ ë…¸ë“œë¥¼ ì´ìš©í•´ ìŠ¤ìº” ì‹œì‘ ìœ„ì¹˜ë¥¼ ê²€ìƒ‰í•˜ê³ , ê·¸ ì§€ì ë¶€í„° í•„ìš”í•œ ë°©í–¥ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì½ì–´ ë‚˜ê°„ë‹¤. ì¸ë±ìŠ¤ ìì²´ ì •ë ¬ íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ìŠ¤ìº”í•˜ë“  ê´€ê³„ì—†ì´, í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ì˜ ì •ìˆœ ë˜ëŠ” ì—­ìˆœìœ¼ë¡œ ì •ë ¬ëœ ìƒíƒœë¡œ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¨ë‹¤.\nì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œì—ì„œ ê²€ìƒ‰ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ê±´ë“¤ì€ ë°ì´í„° íŒŒì¼ì—ì„œ ë ˆì½”ë“œë¥¼ ì½ì–´ì˜¤ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤. ì´ë•Œ ë¦¬í”„ë…¸ë“œì— ì €ì¥ëœ ë ˆì½”ë“œ ì£¼ì†Œë¡œ ë°ì´í„° íŒŒì¼ì˜ ë ˆì½”ë“œë¥¼ ì½ì–´ì˜¤ëŠ”ë°, ë ˆì½”ë“œ í•œ ê±´ ë‹¨ìœ„ë¡œ ëœë¤ I/Oê°€ í•œ ë²ˆ ì”© ì¼ì–´ë‚œë‹¤. ì´ëŸ¬í•œ ì´ìœ  ë•Œë¬¸ì— ì¸ë±ìŠ¤ë¥¼ í†µí•´ ë°ì´í„° ë ˆì½”ë“œë¥¼ ì½ëŠ” ì‘ì—…ì€ ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ì‘ì—…ìœ¼ë¡œ ë¶„ë¥˜ëœë‹¤.\nì¸ë±ìŠ¤ì—ì„œ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê°’ì´ ì €ì¥ëœ ìœ„ì¹˜ë¥¼ ì°¾ëŠ”ë‹¤. 1ë²ˆì—ì„œ íƒìƒ‰ëœ ìœ„ì¹˜ë¶€í„° í•„ìš”í•œ ë§Œí¼ ì¸ë±ìŠ¤ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ì­‰ ì½ëŠ”ë‹¤.(ì¸ë±ìŠ¤ ìŠ¤ìº”) ì½ì–´ ë“¤ì¸ ì¸ë±ìŠ¤ í‚¤ì™€ ë ˆì½”ë“œ ì£¼ì†Œë¥¼ ì´ìš©í•´ ë ˆì½”ë“œê°€ ì €ì¥ëœ í˜ì´ì§€ë¥¼ ê°€ì ¸ì˜¤ê³ , ìµœì¢… ë ˆì½”ë“œë¥¼ ì½ì–´ì˜¨ë‹¤. ì¿¼ë¦¬ê°€ í•„ìš”ë¡œ í•˜ëŠ” ë°ì´í„°ì— ë”°ë¼ 3ë²ˆ ê³¼ì •ì€ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆëŠ”ë°, ì´ë¥¼ ì»¤ë²„ë§ ì¸ë±ìŠ¤ë¼ê³  í•œë‹¤. ì»¤ë²„ë§ ì¸ë±ìŠ¤ë¡œ ì²˜ë¦¬ë˜ëŠ” ì¿¼ë¦¬ëŠ” ë””ìŠ¤í¬ì˜ ë ˆì½”ë“œë¥¼ ì½ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸ì— ëœë¤ ì½ê¸°ê°€ ìƒë‹¹íˆ ì¤„ì–´ë“¤ê³  ê·¸ë§Œí¼ ë¹¨ë¼ì§„ë‹¤.\n1 SHOW STATUS LIKE \u0026#39;Handler_%\u0026#39;; ìœ„ ì¿¼ë¦¬ë¥¼ í†µí•´ ì½ì€ ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìœ¼ë‚˜, ì‹¤ì œ ì¸ë±ìŠ¤ë§Œ ì½ì—ˆëŠ”ì§€ ì¸ë±ìŠ¤ë¥¼ í†µí•´ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ì—ˆëŠ”ì§€(3ë²ˆ)ì€ êµ¬ë¶„í•  ìˆ˜ ì—†ë‹¤.\nHandler_read_key: 1ë²ˆ ë‹¨ê³„ê°€ ì‹¤í–‰ëœ íšŸìˆ˜ Handler_read_next: ì¸ë±ìŠ¤ ì •ìˆœìœ¼ë¡œ ì½ì€ ë ˆì½”ë“œ ê±´ìˆ˜ Handler_read_prev: ì¸ë±ìŠ¤ ì—­ìˆœìœ¼ë¡œ ì½ì€ ë ˆì½”ë“œ ê±´ìˆ˜ Handler_read_first: ì²« ë²ˆì§¸ ë ˆì½”ë“œë¥¼ ì½ì€ íšŸìˆ˜ (MIN) Handler_read_last: ë§ˆì§€ë§‰ ë ˆì½”ë“œë¥¼ ì½ì€ íšŸìˆ˜ (MAX) ì¸ë±ìŠ¤ í’€ ìŠ¤ìº” ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ê³¼ëŠ” ë‹¬ë¦¬ ì¸ë±ìŠ¤ì˜ ì²˜ìŒë¶€í„° ëê¹Œì§€ ëª¨ë‘ ì½ëŠ” ë°©ì‹ì´ë‹¤. ëŒ€í‘œì ìœ¼ë¡œ ì¿¼ë¦¬ì˜ ì¡°ê±´ì ˆì— ì‚¬ìš©ëœ ì»¬ëŸ¼ì´ ì¸ë±ìŠ¤ì˜ ì²« ë²ˆì§¸ ì»¬ëŸ¼ì´ ì•„ë‹Œ ê²½ìš° ì¸ë±ìŠ¤ í’€ ìŠ¤ìº” ë°©ì‹ì´ ì‚¬ìš©ëœë‹¤.\nì¸ë±ìŠ¤ ë¦¬í”„ ë…¸ë“œì˜ ì œì¼ ì• ë˜ëŠ” ì œì¼ ë’¤ë¡œ ì´ë™í•œë‹¤. ì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œë¥¼ ì—°ê²°í•˜ëŠ” ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë”°ë¼ì„œ ì²˜ìŒë¶€í„° ëê¹Œì§€ ìŠ¤ìº”í•œë‹¤. ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”ì€ ì¸ë±ìŠ¤ì— í¬í•¨ëœ ì»¬ëŸ¼ë§Œìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš° í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ì„ í•„ìš”ê°€ ì—†ì–´ í…Œì´ë¸” í’€ ìŠ¤ìº”ë³´ë‹¤ëŠ” íš¨ìœ¨ì ì´ë‹¤. ì¸ë±ìŠ¤ì˜ ì „ì²´ í¬ê¸°ëŠ” í…Œì´ë¸” ìì²´ì˜ í¬ê¸°ë³´ë‹¤ëŠ” í›¨ì”¬ ì‘ìœ¼ë¯€ë¡œ ë” ì ì€ ë””ìŠ¤í¬ I/Oë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\në£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº” ì˜¤ë¼í´ DBMSì˜ ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº”ë¹„ìŠ·í•˜ê²Œ ì²˜ë¦¬ë˜ëŠ” ë°©ë²•ìœ¼ë¡œ MySQL 5.7 ë²„ì „ ê¹Œì§€ëŠ” ê¸°ëŠ¥ì´ ë§ì´ ì œí•œì ì´ì—ˆì§€ë§Œ, MySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ë‹¤ë¥¸ ìƒìš© DBMSì—ì„œ ì§€ì›í•˜ëŠ” ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº”ê³¼ ê°™ì€ ìµœì í™”ë¥¼ ì¡°ê¸ˆì”© ì§€ì›í•˜ê¸° ì‹œì‘í–ˆë‹¤.\nì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ê³¼ ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”ì€ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ê³¼ëŠ” ìƒë°˜ëœ ì˜ë¯¸ë¡œ íƒ€ì´íŠ¸ ì¸ë±ìŠ¤ ìŠ¤ìº”ìœ¼ë¡œ ë¶„ë¥˜í•œë‹¤.\në£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì´ë€ ë§ ê·¸ëŒ€ë¡œ ëŠìŠ¨í•˜ê²Œ ë˜ëŠ” ë“¬ì„±ë“¬ì„±í•˜ê²Œ ì¸ë±ìŠ¤ë¥¼ ì½ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ê³¼ ë¹„ìŠ·í•˜ê²Œ ì‘ë™í•˜ì§€ë§Œ ì¤‘ê°„ì— í•„ìš”ì¹˜ ì•Šì€ ì¸ë±ìŠ¤ í‚¤ ê°’ì€ ë¬´ì‹œí•˜ê³  ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ GROUP BY ë˜ëŠ” ì§‘í•© í•¨ìˆ˜ ì¤‘ MIN(), MAX() í•¨ìˆ˜ì— ëŒ€í•´ ìµœì í™”ë¥¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©ëœë‹¤.\n1 2 3 4 5 6 SELECT dept_no ,MIN(emp_no) FROM dept_emp WHERE dep_no BETWEEN \u0026#39;d002\u0026#39; AND \u0026#39;d004\u0026#39; GROUP BY dept_no ; ì¸ë±ìŠ¤ì—ì„œ WHEREì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë²”ìœ„ ì „ì²´ë¥¼ ë‹¤ ìŠ¤ìº”í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜µí‹°ë§ˆì´ì €ëŠ” ì•Œê³  ìˆê¸° ë•Œë¬¸ì— ì¡°ê±´ì— ë§Œì¡±í•˜ì§€ ì•ŠëŠ” ë ˆì½”ë“œëŠ” ë¬´ì‹œí•˜ê³  ë‹¤ìŒ ë ˆì½”ë“œë¡œ ì´ë™í•œë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì—¬ëŸ¬ê°€ì§€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.\nì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ì¸ë±ìŠ¤ì˜ í•µì‹¬ì€ ê°’ì´ ì •ë ¬ë¼ ìˆë‹¤ëŠ” ê²ƒì´ë©°, ì´ë¡œ ì¸í•´ ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ì˜ ìˆœì„œê°€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.\n1 2 3 ALTER TABLE employees ADD INDEX ix_gender_birthdate (gender, birth_date) ; ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ WHEREì¡°ê±´ì ˆì— gender ì»¬ëŸ¼ì— ëŒ€í•œ ë¹„êµ ì¡°ê±´ì´ í•„ìˆ˜ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 /* ì¸ë±ìŠ¤ X */ SELECT * FROM employees WHERE birth_date \u0026gt;= \u0026#39;1965-02-01\u0026#39;; /* ì¸ë±ìŠ¤ O */ SELECT * FROM employees WHERE gender = \u0026#39;M\u0026#39; AND birth_date \u0026gt;= \u0026#39;1965-02-01\u0026#39; ; ë”°ë¼ì„œ ìœ„ ë‘ ì¿¼ë¦¬ì¤‘ gender ì»¬ëŸ¼ê³¼ birth_date ì»¬ëŸ¼ì˜ ì¡°ê±´ì„ ëª¨ë‘ ê°€ì§„ ë‘ ë²ˆì§¸ ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, gender ì»¬ëŸ¼ì— ëŒ€í•œ ë¹„êµ ì¡°ê±´ì´ ì—†ëŠ” ì²« ë²ˆì§¸ ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ birth_date ì»¬ëŸ¼ë¶€í„° ì‹œì‘í•˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ë§Œ í–ˆë‹¤.\nMySQL 8.0 ë²„ì „ë¶€í„°ëŠ” ì˜µí‹°ë§ˆì´ì €ê°€ gender ì»¬ëŸ¼ì„ ê±´ë„ˆ ë›°ì–´ì„œ birth_date ì»¬ëŸ¼ë§Œìœ¼ë¡œë„ ì¸ë±ìŠ¤ ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ìµœì í™” ê¸°ëŠ¥ì´ ë„ì…ëë‹¤.\n1 2 3 4 5 6 SET optimizer_switch=\u0026#39;skip_scan=on\u0026#39;; SELECT * FROM employees WHERE birth_date \u0026gt;= \u0026#39;1965-02-01\u0026#39; ; 1 2 3 4 5 6 7 8 9 10 11 SELECT * FROM employees WHERE gender = \u0026#39;M\u0026#39; AND birth_date \u0026gt;= \u0026#39;1965-02-01\u0026#39; ; SELECT * FROM employees WHERE gender = \u0026#39;F\u0026#39; AND birth_date \u0026gt;= \u0026#39;1965-02-01\u0026#39; ; ìœ„ì˜ ì¿¼ë¦¬ëŠ” ì•„ë˜ì˜ ì¿¼ë¦¬ë¡œ ë‚˜ëˆ  ì‹¤í–‰í•œ ê²ƒê³¼ ë¹„ìŠ·í•œ í˜•íƒœë¡œ ìµœì í™”ë¥¼ ì‹¤í–‰í•œë‹¤.\nì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº”ì€ ìƒˆë¡­ê²Œ ë„ì…ëœ ê¸°ëŠ¥ì´ì–´ì„œ ì•„ì§ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ì´ ìˆë‹¤.\nWHERE ì¡°ê±´ì ˆì— ì¡°ê±´ì´ ì—†ëŠ” ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì»¬ëŸ¼ì˜ ìœ ë‹ˆí¬í•œ ê°’ì˜ ê°œìˆ˜ê°€ ì ì–´ì•¼í•¨ ì¿¼ë¦¬ê°€ ì¸ë±ìŠ¤ì— ì¡´ì¬í•˜ëŠ” ì»¬ëŸ¼ë§Œìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥í•´ì•¼í•¨(ì»¤ë²„ë§ ì¸ë±ìŠ¤) ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ ì‹¤ì œ ì„œë¹„ìŠ¤ìš© ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” 2ê°œ ì´ìƒì˜ ì»¬ëŸ¼ì„ í¬í•¨í•˜ëŠ” ì¸ë±ìŠ¤ê°€ ë” ë§ì´ ì‚¬ìš©ëœë‹¤. ë‘ê°œ ì´ìƒì˜ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ì¸ë±ìŠ¤ë¥¼ ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤(ë³µí•© ì»¬ëŸ¼ ì¸ë±ìŠ¤, Concatenated Index)ë¼ê³  í•œë‹¤.\nì¸ë±ìŠ¤ì˜ ë‘ ë²ˆì§¸ ì»¬ëŸ¼ì€ ì²« ë²ˆì§¸ ì»¬ëŸ¼ì— ì˜ì¡´í•´ì„œ ì •ë ¬ë¼ìˆë‹¤. ì¦‰ ë‘ ë²ˆì§¸ ì»¬ëŸ¼ì˜ ì •ë ¬ì€ ì²« ë²ˆì§¸ ì»¬ëŸ¼ì´ ë˜‘ê°™ì€ ë ˆì½”ë“œì—ì„œë§Œ ì˜ë¯¸ê°€ ìˆë‹¤. ìœ„ì˜ ì˜ˆì œì—ì„œ emp_no ê°’ì˜ ì •ë ¬ ìˆœì„œê°€ ë¹ ë¥´ë‹¤ê³  í•˜ë”ë¼ë„ dept_no ì»¬ëŸ¼ì˜ ì •ë ¬ ìˆœì„œê°€ ëŠ¦ë‹¤ë©´ ì¸ë±ìŠ¤ì˜ ë‘ìª½ì— ìœ„ì¹˜í•œë‹¤. ë”°ë¼ì„œ ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ì—ì„œëŠ” ì¸ë±ìŠ¤ ë‚´ì—ì„œ ê° ì»¬ëŸ¼ì˜ ìœ„ì¹˜(ìˆœì„œ)ê°€ ìƒë‹¹íˆ ì¤‘ìš”í•˜ì—¬ ì‹ ì¤‘íˆ ê²°ì •í•´ì•¼ í•œë‹¤.\nB-Tree ì¸ë±ìŠ¤ì˜ ì •ë ¬ ë° ìŠ¤ìº” ë°©í–¥ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ì„¤ì •í•œ ì •ë ¬ ê·œì¹™ì— ë”°ë¼ ì¸ë±ìŠ¤ì˜ í‚¤ ê°’ì€ í•­ìƒ ì˜¤ë¦„ì°¨ìˆœì´ê±°ë‚˜ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ì €ì¥ëœë‹¤. í•˜ì§€ë§Œ ì½ì„ë•ŒëŠ” ë°˜ëŒ€ë¡œë„ ê°€ëŠ¥í•˜ë©°, ì¸ë±ìŠ¤ë¥¼ ì–´ëŠ ë°©í–¥ìœ¼ë¡œ ì½ì„ì§€ëŠ” ì¿¼ë¦¬ì— ë”°ë¼ ì˜µí‹°ë§ˆì´ì €ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë§Œë“¤ì–´ ë‚´ëŠ” ì‹¤í–‰ ê³„íšì— ë”°ë¼ ê²°ì •ëœë‹¤.\nì¸ë±ìŠ¤ì˜ ì •ë ¬ MySQL 5.7 ë²„ì „ê¹Œì§€ëŠ” ì»¬ëŸ¼ ë‹¨ìœ„ë¡œ ì •ë ¬ ìˆœì„œë¥¼ í˜¼í•©í•´ì„œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ì—ˆì§€ë§Œ, 8.0 ë²„ì „ë¶€í„°ëŠ” ìˆœì„œë¥¼ í˜¼í•©í•œ ì¸ë±ìŠ¤ë„ ìƒì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\n1 CREATE INDEX ix_teamname_userscore ON employees (team_name ASC, user_score DESC); ì¸ë±ìŠ¤ ìŠ¤ìº” ë°©í–¥ ì¸ë±ìŠ¤ëŠ” í•­ìƒ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œë§Œ ì •ë ¬ë¼ ìˆì§€ë§Œ ì¸ë±ìŠ¤ë¥¼ ìµœì†Ÿê°’ë¶€í„° ì½ìœ¼ë©´ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê³ , ìµœëŒ“ê°’ë¶€í„° ê±°ê¾¸ë¡œ ì½ìœ¼ë©´ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ì´ë¯¸ ì•Œê³  ìˆë‹¤. ì¦‰ ì¸ë±ìŠ¤ ìƒì„± ì‹œì ì— ì˜¤ë¦„ì°¨ìˆœ ë˜ëŠ” ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ì´ ê²°ì •ë˜ì§€ë§Œ ì¿¼ë¦¬ê°€ ê·¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ì¸ë±ìŠ¤ë¥¼ ì½ëŠ” ë°©í–¥ì— ë”°ë¼ ì˜¤ë¦„ì°¨ìˆœ ë˜ëŠ” ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.\nORDER BY ì²˜ë¦¬ë‚˜ MIN, MAX í•¨ìˆ˜ë“±ì˜ ìµœì í™”ê°€ í•„ìš”í•œ ê²½ìš°ì—ë„ ì¸ë±ìŠ¤ì˜ ì½ê¸° ë°©í–¥ì„ ì „í™˜í•´ì„œ ì‚¬ìš©í•˜ë„ë¡ ì‹¤í–‰ ê³„íšì„ ë§Œë“¤ì–´ë‚¸ë‹¤.\në‚´ë¦¼ì°¨ìˆœ ì¸ë±ìŠ¤ MySQL ì„œë²„ëŠ” ì‹¤ì œ ë‚´ë¦¼ì°¨ìˆœì¸ì§€ ì˜¤ë¦„ì°¨ìˆœì¸ì§€ ê´€ê³„ì—†ì´ ì¸ë±ìŠ¤ë¥¼ ì½ëŠ” ìˆœì„œë§Œ ë³€ê²½í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ, 2ê°œ ì´ìƒì˜ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ë³µí•© ì¸ë±ìŠ¤ì—ì„œ ê°ê°ì˜ ì»¬ëŸ¼ì´ ë‚´ë¦¼ì°¨ìˆœê³¼ ì˜¤ë¦„ì°¨ìˆœì´ í˜¼í•©ëœ ê²½ìš°ëŠ” ë‚´ë¦¼ì°¨ìˆœ ì¸ë±ìŠ¤ë¡œë§Œ í•´ê²°ë  ìˆ˜ ìˆë‹¤.\nì‹¤ì œ ì—­ìˆœ ì •ë ¤ ì¿¼ë¦¬ê°€ ì •ìˆœ ì •ë ¬ ì¿¼ë¦¬ë³´ë‹¤ ë” ì‹œê°„ì´ ë§ì´ ê±¸ë¦°ë‹¤. MySQL ì„œë²„ì˜ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì •ìˆœ ìŠ¤ìº”ê³¼ ì—­ìˆœ ìŠ¤ìº”ì€ í˜ì´ì§€ ê°„ì˜ ì–‘ë°©í–¥ ì—°ê²° ê³ ë¦¬ë¥¼ í†µí•´ ì „ì§„í•˜ëŠëƒ í›„ì§„í•˜ëŠëƒì˜ ì°¨ì´ë§Œ ìˆì§€ë§Œ, ì‹¤ì œ ë‚´ë¶€ì ìœ¼ë¡œëŠ” InnoDBì—ì„œ ì¸ë±ìŠ¤ ì—­ìˆœ ìŠ¤ìº”ì´ ë” ëŠë¦° ì´ìœ ëŠ” 2ê°€ì§€ê°€ ìˆë‹¤.\ní˜ì´ì§€ ì ê¸ˆì´ ì¸ë±ìŠ¤ ì •ìˆœ ìŠ¤ìº”ì— ì í•©í•œ êµ¬ì¡° í˜ì´ì§€ ë‚´ì—ì„œ ì¸ë±ìŠ¤ ë ˆì½”ë“œê°€ ë‹¨ë°©í–¥ìœ¼ë¡œë§Œ ì—°ê²°ëœ êµ¬ì¡° ì¿¼ë¦¬ê°€ ë§ì€ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•˜ë©´ì„œ ë¹ˆë²ˆí•˜ê²Œ ì‹¤í–‰ëœë‹¤ë©´ ì˜¤ë¦„ì°¨ìˆœ ì¸ë±ìŠ¤ë³´ë‹¤ëŠ” ë‚´ë¦¼ì°¨ìˆœ ì¸ë±ìŠ¤ê°€ ë” íš¨ìœ¨ì ì´ë‹¤. ë˜í•œ ë§ì€ ì¿¼ë¦¬ê°€ ì¸ë±ìŠ¤ì˜ í•œìª½ë§Œì„ ì§‘ì¤‘ì ìœ¼ë¡œ ì½ì–´ íŠ¹ì • í˜ì´ì§€ ì ê¸ˆì´ ë³‘ëª©ì´ ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤ë©´ ì¿¼ë¦¬ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ì •ë ¬ ìˆœì„œëŒ€ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì ê¸ˆ ë³‘ëª© í˜„ìƒì€ ì™„í™”í•˜ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.\nB-Tree ì¸ë±ìŠ¤ì˜ ê°€ìš©ì„±ê³¼ íš¨ìœ¨ì„± ì¿¼ë¦¬ì˜ WHERE ì¡°ê±´ì´ë‚˜ GROUP BY, ORDER BY ì ˆì´ ì–´ë–¤ ê²½ìš°ì— ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³  ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€ ì‹ë³„í•  ìˆ˜ ìˆì–´ì•¼ ì¸ë±ìŠ¤ë¥¼ ìµœì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\në¹„êµ ì¡°ê±´ì˜ ì¢…ë¥˜ì™€ íš¨ìœ¨ì„± ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ì—ì„œ ê° ì»¬ëŸ¼ì˜ ìˆœì„œì™€ ê·¸ ì»¬ëŸ¼ì— ì‚¬ìš©ëœ ì¡°ê±´ì´ ë™ë“± ë¹„êµì¸ì§€ ì•„ë‹ˆë©´ ë²”ìœ„ ì¡°ê±´ì¸ì§€ì— ë”°ë¼ ì¸ë±ìŠ¤ ì»¬ëŸ¼ í™œìš© í˜•íƒœê°€ ë‹¬ë¼ì§€ë©°, íš¨ìœ¨ ë˜í•œ ë‹¤ë¥´ë‹¤.\n1 2 3 4 5 SELECT * FROM dept_emp WHERE dept_no=\u0026#39;d002\u0026#39; AND emp_no \u0026gt;= 10114 ; A: INDEX (dept_no, emp_no) dept_no='d002' AND emp_no \u0026gt;=10114 ì¸ ë ˆì½”ë“œë“¤ì„ ì°¾ê³  dept_noê°€ \u0026lsquo;d002\u0026rsquo;ê°€ ì•„ë‹ ë•Œê¹Œì§€ ì¸ë±ìŠ¤ë¥¼ ì½ëŠ”ë‹¤. ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ëŠ”ë° í•„ìš”í•œ ë¹„êµ ì‘ì—…ë§Œ ìˆ˜í–‰í•˜ë¯€ë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ í™œìš©í–ˆë‹¤. B: INDEX (emp_no, dept_no) emp_no \u0026gt;=10114 AND dept_no='d002' ì¸ ë ˆì½”ë“œë“¤ì„ ì°¾ê³  dept_noê°€ ëª¨ë“  ë ˆì½”ë“œê°€ \u0026lsquo;d002\u0026rsquo;ì¸ì§€ ë¹„êµí•œë‹¤. ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì½ì€ ë ˆì½”ë“œê°€ ë‚˜ë¨¸ì§€ ì¡°ê±´ì— ë§ëŠ”ì§€ ë¹„êµí•˜ë©´ì„œ ì·¨ì‚¬ì„ íƒí•˜ëŠ” ì‘ì—…ì„ í•„í„°ë§ì´ë¼ê³  í•˜ë©°, ì¼€ì´ìŠ¤ B ì¸ë±ìŠ¤ì—ì„œëŠ” ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ì˜ ì •ë ¬ ë°©ì‹ìœ¼ë¡œ ì¸í•´ ìµœì¢…ì ì¸ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ê¸° ìœ„í•´ ë” í° ë²”ìœ„ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ë¹„êµí–ˆë‹¤.\nê³µì‹ì ì¸ ëª…ì¹­ì€ ì•„ë‹ˆì§€ë§Œ ì¼€ì´ìŠ¤ A ì¸ë±ìŠ¤ì—ì„œì˜ ë„ ì¡°ê±´ê³¼ ê°™ì´ ì‘ì—…ì˜ ë²”ìœ„ë¥¼ ê²°ì •í•˜ëŠ” ì¡°ê±´ì„ ì‘ì—… ë²”ìœ„ ê²°ì • ì¡°ê±´ì´ë¼ í•˜ê³  ì¼€ì´ìŠ¤ B ì¸ë±ìŠ¤ê°™ì´ ë¹„êµ ì‘ì—…ì˜ ë²”ìœ„ë¥¼ ì¤„ì´ì§€ ëª»í•˜ê³  ê±°ë¦„ì¢…ì´ ì—­í• ë§Œ í•˜ëŠ” ì¡°ê±´ì„ í•„í„°ë§ ì¡°ê±´, ì²´í¬ ì¡°ê±´ì´ë¼ê³  í‘œí˜„í•œë‹¤.\nì‘ì—… ë²”ìœ„ë¥¼ ê²°ì •í•˜ëŠ” ì¡°ê±´ì€ ë§ìœ¼ë©´ ë§ì„ìˆ˜ë¡ ì¿¼ë¦¬ì˜ ì²˜ë¦¬ ì„±ëŠ¥ì„ ë†’ì´ì§€ë§Œ ì²´í¬ ì¡°ê±´ì€ ë§ë‹¤ê³  í•´ì„œ ì¿¼ë¦¬ì˜ ì²˜ë¦¬ ì„±ëŠ¥ì„ ë†’íˆì§€ëŠ” ëª»í•œë‹¤.\nì¸ë±ìŠ¤ì˜ ê°€ìš©ì„± B-Tree ì¸ë±ìŠ¤ì˜ íŠ¹ì§•ì€ ì™¼ìª½ ê°’ì— ê¸°ì¤€í•´ì„œ ì˜¤ë¥¸ìª½ ê°’ì´ ì •ë ¬ëœë‹¤. í•˜ë‚˜ì˜ ì»¬ëŸ¼ ë‚´ì—ì„œ ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ìš° ì»¬ëŸ¼ ì¸ë±ìŠ¤ì˜ ì»¬ëŸ¼ì— ëŒ€í•´ì„œë„ í•¨ê»˜ ì ìš©ëœë‹¤.\nA: INDEX (first_name) B: INDEX (dept_no, emp_no) ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ ì´ëŸ° ì •ë ¬ íŠ¹ì„±ì€ ë¹ ë¥¸ ê²€ìƒ‰ì˜ ì „ì œ ì¡°ê±´ì´ë‹¤. ì¦‰ í•˜ë‚˜ì˜ ì»¬ëŸ¼ìœ¼ë¡œ ê²€ìƒ‰í•´ë„ ê°’ì˜ ì™¼ìª½ ë¶€ë¶„ì´ ì—†ìœ¼ë©´ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº” ë°©ì‹ì˜ ê²€ìƒ‰ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ë˜í•œ ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ì—ì„œë„ ì™¼ìª½ ì»¬ëŸ¼ì˜ ê°’ì„ ëª¨ë¥´ë©´ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n1 2 3 4 SELECT * FROM employees WHERE first_name LIKE \u0026#39;%mer\u0026#39; ; first_name ì»¬ëŸ¼ì— ì €ì¥ëœ ê°’ì˜ ì™¼ìª½ë¶€í„° í•œ ê¸€ìì”© ë¹„êµí•´ ê°€ë©´ì„œ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ì•„ì•¼ í•˜ëŠ”ë°, LIKE ì¡°ê±´ìœ¼ë¡œ ì™¼ìª½ ë¶€ë¶„ì´ ê³ ì •ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº” ë°©ì‹ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\n1 2 3 4 SELECT * FROM dept_emp WHERE emp_no \u0026gt;= 10144 ; ì¸ë±ìŠ¤ê°€ dept_no ê¸°ì¤€ìœ¼ë¡œ ìƒì„±ë˜ì—ˆê¸° ë•Œë¬¸ì— dept_no ì¡°ê±´ ì—†ì´ ê²€ìƒ‰í•˜ë©´ ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\nê°€ìš©ì„±ê³¼ íš¨ìœ¨ì„± íŒë‹¨ ê¸°ë³¸ì ìœ¼ë¡œ B-Tree ì¸ë±ìŠ¤ì˜ íŠ¹ì„±ìƒ ë‹¤ìŒ ì¡°ê±´ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. (ì‘ì—… ë²”ìœ„ ê²°ì • ì¡°ê±°ëŠ¥ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.)\nNOT-EQUALë¡œ ë¹„êµëœ ê²½ìš°(\u0026lt;\u0026gt;,NOT IN, NOT BETWEEN, IS NOT NULL) LIKE '%??' í˜•íƒœë¡œ ë¬¸ìì—´ íŒ¨í„´ì´ ë¹„êµëœ ê²½ìš° ìŠ¤í† ì–´ë“œ í•¨ìˆ˜ë‚˜ ë‹¤ë¥¸ ì—°ì‚°ìë¡œ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì´ë³€í˜•ëœ í›„ ë¹„êµëœ ê²½ìš° WHERE SUBSTRING(column, 1, 1) = 'X WHERE DAYOFMONTH(column) = 1 NOT-DETERMINISTIC ì†ì„±ì˜ ìŠ¤í† ì–´ë“œ í•¨ìˆ˜ê°€ ë¹„êµ ì¡°ê±´ì— ì‚¬ìš©ëœ ê²½ìš° WHERE column = deterministic_function() ë°ì´í„° íƒ€ì…ì´ ì„œë¡œ ë‹¤ë¥¸ ë¹„êµ(ì¸ë±ìŠ¤ ì»¬ëŸ¼ì˜ íƒ€ì…ì„ ë³€í™˜í•´ì•¼ ë¹„êµê°€ ê°€ëŠ¥í•œ ê²½ìš°) ë¬¸ìì—´ ë°ì´í„° íƒ€ì…ì˜ ì½œë ˆì´ì…˜ì´ ë‹¤ë¥¸ ê²½ìš° ë‹¤ë¥¸ ì¼ë°˜ì ì€ DBMSì—ì„œëŠ” NULL ê°’ì´ ì¸ë±ìŠ¤ì— ì €ì¥ë˜ì§€ ì•Šì§€ë§Œ MySQL ì—ì„œëŠ” NULL ê°’ë„ ì¸ë±ìŠ¤ì— ì €ì¥ëœë‹¤. ë‹¤ìŒê³¼ ê°™ì€ WHERE ì¡°ê±´ë„ ì‘ì—… ë²”ìœ„ ê²°ì • ì¡°ê±´ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤. (WHERE column IS NULL)\në‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ 1 INDEX ix_test ( column_1, .. column_n ) ì‘ì—… ë²”ìœ„ ê²°ì • ì¡°ê±´ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° column_1 ì»¬ëŸ¼ì— ëŒ€í•œ ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš° column_1 ì»¬ëŸ¼ì˜ ë¹„êµ ì¡°ê±´ì´ ìœ„ì˜ ì¸ë±ìŠ¤ ì‚¬ìš© ë¶ˆê°€ ì¡°ê±´ ì¤‘ í•˜ë‚˜ì¸ ê²½ìš° ì‘ì—… ë²”ìœ„ ê²°ì • ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš° column_1 ~ column_(i-1)ì»¬ëŸ¼ê¹Œì§€ ë™ë“± ë¹„êµ í˜•íƒœ(=, IN) column_i ì»¬ëŸ¼ì— ëŒ€í•´ ë‹¤ìŒ ì—°ì‚°ì ì¤‘ í•˜ë‚˜ë¡œ ë¹„êµ ë™ë“± ë¹„êµ í¬ë‹¤ ì‘ë‹¤ í˜•íƒœ LIKEë¡œ ì¢ŒíŠ¹ ì¼ì¹˜ íŒ¨í„´ ì ì—… ë²”ìœ„ ê²°ì • ì¡°ê±´ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬ íŒ¨í„´ì€ ì´ ë°–ì—ë„ ìƒë‹¹íˆ ë§ì§€ë§Œ, ëŒ€í‘œì ì¸ ê²ƒì„ ê¸°ì–µí•´ ë‘ë©´ ì¢€ ë” íš¨ìœ¨ì ì¸ ì¿¼ë¦¬ë¥¼ ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-05-07T17:24:10+09:00","image":"https://codemario318.github.io/post/real-mysql/8/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/8/2/","title":"8. ì¸ë±ìŠ¤ (2) - B-Tree ì¸ë±ìŠ¤"},{"content":"ì¸ë±ìŠ¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ ì–¸ê¸‰í•˜ë©´ì„œ ë»¬ë†“ì„ ìˆ˜ ì—†ëŠ” ë¶€ë¶„ì´ë‹¤. ê° ì¸ë±ìŠ¤ì˜ íŠ¹ì„±ê³¼ ì°¨ì´ëŠ” ìƒë‹¹íˆ ì¤‘ìš”í•˜ë©°, ë¬¼ë¦¬ ìˆ˜ì¤€ì˜ ëª¨ë¸ë§ì„ í•  ë•Œë„ ì¤‘ìš”í•œ ìš”ì†Œê°€ ëœë‹¤.\nMySQL 8.0 ë²„ì „ê¹Œì§€ ì—…ê·¸ë ˆì´ë“œë˜ì–´ ì˜¤ë©´ì„œ ë‹¤ë¥¸ ìƒìš© RDBMSì—ì„œ ì œê³µí•˜ëŠ” ë§ì€ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê²Œ ëìœ¼ë©°, ê¸°ì¡´ì˜ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œë§Œ ì œê³µí•˜ë˜ ì „ë¬¸ ê²€ìƒ‰ì´ë‚˜ ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰ ê¸°ëŠ¥ë„ ëª¨ë‘ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\ní•˜ì§€ë§Œ ì•„ë¬´ë¦¬ MySQL ì„œë²„ì˜ ì˜µí‹°ë§ˆì´ì €ê°€ ë°œì „í•˜ê³  ì„±ëŠ¥ì´ ê°œì„ ëë‹¤ê³  í•´ë„ ì—¬ì „íˆ ê´€ë¦¬ìì˜ ì—­í• ì€ ë§¤ìš° ì¤‘ìš”í•˜ë©°, ì¸ë±ìŠ¤ì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹ì€ ì§€ê¸ˆë„ ì•ìœ¼ë¡œë„ ê°œë°œìë‚˜ ê´€ë¦¬ìì—ê²Œ ë§¤ìš° ì¤‘ìš”í•˜ê³  ì¿¼ë¦¬ íŠœë‹ì˜ ê¸°ë³¸ì´ ë  ê²ƒì´ë‹¤.\në””ìŠ¤í¬ ì½ê¸° ë°©ì‹ ì»´í“¨í„°ì˜ CPUë‚˜ ë©”ëª¨ë¦¬ì²˜ëŸ¼ ì „ê¸°ì  íŠ¹ì„±ì„ ë¤ ì¥ì¹˜ì˜ ì„±ëŠ¥ì€ ì§§ì€ ì‹œê°„ë™ì•ˆ ë§¤ìš° ë¹ ë¥¸ ì†ë„ë¡œ ë°œì „í–ˆìœ¼ë‚˜ ë””ìŠ¤í¬ ê°™ì€ ê¸°ê³„ì‹ ì¥ì¹˜ì˜ ì„±ëŠ¥ì€ ìƒë‹¹íˆ ì œí•œì ìœ¼ë¡œ ë°œì „í–ˆë‹¤. ìµœê·¼ì—ëŠ” ìê¸° ë””ìŠ¤í¬ ì›íŒì— ì˜ì¡´í•˜ëŠ” í•˜ë“œ ë””ìŠ¤í¬ë³´ë‹¤ SSD ë“œë¼ì´ë¸Œê°€ ë§ì´ í™œìš©ë˜ê³  ìˆì§€ë§Œ, ì—¬ì „íˆ ë°ì´í„° ì €ì¥ ë§¤ì²´ëŠ” ì»´í“¨í„°ì—ì„œ ê°€ì¥ ëŠë¦° ë¶€ë¶„ì´ë¼ëŠ” ì‚¬ì‹¤ì—ëŠ” ë³€í•¨ì´ ì—†ë‹¤.\në°ì´í„°ë² ì´ìŠ¤ë‚˜ ì¿¼ë¦¬ íŠœë‹ì— ì–´ëŠì •ë„ ì§€ì‹ì„ ì‚¬ìš©ìê°€ ì ˆê°í•˜ê³  ìˆë“¯ì´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì„±ëŠ¥ íŠœë‹ì€ ì–´ë–»ê²Œ ë””ìŠ¤í¬ I/Oë¥¼ ì¤„ì´ëŠëƒê°€ ê´€ê¶Œì¼ ë•Œê°€ ë§ë‹¤.\nHDDì™€ SSD ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œëŠ” í•­ìƒ ë””ìŠ¤í¬ ì¥ì¹˜ê°€ ë³‘ëª©ì´ ëœë‹¤. SSDëŠ” ê¸°ì¡´ í•˜ë“œ ë””ìŠ¤í¬ ë“œë¼ì´ë¸Œì—ì„œ ë°ì´í„° ì €ì¥ìš© ì›íŒì„ ì œê±°í•˜ëŠ” ëŒ€ì‹  í”Œë˜ì‹œ ë©”ëª¨ë¦¬ë¥¼ ì¥ì°©í•˜ê³  ìˆë‹¤. ë”°ë¼ì„œ ì›íŒì„ ë¬¼ë¦¬ì ìœ¼ë¡œ íšŒì „ì‹œí‚¬ í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ ë¹ ë¥´ê²Œ ë°ì´í„°ë¥¼ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤.\ní”Œë˜ì‹œ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” SSDëŠ” í•˜ë“œ ë””ìŠ¤í¬ ë“œë¼ì´ë¸Œë³´ë‹¤ ìš©ëŸ‰ì€ ì ì§€ë§Œ 1000ë°° ê°€ëŸ‰ ë¹ ë¥¸ ì„±ëŠ¥ì„ ë³´ì—¬ì£¼ê¸° ë•Œë¬¸ì— ìš”ì¦˜ì€ DBMSìš© ì„œë²„ëŠ” SSDë¥¼ ì±„íƒí•˜ê³  ìˆë‹¤.\në””ìŠ¤í¬ì˜ í—¤ë”ë¥¼ ì›€ì§ì´ì§€ ì•Šê³  í•œ ë²ˆì— ë§ì€ ë°ì´í„°ë¥¼ ì½ëŠ” ìˆœì°¨ I/O ì—ì„œëŠ” SSDê°€ ì••ë„ì ìœ¼ë¡œ ë¹ ë¥´ì§„ ì•Šì§€ë§Œ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œëŠ” ëŒ€ë¶€ë¶„ ëœë¤ I/Oê°€ ë°œìƒí•˜ì—¬ ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„œ SSD ì„±ëŠ¥ì´ ìš°ìˆ˜í•˜ë‹¤.\nëœë¤ I/Oì™€ ìˆœì°¨ I/O í•˜ë“œë””ìŠ¤í¬ ê¸°ì¤€ìœ¼ë¡œ ëœë¤ I/OëŠ” ê·¸ë§Œí¼ ë””ìŠ¤í¬ í—¤ë“œë¥¼ ìì£¼ ì›€ì§ì—¬ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë©°, SSDë„ ëœë¤ I/Oê°€ ìˆœì°¨ I/Oì— ë¹„í•´ ìŠ¤ë£¨í’‹ì´ ë–¨ì–´ì§„ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ëŒ€ë¶€ë¶„ì˜ ì‘ì—…ì€ ì´ëŸ¬í•œ ì‘ì€ ë°ì´í„°ë¥¼ ë¹ˆë²ˆíˆ ì½ê³  ì“°ê¸° ë•Œë¬¸ì— MySQL ì„œë²„ì—ëŠ” ê·¸ë£¹ ì»¤ë°‹ì´ë‚˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ë²„í¼ ë„ëŠ” InnoDB ë¡œê·¸ ë²„í¼ ë“±ì˜ ê¸°ëŠ¥ìœ¼ë¡œ ëŒ€ì‘í•˜ê³  ìˆë‹¤.\nì¿¼ë¦¬ë¥¼ íŠœë‹í•´ì„œ ëœë¤ I/Oë¥¼ ìˆœì°¨ I/Oë¡œ ë°”ê¿” ì‹¤í–‰í•  ë°©ë²•ì€ ê·¸ë‹¤ì§€ ë§ì§€ ì•Šê³ , ì¼ë°˜ì ìœ¼ë¡œ ì¿¼ë¦¬ íŠœë‹ì€ ëœë¤ I/O ìì²´ë¥¼ ì¤„ì—¬ì£¼ëŠ” ê²ƒì´ ëª©ì ì´ë‹¤.\nëœë¤ I/Oë¥¼ ì¤„ì¸ë‹¤ëŠ” ê²ƒì€ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ê¼­ í•„ìš”í•œ ë°ì´í„°ë§Œ ì½ë„ë¡ ì¿¼ë¦¬ë¥¼ ê°œì„ í•˜ëŠ” ê²ƒì„ ì˜ë¯¸\nì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì€ ë°ì´í„°ë¥¼ ì½ê¸° ìœ„í•´ ì£¼ë¡œ ëœë¤ I/O ì‚¬ìš©í•˜ê³  í’€ í…Œì´ë¸” ìŠ¤ìº”ì€ ìˆœì°¨ I/O ì‚¬ìš©í•œë‹¤. ë”°ë¼ì„œ í° í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ëŒ€ë¶€ë¶„ì„ ì½ëŠ” ì‘ì—…ì—ì„œëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë„ë¡ ìœ ë„í•  ë•Œë„ ìˆë‹¤. ì´ëŸ° í˜•íƒœëŠ” ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ì—ì„œëŠ” ê±°ì˜ í™œìš©ë˜ì§€ ì•Šìœ¼ë©° ì£¼ë¡œ ë°ì´í„°ì›¨ì–´í•˜ìš°ìŠ¤ë‚˜ í†µê³„ ì‘ì—…ì—ì„œ ë§ì´ í™œìš©ëœë‹¤.\nì¸ë±ìŠ¤ë€? ì±…ì˜ ë§¨ ëì— ìˆëŠ” ìƒ‰ì¸ìœ¼ë¡œ ì„¤ëª…ëœë‹¤. ìƒ‰ì¸ìœ¼ë¡œ ì°¾ëŠ” í˜ì´ì§€ ë²ˆí˜¸ëŠ” ë°ì´í„° íŒŒì¼ì— ì €ì¥ëœ ë ˆì½”ë“œì˜ ì£¼ì†Œì— ë¹„ìœ ë  ìˆ˜ ìˆë‹¤.\nDBMSë„ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ê²€ìƒ‰í•´ì„œ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ê¸° ë•Œë¬¸ì—, ì»¬ëŸ¼ì˜ ê°’ê³¼ í•´ë‹¹ ë ˆì½”ë“œê°€ ì €ì¥ëœ ì£¼ì†Œë¥¼ í‚¤ì™€ ê°’ì˜ ìŒìœ¼ë¡œ ì‚¼ì•„ ì¸ë±ìŠ¤ë¥¼ ë§Œë“¤ê³ , ë¹ ë¥¸ ê²€ìƒ‰ì„ ìœ„í•´ ì¹¼ëŸ¼ì˜ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•´ë†“ëŠ”ë‹¤.\nìë£Œêµ¬ì¡°ë¡œ ë¹„ìœ í•˜ë©´, SortedList, ArrayListë¥¼ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆë‹¤.\nSortedList: DBMSì˜ ì¸ë±ìŠ¤ì™€ ê°™ì€ ìë£Œ êµ¬ì¡°. ì €ì¥ëœ ê°’ì„ í•­ìƒ ì •ë ¬ëœ ìƒíƒœë¡œ ìœ ì§€í•œë‹¤. ë°ì´í„°ê°€ ì €ì¥ë  ë•Œë§ˆë‹¤ í•­ìƒ ê°’ì„ ì •ë ¬í•´ì•¼ í•˜ë¯€ë¡œ ì €ì¥í•˜ëŠ” ê³¼ì •ì´ ë³µì¡í•˜ê³  ëŠë¦¬ë‹¤. ì´ë¯¸ ì •ë ¬ë¼ ìˆì–´ ì›í•˜ëŠ” ê°’ì„ ì•„ì£¼ ë¹¨ë¦¬ ì°¾ì•„ì˜¬ ìˆ˜ ìˆë‹¤. INSERT, UPDATEëŠ” ëŠë ¤ì§€ì§€ë§Œ SELECTëŠ” ë§¤ìš° ë¹ ë¥´ë‹¤. ArrayList: ë°ì´í„° íŒŒì¼ê³¼ ê°™ì€ ìë£Œêµ¬ì¡°. ì €ì¥ëœ ìˆœì„œëŒ€ë¡œ ë³„ë„ ì •ë ¬ ì—†ì´ ê·¸ëŒ€ë¡œ ì €ì¥í•œë‹¤. ì¸ë±ìŠ¤ ì¶”ê°€ì‹œ ì£¼ì˜ì‚¬í•­ ê²°ë¡ ì ìœ¼ë¡œ DBMSì—ì„œ ì¸ë±ìŠ¤ëŠ” ë°ì´í„°ì˜ ì €ì¥ ì„±ëŠ¥ì„ í¬ìƒí•˜ê³  ê·¸ ëŒ€ì‹  ë°ì´í„°ì˜ ì½ê¸° ì†ë„ë¥¼ ë†’ì´ëŠ” ê¸°ëŠ¥ì´ë‹¤. ë”°ë¼ì„œ ë‹¤ìŒì„ ê³ ë ¤í•˜ì—¬ ì¸ë±ìŠ¤ ì¶”ê°€ë¥¼ ê²°ì •í•œë‹¤.\në°ì´í„°ì˜ ì €ì¥ ì†ë„ë¥¼ ì–´ëŠì •ë„ê¹Œì§€ í¬ìƒí•  ìˆ˜ ìˆëŠ”ì§€ ì½ê¸° ì†ë„ë¥¼ ì–¼ë§ˆë‚˜ ë” ë¹ ë¥´ê²Œ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ì§€ SELECTì¿¼ë¦¬ ë¬¸ì¥ì˜ WHEREì¡°ê±´ì ˆì— ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼ì´ë¼ê³  í•´ì„œ ì „ë¶€ ì¸ë±ìŠ¤ë¡œ ìƒì„±í•˜ë©´ ë°ì´í„° ì €ì¥ ì„±ëŠ¥ì´ ë–¨ì–´ì§€ê³  ì¸ë±ìŠ¤ì˜ í¬ê¸°ê°€ ë¹„ëŒ€í•´ì ¸ ì˜¤íˆë ¤ ì—­íš¨ê³¼ë§Œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ ë¶„ë¥˜ ì¸ë±ìŠ¤ëŠ” ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ì‹(ì•Œê³ ë¦¬ì¦˜)ê³¼ ì¤‘ë³µ ê°’ì˜ í—ˆìš© ì—¬ë¶€ ë“±ì— ë”°ë¼ ì—¬ëŸ¬ê°€ì§€ë¡œ ë‚˜ëˆ ë³¼ ìˆ˜ ìˆë‹¤.\nì—­í•  ë³„ ë¶„ë¥˜\nì¸ë±ìŠ¤ë¥¼ ì—­í•  ë³„ë¡œ êµ¬ë¶„í•´ ë³¸ë‹¤ë©´ í”„ë¼ì´ë¨¸ë¦¬í‚¤ì™€ ë³´ì¡°í‚¤(Secondary Index, Secondary Key)ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ ë ˆì½”ë“œë¥¼ ëŒ€í‘œí•˜ëŠ” ì»¬ëŸ¼ì˜ ê°’ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¸ë±ìŠ¤. í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ë ˆì½”ë“œë¥¼ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ê¸°ì¤€ê°’ì´ ë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ì‹ë³„ìë¼ê³ ë„ ë¶€ë¥¸ë‹¤. NULLê°’ê³¼ ì¤‘ë³µê°’ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ëª¨ë“  ì¸ë±ìŠ¤. ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì™€ ì„±ê²©ì´ ë¹„ìŠ·í•˜ê³  í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ëŒ€ì²´í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ ëŒ€ì²´í‚¤ë¡œë„ ë¶ˆë¦°ë‹¤. ë°ì´í„° ì €ì¥ ë°©ì‹(ì•Œê³ ë¦¬ì¦˜) ë¶„ë¥˜\nëŒ€í‘œì ìœ¼ë¡œ B-Tree ì¸ë±ìŠ¤ì™€ Hash ì¸ë±ìŠ¤ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. ìµœê·¼ì—ëŠ” Fractal-Tree ì¸ë±ìŠ¤ë‚˜ ë¡œê·¸ ê¸°ë°˜ì˜ Merge-Tree ì¸ë±ìŠ¤ì™€ ê°™ì€ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” DBMSë„ ê°œë°œë˜ê³  ìˆë‹¤.\nB-Tree ì•Œê³ ë¦¬ì¦˜ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì¸ë±ìŠ¤ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ, ìƒë‹¹íˆ ì˜¤ë˜ì „ì— ë„ì…ëœ ë§Œí¼ ì„±ìˆ™í•´ì§„ ìƒíƒœì´ë‹¤. ì»¬ëŸ¼ì˜ ê°’ì„ ë³€í˜•í•˜ì§€ ì•Šê³  ì›ë˜ì˜ ê°’ì„ ì´ìš©í•´ ì¸ë±ì‹±í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤. Hash ì¸ë±ìŠ¤ ì•Œê³ ë¦¬ì¦˜ ì»¬ëŸ¼ì˜ ê°’ìœ¼ë¡œ í•´ì‹œê°’ì„ ê³„ì‚°í•´ì„œ ì¸ë±ì‹±í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ, ë§¤ìš° ë¹ ë¥¸ ê²€ìƒ‰ì„ ì§€ì›í•œë‹¤. ê°’ì„ ë³€í˜•í•´ì„œ ì¸ë±ì‹±í•˜ë¯€ë¡œ ì „ë°©(Prefix)ì¼ì¹˜ì™€ ê°™ì´ ê°’ì˜ ì¼ë¶€ë§Œ ê²€ìƒ‰í•˜ê±°ë‚˜ ë²”ìœ„ ê²€ìƒ‰í•  ë•Œì—ëŠ” í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë©”ëª¨ë¦¬ ê¸°ë°˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë§ì´ ì‚¬ìš©ëœë‹¤. ë°ì´í„° ì¤‘ë³µ í—ˆìš© ì—¬ë¶€ë¡œ ë¶„ë¥˜\në°ì´í„°ì˜ ì¤‘ë³µ í—ˆìš© ì—¬ë¶€ë¡œ ë¶„ë¥˜í•˜ë©´ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì™€ ìœ ë‹ˆí¬í•˜ì§€ ì•Šì€ ì¸ë±ìŠ¤ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ê°€ ìœ ë‹ˆí¬í•œì§€ ì•„ë‹Œì§€ëŠ” ë‹¨ìˆœíˆ ê°™ì€ ê°’ì´ 1ê°œë§Œ ì¡´ì¬í•˜ëŠ”ì§€ 1ê°œ ì´ìƒ ì¡´ì¬í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì˜ë¯¸í•˜ì§€ë§Œ, ì‹¤ì œ DBMSì˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì— ëŒ€í•´ ë™ë“± ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í•œë‹¤ëŠ” ê²ƒì€ 1ê±´ì˜ ë ˆì½”ë“œë§Œ ì°¾ìœ¼ë©´ ë” ì°¾ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ê²ƒì„ ì˜µí‹°ë§ˆì´ì €ì—ê²Œ ì•Œë ¤ì£¼ëŠ” íš¨ê³¼ë¥¼ ë‚´ê¸° ë•Œë¬¸ì— ì˜µí‹°ë§ˆì´ì €ì—ê²ŒëŠ” ìƒë‹¹íˆ ì¤‘ìš”í•˜ë‹¤.\n","date":"2023-05-07T16:24:10+09:00","image":"https://codemario318.github.io/post/real-mysql/8/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/8/1/","title":"8. ì¸ë±ìŠ¤ (1)"},{"content":"ë°ì´í„° ì•”í˜¸í™”ëŠ” MySQL 5.7 ë²„ì „ë¶€í„° ì§€ì›ë˜ê¸° ì‹œì‘í–ˆìœ¼ë©°, ì²˜ìŒì—ëŠ” ë°ì´í„° íŒŒì¼(í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤)ì—ì„œë§Œ ì•”í˜¸í™” ê¸°ëŠ¥ì´ ì œê³µ ë˜ì—ˆìœ¼ë‚˜ MySQL 8.0ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ ë¦¬ë‘ ë¡œê·¸ë‚˜ ì–¸ë‘ ë¡œê·¸, ë³µì œë¥¼ ìœ„í•œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ë“±ë„ ëª¨ë‘ ì•”í˜¸í™” ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ì‹œì‘í–ˆë‹¤.\në°ì´í„° ì•”í˜¸í™” ì—¬ë¶€ëŠ” ë³´ì•ˆ ê°ì‚¬ì—ì„œ í•„ìˆ˜ì ìœ¼ë¡œ ì–¸ê¸‰ë˜ëŠ” ë¶€ë¶„ì´ë©°, í•€í…Œí¬ ì„œë¹„ìŠ¤ì²˜ëŸ¼ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ì„œë¹„ìŠ¤ì—ì„œëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì•”í˜¸í™”í•œ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ë‹¤ì‹œ ì•”í˜¸í™”í•˜ëŠ” ì´ì¤‘ ì•”í˜¸í™” ë°©ë²•ì„ ì„ íƒí•˜ê¸°ë„ í•œë‹¤.\nì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì•”í˜¸í™”ëŠ” ì£¼ë¡œ ì¤‘ìš” ì •ë³´ë¥¼ ê°€ì§„ ì¹¼ëŸ¼ ë‹¨ìœ„ë¡œ ì•”í˜¸í™”ë¥¼ ìˆ˜í–‰í•˜ë©°, ë°ì´í„°ë² ì´ìŠ¤ ìˆ˜ì¤€ì—ì„œëŠ” í…Œì…ë¥´ ë‹¨ìœ„ë¡œ ì•”í˜¸í™”ë¥¼ ì ìš©í•œë‹¤.\nMySQL ì„œë²„ì˜ ë°ì´í„° ì•”í˜¸í™” MySQL ì„œë²„ì˜ ì•”í˜¸í™” ê¸°ëŠ¥ì€ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì™€ ë””ìŠ¤í¬ ì‚¬ì´ì˜ ë°ì´í„° ì½ê³  ì“°ê¸° ì§€ì ì—ì„œ ì•”í˜¸í™” ë˜ëŠ” ë³µí˜¸í™”ë¥¼ ìˆ˜í–‰í•œë‹¤. ì¦‰ MySQL ì„œë²„(InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„)ì˜ I/O ë ˆì´ì–´ì—ì„œë§Œ ë°ì´í„°ì˜ ì•”í˜¸í™” ë° ë³µí˜¸í™” ê³¼ì •ì´ ì‹¤í–‰ë˜ë¯€ë¡œë””ìŠ¤í¬ ì…ì¶œë ¥ ì´ì™¸ì˜ ë¶€ë¶„ì—ì„œëŠ” ì•”í˜¸í™” ì²˜ë¦¬ê°€ ì „í˜€ í•„ìš”ì¹˜ ì•Šë‹¤.\nMySQL ì„œë²„ê°€ ì‚¬ìš©ìì˜ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ì•”í˜¸í™”ë¼ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì‹ë³„í•  í•„ìš”ê°€ ì—†ìœ¼ë©°, ì•”í˜¸í™”ëœ í…Œì´ë¸”ë„ ê·¸ë ‡ì§€ ì•Šì€ í…Œì´ë¸”ê³¼ ë™ì¼í•œ ì²˜ë¦¬ ê³¼ì •ì„ ê±°ì¹œë‹¤.\në°ì´í„° ì•”í˜¸í™” ê¸°ëŠ¥ì´ í™œì„±í™”ë¼ ìˆë‹¤ê³  í•˜ë”ë¼ë„ MySQL ë‚´ë¶€ì™€ ì‚¬ìš©ìì˜ ì…ì¥ì—ì„œëŠ” ì•„ë¬´ëŸ° ì°¨ì´ê°€ ì—†ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ì•”í˜¸í™” ë°©ì‹ì„ ê°€ë¦¬ì¼œ TDE(Transparent Data Encryption)ì´ë¼ê³  í•œë‹¤.\n2ë‹¨ê³„ í‚¤ ê´€ë¦¬ MySQL ì„œë²„ì˜ TDEì—ì„œ ì•”í˜¸í™” í‚¤ëŠ” í‚¤ë§(KeyRing) í”ŒëŸ¬ê·¸ì¸ì— ì˜í•´ ê´€ë¦¬ë˜ë©°, MySQL 8.0 ë²„ì „ì—ì„œ ì§€ì™¼ë˜ëŠ” í‚¤ë§ í”ŒëŸ¬ê·¸ì¸ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nkeyring_file File-Based í”ŒëŸ¬ê·¸ì¸ keyring_encrypted_file Keyring í”ŒëŸ¬ê·¸ì¸ keyring_okv KMIP í”ŒëŸ¬ê·¸ì¸ keyring_aws Amazon Web Services keyring í”ŒëŸ¬ê·¸ì¸ MySQLì»¤ë®¤ë‹ˆí‹° ì—ë””ì…˜ì—ì„œëŠ” keyring_file í”ŒëŸ¬ê·¸ì¸ë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ê³ , ë‚˜ë¨¸ì§€ í”ŒëŸ¬ê·¸ì¸ì€ ëª¨ë‘ ì—”í„°í”„ë¼ì´ì¦ˆ ì—ë””ì…˜ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\në‹¤ì–‘í•œ í”ŒëŸ¬ê·¸ì¸ì´ ì œê³µë˜ì§€ë§Œ ë§ˆìŠ¤í„° í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ë§Œ ë‹¤ë¥¼ ë¿ MySQL ì„œë²„ ë‚´ë¶€ì ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ë°©ì‹ì€ ëª¨ë‘ ë™ì¼í•˜ë‹¤. MySQL ì„œë²„ì˜ í‚¤ë§ í”ŒëŸ¬ê·¸ì¸ì€ 2ë‹¨ê³„(2-Tier) í‚¤ ê´€ë¦¬ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.\nMySQL ì„œë²„ì˜ ë°ì´í„° ì•”í˜¸í™”ëŠ” ë§ˆìŠ¤í„° í‚¤(master key)ì™€ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤(tablespace key)ë¼ëŠ” ë‘ ê°€ì§€ ì¢…ë¥˜ì˜ í‚¤ë¥¼ ê°€ì§€ê³  ìˆëŠ”ë°, í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ëŠ” í”„ë¼ì´ë¹— í‚¤(private key)ë¼ê³ ë„ í•œë‹¤.\nHasicorp Vault ê°™ì€ ì™¸ë¶€ í‚¤ ê´€ë¦¬ ì†”ë£¨ì…˜(KMS, Key Management Service) ë˜ëŠ” ë””ìŠ¤í¬ì˜ íŒŒì¼(Keyring_file ë˜ëŠ” keyring_encrypted_file í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©ì‹œ)ì—ì„œ ë§ˆìŠ¤í„° í‚¤ë¥¼ ê°€ì ¸ì˜¤ê³ , ì•”í˜¸í™”ëœ í…Œì´ë¸”ì´ ìƒì„±ë  ë•Œë§ˆë‹¤ í•´ë‹¹ í…Œì´ë¸”ì„ ìœ„í•œ ì„ì˜ì˜ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ë¥¼ ë°œê¸‰í•œë‹¤. ë§ˆìŠ¤í„° í‚¤ë¥¼ ì´ìš©í•´ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤í‚¤ë¥¼ ì•”í˜¸í™”í•´ì„œ ê° í…Œì´ë¸”ì˜ ë°ì´í„° íŒŒì¼ í—¤ë”ì— ì €ì¥í•œë‹¤. ì´ë ‡ê²Œ ìƒì„±ëœ í…Œì´ë¸”ìŠ¤í”„ì—ìŠ¤ í‚¤ëŠ” í…Œì´ë¸”ì´ ì‚­ì œë˜ì§€ ì•ŠëŠ” ì´ìƒ ì ˆëŒ€ ë³€ê²½ë˜ì§€ ì•Šì§€ë§Œ, í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤í‚¤ëŠ” ì ˆëŒ€ MySQL ì„œë²„ ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ë³´ì•ˆìƒ ì·¨ì•½ì ì´ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\ní•˜ì§€ë§Œ ë§ˆìŠ¤í„° í‚¤ëŠ” ì™¸ë¶€ì˜ íŒŒì¼ì„ ì´ìš©í•˜ê¸° ë•Œë¬¸ì— ë…¸ì¶œë  ê°€ëŠ¥ì„±ì´ ìˆì–´ ì£¼ê¸°ì ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•œë‹¤.\n1 ALTER INSTANCE ROTATE INNODB MASTER KEY; ë§ˆìŠ¤í„°í‚¤ë¥¼ ë³€ê²½í•˜ë©´ MySQLì„œë²„ëŠ” ê¸°ì¡´ì˜ ë§ˆìŠ¤í„° í‚¤ë¥¼ ì´ìš©í•´ ê° í…Œì´ë¸”ì˜ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ë¥¼ ë³µí˜¸í™”í•œ ë‹¤ìŒ ìƒˆë¡œìš´ ë§ˆìŠ¤í„° í‚¤ë¡œ ë‹¤ì‹œ ì•”í˜¸í™”í™”í•œë‹¤. ë§ˆìŠ¤í„° í‚¤ê°€ ë³€ê²½ë˜ëŠ” ë™ì•ˆ MySQL ì„œë²„ì˜ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ ìì²´ì™€ ë°ì´í„° íŒŒì¼ì˜ ë°ì´í„°ëŠ” ì „í˜€ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.\nMySQL ì„œë²„ì—ì„œ ì´ë ‡ê²Œ 2ë‹¨ê³„ ì•”í˜¸í™” ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ì•”í˜¸í™” í‚¤ ë³€ê²½ìœ¼ë¡œ ì¸í•œ ê³¼ë„í•œ ì‹œìŠ¤í…œ ë¶€í•˜ë¥¼ í”¼í•˜ê¸° ìœ„í•´ì„œë‹¤.\ní…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ê°€ ë³€ê²½ëœë‹¤ë©´ MySQL ì„œë²„ëŠ” ë°ì´í„° íŒŒì¼ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ë‹¤ì‹œ ë³µí˜¸í™”í–ˆë‹¤ê°€ ë‹¤ì‹œ ì•”í˜¸í™”í•´ì•¼ í•˜ë¯€ë¡œ, í‚¤ë¥¼ ë³€ê²½í•  ë•Œë§ˆë‹¤ ë§¤ìš° í° ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼ í•˜ë©°, ì´ì—ë”°ë¼ ì‚¬ìš©ì ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°ë„ ìƒë‹¹í•œ ì˜í–¥ì„ ë¯¸ì¹˜ê²Œ ëœë‹¤.\nMySQL ì„œë²„ì˜ TDEì—ì„œ ì§€ì›ë˜ëŠ” ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ì€ AES 256bitì´ë©°, ì´ì™¸ì˜ ì•Œê³ ë¦¬ì¦˜ì€ ì§€ì›ë˜ì§€ ì•ŠëŠ”ë‹¤.\ní…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ëŠ” AES-256(Electronic CodeBook) ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•´ ì•”í˜¸í™” ë˜ê³ , ì‹¤ì œ ë°ì´í„° íŒŒì¼ì€ AES-256 CBC(Cipher Block Chaining) ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•´ ì•”í˜¸í™” ëœë‹¤. ì•”í˜¸í™” ì„±ëŠ¥ MySQL ì„œë²„ì˜ ì•”í˜¸í™”ëŠ” TDE ë°©ì‹ì´ê¸° ë•Œë¬¸ì— ë””ìŠ¤í¬ë¡œë¶€í„° í•œ ë²ˆ ì½ì€ ë°ì´í„° í˜ì´ì§€ëŠ” ë³µí˜¸í™”ë˜ì–´ InnoDB ë²„í¼í’€ì— ì ì¬ëœë‹¤. ë”°ë¼ì„œ ë°ì´í„° í˜ì´ì§€ê°€ í•œ ë²ˆ ë©”ëª¨ë¦¬ì— ì ì¬ë˜ë©´ ì•”í˜¸í™”ë˜ì§€ ì•Šì€ í…Œì´ë¸”ê³¼ ë™ì¼í•œ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤.\nì¿¼ë¦¬ê°€ InnoDB ë²„í¼í’€ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë°ì´í„° í˜ì´ì§€ë¥¼ ì½ì–´ì•¼ í•˜ëŠ” ê²½ìš°ì—ëŠ” ë³µí˜¸í™” ê³¼ì •ì„ ê±°ì¹˜ê¸° ë•Œë¬¸ì— ë³µí˜¸í™” ì‹œê°„ë™ì•ˆ ì¿¼ë¦¬ ì²˜ë¦¬ê°€ ì§€ì—°ë  ìˆ˜ ìˆë‹¤. ì•”í˜¸í™”ëœ í…Œì´ë¸”ì´ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”ë  ë•Œ ì•”í˜¸í™”ë¼ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë””ìŠ¤í¬ì— ì €ì¥í•  ë•Œë„ ì¶”ê°€ë¡œ ì‹œê°„ì´ ë” ê±¸ë¦°ë‹¤. ë°ì´í„° í˜ì´ì§€ ì €ì¥ì€ ì‚¬ìš©ìì˜ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œê°€ ì•„ëŠ” MySQL ì„œë²„ìœ¼ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— ì‹¤ì œ ì‚¬ìš©ì ì¿¼ë¦¬ê°€ ì§€ì—°ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. UPDATE, DELETE ëª…ë ¹ ë˜í•œ ë³€ê²½í•˜ê³ ì í•˜ëŠ” ë ˆì½”ë“œë¥¼ InnoDB ë²„í¼í’€ë¡œ ì½ì–´ì™€ì•¼ í•˜ê¸° ëŒ€ë¬¸ì— ìƒˆë¡­ê²Œ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ì•¼ í•˜ëŠ” ë°ì´í„° í˜ì´ì§€ì˜ ê°œìˆ˜ì— ë”°ë¼ì„œ ë³µí˜¸í™” ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. AES ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ì€ ì•”í˜¸í™”í•˜ê³ ì í•˜ëŠ” í‰ë¬¸ì˜ ê¸¸ì´ê°€ ì§§ì€ ê²½ìš° ì•”í˜¸í™” í‚¤ì˜ í¬ê¸°ì— ë”°ë¼ ì•”í˜¸í™”ëœ ê²°ê³¼ì˜ ìš©ëŸ‰ì´ ë” ì»¤ì§ˆìˆ˜ë„ ìˆì§€ë§Œ, ì´ë¯¸ ë°ì´í„° í˜ì´ì§€ëŠ” ì•”í˜¸í™” í‚¤ë³´ë‹¤ í›¨ì”¬ í¬ê¸° ë•Œë¬¸ì— ì•”í˜¸í™” ê²°ê³¼ê°€ í‰ë¬¸ì˜ ê²°ê³¼ì™€ ë™ì¼í•œ í¬ê¸°ì˜ ì•”í˜¸ë¬¸ì„ ë°˜í™˜í•œë‹¤. ë”°ë¼ì„œ TDEë¥¼ ì ìš©í•œë‹¤ê³  í•´ë„ ë°ì´í„° íŒŒì¼ì˜ í¬ê¸°ëŠ” ì•”í˜¸í™”ë˜ì§€ ì•Šì€ í…Œì…ë¥´ê³¼ ë™ì¼í•œ í¬ê¸°ë¥¼ ê°€ì§„ë‹¤. ì¦‰ ì•”í˜¸í™”í•œë‹¤ê³  í•´ì„œ InnoDB ë²„í¼í’€ì˜ íš¨ìœ¨ì´ ë‹¬ë¼ì§€ê±°ë‚˜ ë©”ëª¨ë¦¬ ì‚¬ìš© íš¨ìœ¨ì´ ë–¨ì–´ì§€ëŠ” í˜„ìƒì€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\nê°™ì€ í…Œì´ë¸”ì— ëŒ€í•´ ì•”í˜¸í™”ì™€ ì••ì¶•ì´ ë™ì‹œì— ì ìš©ë˜ë©´ MySQL ì„œë²„ëŠ” ì••ì¶•ì„ ë¨¼ì € ì‹¤í–‰í•˜ê³  ì•”í˜¸í™”ë¥¼ ì ìš©í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì•”í˜¸í™”ëœ ê²°ê³¼ë¬¸ì€ ì•„ì£¼ ëœë¤í•œ ë°”ì´íŠ¸ì˜ ë°°ì—´ì„ ê°€ì§€ê²Œ ë˜ëŠ”ë°, ì´ëŠ” ì•”ì¶•ë¥ ì„ ìƒë‹¹íˆ ë–¨ì–´ëœ¨ë¦°ë‹¤. ì•”í˜¸í™”ëœ í…Œì´ë¸”ì˜ ë°ì´í„° í˜ì´ì§€ëŠ” ë³µí˜¸í™”ëœ ìƒíƒœë¡œ InnoDB ë²„í¼í’€ì— ì €ì¥ë˜ì§€ë§Œ, ì••ì¶•ëœ ë°ì´í„° í˜ì´ì§€ëŠ” ì••ì¶• ë˜ëŠ” ì••ì¶• í•´ì œì˜ ëª¨ë“  ìƒíƒœë¡œ InnoDB ë²„í¼í’€ì— ì „ì¬í•  ìˆ˜ ìˆë‹¤. ì•”í˜¸í™”ì™€ ë³µì œ MySQL ì„œë²„ì˜ ë³µì œì—ì„œ ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ì†ŒìŠ¤ ì„œë²„ì˜ ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°ë¥¼ ë™ê¸°í™”í•  ë•Œ TDEë¥¼ ì´ìš©í•œ ì•”í˜¸í™” ì‚¬ìš© ì‹œ ë§ˆìŠ¤í„° í‚¤ì™€ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ëŠ” ì œì™¸ëœë‹¤.\nMySQL ì„œë²„ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ë…¸ë“œëŠ” ê°ìì˜ ë§ˆìŠ¤í„° í‚¤ë¥¼ í• ë‹¹í•´ì•¼ í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ë¡œì»¬ ë””ë ‰í„°ë¦¬ì— ë§ˆìŠ¤í„° í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²½ìš°ì—ëŠ” ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ì„œë¡œ ë‹¤ë¥¸ ë§ˆìŠ¤í„° í‚¤ë¥¼ ê°–ë„ë¡ ì„¤ì •í•´ì•¼ í•œë‹¤. ë§ˆìŠ¤í„° í‚¤ ìì²´ê°€ ë ˆí”Œë¦¬ì¹´ë¡œ ë³µì œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ ë˜í•œ ë ˆí”Œë¦¬ì¹´ë¡œ ë³µì œë˜ì§€ ì•ŠëŠ”ë‹¤.\nê²°êµ­ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ëŠ” ì„œë¡œ ê°ìì˜ ë§ˆìŠ¤í„° í‚¤ì™€ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ í‚¤ë¥¼ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë³µì œ ë©¤ë²„ë“¤ì˜ ë°ì´í„° íŒŒì¼ì€ ì•”í˜¸í™” ë˜ê¸° ì „ì˜ ê°’ì´ ë™ì¼í•˜ë”ë¼ë„ ì‹¤ì œ ì•”í˜¸í™”ëœ ë°ì´í„°ê°€ ì €ì¥ëœ ë°ì´í„° íŒŒì¼ì˜ ë‚´ìš©ì€ ì™„ì „íˆ ë‹¬ë¼ì§„ë‹¤.\në³µì œ ì†ŒìŠ¤ ì„œë²„ì˜ ë§ˆìŠ¤í„° í‚¤ë¥¼ ë³€ê²½í•  ë•ŒëŠ” ALERT INSTANCE ROTATE INNODB MASTER KEY ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ”ë°, ì´ë•Œ ëª…ë ¹ ìì²´ëŠ” ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ë³µì œë˜ì§€ë§Œ ì‹¤ì œ ì†ŒìŠ¤ ì„œë²„ì˜ ë§ˆìŠ¤í„° í‚¤ ìì²´ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ë¡œ ì „ë‹¤ë¡œë””ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ê·¸ë˜ì„œ ë§ˆìŠ¤í„° í‚¤ ë¡œí…Œì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ê°€ ê°ê° ì„œë¡œ ë‹¤ë¥¸ ë§ˆìŠ¤í„° í‚¤ë¥¼ ìƒˆë¡œ ë°œê¸‰ë°›ëŠ”ë‹¤.\nMySQL ì„œë²„ì˜ ë°±ì—…ì—ì„œ TDEì˜ í‚¤ë§(Keyr Ring)íŒŒì¼ì„ ë°±ì—…í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ ê²½ìš° í‚¤ë§ íŒŒì¼ì„ ì°¾ì§€ ëª»í•˜ë©´ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ ì—†ê²Œ ëœë‹¤. í‚¤ë§ íŒŒì¼ì„ ë°ì´í„° ë°±ì—…ê³¼ ë³„ë„ë¡œ ë°±ì—…í•œë‹¤ë©´ ë§ˆìŠ¤í„° í‚¤ ë¡œí…Œì´ì…˜ ëª…ë ¹ìœ¼ë¡œ TDEì˜ ë§ˆìŠ¤í„° í‚¤ê°€ ì—Šë„¤ ë³€ê²½ëëŠ”ì§€ê¹Œì§€ ê¸°ì–µí•˜ê³  ìˆì–´ì•¼ í•œë‹¤.\nKeyring_file í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ MySQL ì„œë²„ì˜ ë°ì´í„° ì•”í˜¸í™” ê¸°ëŠ¥ì¸ TDEì˜ ì•”í˜¸í™” í‚¤ ê´€ë¦¬ëŠ” í”ŒëŸ¬ê·¸ì¸ ë°©ì‹ì„ ì œê³µëœë‹¤.\nKeyring_fileí”ŒëŸ¬ê·¸ì¸ì€ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ë¥¼ ì•”í˜¸í™”í•˜ê¸° ìœ„í•œ ë§ˆìŠ¤í„° í‚¤ë¥¼ ë””ìŠ¤í¬ì˜ íŒŒì¼ë¡œ ê´€ë¦¬í•˜ëŠ”ë°, ì´ë•Œ ë§ˆìŠ¤í„° í‚¤ëŠ” í‰ë¬¸ìœ¼ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ëœë‹¤. ì¦‰ ë§ˆìŠ¤í„°í‚¤ê°€ ì €ì¥ëœ íŒŒì¼ì´ ì™¸ë¶€ì— ë…¸ì¶œëœë‹¤ë©´ ë°ì´í„° ì•”í˜¸í™”ëŠ” ë¬´ìš©ì§€ë¬¼ì´ ëœë‹¤.\nkeyring_fileí”ŒëŸ¬ê·¸ì¸ì€ ë§ˆìŠ¤í„° í‚¤ë¥¼ ì•”í˜¸í™”í•˜ì§€ ì•Šì€ ìƒíƒœì˜ í‰ë¬¸ìœ¼ë¡œ ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ë³´ì•ˆ ìš”ê±´ì„ ì¶©ì¡±ì‹œì¼œì£¼ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¼ì—ë„ keyring_file í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê³ ì í•œë‹¤ë©´ MySQL ì„œë²„ê°€ ì‹œì‘ë  ë•Œë§Œ í‚¤ë§ íŒŒì¼ì„ ë‹¤ë¥¸ ì„œë²„ë¡œë¶€í„° ë‹¤ìš´ë¡œë“œí•´ì„œ ë¡œì»¬ ë””ìŠ¤í¬ì— ì €ì¥í•œ í›„ MySQL ì„œë²„ë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. MySQL ì„œë²„ê°€ ì‹œì‘ë˜ë©´ ë§ˆìŠ¤í„° í‚¤ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•˜ê¸° ë•Œë¬¸ì— ë¡œì»¬ ë””ìŠ¤í¬ì˜ í‚¤ë§ íŒŒì¼ì„ ì‚­ì œí•´ë„ ë¬¸ì œëŠ” ì „í˜€ ì—†ë‹¤. Percona ServerëŠ” HashiCorp Vaultë¥¼ ì—°ë™í•˜ëŠ” í‚¤ ê´€ë¦¬ í”ŒëŸ¬ê·¸ì¸ì„ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ì œê³µí•˜ë¯€ë¡œ í•¨ê»˜ ê²€í† í•´ë³´ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.\nTDE í”ŒëŸ¬ê·¸ì¸ì˜ ê²½ìš° MySQL ì„œë²„ê°€ ì‹œì‘ë˜ëŠ” ë‹¨ê³„ì—ì„œë„ ê°€ì¥ ë¹¨ë¦¬ ì´ˆê¸°í™”ë¼ì•¼ í•œë‹¤.\n1 2 early-plugin-load = keyring_file.so keyring_file_data = /very/secure/directory/tde_master.key ê·¸ë˜ì„œ ë‹¤ìŒê³¼ ê°™ì´ MySQL ì„œë²„ì˜ ì„¤ì • íŒŒì¼(my.cnf)ì—ì„œ early-plugin-load ì‹œìŠ¤í…œ ë³€ìˆ˜ì— keyring_file í”ŒëŸ¬ê·¸ì¸ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ëª…ì‹œí•˜ë©´ ëœë‹¤. ê·¸ë¦¬ê³  keyring_file í”ŒëŸ¬ê·¸ì¸ì´ ë§ˆìŠ¤í„° í‚¤ë¥¼ ì €ì¥í•  í‚¤ë§ íŒŒì¼ì˜ ê²½ë¡œë¥¼ keyring_file_data ì„¤ì •ì— ëª…ì‹œí•˜ë©´ ëœë‹¤.\nì„¤ì • íŒŒì¼ì´ ì¤€ë¹„ë˜ë©´ MySQL ì„œë²„ ì‹œì‘ì‹œ ìë™ìœ¼ë¡œ keyring_fileí”ŒëŸ¬ê·¸ì¸ì´ ì´ˆê¸°í™”ëœë‹¤.\n1 SHOW PLUGINS; ì´ˆê¸°í™”ì™€ ë™ì‹œì— ì§€ì •í•œ ê²½ë¡œì— ë¹ˆ íŒŒì¼ì„ ìƒì„±í•œë‹¤. ë°ì´í„° ì•”í˜¸í™” ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì„ ìƒì„±í•˜ê±°ë‚˜ ë§ˆìŠ¤í„° ë¡œí…Œì´ì…˜ì„ ì‹¤í–‰í•˜ë©´ í‚¤ë§ íŒŒì¼ì˜ ë§ˆìŠ¤í„° í‚¤ê°€ ì´ˆê¸°í™”ëœë‹¤.\ní…Œì´ë¸” ì•”í˜¸í™” í‚¤ë§ í”ŒëŸ¬ê·¸ì¸ì€ ë§ˆìŠ¤í„° í‚¤ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë¶€ë¶„ê¹Œì§€ë§Œ ë‹´ë‹¹í•˜ê¸° ë•Œë¬¸ì— ì–´ë–¤ í‚¤ë§ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ë“  ê´€ê³„ ì—†ì´ ì•”í˜¸í™”ëœ í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  í™œìš©í•˜ëŠ” ë°©ë²•ì€ ëª¨ë‘ ë™ì¼í•˜ë‹¤.\ní…Œì´ë¸” ìƒì„± 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 CREATE TABLE tab_encrypted ( id INT, data VARCHAR(100), PRIMARY KEY (id) ) ENCRYPTION=\u0026#39;Y\u0026#39;; INSERT INTO tab_encrypted VALUES (1, \u0026#39;test\u0026#39;); SELECT * FROM tab_encrypted; /** +--+----+ |id|data| +--+----+ | 1|test| +--+----+ */ MySQL ì„œë²„ì—ì„œ ì•”í˜¸í™”ëœ í…Œì´ë¸”ë§Œ ê²€ìƒ‰í•  ë•ŒëŠ” information_schemaì˜ TABLES ë·°ë¥¼ ì´ìš©í•œë‹¤.\n1 2 3 4 5 SELECT table_schema ,table_name ,create_options FROM information_schema.tables WHERE table_name=\u0026#39;tab_encrypted\u0026#39;; í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œë§ˆë‹¤ ì˜µì…˜ì„ ì„¤ì •í•˜ë©´ ì‹¤ìˆ˜ë¡œ ì•”í˜¸í™” ì ìš©ì„ ìŠì–´ë²„ë¦´ ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ MySQL ì„œë²„ì˜ ëª¨ë“  í…Œì´ë¸”ì— ì•”í˜¸í™”ë¥¼ ì ìš©í•˜ê³ ì í•œë‹¤ë©´ default_table_encryption ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ONìœ¼ë¡œ ì„¤ì •í•˜ë©´ ENCRYPTION ì˜µì…˜ì„ ë³„ë„ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ì•”í˜¸í™”ëœ í…Œì´ë¸”ë¡œ ìƒì„±ëœë‹¤.\nì‘ìš© í”„ë¡œê·¸ë¨ ì•”í˜¸í™”ì™€ì˜ ë¹„êµ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì§ì ‘ ì•”í˜¸í™”í•´ì„œ MySQL ì„œë²„ì— ì €ì¥í•˜ëŠ” ê²½ìš°ë„ ìˆëŠ”ë°, ì´ ê²½ìš° ì €ì¥ë˜ëŠ” ì¹¼ëŸ¼ì˜ ê°’ì´ ì´ë¯¸ ì•”í˜¸í™”ëœ ê²ƒì¸ì§€ ì—¬ë¶€ë¥¼ MySQL ì„œë²„ëŠ” ì¸ì§€í•˜ì§€ ëª»í•œë‹¤. ê·¸ë˜ì„œ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì•”í˜¸í™”ëœ ì»¬ëŸ¼ì€ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ë”ë¼ë„ ì¸ë±ìŠ¤ì˜ ê¸°ëŠ¥ì„ 100% í™œìš©í•  ìˆ˜ ì—†ë‹¤.\nì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ì§ì ‘ ì•”í˜¸í™”í•˜ì§€ ì•Šê³  MySQL ì„œë²„ì˜ ì•”í˜¸í™” ê¸°ëŠ¥(TDE)ì„ ì‚¬ìš©í•œë‹¤ë©´ MySQL ì„œë²„ëŠ” ì¸ë±ìŠ¤ ê´€ë ¨ëœ ì‘ì—…ì„ ëª¨ë‘ ì²˜ë¦¬í•œ í›„ ìµœì¢… ë””ìŠ¤í¬ì— ë°ì´í„° í˜ì´ì§€ë¥¼ ì €ì¥í•  ë•Œë§Œ ì•”í˜¸í™” í•˜ê¸° ë•Œë¬¸ì— ì œì•½ì´ ì¤„ì–´ë“ ë‹¤.\nì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œì˜ ì•”í˜¸í™” ê¸°ëŠ¥ì€ ì„œë¹„ìŠ¤ì˜ ìš”ê±´ê³¼ ì„±ëŠ¥ì„ ê³ ë ¤í•´ì„œ ì„ íƒí•´ì•¼ í•˜ê³ , MySQL ì„œë²„ì˜ ì•”í˜¸í™” ê¸°ëŠ¥ê³¼ í˜¼í•©í•´ì„œ ì‚¬ìš©í•œë‹¤ë©´ ë” ì•ˆì „í•œ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.\ní…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì´ë™ MySQL ì„œë²„ì˜ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ìë¼ë©´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ë§Œ ì´ë™í•˜ëŠ” ê¸°ëŠ¥ì„ ìì£¼ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°, í…Œì´ë¸”ì„ ë‹¤ë¥¸ ì„œë²„ë¡œ ë³µì‚¬í•´ì•¼ í•˜ëŠ” ê²½ìš° ë˜ëŠ” íŠ¹ì • í…Œì´ë¸”ì˜ ë°ì´í„° íŒŒì¼ë§Œ ë°±ì—…í–ˆë‹¤ê°€ ë³µêµ¬í•˜ëŠ” ê²½ìš°ë¼ë©´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì´ë™(Export \u0026amp; Import) ê¸°ëŠ¥ì´ ë ˆì½”ë“œë¥´ ë¤í”„í–ˆë‹¤ê°€ ë³µêµ¬í•˜ëŠ” ë°©ì‹ë³´ë‹¤ í›¨ì”¬ íš¨ìœ¨ì ì´ê³  ë¹ ë¥´ë‹¤.\nê·¸ëŸ°ë° TDEê°€ ì ìš©ë˜ì–´ ì•”í˜¸í™”ëœ í…Œì´ë¸”ì˜ ì›ë³¸ MySQL ì„œë²„ì™€ ëª©ì ì§€ MySQL ì„œë²„ì˜ ì•”í˜¸í™” í‚¤(ë§ˆìŠ¤í„° í‚¤)ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— FLUSH TABLES ëª…ë ¹ìœ¼ë¡œ í…Œì…ë¥´ìŠ¤í˜ì´ìŠ¤ë¥¼ ìµìŠ¤í¬íŠ¸ í•  ìˆ˜ ìˆë‹¤.\n1 FLUSH TABLES souce_table FOR EXPORT; MySQL ì„œë²„ëŠ” source_tableì˜ ì €ì¥ë˜ì§€ ì•Šì€ ë³€ê²½ì„ ëª¨ë“œ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ê³ , ë”ì´ìƒ ì ‘ê·¼í•  ìˆ˜ ì—†ê²Œ ì ê¸ˆì„ ê±´ë‹¤. ê·¸ì™€ ë™ì‹œì— source_tableì˜ êµ¬ì¡°ë¥¼ source_table.cfg íŒŒì¼ë¡œ ê¸°ë¡í•œë‹¤. ì•”í˜¸í™”ëœ í…Œì´ë¸”ì˜ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ í‚¤ë¥¼ ê¸°ì¡´ ë§ˆìŠ¤í„° í‚¤ë¡œ ë³µí˜¸í™”í•œ í›„, ì„ì‹œë¡œ ë°œê¸‰í•œ ë§ˆìŠ¤í„° í‚¤ë¥¼ ì´ìš©í•´ ë‹¤ì‹œ ì•”í˜¸í™”í•´ì„œ ë°ì´í„° íŒŒì¼ì˜ í—¤ë” ë¶€ë¶„ì— ì €ì¥í•œë‹¤. ë”°ë¼ì„œ ì•”í˜¸í™”ëœ í…Œì´ë¸”ì˜ ê²½ìš° í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì´ë™ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ë•ŒëŠ” ë°˜ë“œì‹œ ë°ì´í„° íŒŒì¼ê³¼ ì„ì‹œ ë§ˆìŠ¤í„° í‚¤ê°€ ì €ì¥ëœ *.cfp íŒŒì¼ì„ í•¨ê»˜ ë³µì‚¬í•´ì•¼ í•œë‹¤. *.cfgíŒŒì¼ì€ ë‹¨ìˆœíˆ í…Œì´ë¸”ì˜ êµ¬ì¡°ë§Œ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— íŒŒì¼ì´ ì—†ì–´ì ¸ë„ ê²½ê³ ë§Œ ë°œìƒí•˜ì§€ë§Œ, *.cfp íŒŒì¼ì´ ì—†ì–´ì§€ë©´ ë³µêµ¬ê°€ ë¶ˆê°€ëŠ¥í•´ì§„ë‹¤.\nì–¸ë‘ ë¡œê·¸ ë° ë¦¬ë‘ ë¡œê·¸ ì•”í˜¸í™” í…Œì´ë¸”ì˜ ì•”í˜¸í™”ë¥¼ ì ìš©í•˜ë”ë¼ë„ ë””ìŠ¤í¬ë¡œ ì €ì¥ë˜ëŠ” ë°ì´í„°ë§Œ ì•”í˜¸í™”ë˜ê³  MySQL ì„œë²„ì˜ ë©”ëª¨ë¦¬ì— ì¡´ì¬í•˜ëŠ” ë°ì´í„°ëŠ” ë³µí˜¸í™”ëœ í‰ë¬¸ìœ¼ë¡œ ê´€ë¦¬ë˜ë©°, ì´ í‰ë¬¸ ë°ì´í„°ê°€ í…Œì´ë¸”ì˜ ë°ì´í„° íŒŒì¼ ì´ì™¸ì˜ ë””ìŠ¤í¬ íŒŒì¼ë¡œ ê¸°ë¡ë˜ëŠ” ê²½ìš°ì—ëŠ” ì—¬ì „íˆ í‰ë¬¸ìœ¼ë¡œ ì €ì¥ëœë‹¤.\nê·¸ë˜ì„œ í…Œì´ë¸” ì•”í˜¸í™”ë¥¼ ì ìš©í•´ë„ ë¦¬ë‘ ë¡œê·¸ë‚˜ ì–¸ë‘ ë¡œê·¸, ê·¸ë¦¬ê³  ë³µì œë¥¼ ìœ„í•œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì—ëŠ” í‰ë¬¸ìœ¼ë¡œ ì €ì¥ë˜ëŠ” ê²ƒì´ë‹¤. MySQL 8.0.16 ë²„ì „ ë¶€í„°ëŠ” innodb_undo_log_encrypt, innodb_redo_log_encrypt ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ì–¸ë‘ ë¡œê·¸ì™€ ë¦¬ë‘ ë¡œê·¸ë¥¼ë¥¼ ì•”í˜¸í™” ëœ ìƒíƒœë¡œ ì €ì¥í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\nMySQL ì„œë²„ëŠ” ë¦¬ë‘ ë¡œê·¸ë‚˜ ì–¸ë‘ ë¡œê·¸ë¥¼ í‰ë¬¸ìœ¼ë¡œ ì €ì¥í•˜ë‹¤ê°€ ì•”í˜¸í™”ê°€ í™œì„±í™”ë˜ë©´ ê·¸ë•Œë¶€í„° ìƒì„±ë˜ëŠ” ë¦¬ë‘ ë¡œê·¸ì™€ ì–¸ë‘ ë¡œê·¸ë§Œ ì•”í˜¸í™”í•´ì„œ ì €ì¥í•œë‹¤. ë°˜ëŒ€ë¡œ ë¦¬ë‘ ë¡œê·¸ì™€ ì–¸ë‘ ë¡œê·¸ê°€ ì•”í˜¸í™”ë˜ëŠ” ìƒíƒœì—ì„œ ì•”í˜¸í™”ë¥¼ ë¹„í™œì„±í™”í•˜ë©´ ê·¸ë•Œë¶€í„° ì €ì¥ë˜ëŠ” ë¡œê·¸ë§Œ í‰ë¬¸ìœ¼ë¡œ ì €ì¥í•œë‹¤.\në”°ë¼ì„œ ë¦¬ë‘ ë¡œê·¸ì™€ ì–¸ë‘ ë¡œê·¸ëŠ” ì•”í˜¸í™”ë¥¼ í™œì„±í™” í–ˆë‹¤ê°€ ë¹„í™œì„±í™” í•œë‹¤ê³  í•´ì„œ ì¦‰ì‹œ ì•”í˜¸í™”ì— ì‚¬ìš©ëœ í‚¤ê°€ ë¶ˆí•„ìš”í•´ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. íŠ¹íˆ ì–¸ë‘ ë¡œê·¸ì˜ ê²½ìš° ì•”í˜¸í™”ë¥¼ ë¹„í™œì„±í™” í•œë‹¤ê³  í•˜ë”ë¼ë„ ìƒˆë¡œ ìƒì„±ë˜ëŠ” ì–¸ë‘ ë¡œê·¸ëŠ” í‰ë¬¸ìœ¼ë¡œ ì €ì¥ë˜ê² ì§€ë§Œ ê¸°ì¡´ ì–¸ë‘ ë¡œê·¸ëŠ” ì—¬ì „íˆ ì•”í˜¸í™”ëœ ìƒíƒœë¡œ ë‚¨ì•„ìˆì–´ ìƒí™©ì— ë”°ë¼ ê³„ì†í•´ì„œ ì•”í˜¸í™”í‚¤ê°€ í•„ìš”í•  ìˆ˜ ìˆë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í…Œì´ë¸” ì•”í˜¸í™”ê°€ ì ìš©ë¼ë„ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ ë˜í•œ ë¦¬ë‘ ë¡œê·¸ë‚˜ ì–¸ë‘ ë¡œê·¸ì²˜ëŸ¼ í‰ë¬¸ì„ ì €ì¥í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì–¸ë‘ ë¡œê·¸ì™€ ë¦¬ë‘ ë¡œê·¸ëŠ” ê¸°ë§‚ ì•Šì€ ì‹œê°„ë™ì•ˆì˜ ë°ì´í„°ë§Œ ê°€ì§€ê¸° ë•Œë¬¸ì— ë³´ì•ˆì— ë¯¼ê°í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì˜ ì•”í˜¸í™”ëŠ” ìƒí™©ì— ë”°ë¼ ì¤‘ìš”ë„ê°€ ë†’ì•„ì§ˆ ìˆ˜ ìˆë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ëŠ” ì˜ë„ì ìœ¼ë¡œ ìƒë‹¹íˆ ê¸´ ì‹œê°„ë™ì•ˆ ë³´ê´€í•  ìˆ˜ë„ ìˆë‹¤. ì¦ë¶„ ë°±ì—…(Incremental Backup)ì„ ìœ„í•´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ë³´ê´€í•˜ê¸°ë„ í•œë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ ì•”í˜¸í™” ê¸°ëŠ¥ì€ ë””ìŠ¤í¬ì— ì €ì¥ëœ ë¡œê·¸ íŒŒì¼ì— ëŒ€í•œ ì•”í˜¸í™”ë§Œ ë‹´ë‹¹í•˜ê³ , MySQL ì„œë²„ì˜ ë©”ëª¨ë¦¬ ë‚´ë¶€ ë˜ëŠ” ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ ê°„ì˜ ë„¤íŠ¸ì›Œí¬ êµ¬ê°„ì—ì„œ ë¡œê·¸ ë°ì´í„°ë¥¼ ì•”í˜¸í™”í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë³µì œ ë©¤ë²„ ê°„ì˜ ë„¤íŠ¸ì›Œí¬ êµ¬ê°„ì—ì„œë„ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì•”í˜¸í™”í•˜ê³ ì í•œë‹¤ë©´ MySQL ë³µì œë¥¼ ìœ„í•œ ê³„ì •ì´ SSLì„ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •í•œë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ ê´€ë¦¬ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ ë°ì´í„°ì˜ ì•”í˜¸í™”ë¥¼ ìœ„í•´ì„œë„ MySQL ì„œë²„ëŠ” 2ë‹¨ê³„ í‚¤ ê´€ë¦¬ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì˜ ë°ì´í„°ëŠ” íŒŒì¼ í‚¤(File Key)ë¡œ ì•”í˜¸í™°í•´ì„œ ë””ìŠ¤í¬ë¡œ ì €ì¥í•˜ê³ , íŒŒì¼ í‚¤ëŠ” \u0026ldquo;ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤\u0026quot;ë¡œ ì•”í˜¸í™” í•´ì„œ ê° ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì˜ í—¤ë”ì— ì €ì¥ëœë‹¤.\nì¦‰ \u0026ldquo;ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤\u0026quot;ëŠ” í…Œì´ë¸” ì•”í˜¸í™”ì˜ ë§ˆìŠ¤í„° í‚¤ì™€ ë™ì¼í•œ ì—­í• ì„ í•˜ë©°, íŒŒì¼ í‚¤ëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ ë‹¨ìœ„ë¡œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì–´ í•´ë‹¹ ë¡œê·¸ íŒŒì¼ì˜ ë°ì´í„° ì•”í˜¸í™”ì—ë§Œ ì‚¬ìš©ëœë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ ë³€ê²½ 1 ALTER INSTANCE ROTATE BINLOG MASTER KEY; ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ê°€ ë³€ê²½ë˜ë©´ ë‹¤ìŒ ê³¼ì •ì„ ê±°ì¹œë‹¤.\nì¦ê°€ëœ ì‹œí€€ìŠ¤ ë²ˆí˜¸ì™€ í•¨ê»˜ ìƒˆë¡œìš´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ ë°œê¸ˆ í›„ í‚¤ë§ íŒŒì¼ì— ì €ì¥ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ê³¼ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ ìŠ¤ìœ„ì¹˜(ìƒˆë¡œìš´ ë¡œê·¸ íŒŒì¼ë¡œ ë¡œí…Œì´ì…˜) ìƒˆë¡œ ìƒì„±ë˜ëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì˜ ì•”í˜¸í™”ë¥¼ ìœ„í•´ íŒŒì¼ í‚¤ë¥¼ ìƒì„±í•˜ê³ , íŒŒì¼ í‚¤ëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ í‚¤ë¡œ ì•”í˜¸í™”í•´ì„œ ê° ë¡œê·¸ íŒŒì¼ì— ì €ì¥ ê¸°ì¡° ã„´ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì˜ íŒŒì¼ í‚¤ë¥¼ ì½ì–´ì„œ ìƒˆë¡œìš´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ í‚¤ë¡œ ì•”í˜¸í™”í•´ì„œ ë‹¤ì‹œ ì €ì¥(ì•”í˜¸í™”ë˜ì§€ ì•Šì€ ë¡œê·¸ íŒŒì¼ì€ ë¬´ì‹œ) ëª¨ë“  ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì™€ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ë¦¬ ìƒˆë¡œìš´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ë¡œ ë‹¤ì‹œ ì•”í˜¸í™”ëë‹¤ë©´ ê¸°ì¡° ã„´ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ë¥¼ í‚¤ë§ íŒŒì¼ì—ì„œ ì œê±° 4ë²ˆ ê³¼ì •ì€ ìƒë‹¹íˆ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆëŠ”ë°, ì´ë¥¼ ìœ„í•´ í‚¤ë§ íŒŒì¼ì—ì„œ \u0026ldquo;ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤\u0026quot;ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë²„ì „ ê´€ë¦¬ê°€ ì´ë¤„ì§„ë‹¤.\nmysqlbinlog ë„êµ¬ í™œìš© MySQL ì„œë²„ì—ì„œëŠ” íŠ¸ëœì­ì…˜ì˜ ë‚´ìš©ì„ ì¶”ì í•˜ê±°ë‚˜ ë°±ì—… ë³µêµ¬ë¥¼ ìœ„í•´ ì•”í˜¸í™”ëœ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ í‰ë¬¸ìœ¼ë¡œ ë³µí˜¸í™”í•  ì¼ì´ ìì£¼ ë°œìƒí•œë‹¤. í•˜ì§€ë§Œ í•œ ë²ˆ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì´ ì•”í˜¸í™”ë˜ë©´ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ê°€ ì—†ìœ¼ë©´ ë³µí˜¸í™”í•  ìˆ˜ ì—†ë‹¤.\nê·¸ëŸ°ë° ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ëŠ” MySQL ì„œë²„ë§Œ ê°€ì§€ê³  ìˆì–´ì„œ ë³µí˜¸í™”ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. mysqlbinlog ë„êµ¬ë¥¼ ì´ìš©í•´ ì•”í˜¸í™”ëœ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì„ ì§ì ‘ ì—´ì–´ë³¼ ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê²Œ ëœë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ ì•”í˜¸í™” í‚¤ëŠ” ê·¸ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë‚˜ ë¦´ë ˆì´ ë¡œê·¸ íŒŒì¼ì„ ìƒì„±í•œ MySQL ì„œë²„ë§Œ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— MySQL ì„œë²„ì™€ ê´€ê²Œì—†ì´ mysqlbinlog ë„êµ¬ë§Œìœ¼ë¡œëŠ” ë³µí˜¸í™”í•  ë°©ë²•ì´ ì—†ë‹¤. ê·¸ë˜ì„œ ì˜ˆì „ì²˜ëŸ¼ ë‹¤ë¥¸ ì„œë²„ë¡œ ë³µì‚¬í•˜ê±°ë‚˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì„ ë°±ì—…í•˜ëŠ” ê²ƒì€ ì†Œìš©ì—†ì–´ì¡Œë‹¤.\në°”ì´ë„ˆë¦¬ ë¡œê·¸ íŒŒì¼ì˜ ë‚´ìš©ì„ í™•ì¸í•  ë°©ë²•ì€ MySQL ì„œë²„ë¥¼ í†µí•´ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì´ ìœ ì¼í•˜ë‹¤.\n1 mysqlbinlog --read-from-remote-server -uroot -p -vvv mysql-bin.000011 ","date":"2023-05-01T16:24:10+09:00","image":"https://codemario318.github.io/post/real-mysql/7/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/7/","title":"7. ë°ì´í„° ì•”í˜¸í™”"},{"content":"MySQL ì„œë²„ì—ì„œ ë””ìŠ¤í¬ì— ì €ì¥ëœ ë°ì´í„° íŒŒì¼ì˜ í¬ê¸°ëŠ” ì¼ë°˜ì €ê¸ë¡œ ì¿¼ë¦¬ì˜ ì²˜ë¦¬ ì„±ëŠ¥ê³¼ë„ ì§ê²°ë˜ì§€ë§Œ ë°±ì—… ë° ë³µêµ¬ ì‹œê°„ê³¼ë„ ë°€ì ‘í•˜ê²Œ ì—°ê²°ëœë‹¤.\në””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ì´ í¬ë©´ í´ìˆ˜ë¡ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ ë” ë§ì€ ë°ì´í„° í˜ì´ì§€ë¥¼ InnoDB ë²„í¼í’€ë¡œ ì½ì–´ì•¼ í•  ìˆ˜ ìˆë‹¤. ìƒˆë¡œìš´ í˜ì´ì§€ê°€ ë²„í¼í’€ë¡œ ì ì¬ë˜ê¸° ë•Œë¬¸ì— ê·¸ë§Œí¼ ë”í‹° í˜ì´ì§€ê°€ ë” ìì£¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë¼ì•¼ í•œë‹¤. ë°ì´í„° íŒŒì¼ì´ í¬ë©´ í´ìˆ˜ë¡ ë°±ì—… ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ë©°, ë³µêµ¬í•˜ëŠ” ë°ë„ ê·¸ë§Œí¼ì˜ ì‹œê°„ì´ ê±¸ë¦°ë‹¤. ê·¸ë§Œí¼ ì €ì¥ ê³µê°„ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ë¹„ìš© ë¬¸ì œë„ ìˆì„ ìˆ˜ ìˆë‹¤. ë§ì€ DBMSê°€ ì´ëŸ¬í•œ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë°ì´í„° ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì„ ì œê³µí•˜ë©´, MySQL ì„œë²„ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì••ì¶• ë°©ì‹ì€ í¬ê²Œ í…Œì´ë¸” ì••ì¶•ê³¼ í˜ì´ì§€ ì••ì¶•ì˜ ë‘ ê°€ì§€ ì¢…ë¥˜ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\ní˜ì´ì§€ ì••ì¶• í˜ì´ì§€ ì••ì¶•ì€ MySQL ì„œë²„ê°€ ë””ìŠ¤í¬ì— ì €ì¥í•˜ëŠ” ì‹œì ì— ë°ì´í„° í˜ì´ì§€ê°€ ì••ì¶•ë˜ì–´ ì €ì¥ë˜ê³ , ë°˜ëŒ€ë¡œ MySQL ì„œë²„ê°€ ë””ìŠ¤í¬ì—ì„œ ë°ì´í„° í˜ì´ì§€ë¥¼ ì½ì–´ì˜¬ ë•Œ ì••ì¶•ì´ í•´ì œë˜ì–´, ë²„í¼í’€ì— ë°ì´í„° í˜ì´ì§€ê°€ ì ì¬ë˜ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì••ì¶•ì´ í•´ì œëœ ìƒíƒœë¡œë§Œ ë°ì´í„° í˜ì´ì§€ë¥¼ ê´€ë¦¬í•œë‹¤. ì´ì— ë”°ë¼ ì„œë²„ì˜ ë‚´ë¶€ ì½”ë“œì—ì„œëŠ” ì••ì¶• ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ íˆ¬ëª…(Transparent)í•˜ê²Œ ì‘ë™í•˜ì—¬ Transparent Page Compressionë¡œ ë¶ˆë¦¬ê¸°ë„ í•œë‹¤.\n16KB ë°ì´í„° í˜ì´ì§€ë¥¼ ì••ì¶•í•œ ê²°ê³¼ê°€ ìš©ëŸ‰ì´ ì–¼ë§ˆë‚˜ ë ì§€ ì˜ˆì¸¡ì´ ë¶ˆê°€ëŠ¥í•œë° ì ì–´ë„ í•˜ë‚˜ì˜ í…Œì´ë¸”ì€ ë™ì¼í•œ í¬ê¸°ì˜ í˜ì´ì§€(ë¸”ë¡)ë¡œ í†µì¼ë¼ì•¼ í•œë‹¤. ë”°ë¼ì„œ í˜ì´ì§€ ì••ì¶• ê¸°ëŠ¥ì€ ìš´ì˜ì²´ì œë³„ë¡œ íŠ¹ì • ë²„ì „ì˜ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œë§Œ ì§€ì›ë˜ëŠ” í€ì¹˜í™€(Punch hole)ì´ë¼ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.\ní€ì¹˜í™€ì´ë€?\nìš´ì˜ì²´ì œì—ì„œ ì œê³µí•˜ëŠ” íŒŒì¼ ì‹œìŠ¤í…œ ì¸í„°í˜ì´ìŠ¤ ì¼ë¶€ë¡œ, íŒŒì¼ ë‚´ìš©ì—ì„œ ì¼ë¶€ ë°ì´í„° ë¸”ë¡ì„ ì‚­ì œí•˜ì—¬ ë””ìŠ¤í¬ ê³µê°„ì„ í™•ë³´í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.\nì´ì „ì—ëŠ” íŒŒì¼ ì „ì²´ë¥¼ ë³µì‚¬í•˜ê³  ì¼ë¶€ë¶„ì„ ìˆ˜ì •í•˜ëŠ” ë“œìœ¼ì´ ë°©ë²•ìœ¼ë¡œ íŒŒì¼ì„ ìˆ˜ì •í•´ì•¼ í–ˆìœ¼ë‚˜ ì‹œê°„ê³¼ ë””ìŠ¤í¬ ê³µê°„ì„ ë§ì´ ì†Œëª¨í•˜ê²Œ ë˜ì–´ í€ì¹˜í™€ì´ ê°œë°œë˜ì—ˆë‹¤.\ní€ì¹˜í™€ì€ ì¼ë¶€ ìš´ì˜ì²´ì œì—ì„œë§Œ ì§€ì›ë˜ëŠ” ê¸°ëŠ¥ì´ë©°(ë¦¬ëˆ…ìŠ¤), ëŒ€ìš©ëŸ‰ íŒŒì¼ ì‹œìŠ¤í…œì— ì‚¬ìš©ë˜ì–´ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ëŠ”ë° ë„ì›€ì„ ì¤€ë‹¤.\n16KB í˜ì´ì§€ë¥¼ ì••ì¶•(ì••ì¶• ê²°ê³¼ë¥¼ 7KBë¡œ ê°€ì •) MySQL ì„œë²„ëŠ” ë””ìŠ¤í¬ì— ì••ì¶•ëœ ê²°ê³¼ 7KBë¥¼ ê¸°ë¡(ì´ë•Œ MySQL ì„œë²„ëŠ” ì••ì¶• ë°ì´í„° 7KBì— 9KB ë¹ˆ ë°ì´í„°ë¥¼ ê¸°ë¡) ë””ìŠ¤í¬ì— ë°ì´í„°ë¥¼ ê¸°ë¡í•œ í›„, 7KB ì´í›„ì˜ ê³µê°„ 9KBì— ëŒ€í•´ í€ì¹˜ í™€(Punch-hole) ìƒì„± íŒŒì¼ ì‹œìŠ¤í…œì€ 7KBë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ ë””ìŠ¤í¬ì˜ 9KB ê³µê°„ì€ ë‹¤ì‹œ ìš´ì˜ì²´ì œë¡œ ë°˜ë‚© ìš´ì˜ì²´ì œ(íŒŒì¼ ì‹œìŠ¤í…œ)ì˜ ë¸”ë¡ ì‚¬ì´ì¦ˆê°€ 512ë°”ì´íŠ¸ì¸ ê²½ìš°, MySQL ì„œë²„ëŠ” íŠ¹ì • í…Œì´ë¸”ì— ëŒ€í•´ 16KB í¬ê¸°ì˜ í˜ì´ì§€ë¥¼ ìœ ì§€í•˜ë©´ì„œë„ ì••ì¶•ëœ ë‹¤ì–‘í•œ í¬ê¸°ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì— ì €ì¥í•˜ê³  ì••ì¶•ëœ ë§Œí¼ì˜ ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.\në¬¸ì œì \ní€ì¹˜í™€ ê¸°ëŠ¥ì€ ìš´ì˜ì²´ì œë¿ë§Œ ì•„ë‹ˆë¼ í•˜ë“œì›¨ì–´ ìì²´ì—ì„œë„ ì§€ì›ì„ í•´ì•¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ì•„ì§ íŒŒì¼ ì‹œìŠ¤í…œ ê´€ë ¨ ëª…ë ¹ì–´(ìœ í‹¸ë¦¬í‹°)ê°€ í€ì¹˜í™€ì„ ì§€ì›í•˜ì§€ ëª»í•œë‹¤. MySQL ì„œë²„ì˜ ë°ì´í„° íŒŒì¼ì€ í•´ë‹¹ ì„œë²„ì—ë§Œ ë¨¸ë¬´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°±ì—…í–ˆë‹¤ê°€ ë³µêµ¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°ì´í„° íŒŒì¼ ë³µì‚¬ ê³¼ì •ì´ ì‹¤í–‰ë˜ê³ , ê·¸ ì™¸ì—ë„ ë§ì€ íŒŒì¼ ê´€ë ¨ ìœ í‹¸ë¦¬í‹°ë“¤ì„ í™œìš©í•œë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ì‹¤ì œ í˜ì´ì§€ ì••ì¶•ì€ ë§ì´ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ìƒíƒœì´ë‹¤.\n1 2 3 4 5 6 /* í…Œì´ë¸” ìƒì„±ì‹œ */ CREATE TABLE t1 (c1 INT) COMPRESSION=\u0026#34;zlib\u0026#34;; /* í…Œì´ë¸” ë³€ê²½ ì‹œ */ ALTER TABLE t1 COMPRESSION=\u0026#34;zlib\u0026#34;; OPTIMAIZE TABLE t1; í…Œì´ë¸” ì••ì¶• í…Œì´ë¸” ì••ì¶•ì€ ìš´ì˜ì²´ì œë‚˜ í•˜ë“œì›¨ì–´ì— ëŒ€í•œ ì œì•½ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œ ë” í™œìš©ë„ê°€ ë†’ì€í¸ì´ë‹¤. í…Œì´ë¸” ì••ì¶•ì€ ìš°ì„  ë””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ì˜ í¬ê¸°ë¥¼ ì¤„ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê·¸ë§Œí¼ì˜ ì´ë“ì€ ìˆì§€ë§Œ, ë‚´ë¶€ì ì¸ ì²˜ë¦¬ ê³¼ì •ê³¼ ë²„í¼í’€ì—ì„œ ì²˜ë¦¬ ë°©ì‹ìœ¼ë¡œ ì¸í•´ ëª‡ê°€ì§€ ë‹¨ì ì´ ì¡´ì¬í•œë‹¤.\në²„í¼í’€ ê³µê°„ í™œìš©ë¥ ì´ ë‚®ìŒ ì¿¼ë¦¬ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë‚®ìŒ ë¹ˆë²ˆí•œ ë°ì´í„° ë³€ê²½ì‹œ ì••ì¶•ë¥  ë–¨ì–´ì§ ì••ì¶• í…Œì´ë¸” ìƒì„± í…Œì´ë¸” ì••ì¶•ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì••ì¶•ì„ ì‚¬ìš©í•˜ë ¤ëŠ” í…Œì´ë¸”ì´ ë³„ë„ì˜ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nì´ë¥¼ ìœ„í•´ì„œëŠ” innodb_file_per_table ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ONìœ¼ë¡œ ì„¤ì •ëœ ìƒíƒœì—ì„œ í…Œì´ë¸”ì´ ìƒì„±ë¼ì•¼ í•œë‹¤. í…Œì´ë¸” ì••ì¶•ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ë“¤ì€ í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ ROW_FORMAT=COMPRESSED ì˜µì…˜ì„ ëª…ì‹œí•´ì•¼ í•œë‹¤. KEY_BLOCK_SIZE ì˜µì…˜ì„ ì´ìš©í•´ ì••ì¶•ëœ í˜ì´ì§€ì˜ íƒ€ê¹ƒ í¬ê¸°(ëª©í‘œ í¬ê¸°, 2n(n \u0026gt;= 2))ë¥¼ ëª…ì‹œí•´ì•¼ í•œë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ í˜ì´ì§€ í¬ê¸°ê°€(innodb_page_size)ê°€ 16KB ë¼ë©´ KEY_BLOCK_SIZEëŠ” 4KB ë˜ëŠ” 8KBë§Œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. í˜ì´ì§€ í¬ê¸°(innodb_page_size)ê°€ 32KB or 64KBì¸ ê²½ìš°ì—ëŠ” í…Œì´ë¸” ì••ì¶•ì„ ì ìš©í•  ìˆ˜ ì—†ë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 SET GLOBAL innodb_file_per_table=ON; /** ROW_FORMAT ì˜µì…˜ê³¼ KEY_BLOCK_SIZE ì˜µì…˜ì„ ëª¨ë‘ ëª…ì‹œ **/ CREATE TABLE compressed_table ( c1 INT PRIMARY KEY ) ROW_FORMAT=COMPRESSED KEY_BLOCK=8; /** KEY_BLOCK_SIZE ì˜µì…˜ì„ ëª¨ë‘ ëª…ì‹œ ROW_FORMAT ì˜µì…˜ì´ ìƒëµë˜ë©´ ìë™ìœ¼ë¡œ ROW_FORMAT=COMPRESSED ì˜µì…˜ì´ ì¶”ê°€ë˜ì–´ ìƒì„± **/ CREATE TABLE compressed_table ( c1 INT PRIMARY KEY ) ROW_FORMAT=COMPRESSED KEY_BLOCK=8; innodb_file_per_table ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ 0 ì¸ ìƒíƒœì—ì„œ ì œë„ˆëŸ´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤(General Tablespace)ì— ìƒì„±ë˜ëŠ” í…Œì´ë¸”ë„ í…Œì´ë¸” ì••ì¶•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë‚˜, ì œë„ˆëŸ´ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì˜ FILE_BLOCK_SIZEì— ì˜í•´ ì••ì¶•ì„ ì‚¬ìš©í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤.\ní…Œì´ë¸” ì••ì¶• ë™ì‘ ë°©ì‹ í˜„ì¬ InnoDBìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë°ì´í„° í˜ì´ì§€ í¬ê¸°ê°€ 16KB, KEY_BLOCk_SIZEê°€ 8ë¡œ ì„¤ì •ë˜ì—ˆë‹¤ë©´,\n16KBì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ì••ì¶• ì••ì¶•ëœ ê²°ê³¼ê°€ 8KB ì´í•˜ì´ë©´ ê·¸ëŒ€ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ ì••ì¶•ëœ ê²°ê³¼ê°€ 8KBë¥¼ ì´ˆê³¼í•˜ë©´ ì›ë³¸ í˜ì´ì§€ë¥¼ ìŠ¤í”Œë¦¿(split)í•´ì„œ 2ê°œì˜ í˜ì´ì§€ì— 8KBì”© ì €ì¥ ë‚˜ë‰œ í˜ì´ì§€ ê°ê°ì— ëŒ€í•´ \u0026ldquo;1\u0026rdquo; ë‹¨ê³„ë¥¼ ë°˜ë³µ ì‹¤í–‰ í…Œì´ë¸” ì••ì¶• ë°©ì‹ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ì›ë³¸ ë°ì´í„° í˜ì´ì§€ì˜ ì••ì¶• ê²°ê³¼ê°€ ëª©í‘œ í¬ê¸°(KEY_BLOCK_SIZE)ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì„ ë•Œê¹Œì§€ ë°˜ë³µí•´ì„œ í˜ì´ì§€ë¥¼ ìŠ¤í”Œë¦¿í•˜ëŠ” ê²ƒì´ë‹¤.\në”°ë¼ì„œ ëª©í‘œ í¬ê¸°ê°€ ì˜ëª» ì„¤ì •ë˜ë©´ MySQL ì„œë²„ì˜ ì²˜ë¦¬ ì„±ëŠ¥ì´ ê¸‰ê²©íˆ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\nKEY_BLOCK_SIZE ê²°ì • í…Œì´ë¸” ì••ì¶•ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì€ ì••ì¶•ëœ ê²°ê³¼ê°€ ì–´ëŠ ì •ë„ê°€ ë ì§€ ì˜ˆì¸¡í•´ì„œ KEY_BLOCK_SIZEë¥¼ ê²°ì •í•˜ëŠ” ê²ƒì´ë‹¤.\në”°ë¼ì„œ í…Œì´ë¸” ì••ì¶•ì„ ì ìš©í•˜ê¸° ì „ì— ë¨¼ì € KEY_BLOCK_SIZEë¥¼ 4KB ë˜ëŠ” 8KBë¡œ í…Œì´ë¸”ì„ ìƒì„±í•˜ì—¬ ìƒ˜í”Œ ë°ì´í„°ë¥¼ ì €ì¥í•´ ë³´ê³  ì ì ˆí•œì§€ íŒë‹¨í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì´ë•Œ ìƒ˜í”Œ ë°ì´í„°ëŠ” ë§ìœ¼ë©´ ë§ì„ìˆ˜ë¡ ë” ì •í™•í•œ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•œë°, ìµœì†Œí•œ í…Œì´ë¸” ë°ì´í„° í˜ì´ì§€ê°€ 10ê°œ ì •ë„ëŠ” ìƒì„±ë˜ë„ë¡ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ INSERTí•´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 USE employees; CREATE TABLE employees_comp4k ( emp_no int NOT NULL, /** ... */ first_name varchar(14) NOT NULL, hire_date date NOT NULL, PRIMARY KEY (emp_no), KEY ix_firstname (first_name), KEY ix_hiredate (hire_date) ) ROW_FORMAT=COMRESSED KEY_BLOCK_SIZE=4; /** í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „ innodb_cmp_per_index_enabled ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ONìœ¼ë¡œ ë³€ê²½í•´ì•¼ ì¸ë±ìŠµë ¤ë¡œ ì••ì¶• ì‹¤í–‰ íšŸìˆ˜ì™€ ì„±ê³µ íšŸìˆ˜ê°€ ê¸°ë¡ëœë‹¤. */ SET GLOBAL innodb_cmp_per_index_enabled=ON; INSERT INTO employees_comp4k SELECT * FROM employees; SELECT table_name ,index_name ,compress_ops ,compress_ops_ok (compress_ops - compress_ops_ok) / compress_ops * 100 AS compression_failure_pct FROM information_schema.INNODB_CMP_PER_INDEX; ê²°ê³¼\n\u0026hellip; index_name \u0026hellip; compression_failure_pct PRIMARY 27.6737 ix_firstname 8.0168 ix_hiredate 13.4561 ì‹¤íŒ¨ìœ¨ì´ ë†’ë‹¤ëŠ” ì˜ë¯¸ëŠ” ì••ì¶• ê²°ê³¼ê°€ 4KBë¥¼ ì´ˆê³¼í•˜ì—¬ ë°ì´í„° í˜ì´ì§€ë¥¼ ìŠ¤í”Œë¦¿í•´ì„œ ë‹¤ì‹œ ì••ì¶•ì„ ë§ì´ í–ˆë‹¤ëŠ” ëœ»ì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì••ì¶• ì‹¤íŒ¨ìœ¨ì€ 3~5%ë¯¸ë§Œìœ¼ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ìœ¼ë©° ì´ì— ë§ì¶”ì–´ KEY_BLOCk_SIZEë¥¼ ì ì ˆíˆ ì¡°ì ˆí•´ì•¼ í•œë‹¤.\nKEY_BLOCk_SIZEë¥¼ í¬ê²Œ ì„¤ì •í•˜ì˜€ëŠ”ë°ë„ ì••ì¶œ ì‹¤íŒ¨ìœ¨ì´ ë†’ê²Œ ë‚˜íƒ€ë‚œë‹¤ë©´, InnoDB ë²„í¼í’€ì—ì„œ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ê¸° ì „ì— ì••ì¶•í•˜ëŠ” ê³¼ì •ì— ê½¤ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦´ ê²ƒìœ¼ë¡œ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë‹¤. ì„±ëŠ¥ì— ë¯¼ê°í•œ ì„œë¹„ìŠ¤ë¼ë©´ ì••ì¶•ì„ ì ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆë‹¤.\nì••ì¶• ì‹¤íŒ¨ìœ¨ì´ ë†’ë‹¤ê³  í•´ì„œ ë¬´ì¡°ê±´ ì••ì¶•ì„ ì‚¬ìš©í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nINSERTë§Œ ë˜ëŠ” ë¡œê·¸ í…Œì´ë¸”ì€ ì‹¤íŒ¨ìœ¨ì´ ë†’ë‹¤ê³  í•˜ë”ë¼ë„ ë°ì´í„° íŒŒì¼ì˜ í¬ê¸°ê°€ í° í­ìœ¼ë¡œ ì¤„ì–´ë“ ë‹¤ë©´ í° ì†í•´ëŠ” ì•„ë‹ ìˆ˜ ìˆë‹¤. ë°˜ëŒ€ë¡œ ì‹¤íŒ¨ìœ¨ì´ ë‚®ë‹¤ê³  í•´ì„œ ë¬´ì¡°ê±´ ì••ì¶•ì„ ì ìš©í•˜ëŠ” ê²ƒë„ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ì— ì ì§€ ì•Šì€ CPU ìì›ì„ ì†Œë¹„í•˜ë¯€ë¡œ, í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ë¹ˆë²ˆí•˜ê²Œ ì¡°íšŒë˜ê³  ë³€ê²½ë˜ëŠ” ê²½ìš° ì••ì¶•ì„ ì ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆë‹¤. ì••ì¶•ëœ í˜ì´ì§€ì˜ ë²„í¼í’€ ì ì¬ ë° ì‚¬ìš© InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì••ì¶•ëœ í…Œì´ë¸”ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ë²„í¼í’€ì— ì ì¬í•˜ë©´ ì••ì¶•ëœ ìƒíƒœì™€ ì••ì¶•ì´ í•´ì œëœ ìƒíƒœ 2ê°œ ë²„ì „ì„ ê´€ë¦¬í•œë‹¤. ë”°ë¼ì„œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë””ìŠ¤í¬ì—ì„œ ì½ì€ ìƒíƒœ ê·¸ëŒ€ë¡œì˜ ë°ì´í„° í˜ì´ì§€ ëª©ë¡ì„ ê´€ë¦¬í•˜ëŠ” LRU ë¦¬ìŠ¤íŠ¸ì™€ ì••ì¶•ëœ í˜ì´ì§€ë“¤ì˜ ì••ì¶• í•´ì œ ë²„ì „ì¸ Unzip_LRU ë¦¬ìŠ¤íŠ¸ë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•˜ê²Œ ëœë‹¤.\nê²°êµ­ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì••ì¶•ëœ í…Œì´ë¸”ì— ëŒ€í•´ì„œëŠ” ë²„í¼í’€ì˜ ê³µê°„ì„ ì´ì£¼ì‘ë¡œ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë©”ëª¨ë¦¬ë¥¼ ë‚­ë¹„í•˜ê²Œ ëœë‹¤. ì••ì¶•ëœ í˜ì´ì§€ì—ì„œ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œ ì••ì¶•ì„ í•´ì œí•´ì•¼í•˜ë¯€ë¡œ CPUë¥¼ ìƒëŒ€ì ìœ¼ë¡œ ë§ì´ ì†Œëª¨í•œë‹¤. ì´ëŸ¬í•œ ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ Unzip_LRU ë¦¬ìŠ¤íŠ¸ë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•˜ê³  ìˆë‹¤ê°€ MySQL ì„œë²„ë¡œ ìœ ì…ë˜ëŠ” ìš”ì²­ íŒ¨í„´ì— ë”°ë¼ ì ì ˆíˆ ë‹¤ìŒê³¼ ê°™ì€ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.\nInnoDB ë²„í¼í’€ ê³µê°„ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” LRU ë¦¬ìŠ¤íŠ¸ì—ì„œ ì›ë³¸ ë°ì´í„° í˜ì´ì§€(ì••ì¶•)ëŠ” ìœ ì§€í•˜ê³ , Unzip_LRU ë¦¬ìŠ¤íŠ¸ì—ì„œ ì••ì¶• í•´ì œëœ ë²„ì „ì€ ì œê±°í•´ì„œ ë²„í¼í’€ì˜ ê³µê°„ì„ í™•ë³´í•œë‹¤. ì••ì¶•ëœ ë°ì´í„° í˜ì´ì§€ê°€ ìì£¼ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ì—ëŠ” Unzip_LRU ë¦¬ìŠ¤íŠ¸ì— ì••ì¶• í•´ì œëœ í˜ì´ì§€ë¥¼ ê³„ì† ìœ ì§€í•˜ë©´ì„œ ì••ì¶• ë° ì••ì¶• í•´ì œ ì‘ì—…ì„ ìµœì†Œí™”í•œë‹¤. ì••ì¶•ëœ ë°ì´í„° í˜ì´ì§€ê°€ ì‚¬ìš©ë˜ì§€ ì•Šì•„ì„œ LRU ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°ë˜ëŠ” ê²½ìš°ì—ëŠ” Unzip_LRU ë¦¬ìŠ¤íŠ¸ì—ì„œë„ í•¨ê»˜ ì œê±°ëœë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼í’€ì—ì„œ ì••ì¶• í•´ì œëœ ë²„ì „ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ì ì ˆí•œ ìˆ˜ì¤€ìœ¼ë¡œ ìœ ì§€í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ì–´ëŒ‘í‹°ë¸Œ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤.\nCPU ì‚¬ìš©ëŸ‰ì´ ë†’ì€ ì„œë²„ì—ì„œëŠ” ê°€ëŠ¥í•˜ë©´ ì••ì¶•ê³¼ ì••ì¶• í—¤ì œë¥¼ í”¼í•˜ê¸° ìœ„í•´ Unzip_LRUì˜ ë¹„ìœ¨ì„ ë†’ì—ì„œ ìœ ì§€í•œë‹¤. Disk IO ì‚¬ìš©ëŸ‰ì´ ë†’ì€ ì„œë²„ì—ì„œëŠ” ê°€ëŠ¥í•˜ë©´ Unzip_LRU ë¦¬ìŠ¤íŠ¸ì˜ ë¹„ìœ¨ì„ ë‚®ì¶° InnoDB ë²„í¼í’€ ê³µê°„ì„ ë” í™•ë³´í•˜ë„ë¡ ì‘ë™í•œë‹¤. í…Œì´ë¸” ì••ì¶• ê´€ë ¨ ì„¤ì • í…Œì…ë¥´ ì••ì¶•ì„ ì‚¬ìš©í•  ë•Œ ì—°ê´€ëœ ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ëª‡ê°€ì§€ ìˆëŠ”ë°, ëª¨ë‘ í˜ì´ì§€ì˜ ì••ì¶• ì‹¤íŒ¨ìœ¨ì„ ë‚®ì¶”ê¸° ìœ„í•´ í•„ìš”í•œ íŠœë‹ í¬ì¸íŠ¸ë¥¼ ì œê³µí•œë‹¤.\ninnodb_cmp_index_enable\ní…Œì´ë¸” ì••ì¶•ì´ ì‚¬ìš©ëœ í…Œì´ë¸”ì˜ ëª¨ë“  ì¸ë±ìŠ¤ë³„ë¡œ ì••ì¶• ì„±ê³µ ë° ì••ì¶• ì‹¤í–‰ íšŸìˆ˜ë¥¼ ìˆ˜ì§‘í•˜ë„ë¡ ì„¤ì •í•œë‹¤. ë¹„í™œì„±í™”ì‹œ í…Œì´ë¸” ë‹¨ìœ„ì˜ ì••ì¶• ì„±ê³µ ë° ì‹¤í–‰ íšŸìˆ˜ë§Œ ìˆ˜ì§‘ í…Œì´ë¸” ë‹¨ìœ„ ìˆ˜ì§‘ëœ ì •ë³´: infoamtion_schema.INNODB_CMPí…Œì´ë¸”ì— ê¸°ë¡ ì¸ë±ìŠ¤ ë‹¨ìœ„ ìˆ˜ì§‘ëœ ì •ë³´: infoamtion_schema.INNODB_CMP_PER_INDEXí…Œì´ë¸”ì— ê¸°ë¡ innodb_compression_level\nInnoDBì˜ ë°ì´í„° ì••ì¶•ì€ zlibì•Œê³ ë¦¬ì¦˜ë§Œ ì§€ì›í•˜ëŠ”ë°, ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ì••ì¶•ë¥ ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤(0~9). ê°’ì´ ì»¤ì§ˆìˆ˜ë¡ ëŠë ¤ì§€ê³ , ì‘ì•„ì§„ë‹¤. ê¸°ë³¸ê°’ì€ 6 innodb_compression_failure_threshold_pct\ní…Œì´ë¸” ë‹¨ìœ„ë¡œ ì••ì¶• ì‹¤íŒ¨ìœ¨ì´ ì‹œìŠ¤í…œ ì„¤ì •ê°’ ë³´ë‹¤ ì»¤ì§€ë©´ ì••ì¶•ì„ ì‹¤í–‰í•˜ê¸° ì „ ì›ë³¸ ë°ì´í„° í˜ì´ì§€ ëì— ì˜ë„ì ìœ¼ë¡œ ì¼ì • í¬ê¸°ì˜ ë¹ˆ ê³µê°„ì„ ì¶”ê°€í•œë‹¤. ì¶”ê°€ëœ ë¹ˆ ê³µê°„ì€ ì••ì¶•ë¥ ì„ ë†’ì—¬ì„œ ì••ì¶• ê²°ê³¼ê°€ KEY_BLOCK_SIZEë³´ë‹¤ ì‘ì•„ì§€ê²Œ ë§Œë“œëŠ” íš¨ê³¼ë¥¼ ë‚¸ë‹¤. ì¶”ê°€í•˜ëŠ” ë¹ˆ ê³µê°„ì„ íŒ¨ë”©ì´ë¼ê³  í•˜ë©°, íŒ¨ë”© ê³µê°„ì€ ì‹¤íŒ¨ìœ¨ì´ ë†’ì•„ì§ˆìˆ˜ë¡ ê³„ì† ì¦ê°€ëœ í¬ê¸°ë¥¼ ê°€ì§„ë‹¤. innodb_log_compressed_pages\nMySQL ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëë‹¤ê°€ ë‹¤ì‹œ ì‹œì‘ë˜ëŠ” ê²½ìš° ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì˜ ë²„ì „ ì°¨ì´ê°€ ìˆë”ë¼ë„ ë³µêµ¬ ê³¼ì •ì´ ì‹¤íŒ¨í•˜ì§€ ì•Šë„ë¡ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì••ì¶•ëœ ë°ì´í„° í˜ì´ì§€ë¥¼ ê·¸ëŒ€ë¡œ ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡í•œë‹¤. ì••ì¶• ì•Œê³ ë¦¬ì¦˜ì„ ë¥ê·¸ë ˆì´ë“œ í•  ëŒ€ ë„ì›€ì´ ë˜ì§€ë§Œ, ë°ì´í„° í˜ì´ì§€ë¥¼ í†µì§¸ë¡œ ë¡œê·¸ì— ì €ì¥í•˜ëŠ” ê²ƒì€ ë¦¬ë‘ ë¡œê·¸ì˜ ì¦ê°€ëŸ‰ì— ìƒë‹¹í•œ ì˜í–¥ì„ ë¯¸ì¹ ìˆ˜ë„ ìˆë‹¤. ì••ì¶•ì„ ì ìš©í•œ í›„ ë¦¬ë‘ ë¡œê·¸ ìš©ëŸ‰ì´ ë§¤ìš° ë¹ ë¥´ê²Œ ì¦ê°€í•œë‹¤ê±´ì•„ ë²„í¼í’€ë¡œë¶€í„° ë”í‹° í˜ì´ì§€ê°€ í•œêº¼ë²ˆì— ë§ì´ ê¸°ë¡ë˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ë°”ë€Œì—ˆë‹¤ë©´, í•´ë‹¹ ë³€ìˆ˜ë¥¼ OFFë¡œ ì„¤ì •í•˜ì—¬ ëª¨ë‹ˆí„°ë§ í•´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê¸°ë³¸ê°’ì€ ON, ê°€ëŠ¥í•˜ë©´ ê¸°ë³¸ê°’ ìƒíƒœë¥¼ ìœ ì§€í•˜ì. ","date":"2023-05-01T14:12:10+09:00","image":"https://codemario318.github.io/post/real-mysql/6/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/6/","title":"6. ë°ì´í„° ì••ì¶•"},{"content":"ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°ë¥¼ ì˜ì†í™”í•˜ê¸° ìœ„í•´ ë³¼ë¥¨ ë§ˆìš´íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ë³¼ë¥¨ ë§ˆìš´íŠ¸ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°ì´í„°ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ì €ì¥í•´ì•¼ í•  ë•Œ ì¢‹ì€ ì„ íƒì´ ë  ìˆ˜ ìˆë‹¤.\në°”ì¸ë“œ ë§ˆìš´íŠ¸ëŠ” í˜¸ìŠ¤íŠ¸ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ ë””ë ‰í† ë¦¬ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ê³µìœ í•˜ëŠ” ë‹¤ë¥¸ ìœ í˜•ì˜ ë§ˆìš´íŠ¸ì´ë‹¤. ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ë•Œ ë°”ì¸ë“œ ë§ˆìš´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë§ˆìš´íŠ¸ í•  ìˆ˜ ìˆë‹¤. íŒŒì¼ ì‹œìŠ¤í…œ ë³€ê²½ ì‚¬í•­ì„ ê°ì‹œí•˜ê³  ê·¸ì— ë”°ë¼ ëŒ€ì‘í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì»¨í…Œì´ë„ˆëŠ” íŒŒì¼ì„ ì €ì¥í•  ë•Œë§ˆë‹¤ ì¦‰ì‹œ ì½”ë“œ ë³€ê²½ ì‚¬í•­ì„ ì¸ì‹í•œë‹¤.\në”°ë¼ì„œ ë°”ì¸ë“œ ë§ˆìš´íŠ¸ì™€ íŒŒì¼ ë³€ê²½ ìƒí•­ì„ ê°ì§€í•˜ê³  ì´ì— ë”°ë¼ ì›í•˜ëŠ” ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë²ˆ ì¥ì—ì„œëŠ” ìë™ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ì‹œì‘í•˜ëŠ” ë„êµ¬ì¸ nodemonì„ í™œìš©í•´ë³¸ë‹¤.\nQuick volume type comparisons Named volumes Bind mounts í˜¸ìŠ¤íŠ¸ ìœ„ì¹˜ ë„ì»¤ê°€ ì„ íƒí•¨ ì‚¬ìš©ìê°€ ê²°ì • ë§ˆìš´íŠ¸ ì˜ˆì‹œ(\u0026ndash;mount) type=volume,src=my-volume,target=/usr/local/data type=bind,src=/path/to/data,target=/usr/local/data Populates new volume with container contents Yes No Supports Volume Drivers Yes No ","date":"2023-04-24T16:46:25+09:00","image":"https://codemario318.github.io/post/docker/5/docker_cover_hue12353db563619e41ee3a11307d3cf25_62602_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/docker/5/","title":"5. Use bind mounts"},{"content":"ì»¨í…Œì´ë„ˆì˜ íŒŒì¼ ì‹œìŠ¤í…œ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ë©´, íŒŒì¼ì‹œìŠ¤í…œì€ ì—¬ëŸ¬ ë ˆì´ì–´ë“¤ì„ ì‚¬ìš©í•œë‹¤. ê°ê°ì˜ ì»¨í…Œì´ë„ˆëŠ” íŒŒì¼ì„ ìƒì„±, ì—…ë°ì´íŠ¸, ì‚­ì œí•˜ê¸° ìœ„í•œ ìì‹ ë§Œì˜ \u0026ldquo;ìŠ¤í¬ë˜ì¹˜ ê³µê°„\u0026quot;ì„ ê°€ì§€ëŠ”ë°, ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œ ê°™ì€ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•´ë„ ì–´ë–¤ ë³€ê²½ ì‚¬í•­ì— ëŒ€í•´ì„œë„ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œ í™œìš©í•  ìˆ˜ ì—†ë‹¤.\nScratch image?\në¹ˆ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¡œ, ìµœì†Œí•œì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. scratchë¥¼ ê¸°ë³¸ ì´ë¯¸ì§€ë¡œ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆì—ëŠ” íŒŒì¼ ì‹œìŠ¤í…œ ë‚´ìš©ì´ ì—†ìœ¼ë¯€ë¡œ ì•±ì´ í•„ìš”ë¡œ í•˜ëŠ” ëª¨ë“  íŒŒì¼ì„ ì´ë¯¸ì§€ì˜ ì¼ë¶€ë¡œ í¬í•¨í•´ì•¼ í•œë‹¤.\nscratch spaceëŠ” ì‚¬ìš© ì¤‘ì¸ ì´ë¯¸ì§€ì— ê¸°ë°˜í•˜ì—¬ ê° ì»¨í…Œì´ë„ˆë§ˆë‹¤ ìƒì„±ë˜ëŠ” íŒŒì¼ ì‹œìŠ¤í…œì´ë‹¤.\nì»¨í…Œì´ë„ˆ ë³¼ë¥¨ ì»¨í…Œì´ë„ˆëŠ” íŒŒì¼ì„ ìƒì„±, ì—…ë°ì´íŠ¸ ë° ì‚­ì œí•  ìˆ˜ ìˆì§€ë§Œ ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•˜ë©´ í•´ë‹¹ ë³€ê²½ ì‚¬í•­ì´ ëª¨ë‘ ì†ì‹¤ë˜ë©° DockerëŠ” í•´ë‹¹ ì»¨í…Œì´ë„ˆì˜ ëª¨ë“  ë³€ê²½ ì‚¬í•­ì„ ê²©ë¦¬í•œë‹¤. ì´ë•Œ, ë³¼ë¥¨ì„ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜í•  ìˆ˜ ìˆë‹¤.\në³¼ë¥¨ì€ ì»¨í…Œì´ë„ˆì˜ íŠ¹ì • íŒŒì¼ ì‹œìŠ¤í…œ ê²½ë¡œë¥¼ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ê³¼ ì—°ê²°í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ì»¨í…Œì´ë„ˆì—ì„œ ë””ë ‰í† ë¦¬ë¥¼ ë§ˆìš´íŠ¸í•˜ë©´ í•´ë‹¹ ë””ë ‰í† ë¦¬ì˜ ë³€ê²½ ì‚¬í•­ì„ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì—ì„œë„ ë³¼ ìˆ˜ ìˆë‹¤. ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ì—ì„œ ë™ì¼í•œ ë””ë ‰í† ë¦¬ë¥¼ ë§ˆìš´íŠ¸í•˜ë©´ ë™ì¼í•œ íŒŒì¼ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì˜ˆì œ Todo ì•± ë°ì´í„° ìœ ì§€í•˜ê¸° todoì•±ì€ ì»¨í…Œì´ë„ˆ íŒŒì¼ ì‹œìŠ¤í…œì— ìœ„ì¹˜í•œ /etc/todos/todo.db íŒŒì¼ì— ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤(SQLite).\në°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ íŒŒì¼ì„ í˜¸ìŠ¤íŠ¸ì— ì§€ì†ì ìœ¼ë¡œ ìœ ì§€í•˜ê³  ë‹¤ìŒ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ ìˆ˜ ìˆì–´ì•¼í•œë‹¤. ë³¼ë¥¨ì„ ìƒì„±í•˜ê³  ë°ì´í„°ê°€ ì €ì¥ëœ ë””ë ‰í† ë¦¬ì— ì—°ê²°(ë§ˆìš´íŠ¸)í•˜ì—¬ ì»¨í…Œì´ë„ˆê°€ todo.db íŒŒì¼ì— ì“°ê¸°ë¥¼ ìˆ˜í–‰í•˜ë©´ ë°ì´í„°ëŠ” ë³¼ë¥¨ì—ì„œ í˜¸ìŠ¤íŠ¸ë¡œ ìœ ì§€ëœë‹¤.\në³¼ë¥¨ ë§ˆìš´íŠ¸ëŠ” ì¼ì¢…ì˜ ë¶ˆíˆ¬ëª…í•œ ë°ì´í„° ë²„í‚·ì´ë©°, DockerëŠ” ë””ìŠ¤í¬ ìƒì˜ ì €ì¥ ìœ„ì¹˜ë¥¼ í¬í•¨í•˜ì—¬ ë³¼ë¥¨ ì „ì²´ë¥¼ ê´€ë¦¬í•œë‹¤.\në³¼ë¥¨ ìƒì„± 1 2 3 docker volume create todo-db # todo-db ê¸°ì¡´ ì»¨í…Œì´ë„ˆ ì¤‘ì§€ ë° ì‚­ì œ: ë³¼ë¥¨ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì‹¤í–‰ëœ ì»¨í…Œì´ë„ˆ ì´ë¯€ë¡œ\u0026hellip; 1 docker rm -f \u0026lt;id\u0026gt; --mount ì˜µì…˜ì„ ì¶”ê°€í•˜ì—¬ ë³¼ë¥¨ ë§ˆìš´íŠ¸ë¥¼ ì§€ì •í•˜ì—¬ ì•± ì»¨í…Œì´ë„ˆ ì‹¤í–‰ 1 2 3 docker run -dp 3000:3000 --mount type=volume,src=todo-db,target=/etc/todos getting-started # ba3740f92525240162cff2cd3dac9420c048bff2087482cc30bd8411ce9ba198 ì•±ì„ ì—´ê³  ë°ì´í„° todo ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ ì»¨í…Œì´ë„ˆ ì‚­ì œ í›„ 3ë²ˆ ëª…ë ¹ì–´ ì‹¤í–‰ í›„ ë°ì´í„° í™•ì¸ Dive into the volume docker volume inspect ëª…ë ¹ì„ ì‚¬ìš©í•˜ë©´ Dockerê°€ ë³¼ë¥¨ì„ ì‚¬ìš©í•  ë•Œ ë°ì´í„°ë¥¼ ì–´ë””ì— ì €ì¥í•˜ê³  ìˆëŠ”ì§€ ë“± ì—¬ëŸ¬ ì •ë³´ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 docker volume inspect todo-db [ { \u0026#34;CreatedAt\u0026#34;: \u0026#34;2023-04-24T07:37:34Z\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Labels\u0026#34;: {}, \u0026#34;Mountpoint\u0026#34;: \u0026#34;/var/lib/docker/volumes/todo-db/_data\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;todo-db\u0026#34;, \u0026#34;Options\u0026#34;: {}, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34; } ] Mountpointê°€ ë””ìŠ¤í¬ìƒì˜ ì‹¤ì œ ìœ„ì¹˜ë¥¼ ì˜ë¯¸í•˜ë©°, ëŒ€ë¶€ë¶„ì˜ ì»´í“¨í„°ì—ì„œ í˜¸ìŠ¤íŠ¸ê°€ ì´ ë””ë ‰í† ë¦¬ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ root ê¶Œí•œì´ í•„ìš”í•˜ë‹¤.\n","date":"2023-04-24T14:45:25+09:00","image":"https://codemario318.github.io/post/docker/4/docker_cover_hue12353db563619e41ee3a11307d3cf25_62602_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/docker/4/","title":"4. Persist the DB"},{"content":"ë§Œë“¤ì–´ì§„ Docker ì´ë¯¸ì§€ëŠ” Docker ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ê³µìœ í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ëŠ” Docker Hubì´ë‹¤.\nDocker ID\nDocker IDëŠ” Docker Hubì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ì œê³µí•œë‹¤. Docker HubëŠ” ì„¸ê³„ì—ì„œ ê°€ì¥ í° ë¼ì´ë¸ŒëŸ¬ë¦¬, ì»¤ë®¤ë‹ˆí‹°ë¡œ ë¬´ë£Œë¡œ Docker IDë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nrepo ë§Œë“¤ê¸° Docker Hubì— ì´ë¯¸ì§€ë¥¼ pushí•˜ë ¤ë©´ ë¨¼ì € Docker Hubì— Repositoryë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.\nDocker Hub íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ \u0026ldquo;Create Repository\u0026rdquo; ë²„íŠ¼ í´ë¦­ repo ì´ë¦„ ì„¤ì • ë° public ì„¤ì • ì„ íƒ Create ë²„íŠ¼ í´ë¦­ ì´ë¯¸ì§€ í‘¸ì‹œí•˜ê¸° 1 2 3 4 5 docker push codemario318/getting-started # Using default tag: latest # The push refers to repository [docker.io/codemario318/getting-started] # An image does not exist locally with the tag: codemario318/getting-started ì´ë¯¸ì§€ë¥¼ docker push ëª…ë ¹ìœ¼ë¡œ ë¡œì»¬ì— ì¡´ì¬í•˜ëŠ” ì´ë¯¸ì§€ë¥¼ í‘¸ì‹œí•˜ê¸° ìœ„í•´ì„œ tagì´ í•„ìš”í•˜ë‹¤. tagê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ëª…ë ¹ì„ ì‹¤í–‰í•´ë„ ì´ë¯¸ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©°, ë¹Œë“œëœ ì´ë¯¸ì§€ì— ë‹¤ë¥¸ ì´ë¦„ì„ ì§€ì •í•´ì—¬ íƒœê·¸ë¥¼ ë¶™ì—¬ì•¼ í•œë‹¤.\n1 docker login -u YOUR-USER-NAME 1 2 3 4 5 docker image ls # REPOSITORY TAG IMAGE ID CREATED SIZE # codemario318/getting-started latest 8b52580feb5e 2 days ago 262MB # getting-started latest 8b52580feb5e 2 days ago 262MB 1 2 3 4 5 6 7 8 9 10 11 12 docker push codemario318/getting-started # Using default tag: latest # The push refers to repository [docker.io/codemario318/getting-started] # 90b7c400bc47: Pushed # 0cf2f64e7aa4: Pushed # 9e6afbbf5565: Pushed # d9f41532a73b: Mounted from library/node # 6c0a2592426a: Mounted from library/node # 1984e605c08a: Mounted from library/node # 26cbea5cba74: Mounted from library/node # latest: digest: sha256:c11adf2600f6c2da46bfb1a8f74664a766bb69f11badcd3ed16a2de75a464c1a size: 1788 Docker Hubì—ì„œ ê°’ì„ ë³µì‚¬í•˜ê³  ìˆë‹¤ë©´, ì´ë¯¸ì§€ ì´ë¦„ ë¶€ë¶„ì—ì„œ tagnameì„ ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. íƒœê·¸ë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ DockerëŠ” latestë¼ëŠ” ì´ë¦„ì˜ íƒœê·¸ë¥¼ ì‚¬ìš©í•œë‹¤.\nìƒˆ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì´ë¯¸ì§€ ì‹¤í–‰í•˜ê¸° ì´ë¯¸ì§€ê°€ ë¹Œë“œë˜ê³  ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— í‘¸ì‹œë˜ì—ˆìœ¼ë¯€ë¡œ, ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë³´ìœ í•˜ì§€ ì•Šì€ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì•±ì„ ì‹¤í–‰í•´ë„ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.\nPlay with Docker ì‚¬ìš©ì‹œ ì£¼ì˜ì‚¬í•­\nPlay with DockerëŠ” amd64 í”Œë«í¼ì„ ì‚¬ìš©í•˜ë¯€ë¡œ, Apple silicon ê¸°ë°˜ì˜ ARM ê¸°ë°˜ Macì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì´ë¯¸ì§€ë¥¼ Play with Dockerì™€ í˜¸í™˜ë˜ë„ë¡ ë‹¤ì‹œ ë¹Œë“œí•˜ê³  ìƒˆ ì´ë¯¸ì§€ë¥¼ ë ˆí¬ì§€í† ë¦¬ì— í‘¸ì‹œí•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 docker build --platform linux/amd64 -t YOUR-USER-NAME/getting-started . docker image ls # REPOSITORY TAG IMAGE ID CREATED SIZE # codemario318/getting-started latest 769987ace2c3 About a minute ago 265MB # getting-started latest 8b52580feb5e 2 days ago 262MB # codemario318/getting-started \u0026lt;none\u0026gt; 8b52580feb5e 2 days ago 262MB docker push codemario/getting-started Play with Dockerì—ì„œ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¶”ê°€í•œ í›„ ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤.\nì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-24T09:50:25+09:00","image":"https://codemario318.github.io/post/docker/3/docker_cover_hue12353db563619e41ee3a11307d3cf25_62602_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/docker/3/","title":"3. Share the application"},{"content":"ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì—…ë°ì´íŠ¸ ë° ì‚­ì œí•  ìˆ˜ ìˆë‹¤.\nì†ŒìŠ¤ ì½”ë“œ ì—…ë°ì´íŠ¸ í•˜ê¸° 1 2 3 4 ... - \u0026lt;p className=\u0026#34;text-center\u0026#34;\u0026gt;No items yet! Add one above!\u0026lt;/p\u0026gt; + \u0026lt;p className=\u0026#34;text-center\u0026#34;\u0026gt;You have no todo items yet! Add one above!\u0026lt;/p\u0026gt; ... 1 docker build -t getting-started . 1 2 3 4 docker run -dp 3000:3000 getting-started docker: Error response from daemon: driver failed programming external connectivity on endpoint laughing_burnell (2b5285b3ebfa65b51a44116c620e56b96b787874c71b25c8643b6a9ee137cb49): Bind for 0.0.0.0:3000 failed: port is already allocated. src/static/js/app.jsì˜ 56 ë¼ì¸ì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ìˆ˜ì •í•œë‹¤.\nì´ì „ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ build í›„ run ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ê¸°ì¡´ ì»¨í…Œì´ë„ˆê°€ ì´ë¯¸ í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ 3000ì„ ì‚¬ìš©í•˜ê³  ìˆì–´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ì´ì „ ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•´ì•¼ í•œë‹¤.\nì´ì „ ì»¨í…Œì´ë„ˆ ì§€ìš°ê¸° ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•˜ë ¤ë©´ ë¨¼ì € ì¤‘ì§€ë˜ì–´ì•¼ í•œë‹¤. ê·¸ í›„ CLI ë˜ëŠ” Docker Desktopì„ ì‚¬ìš©í•˜ì—¬ ì œê±°í•  ìˆ˜ ìˆë‹¤.\nCLIë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•˜ê³ , ì‚­ì œí•˜ê¸° ìœ„í•´ì„œ ì»¨í…Œì´ë„ˆ IDê°€ í•„ìš”í•œë° docker ps ëª…ë ¹ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2b5285b3ebfa getting-started \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 35 minutes ago Up 35 minutes 0.0.0.0:3000-\u0026gt;3000/tcp youthful_yonath 1 docker stop \u0026lt;the-container-id\u0026gt; 1 docker rm \u0026lt;the-container-id\u0026gt; force í”Œë˜ê·¸ë¥¼ docker rm ëª…ë ¹ì— ì¶”ê°€í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€í•˜ê³  ì œê±°í•  ìˆ˜ë„ ìˆë‹¤.\n1 docker rm -f \u0026lt;the-container-id\u0026gt; ì—…ë°ì´íŠ¸ëœ ì•± ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸° 1 2 docker run -dp 3000:3000 getting-started 9732df7c2474fea5223bcd682bbd1a3b7f18cc1f965330bd666478d10a7a73cb ì´ì „ê³¼ ê°™ì€ docker run ëª…ë ¹ìœ¼ë¡œ ì—…ë°ì´íŠ¸ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-24T09:19:25+09:00","image":"https://codemario318.github.io/post/docker/2/docker_cover_hue12353db563619e41ee3a11307d3cf25_62602_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/docker/2/","title":"2. Update the application"},{"content":"íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ ìˆ˜ì¤€(isolation level)ì´ë€ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ì²˜ë¦¬ë  ë•Œ íŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•˜ê±°ë‚˜ ì¡°íšŒí•˜ëŠ” ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ í—ˆìš©í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•œë‹¤.\nREAD UNCOMMITTED\nDIRTY READë¼ê³ ë„ í•˜ë©° ì¼ë°˜ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. READ COMMITTED REPEATABLE READ SERIALIZABLE\në™ì‹œì„±ì´ ì¤‘ìš”í•œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ê±°ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. 4ê°œì˜ ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œ ë’¤ë¡œ ê°ˆìˆ˜ë¡ ê° íŠ¸ëœì­ì…˜ ê°„ì˜ ë°ì´í„° ê³ ë¦½ ì •ë„ê°€ ë†’ì•„ì§„ë‹¤. ê²©ë¦¬ ìˆ˜ì¤€ì´ ë†’ì•„ì§ˆìˆ˜ë¡ MySQL ì„œë²„ì˜ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë§ì´ ë–¨ì–´ì§ˆ ê²ƒìœ¼ë¡œ ìƒê°í•˜ì§€ë§Œ, SERIALIZABLE ê²©ë¦¬ ìˆ˜ì¤€ì´ ì•„ë‹ˆë¼ë©´ í¬ê²Œ ì„±ëŠ¥ì˜ ê°œì„ ì´ë‚˜ ì €í•˜ëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\nDIRTY READ NON-REPEATABLE READ PHANTOM READ READ UNCOMMITTED ë°œìƒ ë°œìƒ ë°œìƒ READ COMMITTED ì—†ìŒ ë°œìƒ ë°œìƒ REPEATABLE READ ì—†ìŒ ì—†ìŒ ë°œìƒ(InnoDB X) SERIALIZABLE ì—†ìŒ ì—†ìŒ ì—†ìŒ SQL-92, SQL-99 í‘œì¤€ì— ë”°ë¥´ë©´ REPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œëŠ” PHANTOM READê°€ ë°œìƒí•  ìˆ˜ ìˆì§€ë§Œ, InnoDBì—ì„œëŠ” ë…íŠ¹í•œ íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\nì¼ë°˜ì ì¸ ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ ìš©ë„ì˜ ë°ì´í„°ë² ì´ìŠ¤ëŠ” READ COMMITEDì™€ REPEATABLE READ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•œë‹¤.\nì˜¤ë¼í´: READ COMMITED MySQL: REPEATABLE READ READ UNCOMMITTED READ UNCOMMITTED ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œëŠ” ê° íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½ ë‚´ìš©ì´ COMMIT, ROLLBACK ì—¬ë¶€ì— ìƒê´€ ì—†ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³´ì¸ë‹¤.\nAê°€ emp_noê°€ 500000ì´ê³  first_nameì´ Laraì¸ ìƒˆë¡œìš´ ì‚¬ì›ì„ INSERT í•˜ëŠ”ë°, Bê°€ ë³€ê²½ëœ ë‚´ìš©ì„ ì»¤ë°‹í•˜ê¸°ë„ ì „ì— emp_no=500000ì¸ ì‚¬ì›ì„ ê²€ìƒ‰í•´ë„ ì¡°íšŒ ê°€ëŠ¥í•˜ë‹¤.\nì´ì— ë”°ë¼ Aì˜ INSERTê°€ ROLLBACK ë˜ì–´ë„, BëŠ” ì¡°íšŒí•œ ë‚´ìš©ì´ ì •ìƒì ì¸ ì‚¬ì›ì´ë¼ê³  ìƒê°í•˜ì—¬ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤.\nì´ì²˜ëŸ¼ ì–´ë–¤ íŠ¸ëœì­ì…˜ì—ì„œ ì²˜ë¦¬í•œ ì‘ì—…ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ëŠ”ë°ë„ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” í˜„ìƒì„ ë”í‹° ë¦¬ë“œë¼ê³  í•˜ë©°, ë”í‹° ë¦¬ë“œê°€ í—ˆìš©ë˜ëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì´ READ UNCOMMITTEDì´ë‹¤.\në”í‹° ë¦¬ë“œ í˜„ìƒì€ ë°ì´í„°ê°€ ë‚˜íƒ€ë‚¬ë‹¤ ì‚¬ë¼ì§€ëŠ” í˜„ìƒì„ ì´ˆë˜í•˜ë¯€ë¡œ ê°œë°œìì™€ ì‚¬ìš©ìë¥¼ í˜¼ë€ìŠ¤ëŸ½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë”í‹° ë¦¬ë“œë¥¼ ìœ ë°œí•˜ëŠ” READ UNCOMMITTEDëŠ” RDBMS í‘œì¤€ì—ì„œëŠ” íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ ìˆ˜ì¤€ìœ¼ë¡œ ì¸ì •í•˜ì§€ ì•Šì„ ì •ë„ë¡œ ì •í•©ì„±ì— ë¬¸ì œê°€ ë§ìœ¼ë¯€ë¡œ READ COMMITTED ì´ìƒì˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.\nREAD COMMITTED ì˜¤ë¼í´ DBMSì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì´ë©°, ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ì—ì„œ ê°€ì¥ ë§ì´ ì„ íƒë˜ëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì´ë‹¤. ì–´ë–¤ íŠ¸ëœì­ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ë³€ê²½í–ˆë”ë¼ë„ COMMITì´ ì™„ë£Œëœ ë°ì´í„°ë§Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ì¡°íšŒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë”í‹° ë¦¬ë“œ í˜„ìƒì€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\nAê°€ emp_no=500000ì¸ ì‚¬ì›ì˜ first_nameì„ \u0026ldquo;Lara\u0026quot;ì—ì„œ \u0026ldquo;Toto\u0026quot;ë¡œ ë³€ê²½í–ˆëŠ”ë°, ì´ë•Œ ìƒˆë¡œìš´ ê°’ì¸ \u0026ldquo;Toto\u0026quot;ëŠ” employees í…Œì´ë¸”ì— ì¦‰ì‹œ ê¸°ë¡ë˜ê³  ì´ì „ ê°’ì¸ \u0026ldquo;Lara\u0026quot;ëŠ” ì–¸ë‘ ì˜ì—­ìœ¼ë¡œ ë°±ì—…ëœë‹¤.\nCOMMITì´ ì™„ë£Œ ë˜ê¸° ì „ Bê°€ emp_no=500000ì¸ ì‚¬ì›ì˜ first_nameì„ ì¡°íšŒí•˜ë©´, ì–¸ë‘ ì˜ì—­ì— ë°±ì—…ëœ ë ˆì½”ë“œì—ì„œ ê°€ì ¸ì˜¨ \u0026ldquo;Lara\u0026quot;ë¥¼ ì¡°íšŒí•˜ê²Œ ëœë‹¤.\nNON-REPEATABLE READ READ COMMITTED ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œë„ NON-REPEATABLE READë¼ëŠ” ë¶€ì •í•© ë¬¸ì œê°€ ìˆë‹¤.\nBê°€ BEGIN ëª…ë ¹ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  first_nameì´ \u0026ldquo;Toto\u0026quot;ì¸ ì‚¬ìš©ìë¥¼ ê²€ìƒ‰í–ˆëŠ”ë° ì¼ì¹˜í•˜ëŠ” ê²°ê³¼ê°€ ì—†ì—ˆë‹¤. í•˜ì§€ë§Œ Aê°€ ì‚¬ì› ë²ˆí˜¸ê°€ 500000ì¸ ì‚¬ì›ì˜ ì´ë¦„ì„ \u0026ldquo;Toto\u0026quot;ë¡œ ë³€ê²½í•˜ê³  ì»¤ë°‹ì„ ì‹¤í–‰í•œ í›„, Bê°€ ë˜‘ê°™ì€ ì¿¼ë¦¬ë¡œ ë‹¤ì‹œ ì¡°íšŒí•˜ë©´ 1ê±´ì´ ì¡°íšŒëœë‹¤.\nì¤‘ìš”í•œ í¬ì¸íŠ¸ëŠ” ì‚¬ìš©ìê°€ ë™ì¼ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ê°™ì€ ì¿¼ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ì¡°íšŒí–ˆëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ì¡°íšŒí•´ ì˜¨ ê²ƒì´ë©°, ì´ëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ë˜‘ê°™ì€ SELECT ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í–ˆì„ ë•ŒëŠ” í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤ëŠ” REPEATABLE READ ì •í•©ì„±ì— ì–´ê¸‹ë‚˜ëŠ” ê²ƒì´ë‹¤.\nì´ëŸ¬í•œ ë¶€ì •í•© í˜„ìƒì€ ì¼ë°˜ì ì¸ ì›¹ í”„ë¡œê·¸ë¨ì—ì„œëŠ” í¬ê²Œ ë¬¸ì œë˜ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ë™ì¼ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ë²ˆ ì½ê³  ë³€ê²½í•˜ëŠ” ì‘ì—…ì´ ê¸ˆì „ì ì¸ ì²˜ë¦¬ì™€ ì—°ê²°ë˜ë©´ ë¬¸ì œê°€ ë  ìˆ˜ë„ ìˆë‹¤.\níŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì‹¤í–‰ë˜ëŠ” SELECT ë¬¸ì¥ê³¼ íŠ¸ëœì­ì…˜ ì—†ì´ ì‹¤í–‰ë˜ëŠ” SELECT ë¬¸ì¥ì˜ ì°¨ì´\nREAD COMMITTED ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œëŠ” ì°¨ì´ê°€ ë³„ë¡œ ì—†ìœ¼ë‚˜ REPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œëŠ” SELECT ì¿¼ë¦¬ë„ íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œë§Œ ì‘ë™í•œë‹¤.\nì¦‰ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•œ ìƒíƒœì—ì„œ SELECT ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤ë©´, ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê³  COMMIT ë˜ì—ˆë‹¤ê³  í•˜ë”ë¼ë„ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.\nREPEATABLE READ MySQLì˜ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì´ë‹¤. ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ê°€ì§„ MySQL ì„œë²„ì—ì„œëŠ” ìµœì†Œ REPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ ì´ìƒì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ REPEATABLE READ ê²©ë¦¬ìˆ˜ì¤€ì—ì„œëŠ” íŠ¸ëœì­ì…˜ì´ ROLLBACKë  ê°€ëŠ¥ì„±ì— ëŒ€ë¹„í•´ ë³€ê²½ë˜ê¸° ì „ ë ˆì½”ë“œë¥¼ ì–¸ë‘ ê³µê°„ì— ë°±ì—…í•´ë‘ê³  ì‹¤ì œ ë ˆì½”ë“œ ê°’ì„ ë³€ê²½í•˜ê³ (MVCC) ë°±ì—…ëœ ì´ì „ ë°ì´í„°ë¥¼ ì´ìš©í•´ ë™ì¼ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œëŠ” ë™ì¼í•œ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ ë³´ì¥í•˜ë¯€ë¡œ NON-REPEATABLE READ ë¶€ì •í•©ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\nREPEATABLE READì™€ READ COMMITTEDì˜ ì°¨ì´ëŠ” ì–¸ë‘ ì˜ì—­ì— ë°±ì—…ëœ ë ˆì½”ë“œì˜ ì—¬ëŸ¬ ë²„ì „ ê°€ìš´ë° ëª‡ ë²ˆì§¸ ì´ì „ ë²„ì „ê¹Œì§€ ì°¾ì•„ ë“¤ì–´ê°€ì•¼ í•˜ëŠëƒì— ìˆë‹¤.\nInnoDBì˜ ëª¨ë“  íŠ¸ëœì­ì…˜ì€ ê³ ìœ í•œ íŠ¸ëœì­ì…˜ ë²ˆí˜¸(ìˆœì°¨ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ê°’)ë¥¼ ê°€ì§€ë©°, ì–¸ë‘ ì˜ì—­ì— ë°±ì—…ëœ ëª¨ë“  ë ˆì½”ë“œì—ëŠ” ë³€ê²½ì„ ë°œìƒì‹œí‚¨ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤. ì–¸ë‘ ì˜ì—­ì— ë°±ì—…ëœ ë°ì´í„°ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë¶ˆí•„ìš”í•˜ë‹¤ê³  íŒë‹¨í•˜ëŠ” ì‹œì ì— ì£¼ê¸°ì ìœ¼ë¡œ ì‚­ì œí•œë‹¤.\nREPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œëŠ” MVCCë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ ì‹¤í–‰ì¤‘ì¸ íŠ¸ëœì­ì…˜ ê°€ìš´ë° ê°€ì¥ ì˜¤ë˜ëœ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ë³´ë‹¤ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ê°€ ì•ì„  ì–¸ë‘ ì˜ì—­ì˜ ë°ì´í„°ëŠ” ì‚­ì œí•  ìˆ˜ê°€ ì—†ë‹¤. ê·¸ë ‡ë‹¤ê³  ê°€ì¥ ì˜¤ë˜ëœ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ ì´ì „ì˜ íŠ¸ëœì­ì…˜ì— ì˜í•´ ë³€ê²½ëœ ëª¨ë“  ì–¸ë‘ ë°ì´í„°ê°€ í•„ìš”í•œ ê²ƒì€ ì•„ë‹ˆë©°, íŠ¹ì • íŠ¸ëœì­ì…˜ ë²ˆí˜¸ì˜ êµ¬ê°„ ë‚´ì—ì„œ ë°±ì—…ëœ ì–¸ë‘ ë°ì´í„°ê°€ ë³´ì¡´ ë¼ì•¼ í•œë‹¤.\n12ë²ˆ íŠ¸ëœì­ì…˜ì—ì„œ ì‚¬ì› ì´ë¦„ì„ \u0026ldquo;Toto\u0026quot;ë¡œ ë³€ê²½í•˜ê³  ì»¤ë°‹ì„ ìˆ˜í–‰í–ˆë‹¤. í•˜ì§€ë§Œ 10ë²ˆ íŠ¸ëœì­ì…˜ì—ì„œ 12ë²ˆ íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì „ í›„ë¡œ í•´ë‹¹ ì‚¬ì›ì„ ì¡°íšŒí•´ë„ ìì‹ ì˜ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ë³´ë‹¤ ì‘ì€ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•œ ê²ƒë§Œ ë³´ê²Œ ë˜ë¯€ë¡œ, ì´ì „ ê°’ì¸ \u0026ldquo;Lara\u0026quot;ë¥¼ ë°›ì•„ì˜¨ë‹¤.\níŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  ì¥ì‹œê°„ ì¢…ë£Œí•˜ì§€ ì•Šìœ¼ë©´ ì–¸ë‘ ì˜ì—­ì´ ë°±ì—…ëœ ë°ì´í„°ë¡œ ë¬´í•œì • ì»¤ì§ˆ ìˆ˜ë„ ìˆìœ¼ë©°, ì´ë¡œ ì¸í•´ ë°±ì—…ëœ ë ˆì½”ë“œê°€ ë§ì•„ì§€ë©´ MySQL ì„œë²„ì˜ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\nPHANTOM READ REPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œë„ ë¶€ì •í•©ì´ ë°œìƒ ê°€ëŠ¥í•˜ë‹¤.\nAê°€ employees í…Œì´ë¸”ì— INSERTë¥¼ ì‹¤í–‰í•˜ëŠ” ë„ì¤‘ Bê°€ SELECT ... FOR UPDATE ì¿¼ë¦¬ë¡œ í…Œì´ë¸”ì„ 2ë²ˆ ì¡°íšŒí•˜ëŠ”ë° ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê³  ìˆë‹¤.\nSELECT ... FOR UPDATE ì¿¼ë¦¬ëŠ” SELECTí•˜ëŠ” ë ˆì½”ë“œì— ì“°ê¸° ì ê¸ˆì„ ê±¸ì–´ì•¼ í•˜ëŠ”ë°, ì–¸ë‘ ë ˆì½”ë“œì—ëŠ” ì ê¸ˆì„ ê±¸ ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ SELECT ... FOR UPDATEë‚˜ SELECT ... LOCK IN SHARE MODEë¡œ ì¡°íšŒë˜ëŠ” ë ˆì½”ë“œëŠ” ì–¸ë‘ ì˜ì—­ì˜ ë³€ê²½ ì „ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í˜„ì¬ ë ˆì½”ë“œì˜ ê°’ì„ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.\nì´ë ‡ê²Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ìˆ˜í–‰í•œ ë³€ê²½ ì‘ì—…ì— ì˜í•´ ë ˆì½”ë“œê°€ ë³´ì˜€ë‹¤ ì•ˆ ë³´ì˜€ë‹¤ í•˜ëŠ” í˜„ìƒì„ PHANTOM READ(PHANTOM ROW)ë¼ê³  í•œë‹¤.\nSERIALIZABLE ê°€ì¥ ë‹¨ìˆœí•œ ê²©ë¦¬ ìˆ˜ì¤€ì´ë©´ì„œ ë™ì‹œì— ê°€ì¥ ì—„ê²©í•œ ê²©ë¦¬ ìˆ˜ì¤€ì´ë‹¤. ê·¸ë§Œí¼ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ë„ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ë³´ë‹¤ ë–¨ì–´ì§„ë‹¤.\nInnoDB í…Œì´ë¸”ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ìˆœìˆ˜í•œ SELECT ì‘ì—…ì€ ì•„ë¬´ëŸ° ë ˆì½”ë“œ ì ê¸ˆë„ ì„¤ì •í•˜ì§€ ì•Šê³  ì‹¤í–‰(Non-locking consistent read: ì ê¸ˆì´ í•„ìš”ì—†ëŠ” ì¼ê´€ëœ ì½ê¸°)ë˜ì§€ë§Œ íŠ¸ëœì­ì…˜ì˜ ê²©ë¦¬ ìˆ˜ì¤€ì´ SERIALIZABLEë¡œ ì„¤ì •ë˜ë©´ ì½ê¸° ì‘ì—…ë„ ê³µìœ  ì ê¸ˆ(ì½ê¸° ì ê¸ˆ)ì„ íšë“í•´ì•¼ë§Œ í•˜ë©°, ë™ì‹œì— ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì€ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ SERIALIZABLE ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œëŠ” ì¼ë°˜ì ì¸ DBMSì—ì„œ ì¼ì–´ë‚˜ëŠ” PHANTOM READ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\ní•˜ì§€ë§Œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œëŠ” ê°­ ë½ê³¼ ë„¥ìŠ¤íŠ¸ í‚¤ ë½ ë•ë¶„ì— REPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ì—ì„œë„ PHANTOM READê°€ ë°œìƒí•˜ì§€ ì•Šì•„ êµ³ì´ ì‚¬ìš©í•  í•„ìš”ì„±ì€ ì—†ë‹¤.\nì—„ë°€í•˜ê²ŒëŠ” SELECT ... FOR UPDATE, SELECT ... FOR SHARE ì¿¼ë¦¬ì˜ ê²½ìš° REPEATABLE READ ê²©ë¦¬ìˆ˜ì¤€ì—ì„œ PHANTOM READ í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ë ˆì½”ë“œì˜ ë³€ê²½ ì´ë ¥(ì–¸ë‘ ë ˆì½”ë“œ)ì— ì ê¸ˆì„ ê±¸ ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì—, ì´ëŸ¬í•œ ì ê¸ˆì„ ë™ë°˜í•œ SELECT ì¿¼ë¦¬ëŠ” ì˜ˆì™¸ì ì¸ ìƒí™©ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.\n","date":"2023-04-22T15:31:10+09:00","image":"https://codemario318.github.io/post/real-mysql/5/3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/5/3/","title":"5.3 MySQLì˜ ê²©ë¦¬ ìˆ˜ì¤€"},{"content":"ì ê¸ˆì€ ë™ì‹œì„±ì„ ì œì–´í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ìœ¼ë¡œ í•˜ë‚˜ì˜ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ì»¤ë„¥ì…˜ì—ì„œ ë™ì‹œì— ë™ì¼í•œ ìì›(ë ˆì½”ë“œë‚˜ í…Œì´ë¸”)ì„ ìš”ì²­í•  ê²½ìš° ìˆœì„œëŒ€ë¡œ í•œ ì‹œì ì—ëŠ” í•˜ë‚˜ì˜ ì»¤ë„¥ì…˜ë§Œ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.\nMySQL ì—”ì§„ ë ˆë²¨\nëª¨ë“  ìŠ¤í† ë¦¬ì§€ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ ê°„ ìƒí˜¸ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\nMySQL ì—”ì§„ì˜ ì ê¸ˆ ê¸€ë¡œë²Œ ë½ ê¸€ë¡œë²Œ ë½ì€ FLUSH TABLES WITH READ LOCK ëª…ë ¹ìœ¼ë¡œ íšë“í•  ìˆ˜ ìˆìœ¼ë©°, MySQLì—ì„œ ì œê³µí•˜ëŠ” ì ê¸ˆ ê°€ìš´ë° ê°€ì¥ ë²”ìœ„ê°€ í¬ë‹¤. í•œ ì„¸ì…˜ì—ì„œ ê¸€ë¡œë²Œ ë½ì„ íšë“í•˜ë©´ ë‹¤ë¥¸ ì„¸ì…˜ì—ì„œ SELECTë¥¼ ì œì™¸í•œ ëŒ€ë¶€ë¶„ì˜ DDL ë¬¸ì¥ì´ë‚˜ DML ë¬¸ì¥ì„ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ë½ì´ í•´ì œë  ë•Œê¹Œì§€ ëŒ€ê¸° ìƒíƒœë¡œ ë‚¨ëŠ”ë‹¤.\nê¸€ë¡œë²Œ ë½ì´ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë²”ìœ„ëŠ” MySQL ì„œë²„ ì „ì²´ì´ë©°, ì‘ì—… ëŒ€ìƒ í…Œì´ë¸”ì´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë‹¤ë¥´ë”ë¼ë„ ë™ì¼í•˜ê²Œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤. ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì¡´ì¬í•˜ëŠ” MyISAMì´ë‚˜ MEMORY í…Œì´ë¸”ì— ëŒ€í•´ mysqldumpë¡œ ì¼ê´€ëœ ë°±ì—…ì„ ë°›ì•„ì•¼ í•  ë•ŒëŠ” ê¸€ë¡œë²Œ ë½ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nê¸€ë¡œë²Œ ë½ì„ ê±°ëŠ” FLUSH TABLES WITH READ LOCK ëª…ë ¹ì€ ì‹¤í–‰ê³¼ ë™ì‹œì— ì„œë²„ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  í…Œì´ë¸”ì„ ë‹«ê³  ì ê¸ˆì„ ê±°ëŠ”ë°, ì½ê¸° ì ê¸ˆì„ ê±¸ê¸° ì „ì— ë¨¼ì € í…Œì´ë¸”ì„ í”ŒëŸ¬ì‹œ í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  ì¢…ë¥˜ì˜ ì¿¼ë¦¬ê°€ ì™„ë£Œë¼ì•¼ í•œë‹¤. ëª…ë ¹ì´ ì‹¤í–‰ë˜ê¸° ì „ì— í…Œì´ë¸”ì´ë‚˜ ë ˆì½”ë“œì— ì“°ê¸° ì ê¸ˆì„ ê±°ëŠ” SQLì´ ì‹¤í–‰ë˜ì—ˆë‹¤ë©´ í•´ë‹¹ í…Œì´ë¸”ì˜ ì½ê¸° ì ê¸ˆì„ ê±¸ê¸° ìœ„í•´ ë¨¼ì € ì‹¤í–‰ëœ SQLê³¼ ê·¸ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤.\nì¥ì‹œê°„ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬ì™€ FLUSH TABLES WITH READ LOCK ëª…ë ¹ì´ ìµœì•…ì˜ ì¼€ì´ìŠ¤ë¡œ ì‹¤í–‰ë˜ë©´ ì„œë²„ì˜ ëª¨ë“  ì¿¼ë¦¬ê°€ ì˜¤ëœ ì‹œê°„ ì‹¤í–‰ë˜ì§€ ëª»í•˜ê³  ëŒ€ê¸°í•  ìˆ˜ ìˆë‹¤.\në°±ì—…ë½ MySQL 8ë¶€í„° InnoDBê°€ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì±„íƒë˜ì—ˆê³ , InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ì¼ê´€ëœ ë°ì´í„° ìƒíƒœë¥¼ ìœ„í•´ ëª¨ë“  ë°ì´í„° ë³€ê²½ ì‘ì—…ì„ ë©ˆì¶œ í•„ìš”ëŠ” ì—†ê¸° ë•Œë¬¸ì— ì¡°ê¸ˆ ë” ê°€ë²¼ìš´ ê¸€ë¡œë²Œ ë½ì˜ í•„ìš”ì„±ì´ ìƒê²¼ê³ , ë°±ì—… ë½ì´ ë„ì…ë˜ì—ˆë‹¤.\n1 2 LOCK INSTANCE FOR BACKUP; UNLOCK INSTANCE; íŠ¹ì • ì„¸ì…˜ì—ì„œ ë°±ì—… ë½ì„ íšë“í•˜ë©´ ëª¨ë“  ì„¸ì…˜ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ í…Œì´ë¸”ì˜ ìŠ¤í‚¤ë§ˆë‚˜ ì‚¬ìš©ìì˜ ì¸ì¦ ê´€ë ¨ ì •ë³´ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ê²Œ ë˜ì§€ë§Œ, ì¼ë°˜ì ì¸ í…Œì´ë¸”ì˜ ë°ì´í„° ë³€ê²½ì€ í—ˆìš©ëœë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” ë“± ëª¨ë“  ê°ì²´ ìƒì„± ë° ë³€ê²½, ì‚­ì œ REPAIR TABLEê³¼ OPTIMIZE TABLE ëª…ë ¹ ì‚¬ìš©ì ê´€ë¦¬ ë° ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í…Œì´ë¸” ë½ í…Œì´ë¸”ë½ì€ ê°œë³„ í…Œì´ë¸” ë‹¨ìœ„ë¡œ ì„¤ì •ë˜ëŠ” ì ê¸ˆì´ë©°, ëª…ì‹œì  ë˜ëŠ” ë¬µì‹œì ìœ¼ë¡œ íŠ¹ì • í…Œì´ë¸”ì˜ ë½ì„ íšë“¤í•  ìˆ˜ ìˆë‹¤. MyISAMë¿ ì•„ë‹ˆë¼ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ë„ ë™ì¼í•˜ê²Œ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.\nëª…ì‹œì : LOCK TABLES table_name [ READ | WRITE ] ëª…ë ¹\nUNLOCK TABLES ëª…ë ¹ìœ¼ë¡œ í•´ì œ íŠ¹ë³„í•œ ìƒí™©ì´ ì•„ë‹ˆë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•  í•„ìš”ê°€ ê±°ì˜ ì—†ë‹¤. ë¬µì‹œì : í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ ë°œìƒ\nMySQL ì„œë²„ê°€ ë°ì´í„°ê°€ ë³€ê²½ë˜ëŠ” í…Œì´ë¸”ì— ì ê¸ˆì„ ì„¤ì •í•˜ê³ , ë³€ê²½í•œ í›„ ì¦‰ì‹œ ì ê¸ˆì„ í•´ì œí•œë‹¤. InnoDB í…Œì´ë¸”ì˜ ê²½ìš° ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì°¨ì›ì—ì„œ ë ˆì½”ë“œ ê¸°ë°˜ ì ê¸ˆì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ë‹¨ìˆœ ë°ì´í„° ë³€ê²½ ì¿¼ë¦¬ë¡œ ì¸í•´ ë¬µì‹œì ì¸ í…Œì´ë¸” ë½ì´ ì„¤ì •ë˜ì§€ëŠ” ì•Šê³ , DDLì˜ ê²½ìš°ì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤. ë„¤ì„ë“œ ë½ ë„¤ì„ë“œ ë½ì€ GET_LOCK() í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ì„ì˜ì˜ ë¬¸ìì—´ì— ëŒ€í•´ ì ê¸ˆì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì ê¸ˆ ëŒ€ìƒì´ í…Œì´ë¸”ì´ë‚˜ ë ˆì½”ë“œ ë˜ëŠ” AUTO_INCREMENTì™€ ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´ê°€ ì•„ë‹ˆë¼ ì‚¬ìš©ìê°€ ì§€ì •í•œ ë¬¸ìì—´(String)ì— ëŒ€í•´ íšë“í•˜ê³  ë°˜ë‚©í•˜ëŠ” ì ê¸ˆì´ë‹¤.\në„¤ì„ë“œ ë½ì€ ìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì§€ë§Œ, ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒí˜¸ ë™ê¸°í™”ë¥¼ ì²˜ë¦¬í•´ì•¼ í•  ë•Œ ë„¤ì„ë“œ ë½ì„ ì´ìš©í•˜ë©´ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\në§ì€ ë ˆì½”ë“œì— ëŒ€í•´ì„œ ë³µì¡í•œ ìš”ê±´ìœ¼ë¡œ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ëŠ” íŠ¸ëœì­ì…˜ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°°ì¹˜ í”„ë¡œê·¸ë¨ì²˜ëŸ¼ í•œêº¼ë²ˆì— ë§ì€ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ëŠ” ì¿¼ë¦¬ëŠ” ë°ë“œë½ì˜ ì›ì¸ì´ ë˜ê³¤ í•˜ëŠ”ë°, ë™ì¼ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì°¸ì¡°í•˜ëŠ” í”„ë¡œê·¸ë¨ë¼ë¦¬ ë¶„ë¥˜í•´ì„œ ë„¤ì„ë“œ ë½ì„ ê±¸ê³  ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ ì•„ì£¼ ê°„ë‹¨íˆ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 -- \u0026#34;mylock\u0026#34; ì´ë¼ëŠ” ë¬¸ìì—´ì— ëŒ€í•´ ì ê¸ˆì„ íšë“ SELECT GET_LOCK(\u0026#39;mylock\u0026#39;, 2); -- \u0026#34;mylock\u0026#34; ì´ë¼ëŠ” ë¬¸ìì—´ì— ëŒ€í•´ ì ê¸ˆ ì„¤ì • í™•ì¸ SELECT IS_FREE_LOCK(\u0026#39;mylock\u0026#39;); -- \u0026#34;mylock\u0026#34; ì´ë¼ëŠ” ë¬¸ìì—´ì— ëŒ€í•´ ì ê¸ˆì„ ë°˜ë‚©(í•´ì œ) SELECT RELEASE_LOCK(\u0026#39;mylock\u0026#39;); MySQL 8 ë²„ì „ë¶€í„°ëŠ” ë„¤ì„ë“œ ë½ì„ ì¤‘ì²©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìœ¼ë©°, í˜„ì¬ ì„¸ì…˜ì—ì„œ íšë“í•œ ë„¤ì„ë“œ ë½ì„ í•œë²ˆì— ëª¨ë‘ í•´ì œí•˜ëŠ” ê¸°ëŠ¥ë„ ì¶”ê°€ë˜ì—ˆë‹¤.\n1 2 3 4 5 6 7 SELECT GET_LOCK(\u0026#39;mylock_1\u0026#39;, 10); SELECT GET_LOCK(\u0026#39;mylock_2\u0026#39;, 10); SELECT RELEASE_LOCK(\u0026#39;mylock_1\u0026#39;); SELECT RELEASE_LOCK(\u0026#39;mylock_2\u0026#39;); SELECT RELEASE_ALL_LOCKS(); ë©”íƒ€ë°ì´í„° ë½ ë©”íƒ€ë°ì´í„° ë½ì€ ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´(í…Œì´ë¸”ì´ë‚˜ ë·° ë“±)ì˜ ì´ë¦„ì´ë‚˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ê²½ìš° íšë“í•˜ëŠ” ì ê¸ˆì´ë‹¤. ëª…ì‹œì ìœ¼ë¡œ íšë“í•˜ê±°ë‚˜ í•´ì œí•  ìˆ˜ ì—†ê³ , í…Œì´ë¸”ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ê²½ìš° ìë™ìœ¼ë¡œ íšë“í•œë‹¤.\nREAD TABLE ëª…ë ¹ì˜ ê²½ìš° ì›ë³¸ ì´ë¦„ê³¼ ë³€ê²½ë  ì´ë¦„ ë‘ ê°œ ëª¨ë‘ í•œêº¼ë²ˆì— ì ê¸ˆì„ ì„¤ì •í•œë‹¤.\n1 RENAME TABLE rank TO rank_backup , rank_new TO rank; ìœ„ì™€ ê°™ì´ í•˜ë‚˜ì˜ RENAME TABLE ëª…ë ¹ë¬¸ì— ë‘ ê°œì˜ RENAME ì‘ì—…ì„ í•œë²ˆì— ì‹¤í–‰í•˜ë©´ ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” \u0026ldquo;Table not found 'rank'\u0026ldquo;ê°™ì€ ìƒí™©ì„ ë°œìƒì‹œí‚¤ì§€ ì•Šê³  ì ìš©í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.\ní•˜ì§€ë§Œ ì´ ë¬¸ì¥ì„ ë‚˜ëˆ„ì–´ ì‹¤í–‰í•˜ë©´ ì•„ì£¼ ì§§ì€ ì‹œê°„ì´ì§€ë§Œ rank í…Œì´ë¸”ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìˆœê°„ì´ ìƒê¸°ë©°, ê·¸ ìˆœê°„ì— ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬ëŠ” ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\n1 2 RENAME TABLE rank TO rank_backup; RENAME TABLE rank_new TO rank; ë©”íƒ€ë°ì´í„° ì ê¸ˆê³¼ íŠ¸ëœì­ì…˜ ë™ì‹œ í™œìš© ë•Œë¡œëŠ” ë©”íƒ€ë°ì´í„° ì ê¸ˆê³¼ InnoDBì˜ íŠ¸ëœì­ì…˜ì„ ë™ì‹œì— ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.\n1 2 3 4 5 CREATE TABLE access_log ( id BIGINT NOT NULL AUTO_INCREMENT, ... PRIMARY KEY(id) ); ìœ„ì™€ ê°™ì´ INSERTë§Œ ì‹¤í–‰ë˜ëŠ” ë¡œê·¸ í…Œì´ë¸”ì´ ìˆì„ë•Œ, ì´ í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´ Online DDLì„ ì´ìš©í•˜ì—¬ ë³€ê²½í•  ìˆ˜ ë„ ìˆì§€ë§Œ, ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²½ìš° ì–¸ë‘ ë¡œê·¸ì˜ ì¦ê°€ì™€ Online DDLì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ëˆ„ì ëœ Online DDL ë²„í¼ì˜ í¬ê¸° ë“± ê³ ë¯¼í•´ì•¼ í•  ë¬¸ì œê°€ ë§ë‹¤. ë” í° ë¬¸ì œëŠ” MySQLì„œë²„ì˜ DDLì€ ë‹¨ì¼ ìŠ¤ë ˆë“œë¡œ ì‘ë™í•˜ê¸° ëŒ€ë¬¸ì— ìƒë‹¹íˆ ë§ì€ ì‹œê°„ì´ ì†Œëª¨ëœë‹¤.\nì´ë•ŒëŠ” ìƒˆë¡œìš´ êµ¬ì¡°ì˜ í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  ë¨¼ì € ìµœê·¼ ë°ì´í„°ê¹Œì§€ëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì¸ id ê°’ì„ ë²”ìœ„ë³„ë¡œ ë‚˜ëˆ ì„œ ì—¬ëŸ¬ ê°œì˜ ìŠ¤ë ˆë“œë¡œ ë¹ ë¥´ê²Œ ë³µì‚¬í•˜ê³ , ë‚˜ë¨¸ì§€ ë°ì´í„°ëŠ” íŠ¸ëœì­ì…˜ê³¼ í…Œì´ë¸” ì ê¸ˆ, RENAME TABLE ëª…ë ¹ìœ¼ë¡œ ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì¤‘ë‹¨ ì—†ì´ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nì´ë•Œ ë‚¨ì€ ë°ì´í„°ë¥¼ ë³µì‚¬ í•˜ëŠ” ì‹œê°„ ë™ì•ˆì€ í…Œì´ë¸”ì˜ ì ê¸ˆìœ¼ë¡œ ì¸í•´ INSERTë¥¼ í•  ìˆ˜ ì—†ê²Œ ë˜ì–´ ê°€ëŠ¥í•˜ë©´ ë¯¸ë¦¬ ì•„ì£¼ ìµœê·¼ ë°ì´í„°ê¹Œì§€ ë³µì‚¬í•´ ë‘¬ì•¼ ì ê¸ˆ ì‹œê°„ì„ ìµœì†Œí™”í•˜ì—¬ ì„œë¹„ìŠ¤ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 CREATE TABLE access_log_new ( id BIGINT NOT NULL AUTO_INCREMENT, ... PRIMARY KEY(id) ) KEY_BLOCK_SIZE=4; INSERT INTO access_log_new SELECT * FROM access_log WHERE id \u0026gt;= 0 AND id \u0026lt; 10000; INSERT INTO access_log_new SELECT * FROM access_log WHERE id \u0026gt;= 10000 AND id \u0026lt; 20000; INSERT INTO access_log_new SELECT * FROM access_log WHERE id \u0026gt;= 20000 AND id \u0026lt; 30000; INSERT INTO access_log_new SELECT * FROM access_log WHERE id \u0026gt;= 30000 AND id \u0026lt; 40000; 1 2 3 4 5 6 7 8 9 10 11 12 SET autocommit = 0; LOCK TABLES access_log WRITE, access_log_new WRITE; SELECT MAX(id) as @MAX_ID FROM access_log_new; INSERT INTO access_log_new SELECT * FROM access_log WHERE pk \u0026gt; @MAX_ID; COMMIT; RENAME TABLE access_log TO access_log_old, access_log_new TO access_log; UNLOCK TABLES; DROP TABLE access_log_old; InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì ê¸ˆ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ MySQLì—ì„œ ì œê³µí•˜ëŠ” ì ê¸ˆê³¼ëŠ” ë³„ê°œë¡œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë‚´ë¶€ì—ì„œ ë ˆì½”ë“œ ê¸°ë°˜ì˜ ì ê¸ˆ ë°©ì‹ì„ íƒ‘ì¬í•˜ê³  ìˆë‹¤. ì´ëŸ¬í•œ ë ˆì½”ë“œ ê¸°ë°˜ ì ê¸ˆ ë°©ì‹ ë•ë¿ì— MyISAMë³´ë‹¤ëŠ” í›¨ì”¬ ë›°ì–´ë‚œ ë™ì‹œì„± ì²˜ë¦¬ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì´ì›í™”ëœ ì ê¸ˆ ì²˜ë¦¬ë¡œ ì¸í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì ê¸ˆì— ëŒ€í•œ ì •ë³´ëŠ” MySQL ëª…ë ¹ì„ ì´ìš©í•´ ì ‘ê·¼í•˜ê¸° ê¹Œë‹¤ë¡­ê³ , ë‚´ìš©ë„ ì–´ì…ˆë¸”ë¦¬ ì½”ë“œë¥¼ ë³´ëŠ” ê²ƒ ê°™ì•„ì„œ ì´í•´í•˜ê¸° ì–´ë ¤ì› ë‹¤.\nlock_monitor innodb_lock_monitorë¼ëŠ” ì´ë¦„ì˜ InnoDB í…Œì´ë¸”ì„ ìƒì„±í•˜ì—¬ ì ê¸ˆ ì •ë³´ë¥¼ ë¤í”„í•˜ëŠ” ë°©ë²• SHOW ENGINE INNODB STATUAS ìµœê·¼ ë²„ì „ì—ì„œ InnoDBì˜ íŠ¸ëœì­ì…˜ê³¼ ì ê¸ˆ, ì ê¸ˆ ëŒ€ê¸°ì¤‘ì¸ íŠ¸ëœì­ì…˜ì˜ ëª©ë¡ì„ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ë„ì…ë˜ì—ˆë‹¤.\nMySQL ì„œë²„ì˜ information_schema ë°ì´í„°ë² ì´ìŠ¤ INNODB_TRX, INNODB_LOCKS, INNODB_LOCK_WAITS í…Œì´ë¸” í™œìš© Performance Schema InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë‚´ë¶€ ì ê¸ˆ(ì„¸ë§ˆí¬ì–´)ì— ëŒ€í•œ ëª¨ë‹ˆí„°ë§ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ì ê¸ˆ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë ˆì½”ë“œ ê¸°ë°˜ì˜ ì ê¸ˆ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, ì ê¸ˆ ì •ë³´ê°€ ìƒë‹¹íˆ ì‘ì€ ê³µê°„ìœ¼ë¡œ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì— ë ˆì½”ë“œ ë½ì´ í˜ì´ì§€ ë½, í…Œì´ë¸” ë½ìœ¼ë¡œ ë½ ì—ìŠ¤ì»¬ë ˆì´ì…˜ ë˜ëŠ” ê²½ìš°ëŠ” ì—†ë‹¤.\në ˆì½”ë“œ ë½ ë¿ë§Œ ì•„ë‹ˆë¼ ë ˆì½”ë“œì™€ ë ˆì½”ë“œ ì‚¬ì´ì˜ ê°„ê²©ì„ ì ê·¸ëŠ” ê°­ ë½ë„ ì¡´ì¬í•œë‹¤.\në ˆì½”ë“œë½ ë ˆì½”ë“œ ìì²´ë§Œ ì ê·¸ëŠ” ê²ƒì„ ë ˆì½”ë“œ ë½(Record lock, Record only lock)ì´ë¼ê³  í•˜ë©°, ë‹¤ë¥¸ ìƒìš© DBMSì˜ ë ˆì½”ë“œ ë½ê³¼ ë™ì¼í•œ ì—­í• ì„ í•œë‹¤. ì¤‘ìš”í•œ ì°¨ì´ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë ˆì½”ë“œ ìì²´ê°€ ì•„ë‹ˆë¼ ì¸ë±ìŠ¤ì˜ ë ˆì½”ë“œë¥¼ ì ê·¼ë‹¤.\nì¸ë±ìŠ¤ê°€ í•˜ë‚˜ë„ ì—†ëŠ” í…Œì´ë¸”ì´ë”ë¼ë„ ë‚´ë¶€ì ìœ¼ë¡œ ìë™ ìƒì„±ëœ í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì ê¸ˆì„ ì„¤ì •í•œë‹¤. ë”°ë¼ì„œ InnoDBì—ì„œëŠ” ëŒ€ë¶€ë¶„ ë³´ì¡° ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ë³€ê²½ ì‘ì—…ì€ ì´ì–´ì„œ ì„¤ëª…í•  ë„¥ìŠ¤íŠ¸ í‚¤ ë½(Next key lock) ë˜ëŠ” ê°­ ë½(Gap lock)ì„ ì‚¬ìš©í•˜ì§€ë§Œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ë˜ëŠ” ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ì— ì˜í•œ ë³€ê²½ ì‘ì—…ì—ì„œëŠ” ê°­ì— ëŒ€í•´ì„œëŠ” ì ê·¸ì§€ ì•Šê³  ë ˆì½”ë“œ ìì²´ì— ëŒ€í•´ì„œë§Œ ë½ì„ ê±´ë‹¤.\nê°­ ë½ ê°­ ë½ì€ ë ˆì½”ë“œ ìì²´ê°€ ì•„ë‹ˆë¼ ë ˆì½”ë“œì™€ ë°”ë¡œ ì¸ì ‘í•œ ë ˆì½”ë“œ ì‚¬ì´ì˜ ê°„ê²©ë§Œì„ ì ê·¸ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ë ˆì½”ë“œì™€ ë ˆì½”ë“œ ì‚¬ì´ì˜ ê°„ê²©ì— ìƒˆë¡œìš´ ë ˆì½”ë“œê°€ ìƒì„±(INSERT)ë˜ëŠ” ê²ƒì„ ì œì–´í•œë‹¤.\nê°­ ë½ì€ ê·¸ ìì²´ë³´ë‹¤ëŠ” ë„¥ìŠ¤íŠ¸ í‚¤ ë½ì˜ ì¼ë¶€ë¡œ ìì£¼ ì‚¬ìš©ëœë‹¤. ë„¥ìŠ¤íŠ¸ í‚¤ ë½ ë ˆì½”ë“œ ë½ê³¼ ê°­ ë½ì„ í•©ì³ ë†“ì€ í˜•íƒœì˜ ì ê¸ˆì„ ë„¥ìŠ¤íŠ¸ í‚¤ ë½(Next key lock)ì´ë¼ê³  í•œë‹¤.\nSTATEMENT í¬ë§·ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” MySQL ì„œë²„ì—ì„œëŠ” REPEATABLE READ ê²©ë¦¬ ìˆ˜ì¤€ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë˜í•œ innodb_locks_unsafe_for_binlog ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ë¹„í™œì„±í™”ë˜ë©´ ë³€ê²½ì„ ìœ„í•´ ê²€ìƒ‰í•˜ëŠ” ë ˆì½”ë“œì—ëŠ” ë„¥ìŠ¤íŠ¸ í‚¤ ë½ ë°©ì‹ìœ¼ë¡œ ì ê¸ˆì´ ê±¸ë¦°ë‹¤.\nInnoDBì˜ ê°­ ë½ì´ë‚˜ ë„¥ìŠ¤íŠ¸ í‚¤ ë½ì€ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ë˜ëŠ” ì¿¼ë¦¬ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì‹¤í–‰ë  ë•Œ ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë§Œë“¤ì–´ ë‚¸ ê²°ê³¼ì™€ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ë‚´ë„ë¡ ë³´ì¥í•˜ëŠ” ê²ƒì´ ì£¼ëª©ì ì´ë‹¤.\në„¥ìŠ¤íŠ¸ í‚¤ ë½ê³¼ ê°­ ë½ìœ¼ë¡œ ì¸í•´ ë°ë“œë½ì´ ë°œìƒí•˜ê±°ë‚˜ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì„ ê¸°ë‹¤ë¦¬ê²Œ ë§Œë“œëŠ” ì¼ì´ ìì£¼ ë°œìƒí•˜ë¯€ë¡œ, ë°”ì´ë„ˆë¦¬ ë¡œê·¸ í¬ë§·ì„ ROW í˜•íƒœë¡œ ë°”ê¿”ì„œ ë„¥ìŠ¤íŠ¸ í‚¤ ë½ì´ë‚˜ ê°­ ë½ì„ ì¤„ì´ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nìë™ ì¦ê°€ ë½ MySQLì—ì„œëŠ” ìë™ ì¦ê°€í•˜ëŠ” ìˆ«ì ê°’ì„ ì¶”ì¶œí•˜ê¸° ìœ„í•´ AUTO_INCREMENTë¼ëŠ” ì»¬ëŸ¼ ì†ì„±ì„ ì œê³µí•œë‹¤. AUTO_INCREMENT ì»¬ëŸ¼ì´ ì‚¬ìš©ëœ í…Œì´ë¸”ì— ë™ì‹œì— ì—¬ëŸ¬ ë ˆì½”ë“œê°€ INSERT ë˜ëŠ” ê²½ìš°, ì €ì¥ë˜ëŠ” ê° ë ˆì½”ë“œëŠ” ì¤‘ë³µë˜ì§€ ì•Šê³  ì €ì¥ëœ ìˆœì„œëŒ€ë¡œ ì¦ê°€í•˜ëŠ” ì¼ë ¨ë²ˆí˜¸ ê°’ì„ ê°€ì ¸ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ AUTO_INCREMENT ë½ì´ë¼ê³  í•˜ëŠ” í…Œì´ë¸” ìˆ˜ì¤€ì˜ ì ê¸ˆì„ ì‚¬ìš©í•œë‹¤.\nAUTO_INCREMENTë½ì€ INSERT, REPLACE ì¿¼ë¦¬ ë¬¸ì¥ê³¼ ê°™ì´ ìƒˆë¡œìš´ ë ˆì½”ë“œë¥¼ ì €ì¥í•˜ëŠ” ì¿¼ë¦¬ì—ì„œë§Œ í•„ìš”í•˜ë‹¤. InnoDBì˜ ë‹¤ë¥¸ ì ê¸ˆê³¼ ë‹¬ë¦¬ íŠ¸ëœì­ì…˜ê³¼ ê´€ê³„ ì—†ì´ INSERTë‚˜ REPLACE ë¬¸ì¥ì—ì„œ AUTO_INCREMENT ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ìˆœê°„ë§Œ ë½ì´ ê±¸ë ¸ë‹¤ê°€ ì¦‰ì‹œ í•´ì œëœë‹¤. AUTO_INCREMENT ë½ì€ í…Œì´ë¸”ì— ë‹¨ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ê¸° ëŒ€ë¬¸ì— ë‘ ê°œì˜ INSERT ì¿¼ë¦¬ê°€ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²½ìš° í•˜ë‚˜ì˜ ì¿¼ë¦¬ê°€ ë½ì„ ê±¸ë©´ ë‚˜ë¨¸ì§€ ì¿¼ë¦¬ëŠ” ë½ì„ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤. AUTO_INCREMENT ì»¬ëŸ¼ì— ëª…ì‹œì ìœ¼ë¡œ ê°’ì„ ì„¤ì •í•˜ë”ë¼ë„ ìë™ ì¦ê°€ ë½ì„ ê±¸ê²Œ ëœë‹¤. innodb_autoinc_lock_mode\nMySQL 5.0 ì´í•˜ ë²„ì „ì—ì„œëŠ” AUTO_INCREMENT ë½ì„ ëª…ì‹œì ìœ¼ë¡œ íšë“í•˜ê³  í•´ì œí•˜ëŠ” ë°©ë²•ì€ ì—†ë‹¤. í•˜ì§€ë§Œ ì•„ì£¼ ì§§ì€ ì‹œê°„ë™ì•ˆ ê±¸ë ¸ë‹¤ê°€ í•´ì œë˜ëŠ” ì ê¸ˆì´ë¼ì„œ ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.\nMySQL 5.1 ì´ìƒ ë¶€í„°ëŠ” innodb_autoinc_lock_mode ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ìë™ ì¦ê°€ ë½ì˜ ì‘ë™ ë°©ì‹ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\ninnodb_autoinc_lock_mode=0\nëª¨ë“  INSERT ë¬¸ì¥ì´ ìë™ ì¦ê°€ ë½ì„ ì‚¬ìš©í•œë‹¤.\ninnodb_autoinc_lock_mode=1\nINSERTí•˜ëŠ” ì¿¼ë¦¬ ì¤‘ì—ì„œ MySQL ì„œë²„ê°€ INSERTë˜ëŠ” ë ˆì½”ë“œì˜ ê±´ìˆ˜ë¥¼ ì •í™•íˆ ì˜ˆì¸¡í•  ìˆ˜ ìˆì„ ë•ŒëŠ” ìë™ ì¦ê°€ ë½ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ , í›¨ì”¬ ê°€ë³ê³  ë¹ ë¥¸ ë˜ì¹˜(ë®¤í…ìŠ¤)ë¥¼ ì´ìš©í•´ ì²˜ë¦¬í•œë‹¤.\nê°œì„ ëœ ë˜ì¹˜ëŠ” ìë™ ì¦ê°€ ë½ê³¼ ë‹¬ë¦¬ ì•„ì£¼ ì§§ì€ ì‹œê°„ ë™ì•ˆë§Œ ì ê¸ˆì„ ê±¸ê³  í•„ìš”í•œ ìë™ ì¦ê°€ ê°’ì„ ê°€ì ¸ì˜¤ë©´ ì¦‰ì‹œ ì ê¸ˆì´ í•´ì œëœë‹¤. ê±´ìˆ˜ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ì—†ì„ë•ŒëŠ” ì´ì „ ê°™ì´ ìë™ ì¦ê°€ ë½ì„ ì‚¬ìš©í•œë‹¤. í•œë²ˆì— í• ë‹¹ ë°›ì€ ìë™ ì¦ê°€ ê°’ì´ ë‚¨ì•„ì„œ ì‚¬ìš©ë˜ì§€ ëª»í•˜ë©´ íê¸°í•˜ë¯€ë¡œ ë ˆì½”ë“œ ìë™ ì¦ê°€ ê°’ì€ ì—°ì†ë˜ì§€ ì•Šê³  ëˆ„ë½ëœ ê°’ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. í•˜ë‚˜ì˜ INSERT ë¬¸ì¥ìœ¼ë¡œ INSERT ë˜ëŠ” ë ˆì½”ë“œëŠ” ì—°ì†ëœ ìë™ ì¦ê°€ ê°’ì„ ê°€ì§€ê²Œ ëœë‹¤. innodb_autoinc_lock_mode=2\nì ˆëŒ€ë¡œ ìë™ ì¦ê°€ ë½ì„ ê±¸ì§€ ì•Šê³  ê²½ëŸ‰í™”ëœ ë˜ì¹˜(ë®¤í…ìŠ¤)ë¥¼ ì‚¬ìš©í•œë‹¤.\nì„¤ì •ì—ì„œëŠ” í•˜ë‚˜ì˜ INSERT ë¬¸ì¥ìœ¼ë¡œ INSERT ë˜ëŠ” ë ˆì½”ë“œë¼ í•˜ë”ë¼ë„ ì—°ì†ëœ ìë™ ì¦ê°€ê°’ì„ ë³´ì¥í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. INSERT ... SELECTì™€ ê°™ì€ ëŒ€ëŸ‰ INSERT ë¬¸ì¥ì´ ì‹¤í–‰ë˜ëŠ” ì¤‘ì—ë„ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì—ì„œ INSERTë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë†’ì•„ì§„ë‹¤. ìë™ ì¦ê°€ ê¸°ëŠ¥ì€ ìœ ë‹ˆí¬í•œ ê°’ì´ ìƒì„±ëœë‹¤ëŠ” ê²ƒë§Œ ë³´ì¥í•œë‹¤. ë”°ë¼ì„œ ì†ŒìŠ¤ ì„œë²„ì™€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì˜ ìë™ ì¦ê°€ ê°’ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ ì£¼ì˜í•´ì•¼í•œë‹¤. MySQL 5.7 ê¹Œì§€ëŠ” ê¸°ë³¸ê°’ì´ 1ì´ì—ˆìœ¼ë‚˜, 8ë²„ì „ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ í¬ë§·ì´ STATEMENTê°€ ì•„ë‹ˆë¼ ROWë¡œ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— 2ë¡œ ë°”ë€Œì—ˆë‹¤. ROW í¬ë§·ì´ ì•„ë‹ˆë¼ STATEMENT í¬ë§·ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ 1ë¡œ ë³€ê²½í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nìë™ ì¦ê°€ ê°’ì´ í•œ ë²ˆ ì¦ê°€í•˜ë©´ ì ˆëŒ€ ì¤„ì–´ë“¤ì§€ ì•ŠëŠ” ì´ìœ ëŠ” AUTO_INCREMENT ì ê¸ˆì„ ìµœì†Œí™” í•˜ê¸° ìœ„í•´ì„œë‹¤. INSERT ì¿¼ë¦¬ê°€ ì‹¤íŒ¨í–ˆë”ë¼ë„ í•œ ë²ˆ ì¦ê°€ëœ AUTO_INCREMENT ê°’ì€ ë‹¤ì‹œ ì¤„ì–´ë“¤ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë‚¨ëŠ”ë‹¤.\në˜ì¹˜(Latch)ë€?\nDBMSì—ì„œ ì—¬ëŸ¬ ìŠ¤ë ˆë“œ í˜¹ì€ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ ì œì–´ ê¸°ìˆ  ì¤‘ í•˜ë‚˜ì´ë‹¤.\në˜ì¹˜ëŠ” ë®¤í…ìŠ¤(Mutex)ì™€ ìœ ì‚¬í•œ ê°œë…ì´ì§€ë§Œ, ë®¤í…ìŠ¤ëŠ” ì˜¤ì§ í•œ ìŠ¤ë ˆë“œ í˜¹ì€ í”„ë¡œì„¸ìŠ¤ë§Œì´ í•´ë‹¹ ìì›ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë™ê¸°í™” ê¸°ìˆ ì´ê³ , ë˜ì¹˜ëŠ” ì—¬ëŸ¬ ê°œì˜ ìŠ¤ë ˆë“œ í˜¹ì€ í”„ë¡œì„¸ìŠ¤ê°€ ì½ê¸°ë§Œ ê°€ëŠ¥í•˜ê³  ì“°ê¸°ëŠ” í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œ í˜¹ì€ í”„ë¡œì„¸ìŠ¤ë§Œ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ë™ê¸°í™” ê¸°ìˆ ì´ë‹¤.\në˜ì¹˜ëŠ” ì½ê¸° ë˜ì¹˜ì™€ ì“°ê¸° ë˜ì¹˜ë¡œ êµ¬ë¶„ë˜ë©°, ì½ê¸° ë˜ì¹˜ëŠ” ì—¬ëŸ¬ ìŠ¤ë ˆë“œ í˜¹ì€ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— í•´ë‹¹ ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ ìˆê²Œ í•˜ê³ , ì“°ê¸° ë˜ì¹˜ëŠ” ì˜¤ì§ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œ í˜¹ì€ í”„ë¡œì„¸ìŠ¤ë§Œ í•´ë‹¹ ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•œë‹¤.\në˜ì¹˜ëŠ” ì£¼ë¡œ ì¸ë±ìŠ¤ êµ¬ì¡°ë‚˜ ë²„í¼í’€ ë“±ì—ì„œ ì‚¬ìš©ë˜ë©°, ë™ì‹œì„±ì„ ë†’ì´ê¸° ìœ„í•´ ì ê·¹ì ìœ¼ë¡œ í™œìš©ëœë‹¤. ê·¸ëŸ¬ë‚˜ ë˜ì¹˜ë¥¼ ê³¼ë„í•˜ê²Œ ì‚¬ìš©í•˜ê±°ë‚˜ ì‚¬ìš© ë°©ë²•ì´ ë¶€ì ì ˆí•  ê²½ìš° ë°ë“œë½(deadlock) ë“±ì˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nì¸ë±ìŠ¤ì™€ ì ê¸ˆ InnoDBì˜ ì ê¸ˆì€ ë ˆì½”ë“œë¥¼ ì ê·¸ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì¸ë±ìŠ¤ë¥¼ ì ê·¸ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤. ì¦‰ ë³€ê²½í•´ì•¼ í•  ë ˆì½”ë“œë¥¼ ì°¾ê¸° ìœ„í•´ ê²€ìƒ‰í•œ ì¸ë±ìŠ¤ì˜ ë ˆì½”ë“œë¥¼ ëª¨ë‘ ë½ì„ ê±¸ì–´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 --// KEY ix_firstname (first_name) SELECT COUNT(*) FROM employees WHERE first_name=\u0026#39;Georgi\u0026#39; ; /* +---+ |253| +---+ */ SELECT COUNT(*) FROM employees WHERE first_name=\u0026#39;Georgi\u0026#39; AND last_name=\u0026#39;Klassen\u0026#39; ; /* +---+ | 1| +---+ */ UPDATE employees SET hire_date = NOW() WHERE first_name=\u0026#39;Georgi\u0026#39; AND last_name=\u0026#39;Klassen\u0026#39; ; UPDATE ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ë©´ 1ê±´ì˜ ë ˆì½”ë“œê°€ ì—…ë°ì´íŠ¸ ë˜ì§€ë§Œ, UPDATE ë¬¸ì¥ì˜ ì¡°ê±´ì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆëŠ” ì¡°ê±´ì€ first_nameë¿ì´ë©°, last_name ì»¬ëŸ¼ì€ ì¸ë±ìŠ¤ê°€ ì—†ê¸° ë•Œë¬¸ì— first_name='Georgi'ì¸ ë ˆì½”ë“œ 253ê±´ì˜ ë ˆì½”ë“œê°€ ëª¨ë‘ ì ê¸´ë‹¤.\nUPDATE ë¬¸ì¥ì„ ìœ„í•´ ì ì ˆíˆ ì¸ë±ìŠ¤ê°€ ì¤€ë¹„ë¼ ìˆì§€ ì•Šë‹¤ë©´ ê° í´ë¼ì´ì–¸íŠ¸ ê°„ì˜ ë™ì‹œì„±ì´ ìƒë‹¹íˆ ë–¨ì–´ì ¸ì„œ í•œ ì„¸ì…˜ì—ì„œ UPDATE ì‘ì—…ì„ í•˜ëŠ” ì¤‘ì—ëŠ” ë‹¤ë¥¸ í´ë¼ì´ì–¸íŠ¸ëŠ” í…Œì´ë¸”ì„ ì—…ë°ì´íŠ¸í•˜ì§€ ëª»í•˜ê³  ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•œë‹¤.\në§Œì•½ employees í…Œì´ë¸”ì— ì¸ë±ìŠ¤ê°€ í•˜ë‚˜ë„ ì—†ë‹¤ë©´, í…Œì´ë¸”ì„ í’€ìŠ¤ìº” í•˜ë©´ì„œ UPDATEë¥¼ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— í…Œì´ë¸”ì— ìˆëŠ” ëª¨ë“  ë ˆì½”ë“œë¥¼ ì ê·¸ê²Œ ëœë‹¤.\në ˆì½”ë“œ ìˆ˜ì¤€ì˜ ì ê¸ˆ í™•ì¸ ë° í•´ì œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ìˆ˜ì¤€ ì ê¸ˆì€ í…Œì´ë¸” ìˆ˜ì¤€ì˜ ì ê¸ˆë³´ë‹¤ëŠ” ì¡°ê¸ˆ ë” ë³µì¡í•˜ë‹¤.\ní…Œì´ë¸” ì ê¸ˆì—ì„œëŠ” ì ê¸ˆì˜ ëŒ€ìƒì´ í…Œì´ë¸” ìì²´ì´ë¯€ë¡œ ì‰½ê²Œ ë¬¸ì œì˜ ì›ì¸ì´ ë°œê²¬ë˜ê³  í•´ê²°ë  ìˆ˜ ìˆìœ¼ë‚˜, ë ˆì½”ë“œ ìˆ˜ì¤€ì˜ ì ê¸ˆì€ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê°ê°ì— ì ê¸ˆì´ ê±¸ë¦¬ë¯€ë¡œ ê·¸ ë ˆì½”ë“œê°€ ìì£¼ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì˜¤ëœ ì‹œê°„ ë™ì•ˆ ì ê²¨ì§„ ìƒíƒœë¡œ ë‚¨ì•„ ìˆì–´ë„ ì˜ ë°œê²¬ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì˜ˆì „ ë²„ì „ì˜ MySQL ì„œë²„ì—ì„œëŠ” ë ˆì½”ë“œ ì ê¸ˆì— ëŒ€í•œ ë©”íƒ€ ì •ë³´ë¥¼ ì œê³µí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì–´ë ¤ì› ì§€ë§Œ, 5.1 ë²„ì „ë¶€í„°ëŠ” ë ˆì½”ë“œ ì ê¸ˆê³¼ ì ê¸ˆ ëŒ€ê¸°ì— ëŒ€í•œ ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë¯€ë¡œ ì¿¼ë¦¬ í•˜ë‚˜ë§Œ ì‹¤í–‰í•˜ë©´ ì ê¸ˆê³¼ ì ê¸ˆ ëŒ€ê¸° ìƒíƒœë¥¼ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nMySQL 5.1 +\ninformation_schemaë¼ëŠ” DBì— INNODB_TRX, INNODB_LOCKS, INNODB_LOCK_WAITS ë¼ëŠ” í…Œì´ë¸”ì„ í†µí•´ í™•ì¸ MySQL 8.0 +\ninformation_schemaì˜ ì •ë³´ë“¤ì€ ì¡°ê¸ˆì”© ì œê±°ë˜ê³  ìˆë‹¤. performance_schemaì˜ data_locks, data_lock_waitsë¡œ í™•ì¸ ","date":"2023-04-22T15:30:10+09:00","image":"https://codemario318.github.io/post/real-mysql/5/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/5/2/","title":"5.2 ì ê¸ˆ"},{"content":"íŠ¸ëœì­ì…˜ì€ ì‘ì—…ì˜ ì™„ì „ì„±ì„ ë³´ì¥í•´ ì£¼ëŠ” ê²ƒì´ë‹¤.\në…¼ë¦¬ì ì´ ì‘ì—… ì…‹ì„ ëª¨ë‘ ì™„ë²½í•˜ê²Œ ì²˜ë¦¬í•˜ê±°ë‚˜, ì²˜ë¦¬í•˜ì§€ ëª»í•  ê²½ìš°ì—ëŠ” ì› ìƒíƒœë¡œ ë³µêµ¬í•´ì„œ ì‘ì—…ì˜ ì¼ë¶€ë§Œ ì ìš©ë˜ëŠ” í˜„ìƒ(Partial update)ì´ ë°œìƒí•˜ì§€ ì•Šê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤.\níŠ¸ëœì­ì…˜ì€ ê¼­ ì—¬ëŸ¬ ê°œì˜ ë³€ê²½ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì¿¼ë¦¬ê°€ ì¡°í•©ëì„ ë•Œë§Œ ì˜ë¯¸ìˆëŠ” ê°œë…ì€ ì•„ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ì€ í•˜ë‚˜ì˜ ë…¼ë¦¬ì ì¸ ì‘ì—… ì…‹ì´ 100% ì ìš©ë˜ê±°ë‚˜(COMMIT) ì•„ë¬´ê²ƒë„ ì ìš©ë˜ì§€ ì•Šì•„ì•¼(ROLLBACK)í•¨ì„ ë³´ì¥í•´ ì£¼ëŠ” ê²ƒì´ë‹¤.\nMySQLì—ì„œì˜ íŠ¸ëœì­ì…˜ MySQLì—ì„œ InnoDBì™€ ë‹¬ë¦¬ MyISAMê³¼ MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ íŠ¸ëœì­ì…˜ì„ ì œê³µí•˜ì§€ì•ŠëŠ”ë‹¤. ì²˜ë¦¬ë°©ì‹ì˜ ì°¨ì´ë¥¼ í™•ì¸í•˜ê³ , íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì ì„ ì•Œì•„ì•¼ í•œë‹¤.\n1 2 3 4 5 CREATE TABLE tab_myisam ( fdpk INT NOT NULL, PRIMARY KEY (fdpk) ) ENGINE=MyISAM; INSERT INTO tab_myisam (fdpk) VALUE (3); CREATE TABLE tab_myInnodb ( fdpk INT NOT NULL, PRIMARY KEY (fdpk) ) ENGINE=INNODB; INSERT INTO tab_myInnodb (fdpk) VALUE (3); 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 SET autocommit=ON; INSERT INTO tab_myisam (fdpk) VALUES (1), (2), (3); /* ERROR 1062 (23000): Duplicate entry \u0026#39;3\u0026#39; for key \u0026#39;PRIMARY\u0026#39; +----+ |fdpk| +----+ | 1| +----+ | 2| +----+ | 3| +----+ */ INSERT INTO tab_myinnodb (fdpk) VALUES (1), (2), (3); /* ERROR 1062 (23000): Duplicate entry \u0026#39;3\u0026#39; for key \u0026#39;PRIMARY\u0026#39; +----+ |fdpk| +----+ | 3| +----+ */ ë‘ í…Œì´ë¸”ì˜ INSERT ë¬¸ì¥ì´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ì¤‘ë³µ ì˜¤ë¥˜ë¡œ ì‹¤íŒ¨í–ˆìœ¼ë‚˜, MyISAM í…Œì´ë¸”ì€ INSERT ë¬¸ì¥ì´ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ì¦‰ì‹œ ë°˜ì˜ëœë‹¤. ë”°ë¼ì„œ 1ê³¼ 2ë¥¼ ì €ì¥í•˜ê³  3ì„ ì €ì¥í•  ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ ì¿¼ë¦¬ ì‹¤í–‰ì´ ì¢…ë£Œë˜ë©°, ê¸°ì¡´ì— ì‹¤í–‰ë˜ì—ˆë˜ INSERTë¡œ í…Œì´ë¸”ì— 1, 2ê°€ ì €ì¥ë˜ì—ˆê³  ì˜¤ë¥˜ë¡œ ì‹¤íŒ¨í•´ë„ ê·¸ëŒ€ë¡œ ìœ ì§€ëœë‹¤. MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ë„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\në°˜ë©´ InnoDBëŠ” ì¿¼ë¦¬ ì¤‘ ì¼ë¶€ë¼ë„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì „ì²´ë¥¼ ì› ìƒíƒœë¡œ ë§Œë“ ë‹¤ëŠ” íŠ¸ëœì­ì…˜ì˜ ì›ì¹™ëŒ€ë¡œ INSERT ë¬¸ì¥ì„ ì‹¤í–‰í•˜ê¸° ì „ ìƒíƒœë¡œ ë³µêµ¬í•œë‹¤.\nMyISAMì—ì„œ ë°œìƒí•œ ì´ëŸ¬í•œ í˜„ìƒì„ ë¶€ë¶„ ì—…ë°ì´íŠ¸(Partial Update)ë¼ê³  í‘œí˜„í•˜ë©°, í…Œì´ë¸” ë°ì´í„°ì˜ ì •í•©ì„±ì„ ë§ì¶”ê¸° ìœ„í•´ ì‹¤íŒ¨í•œ ì¿¼ë¦¬ë¡œ ì¸í•´ ë‚¨ì€ ë ˆì½”ë“œë¥¼ ë‹¤ì‹œ ì‚­ì œí•˜ëŠ” ë“± ì–´ë ¤ìš´ ë¬¸ì œë¥¼ ë§Œë“¤ì–´ ë‚¸ë‹¤.\nì£¼ì˜ì‚¬í•­ íŠ¸ëœì­ì…˜ ë˜í•œ DBMSì˜ ì»¤ë„¥ì…˜ê³¼ ë™ì¼í•˜ê²Œ íŠ¸ëœì­ì…˜ì˜ ë²”ìœ„ë¥¼ ìµœì†Œí™” í•˜ì—¬, ê¼­ í•„ìš”í•œ ìµœì†Œì˜ ì½”ë“œì—ë§Œ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nAS-IS ì²˜ë¦¬ ì‹œì‘ ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ìƒì„± íŠ¸ëœì­ì…˜ ì‹œì‘ ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸ ì‚¬ìš©ìì˜ ê¸€ì“°ê¸° ë‚´ìš©ì˜ ì˜¤ë¥˜ ì—¬ë¶€ í™•ì¸ ì²¨ë¶€ë¡œ ì—…ë¡œë“œëœ íŒŒì¼ í™•ì¸ ë° ì €ì¥ ì‚¬ìš©ìì˜ ì…ë ¥ ë‚´ìš©ì„ DBMSì— ì €ì¥ ì²¨ë¶€ íŒŒì¼ ì •ë³´ë¥¼ DBMSì— ì €ì¥ ì €ì¥ëœ ë‚´ìš© ë˜ëŠ” ê¸°íƒ€ ì •ë³´ë¥¼ DBMSì—ì„œ ì¡°íšŒ ê²Œì‹œë¬¼ ë“±ë¡ì— ëŒ€í•œ ì•Œë¦¼ ë©”ì¼ ë°œì†¡ ì•Œë¦¼ ë©”ì¼ ë°œì†¡ ì´ë ¥ì„ DBMSì— ì €ì¥ íŠ¸ëœì­ì…˜ ì¢…ë£Œ(COMMIT) ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ë°˜ë‚© ì²˜ë¦¬ì™„ë£Œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¤ë„¥ì…˜ ìƒì„±í•˜ê³  íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ëŠ” ë¶€ë¶„\nì‹¤ì œë¡œ DBMSì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì‘ì—…ì€ 5ë²ˆë¶€í„° ì‹œì‘ë˜ë¯€ë¡œ 2,3,4 ì‘ì—…ì´ ì•„ë¬´ë¦¬ ë¹¨ë¦¬ ì²˜ë¦¬ëœë‹¤ê³  í•˜ë”ë¼ë„ íŠ¸ëœì­ì…˜ì— í¬í•¨ì‹œí‚¬ í•„ìš”ëŠ” ì—†ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ì€ ê°œìˆ˜ê°€ ì œí•œì ì´ì–´ì„œ ê° ë‹¨ìœ„ í”„ë¡œê·¸ë¨ì´ ì»¤ë„¥ì…˜ì„ ì†Œìœ í•˜ëŠ” ì‹œê°„ì´ ê¸¸ì–´ì§ˆìˆ˜ë¡ ì—¬ìœ  ì»¤ë„¥ì…˜ì˜ ê°œìˆ˜ëŠ” ì¤„ì–´ë“ ë‹¤. ì´ì— ë”°ë¼ ì»¤ë„¥ì…˜ì„ ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë©”ì¼ ì „ì†¡ì´ë‚˜ FTP íŒŒì¼ ì „ì†¡ ì‘ì—… ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì›ê²© ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ì‘ì—…\n8ë²ˆì—ì„œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ í†µì‹ í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì´ ë°œìƒí•œë‹¤ë©´ ì›¹ ì„œë²„ë¿ ì•„ë‹ˆë¼ DBMS ì„œë²„ê¹Œì§€ ìœ„í—˜í•´ì§€ëŠ” ìƒí™©ì´ ë°œìƒí•˜ê²Œ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ì œê±°í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì‘ì—… ë‹¨ìœ„ ë¶„ë¦¬\nì²˜ë¦¬ ë˜ì–´ì•¼ í•˜ëŠ” DBMS ì‘ì—…ì„ (5,6), (7), (9) ì´ 3ê°œë¡œ ë¶„ë¦¬í•´ì„œ íŠ¸ëœì­ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆê³ , 7ë²ˆì´ ë‹¨ìˆœ ì¡°íšŒë¼ë©´ íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. TO-BE ì²˜ë¦¬ ì‹œì‘ ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸ ì‚¬ìš©ìì˜ ê¸€ì“°ê¸° ë‚´ìš©ì˜ ì˜¤ë¥˜ ì—¬ë¶€ í™•ì¸ ì²¨ë¶€ë¡œ ì—…ë¡œë“œëœ íŒŒì¼ í™•ì¸ ë° ì €ì¥ ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ìƒì„±(ë˜ëŠ” ì»¤ë„¥ì…˜ í’€ì—ì„œ ê°€ì ¸ì˜¤ê¸°) íŠ¸ëœì­ì…˜ ì‹œì‘ ì‚¬ìš©ìì˜ ì…ë ¥ ë‚´ìš©ì„ DBMSì— ì €ì¥ ì²¨ë¶€ íŒŒì¼ ì •ë³´ë¥¼ DBMSì— ì €ì¥ íŠ¸ëœì­ì…˜ ì¢…ë£Œ(COMMIT) ì €ì¥ëœ ë‚´ìš© ë˜ëŠ” ê¸°íƒ€ ì •ë³´ë¥¼ DBMSì—ì„œ ì¡°íšŒ ê²Œì‹œë¬¼ ë“±ë¡ì— ëŒ€í•œ ì•Œë¦¼ ë©”ì¼ ë°œì†¡ íŠ¸ëœì­ì…˜ ì‹œì‘ ì•Œë¦¼ ë©”ì¼ ë°œì†¡ ì´ë ¥ì„ DBMSì— ì €ì¥ íŠ¸ëœì­ì…˜ ì¢…ë£Œ(COMMIT) ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ë°˜ë‚© ì²˜ë¦¬ì™„ë£Œ ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê°œì„  ë  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-22T15:29:10+09:00","image":"https://codemario318.github.io/post/real-mysql/5/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/5/1/","title":"5.1 íŠ¸ëœì­ì…˜"},{"content":"Get the app 1 git clone https://github.com/docker/getting-started.git Build the appâ€™s container image ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ë ¤ë©´ Dockerfileì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.\nDockerfile? Dockerfileì€ íŒŒì¼ í™•ì¥ìê°€ ì—†ëŠ” ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ ê¸°ë°˜ íŒŒì¼ë¡œì„œ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ë¡œ í™œìš©ëœë‹¤. ë„ì»¤ ì´ë¯¸ì§€ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, Dockerfileì€ ì´ëŸ¬í•œ ì´ë¯¸ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ë° í•„ìš”í•œ ëª¨ë“  ì •ë³´ë¥¼ ì œê³µí•œë‹¤.\nDockerfileì€ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ë° í•„ìš”í•œ ê¸°ë³¸ ìš´ì˜ ì²´ì œ ì´ë¯¸ì§€, í•„ìš”í•œ ì‘ìš© í”„ë¡œê·¸ë¨, ì„¤ì • íŒŒì¼ ë° ë‹¤ë¥¸ ì¢…ì†ì„± ë“± ëª¨ë“  êµ¬ì„± ìš”ì†Œë¥¼ ëª…ì‹œí•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¡œ êµ¬ì„±ëœë‹¤.\nFROM: ê¸°ë³¸ì´ ë˜ëŠ” ì´ë¯¸ì§€ RUN: ìƒˆë¡œìš´ ë ˆì´ì–´ì—ì„œ ì‹¤í–‰ë  ëª…ë ¹ì–´ COPY: í˜¸ìŠ¤íŠ¸ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ë¥¼ ì´ë¯¸ì§€ë¡œ ë³µì‚¬ ADD: COPY ëª…ë ¹ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ, URLì—ì„œ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê±°ë‚˜ tar íŒŒì¼ì—ì„œ íŒŒì¼ì„ ì¶”ì¶œí•˜ëŠ” ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ WORKDIR: ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë  ì‘ì—… ë””ë ‰í† ë¦¬ë¥¼ ì„¤ì • ENV: í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì • EXPOSE: ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ CMD: ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë  ë•Œ ì‹¤í–‰í•  ëª…ë ¹ì–´ë¥¼ ì„¤ì • Dockerfileì— ì •ì˜ëœ ëª¨ë“  ëª…ë ¹ì–´ëŠ” ë„ì»¤ ì´ë¯¸ì§€ì˜ ê° ë ˆì´ì–´ë¡œ êµ¬ì„±ëœë‹¤. ê° ë ˆì´ì–´ëŠ” ë…ë¦½ì ìœ¼ë¡œ ìºì‹±ë˜ê³  ì´ë¯¸ì§€ë¥¼ ë‹¤ì‹œ ë¹Œë“œí•  ë•Œ ì´ì „ì— ìºì‹±ëœ ë ˆì´ì–´ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ ë¹Œë“œ ì†ë„ë¥¼ í–¥ìƒì‹œì¼œ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ íš¨ìœ¨ì ì´ê³  ì¼ê´€ì ì¸ ë°©ì‹ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\nDockerfile ìƒì„± ë¹Œë“œí•  ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆëŠ” ë””ë ‰í„°ë¦¬(/getting-started/app)ë¡œ ì´ë™í•˜ì—¬ Dockerfile ìƒì„± í›„ í•„ìš”í•œ ë‚´ìš©ì„ ì±„ìš´ë‹¤.\n1 2 cd getting-started/app touch Dockerfile 1 2 3 4 5 6 7 8 # syntax=docker/dockerfile:1 FROM node:18-alpine WORKDIR /app COPY . . RUN yarn install --production CMD [\u0026#34;node\u0026#34;, \u0026#34;src/index.js\u0026#34;] EXPOSE 3000 ë¹Œë“œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 docker build -t getting-started . [+] Building 26.1s (13/13) FINISHED =\u0026gt; [internal] load build definition from Dockerfile 0.0s =\u0026gt; =\u0026gt; transferring dockerfile: 186B 0.0s =\u0026gt; [internal] load .dockerignore 0.0s =\u0026gt; =\u0026gt; transferring context: 2B 0.0s =\u0026gt; resolve image config for docker.io/docker/dockerfile:1 2.4s =\u0026gt; docker-image://docker.io/docker/dockerfile:1@sha256:39b85bbfa7536a5feceb7372a0817649ecb2724562a38 3.4s =\u0026gt; =\u0026gt; resolve docker.io/docker/dockerfile:1@sha256:39b85bbfa7536a5feceb7372a0817649ecb2724562a38360f 0.0s =\u0026gt; =\u0026gt; sha256:9d0cd65540a143ce38aa0be7c5e9efeed30d3580d03667f107cd76354f2bee65 10.82MB / 10.82MB 3.2s =\u0026gt; =\u0026gt; sha256:39b85bbfa7536a5feceb7372a0817649ecb2724562a38360f4d6a7782a409b14 8.40kB / 8.40kB 0.0s =\u0026gt; =\u0026gt; sha256:7f44e51970d0422c2cbff3b20b6b5ef861f6244c396a06e1a96f7aa4fa83a4e6 482B / 482B 0.0s =\u0026gt; =\u0026gt; sha256:a28edb2041b8f23c38382d8be273f0239f51ff1f510f98bccc8d0e7f42249e97 2.90kB / 2.90kB 0.0s =\u0026gt; =\u0026gt; extracting sha256:9d0cd65540a143ce38aa0be7c5e9efeed30d3580d03667f107cd76354f2bee65 0.2s =\u0026gt; [internal] load .dockerignore 0.0s =\u0026gt; [internal] load build definition from Dockerfile 0.0s =\u0026gt; [internal] load metadata for docker.io/library/node:18-alpine 2.3s =\u0026gt; [internal] load build context 0.1s =\u0026gt; =\u0026gt; transferring context: 4.59MB 0.1s =\u0026gt; [1/4] FROM docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6 8.3s =\u0026gt; =\u0026gt; resolve docker.io/library/node:18-alpine@sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6 0.0s =\u0026gt; =\u0026gt; sha256:fefc7d195eee885e1f309ca2b5eff078b537b766f6bd949f8eb69fe895088821 2.41MB / 2.41MB 1.8s =\u0026gt; =\u0026gt; sha256:ca5d399560a9d239cbfa28eec00417f1505e5e108f3ec6938d230767eaa81f61 1.43kB / 1.43kB 0.0s =\u0026gt; =\u0026gt; sha256:46f34dda633f5708462f6d6ee7ef829535bd0ee04b82cbe28dcccb5df74b3eb1 1.16kB / 1.16kB 0.0s =\u0026gt; =\u0026gt; sha256:a966e12937d2cdbf1cf501f972673875426566c53820a3fe54c2a15b0ad93639 6.50kB / 6.50kB 0.0s =\u0026gt; =\u0026gt; sha256:c41833b44d910632b415cd89a9cdaa4d62c9725dc56c99a7ddadafd6719960f9 3.26MB / 3.26MB 0.6s =\u0026gt; =\u0026gt; sha256:762c2470eea4dfd0e37925b903f27172a7b89fd8b11bb8cf61554941c3293636 47.28MB / 47.28MB 6.7s =\u0026gt; =\u0026gt; extracting sha256:c41833b44d910632b415cd89a9cdaa4d62c9725dc56c99a7ddadafd6719960f9 0.1s =\u0026gt; =\u0026gt; sha256:06fc22ed341f1d0c400e6972828f8731f3544007cda80ea1d333fe15acf0a28b 448B / 448B 1.2s =\u0026gt; =\u0026gt; extracting sha256:762c2470eea4dfd0e37925b903f27172a7b89fd8b11bb8cf61554941c3293636 1.4s =\u0026gt; =\u0026gt; extracting sha256:fefc7d195eee885e1f309ca2b5eff078b537b766f6bd949f8eb69fe895088821 0.1s =\u0026gt; =\u0026gt; extracting sha256:06fc22ed341f1d0c400e6972828f8731f3544007cda80ea1d333fe15acf0a28b 0.0s =\u0026gt; [2/4] WORKDIR /app 0.1s =\u0026gt; [3/4] COPY . . 0.0s =\u0026gt; [4/4] RUN yarn install --production 8.6s =\u0026gt; exporting to image 0.7s =\u0026gt; =\u0026gt; exporting layers 0.7s =\u0026gt; =\u0026gt; writing image sha256:8b52580feb5e556abf813797e2003cbb30d53dfeee0f865fde0f16de6354c6a1 0.0s =\u0026gt; =\u0026gt; naming to docker.io/library/getting-started docker build ëª…ë ¹ì€ Dockerfileì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œë‹¤.\nëª…ë ¹ ì‹¤í–‰ í›„ ë§ì€ ë ˆì´ì–´ë“¤ì„ ë‹¤ìš´ë¡œë“œ í•˜ê²Œ ë˜ì—ˆëŠ”ë°, ì´ëŠ” ë„ì»¤ íŒŒì¼ ì‘ì„±ì‹œ ê¸°ë³¸ì´ ë˜ëŠ” ì´ë¯¸ì§€ë¥¼ FROMìœ¼ë¡œ ëª…ì‹œí–ˆê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ì´ë¯¸ì§€ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë‹¤ìš´ë¡œë“œ í•˜ê²Œ ëœë‹¤.\në„ì»¤ê°€ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•œ í›„ì—ëŠ” Dockerfileì—ì„œ ì§€ì‹œí•œëŒ€ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë³µì‚¬í•˜ê³  yarnì„ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¢…ì†ì„±ì„ ì„¤ì¹˜í•œë‹¤. CMDë¡œ ì´ë¯¸ì§€ì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì‹œì‘í•  ë•Œ ì‹¤í–‰í•  ê¸°ë³¸ ëª…ë ¹ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\nëª…ë ¹ì— ì‚¬ìš©ëœ -t ì˜µì…˜ì„ ëª…ì‹œí•˜ë©´ ì´ë¯¸ì§€ì— íƒœê·¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©°, ì…ë ¥ëœ getting-startedë¡œ ì´ë¦„ì„ ì§€ì •í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•  ë•Œ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nëª…ë ¹ì˜ ë§ˆì§€ë§‰ì— ìˆëŠ” .ëŠ” ë„ì»¤ê°€ í˜„ì¬ ë””ë ‰í† ë¦¬ì—ì„œ Dockerfileì„ ì°¾ì•„ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì•Œë¦°ë‹¤.\nStart an app container ì´ë¯¸ì§€ê°€ ìˆë‹¤ë©´ docker runëª…ë ¹ì„ í†µí•´ ì»¨í…Œì´ë„ˆì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\n1 2 3 docker run -dp 3000:3000 getting-started 2b5285b3ebfa65b51a44116c620e56b96b787874c71b25c8643b6a9ee137cb49 -d: ìƒˆ ì»¨í…Œì´ë„ˆë¥¼ ë°±ê·¸ë¼ìš´ë“œ ëª¨ë“œë¡œ ì‹¤í–‰í•œë‹¤. -p í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸ì™€ ì»¨í…Œì´ë„ˆì˜ í¬íŠ¸ê°„ ë§¤í•‘ì„ ìƒì„±í•œë‹¤. í¬íŠ¸ ë§¤í•‘ì´ ì—†ë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤. ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ë˜ì—ˆë‹¤ë©´ http://localhost:3000 ë§í¬ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.\nì»¨í…Œì´ë„ˆë¥¼ ê°„ë‹¨íˆ í™•ì¸í•´ ë³´ë©´, getting-started ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©° í¬íŠ¸ 3000ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆê°€ ì ì–´ë„ í•˜ë‚˜ ìˆì–´ì•¼ í•˜ê³ , ì»¨í…Œì´ë„ˆë¥¼ í™•ì¸í•˜ë ¤ë©´ CLI ë˜ëŠ” Docker Desktopì˜ ê·¸ë˜í”½ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 2b5285b3ebfa getting-started \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 3 minutes ago Up 3 minutes 0.0.0.0:3000-\u0026gt;3000/tcp youthful_yonath ","date":"2023-04-21T16:08:25+09:00","image":"https://codemario318.github.io/post/docker/1/docker_cover_hue12353db563619e41ee3a11307d3cf25_62602_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/docker/1/","title":"1. Containerize an application"},{"content":"ë…¸ë“œ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆë¥¼ íŒŒë“œë‚´ì— ë°°ì¹˜í•˜ê³  ë…¸ë“œì—ì„œ ì‹¤í–‰í•¨ìœ¼ë¡œ ì›Œí¬ë¡œë“œë¥¼ êµ¬ë™í•œë‹¤. ë…¸ë“œëŠ” í´ëŸ¬ìŠ¤í„°ì— ë”°ë¼ ê°€ìƒ ë˜ëŠ” ë¬¼ë¦¬ì  ë¨¸ì‹ ì¼ ìˆ˜ ìˆë‹¤. ê° ë…¸ë“œëŠ” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì— ì˜í•´ ê´€ë¦¬ë˜ë©° íŒŒë“œë¥¼ ì‹¤í–‰í•˜ëŠ”ë° í•„ìš”í•œ ì„œë¹„ìŠ¤ë¥¼ í¬í•¨í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ì—ëŠ” ì—¬ëŸ¬ê°œì˜ ë…¸ë“œê°€ ìˆìœ¼ë©°, í•™ìŠµ ë˜ëŠ” ë¦¬ì†ŒìŠ¤ê°€ ì œí•œë˜ëŠ” í™˜ê²½ì—ì„œëŠ” í•˜ë‚˜ë§Œ ìˆì„ ìˆ˜ë„ ìˆë‹¤.\në…¸ë“œì˜ ì»´í¬ë„ŒíŠ¸ì—ëŠ” kubelet, ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ê·¸ë¦¬ê³  kube-proxyê°€ í¬í•¨ëœë‹¤.\nê´€ë¦¬ API ì„œë²„ì— ë…¸ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ë‘ê°€ì§€ ì£¼ìš” ë°©ë²•ì´ ìˆë‹¤.\në…¸ë“œì˜ kubeletìœ¼ë¡œ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì— ìì²´ ë“±ë¡ ì‚¬ìš©ì(ë˜ëŠ” ë‹¤ë¥¸ ì‚¬ìš©ì)ê°€ ë…¸ë“œ ì˜¤ë¸Œì íŠ¸ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì¶”ê°€ ë…¸ë“œ ì˜¤ë¸Œì íŠ¸ ë˜ëŠ” ë…¸ë“œì˜ kubeltìœ¼ë¡œ ìì²´ ë“±ë¡í•œ í›„ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ìƒˆ ë…¸ë“œ ì˜¤ë¸Œì íŠ¸ê°€ ìœ íš¨í•œì§€ í™•ì¸í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 { \u0026#34;kind\u0026#34;: \u0026#34;Node\u0026#34;, \u0026#34;apiVersion\u0026#34;: \u0026#34;v1\u0026#34;, \u0026#34;metadata\u0026#34;: { \u0026#34;name\u0026#34;: \u0026#34;10.240.79.157\u0026#34;, \u0026#34;labels\u0026#34;: { \u0026#34;name\u0026#34;: \u0026#34;my-first-k8s-node\u0026#34; } } } ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë…¸ë“œ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±(í‘œì‹œ)í•œë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” kubeletì´ ë…¸ë“œì˜ metadata,nameí•„ë“œì™€ ì¼ì¹˜í•˜ëŠ” API ì„œë²„ì— ë“±ë¡ì´ ë˜ì–´ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ë…¸ë“œê°€ ì •ìƒì´ë©´(í•„ìš”í•œ ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ì¤‘ì¸ ê²½ìš°) íŒŒë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, í•´ë‹¹ ë…¸ë“œëŠ” ì •ìƒì´ ë ë•Œê¹Œì§€ ëª¨ë“  í´ëŸ¬ìŠ¤í„° í™œë™ì— ëŒ€í•´ ë¬´ì‹œëœë‹¤.\nğŸ’¡ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ìœ íš¨í•˜ì§€ ì•Šì€ ë…¸ë“œ ì˜¤ë¸Œì íŠ¸ë¥¼ ìœ ì§€í•˜ê³ , ë…¸ë“œê°€ ì •ìƒì ì¸ì§€ í™•ì¸í•œë‹¤. ìƒíƒœ í™•ì¸ì„ ì¤‘ì§€í•˜ë ¤ë©´ ì‚¬ìš©ì ë˜ëŠ”Â ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë…¸ë“œ ì˜¤ë¸Œì íŠ¸ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì‚­ì œí•´ì•¼ í•œë‹¤.\në…¸ë“œ ì˜¤ë¸Œì íŠ¸ì˜ ì´ë¦„ì€ ìœ íš¨í•œ DNS ì„œë¸Œ ë„ë©”ì¸ ì´ë¦„ì´ì–´ì•¼ í•œë‹¤.\në…¸ë“œ ì´ë¦„ ê³ ìœ ì„± ì´ë¦„ì€ ë…¸ë“œë¥¼ ì‹ë³„í•œë‹¤. ë‘ ë…¸ë“œëŠ” ë™ì‹œì— ê°™ì€ ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë˜í•œ ê°™ì€ ì´ë¦„ì˜ ë¦¬ì†ŒìŠ¤ê°€ ë™ì¼í•œ ê°ì²´ë¼ê³  ê°€ì •í•œë‹¤. ë…¸ë“œì˜ ê²½ìš°, ë™ì¼í•œ ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ê°€ ë™ì¼í•œ ìƒíƒœì™€ ë…¸ë“œ ë ˆì´ë¸”ê³¼ ê°™ì€ ë™ì¼í•œ ì†ì„±ì„ ê°–ëŠ”ë‹¤ê³  ì•”ì‹œì ìœ¼ë¡œ ê°€ì •í•œë‹¤. ì¸ìŠ¤í„´ìŠ¤ê°€ ì´ë¦„ì„ ë³€ê²½í•˜ì§€ ì•Šê³  ìˆ˜ì •ëœ ê²½ìš° ì´ë¡œ ì¸í•´ ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë…¸ë“œë¥¼ ëŒ€í­ êµì²´í•˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ í•´ì•¼ í•˜ëŠ” ê²½ìš°, ê¸°ì¡´ ë…¸ë“œ ì˜¤ë¸Œì íŠ¸ë¥¼ ë¨¼ì € API ì„œë²„ì—ì„œ ì œê±°í•˜ê³  ì—…ë°ì´íŠ¸ í›„ ë‹¤ì‹œ ì¶”ê°€í•´ì•¼ í•œë‹¤.\në…¸ë“œ ìƒíƒœ kubectlì„ ì‚¬ìš©í•´ì„œ ë…¸ë“œ ìƒíƒœì™€ ê¸°íƒ€ ì„¸ë¶€ ì •ë³´ë¥¼ ë³¼ìˆ˜ ìˆë‹¤.\n1 kubectl describe node \u0026lt;insert-node-name-here\u0026gt; ì£¼ì†Œ ì£¼ì†Œ í•„ë“œëŠ” í´ë¼ìš°ë“œ ì œê³µ ì‚¬ì—…ì ë˜ëŠ” ë² ì–´ë©”íƒˆ êµ¬ì„±ì— ë”°ë¼ ë‹¤ì–‘í•˜ê²Œ ì‚¬ìš©ëœë‹¤.\nHostName: ë…¸ë“œì˜ ì»¤ë„ì— ì˜í•´ ì•Œë ¤ì§„ í˜¸ìŠ¤íŠ¸ëª…ì´ë‹¤.Â -hostname-overrideÂ íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì¹˜í™˜ë  ìˆ˜ ìˆë‹¤. ExternalIP: ì¼ë°˜ì ìœ¼ë¡œ ë…¸ë“œì˜ IP ì£¼ì†ŒëŠ” ì™¸ë¶€ë¡œ ë¼ìš°íŠ¸ ê°€ëŠ¥ (í´ëŸ¬ìŠ¤í„° ì™¸ë¶€ì—ì„œ ì´ìš© ê°€ëŠ¥) í•˜ë‹¤ . InternalIP: ì¼ë°˜ì ìœ¼ë¡œ ë…¸ë“œì˜ IP ì£¼ì†ŒëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œë§Œ ë¼ìš°íŠ¸ ê°€ëŠ¥í•˜ë‹¤. ì»¨ë””ì…˜ conditionsí•„ë“œëŠ” ëª¨ë“  Running ë…¸ë“œì˜ ìƒíƒœë¥¼ ê¸°ìˆ í•œë‹¤.\në…¸ë“œ ì»¨ë””ì…˜ ì„¤ëª… Ready ë…¸ë“œê°€ ìƒíƒœ ì–‘í˜¸í•˜ë©° íŒŒë“œë¥¼ ìˆ˜ìš©í•  ì¤€ë¹„ê°€ ë˜ì–´ ìˆëŠ” ê²½ìš°Â True, ë…¸ë“œì˜ ìƒíƒœê°€ ë¶ˆëŸ‰í•˜ì—¬ íŒŒë“œë¥¼ ìˆ˜ìš©í•˜ì§€ ëª»í•  ê²½ìš°Â False, ê·¸ë¦¬ê³  ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë§ˆì§€ë§‰Â node-monitor-grace-periodÂ (ê¸°ë³¸ê°’ 40 ê¸°ê°„ ë™ì•ˆ ë…¸ë“œë¡œë¶€í„° ì‘ë‹µì„ ë°›ì§€ ëª»í•œ ê²½ìš°)Â Unknown DiskPressure ë””ìŠ¤í¬ ì‚¬ì´ì¦ˆ ìƒì— ì••ë°•ì´ ìˆëŠ” ê²½ìš°, ì¦‰ ë””ìŠ¤í¬ ìš©ëŸ‰ì´ ë„‰ë„‰ì¹˜ ì•Šì€ ê²½ìš°Â True, ë°˜ëŒ€ì˜ ê²½ìš°Â False MemoryPressure ë…¸ë“œ ë©”ëª¨ë¦¬ ìƒì— ì••ë°•ì´ ìˆëŠ” ê²½ìš°, ì¦‰ ë…¸ë“œ ë©”ëª¨ë¦¬ê°€ ë„‰ë„‰ì¹˜ ì•Šì€ ê²½ìš°Â True, ë°˜ëŒ€ì˜ ê²½ìš°Â False PIDPressure í”„ë¡œì„¸ìŠ¤ ìƒì— ì••ë°•ì´ ìˆëŠ” ê²½ìš°, ì¦‰ ë…¸ë“œ ìƒì— ë§ì€ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš°Â True, ë°˜ëŒ€ì˜ ê²½ìš°Â False NetworkUnavailable ë…¸ë“œì— ëŒ€í•´ ë„¤íŠ¸ì›Œí¬ê°€ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë˜ì§€ ì•Šì€ ê²½ìš°Â True, ë°˜ëŒ€ì˜ ê²½ìš°Â False ìš©ëŸ‰ê³¼ í• ë‹¹ê°€ëŠ¥ ë…¸ë“œ ìƒì— ì‚¬ìš© ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.\nCPU ë©”ëª¨ë¦¬ ìŠ¤ì¼€ì¤„ ë˜ì–´ì§ˆ ìˆ˜ ìˆëŠ” ìµœëŒ€ íŒŒë“œ ìˆ˜ ë“± ìš©ëŸ‰ ë¸”ë¡ í•„ë“œëŠ” ë…¸ë“œì— ìˆëŠ” ë¦¬ì†ŒìŠ¤ì˜ ì´ëŸ‰ì„ ë‚˜íƒ€ë‚¸ë‹¤. í• ë‹¹ê°€ëŠ¥ ë¸”ë¡ì€ ì¼ë°˜ íŒŒë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë…¸ë“œì˜ ë¦¬ì†ŒìŠ¤ ì–‘ì„ ë‚˜íƒ€ë‚¸ë‹¤.\nì •ë³´ ë…¸ë“œì— ëŒ€í•œ ì¼ë°˜ì ì€ ì •ë³´ê°€ ê¸°ìˆ ëœë‹¤. kubeletì´ ë…¸ë“œì—ì„œ ìˆ˜ì§‘í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ API ë¡œ ì „ì†¡í•œë‹¤.\nì»¤ë„ ë²„ì „ ì¿ ë²„ë„¤í‹°ìŠ¤ ë²„ì „ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ìƒì„¸ ì •ë³´ ë“± í•˜íŠ¸ë¹„íŠ¸ ì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œê°€ ë³´ë‚´ëŠ” í•˜íŠ¸ë¹„ëŠëŠ ã„´í´ëŸ¬ìŠ¤í„°ê°€ ê°œë³„ ë…¸ë“œê°€ ê°€ìš©í•œì§€ë¥¼ íŒë‹¨í•  ìˆ˜ ìˆë„ë¡ ë„ì›€ì„ ì£¼ê³ , ì¥ì• ê°€ ë°œê²¬ëœ ê²½ìš° ì¡°ì¹˜ë¥¼ í•  ìˆ˜ ìˆê²Œ í•œë‹¤.\në…¸ë“œì˜ .status ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ kube=-node-lease ë„¤ì„ ìŠ¤í˜ì´ìŠ¤ ë‚´ì˜ Leaseì˜¤ë¸Œì íŠ¸ ë…¸ë“œì˜Â .statusì— ë¹„í•˜ë©´, ë¦¬ìŠ¤ëŠ” ê²½ëŸ‰ì˜ ë¦¬ì†ŒìŠ¤ì´ë‹¤. í° ê·œëª¨ì˜ í´ëŸ¬ìŠ¤í„°ì—ì„œëŠ” ë¦¬ìŠ¤ë¥¼ í•˜íŠ¸ë¹„íŠ¸ì— ì‚¬ìš©í•˜ì—¬ ì—…ë°ì´íŠ¸ë¡œ ì¸í•œ ì„±ëŠ¥ ì˜í–¥ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\nkubeletì€ ë…¸ë“œì˜Â .statusÂ ìƒì„±ê³¼ ì—…ë°ì´íŠ¸ ë° ê´€ë ¨ëœ ë¦¬ìŠ¤ì˜ ì—…ë°ì´íŠ¸ë¥¼ ë‹´ë‹¹í•œë‹¤.\nkubeletì€ ìƒíƒœê°€ ë³€ê²½ë˜ê±°ë‚˜ ì„¤ì •ëœ ì¸í„°ë²Œë³´ë‹¤ ì˜¤ë˜ ì—…ë°ì´íŠ¸ê°€ ì—†ëŠ” ê²½ìš° ë…¸ë“œì˜Â .statusë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤. ë…¸ë“œì˜Â .statusÂ ì—…ë°ì´íŠ¸ì— ëŒ€í•œ ê¸°ë³¸ ì¸í„°ë²Œì€ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•œ ë…¸ë“œì— ëŒ€í•œ íƒ€ì„ì•„ì›ƒì¸ 40ì´ˆ ë³´ë‹¤ í›¨ì”¬ ê¸´ 5ë¶„ì´ë‹¤. kubeletì€ ë¦¬ìŠ¤ ì˜¤ë¸Œì íŠ¸ë¥¼ (ê¸°ë³¸ ì—…ë°ì´íŠ¸ ì¸í„°ë²Œì¸) ë§¤ 10ì´ˆë§ˆë‹¤ ìƒì„±í•˜ê³  ì—…ë°ì´íŠ¸í•œë‹¤. ë¦¬ìŠ¤ ì—…ë°ì´íŠ¸ëŠ” ë…¸ë“œì˜Â .statusÂ ì—…ë°ì´íŠ¸ì™€ëŠ” ë…ë¦½ì ì´ë‹¤. ë§Œì•½ ë¦¬ìŠ¤ ì—…ë°ì´íŠ¸ê°€ ì‹¤íŒ¨í•˜ë©´, kubeletì€ 200ë°€ë¦¬ì´ˆì—ì„œ ì‹œì‘í•˜ê³  7ì´ˆì˜ ìƒí•œì„ ê°–ëŠ” ì§€ìˆ˜ì  ë°±ì˜¤í”„ë¥¼ ì‚¬ìš©í•´ì„œ ì¬ì‹œë„í•œë‹¤. ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ ë…¸ë“œÂ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë…¸ë“œì˜ ë‹¤ì–‘í•œ ì¸¡ë©´ì„ ê´€ë¦¬í•˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\në…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë…¸ë“œê°€ ìƒì„±ë˜ì–´ ìœ ì§€ë˜ëŠ” ë™ì•ˆ ë‹¤ì–‘í•œ ì—­í• ì„ í•œë‹¤.\në“±ë¡ ì‹œì ì— (CIDR í• ë‹¹ì´ ì‚¬ìš©í† ë¡ ì„¤ì •ëœ ê²½ìš°) ë…¸ë“œì— CIDR ë¸”ëŸ­ì„ í• ë‹¹í•˜ëŠ” ê²ƒì´ë‹¤.\në…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë‚´ë¶€ ë…¸ë“œ ë¦¬ìŠ¤íŠ¸ë¥¼ í´ë¼ìš°ë“œ ì œê³µì‚¬ì—…ìì˜ ì‚¬ìš© ê°€ëŠ¥í•œ ë¨¸ì‹  ë¦¬ìŠ¤íŠ¸ ì •ë³´ë¥¼ ê·¼ê±°ë¡œ ìµœì‹ ìƒíƒœë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ë‹¤.\ní´ë¼ìš°ë“œ í™˜ê²½ì—ì„œ ë™ì‘ ì¤‘ì¼ ê²½ìš°, ë…¸ë“œìƒíƒœê°€ ë¶ˆëŸ‰í•  ë•Œë§ˆë‹¤, ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” í•´ë‹¹ ë…¸ë“œìš© VMì´ ì—¬ì „íˆ ì‚¬ìš© ê°€ëŠ¥í•œì§€ì— ëŒ€í•´ í´ë¼ìš°ë“œ ì œê³µì‚¬ì—…ìì—ê²Œ ë¬»ëŠ”ë‹¤. ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ ì•Šì„ ê²½ìš°, ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë…¸ë“œ ë¦¬ìŠ¤íŠ¸ë¡œë¶€í„° ê·¸ ë…¸ë“œë¥¼ ì‚­ì œí•œë‹¤. ë…¸ë“œì˜ ë™ì‘ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì´ë‹¤. ë…¸ë“œê°€ ì ‘ê·¼ ë¶ˆê°€ëŠ¥(unreachable) ìƒíƒœê°€ ë˜ëŠ” ê²½ìš°, ë…¸ë“œì˜Â .statusÂ í•„ë“œì˜Â ReadyÂ ì»¨ë””ì…˜ì„ ì—…ë°ì´íŠ¸í•œë‹¤. ì´ ê²½ìš°ì—ëŠ” ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ê°€Â ReadyÂ ì»¨ë””ì…˜ì„Â Unknownìœ¼ë¡œ ì„¤ì •í•œë‹¤. ë…¸ë“œê°€ ê³„ì† ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœë¡œ ë‚¨ì•„ìˆëŠ” ê²½ìš°, í•´ë‹¹ ë…¸ë“œì˜ ëª¨ë“  íŒŒë“œì— ëŒ€í•´ì„œÂ APIë¥¼ ì´ìš©í•œ ì¶•ì¶œì„ íŠ¸ë¦¬ê±°í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ, ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë…¸ë“œë¥¼Â Unknownìœ¼ë¡œ ë§ˆí‚¹í•œ ë’¤ 5ë¶„ì„ ê¸°ë‹¤ë ¸ë‹¤ê°€ ìµœì´ˆì˜ ì¶•ì¶œ ìš”ì²­ì„ ì‹œì‘í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ, ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” 5 ì´ˆë§ˆë‹¤ ê° ë…¸ë“œì˜ ìƒíƒœë¥¼ ì²´í¬í•œë‹¤. ì²´í¬ ì£¼ê¸°ëŠ”Â kube-controller-managerÂ êµ¬ì„± ìš”ì†Œì˜Â --node-monitor-periodÂ í”Œë˜ê·¸ë¥¼ ì´ìš©í•˜ì—¬ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\nì¶•ì¶œ ë¹ˆë„ ì œí•œ ëŒ€ë¶€ë¶„ì˜ ê²½ìš°, ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì´ˆë‹¹Â --node-eviction-rate(ê¸°ë³¸ê°’ 0.1)ë¡œ ì¶•ì¶œ ì†ë„ë¥¼ ì œí•œí•œë‹¤. ì´ ë§ì€ 10ì´ˆë‹¹ 1ê°œì˜ ë…¸ë“œë¥¼ ì´ˆê³¼í•˜ì—¬ íŒŒë“œ ì¶•ì¶œì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜ë¯¸ê°€ ëœë‹¤.\në…¸ë“œ ì¶•ì¶œ í–‰ìœ„ëŠ” ì£¼ì–´ì§„ ê°€ìš©ì„± ì˜ì—­ ë‚´ í•˜ë‚˜ì˜ ë…¸ë“œê°€ ìƒíƒœê°€ ë¶ˆëŸ‰í•  ê²½ìš° ë³€í™”í•œë‹¤. ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì˜ì—­ ë‚´ ë™ì‹œì— ìƒíƒœê°€ ë¶ˆëŸ‰í•œ ë…¸ë“œì˜ í¼ì„¼í‹°ì§€ê°€ ì–¼ë§ˆë‚˜ ë˜ëŠ”ì§€ ì²´í¬í•œë‹¤(ReadyÂ ì»¨ë””ì…˜ì€Â UnknownÂ ë˜ëŠ”Â FalseÂ ê°’ì„ ê°€ì§„ë‹¤).\nìƒíƒœê°€ ë¶ˆëŸ‰í•œ ë…¸ë“œì˜ ë¹„ìœ¨ì´ ìµœì†ŒÂ -unhealthy-zone-thresholdÂ (ê¸°ë³¸ê°’ 0.55)ê°€ ë˜ë©´ ì¶•ì¶œ ì†ë„ê°€ ê°ì†Œí•œë‹¤. í´ëŸ¬ìŠ¤í„°ê°€ ì‘ìœ¼ë©´ (ì¦‰Â -large-cluster-size-thresholdÂ ë…¸ë“œ ì´í•˜ë©´ - ê¸°ë³¸ê°’ 50) ì¶•ì¶œì´ ì¤‘ì§€ëœë‹¤. ì´ì™¸ì˜ ê²½ìš°, ì¶•ì¶œ ì†ë„ëŠ” ì´ˆë‹¹Â -secondary-node-eviction-rate(ê¸°ë³¸ê°’ 0.01)ë¡œ ê°ì†Œëœë‹¤. ì´ ì •ì±…ë“¤ì´ ê°€ìš©ì„± ì˜ì—­ ë‹¨ìœ„ë¡œ ì‹¤í–‰ë˜ì–´ì§€ëŠ” ì´ìœ ëŠ” ë‚˜ë¨¸ì§€ê°€ ì—°ê²°ë˜ì–´ ìˆëŠ” ë™ì•ˆ í•˜ë‚˜ì˜ ê°€ìš©ì„± ì˜ì—­ì´ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ìœ¼ë¡œë¶€í„° ë¶„í• ë˜ì–´ ì§ˆ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ë§Œì•½ í´ëŸ¬ìŠ¤í„°ê°€ ì—¬ëŸ¬ í´ë¼ìš°ë“œ ì œê³µì‚¬ì—…ìì˜ ê°€ìš©ì„± ì˜ì—­ì— ê±¸ì³ ìˆì§€ ì•ŠëŠ” ì´ìƒ, ì¶•ì¶œ ë§¤ì»¤ë‹ˆì¦˜ì€ ì˜ì—­ ë³„ ê°€ìš©ì„±ì„ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤.\në…¸ë“œê°€ ê°€ìš©ì„± ì˜ì—­ë“¤ì— ê±¸ì³ í¼ì ¸ ìˆëŠ” ì£¼ëœ ì´ìœ ëŠ” í•˜ë‚˜ì˜ ì „ì²´ ì˜ì—­ì´ ì¥ì• ê°€ ë°œìƒí•  ê²½ìš° ì›Œí¬ë¡œë“œê°€ ìƒíƒœ ì–‘í˜¸í•œ ì˜ì—­ìœ¼ë¡œ ì´ì „ë  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ, í•˜ë‚˜ì˜ ì˜ì—­ ë‚´ ëª¨ë“  ë…¸ë“œë“¤ì´ ìƒíƒœê°€ ë¶ˆëŸ‰í•˜ë©´ ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ”Â --node-eviction-rateÂ ì˜ ì •ìƒ ì†ë„ë¡œ ì¶•ì¶œí•œë‹¤.\nëª¨ë“  ì˜ì—­ì´ ì™„ì „íˆ ìƒíƒœë¶ˆëŸ‰(í´ëŸ¬ìŠ¤í„° ë‚´ ì–‘í˜¸í•œ ë…¸ë“œê°€ ì—†ëŠ” ê²½ìš°)í•œ ê²½ìš°ì´ë‹¤. ì´ëŸ¬í•œ ê²½ìš°, ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ê³¼ ë…¸ë“œ ê°„ ì—°ê²°ì— ë¬¸ì œê°€ ìˆëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì¶•ì¶œì„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. (ì¤‘ë‹¨ ì´í›„ ì¼ë¶€ ë…¸ë“œê°€ ë‹¤ì‹œ ë³´ì´ëŠ” ê²½ìš° ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ìƒíƒœê°€ ì–‘í˜¸í•˜ì§€ ì•Šê±°ë‚˜ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•œ ë‚˜ë¨¸ì§€ ë…¸ë“œì—ì„œ íŒŒë“œë¥¼ ì¶•ì¶œí•œë‹¤.)\në˜í•œ, ë…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” íŒŒë“œê°€ í…Œì¸íŠ¸ë¥¼ í—ˆìš©í•˜ì§€ ì•Šì„ ë•ŒÂ NoExecuteÂ í…Œì¸íŠ¸ ìƒíƒœì˜ ë…¸ë“œì—ì„œ ë™ì‘í•˜ëŠ” íŒŒë“œì— ëŒ€í•œ ì¶•ì¶œ ì±…ì„ì„ ê°€ì§€ê³  ìˆë‹¤. ì¶”ê°€ë¡œ, ë…¸ë“œ ì»¨í‹€ë¡œëŸ¬ëŠ” ì—°ê²°í•  ìˆ˜ ì—†ê±°ë‚˜, ì¤€ë¹„ë˜ì§€ ì•Šì€ ë…¸ë“œì™€ ê°™ì€ ë…¸ë“œ ë¬¸ì œì— ìƒì‘í•˜ëŠ”Â í…Œì¸íŠ¸ë¥¼ ì¶”ê°€í•œë‹¤. ì´ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ë¹„ì •ìƒì ì¸ ë…¸ë“œì— íŒŒë“œë¥¼ ë°°ì¹˜í•˜ì§€ ì•Šê²Œ ëœë‹¤.\në¦¬ì†ŒìŠ¤ ìš©ëŸ‰ ì¶”ì  ë…¸ë“œ ì˜¤ë¸Œì íŠ¸ëŠ” ë…¸ë“œ ë¦¬ì†ŒìŠ¤ ìš©ëŸ‰ì— ëŒ€í•œ ì •ë³´: ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ì˜ ì–‘ê³¼ CPUì˜ ìˆ˜ë¥¼ ì¶”ì í•œë‹¤. ë…¸ë“œì˜Â ìì²´ ë“±ë¡ì€ ë“±ë¡í•˜ëŠ” ì¤‘ì— ìš©ëŸ‰ì„ ë³´ê³ í•œë‹¤.Â ìˆ˜ë™ìœ¼ë¡œ ë…¸ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ê²½ìš° ì¶”ê°€í•  ë•Œ ë…¸ë“œì˜ ìš©ëŸ‰ ì •ë³´ë¥¼ ì„¤ì •í•´ì•¼ í•œë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤Â ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ë…¸ë“œ ìƒì— ëª¨ë“  ë…¸ë“œì— ëŒ€í•´ ì¶©ë¶„í•œ ë¦¬ì†ŒìŠ¤ê°€ ì¡´ì¬í•˜ë„ë¡ ë³´ì¥í•œë‹¤. ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ë…¸ë“œ ìƒì— ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ìš”ì²­ì˜ í•©ì´ ë…¸ë“œ ìš©ëŸ‰ë³´ë‹¤ ë” í¬ì§€ ì•Šë„ë¡ ì²´í¬í•œë‹¤. ìš”ì²­ì˜ í•©ì€ kubeletì—ì„œ ê´€ë¦¬í•˜ëŠ” ëª¨ë“  ì»¨í…Œì´ë„ˆë¥¼ í¬í•¨í•˜ì§€ë§Œ, ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì— ì˜í•´ ì§ì ‘ì ìœ¼ë¡œ ì‹œì‘ëœ ì»¨ í…Œì´ë„ˆëŠ” ì œì™¸ë˜ê³  kubeletì˜ ì»¨íŠ¸ë¡¤ ë²”ìœ„ ë°–ì—ì„œ ì‹¤í–‰ë˜ëŠ” ëª¨ë“  í”„ë¡œì„¸ìŠ¤ë„ ì œì™¸ëœë‹¤.\nì°¸ê³ :Â íŒŒë“œ í˜•íƒœê°€ ì•„ë‹Œ í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•´ ëª…ì‹œì ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ í™•ë³´í•˜ë ¤ë©´,Â ì‹œìŠ¤í…œ ë°ëª¬ì— ì‚¬ìš©í•  ë¦¬ì†ŒìŠ¤ ì˜ˆì•½í•˜ê¸°ì„ ë³¸ë‹¤.\në…¸ë“œ í† í´ë¡œì§€ ê¸°ëŠ¥ ìƒíƒœ:Â Kubernetes v1.18 [beta]\nTopologyManagerÂ ê¸°ëŠ¥ ê²Œì´íŠ¸(feature gate)ë¥¼ í™œì„±í™” ì‹œì¼œë‘ë©´, kubeletì´ ë¦¬ì†ŒìŠ¤ í• ë‹¹ ê²°ì •ì„ í•  ë•Œ í† í´ë¡œì§€ íŒíŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€Â ë…¸ë“œì˜ ì»¨íŠ¸ë¡¤ í† í´ë¡œì§€ ê´€ë¦¬ ì •ì±…ì„ ë³¸ë‹¤.\nê·¸ë ˆì´ìŠ¤í’€(Graceful) ë…¸ë“œ ì…§ë‹¤ìš´(shutdown) ê¸°ëŠ¥ ìƒíƒœ:Â Kubernetes v1.21 [beta]\nkubeletì€ ë…¸ë“œ ì‹œìŠ¤í…œ ì…§ë‹¤ìš´ì„ ê°ì§€í•˜ê³  ë…¸ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ íŒŒë“œë¥¼ ì¢…ë£Œí•˜ë ¤ê³  ì‹œë„í•œë‹¤.\nKubeletì€ ë…¸ë“œê°€ ì¢…ë£Œë˜ëŠ” ë™ì•ˆ íŒŒë“œê°€ ì¼ë°˜Â íŒŒë“œ ì¢…ë£Œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë”°ë¥´ë„ë¡ í•œë‹¤.\nê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê¸°ëŠ¥ì€Â systemd inhibitor locksë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ì–´ì§„ ê¸°ê°„ ë™ì•ˆ ë…¸ë“œ ì¢…ë£Œë¥¼ ì§€ì—°ì‹œí‚¤ë¯€ë¡œ systemdì— ì˜ì¡´í•œë‹¤.\nê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ì€ 1.21ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ëœÂ GracefulNodeShutdownÂ ê¸°ëŠ¥ ê²Œì´íŠ¸ë¡œ ì œì–´ëœë‹¤.\nê¸°ë³¸ì ìœ¼ë¡œ, ì•„ë˜ ì„¤ëª…ëœ ë‘ êµ¬ì„± ì˜µì…˜,Â shutdownGracePeriodÂ ë°Â shutdownGracePeriodCriticalPodsÂ ëŠ” ëª¨ë‘ 0ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì§€ ì•ŠëŠ”ë‹¤. ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ë ¤ë©´, ë‘ ê°œì˜ kubelet êµ¬ì„± ì„¤ì •ì„ ì ì ˆí•˜ê²Œ êµ¬ì„±í•˜ê³  0ì´ ì•„ë‹Œ ê°’ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.\nê·¸ë ˆì´ìŠ¤í’€ ì…§ë‹¤ìš´ ì¤‘ì— kubeletì€ ë‹¤ìŒì˜ ë‘ ë‹¨ê³„ë¡œ íŒŒë“œë¥¼ ì¢…ë£Œí•œë‹¤.\në…¸ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì¼ë°˜ íŒŒë“œë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤. ë…¸ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì¸Â ì¤‘ìš”(critical) íŒŒë“œë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤. ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê¸°ëŠ¥ì€ ë‘ ê°œì˜Â [KubeletConfiguration](https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/)Â ì˜µì…˜ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.\nshutdownGracePeriod: ë…¸ë“œê°€ ì¢…ë£Œë¥¼ ì§€ì—°í•´ì•¼ í•˜ëŠ” ì´ ê¸°ê°„ì„ ì§€ì •í•œë‹¤. ì´ê²ƒì€ ëª¨ë“  ì¼ë°˜ ë°Â ì¤‘ìš” íŒŒë“œì˜ íŒŒë“œ ì¢…ë£Œì— í•„ìš”í•œ ì´ ìœ ì˜ˆ ê¸°ê°„ì— í•´ë‹¹í•œë‹¤. shutdownGracePeriodCriticalPods: ë…¸ë“œ ì¢…ë£Œ ì¤‘ì—Â ì¤‘ìš” íŒŒë“œë¥¼ ì¢…ë£Œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ê¸°ê°„ì„ ì§€ì •í•œë‹¤. ì´ ê°’ì€Â shutdownGracePeriodÂ ë³´ë‹¤ ì‘ì•„ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´,Â shutdownGracePeriod=30s,Â shutdownGracePeriodCriticalPods=10sÂ ì¸ ê²½ìš°, kubeletì€ ë…¸ë“œ ì¢…ë£Œë¥¼ 30ì´ˆê¹Œì§€ ì§€ì—°ì‹œí‚¨ë‹¤. ì¢…ë£Œí•˜ëŠ” ë™ì•ˆ ì²˜ìŒ 20(30-10)ì´ˆëŠ” ì¼ë°˜ íŒŒë“œì˜ ìœ ì˜ˆ ì¢…ë£Œì— í• ë‹¹ë˜ê³ , ë§ˆì§€ë§‰ 10ì´ˆëŠ”Â ì¤‘ìš” íŒŒë“œì˜ ì¢…ë£Œì— í• ë‹¹ëœë‹¤.\n**ì°¸ê³ : ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê³¼ì •ì—ì„œ ì¶•ì¶œëœ íŒŒë“œëŠ” ì…§ë‹¤ìš´(shutdown)ëœ ê²ƒìœ¼ë¡œ í‘œì‹œëœë‹¤.Â kubectl get podsÂ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì¶•ì¶œëœ íŒŒë“œì˜ ìƒíƒœê°€Â Terminatedìœ¼ë¡œ í‘œì‹œëœë‹¤. ê·¸ë¦¬ê³ Â kubectl describe podÂ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ë…¸ë“œ ì…§ë‹¤ìš´ìœ¼ë¡œ ì¸í•´ íŒŒë“œê°€ ì¶•ì¶œë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.\nReason: Terminated Message: Pod was terminated in response to imminent node shutdown.**\në…¼ ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê¸°ëŠ¥ ìƒíƒœ:Â Kubernetes v1.24 [alpha]\nì „ë‹¬í•œ ëª…ë ¹ì´ kubeletì—ì„œ ì‚¬ìš©í•˜ëŠ” ê¸ˆì§€ ì ê¸ˆ ë©”ì»¤ë‹ˆì¦˜(inhibitor locks mechanism)ì„ íŠ¸ë¦¬ê±°í•˜ì§€ ì•Šê±°ë‚˜, ë˜ëŠ” ì‚¬ìš©ì ì˜¤ë¥˜(ì˜ˆ: ShutdownGracePeriod ë° ShutdownGracePeriodCriticalPodsê°€ ì œëŒ€ë¡œ ì„¤ì •ë˜ì§€ ì•ŠìŒ)ë¡œ ì¸í•´ kubeletì˜ ë…¸ë“œ ì…§ë‹¤ìš´ ê´€ë¦¬ì(Node Shutdown Mananger)ê°€ ë…¸ë“œ ì…§ë‹¤ìš´ ì•¡ì…˜ì„ ê°ì§€í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ìœ„ì˜Â ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´Â ì„¹ì…˜ì„ ì°¸ì¡°í•œë‹¤.\në…¸ë“œê°€ ì…§ë‹¤ìš´ë˜ì—ˆì§€ë§Œ kubeletì˜ ë…¸ë“œ ì…§ë‹¤ìš´ ê´€ë¦¬ìê°€ ì´ë¥¼ ê°ì§€í•˜ì§€ ëª»í•˜ë©´, ìŠ¤í…Œì´íŠ¸í’€ì…‹ì— ì†í•œ íŒŒë“œëŠ” ì…§ë‹¤ìš´ëœ ë…¸ë“œì— \u0026lsquo;ì¢…ë£Œ ì¤‘(terminating)\u0026rsquo; ìƒíƒœë¡œ ê³ ì°©ë˜ì–´ ë‹¤ë¥¸ ë™ì‘ ì¤‘ì¸ ë…¸ë“œë¡œ ì´ì „ë  ìˆ˜ ì—†ë‹¤. ì´ëŠ” ì…§ë‹¤ìš´ëœ ë…¸ë“œì˜ kubeletì´ íŒŒë“œë¥¼ ì§€ìš¸ ìˆ˜ ì—†ì–´ì„œ ê²°êµ­ ìŠ¤í…Œì´íŠ¸í’€ì…‹ì´ ë™ì¼í•œ ì´ë¦„ìœ¼ë¡œ ìƒˆ íŒŒë“œë¥¼ ë§Œë“¤ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ë§Œì•½ íŒŒë“œê°€ ì‚¬ìš©í•˜ë˜ ë³¼ë¥¨ì´ ìˆë‹¤ë©´, ë³¼ë¥¨ì–´íƒœì¹˜ë¨¼íŠ¸(VolumeAttachment)ë„ ê¸°ì¡´ì˜ ì…§ë‹¤ìš´ëœ ë…¸ë“œì—ì„œ ì‚­ì œë˜ì§€ ì•Šì•„ ê²°êµ­ íŒŒë“œê°€ ì‚¬ìš©í•˜ë˜ ë³¼ë¥¨ì´ ë‹¤ë¥¸ ë™ì‘ ì¤‘ì¸ ë…¸ë“œì— ì—°ê²°(attach)ë  ìˆ˜ ì—†ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ, ìŠ¤í…Œì´íŠ¸í’€ì…‹ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤. ê¸°ì¡´ì˜ ì…§ë‹¤ìš´ëœ ë…¸ë“œê°€ ì •ìƒìœ¼ë¡œ ëŒì•„ì˜¤ì§€ ëª»í•˜ë©´, ì´ëŸ¬í•œ íŒŒë“œëŠ” ì…§ë‹¤ìš´ëœ ë…¸ë“œì— \u0026lsquo;ì¢…ë£Œ ì¤‘(terminating)\u0026rsquo; ìƒíƒœë¡œ ì˜ì›íˆ ê³ ì°©ë  ê²ƒì´ë‹¤.\nìœ„ì™€ ê°™ì€ ìƒí™©ì„ ì™„í™”í•˜ê¸° ìœ„í•´, ì‚¬ìš©ìê°€Â node.kubernetes.io/out-of-serviceÂ í…Œì¸íŠ¸ë¥¼Â NoExecuteÂ ë˜ëŠ”Â NoScheduleÂ ê°’ìœ¼ë¡œ ì¶”ê°€í•˜ì—¬ ë…¸ë“œë¥¼ ì„œë¹„ìŠ¤ ë¶ˆê°€(out-of-service) ìƒíƒœë¡œ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.Â kube-controller-managerì—Â NodeOutOfServiceVolumeDetachê¸°ëŠ¥ ê²Œì´íŠ¸Â ê°€ í™œì„±í™”ë˜ì–´ ìˆê³ , ë…¸ë“œê°€ ì´ í…Œì¸íŠ¸ì— ì˜í•´ ì„œë¹„ìŠ¤ ë¶ˆê°€ ìƒíƒœë¡œ í‘œì‹œë˜ì–´ ìˆëŠ” ê²½ìš°, ë…¸ë“œì— ë§¤ì¹˜ë˜ëŠ” í†¨ëŸ¬ë ˆì´ì…˜ì´ ì—†ë‹¤ë©´ ë…¸ë“œ ìƒì˜ íŒŒë“œëŠ” ê°•ì œë¡œ ì‚­ì œë  ê²ƒì´ê³ , ë…¸ë“œ ìƒì—ì„œ ì¢…ë£Œë˜ëŠ” íŒŒë“œì— ëŒ€í•œ ë³¼ë¥¨ í•´ì œ(detach) ì‘ì—…ì€ ì¦‰ì‹œ ìˆ˜í–‰ë  ê²ƒì´ë‹¤. ì´ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ ë¶ˆê°€ ìƒíƒœ ë…¸ë“œì˜ íŒŒë“œê°€ ë¹ ë¥´ê²Œ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ë³µêµ¬ë  ìˆ˜ ìˆë‹¤.\në…¼ ê·¸ë ˆì´ìŠ¤í’€ ì…§ë‹¤ìš´ ê³¼ì • ë™ì•ˆ, íŒŒë“œëŠ” ë‹¤ìŒì˜ ë‘ ë‹¨ê³„ë¡œ ì¢…ë£Œëœë‹¤.\në§¤ì¹˜ë˜ëŠ”Â out-of-serviceÂ í†¨ëŸ¬ë ˆì´ì…˜ì´ ì—†ëŠ” íŒŒë“œë¥¼ ê°•ì œë¡œ ì‚­ì œí•œë‹¤. ì´ëŸ¬í•œ íŒŒë“œì— ëŒ€í•œ ë³¼ë¥¨ í•´ì œ ì‘ì—…ì„ ì¦‰ì‹œ ìˆ˜í–‰í•œë‹¤. ì°¸ê³ : â€¢ node.kubernetes.io/out-of-serviceÂ í…Œì¸íŠ¸ë¥¼ ì¶”ê°€í•˜ê¸° ì „ì—, ë…¸ë“œê°€ ì™„ì „í•œ ì…§ë‹¤ìš´ ë˜ëŠ” ì „ì› êº¼ì§ ìƒíƒœì— ìˆëŠ”ì§€ (ì¬ì‹œì‘ ì¤‘ì¸ ê²ƒì€ ì•„ë‹Œì§€) í™•ì¸í•œë‹¤. â€¢ ì‚¬ìš©ìê°€ ì„œë¹„ìŠ¤ ë¶ˆê°€ ìƒíƒœ í…Œì¸íŠ¸ë¥¼ ì§ì ‘ ì¶”ê°€í•œ ê²ƒì´ê¸° ë•Œë¬¸ì—, íŒŒë“œê°€ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì˜®ê²¨ì¡Œê³  ì…§ë‹¤ìš´ ìƒíƒœì˜€ë˜ ë…¸ë“œê°€ ë³µêµ¬ëœ ê²ƒì„ í™•ì¸í–ˆë‹¤ë©´ ì‚¬ìš©ìê°€ ì„œë¹„ìŠ¤ ë¶ˆê°€ ìƒíƒœ í…Œì¸íŠ¸ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì œê±°í•´ì•¼ í•œë‹¤.\níŒŒë“œ ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê¸°ëŠ¥ ìƒíƒœ:Â Kubernetes v1.23 [alpha]\nê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ì‹œ íŒŒë“œ ì…§ë‹¤ìš´ ìˆœì„œì— ë” ë§ì€ ìœ ì—°ì„±ì„ ì œê³µí•  ìˆ˜ ìˆë„ë¡, í´ëŸ¬ìŠ¤í„°ì— í”„ë¼ì´ì–´ë¦¬í‹°í´ë˜ìŠ¤(PriorityClass) ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê³¼ì •ì—ì„œ íŒŒë“œì˜ í”„ë¼ì´ì–´ë¦¬í‹°í´ë˜ìŠ¤ê°€ ê³ ë ¤ëœë‹¤. ì´ ê¸°ëŠ¥ìœ¼ë¡œ ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ì‹œ íŒŒë“œê°€ ì¢…ë£Œë˜ëŠ” ìˆœì„œë¥¼ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ìê°€Â í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤Â ê¸°ë°˜ìœ¼ë¡œ ëª…ì‹œì ìœ¼ë¡œ ì •í•  ìˆ˜ ìˆë‹¤.\nìœ„ì—ì„œ ê¸°ìˆ ëœ ê²ƒì²˜ëŸ¼,Â ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´Â ê¸°ëŠ¥ì€ íŒŒë“œë¥¼ ì¤‘ìš”í•˜ì§€ ì•Šì€(non-critical) íŒŒë“œì™€ ì¤‘ìš”í•œ(critical) íŒŒë“œ 2ë‹¨ê³„(phase)ë¡œ êµ¬ë¶„í•˜ì—¬ ì¢…ë£Œì‹œí‚¨ë‹¤. ì…§ë‹¤ìš´ ì‹œ íŒŒë“œê°€ ì¢…ë£Œë˜ëŠ” ìˆœì„œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë” ìƒì„¸í•˜ê²Œ ì •í•´ì•¼ í•œë‹¤ë©´, íŒŒë“œ ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê³¼ì •ì—ì„œ íŒŒë“œ ìš°ì„ ìˆœìœ„ê°€ ê³ ë ¤ë˜ê¸° ë•Œë¬¸ì—, ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ì´ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ì¼ì–´ë‚  ìˆ˜ ìˆìœ¼ë©°, ê° ë‹¨ê³„ì—ì„œ íŠ¹ì • í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤ì˜ íŒŒë“œë¥¼ ì¢…ë£Œì‹œí‚¨ë‹¤. ì •í™•í•œ ë‹¨ê³„ì™€ ë‹¨ê³„ë³„ ì…§ë‹¤ìš´ ì‹œê°„ì€ kubeletì— ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\në‹¤ìŒê³¼ ê°™ì´ í´ëŸ¬ìŠ¤í„°ì— ì»¤ìŠ¤í…€ íŒŒë“œÂ í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤ê°€ ìˆë‹¤ê³  ê°€ì •í•˜ì.\níŒŒë“œ í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤ ì´ë¦„ íŒŒë“œ í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤ ê°’ custom-class-a 100000 custom-class-b 10000 custom-class-c 1000 regular/unset 0 kubelet í™˜ê²½ ì„¤ì •Â ì•ˆì˜Â shutdownGracePeriodByPodPriorityÂ ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ì„ ìˆ˜ ìˆë‹¤.\níŒŒë“œ í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤ ê°’ ì¢…ë£Œ ëŒ€ê¸° ì‹œê°„ 100000 10 seconds 10000 180 seconds 1000 120 seconds 0 60 seconds ì´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” kubelet í™˜ê²½ ì„¤ì • YAMLì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\n1 2 3 4 5 6 7 8 9 **shutdownGracePeriodByPodPriority**: - **priority**: 100000 **shutdownGracePeriodSeconds**: 10 - **priority**: 10000 **shutdownGracePeriodSeconds**: 180 - **priority**: 1000 **shutdownGracePeriodSeconds**: 120 - **priority**: 0 **shutdownGracePeriodSeconds**: 60 ìœ„ì˜ í‘œì— ì˜í•˜ë©´Â priorityÂ ê°’ì´ 100000 ì´ìƒì¸ íŒŒë“œëŠ” ì¢…ë£Œê¹Œì§€ 10ì´ˆë§Œ ì£¼ì–´ì§€ë©°, 10000 ì´ìƒ ~ 100000 ë¯¸ë§Œì´ë©´ 180ì´ˆ, 1000 ì´ìƒ ~ 10000 ë¯¸ë§Œì´ë©´ 120ì´ˆê°€ ì£¼ì–´ì§„ë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, ë‹¤ë¥¸ ëª¨ë“  íŒŒë“œëŠ” ì¢…ë£Œê¹Œì§€ 60ì´ˆê°€ ì£¼ì–´ì§ˆ ê²ƒì´ë‹¤.\nëª¨ë“  í´ë˜ìŠ¤ì— ëŒ€í•´ ê°’ì„ ëª…ì‹œí•  í•„ìš”ëŠ” ì—†ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ëŒ€ì‹  ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì„±ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.\níŒŒë“œ í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤ ê°’ ì¢…ë£Œ ëŒ€ê¸° ì‹œê°„ 100000 300 seconds 1000 120 seconds 0 60 seconds ìœ„ì˜ ê²½ìš°,Â custom-class-bì— ì†í•˜ëŠ” íŒŒë“œì™€Â custom-class-cì— ì†í•˜ëŠ” íŒŒë“œëŠ” ë™ì¼í•œ ì¢…ë£Œ ëŒ€ê¸° ì‹œê°„ì„ ê°–ê²Œ ë  ê²ƒì´ë‹¤.\níŠ¹ì • ë²”ìœ„ì— í•´ë‹¹ë˜ëŠ” íŒŒë“œê°€ ì—†ìœ¼ë©´, kubeletì€ í•´ë‹¹ ë²”ìœ„ì— í•´ë‹¹ë˜ëŠ” íŒŒë“œë¥¼ ìœ„í•´ ê¸°ë‹¤ë ¤ ì£¼ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹ , kubeletì€ ì¦‰ì‹œ ë‹¤ìŒ í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤ ê°’ ë²”ìœ„ë¡œ ë„˜ì–´ê°„ë‹¤.\nê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆì§€ë§Œ í™˜ê²½ ì„¤ì •ì´ ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´, ìˆœì„œ ì§€ì • ë™ì‘ì´ ìˆ˜í–‰ë˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.\nì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´Â GracefulNodeShutdownBasedOnPodPriorityÂ ê¸°ëŠ¥ ê²Œì´íŠ¸ë¥¼ í™œì„±í™”í•´ì•¼ í•˜ê³ ,Â kubelet configì˜Â ShutdownGracePeriodByPodPriorityë¥¼ íŒŒë“œ í”„ë¼ì´ì–´ë¦¬í‹° í´ë˜ìŠ¤ ê°’ê³¼ ê° ê°’ì— ëŒ€í•œ ì¢…ë£Œ ëŒ€ê¸° ì‹œê°„ì„ ëª…ì‹œí•˜ì—¬ ì§€ì •í•´ì•¼ í•œë‹¤.\nì°¸ê³ :Â ê·¸ë ˆì´ìŠ¤í’€ ë…¸ë“œ ì…§ë‹¤ìš´ ê³¼ì •ì—ì„œ íŒŒë“œ í”„ë¼ì´ì–´ë¦¬í‹°ë¥¼ ê³ ë ¤í•˜ëŠ” ê¸°ëŠ¥ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ v1.23ì—ì„œ ì•ŒíŒŒ ê¸°ëŠ¥ìœ¼ë¡œ ë„ì…ë˜ì—ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ 1.26ì—ì„œ ì´ ê¸°ëŠ¥ì€ ë² íƒ€ ìƒíƒœì´ë©° ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë˜ì–´ ìˆë‹¤.\ngraceful_shutdown_start_time_secondsÂ ë°Â graceful_shutdown_end_time_secondsÂ ë©”íŠ¸ë¦­ì€ ë…¸ë“œ ì…§ë‹¤ìš´ì„ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ kubelet ì„œë¸Œì‹œìŠ¤í…œì—ì„œ ë°©ì¶œëœë‹¤.\nìŠ¤ì™‘(swap) ë©”ëª¨ë¦¬ ê´€ë¦¬ ê¸°ëŠ¥ ìƒíƒœ:Â Kubernetes v1.22 [alpha]\nì¿ ë²„ë„¤í‹°ìŠ¤ 1.22 ì´ì „ì—ëŠ” ë…¸ë“œê°€ ìŠ¤ì™‘ ë©”ëª¨ë¦¬ë¥¼ ì§€ì›í•˜ì§€ ì•Šì•˜ë‹¤. ê·¸ë¦¬ê³  kubeletì€ ë…¸ë“œì—ì„œ ìŠ¤ì™‘ì„ ë°œê²¬í•˜ì§€ ëª»í•œ ê²½ìš° ì‹œì‘ê³¼ ë™ì‹œì— ì‹¤íŒ¨í•˜ë„ë¡ ë˜ì–´ ìˆì—ˆë‹¤. 1.22ë¶€í„°ëŠ” ìŠ¤ì™‘ ë©”ëª¨ë¦¬ ì§€ì›ì„ ë…¸ë“œ ë‹¨ìœ„ë¡œ í™œì„±í™”í•  ìˆ˜ ìˆë‹¤.\në…¸ë“œì—ì„œ ìŠ¤ì™‘ì„ í™œì„±í™”í•˜ë ¤ë©´,Â NodeSwapÂ ê¸°ëŠ¥ ê²Œì´íŠ¸ê°€ kubeletì—ì„œ í™œì„±í™”ë˜ì–´ì•¼ í•˜ë©°, ëª…ë ¹ì¤„ í”Œë˜ê·¸Â --fail-swap-onÂ ë˜ëŠ”Â êµ¬ì„± ì„¤ì •ì—ì„œÂ failSwapOnê°€ falseë¡œ ì§€ì •ë˜ì–´ì•¼ í•œë‹¤.\nê²½ê³ :Â ë©”ëª¨ë¦¬ ìŠ¤ì™‘ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ë©´, ì‹œí¬ë¦¿ ì˜¤ë¸Œì íŠ¸ì˜ ë‚´ìš©ê³¼ ê°™ì€ tmpfsì— ê¸°ë¡ë˜ì—ˆë˜ ì¿ ë²„ë„¤í‹°ìŠ¤ ë°ì´í„°ê°€ ë””ìŠ¤í¬ì— ìŠ¤ì™‘ë  ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ìëŠ” ë˜í•œ ì„ íƒì ìœ¼ë¡œÂ memorySwap.swapBehaviorë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ë…¸ë“œê°€ ìŠ¤ì™‘ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ëª…ì‹œí•œë‹¤.\n1 2 memorySwap: swapBehavior: LimitedSwap` swapBehaviorì— ê°€ìš©í•œ êµ¬ì„± ì˜µì…˜ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nLimitedSwap: ì¿ ë²„ë„¤í‹°ìŠ¤ ì›Œí¬ë¡œë“œëŠ” ìŠ¤ì™‘ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë§Œí¼ìœ¼ë¡œ ì œí•œëœë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì˜í•´ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ” ë…¸ë“œì˜ ì›Œí¬ë¡œë“œëŠ” ì—¬ì „íˆ ìŠ¤ì™‘ë  ìˆ˜ ìˆë‹¤. UnlimitedSwap: ì¿ ë²„ë„¤í‹°ìŠ¤ ì›Œí¬ë¡œë“œëŠ” ìš”ì²­í•œ ë§Œí¼ ìŠ¤ì™‘ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì‹œìŠ¤í…œì˜ ìµœëŒ€ì¹˜ê¹Œì§€ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ë§Œì•½Â memorySwapÂ êµ¬ì„±ì´ ëª…ì‹œë˜ì§€ ì•Šì•˜ê³  ê¸°ëŠ¥ ê²Œì´íŠ¸ê°€ í™œì„±í™”ë˜ì–´ ìˆë‹¤ë©´, kubeletì€Â LimitedSwapÂ ì„¤ì •ê³¼ ê°™ì€ í–‰ë™ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì ìš©í•œë‹¤.\nLimitedSwapÂ ì„¤ì •ì— ëŒ€í•œ í–‰ë™ì€ ë…¸ë“œê°€ (\u0026ldquo;cgroups\u0026quot;ìœ¼ë¡œ ì•Œë ¤ì§„) ì œì–´ ê·¸ë£¹ì´ v1 ë˜ëŠ” v2 ì¤‘ì—ì„œ ë¬´ì—‡ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ê°€ì— ë”°ë¼ì„œ ê²°ì •ëœë‹¤.\ncgroupsv1:Â ì¿ ë²„ë„¤í‹°ìŠ¤ ì›Œí¬ë¡œë“œëŠ” ë©”ëª¨ë¦¬ì™€ ìŠ¤ì™‘ì˜ ì¡°í•©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŒŒë“œì˜ ë©”ëª¨ë¦¬ ì œí•œì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ ê°€ìš© ìƒí•œì´ ëœë‹¤. cgroupsv2:Â ì¿ ë²„ë„¤í‹°ìŠ¤ ì›Œí¬ë¡œë“œëŠ” ìŠ¤ì™‘ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ì§€ì›í•˜ê³  í”¼ë“œë²¡ì„ ì œê³µí•˜ê¸° ìœ„í•œ ì •ë³´ëŠ”Â KEP-2400Â ë°Â ë””ìì¸ ì œì•ˆì—ì„œ ì°¾ì„ ìˆ˜ ìˆë‹¤.\n","date":"2023-04-21T14:00:47+09:00","image":"https://codemario318.github.io/post/study/kubernetes/5/kubernetes_cover_hu15504362c54454204bbf321d3bfe3873_12586_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/study/kubernetes/5/","title":"ì¿ ë²„ë„¤í‹°ìŠ¤: 5. í´ëŸ¬ìŠ¤í„° ì•„í‚¤í…ì²˜"},{"content":"ê´€ë¦¬ê¸°ë²• â›” ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ëŠ” í•˜ë‚˜ì˜ ê¸°ë²•ë§Œ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬í•´ì•¼ í•œë‹¤. ë™ì¼í•œ ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•´ ì—¬ëŸ¬ ê¸°ë²•ì„ í˜¼ìš©í•˜ë©´ ì˜¤ë™ì‘ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nê´€ë¦¬ê¸°ë²• ëŒ€ìƒ ê¶Œì¥ í™˜ê²½ ì§€ì›í•˜ëŠ” ì‘ì—…ì ìˆ˜ í•™ìŠµ ë‚œì´ë„ ëª…ë ¹í˜• ì»¤ë§¨ë“œ í™œì„± ì˜¤ë¸Œì íŠ¸ ê°œë°œ í™˜ê²½ 1+ ë‚®ìŒ ëª…ë ¹í˜• ì˜¤ë¸Œì íŠ¸ êµ¬ì„± ê°œë³„ íŒŒì¼ í”„ë¡œë•ì…˜ í™˜ê²½ 1 ë³´í†µ ì„ ì–¸í˜• ì˜¤ë¸Œì íŠ¸ êµ¬ì„± íŒŒì¼ì´ ìˆëŠ” ë””ë ‰í„°ë¦¬ í”„ë¡œë•ì…˜ í™˜ê²½ 1+ ë†’ìŒ ëª…ë ¹í˜• ì»¤ë§¨ë“œ ì‚¬ìš©ìê°€ í´ëŸ¬ìŠ¤í„° ë‚´ í™œì„± ì˜¤ë¸Œì íŠ¸ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì§ì ‘ ë™ì‘ì‹œí‚¨ë‹¤. ì‹¤í–‰í•  ì‘ì—…ì„ ì¸ìˆ˜ ë˜ëŠ” í”Œë˜ê·¸ë¡œ kubectl ì»¤ë§¨ë“œì— ì§€ì •í•œë‹¤.\n1 kubectl create deployment nginx --image nginx íŠ¸ë ˆì´ë“œ ì˜¤í”„ ì¥ì \nì»¤ë§¨ë“œëŠ” í•˜ë‚˜ì˜ ë™ì‘ì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¨ì–´ë¡œ í‘œí˜„ë¨ í´ëŸ¬ìŠ¤í„°ë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ë‹¨ í•˜ë‚˜ì˜ ë‹¨ê³„ë§Œì„ í•„ìš”ë¡œ í•œë‹¤. ë‹¨ì \nì»¤ë§¨ë“œëŠ” ë³€ê²½ ê²€í†  í”„ë¡œì„¸ìŠ¤ì™€ í†µí•©ë˜ì§€ ì•ŠëŠ”ë‹¤. ë³€ê²½ì— ê´€í•œ ê°ì‚¬ ì¶”ì (audit trail)ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. í™œì„± ë™ì‘ ì¤‘ì¸ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ ëŠ” ë ˆì½”ë“œì˜ ì†ŒìŠ¤ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ìƒˆë¡œìš´ ì˜¤ë¸Œì íŠ¸ ìƒì„±ì„ ìœ„í•œ í…œí”Œë¦¿ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ëª…ë ¹í˜• ì˜¤ë¸Œì íŠ¸ êµ¬ì„± kubectl ì»¤ë§¨ë“œë¡œ ì‘ì—…, ì„ íƒì  í”Œë˜ê·¸, íŒŒì¼ ì´ë¦„ì„ ì§€ì •í•˜ì—¬ ì‹¤í–‰í•œë‹¤.\n","date":"2023-04-21T13:57:47+09:00","image":"https://codemario318.github.io/post/study/kubernetes/4/kubernetes_cover_hu15504362c54454204bbf321d3bfe3873_12586_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/study/kubernetes/4/","title":"ì¿ ë²„ë„¤í‹°ìŠ¤: 4. ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ ê´€ë¦¬"},{"content":" ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ëŠ” í•˜ë‚˜ì˜ ì˜ë„ë¥¼ ë‹´ì€ ë ˆì½”ë“œì´ë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ì˜ì†ì„±ì„ ê°€ì§€ëŠ” ì˜¤ë¸Œì íŠ¸ì´ë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” í´ëŸ¬ìŠ¤í„°ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ê¸° ìœ„í•´ .yamlë¡œ ì‘ì„±ëœ ì˜¤ë¸Œì íŠ¸ì— ìƒì„¸ ë‚´ìš©ì„ ê¸°ìˆ í•œë‹¤.\nì–´ë–¤ ì»¨í…Œì´ë„ˆí™”ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì‘ ì¤‘ì¸ì§€(ì–´ëŠ ë…¸ë“œì—ì„œ ë™ì‘ì¤‘ì¸ì§€) í•´ë‹¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì´ìš©í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ í•´ë‹¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì–´ë–»ê²Œ ì¬êµ¬ë™ ì •ì±…, ì—…ê·¸ë ˆì´ë“œ ë‚´ê³ ì¥ì„±ê³¼ ê°™ì€ ê²ƒì— ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ì±… ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê²Œ ë˜ë©´, ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œìŠ¤í…œì€ ì˜¤ë¸Œì íŠ¸ì— ë‹´ê¸´ ìƒíƒœë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ ì§€ì†ì ìœ¼ë¡œ ë™ì‘í•˜ê²Œ ëœë‹¤.\nì˜¤ë¸Œì íŠ¸ ëª…ì„¸(spec)ê³¼ ìƒíƒœ(status) ê±°ì˜ ëª¨ë“  ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ëŠ” spec ì˜¤ë¸Œì íŠ¸ì™€ status ì˜¤ë¸Œì íŠ¸ë¡œ êµ¬ì„±ëœë‹¤.\nspec specì„ ê°€ì§€ëŠ” ì˜¤ë¸Œì íŠ¸ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•  ë•Œ ë¦¬ì†ŒìŠ¤ì— ì›í•˜ëŠ” íŠ¹ì§•(ì˜ë„í•œ ìƒíƒœ)ì— ëŒ€í•œ ì„¤ëª…ì„ ì œê³µí•˜ì—¬ ì„¤ì •í•œë‹¤.\nstatus ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œìŠ¤í…œê³¼ ì»´í¬ë„ŒíŠ¸ì— ì˜í•´ ì œê³µë˜ê³  ì—…ë°ì´íŠ¸ëœ ì˜¤ë¸Œì íŠ¸ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì„¤ëª…í•œë‹¤. ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ëª¨ë“  ì˜¤ë¸Œì íŠ¸ì˜ ì‹¤ì œ ìƒíƒœë¥¼ ì‚¬ìš©ìê°€ ì˜ë„í•œ ìƒíƒœì™€ ì¼ì¹˜ì‹œí‚¤ê¸° ìœ„í•´ì„œ ëŠì„ì—†ì´ ëŠ¥ë…ì ìœ¼ë¡œ ê´€ë¦¬í•œë‹¤.\nhttps://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md\nì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ ê¸°ìˆ í•˜ê¸° ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•  ë•Œ, ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì •ë³´ì™€ ë”ë¶ˆì–´, ì˜ë„í•œ ìƒíƒœë¥¼ ê¸°ìˆ í•œ ì˜¤ë¸Œì íŠ¸ specì„ ì œì‹œí•´ì•¼ í•œë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì •ë³´ë¥¼ .yaml íŒŒì¼ë¡œ kubectlì— ì œê³µí•œë‹¤. kubectlì€ API ìš”ì²­ì´ ì´ë£¨ì–´ì§ˆ ë•Œ, JSON í˜•ì‹ìœ¼ë¡œ ì •ë³´ë¥¼ ë³€í™˜ì‹œì¼œì¤€ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 apiVersion: apps/v1 kind: Deployment metadata: name: nginx-deployment spec: selector: matchLabels: app: nginx replicas: 2 # tells deployment to run 2 pods matching the template template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.14.2 ports: - containerPort: 80 ìš”êµ¬ë˜ëŠ” í•„ë“œ ìƒì„±í•˜ê³ ì í•˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•œ .yaml íŒŒì¼ ë‚´, ë‹¤ìŒ í•„ë“œë¥¼ ìœŸë‚˜ ê°’ë“¤ì„ ì„¤ì •í•´ ì¤˜ì•¼í•œë‹¤.\napiVersion: í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ API ë²„ì „ kind: ì˜¤ë¸Œì íŠ¸ì˜ ì¢…ë¥˜ metadata: ì˜¤ë¸Œì íŠ¸ë¥¼ ìœ ì¼í•˜ê²Œ êµ¬ë¶„ì§€ì–´ ì¤„ ë°ì´í„°(ì´ë¦„ ë¬¸ìì—´, UID, ì„ íƒì ì¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë“±) specì— ëŒ€í•œ ì •í™•í•œ í¬ë§·ì€ ëª¨ë“  ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ë§ˆë‹¤ë‹¤ë¥´ê³ , ê·¸ ì˜¤ë¸Œì íŠ¸ íŠ¹ìœ ì˜ ì¤‘ì²©ëœ í•„ë“œë¥¼ í¬í•¨í•œë‹¤.\nhttps://kubernetes.io/docs/reference/generated/kubernetes-api/v1.26/\n","date":"2023-04-21T13:53:47+09:00","image":"https://codemario318.github.io/post/study/kubernetes/3/kubernetes_cover_hu15504362c54454204bbf321d3bfe3873_12586_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/study/kubernetes/3/","title":"ì¿ ë²„ë„¤í‹°ìŠ¤: 3. ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸ ì´í•´í•˜ê¸°"},{"content":"ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ì»¨í…Œì´ë„ˆí™” ëœ ì• í”„ë¦´ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ë…¸ë“œë¼ê³  í•˜ëŠ” ì›Œì»¤ ë¨¸ì‹ ì˜ ì§‘í•©ìœ¼ë¡œ, ëª¨ë“  í´ëŸ¬ìŠ¤í„°ëŠ” ìµœì†Œ í•œ ê°œì˜ ì›Œì»¤ ë…¸ë“œë¥¼ ê°€ì§„ë‹¤.\nì›Œì»¤ ë…¸ë“œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì„±ìš”ì†Œì¸ íŒŒë“œë¥¼ í˜¸ìŠ¤íŠ¸í•˜ë©°, ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ì›Œì»¤ ë…¸ë“œì™€ í´ëŸ¬ìŠ¤í„° ë‚´ íŒŒë“œë¥¼ ê´€ë¦¬í•œë‹¤.\ní”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì´ ì—¬ëŸ¬ ì»´í“¨í„°ì— ê±¸ì³ ì‹¤í–‰ë˜ê³ , í´ëŸ¬ìŠ¤í„°ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì—¬ëŸ¬ ë…¸ë“œë¥¼ ì‹¤í–‰í•˜ë¯€ë¡œ ë‚´ê²°í•¨ì„±ê³¼ ê³ ê°€ìš©ì„±ì´ ì œê³µëœë‹¤.\nì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ëŠ” í´ëŸ¬ìŠ¤í„°ì— ê´€í•œ ì „ë°˜ì ì¸ ê²°ì • (ìŠ¤ì¼€ì¤„ë§ ë“±)ì„ ìˆ˜í–‰í•˜ê³  í´ëŸ¬ìŠ¤í„° ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ê³  ë°˜ì‘í•œë‹¤.\nì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ ì–´ë– í•œ ë¨¸ì‹ ì—ì„œë„ ë™ì‘í•  ìˆ˜ ìˆìœ¼ë‚˜, ê°„ê²°ì„± ìœ ì§€ë¥¼ ìœ„í•´ êµ¬ì„± ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³´í†µ ë™ì¼ ë¨¸ì‹  ìƒì— ëª¨ë“  ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ë™ì‹œí‚¤ê³ , ì‚¬ìš©ì ì»¨í…Œì´ë„ˆëŠ” í•´ë‹¹ ë¨¸ì‹  ìƒì— ë™ì‘ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.\nkube-apiserver API ì„œë²„ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ APIë¥¼ ë…¸ì¶œí•˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ì´ë‹¤. API ì„œë²„ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì˜ í”„ë¡ íŠ¸ ì—”ë“œì´ë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ APIì„œë²„ëŠ” ì •ë§ ê·¸ëƒ¥ APIì„œë²„ë¼êµ¬ìš§\nkube-apiserverëŠ” ë§ˆìŠ¤í„° ë…¸ë“œì˜ ì¤‘ì‹¬ì—ì„œ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸, ì»´í¬ë„ŒíŠ¸ë¡œ ë¶€í„° ì˜¤ëŠ” ìš”ì²­ë“¤ì„ ë°›ëŠ” REST API ì„œë²„ì´ë‹¤.\nkubectlì™€ Kubernetes SDKë¥¼ ì´ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ì§ì ‘ REST API í˜¸ì¶œë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ í†µì‹ í•  ìˆ˜ ìˆë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì„±í•˜ëŠ” ê²½ìš° í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. https://kubernetes.io/ko/docs/reference/using-api/client-libraries/\netcd ëª¨ë“  í´ëŸ¬ìŠ¤í„° ë°ì´í„°ë¥¼ ë‹´ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ë’·ë‹¨ì˜ ì €ì¥ì†Œë¡œ ì‚¬ìš©ë˜ëŠ” ì¼ê´€ì„± ë° ê³ ê°€ìš©ì„± í‚¤-ê°’ ì €ì¥ì†Œ.\nKubernetes ìš´ì˜ì„ ìœ„í•œ etcd ê¸°ë³¸ ë™ì‘ ì›ë¦¬ì˜ ì´í•´\nkubernetesëŠ” ê¸°ë°˜ ìŠ¤í† ë¦¬ì§€(backing storage)ë¡œ etcdë¥¼ ì‚¬ìš©í•˜ê³  ìˆê³ , ëª¨ë“  ë°ì´í„°ê°€ etcdì— ë³´ê´€ëœë‹¤(í´ëŸ¬ìŠ¤í„°ì— ì–´ë–¤ ë…¸ë“œê°€ ëª‡ ê°œë‚˜ ìˆê³  ì–´ë–¤ íŒŒë“œê°€ ì–´ë–¤ ë…¸ë“œì—ì„œ ë™ì‘í•˜ê³  ìˆëŠ”ì§€ë“± ). ë™ì‘ì¤‘ì¸ í´ëŸ¬ìŠ¤í„°ì˜ etcd ë°ì´í„°ë² ì´ìŠ¤ê°€ ìœ ì‹¤ëœë‹¤ë©´ ì»¨í…Œì´ë„ˆ ë¿ë§Œ ì•„ë‹ˆë¼ í´ëŸ¬ìŠ¤í„°ê°€ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë¦¬ì†ŒìŠ¤ëŠ” ë¯¸ì•„ê°€ ëœë‹¤.\në”°ë¼ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ì„œ etcdë¥¼ ë’·ë‹¨ ì €ì •ì†Œë¡œ ì‚¬ìš©í•œë‹¤ë©´, ì´ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ëŠ” ê³„íšì„ í•„ìˆ˜ì ìœ¼ë¡œ ê°–ì¶”ì–´ì•¼ í•œë‹¤.\nkube-scheduler ë…¸ë“œê°€ ë°°ì •ë˜ì§€ ì•Šì€ ìƒˆë¡œ ìƒì„±ëœ íŒŒë“œë¥¼ ê°ì§€í•˜ê³ , ì‹¤í–‰í•  ë…¸ë“œë¥¼ ì„ íƒí•˜ëŠ” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸.\nì•„ë˜ í•­ëª©ë“¤ì— ëŒ€í•´ ê³ ë ¤í•˜ì—¬ ìŠ¤ì¼€ì¤„ë§ì´ ì´ë£¨ì–´ì§„ë‹¤.\në¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ê°œë³„ ë° ì´ì²´ì  ìš”êµ¬ ì‚¬í•­ í•˜ë“œì›¨ì–´/ì†Œí”„íŠ¸ì›¨ì–´/ì •ì±…ì  ì œì•½ ì–´í”¼ë‹ˆí‹°(affinity) ë° ì•ˆí‹°-ì–´í”¼ë‹ˆí‹°(anti-affinity) ëª…ì„¸ ë°ì´í„° ì§€ì—­ì„± ì›Œí¬ë¡œë“œê°„ ê°„ì„­ ë°ë“œë¼ì¸ kube-controller-manager ì»¨íŠ¸ë¡¤ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ëŠ” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸.\nê° ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬ëœ í”„ë¡œì„¸ìŠ¤ì´ì§€ë§Œ, ë³µì¡ì„±ì„ ë‚®ì¶”ê¸° ìœ„í•´ ëª¨ë‘ ë‹¨ì¼ ë°”ì´ë„ˆë¦¬ë¡œ ì»´íŒŒì¼ë˜ê³  ë‹¨ì¼ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì‹¤í–‰ëœë‹¤.\në…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬: ë…¸ë“œê°€ ë‹¤ìš´ë˜ì—ˆì„ ë•Œ í†µì§€ì™€ ëŒ€ì‘ì— ê´€í•œ ì±…ì„ì„ ê°€ì§„ë‹¤. ì¡ ì»¨íŠ¸ë¡¤ëŸ¬: ì¼íšŒì„± ì‘ì—…ì„ ë‚˜íƒ€ë‚´ëŠ” ì¡ ì˜¤ë¸Œì íŠ¸ë¥¼ ê°ì‹œí•œ ë‹¤ìŒ, í•´ë‹¹ ì‘ì—…ì„ ì™„ë£Œí•  ë•Œê¹Œì§€ ë™ì‘í•˜ëŠ” íŒŒë“œë¥¼ ìƒì„±í•œë‹¤. ì—”ë“œí¬ì¸íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬: ì—”ë“œí¬ì¸íŠ¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ì±„ìš´ë‹¤.(ì„œë¹„ìŠ¤ì™€ íŒŒë“œë¥¼ ì—°ê²°ì‹œí‚¨ë‹¤.) ì„œë¹„ìŠ¤ ì–´ì¹´ìš´íŠ¸ \u0026amp; í† í° ì»¨íŠ¸ë¡¤ëŸ¬: ìƒˆë¡œìš´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì— ëŒ€í•œ ê¸°ë³¸ ê³„ì •ê³¼ API ì ‘ê·¼ í† í°ì„ ìƒì„±í•œë‹¤. cloud-controller-manager í´ë¼ìš°ë“œ ë³„ ì»¨íŠ¸ë¡¤ ë¡œì§ì„ í¬í•¨í•˜ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ì´ë‹¤.\ní´ë¼ìš°ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì €ë¥¼ í†µí•´ í´ëŸ¬ìŠ¤í„°ë¥¼ í´ë¼ìš°ë“œ ê³µê¸‰ìì˜ APIì— ì—°ê²°í•˜ê³ , í•´ë‹¹ í´ë¼ìš°ë“œ í”Œë«í¼ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ í´ëŸ¬ìŠ¤í„°ì™€ë§Œ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.\ní´ë¼ìš°ë“œ ì œê³µì ì „ìš© ì»¨íŠ¸ë¡¤ëŸ¬ë§Œ ì‹¤í–‰í•œë‹¤. ìì‹ ì˜ ì‚¬ë‚´ ë˜ëŠ” PC ë‚´ë¶€ì˜ í•™ìŠµ í™˜ê²½ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš° í´ëŸ¬ìŠ¤í„°ì—ëŠ” í´ë¼ìš°ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì €ê°€ ì—†ë‹¤.\nkube-controller-managerì™€ ë§ˆì°¬ê°€ì§€ë¡œ cloud-controller-managerëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ ë…ë¦½ì ì¸ ì—¬ëŸ¬ ì»¨íŠ¸ë¡¤ ë£¨í”„ë¥¼ ë‹¨ì¼ í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰í•˜ëŠ” ë‹¨ì¼ ë°”ì´ë„ˆë¦¬ë¡œ ê²°í•©í•œë‹¤. ìˆ˜í‰ìœ¼ë¡œ í™•ì¥(ë‘ ê°œ ì´ìƒì˜ ë³µì œ ì‹¤í–‰)í•´ì„œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê±°ë‚˜ ì¥ì• ë¥¼ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\në…¸ë“œ ì»¨íŠ¸ë¡¤ëŸ¬: ë…¸ë“œê°€ ì‘ë‹µì„ ë©ˆì¶˜ í›„ í´ë¼ìš°ë“œ ìƒì—ì„œ ì‚­ì œë˜ì—ˆëŠ”ì§€ íŒë³„í•˜ê¸° ìœ„í•´ í´ë¼ìš°ë“œ ì œê³µ ì‚¬ì—…ìì—ê²Œ í™•ì¸í•˜ëŠ” ê²ƒ ë¼ìš°íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬: ê¸°ë³¸ í´ë¼ìš°ë“œ ì¸í”„ë¼ì— ê²½ë¡œë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒ ì„œë¹„ìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬: í´ë¼ìš°ë“œ ì œê³µ ì‚¬ì—…ì ë¡œë“œë°¸ëŸ°ì„œë¥¼ ìƒì„±, ì—…ë°ì´íŠ¸ ê·¸ë¦¬ê³  ì‚­ì œí•˜ëŠ” ê²ƒ ë…¸ë“œ ì»´í¬ë„ŒíŠ¸ ë…¸ë“œ ì»´í¬ë„ŒíŠ¸ëŠ” ë™ì‘ ì¤‘ì¸ íŒŒë“œë¥¼ ìœ ì§€ì‹œí‚¤ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ ëŸ°íƒ€ì„ í™˜ê²½ì„ ì œê³µí•˜ë©°, ëª¨ë“  ë…¸ë“œ ìƒì—ì„œ ë™ì‘í•œë‹¤.\nkubelet í´ëŸ¬ìŠ¤í„°ì˜ ê° ë…¸ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ì—ì´ì „íŠ¸. kubeletì€ íŒŒë“œì—ì„œ ì»¨í…Œì´ë„ˆê°€ í™•ì‹¤í•˜ê²Œ ë™ì‘í•˜ë„ë¡ ê´€ë¦¬í•œë‹¤.\në‹¤ì–‘í•œ ë©”ì»¤ë‹ˆì¦˜ì„ í†µí•´ ì œê³µëœ íŒŒë“œ ìŠ¤í™(PodSpec)ì˜ ì§‘í•©ì„ ë°›ì•„ ì»¨í…Œì´ë„ˆê°€ í•´ë‹¹ íŒŒë“œ ìŠ¤í™ì— ë”°ë¼ ê±´ê°•í•˜ê²Œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì‹¤íˆ í•œë‹¤.\nkubeletì€ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í†µí•´ ìƒì„±ë˜ì§€ ì•ŠëŠ” ì»¨í…Œì´ë„ˆëŠ” ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤.\nkube-proxy í´ëŸ¬ìŠ¤í„°ì˜ ê° ë…¸ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ í”„ë¡ì‹œë¡œ, í¬ë²„ë„¤í‹°ìŠ¤ì˜ ì„œë¹„ìŠ¤ ê°œë… êµ¬í˜„ë¶€ì´ë‹¤.\në…¸ë“œì˜ ë„¤íŠ¸ì›Œí¬ ê·œì¹™ì„ ê´€ë¦¬í•œë‹¤. ë„¤íŠ¸ì›Œí¬ ê·œì¹™ì´ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ì„¸ì…˜ì´ë‚˜ í´ëŸ¬ìŠ¤í„° ë°”ê¹¥ì—ì„œ íŒŒë“œë¡œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•˜ë„ë¡ í•´ì¤€ë‹¤.\nìš´ì˜ì²´ì œì— ê°€ìš©í•œ íŒ¨í‚· í•„í„°ë§ ê³„ì¸µì´ ìˆëŠ” ê²½ìš°, ì´ë¥¼ ì‚¬ìš©í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, kube-proxyëŠ” íŠ¸ë˜í”½ ìì²´ë¥¼ í¬ì›Œë“œí•œë‹¤.\nì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì€ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ì„ ë‹´ë‹¹í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì´ë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” containerd, CRI-Oì™€ ê°™ì€ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ë° ëª¨ë“  Kubernetes CRI(ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì¸í„°í˜ì´ìŠ¤) êµ¬í˜„ì²´ë¥¼ ì§€ì›í•œë‹¤.\nCRIë€?\ní´ëŸ¬ìŠ¤í„° ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ì»´íŒŒì¼í•˜ì§€ ì•Šì•„ë„ Kubeletì´ ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.\n","date":"2023-04-21T13:42:47+09:00","image":"https://codemario318.github.io/post/study/kubernetes/2/kubernetes_cover_hu15504362c54454204bbf321d3bfe3873_12586_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/study/kubernetes/2/","title":"ì¿ ë²„ë„¤í‹°ìŠ¤: 2. ì¿ ë²„ë„¤í‹°ìŠ¤ ì»´í¬ë„ŒíŠ¸"},{"content":"ì¿ ë²„ë„¤í‹°ìŠ¤ë€? ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆí™”ëœ ì›Œí¬ë¡œë“œì™€ ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì´ì‹ì„±ì´ ìˆê³ , í™•ì¥ ê°€ëŠ¥í•œ ì˜¤í”ˆì†ŒìŠ¤ í”Œë«í¼ì´ë‹¤.\nì»¨í…Œì´ë„ˆí™”ëœ ì›Œí¬ë¡œë“œì™€ ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì´ì‹ì„±ì´ ìˆë‹¤. í™•ì¥ê°€ëŠ¥í•œ ì˜¤í”ˆì†ŒìŠ¤ í”Œë«í¼ì´ë‹¤. ì„ ì–¸ì  êµ¬ì„±ê³¼ ìë™í™”ë¥¼ ëª¨ë‘ ìš©ì´í•˜ê²Œ í•´ì¤€ë‹¤. í¬ê³  ë¹ ë¥´ê²Œ ì„±ì¥í•˜ëŠ” ìƒíƒœê³„ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¹„ì„œ, ê¸°ìˆ  ì§€ì› ë° ë„êµ¬ëŠ” ì–´ë””ì„œë‚˜ ì‰½ê²Œ ì´ìš©í•  ìˆ˜ ìˆë‹¤. ì»¨í…Œì´ë„ˆ ì¥ì \nê¸°ë¯¼í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±ê³¼ ë°°í¬\nVM ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì— ë¹„í•´ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ìƒì„±ì´ ë³´ë‹¤ ì‰½ê³  íš¨ìœ¨ì ì„. ì§€ì†ì ì¸ ê°œë°œ, í†µí•© ë° ë°°í¬\nì•ˆì •ì ì´ê³  ì£¼ê¸°ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•´ì„œ ë°°í¬í•  ìˆ˜ ìˆê³  (ì´ë¯¸ì§€ì˜ ë¶ˆë³€ì„± ë•ì—) ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ë¡¤ë°±í•  ìˆ˜ ìˆë‹¤. ê°œë°œê³¼ ìš´ì˜ì˜ ê´€ì‹¬ì‚¬ ë¶„ë¦¬\në°°í¬ ì‹œì ì´ ì•„ë‹Œ ë¹Œë“œ/ë¦´ë¦¬ìŠ¤ ì‹œì ì— ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì—, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ì—ì„œ ë¶„ë¦¬ëœë‹¤. ê°€ì‹œì„±(observability)\nOS ìˆ˜ì¤€ì˜ ì •ë³´ì™€ ë©”íŠ¸ë¦­ì— ë¨¸ë¬´ë¥´ì§€ ì•Šê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í—¬ìŠ¤ì™€ ê·¸ ë°–ì˜ ì‹œê·¸ë„ì„ ë³¼ ìˆ˜ ìˆë‹¤. ê°œë°œ, í…ŒìŠ¤íŒ… ë° ìš´ì˜ í™˜ê²½ì— ê±¸ì¹œ ì¼ê´€ì„±\në©íƒ‘ì—ì„œë„ í´ë¼ìš°ë“œì—ì„œì™€ ë™ì¼í•˜ê²Œ êµ¬ë™ëœë‹¤. í´ë¼ìš°ë“œ ë° OS ë°°í¬íŒ ê°„ ì´ì‹ì„±\nUbuntu, RHEL, CoreOS, ì˜¨-í”„ë ˆë¯¸ìŠ¤, ì£¼ìš” í¼ë¸”ë¦­ í´ë¼ìš°ë“œì™€ ì–´ë””ì—ì„œë“  êµ¬ë™ëœë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ì¤‘ì‹¬ ê´€ë¦¬\nê°€ìƒ í•˜ë“œì›¨ì–´ ìƒì—ì„œ OSë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆ˜ì¤€ì—ì„œ ë…¼ë¦¬ì ì¸ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” OS ìƒì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ì¶”ìƒí™” ìˆ˜ì¤€ì´ ë†’ì•„ì§„ë‹¤. ëŠìŠ¨í•˜ê²Œ ì»¤í”Œë˜ê³ , ë¶„ì‚°ë˜ê³ , ìœ ì—°í•˜ë©°, ììœ ë¡œìš´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë‹¨ì¼ ëª©ì ì˜ ë¨¸ì‹ ì—ì„œ ëª¨ë†€ë¦¬ì‹ ìŠ¤íƒìœ¼ë¡œ êµ¬ë™ë˜ì§€ ì•Šê³  ë³´ë‹¤ ì‘ê³  ë…ë¦½ì ì¸ ë‹¨ìœ„ë¡œ ìª¼ê°œì ¸ì„œ ë™ì ìœ¼ë¡œ ë°°í¬ë˜ê³  ê´€ë¦¬ë  ìˆ˜ ìˆë‹¤. ë¦¬ì†ŒìŠ¤ ê²©ë¦¬\nì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì„ ì˜ˆì¸¡í•  ìˆ˜ ìˆë‹¤. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰\nê³ íš¨ìœ¨ ê³ ì§‘ì . ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ì™œ í•„ìš”í•˜ê³  ë¬´ì—‡ì„ í•  ìˆ˜ ìˆë‚˜ ê¸°ì¡´ \u0026ldquo;ì „í†µì ì¸ ë°°í¬\u0026rdquo;, \u0026ldquo;ê°€ìƒí™”ëœ ë°°í¬\u0026quot;ë¥¼ ê±°ì¹˜ë©° \u0026ldquo;ì»¨í…Œì´ë„ˆë¥¼ í†µí•œ ë°°í¬\u0026rdquo; ê¹Œì§€ ë°œì „í•´ì™”ë‹¤.\nì»¨í…Œì´ë„ˆë¥¼ í†µí•œ ê°œë°œ í™˜ê²½ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í¬ì¥í•˜ê³  ì‹¤í–‰í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì´ì§€ë§Œ, í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ê³  ê°€ë™ ì¤‘ì§€ ì‹œê°„ì´ ì—†ëŠ”ì§€ í™•ì¸í•´ì•¼ í•˜ëŠ” ë“± ì—¬ëŸ¬ ì‘ì—…ì´ í•„ìš”í•˜ê²Œ ëœë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë¶„ì‚° ì‹œìŠ¤í…œì„ íƒ„ë ¥ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸° ìœ„í•œ í”„ë ˆì„ ì›Œí¬ë¥¼ ì œê³µí•œë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í™•ì¥ê³¼ ì¥ì•  ì¡°ì¹˜ë¥¼ ì²˜ë¦¬í•˜ê³ , ë°°í¬ íŒ¨í„´ ë“±ì„ ì œê³µí•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì‹œìŠ¤í…œì˜ ì¹´ë‚˜ë¦¬ì•„ ë°°í¬ë¥¼ ì‰½ê²Œ ê´€ë¦¬ í•  ìˆ˜ ìˆë‹¤.\nì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ì™€ ë¡œë“œ ë°¸ëŸ°ì‹±Â ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” DNS ì´ë¦„ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ìì²´ IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë¥¼ ë…¸ì¶œí•  ìˆ˜ ìˆë‹¤. ì»¨í…Œì´ë„ˆì— ëŒ€í•œ íŠ¸ë˜í”½ì´ ë§ìœ¼ë©´, ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ë¡œë“œë°¸ëŸ°ì‹±í•˜ê³  ë°°í¬í•˜ì—¬ ë°°í¬ê°€ ì•ˆì •ì ìœ¼ë¡œ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\nìŠ¤í† ë¦¬ì§€ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ë¡œì»¬ ì €ì¥ì†Œ, ê³µìš© í´ë¼ìš°ë“œ ê³µê¸‰ì ë“±ê³¼ ê°™ì´ ì›í•˜ëŠ” ì €ì¥ì†Œ ì‹œìŠ¤í…œì„ ìë™ìœ¼ë¡œ íƒ‘ì¬ í•  ìˆ˜ ìˆë‹¤.\nìë™í™”ëœ ë¡¤ì•„ì›ƒê³¼ ë¡¤ë°±Â ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬ëœ ì»¨í…Œì´ë„ˆì˜ ì›í•˜ëŠ” ìƒíƒœë¥¼ ì„œìˆ í•  ìˆ˜ ìˆìœ¼ë©° í˜„ì¬ ìƒíƒœë¥¼ ì›í•˜ëŠ” ìƒíƒœë¡œ ì„¤ì •í•œ ì†ë„ì— ë”°ë¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ìë™í™”í•´ì„œ ë°°í¬ìš© ìƒˆ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê³ , ê¸°ì¡´ ì»¨í…Œì´ë„ˆë¥¼ ì œê±°í•˜ê³ , ëª¨ë“  ë¦¬ì†ŒìŠ¤ë¥¼ ìƒˆ ì»¨í…Œì´ë„ˆì— ì ìš©í•  ìˆ˜ ìˆë‹¤.\nìë™í™”ëœ ë¹ˆ íŒ¨í‚¹(bin packing) ì»¨í…Œì´ë„ˆí™”ëœ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ë…¸ë“œë¥¼ ì œê³µí•œë‹¤. ê° ì»¨í…Œì´ë„ˆê°€ í•„ìš”ë¡œ í•˜ëŠ” CPUì™€ ë©”ëª¨ë¦¬(RAM)ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ê²Œ ì§€ì‹œí•œë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë…¸ë“œì— ë§ì¶”ì–´ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì¥ ì˜ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.\nìë™í™”ëœ ë³µêµ¬(self-healing) ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì‹¤íŒ¨í•œ ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ê³ , ì»¨í…Œì´ë„ˆë¥¼ êµì²´í•˜ë©°, \u0026lsquo;ì‚¬ìš©ì ì •ì˜ ìƒíƒœ ê²€ì‚¬\u0026rsquo;ì— ì‘ë‹µí•˜ì§€ ì•ŠëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì£½ì´ê³ , ì„œë¹„ìŠ¤ ì¤€ë¹„ê°€ ëë‚  ë•Œê¹Œì§€ ê·¸ëŸ¬í•œ ê³¼ì •ì„ í´ë¼ì´ì–¸íŠ¸ì— ë³´ì—¬ì£¼ì§€ ì•ŠëŠ”ë‹¤.\nì‹œí¬ë¦¿ê³¼ êµ¬ì„± ê´€ë¦¬Â ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì•”í˜¸, OAuth í† í° ë° SSH í‚¤ì™€ ê°™ì€ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬ í•  ìˆ˜ ìˆë‹¤. ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì¬êµ¬ì„±í•˜ì§€ ì•Šê³  ìŠ¤íƒ êµ¬ì„±ì— ì‹œí¬ë¦¿ì„ ë…¸ì¶œí•˜ì§€ ì•Šê³ ë„ ì‹œí¬ë¦¿ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì„±ì„ ë°°í¬ ë° ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-21T13:19:47+09:00","image":"https://codemario318.github.io/post/study/kubernetes/1/kubernetes_cover_hu15504362c54454204bbf321d3bfe3873_12586_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/study/kubernetes/1/","title":"ì¿ ë²„ë„¤í‹°ìŠ¤: 1. ì¿ ë²„ë„¤í‹°ìŠ¤ë€ ë¬´ì—‡ì¸ê°€?"},{"content":"JUnit í”„ë ˆì„ì›Œí¬ ComparisonCompactor.java ëª¨ë“ˆ ê°œì„ í•˜ê¸° ìƒì„±ì ë‘ ë²ˆì§¸ ì¸ìˆ˜ì™€ ì„¸ ë²ˆì§¸ ì¸ìˆ˜ë¥¼ ë¹„êµí•œë‹¤. comapct í•¨ìˆ˜ì— ë¬¸ìì—´ì„ ë„£ìœ¼ë©´ ê²°ê³¼ ë©”ì‹œì§€ ì•ì— ë¬¸ìì—´ì´ ì¶”ê°€ëœë‹¤. ë¹„êµ í›„ ë‹¤ë¥¸ ë¬¸ìì—´ì„ â€œ[]â€ë¥¼ ì¨ì„œ ê°•ì¡°í•œë‹¤. ì²« ë²ˆì§¸ ì¸ìˆ˜ëŠ” ë‹¤ë¥¸ ë¬¸ìì—´ì„ ì¶œë ¥í•  ë•Œ â€œ[]â€ ì• ë’¤ë¡œ ì¶œë ¥í•  ë¬¸ìì—´ ê°œìˆ˜ì´ë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 package junit.framework; public class ComparisonCompactor { private static final String ELLIPSIS = \u0026#34;...\u0026#34;; private static final String DELTA_END = \u0026#34;]\u0026#34;; private static final String DELTA_START = \u0026#34;[\u0026#34;; private int fContextLength; private String fExpected; private String fActual; private int fPrefix; private int fSuffix; public ComparisonCompactor(int contextLength, String expected, String actual) { fContextLength = contextLength; fExpected = expected; fActual = actual; } public String compact(String message) { if (fExpected == null || fActual == null || areStringsEqual()) return Assert.format(message, fExpected, fActual); findCommonPrefix(); findCommonSuffix(); String expected = compactString(fExpected); String actual = compactString(fActual); return Assert.format(message, expected, actual); } private String compactString(String source) { String result = DELTA_START + source.substring(fPrefix, source.length() - fSuffix + 1) + DELTA_END; if (fPrefix \u0026gt; 0) result = computeCommonPrefix() + result; if (fSuffix \u0026gt; 0) result = result + computeCommonSuffix(); return result; } private void findCommonPrefix() { fPrefix = 0; int end = Math.min(fExpected.length(), fActual.length()); for (; fPrefix \u0026lt; end; fPrefix++) { if (fExpected.charAt(fPrefix) != fActual.charAt(fPrefix)) break; } } private void findCommonSuffix() { int expectedSuffix = fExpected.length() - 1; int actualSuffix = fActual.length() - 1; for (; actualSuffix \u0026gt;= fPrefix \u0026amp;\u0026amp; expectedSuffix \u0026gt;= fPrefix; actualSuffix--, expectedSuffix--) { if (fExpected.charAt(expectedSuffix) != fActual.charAt(actualSuffix)) break; } fSuffix = fExpected.length() - expectedSuffix; } private String computeCommonPrefix() { return (fPrefix \u0026gt; fContextLength ? ELLIPSIS : \u0026#34;\u0026#34;) + fExpected.substring(Math.max(0, fPrefix - fContextLength), fPrefix); } private String computeCommonSuffix() { int end = Math.min(fExpected.length() - fSuffix + 1 + fContextLength, fExpected.length()); return fExpected.substring(fExpected.length() - fSuffix + 1, end) + (fExpected.length() - fSuffix + 1 \u0026lt; fExpected.length() - fContextLength ? ELLIPSIS : \u0026#34;\u0026#34;); } private boolean areStringsEqual() { return fExpected.equals(fActual); } } ë©¤ë²„ ë³€ìˆ˜ ì•ì— ë¶™ì¸ ì ‘ë‘ì–´ ì˜¤ëŠ˜ë‚  ì‚¬ìš©í•˜ëŠ” ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë³€ìˆ˜ ì´ë¦„ì— ë²”ìœ„ë¥¼ ëª…ì‹œí•  í•„ìš”ê°€ ì—†ë‹¤.\nì ‘ë‘ì–´ fëŠ” ì¤‘ë³µë˜ëŠ” ì •ë³´ë‹¤.\n1 2 3 4 5 private int contextLength; private String expected; private String actual; private int prefix; private int suffix; ìº¡ìŠí™”ë˜ì§€ ì•Šì€ ì¡°ê±´ë¬¸ 1 2 3 4 5 6 7 8 9 10 11 public String compact(String message) { if (expected == null || actual == null || areStringsEqual()) { return Assert.format(message, expected, actual); } findCommonPrefix(); findCommonSuffix(); String expected = compactString(this.expected); String actual = compactString(this.actual); return Assert.format(message, expected, actual); } ì˜ë„ë¥¼ ëª…í™•íˆ í‘œí˜„í•˜ë ¤ë©´ ì¡°ê±´ë¬¸ì„ ìº¡ìŠí™” í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤. ì¡°ê±´ë¬¸ì„ ë©”ì„œë“œë¡œ ë½‘ì•„ë‚´ ì ì ˆí•œ ì´ë¦„ì„ ë¶™ì¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public String compact(String message) { if (**shouldNotCompact**()) { return Assert.format(message, expected, actual); } findCommonPrefix(); findCommonSuffix(); String expected = compactString(this.expected); String actual = compactString(this.actual); return Assert.format(message, expected, actual); } private boolean **shouldNotCompact**() { return expected == null || actual == null || areStringsEqual(); } ì¤‘ë³µë˜ëŠ” ë³€ìˆ˜ ì´ë¦„ compact í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” this.expectedì™€ this.acutalê°™ì€ ê²½ìš° ê¸°ì¡´ í•¨ìˆ˜ì— expected, actual ì´ë¼ëŠ” ì§€ì—­ ë³€ìˆ˜ê°€ ìˆì—ˆëŠ”ë°, í´ë˜ìŠ¤ ë³€ìˆ˜ fExpected, fAcutalì—ì„œ fë¥¼ ì œê±°í•˜ì—¬ ê°™ì€ ì´ë¦„ì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤.\ní•¨ìˆ˜ì—ì„œ ë©¤ë²„ ë³€ìˆ˜ì™€ ì´ë¦„ì´ ê°™ì€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ë¥¼ íŒŒì•…í•˜ê³  ë” ì„œìˆ ì (êµ¬ì²´ì )ì¸ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¼ë‹¤.\n1 2 String compactExpected = compactString(expected); String compactActual = compactString(actual); ì¡°ê±´ë¬¸ì˜ ë¶€ì •ë¬¸ ì‚¬ìš© ë¶€ì •ë¬¸ì€ ê¸ì •ë¬¸ë³´ë‹¤ ì´í•´í•˜ê¸° ì•½ê°„ ë” ì–´ë µë‹¤. ì²« ë¬¸ì¥ ifë¥¼ ê¸ì •ìœ¼ë¡œ ë§Œë“¤ì–´ ì¡°ê±´ë¬¸ì„ ë°˜ì „í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public String compact(String message) { if (**canBeCompacted**()) { return Assert.format(message, expected, actual); } findCommonPrefix(); findCommonSuffix(); String expected = compactString(this.expected); String actual = compactString(this.actual); return Assert.format(message, expected, actual); } private boolean **canBeCompacted**() { return expected **!=** null || actual **!=** null || **!**areStringsEqual(); } ë™ì‘, ì˜ë¯¸ë¥¼ ì˜ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì´ë¦„ì„ ì‚¬ìš© compact í•¨ìˆ˜ëŠ” ë¬¸ìì—´ì„ ì•ì¶•í•˜ë¼ëŠ” ì˜ë¯¸ê°€ ê°•í•˜ì§€ë§Œ ì‹¤ì œë¡œ canBeCompactedê°€ falseë©´ ì••ì¶•í•˜ì§€ ì•ŠëŠ”ë‹¤. compactë¼ëŠ” ì´ë¦„ì„ ë¶™ì´ë©´ ì˜¤ë¥˜ ì ê²€ì´ë¼ëŠ” ë¶€ê°€ ë‹¨ê³„(ê¸°ëŠ¥)ì´ ìˆ¨ê²¨ì§„ë‹¤. í•¨ìˆ˜ëŠ” ë‹¨ìˆœíˆ ì••ì¶•ëœ ë¬¸ìì—´ì´ ì•„ë‹ˆë¼ í˜•ì‹ì´ ê°–ì¶°ì§„ ë¬¸ìì—´ì„ ë°˜í™˜í•œë‹¤. ì‹¤ì œë¡œëŠ” formatCompatedComparisonì´ë¼ëŠ” ì´ë¦„ì´ ì í•©í•˜ë‹¤.\nìƒˆ ì´ë¦„ì— ì¸ìˆ˜ë¥¼ ê³ ë ¤í•˜ë©´ ê°€ë…ì„±ì´ í›¨ì‹  ì¢‹ì•„ì§„ë‹¤.\n1 2 3 public String formatCompactedComparison(String message) { ... } í•¨ìˆ˜ê°€ í•œ ê°€ì§€ ì±…ì„ë§Œ ê°€ì§€ê²Œ if ë¬¸ ì•ˆì—ì„œëŠ” ì˜ˆìƒ ë¬¸ìì—´ê³¼ ì‹¤ì œ ë¬¸ìì—´ì„ ì§„ì§œë¡œ ì••ì¶•í•œë‹¤. ì´ ë¶€ë¶„ì„ ë¹¼ë‚´ compactExpectedAndActualì´ë¼ëŠ” ë©”ì„œë“œë¡œ ë§Œë“ ë‹¤.\ní˜•ì‹ì„ ë§ì¶”ëŠ” ì‘ì—…ì€ formatCompactedComparisonì—ê²Œ ì „ì ìœ¼ë¡œ ë§¡ê¸´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 ... private String compactExpected; private String compactActual; ... public String formatCompactedComparison(String message) { if (canBeCompacted()) { **compactExpectedAndActual**(); return Assert.format(message, compactExpected, compactActual); } else { return Assert.format(message, expected, actual); } } private **compactExpectedAndActual**() { findCommonPrefix(); findCommonSuffix(); compactExpected = compactString(expected); compactActual = compactString(actual); } compactExpected, compactActualë¥¼ ë©¤ë²„ ë³€ìˆ˜ë¡œ ìŠ¹ê²©í–ˆë‹¤.\nì‚¬ìš© ë°©ì‹ ì¼ê´€ì„± ìƒˆ í•¨ìˆ˜compactExpectedAndActualì—ì„œ ë§ˆì§€ë§‰ ë‘ ì¤„ì€ ë³€ìˆ˜ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ ì²«ì§¸ ì¤„ê³¼ ë‘˜ì§¸ì¤„ì€ ë°˜í™˜ê°’ì´ ì—†ë‹¤. ë©¤ë²„ë³€ìˆ˜ í•¨ìˆ˜ ì‚¬ìš©ë°©ì‹ì´ ì¼ê´€ì ì´ì§€ ëª»í•˜ë‹¤.\nfindCommonPrefix, findCommonSuffixëŠ” í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë©¤ë²„ë³€ìˆ˜ prefix, suffixì— ê°’ì„ í• ë‹¹í•˜ì§€ë§Œ, compactStringì€ ë°˜í™˜ê°’ì„ ë§Œë“¤ê²Œ ë˜ê³ , ë©¤ë²„ ë³€ìˆ˜ì— ë°˜í™˜ê°’ì„ í• ë‹¹í•œë‹¤. findCommonPrefix, findCommonSuffix ë¥¼ ë³€ê²½í•˜ì—¬ ì ‘ë‘ì–´ ê°’ê³¼ ì ‘ë¯¸ì–´ ê°’ì˜ ìœ„ì¹˜ë¥¼ ë°˜í™˜í•˜ê²Œ ë°”ê¾¼ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 private void compactExpectedAndActual() { prefixIndex = findCommonPrefix(); suffixIndex = findCommonSuffix(); compactExpected = compactString(expected); compactActual = compactString(actual); } private int findCommonPrefix() { int prefixIndex = 0; int end = Math.min(expected.length(), actual.length()); for (; prefixIndex \u0026lt; end; prefixIndex++) { if (expected.charAt(prefixIndex) != actual.charAt(prefixIndex)) break; } return prefixIndex; } private int findCommonSuffix() { int expectedSuffix = expected.length() - 1; int actualSuffix = actual.length() - 1; for (; actualSuffix \u0026gt;= prefixIndex \u0026amp;\u0026amp; expectedSuffix \u0026gt;= prefixIndex; actualSuffix--, expectedSuffix--) { if (expected.charAt(expectedSuffix) != actual.charAt(actualSuffix)) break; } return expected.length() - expectedSuffix; } ìˆ¨ê²¨ì§„ ì‹œê°„ì ì¸ ê²°í•©ì„ ë…¸ì¶œ findCommonSuffix ë¥¼ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ë©´ ìˆ¨ê²¨ì§„ ì‹œê°„ì ì¸ ê²°í•¨ì´ ì¡´ì¬í•œë‹¤. findCommonSuffixëŠ” findCommonPrefixê°€ prefixIndexë¥¼ ê³„ì‚°í•œë‹¤ëŠ” ì‚¬ì‹¤ì— ì˜ì¡´í•˜ê²Œ ëœë‹¤.\në§Œì•½ findCommonPrefixì™€ findCommonSuffixë¥¼ ì˜ëª»ëœ ìˆœì„œë¡œ í˜¸ì¶œí•˜ë©´ ë¬¸ì œë¥¼ ì°¾ê¸° ì–´ë µë‹¤.\në”°ë¼ì„œ ì‹œê°„ ê²°í•¨ì„ ì™¸ë¶€ì— ë…¸ì¶œí•˜ê³ ì findCommonSuffixë¥¼ ê³ ì³ prefixIndexë¥¼ ì¸ìˆ˜ë¡œ ë„˜ê²¼ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 private void compactExpectedAndActual() { prefixIndex = findCommonPrefix(); suffixIndex = findCommonSuffix(prefixIndex); compactExpected = compactString(expected); compactActual = compactString(actual); } private int findCommonSuffix(int prefixIndex) { int expectedSuffix = expected.length() - 1; int actualSuffix = actual.length() - 1; for (; actualSuffix \u0026gt;= prefixIndex \u0026amp;\u0026amp; expectedSuffix \u0026gt;= prefixIndex; actualSuffix--, expectedSuffix--) { if (expected.charAt(expectedSuffix) != actual.charAt(actualSuffix)) break; } return expected.length() - expectedSuffix; } prefixIndexë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì€ í•¨ìˆ˜ í˜¸ì¶œ ìˆœì„œë¥¼ í™•ì‹¤íˆ ëª…ì‹œí•  ìˆ˜ ìˆì§€ë§Œ, prefixIndexê°€ í•„ìš”í•œ ì´ìœ ë¥¼ ëª…í™•íˆ ì„¤ëª…í•˜ì§€ ëª»í•œë‹¤.\ní•„ìš”í•œ ì´ìœ ê°€ ë¶„ëª…íˆ ë“œëŸ¬ë‚˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¤ë¥¸ ê°œë°œìê°€ ì›ë˜ëŒ€ë¡œ ë˜ëŒë ¤ë†“ì„ì§€ë„ ëª¨ë¥¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 private void compactExpectedAndActual() { **findCommonPrefixAndSuffix**(); compactExpected = compactString(expected); compactActual = compactString(actual); } private void **findCommonPrefixAndSuffix**() { **findCommonPrefix**(); int expectedSuffix = expected.length() - 1; int actualSuffix = actual.length() - 1; for (; actualSuffix \u0026gt;= prefixIndex \u0026amp;\u0026amp; expectedSuffix \u0026gt;= prefixIndex; actualSuffix--, expectedSuffix--) { if (expected.charAt(expectedSuffix) != actual.charAt(actualSuffix)) break; } suffixIndex = expected.length() - expectedSuffix; } private **void** findCommonPrefix() { prefixIndex = 0; int end = Math.min(expected.length(), actual.length()); for (; prefixIndex \u0026lt; end; prefixIndex++) if (expected.charAt(prefixIndex) != actual.charAt(prefixIndex)) break; } findCommonPrefixì™€ findCommonSuffixë¥¼ ë˜ëŒë¦¬ê³ , findCommonSuffixë¼ëŠ” ì´ë¦„ì„ findCommonPrefixAndSuffixë¡œ ë°”ê¾¼ í›„ findCommonPrefixAndSuffixì—ì„œ ê°€ì¥ ë¨¼ì € findComonPrefixë¥¼ í˜¸ì¶œí•œë‹¤.\në‘ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ìˆœì„œê°€ ì•ì„œ ê³ ì¹œ ì½”ë“œë³´ë‹¤ í›¨ì”¬ ë” ë¶„ëª…í•´ì§„ë‹¤.\nê·¸ë¦¬ê³  PrefixAndSuffixí•¨ìˆ˜ë¥¼ ì •ë¦¬í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 private void findCommonPrefixAndSuffix() { findCommonPrefix(); int suffixLength = 1; for (; !suffixOverlapsPrefix(suffixLength); suffixLength++) { if (charFromEnd(expected, suffixLength) != charFromEnd(actual, suffixLength)) break; } suffixIndex = suffixLength; } private char charFromEnd(String s, int i) { return s.charAt(s.length() - i); } private boolean suffixOverlapsPrefix(int suffixLength) { return actual.length() - suffixLength \u0026lt; prefixLength || expected.length() - suffixLength \u0026lt; prefixLength; } ì ì ˆí•œ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ê¸° ì½”ë“œë¥¼ ì •ë¦¬í•˜ë‹ˆ suffixIndexê°€ indexê°€ ì•„ë‹Œ ì‹¤ì œë¡œëŠ” ì ‘ë¯¸ì–´ ê¸¸ì´(length)ë¥¼ ì˜ë¯¸í•œë‹¤. ì´ë¦„ì´ ì ì ˆì¹˜ ì•Šë‹¤. prefixIndexë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 public class ComparisonCompactor { ... private int **suffixLength**; ... private void findCommonPrefixAndSuffix() { findCommonPrefix(); **suffixLength** = 0; for (; !suffixOverlapsPrefix(suffixLength); suffixLength++) { if (charFromEnd(expected, suffixLength) != charFromEnd(actual, suffixLength)) break; } } private char charFromEnd(String s, int i) { return s.charAt(s.length() - i - 1); } private boolean suffixOverlapsPrefix(int suffixLength) { return actual.length() - suffixLength \u0026lt;= prefixLength || expected.length() - suffixLength \u0026lt;= prefixLength; } ... private String compactString(String source) { String result = DELTA_START + source.substring(prefixLength, source.length() - **suffixLength**) + DELTA_END; if (prefixLength \u0026gt; 0) result = computeCommonPrefix() + result; if (**suffixLength** \u0026gt; 0) result = result + computeCommonSuffix(); return result; } ... private String computeCommonSuffix() { int end = Math.min(expected.length() - **suffixLength** + contextLength, expected.length()); return expected.substring(expected.length() - **suffixLength**, end) + (expected.length() - **suffixLength** \u0026lt; expected.length() - contextLength ? ELLIPSIS : \u0026#34;\u0026#34;); } } computeCommonSuffixì—ì„œ +1ì„ ì—†ì• ê³  charFromEndì— -1ì„ ì¶”ê°€í•˜ê³  suffixOverlapsPrefixì— â‰¤ ë¥¼ ì‚¬ìš©í–ˆë‹¤. ê·¸ í›„ suffixLengthë¡œ ë°”ê¿” ê°€ë…ì„±ì„ í¬ê²Œ ë†’í ìˆ˜ ìˆì—ˆë‹¤.\në¶ˆí•„ìš”í•œ ì½”ë“œ ì œê±° +1ë¥¼ ì œê±°í•˜ë˜ ì¤‘ compactStringì—ì„œ ë‹¤ìŒ í–‰ì„ ë°œê²¬í–ˆë‹¤.\n1 if (suffixlength \u0026gt; 0) suffixLengthê°€ 1ì”© ê°ì†Œí–ˆìœ¼ë¯€ë¡œ ë‹¹ì—°íˆ ì—°ì‚°ìë¥¼ â‰¥ë¡œ ê³ ì³ì•¼ í•˜ì§€ë§Œ ì§€ê¸ˆ ìƒí™©ì—ì„œëŠ” â‰¥ëŠ” ë‚˜ì˜¬ ìˆ˜ ì—†ë‹¤.\nì½”ë“œë¥¼ ì¢€ ë” ë¶„ì„í•´ë³´ë©´ if ë¬¸ì€ ê¸¸ì´ê°€ 0ì¸ ì ‘ë¯¸ì–´ë¥¼ ê±¸ëŸ¬ë‚´ì–´ suffixIndexê°€ ì–¸ì œë‚˜ 1 ì´ìƒì´ë¯€ë¡œ if ë¬¸ ìì²´ê°€ í•„ìš” ì—†ë‹¤.\ncompactStringì— ìˆëŠ” ifë¬¸ì´ ëª¨ë‘ í•„ìš” ì—†ì–´ ë³´ì—¬ ì œê±°í›„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‹ˆ ëª¨ë‘ í†µê³¼í–ˆë‹¤. ë¶ˆí•„ìš”í•œ ifë¬¸ì„ ì œê±°í•˜ì—¬ ë” ê¹”ë”í•˜ê²Œ ë§Œë“ ë‹¤.\n1 2 3 4 5 6 7 private String compactString(String source) { return computeCommonPrefix() + DELTA_START + source.substring(prefixLength, source.length() - suffixLength) + DELTA_END + computeCommonSuffix(); } ìµœì¢… ì½”ë“œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 package junit.framework; public class ComparisonCompactor { private static final String ELLIPSIS = \u0026#34;...\u0026#34;; private static final String DELTA_END = \u0026#34;]\u0026#34;; private static final String DELTA_START = \u0026#34;[\u0026#34;; private int contextLength; private String expected; private String actual; private int prefixLength; private int suffixLength; public ComparisonCompactor( int contextLength, String expected, String actual) { this.contextLength = contextLength; this.expected = expected; this.actual = actual; } public String formatCompactedComparison(String message) { String compactExpected = expected; String compactActual = actual; if (shouldBeCompacted()) { findCommonPrefixAndSuffix(); compactExpected = compact(expected); compactActual = compact(actual); } return Assert.format(message, compactExpected, compactActual); } private boolean shouldBeCompacted() { return !shouldNotBeCompacted(); } private boolean shouldNotBeCompacted() { return expected == null || actual == null || expected.equals(actual); } private void findCommonPrefixAndSuffix() { findCommonPrefix(); suffixLength = 0; for (; !suffixOverlapsPrefix(); suffixLength++) { if (charFromEnd(expected, suffixLength) != charFromEnd(actual, suffixLength)) break; } } private char charFromEnd(String s, int i) { return s.charAt(s.length() - i - 1); } private boolean suffixOverlapsPrefix() { return actual.length() - suffixLength \u0026lt;= prefixLength || expected.length() - suffixLength \u0026lt;= prefixLength; } private void findCommonPrefix() { prefixLength = 0; int end = Math.min(expected.length(), actual.length()); for (; prefixLength \u0026lt; end; prefixLength++) if (expected.charAt(prefixLength) != actual.charAt(prefixLength)) break; } private String compact(String s) { return new StringBuilder() .append(startingEllipsis()) .append(startingContext()) .append(DELTA_START) .append(delta(s)) .append(DELTA_END) .append(endingContext()) .append(endingEllipsis()) .toString(); } private String startingEllipsis() { return prefixLength \u0026gt; contextLength ? ELLIPSIS : \u0026#34;\u0026#34;; } private String startingContext() { int contextStart = Math.max(0, prefixLength - contextLength); int contextEnd = prefixLength; return expected.substring(contextStart, contextEnd); } private String delta(String s) { int deltaStart = prefixLength; int deltaEnd = s.length() - suffixLength; return s.substring(deltaStart, deltaEnd); } private String endingContext() { int contextStart = expected.length() - suffixLength; int contextEnd = Math.min(contextStart + contextLength, expected.length()); return expected.substring(contextStart, contextEnd); } private String endingEllipsis() { return (suffixLength \u0026gt; contextLength ? ELLIPSIS : \u0026#34;\u0026#34;); } } ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ì´ˆë°˜ì— ë‚´ë ¸ë˜ ê²°ì • ì¼ë¶€ë¥¼ ë²ˆë³µí–ˆë‹¤.\nì²˜ìŒ ì¶”ì¶œí–ˆë˜ ë©”ì„œë“œ ëª‡ ê°œë¥¼ formatCompactedComparisonì—ë‹¤ ë„ë¡œ ì§‘ì–´ë„£ì—ˆë‹¤. shouldNotBeCompacted ì¡°ê±´ì„ ë˜ëŒë ¸ë‹¤. ì½”ë“œë¥¼ ë¦¬í™í„°ë§ í•˜ë‹¤ë³´ë©´ ì›ë˜ í–ˆë˜ ë³€ê²½ì„ ë˜ëŒë¦¬ëŠ” ê²½ìš°ê°€ í”í•˜ë‹¤.\në¦¬í™í„°ë§ì€ ì½”ë“œê°€ ì–´ëŠ ìˆ˜ì¤€ì— ì´ë¥¼ë•Œê¹Œì§€ ìˆ˜ë§ì€ ì‹œí–‰ì°©ì˜¤ë¥¼ ë°˜ë³µí•˜ëŠ” ì‘ì—…ì´ë‹¤.\n","date":"2023-04-21T11:11:13+09:00","image":"https://codemario318.github.io/post/clean-code/15/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/15/","title":"í´ë¦°ì½”ë“œ: 15. JUnit ë“¤ì—¬ë‹¤ë³´ê¸°"},{"content":" Heruistics(ë°œê²¬ë²•): ê²½í—˜, í•™ìŠµ ë“±ìœ¼ë¡œ ìŠµë“í•œ ì§ê°ì„ ì´ìš©í•´ í˜„ì‹¤ì ìœ¼ë¡œ ë§Œì¡±í•  ë§Œí•œ ìˆ˜ì¤€ì˜ í•´ë‹µì„ ì°¾ëŠ” ê²ƒ\në¦¬í™í† ë§(ë§ˆí‹´ íŒŒìš¸ëŸ¬)ì—ì„œ ì–¸ê¸‰ëœ ë‚´ìš©ê³¼ ì €ìì˜ ê²½í—˜ì„ í•©ì³ ê¹¨ë—í•˜ì§€ ëª»í•œ ì½”ë“œë¥¼ ë°œê²¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•˜ì—¬ ì„¤ëª…í–ˆë‹¤.\nì•„ë˜ì— í•´ë‹¹ëœë‹¤ë©´ ê¹¨ë—í•œ ì½”ë“œì¸ì§€ ê³ ë¯¼í•´ì„œ í™•ì¸í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤.\nì£¼ì„ C1: ë¶€ì ì ˆí•œ ì •ë³´ ì£¼ì„ì€ ì½”ë“œì™€ ì„¤ê³„ì— ê¸°ìˆ ì ì¸ ì„¤ëª…ì„ ë¶€ì—°í•˜ëŠ” ìˆ˜ë‹¨ì´ë‹¤.\në‹¤ë¥¸ ì‹œìŠ¤í…œì— ì €ì¥í•  ì •ë³´ëŠ” ì£¼ì„ìœ¼ë¡œ ì ì ˆí•˜ì§€ ëª»í•˜ë‹¤.\nì†ŒìŠ¤ ì½”ë“œ ê´€ë¦¬ ì‹œìŠ¤í…œ ë²„ê·¸ ì¶”ì  ì‹œìŠ¤í…œ ì´ìŠˆ ì¶”ì  ì‹œìŠ¤í…œ ê¸°íƒ€ ê¸°ë¡ ê´€ë¦¬ í”„ë¡œê·¸ë¨ ë“± ì˜ˆë¥¼ ë“¤ì–´, ë³€ê²½ ì´ë ¥ì€ ê³¼ë„í•œ ì •ë³´ë¡œ ì½”ë“œë¥¼ ë²ˆì¡í•˜ê²Œ ë§Œë“ ë‹¤.\nC2: ì“¸ëª¨ì—†ëŠ” ì£¼ì„ ì“¸ëª¨ ì—†ëŠ” ì£¼ì„ì€ ì¼ë‹¨ ë“¤ì–´ê°€ê³  ë‚˜ë©´ ì—…ë°ì´íŠ¸ë¥¼ ì£¼ì €í•˜ê¸° ë•Œë¬¸ì— ë³€í•´ê°€ëŠ” ì½”ë“œì—ì„œ ì‰½ê²Œ ë©€ì–´ì§€ê³  ì½”ë“œë¥¼ ê·¸ë¦‡ëœ ë°©í–¥ìœ¼ë¡œ ì´ëŒ ì—¬ì§€ê°€ ìˆë‹¤.\nì˜¤ë˜ëœ ì£¼ì„, ì—‰ëš±í•œ ì£¼ì„, ì˜ëª»ëœ ì£¼ì„ì€ ë” ì´ìƒ ì“¸ëª¨ê°€ ì—†ë‹¤.\nì£¼ì„ì€ ë¹¨ë¦¬ ë‚¡ëŠ”ë‹¤. ë”°ë¼ì„œ ì“¸ëª¨ ì—†ì–´ì§ˆ ì£¼ì„ì€ ë‹¬ì§€ ì•ŠëŠ” í¸ì´ ì¢‹ë‹¤. ë˜í•œ ì“¸ëª¨ ì—†ì–´ì§„ ì£¼ì„ì€ ì¬ë¹¨ë¦¬ ì‚­ì œí•˜ëŠ” í¸ì´ ê°€ì¥ ì¢‹ë‹¤.\nC3: ì¤‘ë³µëœ ì£¼ì„ ì£¼ì„ì€ ì½”ë“œë§Œìœ¼ë¡œ ë‹¤í•˜ì§€ ëª»í•˜ëŠ” ì„¤ëª…ì„ ë¶€ì—°í•˜ëŠ” ì—­í• ì„ í•´ì•¼í•œë‹¤.\nì„œìˆ ì ì¸ ì´ë¦„ ë“± ê¹¨ë—í•œ ì½”ë“œë¡œ ì„¤ëª…í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ìœ¼ë¡œ ì£¼ì„ì„ ë§Œë“¤ì–´ ì¤‘ë³µë˜ëŠ” ì„¤ëª…ì„ ë§Œë“œëŠ” ì£¼ì„ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\nC4: ì„±ì˜ì—†ëŠ” ì£¼ì„ ê¼­ í•„ìš”í•œ ì£¼ì„ì€ ì˜ ì‘ì„±í•´ì•¼í•  ì˜ë¬´ê°€ ìˆë‹¤.\në‹¨ì–´ë¥¼ ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•œë‹¤. ë¬¸ë²•ê³¼ êµ¬ë‘ì ì„ ì˜¬ë°”ë¡œ ì‚¬ìš©í•œë‹¤. ì£¼ì ˆëŒ€ì§€ ì•ŠëŠ”ë‹¤. ë‹¹ì—°í•œ ì†Œë¦¬ë¥¼ ë°˜ë³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ê°„ê²°í•˜ê³  ëª…ë£Œí•˜ê²Œ ì‘ì„±í•œë‹¤. C5: ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œ ì£¼ì„ ì²˜ë¦¬ëœ ì½”ë“œëŠ” ë§Œë“¤ì–´ì§€ë©´ ì½”ë“œì˜ ì¤‘ìš”ë„ë‚˜ ì˜ë¯¸ì™€ ê´€ê³„ì—†ì´, (ì–¼ë§ˆë‚˜ ì˜¤ë˜ëœ ì½”ë“œì¸ì§€, ì¤‘ìš”í•œ ì½”ë“œì¸ì§€) ëˆ„êµ°ê°€ê°€ ì‚¬ìš©í• ìˆ˜ë„ ìˆì„ ê²ƒì´ë¼ëŠ” ìƒê° ë•Œë¬¸ì—ì‚­ì œí•˜ê¸° êº¼ë ¤ì§„ë‹¤.\nê²°êµ­ ì´ë ‡ê²Œ ë‚¨ê²¨ì§„ ì½”ë“œëŠ” ì½ëŠ” ì‚¬ëŒì„ í˜¼ë™í•˜ê²Œ í•˜ëŠ” ë“± ì½”ë“œë¥¼ ì˜¤ì—¼ì‹œí‚¨ë‹¤.\nì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬ëœ ì½”ë“œë¥¼ ë°œê²¬í•˜ë©´ ì¦‰ê° ì§€ì›Œë¼! ëˆ„êµ°ê°€ í•„ìš”ë¡œ í•œë‹¤ë©´ ë²„ì „ê´€ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬ëœ ì½”ë“œëŠ” ëŒ€ë¶€ë¶„ ë‹¹ì¥ í•„ìš”í•œ ê²½ìš°ê°€ ì—†ì–´ì„œ ì´ì „ì— í•„ìš”í•œ ì‚¬ëŒë„ ì˜¤ëœ ê¸°ê°„ í›„ì— ì†Œìˆ˜ì˜ ì‚¬ëŒì¼ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. ë”°ë¼ì„œ ì£¼ì„ìœ¼ë¡œ ë‚¨ê²¨ ì½”ë“œë¥¼ ì˜¤ì—¼ì‹œì¼œ ì‚¬ëŒë“¤ì„ í˜¼ë™ì‹œí‚¤ëŠ” ê²ƒ ë³´ë‹¤. ë²„ì „ê´€ë¦¬ ì‹œìŠ¤í…œì„ í†µí•´ í•„ìš”í•œ ì‚¬ëŒë“¤ì´ ì°¾ê²Œ ë‚¨ê¸°ëŠ” ê²ƒì´ ë” ì˜¬ë°”ë¥¸ ì„ íƒì´ë‹¤.\ní™˜ê²½ E1: ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ë¹Œë“œí•´ì•¼ í•œë‹¤. ë¹Œë“œëŠ” ê°„ë‹¨íˆ í•œ ë‹¨ê³„ë¡œ ëë‚˜ì•¼ í•œë‹¤. ê¸°íƒ€ ì‹œìŠ¤í…œì— í•„ìš”í•œ íŒŒì¼ì„ ì°¾ëŠë¼ ì—¬ê¸°ì €ê¸° ë’¤ì ì„ í•„ìš”ê°€ ì—†ì–´ì•¼ í•œë‹¤. í•œ ëª…ë ¹ìœ¼ë¡œ ì „ì²´ë¥¼ ì²´í¬ì•„ì›ƒí•´ì„œ í•œ ëª…ë ¹ìœ¼ë¡œ ë¹Œë“œí•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.\nE2: ì—¬ëŸ¬ ë‹¨ê³„ë¡œ í…ŒìŠ¤íŠ¸í•´ì•¼ í•œë‹¤. í…ŒìŠ¤íŠ¸ ìì²´ê°€ ê·€ì°®ì€ í–‰ìœ„ì´ë‹¤. ë”°ë¼ì„œ ê°„ë‹¨í•˜ê³  ë¹ ë¥´ê³  ê²°ê³¼ê°€ ëª…ë£Œí•´ì•¼ ìì£¼ ìì£¼ í™œìš©ë  ìˆ˜ ìˆê³ , ì´ë¥¼ í†µí•´ ì½”ë“œì˜ í’ˆì§ˆ, í…ŒìŠ¤íŠ¸ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.\nëª¨ë“  ë‹¨ìœ„í…ŒìŠ¤íŠ¸ëŠ” í•œ ëª…ë ¹ìœ¼ë¡œ ëŒë ¤ì•¼ í•œë‹¤. IDEì—ì„œ ë²„íŠ¼ í•˜ë‚˜ë¡œ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦°ë‹¤ë©´ ê°€ì¥ ì´ìƒì ì´ë‹¤. ì•„ë¬´ë¦¬ ì—´ì•…í•œ í™˜ê²½ì´ë¼ë„ ì…¸ì—ì„œ ëª…ë ¹ í•˜ë‚˜ë¡œ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\ní•¨ìˆ˜ F1: ë„ˆë¬´ ë§ì€ ì¸ìˆ˜ í•¨ìˆ˜ì—ì„œ ì¸ìˆ˜ ê°œìˆ˜ëŠ” ì ì„ìˆ˜ë¡ ê³ ë¯¼í•  ì‚¬í•­ë“¤ì´ ì ì–´ì§„ë‹¤. ë”°ë¼ì„œ ê°€ëŠ¥í•˜ë‹¤ë©´ ì¸ìˆ˜ê°€ ì—†ëŠ”ê²Œ ì¢‹ê³  ì ì— ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì¸ìˆ˜ê°€ 4ê°œ ì´ìƒì¼ ê²½ìš° ì¸ìˆ˜ê°€ ì •ë§ë¡œ í•„ìš”í•œì§€ ê³ ë¯¼í•´ë´ì•¼ í•œë‹¤.\nF2: ì¶œë ¥ ì¸ìˆ˜ ì¶œë ¥ ì¸ìˆ˜: í•¨ìˆ˜ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©ëœ ì¸ìˆ˜ê°€ ì¶œë ¥ì´ ë˜ëŠ” ê²½ìš°\nì¼ë°˜ì ìœ¼ë¡œ ë…ìëŠ” ì¶œë ¥ì´ ì•„ë‹Œ ì…ë ¥ìœ¼ë¡œ ìƒê°í•œë‹¤. í•¨ìˆ˜ì—ì„œ ì–´ë– í•œ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´, ë³€ê²½ ëŒ€ìƒì„ ì¸ìˆ˜ë¡œ ë„£ì–´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê°ì²´ì˜ ìƒíƒœë¥¼ í‘œí˜„í•˜ê²Œ ë§Œë“¤ê³  í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ this ê°™ì€ í‚¤ì›Œë“œë¥¼ í†µí•´ ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤.\nF3: í”Œë˜ê·¸ ì¸ìˆ˜ Boolean ì¸ìˆ˜ëŠ” í•¨ìˆ˜ê°€ ì—¬ëŸ¬ ê¸°ëŠ¥(ì°¸ì¼ë•Œ ì´ê±° ì•„ë‹ë•Œ ì´ê±°)ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ëª…ë°±í•œ ì¦ê±°ë‹¤. í”Œë˜ê·¸ ì¸ìˆ˜ëŠ” í˜¼ë€ì„ ì´ˆë˜í•˜ë¯€ë¡œ í”¼í•´ì•¼í•œë‹¤.\nF4: ì£½ì€ í•¨ìˆ˜ ì•„ë¬´ë„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ëŠ” ì‚­ì œí•œë‹¤.\nì¼ë°˜ G1: í•œ ì†ŒìŠ¤ íŒŒì¼ì— ì—¬ëŸ¬ ì–¸ì–´ë¥¼ ì‚¬ìš©í•œë‹¤. ì˜¤ëŠ˜ë‚  í”„ë¡œê·¸ë˜ë° í™˜ê²½ì€ í•œ ì†ŒìŠ¤ íŒŒì¼ ë‚´ì—ì„œ ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•œë‹¤.\nì´ìƒì ìœ¼ë¡œ ì†ŒìŠ¤ íŒŒì¼ í•˜ë‚˜ì— ì–¸ì–´ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ê°€ì¥ ì¢‹ìœ¼ë‚˜, í˜„ì‹¤ì ìœ¼ë¡œ ì—¬ëŸ¬ ì–¸ì–´ê°€ ë¶ˆê°€í”¼í•˜ë‹¤.\ní•˜ì§€ë§Œ ì†ŒìŠ¤ íŒŒì¼ì—ì„œ ì–¸ì–´ ìˆ˜ì™€ ë²”ìœ„ë¥¼ ìµœëŒ€í•œ ì¤„ì´ë„ë¡ ì• ì¨ì•¼ í•œë‹¤.\nG2: ë‹¹ì—°í•œ ë™ì‘ì„ êµ¬í˜„í•˜ì§€ ì•ŠëŠ”ë‹¤. ìµœì†Œ ë†€ëŒ ì›ì¹™(The Principle of Least Surprise): \u0026ldquo;í•„ìš”í•œ ê¸°ëŠ¥ì— í¬ë‚˜í° ê¹œì§ ë†€ë˜í‚¬ë§Œí•œ ìš”ì†Œê°€ ìˆë‹¤ë©´ í•´ë‹¹ ê¸°ëŠ¥ì„ ë‹¤ì‹œ ì„¤ê³„í•  í•„ìš”ê°€ ìˆì„ ìˆ˜ ìˆë‹¤â€\ní•¨ìˆ˜ë‚˜ í´ë˜ìŠ¤ëŠ” ë‹¤ë¥¸ í”„ë¡œê·¸ë˜ë¨¸ê°€ ë‹¹ì—°í•˜ê²Œ ì—¬ê¸¸ë§Œí•œ ë™ì‘ê³¼ ê¸°ëŠ¥ì„ ì œê³µí•´ì•¼ í•œë‹¤.\nG3: ê²½ê³„ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ì½”ë“œë¥¼ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•˜ëŠ”ê²ƒì€ ë‹¹ì—°í•˜ì§€ë§Œ ë³µì¡í•˜ë‹¤ëŠ” ê²ƒì„ ê´€ê³¼í•˜ê³  ì§ê´€ì— ì˜ì¡´í•˜ì—¬ ë§Œë“ ë‹¤. ì´ëŸ¬í•œ ê³¼ì •ì—ì„œ ëª¨ë“  ê²½ê³„ì™€ êµ¬ì„ì§„ ê³³ì—ì„œ ì¦ëª…í•˜ì§€ ì•ŠëŠ”ë‹¤.\në¶€ì§€ëŸ°í•¨ì„ ëŒ€ì‹ í•  ì§€ë¦„ê¸¸ì€ ì—†ë‹¤. ëª¨ë“  ê²½ê³„ì¡°ê±´, ëª¨ë“  êµ¬ì„ì§„ ê³³, ëª¨ë“  ì˜ˆì™¸ëŠ” ìš°ì•„í•˜ê³  ì§ê´€ì ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì¢Œì´ˆì‹œí‚¬ ì•”ì´ˆë‹¤.\nìŠ¤ìŠ¤ë¡œì˜ ì§ê´€ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ëª¨ë“  ê²½ê³„ì¡°ê±´ì„ ì°¾ì•„ë‚´ í…ŒìŠ¤íŠ¸ í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\nG4: ì•ˆì „ ì ˆì°¨ ë¬´ì‹œ. ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œê»´ë‘ê³  ë‚˜ì¤‘ìœ¼ë¡œ ë¯¸ë£¨ëŠ” íƒœë„ëŠ” ì‹ ìš©ì¹´ë“œê°€ ê³µì§œ ëˆì´ë¼ëŠ” ìƒê°ë§Œí¼ ìœ„í—˜í•˜ë‹¤.\nG5: ì¤‘ë³µ DRY(Donâ€™t Reapeat Yourself): ìµìŠ¤íŠ¸ë¦¼ í”„ë¡œê·¸ë˜ë°ì˜ í•µì‹¬ ê·œì¹™ì¤‘ í•˜ë‚˜ë¡œ ì„ ì–¸í•œ í›„ â€œí•œ ë²ˆ, ë‹¨ í•œë²ˆë§Œ(Once, and only once)â€ ë¡  ì œí”„ë¦¬ìŠ¤ëŠ” ì´ ê·œì¹™ì„ â€œëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•œë‹¤â€ ê·œì¹™ ë‹¤ìŒìœ¼ë¡œ ì¤‘ìš”í•˜ê²Œ ê¼½ì•˜ë‹¤.\nì½”ë“œì—ì„œ ì¤‘ë³µì„ ë°œê²¬í•  ë•Œë§ˆë‹¤ ì¶”ìƒí™”í•  ê¸°íšŒë¡œ ê°„ì£¼í•˜ë¼. ì¤‘ë³µëœ ì½”ë“œë¥´ í•˜ìœ„ ë£¨í‹´ì´ë‚˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ëŠ” ë“± ì¶”ìƒí™”ë¡œ ì¤‘ë³µì„ ì •ë¦¬í•˜ë©´ ì„¤ê³„ ì–¸ì–´ì˜ ì–´íœ˜ê°€ ëŠ˜ì–´ë‚œë‹¤.\nG6: ì¶”ìƒí™” ìˆ˜ì¤€ì´ ì˜¬ë°”ë¥´ì§€ ëª»í•˜ë‹¤. ê¸°ì´ˆ í´ë˜ìŠ¤ëŠ” êµ¬í˜„ ì •ë³´ë¥¼ ëª°ë¼ì•¼ í•œë‹¤. (êµ¬í˜„ì— ê´€ê³„ì—†ì´ ì˜ë„í•œ ê²°ê³¼ë§Œ ë°›ì•„ì˜¤ê³ , ì´ë¦„ì„ í†µí•´ ê²°ê³¼ë¬¼ì„ ì˜ í‘œí˜„í•´ì•¼ í•œë‹¤.)\nì¶”ìƒí™”ëŠ” ì €ì°¨ì› ìƒì„¸ ê°œë…ì—ì„œ ê³ ì°¨ì› ì¼ë°˜ ê°œë…ì„ ë¶„ë¦¬í•œë‹¤.\nì¶”ìƒí™”ë¡œ ê°œë…ì„ ë¶„ë¦¬í•  ë•ŒëŠ” ëª¨ë“  ì €ì°¨ì› ê°œë…ì„ íŒŒìƒ í´ë˜ìŠ¤ì— ë„£ê³ , ëª¨ë“  ê³ ì°¨ì› ê°œë…ì€ ê¸°ì´ˆ í´ë˜ìŠ¤ì— ë„£ëŠ”ë‹¤.\nì„¸ë¶€ êµ¬í˜„ê³¼ ê´€ë ¨í•œ ìƒìˆ˜, ë³€ìˆ˜, ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ëŠ” ê¸°ì´ˆ í´ë˜ìŠ¤ì— ë„£ìœ¼ë©´ ì•ˆëœë‹¤. 1 2 3 4 5 6 7 public interface Stack { Object pop() throw EmptyException; void push(Object o) throws FullException; double percentFull(); class EmptyEception extends Exception {} class FullException extends Exception {} } percentFulll í•¨ìˆ˜ëŠ” ì¶”ìƒí™” ìˆ˜ì¤€ì´ ì˜¬ë°”ë¥´ì§€ ëª»í•¨ ê½‰ ì°¬ ì •ë„ë¥¼ ì˜ë¯¸í•˜ëŠ” ê²°ê³¼ë¬¼ì„ ë°˜í™˜í•˜ëŠ”ë°, ê²½ìš°ì— ë”°ë¼ì„œ (ex. í¬ê¸°ê°€ ë¬´í•œëŒ€) ê½‰ ì°¬ ì •ë„ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ BoundedStack ê°™ì€ íŒŒìƒ ì¸í„°í˜ì´ìŠ¤ì— ë„£ì–´ì•¼ ë§ˆë•…í•˜ë‹¤. stackì˜ í¬ê¸°ê°€ ë…¼ë¦¬ì ìœ¼ë¡œ ë¬´í•œí•œ ê²½ìš° 0ì„ ë°˜í™˜í•˜ë©´ ëœë‹¤ê³  í•˜ì§€ë§Œ ë¬¼ë¦¬ì ìœ¼ë¡œ ë¬´í•œí•  ìˆ˜ ì—†ë‹¤. 1 stack.percentFull() \u0026lt; 50.0; ìœ„ ì½”ë“œì˜ ê²½ìš° ìŠ¤íƒ í¬ê¸°ë¥¼ í™•ì¸í• ë•Œ OutOfMemoryException ì˜ˆì™¸ê°€ ë°œìƒí•  ì—¬ì§€ê°€ ìˆë‹¤. ë˜í•œ 0ì„ ë°˜í™˜í•˜ë©´ ê±°ì§“ëœ ì •ë³´ë¥¼ ë°˜í™˜í•˜ê²Œ ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ stackì„ êµ¬í˜„í•  ë•Œ í¬ê¸°ë¥¼ ì €ì¥í•  ë³€ìˆ˜ë¥¼ ë§Œë“¦. push í• ë•Œ í¬ê¸°ê°’ì„ ì¦ê°€ì‹œí‚¤ë¯€ë¡œ í•œê³„ë¥¼ ë„˜ì–´ì„œëŠ” ê°¯ìˆ˜ë¥¼ ì €ì¥í•  ë•Œ ì˜ˆì™¸ê°€ ë°œìƒì‹œí‚¬ìˆ˜ ìˆìŒ percentFullì„ êµ¬í˜„í•œë‹¤ê³  í•˜ë”ë¼ë„, ë¬´í•œí•œ ê²½ìš°ë¥¼ ê²€ì‚¬í•´ì„œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŒ G7: ê¸°ì´ˆ í´ë˜ìŠ¤ê°€ íŒŒìƒ í´ë˜ìŠ¤ì— ì˜ì¡´í•œë‹¤. ê°œë…ì„ ê¸°ì´ˆ í´ë˜ìŠ¤ì™€ íŒŒìƒ í´ë˜ìŠ¤ë¡œ ë‚˜ëˆ„ëŠ” ê°€ì¥ í”í•œ ì´ìœ ëŠ” ê³ ì°¨ì› ê¸°ì´ˆ í´ë˜ìŠ¤ ê°œë…ì„ ì €ì°¨ì› íŒŒìƒ í´ë˜ìŠ¤ ê°œë…ìœ¼ë¡œë¶€í„° ë¶„ë¦¬í•´ ë…ë¦½ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ì„œë‹¤.\në”°ë¼ì„œ ê¸°ì´ˆ í´ë˜ìŠ¤ëŠ” íŒŒìƒ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë­”ê°€ ë¬¸ì œê°€ ìˆë‹¤ëŠ” ë§ì´ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œëŠ” ê¸°ì´ˆ í´ë˜ìŠ¤ì™€ íŒŒìƒ í´ë˜ìŠ¤ë¥¼ ë‹¤ë¥¸ íŒŒì¼ë¡œ ë°°í¬í•˜ëŠ” í¸ì´ ì¢‹ë‹¤.\në…ë¦½ì ì¸ ê°œë³„ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ì‹œìŠ¤í…œì„ ë°°ì¹˜í•  ìˆ˜ ìˆë‹¤. ì»´í¬ë„ŒíŠ¸ë¥¼ ë³€ê²½í•œë‹¤ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë§Œ ë‹¤ì‹œ ë°°ì¹˜í•˜ë©´ ëœë‹¤. ì¦‰, ë³€ê²½ì´ ì‹œìŠ¤í…œì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ì•„ì£¼ ì‘ì•„ì§€ë¯€ë¡œ í˜„ì¥ì—ì„œ ì‹œìŠ¤í…œì„ ìœ ì§€ë³´ìˆ˜í•˜ê¸°ê°€ í•œê²° ìˆ˜ì›”í•˜ê²Œ ëœë‹¤.\nG8: ê³¼ë„í•œ ì •ë³´ í´ë˜ìŠ¤ë‚˜ ëª¨ë“ˆ ì¸í„°í˜ì´ìŠ¤ì— ë…¸ì¶œí•  í•¨ìˆ˜ë¥¼ ì œí•œí•˜ì—¬ í•„ìš”í•œ ê¸°ëŠ¥ë§Œ í™œìš©í•˜ë„ë¡ í•œë‹¤.\nìë£Œì™€ í•¨ìˆ˜ë¥¼ ìµœëŒ€í•œ ìˆ¨ê¸°ê³  í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ê¹ê¹í•˜ê²Œ ê³µê°œí•˜ì—¬ ê²°í•©ë„ë¥¼ ë†’í ì—¬ì§€ë¥¼ ë§Œë“¤ì§€ ë§ˆë¼\nì˜ ì •ì˜ëœ ëª¨ë“ˆì€ ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ì£¼ ì‘ë‹¤. ì‘ì€ ì¸í„°í˜ì´ìŠ¤ë¡œë„ ë§ì€ ë™ì‘ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\në°˜ë©´ ë¶€ì‹í•˜ê²Œ ì •ì˜ëœ ëª¨ë“ˆì€ ì¸í„°í˜ì´ìŠ¤ê°€ êµ¬ì§ˆêµ¬ì§ˆí•˜ë‹¤. ê·¸ë˜ì„œ ê°„ë‹¨í•œ ë™ì‘ í•˜ë‚˜ì—ë„ ì˜¨ê°– ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•˜ë‹¤.\nì˜ ì •ì˜ëœ ì¸í„°í˜ì´ìŠ¤ëŠ” ë§ì€ í•¨ìˆ˜ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. í•¨ìˆ˜ë¥¼ ì ê²Œ ì œê³µí•˜ê¸° ë•Œë¬¸ì— (ê²°í•©ë„ë¥¼ ë†’í ì—¬ì§€ê°€ ì ìœ¼ë¯€ë¡œ) ê²°í•©ë„ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ë‚®ì•„ì§„ë‹¤.\ní´ë˜ìŠ¤ê°€ ì œê³µí•˜ëŠ” ë©”ì„œë“œ ìˆ˜ëŠ” ì‘ì„ìˆ˜ë¡ ì¢‹ë‹¤. í•¨ìˆ˜ê°€ ì•„ëŠ” ë³€ìˆ˜ ìˆ˜ë„ ì‘ì„ìˆ˜ë¡ ì¢‹ë‹¤. í´ë˜ìŠ¤ì— ë“¤ì–´ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ìˆ˜ë„ ì‘ì„ìˆ˜ë¡ ì¢‹ë‹¤. G9: ì£½ì€ ì½”ë“œ ì£½ì€ ì½”ë“œë€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ê°€ë¥´í‚¨ë‹¤. ì£½ì€ ì½”ë“œë¥¼ ë°œê²¬í•˜ë©´ ì¥ë¡€ì‹ì„ ì¹˜ë¤„ì¤˜ë¼!\në¶ˆê°€ëŠ¥í•œ ì¡°ê±´ì„ í™•ì¸í•˜ëŠ” if ë¬¸ thorw ë¬¸ì´ ì—†ëŠ” try ë¬¸ì—ì„œ catch ë¸”ë¡ ì•„ë¬´ë„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ switch-case ë¬¸ì—ì„œ ë¶ˆê°€ëŠ¥í•œ case ì¡°ê±´ ë“± ì£½ì€ ì½”ë“œëŠ” ì„¤ê³„ê°€ ë³€í•´ë„ ì œëŒ€ë¡œ ìˆ˜ì •ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ ê·œì¹™ì´ë‚˜ í‘œê¸°ë²•ì„ ë”°ë¥´ì§€ ì•Šì•„ ì¼ê´€ì„±ì„ í•´ì¹˜ê±°ë‚˜ ë ˆê±°ì‹œë¡œ ë‚¨ê²Œë˜ê³ , ë‹¤ë¥¸ ì½”ë“œë“¤ë„ ê°™ì´ ì˜¤ì—¼ì‹œí‚¬ ì—¬ì§€ë¥¼ ì¤€ë‹¤.\nG10: ìˆ˜ì§ ë¶„ë¦¬ ë³€ìˆ˜ì™€ í•¨ìˆ˜ëŠ” ì‚¬ìš©ë˜ëŠ” ìœ„ì¹˜ì— ê°€ê¹ê²Œ ì •ì˜í•œë‹¤.\nì§€ì—­ ë³€ìˆ˜ëŠ” ì²˜ìŒìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì§ì „ì— ì„ ì–¸í•˜ë©° ìˆ˜ì§ìœ¼ë¡œ ê°€ê¹Œìš´ ê³³ì— ìœ„ì¹˜í•´ì•¼ í•œë‹¤. ë¹„ê³µê°œ í•¨ìˆ˜ëŠ” ì²˜ìŒìœ¼ë¡œ í˜¸ì¶œí•¨ ì§í›„ì— ì •ì˜í•œë‹¤. G11: ì¼ê´€ì„± ë¶€ì¡± ê°„ë‹¨í•œ ì¼ê´€ì„±ë§Œìœ¼ë¡œë„ ì½”ë“œë¥¼ ì½ê³  ìˆ˜ì •í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\nì–´ë–¤ ê°œë…ì„ íŠ¹ì • ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤ë©´ ìœ ì‚¬í•œ ê°œë…ë„ ê°™ì€ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•œë‹¤.\nìµœì†Œ ë†€ëŒ ì›ì¹™ì—ë„ ë¶€í•©í•œë‹¤. í‘œê¸°ë²•ì€ ì‹ ì¤‘í•˜ê²Œ ì„ íƒí•˜ê³ , ì„ íƒëœ í‘œê¸°ë²•ì„ ì¤€ìˆ˜í•´ì•¼ í•œë‹¤.\nG12: ì¡ë™ì‚¬ë‹ˆ ë¹„ì–´ ìˆëŠ” ê¸°ë³¸ ìƒì„±ì ì•„ë¬´ë„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë³€ìˆ˜ ì•„ë¬´ë„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ ì •ë³´ë¥¼ ì œê³µí•˜ì§€ ëª»í•˜ëŠ” ì£¼ì„ ì½”ë“œë§Œ ë³µì¡í•˜ê²Œ ë§Œë“¤ ë¿ì´ë¯€ë¡œ ì œê±°í•œë‹¤.\nG13: ì¸ìœ„ì ì¸ ê²°í•© í•¨ìˆ˜, ìƒìˆ˜, ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ë•ŒëŠ” ì‹œê°„ì„ ë“¤ì—¬ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¥¼ ê³ ë¯¼í•œë‹¤.\nì„œë¡œ ë¬´ê´€í•œ ê°œë…ì„ ì¸ìœ„ì ìœ¼ë¡œ ê²°í•©í•˜ì§€ ì•ŠëŠ”ë‹¤.\nEnum ì¼ë°˜ì ì¸ enumì€ íŠ¹ì • í´ë˜ìŠ¤ì— ì†í•  ì´ìœ ê°€ ì—†ë‹¤. enumì´ í´ë˜ìŠ¤ì— ì†í•˜ë©´ ì‚¬ìš©í•˜ëŠ” ì½”ë“œê°€ íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ì•Œì•„ì•¼ í•œë‹¤. ë²”ìš© static ë³€ìˆ˜ ì¼ë°˜ì ìœ¼ë¡œ ì¸ìœ„ì ì¸ ê²°í•©ì€ ì§ì ‘ì ì¸ ìƒí˜¸ì‘ìš©ì´ ì—†ëŠ” ë‘ ëª¨ë“ˆ ì‚¬ì´ì—ì„œ ì¼ì–´ë‚œë‹¤. ëšœë ·í•œ ëª©ì ì´ ì—†ì´ ë³€ìˆ˜, ìƒìˆ˜, í•¨ìˆ˜ë¥¼ ë‹¹ì¥ í¸í•œ ìœ„ì¹˜ì—(ì˜ëª»ëœ) ë„£ì–´ë²„ë ¤ ë°œìƒí•œë‹¤.\nG14: ê¸°ëŠ¥ ìš•ì‹¬ ê¸°ëŠ¥ ìš•ì‹¬ì€ í•œ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ë¥¼ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ë…¸ì¶œí•˜ê²Œ ë˜ë¯€ë¡œ, ë³„ë‹¤ë¥¸ ë¬¸ì œê°€ ì—†ë‹¤ë©´, ì œê±°í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ní´ë˜ìŠ¤ ë©”ì„œë“œëŠ” ìê¸° í´ë˜ìŠ¤ì˜ ë³€ìˆ˜ì™€ í•¨ìˆ˜ì— ê´€ì‹¬ì„ ê°€ì ¸ì•¼ì§€ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ë³€ìˆ˜ì™€ í•¨ìˆ˜ì— ê´€ì‹¬ì„ ê°€ì ¸ì„œëŠ” ì•ˆëœë‹¤.\në©”ì„œë“œê°€ ë‹¤ë¥¸ ê°ì²´ì˜ ì°¸ì¡°ìì™€ ë³€ê²½ìë¥¼ ì‚¬ìš©í•´ ê·¸ ê°ì²´ ë‚´ìš©ì„ ì¡°ì‘í•œë‹¤ë©´ ë©”ì„œë“œê°€ ê·¸ ê°ì²´ í´ë˜ìŠ¤ì˜ ë²”ìœ„ë¥¼ ìš•ì‹¬ë‚´ëŠ” íƒ“ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 public class HourlyPayCalculator { public Money calculateWeeklyPay(HourlyEmployee e) { int tenthRate = e.getTenthRate().getPennies(); int tenthsWorked = e.getTenthsWorked(); int straightTime = Math.min(400, tenthsWorked); int overTime = Math.max(0, tenthsWorked - straightTime); int straightPay = straightTime * tenthRate; int overtimePay = (int)Math.round(overTime * tenthRate * 1.5); return new Money(straightPay + overtimePay); } } calculateWeeklyPay ë©”ì„œë“œê°€ HourlyEmployee ê°ì²´ì—ì„œ ë§ì€ ì •ë³´ë¥¼ ê°€ì ¸ì™€ ì²˜ë¦¬í•œë‹¤. calculateWeeklyPay ë©”ì„œë“œëŠ” HourlyEmployee í´ë˜ìŠ¤ì˜ ë²”ìœ„ë¥¼ ìš•ì‹¬ë‚¸ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ìì‹ ì´ HourlyEmployee í´ë˜ìŠ¤ì— ì†í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ êµ¬í˜„ë˜ì–´ ìˆë‹¤.\nHourlyEmployee í´ë˜ìŠ¤ì—ì„œ ì ì–´ë„ tenthRate, straightTime, overTimeì„ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ì í•©í•´ë³´ì„\nG15: ì„ íƒì ì¸ìˆ˜ ì„ íƒì ì¸ìˆ˜ëŠ” ëª©ì ì„ ê¸°ì–µí•˜ê¸° ì–´ë ¤ìš¸ ë¿ ì•„ë‹ˆë¼ ê° ì„ íƒì ì¸ìˆ˜ê°€ ì—¬ëŸ¬ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ë¡œ ì¡°í•©í•œë‹¤. ì„ íƒì ì¸ìˆ˜ëŠ” í° í•¨ìˆ˜ë¥¼ ì‘ì€ í•¨ìˆ˜ ì—¬ëŸ¿ìœ¼ë¡œ ìª¼ê°œì§€ ì•Šìœ¼ë ¤ëŠ” ê²Œìœ¼ë¦„ì˜ ì†Œì‚°ì´ë‹¤.\nflag ë³€ìˆ˜ë“¤ì„ ì˜ë¯¸í•œë‹¤.\në¶€ìš¸ ì¸ìˆ˜, enum, int ë“± í•¨ìˆ˜ ë™ì‘ì„ ì œì–´í•˜ë ¤ëŠ”(ë¶„ê¸°í•˜ë ¤ëŠ”) ì¸ìˆ˜ëŠ” í•˜ë‚˜ê°™ì´ ë°”ëŒì§ í•˜ì§€ ì•Šë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì¸ìˆ˜ë¥¼ ë„˜ê²¨ ë™ì‘ì„ ì„ íƒí•˜ëŠ” ëŒ€ì‹  ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” í¸ì´ ì¢‹ë‹¤.\nğŸ’¡ ìœ ì‚¬í•œ ê°œë…ì„ í†µí•©í•´ ì½”ë“œë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ë¥¼ ì¢…ì¢… ë´ì™”ëŠ”ë°, ì´ëŸ° ê²½ìš° ìœ ì‚¬í•œ ê°œë…ì„ ë¶„ë¦¬í•˜ê³  ê°ê° ë³„ë„ êµ¬í˜„í•˜ì—¬ ë¶„ë¦¬í•œ ê¸°ëŠ¥ì„ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ ì˜¬ë°”ë¥¸ ì„ íƒì¸ ê²ƒ ê°™ë‹¤.\nG16: ëª¨í˜¸í•œ ì˜ë„ ì½”ë“œë¥¼ ì§¤ ë•ŒëŠ” ì˜ë„ë¥¼ ìµœëŒ€í•œ ë¶„ëª…íˆ ë°í˜€ì•¼ í•œë‹¤.\ní–‰ì„ ë°”ê¾¸ì§€ ì•Šê³  í‘œí˜„í•œ ìˆ˜ì‹ í—ê°€ë¦¬ì‹ í‘œê¸°ë²•(ë³€ìˆ˜ ë° í•¨ìˆ˜ ì¸ì ì´ë¦„ ì•ì— ë°ì´í„° íƒ€ì…ì„ ëª…ì‹œí•˜ëŠ” ì½”ë”© ê·œì¹™) ë§¤ì§ ë„˜ë²„ ë“± ë…ìì—ê²Œ ì˜ë„ë¥¼ ë¶„ëª…íˆ í‘œí˜„í•˜ë„ë¡ ì‹œê°„ì„ íˆ¬ìí•´ì•¼í•œë‹¤.\nG17: ì˜ëª» ì§€ìš´(ì „ê°€í•œ) ì±…ì„ (MisPlaced responsibility) ìµœì†Œ ë†€ëŒ ì›ì¹™ì„ ì ìš©í•˜ì—¬ ê¸°ëŠ¥ì„ ì ì ˆí•œ ìœ„ì¹˜ì— ë°°ì¹˜í•´ì•¼ í•œë‹¤.\në…ìì—ê²Œ ì§ê´€ì ì¸ ìœ„ì¹˜ê°€ ì•„ë‹ˆë¼ ê°œë°œìì—ê²Œ í¸í•œ í•¨ìˆ˜ì— ë°°ì¹˜í•˜ëŠ” ê²ƒì„ ë¹„ê¼¬ê³ ìˆë‹¤.\në‹¤ë¥¸ ìœ„ì¹˜ì— ë°°ì¹˜ë  ê²½ìš° í•¨ìˆ˜ ì´ë¦„ì„ ì˜ ì§€ì–´ í™•ì‹¤í•˜ê²Œ í‘œí˜„í•´ì•¼í•œë‹¤.\nG18: ë¶€ì ì ˆí•œ static í•¨ìˆ˜ ë°˜ë“œì‹œ static í•¨ìˆ˜ë¡œ ì •ì˜í•´ì•¼ê² ë‹¤ë©´ ì˜¤ë²„ë¼ì´ë”©í•  ê°€ëŠ¥ì„±ì´ ì—†ëŠ”ì§€ ê¼¼ê¼¼íˆ ì‚´í•€ë‹¤.\nstatic í•¨ìˆ˜ëŠ” ì˜¤ë²„ë¼ì´ë”© í•  ê°€ëŠ¥ì„±ì´ ì—†ì–´ì•¼ í•œë‹¤.\n1 HourlyPayCalculator.calculatePay(employee, overtimeRate); ìœ„ ë©”ì„œë“œëŠ” íŠ¹ì • ê°ì²´ì™€ ê´€ë ¨ì´ ì—†ìœ¼ë©´ì„œ ëª¨ë“  ì •ë³´ë¥¼ ì¸ìˆ˜ì—ì„œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— static í•¨ìˆ˜ë¡œ ì •ì˜í•´ë„ ê´œì°®ì•„ ë³´ì´ì§€ë§Œ, ìˆ˜ë‹¹ì„ ê³„ì‚°í•˜ëŠ” ê¸°ëŠ¥ì´ ì—¬ëŸ¬ê°œë¡œ ë¶„ë¦¬ë  ê°€ëŠ¥ì„±ì´ ìˆì–´(ì˜¤ë²„ë¼ì´ë”© ë  ìˆ˜ ìˆì–´) ì í•©í•˜ì§€ ì•Šë‹¤. ë”°ë¼ì„œ Employee í´ë˜ìŠ¤ì— ì†í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ í•¨ìˆ˜ì—¬ì•¼ í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ static í•¨ìˆ˜ë³´ë‹¤ ì¸ìŠ¤í„´ìŠ¤ í•¨ìˆ˜ê°€ ì¢‹ë‹¤. ì¡°ê¸ˆì´ë¼ë„ ì˜ì‹¬ìŠ¤ëŸ½ë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ í•¨ìˆ˜ë¡œ ì •ì˜í•œë‹¤.\nG19: ì„œìˆ ì  ë³€ìˆ˜ ê³„ì‚°ì„ ëª‡ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ê³  ì¤‘ê°„ê°’ì— ì¢‹ì€ ë³€ìˆ˜ ì´ë¦„ë§Œ ë¶™ì—¬ë„ ì½ê¸° ì‰¬ìš´ ì½”ë“œë¡œ ë°”ë€ë‹¤.\ní”„ë¡œê·¸ë¨ ê°€ë…ì„±ì„ ë†’ì´ëŠ” ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²• ì¤‘ í•˜ë‚˜ê°€ ê³„ì‚°ì„ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ê³  ì¤‘ê°„ ê°’ìœ¼ë¡œ ì„œìˆ ì ì¸ ë³€ìˆ˜ ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.\n[Book] ì¼„íŠ¸ë²¡ì˜ êµ¬í˜„ íŒ¨í„´ - gpeegpee/learn-java Wiki\n1 2 3 4 5 6 7 Matcher match = headerPattern.matcher(line); if (match.find()) { String key = match.group(1); String value = match.group(2); headers.put(key.toLowerCase(), value); } ì„œìˆ ì ì¸ ë³€ìˆ˜ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ matchë¥¼ ì´ìš©í•˜ì—¬ ì°¾ì€ ì²«ë²ˆì§¸ ê·¸ë£¹ì´ í‚¤(key)ì´ê³ , ë‘ë²ˆì§¸ë¡œ ì¼ì¹˜í•˜ëŠ” ê·¸ë£¹ì´ ê°’(value)ì´ë¼ëŠ” ì‚¬ì‹¤ì´ ëª…í™•íˆ ë“¤ì–´ë‚œë‹¤.\nì„œìˆ ì ì¸ ë³€ìˆ˜ ì´ë¦„ì€ ë§ì´ ì¨ë„ ê´œì°®ë‹¤.\nG20: ì´ë¦„ê³¼ ê¸°ëŠ¥ì´ ì¼ì¹˜í•˜ëŠ” í•¨ìˆ˜ 1 Date newDate = date.add(5); ìœ„ í•¨ìˆ˜ëŠ” 5ì¼ì„ ë”í•˜ëŠ” í•¨ìˆ˜ì¸ê°€? 5ì£¼ í˜¹ì€ 5ì‹œê°„? date ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ì¸ê°€? ì•„ë‹ˆë©´ ì˜ˆì „ date ì¸ìŠ¤í„´ìŠ¤ëŠ” ë‘ê³  ìƒˆë¡œìš´ Dateë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì¸ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.\ndate ì¸ìŠ¤í„´ìŠ¤ì— 5ì¼ì„ ë”í•´ date ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ë¼ë©´ addDaysTo í˜¹ì€ increaseByDays date ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ 5ì¼ ë’¤ì¸ ìƒˆ ë‚ ì§œë¥¼ ë°˜í™˜ daysLater, daysSince ì´ë¦„ë§Œìœ¼ë¡œ ë¶„ëª…í•˜ì§€ ì•Šê¸°ì— êµ¬í˜„ì„ ì‚´í”¼ê±°ë‚˜ ë¬¸ì„œë¥¼ ë’¤ì ì—¬ì•¼ í•œë‹¤ë©´ ë” ì¢‹ì€ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ê±°ë‚˜ ì•„ë‹ˆë©´ ë” ì¢‹ì€ ì´ë¦„ì„ ë¶™ì´ê¸° ì‰½ë„ë¡ ê¸°ëŠ¥ì„ ì •ë¦¬í•´ì•¼ í•œë‹¤.\nG21: ì•Œê³ ë¦¬ì¦˜ì„ ì´í•´í•˜ë¼ ì½”ë“œê°€ ëŒì•„ê°„ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•„ëŠ” ê²ƒê³¼ ëŒì•„ê°€ê¸° ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ì´ ì˜¬ë°”ë¥´ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•„ëŠ” ê²ƒì€ ë‹¤ë¥´ë‹¤.\nëŒ€ë‹¤ìˆ˜ ê´´ìƒí•œ ì½”ë“œëŠ” ì‚¬ëŒë“¤ì´ ì•Œê³ ë¦¬ì¦˜ì„ ì¶©ë¶„íˆ ì´í•´í•˜ì§€ ì•Šì€ ì±„ ì½”ë“œë¥¼ êµ¬í˜„í•œ íƒ“ì´ë‹¤.\nêµ¬í˜„ì´ ëë‚¬ë‹¤ê³  ì„ ì–¸í•˜ê¸° ì „ì— í•¨ìˆ˜ê°€ ëŒì•„ê°€ëŠ” ë°©ì‹ì„ í™•ì‹¤íˆ ì´í•´í•˜ëŠ”ì§€ í™•ì¸í•˜ë¼. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ëª¨ë‘ í†µê³¼í•œë‹¤ëŠ” ì‚¬ì‹¤ë§Œìœ¼ë¡œ ë¶€ì¡±í•˜ë‹¤.\nì•Œê³ ë¦¬ì¦˜ì´ ì˜¬ë°”ë¥´ë‹¤ëŠ” ì‚¬ì‹¤ì„ í™•ì¸í•˜ê³  ì´í•´í•˜ë ¤ë©´ ê¸°ëŠ¥ì´ ë»”íˆ ë³´ì¼ ì •ë„ë¡œ í•¨ìˆ˜ë¥¼ ê¹”ë”í•˜ê³  ëª…í™•í•˜ê²Œ ì¬êµ¬ì„±í•˜ëŠ” ë°©ë²•ì´ ìµœê³ ë‹¤.\nG22: ë…¼ë¦¬ì  ì˜ì¡´ì„±ì€ ë¬¼ë¦¬ì ìœ¼ë¡œ ë“œëŸ¬ë‚´ë¼ í•œ ëª¨ë“ˆì´ ë‹¤ë¥¸ ëª¨ë“ˆì— ì˜ì¡´í•œë‹¤ë©´ ì˜ì¡´í•˜ëŠ” ëª¨ë“  ì •ë³´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•˜ì—¬ ë¬¼ë¦¬ì ì¸ ì˜ì¡´ì„±ì´ ë“œëŸ¬ë‚¸ë‹¤.\nì˜ì¡´ì„±ì˜ ë“œëŸ¬ë‚˜ìˆì§€ ì•Šë‹¤ë©´ ì½”ë“œë¥¼ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ì—†ì–´ ì˜ëª» êµ¬í˜„í•˜ê±°ë‚˜, ì•„ë‹ˆë”ë¼ë„ ì½”ë“œë¥¼ ë¶„ì„ì„ í•´ì•¼ í•˜ê¸°ë•Œë¬¸ì— ìœ ì§€ë³´ìˆ˜ì— ì–´ë ¤ì›€ì´ ìƒê¸´ë‹¤.\nG23: if-else í˜¹ì€ switch/case ë¬¸ë³´ë‹¤ ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•˜ë¼ ëŒ€ë‹¤ìˆ˜ ê°œë°œìê°€ switchë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ê·¸ ìƒí™©ì—ì„œ ê°€ì¥ ì˜¬ë°”ë¥¸ ì„ íƒì´ê¸°ë³´ë‹¤ëŠ” ë‹¹ì¥ ì†ì‰¬ìš´ ì„ íƒì´ê¸° ë•Œë¬¸ì´ë‹¤. ìœ í˜•ë³´ë‹¤ í•¨ìˆ˜ê°€ ë” ì‰½ê²Œ ë³€í•˜ëŠ” ê²½ìš°ëŠ” ê¸±íˆ ë“œë¬¼ë‹¤. ì €ìëŠ” â€˜switch ë¬¸ í•˜ë‚˜â€™ ê·œì¹™ì„ ë”°ë¥¸ë‹¤. ì„ íƒ ìœ í˜• í•˜ë‚˜ì—ëŠ” switchë¬¸ì„ í•œë²ˆë§Œ ì‚¬ìš©í•œë‹¤. ê°™ì€ ì„ íƒì„ ìˆ˜í–‰í•˜ëŠ” ë‹¤ë¥¸ ì½”ë“œì—ì„œëŠ” ë‹¤í˜•ì„± ê°ì²´ë¥¼ ìƒì„±í•´ switch ë¬¸ì„ ëŒ€ì‹ í•œë‹¤.\nG24: í‘œì¤€ í‘œê¸°ë²•ì„ ë”°ë¥´ë¼ íŒ€ì€ ì—…ê³„ í‘œì¤€ì— ê¸°ë°˜í•œ êµ¬í˜„ í‘œì¤€ì„ ë”°ë¼ì•¼ í•œë‹¤.\nêµ¬í˜„ í‘œì¤€\ní‘œì¤€ì„ ì„¤ëª…í•˜ëŠ” ë¬¸ì„œëŠ” ì½”ë“œ ìì²´ë¡œ ì¶©ë¶„í•´ì•¼ í•˜ë©° ì—…ê³„ í‘œì¤€ì„ ë”°ë¼ë¥´ê¸° ë•Œë¬¸ì— ë³„ë„ ë¬¸ì„œë¥¼ ë§Œë“¤ í•„ìš”ëŠ” ì—†ì–´ì•¼ í•œë‹¤.\nì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì´ë¦„ì„ ì„ ì–¸í•˜ëŠ” ìœ„ì¹˜ í´ë˜ìŠ¤, ë©”ì„œë“œ, ë³€ìˆ˜ ì´ë¦„ì„ ì •í•˜ëŠ” ë°©ë²• ê´„í˜¸ ë„£ëŠ” ìœ„ì¹˜ G25: ë§¤ì§ ìˆ«ìëŠ” ëª…ëª…ëœ ìƒìˆ˜ë¡œ êµì²´í•˜ë¼ ì¼ë°˜ì ìœ¼ë¡œ ì½”ë“œì—ì„œ ìˆ«ìë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤. ì‚¬ìš©ë˜ëŠ” ìˆ«ìëŠ” ëª…ëª…ëœ ìƒìˆ˜ ë’¤ë¡œ ìˆ¨ê²¨ë¼\në§¤ì§ ìˆ«ìë¼ëŠ” ìš©ì–´ëŠ” ë‹¨ìˆœíˆ ìˆ«ìë§Œ ì˜ë¯¸í•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜ë¯¸ê°€ ë¶„ëª…í•˜ì§€ ì•Šì€ í† í°ì„ ëª¨ë‘ ê°€ë¥´í‚¨ë‹¤. G26: ì •í™•í•˜ë¼ ì½”ë“œì—ì„œ ë­”ê°€ë¥¼ ê²°ì •í•  ë•ŒëŠ” ì •í™•íˆ ê²°ì •í•œë‹¤(ë“¤ì–´ë§ê²Œ). ê²°ì •ì„ ë‚´ë¦¬ëŠ” ì´ìœ ì™€ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ë°©ë²•ì„ ë¶„ëª…íˆ ì•Œì•„ì•¼ í•œë‹¤.\ní˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ê°€ nullì„ ë°˜í™˜í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤ë©´ nullì„ í•­ìƒ ì ê²€í•œë‹¤. ì¡°íšŒ ê²°ê³¼ê°€ í•˜ë‚˜ë¿ì´ë¼ ì§ì‘í•œë‹¤ë©´ í•˜ë‚˜ì¸ì§€ í™•ì‹¤íˆ í™•ì¸í•œë‹¤.\nê°±ì‹  ê°€ëŠ¥ì„±ì´ í¬ë°•í•˜ë‹¤ê³  ì ê¸ˆê³¼ íŠ¸ëœì­ì…˜ ê´€ë¦¬ë¥¼ ê±´ë„ˆë›°ëŠ” í–‰ë™ì€ ì•„ë¬´ë¦¬ ì˜ ë´ì¤˜ë„ ê²Œìœ¼ë¦„ì´ë‹¤.\nListë¡œ ì„ ì–¸í•  ë³€ìˆ˜ë¥¼ ArrayListë¡œ ì„ ì–¸í•˜ëŠ” í–‰ë™ì€ ì§€ë‚˜ì¹œ ì œì•½ì´ë‹¤.\nì½”ë“œì—ì„œ ëª¨í˜¸ì„±ê³¼ ë¶€ì •í™•ì€ ì˜ê²¬ì°¨ë‚˜ ê²Œìœ¼ë¦„ì˜ ê²°ê³¼ë‹¤.\nG27: ê´€ë¡€ë³´ë‹¤ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë¼ ì„¤ê³„ ê²°ì •ì„ ê°•ì œí•  ë•ŒëŠ” ê·œì¹™ë³´ë‹¤ ê´€ë¡€ë¥¼ ì‚¬ìš©í•œë‹¤. ë” ë‚˜ì•„ê°€ êµ¬ì¡° ìì²´ë¡œ ê°•ì œí•˜ë©´ ë” ì¢‹ë‹¤.\nenumì„ í™œìš©í•œ switch-case ë³´ë‹¤ ì¶”ìƒ ë©”ì„œë“œê°€ ìˆëŠ” ê¸°ì´ˆ í´ë˜ìŠ¤ê°€ ë” ì¢‹ë‹¤. switch-caseë¬¸ì„ ë§¤ë²ˆ ë˜‘ê°™ì´ êµ¬í˜„í•˜ê²Œ ê°•ì œí•˜ê¸°ëŠ” ì–´ë µì§€ë§Œ, íŒŒìƒ í´ë˜ìŠ¤ëŠ” ì¶”ìƒ ë©”ì„œë“œë¥¼ ëª¨ë‘ êµ¬í˜„í•˜ì§€ ì•Šìœ¼ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì´ë‹¤.\nG28: ì¡°ê±´ì„ ìº¡ìŠí™”í•˜ë¼ ë¶€ìš¸ ë…¼ë¦¬ëŠ” ì´í•´í•˜ê¸° ì–´ë µë‹¤. ì¡°ê±´ì˜ ì˜ë„ë¥¼ ë¶„ëª…íˆ ë°íˆëŠ” í•¨ìˆ˜ë¡œ í‘œí˜„í•˜ë¼.\nG29: ë¶€ì • ì¡°ê±´ì„ í”¼í•˜ë¼ ë¶€ì • ì¡°ê±´ì€ ê¸ì • ì¡°ê±´ë³´ë‹¤ ì´í•´í•˜ê¸° ì–´ë µë‹¤. ê°€ëŠ¥í•˜ë©´ ê¸ì • ì¡°ê±´ìœ¼ë¡œ í‘œí˜„í•œë‹¤.\nG30: í•¨ìˆ˜ëŠ” í•œê°€ì§€ë§Œ í•´ì•¼í•œë‹¤ í•¨ìˆ˜ë¥¼ ì§œë‹¤ë³´ë©´ í•¨ìˆ˜ ì•ˆì— ì—¬ëŸ¬ ë‹¨ë½ì„ ì´ì–´, ì¼ë ¨ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ í”ˆ ìœ í˜¹ì— ë¹ ì§„ë‹¤. ì´ëŸ° í•¨ìˆ˜ëŠ” í•œê°€ì§€ë§Œ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ê°€ ì•„ë‹ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. í•œ ê°€ì§€ë§Œ ìˆ˜í–‰í•˜ëŠ” ì¢€ ë” ì‘ì€ í•¨ìˆ˜ ì—¬ëŸ¿ìœ¼ë¡œ ë‚˜ëˆ ì•¼ í•œë‹¤.\nG31: ìˆ¨ê²¨ì§„ ì‹œê°„ì ì¸ ê²°í•© ë•Œë¡œëŠ” ì‹œê°„ì ì¸ ê²°í•©ì´ í•„ìš”í•˜ë‹¤. í•˜ì§€ë§Œ ì‹œê°„ì ì¸ ê²°í•©ì„ ìˆ¨ê²¨ì„œëŠ” ì•ˆëœë‹¤. í•¨ìˆ˜ë¥¼ ë§Œë“¤ë•Œ í•¨ìˆ˜ ì¸ìˆ˜ë¥¼ ì ì ˆíˆ ë°°ì¹˜í•˜ì—¬ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ìˆœì„œë¥¼ ëª…ë°±íˆ ë“œëŸ¬ë‚¸ë‹¤.\ní•¨ìˆ˜ ì¸ìˆ˜ë¥¼ í†µí•´ ê° í•¨ìˆ˜ê°€ ë‚´ë†“ëŠ” ê²°ê³¼ë¥¼ ì‚¬ìš©í•˜ê²Œ êµ¬í˜„í•˜ë©´ ì¼ì¢…ì˜ ì—°ê²° ì†Œì ì—­í• ì„ í•˜ê²Œ ë˜ì–´ ì‹œê°„ì ì¸ ê²°í•©ì„ ë…¸ì¶œí•˜ê¸° ì‰½ë‹¤.\nG32: ì¼ê´€ì„±ì„ ìœ ì§€í•˜ë¼ ì½”ë“œ êµ¬ì¡°ë¥¼ ì¡ì„ ë•ŒëŠ” ì´ìœ ë¥¼ ê³ ë¯¼í•˜ë¼. ê·¸ë¦¬ê³  ê·¸ ì´ìœ ë¥¼ ì½”ë“œ êµ¬ì¡°ë¡œ ëª…ë°±íˆ í‘œí˜„í•˜ë¼.\nêµ¬ì¡°ì— ì¼ê´€ì„±ì´ ì—†ì–´ ë³´ì¸ë‹¤ë©´ ë‚¨ë“¤ì´ ë§˜ëŒ€ë¡œ ë°”ê¿”ë„ ê´œì°®ë‹¤ê³  ìƒê°í•œë‹¤. ë°˜ë©´ ì‹œìŠ¤í…œ ì „ë°˜ì— ê±¸ì³ êµ¬ì¡°ê°€ ì¼ê´€ì„±ì´ ìˆë‹¤ë©´ ë‚¨ë“¤ë„ ì¼ê´€ì„±ì„ ë”°ë¥´ê³  ë³´ì¡´í•œë‹¤.\nG33: ê²½ê³„ ì¡°ê±´ì„ ìº¡ìŠí™”í•˜ë¼ ê²½ê³„ ì¡°ê±´ì€ ë¹¼ë¨¹ê±°ë‚˜ ë†“ì¹˜ê¸° ì‰½ë‹¤. ë”°ë¼ì„œ ê²½ê³„ ì¡°ê±´ì„ ì½”ë“œ ì—¬ê¸°ì €ê¸°ì„¸ì„œ ì²˜ë¦¬í•˜ì§€ ì•Šê³  í•œ ê³³ì—ì„œ ë³„ë„ë¡œ ì²˜ë¦¬í•œë‹¤.\nG34: í•¨ìˆ˜ëŠ” ì¶”ìƒí™” ìˆ˜ì¤€ì„ í•œ ë‹¨ê³„ë§Œ ë‚´ë ¤ê°€ì•¼ í•œë‹¤ í•¨ìˆ˜ ë‚´ ëª¨ë“  ë¬¸ì¥ì€ ì¶”ìƒí™” ìˆ˜ì¤€ì´ ë™ì¼í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ì¶”ìƒí™” ìˆ˜ì¤€ì€ í•¨ìˆ˜ ì´ë¦„ì´ ì˜ë¯¸í•˜ëŠ” ì‘ì—…ë³´ë‹¤ í•œ ë‹¨ê³„ë§Œ ë‚®ì•„ì•¼ í•œë‹¤.\nê°œë…ì€ ì•„ì£¼ ê°„ë‹¨í•˜ì§€ë§Œ ì¸ê°„ì€ ì¶”ê°•í™” ìˆ˜ì¤€ì„ ë’¤ì„ëŠ” ëŠ¥ë ¥ì´ ë„ˆë¬´ë‚˜ë„ ë›°ì–´ë‚˜ ë”°ë¥´ê¸° ì–´ë µë‹¤. 1 2 3 4 5 6 7 8 9 10 11 public String render() throws Exception { StringBuffer html = new StringBuffer(\u0026#34;\u0026lt;hr\u0026#34;); if (size \u0026gt; 0) { html.append(\u0026#34; size=\\\u0026#34;\u0026#34;).append(size + 1).append(\u0026#34;\\\u0026#34;\u0026#34;); } html.append(\u0026#34;\u0026gt;\u0026#34;); return html.toString(); } ìœ„ í•¨ìˆ˜ëŠ” ì¶”ìƒí™” ìˆ˜ì¤€ì´ ë‘ê°œ ì´ìƒ ì„ì—¬ìˆë‹¤.\nìˆ˜í‰ì„ ì— í¬ê¸°ê°€ ìˆë‹¤ëŠ” ê°œë… hr íƒœê·¸ ìì²´ì˜ ë¬¸ë²• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 public String render() throws Exception { HtmlTag hr = new HtmlTag(\u0026#34;hr\u0026#34;); if (extraDashes \u0026gt; 0 ) { hr.addAttribute(\u0026#34;size\u0026#34;, hrSize(extraDashes)); } return hr.html(); } private String hrSize(int height) { int hrSize = height + 1; return String.format(\u0026#34;d\u0026#34;, hrSize); } G35: ì„¤ì • ì •ë³´ëŠ” ìµœìƒìœ„ ë‹¨ê³„ì— ë‘¬ë¼ ì¶”ìƒí™” ìµœìƒìœ„ ë‹¨ê³„ì— ë’¤ì•¼ í•  ê¸°ë³¸ê°’ ìƒìˆ˜ë‚˜ ì„¤ì • ê´€ë ¨ ìƒìˆ˜ë¥¼ ì €ì°¨ìš´ í•¨ìˆ˜ì— ìˆ¨ê²¨ì„œëŠ” ì•ˆëœë‹¤. ëŒ€ì‹  ê³ ì°¨ì› í•¨ìˆ˜ì—ì„œ ì €ì°¨ì› í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ì¸ìˆ˜ë¡œ ë„˜ê¸´ë‹¤.\nG36: ì¶”ì´ì  íƒìƒ‰ì„ í”¼í•˜ë¼ ì¼ë°˜ì ìœ¼ë¡œ í•œ ëª¨ë“ˆì€ ì£¼ë³€ ëª¨ë“ˆì„ ëª¨ë¥¼ìˆ˜ë¡ ì¢‹ë‹¤. ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ Aê°€ Bë¥¼ ì‚¬ìš©í•˜ê³ , Bê°€ Cë¥¼ ì‚¬ìš©í•œë‹¤ í•˜ë”ë¼ë„ Aê°€ Cë¥¼ ì•Œì•„ì•¼ í•  í•„ìš”ëŠ” ì—†ë‹¤ëŠ” ëœ»ì´ë‹¤.\nex. a.getB().getC().doSometing(); ì´ë¥¼ â€œë””ë¯¸í„°ì˜ ë²•ì¹™â€, â€œë¶€ë„ëŸ¼ íƒ€ëŠ” ì½”ë“œ ì‘ì„±â€ì´ë¼ ë¶€ë¥¸ë‹¤.\nìš”ì§€ëŠ” ìì‹ ì´ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ëª¨ë“ˆë§Œ ì•Œì•„ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë‹¤. ë‚´ê°€ ì•„ëŠ” ëª¨ë“ˆì´ ì—°ì´ì–´ ìì‹ ì´ ì•„ëŠ” ëª¨ë“ˆì„ ë”°ë¼ê°€ë©° ì‹œìŠ¤í…œ ì „ì²´ë¥¼ íœ˜ì €ì„ í•„ìš”ê°€ ì—†ë‹¤.\nJava J1: ê¸´ import ëª©ë¡ì„ í”¼í•˜ê³  ì™€ì¼ë“œì¹´ë“œë¥¼ ì‚¬ìš©í•˜ë¼. J2: ìƒìˆ˜ëŠ” ìƒì†í•˜ì§€ ì•ŠëŠ”ë‹¤. ìƒìˆ˜ë¥¼ ìƒì†í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì–¸ì–´ì˜ ë²”ìœ„ ê·œì¹™ì„ ì†ì´ëŠ” í–‰ìœ„ì´ë‹¤. ëŒ€ì‹  static importë¥¼ ì‚¬ìš©í•˜ë¼\nJ3: ìƒìˆ˜ VS enum enumì„ ì‚¬ìš©í•˜ë©´ public static final intë¼ëŠ” ì˜›ë‚  ê¸°êµë¥¼ ë” ì´ìƒ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ë‹¤. intëŠ” ì½”ë“œì—ì„œ ì˜ë¯¸ë¥¼ ìƒì–´ë²„ë¦¬ê¸°ë„ í•œë‹¤.\në°˜ë©´ enumì€ ì´ë¦„ì´ ë¶€ì—¬ëœ ì—´ê±°ì²´ì´ë¯€ë¡œ ì˜ë¯¸ë¥¼ ìƒì–´ë²„ë¦¬ì§€ ì•ŠëŠ”ë‹¤.\në©”ì„œë“œì™€ í•„ë“œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. intë³´ë‹¤ í›¨ì”¬ ë” ìœ ì—°í•˜ê³  ì„œìˆ ì ì´ë‹¤.\nì´ë¦„ N1: ì„œìˆ ì ì¸ ì´ë¦„ì„ ì‚¬ìš©í•˜ë¼ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ê°€ë…ì„±ì€ 90% ì´ë¦„ì´ ê²°ì •í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì‹œê°„ì„ ë“¤ì—¬ í˜„ëª…í•œ ì´ë¦„ì„ ì„ íƒí•˜ê³  ìœ íš¨í•œ ìƒíƒœë¡œ ìœ ì§€í•œë‹¤.\nì„œìˆ ì ì¸ ì´ë¦„ì„ ì‹ ì¤‘íˆ ê³ ë¥¸ë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì§„í™”í•˜ë©´ ì˜ë¯¸ë„ ë³€í•˜ë¯€ë¡œ ì„ íƒí•œ ì´ë¦„ì´ ì í•©í•œì§€ ìì£¼ ë˜ëŒì•„ë³¸ë‹¤. N2: ì ì ˆí•œ ì¶”ìƒí™” ìˆ˜ì¤€ì—ì„œ ì´ë¦„ì„ ì„ íƒí•˜ë¼ êµ¬í˜„ì„ ë“œëŸ¬ë‚´ëŠ” ì´ë¦„ì€ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì‘ì—… ëŒ€ìƒ í´ë˜ìŠ¤ë‚˜ í•¨ìˆ˜ê°€ ìœ„ì¹˜í•˜ëŠ” ì¶”ìƒí™” ìˆ˜ì¤€ì„ ë°˜ì˜í•˜ëŠ” ì´ë¦„ì„ ì„ íƒí•˜ë¼.\nN3: ê°€ëŠ¥í•˜ë‹¤ë©´ í‘œì¤€ ëª…ëª…ë²•ì„ ì‚¬ìš©í•˜ë¼ ê¸°ì¡´ ëª…ëª…ë²•ì„ ì‚¬ìš©í•˜ëŠ” ì´ë¦„ì€ ì´í•´í•˜ê¸° ë” ì‰½ë‹¤.\në””ìì¸ íŒ¨í„´ì„ í™œìš©í•˜ë©´ í´ë˜ìŠ¤ ì´ë¦„ì— íŒ¨í„´ ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤. ìë°”ì—ì„œ ê°ì²´ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜ëŠ” toStringì´ë¼ëŠ” ì´ë¦„ì„ ì“´ë‹¤. ë“± ì´ë¦„ì— ê¸°ì¡´ ê´€ë¡€ê°€ ìˆë‹¤ë©´ ê´€ë¡€ë¥¼ ë”°ë¥´ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ní”„ë¡œì íŠ¸ì— ìœ íš¨í•œ ì˜ë¯¸ê°€ ë‹´ê¸´ ì´ë¦„ì„ ë§ì´ ì‚¬ìš©í• ìˆ˜ë¡ ë…ìê°€ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\nN4: ëª…í™•í•œ ì´ë¦„ í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ì˜ ëª©ì ì„ ëª…í™•íˆ ë°íˆëŠ” ì´ë¦„ì„ ì„ íƒí•œë‹¤. ê´‘ë²”ìœ„í•˜ê±°ë‚˜ ëª¨í˜¸í•œ ì´ë¦„ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\nN5: ê¸´ ë²”ìœ„ëŠ” ê¸´ ì´ë¦„ì„ ì‚¬ìš©í•˜ë¼ ì´ë¦„ ê¸¸ì´ëŠ” ë²”ìœ„ ê¸¸ì´ì— ë¹„ë¡€í•´ì•¼ í•œë‹¤. ë²”ìœ„ê°€ ì‘ìœ¼ë©´ ì•„ì£¼ ì§§ì€ ì´ë¦„ì„ ì‚¬ìš©í•´ë„ ê´œì°®ë‹¤. í•˜ì§€ë§Œ ë²”ìœ„ê°€ ê¸¸ì–´ì§€ë©´ ê¸´ ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤.\nN6: ì¸ì½”ë”©ì„ í”¼í•˜ë¼ ì´ë¦„ì— ìœ í˜• ì •ë³´ë‚˜ ë²”ìœ„ ì •ë³´ë¥¼ ë„£ì–´ì„œëŠ” ì•ˆ ëœë‹¤.\nN7: ì´ë¦„ìœ¼ë¡œ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì„¤ëª…í•˜ë¼ í•¨ìˆ˜, ë³€ìˆ˜, í´ë˜ìŠ¤ê°€ í•˜ëŠ” ì¼ì„ ëª¨ë‘ ê¸°ìˆ í•˜ëŠ” ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤. ì´ë¦„ì— ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ìˆ¨ê¸°ì§€ ì•ŠëŠ”ë‹¤.\ní…ŒìŠ¤íŠ¸ T1: ë¶ˆì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì ì¬ì ìœ¼ë¡œ ê¹¨ì§ˆ ë§Œí•œ ë¶€ë¶„ì„ ë³´ë‘ í…ŒìŠ¤íŠ¸í•´ì•¼ í•œë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ í™•ì¸í•˜ì§€ ì•ŠëŠ” ì¡°ê±´ì´ë‚˜ ê²€ì¦í•˜ì§€ ì•ŠëŠ” ê³„ì‚°ì´ ìˆë‹¤ë©´ ê·¸ í…ŒìŠ¤íŠ¸ëŠ” ë¶ˆì™„ì „í•˜ë‹¤.\nT2: ì»¤ë²„ë¦¬ì§€ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë¼ ì»¤ë²„ë¦¬ì§€ ë„êµ¬ëŠ” í…ŒìŠ¤íŠ¸ê°€ ë¹ ëœ¨ë¦¬ëŠ” ê³µë°±ì„ ì•Œë ¤ì¤€ë‹¤. ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©° ã„´í…ŒìŠ¤íŠ¸ê°€ ë¶ˆì¶©ë¶„í•œ ëª¨ë“ˆ, í´ë˜ìŠ¤, í•¨ìˆ˜ë¥¼ ì°¾ê¸°ê°€ ì‰¬ì›Œì§„ë‹¤.\nìƒìœ„ 15 ê°œ ì½”ë“œ ì»¤ë²„ë¦¬ì§€ ë„êµ¬ (Java, JavaScript, C ++, C #, PHP ìš©) - ë‹¤ë¥¸\nT3: ì‚¬ì†Œí•œ í…ŒìŠ¤íŠ¸ë¥¼ ê±´ë„ˆë›°ì§€ ë§ˆë¼ ì‚¬ì†Œí•œ í…ŒìŠ¤íŠ¸ëŠ” ì§œê¸° ì‰½ë‹¤. ì‚¬ì†Œí•œ í…ŒìŠ¤íŠ¸ê°€ ì œê³µí•˜ëŠ” ë¬¸ì„œì  ê°€ì¹˜ëŠ” êµ¬í˜„ì— ë“œëŠ” ë¹„ìš©ì„ ë„˜ì–´ì„ ë‹¤.\nT4: ë¬´ì‹œí•œ í…ŒìŠ¤íŠ¸ëŠ” ëª¨í˜¸í•¨ì„ ëœ»í•œë‹¤ ë•Œë¡œëŠ” ìš”êµ¬ì‚¬í•­ì´ ë¶ˆë¶„ëª…í•˜ê¸°ì— í”„ë¡œê·¸ë¨ì´ ëŒì•„ê°€ëŠ” ë°©ì‹ì„ í™•ì‹ í•˜ê¸° ì–´ë µë‹¤. ë¶ˆë¶„ëª…í•œ ìš”êµ¬ì‚¬í•­ì€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì— @Ignoreë¥¼ ë¶™ì—¬ í‘œí˜„í•œë‹¤.\nì„ íƒ ê¸°ì¤€ì€ ëª¨í˜¸í•¨ì´ ì¡´ì¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì»´íŒŒì¼ì´ ê°€ëŠ¥í•œì§€ ë¶ˆê°€ëŠ¥í•œì§€ì— ë‹¬ë ¤ìˆë‹¤.\nT5: ê²½ê³„ ì¡°ê±´ì„ í…ŒìŠ¤íŠ¸í•˜ë¼ ê²½ê³„ ì¡°ê±´ì€ ê°ë³„íˆ ì‹ ê²½ ì¨ì„œ í…ŒìŠ¤íŠ¸í•œë‹¤. ì•Œê³ ë¦¬ì¦˜ì˜ ì¤‘ì•™ ì¡°ê±´ì€ ì˜¬ë°”ë¡œ ì§œë†“ê³  ê²½ê³„ ì¡°ê±´ì—ì„œ ì‹¤ìˆ˜í•˜ëŠ” ê²½ìš°ê°€ í”í•˜ê¸° ë•Œë¬¸\nT6: ë²„ê·¸ ì£¼ë³€ì€ ì² ì €íˆ í…ŒìŠ¤íŠ¸í•˜ë¼ ë²„ê·¸ëŠ” ì„œë¡œ ëª¨ì´ëŠ” ê²½í–¥ì´ ìˆë‹¤. í•œ í•¨ìˆ˜ì—ì„œ ë²„ê·¸ë¥¼ ë°œê²¬í–ˆë‹¤ë©´ ê·¸ í•¨ìˆ˜ë¥¼ ì² ì €íˆ í…ŒìŠ¤íŠ¸í•˜ëŠ” í¸ì´ ì¢‹ë‹¤.\nT7: ì‹¤íŒ¨ íŒ¨í„´ì„ ì‚´í´ë¼ ë•Œë¡œëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤íŒ¨í•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ë¬¸ì œë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆë‹¤.\ní•©ë¦¬ì ì¸ ìˆœì„œë¡œ ì •ë ¬ëœ ê¼¼ê¼¼í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì‹¤íŒ¨ íŒ¨í„´ì„ ë“œëŸ¬ë‚¸ë‹¤.\nT8: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ íŒ¨í„´ì„ ì‚´í´ë¼ í†µê³¼í•˜ëŠ” í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰í•˜ê±°ë‚˜ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì‹¤íŒ¨ ì›ì¸ì´ ë“œëŸ¬ë‚œë‹¤.\nT9: í…ŒìŠ¤íŠ¸ëŠ” ë¹¨ë¼ì•¼í•œë‹¤ ëŠë¦° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì‹¤í–‰í•˜ì§€ ì•Šê²Œ ëœë‹¤. ì¼ì •ì´ ì´‰ë°•í•˜ë©´ ëŠë¦° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì œì¼ ë¨¼ì € ê±´ë„ˆ ë›´ë‹¤.\nê²°ë¡  íœ´ë¦¬ìŠ¤í‹± ëª©ë¡ì„ ìµíŒë‹¤ê³  ì†Œí”„íŠ¸ì›¨ì–´ ì¥ì¸ì´ ë˜ì§€ëŠ” ëª»í•œë‹¤. ì „ë¬¸ê°€ ì •ì‹ ê³¼ ì¥ì¸ ì •ì‹ ì€ ê°€ì¹˜ì—ì„œ ë‚˜ì˜¨ë‹¤. ê·¸ ê°€ì¹˜ì— ê¸°ë°˜í•œ ê·œìœ¨ê³¼ ì ˆì œê°€ í•„ìš”í•˜ë‹¤.\n","date":"2023-04-21T11:11:13+09:00","image":"https://codemario318.github.io/post/clean-code/17/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/17/","title":"í´ë¦°ì½”ë“œ: 17. ëƒ„ìƒˆì™€ íœ´ë¦¬ìŠ¤í‹±"},{"content":" í”„ë¡œê·¸ë˜ë°ì€ ê³¼í•™ë³´ë‹¤ ê³µì˜ˆì— ê°€ê¹ë‹¤. ê¹¨ë—í•œ ì½”ë“œë¥¼ ì§œë ¤ë©´ ë¨¼ì € ì§€ì €ë¶„í•œ ì½”ë“œë¥¼ ì§  ë’¤ì— ì •ë¦¬í•´ì•¼ í•œë‹¤.\nArgs êµ¬í˜„ ëª…ë ¹í–‰ ì¸ìˆ˜ êµ¬ë¬¸ì„ ë¶„ì„í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤ì¸ Args í´ë˜ìŠ¤ ê°œì„ ì„ ì˜ˆì‹œë¡œ í™•ì¸í•´ë³¸ë‹¤.\nMarshalling(ë§ˆìƒ¬ë§): ê°ì²´ì˜ ë©”ëª¨ë¦¬ì—ì„œ í‘œí˜„ë°©ì‹ì„ ì €ì¥ ë˜ëŠ” ì „ì†¡ì— ì í•©í•œ ë‹¤ë¥¸ ë°ì´í„° í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ë‹¤.\nArgs: 1ì°¨ ì´ˆì•ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 import java.text.ParseException; import java.util.*; public class Args { private String schema; private String[] args; private boolean valid = true; private Set\u0026lt;Character\u0026gt; unexpectedArguments = new TreeSet\u0026lt;Character\u0026gt;(); private Map\u0026lt;Character, Boolean\u0026gt; booleanArgs = new HashMap\u0026lt;Character, Boolean\u0026gt;(); private Map\u0026lt;Character, String\u0026gt; stringArgs = new HashMap\u0026lt;Character, String\u0026gt;(); private Map\u0026lt;Character, Integer\u0026gt; intArgs = new HashMap\u0026lt;Character, Integer\u0026gt;(); private Set\u0026lt;Character\u0026gt; argsFound = new HashSet\u0026lt;Character\u0026gt;(); private int currentArgument; private char errorArgumentId = \u0026#39;\\0\u0026#39;; private String errorParameter = \u0026#34;TILT\u0026#34;; private ErrorCode errorCode = ErrorCode.OK; private enum ErrorCode { OK, MISSING_STRING, MISSING_INTEGER, INVALID_INTEGER, UNEXPECTED_ARGUMENT } public Args(String schema, String[] args) throws ParseException { this.schema = schema; this.args = args; valid = parse(); } private boolean parse() throws ParseException { if (schema.length() == 0 \u0026amp;\u0026amp; args.length == 0) return true; parseSchema(); try { parseArguments(); } catch (ArgsException e) { } return valid; } private boolean parseSchema() throws ParseException { for (String element : schema.split(\u0026#34;,\u0026#34;)) { if (element.length() \u0026gt; 0) { String trimmedElement = element.trim(); parseSchemaElement(trimmedElement); } } return true; } private void parseSchemaElement(String element) throws ParseException { char elementId = element.charAt(0); String elementTail = element.substring(1); validateSchemaElementId(elementId); if (isBooleanSchemaElement(elementTail)) parseBooleanSchemaElement(elementId); else if (isStringSchemaElement(elementTail)) parseStringSchemaElement(elementId); else if (isIntegerSchemaElement(elementTail)) { parseIntegerSchemaElement(elementId); } else { throw new ParseException( String.format(\u0026#34;Argument: %c has invalid format: %s.\u0026#34;, elementId, elementTail), 0); } } private void validateSchemaElementId(char elementId) throws ParseException { if (!Character.isLetter(elementId)) { throw new ParseException( \u0026#34;Bad character:\u0026#34; + elementId + \u0026#34;in Args format: \u0026#34; + schema, 0); } } private void parseBooleanSchemaElement(char elementId) { booleanArgs.put(elementId, false); } private void parseIntegerSchemaElement(char elementId) { intArgs.put(elementId, 0); } private void parseStringSchemaElement(char elementId) { stringArgs.put(elementId, \u0026#34;\u0026#34;); } private boolean isStringSchemaElement(String elementTail) { return elementTail.equals(\u0026#34;*\u0026#34;); } private boolean isBooleanSchemaElement(String elementTail) { return elementTail.length() == 0; } private boolean isIntegerSchemaElement(String elementTail) { return elementTail.equals(\u0026#34;#\u0026#34;); } private boolean parseArguments() throws ArgsException { for (currentArgument = 0; currentArgument \u0026lt; args.length; currentArgument++) { String arg = args[currentArgument]; parseArgument(arg); } return true; } private void parseArgument(String arg) throws ArgsException { if (arg.startsWith(\u0026#34;-\u0026#34;)) parseElements(arg); } private void parseElements(String arg) throws ArgsException { for (int i = 1; i \u0026lt; arg.length(); i++) parseElement(arg.charAt(i)); } private void parseElement(char argChar) throws ArgsException { if (setArgument(argChar)) argsFound.add(argChar); else { unexpectedArguments.add(argChar); errorCode = ErrorCode.UNEXPECTED_ARGUMENT; valid = false; } } private boolean setArgument(char argChar) throws ArgsException { if (isBooleanArg(argChar)) setBooleanArg(argChar, true); else if (isStringArg(argChar)) setStringArg(argChar); else if (isIntArg(argChar)) setIntArg(argChar); else return false; return true; } private boolean isIntArg(char argChar) { return intArgs.containsKey(argChar); } private void setIntArg(char argChar) throws ArgsException { currentArgument++; String parameter = null; try { parameter = args[currentArgument]; intArgs.put(argChar, new Integer(parameter)); } catch (ArrayIndexOutOfBoundsException e) { valid = false; errorArgumentId = argChar; errorCode = ErrorCode.MISSING_INTEGER; throw new ArgsException(); } catch (NumberFormatException e) { valid = false; errorArgumentId = argChar; errorParameter = parameter; errorCode = ErrorCode.INVALID_INTEGER; throw new ArgsException(); } } private void setStringArg(char argChar) throws ArgsException { currentArgument++; try { stringArgs.put(argChar, args[currentArgument]); } catch (ArrayIndexOutOfBoundsException e) { valid = false; errorArgumentId = argChar; errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } private boolean isStringArg(char argChar) { return stringArgs.containsKey(argChar); } private void setBooleanArg(char argChar, boolean value) { booleanArgs.put(argChar, value); } private boolean isBooleanArg(char argChar) { return booleanArgs.containsKey(argChar); } public int cardinality() { return argsFound.size(); } public String usage() { if (schema.length() \u0026gt; 0) return \u0026#34;-[\u0026#34; + schema + \u0026#34;]\u0026#34;; else return \u0026#34;\u0026#34;; } public String errorMessage() throws Exception { switch (errorCode) { case OK: throw new Exception(\u0026#34;TILT: Should not get here.\u0026#34;); case UNEXPECTED_ARGUMENT: return unexpectedArgumentMessage(); case MISSING_STRING: return String.format(\u0026#34;Could not find string parameter for -%c.\u0026#34;, errorArgumentId); case INVALID_INTEGER: return String.format(\u0026#34;Argument -%c expects an integer but was \u0026#39;%s\u0026#39;.\u0026#34;, errorArgumentId, errorParameter); case MISSING_INTEGER: return String.format(\u0026#34;Could not find integer parameter for -%c.\u0026#34;, errorArgumentId); } return \u0026#34;\u0026#34;; } private String unexpectedArgumentMessage() { StringBuffer message = new StringBuffer(\u0026#34;Argument(s) -\u0026#34;); for (char c : unexpectedArguments) { message.append(c); } message.append(\u0026#34; unexpected.\u0026#34;); return message.toString(); } private boolean falseIfNull(Boolean b) { return b != null \u0026amp;\u0026amp; b; } private int zeroIfNull(Integer i) { return i == null ? 0 : i; } private String blankIfNull(String s) { return s == null ? \u0026#34;\u0026#34; : s; } public String getString(char arg) { return blankIfNull(stringArgs.get(arg)); } public int getInt(char arg) { return zeroIfNull(intArgs.get(arg)); } public boolean getBoolean(char arg) { return falseIfNull(booleanArgs.get(arg)); } public boolean has(char arg) { return argsFound.contains(arg); } public boolean isValid() { return valid; } private class ArgsException extends Exception { } } ë¬¸ì œì  ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ë„ˆë¬´ ë§ë‹¤. â€œTILTâ€ ì™€ ê°™ì€ ì•Œìˆ˜ ì—†ëŠ” ë¬¸ìì—´ì´ ìˆë‹¤. HashSets, TreeSets, try-catch-catch ë¸”ë¡ ë“± ì§€ì €ë¶„í•´ ë³´ì¸ë‹¤. Booleanë§Œ ì§€ì›í•˜ëŠ” Args.java 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 package com.objectmentor.utilities.getopts; import java.util.*; public class Args { private String schema; private String[] args; private boolean valid; private Set\u0026lt;Character\u0026gt; unexpectedArguments = new TreeSet\u0026lt;Character\u0026gt;(); private Map\u0026lt;Character, Boolean\u0026gt; booleanArgs = new HashMap\u0026lt;Character, Boolean\u0026gt;(); private int numberOfArguments = 0; public Args(String schema, String[] args) { this.schema = schema; this.args = args; valid = parse(); } public boolean isValid() { return valid; } private boolean parse() { if (schema.length() == 0 \u0026amp;\u0026amp; args.length == 0) return true; parseSchema(); parseArguments(); return unexpectedArguments.size() == 0; } private boolean parseSchema() { for (String element : schema.split(\u0026#34;,\u0026#34;)) { parseSchemaElement(element); } return true; } private void parseSchemaElement(String element) { if (element.length() == 1) { parseBooleanSchemaElement(element); } } private void parseBooleanSchemaElement(String element) { char c = element.charAt(0); if (Character.isLetter(c)) { booleanArgs.put(c, false); } } private boolean parseArguments() { for (String arg : args) parseArgument(arg); return true; } private void parseArgument(String arg) { if (arg.startsWith(\u0026#34;-\u0026#34;)) parseElements(arg); } private void parseElements(String arg) { for (int i = 1; i \u0026lt; arg.length(); i++) parseElement(arg.charAt(i)); } private void parseElement(char argChar) { if (isBoolean(argChar)) { numberOfArguments++; setBooleanArg(argChar, true); } else unexpectedArguments.add(argChar); } private void setBooleanArg(char argChar, boolean value) { booleanArgs.put(argChar, value); } private boolean isBoolean(char argChar) { return booleanArgs.containsKey(argChar); } public int cardinality() { return numberOfArguments; } public String usage() { if (schema.length() \u0026gt; 0) return \u0026#34;-[\u0026#34; + schema + \u0026#34;]\u0026#34;; else return \u0026#34;\u0026#34;; } public String errorMessage() { if (unexpectedArguments.size() \u0026gt; 0) { return unexpectedArgumentMessage(); } else return \u0026#34;\u0026#34;; } private String unexpectedArgumentMessage() { StringBuffer message = new StringBuffer(\u0026#34;Argument(s) -\u0026#34;); for (char c : unexpectedArguments) { message.append(c); } message.append(\u0026#34; unexpected.\u0026#34;); return message.toString(); } public boolean getBoolean(char arg) { return booleanArgs.get(arg); } } ê°„ê²°í•˜ê³  ë‹¨ìˆœí•˜ë©° ì´í•´í•˜ê¸°ë„ ì‰¬ì› ë‹¤.\ní•˜ì§€ë§Œ ì½”ë“œë¥¼ ì˜ ì‚´í´ë³´ë©´ ë‚˜ì¤‘ì— ì—‰ë§ìœ¼ë¡œ ë³€í•´ê°ˆ ì”¨ì•—ì´ ë³´ì¸ë‹¤.\nBooleanê³¼ Stringì„ ì§€ì›í•˜ëŠ” Args.java 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 package com.objectmentor.utilities.getopts; import java.text.ParseException; import java.util.*; public class Args { private String schema; private String[] args; private boolean valid = true; private Set\u0026lt;Character\u0026gt; unexpectedArguments = new TreeSet\u0026lt;Character\u0026gt;(); private Map\u0026lt;Character, Boolean\u0026gt; booleanArgs = new HashMap\u0026lt;Character, Boolean\u0026gt;(); private Map\u0026lt;Character, String\u0026gt; stringArgs = new HashMap\u0026lt;Character, String\u0026gt;(); private Set\u0026lt;Character\u0026gt; argsFound = new HashSet\u0026lt;Character\u0026gt;(); private int currentArgument; private char errorArgument = \u0026#39;\\0\u0026#39;; enum ErrorCode { OK, MISSING_STRING } private ErrorCode errorCode = ErrorCode.OK; public Args(String schema, String[] args) throws ParseException { this.schema = schema; this.args = args; valid = parse(); } private boolean parse() throws ParseException { if (schema.length() == 0 \u0026amp;\u0026amp; args.length == 0) return true; parseSchema(); parseArguments(); return valid; } private boolean parseSchema() throws ParseException { for (String element : schema.split(\u0026#34;,\u0026#34;)) { if (element.length() \u0026gt; 0) { String trimmedElement = element.trim(); parseSchemaElement(trimmedElement); } } return true; } private void parseSchemaElement(String element) throws ParseException { char elementId = element.charAt(0); String elementTail = element.substring(1); validateSchemaElementId(elementId); if (isBooleanSchemaElement(elementTail)) parseBooleanSchemaElement(elementId); else if (isStringSchemaElement(elementTail)) parseStringSchemaElement(elementId); } private void validateSchemaElementId(char elementId) throws ParseException { if (!Character.isLetter(elementId)) { throw new ParseException( \u0026#34;Bad character:\u0026#34; + elementId + \u0026#34;in Args format: \u0026#34; + schema, 0); } } private void parseStringSchemaElement(char elementId) { stringArgs.put(elementId, \u0026#34;\u0026#34;); } private boolean isStringSchemaElement(String elementTail) { return elementTail.equals(\u0026#34;*\u0026#34;); } private boolean isBooleanSchemaElement(String elementTail) { return elementTail.length() == 0; } private void parseBooleanSchemaElement(char elementId) { booleanArgs.put(elementId, false); } // // here! private boolean parseArguments() { for (currentArgument = 0; currentArgument \u0026lt; args.length; currentArgument++) { String arg = args[currentArgument]; parseArgument(arg); } return true; } private void parseArgument(String arg) { if (arg.startsWith(\u0026#34;-\u0026#34;)) parseElements(arg); } private void parseElements(String arg) { for (int i = 1; i \u0026lt; arg.length(); i++) parseElement(arg.charAt(i)); } private void parseElement(char argChar) { if (setArgument(argChar)) argsFound.add(argChar); else { unexpectedArguments.add(argChar); valid = false; } } private boolean setArgument(char argChar) { boolean set = true; if (isBoolean(argChar)) setBooleanArg(argChar, true); else if (isString(argChar)) setStringArg(argChar, \u0026#34;\u0026#34;); else set = false; return set; } private void setStringArg(char argChar, String s) { currentArgument++; try { stringArgs.put(argChar, args[currentArgument]); } catch (ArrayIndexOutOfBoundsException e) { valid = false; errorArgument = argChar; errorCode = ErrorCode.MISSING_STRING; } } private boolean isString(char argChar) { return stringArgs.containsKey(argChar); } // private void setBooleanArg(char argChar, boolean value) { booleanArgs.put(argChar, value); } private boolean isBoolean(char argChar) { return booleanArgs.containsKey(argChar); } public int cardinality() { return argsFound.size(); } public String usage() { if (schema.length() \u0026gt; 0) return \u0026#34;-[\u0026#34; + schema + \u0026#34;]\u0026#34;; else return \u0026#34;\u0026#34;; } public String errorMessage() throws Exception { if (unexpectedArguments.size() \u0026gt; 0) { return unexpectedArgumentMessage(); } else switch (errorCode) { case MISSING_STRING: return String.format(\u0026#34;Could not find string parameter for -%c.\u0026#34;, errorArgument); case OK: throw new Exception(\u0026#34;TILT: Should not get here.\u0026#34;); } return \u0026#34;\u0026#34;; } private String unexpectedArgumentMessage() { StringBuffer message = new StringBuffer(\u0026#34;Argument(s) -\u0026#34;); for (char c : unexpectedArguments) { message.append(c); } message.append(\u0026#34; unexpected.\u0026#34;); return message.toString(); } public boolean getBoolean(char arg) { return falseIfNull(booleanArgs.get(arg)); } private boolean falseIfNull(Boolean b) { return b == null ? false : b; } // here! public String getString(char arg) { return blankIfNull(stringArgs.get(arg)); } private String blankIfNull(String s) { return s == null ? \u0026#34;\u0026#34; : s; } public boolean has(char arg) { return argsFound.contains(arg); } public boolean isValid() { return valid; } } Stringìœ í˜• ê´€ë ¨ ì½”ë“œ ì¶”ê°€ í›„ ì½”ë“œê°€ ì–´ì§€ëŸ¬ì›Œì¡Œë‹¤. ì´í›„ Integer ì¸ìˆ˜ ìœ í˜•ì„ ì¶”ê°€í•˜ë‹ˆ ì½”ë“œê°€ ì™„ì „íˆ ì—‰ë§ì´ ë˜ì—ˆë‹¤.\nê·¸ë˜ì„œ ë©ˆì·„ë‹¤. ì¸ìˆ˜ ìœ í˜•ì„ ë” ì¶”ê°€í•´ì•¼ í–ˆëŠ”ë°, ì½”ë“œê°€ í›¨ì”¬ ë” ë‚˜ë¹ ì§ˆ ê²ƒì´ë¼ëŠ” í™•ì‹ ìœ¼ë¡œ ë¦¬í™í„°ë§ì„ ì‹œì‘í–ˆë‹¤.\nìƒˆ ì¸ìˆ˜ ìœ í˜•ì„ ì¶”ê°€í•˜ë ¤ë©´ ì£¼ìš” ì§€ì  ì„¸ê³³ì—ë‹¤ ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œì•˜ë‹¤. (parse, get, set)\nì¸ìˆ˜ ìœ í˜•ì— í•´ë‹¹í•˜ëŠ” HashMapì„ ì„ íƒí•˜ê¸° ìœ„í•´ ìŠ¤í‚¤ë§ˆ ìš”ì†Œì˜ êµ¬ë¬¸ ë¶„ì„ ëª…ë ¹í–‰ ì¸ìˆ˜ì—ì„œ ì¸ìˆ˜ ìœ í˜•ì„ ë¶„ì„í•´ ì§„ì§œ ìœ í˜•ìœ¼ë¡œ ë³€í™˜. getXXXë©”ì„œë“œë¥¼ êµ¬í˜„í•´ í˜¸ì¶œìì—ê²Œ ì§„ì§œ ìœ í˜•ì„ ë°˜í™˜ ğŸ’¡ ì¸ìˆ˜ ìœ í˜•ì€ ë‹¤ì–‘í•˜ì§€ë§Œ ëª¨ë‘ê°€ ìœ ì‚¬í•œ ë©”ì„œë“œë¥¼ ì œê³µí•˜ë¯€ë¡œ í´ë˜ìŠ¤ í•˜ë‚˜ê°€ ì í•©í•˜ë‹¤ íŒë‹¨í–ˆë‹¤. ê·¸ë˜ì„œ ArgumentMarshalerë¼ëŠ” ê°œë…ì´ íƒ„ìƒí–ˆë‹¤.\nì ì§„ì ìœ¼ë¡œ ê°œì„ í•˜ë‹¤. í”„ë¡œê·¸ë¨ì„ ë§ì¹˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ” ê°œì„ ì´ë¼ëŠ” ì´ë¦„ ì•„ë˜ êµ¬ì¡°ë¥¼ í¬ê²Œ ë’¤ì§‘ëŠ” í–‰ìœ„ë‹¤. ê°œì„  ì „ê³¼ ë˜‘ê°™ì€ ê²°ê³¼ë¥¼ ë§Œë“¤ê²Œ í•˜ëŠ” ê²ƒì´ ì–´ë µê¸° ë•Œë¬¸ì´ë‹¤.\nê·¸ë˜ì„œ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì´ë¼ëŠ” ê¸°ë²•ì„ ì‚¬ìš©í•˜ì—¬, ë³€ê²½ í›„ì—ë„ ì‹œìŠ¤í…œì´ ë³€ê²½ ì „ê³¼ ë˜‘ê°™ì´ ëŒì•„ê°€ëŠ” ê²ƒì„ í™•ì¸í•œë‹¤.\nArgumentMarshaler ê° ì¸ìˆ˜ ìœ í˜•ì„ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ Argsë‚´ë¶€ì— ì„ ì–¸ëœ ArgumentMarshaler í´ë˜ìŠ¤ì— ì˜®ê¸´ í›„, ì´í›„ ArgumentMarshaler íŒŒìƒ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë¶„ë¦¬í–ˆë‹¤.\ní”„ë¡œê·¸ë¨ êµ¬ì¡°ë¥¼ ì¡°ê¸ˆì”© ë³€ê²½í•˜ëŠ” ë™ì•ˆì—ë„ ì‹œìŠ¤í…œì˜ ì •ìƒ ë™ì‘ì„ ìœ ì§€í•˜ê¸° ì‰¬ì›Œì§€ê¸° ë•Œë¬¸ ì•„ë˜ ì½”ë“œë¥¼ Args.javaëì— ì¶”ê°€í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 private class ArgumentMarshaler { private boolean booleanValue = false; public void setBoolean(boolean value) { booleanValue = value; } public boolean getBoolean() { return booleanValue; } } private class BooleanArgumentMarshaler extends ArgumentMarshaler { } private class StringArgumentMarshaler extends ArgumentMarshaler { } private class IntegerArgumentMarshaler extends ArgumentMarshaler { } ì²˜ìŒ Boolean ì¸ìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” HashMapì—ì„œ Boolean ì¸ìˆ˜ ìœ í˜•ì„ ArgumentMarshalerìœ í˜•ìœ¼ë¡œ ë°”ê¿¨ë‹¤. 1 private Map\u0026lt;Character, **ArgumentMarshaler**\u0026gt; booleanArgs = new HashMap\u0026lt;Character, **ArgumentMarshaler**\u0026gt;(); ê·¸ í›„ ê¹¨ì§„ ë¶€ë¶„ì— ë³€ê²½ì„ ë°˜ì˜í–ˆë‹¤. 1 2 3 4 5 6 7 8 9 10 11 private void parseBooleanSchemaElement(char elementId) { booleanArgs.put(elementId, **new BooleanArgumentMarshaler()**); } ... private void setBooleanArg(char argChar, boolean value) { booleanArgs.**get**(argChar).**setBoolean**(value); } ... public boolean getBoolean(char arg) { return falseIfNull(booleanArgs.get(arg).**getBoolean**()); } ìƒˆ ì¸ìˆ˜ ìœ í˜•ì„ ì¶”ê°€í•˜ë ¤ë©´ ì„¸ ê³³ (parse, get, set)ì„ ë³€ê²½í•´ì•¼ í–ˆëŠ”ë°, ì •í™•íˆ í•´ë‹¹ ì˜ì—­ì—ì„œ ë³€ê²½ì´ ì´ë£¨ì–´ì¡Œë‹¤.\nbooleanArgsê°€ ArgumentMarshaler ë¥¼ ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ë³€ê²½ë˜ì—ˆìœ¼ë¯€ë¡œ ìœ„ getBooleanì—ì„œ ì‚¬ìš©í•˜ëŠ” ê¸°ì¡´ falseIfNullì´ NullPointerExceptionì„ ë§‰ì„ ìˆ˜ ì—†ì—ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 ... private Map\u0026lt;Character, Boolean\u0026gt; booleanArgs = new HashMap\u0026lt;Character, Boolean\u0026gt;(); ... private class ArgumentMarshaler { ... public boolean getBoolean(char arg) { Args.ArgumentMarshaler am = booleanArgs.get(arg); return am != null \u0026amp;\u0026amp; am.getBoolean(); } } ArgumentMarshaler.getBoolean ì—ì„œ nullì„ ê²€ì‚¬í•˜ê²Œ êµ¬í˜„í•˜ê³  ê¸°ì¡´ falseIfNullì„ ì œê±°í–ˆë‹¤.\nString ì¸ìˆ˜ ì¶”ê°€ Boolean ì¸ìˆ˜ë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ê³¼ ìœ ì‚¬í•˜ê²Œ String ì¸ìˆ˜ë¥¼ ì¶”ê°€í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 private Map\u0026lt;Character, **ArgumentMarshaler**\u0026gt; stringArgs = new HashMap\u0026lt;Character, **ArgumentMarshaler**\u0026gt;(); private void parseStringSchemaElement(char elementId) { stringArgs.put(elementId, **new StringArgumentMarshaler()**); } // ... private void setStringArg(char argChar) throws ArgsException { currentArgument++; try { stringArgs.**get**(argChar).**setString**(args[currentArgument]); } catch (ArrayIndexOutOfBoundsException e) { valid = false; errorArgumentId = argChar; errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } // ... public String getString(char arg) { **Args.ArgumentMarshaler am** = stringArgs.get(arg); return am == null ? \u0026#34;\u0026#34; : am.getString(); } // ... private class ArgumentMarshaler { private String stringValue; public void setString(String s) { stringValue = s; } public String getString() { return stringValue == null ? \u0026#34;\u0026#34; : stringValue; } } í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ë‹¤ìŒ ë³€ê²½ìœ¼ë¡œ ë„˜ì–´ê°€ê¸° ì „ì— ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í–ˆë‹¤.\në§ˆì°¬ê°€ì§€ë¡œ int ì¸ìˆ˜ ê¸°ëŠ¥ë„ ì¶”ê°€í–ˆë‹¤.\nì¶”ìƒí´ë˜ìŠ¤ë¥¼ ì´ìš©í•œ ë¶„ë¦¬ Boolean, String, Integer ì¸ìˆ˜ ì²˜ë¦¬ì— ëŒ€í•œ ëª¨ë“  ê¸°ëŠ¥ì„ Argsì˜ ArgumentMarshalerë¡œ ì˜®ê²¼ìœ¼ë¯€ë¡œ ë¯¸ë¦¬ ì„ ì–¸í•´ë‘” íŒŒìƒ í´ë˜ìŠ¤ë¡œ ë¶„ì‚°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 private **abstract** class ArgumentMarshaler { **protected** boolean booleanValue = false; private String stringValue; private int integerValue; public void setBoolean(boolean value) { booleanValue = value; } public boolean getBoolean() { return booleanValue; } public void setString(String s) { stringValue = s; } public String getString() { return stringValue == null ? \u0026#34;\u0026#34; : stringValue; } public void setInteger(int i) { integerValue = i; } public int getInteger() { return integerValue; } **public abstract void set(String s);** } ì ì§„ì ìœ¼ë¡œ í•œë‹¨ê³„ì”© ê°œì„ í•˜ê¸° ìœ„í•´ ArgumentMarshalerë¥¼ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë°”ê¾¸ê³  í•˜ë‚˜ì”© ì˜®ê¸´ë‹¤.\n1 2 3 4 5 private class BooleanArgumentMarshaler extends ArgumentMarshaler { public void set(String s) { booleanValue = true; } } ArgumentMarshalerë¥¼ ìƒì†ë°›ì€ ìœ í˜• ë³„ í´ë˜ìŠ¤ì— setë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³ , ê¸°ì¡´ ArgumentMarshaler.setXXXì„ setìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.\nâ†’ BooleanArgumentMarshaler.set ì—ì„œ së¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒì—ë„ ì„ ì–¸í•œ ì´ìœ ëŠ” ArgumentMarshaler ë¥¼ ìƒì†ë°›ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ë“¤ì´ String ì¸ìë¥¼ ë°›ì•„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸\nget 1 2 3 4 5 private abstract class ArgumentMarshaler { protected boolean booleanValue = false; ... **public abstract void get();** } getì„ ì¶”ìƒ ë©”ì„œë“œë¡œ ë§Œë“  í›„ ë¡œì§ì„ ì¶”ê°€í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 private class BooleanArgumentMarshaler extends ArgumentMarshaler { **private boolean booleanValue = false;** public void set(String s) { booleanValue = true; } **public Object get() { return booleanValue; }** } ê·¸ í›„ ArgumentMarshaler ì— protectedë¡œ ì„ ì–¸ë˜ì–´ìˆë˜ ë³€ìˆ˜ë¥¼ xxxArgumentMarshalerì˜ privateë³€ìˆ˜ë¡œ ì„ ì–¸í•œë‹¤.\nArgumentMarshaler ê²€ì¦ 1 2 3 4 5 private abstract class ArgumentMarshaler { ... **public abstract Object get(); public abstract void set(String s) throws ArgsException;** } setì„ í†µí•´ ArgumentMarshalerë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤ì˜ privateë³€ìˆ˜ì¸ xxxValueì— ê°’ì„ í• ë‹¹í•˜ê²Œ ë˜ëŠ”ë° ìë£Œí˜•ì´ ë‹¤ë¥¼ê²½ìš° ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.\nArgs í†µí•© xxxArgsë¥¼ í†µí•©í•˜ê¸° ìœ„í•œ ì²«ê±¸ìŒìœ¼ë¡œ marshalers ë¥¼ ì¶”ê°€í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 public class Args { // ... private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; booleanArgs = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; stringArgs = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; intArgs = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); **private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; marshalers = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;();** // ... private void parseBooleanSchemaElement(char elementId) { ArgumentMarshaler m = new BooleanArgumentMarshaler(); booleanArgs.put(elementId, m); **marshalers.put(elementId, m);** } private void parseIntegerSchemaElement(char elementId) { ArgumentMarshaler m = new IntegerArgumentMarshaler(); intArgs.put(elementId, m); **marshalers.put(elementId, m);** } private void parseStringSchemaElement(char elementId) { ArgumentMarshaler m = new StringArgumentMarshaler(); stringArgs.put(elementId, m); **marshalers.put(elementId, m);** } } ê·¸ í›„ parseXXX ë©”ì„œë“œì— marshalers.putì„ ìˆ˜í–‰í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ì§€ ì•ŠëŠ”ì§€ ì‚´íˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨ì—†ì´ ëŒì•„ê°”ë‹¤.\n1 2 3 private boolean isBooleanArg(char argChar) { return booleanArgs.containsKey(argChar); } ê·¸ í›„ Args.isBooleanArgsë¥¼ ì•„ë˜ë¡œ ìˆ˜ì •í–ˆë‹¤.\n1 2 3 4 private boolean isBooleanArg(char argChar) { ArgumentMarshaler m = marshalers.get(argChar); return m instanceof BooleanArgumentMarshaler; } ìˆ˜ì • í›„ í…ŒìŠ¤íŠ¸ë¥¼ ëª¨ë‘ í†µê³¼í•˜ì—¬ ë‹¤ë¥¸ í•­ëª©ë“¤ì— ëŒ€í•´ì„œë„ ë™ì¼í•œ ìˆ˜ì •ì„ í–ˆë‹¤. ë³€ê²½í›„ì—ë„ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ì—¬ marshalers.getì„ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼ í†µí•©í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (isBooleanArg(m)) setBooleanArg(argChar); else if (isStringArg(m)) setStringArg(argChar); else if (isIntArg(m)) setIntArg(argChar); else return false; return true; } private boolean isIntArg(ArgumentMarshaler m) { return m instanceof IntegerArgumentMarshaler; } private boolean isStringArg(ArgumentMarshaler m) { return m instanceof StringArgumentMarshaler; } private boolean isBooleanArg(ArgumentMarshaler m) { return m instanceof BooleanArgumentMarshaler; } ë‹¤ìŒìœ¼ë¡œ setí•¨ìˆ˜ì—ì„œ ê¸°ì¡´ HashMapì„ marshalers HashMapìœ¼ë¡œ êµì²´í•œë‹¤.\n1 2 3 4 5 6 private void setBooleanArg(ArgumentMarshaler m) { try { m.set(\u0026#34;true\u0026#34;); // was: booleanArgs.get(argChar).set(\u0026#34;true\u0026#34;); } catch (ArgsException e) { } } ê° setXXXì˜ í˜•ì‹ì„ í†µí•©í•˜ì—¬ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ë™ì¼í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆì—ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); try { if (m instanceof BooleanArgumentMarshaler) setBooleanArg(m); else if (m instanceof StringArgumentMarshaler) setStringArg(m); else if (m instanceof IntegerArgumentMarshaler) setIntArg(m); else return false; } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } return true; } private void setIntArg(ArgumentMarshaler m) throws ArgsException { currentArgument++; String parameter = null; try { parameter = args[currentArgument]; m.set(parameter); } catch (ArrayIndexOutOfBoundsException e) { errorCode = ErrorCode.MISSING_INTEGER; throw new ArgsException(); } catch (ArgsException e) { errorParameter = parameter; errorCode = ErrorCode.INVALID_INTEGER; throw e; } } private void setStringArg(ArgumentMarshaler m) throws ArgsException { currentArgument++; try { m.set(args[currentArgument]); } catch (ArrayIndexOutOfBoundsException e) { errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } HashMap í†µí•© ArgumentMarshalerë¥¼ ì´ìš©í•˜ì—¬ ë§Œë“  ìœ í˜•ë³„ HashMapì„ í•˜ë‚˜ì˜ HashMapìœ¼ë¡œ í†µí•©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 public boolean getBoolean(char arg) { Args.ArgumentMarshaler am = marshalers.get(arg); boolean b = false; try { b = am != null \u0026amp;\u0026amp; (Boolean) am.get(); } catch (ClassCastException e) { b = false; } return b; } ì´ì—ë”°ë¼ ë‹¤ë¥¸ ì¸ìˆ˜ìœ í˜•ë„ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ ê°€ëŠ¥í–ˆê³ ,\n1 2 3 4 5 private void parseBooleanSchemaElement(char elementId) { ArgumentMarshaler m = new BooleanArgumentMarshaler(); ~~booleanArgs.put(elementId, m);~~ marshalers.put(elementId, m); } ê²°ê³¼ì ìœ¼ë¡œ í•˜ë‚˜ì˜ Hashmapìœ¼ë¡œ í†µí•© ê°€ëŠ¥í–ˆë‹¤.\nsetArgument ìœ í˜•ì„ ì¼ì¼ì´ í™•ì¸í•˜ëŠ” ì½”ë“œë¥¼ ì—†ì• ê³  ArgumentMarshaler.setë§Œìœ¼ë¡œ ë§Œë“ ë‹¤.\nsetXXXArgë¥¼ ê°ê° ArgumentMarshaler ë¡œ ë‚´ë ¤ì•¼ í•˜ëŠ”ë°, setIntArgsëŠ” argsì™€ currentArgumentë¼ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ë‘ê°œê°€ ì“°ì¸ë‹¤.\ní•´ë‹¹ ë©”ì„œë“œë¥¼ ë‚´ë¦¬ë ¤ë©´ argsì™€ currentArgumentë¥¼ ì¸ìˆ˜ë¡œ ë„˜ê²¨ì•¼ í•˜ë¯€ë¡œ(ì¸ìˆ˜ê°€ ë§ì•„ì§€ë¯€ë¡œ) ì½”ë“œê°€ ì§€ì €ë¶„í•´ì§„ë‹¤.\në”°ë¼ì„œ argsë¥¼ listë¡œ ë³€í™˜ í›„ Iteratorë¥¼ set í•¨ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 public class Args { private String schema; private String[] args; private boolean valid = true; private Set\u0026lt;Character\u0026gt; unexpectedArguments = new TreeSet\u0026lt;Character\u0026gt;(); private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; marshalers = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); private Set\u0026lt;Character\u0026gt; argsFound = new HashSet\u0026lt;Character\u0026gt;(); **private Iterator\u0026lt;String\u0026gt; currentArgument;** private char errorArgumentId = \u0026#39;\\0\u0026#39;; private String errorParameter = \u0026#34;TILT\u0026#34;; private ErrorCode errorCode = ErrorCode.OK; **private List\u0026lt;String\u0026gt; argsList;** private enum ErrorCode { OK, MISSING_STRING, MISSING_INTEGER, INVALID_INTEGER, UNEXPECTED_ARGUMENT } public Args(String schema, String[] args) throws ParseException { this.schema = schema; **argsList = Arrays.asList(args);** valid = parse(); } private boolean parse() throws ParseException { if (schema.length() == 0 \u0026amp;\u0026amp; **argsList.size()** == 0) return true; parseSchema(); try { parseArguments(); } catch (ArgsException e) { } return valid; } // --- private boolean parseArguments() throws ArgsException { for (currentArgument = **argsList.iterator()**; currentArgument.**hasNext()**;) { String arg = currentArgument.**next()**; parseArgument(arg); } return true; } // --- private void setIntArg(ArgumentMarshaler m) throws ArgsException { String parameter = null; try { parameter = currentArgument.**next()**; m.set(parameter); } catch (**NoSuchElementException** e) { errorCode = ErrorCode.MISSING_INTEGER; throw new ArgsException(); } catch (ArgsException e) { errorParameter = parameter; errorCode = ErrorCode.INVALID_INTEGER; throw e; } } private void setStringArg(ArgumentMarshaler m) throws ArgsException { try { m.set(currentArgument.**next()**); } catch (**NoSuchElementException** e) { errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } } ë”°ë¼ì„œ argsë¥¼ listë¡œ ë³€í™˜ í›„ Iteratorë¥¼ set í•¨ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ë³€ê²½ í›„ì— í…ŒìŠ¤íŠ¸ë¥¼ ëª¨ë‘ í†µê³¼í–ˆë‹¤. set í•¨ìˆ˜ë¥¼ ì ì ˆí•œ íŒŒìƒ í´ë˜ìŠ¤ë¡œ ë‚´ë ¤ë„ ê´œì°®ì•„ì ¸ ì²˜ìŒìœ¼ë¡œ setArgumentë¥¼ ì•„ë˜ë¡œ ë³€ê²½í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) return false; try { if (m instanceof BooleanArgumentMarshaler) setBooleanArg(m); else if (m instanceof StringArgumentMarshaler) setStringArg(m); else if (m instanceof IntegerArgumentMarshaler) setIntArg(m); ~~else return false;~~ } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } return true; } ì—°ì‡„ì ì¸ if-else êµ¬ë¬¸ì„ ì™„ì „íˆ ì œê±°í•˜ê¸° ìœ„í•´ ì œê±°í•˜ê³  ì˜¤ë¥˜ ì½”ë“œë¥¼ ë”°ë¡œ êº¼ëƒˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) return false; try { if (m instanceof BooleanArgumentMarshaler) setBooleanArg(m, currentArgument); else if (m instanceof StringArgumentMarshaler) setStringArg(m); else if (m instanceof IntegerArgumentMarshaler) setIntArg(m); } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } return true; } // --- private void setBooleanArg(ArgumentMarshaler m, Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { ~~try {~~ m.set(\u0026#34;true\u0026#34;); } ~~catch (ArgsException e) { }~~ } ë‹¨ê³„ì ìœ¼ë¡œ ì¡°ê¸ˆì”© ë³€ê²½í•˜ë©° ë§¤ë²ˆ í…ŒìŠ¤íŠ¸ë¥¼ ëŒë ¤ì•¼ í•˜ë¯€ë¡œ ì½”ë“œë¥¼ ì˜®ê¸°ê³  ì œê±°í•˜ëŠ” ì¼ì´ ë§ì•„ì§„ë‹¤.\nìœ„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ iteratorë¥¼ ì¸ìë¡œ ë°›ëŠ” ì´ìœ ëŠ” ì¶”ìƒ ë©”ì„œë“œë¡œ í˜¸ì¶œí•˜ê¸° ìœ„í•´ì„œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 private abstract class ArgumentMarshaler { public abstract void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException; public abstract void set(String s) throws ArgsException; public abstract Object get(); } private class BooleanArgumentMarshaler extends ArgumentMarshaler { private boolean booleanValue = false; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { booleanValue = true; } public void set(String s) { booleanValue = true; } public Object get() { return booleanValue; } } private class StringArgumentMarshaler extends ArgumentMarshaler { private String stringValue = \u0026#34;\u0026#34;; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { } public void set(String s) { stringValue = s; } public Object get() { return stringValue; } } private class IntegerArgumentMarshaler extends ArgumentMarshaler { private int intValue = 0; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { } public void set(String s) throws ArgsException { try { intValue = Integer.parseInt(s); } catch (NumberFormatException e) { throw new ArgsException(); } } public Object get() { return intValue; } } ìƒˆë¡œìš´ ì¶”ìƒ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ê³  ê°ê° ë³€ê²½í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) return false; try { if (m instanceof BooleanArgumentMarshaler) m.set(currentArgument); else if (m instanceof StringArgumentMarshaler) m.set(currentArgument); else if (m instanceof IntegerArgumentMarshaler) m.set(currentArgument); } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } return true; } private class StringArgumentMarshaler extends ArgumentMarshaler { private String stringValue = \u0026#34;\u0026#34;; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { try { stringValue = currentArgument.next(); } catch (NoSuchElementException e) { errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } public void set(String s) { } public Object get() { return stringValue; } } private class IntegerArgumentMarshaler extends ArgumentMarshaler { private int intValue = 0; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { String parameter = null; try { parameter = currentArgument.next(); set(parameter); } catch (NoSuchElementException e) { errorCode = ErrorCode.MISSING_INTEGER; throw new ArgsException(); } catch (ArgsException e) { errorParameter = parameter; errorCode = ErrorCode.INVALID_INTEGER; throw e; } } public void set(String s) throws ArgsException { try { intValue = Integer.parseInt(s); } catch (NumberFormatException e) { throw new ArgsException(); } } public Object get() { return intValue; } } setArgumentê°€ í…ŒìŠ¤íŠ¸ì— í†µê³¼í•˜ë©´ m.setì´ ì •ìƒ ë™ì‘ì„ ì˜ë¯¸í•˜ë¯€ë¡œ í†µí•©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) return false; try { m.set(currentArgument); return true; } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } } ë§ˆì§€ë§‰ìœ¼ë¡œ ArgumentMarshalerë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€ê²½í•˜ë©´ ì™„ë£Œëœë‹¤.\n1 2 3 4 private interface ArgumentMarshaler { void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException; Object get(); } ê²°ë¡  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 package com.objectmentor.utilities.args; import static com.objectmentor.utilities.args.ArgsException.ErrorCode.*; import java.util.*; public class Args { private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; marshalers; private Set\u0026lt;Character\u0026gt; argsFound; private ListIterator\u0026lt;String\u0026gt; currentArgument; public Args(String schema, String[] args) throws ArgsException { marshalers = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); argsFound = new HashSet\u0026lt;Character\u0026gt;(); parseSchema(schema); parseArgumentStrings(Arrays.asList(args)); } private void parseSchema(String schema) throws ArgsException { for (String element : schema.split(\u0026#34;,\u0026#34;)) if (element.length() \u0026gt; 0) parseSchemaElement(element.trim()); } private void parseSchemaElement(String element) throws ArgsException { char elementId = element.charAt(0); String elementTail = element.substring(1); validateSchemaElementId(elementId); if (elementTail.length() == 0) marshalers.put(elementId, new BooleanArgumentMarshaler()); else if (elementTail.equals(\u0026#34;*\u0026#34;)) marshalers.put(elementId, new StringArgumentMarshaler()); else if (elementTail.equals(\u0026#34;#\u0026#34;)) marshalers.put(elementId, new IntegerArgumentMarshaler()); else if (elementTail.equals(\u0026#34;##\u0026#34;)) marshalers.put(elementId, new DoubleArgumentMarshaler()); else if (elementTail.equals(\u0026#34;[*]\u0026#34;)) marshalers.put(elementId, new StringArrayArgumentMarshaler()); else throw new ArgsException(INVALID_ARGUMENT_FORMAT, elementId, elementTail); } private void validateSchemaElementId(char elementId) throws ArgsException { if (!Character.isLetter(elementId)) throw new ArgsException(INVALID_ARGUMENT_NAME, elementId, null); } private void parseArgumentStrings(List\u0026lt;String\u0026gt; argsList) throws ArgsException { for (currentArgument = argsList.listIterator(); currentArgument.hasNext();) { String argString = currentArgument.next(); if (argString.startsWith(\u0026#34;-\u0026#34;)) { parseArgumentCharacters(argString.substring(1)); } else { currentArgument.previous(); break; } } } private void parseArgumentCharacters(String argChars) throws ArgsException { for (int i = 0; i \u0026lt; argChars.length(); i++) parseArgumentCharacter(argChars.charAt(i)); } private void parseArgumentCharacter(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) { throw new ArgsException(UNEXPECTED_ARGUMENT, argChar, null); } else { argsFound.add(argChar); try { m.set(currentArgument); } catch (ArgsException e) { e.setErrorArgumentId(argChar); throw e; } } } public boolean has(char arg) { return argsFound.contains(arg); } public int nextArgument() { return currentArgument.nextIndex(); } public boolean getBoolean(char arg) { return BooleanArgumentMarshaler.getValue(marshalers.get(arg)); } public String getString(char arg) { return StringArgumentMarshaler.getValue(marshalers.get(arg)); } public int getInt(char arg) { return IntegerArgumentMarshaler.getValue(marshalers.get(arg)); } public double getDouble(char arg) { return DoubleArgumentMarshaler.getValue(marshalers.get(arg)); } public String[] getStringArray(char arg) { return StringArrayArgumentMarshaler.getValue(marshalers.get(arg)); } } 1 2 3 public interface ArgumentMarshaler { void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class BooleanArgumentMarshaler implements ArgumentMarshaler { private boolean booleanValue = false; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { booleanValue = true; } public static boolean getValue(ArgumentMarshaler am) { if (am != null \u0026amp;\u0026amp; am instanceof BooleanArgumentMarshaler) return ((BooleanArgumentMarshaler) am).booleanValue; else return false; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 import static com.objectmentor.utilities.args.ArgsException.ErrorCode.*; public class StringArgumentMarshaler implements ArgumentMarshaler { private String stringValue = \u0026#34;\u0026#34;; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { try { stringValue = currentArgument.next(); } catch (NoSuchElementException e) { throw new ArgsException(MISSING_STRING); } } public static String getValue(ArgumentMarshaler am) { if (am != null \u0026amp;\u0026amp; am instanceof StringArgumentMarshaler) return ((StringArgumentMarshaler) am).stringValue; else return \u0026#34;\u0026#34;; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 import static com.objectmentor.utilities.args.ArgsException.ErrorCode.*; public class IntegerArgumentMarshaler implements ArgumentMarshaler { private int intValue = 0; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { String parameter = null; try { parameter = currentArgument.next(); intValue = Integer.parseInt(parameter); } catch (NoSuchElementException e) { throw new ArgsException(MISSING_INTEGER); } catch (NumberFormatException e) { throw new ArgsException(INVALID_INTEGER, parameter); } } public static int getValue(ArgumentMarshaler am) { if (am != null \u0026amp;\u0026amp; am instanceof IntegerArgumentMarshaler) return ((IntegerArgumentMarshaler) am).intValue; else return 0; } } ë¦¬í™í† ë§ì„ ì•ˆì „í•˜ê²Œ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì¡°ê¸ˆì”© ë³€ê²½í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì ˆì°¨ì ì¸ ì½”ë“œê°€ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ë¦¬í™í† ë§ ë˜ì—ˆë‹¤.\nê·œëª¨ê°€ ìˆëŠ” ì½”ë“œë¥¼ í•œë²ˆì— ë³€ê²½í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì–´ë µë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¡°ê¸ˆì”© ë³€ê²½í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ë§¤ìš° ì¤‘ìš”í•˜ë‹¤!\n","date":"2023-04-21T11:00:13+09:00","image":"https://codemario318.github.io/post/clean-code/14/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/14/","title":"í´ë¦°ì½”ë“œ: 14. ì ì§„ì ì¸ ê°œì„ "},{"content":" ì°½ë°œì„±: ë– ì˜¤ë¦„ í˜„ìƒ, å‰µç™¼æ€§, emergent property, emergence\ní•˜ìœ„ ê³„ì¸µì—ì„œ ì—†ëŠ” íŠ¹ì„±ì´ë‚˜ í–‰ë™ì´ ìƒìœ„ ê³„ì¸µì—ì„œ ìë°œì ìœ¼ë¡œ ëŒì—°íˆ ì¶œí˜„í•˜ëŠ” í˜„ìƒ, ë¶ˆì‹œì— ì†Ÿì•„ë‚˜ëŠ” íŠ¹ì„±(wikipedia) ë‚¨ì´ ëª¨ë¥´ê±°ë‚˜ í•˜ì§€ ì•„ë‹ˆí•œ ê²ƒì„ ì²˜ìŒìœ¼ë¡œ ë˜ëŠ” ìƒˆë¡­ê²Œ ë°í˜€ë‚´ê±°ë‚˜ ì´ë£¨ì–´ ë‚´ëŠ” ì„±ì§ˆ(naver dict) ì°½ë°œì  ì„¤ê³„ë¡œ ê¹”ë”í•œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ì ê°„ë‹¨í•œ ê¸°ë³¸ ê·œì¹™ë“¤(í•˜ìœ„ ê³„ì¸µ)ì„ ì§€í‚¤ê²Œ ë˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì¢‹ì€ ì½”ë“œ(ìƒìœ„ ê³„ì¸µ)ê°€ ë§Œë“¤ì–´ì§„ë‹¤(ë°œìƒí•œë‹¤).\në‹¨ìˆœí•œ ì„¤ê³„ ê·œì¹™ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤. ì¤‘ë³µì„ ì—†ì•¤ë‹¤. í”„ë¡œê·¸ë˜ë¨¸ì˜ ì˜ë„ë¥¼ í‘œí˜„í•œë‹¤. í¬ë˜ìŠ¤ì™€ ë©”ì„œë“œ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì¸ë‹¤. ìœ„ 4ê°€ì§€ ê·œì¹™ì„ ì§€í‚¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ê¹¨ë—í•œ ì½”ë“œê°€ ë§Œë“¤ì–´ ì§„ë‹¤.\nì½”ë“œ êµ¬ì¡°ì™€ ì„¤ê³„ë¥¼ íŒŒì•…í•˜ê¸° ì‰¬ì›Œì§ ì´ì— ë”°ë¼ SRP, DIP ê°™ì€ ì›ì¹™ì„ ì ìš©í•˜ê¸° ì‰¬ì›Œì§ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë¼ ì„¤ê³„ëŠ” ì˜ë„í•œ ëŒ€ë¡œ ëŒì•„ê°€ëŠ” ì‹œìŠ¤í…œì„ ë‚´ë†“ì•„ì•¼ í•œë‹¤. ì™„ë²½í•œ ì„¤ê³„ë¥¼ ë”°ë¼ ì‹œìŠ¤í…œì„ ë§Œë“¤ì—ˆë‹¤ê³  í•˜ë”ë¼ë„ ê²€ì¦ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ë©´ ì™„ë²½í•œ ì„¤ê³„ë¼ê³  í™•ì–¸í•  ìˆ˜ ì—†ë‹¤.\nì´ëŸ¬í•œ ì˜ë„í•œ ëŒ€ë¡œ ëŒì•„ê°€ëŠ” ì‹œìŠ¤í…œì„ ê²€ì¦í•˜ëŠ” ë°©ë²•ì€ í…ŒìŠ¤íŠ¸ì´ë©°, ì˜ë„í•œ ëŒ€ë¡œ ëŒì•„ê°€ëŠ” ì‹œìŠ¤í…œì€ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í†µê³¼í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.\në”°ë¼ì„œ í…ŒìŠ¤íŠ¸ê°€ ë¶ˆê°€ëŠ¥í•œ ì‹œìŠ¤í…œì€ ê²€ì¦ì´ ë¶ˆê°€ëŠ¥í•œ ì‹œìŠ¤í…œì´ê³ , ê²€ì¦ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ë©´ ì–´ë””ì„œ ë¬¸ì œê°€ ë°œìƒí•  ì§€ ì˜ˆì¸¡í•  ìˆ˜ ì—†ë‹¤.\ní…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ë ¤ê³  ì• ì“°ë©´ ì„¤ê³„ í’ˆì§ˆì´ ë”ë¶ˆì–´ ë†’ì•„ì§„ë‹¤.\ní¬ê¸°ê°€ ì‘ê³  ëª©ì  í•˜ë‚˜ë§Œ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ê°€ ë‚˜ì˜¨ë‹¤. SRPë¥¼ ì¤€ìˆ˜í•˜ëŠ” í´ë˜ìŠ¤ëŠ” í…ŒìŠ¤íŠ¸ê°€ í›¨ì”¬ ë” ì‰½ë‹¤.\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë§ì„ìˆ˜ë¡ ê°œë°œìëŠ” í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•˜ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ ì² ì €í•œ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ë©´ ë” ë‚˜ì€ ì„¤ê³„ê°€ ì–»ì–´ì§„ë‹¤\nê²°í•©ë„ê°€ ë†’ìœ¼ë©´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•˜ê¸° ì–´ë µë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§ì´ ì‘ì„±í• ìˆ˜ë¡ ê°œë°œìëŠ” DIPì™€ ê°™ì€ ì›ì¹™ì„ ì ìš©í•˜ê³ , ì˜ì¡´ì„± ì£¼ì…, ì¸í„°í˜ì´ìŠ¤, ì¶”ìƒí™” ë“±ê³¼ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ ê²°í•©ë„ë¥¼ ë‚®ì¶˜ë‹¤.\nâ€œí…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ê³„ì† ëŒë ¤ë¼\u0026ldquo;ë¼ëŠ” ê°„ë‹¨í•˜ê³  ë‹¨ìˆœí•œ ê·œì¹™ì„ ë”°ë¥´ë©´ ì‹œìŠ¤í…œì€ ë‚®ì€ ê²°í•©ë„ì™€ ë†’ì€ ì‘ì§‘ë ¥ì´ë¼ëŠ”, ê°ì²´ ì§€í–¥ ë°©ë²•ë¡ ì´ ì§€í–¥í•˜ëŠ” ëª©í‘œë¥¼ ì €ì ˆë¡œ ë‹¬ì„±í•œë‹¤.\n2~4. ë¦¬í™í„°ë§ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ëª¨ë‘ ì‘ì—…í–ˆë‹¤ë©´ ì½”ë“œì™€ í´ë˜ìŠ¤ë¥¼ ì •ë¦¬í•´ë„ ê´œì°®ë‹¤. ì½”ë“œë¥¼ ì ì§ì ìœ¼ë¡œ ë¦¬íŒ©í„°ë§ í•´ë‚˜ê°„ë‹¤.\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì¸í•´ ì½”ë“œë¥¼ ì •ë¦¬í•˜ë©´ì„œ ì‹œìŠ¤í…œì´ ê¹¨ì§ˆê¹Œ ê±±ì •í•  í•„ìš”ê°€ ì—†ë‹¤.\në¦¬íŒ©í„°ë§ ë‹¨ê³„ì—ì„œëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ í’ˆì§ˆì„ ë†’ì´ëŠ” ê¸°ë²•ì´ë¼ë©´ ë¬´ì—‡ì´ë“  ì ìš©í•´ë„ ê´œì°®ë‹¤.\nì‘ì§‘ë„ë¥¼ ë†’ì´ê¸° ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ê¸° ì‹œìŠ¤í…œ ê´€ì‹¬ì‚¬ë¥¼ ëª¨ë“ˆë¡œ ë‚˜ëˆ„ê¸° í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ í¬ê¸°ë¥¼ ì¤„ì´ê¸° ë” ë‚˜ì€ ì´ë¦„ì„ ì„ íƒí•˜ê¸° ë‹¤ì–‘í•œ ê¸°ë²•ì„ ë™ì›í•œë‹¤.\nì´ ë‹¨ê³„ëŠ” ë‹¨ìˆœí•œ ì„¤ê³„ ê·œì¹™ ì¤‘ ë‚˜ë¨¸ì§€ 3ê°œë¥¼ ì ìš©í•´ ì¤‘ë³µì„ ì œê±°í•˜ê³ , í”„ë¡œê·¸ë˜ë¨¸ì˜ ì˜ë„ë¥¼ í‘œí˜„í•˜ê³ , í´ë˜ìŠ¤ì™€ ë©”ì„œë“œ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì´ëŠ” ë‹¨ê³„ì´ë‹¤.\nì¤‘ë³µì„ ì—†ì• ë¼ ì¤‘ë³µì€ ì¶”ê°€ ì‘ì—…, ì¶”ê°€ ìœ„í—˜, ë¶ˆí•„ìš”í•œ ë³µì¡ë„ë¥¼ ëœ»í•œë‹¤. ë”°ë¼ì„œ ìš°ìˆ˜í•œ ì„¤ê³„ì—ì„œ ì¤‘ë³µì€ ì»¤ë‹¤ë€ ì ì´ë‹¤.\në˜‘ê°™ì€ ì½”ë“œ ë¹„ìŠ·í•œ ì½”ë“œ êµ¬í˜„ ì¤‘ë³µ ë¹„ìŠ·í•œ ì½”ë“œëŠ” ë” ë¹„ìŠ·í•˜ê²Œ ê³ ì³ì£¼ë©´ ë¦¬íŒ©í„°ë§ì´ ì‰¬ì›Œì§„ë‹¤. êµ¬í˜„ ì¤‘ë³µë„ ì¤‘ë³µì˜ í•œ í˜•íƒœì´ë‹¤.\nSet í´ë˜ìŠ¤ ì˜ˆì‹œ: êµ¬í˜„ ì¤‘ë³µ 1 2 int size() {} boolean isEmpty() {} Set í´ë˜ìŠ¤ì—ì„œ ìœ„ì™€ ê°™ì€ ë©”ì„œë“œê°€ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ, ê° ë©”ì„œë“œë¥¼ ë”°ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤. isEmptyëŠ” ë¶€ìš¸ ê°’ì„ ë°˜í™˜í•˜ê³ , sizeëŠ” ê°œìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 boolean isEmpty() { return 0 == size(); } ì—¬ê¸°ì„œ isEmptyë¥¼ ë³„ë„ë¡œ êµ¬í˜„í•˜ì§€ ì•Šê³ , sizeë¥¼ ì´ìš©í•˜ë©´ ì½”ë“œë¥¼ ì¤‘ë³µí•´ì„œ êµ¬í˜„í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 public void scaleToOneDimension(float desiredDimension, float imageDimension) { if (Math.abs(desiredDimension - imageDimension) \u0026lt; errorThreshold) { return; } float scalingFactor = desiredDimension / imageDimension; scalingFactor = (float)(Math.floor(scalingFactor * 100) * 0.01f); RenderedOp newImage = ImageUtilities.getScaledImage(image, scalingFactor, scalingFactor); image.dispose(); System.gc(); image = newImage; } public synchronized void rotate(int degrees) { RenderedOp newImage = ImageUtilities.getRotatedImage(image, degrees); image.dispose(); System.gc(); image = newImage; } scaleToOneDimension ë©”ì„œë“œì™€ rotate ë©”ì„œë“œë¥¼ ì‚´í´ë³´ë©´ ì¼ë¶€ ì½”ë“œê°€ ë™ì¼í•˜ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì •ë¦¬í•´ ì¤‘ë³µì„ ì œê±°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public void scaleToOneDimension(float desiredDimension, float imageDimension) { if (Math.abs(desiredDimension - imageDimension) \u0026lt; errorThreshold) { return; } float scalingFactor = desiredDimension / imageDimension; scalingFactor = (float)(Math.floor(scalingFactor * 100) * 0.01f); replaceImage(ImageUtilities.getScaledImage(image, scalingFactor, scalingFactor)); } public synchronized void rotate(int degrees) { replaceImage(ImageUtilities.getrotatedImage(image, degrees)); } public void replaceImage(RenderedOp newImage) { image.dispose(); System.gc(); image = newImage; } ì½”ë“œ 3ì¤„ì„ ê³µí†µ replaceImage ë©”ì„œë“œë¡œ ë½‘ì•„ì„œ ì¤‘ë³µì„ ì œê±°í–ˆë‹¤. ìƒˆ ë©”ì„œë“œë¡œ ë½‘ì•„ë‚´ë‹ˆ ê¸°ì¡´ í´ë˜ìŠ¤ê°€ SRPë¥¼ ìœ„ë°˜í•˜ë¯€ë¡œ, replaceImageë¥¼ ì í•©í•œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ì˜®ê¸°ë©´ ëœë‹¤.\nì´ëŸ¬í•œ ê³µí†µ ì½”ë“œ ë¶„ë¦¬ë¥¼ í†µí•´ ë©”ì„œë“œì˜ ê°€ì‹œì„±ì´ ë†’ì•„ì¡Œë‹¤. ë”°ë¼ì„œ ë‹¤ë¥¸ íŒ€ì›ì´ ìƒˆ ë©”ì„œë“œë¥¼ ì¢€ ë” ì¶”ìƒí™”í•´ ë‹¤ë¥¸ ë§¥ë½ì—ì„œ ì¬ì‚¬ìš©í•  ê¸°íšŒë¥¼ í¬ì°©í• ì§€ë„ ëª¨ë¥¸ë‹¤.\nì´ëŸ¬í•œ ì†Œê·œëª¨ ì¬ì‚¬ìš©ì€ ì‹œìŠ¤í…œ ë³µì¡ë„ë¥¼ ê·¹ì ìœ¼ë¡œ ì¤„ì—¬ì¤€ë‹¤. ì†Œê·œëª¨ ì¬ì‚¬ìš©ì„ ì œëŒ€ë¡œ ìµí˜€ì•¼ ëŒ€ê·œëª¨ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.\nTEMPLATE METHOD íŒ¨í„´ [Design Pattern] í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì´ë€ - Heee\u0026rsquo;s Development Blog\nê³ ì°¨ì› ì¤‘ë³µì„ ì œê±°í•  ëª©ì ìœ¼ë¡œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ìœ¼ë¡œ ì–´ë–¤ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì¼ë¶€ë¶„ì„ ì„œë¸Œ í´ë˜ìŠ¤ë¡œ ìº¡ìŠí™”í•˜ì—¬ ì „ì²´ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” êµ¬ì¡°ëŠ” ë°”ê¾¸ì§€ ì•Šìœ¼ë©´ì„œ íŠ¹ì • ë‹¨ê³„ì—ì„œ ìˆ˜í–‰í•˜ëŠ” ë‚´ì—­ì„ ë°”ê¾¸ëŠ” íŒ¨í„´\nì „ì²´ì ìœ¼ë¡œ ë™ì¼í•˜ë©´ì„œ ë¶€ë¶„ì ìœ¼ë¡œëŠ” ë‹¤ë¥¸ êµ¬ë¬¸ìœ¼ë¡œ êµ¬ì„±ëœ ë©”ì„œë“œì˜ ì½”ë“œ ì¤‘ë³µì„ ìµœì†Œí™” í• ë•Œ ìœ ìš©í•¨ ë™ì¼í•œ ê¸°ëŠ¥ì„ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•˜ë©´ì„œ í™•ì¥/ë³€í™”ê°€ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public class VacationPolicy { public void accrueUSDivisionVacation() { // ì§€ê¸ˆê¹Œì§€ ê·¼ë¬´í•œ ì‹œê°„ì„ ë°”íƒ•ìœ¼ë¡œ íœ´ê°€ ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œ // ... // íœ´ê°€ ì¼ìˆ˜ê°€ ë¯¸êµ­ ìµœì†Œ ë²•ì • ì¼ìˆ˜ë¥¼ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ // ... // íœ´ê°€ ì¼ìˆ˜ë¥¼ ê¸‰ì—¬ ëŒ€ì¥ì— ì ìš©í•˜ëŠ” ì½”ë“œ // ... } public void accfrueEUDivisionVacation() { // ì§€ê¸ˆê¹Œì§€ ê·¼ë¬´í•œ ì‹œê°„ì„ ë°”íƒ•ìœ¼ë¡œ íœ´ê°€ ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œ // ... // íœ´ê°€ ì¼ìˆ˜ê°€ ìœ ëŸ½ì—°í•© ìµœì†Œ ë²•ì • ì¼ìˆ˜ë¥¼ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ // ... // íœ´ê°€ ì¼ìˆ˜ë¥¼ ê¸‰ì—¬ ëŒ€ì¥ì— ì ìš©í•˜ëŠ” ì½”ë“œ // ... } } ìœ„ ì½”ë“œì—ì„œ ìµœì†Œ ë²•ì • ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œë§Œ ì œì™¸í•˜ë©´ ë‘ ë©”ì„œë“œëŠ” ê±°ì˜ ë™ì¼í•˜ë‹¤. ìµœì†Œ ë²•ì • ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì€ ì§ì› ìœ í˜•ì— ë”°ë¼ ì¡°ê¸ˆ ë³€í•œë‹¤.\nì´ëŸ¬í•œ êµ¬ì¡°ì—ì„œ Template Method íŒ¨í„´ì„ ì ìš©í•´ ì¤‘ë³µì„ ì œê±°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 abstract public class Vacation Policy { public void accrueVacation() { calculateBaseVacationHours(); alterForLegalMinimums(); applyToPayroll(); } private void calculateBaseVacationHours() { // ì§€ê¸ˆê¹Œì§€ ê·¼ë¬´í•œ ì‹œê°„ì„ ë°”íƒ•ìœ¼ë¡œ íœ´ê°€ ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œ // ... }; abstract protected void alterForLegalMinimums(); private void applyToPayroll() { // íœ´ê°€ ì¼ìˆ˜ë¥¼ ê¸‰ì—¬ ëŒ€ì¥ì— ì ìš©í•˜ëŠ” ì½”ë“œ // ... }; } public class USVacationPolicy extends VacationPolicy { @override protected void alterForLegalMinimums() { // ë¯¸êµ­ ìµœì†Œ ë²•ì • ì¼ìˆ˜ ì‚¬ìš©; } } public class EUVacationPolicy extends VacationPolicy { @override protected void alterForLegalMinimums() { // ìœ ëŸ½ì—°í•© ìµœì†Œ ë²•ì • ì¼ìˆ˜ ì‚¬ìš©; } } í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ì •ë³´ë§Œ ì œê³µí•´ accrueVacation ì•Œê³ ë¦¬ì¦˜ì—ì„œ ë¹ ì§„ êµ¬ë©(alterForLegalMinimums)ì„ ë©”ìš´ë‹¤.\ní‘œí˜„í•˜ë¼ ì½”ë“œë¥´ ì§œëŠ”ë™ì•ˆ ë¬¸ì œì— í‘¹ ë¹ ì ¸ ì½”ë“œë¥¼ êµ¬ì„êµ¬ì„ ì´í•´í•˜ê²Œ ë˜ì–´, ìì‹ ë§Œ ì´í•´í•˜ëŠ” ì½”ë“œë¥¼ ì§œê¸°ê°€ ì‰½ë‹¤. ì´ëŸ° ì½”ë“œëŠ” ì´í›„ ìœ ì§€ë³´ìˆ˜í•  ì‚¬ëŒì´ ì½”ë“œë¥¼ ì§œëŠ” ì‚¬ëŒë§Œí¼ì´ë‚˜ ë¬¸ì œë¥¼ ê¹Šì´ ì´í•´í•  ê°€ëŠ¥ì„±ì€ í¬ë°•í•˜ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œì íŠ¸ ë¹„ìš© ì¤‘ ëŒ€ë‹¤ìˆ˜ëŠ” ì¥ê¸°ì ì¸ ìœ ì§€ë³´ìˆ˜ì— ë“¤ì–´ê°€ê²Œ ë˜ëŠ”ë°, ì½”ë“œë¥¼ ë³€ê²½í•˜ë©´ì„œ ë²„ê·¸ ì—¬ì§€ë¥¼ ì£¼ì§€ ì•Šìœ¼ë ¤ë©´ ìœ ì§€ë³´ìˆ˜ ê°œë°œìê°€ ì‹œìŠ¤í…œì„ ì œëŒ€ë¡œ ì´í•´í•´ì•¼ í•œë‹¤.\ní•˜ì§€ë§Œ ì‹œìŠ¤í…œì´ ì ì°¨ ë³µì¡í•´ì§€ë©´ì„œ ìœ ì§€ë³´ìˆ˜ ê°œë°œìê°€ ì‹œìŠ¤í…œì„ ì´í•´í•˜ëŠë¼ ë³´ë‚´ëŠ” ì‹œê°„ì€ ì ì  ëŠ˜ì–´ë‚˜ê³  ë™ì‹œì— ì½”ë“œë¥¼ ì˜¤í•´í•  ê°€ëŠ¥ì„±ë„ ì ì  ì»¤ì§„ë‹¤.\në”°ë¼ì„œ ì´í•´í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ì§œì•¼í•˜ê³ , ì½”ë“œì—ì„œ ê°œë°œìì˜ ì˜ë„ë¥¼ ë¶„ëª…íˆ í‘œí˜„í•˜ê³  ëª…ë°±í•˜ê²Œ ì§¤ìˆ˜ë¡ ë‹¤ë¥¸ ì‚¬ëŒì´ ì½”ë“œë¥´ ì´í•´í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\ní‘œí˜„ë ¥ì„ ë†’ì´ëŠ” ë°©ë²• ì¢‹ì€ ì´ë¦„ì„ ì„ íƒí•œë‹¤. ì´ë¦„ê³¼ ê¸°ëŠ¥ì´ ì™„ì „íˆ ë”´íŒì¸ í´ë˜ìŠ¤ë‚˜ í•¨ìˆ˜ë¡œ í˜¼ë€ì„ ì£¼ë©´ ì•ˆëœë‹¤. í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ í¬ê¸°ë¥¼ ê°€ëŠ¥í•œ ì¤„ì¸ë‹¤. ì‘ì€ í´ë˜ìŠ¤ì™€ ì‘ì€ í•¨ìˆ˜ëŠ” ì´ë¦„ ì§“ê¸°ë„ ì‰½ê³ , êµ¬í˜„í•˜ê¸°ë„ ì‰½ê³ , ì´í•´í•˜ê¸°ë„ ì‰½ë‹¤. í‘œì¤€ ëª…ì¹­ì„ ì‚¬ìš©í•œë‹¤. ë””ìì¸ íŒ¨í„´ì€ ì˜ì‚¬ì†Œí†µê³¼ í‘œí˜„ë ¥ ê°•í™”ê°€ ì£¼ìš” ëª©ì ì´ë‹¤. í´ë˜ìŠ¤ê°€ COMMANDë‚˜ VISITORì™€ ê°™ì€ í‘œì¤€ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤ë©´ í´ë˜ìŠ¤ ì´ë¦„ì— íŒ¨í„´ ì´ë¦„ì„ ë„£ì–´ì¤€ë‹¤. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ê¼¼ê¼¼íˆ ì‘ì„±í•œë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì†Œìœ„ â€˜ì˜ˆì œë¡œ ë³´ì—¬ì£¼ëŠ” ë¬¸ì„œâ€™ë‹¤. ì˜ ë§Œë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì½ì–´ë³´ë©´ í´ë˜ìŠ¤ ê¸°ëŠ¥ì´ í•œëˆˆì— ë“¤ì–´ì˜¨ë‹¤. í‘œí˜„ë ¥ì„ ë†’ì´ëŠ” ë°©ë²•ì€ ë…¸ë ¥ì´ë‹¤. í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ì— ì¡°ê¸ˆ ë” ì‹œê°„ì„ íˆ¬ìí•˜ì. ë” ë‚˜ì€ ì´ë¦„ì„ ì„ íƒí•˜ê³ , í° í•¨ìˆ˜ë¥¼ ì‘ì€ í•¨ìˆ˜ ì—¬ëŸ¿ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ìì‹ ì˜ ì‘í’ˆì— ì¡°ê¸ˆë§Œ ë” ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ì!\në‚˜ì¤‘ì— ì½”ë“œë¥¼ ì½ì„ ì‚¬ëŒì€ ë°”ë¡œ ìì‹ ì¼ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.\ní´ë˜ìŠ¤ì™€ ë©”ì†Œë“œ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì—¬ë¼ ì¤‘ë³µì„ ì œê±°í•˜ê³ , ì˜ë„ë¥¼ í‘œí˜„í•˜ê³ , SRPë¥¼ ì¤€ìˆ˜í•œë‹¤ëŠ” ê¸°ë³¸ì ì¸ ê°œë…ë„ ê·¹ë‹¨ìœ¼ë¡œ ì¹˜ë‹¬ìœ¼ë©´ ë“ë³´ë‹¤ ì‹¤ì´ ë§ì•„ì§„ë‹¤.\ní´ë˜ìŠ¤ì™€ ë©”ì„œë“œ í¬ê¸°ë¥¼ ì¤„ì´ìê³  ì¡°ê·¸ë§Œ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œë¥¼ ìˆ˜ì—†ì´ ë§Œë“œëŠ” ì‚¬ë¡€ë„ ì—†ì§€ ì•Šë‹¤. ê·¸ë˜ì„œ ì´ ê·œì¹™ì€ í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ ìˆ˜ë¥¼ ê°€ëŠ¥í•œ ì¤„ì´ë¼ê³  ì œì•ˆí•œë‹¤.\në•Œë¡œëŠ” ë¬´ì˜ë¯¸í•˜ê³  ë…ë‹¨ì ì¸ ì „ì±… íƒ“ì— í´ë˜ìŠ¤ ìˆ˜ì™€ ë©”ì„œë“œ ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ê¸°ë„ í•œë‹¤.\ní´ë˜ìŠ¤ë§ˆë‹¤ ë¬´ì¡°ê±´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•˜ë¼ê³  ìš”êµ¬í•˜ëŠ” êµ¬í˜„ í‘œì¤€ ìë£Œ í´ë˜ìŠ¤ì™€ ë™ì‘ í´ë˜ìŠ¤ëŠ” ë¬´ì¡°ê±´ ë¶„ë¦¬í•´ì•¼ í•œë‹¤. ê°€ëŠ¥í•œ ë…ë‹¨ì ì¸ ê²¬í•´ëŠ” ë©€ë¦¬í•˜ê³  ì‹¤ìš©ì ì¸ ë°©ì‹ì„ íƒí•œë‹¤.\nëª©í‘œëŠ” í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ í¬ê¸°ë¥¼ ì‘ê²Œ ìœ ì§€í•˜ë©´ì„œ ì‹œìŠ¤í…œ í¬ê¸°ë„ ì‘ê²Œ ìœ ì§€í•˜ëŠ” ë° ìˆë‹¤.\nì´ ê·œì¹™ì€ ê°„ë‹¨í•œ ì„¤ê³„ ê·œì¹™ ë„¤ ê°œì¤‘ ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë‚®ë‹¤. ì¦‰, í‹€ë˜ìŠ¤ì™€ í•¨ìˆ˜ ìˆ˜ë¥¼ ì¤„ì´ëŠ” ì‘ì—…ë„ ì¤‘ìš”í•˜ì§€ë§Œ, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ì¤‘ë³µì„ ì œê±°í•˜ê³  ì˜ë„ë¥¼ í‘œí˜„í•˜ëŠ” ì‘ì—…ì´ ë” ì¤‘ìš”í•˜ë‹¤ëŠ” ëœ»ì´ë‹¤.\nê²°ë¡  ê²½í—˜ì„ ëŒ€ì‹ í•  ë‹¨ìˆœí•œ ê°œë°œ ê¸°ë²•ì€ ì—†ë‹¤. í•˜ì§€ë§Œ ì†Œê°œí•˜ëŠ” ê¸°ë²•ì€ ì €ìë“¤ì´ ìˆ˜ì‹­ ë…„ ë™ì•ˆ ìŒ“ì€ ê²½í—˜ì˜ ì •ìˆ˜ë‹¤.\nğŸ’¡ ë‹¨ìˆœí•œ ì„¤ê³„ ê·œì¹™ì„ ë”°ë¥¸ë‹¤ë©´ ìš°ìˆ˜í•œ ê¸°ë²•ê³¼ ì›ì¹™ì„ ë‹¨ë²ˆì— í™œìš©í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-21T10:52:13+09:00","image":"https://codemario318.github.io/post/clean-code/12/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/12/","title":"í´ë¦°ì½”ë“œ: 12. ì°½ë°œì„±"},{"content":"ì½”ë“œì˜ í‘œí˜„ë ¥ê³¼ ê·¸ ì½”ë“œë¡œ ì´ë£¨ì–´ì§„ í•¨ìˆ˜ì— ì•„ë¬´ë¦¬ ì‹ ê²½ ì“¸ì§€ë¼ë„ ì¢€ ë” ì°¨ì› ë†’ì€ ë‹¨ê³„ê¹Œì§€ ì‹ ê²½ì“°ì§€ ì•Šìœ¼ë©´ ê¹¨ë—í•œ ì½”ë“œë¥¼ ì–»ê¸°ëŠ” ì–´ë µë‹¤.\ní´ë˜ìŠ¤ ì²´ê³„ í‘œì¤€ ìë°” ê´€ë¡€ì— ì˜í•˜ë©´ ì•„ë˜ ìˆœì„œë¡œ ì„ ì–¸í•˜ê²Œ ëœë‹¤.\npublic static ìƒìˆ˜ private static ë³€ìˆ˜ ë¹„ê³µê°œ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ê³µê°œ ë³€ìˆ˜ê°€ í•„ìš”í•œ ê²½ìš°ëŠ” ê±°ì˜ ì—†ë‹¤ ê³µê°œ í•¨ìˆ˜ ë¹„ê³µê°œ í•¨ìˆ˜ ìì‹ ì„ í˜¸ì¶œí•˜ëŠ” ê³µê°œ í•¨ìˆ˜ ì§í›„ì— ë„£ëŠ”ë‹¤. ì¦‰ ì¶”ìƒí™” ë‹¨ê³„ê°€ ìˆœì°¨ì ìœ¼ë¡œ ë‚´ë ¤ê°„ë‹¤. ê·¸ë˜ì„œ í”„ë¡œê·¸ë¨ì€ ì‹ ë¬¸ ê¸°ì‚¬ì²˜ëŸ¼ ì½íŒë‹¤.\nìº¡ìŠí™” ë³€ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ëŠ” ê°€ëŠ¥í•œ ê³µê°œí•˜ì§€ ì•ŠëŠ” í¸ì´ ë‚«ì§€ë§Œ ë°˜ë“œì‹œ ìˆ¨ê²¨ì•¼í•œë‹¤ëŠ” ë²•ì¹™ë„ ì—†ë‹¤. ë•Œë¡œëŠ” ë³€ìˆ˜ë‚˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ protectedë¡œ ì„ ì–¸í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œì— ì ‘ê·¼ì„ í—ˆìš©í•˜ê¸°ë„ í•œë‹¤.\nê°™ì€ íŒ¨í‚¤ì§€ ì•ˆì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ê·¸ í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ë¥¼ protectedë¡œ ì„ ì–¸í•˜ê±°ë‚˜ íŒ¨í‚¤ì§€ ì „ì²´ë¡œ ê³µê°œí•œë‹¤.\ní•˜ì§€ë§Œ ê·¸ ì „ì— ë¹„ê³µê°œ ìƒíƒœë¥¼ ìœ ì§€í•  ë°©ë²•ì„ ê°•êµ¬í•´ì•¼ í•œë‹¤.\nğŸ’¡ ìº¡ìŠí™”ë¥¼ í’€ì–´ì£¼ëŠ” ê²°ì •ì€ ì–¸ì œë‚˜ ìµœí›„ì˜ ìˆ˜ë‹¨ì´ë‹¤.\ní´ë˜ìŠ¤ëŠ” ì‘ì•„ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ì²« ë²ˆì§¸ ê·œì¹™ì€ í¬ê¸°ë‹¤. í´ë˜ìŠ¤ëŠ” ì‘ì•„ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë¥¼ ì„¤ê³„í•  ë•Œë„, í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ, ì‘ê²Œê°€ ê¸°ë³¸ ê·œì¹™ì´ë‹¤.\nì–¼ë§ˆë‚˜ ì‘ì•„ì•¼ í• ê¹Œ? í•¨ìˆ˜ëŠ” ë¬¼ë¦¬ì ì¸ í–‰ ìˆ˜ë¡œ í¬ê¸°ë¥¼ ì¸¡ì •í–ˆì§€ë§Œ í´ë˜ìŠ¤ëŠ” ë§¡ì€ ì±…ì„ ìˆ˜ë¡œ ì¸¡ì •í•œë‹¤.\n1 2 3 4 5 6 7 public class SuperDashboard extends JFrame implements MetaDataUser { public Component getLastFocusedCompnent(); public void setLastFocused(Component lastFocused); public int getMajorVersionNumber(); public int getMinorVersionNumber(); public int getBuildNumber(); } ë©”ì„œë“œ ê°œìˆ˜ë¥¼ 5ê°œ ì •ë„ë¡œ ì¤„ì¸ í´ë˜ìŠ¤ì´ë‹¤. í•˜ì§€ë§Œ ë©”ì„œë“œ ìˆ˜ê°€ ì ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì±…ì„ì´ ë„ˆë¬´ ë§ë‹¤.\ní´ë˜ìŠ¤ ì´ë¦„ í´ë˜ìŠ¤ ì´ë¦„ì€ í•´ë‹¹ í´ë˜ìŠ¤ ì±…ì„ì„ ê¸°ìˆ í•´ì•¼ í•œë‹¤. ì‹¤ì œë¡œ í´ë˜ìŠ¤ ì‘ëª…ì€ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ì²« ë²ˆì§¸ ê´€ë¬¸ì´ë‹¤.\nê°„ê²°í•œ ì´ë¦„ì´ ë– ì˜¤ë¥´ì§€ ì•ŠëŠ”ë‹¤ë©´ ëŒ€ë¶€ë¶„ í´ë˜ìŠ¤ í¬ê¸°ê°€ ë„ˆë¬´ ì»¤ì„œ(ì±…ì„ì´ ë§ì•„ì„œ) ê·¸ë ‡ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í´ë˜ìŠ¤ ì´ë¦„ì— Processor, Manager, Super ë“±ê³¼ ê°™ì´ ëª¨í˜¸í•œ ë‹¨ì–´ê°€ ìˆë‹¤ë©´ í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ ì±…ì„ì„ ë– ì•ˆê³ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤.\ní´ë˜ìŠ¤ ì„¤ëª… í´ë˜ìŠ¤ ì„¤ëª…ì€ ë§Œì¼(if), ê·¸ë¦¬ê³ (and), (í•˜)ë©°(or), í•˜ì§€ë§Œ(but)ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ ì„œ 25ë‹¨ì–´ ë‚´ì™¸ë¡œ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\nìœ„ SuperDashboard ì˜ ì„¤ëª…ì„ ë§Œë“¤ë©´\nâ€œë§ˆì§€ë§‰ìœ¼ë¡œ í¬ì»¤ìŠ¤ë¥¼ ì–»ì—ˆë˜ ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•˜ë©°, ë²„ì „ê³¼ ë¹Œë“œ ë²ˆí˜¸ë¥¼ ì¶”ì í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•œë‹¤.â€\nì¸ë° â€œ~í•˜ë©°â€ê°€ í¬í•¨ë˜ë¯€ë¡œ ì±…ì„ì´ ë§ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤.\në‹¨ì¼ ì±…ì„ ì›ì¹™ - SRP: Single Responsibility Principle ë‹¨ì¼ ì±…ì„ ì›ì¹™ì€ í´ë˜ìŠ¤ë‚˜ ëª¨ë“ˆì„ ë³€ê²½í•  ì´ìœ ê°€ ë‹¨ í•˜ë‚˜ë¿ì´ì–´ì•¼ í•œë‹¤ëŠ” ì›ì¹™ì´ë‹¤.\nSRPëŠ” â€˜ì±…ì„â€™ì´ë¼ëŠ” ê°œë…ì„ ì •ì˜í•˜ë©° ì ì ˆí•œ í´ë˜ìŠ¤ í¬ê¸°ë¥¼ ì œì‹œí•œë‹¤. í´ë˜ìŠ¤ëŠ” ì±…ì„, ì¦‰ ë³€ê²½í•  ì´ìœ ê°€ í•˜ë‚˜ì—¬ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤.\nê²‰ë³´ê¸°ì— ì‘ì•„ë³´ì´ëŠ” ìœ„ SuperDashboardëŠ” ë³€ê²½í•  ì´ìœ ê°€ 2ê°€ì§€ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ë²„ì „ ì •ë³´ë¥¼ ì¶”ì í•œë‹¤. ë²„ì „ ì •ë³´ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì¶œì‹œí•  ë•Œë§ˆë‹¤ ë‹¬ë¼ì§„ë‹¤. ìë°” ìŠ¤ìœ™ ì»´í¬ë„ŒíŠ¸ë¥¼ ê´€ë¦¬í•œë‹¤. SuperDashboardëŠ” ìµœìƒìœ„ GUI ìœˆë„ì˜ ìŠ¤ìœ™ í‘œí˜„ì¸ JFrameì—ì„œ íŒŒìƒí•œ í´ë˜ìŠ¤ë‹¤. ì¦‰, ìŠ¤ìœ™ ì½”ë“œë¥¼ ë³€ê²½í•  ë•Œë§ˆë‹¤ ë²„ì „ ë²ˆí˜¸ê°€ ë‹¬ë¼ì§„ë‹¤. ì±…ì„(ë³€ê²½í•  ì´ìœ )ì„ íŒŒì•…í•˜ë ¤ ì• ì“°ë‹¤ ë³´ë©´ ì½”ë“œë¥¼ ì¶”ìƒí™” í•˜ê¸°ë„ ì‰¬ì›Œì§„ë‹¤.\n1 2 3 4 5 public class Version { public int getMajorVersionNumber(); public int getMinorVersionNumber(); public int getBuildNumber(); } ë²„ì „ ì •ë³´ë¥¼ ë‹¤ë£¨ëŠ” ë©”ì„œë“œ ì„¸ ê°œë¥¼ ë”°ë¡œ ë¹¼ë‚´ versionì´ë¼ëŠ” ë…ìì ì¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤.\nSRPëŠ” ê°ì²´ ì§€í–¥ ì„¤ê³„ì—ì„œ ë”ìš± ì¤‘ìš”í•œ ê°œë…ì´ë‹¤. ë˜í•œ ì´í•´í•˜ê³  ì§€í‚¤ê¸° ìˆ˜ì›”í•œ ê°œë…ì´ê¸°ë„ í•˜ë‹¤. í•˜ì§€ë§Œ ì´ìƒí•˜ê²Œë„ SRPëŠ” í´ë˜ìŠ¤ ì„¤ê³„ìê°€ ê°€ì¥ ë¬´ì‹œí•˜ëŠ” ê·œì¹™ ì¤‘ í•˜ë‚˜ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ëŒì•„ê°€ê²Œ ë§Œë“œëŠ” í™œë™ê³¼ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê¹¨ë—í•˜ê²Œ ë§Œë“œëŠ” í™œë™ì€ ì™„ì „íˆ ë³„ê°œë‹¤.\nê°œë°œìëŠ” ìì˜í•œ ì±…ì„ í´ë˜ìŠ¤ê°€ ë§ì•„ì§€ë©´ í° ê·¸ë¦¼ì„ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤ê³  ìš°ë ¤í•œë‹¤. í° ê·¸ë¦¼ì„ ì´í•´í•˜ë ¤ë©´ ì´ í´ë˜ìŠ¤ ì € í´ë˜ìŠ¤ë¥¼ ìˆ˜ì—†ì´ ë„˜ë‚˜ë“¤ì–´ì•¼ í•œë‹¤ê³  ê±±ì •í•œë‹¤.\ní•˜ì§€ë§Œ ì‘ì€ í´ë˜ìŠ¤ê°€ ë§ì€ ì‹œìŠ¤í…œì´ë“  í° í´ë˜ìŠ¤ê°€ ëª‡ ê°œë¿ì¸ ì‹œìŠ¤í…œì´ë“  ìµí ë‚´ìš©ì€ ê·¸ ì–‘ì´ ë¹„ìŠ·í•˜ë‹¤.\ní´ë˜ìŠ¤ë¥¼ ì‘ê²Œ ìœ ì§€í•˜ëŠ” í–‰ìœ„ëŠ” ì½”ë“œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ, ë‹¨ì¼ ì±…ì„ì„ ê°€ì§„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì´ë¦„ì„ ì˜ ë¶™ì¸ë‹¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì½”ë“œê°€ ì •ë¦¬ëœë‹¤.\nì±…ì„ì´ ë§ì€ í´ë˜ìŠ¤ëŠ” í° ê³µêµ¬í•¨ì— ì—¬ëŸ¬ ê³µêµ¬ë¥¼ ë§ˆêµ¬ ë•Œë ¤ë„£ëŠ” í–‰ë™ê³¼ ë¹„ìŠ·í•˜ë‹¤. ì‘ì§‘ë„ í´ë˜ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ìˆ˜ê°€ ì ì–´ì•¼ í•œë‹¤. ê° í´ë˜ìŠ¤ ë©”ì„œë“œëŠ” í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ ì´ìƒ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë©”ì„œë“œê°€ ë³€ìˆ˜ë¥¼ ë” ë§ì´ ì‚¬ìš©í• ìˆ˜ë¡ ë©”ì„œë“œì™€ í´ë˜ìŠ¤ëŠ” ì‘ì§‘ë„ê°€ ë” ë†’ë‹¤. ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ë©”ì„œë“œë§ˆë‹¤ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ëŠ” ì‘ì§‘ë„ê°€ ê°€ì¥ ë†’ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì´ì²˜ëŸ¼ ì‘ì§‘ë„ê°€ ê°€ì¥ ë†’ì€ í´ë˜ìŠ¤ëŠ” ê°€ëŠ¥í•˜ì§€ë„ ë°”ëŒì§í•˜ì§€ë„ ì•Šë‹¤. ê·¸ë ‡ì§€ë§Œ ëŒ€ë¶€ë¶„ ì‘ì§‘ë„ê°€ ë†’ì€ í´ë˜ìŠ¤ë¥¼ ì„ í˜¸í•œë‹¤. ì‘ì§‘ë„ê°€ ë†’ë‹¤ëŠ” ë§ì€ í´ë˜ìŠ¤ì— ì†í•œ ë©”ì„œë“œì™€ ë³€ìˆ˜ê°€ ì„œë¡œ ì˜ì¡´í•˜ë©° ë…¼ë¦¬ì ì¸ ë‹¨ìœ„ë¡œ ë¬¶ì¸ë‹¤ëŠ” ì˜ë¯¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class Stack { private int topOfStack = 0; List\u0026lt;Integer\u0026gt; elements = new LinkedList\u0026lt;Integer\u0026gt;(); public int size() { return topOfStack; } public void push(int element) { topOfStack++; elements.add(element); } public int pop() throws PoppedWhenEmpty { if (topOfStack == 0) { throw new PoppedWhenEmpty(); } int element = elements.get(--topOfStack); elements.remove(topOfStack); return element; } } ìœ„ í´ë˜ìŠ¤ëŠ” ì‘ì§‘ë„ê°€ ì•„ì£¼ ë†’ë‹¤. size()ë¥¼ ì œì™¸í•œ ë‹¤ë¥¸ ë‘ ë©”ì„œë“œëŠ” ë‘ ë³€ìˆ˜ë¥¼ ëª¨ë‘ ì‚¬ìš©í•œë‹¤.\ní•¨ìˆ˜ë¥¼ ì‘ê²Œ, ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì„ ì§§ê²Œë¼ëŠ” ì „ëµì„ ë”°ë¥´ë‹¤ ë³´ë©´ ë•Œë•Œë¡œ ëª‡ëª‡ ë©”ì„œë“œë§Œì´ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ì•„ì£¼ ë§ì•„ì§„ë‹¤.\nì‘ì§‘ë„ê°€ ë†’ì•„ì§€ë„ë¡ ë³€ìˆ˜ì™€ ë©”ì„œë“œë¥¼ ì ì ˆíˆ ë¶„ë¦¬í•´ ìƒˆë¡œìš´ í´ë˜ìŠ¤ ë‘ì„¸ ê°œë¡œ ìª¼ê°œì¤€ë‹¤.\nì‘ì§‘ë„ë¥¼ ìœ ì§€í•˜ë©´ ì‘ì€ í´ë˜ìŠ¤ ì—¬ëŸ¿ì´ ë‚˜ì˜¨ë‹¤. í° í•¨ìˆ˜ë¥¼ ì‘ì€ í•¨ìˆ˜ ì—¬ëŸ¿ìœ¼ë¡œ ë‚˜ëˆ„ê¸°ë§Œ í•´ë„ í´ë˜ìŠ¤ ìˆ˜ê°€ ë§ì•„ì§„ë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ë³€ìˆ˜ê°€ ì•„ì£¼ ë§ì€ í° í•¨ìˆ˜ í•˜ë‚˜ê°€ ìˆë‹¤. í° í•¨ìˆ˜ ì¼ë¶€ë¥¼ ì‘ì€ í•¨ìˆ˜ í•˜ë‚˜ë¡œ ë¹¼ë‚´ê³  ì‹¶ì€ë°, ë¹¼ë‚´ë ¤ëŠ” ì½”ë“œê°€ í° í•¨ìˆ˜ì— ì •ì˜ëœ ë³€ìˆ˜ ë„·ì„ ì‚¬ìš©í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ë³€ìˆ˜ ë„¤ ê°œë¥¼ ìƒˆ í•¨ìˆ˜ì— ì¸ìˆ˜ë¡œ ë„˜ê²¨ì•¼ ì˜³ì€ê°€?\nì „í˜€ ì•„ë‹ˆë‹¤. ë§Œì•½ ë„¤ ë³€ìˆ˜ë¥¼ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ìŠ¹ê²©í•œë‹¤ë©´ ìƒˆ í•¨ìˆ˜ëŠ” ì¸ìˆ˜ê°€ í•„ìš”ì—†ë‹¤. ê·¸ë§Œí¼ í•¨ìˆ˜ë¥¼ ìª¼ê°œê¸° ì‰¬ì›Œì§„ë‹¤.\nì´ë ‡ê²Œ í•˜ë©´ í´ë˜ìŠ¤ê°€ ì‘ì§‘ë ¥ì„ ìƒëŠ”ë‹¤. ëª‡ëª‡ í•¨ìˆ˜ë§Œ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ì ì  ë” ëŠ˜ì–´ë‚˜ê¸° ë•Œë¬¸ì´ë‹¤.\nëª‡ëª‡ í•¨ìˆ˜ê°€ ëª‡ëª‡ ë³€ìˆ˜ë§Œ ì‚¬ìš©í•œë‹¤ë©´ ë…ìì ì¸ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ë©´ ëœë‹¤. ì‘ì§‘ë ¥ì„ ìƒëŠ”ë‹¤ë©´ ìª¼ê°œë¼\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 package literatePrimes; public class PrintPrimes { public static void main(String[] args) { final int M = 1000; final int RR = 50; final int CC = 4; final int WW = 10; final int ORDMAX = 30; int P[] = new int[M+1]; int PAGENUMBER; int PAGEOFFSET; int ROWOFFSET; int C; int J; int K; boolean JPRIME; int ORD; int SQUARE; int N; int MULT[] = new int[ORDMAX+1]; J = 1; K = 1; P[1] = 2; ORD = 2; SQUARE = 9; while (K \u0026lt; M) { do { J = J+2; if (J == SQUARE) { ORD = ORD + 1; SQUARE = P[ORD] * P[ORD]; MULT[ORD-1] = J; } N = 2; JPRIME = true; while (N \u0026lt; ORD \u0026amp;\u0026amp; JPRIME) { while (MULT[N] \u0026lt; J) { MULT[N] = MULT[N] + P[N] + P[N]; } if (MULT[N] == J) { JPRIME = false; } N = N + 1; } } while (!JPRIME); K = K + 1; P[K] = J; } { PAGENUMBER = 1; PAGEOFFSET = 1; while (PAGEOFFSET \u0026lt;= M) { System.out.println(\u0026#34;The First \u0026#34; + M + \u0026#34; Prime Numbers --- Page \u0026#34; + PAGENUMBER); System.out.println(\u0026#34;\u0026#34;); for (ROWOFFSET = PAGEOFFSET; ROWOFFSET \u0026lt; PAGEOFFSET + RR; ROWOFFSET++) { for (C = 0; C \u0026lt; CC; C++) { if (ROWOFFSET + C * RR \u0026lt;= M) { System.out.println(\u0026#34;%10d\u0026#34;, P[ROWOFFSET + C * RR]); } } System.out.println(\u0026#34;\u0026#34;); } System.out.println(\u0026#34;\\f\u0026#34;); PAGENUMBER = PAGENUMBER + 1; PAGEOFFSET = PAGEOFFSET + RR * CC; } } } } í•¨ìˆ˜ê°€ í•˜ë‚˜ë¿ì¸ ìœ„ í”„ë¡œê·¸ë¨ì€ ì—‰ë§ì´ë‹¤.\në“¤ì—¬ì“°ê¸° ì‹¬í•¨ ì´í•´í•˜ê¸° í˜ë“  ë³€ìˆ˜ ì´ë¦„ êµ¬ì¡°ê°€ ë¹½ë¹½í•¨ â†’ ì—¬ëŸ¬í•¨ìˆ˜ë¡œ ë‚˜ëˆ ì•¼í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package literatePrimes; public class PrimePrinter { public static void main(String[] args) { final int NUMBER_OF_PRIMES = 1000; int[] primes = PrimeGenerator.generate(NUMBER_OF_PRIMES); final int ROWS_PER_PAGE = 50; final int COLUMNS_PER_PAGE = 4; RowColumnPagePrinter tablePrinter = new RowColumnPagePrinter(ROWS_PER_PAGE, COLUMNS_PER_PAGE, \u0026#34;The First \u0026#34; + NUMBER_OF_PRIMES + \u0026#34; Prime Numbers\u0026#34;); tablePrinter.print(primes); } } ... ê°€ì¥ ë¨¼ì € ëˆˆì— ë„ëŠ” ë³€í™”ê°€ í”„ë¡œê·¸ë¨ì´ ê¸¸ì–´ì¡Œë‹¤. ê¸¸ì´ê°€ ëŠ˜ì–´ë‚œ ì´ìœ ëŠ” ì—¬ëŸ¬ê°€ì§€ë‹¤.\në¦¬íŒ©í„°ë§í•œ í”„ë¡œê·¸ë¨ì€ ì¢€ ë” ê¸¸ê³  ì„œìˆ ì ì¸ ë³€ìˆ˜ ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤. ë¦¬íŒ©í„°ë§í•œ í”„ë¡œê·¸ë¨ì€ ì½”ë“œì— ì£¼ì„ì„ ì¶”ê°€í•˜ëŠ” ìˆ˜ë‹¨ìœ¼ë¡œ í•¨ìˆ˜ ì„ ì–¸ê³¼ í´ë˜ìŠ¤ ì„ ì–¸ì„ í™œìš©í•œë‹¤. ê°€ë…ì„±ì„ ë†’ì´ê³ ì ê³µë°±ì„ ì¶”ê°€í•˜ê³  í˜•ì‹ì„ ë§ì¶”ì—ˆë‹¤. PrimePrinter í´ë˜ìŠ¤ëŠ” main í•¨ìˆ˜ í•˜ë‚˜ë§Œ í¬í•¨í•˜ë©° ì‹¤í–‰ í™˜ê²½ì„ ì±…ì„ì§„ë‹¤. í˜¸ì¶œ ë°©ì‹ì´ ë‹¬ë¼ì§€ë©´ í´ë˜ìŠ¤ë„ ë°”ë€ë‹¤. ì˜ˆë¥¼ë“¤ì–´ SOAP ì„œë¹„ìŠ¤ë¡œ ë°”ê¾¸ë ¤ë©´ PrimePrinter í´ë˜ìŠ¤ë¥¼ ê³ ì¹œë‹¤.\nPrimeGenerator í´ë˜ìŠ¤ëŠ” ì†Œìˆ˜ ëª©ë¡ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‹¤. ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ì•Œê² ì§€ë§Œ, ê°ì²´ë¡œ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ëŠ” í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  ê°ì¶”ë ¤ê³  ì‚¬ìš©í•˜ëŠ” ìœ ìš©í•œ ê³µê°„ì¼ ë¿ì´ë‹¤.\nì†Œìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ ë°”ë€ë‹¤ë©´ PrimeGenerator í´ë˜ìŠ¤ë¥¼ ê³ ì¹œë‹¤. ë³€ê²½í•˜ê¸° ì‰¬ìš´ í´ë˜ìŠ¤ ëŒ€ë‹¤ìˆ˜ ì‹œìŠ¤í…œì€ ì§€ì†ì ì¸ ë³€ê²½ì´ ê°€í•´ì§„ë‹¤. ê·¸ë¦¬ê³  ë­”ê°€ ë³€ê²½í•  ë•Œë§ˆë‹¤ ì‹œìŠ¤í…œì´ ì˜ë„ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìœ„í—˜ì´ ë”°ë¥¸ë‹¤. ê¹¨ë—í•œ ì‹œìŠ¤í…œì€ í´ë˜ìŠ¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•´ ë³€ê²½ì— ìˆ˜ë°˜í•˜ëŠ” ìœ„í—˜ì„ ë‚®ì¶˜ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Sql { public Sql(String table, Column[] columns); public String create(); public String insert(Object[] fields); public String selectAll(); public String findByKey(String keyColumn, String keyValue); public String select(Column column, String pattern); public String select(Criteria criteria); public String preparedInsert(); private String columnList(Column[] columns); private String valuesList(Object[] fields, final Column[] columns); private String selectWithCriteria(String criteria); private String placeholderList(Column[] columns); } updateë¥¼ ì•„ì§ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì½”ë“œë‹¤. ì§€ì›í•  ì‹œì ì´ ì˜¤ë©´ í´ë˜ìŠ¤ì— ì†ëŒ€ì–´ ì½”ì³ì•¼ í•œë‹¤. ë¬¸ì œëŠ” ì½”ë“œì— ì†ëŒ€ë©´ ìœ„í—˜ì´ ìƒê¸´ë‹¤ëŠ” ì‚¬ì‹¤ì´ë‹¤. ì–´ë–¤ ë³€ê²½ì´ë“  í´ë˜ìŠ¤ì— ì†ëŒ€ë©´ ë‹¤ë¥¸ ì½”ë“œë¥¼ ë§ê°€ëœ¨ë¦´ ì ì •ì ì¸ ìœ„í—˜ì´ ì¡´ì¬í•œë‹¤.\nìƒˆë¡œìš´ SQLë¬¸ì„ ì§€ì›í•˜ë ¤ë©´ ë°˜ë“œì‹œ Sql í´ë˜ìŠ¤ì— ì†ëŒ€ì•¼ í•œë‹¤. ë˜í•œ ê¸°ì¡´ SQLë¬¸ í•˜ë‚˜ë¥¼ ìˆ˜ì •í•  ë•Œë„ ë°˜ë“œì‹œ Sql í´ë˜ìŠ¤ì— ì†ëŒ€ì•¼ í•œë‹¤. ì´ë ‡ë“¯ ë³€ê²½í•  ì´ìœ ê°€ ë‘ ê°€ì§€ì´ë¯€ë¡œ Sql í´ë˜ìŠ¤ëŠ” SRPë¥¼ ìœ„ë°˜í•œë‹¤.\në‹¨ìˆœíˆ êµ¬ì¡°ì ì¸ ê´€ì ì—ì„œë„ Sqlì€ SRPë¥¼ ìœ„ë°˜í•œë‹¤. selectWithCriteriaë¼ëŠ” ë¹„ê³µê°œ ë©”ì„œë“œê°€ ìˆëŠ”ë°, ì´ ë©”ì„œë“œëŠ” selectë¬¸ì„ ì²˜ë¦¬í•  ë•Œë§Œ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 abstract public class Sql { public Sql(String table, Column[] columns) abstract public String generate(); } public class CreateSql extends Sql { public CreateSql(String table, Column[] columns) @Override public String generate(); } public class SelectSql extends Sql { public SelectSql(String table, Column[] columns) @Override public String generate(); } public class InsertSql extends Sql { public InsertSql(String table, Column[] columns) @Override public String generate(); } public class SelectWithCriteraSql extends Sql { public SelectWithCriteraSql(String table, Column[] columns) @Override public String generate(); } public class SelectWithMatchSql extends Sql { public SelectWithMatchSql(String table, Column[] columns, Criteria criteria) @Override public String generate(); } public class FindByKeySql extends Sql { public FindByKeySql(String table, Column[] columns, Column column, String pattern) @Override public String generate(); } public class CreateSql extends Sql { public CreateSql(String table, Column[] columns, String keyColumn, String keyValue) @Override public String generate(); } public class PreparedInsertSql extends Sql { public PreparedInsertSql(String table, Column[] columns) @Override public String generate(); private String placeholderList(Column[] columns); } public class Where extends Sql { public Where(String criteria) @Override public String generate(); } public class ColumnList extends Sql { public ColumnList(Column[] columns) @Override public String generate(); } ê³µê°œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°ê° Sqlí´ë˜ìŠ¤ì—ì„œ íŒŒìƒí•˜ëŠ” í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì—ˆë‹¤. valueListì™€ ê°™ì€ ë¹„ê³µê°œ ë©”ì„œë“œëŠ” í•´ë‹¹í•˜ëŠ” íŒŒìƒ í´ë˜ìŠ¤ë¡œ ì˜®ê²¼ë‹¤. ëª¨ë“  íŒŒìƒ í´ë˜ìŠ¤ê°€ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë¹„ê³µê°œ ë©”ì„œë“œëŠ” Whereì™€ ColumnListë¼ëŠ” ë‘ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ì— ë„£ì—ˆë‹¤.\ní´ë˜ìŠ¤ë¥¼ ì„œë¡œ ë¶„ë¦¬í•˜ì—¬ ê° í´ë˜ìŠ¤ëŠ” ê·¹ë„ë¡œ ë‹¨ìˆœí•˜ë©° ì´í•´í•˜ê¸° ì‰½ë‹¤. í•¨ìˆ˜ í•˜ë‚˜ë¥¼ ìˆ˜ì •í–ˆë‹¤ê³  ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ë§ê°€ì§ˆ ìœ„í—˜ë„ ì‚¬ì‹¤ìƒ ì—†ë‹¤. í…ŒìŠ¤íŠ¸ ê´€ì ì—ì„œ ëª¨ë“  ë…¼ë¦¬ë¥¼ êµ¬ì„êµ¬ì„ ì¦ëª…í•˜ê¸°ë„ ì‰¬ì›Œì¡Œë‹¤. ìƒˆë¡œìš´ sqlì„ ë„£ì„ë•Œë„ ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì „í˜€ ì—†ë‹¤.\nìƒˆ ê¸°ëŠ¥ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ê¸°ì¡´ ê¸°ëŠ¥ì„ ë³€ê²½í•  ë•Œ ê±´ë“œë¦´ ì½”ë“œê°€ ìµœì†Œì¸ ì‹œìŠ¤í…œ êµ¬ì¡°ê°€ ë°”ëŒì§í•˜ë‹¤. ì´ìƒì ì¸ ì‹œìŠ¤í…œì´ë¼ë©´ ìƒˆ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ì‹œìŠ¤í…œì„ í™•ì¥í•  ë¿ ê¸°ì¡´ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤. ë³€ê²½ìœ¼ë¡œë¶€í„° ê²©ë¦¬ ìš”êµ¬ì‚¬í•­ì€ ë³€í•˜ê¸° ë§ˆë ¨ì´ë‹¤. ë”°ë¼ì„œ ì½”ë“œë„ ë³€í•˜ê¸° ë§ˆë ¨ì´ë‹¤.\nìƒì„¸í•œ êµ¬í˜„ì— ì˜ì¡´í•˜ëŠ” ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ê°€ ì–´ë µë‹¤. ì˜ˆë¥¼ë“¤ì–´ Portfolio í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤ê³  ê°€ì •í•˜ì.\nPortfolio í´ë˜ìŠ¤ëŠ” ì™¸ë¶€ TokyoStockExchange APIë¥¼ ì´ìš©í•´ í¬íŠ¸í´ë¦¬ì˜¤ ê°’ì„ ê³„ì‚²ë‚˜ë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹œì„¸ ë³€í™”ì— ì˜í–¥ì„ ë°›ê²Œ ëœë‹¤.\n5ë¶„ë§ˆë‹¤ ê°’ì´ ë‹¬ë¼ì§€ëŠ” APIë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œê¸°ëŠ” ì–´ë µë‹¤.\n1 2 3 public interface StorckExchange { Money CurrentPrice(String symbol); } Portfolioì—ì„œ TokyoStockExchange APIë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  StockExchangeë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•œ í›„ ë©”ì„œë“œ í•˜ë‚˜ë¥¼ ì„ ì–¸í–ˆë‹¤.\në‹¤ìŒìœ¼ë¡œ StockExchange ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” TokyoStockExchange í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.\n1 2 3 4 5 6 7 public Portfolio { private StockExchange exchange; public Portfolio(StockExchange exchange) { this.exchange = exchange; } ... } Portfolioë¥¼ ìˆ˜ì •í•´ StockExchange ì°¸ì¡°ìë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë‹¤.\nì´ë¥¼ í†µí•´ TokyoStockExchange í´ë˜ìŠ¤ë¥¼ í‰ë‚´ë‚´ëŠ” í…ŒìŠ¤íŠ¸ìš© í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\ní…ŒìŠ¤íŠ¸ìš© í´ë˜ìŠ¤ëŠ” StockExchange ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©° ê³ ì •ëœ ì£¼ê°€ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public class PortfolioTest { private FixedStockExchangeStub exchange; private Portfolio portfolio; @Before protected void setUp() throws Exception { exchange = new FixedStockExchangeStub(); exchange.fix(\u0026#34;MSFT\u0026#34;, 100); protfolio = new Portfolio(exchange); } @Test public void GivenFiveMSFTTotalShouldBe500() throws Exception { portfolio.add(5, \u0026#34;MSFT\u0026#34;); Assert.assertEquals(500, portfolio.value()); } } ìœ„ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•  ì •ë„ë¡œ ì‹œìŠ¤í…œì˜ ê²°í•¨ë„ë¥¼ ë‚®ì¶”ë©´ ìœ ì—°ì„±ê³¼ ì¬ì‚¬ìš©ì„±ë„ ë”ìš± ë†’ì•„ì§„ë‹¤.\nê²°í•©ë„ê°€ ë‚®ë‹¤ëŠ” ì†Œë¦¬ëŠ” ê° ì‹œìŠ¤í…œ ìš”ì†Œê°€ ë‹¤ë¥¸ ìš”ì†Œë¡œë¶€í„° ê·¸ë¦¬ê³  ë³€ê²½ìœ¼ë¡œë¶€í„° ì˜ ê²©ë¦¬ë˜ì–´ ìˆë‹¤ëŠ” ì˜ë¯¸ë‹¤. ì‹œìŠ¤í…œ ìš”ì†Œê°€ ì„œë¡œ ì˜ ê²°ë¦¬ë˜ì–´ ìˆìœ¼ë©´ ê° ìš”ì†Œë¥¼ ì´í•´í•˜ê¸°ë„ ë” ì‰¬ì›Œì§„ë‹¤. ì´ë ‡ê²Œ ê²°í•©ë„ë¥¼ ìµœì†Œë¡œ ì¤„ì´ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ ì„¤ê³„ ì›ì¹™ì¸ DIP(Dependency Inversion Principle)ë¥¼ ë”°ë¥´ëŠ” í´ë˜ìŠ¤ê°€ ë‚˜ì˜¨ë‹¤.\në³¸ì§ˆì ìœ¼ë¡œ DIPëŠ” í´ë˜ìŠ¤ê°€ ìƒì„¸í•œ êµ¬í˜„ì´ ì•„ë‹ˆë¼ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ í•œë‹¤ëŠ” ì›ì¹™ì´ë‹¤.\nê²°ë¡  ê³µê°œê°€ í•„ìš”í• ë• ìµœëŒ€í•œ ìº¡ìŠí™”ë¥¼ ìœ ì§€í•˜ëŠ” ë°©ì‹ì„ ê°•êµ¬í•´ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë„ ì‘ê²Œ ìœ ì§€í•´ì•¼ í•œë‹¤. í´ë˜ìŠ¤ì˜ í¬ê¸°ëŠ” ì±…ì„ ìˆ˜ë¡œ ì¸¡ì •í•œë‹¤. ì±…ì„ì´ ë§ì€ í´ë˜ìŠ¤ëŠ” ì´ë¦„ê³¼ ì„¤ëª…ì— ëª¨í˜¸í•œ í‘œí˜„ì´ ì„ì´ê²Œ ëœë‹¤. ì‘ì§‘ë„ë¥¼ ìœ ì§€í•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ í´ë˜ìŠ¤ê°€ ì‘ì•„ì§„ë‹¤. ë³€ê²½ì€ ì—¬ëŸ¬ ë¬¸ì œë“¤ì„ ìˆ˜ë°˜í•œë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ ì½”ë“œ ë³€ê²½ì´ ì—†ëŠ”ê²ƒì´ ì¢‹ë‹¤. ê·¸ëŒ€ë¡œ ë³€ê²½ì€ í•­ìƒ í•„ìš”í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë³€ê²½í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë¥¼ ê¹¨ë—í•˜ê²Œ ì •ë¦¬í•˜ë©´ ë³€ê²½í•˜ê¸° ì‰½ë‹¤. í´ë˜ìŠ¤ë¥¼ ì‘ê²Œ ë§Œë“¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì •ë¦¬ëœë‹¤. ê²°í•©ë„ë¥¼ ìµœëŒ€í•œ ë‚®ì¶”ë©´ ë³€ê²½ìœ¼ë¡œ ë¶€í„° ê²©ë¦¬í•  ìˆ˜ ìˆë‹¤. ","date":"2023-04-20T16:30:13+09:00","image":"https://codemario318.github.io/post/clean-code/10/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/10/","title":"í´ë¦°ì½”ë“œ: 10. í´ë˜ìŠ¤"},{"content":"ì• ìì¼ê³¼ TDD ë•íƒì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìë™í™”í•˜ëŠ” ê°œë°œìë“¤ì´ ì´ë¯¸ ë§ì•„ì¡Œìœ¼ë©° ì ì  ë” ëŠ˜ì–´ë‚˜ëŠ” ì¶”ì„¸ë‹¤.\ní…ŒìŠ¤íŠ¸ë¥¼ ê¸‰í•˜ê²Œ ì„œë‘ë¥´ëŠ” ì™€ì¤‘ì— ë§ì€ ê°œë°œìë“¤ì´ ì œëŒ€ë¡œ ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤ëŠ” ì¤‘ìš”í•œ ì‚¬ì‹¤ì„ ë†“ì¹œë‹¤.\nTDD ë²•ì¹™ ì„¸ ê°€ì§€ ì‹¤íŒ¨í•˜ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ë•Œê¹Œì§€ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ì»´íŒŒì¼ì€ ì‹¤íŒ¨í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì‹¤í–‰ì´ ì‹¤íŒ¨í•˜ëŠ” ì •ë„ë¡œë§Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤. í˜„ì¬ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ì •ë„ë¡œë§Œ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤. ìœ„ ì„¸ ê°€ì§€ ê·œì¹™ì„ ë”°ë¥´ë©´ ê°œë°œê³¼ í…ŒìŠ¤íŠ¸ê°€ ëŒ€ëµ 30ì´ˆ ì£¼ê¸°ë¡œ ë¬¶ì¸ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ì‹¤ì œ ì½”ë“œê°€ í•¨ê»˜ ë‚˜ì˜¬ë¿ë”ëŸ¬ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‹¤ì œ ì½”ë“œë³´ë‹¤ ë¶ˆê³¼ ëª‡ ì´ˆ ì „ì— ë‚˜ì˜¨ë‹¤.\nì´ë ‡ê²Œ ì¼í•˜ë©´ ì‹¤ì œ ì½”ë“œë¥¼ ì‚¬ì‹¤ìƒ ì „ë¶€ í…ŒìŠ¤íŠ¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë‚˜ì˜¤ì§€ë§Œ, ì‹¤ì œ ì½”ë“œì™€ ë§ë¨¹ì„ ì •ë„ë¡œ ë°©ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¬ê°í•œ ê´€ë¦¬ ë¬¸ì œë¥¼ ìœ ë°œí•˜ê¸°ë„ í•œë‹¤.\nê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìœ ì§€í•˜ê¸° í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œ ëª»ì§€ ì•Šê²Œ ì¤‘ìš”í•˜ë‹¤. ì‹¤ì œ ì½”ë“œ ëª»ì§€ ì•Šê²Œ ê¹¨ë—í•˜ê²Œ ì§œì•¼í•œë‹¤.\nì§€ì €ë¶„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í•˜ì§€ ì•ŠëŠ” ê²ƒ ë³´ë‹¤ ë” ì•ˆì¢‹ì€ ê²°ê³¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\në‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ì•ˆì „í•¨ì„ ë³´ì¥í•˜ì—¬ ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ì§€í‚¤ëŠ” ë²„íŒ€ëª©ì´ ëœë‹¤.\nì‹¤ì œ ì½”ë“œê°€ ì§„í™”í•˜ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ë³€í•´ì•¼ í•˜ëŠ”ë°, í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì§€ì €ë¶„í• ìˆ˜ë¡ ì‹¤ì œ ì½”ë“œë¥¼ ë³€ê²½í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë³µì¡í• ìˆ˜ë¡ ì‹¤ì œ ì½”ë“œë¥¼ ì§œëŠ” ì‹œê°„ë³´ë‹¤ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ì‹œê°„ì´ ë” ê±¸ë¦¬ê²Œ ëœë‹¤.\nì‹¤ì œ ì½”ë“œë¥¼ ë³€ê²½í•´ ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤íŒ¨í•˜ê¸° ì‹œì‘í•˜ë©´, ì§€ì €ë¶„í•œ ì½”ë“œë¡œ ì¸í•´, ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì ì  ë” í†µê³¼ì‹œí‚¤í‚¤ ì–´ë ¤ì›Œì§„ë‹¤. ê·¸ë˜ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ê³„ì†í•´ì„œ ëŠ˜ì–´ë‚˜ëŠ” ë¶€ë‹´ì´ ë˜ê³  ì•…ìˆœí™˜ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\ní…ŒìŠ¤íŠ¸ ìŠˆíŠ¸ê°€ ì—†ìœ¼ë©´ ê°œë°œìëŠ” ìì‹ ì´ ìˆ˜ì •í•œ ì½”ë“œê°€ ì œëŒ€ë¡œ ë„ëŠ”ì§€ í™•ì¸í•  ë°©ë²•ì´ ì—†ë‹¤. ì‹œìŠ¤í…œì„ ìˆ˜ì •í–ˆì„ë•Œ ë‹¤ë¥¸ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ë°©ë²•ì´ ì—†ë‹¤. ê²°í•¨ìœ¨ì´ ë†’ì•„ì§€ê¸° ì‹œì‘í•œë‹¤. ì˜ë„í•˜ì§€ ì•Šì€ ê²°í•¨ ìˆ˜ê°€ ë§ì•„ì§€ë©´ ê°œë°œìëŠ” ë³€ê²½ì„ ì£¼ì €í•œë‹¤. ë³€ê²½í•˜ë©´ ë“ë³´ë‹¤ í•´ê°€ í¬ë‹¤ ìƒê°í•´ ë” ì´ìƒ ì½”ë“œë¥¼ ì •ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ì œê³µí•œë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•˜ì§€ ì•Šìœ¼ë©´ ê²°êµ­ì€ ìƒì–´ë²„ë¦°ë‹¤. ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ìœ¼ë©´ ì‹¤ì œ ì½”ë“œë¥¼ ìœ ì—°í•˜ê²Œ ë§Œë“œëŠ” ë²„íŒ€ëª©ë„ ì‚¬ë¼ì§„ë‹¤.\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ë‹¤ë©´ ëª¨ë“  ë³€ê²½ì´ ì ì •ì ì¸ ë²„ê·¸ë‹¤. ì•„ë¬´ë¦¬ ì•„í‚¤í…ì²˜ê°€ ìœ ì—°í•˜ë”ë¼ë„, ì„¤ê³„ë¥¼ ì•„ë¬´ë¦¬ ì˜ í–ˆì–´ë„ ë²„ê·¸ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ì¦ëª…í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.\nê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ê°€ë…ì„±, ê°€ë…ì„±, ê°€ë…ì„±!\nê°€ë…ì„±ì€ ì‹¤ì œ ì½”ë“œë³´ë‹¤ í…ŒìŠ¤íŠ¸ ì½”ë“œì— ë”ë”ìš± ì¤‘ìš”í•˜ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’íˆë ¤ë©´ ì—¬ëŠ ì½”ë“œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ëª…ë£Œì„±, ë‹¨ìˆœì„±, í’ë¶€í•œ í‘œí˜„ë ¥ì´ í•„ìš”í•˜ë‹¤.\ní…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ìµœì†Œ í‘œí˜„ìœ¼ë¡œ ë§ì€ ê²ƒì„ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public void testGetPageHierarchyAsXml() throws Exception { makePages(\u0026#34;pageOne\u0026#34;, \u0026#34;PageOne.ChildOne\u0026#34;, \u0026#34;PageTwo\u0026#34;); submintRequest(\u0026#34;root\u0026#34;, \u0026#34;type:pages\u0026#34;); assertResponseIsXML(); assertResponseContains( \u0026#34;\u0026lt;name\u0026gt;PageOne\u0026lt;/name\u0026gt;\u0026#34;, \u0026#34;\u0026lt;name\u0026gt;PageTwo\u0026lt;/name\u0026gt;\u0026#34;, \u0026#34;\u0026lt;name\u0026gt;ChildOne\u0026lt;/name\u0026gt;\u0026#34; ); assertResponseDoesNotContain(\u0026#34;SymPage\u0026#34;); } public void testGetDataAsXml() throws Exception { makePageWithContent(\u0026#34;TestPageOne\u0026#34;, \u0026#34;test page\u0026#34;); submintRequest(\u0026#34;TestPageOne\u0026#34;, \u0026#34;type:data\u0026#34;); assertResponseIsXML(); assertResponseContains(\u0026#34;test page\u0026#34;, \u0026#34;\u0026lt;Test\u0026#34;); } BUILD-OPERATE-CHECK íŒ¨í„´ Usual production patterns applied to Integration tests\ní…ŒìŠ¤íŠ¸ë¥¼ ì„¸ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆˆë‹¤.\nBUILD: í…ŒìŠ¤íŠ¸ ìë£Œë¥¼ ë§Œë“ ë‹¤. OPERATE: í…ŒìŠ¤íŠ¸ ìë£Œë¥¼ ì¡°ì‘í•œë‹¤. CHECK: ì¡°ì‘í•œ ê²°ê³¼ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•œë‹¤. BUILD-OPERATE-CHECK íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì¡ë‹¤í•˜ê³  ì„¸ì„¸í•œ ì½”ë“œë¥¼ ê±°ì˜ ë‹¤ ì—†ì•¨ ìˆ˜ ìˆë‹¤.\në„ë©”ì¸ì— íŠ¹í™”ëœ í…ŒìŠ¤íŠ¸ ì–¸ì–´ ë„ë©”ì¸ íŠ¹í™” ì–¸ì–´(DSL)ì— ê´€í•œ ì„¤ëª… | JetBrains MPS\ní”íˆ ì“°ëŠ” ì‹œìŠ¤í…œ ì¡°ì‘ APIë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  API ìœ„ì—ë‹¤ í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ë¥¼ êµ¬í˜„í•œ í›„ ê·¸í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œê¸°ë„ ì½ê¸°ë„ ì‰¬ì–´ì§„ë‹¤.\nì´ë ‡ê²Œ êµ¬í˜„í•œ í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” íŠ¹ìˆ˜ APIê°€ ëœë‹¤. ì¦‰ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¹ì‚¬ìì™€ ë‚˜ì¤‘ì— í…ŒìŠ¤íŠ¸ë¥¼ ì½ì–´ë³¼ ë…ìë¥¼ ë„ì™€ì£¼ëŠ” í…ŒìŠ¤íŠ¸ ì–¸ì–´ì´ë‹¤.\nì´ì¤‘ í‘œì¤€ í…ŒìŠ¤íŠ¸ API ì½”ë“œì— ì ìš©í•˜ëŠ” í‘œì¤€ì€ ì‹¤ì œ ì½”ë“œì— ì ìš©í•˜ëŠ” í‘œì¤€ê³¼ í™•ì‹¤íˆ ë‹¤ë¥´ë‹¤.\në‹¨ìˆœí•˜ê³ , ê°„ê²°í•˜ê³ , í‘œí˜„ë ¥ì´ í’ë¶€í•´ì•¼ í•˜ì§€ë§Œ, ì‹¤ì œ ì½”ë“œë§Œí¼ íš¨ìœ¨ì ì¼ í•„ìš”ëŠ” ì—†ë‹¤.\në˜í•œ ì‹¤ì œ í™˜ê²½ê³¼ í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ ìš”êµ¬ì‚¬í•­ì´ íŒì´í•˜ê²Œ ë‹¤ë¥´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 @Test public void turnOnLoTempAlarmAtThreashold() throws Exception { hw.setTemp(WAY_TOO_COLD); controller.tic(); assertTrue(hw.heaterState()); assertTrue(hw.blowerState()); assertFalse(hw.coolerState()); assertFalse(hw.hiTempAlarm()); assertTrue(hw.loTempAlarm()); } 1 2 3 4 5 @Test public void turnOnLoTempAlarmAtThreashold() throws Exception { wayTooCold(); assertEquals(\u0026#34;HBchL\u0026#34;, hw.getState()); } ì‹¤ì œ ì‹œìŠ¤í…œì´ ëŒì•„ê°€ëŠ” í™˜ê²½ì€ ê°€í˜¹í•  ì§€ ëª¨ë¥´ë‚˜, ëŒ€ë¶€ë¶„ í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ ìì›ì´ ì œí•œì ì¼ ê°€ëŠ¥ì„±ì´ ë‚®ë‹¤.\nì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì ˆëŒ€ë¡œ ì•ˆ ë˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ì „í˜„ ë¬¸ì œì—†ëŠ” ë°©ì‹ì´ ìˆë‹¤. ëŒ€ê°œ ë©”ëª¨ë¦¬ë‚˜ CPU íš¨ìœ¨ê³¼ ê´€ë ¨ìˆëŠ” ê²½ìš°ì¸ë° ì½”ë“œì˜ ê¹¨ë—í•¨ê³¼ëŠ” ì² ì €íˆ ë¬´ê´€í•˜ë‹¤.\ní…ŒìŠ¤íŠ¸ ë‹¹ assert í•˜ë‚˜ assertë¬¸ì´ ë‹¨ í•˜ë‚˜ì¸ í•¨ìˆ˜ëŠ” ê²°ë¡ ì´ í•˜ë‚˜ë¼ì„œ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰½ê³  ë¹ ë¥´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 public void testGetPageHierarchyAsXml() throws Exception { givenPages(\u0026#34;PageOne\u0026#34;, \u0026#34;pageOne.ChildOne\u0026#34;, \u0026#34;PageTwo\u0026#34;); whenRequestIsIssued(\u0026#34;root\u0026#34;, \u0026#34;type:pages\u0026#34;); thenResponseShouldBeXML(); } public void testGetPageHiereachyHasRightTags() throws Exception { givenPages(\u0026#34;PageOne\u0026#34;, \u0026#34;pageOne.ChildOne\u0026#34;, \u0026#34;PageTwo\u0026#34;); whenRequestIsIssued(\u0026#34;root\u0026#34;, \u0026#34;type:pages\u0026#34;); thenResponseShouldContain( \u0026#34;\u0026lt;name\u0026gt;PageOne\u0026lt;/name\u0026gt;\u0026#34;, \u0026#34;\u0026lt;name\u0026gt;PageTwo\u0026lt;/name\u0026gt;\u0026#34;, \u0026#34;\u0026lt;name\u0026gt;ChildOne\u0026lt;/name\u0026gt;\u0026#34; ); } í…ŒìŠ¤íŠ¸ë¥¼ ë¶„ë¦¬í•˜ë©´ ìœ„ í•¨ìˆ˜ 1~2ì²˜ëŸ¼ ì¤‘ë³µë˜ëŠ” ì½”ë“œê°€ ë§ì•„ì§€ëŠ”ë°, TEMPLATE METHOD íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆë‹¤.\ngiven/when ë¶€ë¶„ì„ ë¶€ëª¨ í´ë˜ìŠ¤ì— ë‘ê³  ì†Œë‘ ë¶€ë¶„ì„ ìì‹ í´ë˜ìŠ¤ì— ë‘ë©´ ëœë‹¤. ì•„ë‹ˆë©´ ì™„ì „íˆ ë…ìì ì¸ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ @Before í•¨ìˆ˜ì— given/when ë¶€ë¶„ì„ ë„£ê³  @Test í•¨ìˆ˜ì— thenë¶€ë¶„ì„ ë„£ì–´ë„ ëœë‹¤.\ní•˜ì§€ë§Œ ë‘ ê²½ìš° ëª¨ë‘ ê³¼ë„í•œ ëŠë‚Œì´ ìˆëŠ”ë° ì´ê²ƒì €ê²ƒ ê°ì•ˆí•´ ë³´ë©´ ê²°êµ­ assert ë¬¸ì„ ì—¬ë · ì‚¬ìš©í•˜ëŠ” í¸ì´ ì¢‹ì„ìˆ˜ë„ ìˆë‹¤.\nğŸ’¡ ë‹¨ì¼ assertë¥¼ ì§€ì›í•˜ëŠ” í•´ë‹¹ ë¶„ì•¼ í…ŒìŠ¤íŠ¸ ì–¸ì–´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì´ì ì´ ë§ìœ¼ë‚˜, ê³¼í•˜ë‹¤ë©´ ê¼­ ì§€í‚¬ í•„ìš”ëŠ” ì—†ë‹¤. í•˜ì§€ë§Œ assert ë¬¸ ê°œìˆ˜ë¥¼ ìµœëŒ€í•œ ì¤„ì´ë ¤ê³  ë…¸ë ¥í•´ì•¼ í•œë‹¤.\ní…ŒìŠ¤íŠ¸ë‹¹ ê°œë… í•˜ë‚˜ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë§ˆë‹¤ í•œ ê°œë…ë§Œ í…ŒìŠ¤íŠ¸í•˜ë¼. ì´ê²ƒì €ê²ƒ ì¡ë‹¤í•œ ê°œë…ì„ ì—°ì†ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê¸´ í•¨ìˆ˜ëŠ” í”¼í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * addMonths() ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì¥í™©í•œ ì½”ë“œ */ public void testAddMonths() { SerialDate d1 = SerialDate.createInstance(31, 5, 2004); SerialDate d2 = SerialDate.addMonths(1, d1); assertEquals(30, d2.getDayOfMonth()); assertEquals(6, d2.getMonth()); assertEquals(2004, d2.getYYYY()); SerialDate d3 = SerialDate.addMonths(2, d1); assertEquals(31, d3.getDayOfMonth()); assertEquals(7, d3.getMonth()); assertEquals(2004, d3.getYYYY()); SerialDate d4 = SerialDate.addMonths(1, SerialDate.addMonths(1, d1)); assertEquals(30, d4.getDayOfMonth()); assertEquals(7, d4.getMonth()); assertEquals(2004, d4.getYYYY()); } ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë…ìì ì¸ ê°œë… ì„¸ ê°œë¥¼ í…ŒìŠ¤íŠ¸í•˜ë¯€ë¡œ ë…ìì ì¸ í…ŒìŠ¤íŠ¸ ì„¸ê°œë¡œ ìª¼ê°œëŠ” ê²ƒì´ ì¢‹ë‹¤. ìƒˆ ê°œë…ì„ í•œ í•¨ìˆ˜ë¡œ ëª°ì•„ë„£ìœ¼ë©´ ë…ìê°€ ê° ì ˆì´ ì¡´ì¬í•˜ëŠ” ì´ìœ ì™€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê°œë…ì„ ëª¨ë‘ ì´í•´í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\n31ì¼ë¡œ ëë‚˜ëŠ” ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œê°€ ì£¼ì–´ì§€ëŠ” ê²½ìš° 30ì¼ë¡œ ëë‚˜ëŠ” í•œ ë‹¬ì„ ë”í•˜ë©´ ë‚ ì§œëŠ” 30ì¼ì´ ë˜ì–´ì•¼ì§€ 31ì¼ì´ ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤. ë‘ ë‹¬ì„ ë”í•˜ë©´ ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ë‹¬ì´ 31ì¼ë¡œ ëë‚˜ë©´ ë‚ ì§œëŠ” 31ì¼ì´ ë˜ì–´ì•¼ í•œë‹¤. 30ì¼ë¡œ ëë‚˜ëŠ” ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œê°€ ì£¼ì–´ì§€ëŠ” ê²½ìš° 31ì¼ë¡œ ëë‚˜ëŠ” í•œ ë‹¬ì„ ë”í•˜ë©´ ë‚ ì§œëŠ” 30ì¼ì´ ë˜ì–´ì•¼ì§€ 31ì¼ì´ ë˜ë©´ ì•ˆëœë‹¤. ìœ„ í…ŒìŠ¤íŠ¸ì½”ë“œëŠ” assertë¬¸ì´ ì—¬ë ·ì´ë¼ëŠ” ì‚¬ì‹¤ì´ ë¬¸ì œê°€ ì•„ë‹ˆë¼, í•œ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì—ì„œ ì—¬ëŸ¬ ê°œë…ì„ í…ŒìŠ¤í•œë‹¤ëŠ” ì‚¬ì‹¤ì´ ë¬¸ì œë‹¤.\nâ€œê°œë… ë‹¹ assert ë¬¸ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì—¬ë¼â€ì™€ â€œí…ŒìŠ¤íŠ¸ í•¨ìˆ˜ í•˜ë‚˜ëŠ” ê°œë… í•˜ë‚˜ë§Œ í…ŒìŠ¤íŠ¸í•˜ë¼â€\nF.I.R.S.T ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒ ë‹¤ì„¯ê°€ì§€ ê·œì¹™ì„ ë”°ë¥¸ë‹¤.\nF(Fast) ë¹ ë¥´ê²Œ\ní…ŒìŠ¤íŠ¸ëŠ” ë¹¨ë¼ì•¼ í•œë‹¤. í…ŒìŠ¤íŠ¸ê°€ ëŠë¦¬ë©´ ìì£¼ ëŒë¦´ ì—„ë‘ë¥¼ ëª» ë‚¸ë‹¤, ìì£¼ ëŒë¦¬ì§€ ì•Šìœ¼ë©´ ì´ˆë°˜ì— ë¬¸ì œë¥¼ ì°¾ì•„ë‚´ê¸° í˜ë“¤ë‹¤. ì´ì— ë”°ë¼ ì½”ë“œë¥¼ ë§ˆìŒê» ì •ë¦¬í•˜ì§€ ëª»í•´ì§€ê³ , ê²°êµ­ ì½”ë“œ í’ˆì§ˆì´ ë§ê°€ì§€ê¸° ì‹œì‘í•œë‹¤.\nI(Independent) ë…ë¦½ì ìœ¼ë¡œ\nê° í…ŒìŠ¤íŠ¸ëŠ” ì„œë¡œ ì˜ì¡´í•˜ë©´ ì•ˆëœë‹¤.\ní•œ í…ŒìŠ¤íŠ¸ê°€ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  í™˜ê²½ì„ ì¤€ë¹„í•´ì„œëŠ” ì•ˆëœë‹¤. ê° í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê·¸ë¦¬ê³  ì–´ë–¤ ìˆœì„œë¡œ ì‹¤í–‰í•´ë„ ê´œì°®ì•„ì•¼ í•œë‹¤.\ní…ŒìŠ¤íŠ¸ê°€ ì„œë¡œì—ê²Œ ì˜ì¡´í•˜ë©´ í•˜ë‚˜ê°€ ì‹¤íŒ¨í•  ë•Œ ë‚˜ë¨¸ì§€ë„ ì‡ë‹¬ì•„ ì‹¤íŒ¨í•˜ë¯€ë¡œ ì›ì¸ì„ ì§„ë‹¨í•˜ê¸° ì–´ë ¤ì›Œì§€ë©° í›„ë°˜ í…ŒìŠ¤íŠ¸ê°€ ì°¾ì•„ë‚´ì•¼ í•  ê²°í•¨ì„ ìˆ¨ê¸´ë‹¤.\nR(Repeatable) ë°˜ë³µê°€ëŠ¥í•˜ê²Œ\ní…ŒìŠ¤íŠ¸ëŠ” ì–´ë–¤ í™˜ê²½ì—ì„œë„ ë°˜ë³µ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\ní…ŒìŠ¤íŠ¸ê°€ ëŒì•„ê°€ì§€ ì•ŠëŠ” í™˜ê²½ì´ í•˜ë‚˜ë¼ë„ ìˆë‹¤ë©´ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œ ì´ìœ ë¥¼ ë‘˜ëŸ¬ëŒˆ ë³€ëª…ì´ ìƒê¸´ë‹¤. ë˜í•œ í™˜ê²½ì´ ì§€ì›ë˜ì§€ ì•Šê¸°ì— í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì§€ ëª»í•˜ëŠ” ìƒí™©ì— ì§ë©´í•œë‹¤.\nS(Self-Validating) ìê°€ê²€ì¦í•˜ëŠ”\ní…ŒìŠ¤íŠ¸ëŠ” ë¶€ìš¸ ê°’ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë‚´ì•¼ í•œë‹¤.\nì„±ê³µ ì•„ë‹ˆë©´ ì‹¤íŒ¨ë‹¤. í†µê³¼ ì—¬ë¶€ë¥¼ ì•Œë ¤ê³  ë¡œê·¸ íŒŒì¼ì„ ì½ê²Œ ë§Œë“¤ì–´ì„œëŠ” ì•ˆ ëœë‹¤. í†µê³¼ ì—¬ë¶€ë¥´ ë³´ë ¤ê³  í…ìŠ¤íŠ¸ íŒŒì¼ ë‘ê°œë¥¼ ìˆ˜ì‘ì—…ìœ¼ë¡œ ë¹„êµí•˜ê²Œ ë§Œë“¤ì–´ì„œë„ ì•ˆ ëœë‹¤.\nT(Timely) ì ì‹œì—\ní…ŒìŠ¤íŠ¸ëŠ” ì ì‹œì— ì‘ì„±í•´ì•¼ í•œë‹¤.\në‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ê¸° ì§ì „ì— êµ¬í˜„í•œë‹¤.\nì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•œ ë‹¤ìŒì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ë©´ ì‹¤ì œ ì½”ë“œê°€ í…ŒìŠ¤íŠ¸ì— ì í•©í•˜ì§€ ì•Šì€ êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ ì§ˆ ìˆ˜ ìˆë‹¤.\nê²°ë¡  í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œë§Œí¼ì´ë‚˜ í”„ë¡œì íŠ¸ ê±´ê°•ì— ì¤‘ìš”í•˜ë‹¤. ì–´ì©Œë©´ ì‹¤ì œ ì½”ë“œë³´ë‹¤ ë” ì¤‘ìš”í• ì§€ë„ ëª¨ë¥¸ë‹¤.\ní…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë°©ì¹˜ë˜ì–´ ë§ê°€ì§€ë©´ ì‹¤ì œ ì½”ë“œë„ ë§ê°€ì§„ë‹¤.\në‚´ ê²°ë¡  í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë³€ê²½ì— ëŒ€í•œ ì•ˆì „ì¥ì¹˜, ë²„íŒ€ëª©ì´ë©° ì´ë¥¼ í†µí•´ ì½”ë“œì— ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ë³´ì¡´í•˜ê³  ê°•í™”í•œë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê¹¨ë—íˆ ìœ ì§€í•˜ì§€ ì•Šìœ¼ë©´, í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±, ìœ ì§€ê°€ ì–´ë ¤ì›Œì ¸ ë°©ì¹˜í•˜ê²Œ ëœë‹¤. ê²°êµ­ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ë‘ë ¤ì›€ì„ ë§Œë“¤ê²Œ ë˜ê³  ì´ëŸ¬í•œ ë‘ë ¤ì›€ì´ ì‹¤ì œ ì½”ë“œì˜ í’ˆì§ˆì„ ì ì  ë–¨ì–´ëœ¨ë¦°ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ê°€ë…ì„±ì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤. í…ŒìŠ¤íŠ¸ APIë¥¼ êµ¬í˜„í•´ ë„ë©”ì¸ íŠ¹í™” ì–¸ì–´ë¥¼ ë§Œë“¤ì. ë„ë©”ì¸ì— ìµœì í™”ëœ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ì. assertë¬¸ì€ ìµœì†Œí•œìœ¼ë¡œ ìœ ì§€í•˜ì ì—¬ëŸ¬ê°œì˜ assertë¬¸ì´ ìˆë‹¤ëŠ” ëœ»ì€ ì½”ë“œ ìì²´ ê°€ë…ì„±ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤. assert ë¬¸ì´ ì—¬ëŸ¬ê°œë©´ ì—¬ëŸ¬ ê°œë…ì„ í…ŒìŠ¤íŠ¸ í•˜ê³  ìˆì„ ì§€ë„ ëª¨ë¥¸ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œ í•˜ë‚˜ëŠ” í•˜ë‚˜ì˜ ê°œë…ë§Œ í…ŒìŠ¤íŠ¸ í•´ì•¼í•œë‹¤. ì—¬ëŸ¬ ê°œë…ì„ í…ŒìŠ¤íŠ¸í•˜ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì–´ë–¤ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ ì•Œê¸° ìœ„í•´ ê³ ë¯¼í•´ì•¼í•œë‹¤. (ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤) í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ë§Œë“œëŠ” ì´ìœ ëŠ” í…ŒìŠ¤íŠ¸ì— ì í•©í•œ ì‹¤ì œ ì½”ë“œë¥¼ ë§Œë“œëŠ”ë° ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ","date":"2023-04-20T16:22:13+09:00","image":"https://codemario318.github.io/post/clean-code/9/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/9/","title":"í´ë¦°ì½”ë“œ: 9. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸"},{"content":" ë­”ê°€ ì˜ëª»ë˜ë©´ ë°”ë¡œì¡ì„ ì±…ì„ì€ ë°”ë¡œ ìš°ë¦¬ í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œ ìˆë‹¤.\nê¹¨ë—í•œ ì½”ë“œì™€ ì˜¤ë¥˜ì²˜ë¦¬ëŠ” ì—°ê´€ì´ ìˆë‹¤. ìƒë‹¹ìˆ˜ ì½”ë“œë“¤ì€ ì „ì ìœ¼ë¡œ ì˜¤ë¥˜ ì²˜ë¦¬ ì½”ë“œì— ì¢Œìš°ëœë‹¤. ì—¬ê¸°ì €ê¸° í©ì–´ì§„ ì˜¤ë¥˜ ì²˜ë¦¬ ì½”ë“œ ë•Œë¬¸ì— ì‹¤ì œ ì½”ë“œê°€ í•˜ëŠ” ì¼ì„ íŒŒì•…í•˜ê¸°ê°€ ê±°ì˜ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸ë‹¤.\nğŸ’¡ ì˜¤ë¥˜ ì²˜ë¦¬ëŠ” ì¤‘ìš”í•˜ì§€ë§Œ ì´ë¡œ ì¸í•´ í”„ë¡œê·¸ë¨ ë…¼ë¦¬ë¥¼ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤ë©´ ê¹¨ë—í•œ ì½”ë“œë¼ ë¶€ë¥´ê¸° ì–´ë µë‹¤.\nì˜¤ë¥˜ ì½”ë“œë³´ë‹¤ ì˜ˆì™¸ë¥¼ ì‚¬ìš©í•˜ë¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class DeviceController { ... piblic void sendShutDown() { DeviceHandle handle = getHandle(DEV1); if (handle != DeviceHandle.INVALID) { retrieveDeviceRecord(handle); if (record.getStatus() != DEVICE_SUSPENDED) { pauseDevice(handle); clearDeviceWorkQueue(handle); closeDevice(handle); } else { logger.log(\u0026#34;Device suspended. Unable to shut down\u0026#34;); } } else { logger.log(\u0026#34;Invalid handle for: \u0026#34; + DEV1.toString()); } } ... } ìœ„ì™€ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ í˜¸ì¶œì ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤. í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ì¦‰ì‹œ ì˜¤ë¥˜ë¥¼ í™•ì¸í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\nì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì˜ˆì™¸ë¥¼ ë˜ì§€ë©´, ì‹¤ì œ êµ¬í˜„ ë¡œì§ì´ ì˜¤ë¥˜ ì²˜ë¦¬ ì½”ë“œì™€ ì„ì´ì§€ ì•Šê²Œ ë˜ì–´ í˜¸ì¶œìê°€ ê¹”ë”í•´ì§„ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 public class DeviceController { ... public void sendShutDown() { try { tryToShutDown(); } catch (DeviceShutDownError e) { logger.log(e); } } private void tryToshutDown() throw DeviceShutDownError { DeviceHandle hadle = getHandle(DEV1); DeviceRecord record = retrieveDeviceRecord(handle); pauseDevice(handle); clearDeviceWorkQueue(handle); closeDevice(handle); } private DeviceHandle getHandle(DeviceId id) { ... throw new DeviceShutDownError(\u0026#34;Invalid handle for: \u0026#34; + id.toString()); } ... } ë’¤ì„ì—¬ìˆë˜ ë””ë°”ì´ìŠ¤ ì¢…ë£Œ ë¡œì§ê³¼ ì˜¤ë¥˜ ì²˜ë¦¬ ë¡œì§ì´ ë¶„ë¦¬ë˜ì—ˆë‹¤. ì´ë¥¼ í†µí•´ ê° ê°œë…ì„ ë…ë¦½ì ìœ¼ë¡œ ì‚´í´ë³´ê³  ì´í•´í•  ìˆ˜ ìˆë‹¤.\nTry-Catch-Finally ë¬¸ë¶€í„° ì‘ì„±í•˜ë¼ ì˜ˆì™¸ì²˜ë¦¬ëŠ” ë¡œì§ ë‚´ë¶€ì— ë²”ìœ„ë¥¼ ì •ì˜í•œë‹¤.\ntry-catch-finally ë¬¸ì—ì„œ try ë¸”ë¡ì— ë“¤ì–´ê°€ëŠ” ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì–´ëŠ ì‹œì ì—ì„œë“  ì‹¤í–‰ì´ ì¤‘ë‹¨ëœ í›„ catch ë¸”ë¡ìœ¼ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ìˆë‹¤.\ntry ë¸”ë¡ì—ì„œ ë¬´ìŠ¨ ì¼ì´ ìƒê²¨ë„ catch ë¸”ë¡ì€ í”„ë¡œê·¸ë¨ ìƒíƒœë¥¼ ì¼ê´€ì„± ìˆê²Œ ìœ ì§€í•´ì•¼ í•œë‹¤.\nì˜ˆì™¸ê°€ ë°œìƒí•  ì½”ë“œë¥¼ ì§¤ ë•ŒëŠ” try-catch-finally ë¬¸ì„ ë§Œë“¤ì–´ë†“ê³  ì‹œì‘í•˜ë©´ try ë¸”ë¡ì—ì„œ ë¬´ìŠ¨ ì¼ì´ ìƒê¸°ë“ ì§€ í˜¸ì¶œìê°€ ê¸°ëŒ€í•˜ëŠ” ìƒíƒœë¥¼ ì •ì˜í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\n1 2 3 4 5 // íŒŒì¼ì´ ì—†ìœ¼ë©´ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ”ì§€ ì•Œì•„ë³´ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ @Test(expcted = StroageException.class) public void retrieveSectionShouldThrowOnInvalidFileName() { sectionStore.retrieveSection(\u0026#34;invalid - file\u0026#34;); } 1 2 3 public List\u0026lt;RecordedGrip\u0026gt; retrieveSection(String sectionName) { return new ArrayList\u0026lt;RecordedGrip\u0026gt;(); } ì½”ë“œê°€ ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨í•œë‹¤. ì•„ë˜ ì½”ë“œëŠ” ì˜ˆì™¸ë¥¼ ë˜ì§„ë‹¤.\n1 2 3 4 5 6 7 8 public List\u0026lt;RecordedGrip\u0026gt; retrieveSevtion(String sectionName) { try { FileInputStream stream = new FileInputStream(sectionName); } catch (Exception e) { throw new StorageException(\u0026#34;retrieval error\u0026#34;, e); } return new ArrayList\u0026lt;RecordedGrip\u0026gt;(); } ì½”ë“œê°€ ì˜ˆì™¸ë¥¼ ë˜ì§€ë¯€ë¡œ ì´ì œëŠ” í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•œë‹¤. ì´ ì‹œì ì—ì„œ ë¦¬íŒ©í„°ë§ì´ ê°€ëŠ¥í•˜ë‹¤.\ncatch ë¸”ë¡ì—ì„œ ì˜ˆì™¸ ìœ í˜•ì„ ì¢í˜€ ì‹¤ì œë¡œ FileInputStream ìƒì„±ìê°€ ë˜ì§€ëŠ” FileNotFoundExceptionì„ ì¡ì•„ë‚¸ë‹¤.\n1 2 3 4 5 6 7 8 9 public List\u0026lt;RecordedGrip\u0026gt; retrieveSevtion(String sectionName) { try { FileInputStream stream = new FileInputStream(sectionName); stream.close(); } catch (FileNotFoundException e) { throw new StorageException(\u0026#34;retrieval error\u0026#34;, e); } return new ArrayList\u0026lt;RecordedGrip\u0026gt;(); } try-catch êµ¬ì¡°ë¡œ ë²”ìœ„ë¥¼ ì •ì˜í–ˆìœ¼ë¯€ë¡œ TDDë¥¼ ì´ìš©í•´ í•„ìš”í•œ ë‚˜ë¨¸ì§€ ë…¼ë¦¬ë¥¼ ì¶”ê°€í•œë‹¤. ë‚˜ë¨¸ì§€ ë…¼ë¦¬ëŠ” FileInputStreamì„ ìƒì„±í•˜ëŠ” ì½”ë“œì™€ close í˜¸ì¶œë¬¸ ì‚¬ì´ì— ë„£ìœ¼ë©° ì˜¤ë¥˜ë‚˜ ì˜ˆì™¸ê°€ ì „í˜€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ê°€ì •í•œë‹¤.\në¯¸í™•ì¸(unchecked) ì˜ˆì™¸ë¥¼ ì‚¬ìš©í•˜ë¼ ì—¬ëŸ¬ í•´ ë™ì•ˆ ìë°” í”„ë¡œê·¸ë˜ë¨¸ë“¤ì€ í™•ì¸ëœ(checked) ì˜ˆì™¸ì˜ ì¥ë‹¨ì ì„ ë†“ê³  ë…¼ìŸì„ ë²Œì—¬ì™”ë‹¤. ì•ˆì •ì ì¸ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì œì‘í•˜ëŠ” ìš”ì†Œë¡œ í™•ì¸ëœ ì˜ˆì™¸ê°€ ë°˜ë“œì‹œ í•„ìš”í•˜ì§€ ì•Šë‹¤ëŠ” ì‚¬ì‹¤ì´ ë¶„ëª…í•´ì¡Œë‹¤.\nJavaì˜ ì²´í¬ ëœ ì˜ˆì™¸ì™€ ì²´í¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸ì˜ ì°¨ì´ì \ní™•ì¸ëœ ì˜ˆì™¸: ì»´íŒŒì¼ ê³¼ì •ì—ì„œ ë°œê²¬ë˜ëŠ” ì˜ˆì™¸\nRuntimeExeption í´ë˜ìŠ¤ë¥¼ ì œì™¸í•œ Exeption í´ë˜ìŠ¤ì˜ ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ Errorí´ë˜ìŠ¤ì™€ ê·¸ í•˜ìœ„ í´ë˜ìŠ¤ í™•ì¸ë˜ì§€ ì•Šì€ ì˜ˆì™¸: í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ ë°œìƒí•˜ëŠ” ì˜ˆì™¸, ì»´íŒŒì¼ëŸ¬ê°€ í™•ì¸í•  ìˆ˜ ì—†ëŠ” ì˜ˆì™¸\nRuntimeExeption í´ë˜ìŠ¤ì™€ í•´ë‹¹ í•˜ìœ„ í´ë˜ìŠ¤ í™•ì¸ëœ ì˜ˆì™¸ëŠ” OCP(Open Closed Principle) ë¥¼ ìœ„ë°˜í•œë‹¤.\në©”ì„œë“œì—ì„œ í™•ì¸ëœ ì˜ˆì™¸ë¥¼ ë˜ì¡ŒëŠ”ë° catch ë¸”ë¡ì´ ì„¸ ë‹¨ê³„ ìœ„ì— ìˆë‹¤ë©´ ê·¸ì‚¬ì´ ë©”ì„œë“œ ëª¨ë‘ê°€ ì„ ì–¸ë¶€ì— í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤.\ní•˜ìœ„ ë‹¨ê³„ì—ì„œ ì½”ë“œë¥¼ ë³€ê²½í•˜ë©´ ìƒìœ„ ë‹¨ê³„ ë©”ì„œë“œ ì„ ì–¸ë¶€ë¥¼ ì „ë¶€ ê³ ì³ì•¼ í•œë‹¤. ìµœí•˜ìœ„ í•¨ìˆ˜ë¥¼ ë³€ê²½í•˜ì—¬ ìƒˆë¡œìš´ ì˜¤ë¥˜ë¥¼ ë˜ì§„ë‹¤ê³  ê°€ì •í•˜ê³  í™•ì¸ëœ ì˜¤ë¥˜ë¥¼ ë˜ì§„ë‹¤ë©´ í•¨ìˆ˜ëŠ” ì„ ì–¸ë¶€ì— throws ì ˆì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.\në³€ê²½í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ ëª¨ë‘ê°€ catch ë¸”ë¡ì—ì„œ ìƒˆë¡œìš´ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•œë‹¤. ì„ ì–¸ë¶€ì— throw ì ˆì„ ì¶”ê°€í•œë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ìµœí•˜ìœ„ ë‹¨ê³„ì—ì„œ ìµœìƒìœ„ ë‹¨ê³„ê¹Œì§€ ì—°ì‡„ì ì¸ ìˆ˜ì •ì´ ì¼ì–´ë‚œë‹¤. ë‹¤ë¥´ê²Œ í•´ì„í•˜ë©´, throws ê²½ë¡œì— ìœ„ì¹˜í•˜ëŠ” ëª¨ë“  í•¨ìˆ˜ê°€ ìµœí•˜ìœ„ í•¨ìˆ˜ì—ì„œ ë˜ì§€ëŠ” ì˜ˆì™¸ë¥¼ ì•Œì•„ì•¼ í•˜ë¯€ë¡œ ìº¡ìŠí™”ê°€ ê¹¨ì§„ë‹¤.\nğŸ’¡ í™•ì¸ëœ ì˜ˆì™¸ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•˜ê²Œ ë˜ë©´ ì•ˆì „í•œ ë¡œì§ì„ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ, ì¼ë°˜ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í™•ì¸ëœ ì˜ˆì™¸ë¥¼ í†µí•œ ì´ìµë³´ë‹¤, ì˜ì¡´ì„±ì´ ë” ì¤‘ìš”í•˜ë‹¤.\nì˜ˆì™¸ì— ì˜ë¯¸ë¥¼ ì œê³µí•˜ë¼ ì˜ˆì™¸ë¥¼ ë˜ì§ˆ ë•Œ ì „í›„ ìƒí™©ì„ ì¶©ë¶„íˆ ë§ë¶™íˆë©´, ì˜¤ë¥˜ê°€ ë°œìƒí•œ ì›ì¸ê³¼ ìœ„ì¹˜ë¥¼ ì°¾ê¸° ì‰¬ì›Œì§„ë‹¤.\nì‹¤íŒ¨í•œ ì½”ë“œì˜ ì˜ë„ë¥¼ íŒŒì•…í•˜ë ¤ë©´ í˜¸ì¶œ ìˆ˜íƒ ë§Œìœ¼ë¡œ ë¶€ì¡±í•œ ê²½ìš°ê°€ ë§ì•„. ì˜¤ë¥˜ ë©”ì‹œì§€ì— ì •ë³´(ì‹¤íŒ¨í•œ ì—°ì‚° ì´ë¦„ê³¼ ì‹¤íŒ¨ ìœ í˜•)ë¥¼ ë‹´ì•„ ì˜ˆì™¸ì™€ í•¨ê»˜ ë˜ì§„ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¡œê¹… ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤ë©´ catch ë¸”ë¡ì—ì„œ ì˜¤ë¥˜ë¥¼ ê¸°ë¡í•˜ë„ë¡ ì¶©ë¶„í•œ ì •ë³´ë¥¼ ë„˜ê²¨ì£¼ë©´ ì¢‹ë‹¤.\ní˜¸ì¶œìë¥¼ ê³ ë ¤í•´ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ë¼ ì˜¤ë¥˜ë¥¼ ë¶„ë¥˜í•˜ëŠ” ë°©ë²•ì€ ìˆ˜ì—†ì´ ë§ë‹¤.\nì˜¤ë¥˜ê°€ ë°œìƒí•œ ìœ„ì¹˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ì»´í¬ë„ŒíŠ¸ ì˜¤ë¥˜ ìœ í˜• ë””ë°”ì´ìŠ¤ ì‹¤íŒ¨ ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ í”„ë¡œê·¸ë˜ë° ì˜¤ë¥˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì˜¤ë¥˜ë¥¼ ì •ì˜í•  ë•Œ í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œ ê°€ì¥ ì¤‘ìš”í•œ ê´€ì‹¬ì‚¬ëŠ” ì˜¤ë¥˜ë¥¼ ì¡ì•„ë‚´ëŠ” ë°©ë²•ì´ ë˜ì–´ì•¼ í•œë‹¤.\në‚˜ìœì˜ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 ACMEport port = new ACMEport(12); try { port.open(); } catch (DeviceResponseException e) { reportPortError(e); logger.log(\u0026#34;Device response exception\u0026#34;, e); } catch (ATM1212UnlokedException e) { reportPortError(e); logger.log(\u0026#34;Unlock exception\u0026#34;. e); } catch (GMXRrror e) { reportPortError(e); logger.log(\u0026#34;Device response exeption\u0026#34;); } finally { ... } ìœ„ ì½”ë“œëŠ” ì¤‘ë³µì´ ì‹¬í•˜ì—¬, ëŒ€ë‹¤ìˆ˜ ìƒí™©ì—ì„œ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì€ ë¹„êµì  ì¼ì •í•˜ë‹¤.\nì˜¤ë¥˜ë¥¼ ê¸°ë¡í•œë‹¤. í”„ë¡œê·¸ë¨ì„ ê³„ì† ìˆ˜í–‰í•´ë„ ì¢‹ì€ì§€ í™•ì¸í•œë‹¤. ìœ„ ê²½ìš°ëŠ” ì˜ˆì™¸ì— ëŒ€ì‘í•˜ëŠ” ë°©ì‹ì´ ì˜ˆì™¸ ìœ í˜•ê³¼ ë¬´ê´€í•˜ê²Œ ê±°ì˜ ë™ì¼í•˜ë‹¤. ê·¸ë˜ì„œ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ê³ ì¹˜ê¸° ì‰½ë‹¤.\n1 2 3 4 5 6 7 8 9 10 LocalPort port = new LocalPort(12); try { port.open(); } catch (portDeviceFailure e) { reportError(e); logger.log(e.getMessage(), e); } finally { ... } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public class LocalPort { private ACMEPort innerPort; public LocalPort(int portNumber) { innerPort = new ACMEPort(portNumber); } public void open() { try { innerPort.open(); } catch (DeviceResponseException e) { throw new PortDeviceFailure(e); } catch (ATM1212UnlockedException e) { throw new PortDeviceFailure(e); } catch (GMXError e) { throw new PortDeviceFailure(e); } } ... } ì—¬ê¸°ì„œ LocalPortí´ë˜ìŠ¤ëŠ” ë‹¨ìˆœíˆ ACMEportí´ë˜ìŠ¤ê°€ ë˜ì§€ëŠ” ì˜ˆì™¸ë¥¼ ì¡ì•„ ë³€í™˜í•˜ëŠ” wrapper í´ë˜ìŠ¤ ì¼ë¿ì´ë‹¤.\ní•˜ì§€ë§Œ ì´ëŸ¬í•œ wrapper í´ë˜ìŠ¤ëŠ” ë§¤ìš° ìœ ìš©í•˜ë‹¤. ì‹¤ì œë¡œ ì™¸ë¶€ APIë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ê°ì‹¸ê¸° ê¸°ë²•ì´ ìµœì„ ì´ë‹¤.\nì™¸ë¶€ APIë¥¼ ê°ì‹¸ë©´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í”„ë¡œê·¸ë¨ ì‚¬ì´ì—ì„œ ì˜ì¡´ì„±ì´ í¬ê²Œ ì¤„ì–´ë“ ë‹¤. ë‚˜ì¤‘ì— ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê°ˆì•„íƒ€ë„ ë¹„ìš©ì´ ì ë‹¤. ê°ì‹¸ê¸° í´ë˜ìŠ¤ì—ì„œ ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë„£ì–´ì£¼ëŠ” ë°©ë²•ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ í…ŒìŠ¤íŠ¸í•˜ê¸°ë„ ì‰¬ì›Œì§„ë‹¤. íŠ¹ì • ì—…ì²´ê°€ APIë¥¼ ì„¤ê³„í•œ ë°©ì‹ì— ë°œëª© ì¡íˆì§€ ì•ŠëŠ”ë‹¤. í”„ë¡œê¸€ë§¤ì´ ì‚¬ìš©í•˜ê¸° í¸í•œ APIë¥¼ ì •ì˜í•˜ë©´ ê·¸ë§Œì´ë‹¤. ì˜ˆì™¸ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ë§Œ ìˆì–´ë„ ì¶©ë¶„í•œ ì½”ë“œê°€ ë§ë‹¤.\nì˜ˆì™¸ í´ë˜ìŠ¤ì— í¬í•¨ëœ ì •ë³´ë¡œ ì˜¤ë¥˜ë¥¼ êµ¬ë¶„í•´ë„ ê´œì°®ì€ ê²½ìš°. í•œ ì˜ˆì™¸ëŠ” ì¡ì•„ë‚´ê³  ë‹¤ë¥¸ ì˜ˆì™¸ëŠ” ë¬´ì‹œí•´ë„ ê´œì°®ì€ ê²½ìš°ë¼ë©´ ì—¬ëŸ¬ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì •ìƒ íë¦„ì„ ì •ì˜í•˜ë¼ ì •ìƒ íë¦„ì„ ì •í™•íˆ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©´ ë”´ê¸¸ë¡œ ìƒŒë‹¤.\n1 2 3 4 5 6 try { MealExpenses expenses = expenseReportDAO.getMeals(employee.getID()); m_total += expenses.getTotal(); } catch(MealExpensesNotFound e) { m_total += getMealPerDiem(); } ìœ„ì—ì„œ ì‹ë¹„ë¥¼ ë¹„ìš©ìœ¼ë¡œ ì²­êµ¬í–ˆë‹¤ë©´ ì§ì›ì´ ì²­êµ¬í•œ ì‹ë¹„ë¥¼ ì´ê³„ì— ë”í•œë‹¤. ì‹ë¹„ë¥¼ ë¹„ìš©ìœ¼ë¡œ ì²­êµ¬í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ì¼ì¼ ê¸°ë³¸ ì‹ë¹„ë¥¼ ì´ê³„ì— ë”í•œë‹¤. ê·¸ëŸ°ë° ì˜ˆì™¸ê°€ ë…¼ë¦¬ë¥¼ ë”°ë¼ê°€ê¸° ì–´ë µê²Œ ë§Œë“ ë‹¤.\n1 2 MealExpenses expenses = expenseReportDAO.getMeals(employee.getID()); m_total += expenses.getTotal(); ExpensesReportDAOë¥¼ ê³ ì³ ì²­êµ¬í•œ ì‹ë¹„ê°€ ì—†ë‹¤ë©´, ì¼ì¼ ê¸°ë³¸ ì‹ë¹„ë¥¼ ë°˜í™˜í•˜ëŠ” MealExpenseê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 public class PerDiemMealExpenses implements MealExpenses { public in getTotal() { // ê¸°ë³¸ê°’ìœ¼ë¡œ ì¼ì¼ ê¸°ë³¸ ì‹ë¹„ë¥¼ ë°˜í™˜ } } ì´ëŸ¬í•œ í˜•íƒœë¥¼ **íŠ¹ìˆ˜ ì‚¬ë¡€ íŒ¨í„´(Special Case Pattern)**ì´ë¼ ë¶€ë¥¸ë‹¤. í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê±°ë‚˜ ê°ì²´ë¥¼ ì¡°ì‘í•´ íŠ¹ìˆ˜ ì‚¬ë¡€ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ ì˜ˆì™¸ì ì¸ ìƒí™©ì„ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\nnullì„ ë°˜í™˜í•˜ì§€ ë§ˆë¼ null ë°˜í™˜ì€ í”íˆ ì‚¬ìš©ë˜ì–´ ì˜¤ë¥˜ë¥¼ ìœ ë°œí•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 public void registerItem(Item item) { if (item != null) { ItemRegistry registry = peristentStore.getItemRegistry(); if (registry != null { Item existing = registry.getItem(item.getID()); if (existing.getBillingPeriod().hasRetailOwner()) { existing.register(item); } } } } nullì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì •ìƒì ì¸ ë™ì‘ ì²˜ë¦¬ë¥¼ ìœ„í•´ null ì¸ì§€ ì•„ë‹Œì§€ í™•ì¸í•˜ëŠ” ë¡œì§ì´ í•„ìš”í•˜ì—¬ ì¼ê±°ë¦¬ë¥¼ ëŠ˜ë¦°ë‹¤.\nì´ëŸ¬í•œ ì½”ë“œëŠ” í˜¸ì¶œìê°€ null ì²˜ë¦¬ë¥¼ ìŠì„ ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•˜ê²ŒëŠ” êµ¬ì¡°ë¡œ, ë¬¸ì œë¥¼ í˜¸ì¶œìì—ê²Œ ë– ë„˜ê¸°ê¸° ë•Œë¬¸ì— ì¢‹ì€ êµ¬ì¡°ë¼ê³  ë³¼ ìˆ˜ ì—†ë‹¤.\nì´ëŸ¬í•œ ê²½ìš° íŠ¹ìˆ˜ ì‚¬ë¡€ê°€ ì¢‹ì€ í•´ê²°ì±…ì´ ë  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 List\u0026lt;Empoloyee\u0026gt; employees = getEmpoloyees(); if (employees != null { for(Employee e : employees) { totalPay += e.getPay(); } } ìœ„ getEmployeesëŠ” nullë„ ë°˜í˜¸ë‚˜í•œë‹¤. í•˜ì§€ë§Œ ì´ëŸ° ê²½ìš° nullë°˜í™˜í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤ë©´ ì½”ë“œê°€ í›¨ì”¬ ê¹”ë”í•´ì§„ë‹¤.\n1 2 3 4 5 List\u0026lt;Employee\u0026gt; employees = getEmployees(); for ( Employees e L employees) { totalPay += e.getPay(); } ìë°”ì—ëŠ” Collections.emptyList()ê°€ ìˆì–´ ë¯¸ë¦¬ ì •ì˜ëœ ì½ê¸° ì „ìš© ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 public List\u0026lt;Employee\u0026gt; getEmployees() { if ( ... ì§ì›ì´ ì—†ë‹¤ë©´ ..) { return Collections.emptyList(); } } ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ë³€ê²½í•˜ë©´ ì½”ë“œë„ ê¹”ë”í•´ì§€ê³  NullPointerExceptionì´ ë°œìƒí•  ê°€ëŠ¥ì„±ë„ ì¤„ì–´ë“ ë‹¤.\nnullì„ ì „ë‹¬í•˜ì§€ ë§ˆë¼ ë©”ì„œë“œì—ì„œ nullì„ ë°˜í™˜í•˜ëŠ” ë°©ì‹ë„ ë‚˜ì˜ì§€ë§Œ ë©”ì„œë“œë¡œ nullì„ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì€ ë” ë‚˜ì˜ë‹¤.\n1 2 3 4 5 6 public class MetricsCalculator { public double xProjection(Point p1, Point p2) { return (p2.x - p1.x) * 1.5; } ... } ëˆ„êµ°ê°€ ì¸ìˆ˜ë¡œ nullì„ ì „ë‹¬í•˜ë©´ NullPointerExceptionì´ ë°œìƒí•œë‹¤.\n1 2 3 4 5 6 7 8 9 public class MetricsCalculator { public double xProjection(Point p1, Point p2) { if (p1 == null || p2 === null) { throw InvalidArgumentException( \u0026#34;Invalid argument for MetricsCalculator.xProjection\u0026#34;); } return (p2.x - p1.x) * 1.5; } } ìœ„ ì½”ë“œë¡œ ì…ë ¥ì´ nullì¼ ê²½ìš°ë¥¼ ì˜ˆë°© í–ˆì§€ë§Œ, InvalidArgumentException ì¡ì•„ë‚´ëŠ” ì²˜ë¦¬ê¸°ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 public class MetricsCalculator { public double xProjection(Point p1, Point p2) { assert p1 != null : \u0026#34;p1 should not be null\u0026#34;; assert p2 != null : \u0026#34;pw should not be null\u0026#34;; return (p2.x - p1.x) * 1.5; } } ìœ„ ì½”ë“œëŠ” assertë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬í–ˆë‹¤.\nJavaì˜ assert í‚¤ì›Œë“œ\në¬¸ì„œí™”ê°€ ì˜ ë˜ì–´ ì½”ë“œ ì½ê¸°ëŠ” í¸í•˜ì§€ë§Œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ëŠ” ëª»í•œë‹¤. ëˆ„êµ°ê°€ nullì„ ì „ë‹¬í•˜ë©´ ì—¬ì „íˆ ì‹¤í–‰ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.\nğŸ’¡ ëŒ€ë‹¤ìˆ˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ëŠ” í˜¸ì¶œìê°€ ì‹¤ìˆ˜ë¡œ ë„˜ê¸°ëŠ” nullì„ ì ì ˆíˆ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì—, ì• ì´ˆì— nullì„ ë„˜ê¸°ì§€ ëª»í•˜ë„ë¡ ê¸ˆì§€í•˜ëŠ” ì •ì±…ì´ í•©ë¦¬ì ì¼ ìˆ˜ ìˆë‹¤.\nê²°ë¡  ê¹¨ë—í•œ ì½”ë“œëŠ” ì½ê¸°ë„ ì¢‹ì•„ì•¼ í•˜ì§€ë§Œ ì•ˆì •ì„±ë„ ë†’ì•„ì•¼ í•œë‹¤.\nì´ ë‘˜ì€ ìƒì¶©í•˜ëŠ” ëª©í‘œê°€ ì•„ë‹˜ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ í”„ë¡œê·¸ë¨ ë…¼ë¦¬ì™€ ë¶„ë¦¬í•´ ë³„ë„ì˜ ì‚¬ì•ˆìœ¼ë¡œ ê³ ë ¤í•´ì•¼í•¨ ë”ìš± íŠ¼íŠ¼í•˜ê³  ê¹¨ë—í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œë¨ ë…ë¦½ì ì¸ ì¶”ë¡ ì´ ê°€ëŠ¥í•´ì§€ë©° ì½”ë“œ ìœ ì§€ë³´ìˆ˜ì„±ë„ í¬ê²Œ ë†’ì•„ì§ í”„ë¡œê·¸ë¨ ë…¼ë¦¬ì™€ ë¶„ë¦¬í•´ ë³„ë„ë¡œ ê³ ë¯¼í•˜ë¼. ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ë§Œë“¤ê¸° ì „ì— íë¦„ì„ ì •í™•íˆ íŒŒì•…í•˜ë©´ ì•ˆ ì“¸ìˆ˜ë„ ìˆë‹¤. ì •ìƒ íë¦„ì„ ì •ì˜í•˜ë¼. íŠ¹ìˆ˜ ìƒí™© íŒ¨í„´ë“±ì„ ì´ìš© nullì€ ì‚¬ìš©ìì˜ ì‹¤ìˆ˜ë¥¼ ìœ ë°œí•˜ë¯€ë¡œ ë˜ë„ë¡ ìì œí•´ì•¼ í•œë‹¤. ","date":"2023-04-20T16:12:13+09:00","image":"https://codemario318.github.io/post/clean-code/7/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/7/","title":"í´ë¦°ì½”ë“œ: 7. ì˜¤ë¥˜ ì²˜ë¦¬"},{"content":"ìë£Œ ì¶”ìƒí™” ì‚¬ìš©ìê°€ êµ¬í˜„ì„ ëª¨ë¥¸ ì±„ ìë£Œì˜ í•µì‹¬ì„ ì¡°ì‘í•  ìˆ˜ ìˆì–´ì•¼ ì§„ì •í•œ ì˜ë¯¸ì˜ í´ë˜ìŠ¤ë‹¤.\n1 2 3 4 public class Point { public double x; public double y; } 1 2 3 4 5 6 7 8 public interface Point { double getX(); double getY(); void setCartesian(double x, double y); double getR(); double getTheta(); void setPolar(double r, double theta); } ë‘ í´ë˜ìŠ¤ ëª¨ë‘ 2ì°¨ì› ì ì„ í‘œí˜„í•˜ì§€ë§Œ 6-1ì€êµ¬í˜„ì„ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ê³ , 6-2ëŠ” êµ¬í˜„ì„ ì™„ì „íˆ ìˆ¨ê¸´ë‹¤.\n6-1ì€ ë³€ìˆ˜ë¥¼ private ìœ¼ë¡œ ì„ ì–¸í•˜ë”ë¼ë„ ê° ê°’ë§ˆë‹¤ getter, setterë¥¼ ì œê³µí•œë‹¤ë©´ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤.\në³€ìˆ˜ ì‚¬ì´ì— í•¨ìˆ˜ë¼ëŠ” ê³„ì¸µì„ ë„£ëŠ”ë‹¤ê³  êµ¬í˜„ì´ ì €ì ˆë¡œ ê°ì¶°ì§€ì§€ëŠ” ì•ŠëŠ”ë‹¤. êµ¬í˜„ì„ ê°ì¶”ë ¤ë©´ ì–´ëŠì •ë„ì˜ ì¶”ìƒí™”ê°€ í•„ìš”í•˜ë‹¤.\nì˜ˆì‹œ 1\n1 2 3 4 public interface Vehicle { double getFuelTankCapacityInGallons(); double getGallonsOfGasoline(); } ì˜ˆì‹œ 2\n1 2 3 public interface Vehicle { double getPercentFuelRemaining(); } ì˜ˆì‹œ 1ì€ ì—°ë£Œíƒ±í¬ì˜ ìš©ëŸ‰ê³¼ íœ˜ë°œìœ ì˜ ì–‘ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆê³ , ì˜ˆì‹œ 2ëŠ” ë°±ë¶„ìœ¨ë¡œ ì–¼ë§ˆë‚˜ ë” ë‚¨ì•˜ëŠ”ê°€ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.\në‘˜ ì¤‘ ì˜ˆì‹œ 2ê°€ ë” ì¶”ìƒì ì´ì§€ë§Œ, ë°±ë¶„ìœ¨ì˜ ê¸°ì¤€ê°’ì„ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì •í™•í•œ ì •ë³´ë¥¼ í‘œí˜„í•˜ì§€ ëª»í•œë‹¤.\nì¸í„°í˜ì´ìŠ¤ë‚˜ ì¡°íšŒ/ì„¤ì • í•¨ìˆ˜ë§Œìœ¼ë¡œëŠ” ì¶”ìƒí™”ê°€ ì´ë¤„ì§€ì§€ ì•ŠëŠ”ë‹¤. ê°œë°œìëŠ” ê°ì²´ê°€ í¬í•¨í•˜ëŠ” ìë£Œë¥¼ í‘œí˜„ í•  ê°€ì¥ ì¢‹ì€ ë°©ë²•ì„ ì‹¬ê°í•˜ê²Œ ê³ ë¯¼í•´ì•¼ í•œë‹¤.\nìë£Œ/ê°ì²´ ë¹„ëŒ€ì¹­ ê°ì²´: ì¶”ìƒí™” ë‘ë¡œ ìë£Œë¥¼ ìˆ¨ê¸´ ì±„ ìë£Œë¥¼ ë‹¤ë£¨ëŠ” í•¨ìˆ˜ë§Œ ê³µê°œí•œë‹¤. ìë£Œêµ¬ì¡°: ìë£Œë¥¼ ê·¸ëŒ€ë¡œ ê³µê°œí•˜ë©° ë³„ë‹¤ë¥¸ í•¨ìˆ˜ëŠ” ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ì ˆì°¨ì ì¸ êµ¬í˜„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 public class Square { public Point topLeft; public double side; } public class Rectangle { public Point topLeft; public double height; public double width; } public class Circle { public Point center; public double radius; } public class Geometry { public final double PI = 3.141592653589793; public double area(Object shape) throws NoSuchShapeExetion { if (shape instanceof Square) { Square s = (Square)shape; return s.side * s.side; } else if (shape instanceof Rectangle) { Rectangle r = (Rectangle)shape; return r.height * r.width; } else if (shape instanceof Circle) { Circle c = (Circle)shape; return PI * c.radious * c.radious; } throw new NoSuchShapeExcption(); } } ìœ„ ì˜ˆì‹œì—ì„œ ë§Œì•½ Geometry í´ë˜ìŠ¤ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•´ë„ ë„í˜• í´ë˜ìŠ¤ë“¤ì€ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤. ìœ„ ì˜ˆì‹œì—ì„œ ìƒˆ ë„í˜•ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ Geometryì˜ ì†í•œ ê¸°ëŠ¥ë“¤ì— ìƒˆë¡œìš´ ë„í˜•ì„ ìœ„í•œ ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. ê°ì²´ ì§€í–¥ì ì¸ ë„í˜• í´ë˜ìŠ¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 public class Square implements Shape { private Point topLeft; private double side; public double area() { return s.side * s.side; } } public class Rectangle implements Shape { public Point topLeft; public double height; public double width; public double area() { return height * width; } } public class Circle implements Shape { public Point center; public double radius; public double area() { return PI * radius * radius; } } ìœ„ ì˜ˆì‹œì—ì„œ ë§Œì•½ Shapeì— ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•˜ë©´ ìƒì†ë°›ì€ ëª¨ë“  í´ë˜ìŠ¤ì— ë³€ê²½ì´ í•„ìš”í•˜ë‹¤. ìœ„ ì˜ˆì‹œì—ì„œ Shapeë¥¼ ìƒì†ë°›ì€ ë‹¤ë¥¸ ë„í˜•ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ í•˜ë‚˜ ìƒˆë¡œ ë§Œë“¤ë©´ ëœë‹¤. ëª©ë¡ ì ˆì°¨ì ì¸ êµ¬í˜„ê³¼ ê°ì²´ ì§€í–¥ì ì¸ êµ¬í˜„ì€ ê·¼ë³¸ì ìœ¼ë¡œ ë°˜ëŒ€ì´ë©° ìƒí˜¸ ë³´ì™„ì ì¸ íŠ¹ì„±ì„ ê°€ì§„ë‹¤. ê·¸ë˜ì„œ ê°ì²´ì™€ ìë£Œ êµ¬ì¡°ëŠ” ê·¼ë³¸ì ìœ¼ë¡œ ì–‘ë¶„ëœë‹¤.\nğŸ’¡ ê°ì²´ ì§€í–¥ ì½”ë“œì—ì„œ ì–´ë ¤ìš´ ë³€ê²½ì€ ì ˆì°¨ì ì¸ ì½”ë“œì—ì„œ ì‰¬ìš°ë©°, ì ˆì°¨ì ì¸ ì½”ë“œì—ì„œ ì–´ë ¤ìš´ ë³€ê²½ì€ ê°ì²´ì§€í–¥ ì½”ë“œì—ì„œ ì‰¬ìš´ ê²½ìš°ê°€ ë§ë‹¤. ë”°ë¼ì„œ, ë•Œë¡œëŠ” ë‹¨ìˆœí•œ ìë£Œ êµ¬ì¡°ì™€ ì ˆì°¨ì ì¸ ì½”ë“œê°€ ê°€ì¥ ì í•©í•œ ìƒí™©ë„ ìˆë‹¤.\në””ë¯¸í„° ë²•ì¹™ ë””ë¯¸í„°ì˜ ë²•ì¹™ì€ ì˜ ì•Œë ¤ì§„ íœ´ë¦¬ìŠ¤í‹±ìœ¼ë¡œ, ëª¨ë“ˆì€ ìì‹ ì´ ì¡°ì‘í•˜ëŠ” ê°ì²´ì˜ ì†ì‚¬ì •ì„ ëª°ë¼ì•¼ í•œë‹¤ëŠ” ë²•ì¹™ì´ë‹¤.\në””ë¯¸í„° ë²•ì¹™(Law of Demeter)\nì´ëŸ¬í•œ ì´ìœ ë¡œ Donâ€™t Talk to Strangers(ë‚®ì„  ì´ì—ê²Œ ë§í•˜ì§€ ë§ˆë¼) ë˜ëŠ” Principle of least Knowledge(ìµœì†Œ ì§€ì‹ ì›ì¹™)ìœ¼ë¡œë„ ì•Œë ¤ì ¸ ìˆë‹¤.\nê°ì²´ëŠ” ìë£Œë¥¼ ìˆ¨ê¸°ê³  í•¨ìˆ˜ë¥¼ ê³µê°œí•œë‹¤.\nì¦‰, ê°ì²´ëŠ” ì¡°íšŒ í•¨ìˆ˜ë¡œ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ê³µê°œí•˜ë©´ ì•ˆëœë‹¤ëŠ” ì˜ë¯¸ë‹¤. ì¡°ê¸ˆ ë” ì •í™•í•˜ê²Œ í‘œí˜„í•˜ìë©´, ë””ë¯¸í„° ë²•ì¹™ì€ â€œí´ë˜ìŠ¤ Cì˜ ë©”ì„œë“œ fëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê°ì²´ì˜ ë©”ì„œë“œë§Œ í˜¸ì¶œí•´ì•¼ í•œë‹¤â€ê³  ì£¼ì¥í•œë‹¤.\ní´ë˜ìŠ¤ C fê°€ ìƒì„±í•œ ê°ì²´ f ì¸ìˆ˜ë¡œ ë„˜ì–´ì˜¨ ê°ì²´ C ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥ëœ ê°ì²´ ìœ„ ê°ì²´ì—ì„œ í—ˆìš©ëœ ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ì˜ ë©”ì„œë“œëŠ” í˜¸ì¶œí•˜ë©´ ì•ˆëœë‹¤.\n1 final String ouputDir = ctxt.getOptions().getScratchDir().getAbsolutePath(); getOptions() í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ì˜ getScratchDir() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ í›„ getScratchDir() í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ì˜ getAbsolutePath() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì´ë‹¤ ë””ë¯¸í„°ì˜ ë²•ì¹™ì„ ìœ„ë°˜í–ˆë‹¤. í´ë˜ìŠ¤ Cì˜ ë©”ì„œë“œê°€ ì§€ì •ëœ ë©”ì„œë“œë§Œì„ í˜¸ì¶œí•˜ì§€ ì•Šê³  ìˆë‹¤. ê¸°ì°¨ ì¶©ëŒ ë©”ì„œë“œë¥¼ ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ì½”ë“œê°€ ì—¬ëŸ¬ ê°ì°¨ê°€ í•œ ì¤„ë¡œ ì´ì–´ì§„ ê¸°ì°¨ì²˜ëŸ¼ ë³´ì´ê¸° ë•Œë¬¸ì— ê¸°ì°¨ ì¶©ëŒì´ë¼ ë¶€ë¥¸ë‹¤.\n1 2 3 Options opts = ctxt.getOptions(); File scratchDir = opts.getScratchDir(); final String outputDir = scratchDir.getAbsolutePath(); ìœ„ì™€ ê°™ì´ ê¸°ì°¨ ì¶©ëŒì„ ì œê±°í–ˆì„ ê²½ìš° ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œë˜ì—ˆì„ ë•ŒëŠ” ë°˜í™˜ë˜ëŠ” ê°ì²´ë¥¼ ì •í™•íˆ íŒŒì•…í•  ìˆ˜ ì—†ì—ˆëŠ”ë° ë‚˜ëˆ ë†“ìœ¼ë‹ˆ ë” ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ìœ„ êµ¬ì¡°ë„ ì•„ë˜ì™€ ê°™ì€ ì „ì œë¥¼ ì´ë¯¸ ì•Œê³  ìˆì–´ì•¼ í•˜ë¯€ë¡œ ë””ë¯¸í„° ë²•ì¹™ì„ ë§Œì¡±í•œë‹¤ê³  ë³¼ ìˆ˜ ì—†ë‹¤.\nctxt ê°ì²´ê°€ Optionsë¥¼ í¬í•¨í•œë‹¤. Optionsê°€ ScratchDirì„ í¬í•¨í•œë‹¤. ScratchDirì´ AbsolutePathë¥¼ í¬í•¨í•œë‹¤. ìœ„ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ëŠ” ë§ì€ ê°ì²´ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— ìµœì†Œ ì§€ì‹ ì›ì¹™ì„ ë§Œì¡±í•œë‹¤ê³  ë³¼ ìˆ˜ ì—†ë‹¤.\në””ë¯¸í„° ë²•ì¹™ì„ ìœ„ë°˜í•˜ëŠ”ì§€ëŠ” í˜¸ì¶œëœ ctxt, Options, ScratchDirì´ ê°ì²´ì¸ì§€ ìë£Œ êµ¬ì¡° ì¸ì§€ì— ë‹¬ë ¸ë‹¤.\nê°ì²´ë¼ë©´ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ìˆ¨ê²¨ì•¼ í•˜ë¯€ë¡œ ë””ë¯¸í„° ë²•ì¹™ì„ ìœ„ë°˜í•œë‹¤. ìë£Œ êµ¬ì¡°ë¼ë©´ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë…¸ì¶œí•˜ê¸° ë•Œë¬¸ì— ë””ë¯¸í„° ë²•ì¹™ ëŒ€ìƒì´ ì•„ë‹ˆë‹¤. ìœ„ ì˜ˆì œëŠ” ì¡°íšŒ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°”ëŒì— í˜¼ë€ì„ ì¼ìœ¼í‚¤ê²Œ ë˜ëŠ”ë°, ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í–ˆë‹¤ë©´ ë””ë¯¸í„° ë²•ì¹™ì„ ê±°ë¡ í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\n1 final String ouputDir = ctxt.options.scratchDir.absolutePath; ìë£Œêµ¬ì¡°ë¥¼ ì´ìš©í•˜ê²Œ ë˜ì–´ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•´ ì•Œ ìˆ˜ ì—†ê²Œ ë˜ë¯€ë¡œ ë””ë¯¸í„°ì˜ ë²•ì¹™ ëŒ€ìƒì´ ì•„ë‹ˆê²Œ ëœë‹¤.\nìë£Œ êµ¬ì¡°ëŠ” ë¬´ì¡°ê±´ í•¨ìˆ˜ ì—†ì´ ê³µê°œ ë³€ìˆ˜ë§Œ í¬í•¨í•˜ê³  ê°ì²´ëŠ” ë¹„ê³µê°œ ë³€ìˆ˜ì™€ ê³µê°œ í•¨ìˆ˜ë¥¼ í¬í•¨í•œë‹¤ë©´, ë¬¸ì œëŠ” í›¨ì”¬ ê°„ë‹¨í•´ì§„ë‹¤.\nì¡ì¢… êµ¬ì¡° í•˜ì§€ë§Œ ë‹¨ìˆœí•œ ìë£Œ êµ¬ì¡°ì—ë„ ì¡°íšŒ í•¨ìˆ˜ì™€ ì„¤ì • í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë¼ ìš”êµ¬í•˜ëŠ” í”„ë ˆì„ì›Œí¬ì™€ í‘œì¤€(ex. bean)ì´ ì¡´ì¬í•˜ê³  ìˆë‹¤. ì´ëŸ° í˜¼ë€ ë•Œë¬¸ì— ì ˆë°˜ì€ ê°ì²´, ì ˆë°˜ì€ ìë£Œ êµ¬ì¡°ì¸ ì¡ì¢… êµ¬ì¡°ê°€ ë‚˜ì˜¨ë‹¤.\nì¡ì¢… êµ¬ì¡°ëŠ” ì¤‘ìš”í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ë„ ìˆê³ , ê³µê°œ ë³€ìˆ˜ë‚˜ ê³µê°œ ì¡°íšŒ/ì„¤ì • í•¨ìˆ˜ë„ ìˆë‹¤.\nê³µê°œ/ì¡°íšŒ í•¨ìˆ˜ëŠ” ë¹„ê³µê°œ ë³€ìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ë…¸ì¶œí•˜ê²Œ ë˜ë©°, ì´ ë•Œë¬¸ì— ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ì ˆì°¨ì ì¸ í”„ë¡œê·¸ë˜ë°ì˜ ìë£Œ êµ¬ì¡° ì ‘ê·¼ ë°©ì‹ì²˜ëŸ¼ ë¹„ê³µê°œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ ìœ í˜¹í•œë‹¤.\nìœ„ì²˜ëŸ¼ ë§Œë“¤ì–´ì§„ ì¡ì¢… êµ¬ì¡°ëŠ” ìƒˆë¡œìš´ í•¨ìˆ˜ëŠ” ë¬¼ë¡ ì´ê³  ìƒˆë¡œìš´ ìë£Œ êµ¬ì¡°ë„ ì¶”ê°€í•˜ê¸° ì–´ë µë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì´ëŸ¬í•œ êµ¬ì¡°ëŠ” ë˜ë„ë¡ í”¼í•˜ëŠ” í¸ì´ ì¢‹ë‹¤.\nêµ¬ì¡°ì²´ ê°ì¶”ê¸° ctxt, options, scratchDirì´ ì§„ì§œ ê°ì²´ë¼ë©´ ì•ì—ì„œ ë³¸ ì˜ˆì œì²˜ëŸ¼ ê¸°ì°¨ ì¶©ëŒì„ ë§Œë“¤ë©´ ì•ˆëœë‹¤.\n1 ctxt.getAbsolutePathOfScratchDirectoryOption(); ctxt ê°ì²´ê°€ ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ ì¡°ì‘í•´ì•¼ í•˜ë¯€ë¡œ ê³µê°œí•´ì•¼ í•˜ëŠ” ë©”ì„œë“œê°€ ë„ˆë¬´ ë§ì•„ì§„ë‹¤. 1 ctxt.getScratchDiretoryOption().getAQbsolutePath(); ê°ì²´ê°€ ì•„ë‹ˆë¼ ìë£Œ êµ¬ì¡°ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •í•œë‹¤. ctxtê°€ ê°ì²´ë¼ë©´ ë­”ê°€ë¥¼ í•˜ë¼ê³  ë§í•´ì•¼ì§€ ì†ìœ¼ë¡œ ë“œëŸ¬ë‚´ë¼ê³  ë§í•˜ë©´ ì•ˆëœë‹¤.\nê³ ì¹ ë•ŒëŠ” ë¬´ìŠ¨ ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ê¸°ëŠ¥ì¸ì§€ ì‚´í”¼ë©´ ë” ì¢‹ì€ ì½”ë“œë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ìœ„ ê¸°ëŠ¥ì—ì„œ ì ˆëŒ€ ê²½ë¡œë¥¼ ì–»ìœ¼ë ¤ëŠ” ì´ìœ ëŠ” ì„ì‹œ íŒŒì¼ì„ ìƒì„±í•˜ê¸° ìœ„í•´ì„œì˜€ë‹¤.\n1 2 3 String outFile = outputDir + \u0026#34;/\u0026#34; + className.replace(\u0026#39;.\u0026#39;, \u0026#39;/\u0026#39;) + \u0026#34;.class\u0026#34;; FileOutputStream fout = new FileOutputStream(outFile); BufferedOutputStream bos = new BufferedOutputStream(fout); ì´ëŸ¬í•œ ê²½ìš° ctxtê°ì²´ì— ì„ì‹œ íŒŒì¼ì„ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“œëŠ” ê²ƒì´ ë” ì¢‹ì•„ë³´ì¸ë‹¤.\n1 BufferedOutputStream bos = ctxt.createScratchFileStream(classFileName); ìœ„ ì½”ë“œë¡œ ë³€ê²½í•˜ì—¬ ctxtëŠ” ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë“œëŸ¬ë‚´ì§€ ì•Šìœ¼ë©°, ëª¨ë“ˆì—ì„œ í•´ë‹¹ í•¨ìˆ˜ëŠ” ìì‹ ì´ ëª°ë¼ì•¼ í•˜ëŠ” ì—¬ëŸ¬ ê°ì²´ë¥¼ íƒìƒ‰í•  í•„ìš”ê°€ ì—†ì–´ì¡Œë‹¤.\nâ“ ë©”ì„œë“œ ì²´ì¸ìœ¼ë¡œ ë§Œë“¤ì—ˆë˜ outputDir ì€ ê²°êµ­ classNameì„ í•¨ê»˜ ì´ìš©í•˜ì—¬ íŒŒì¼ ê²½ë¡œë¥¼ ë§Œë“¤ì–´ ì£¼ê²Œ ë˜ë¯€ë¡œ ë³„ë„ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë¬¶ì–´ì„œ ê°ì¶”ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤ëŠ” ì˜ë¯¸ì¸ê°€?\nìë£Œ ì „ë‹¬ ê°ì²´ DTO ìë£Œ êµ¬ì¡°ì²´ì˜ ì „í˜•ì ì¸ í˜•íƒœëŠ” ê³µê°œ ë³€ìˆ˜ë§Œ ìˆê³  í•¨ìˆ˜ê°€ ì—†ëŠ” í´ë˜ìŠ¤ë‹¤. ì´ëŸ° ìë£Œ êµ¬ì¡°ì²´ë¥¼ ë•Œë¡œëŠ” ìë£Œ ì „ë‹¬ ê°ì²´(Data Transfer Object, DTO)ë¼ í•œë‹¤.\nDTOëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µì‹ í•˜ê±°ë‚˜ ì†Œì¼“ì—ì„œ ë°›ì€ ë©”ì‹œì§€ì˜ êµ¬ë¬¸ì„ ë¶„ì„í•  ë•Œ ìœ ìš©í•˜ë‹¤.\ní”íˆ DTOëŠ” ë°ì´í„° ë² ì´ìŠ¤ì— ì €ì¥ëœ ê°€ê³µë˜ì§€ ì•Šì€ ì •ë³´ë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì—ì„œ ì‚¬ìš©í•  ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ë‹¨ê³„ì—ì„œ ê°€ì¥ ì²˜ìŒìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ì²´ë‹¤.\nDTOì˜ ì¢€ ë” ì¼ë°˜ì ì¸ í˜•íƒœëŠ” â€˜ë¹ˆ(bean)â€™êµ¬ì¡°ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 public class Address { private String street; private String streetExtra; private String city; private String state; private String zip; public Address(String street, String streetExtra, String city, String state, String zip) { this.street = street; this.streetExtra = streetExtra; this.city = city; this.state = state; this.zip = zip; } public String getStreet() { return street; } public String getStreetExtra() { return streetExtra; } public String getCity() { return city; } public String getState() { return state; } public String getZip() { return zip; } } ë¹ˆì€ ë¹„ê³µê°œ ë³€ìˆ˜ë¥¼ ì¡°íšŒ/ì„¤ì • í•¨ìˆ˜ë¡œ ì¡°ì‘í•œë‹¤. ì¼ì¢…ì˜ ì‚¬ì´ë¹„ ìº¡ìŠí™”ë¡œ, ë³„ ë‹¤ë¥¸ ì´ìµì„ ì œê³µí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\ní™œì„± ë ˆì½”ë“œ í™œì„± ë ˆì½”ë“œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ë‚˜ ë‹¤ë¥¸ ì†ŒìŠ¤ì—ì„œ ìë£Œë¥¼ ì§ì ‘ ë³€í™˜í•œ ê²°ê³¼ë¡œ DTOì˜ íŠ¹ìˆ˜í•œ í˜•íƒœë‹¤. ê³µê°œ ë³€ìˆ˜ê°€ ìˆê±°ë‚˜ ë¹„ê³µê°œ ë³€ìˆ˜ì— ì¡°íšŒ/ì„¤ì • í•¨ìˆ˜ê°€ ìˆëŠ” ìë£Œ êµ¬ì¡°ì§€ë§Œ, ëŒ€ê°œ saveë‚˜ findì™€ ê°™ì€ íƒìƒ‰ í•¨ìˆ˜ë„ ì œê³µí•œë‹¤.\ní™œì„± ë ˆì½”ë“œë¥¼ ì‚¬ìš©í•  ë•Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì¶”ê°€í•´ ì´ëŸ° ìë£Œ êµ¬ì¡°ë¥¼ ê°ì²´ë¡œ ì·¨ê¸‰í•˜ëŠ” ê°œë°œìê°€ ë§ì€ë°, ì´ëŸ¬í•œ ë°©ì‹ì€ ê²°êµ­ ì¡ì¢… êµ¬ì¡°ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤.\ní™œì„± ë ˆì½”ë“œëŠ” ìë£Œ êµ¬ì¡°ë¡œ ì·¨ê¸‰í•˜ì—¬, ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ë‹´ìœ¼ë©´ì„œ ë‚´ë¶€ ìë£Œë¥¼ ìˆ¨ê¸°ëŠ” ê°ì²´ë¥¼ ë”°ë¡œ ìƒì„±í•´ì•¼ í•œë‹¤.\nê²°ë¡  ê°ì²´ëŠ” ë™ì‘ì„ ê³µê°œí•˜ê³  ìë£Œë¥¼ ìˆ¨ê¸´ë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ ë™ì‘ì„ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ ìƒˆ ê°ì²´ íƒ€ì…ì„ ì¶”ê°€ëŠ” ì‰½ë‹¤. í•˜ì§€ë§Œ ê¸°ì¡´ ê°ì²´ì— ìƒˆ ë™ì‘ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ìë£Œêµ¬ì¡°ëŠ” ë³„ë‹¤ë¥¸ ë™ì‘ ì—†ì´ ìë£Œë¥¼ ë…¸ì¶œí•œë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ ìë£Œ êµ¬ì¡°ì— ìƒˆ ë™ì‘ì„ ì¶”ê°€ëŠ” ì‰½ë‹¤. ê¸°ì¡´ í•¨ìˆ˜ì— ìƒˆ ìë£Œ êµ¬ì¡°ë¥¼ ì¶”ê°€í•˜ê¸°ëŠ” ì–´ë µë‹¤. êµ¬í˜„í•  ë•Œ, ìƒˆë¡œìš´ ìë£Œ íƒ€ì…ì„ ì¶”ê°€í•˜ëŠ” ìœ ì—°ì„±ì´ í•„ìš”í•˜ë©´ ê°ì²´ê°€ ë” ì í•©í•˜ë‹¤. ë‹¤ë¥¸ ê²½ìš°ë¡œ ìƒˆë¡œìš´ ë™ì‘ì„ ì¶”ê°€í•˜ëŠ” ìœ ì—°ì„±ì´ í•„ìš”í•˜ë©´ ìë£Œ êµ¬ì¡°ì™€ ì ˆì°¨ì ì¸ ì½”ë“œê°€ ë” ì í•©í•˜ë‹¤.\nğŸ’¡ ìš°ìˆ˜í•œ ê°œë°œìëŠ” í¸ê²¬ ì—†ì´ ì´ ì‚¬ì‹¤ì„ ì´í•´í•´ ì§ë©´í•œ ë¬¸ì œì— ìµœì ì¸ í•´ê²°ì±…ì„ ì„ íƒí•´ì•¼ í•œë‹¤.\nì½ê³  ì‹¶ì€ ì±… ì—˜ë ˆê°•íŠ¸ ì˜¤ë¸Œì íŠ¸ ê°ì²´ì§€í–¥ì„ ì¡°ê¸ˆ ë‹¤ë¥¸ ê´€ì ì—ì„œ ì ‘ê·¼í•˜ì—¬ ê¹¨ë—í•œ ì½”ë“œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì¶”ì²œí•˜ëŠ” ì±… ","date":"2023-04-20T15:53:13+09:00","image":"https://codemario318.github.io/post/clean-code/6/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/6/","title":"í´ë¦°ì½”ë“œ: 6. ê°ì²´ì™€ ìë£Œêµ¬ì¡°"},{"content":"ì–´ë–¤ í”„ë¡œê·¸ë¨ì´ë“  ê°€ì¥ ê¸°ë³¸ì ì¸ ë‹¨ìœ„ëŠ” í•¨ìˆ˜ë‹¤\nì–´ë–»ê²Œ í•´ì•¼ ì½ê¸° ì‰½ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œ ì˜ë„ë¥¼ ë¶„ëª…íˆ í‘œí˜„í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í• ìˆ˜ ìˆì„ê¹Œ í•¨ìˆ˜ì— ì–´ë–¤ ì†ì„±ì„ ë¶€ì—¬í•´ì•¼ ì²˜ìŒ ì½ëŠ” ì‚¬ëŒì´ í”„ë¡œê·¸ë¨ ë‚´ë¶€ë¥¼ ì§ê´€ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ìˆì„ê¹Œ ì‘ê²Œ ë§Œë“¤ì–´ë¼ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ì²«ë²ˆì§¸ ê·œì¹™ì€ â€˜ì‘ê²Œ!â€™, ë‘ë²ˆì§¸ ê·œì¹™ì€ â€˜ë” ì‘ê²Œ!â€™ ë‹¤.\nì´ ê·œì¹™ì€ ì¦ëª…í•˜ê¸´ ì–´ë µì§€ë§Œ ì‘ê°€ì˜ ê²½í—˜ìœ¼ë¡œ ì‘ì€ í•¨ìˆ˜ê°€ ì¢‹ë‹¤ê³  í™•ì‹ í•œë‹¤.\ní•¨ìˆ˜ê°€ ì‘ì„ìˆ˜ë¡ í•œê°€ì§€ ì¼ë§Œ ì²˜ë¦¬í•˜ê²Œ ë§Œë“¤ê¸° ìš©ì´í•˜ê³  ëª…ë°±í•´ì§„ë‹¤.\në¸”ë¡ê³¼ ë“¤ì—¬ì“°ê¸° ì¡°ê±´ë¬¸ì„ í†µí•´ ì²˜ë¦¬ë  ë¸”ë¡ì€ í•œì¤„ë¡œ í‘œí˜„í•´ì•¼í•œë‹¤. ì¦‰ ì½”ë“œë¥¼ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\në¸”ë¡ì— ë“¤ì–´ê°€ê²Œ ë˜ëŠ” í•¨ìˆ˜ ì´ë¦„ì„ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•œë‹¤ë©´ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\nì´ ë§ì€ ì¤‘ì²© êµ¬ì¡°ê°€ ìƒê¸¸ë§Œí¼ í•¨ìˆ˜ê°€ ì»¤ì ¸ì„œëŠ” ì•ˆ ëœë‹¤ëŠ” ëœ»ìœ¼ë¡œ í•¨ìˆ˜ì˜ ë“¤ì—¬ì“°ê¸° ê¹Šì´ëŠ” 2ë‹¨ì„ ë„˜ì§€ ì•Šê²Œ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤.\ní•œê°€ì§€ë§Œ í•´ë¼ í•¨ìˆ˜ëŠ” í•œ ê°€ì§€ ì¼ì„ í•´ì•¼ì•¼í•œë‹¤. ê·¸ í•œê°€ì§€ë¥¼ ì˜ í•´ì•¼í•œë‹¤. ê·¸ í•œ ê°€ì§€ë§Œì„ í•´ì•¼í•œë‹¤.\nì¶”ìƒí™” ìˆ˜ì¤€ì´ í•˜ë‚˜ì¸ ë‹¨ìœ„ë¡œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ë©´ í•œê°€ì§€ ì¼ì„ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\ní•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ì´ìœ ëŠ” í° ê°œë…(ê¸°ëŠ¥)ì„ ë‹¤ìŒ ì¶”ìƒí™” ìˆ˜ì¤€ì—ì„œ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ë‚˜ëˆ  ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œë‹¤. ì˜ë¯¸ë¥¼ ìœ ì§€í•˜ë©´ì„œ ë” ìª¼ê°¤ ìˆ˜ ì—†ëŠ” ìˆ˜ì¤€ê¹Œì§€ ì¤„ì—¬ì•¼í•œë‹¤.\në‹¨ìˆœíˆ ë‹¤ë¥¸ í‘œí˜„ì´ ì•„ë‹ˆë¼ ì˜ë¯¸ ìˆëŠ” ì´ë¦„ìœ¼ë¡œ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤ë©´ ê·¸ í•¨ìˆ˜ëŠ” ì—¬ëŸ¬ ì‘ì—…ì„ í•˜ëŠ” ì…ˆì´ë‹¤.\ní•¨ìˆ˜ ë‚´ ì„¹ì…˜ ì„¹ì…˜ì´ ì—¬ëŸ¬ê°œ ë§Œë“¤ì–´ì§„ë‹¤ë©´ í•¨ìˆ˜ê°€ ì—¬ëŸ¬ê°œì˜ ì¼ì„ í•œë‹¤ëŠ” ëœ»ì´ë‹¤. í•œê°€ì§€ ì¼ ë§Œ í•˜ëŠ” í•¨ìˆ˜ëŠ” ìì—°ìŠ¤ëŸ½ê²Œ ì„¹ì…˜ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ì–´ë µë‹¤.\ní•¨ìˆ˜ ë‚´ ì¶”ìƒí™” ìˆ˜ì¤€ì€ í•˜ë‚˜ë¡œ í•¨ìˆ˜ê°€ í™•ì‹¤íˆ í•œ ê°€ì§€ ì‘ì—…ë§Œ í•˜ë ¤ë©´ í•¨ìˆ˜ ë‚´ ëª¨ë“  ë¬¸ì¥ì˜ ì¶”ìƒí™” ìˆ˜ì¤€ì´ ë™ì¼í•´ì•¼ í•œë‹¤.\ní•œ í•¨ìˆ˜ ë‚´ì— ì¶”ìƒí™” ìˆ˜ì¤€ì„ ì„ìœ¼ë©´ íŠ¹ì • í‘œí˜„ì´ ê·¼ë³¸ ê°œë…ì¸ì§€ ì„¸ë¶€ì‚¬í•­ì¸ì§€ êµ¬ë¶„í•˜ê¸° ì–´ë ¤ì›Œ, ì½”ë“œë¥¼ ì½ëŠ” ì‚¬ëŒì´ í—·ê°ˆë¦°ë‹¤.\në˜í•œ ê·¼ë³¸ ê°œë…ê³¼ ì„¸ë¶€ì‚¬í•­ì„ ë’¤ì„ê¸° ì‹œì‘í•˜ë©´, ê¹¨ì§„ ìœ ë¦¬ì°½ì²˜ëŸ¼ ì‚¬ëŒë“¤ì´ í•¨ìˆ˜ì— ì„¸ë¶€ì‚¬í•­ì„ ì ì  ë” ì¶”ê°€í•œë‹¤.\nìœ„ì—ì„œ ì•„ë˜ë¡œ ì½”ë“œ ì½ê¸°: ë‚´ë ¤ê°€ê¸° ê·œì¹™ ì½”ë“œëŠ” ìœ„ì—ì„œ ì•„ë˜ë¡œ ì´ì•¼ê¸°ì²˜ëŸ¼ ì½í˜€ì•¼ ì¢‹ë‹¤. í•œ í•¨ìˆ˜ ë‹¤ìŒì—ëŠ” ì¶”ìƒí™” ìˆ˜ì¤€ì´ í•œ ë‹¨ê³„ ë‚®ì€ í•¨ìˆ˜ê°€ ì˜¨ë‹¤.\nì¦‰ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì½íˆë ¤ë©´ í•¨ìˆ˜ ì¶”ìƒí™” ìˆ˜ì¤€ì´ í•œë²ˆì— í•œ ë‹¨ê³„ì”© ë‚®ì•„ì§„ë‹¤.\nğŸ’¡ ë‚´ë ¤ê°„ë‹¤ëŠ”ê±´ ë‹¨ìˆœíˆ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì½íŒë‹¤ëŠ” ì˜ë¯¸ë³´ë‹¤, ê¹Šì´ê°€ ê¹Šì–´ì§ˆìˆ˜ë¡ ì¡°ê¸ˆ ë” ë‚®ì€ ìˆ˜ì¤€ìœ¼ë¡œ í‘œí˜„ë˜ì•¼ í•œë‹¤ëŠ” ëœ»ê°™ë‹¤.\nì¶”ìƒí™” ìˆ˜ì¤€ì´ í•˜ë‚˜ì¸ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ëŠ”ê²ƒì€ ì–´ë µë‹¤. í•µì‹¬ì€ ì§§ìœ¼ë©´ì„œë„ í•œê°€ì§€ ì¼ë§Œ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. í•œ ë‹¨ê³„ì”© ê¹Šì–´ì§€ëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•˜ë©´ ì¶”ìƒí™” ìˆ˜ì¤€ì„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\nSwitch ë¬¸ Switchë¬¸ì€ ë³¸ì§ˆì ìœ¼ë¡œ switch ë¬¸ì€ N ê°€ì§€ë¥¼ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì‘ê²Œ, í•œ ê°€ì§€ ì‘ì—…ë§Œ ìˆ˜í–‰í•˜ê²Œ ë§Œë“¤ê¸° ì–´ë µë‹¤.\nì™„ì „íˆ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë°©ë²•ì€ ì—†ê¸° ë•Œë¬¸ì— ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì €ì°¨ì› í´ë˜ìŠ¤ì— ìˆ¨ê¸°ê³  ë°˜ë³µí•˜ì§€ ì•Šê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\n","date":"2023-04-20T15:48:13+09:00","image":"https://codemario318.github.io/post/clean-code/3/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/3/","title":"í´ë¦°ì½”ë“œ: 3. í•¨ìˆ˜ ì˜ ë§Œë“œëŠ” ë²•"},{"content":" ì½”ë“œëŠ” ìš”êµ¬ì‚¬í•­ì„ í‘œí˜„í•˜ëŠ” ë„êµ¬ì´ë‹¤. ê³ ë„ë¡œ ì¶”ìƒí™”ëœ ì–¸ì–´ë‚˜ íŠ¹ì • ì‘ìš© ë¶„ì•¼ ì–¸ì–´ë¡œ ê¸°ìˆ í•˜ëŠ” ëª…ì„¸ ì—­ì‹œ ì½”ë“œì´ë‹¤. ì œëŒ€ë¡œ ëª…ì‹œí•œ ìš”êµ¬ì‚¬í•­ì€ ì½”ë“œë§Œí¼ ì •í˜•ì ì´ë©° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì‚¬ìš©í•´ë„ ì¢‹ë‹¤! ë‚˜ìœ ì½”ë“œ ì˜ë‚˜ê°€ë˜ íšŒì‚¬ë¥¼ ë§í•˜ê²Œí•œ ì›ì¸ì€ ë‚˜ìœì½”ë“œì˜€ë‹¤. ê·¸ë“¤ì€ ì¶œì‹œì— ë°”ë¹  ì½”ë“œë¥¼ ë§ˆêµ¬ ì§°ë‹¤. ê¸°ëŠ¥ì„ ì¶”ê°€í• ìˆ˜ë¡ ì½”ë“œëŠ” ì—‰ë§ì´ ë˜ì–´ê°”ê³ , ê²°êµ­ì€ ê°ë‹¹ì´ ë¶ˆê°€ëŠ¥í•œ ìˆ˜ì¤€ì— ì´ë¥´ë €ë‹¤.\nì–¸ê¸‰ ë˜ì—ˆë˜ íšŒì‚¬ëŠ” 20ë…„ í›„ ë§í–ˆë‹¤. ì¥ê¸°ì ìœ¼ë¡œ ì‚´í”¼ì§€ ì•Šì•„ë„, ë¹ ë¥´ê²Œ ì§„í–‰ë˜ë˜ í”„ë¡œì íŠ¸ê°€ 1~2ë…„ ë§Œì— ì •ì²´ë˜ëŠ” ê²½ìš°ê°€ ê½¤ ë§ì´ ì¼ì–´ë‚œë‹¤.\nì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ ë‚˜ìœ ì½”ë“œë“¤ì€ ìƒì‚°ì„± ì•…ìˆœí™˜ì„ ë§Œë“ ë‹¤.\në‚˜ìœ (ë”ëŸ¬ìš´) ì½”ë“œë¥¼ ì§€ì†ì ìœ¼ë¡œ ê°œì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì¥ê¸°ì ìœ¼ë¡œ ë¶€ì •ì ì¸ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.\në‚˜ì¤‘ì€ ì ˆëŒ€ ì˜¤ì§€ ì•ŠëŠ”ë‹¤ - Later == Never ( later equals never!) ë‚˜ì¤‘ì€ ì ˆëŒ€ ì˜¤ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì‹œê°„ì„ ë“¤ì—¬ ê¹¨ë—í•œ ì½”ë“œë¥¼ ë§Œë“œëŠ” ë…¸ë ¥ì´ ë¹„ìš©ì„ ì ˆê°í•˜ëŠ” ë°©ë²•ì¼ ë¿ë§Œ ì•„ë‹ˆë¼ ì „ë¬¸ê°€ë¡œì„œ ê¼­ í•„ìš”í•˜ë‹¤.\nì¢‹ì€ ì½”ë“œê°€ ë‚˜ìœ ì½”ë“œê°€ ë˜ëŠ” ì´ìœ  ìš”êµ¬ì‚¬í•­ ë³€ê²½ ì§§ì€ ì¼ì • ë“±ë“± ì™¸ì ì¸ ìš”ì¸ë“¤ ğŸ’¡ ëª¨ë‘ ë³€ëª…ì„. ì˜ëª»ì€ ì‚¬ì‹¤ ê°œë°œì ìì‹ ì—ê²Œ ìˆë‹¤.\nê¸°íš, ì‚¬ì—… ë“± ì—ê²Œ ì ê·¹ì ìœ¼ë¡œ ì •ë³´ë¥¼ ì œê³µí•˜ì—¬ ì‚¬ì „ì— ë°©ì§€í•´ì•¼ í•œë‹¤.\nì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ í†µí•´ ì´ëŸ¬í•œ ìš”ì¸ë“¤ì„ ì˜ˆë°©í•˜ëŠ” ê²ƒë„ ê°œë°œìì˜ ì—­ëŸ‰ ë‚˜ìœ ì½”ë“œì˜ ìœ„í—˜ì„ ì´í•´í•˜ì§€ ëª»í•˜ëŠ” ê´€ë¦¬ì ë§ì„ ê·¸ëŒ€ë¡œ ë”°ë¥´ëŠ” í–‰ë™ì€ ì „ë¬¸ê°€ë‹µì§€ ëª»í•˜ë‹¤.\nì›ì´ˆì  ë‚œì œ ê°œë°œìëŠ” ê·¼ë³¸ì ì¸ ê°€ì¹˜ì—ì„œ ë‚œì œì— ë´‰ì°©í•œë‹¤.\nê¸°í•œì„ ë§ì¶”ë ¤ë©´ ë‚˜ìœ ì½”ë“œë¥¼ ì–‘ì‚°í•  ìˆ˜ ë°–ì— ì—†ë‹¤ê³  ëŠë¼ì§€ë§Œ, ì˜¤íˆë ¤ ì—‰ë§ì§„ì°½ì¸ ìƒíƒœë¡œ ì¸í•´ ì†ë„ê°€ ëŠ¦ì–´ì§€ê³  ê¸°í•œì„ ë†“ì¹˜ê²Œ ëœë‹¤.\nğŸ’¡ ê¸°í•œì„ ë§ì¶”ëŠ” ìœ ì¼í•œ ë°©ë²•ì€, ì¦‰ ë¹¨ë¦¬ ê°€ëŠ” ìœ ì¼í•œ ë°©ë²•ì€, ì–¸ì œë‚˜ ì½”ë“œë¥¼ ìµœëŒ€í•œ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•˜ëŠ” ìŠµê´€ì´ë‹¤.\nê¹¨ë—í•œ ì½”ë“œëŠ” ì–´ë–»ê²Œ ì‘ì„±í• ê¹Œ? ì½”ë“œê°ê° ê¹¨ë—í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë ¤ë©´ ì²­ê²°ì´ë¼ëŠ” í˜ê²¹ê²Œ ìŠµë“í•œ ê°ê°ì„ í™œìš©í•´ ìì˜í•œ ê¸°ë²•ë“¤ì„ ì ìš©í•˜ëŠ” ì ˆì œì™€ ê·œìœ¨ì´ í•„ìš”í•˜ë‹¤.\nê¹¨ë—í•œ ì½”ë“œë€? ë¹„ì•¼ë„¤ ìŠ¤íŠ¸ë¡­ìŠ¤íŠ¸ë£¹ - Bjarne Stroustrup (C++ ì°½ì‹œì) ê°„ë‹¨í•œ ë…¼ë¦¬\në‚®ì€ ì˜ì¡´ì„±\nì„±ëŠ¥ì„ ìµœì í™”\nê¹¨ë—í•œ ì½”ë“œëŠ” í•œ ê°€ì§€ ì¼ì„ ì œëŒ€ë¡œ í•œë‹¤.\në‚˜ìœ ì½”ë“œëŠ” ë‚˜ìœ ì½”ë“œë¥¼ ìœ í˜¹í•œë‹¤.\në‚˜ìœ ì½”ë“œë¥¼ ê³ ì¹˜ë©´ì„œ ì˜¤íˆë ¤ ë” ë‚˜ìœ ì½”ë“œë¥¼ ë§Œë“ ë‹¤. ê¹¨ì§„ ì°½ë¬¸ ê¹¨ì§„ ìœ ë¦¬ì°½ ì´ë¡  - ìœ„í‚¤ë°±ê³¼, ìš°ë¦¬ ëª¨ë‘ì˜ ë°±ê³¼ì‚¬ì „\nê·¸ë˜ë”” ë¶€ì¹˜ - Grady Booch : UML ì°½ì‹œì ê¹¨ë—í•œ ì½”ë“œëŠ” ë‹¨ìˆœí•˜ê³  ì§ì ‘ì ì´ë‹¤. ì˜ ì“´ ë¬¸ì¥ì²˜ëŸ¼ ì½íŒë‹¤. ê²°ì½” ì„¤ê³„ìì˜ ì˜ë„ë¥¼ ìˆ¨ê¸°ì§€ ì•ŠëŠ”ë‹¤. ëª…ì¾Œí•œ ì¶”ìƒí™”ì™€ ë‹¨ìˆœí•œ ì œì–´ë¬¸ìœ¼ë¡œ ê°€ë“í•˜ë‹¤. ê°€ë…ì„±ì„ ê°•ì¡°í•˜ê³  ìˆë‹¤.\n","date":"2023-04-20T15:42:13+09:00","image":"https://codemario318.github.io/post/clean-code/1/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean-code/1/","title":"í´ë¦°ì½”ë“œ: 1. ê¹¨ë—í•œ ì½”ë“œ"},{"content":"Go ì–¸ì–´ì—ì„œ ì±„ë„ì€ ê³ ë£¨í‹´ì„ ì—°ê²°í•´ì£¼ëŠ” í†µë¡œ(íŒŒì´í”„)ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì±„ë„ì€ ì–‘ë°©í–¥ì´ê³  ê³ ë£¨í‹´ì´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ë™ì¼í•œ ì±„ë„ì„ í†µí•´ ë°ì´í„°ë¥¼ ë³´ë‚´ê±°ë‚˜ ë°›ì„ ìˆ˜ ìˆë‹¤.\nGo ì±„ë„ì€ ê·¸ ì±„ë„ì„ í†µí•˜ì—¬ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” í†µë¡œë¼ ë³¼ ìˆ˜ ìˆë‹¤. ì±„ë„ì€ make() í•¨ìˆ˜ë¥¼ í†µí•´ ë¯¸ë¦¬ ìƒì„±ë˜ì–´ì•¼ í•˜ë©°, ì±„ë„ ì—°ì‚°ì \u0026lt;- ì„ í†µí•´ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ë°›ëŠ”ë‹¤.\nì±„ë„ì€ í”ì´ ê³ ë£¨í‹´ë“¤ ì‚¬ì´ì— ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì„ë•Œ ì‚¬ìš©ë˜ëŠ”ë°, ìƒëŒ€í¸ì´ ì¤€ë¹„ë  ë•Œê¹Œì§€ ì±„ë„ì—ì„œ ëŒ€ê¸°í•¨ìœ¼ë¡œì¨ ë³„ë„ë¡œ lockì„ ê±¸ì§€ ì•Šê³  ë°ì´í„°ë¥¼ ë™ê¸°í™”í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.\nì•„ë˜ ì˜ˆì œëŠ” ì •ìˆ˜í˜• ì±„ë„ì„ ìƒì„±í•˜ê³ , í•œ ê³ ë£¨í‹´ì—ì„œ ê·¸ ì±„ë„ì— 123ì´ë€ ì •ìˆ˜ ë°ì´í„°ë¥¼ ë³´ë‚¸ í›„, ì´ë¥¼ ë‹¤ì‹œ ë©”ì¸ ë£¨í‹´ì—ì„œ ì±„ë„ë¡œë¶€í„° 123 ë°ì´í„°ë¥¼ ë°›ëŠ” ì½”ë“œì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main func main() { // ì •ìˆ˜í˜• ì±„ë„ì„ ìƒì„±í•œë‹¤ ch := make(chan int) go func() { ch \u0026lt;- 123 //ì±„ë„ì— 123ì„ ë³´ë‚¸ë‹¤ }() var i int i = \u0026lt;- ch // ì±„ë„ë¡œë¶€í„° 123ì„ ë°›ëŠ”ë‹¤ println(i) } ì±„ë„ì„ ìƒì„±í•  ë•ŒëŠ” make()í•¨ìˆ˜ì— ì–´ë–¤ íƒ€ì… ë°ì´í„°ë¥¼ ì±„ë„ì—ì„œ ì£¼ê³ ë°›ì„ ì§€ ë¯¸ë¦¬ ì§€ì •í•´ ì£¼ì–´ì•¼ í•œë‹¤. ì±„ë„ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ë•ŒëŠ” ì±„ë„ëª… \u0026lt;- ë°ì´í„° ì™€ ê°™ì´ ì‚¬ìš©í•˜ê³ , ì±„ë„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì„ ê²½ìš°ì—ëŠ” \u0026lt;- ì±„ë„ëª… ì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤.\në©”ì¸ ë£¨í‹´ì€ ë§ˆì§€ë§‰ì—ì„œ ì±„ë„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ê³  ìˆëŠ”ë°, ìƒëŒ€í¸ ê³ ë£¨í‹´ì—ì„œ ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•Œê¹Œì§€ëŠ” ê³„ì† ëŒ€ê¸°í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ, ì´ ì˜ˆì œì—ì„œëŠ” time.Sleep()ì´ë‚˜ fmt.Scanf() ê°™ì´ ê³ ë£¨í‹´ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ì½”ë“œë¥¼ ì ì§€ ì•ŠëŠ”ë‹¤.\nGo ì±„ë„ì˜ ìˆ˜ì‹ ìì™€ ì†¡ì‹ ìê°€ ì„œë¡œë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì†ì„±ì„ ì´ìš©í•˜ì—¬ Goë£¨í‹´ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main import \u0026#34;fmt\u0026#34; func main() { done := make(chan bool) go func() { for i := 0; i \u0026lt; 10; i++ { fmt.Println(i) } done \u0026lt;- true }() // ìœ„ì˜ Goë£¨í‹´ì´ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸° \u0026lt;-done } ìµëª…í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ê³ ë£¨í‹´ì—ì„œ ì–´ë–¤ ì‘ì—…ì´ ì‹¤í–‰ë˜ê³  ìˆì„ ë•Œ, ë©”ì¸ ë£¨í‹´ì€ â†doneì—ì„œ ê³„ì† ìˆ˜ì‹ í•˜ë©° ëŒ€ê¸°í•˜ê³  ìˆê²Œ ëœë‹¤.\nìµëª…í•¨ìˆ˜ ê³ ë£¨í‹´ì—ì„œ ì‘ì—…ì´ ëë‚œ í›„, doneì±„ë„ì— trueë¥¼ ë³´ë‚´ë©´, ìˆ˜ì‹ ì ë©”ì¸ë£¨í‹´ì€ ì´ë¥¼ ë°›ê³  í”„ë¡œê·¸ë¨ì„ ëë‚´ê²Œ ëœë‹¤.\nGo ì±„ë„ ë²„í¼ë§ Go ì±„ë„ì€ Unbufferd Channelê³¼ Buffered Channel 2ê°€ì§€ í˜•íƒœê°€ ìˆë‹¤.\nUnbufferd Channel ìœ„ ì˜ˆì œì—ì„œ Go ì±„ë„ì€ Unbuffered Channelë¡œì„œ ì´ ì±„ë„ì—ì„œëŠ” í•˜ë‚˜ì˜ ìˆ˜ì‹ ìê°€ ë°ì´í„°ë¥¼ ë°›ì„ ë•Œê¹Œì§€ ì†¡ì‹ ìê°€ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ì±„ë„ì— ë¬¶ì—¬ìˆê²Œ ëœë‹¤. (ê²°ê³¼ë¥¼ ë°˜í™˜í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤. blocking?)\nBufferd Channel Bufferd Channelì„ ì‚¬ìš©í•˜ë©´ ìˆ˜ì‹ ìê°€ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì–´ ìˆì§€ ì•Šì•„ë„ ì§€ì •ëœ ë²„í¼ë§Œí¼ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ê³„ì† ë‹¤ë¥¸ ì¼ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.(unblocking?) ë²„í¼ í¬ê¸°ê¹Œì§€ ì…ë ¥ ì‘ì—…ì´ ë¸”ë½ë˜ì§€ ì•ŠëŠ”ë‹¤.\në²„í¼ ì±„ë„ì€ make(chan type, N) í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±ë˜ëŠ”ë°, ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„° Nì— ì‚¬ìš©í•  ë²„í¼ ê°¯ìˆ˜ë¥¼ ë„£ëŠ”ë‹¤.\nì˜ˆë¥¼ë“¤ì–´ make(chan int, 10)ì€ 10ê°œì˜ ì •ìˆ˜í˜•ì„ ê°–ëŠ” ë²„í¼ ì±„ë„ì„ ë§Œë“ ë‹¤.\n1 2 3 4 5 6 7 8 9 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) c \u0026lt;- 1 //ìˆ˜ì‹ ë£¨í‹´ì´ ì—†ìœ¼ë¯€ë¡œ ë°ë“œë½ fmt.Println(\u0026lt;-c) //ì½”ë©˜íŠ¸í•´ë„ ë°ë“œë½ (ë³„ë„ì˜ Goë£¨í‹´ì—†ê¸° ë•Œë¬¸) } ë²„í¼ ì±„ë„ì„ ì´ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ìœ„ ì½”ë“œëŠ” ë°ë“œë½ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤. ë©”ì¸ë£¨í‹´ì—ì„œ ì±„ë„ì— 1ì„ ë³´ë‚´ë©´ì„œ ìƒëŒ€í¸ ìˆ˜ì‹ ìë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ”ë°, ì´ ì±„ë„ì„ ë°›ëŠ” ìˆ˜ì‹ ì ê³ ë£¨í‹´ì´ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 package main import \u0026#34;fmt\u0026#34; func main() { ch := make(chan int, 1) //ìˆ˜ì‹ ìê°€ ì—†ë”ë¼ë„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ch \u0026lt;- 101 fmt.Println(\u0026lt;-ch) } ìœ„ì²˜ëŸ¼ ë²„í¼ì±„ë„ì„ ì‚¬ìš©í•˜ë©´, ìˆ˜ì‹ ìê°€ ë‹¹ì¥ ì—†ë”ë¼ë„ ìµœëŒ€ë²„í¼ ìˆ˜ê¹Œì§€ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤\në²„í¼ì— ì ì¬ëœ ë°ì´í„°ë¥¼ ì–¸ì  ê°€ ê°€ì ¸ê°ˆ ê²ƒì´ë¼ íŒë‹¨í•˜ê³  ìµœëŒ€ ë²„í¼ìˆ˜ë¥¼ ë„˜ì§€ ì•Šì„ë•Œê¹Œì§€ ë³´ë‚´ë„ ë°ë“œë½ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.\nUnbufferd Channel ì˜ˆì œì½”ë“œ ì˜¤ë¥˜ ë¶„ì„ 1 2 3 4 5 6 7 8 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) c \u0026lt;- 1 } unbuffered channelì—ì„œ ë°œìƒí•˜ëŠ” ì¼ë°˜ì ì¸ ë°ë“œë½ì˜ ì˜ë¯¸ì¸ 2ê°œ ì´ìƒì˜ ì‘ì—… ì„œë¡œì˜ ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ëŒ€ê¸°í•˜ëŠ” êµì°© ìƒíƒœì™€ëŠ” ì•½ê°„ ë‹¤ë¥´ë‹¤ê³  ë³¼ ìˆ˜ë„ ìˆë‹¤.\nì™œëƒí•˜ë©´Â senderì™€Â receiverì¤‘ ëˆ„êµ°ê°€ê°€ ë¨¼ì € ì‘ì—…ì„ ëë‚´ì•¼ì§€ ê·¸ ë‹¤ìŒìœ¼ë¡œ ëˆ„êµ°ê°€ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼Â ì„œë¡œ ë™ì‹œì— í˜‘ë ¥í•´ì•¼ë§Œ unbuffered channelì— ëŒ€í•œ ëŒ€ê¸°ë¥¼ ëë‚¼ ìˆ˜ ìˆëŠ”ë° ì´ ê²½ìš°ëŠ” ë™ì‹œì— í˜‘ë ¥í•´ì¤„ ê·¸ ëˆ„êµ°ê°€(receiver)ê°€ ì—†ì–´ ë¬´í•œì • ê¸°ë‹¤ë¦¬ê²Œë˜ëŠ” ìƒí™©ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) c \u0026lt;- 1 \u0026lt;- c } ê·¸ë ‡ë‹¤ê³ í•´ì„œ ìœ„ì™€ ê°™ì´ ìê¸° í˜¼ì sendì™€ receiveë¥¼ í•˜ë ¤ í•´ë„ Unbuffered channelì€ senderì™€ receiverê°€ ëª¨ë‘ readyì—¬ì•¼ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¶ˆê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) go func() { \u0026lt;- c }() c \u0026lt;- 1 } 1 2 3 4 5 6 7 8 9 10 11 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) go func() { c \u0026lt;- 1 }() \u0026lt;- c } ë”°ë¼ì„œÂ ë‹¤ë¥¸ goroutineì—ì„œ Aì— ëŒ€í•œ receiver or sender ì—­í• ì„ í•´ì£¼ë©´ ëœë‹¤.\nì±„ë„ íŒŒë¼ë¯¸í„° ì±„ë„ì„ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•  ë•Œ, ì¼ë°˜ì ìœ¼ë¡œ ì†¡ìˆ˜ì‹ ì„ ëª¨ë‘ í•˜ëŠ” ì±„ë„ì„ ì „ë‹¬í•˜ì§€ë§Œ, íŠ¹ë³„íˆ í•´ë‹¹ ì±„ë„ë¡œ ì†¡ì‹ ë§Œ í•  ê²ƒì¸ì§€ í˜¹ì€ ìˆ˜ì‹ ë§Œ í•  ê²ƒ ì¸ì§€ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\nì†¡ì‹  íŒŒë¼ë¯¸í„°: chan\u0026lt;- ìˆ˜ì‹  íŒŒë¼ë¯¸í„°: \u0026lt;-chan íŒŒë¼ë¯¸í„°ì— ë‹¤ë¥¸ ì†¡ìˆ˜ì‹ ì„ ë°”ê¿” ë„£ê²Œ ë˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package main import \u0026#34;fmt\u0026#34; func main() { ch := make(chan string, 1) sendChan(ch) receiveChan(ch) } func sendChan(ch chan\u0026lt;- string) { ch \u0026lt;- \u0026#34;Data\u0026#34; // x := \u0026lt;-ch // ì—ëŸ¬ë°œìƒ } func receiveChan(ch \u0026lt;-chan string) { data := \u0026lt;-ch fmt.Println(data) } ì±„ë„ ë‹«ê¸° ì±„ë„ì„ ì—´ì–´ ë°ì´í„°ë¥¼ ë³´ë‚¸ í›„, close()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì±„ë„ì„ ë‹«ì„ ìˆ˜ ìˆë‹¤. (ì†¡ì‹ ìë§Œ ê°€ëŠ¥) ì±„ë„ì„ ë‹«ê²Œë˜ë©´, í•´ë‹¹ ì±„ë„ë¡œëŠ” ë”ì´ìƒ ì†¡ì‹ í•  ìˆ˜ ì—†ì§€ë§Œ, ê³„ì† ìˆ˜ì‹ ì€ ê°€ëŠ¥í•˜ë‹¤.\nì±„ë„ ìˆ˜ì‹ ì— ì‚¬ìš©ë˜ëŠ” \u0026lt;- ch ì€ ì±„ë„ ë©”ì‹œì§€, ì •ìƒ ìˆ˜ì‹  ì—¬ë¶€ 2ê°œì˜ ë°˜í™˜ê°’ì„ ê°–ëŠ”ë‹¤. ì±„ë„ì´ ë‹«í˜”ì„ ê²½ìš° ë‘ë²ˆì§¸ ë¦¬í„´ê°’ì€ falseì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main func main() { ch := make(chan int, 2) // ì±„ë„ì— ì†¡ì‹  ch \u0026lt;- 1 ch \u0026lt;- 2 // ì±„ë„ì„ ë‹«ëŠ”ë‹¤ close(ch) // ì±„ë„ ìˆ˜ì‹  println(\u0026lt;-ch) println(\u0026lt;-ch) if _, success := \u0026lt;-ch; !success { println(\u0026#34;ë”ì´ìƒ ë°ì´íƒ€ ì—†ìŒ.\u0026#34;) } } ì±„ë„ range ë¬¸ ì±„ë„ì—ì„œ ì†¡ì‹ ìê°€ ì†¡ì‹ ì„ í•œ í›„, ì±„ë„ì„ ë‹«ì„ ìˆ˜ ìˆë‹¤. ìˆ˜ì‹ ìëŠ” ì„ì˜ì˜ ê°¯ìˆ˜ì˜ ë°ì´í„°ë¥¼ ì±„ë„ì´ ë‹«í ë•Œê¹Œì§€ ìˆ˜ì‹ í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 package main func main() { ch := make(chan int, 2) // ì±„ë„ì— ì†¡ì‹  ch \u0026lt;- 1 ch \u0026lt;- 2 // ì±„ë„ì„ ë‹«ëŠ”ë‹¤ close(ch) // ë°©ë²•1 // ì±„ë„ì´ ë‹«íŒ ê²ƒì„ ê°ì§€í•  ë•Œê¹Œì§€ ê³„ì† ìˆ˜ì‹ (ë¬´í•œ for ë£¨í”„) for { if i, success := \u0026lt;-ch; success { println(i) } else { break } } // ë°©ë²•2 // ìœ„ í‘œí˜„ê³¼ ë™ì¼í•œ ì±„ë„ range ë¬¸ (ë°©ë²• 1ì˜ ê°„ê²°í•œ í‘œí˜„ ì„¸ë¶€ ë™ì‘ì€ ê°™ìŒ) for i := range ch { println(i) } } ì±„ë„ rangeë¬¸ì€ range í‚¤ì›Œë“œ ë‹¤ìŒì— ëª…ì‹œí•œ ì±„ë„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê³„ì† ìˆ˜ì‹ í•˜ë‹¤ê°€ ì±„ë„ì´ ë‹«íŒ ê²ƒì„ ê°ì§€í•˜ë©´ for ë£¨í”„ë¥¼ ì¢…ë£Œí•œë‹¤.\nì±„ë„ select ë¬¸ selectë¬¸ì€ ë³µìˆ˜ ì±„ë„ë“¤ì„ ê¸°ë‹¤ë¦¬ë©´ì„œ ì¤€ë¹„ëœ ì±„ë„ì„ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\nselectë¬¸ì€ ì—¬ëŸ¬ê°œì˜ caseë¬¸ì—ì„œ ê°ê° ë‹¤ë¥¸ ì±„ë„ì„ ê¸°ë‹¤ë¦¬ë‹¤ê°€ ì¤€ë¹„ê°€ ëœ ì±„ë„ caseë¥¼ ì‹¤í–‰í•œë‹¤. selectë¬¸ì€ case ì±„ë„ë“¤ì´ ì¤€ë¹„ë˜ì§€ ì•Šìœ¼ë©´ ê³„ì† ëŒ€ê¸°í•˜ê²Œ ë˜ê³ , ê°€ì¥ ë¨¼ì € ë„ì°©í•œ ì±„ë„ì˜ caseë¥¼ ì‹¤í–‰í•œë‹¤. ë§Œì•½ ë³µìˆ˜ ì±„ë„ì— ì‹ í˜¸ê°€ ì˜¤ë©´, Go ëŸ°íƒ€ì„ì´ ëœë¤í•˜ê²Œ ê·¸ì¤‘ í•œ ê°œë¥¼ ì„ íƒí•˜ê²Œ ëœë‹¤. selectë¬¸ì— defaultë¬¸ì´ ìˆìœ¼ë©´, caseë¬¸ ì±„ë„ì´ ì¤€ë¹„ë˜ì§€ ì•Šë”ë¼ë„ ê³„ì† ëŒ€ê¸°í•˜ì§€ ì•Šê³  ë°”ë¡œ defaultë¬¸ì„ ì‹¤í–‰í•œë‹¤.\n","date":"2023-04-20T13:38:40+09:00","image":"https://codemario318.github.io/post/golang/13/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/13/","title":"Golang: 13. Go ì±„ë„"},{"content":"Goë£¨í‹´(goroutine)ì€ Go ëŸ°íƒ€ì„ì´ ê´€ë¦¬í•˜ëŠ” Lightweight ë…¼ë¦¬ì  (í˜¹ì€ ê°€ìƒ) ì“°ë ˆë“œì´ë‹¤. Goì—ì„œ go í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´, ëŸ°íƒ€ì„ì‹œ ìƒˆë¡œìš´ goroutineì„ ì‹¤í–‰í•œë‹¤.\nê³ ë£¨í‹´ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ í•¨ìˆ˜ë£¨í‹´ì„ ì‹¤í–‰í•˜ë¯€ë¡œ, ì—¬ëŸ¬ ì½”ë“œë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.\nê³ ë£¨í‹´ì€ OS ì“°ë ˆë“œë³´ë‹¤ í›¨ì”¬ ê°€ë³ê²Œ ë¹„ë™ê¸° Concurrent(ë™ì‹œì„±) ì²˜ë¦¬ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•˜ì—¬ ë§Œë“ ê²ƒìœ¼ë¡œ, ê¸°ë³¸ì ìœ¼ë¡œ Go ëŸ°íƒ€ì„ì´ ìì²´ ê´€ë¦¬í•œë‹¤.\nGo ëŸ°íƒ€ì„ ìƒì—ì„œ ê´€ë¦¬ë˜ëŠ” ì‘ì—…ë‹¨ìœ„ì¸ ì—¬ëŸ¬ ê³ ë£¨í‹´ë“¤ì„ í•˜ë‚˜ì˜ OS ì“°ë ˆë“œ 1ê°œë¡œë„ ì‹¤í–‰ë˜ê³¤ í•œë‹¤. ê³ ë£¨í‹´ë“¤ì€ OS ì“°ë ˆë“œì™€ 1ëŒ€1ë¡œ ëŒ€ì‘ë˜ì§€ ì•Šê³ , Multiplexing(ë‹¤ì¤‘í™”)ìœ¼ë¡œ í›¨ì”¬ ì ì€ OS ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•œë‹¤. ë©”ëª¨ë¦¬ ì¸¡ë©´ì—ì„œë„ OSì“°ë ˆë“œê°€ 1MB ìŠ¤íƒì„ ê°–ëŠ” ë°˜ë©´, ê³ ë£¨í‹´ì€ ì´ë³´ë‹¤ í›¨ì”¬ ì‘ì€ ëª‡ KB ìŠ¤íƒì„ ê°–ëŠ”ë‹¤(í•„ìš”ì‹œ ë™ì ìœ¼ë¡œ ì¦ê°€í•¨). Go ëŸ°íƒ€ì„ì€ Goë£¨í‹´ì„ ê´€ë¦¬í•˜ë©´ì„œ Go ì±„ë„ì„ í†µí•´ Go ë£¨í‹´ê°„ì˜ í†µì‹ ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func say(s string) { for i := 0; i \u0026lt; 10; i++ { fmt.Println(s, \u0026#34;***\u0026#34;, i) } } func main() { // í•¨ìˆ˜ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ say(\u0026#34;Sync\u0026#34;) // í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ go say(\u0026#34;Async1\u0026#34;) go say(\u0026#34;Async2\u0026#34;) go say(\u0026#34;Async3\u0026#34;) // 3ì´ˆ ëŒ€ê¸° time.Sleep(time.Second * 3) } main í•¨ìˆ˜ë¥¼ ë³´ë©´, ë¨¼ì € say() í•¨ìˆ˜ë¥¼ ë™ê¸°ì ìœ¼ë¡œ í˜¸ì¶œí•˜ê³ , ë‹¤ìŒìœ¼ë¡œ ë™ì¼í•œ say() í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ 3ë²ˆ í˜¸ì¶œí•˜ê³  ìˆë‹¤. ì²«ë²ˆì§¸ ë™ê¸°ì  í˜¸ì¶œì€ say() í•¨ìˆ˜ê°€ ì™„ì „íˆ ëë‚¬ì„ ë•Œ ë‹¤ìŒ ë¬¸ì¥ìœ¼ë¡œ ì´ë™í•˜ê³ , ë‹¤ìŒ 3ê°œì˜ go say() ë¹„ë™ê¸° í˜¸ì¶œì€ ë³„ë„ ê³ ë£¨í‹´ë“¤ì—ì„œ ë™ì‘í•˜ë©´ì„œ, ë©”ì¸ë£¨í‹´ì€ ê³„ì† ë‹¤ìŒ ë¬¸ì¥ì„ ì‹¤í–‰í•œë‹¤. ê³ ë£¨í‹´ë“¤ì€ ë¹„ë™ê¸°ì´ë¯€ë¡œ ì²˜ë¦¬ ìˆœì„œê°€ ì¼ì •í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í”„ë¡œê·¸ë¨ ì‹¤í–‰ì‹œ ë§ˆë‹¤ ë‹¤ë¥¸ ì¶œë ¥ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 Sync *** 0 Sync *** 1 Sync *** 2 Sync *** 3 Sync *** 4 Sync *** 5 Sync *** 6 Sync *** 7 Sync *** 8 Sync *** 9 Async3 *** 0 Async3 *** 1 Async3 *** 2 Async3 *** 3 Async3 *** 4 Async3 *** 5 Async3 *** 6 Async3 *** 7 Async3 *** 8 Async3 *** 9 Async2 *** 0 Async2 *** 1 Async2 *** 2 Async2 *** 3 Async2 *** 4 Async1 *** 0 Async1 *** 1 Async1 *** 2 Async1 *** 3 Async1 *** 4 Async1 *** 5 Async1 *** 6 Async1 *** 7 Async1 *** 8 Async1 *** 9 Async2 *** 5 Async2 *** 6 Async2 *** 7 Async2 *** 8 Async2 *** 9 ìµëª…í•¨ìˆ˜ Goë£¨í‹´ ê³ ë£¨í‹´ì€ ìµëª…í•¨ìˆ˜ì— ëŒ€í•´ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. ì¦‰, go í‚¤ì›Œë“œ ë’¤ì— ìµëª…í•¨ìˆ˜ë¥¼ ë°”ë¡œ ì •ì˜í•˜ëŠ” ê²ƒìœ¼ë¡œ, ìµëª…í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; ) func main() { // WaitGroup ìƒì„±. 2ê°œì˜ Goë£¨í‹´ì„ ê¸°ë‹¤ë¦¼. var wait sync.WaitGroup wait.Add(2) // ìµëª…í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ goroutine go func() { defer wait.Done() //ëë‚˜ë©´ .Done() í˜¸ì¶œ fmt.Println(\u0026#34;Hello\u0026#34;) }() // ìµëª…í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„° ì „ë‹¬ go func(msg string) { defer wait.Done() //ëë‚˜ë©´ .Done() í˜¸ì¶œ fmt.Println(msg) }(\u0026#34;Hi\u0026#34;) wait.Wait() //Goë£¨í‹´ ëª¨ë‘ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸° } ì²«ë²ˆì§¸ ìµëª…í•¨ìˆ˜ëŠ” ê°„ë‹¨íˆ Helloë¥¼ ì¶œë ¥í•˜ëŠ”ë°, ì´ë¥¼ ê³ ë£¨í‹´ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê·¸ ìµëª…í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤. ë‘ë²ˆì§¸ ìµëª…í•¨ìˆ˜ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ì˜ˆì œë¡œ ìµëª…í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„°ê°€ ìˆëŠ” ê²½ìš°, go ìµëª…í•¨ìˆ˜ ë°”ë¡œ ë’¤ì— íŒŒë¼ë¯¸í„°ë¥¼ í•¨ê»˜ ì „ë‹¬í•˜ê²Œ ëœë‹¤.\nì—¬ê¸°ì„œ sync.WaitGroupì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, ì´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì—¬ëŸ¬ ê³ ë£¨í‹´ë“¤ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ì—­í• ì„ í•œë‹¤. WaitGroupì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € Add() ë©”ì†Œë“œì— ëª‡ ê°œì˜ Goë£¨í‹´ì„ ê¸°ë‹¤ë¦´ ê²ƒì¸ì§€ ì§€ì •í•˜ê³ , ê° ê³ ë£¨í‹´ì—ì„œ Done() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.(ì—¬ê¸°ì„œëŠ” defer ì‚¬ìš©)\nê·¸ë¦¬ê³  ë©”ì¸ë£¨í‹´ì—ì„œëŠ” Wait() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬, Goë£¨í‹´ë“¤ì´ ëª¨ë‘ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤.\në‹¤ì¤‘ CPU ì²˜ë¦¬ goëŠ” ë””í´íŠ¸ë¡œ CPU 1ê°œë¥¼ ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ ê°œ ê³ ë£¨í‹´ì„ ë§Œë“¤ë”ë¼ë„, CPU 1ê°œì—ì„œ ì‘ì—…ì„ ì‹œë¶„í• í•˜ì—¬ ì²˜ë¦¬í•œë‹¤. ë§Œì•½ ë¨¸ì‹ ì´ CPU ì—¬ëŸ¬ê°œë¥¼ ê°€ì§„ ê²½ìš°, Go í”„ë¡œê·¸ë¨ì„ ë‹¤ì¤‘ CPUì—ì„œ ë³‘ë ¬ì²˜ë¦¬(Perallel)í•˜ê²Œ í•  ìˆ˜ ìˆëŠ”ë°, ë³‘ë ¬ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ runtime.GOMAXPROCS(CPUìˆ˜) í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ì•¼ í•œë‹¤.\nCPU ìˆ˜ëŠ” Logical CPU ìˆ˜ë¥¼ ê°€ë¦¬í‚¨ë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 package main import ( \u0026#34;runtime\u0026#34; ) func main() { // 4ê°œì˜ CPU ì‚¬ìš© runtime.GOMAXPROCS(4) //... } ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì€ ë¹„ìŠ·í•˜ê²Œ ë“¤ë¦¬ì§€ë§Œ ì „í˜€ ë‹¤ë¥¸ ê°œë…ì´ë‹¤.\n","date":"2023-04-20T13:28:40+09:00","image":"https://codemario318.github.io/post/golang/12/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/12/","title":"Golang: 12. Go ë£¨í‹´"},{"content":"ì§€ì—°ì‹¤í–‰ defer Go ì–¸ì–´ì˜ defer í‚¤ì›Œë“œëŠ” íŠ¹ì • ë¬¸ì¥ í˜¹ì€ í•¨ìˆ˜ë¥¼ ë‚˜ì¤‘ì— (deferë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ì§ì „ì—) ì‹¤í–‰ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ deferëŠ” C#, Java ê°™ì€ ì–¸ì–´ì—ì„œ finally ë¸”ëŸ­ì²˜ëŸ¼ ë§ˆì§€ë§‰ì— Clena-up ì‘ì—…ì„ ìœ„í•´ ì‚¬ìš©ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import \u0026#34;os\u0026#34; func main() { f, err := os.Open(\u0026#34;1.txt\u0026#34;) if err != nil { panic(err) } // main ë§ˆì§€ë§‰ì— íŒŒì¼ close ì‹¤í–‰ defer f.Close() // íŒŒì¼ ì½ê¸° bytes := make([]byte, 1024) f.Read(bytes) println(len(bytes)) } íŒŒì¼ì„ Open í•œ í›„ ë°”ë¡œ íŒŒì¼ì„ Closeí•˜ëŠ” ì‘ì—…ì„ deferë¡œ ì“°ê³  ìˆë‹¤. ì´ëŠ” ì°¨í›„ ë¬¸ì¥ì—ì„œ ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí•˜ë”ë¼ë„ í•­ìƒ íŒŒì¼ì„ Closeí•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. panic í•¨ìˆ˜ Go ë‚´ì¥í•¨ìˆ˜ì¸ panic()í•¨ìˆ˜ëŠ” í˜„ì¬ í•¨ìˆ˜ë¥¼ ì¦‰ì‹œ ë©ˆì¶”ê³  í˜„ì¬ í•¨ìˆ˜ì— defer í•¨ìˆ˜ë“¤ì„ ëª¨ë‘ ì‹¤í–‰í•œ í›„ ì¦‰ì‹œ ë¦¬í„´í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package main import \u0026#34;os\u0026#34; func main() { // ì˜ëª»ëœ íŒŒì¼ëª…ì„ ë„£ìŒ openFile(\u0026#34;Invalid.txt\u0026#34;) // openFile() ì•ˆì—ì„œ panicì´ ì‹¤í–‰ë˜ë©´ // ì•„ë˜ println ë¬¸ì¥ì€ ì‹¤í–‰ ì•ˆë¨ println(\u0026#34;Done\u0026#34;) } func openFile(fn string) { f, err := os.Open(fn) if err != nil { panic(err) } defer f.Close() } ì´ëŸ¬í•œ panic ëª¨ë“œ ì‹¤í–‰ ë°©ì‹ì€ ë‹¤ì‹œ ìƒìœ„í•¨ìˆ˜ì—ë„ ë˜‘ê°™ì´ ì ìš©ë˜ê³ , ê³„ì† ì½œìŠ¤íƒì„ íƒ€ê³  ì˜¬ë¼ê°€ë©° ì ìš©ëœë‹¤. ë§ˆì§€ë§‰ì—ëŠ” í”„ë¡œê·¸ë¨ì´ ì—ëŸ¬ë¥¼ ë‚´ê³  ì¢…ë£Œí•˜ê²Œ ëœë‹¤. recover í•¨ìˆ˜ Go ë‚´ì¥í•©ìˆ˜ì¸ recover() í•¨ìˆ˜ëŠ” panic í•¨ìˆ˜ì— ì˜í•œ íŒ¨ë‹‰ìƒíƒœë¥¼ ë‹¤ì‹œ ì •ìƒìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” í•¨ìˆ˜ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { // ì˜ëª»ëœ íŒŒì¼ëª…ì„ ë„£ìŒ openFile(\u0026#34;Invalid.txt\u0026#34;) // recoverì— ì˜í•´ // ì´ ë¬¸ì¥ ì‹¤í–‰ë¨ println(\u0026#34;Done\u0026#34;) } func openFile(fn string) { // defer í•¨ìˆ˜. panic í˜¸ì¶œì‹œ ì‹¤í–‰ë¨ defer func() { if r := recover(); r != nil { fmt.Println(\u0026#34;OPEN ERROR\u0026#34;, r) } }() f, err := os.Open(fn) if err != nil { panic(err) } defer f.Close() } recover í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ panic ìƒíƒœë¥¼ ì œê±°í•˜ê³  openFile() ë‹¤ìŒ ë¬¸ì¥ì¸ println()ì„ í˜¸ì¶œí•˜ê²Œ ëœë‹¤. ","date":"2023-04-20T13:26:40+09:00","image":"https://codemario318.github.io/post/golang/11/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/11/","title":"Golang: 11. deferì™€ panic"},{"content":"GoëŠ” ë‚´ì¥ íƒ€ì…ìœ¼ë¡œ error ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ì„ ê°–ëŠ”ë‹¤. Go ì—ëŸ¬ëŠ” ì´ error ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ì„œ ì£¼ê³  ë°›ê²Œ ë˜ëŠ”ë°, ë©”ì„œë“œ í•˜ë‚˜ë¥¼ ê°–ëŠ”ë‹¤.\n1 2 3 type error interface { Error() string } ê°œë°œìëŠ” error ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì»¤ìŠ¤í…€ ì—ëŸ¬ íƒ€ì…ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nGo ì—ëŸ¬ì²˜ë¦¬ Go í•¨ìˆ˜ê°€ ê²°ê³¼ì™€ ì—ëŸ¬ë¥¼ í•¨ê»˜ ë°˜í™˜í•œë‹¤ë©´, ì´ ì—ëŸ¬ê°€ nil ì¸ì§€ ì²´í¬í•˜ì—¬ ì—ëŸ¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì˜ˆë¥¼ë“¤ì–´ os.Open() í•¨ìˆ˜ëŠ” func Open(name string) (file *File, err error) ê³¼ ê°™ì€ í•¨ìˆ˜ ì›í˜•ì„ ê°–ëŠ”ë°, File í¬ì¸í„°ì™€ error ì¸í„°í˜ì´ìŠ¤ë¥¼ í•¨ê»˜ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main import ( \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; ) func main() { f, err := os.Open(\u0026#34;C:\\\\temp\\\\1.txt\u0026#34;) if err != nil { log.Fatal(err.Error()) } println(f.Name()) } ê·¸ë˜ì„œ ë°˜í™˜ëœ ë‘ë²ˆì§¸ errorì„ ì²´í¬í•˜ì—¬ nil ì´ë©´ ì—ëŸ¬ê°€ ì—†ëŠ” ê²ƒì´ê³ , ì•„ë‹ˆë¼ë©´ err.Error()ë¡œ ë¶€í„° í•´ë‹¹ ì—ëŸ¬ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.\nlog.Fatal()ì€ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  os.Exit(1)ì„ í˜¸ì¶œí•˜ì—¬ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤. error Typeì„ ì´ìš©í•œ ì—ëŸ¬ì²˜ë¦¬ ë˜ ë‹¤ë¥¸ ì—ëŸ¬ì²˜ë¦¬ë¡œ errorì˜ Typeì„ ì²´í¬í•˜ì—¬ ì—ëŸ¬ íƒ€ì…ë³„ë¡œ ë³„ë„ì˜ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ë°©ì‹ì´ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 _, err := otherFunc() switch err.(type) { default: // no error println(\u0026#34;ok\u0026#34;) case MyError: log.Print(\u0026#34;Log my error\u0026#34;) case error: log.Fatal(err.Error()) } ì˜ˆì œì—ì„œ otherFunc()ë¥¼ í˜¸ì¶œí•œ í›„ ë°˜í™˜ëœ errorì˜ íƒ€ì…ì„ í†µí•´ ì—¬ëŸ¬ ìœ í˜•ì˜ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\nëª¨ë“  ì—ëŸ¬ëŠ” error ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë¯€ë¡œ ë§ˆì§€ë§‰ caseë¬¸ì€ ëª¨ë“  ì—ëŸ¬ì— ì ìš©ëœë‹¤. ","date":"2023-04-20T13:25:40+09:00","image":"https://codemario318.github.io/post/golang/10/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/10/","title":"Golang: 10. ì—ëŸ¬"},{"content":"êµ¬ì¡°ì²´ê°€ í•„ë“œë“¤ì˜ ì§‘í•©ì²´ë¼ë©´, interfaceëŠ” ë©”ì„œë“œë“¤ì˜ ì§‘í•©ì²´ì´ë‹¤.\nì¸í„°í˜ì´ìŠ¤ëŠ” íƒ€ì…(type)ì´ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì„œë“œ ì›í˜•(prototype)ë“¤ì„ ì •ì˜í•œë‹¤. ì–´ë– í•œ ì‚¬ìš©ì ì •ì˜ íƒ€ì…ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ ì„ ì–¸í•œ ì¸í„°í˜ì´ìŠ¤ê°€ ê°–ëŠ” ëª¨ë“  ë©”ì„œë“œë“¤ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.\n1 2 3 4 type Shape interface { area() float64 perimeter() float64 } ì¸í„°í˜ì´ìŠ¤ëŠ” êµ¬ì¡°ì²´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ typeë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•œë‹¤.\nì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 //Rect ì •ì˜ type Rect struct { width, height float64 } //Circle ì •ì˜ type Circle struct { radius float64 } //Rect íƒ€ì…ì— ëŒ€í•œ Shape ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ func (r Rect) area() float64 { return r.width * r.height } func (r Rect) perimeter() float64 { return 2 * (r.width + r.height) } //Circle íƒ€ì…ì— ëŒ€í•œ Shape ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ func (c Circle) area() float64 { return math.Pi * c.radius * c.radius } func (c Circle) perimeter() float64 { return 2 * math.Pi * c.radius } Shape ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” area(), perimeter() 2ê°œ ë©”ì„œë“œë§Œ êµ¬í˜„í•˜ë©´ ëœë‹¤.\nì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¼ë°˜ì ì¸ ì˜ˆë¡œ í•¨ìˆ˜ê°€ íŒŒë¼ë¯¸í„°ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.\ní•¨ìˆ˜ íŒŒë¼ë¯¸í„°ê°€ ì¸í„°í˜ì´ìŠ¤ì¸ ê²½ìš°, ì–´ë–¤ íƒ€ì…ì´ë“  í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸°ë§Œ í•˜ë©´ ëª¨ë‘ ì…ë ¥ íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 func main() { r := Rect{10., 20.} c := Circle{10} showArea(r, c) } func showArea(shapes ...Shape) { for _, s := range shapes { a := s.area() //ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ í˜¸ì¶œ p := s.perimeter() println(a, p) } } Rect êµ¬ì¡°ì²´ì™€ Circle êµ¬ì¡°ì²´ëŠ” Shape ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì„ ì–¸í•œ area, perimeter ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³  ìˆê¸° ë•Œë¬¸ì— Shape ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†í–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ showAreaì—ì„œ Shape ì¸í„°í˜ì´ìŠ¤ íŒŒë¼ë¯¸í„° ì…ë ¥ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\nì¸í„°í˜ì´ìŠ¤ íƒ€ì… Go í”„ë¡œê·¸ë˜ë°ì„ í•˜ë‹¤ë³´ë©´ í”íˆ ë¹ˆ ì¸í„°í˜ì´ìŠ¤(empty interface)ë¥¼ ìì£¼ ì ‘í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ì¸í„°í˜ì´ìŠ¤ íƒ€ì…(interface type)ìœ¼ë¡œ ë¶ˆë¦°ë‹¤.\nì—¬ëŸ¬ í‘œì¤€íŒ¨í‚¤ì§€ë“¤ì˜ í•¨ìˆ˜ Prototypeì„ ì‚´í´ë³´ë©´, ë¹ˆ ì¸í„°í˜ì´ìŠ¤ê°€ ìì£¼ ë“±ì¥í•œë‹¤.\në¹ˆ ì¸í„°í˜ì´ìŠ¤ëŠ” interface{} ë¡œ í‘œí˜„í•œë‹¤. 1 2 3 func Marshal(v interface{}) ([]byte, error); func Println(a ...interface{}) (n int, err error); ë¹ˆ ì¸í„°í˜ì´ìŠ¤ëŠ” ë©”ì„œë“œë¥¼ ì „í˜€ ê°–ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.\nGoì˜ ëª¨ë“  Typeì€ ì ì–´ë„ 0ê°œì˜ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ë¯€ë¡œ, Goì—ì„œ ëª¨ë“  Typeì„ ì˜ë¯¸í•œë‹¤.\nì¦‰, ë¹ˆ ì¸í„°í˜ì´ìŠ¤ëŠ” ì–´ë– í•œ íƒ€ì…ë„ ë‹´ì„ ìˆ˜ ìˆëŠ” ì»¨í…Œì´ë„ˆë¡œ ë³¼ ìˆ˜ ìˆê³ , ì—¬ëŸ¬ ë‹¤ë¥¸ ì–¸ì–´ì—ì„œ í”íˆ ì¼ì»«ëŠ” Dynamin Typeìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (C#, java â‡’ object, C,C++ â‡’ void*)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package main import \u0026#34;fmt\u0026#34; func main() { var x interface{} x = 1 x = \u0026#34;Tom\u0026#34; printIt(x) } func printIt(v interface{}) { fmt.Println(v) //Tom } Type Assertion ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ì˜ xì™€ íƒ€ì… Tì— ëŒ€í•˜ì—¬ x.(T)ë¡œ í‘œí˜„í–ˆì„ ë•Œ, ì´ëŠ” xê°€ nilì´ ì•„ë‹ˆë©°, xëŠ” T íƒ€ì…ì— ì†í•œë‹¤ëŠ” ê²ƒì„ í™•ì¸í•œë‹¤. ì´ëŸ¬í•œ í‘œí˜„ë°©ì‹ì„ Type Assertion ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\në§Œì•½ xê°€ nil ì´ê±°ë‚˜ xì˜ íƒ€ì…ì´ Tê°€ ì•„ë‹ˆë¼ë©´, ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•˜ê³ , xê°€ T íƒ€ì…ì¸ê²½ìš°ëŠ” T íƒ€ì… xë¥¼ ë°˜í™˜í•œë‹¤.\n","date":"2023-04-20T13:08:40+09:00","image":"https://codemario318.github.io/post/golang/9/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/9/","title":"Golang: 9. ì¸í„°í˜ì´ìŠ¤"},{"content":"Go ì–¸ì–´ëŠ” OOPë¥¼ êµ¬ì¡°ì²´ì™€ ë©”ì„œë“œë¥¼ ì´ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§€ì›í•œë‹¤.\në‹¤ë¥¸ ì–¸ì–´ë“¤ì´ í´ë˜ìŠ¤ê°€ ë‚´ë¶€ì— ë°ì´í„°ì™€ ë©”ì„œë“œë¥¼ í•¨ê»˜ ê°–ëŠ” ê²ƒê³¼ ë‹¬ë¦¬ Go ì–¸ì–´ì—ì„œëŠ” êµ¬ì¡°ì²´ê°€ ë°ì´í„°ë§Œì„ ê°€ì§€ê³ , ë©”ì„œë“œëŠ” ë³„ë„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì •ì˜í•œë‹¤.\nGo ë©”ì„œë“œëŠ” íŠ¹ë³„í•œ í˜•íƒœì˜ í•¨ìˆ˜ì´ë‹¤. ë©”ì„œë“œëŠ” í•¨ìˆ˜ ì •ì˜ì—ì„œ func í‚¤ì›Œë“œì™€ í•¨ìˆ˜ëª… ì‚¬ì´ì— â€œê·¸ í•¨ìˆ˜ê°€ ì–´ë–¤ êµ¬ì¡°ì²´ë¥¼ ìœ„í•œ ë©”ì„œë“œì¸ì§€â€ í‘œì‹œí•œë‹¤.\nreceiverë¡œ ë¶€ë¥´ë©° ë©”ì„œë“œê°€ ì†í•œ êµ¬ì¡°ì²´ íƒ€ì…ê³¼ ë³€ìˆ˜ëª…ì„ ì§€ì •í•˜ëŠ”ë°, êµ¬ì¡°ì²´ ë³€ìˆ˜ëª…ì€ í•¨ìˆ˜ ë‚´ì—ì„œ ì…ë ¥ íŒŒë¼ë¯¸í„°ì²˜ëŸ¼ ì‚¬ìš©ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main //Rect - struct ì •ì˜ type Rect struct { width, height int } //Rectì˜ area() ë©”ì†Œë“œ func (r Rect) area() int { return r.width * r.height } func main() { rect := Rect{10, 20} area := rect.area() //ë©”ì„œë“œ í˜¸ì¶œ println(area) } areaëŠ” Rectì˜ ë©”ì†Œë“œë¡œ ì„ ì–¸ ë˜ì–´ ë©”ì„œë“œë¥¼ ì…ë ¥ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n(value VS í¬ì¸í„°) receiver Value receiver value receiverëŠ” êµ¬ì¡°ì²´ì˜ ë°ì´í„°ë¥¼ ë³µì‚¬í•˜ì—¬ ì „ë‹¬í•œë‹¤. value receiverëŠ” ë©”ì„œë“œ ë‚´ì˜ í•„ë“œê°’ ë³€ê²½ë˜ë”ë¼ë„ ì‹¤ì œ ë°ì´í„°ëŠ” ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.\n1 2 3 4 5 6 7 8 9 10 func (r Rect) area2() int { r.width++ return r.width * r.height } func main() { rect := Rect{10, 20} area := rect.area2() //ë©”ì„œë“œ í˜¸ì¶œ println(rect.width, area) // 10 220 ì¶œë ¥ } í¬ì¸í„° ë¦¬ì‹œë²„ í¬ì¸í„° ë¦¬ì‹œë²„ëŠ” êµ¬ì¡°ì²´ì˜ í¬ì¸í„°ë¥¼ ì „ë‹¬í•œë‹¤. ë©”ì„œë“œ ë‚´ì˜ í•„ë“œê°’ ë³€ê²½ì´ ê·¸ëŒ€ë¡œ í˜¸ì¶œìì—ì„œ ë°˜ì˜ëœë‹¤.\n","date":"2023-04-20T12:34:40+09:00","image":"https://codemario318.github.io/post/golang/8/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/8/","title":"Golang: 8. ë©”ì„œë“œ"},{"content":"Go ì–¸ì–´ëŠ” ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì„ ê³ ìœ ì˜ ë°©ì‹ìœ¼ë¡œ ì§€ì›í•œë‹¤.\ní´ë˜ìŠ¤, ê°ì²´, ìƒì† ê°œë…ì´ ì—†ë‹¤. ì „í†µì ì¸ OOPì˜ í´ë˜ìŠ¤ëŠ” Go ì–¸ì–´ì—ì„œ Custom Typeì„ ì •ì˜í•˜ëŠ” struct(êµ¬ì¡°ì²´)ë¡œ í‘œí˜„í•œë‹¤.\nStruct Goì—ì„œ structëŠ” Custom Data Typeì„ í‘œí˜„í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤(C ì²˜ëŸ¼)\ní•„ë“œë“¤ì˜ ì§‘í•©ì²´ì´ë©° í•„ë“œë“¤ì˜ ì»¨í…Œì´ë„ˆì´ë‹¤. structëŠ” í•„ë“œ ë°ì´í„°ë§Œì„ ê°€ì§€ë©°(ìë£Œ êµ¬ì¡° ì—­í• ), ë©”ì„œë“œëŠ” í‘œí˜„í•˜ì§€ ì•ŠëŠ”ë‹¤. ë©”ì„œë“œëŠ” ë³„ë„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì •ì˜í•œë‹¤.\nStruct ì„ ì–¸ êµ¬ì¡°ì²´ë¥¼ ì •ì˜í•˜ê¸° ìœ„í•´ì„œ Custom Typeì„ ì •ì˜í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” type ë¬¸ì„ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import \u0026#34;fmt\u0026#34; // struct ì •ì˜ type person struct { name string age int } func main() { // person ê°ì²´ ìƒì„± p := person{} // í•„ë“œê°’ ì„¤ì • p.name = \u0026#34;Lee\u0026#34; p.age = 10 fmt.Println(p) } person êµ¬ì¡°ì²´ë¥¼ íŒ¨í‚¤ì§€ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´ structëª…ì„ Personìœ¼ë¡œ ë³€ê²½í•˜ë©´ ëœë‹¤.\nstruct ê°ì²´ ìƒì„± ì„ ì–¸ëœ struct íƒ€ì…ìœ¼ë¡œë¶€í„° ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ëª‡ ê°€ì§€ ë°©ë²•ë“¤ì´ ìˆë‹¤.\në¹ˆ ê°ì²´ë¥¼ ë¨¼ì € í• ë‹¹í•˜ê³ , ë‚˜ì¤‘ì— ê·¸ í•„ë“œê°’ì„ ì±„ì›Œë„£ëŠ” ë°©ë²•\n1 2 3 4 p := person{} p.name = \u0026#34;Lee\u0026#34; p.age = 10 ì´ˆê¸°ê°’ì„ í•¨ê»˜ í• ë‹¹í•˜ëŠ” ë°©ë²•\n1 2 3 var p1 person p1 = person{\u0026#34;Bob\u0026#34;, 20} p2 := person{name: \u0026#34;Sean\u0026#34;, age: 50} ì´ˆê¸°í™”ê°€ ìƒëµëœ í•„ë“œë“¤ì€ Zero value (ì •ìˆ˜ì¸ ê²½ìš° 0, floatì¸ ê²½ìš° 0.0, stringì¸ ê²½ìš° \u0026ldquo;\u0026rdquo;, í¬ì¸í„°ì¸ ê²½ìš° nil ë“±)ë¥¼ ê°–ëŠ”ë‹¤.\nnew ë‚´ì¥í•¨ìˆ˜ ì‚¬ìš©\n1 2 p := new(person) p.name = \u0026#34;Lee\u0026#34; // pê°€ í¬ì¸í„°ë¼ë„ . ì„ ì‚¬ìš©í•œë‹¤ new()ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  í•„ë“œë¥¼ Zero valueë¡œ ì´ˆê¸°í™”í•˜ê³  person ê°ì²´ì˜ í¬ì¸í„°ë¥¼ ë°˜í™˜í•œë‹¤.\nê°ì²´ í¬ì¸í„°ì¸ ê²½ìš°ì—ë„ í•„ë“œ ì—‘ì„¸ìŠ¤ì‹œ . ì„ ì‚¬ìš©í•˜ëŠ”ë° ì´ ë•Œ í¬ì¸í„°ëŠ” ìë™ìœ¼ë¡œ ì—­ì°¸ì¡°ëœë‹¤. (cì—ì„œ â†’ ê³¼ ë™ì¼í•œ ë™ì‘)\nGoì—ì„œ structëŠ” ê¸°ë³¸ì ìœ¼ë¡œ mutable ê°œì²´ë¡œì„œ í•„ë“œê°’ì´ ë³€í™”í•  ê²½ìš° í•´ë‹¹ ê°œì²´ ë©”ëª¨ë¦¬ì—ì„œ ì§ì ‘ ë³€ê²½ëœë‹¤. í•˜ì§€ë§Œ struct ê°œì²´ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸°ë©´, Pass by Valueì— ë”°ë¼ ê°ì²´ë¥¼ ë³µì‚¬í•´ì„œ ì „ë‹¬í•œë‹¤. ë”°ë¼ì„œ struct ê°œì²´ì˜ ê°’ì„ ë³€ê²½í•˜ë ¤ë©´ í¬ì¸í„°ë¥¼ ì „ë‹¬í•´ì•¼ í•œë‹¤.\nìƒì„±ì í•¨ìˆ˜ êµ¬ì¡°ì²´ í•„ë“œê°€ ì‚¬ìš© ì „ì— ì´ˆê¸°í™”ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ struct í•„ë“œê°€ map íƒ€ì…ì¸ ê²½ìš° êµ¬ì¡°ì²´ í• ë‹¹ í›„ mapì„ ë‹¤ì‹œ í• ë‹¹ë°›ê³  ì´ˆê¸°í™” í•´ì•¼í•œë‹¤.\nì´ëŸ´ ë•Œ mapì„ ì‚¬ì „ì— ë¯¸ë¦¬ ì´ˆê¸°í™” í•˜ë©´, ì™¸ë¶€ì—ì„œ êµ¬ì¡°ì²´ë¥¼ ì‚¬ìš©í•  ë•Œ ë³„ë„ë¡œ ì´ˆê¸°í™”í•˜ëŠ” ë²ˆê±°ë¡œì›€ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main type dict struct { data map[int]string } //ìƒì„±ì í•¨ìˆ˜ ì •ì˜ func newDict() *dict { d := dict{} d.data = map[int]string{} return \u0026amp;d //í¬ì¸í„° ì „ë‹¬ } func main() { dic := newDict() // ìƒì„±ì í˜¸ì¶œ dic.data[1] = \u0026#34;A\u0026#34; } ìƒì„±ì í•¨ìˆ˜ì¸ newDict()ëŠ” dictë¼ëŠ” êµ¬ì¡°ì²´ì˜ map í•„ë“œë¥¼ ì´ˆê¸°í™”í•œ í›„ êµ¬ì¡°ì²´ í¬ì¸í„°ë¥¼ ë°˜í˜¸ë‚˜í•œë‹¤. main í•¨ìˆ˜ì—ì„œ êµ¬ì¡°ì²´ ê°œì²´ë¥¼ ë§Œë“¤ ë•Œ dictë¥¼ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³  ëŒ€ì‹  ìƒì„±ì í•¨ìˆ˜ë¥¼ í†µí•´ ì´ë¯¸ ì´ˆê¸°í™˜ ëœ data ë§µ í•„ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-20T12:30:40+09:00","image":"https://codemario318.github.io/post/golang/7/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/7/","title":"Golang: 7. êµ¬ì¡°ì²´"},{"content":"GoëŠ” íŒ¨í‚¤ì§€ë¥¼ í†µí•´ ëª¨ë“ˆí™”, ì¬ì‚¬ìš© ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì€ ë‹¨ìœ„ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•˜ê³ , ì´ëŸ¬í•œ ì‘ì€ íŒ¨í‚¤ì§€ë“¤ì„ í™œìš©í•´ì„œ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.\nGoëŠ” ì‹¤ì œ í”„ë¡œê·¸ë¨ ê°œë°œì— í•„ìš”í•œ ë§ìŒ íŒ¨í‚¤ì§€ë“¤ì„ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì œê³µí•œë‹¤. ì´ëŸ¬í•œ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒ¨í‚¤ì§€ë“¤ì„ GOROOT/pkg ì•ˆì— ì¡´ì¬í•œë‹¤. GOROOT í™˜ê²½ë³€ìˆ˜ëŠ” Go ì„¤ì¹˜ ë””ë ‰í† ë¦¬ë¥¼ ê°€ë¥´í‚¤ëŠ”ë°, ë³´í†µ Go ì„¤ì¹˜ì‹œ ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤.\nGoì— ì‚¬ìš©í•˜ëŠ” í‘œì¤€ íŒ¨í‚¤ì§€ë“¤ì€ https://golang.org/pkg ì— ìì„¸íˆ ì„¤ëª…ë˜ì–´ ìˆë‹¤.\nMain íŒ¨í‚¤ì§€ ì¼ë°˜ì ìœ¼ë¡œ íŒ¨í‚¤ì§€ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œì„œ ì‚¬ìš©ë˜ì§€ë§Œ, mainì´ë¼ê³  ëª…ëª…ëœ íŒ¨í‚¤ì§€ëŠ” Go Compilerì— ì˜í•´ íŠ¹ë³„í•˜ê²Œ ì¸ì‹ëœë‹¤. íŒ¨í‚¤ì§€ëª…ì´ mainì¸ ê²½ìš°, ì»´íŒŒì¼ëŸ¬ëŠ” í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì•„ë‹Œ ì‹¤í–‰ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë§Œë“ ë‹¤. ê·¸ë¦¬ê³  ì´ main íŒ¨í‚¤ì§€ ì•ˆì˜ main() í•¨ìˆ˜ê°€ í”„ë¡œê·¸ë¨ì˜ ì‹œì‘ì , ì¦‰ Entry Pointê°€ ëœë‹¤. íŒ¨í‚¤ì§€ë¥¼ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë§Œë“¤ ë•Œì—ëŠ”, mainíŒ¨í‚¤ì§€ë‚˜ main í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆëœë‹¤.\níŒ¨í‚¤ì§€ Import ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë¥¼ í”„ë¡œê·¸ë¨ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” import í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ í¬í•¨ì‹œí‚¨ë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ Go í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ fmt íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ import â€œfmtâ€ì™€ ê°™ì´ í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ í¬í•¨ì‹œí‚¬ ê²ƒì„ ì„ ì–¸í•´ ì¤€ë‹¤.\n1 2 3 4 5 6 7 package main import \u0026#34;fmt\u0026#34; func main(){ fmt.Println(\u0026#34;Hello\u0026#34;) } íŒ¨í‚¤ì§€ë¥¼ import í•  ë•Œ, Go ì»´íŒŒì¼ëŸ¬ëŠ” GOROOT í˜¹ì€ GOPATH í™˜ê²½ ë³€ìˆ˜ë¥¼ ê²€ìƒ‰í•˜ëŠ”ë°, í‘œì¤€ íŒ¨í‚¤ì§€ëŠ” GOROOT/pkg ì—ì„œ ì‚¬ìš©ì íŒ¨í‚¤ì§€ë‚˜ 3rd party íŒ¨í‚¤ì§€ì˜ ê²½ìš° GOPATH/pkgì—ì„œ íŒ¨í‚¤ì§€ë¥¼ ì°¾ëŠ”ë‹¤.\nGOROOT í™˜ê²½ë³€ìˆ˜ëŠ” Go ì„¤ì¹˜ì‹œ ìë™ìœ¼ë¡œ ì‹œìŠ¤í…œì— ì„¤ì •ë˜ì§€ë§Œ, GOPATHëŠ” ì‚¬ìš©ìê°€ ì§€ì–´í•´ ì£¼ì–´ì•¼ í•œë‹¤. GOPATH í™˜ê²½ë³€ìˆ˜ëŠ” 3rd party íŒ¨í‚¤ì§€ë¥¼ ê°–ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë””ë ‰í† ë¦¬ë‚˜ ì‚¬ìš©ì íŒ¨í‚¤ì§€ê°€ ìˆëŠ” ì‘ì—… ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•˜ê²Œ ë˜ëŠ”ë°, ë³µìˆ˜ ê°œì¼ ê²½ìš° ì„¸ë¯¸ì½œë¡ ì„ ì‚¬ìš©í•˜ì—¬ ì—°ê²°í•œë‹¤.\níŒ¨í‚¤ì§€ scope íŒ¨í‚¤ì§€ ë‚´ì—ëŠ” í•¨ìˆ˜, êµ¬ì¡°ì²´, ì¸í„°í˜ì´ìŠ¤, ë©”ì„œë“œ ë“±ì´ ì¡´ì¬í•˜ëŠ”ë°, ì´ë¦„ì˜ ì²« ë¬¸ìë¥¼ ëŒ€ë¬¸ìë¡œ ì‹œì‘í•˜ë©´ publicìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŒ¨í‚¤ì§€ ì™¸ë¶€ì—ì„œ ì´ë“¤ì„ í˜¸ì¶œí•˜ê±°ë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\në°˜ë©´ , ì´ë¦„ì´ ì†Œë¬¸ìë¡œ ì‹œì‘í•˜ë©´ ì´ëŠ” non-publicìœ¼ë¡œ íŒ¨í‚¤ì§€ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\níŒ¨í‚¤ì§€ init í•¨ìˆ˜ì™€ alias ê°œë°œìê°€ íŒ¨í‚¤ì§€ë¥¼ ì‘ì„±í•  ë•Œ, íŒ¨í‚¤ì§€ ì‹¤í–‰ì‹œ ì²˜ìŒìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” init() í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. init í•¨ìˆ˜ëŠ” íŒ¨í‚¤ì§€ê°€ ë¡œë“œë˜ë©´ì„œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¡œ ë³„ë„ì˜ í˜¸ì¶œ ì—†ì´ ìë™ìœ¼ë¡œ í˜¸ì¶œëœë‹¤.\n1 2 3 4 5 6 7 package testlib var pop map[string]string func init() { // íŒ¨í‚¤ì§€ ë¡œë“œì‹œ map ì´ˆê¸°í™” pop = make(map[string]string) } íŒ¨í‚¤ì§€ë¥¼ import í•˜ë©´ì„œ ê·¸ íŒ¨í‚¤ì§€ ì•ˆì˜ init() ë§Œ í˜¸ì¶œí•˜ê¸¸ ì›í•œë‹¤ë©´, import ì‹œ _ ë¼ëŠ” aliasë¥¼ ì§€ì •í•œë‹¤.\n1 2 package main import _ \u0026#34;other/xlib\u0026#34; íŒ¨í‚¤ì§€ ì´ë¦„ì´ ë™ì¼í•˜ì§€ë§Œ, ì„œë¡œ ë‹¤ë¥¸ ë²„ì „ í˜¹ì€ ì„œë¡œ ë‹¤ë¥¸ ìœ„ì¹˜ì—ì„œ ë¡œë”©í•˜ê³ ì í•  ë•ŒëŠ” íŒ¨í‚¤ì§€ aliasë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 import ( mongo \u0026#34;other/mongo/db\u0026#34; mysql \u0026#34;other/mysql/db\u0026#34; ) func main() { mondb := mongo.Get() mydb := mysql.Get() //... } ì‚¬ìš©ì ì •ì˜ íŒ¨í‚¤ì§€ ìƒì„± ì‚¬ìš©ì ì •ì˜ íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ì–´ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ì ì •ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒ¨í‚¤ì§€ëŠ” ì¼ë°˜ì ìœ¼ë¡œ í´ë”ë¥¼ í•˜ë‚˜ ë§Œë“¤ê³  ê·¸ í´ë” ì•ˆì— .go íŒŒì¼ë“¤ì„ ë§Œë“¤ì–´ êµ¬ì„±í•œë‹¤.\ní•˜ë‚˜ì˜ ì„œë¸Œ í´ë”ì•ˆë° ìˆëŠ” .go íŒŒì¼ë“¤ì€ ë™ì¼í•œ íŒ¨í‚¤ì§€ëª…ì„ ê°€ì§€ë©°, íŒ¨í‚¤ì§€ëª…ì€ í•´ë‹¹ í´ë”ì˜ ì´ë¦„ê³¼ ê°™ê²Œ í•œë‹¤. í•´ë‹¹ í´ë”ì— ìˆëŠ” ì—¬ëŸ¬ .go íŒŒì¼ë“¤ì€ í•˜ë‚˜ì˜ íŒ¨í‚¤ì§€ë¡œ ë¬¶ì¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package testlib import \u0026#34;fmt\u0026#34; var pop map[string]string func init() { pop = make(map[string]string) pop[\u0026#34;Adele\u0026#34;] = \u0026#34;Hello\u0026#34; pop[\u0026#34;Alicia Keys\u0026#34;] = \u0026#34;Fallin\u0026#39;\u0026#34; pop[\u0026#34;John Legend\u0026#34;] = \u0026#34;All of Me\u0026#34; } // GetMusic : Popular music by singer (ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥) func GetMusic(singer string) string { return pop[singer] } func getKeys() { // ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥ for _, kv := range pop { fmt.Println(kv) } } íŒ¨í‚¤ì§€ëª…ì€ í´ë”ëª…ê³¼ ë™ì¼í•˜ê²Œ ì •í•´ì•¼ í•œë‹¤. íŒ¨í‚¤ì§€ í´ë” ì•ˆì— ì—¬ëŸ¬ íŒŒì¼ë“¤ì´ ìˆì„ ê²½ìš°ì—ë„, ë™ì¼í•œê²Œ í´ë” ì´ë¦„ì„ íŒ¨í‚¤ì§€ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.\nğŸ’¡ ì‚¬ì´ì¦ˆê°€ í° ëª©ì¡í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°™ì€ ê²½ìš°, go install ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì»´íŒŒì¼ í•˜ì—¬ cache í•  ìˆ˜ ìˆëŠ”ë°, ë‹¤ìŒ ë¹Œë“œì‹œ ë¹Œë“œ íƒ€ì„ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\n1 2 cd {{package_dir}} go install íŒ¨í‚¤ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ GOROOTì™€ GOPATHë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, GOROOTì™€ GOPATHì— ìˆëŠ” ê° ë£¨íŠ¸í´ë”ì˜ í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ì°¾ê²Œ ëœë‹¤.\nGOPATHê°€ C:\\GoApp;C:\\GoSrcë¼ë©´ ì§€ì •ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ê¸° ìœ„í•´ í´ë”ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ê²Œ ëœë‹¤.\n1 2 3 C:\\Go\\src\\testlib (from $GOROOT) C:\\GoApp\\src\\testlib (from $GOPATH) C:\\GoSrc\\src\\testlib ","date":"2023-04-20T12:28:40+09:00","image":"https://codemario318.github.io/post/golang/6/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/6/","title":"Golang: 6. íŒ¨í‚¤ì§€"},{"content":"ë°°ì—´ Array ë°°ì—´ì€ ì—°ì†ì ì¸ ë©”ëª¨ë¦¬ ê³µê°„ì— ë™ì¼í•œ íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤.\në°°ì—´ì˜ ì„ ì–¸ì€ var ë³€ìˆ˜ëª… [ë°°ì—´í¬ê¸°] ë°ì´í„°íƒ€ì… ê³¼ ê°™ì´ í•œë‹¤. Goì—ì„œ ë°°ì—´í¬ê¸°ëŠ” Typeì„ êµ¬ì„±í•˜ëŠ” í•œ ìš”ì†Œì´ë‹¤. ë”°ë¼ì„œ, [3]intì™€ [5]intëŠ” ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ì¸ì‹ëœë‹¤.\n1 2 3 4 5 6 7 8 9 package main func main() { var a [3]int //ì •ìˆ˜í˜• 3ê°œ ìš”ì†Œë¥¼ ê°–ëŠ” ë°°ì—´ a ì„ ì–¸ a[0] = 1 a[1] = 2 a[2] = 3 println(a[1]) // 2 ì¶œë ¥ } ë°°ì—´ ì´ˆê¸°í™” ë°°ì—´ì„ ì •ì˜í•  ë•Œ, ì´ˆê¸°ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì´ˆê¸°ê°’ì€ [ë°°ì—´í¬ê¸°] ë°ì´í„°íƒ€ì… {ì´ˆê¸°ê°’0, ì´ˆê¸°ê°’1 ...} ë¡œ í• ë‹¹í•œë‹¤.\nì´ˆê¸°í™” ê³¼ì •ì—ì„œ [\u0026hellip;]ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ í¬ê¸°ë¥¼ ìƒëµí•˜ë©´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™” ìš”ì†Œ ê°œìˆ˜ë§Œí¼ ë°°ì—´ í¬ê¸°ê°€ ì •í•´ì§„ë‹¤.\n1 2 var a1 = [3]int{1, 2, 3} var a3 = [...]int{1, 2, 3} //ë°°ì—´í¬ê¸° ìë™ìœ¼ë¡œ ë‹¤ì°¨ì› ë°°ì—´ 1 2 var multiArray [3][4][5]int // ì •ì˜ multiArray[0][1][2] = 10 ë‹¤ì°¨ì› ë°°ì—´ ì´ˆê¸°í™” 1 2 3 4 5 6 7 func main() { var a = [2][3]int{ {1, 2, 3}, {4, 5, 6}, //ëì— ì½¤ë§ˆ ì¶”ê°€ } println(a[1][2]) } ìŠ¬ë¼ì´ìŠ¤ Slice Go ë°°ì—´ì€ ê³ ì •ëœ í¬ê¸° ì•ˆì— ë™ì¼í•œ íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì—°ì†ì ìœ¼ë¡œ ì €ì¥í•˜ì§€ë§Œ, ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ì¦ê°€ì‹œí‚¤ê±°ë‚˜ ë¶€ë¶„ ë°°ì—´ì„ ì¶”ì¶œí•˜ëŠ” ë“±ì˜ ê¸°ëŠ¥ì€ ì—†ë‹¤.\nGo ìŠ¬ë¼ì´ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë°°ì—´ì— ê¸°ì´ˆí•˜ì—¬ ë§Œë“¤ì–´ì¡Œì§€ë§Œ í¸ë¦¬í•˜ê³  ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•œë‹¤.\nê³ ì •ëœ í¬ê¸°ë¥¼ ì§€ì •í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŒ ë¶€ë¶„ ë°°ì—´ ì¶”ì¶œ ê°€ëŠ¥ ë“± Go ìŠ¬ë¼ì´ìŠ¤ ì„ ì–¸ì€ ë°°ì—´ì„ ì„ ì–¸í•˜ë“¯ì´ var v []T ì²˜ëŸ¼ í•˜ëŠ”ë° ë°°ì—´ê³¼ ë‹¬ë¦¬ í¬ê¸°ëŠ” ì§€ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.\n1 2 3 4 5 6 7 8 9 package main import \u0026#34;fmt\u0026#34; func main() { var a []int //ìŠ¬ë¼ì´ìŠ¤ ë³€ìˆ˜ ì„ ì–¸ a = []int{1, 2, 3} //ìŠ¬ë¼ì´ìŠ¤ì— ë¦¬í„°ëŸ´ê°’ ì§€ì • a[1] = 10 fmt.Println(a) // [1, 10, 3]ì¶œë ¥ } make() ìŠ¬ë¼ì´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ë‚´ì¥í•¨ìˆ˜ make()ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤.\nmakeí•¨ìˆ˜ë¡œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ìŠ¬ë¼ì´ìŠ¤ ê¸¸ì´(length), ìš©ëŸ‰(Capacity)ì„ ì„ì˜ë¡œ ì§€ì •í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.\n1 2 3 4 func main() { s := make([]int, 5, 10) println(len(s), cap(s)) // len 5, cap 10 } â†’ ìŠ¬ë¼ì´ìŠ¤ì˜ ê¸¸ì´ëŠ” len(), ìš©ëŸ‰ì€ cap()ì„ ì¨ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 func main() { var s []int if s == nil { println(\u0026#34;Nil Slice\u0026#34;) } println(len(s), cap(s)) // ëª¨ë‘ 0 } makeí•¨ìˆ˜ë¡œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ëª¨ë“  ìš”ì†Œê°€ Zero valueì¸ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤. ë˜í•œ ìŠ¬ë¼ì´ìŠ¤ì— ë³„ë„ì˜ ê¸¸ì´ì™€ ìš©ëŸ‰ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ê¸°ë³¸ì ìœ¼ë¡œ ê¸¸ì´ì™€ ìš©ëŸ‰ì´ 0ì¸ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“œëŠ”ë° ì´ë¥¼ Nill Slice ë¼ê³  í•˜ë©°, nil ê³¼ ë¹„êµí•˜ë©´ ì°¸ì„ ë°˜í™˜í•œë‹¤.\n#$# ë¶€ë¶„ ìŠ¬ë¼ì´ìŠ¤\nìŠ¬ë¼ì´ìŠ¤ì—ì„œ ì¼ë¶€ë¥¼ ë°œì·Œí•˜ì—¬ ë¶€ë¶„ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë¶€ë¶„ ìŠ¬ë¼ì´ìŠ¤ëŠ” ìŠ¬ë¼ì´ìŠ¤[ì‹œì‘ì¸ë±ìŠ¤:ë§ˆì§€ë§‰ì¸ë±ìŠ¤] í˜•ì‹ìœ¼ë¡œ ë§Œë“ ë‹¤.\nì‹œì‘ ì¸ë±ìŠ¤ëŠ” inclusiveì´ë©° ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ëŠ” Exclusiveì´ë‹¤(íŒŒì´ì¬ê³¼ ë™ì¼í•¨)\n1 2 3 4 5 6 7 8 package main import \u0026#34;fmt\u0026#34; func main() { s := []int{0, 1, 2, 3, 4, 5} s = s[2:5] fmt.Println(s) //2,3,4 ì¶œë ¥ } ë¶€ë¶„ ìŠ¬ë¼ì´ìŠ¤ì—ì„œ ì¸ë±ìŠ¤ëŠ” ìƒëµ ê°€ëŠ¥í•˜ë‹¤.\nì²˜ìŒ ì¸ë±ìŠ¤ ìƒëµ: 0 ìë™ ëŒ€ì… ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ ìƒëµ: ìŠ¬ë¼ì´ìŠ¤ ê¸¸ì´ ìë™ëŒ€ì… ë”°ë¼ì„œ ëª¨ë‘ ìƒëµí•˜ë©´ ì „ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\n1 2 3 4 s := []int{0, 1, 2, 3, 4, 5} s = s[2:5] // 2, 3, 4 s = s[1:] // 3, 4 fmt.Println(s) // 3, 4 ì¶œë ¥ ìŠ¬ë¼ì´ìŠ¤ ì¶”ê°€ ë°°ì—´ì€ ê³ ì •ëœ í¬ê¸°ë¡œ ê·¸ í¬ê¸° ì´ìƒì˜ ë°ì´í„°ë¥¼ ì„ì˜ë¡œ ì¶”ê°€í•  ìˆ˜ ì—†ì§€ë§Œ, ìŠ¬ë¼ì´ìŠ¤ëŠ” ììœ ë¡­ê²Œ ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\nìŠ¬ë¼ì´ìŠ¤ì— ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•˜ë ¤ë©´ ë‚´ì¥í•¨ìˆ˜ append()ë¥¼ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 func main() { s := []int{0, 1} // í•˜ë‚˜ í™•ì¥ s = append(s, 2) // 0, 1, 2 // ë³µìˆ˜ ìš”ì†Œë“¤ í™•ì¥ s = append(s, 3, 4, 5) // 0,1,2,3,4,5 fmt.Println(s) } append ë™ì‘ ê³¼ì • ìŠ¬ë¼ì´ìŠ¤ ìš©ëŸ‰ì´ ë‚¨ì•„ìˆëŠ” ê²½ìš° ìŠ¬ë¼ì´ìŠ¤ì˜ ê¸¸ì´ë¥¼ ë³€ê²½í•˜ì—¬ ë°ì´í„°ë¥¼ ì¶”ê°€ ìŠ¬ë¼ì´ìŠ¤ ìš©ëŸ‰ì„ ì´ˆê³¼í•˜ëŠ” ê²½ìš° í˜„ì¬ ìš©ëŸ‰ì˜ 2ë°°ì— í•´ë‹¹í•˜ëŠ” ìƒˆë¡œìš´ Underlying arrayë¥¼ ìƒì„±í•˜ê³  ê¸°ì¡´ ë°°ì—´ ê°’ë“¤ì„ ëª¨ë‘ ìƒˆ ë°°ì—´ì— ë³µì œí•œ í›„ ë‹¤ì‹œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ í• ë‹¹. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main import \u0026#34;fmt\u0026#34; func main() { // len=0, cap=3 ì¸ ìŠ¬ë¼ì´ìŠ¤ sliceA := make([]int, 0, 3) // ê³„ì† í•œ ìš”ì†Œì”© ì¶”ê°€ for i := 1; i \u0026lt;= 15; i++ { sliceA = append(sliceA, i) // ìŠ¬ë¼ì´ìŠ¤ ê¸¸ì´ì™€ ìš©ëŸ‰ í™•ì¸ fmt.Println(len(sliceA), cap(sliceA)) } fmt.Println(sliceA) // 1 ë¶€í„° 15 ê¹Œì§€ ìˆ«ì ì¶œë ¥ } ë³‘í•© í•œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ ìŠ¬ë¼ì´ìŠ¤ ë’¤ì— ë³‘í•©í•˜ê¸° ìœ„í•´ì„œëŠ” append()ì™€ ellipsis(...)ë¥¼ ì‚¬ìš©í•œë‹¤.\nellipsis(...) ì€ íŒŒì´ì¬ asterisk(*)ì™€ ê°™ì´ ë™ì‘í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 package main import \u0026#34;fmt\u0026#34; func main() { sliceA := []int{1, 2, 3} sliceB := []int{4, 5, 6} sliceA = append(sliceA, sliceB...) //sliceA = append(sliceA, 4, 5, 6) fmt.Println(sliceA) // [1 2 3 4 5 6] ì¶œë ¥ } ë³µì‚¬ ìŠ¬ë¼ì´ìŠ¤ëŠ” ë‚´ì¥í•¨ìˆ˜ copy()ë¥¼ ì‚¬ìš©í•˜ì—¬ í•œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ ìŠ¬ë¼ì´ìŠ¤ë¡œ ë³µì‚¬í•  ìˆ˜ë„ ìˆë‹¤.\n1 2 3 4 5 6 7 func main() { source := []int{0, 1, 2} target := make([]int, len(source), cap(source)*2) copy(target, source) fmt.Println(target) // [0 1 2 ] ì¶œë ¥ println(len(target), cap(target)) // 3, 6 ì¶œë ¥ } ìŠ¬ë¼ì´ìŠ¤ ë‚´ë¶€êµ¬ì¡° ìŠ¬ë¼ì´ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°°ì—´ì˜ ë¶€ë¶„ ì˜ì—­ì¸ ì„¸ê·¸ë¨¼íŠ¸ì— ëŒ€í•œ ë©”íƒ€ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ìŠ¬ë¼ì´ìŠ¤ëŠ” í¬ê²Œ 3ê°œì˜ í•„ë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\në‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°°ì—´ì—ëŒ€í•œ í¬ì¸í„° ì„¸ê·¸ë¨¼íŠ¸ ê¸¸ì´ ì„¸ê·¸ë¨¼íŠ¸ ìµœëŒ€ ìš©ëŸ‰ ì²˜ìŒ ìŠ¬ë¼ì´ìŠ¤ê°€ ìƒì„±ë  ë•Œ, ê¸¸ì´ì™€ ìš©ëŸ‰ì´ ì§€ì •ë˜ì—ˆë‹¤ë©´, ë‚´ë¶€ì ìœ¼ë¡œ ìš©ëŸ‰ë§Œí¼ í¬ê¸°ì˜ ë°°ì—´ì„ ìƒì„±í•˜ê³ , ìŠ¬ë¼ì´ìŠ¤ ì²«ë²ˆì§¸ í•„ë“œì— ê·¸ ë°°ì—´ì˜ ì²˜ìŒ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¥¼ ì§€ì •í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main const limit = 10 func main() { slice := []int{0, 1, 2, 3, 4, 5} subSlice := slice[2:5] subSlice[0] = 20 subSlice[1] = 30 subSlice[2] = 40 for _, v := range slice { println(v) } } 1 2 3 4 5 6 0 1 20 30 40 5 ì„œë¸Œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“¤ë©´ ìŠ¬ë¼ì´ìŠ¤ ìƒì„±ì‹œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì§€ì • ì¸ë±ìŠ¤ë§Œí¼ì˜ ê¸¸ì´ì™€ ìš©ëŸ‰ì„ ì„¤ì •í•˜ê²Œ ë˜ë©°, ë°°ì—´ í¬ì¸í„°ëŠ” ì‹œì‘ ìŠ¬ë¼ì´ìŠ¤ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™” ëœë‹¤.\nìœ„ì˜ ì˜ˆì‹œì˜ ì„œë¸Œ ìŠ¬ë¼ì´ìŠ¤ì˜ ê¸¸ì´ëŠ” 3 ìš©ëŸ‰ì€ 4ë¡œ ë§Œë“¤ì–´ì§„ë‹¤.\në”°ë¼ì„œ ì„œë¸Œ ìŠ¬ë¼ì´ìŠ¤ì˜ ê°’ì„ ë³€ê²½í•˜ë©´ ì›ë³¸ ìŠ¬ë¼ì´ìŠ¤ì˜ ê°’ë„ ë³€ê²½ëœë‹¤.\nMap ì„ ì–¸ Mapì€ í‚¤ì— ëŒ€ì‘í•˜ëŠ” ê°’ì„ ì‹ ì†íˆ ì°¾ëŠ” í•´ì‹œí…Œì´ë¸”ì„ êµ¬í˜„í•œ ìë£Œêµ¬ì¡°ì´ë‹¤. Go ì–¸ì–´ëŠ” Map íƒ€ì…ì„ ë‚´ì¥í•˜ê³  ìˆëŠ”ë°, map[key íƒ€ì…]ê°’íƒ€ì… ë¡œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.\n1 var idMap map[int]string ì´ë•Œ ì„ ì–¸ëœ idMapì€ ë ˆí¼ëŸ°ìŠ¤ íƒ€ì…ì´ë¯€ë¡œ nil ê°’ì„ ê°–ìœ¼ë©°, ì´ë¥¼ Nil Mapì´ë¼ê³  ë¶€ë¥¸ë‹¤. Nil mapì€ ì–´ë–¤ ë°ì´í„°ë¥¼ ì“¸ ìˆ˜ ì—†ëŠ”ë°, mapì„ ì´ˆê¸°í™”í•˜ê¸° ìœ„í•´ make()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì´ˆê¸°í™” make() 1 idMap = make(map[int]string) make() í•¨ìˆ˜ì˜ ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ map í‚¤ì›Œë“œì™€ [í‚¤íƒ€ì…]ê°’íƒ€ì…ì„ ì§€ì •í•˜ëŠ”ë°, ì´ë•Œ make()í•¨ìˆ˜ëŠ” í•´ì‹œí…Œì´ë¸” ìë£Œêµ¬ì¡°ë¥¼ ë©”ëª¨ë¦¬ì— ìƒì„±í•˜ê³  ê·¸ ë©”ëª¨ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” map valueë¥¼ ë¦¬í„´í•œë‹¤.\nâ†’ map valueëŠ” ë‚´ë¶€ì ìœ¼ë¡œ runtime.hmap êµ¬ì¡°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°ì´ë‹¤.\në”°ë¼ì„œ idMap ë³€ìˆ˜ëŠ” ì´ í•´ì‹œí…Œì´ë¸”ì„ ê°€ë¦¬í‚¤ëŠ” mapì„ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤.\nì´ˆê¸°í™” - ë¦¬í„°ëŸ´ mapì€ make() í•¨ìˆ˜ë¥¼ ì¨ì„œ ì´ˆê¸°í™”í•  ìˆ˜ë„ ìˆì§€ë§Œ, ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•´ ì´ˆê¸°í™”í•  ìˆ˜ë„ ìˆë‹¤. ë¦¬í„°ëŸ´ ì´ˆê¸°í™”ëŠ” map[keyíƒ€ì…]valueíƒ€ì… {key:value} ì™€ ê°™ì´ Map íƒ€ì… ë’¤ ì¤‘ê´„í˜¸ ì•ˆì— \u0026lsquo;í‚¤:ê°’\u0026rsquo;ë“¤ì„ ê²°ê±°í•˜ë©´ ëœë‹¤.\n1 2 3 4 5 ticker := map[string]string{ \u0026#34;GOOG\u0026#34;: \u0026#34;Google Inc\u0026#34;, \u0026#34;MSFT\u0026#34;: \u0026#34;Microsoft\u0026#34;, \u0026#34;FB\u0026#34;: \u0026#34;FaceBook\u0026#34;, } Map ì‚¬ìš© ì²˜ìŒ mapì´ make() í•¨ìˆ˜ì— ì˜í•´ ì´ˆê¸°í™” ë˜ì—ˆì„ ë•ŒëŠ”, ì•„ë¬´ ë°ì´í„°ê°€ ì—†ëŠ” ìƒíƒœì´ë‹¤. ì´ë•Œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œëŠ” mapë³€ìˆ˜[í‚¤] = ê°’ ì²˜ëŸ¼ í•´ë‹¹ í‚¤ì— ê·¸ ê°’ì„ í• ë‹¹í•˜ë©´ ëœë‹¤.\në§Œì•½ í‚¤ ê°’ì´ ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´ ì¶”ê°€ ëŒ€ì‹  ê°’ë§Œ ê°±ì‹ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package main func main() { var m map[int]string m = make(map[int]string) m[901] = \u0026#34;Apple\u0026#34; m[134] = \u0026#34;Grape\u0026#34; m[777] = \u0026#34;Tomato\u0026#34; str := m[134] println(str) noData := m[999] println(noData) println(m[777]) delete(m, 777) println(m[777]) } ë§Œì•½ mapì•ˆì— ì°¾ëŠ” í‚¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ reference íƒ€ì…ì¸ ê²½ìš° nil, value íƒ€ì…ì¸ ê²½ìš° zeroë¥¼ ë¦¬í„´í•œë‹¤.\nmapì—ì„œ íŠ¹ì • í‚¤ì™€ ê·¸ ê°’ì„ ì‚­ì œí•˜ê¸° ìœ„í•´ì„œëŠ” delete() í•¨ìˆ˜ë¥¼ ì´ìš©í•œë‹¤.\nMap í‚¤ ì²´í¬ mapì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì¢…ì¢… mapì•ˆì— íŠ¹ì • í‚¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ì²´í¬í•  í•„ìš”ê°€ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ goì—ì„  â€œmap ë³€ìˆ˜[í‚¤]â€ ì½ê¸°ë¥¼ ìˆ˜í–‰í•  ë•Œ 2ê°œ ê°’ì„ ë°˜í™˜í•œë‹¤.\ní‚¤ì— ìƒì‘í•˜ëŠ” ê°’ í‚¤ ì¡´ì¬ ì—¬ë¶€ (bool) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main func main() { tickers := map[string]string{ \u0026#34;GOOG\u0026#34;: \u0026#34;Google Inc\u0026#34;, \u0026#34;MSFT\u0026#34;: \u0026#34;Microsoft\u0026#34;, \u0026#34;FB\u0026#34;: \u0026#34;FaceBook\u0026#34;, \u0026#34;AMZN\u0026#34;: \u0026#34;Amazon\u0026#34;, } // map í‚¤ ì²´í¬ val, exists := tickers[\u0026#34;MSFT\u0026#34;] if !exists { println(\u0026#34;No MSFT ticker\u0026#34;) } } for ë£¨í”„ë¥¼ ì‚¬ìš©í•œ Map ì—´ê±° Mapì´ ê°€ì§„ ëª¨ë“  ìš”ì†Œë“¤ì„ ì¶œë ¥í•˜ê¸° ìœ„í•´, for range ë£¨í”„ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Map ì»¬ë ‰ì…˜ì— for rangeë¥¼ ì‚¬ìš©í•˜ë©´, Map í‚¤ì™€ Map ê°’ 2ê°œ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.\n","date":"2023-04-20T12:17:40+09:00","image":"https://codemario318.github.io/post/golang/5/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/5/","title":"Golang: 5. ì»¬ë ‰ì…˜"},{"content":"func í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•œë‹¤.\ní•¨ìˆ˜ íŒŒë¼ë¯¸í„°ëŠ” 0ê°œ ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ê° íŒŒë¼ë¯¸í„°ëŠ” íŒŒë¼ë¯¸í„°ëª… ë’¤ì— int, string ë“± íŒŒë¼ë¯¸í„° íƒ€ì…ì„ ì •ì˜í•œë‹¤.\ní•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì€ íŒŒë¼ë¯¸í„° ê´„í˜¸ ë’¤ì— ì ëŠ”ë‹¤.\ní•¨ìˆ˜ëŠ” íŒ¨í‚¤ì§€ ì•ˆì— ì •ì˜ë˜ë©° í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ì˜ ë°˜ë“œì‹œ ì•ì— ìœ„ì¹˜í•´ì•¼ í•  í•„ìš”ëŠ” ì—†ë‹¤.\n1 2 3 4 5 6 7 8 9 package main func main() { msg := \u0026#34;Hello\u0026#34; say(msg) } func say(msg string) { println(msg) } Pass By Reference Goì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì€ í¬ê²Œ Pass By Valueì™€ Pass By Referenceë¡œ ë‚˜ë‰œë‹¤.\nPass By Value í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ ë³€ìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ ì¸ìë¡œ ì‚¬ìš©ëœ ë³€ìˆ˜ë“¤ì˜ ê°’ì´ ë³µì‚¬ë˜ì–´ í•¨ìˆ˜ì—ê²Œ ì „ë‹¬ëœë‹¤.\në”°ë¼ì„œ í•¨ìˆ˜ ì¸ìë¡œ ë°›ì€ ê°’ì„ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë³€ê²½í•´ë„ ì‹¤ì œ ë³€ìˆ˜ê°’ì€ ì˜í–¥ì„ ì „í˜€ ë°›ì§€ ì•ŠëŠ”ë‹¤.\nPass By Reference ë³€ìˆ˜ ì•ì— \u0026amp; ë¥¼ ë¶™ì´ë©´ ì£¼ì†Œë¥¼ í‘œì‹œí•œë‹¤. í”íˆ í¬ì¸í„°ë¼ ë¶€ë¥´ë©°, í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ì—ì„œ í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ ë³µì‚¬ë³¸ì´ ì•„ë‹Œ ì‹¤ì œ ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•˜ì—¬ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ë¯€ë¡œ í•¨ìˆ˜ ë‚´ì—ì„œ ë³€ê²½ì´ ì¸ìì— ë„˜ê²¨ì§„ ì£¼ì†Œë¥¼ ê°€ì§„ ë³€ìˆ˜ì˜ ì‹¤ì œ ê°’ì´ ë³€ê²½ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 package main func main() { msg := \u0026#34;Hello\u0026#34; say(\u0026amp;msg) println(msg) //ë³€ê²½ëœ ë©”ì‹œì§€ ì¶œë ¥ } func say(msg *string) { println(*msg) *msg = \u0026#34;Changed\u0026#34; //ë©”ì‹œì§€ ë³€ê²½ } í•¨ìˆ˜ì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ì„ ì–¸í•  ë•Œ *string ì²˜ëŸ¼ í¬ì¸í„°ì„ì„ í‘œì‹œí•˜ë©´ í•´ë‹¹ íŒŒë¼ë¯¸í„°ê°€ ë¬¸ìì—´ì´ ì•„ë‹Œ ë¬¸ìì—´ì„ ì €ì¥í•˜ê³ ìˆëŠ” ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œë¥¼ ê°–ëŠ”ë‹¤.\ní•¨ìˆ˜ ë‚´ì—ì„œ í¬ì¸í„° íŒŒë¼ë¯¸í„°ì˜ ì£¼ì†Œì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ë ¤ë©´ *ë³€ìˆ˜ëª… = ê°’ í˜•íƒœë¡œ ë³€ìˆ˜ ì´ë¦„ì— ì—­ì°¸ì¡° ì‹¬ë³¼ì¸ *ì„ ë¶™ì—¬ ì ‘ê·¼í•˜ê³  ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\nê°€ë³€ì¸ìí•¨ìˆ˜ í•¨ìˆ˜ì— ì—¬ëŸ¬ê°œã…¢ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ë ¤ë©´ ê°€ë³€ íŒŒë¼ë¯¸í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ... ì„ íƒ€ì… ì•ì— ë¶™ì—¬ ì‚¬ìš©í•œë‹¤.\nê°€ë³€ íŒŒë¼ë¯¸í„°ë¥¼ ê°–ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ nê°œ ë™ì¼ íƒ€ì… íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 package main func main() { say(\u0026#34;This\u0026#34;, \u0026#34;is\u0026#34;, \u0026#34;a\u0026#34;, \u0026#34;book\u0026#34;) say(\u0026#34;Hi\u0026#34;) } func say(msg ...string) { for _, s := range msg { println(s) } } í•¨ìˆ˜ ë°˜í™˜ê°’ ê¸°ë³¸í˜• í•¨ìˆ˜ì—ì„œ ë°˜í™˜ê°’ì´ ìˆëŠ” ê²½ìš° func ë¬¸ ë§ˆì§€ë§‰ì— ë¦¬í„´ íƒ€ì…ì„ ì •ì˜í•œë‹¤. ê·¸ë¦¬ê³  return í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main func main() { total := sum(1, 7, 3, 5, 9) println(total) } func sum(nums ...int) **int** { s := 0 for _, n := range nums { s += n } return **s** } ë³µìˆ˜ ê°œ ë°˜í™˜ê°’ go ì–¸ì–´ì—ì„œ í•¨ìˆ˜ëŠ” ë°˜í™˜ê°’ì´ ì—¬ëŸ¬ê°œì¼ ìˆ˜ ìˆë‹¤.\nì—¬ëŸ¬ê°œ ê°’ì„ ë°˜í™˜í•˜ê¸° ìœ„í•´ì„œëŠ” í•´ë‹¹ ë°˜í™˜ íƒ€ì…ë“¤ì„ ê´„í˜¸ ì•ˆì— ì ì–´ì¤€ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main func main() { count, total := sum(1, 7, 3, 5, 9) println(count, total) } func sum(nums ...int) (int, int) { s := 0 // í•©ê³„ count := 0 // ìš”ì†Œ ê°¯ìˆ˜ for _, n := range nums { s += n count++ } return count, s } Named Return Parameter Named Return Parameterë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë°, ì´ëŠ” ë°˜í™˜ë˜ëŠ” ê°’ë“¤ì„ ë¯¸ë¦¬ ì„ ì–¸í•˜ë©°, ê°’ë“¤ì´ ì—¬ëŸ¬ ê°œ ì¼ë•Œ, ì½”ë“œ ê°€ë…ì„±ì„ ë†’íŒë‹¤.\n1 2 3 4 5 6 7 func sum(nums ...int) (**count** int, **total** int) { for _, n := range nums { total += n } count = len(nums) return } ë§ˆì§€ë§‰ì— ë¹ˆ returnì´ ìˆì§€ë§Œ named return parameterë¡œ ì •ì˜ëœ í˜•íƒœë¡œ ë°˜í™˜ëœë‹¤. return ì€ ë°˜í™˜ê°’ì— ì•„ë¬´ëŸ° ì˜í–¥ì„ ì£¼ì§€ ì•Šì§€ë§Œ ìƒëµí•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\n","date":"2023-04-20T12:10:40+09:00","image":"https://codemario318.github.io/post/golang/4/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/4/","title":"Golang: 4. í•¨ìˆ˜"},{"content":"for ë¬¸ Go ì–¸ì–´ì—ì„œ ë°˜ë³µë¬¸ì€ for í•˜ë‚˜ë¿ì´ë‹¤. ë‹¤ë¥¸ ì–¸ì–´ë“¤ê³¼ ë¹„ìŠ·í•˜ê²Œ for ì´ˆê¸°ê°’; ì¡°ê±´ì‹; ì¦ê° {...} í˜•ì‹ì„ ë”°ë¥¸ë‹¤.\nì´ˆê¸°ê°’, ì¡°ê±´ì‹, ì¦ê°ì‹ì€ ê²½ìš°ì— ë”°ë¼ ìƒëµí•  ìˆ˜ ìˆê³ , ì´ˆê¸°ê°’; ì¡°ê±´ì‹; ì¦ê° ì„ ë‘˜ëŸ¬ì‹¸ëŠ” ê´„í˜¸ë¥¼ ì¶”ê°€í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\n1 2 3 4 5 6 7 8 9 package main func main() { sum := 0 for i := 1; i \u0026lt;= 100; i++ { sum += i } println(sum) } ì¡°ê±´ì‹ë§Œ ì‚¬ìš©í•˜ëŠ” for ë£¨í”„ ì´ˆê¸°ê°’ê³¼ ì¦ê°ì‹ì„ ìƒëµí•˜ê³  ì¡°ê±´ì‹ë§Œ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ ì–¸ì–´ì˜ while ë£¨í”„ì™€ ê°™ê²Œ ë™ì‘í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 package main func main() { n := 1 for n \u0026lt; 100 { n *= 2 //if n \u0026gt; 90 { // break //} } println(n) } ë¬´í•œë£¨í”„ ì´ˆê¸°ê°’, ì¡°ê±´ì‹, ì¦ê°ì„ ëª¨ë‘ ìƒëµí•˜ë©´ ë¬´í•œë£¨í”„ë¡œ ë™ì‘í•œë‹¤.\n1 2 3 4 5 6 7 package main func main() { for { println(\u0026#34;Infinite loop\u0026#34;) } } range ë¬¸ for rangeë¬¸ì€ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë¶€í„° í•œ ìš”ì†Œì”© ê°€ì ¸ì™€ ì°¨ë¡€ë¡œ for ë¸”ëŸ­ ë¬¸ì¥ë“¤ì„ ì‹¤í–‰í•œë‹¤. ë‹¤ë¥¸ ì–¸ì–´ì˜ foreachì™€ ë¹„ìŠ·í•˜ë‹¤.\nfor range ë¬¸ì€ for ì¸ë±ìŠ¤, ìš”ì†Œê°’ := range ì»¬ë ‰ì…˜ í˜•íƒœë¡œ for ë£¨í”„ë¥¼ êµ¬ì„±í•˜ëŠ”ë°, range í‚¤ì›Œë“œ ë‹¤ìŒì— ëª…ì‹œí•œ ì»¬ë ‰ì…˜ìœ¼ë¡œë¶€í„° í•˜ë‚˜ì”© ìš”ì†Œë¥¼ ë°˜í™˜í•˜ì—¬ ê·¸ ìš”ì†Œì˜ ì¸ë±ìŠ¤ì™€ ê°’ì„ for í‚¤ì›Œë“œ ë‹¤ìŒ 2ê°œ ë³€ìˆ˜ì— ê°ê° í• ë‹¹í•œë‹¤.\n1 2 3 4 5 names := []string{\u0026#34;í™ê¸¸ë™\u0026#34;, \u0026#34;ì´ìˆœì‹ \u0026#34;, \u0026#34;ê°•ê°ì°¬\u0026#34;} for index, name := range names { println(index, name) } break, countinue, goto break: for ë£¨í”„ ë‚´ì—ì„œ ì¦‰ì‹œ ë¹ ì ¸ë‚˜ì˜´ continue: ë£¨í”„ ì¤‘ê°„ì—ì„œ ë‚˜ë¨¸ì§€ ë¬¸ì¥ë“¤ì„ ì‹¤í–‰í•˜ì§€ ì•Šê³  ë‹¤ìŒ ë£¨í”„ë¥¼ ì‹œì‘í•¨ goto: ì„ì˜ì˜ ë¬¸ì¥ìœ¼ë¡œ ì´ë™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package main func main() { var a = 1 for a \u0026lt; 15 { if a == 5 { a += a continue // forë£¨í”„ ì‹œì‘ìœ¼ë¡œ } a++ if a \u0026gt; 10 { break //ë£¨í”„ ë¹ ì ¸ë‚˜ì˜´ } } if a == 11 { goto END //goto ì‚¬ìš©ì˜ˆ } println(a) END: println(\u0026#34;End\u0026#34;) } break ë ˆì´ë¸” breakë¬¸ì€ ë³´í†µ ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ë§Œ, ê²½ìš°ì— ë”°ë¼ ë ˆì´ë¸”ì„ ë¶™ì—¬ ì§€ì •ëœ ë ˆì´ë¸”ë¡œ ì´ë™í•  ìˆ˜ë„ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package main func main() { i := 0 L1: for { if i == 0 { break L1 } } println(\u0026#34;OK\u0026#34;) } breakì˜ ë ˆì´ë¸”ì€ í˜„ì¬ ë³´í†µ í˜„ì¬ for ë£¨í”„ ë°”ë¡œ ìœ„ì— ì ê²Œ ë˜ëŠ”ë°, í˜„ì¬ ë£¨í”„ë¥¼ ë¹ ì ¸ë‚˜ì™€ ì§€ì •ëœ ë ˆì´ë¸”ë¡œ ì´ë™í•˜ê³ , ë™ì‘í•œ breakë¬¸ì´ ì†í•œ for ë£¨í”„ ì „ì²´ì˜ ë‹¤ìŒ ë¬¸ì¥ì„ ì‹¤í–‰í•œë‹¤.\n","date":"2023-04-20T12:05:40+09:00","image":"https://codemario318.github.io/post/golang/3/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/3/","title":"Golang: 3. ë°˜ë³µë¬¸"},{"content":"if ë¬¸ if ë¬¸ì€ í•´ë‹¹ ì¡°ê±´ì´ ë§ìœ¼ë©´ {} ë¸”ëŸ­ ì•ˆì˜ ë‚´ìš©ì„ ì‹¤í–‰í•œë‹¤.\nì¡°ê±´ì‹ì„ ()ë¡œ ë‘˜ëŸ¬ ì‹¸ì§€ ì•Šì•„ë„ ëœë‹¤. ì¡°ê±´ ë¸”ëŸ­ ì‹œì‘ { ë¥¼ ifë¬¸ê³¼ ê°™ì€ ë¼ì¸ì— ë‘ì–´ì•¼ í•œë‹¤. 1 2 3 4 5 6 7 if k == 1 { println(\u0026#34;One\u0026#34;) } else if k == 2 { //ê°™ì€ ë¼ì¸ println(\u0026#34;Two\u0026#34;) } else { //ê°™ì€ ë¼ì¸ println(\u0026#34;Other\u0026#34;) } Optional Statement ifë¬¸ì—ì„œ ì¡°ê±´ì‹ì„ ì‚¬ìš©í•˜ê¸° ì´ì „ì— ê°„ë‹¨í•œ ë¬¸ì¥(Optional Statement)ì„ í•¨ê»˜ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 if val := i * 2; val \u0026lt; max { println(val) } // ì•„ë˜ ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ Scope ë²—ì–´ë‚˜ ì—ëŸ¬ val++ val := i * 2 ì²˜ëŸ¼ ì¡°ê±´ì‹ ì´ì „ì— ì—°ì‚°ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”ë°, ì •ì˜ëœ ë³€ìˆ˜ valì˜ ë²”ìœ„ëŠ” if-else ë¸”ëŸ­ì´ë‹¤.\nifë¬¸ ì™¸ì—ë„ switch, for ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nswitch ë¬¸ ë‹¤ë¥¸ ì–¸ì–´ë“¤ê³¼ ë¹„ìŠ·í•˜ê²Œ í•˜ë‚˜ì˜ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ê³  caseë¬¸ì— í•´ë‹¹ ë³€ìˆ˜ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê°’ë“¤ì„ ì§€ì •í•˜ì—¬ case ë¸”ëŸ­ì„ ì‹¤í–‰í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package main func main() { var name string var category = 1 switch category { case 1: name = \u0026#34;Paper Book\u0026#34; case 2: name = \u0026#34;eBook\u0026#34; case 3, 4: name = \u0026#34;Blog\u0026#34; default: name = \u0026#34;Other\u0026#34; } println(name) // Expressionì„ ì‚¬ìš©í•œ ê²½ìš° switch x := category \u0026lt;\u0026lt; 2; x - 1 { //... } } ë‹¤ë¥¸ ì–¸ì–´ì™€ ì°¨ì´ì  C++, C#, Java ë“±ê³¼ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤.\nswitch ë’¤ì— expressionì´ ì—†ì„ ìˆ˜ ìˆìŒ ë‹¤ë¥¸ ì–¸ì–´ëŠ” switch í‚¤ì›Œë“œ ë’¤ì— ë³€ìˆ˜ë‚˜ ì¡°ê±´ì‹ì„ ë‘ì§€ë§Œ, GoëŠ” ì“°ì§€ ì•Šì•„ë„ ëœë‹¤. ì´ëŸ° ê²½ìš° trueë¡œ ê°„ì£¼í•˜ê³  ì²«ë²ˆì§¸ caseë¬¸ìœ¼ë¡œ ì´ë™í•˜ì—¬ ê²€ì‚¬í•œë‹¤.\ncaseë¬¸ì— ì¡°ê±´ì‹ ì“¸ ìˆ˜ ìˆìŒ ë‹¤ë¥¸ ì–¸ì–´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ê°’ì„ ê°–ì§€ë§Œ, GoëŠ” ì¡°ê±´ì‹ì„ ì“¸ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 func grade(score int) { switch { case score \u0026gt;= 90: println(\u0026#34;A\u0026#34;) case score \u0026gt;= 80: println(\u0026#34;B\u0026#34;) case score \u0026gt;= 70: println(\u0026#34;C\u0026#34;) case score \u0026gt;= 60: println(\u0026#34;D\u0026#34;) default: println(\u0026#34;No Hope\u0026#34;) } } No default fall through caseë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ breakë¥¼ ì ìš©í•œë‹¤. ë‹¤ìŒ caseë¡œ ë„˜ì–´ê°€ë ¤ë©´ fallthrough í‚¤ì›Œë“œë¥¼ ì“´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 func check(val int) { switch val { case 1: fmt.Println(\u0026#34;1 ì´í•˜\u0026#34;) fallthrough case 2: fmt.Println(\u0026#34;2 ì´í•˜\u0026#34;) fallthrough case 3: fmt.Println(\u0026#34;3 ì´í•˜\u0026#34;) fallthrough default: fmt.Println(\u0026#34;default ë„ë‹¬\u0026#34;) } } Type switch switch ë’¤ ë³€ìˆ˜ì˜ íƒ€ì…ìœ¼ë¡œ ë¶„ê¸°í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 switch v.(type) { case int: println(\u0026#34;int\u0026#34;) case bool: println(\u0026#34;bool\u0026#34;) case string: println(\u0026#34;string\u0026#34;) default: println(\u0026#34;unknown\u0026#34;) } ","date":"2023-04-20T12:00:40+09:00","image":"https://codemario318.github.io/post/golang/2/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/2/","title":"Golang: 2. ì¡°ê±´ë¬¸"},{"content":"ë³€ìˆ˜ ê¸°ë³¸ ì„ ì–¸ ë³€ìˆ˜ëŠ” Go í‚¤ì›Œë“œ varì„ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸í•œë‹¤. var í‚¤ì›Œë“œ ë’¤ì— ë³€ìˆ˜ëª…ì„ ì ê³  ë³€ìˆ˜ íƒ€ì…ì„ ì ëŠ”ë‹¤.\në³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ì„œ ì´ˆê¸°ê°’ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, GoëŠ” Zero Valueë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ í• ë‹¹í•œë‹¤.\n1 var a int ì´ˆê¸°ê°’ ì§€ì • ë³€ìˆ˜ ì„ ì–¸ë¬¸ì—ì„œ ë³€ìˆ˜ ì´ˆê¸°ê°’ì„ í• ë‹¹í•  ìˆ˜ë„ ìˆë‹¤. float32 íƒ€ì… ë³€ìˆ˜ fì— 11.0ì´ë¼ëŠ” ì´ˆê¸°ê°’ì„ í• ë‹¹í•˜ê¸° ìœ„í•´ ì•„ë˜ê°™ì´ ì“¸ ìˆ˜ ìˆë‹¤.\n1 var f float32 = 11. í• ë‹¹ ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ì´í›„ í•´ë‹¹ íƒ€ì… ê°’ì„ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.\n1 2 a = 10 f = 12.0 â†’ì„ ì–¸ëœ ë³€ìˆ˜ê°€ Go í”„ë¡œê·¸ë¨ ë‚´ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\nShort Assignment Statement í•¨ìˆ˜ ë‚´ë¶€ë¼ë©´ Short Assignment Statementë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 i := 1 s := \u0026#34;Hello\u0026#34; í•¨ìˆ˜ ë°–ì—ì„œ ì„ ì–¸ì‹œì—ëŠ” varë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nì—¬ëŸ¬ ê°œ ë³€ìˆ˜ ë™ì¼í•œ íƒ€ì… ë³€ìˆ˜ê°€ ì—¬ëŸ¬ê°œ ìˆìœ¼ë©´, ë³€ìˆ˜ë“¤ì„ ë‚˜ì—´í•˜ê³  ë§ˆì§€ë§‰ì— íƒ€ì…ì„ í•œë²ˆë§Œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 var i, j, k int // ì„ ì–¸ê³¼ ë™ì‹œì— ì´ˆê¸°í™” ê°€ëŠ¥ var i, j, k int = 1, 2, 3 íƒ€ì… ì¶”ë¡  Go ì—ì„œëŠ” í• ë‹¹ë˜ëŠ” ê°’ì„ ë³´ê³  ê·¸ íƒ€ì…ì„ ì¶”ë¡ í•˜ëŠ” ê¸°ëŠ¥ì´ ìì£¼ ì‚¬ìš©ëœë‹¤.\n1 2 var i = 1 var s = \u0026#34;Hello\u0026#34; iëŠ” ì •ìˆ˜í˜•ìœ¼ë¡œ 1ì´ í• ë‹¹ë˜ê³ , sëŠ” ë¬¸ìì—´ë¡œ Helloê°€ í• ë‹¹ëœë‹¤.\nìƒìˆ˜ ìƒìˆ˜ëŠ” Go í‚¤ì›Œë“œ constë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸í•œë‹¤. const í‚¤ì›Œë“œ ë’¤ì— ìƒìˆ˜ëª…ì„ ì ê³ , ê·¸ ë’¤ì— ìƒìˆ˜ íƒ€ì…, ê·¸ë¦¬ê³  ìƒìˆ˜ ê°’ì„ í• ë‹¹í•œë‹¤.\n1 2 const i int = 1 const s string = \u0026#34;Hello\u0026#34; íƒ€ì… ì¶”ë¡  ë³€ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ íƒ€ì…ì„ ìƒëµí•˜ê³  ì´ˆê¸°í™” í•˜ë©´ Goì—ì„œ ìë™ìœ¼ë¡œ íƒ€ì…ì„ ì¶”ë¡ í•œë‹¤.\n1 2 const i = 1 const s = \u0026#34;Hello\u0026#34; ì—¬ëŸ¬ê°œ ìƒìˆ˜ë¥¼ ë¬¶ì–´ì„œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 const ( Visa = \u0026#34;Visa\u0026#34; Master = \u0026#34;Master\u0026#34; Amex = \u0026#34;American Express\u0026#34; ) iota iota í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ìƒìˆ˜ê°’ì„ 0ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-20T11:56:40+09:00","image":"https://codemario318.github.io/post/golang/1/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/golang/1/","title":"Golang: 1. ë³€ìˆ˜ì™€ ìƒìˆ˜"},{"content":"Vue? ê°œë°œìì—ê²Œ ë” ì‰½ê³ , ê°€ë³ê³ , ëˆ„êµ¬ë‚˜ ë¹¨ë¦¬ ë°°ìš¸ ìˆ˜ ìˆëŠ” ì ‘ê·¼ì„±ì´ ë›°ì–´ë‚œ í”„ë ˆì„ì›Œí¬ë¥¼ ëª©í‘œë¡œ ê°œë°œë¨\nê¸°ì¡´ HTML ë§ˆí¬ì—… ê¸°ë°˜ì˜ í…œí”Œë¦¿ì„ ê·¸ëŒ€ë¡œ í™œìš© CSSë¥¼ ì‘ì„±í•˜ëŠ” ìŠ¤íƒ€ì¼ë„ ê¸°ì¡´ ë¬¸ë²•ì„ ê·¸ëŒ€ë¡œ ë”°ë¦„ ë¼ìš°íŒ…, ìƒíƒœ ê´€ë¦¬, ë¹Œë“œ ë„êµ¬ ë“± ê³µì‹ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ íŒ¨í‚¤ì§€ë¥¼ í†µí•´ ë°°í¬í•˜ì—¬ ë³µì¡í•œ ë¡œì§ì˜ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ ë¹„êµì  ë‹¨ìˆœí•˜ê³  ì‰½ê²Œ ë§Œë“¦ React, Angulerì— ë¹„í•´ì„œ ì²˜ìŒ ì ‘í•˜ëŠ” ì‚¬ìš©ìë“¤ì´ ì§„ì…í•˜ê¸°ì— ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•ŠìŒ\nVue3 ê°œì„ ì  ê°€ìƒë” ìµœì í™” AS-IS\nê¸°ì¡´ Vueì˜ ë Œë”ë§ì„ ìœ„í•œ ê°€ìƒ DOM ì„¤ê³„ëŠ” HTML ê¸°ë°˜ì˜ í…œí”Œë¦¿ì„ ì œê³µí•˜ê³  ì´ í…œí”Œë¦¿ êµ¬ë¬¸ì„ ê°€ìƒ DOM íŠ¸ë¦¬ë¡œ ë°˜í™˜í•œ í›„ ì‹¤ì œë¡œ DOMì˜ ì–´ë–¤ ì˜ì—­ì´ ì—…ë°ì´íŠ¸ ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ì¬ê·€ì ìœ¼ë¡œ íƒìƒ‰í•˜ëŠ” ë°©ì‹\nì´ëŸ¬í•œ ë°©ì‹ì€ ë³€ê²½ì‚¬í•­ í™•ì¸ì„ ìœ„í•´ DOM íŠ¸ë¦¬ë¥¼ ì™„ì „ íƒìƒ‰ì„ í•˜ê²Œ ë˜ë¯€ë¡œ, ì‘ì€ ë³€ê²½ë„ íŠ¸ë¦¬ ì „ì²´ë¥¼ í™•ì¸í•˜ê²Œ ë˜ì–´ ë¹„íš¨ìœ¨ì ì„ TO-BE\në¶ˆí•„ìš”í•œ íƒìƒ‰ì„ ìœ„í•œ ì½”ë“œë¥¼ ì œê±°í•˜ì—¬ ë Œë”ë§ ì„±ëŠ¥ì„ í–¥ìƒì‹œì¼œ ê°€ìƒë” ìµœì í™”ë¥¼ ì§„í–‰í•¨\níƒ¬í”Œë¦¿ êµ¬ë¬¸ì—ì„œ ì •ì  ìš”ì†Œì™€ ë™ì  ìš”ì†Œë¥¼ êµ¬ë¶„í•˜ì—¬ íŠ¸ë¦¬ë¥¼ íƒìƒ‰í•  ë•Œ ë³€ê²½ì´ ë°œìƒí•˜ëŠ” ë™ì  ìš”ì†Œë§Œ íƒìƒ‰í•  ìˆ˜ ìˆê²Œ ë³€ê²½ ë Œë”ë§ ì‹œ ê°ì²´ê°€ ì—¬ëŸ¬ ë²ˆ ìƒì„±ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì»´íŒŒì¼ëŸ¬ê°€ ë¯¸ë¦¬ í…œí”Œë¦¿ êµ¬ë¬¸ ë‚´ì—ì„œ ì •ì  ìš”ì†Œ, ì„œë¸Œ íŠ¸ë¦¬, ë°ì´í„° ê°ì²´ ë“±ì„ íƒì§€í•´ ë Œë”ëŸ¬ í•¨ìˆ˜ ë°–ìœ¼ë¡œ í˜¸ì´ìŠ¤íŒ…í•¨ ì»´íŒŒì¼ëŸ¬ê°€ ë¯¸ë¦¬ í…œí”Œë¦¿ êµ¬ë¬¸ ë‚´ì—ì„œ ë™ì  ë°”ì¸ë”© ìš”ì†Œì— ëŒ€í•´ í”Œë˜ê·¸ë¥¼ ìƒì„±í•¨ íŠ¹ì • ìš”ì†Œê°€ ë™ì  í´ë˜ìŠ¤ ë°”ì¸ë”©ì„ ê°€ì§€ê³  ìˆê³  ì •ì ì¸ ê°’ì´ ì§€ì •ëœ ì†ì„±ì„ ê°–ê³  ìˆë‹¤ë©´ í´ë˜ìŠ¤ë§Œ ì²˜ë¦¬í•˜ë©´ ë˜ë¯€ë¡œ, ì»´íŒŒì¼ëŸ¬ê°€ ë¯¸ë¦¬ ìƒì„±í•´ë‘” í”Œë˜ê·¸ë¡œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì²˜ë¦¬í•˜ì—¬ ë Œë”ë§ ì†ë„ í–¥ìƒ íŠ¸ë¦¬ì‰ì´í‚¹ ê°•í™” íŠ¸ë¦¬ì‰ì´í‚¹ì´ë€?\në‚˜ë¬´ë¥¼ í”ë“¤ì–´ ìì„ ë–¨ì–´íŠ¸ë¦¬ë“¯ ëª¨ë“ˆì„ ë²ˆë“¤ë§í•˜ëŠ” ê³¼ì •ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ì œê±°í•˜ì—¬ íŒŒì¼ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ìµœì í™” ë°©ì•ˆ\nVue3ëŠ” í…œí”Œë¦¿ ì»´íŒŒì¼ëŸ¬ê°€ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë§Œ ì„í¬íŠ¸ í•˜ë„ë¡ í•˜ì˜€ìŒ.\nì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©ì„ ì§€ì›í•˜ëŠ” v-model ë””ë ‰í‹°ë¸Œì™€ ê°™ì€ ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ì ì •ì˜ ê¸°ëŠ¥ì—ì„œ íŠ¸ë¦¬ì‰ì´í‚¹ì´ ê°€ëŠ¥í–ˆëŠ”ë°, ì´ë¥¼ ê°•í™”í•˜ì—¬ ë²ˆë“¤ í¬ê¸°ë¥¼ ì ˆë°˜ ì´ìƒìœ¼ë¡œ ëŒ€í­ ì¤„ì¼ ìˆ˜ ìˆìŒ\nCompoistion API AS-IS\nê¸°ì¡´ Vueì—ì„œ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— ì—¬ëŸ¬ ê¸°ëŠ¥ì´ í¬í•¨ë˜ë©´, ê¸°ëŠ¥ë³„ë¡œ ë°ì´í„°ì˜ì—­, ë©”ì†Œë“œ ì˜ì—­, ì»´í“¨í‹°ë“œ ì˜ì—­, ë¼ì´í”„ ì‚¬ì´í´ í›…, ì™€ì¹˜ ë“± ë§ì€ ë¡œì§ì´ ì¶”ê°€ë˜ê³ , ì´ëŸ¬í•œ ê¸°ëŠ¥ ë³„ë¡œ ë¶„ë¦¬ëœ ì½”ë“œë“¤ì´ ê°ê° ê¸°ëŠ¥ì— ë§ëŠ” ë©”ì„œë“œì— í¬í•¨ë˜ê²Œ ë˜ì–´ í•„ì—°ì ìœ¼ë¡œ ì„ì´ê²Œ ë¨.\nì´ì— ë”°ë¼ ì—¬ëŸ¬ ê¸°ëŠ¥ì´ í™œìš©ë ìˆ˜ë¡ ì½”ë“œëŠ” ì»¤ì§€ë©° ë³µì¡ë„ê°€ ì¦ê°€í•¨\nTO-BE\nì»´í¬ì§€ì…˜ APIëŠ” ëª¨ë“  ì½”ë“œë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ê° ê¸°ëŠ¥ì„ í•¨ìˆ˜ë¡œ ë¬¶ì–´ ëª¨ë“ˆí™” í•˜ê¸° ë•Œë¬¸ì— íŠ¹ì • ê¸°ëŠ¥ì˜ ìœ ì§€ ë³´ìˆ˜ë¥¼ ìœ„í•´ í•´ë‹¹ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ë§Œ í™•ì¸í•˜ë©´ ëœë‹¤.\nì½”ë“œ ì¬ì‚¬ìš© AS-IS\nê¸°ì¡´ Vue ì—ì„œë„ mixin, slot ë“±ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ì½”ë“œë¥¼ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆì—ˆìœ¼ë‚˜, ë¯¹ìŠ¤ì¸ì€ í•œê³„ê°€ ì¡´ì¬í–ˆìŒ\ní”„ë¡œì íŠ¸ê°€ ì»¤ì ¸ ë¯¹ìŠ¤ì¸ì„ ë‹¤ì¤‘ìœ¼ë¡œ ìƒì†í•˜ê²Œ ë˜ë©´ ì´ë¦„ ì¶©ëŒë¡œ ì¸í•´ ì»¨ë²¤ì…˜ ë£°ì´ í•„ìš”í–ˆìŒ ë§¤ê°œë³€ìˆ˜ë¥¼ ë¯¹ìŠ¤ì¸ì„ í†µí•´ ì „ë‹¬í•  ìˆ˜ ì—†ì–´ ìœ ì—°ì„±ì´ ë–¨ì–´ì§ TO-BE\nì»´í¬ì§€ì…˜ APIë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ì˜ íŠ¹ì • ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ëª¨ë“ˆí™”ëœ ë¡œì§ì„ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.\nmixin?\nVue ì»´í¬ë„ŒíŠ¸ì— ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ì„ ë°°í¬í•˜ëŠ” ìœ ì—°í•œ ë°©ë²•. mixin ê°ì²´ëŠ” ëª¨ë“  êµ¬ì„±ìš”ì„œ ì˜µì…˜ì„ í¬í•¨í•  ìˆ˜ ìˆìœ¼ë©°, ì»´í¬ë„ŒíŠ¸ì— mixinì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ mixinì˜ ëª¨ë“  ì˜µì…˜ì´ ì»´í¬ë„ŒíŠ¸ì˜ ê³ ìœ  ì˜µì…˜ì— â€œí˜¼í•©â€ë¨\nê·¸ ì™¸ ì£¼ìš” ë³€í™” í…”ë ˆí¬íŠ¸ ë¦¬ì—‘íŠ¸ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” í¬í„¸ê³¼ ìœ ì‚¬í•œ ê¸°ëŠ¥. vueê°€ ê¸°ì¡´ì— Portal-Vue í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ ì œê³µí•˜ê³  ìˆì—ˆë˜ ê¸°ëŠ¥.\nëª¨ë‹¬ì´ë‚˜ ì•Œë¦¼ ë“±ê³¼ ê°™ì€ ìš”ì†Œë¥¼ ë Œë”ë§í•˜ë ¤ëŠ” ìœ„ì¹˜ê°€ í…œí”Œë¦¿ êµ¬ë¬¸ì´ ì†í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì¡´ì¬í•  ë•Œ, ë‹¤ë¥¸ íƒœê·¸ ìœ„ì¹˜ë¡œ ëª¨ë‹¬ì˜ ìœ„ì¹˜ë¥¼ ì¡°ì •í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“œëŠ” ê²ƒì„ CSSë¥¼ í†µí•´ í•´ê²°í•˜ê¸° ë²ˆê±°ë¡­ê¸° ë•Œë¬¸ì—, ë³´í†µ ëª¨ë‹¬ì´ í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ì–´ ì»´í¬ë„ŒíŠ¸ì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŒ.\nvue3ëŠ” í…”ë ˆí¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ì§€ ì•Šê³ ë„ ë‚´ë¶€ì˜ HTMLì„ íŠ¹ì • íƒœê·¸ë¡œ ì˜®ê²¨ ë Œë”ë§ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŒ\nì„œìŠ¤íœìŠ¤ ì„œìŠ¤íŒ¬ìŠ¤ ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ì•¡íŠ¸ê°€ ì§€ì›í•˜ë˜ ì»´í¬ë„ŒíŠ¸ ì¢…ë¥˜ ì¤‘ í•˜ë‚˜ë¡œ, ì»´í¬ë„ŒíŠ¸ ë‚´ì— ìˆëŠ” ì¡°ê±´ì¸ Async êµ¬ë¬¸ì´ ì¶©ì¡±ë˜ì§€ ì•Šìœ¼ë©´ ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œê¹Œì§€ í…œí”Œë¦¿ ë‚´ì— Fallback êµ¬ë¬¸ì„ ë Œë”ë§í•¨.\nì»´í¬ì§€ì…˜ APIë¥¼ í†µí•´ setup() í•¨ìˆ˜ ë‚´ì—ì„œ ì™¸ë¶€ APIì— ì ‘ê·¼í•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ë°ì´í„°ë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¬ ë•Œê¹Œì§€ ë¡œë”© í‘œì‹œë¥¼ í•´ì•¼ í•  ìˆ˜ ìˆë‹¤. ì´ëŸ´ ë•Œ ì„œìŠ¤íœìŠ¤ë¥¼ ì‚¬ìš©í•´ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ë©´ ëŒ€ì²´í•  í…œí”Œë¦¿ êµ¬ë¬¸ì„ ë Œë”ë§ í•  ìˆ˜ ìˆë‹¤.\në°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë„ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ Vue3ì˜ ìƒˆë¡œìš´ ë¼ì´í”„ì‚¬ì´í´ í›…ì¸ OnErrorCapturedë¥¼ ì œê³µí•˜ì—¬, ì—ëŸ¬ì— ëŒ€í•œ ì²˜ë¦¬ êµ¬ë¬¸ì„ Fallback êµ¬ë¬¸ ëŒ€ì‹  í‘œì‹œí•  ìˆ˜ ìˆë‹¤.\në¦¬ì•¡í‹°ë¹„í‹° API ì´ì „ ë²„ì „ì˜ VueëŠ” ì¸ìŠ¤í„´ìŠ¤ ë‚´ë¶€ì— ì˜¤ë¸Œì íŠ¸ë¥¼ ì„ ì–¸í•˜ê³  ìƒˆë¡œìš´ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ê°ì§€í•  ìˆ˜ ì—†ì—ˆë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ì—ëŠ” Vue.set ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ê°ì²´ì— ë°˜ì‘ì„±ì„ ë¶€ì—¬í–ˆë‹¤.\nVue3ëŠ” ì´ëŸ¬í•œ ë°ì´í„° ë°˜ì‘ì„±ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë¦¬ì•¡í‹°ë¹„í‹° APIë¥¼ ì§€ì›í•œë‹¤. ê°ì²´ì— ë°˜ì‘ì„±ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œ ë¦¬ì•¡í‹°ë¸Œ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\në‹¨ìˆœ ê°’ì´ë¼ë©´ ref ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤. ì´ì™¸ì—ë„ Readonly, ToRef ë“± ë°˜ì‘ì„±ì„ ì§€ì›í•˜ëŠ” ì—¬ëŸ¬ API ê°€ ì¶”ê°€ë˜ì—ˆë‹¤.\n","date":"2023-04-18T20:05:16+09:00","image":"https://codemario318.github.io/post/vue3/vue3_cover_huce45f5603be21a224ec2957025110a35_3700_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/vue3/","title":"Vue3 ì‚´í´ë³´ê¸°"},{"content":" í™”ë©´ì´ ìˆ˜ì •ë  ë•Œ, ë Œë”ë§ ê³¼ì •ì„ ìµœì í™”í•˜ëŠ” ë°©ë²•\nì¬ë°°ì¹˜(Reflow)ì™€ ë‹¤ì‹œ ê·¸ë¦¬ê¸°(Repainting) ì²˜ìŒ í™”ë©´ì´ ê·¸ë ¤ì§„ í›„ ì‚¬ìš©ìì˜ ì¸í„°ë ‰ì…˜ì— ì˜í•´ ìš”ì†Œê°€ ë³€ê²½ë˜ëŠ” ì¼ì´ ë°œìƒí•˜ì˜€ì„ë•Œ, Render íŠ¸ë¦¬ê°€ ë³€ê²½ë˜ë©´ì„œ ë°œìƒí•œë‹¤.\nì´ ê³¼ì •ì´ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•  ìˆ˜ë¡ ì„±ëŠ¥ ë° ì‚¬ìš©ì ê²½í—˜ì´ ì €í•˜ë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në‹¤ì‹œ ê·¸ë¦¬ê¸°(Repainting) ì¬ë°°ì¹˜ê°€ ë°œìƒí•˜ê±°ë‚˜ ìš”ì†Œì˜ ìƒ‰ìƒë“±ì´ ë³€ê²½ëœ ê²½ìš°, ë‹¤ì‹œ í™”ë©´ì— í‘œí˜„í•˜ëŠ” ë™ì‘.\ní™”ë©´ì˜ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ\nReflow ê³¼ì •ì„ ê±°ì³ í™”ë©´ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ê³„ì‚°í•œ í›„ Repaint ê³¼ì •ì„ í†µí•´ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦°ë‹¤.\ní™”ë©´ì˜ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ëŠ” Reflowì™€ Repaint ëª¨ë‘ ë°œìƒí•©ë‹ˆë‹¤. í™”ë©´ì˜ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í™”ë©´ ë³€í™”ì˜ ê²½ìš°\nRepaintë§Œ ë°œìƒí™”ë©´ êµ¬ì¡°(Layout)ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ, ë·°í¬íŠ¸ ë‚´ì—ì„œ ë Œë” íŠ¸ë¦¬ì˜ ë…¸ë“œì˜ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •ì„ ë‹¤ì‹œ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.\nopacity,Â background-color,Â visibility,Â outlineÂ ë“±ì˜ ìŠ¤íƒ€ì¼ ë³€ê²½ ì‹œì—ëŠ” Repaintë§Œ ë™ì‘í•œë‹¤. RepaintëŠ” ë³€ê²½ëœ í™”ë©´ì„ ì‹¤ì œ í™”ë©´ì— ë°˜ì˜í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ ìµœì í™”í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ í™”ë©´ ë³€í™”ë¥¼ ìµœì†Œí™”í•  ìˆ˜ ìˆëŠ” ë°©ë²• ë¿ì´ë‹¤.\nì¬ë°°ì¹˜(Reflow) í™”ë©´ êµ¬ì¡°(Layout)ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ, ë·°í¬íŠ¸ ë‚´ì—ì„œ ë Œë” íŠ¸ë¦¬ì˜ ë…¸ë“œì˜ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •\nReflowê°€ ë°œìƒí•˜ëŠ” ê²½ìš° DOM ë…¸ë“œì˜ ì¶”ê°€, ì œê±° DOM ë…¸ë“œì˜ ìœ„ì¹˜ ë³€ê²½ DOM ë…¸ë“œì˜ í¬ê¸° ë³€ê²½(margin, padding, border, width, height ë“±..) CSS3 ì• ë‹ˆë©”ì´ì…˜ê³¼ íŠ¸ëœì§€ì…˜ í°íŠ¸ ë³€ê²½, í…ìŠ¤íŠ¸ ë‚´ìš© ë³€ê²½ ì´ë¯¸ì§€ í¬ê¸° ë³€ê²½ offset, scrollTop, scrollLeftê³¼ ê°™ì€ ê³„ì‚°ëœ ìŠ¤íƒ€ì¼ ì •ë³´ ìš”ì²­ í˜ì´ì§€ ì´ˆê¸° ë Œë”ë§ ìœˆë„ìš° ë¦¬ì‚¬ì´ì§• ìœ„ì˜ ë‚´ìš©ì—ì„œ ë¹ ì¡Œë”ë¼ë„ í™”ë©´ì˜ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì—ˆë‹¤ë©´ Reflowê°€ ë°œìƒí•œë‹¤.\nReflow ìµœì í™” ì¬ë°°ì¹˜ ì‘ì—…ì€ ë‹¤ì‹œ ê·¸ë¦¬ê¸° ì‘ì—…ì„ ë™ë°˜í•˜ê¸° ë•Œë¬¸ì— ê²½ìš°ì— ë”°ë¼ Render íŠ¸ë¦¬ ì „ì²´ë¥¼ ì¬êµ¬ì„±í•  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ ë‹¤ì‹œ ê·¸ë¦¬ê¸°ë§Œ ë°œìƒí•  ë–„ì— ë¹„í•´ì„œ ë¹„ìš©ì´ í›¨ì”¬ ë¹„ì‹¸ë‹¤.\nì¬ë°°ì¹˜, ë‹¤ì‹œ ê·¸ë¦¬ê¸° ì‘ì—…ì„ ìµœì†Œí™” í•˜ëŠ” ê³¼ì •ì„ í†µí•´ ìµœì í™”ë¥¼ í•œë‹¤.\nReflowëŠ” ë Œë” íŠ¸ë¦¬ì˜ ë³€í™”ë¥¼ ìµœì†Œí™”í•˜ëŠ” ë“±.. DOMì˜ depthë¥¼ ìµœì†Œí™”\nDOMì˜ ê¹Šì´ì™€ í¬ê¸°ë¥¼ ì‘ê²Œ êµ¬ì„±í•˜ì—¬ ì¬ë°°ì¹˜ë¥¼ ë” ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê²Œ ë§Œë“ ë‹¤. ìŠ¤íƒ€ì¼ ë³€ê²½ì„ í•œë²ˆì— ì²˜ë¦¬í•œë‹¤.\n1 2 3 4 5 .newstyles { width: 100px; height: 200px; margin: 10px; } 1 2 3 4 5 // ë¹„íš¨ìœ¨ì ì¸ ì½”ë“œ ì˜ˆì‹œ var myelement = document.getElementById(\u0026#39;myelement\u0026#39;); myelement.width = \u0026#39;100px\u0026#39;; myelement.height = \u0026#39;200px\u0026#39;; myelement.style.margin = \u0026#39;10px\u0026#39;; 1 2 3 // ê°œì„ ëœ ì˜ˆì‹œ var myelement = document.getElementById(\u0026#39;myelement\u0026#39;); myelement.classList.add(\u0026#39;newstyles\u0026#39;); ë¯¸ë¦¬ ë§Œë“¤ì–´ë†“ì€ ìŠ¤íƒ€ì¼ì„ í•œë²ˆì— ì ìš©í•˜ì—¬ ì¬ë°°ì¹˜ë¥¼ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤.\nì£¼ë³€ì— ì˜í–¥ì„ ì£¼ëŠ” ìš”ì†Œë¥¼ ì œí•œí•œë‹¤.\nì¸í„°ë ‰ì…˜ì— ì˜í•´ í¬ê¸°ë‚˜ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ëŠ” ìš”ì†ŒëŠ” ë³‘ê²½ë  ë•Œ ì£¼ë³€ ìš”ì†Œë“¤ì´ ìµœëŒ€í•œ ì˜í–¥ë°›ì§€ ì•Šë„ë¡ ì •ì˜í•œë‹¤.\nìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ê²½ìš° ê°€ì¥ í•˜ìœ„ ë…¸ë“œì˜ í´ë˜ìŠ¤ë¥¼ ë³€ê²½ ì• ë‹ˆë©”ì´ì…˜ì´ ìˆëŠ” ë…¸ë“œëŠ” positionì„ fixed ë˜ëŠ” absolute ë¡œ ì§€ì •í•œë‹¤. ê°œë°œì ë„êµ¬ë¥¼ ì´ìš©í•˜ì—¬ ë¶„ì„\nê°œë°œì ë„êµ¬ë¥¼ ì´ìš©í•˜ì—¬ ì¬ë°°ì¹˜ì™€ ë‹¤ì‹œ ê·¸ë¦¬ê¸°ê°€ ì–¼ë§ˆë‚˜ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•˜ê³  í•´ë‹¹ ìš”ì†Œë¥¼ ìµœì í™” ì‹œë„í•œë‹¤.\në¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤.\nReact, VueëŠ” íŠ¸ë¦¬ í˜•íƒœì˜ Objectë¥¼ í†µí•´ Virtual DOMì„ êµ¬ì„±í•˜ê³  ìš”ì†Œê°€ ë³€ê²½ë  ë•Œ ì—…ë°ì´íŠ¸í•œë‹¤. ê·¸ í›„ ìµœì¢… ìƒíƒœì˜ Virtual DOMì„ ì‹¤ì œ DOMì— ë°˜ì˜í•˜ì—¬ ì¬ë°°ì¹˜ì™€ ë‹¤ì‹œ ê·¸ë¦¬ê¸°ë¥¼ ìµœì†Œí™” ì‹œì¼œ ë Œë”ë§ ìµœì í™”ë¥¼ êµ¬í˜„í•œë‹¤.\nìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ê²½ìš° ê°€ì¥ í•˜ìœ„ ë…¸ë“œì˜ í´ë˜ìŠ¤ë¥¼ ë³€ê²½\nDOM ë…¸ë“œì˜ í¬ê¸° ë˜ëŠ” ìœ„ì¹˜ê°€ ë³€ê²½ë˜ë©´ í•˜ìœ„ ë…¸ë“œì™€ ìƒìœ„ ë…¸ë“œê¹Œì§€ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ê°€ì¥ í•˜ìœ„ ë…¸ë“œì˜ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ê²½ìš°, ì „ì²´ ë…¸ë“œê°€ ì•„ë‹ˆë‹ˆ ì¼ë¶€ ë…¸ë“œë¡œ ì˜í–¥ì„ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” ë³´í†µ ë³€ê²½í•´ì•¼ í•  ë…¸ë“œë“¤ì´ ì •í•´ì ¸ ìˆê¸° ë•Œë¬¸ì— ì ìš© ë²”ìœ„ê°€ í¬ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì• ë‹ˆë©”ì´ì…˜ì´ ìˆëŠ” ë…¸ë“œëŠ” positionì„ fixed ë˜ëŠ” absoluteë¡œ ì§€ì •í•œë‹¤. ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ëŠ” ë§ì€ Reflow ë¹„ìš©ì´ ë°œìƒí•˜ê²Œ ë¨.\nposition ì†ì„±ì„ fixed ë˜ëŠ” absolute ë¡œ ì§€ì •í•˜ë©´, í•´ë‹¹ ë…¸ë“œë¥¼ ì „ì²´ ë…¸ë“œì—ì„œ ë¶„ë¦¬ì‹œì¼œ ì¼ë¶€ë§Œ Reflowê°€ ë°œìƒí•˜ë„ë¡ ì œí•œì‹œí‚¬ ìˆ˜ ìˆë‹¤.\nì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì¤˜ì•¼ í•˜ëŠ” ë…¸ë“œì— position ì†ì„±ì´ ì ìš©ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘ ì‹œ position ì†ì„± ê°’ì„ fixed ë˜ëŠ” absoluteë¡œ ë³€ê²½í•˜ì˜€ë‹¤ê°€ ì• ë‹ˆë©”ì´ì…˜ ì¢…ë£Œ í›„ ë‹¤ì‹œ ì›ë³µ ì‹œì¼œ ë Œë”ë§ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.\n\u0026lt;table\u0026gt; ë ˆì´ì•„ì›ƒì„ í”¼í•œë‹¤. \u0026lt;table\u0026gt; ì€ ì ì§„ì ìœ¼ë¡œ ë Œë”ë§ ë˜ì§€ ì•Šê³ , ëª¨ë‘ ë¡œë“œë˜ê³  í…Œì´ë¸” ë„ˆë¹„ê°€ ê³„ì‚°ëœ í›„ í™”ë©´ì— ê·¸ë ¤ì§„ë‹¤. í…Œì´ë¸” ì•ˆì˜ ì½˜í…ì¸ ì˜ ê°’ì— ë”°ë¼ í…Œì´ë¸” ë„ˆë¹„ê°€ ê³„ì‚°ëœë‹¤.\nì½˜í…ì¸ ì˜ ê°’ì— ë”°ë¼ í…Œì´ë¸” ë„ˆë¹„ê°€ ê³„ì‚°ë˜ê¸° ë•Œë¬¸ì—, í…Œì´ë¸” ì½˜í…ì¸ ì˜ ì‘ì€ ë³€ê²½ë§Œ ìˆì–´ë„ í…Œì´ë¸” ë„ˆë¹„ê°€ ë‹¤ì‹œ ê³„ì‚°ë˜ê³  í…Œì´ë¸”ì˜ ëª¨ë“  ë…¸ë“œë“¤ì´ Reflowê°€ ë°œìƒí•œë‹¤.\në¶€ë“ì´í•˜ê²Œ \u0026lt;table\u0026gt;ì„ ì‚¬ìš©í•  ë•ŒëŠ”Â table-layout:fixedÂ ê°’ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ntable-layout:fixedëŠ” í…Œì´ë¸”ì˜ ì½˜í…ì¸ ì˜ ê¸¸ì´ì— ë”°ë¼ í…Œì´ë¸”ì˜ ë„ˆë¹„ê°€ ê³„ì‚°ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, table-layoutì˜ ê¸°ë³¸ ê°’ì¸Â autoì— ë¹„í•´ ì„±ëŠ¥ì´ ë” ì¢‹ë‹¤.Â \u0026lt;table\u0026gt;ì„ ë ˆì´ì•„ì›ƒ ìš©ë„ê°€ ì•„ë‹Œ ë°ì´í„° í‘œì‹œ ìš©ë„ë¡œ ì‚¬ìš©í•  ë•Œë„Â table-layout:fixedë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ ë©´ì—ì„œ ë” ì¢‹ìŠµë‹ˆë‹¤. IEì˜ CSS í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. CSS í‘œí˜„ì‹ì€ ë¹„ìš©ì´ ë§¤ìš° ë†’ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì„ í”¼í•´ì•¼ í•¨\n1 2 3 .expression { width: expression(document.documentElement.clientWidth \u0026gt; 0 ? \u0026#39;1000px\u0026#39; : \u0026#39;auto\u0026#39;); } Reflowê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‘œí˜„ì‹ì´ ë‹¤ì‹œ ê³„ì‚°ë˜ê¸° ë•Œë¬¸ì— CSS í‘œí˜„ì‹ì€ ë¹„ìš©ì´ ë¹„ì‹¸ë‹¤.\nì• ë‹ˆë©”ì´ì…˜ì´ ë™ì‘í•œë‹¤ë©´, ì• ë‹ˆë©”ì´ì…˜ì— ì˜í•œ Reflowê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‘œí˜„ì‹ì´ ê³„ì‚°ë¨. CSS í•˜ìœ„ ì„ íƒìë¥¼ ìµœì†Œí™”í•œë‹¤. 1 2 3 4 5 6 7 8 /* ì˜ëª»ëœ ì˜ˆ */ .reflow_box .reflow_list li .btn{ display:block; } /* ì˜¬ë°”ë¥¸ ì˜ˆ */ .reflow_list .btn { display:block; } CSS í•˜ìœ„ ì„ íƒìë¥¼ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ë Œë”ë§ ì„±ëŠ¥ì— ë” ì¢‹ë‹¤.\në Œë” íŠ¸ë¦¬ëŠ” DOMê³¼ CSSOMì´ í•©ì³ì ¸ì„œ ë§Œë“¤ì–´ ì§€ëŠ”ë°, DOMì€ HTMLì´ íŒŒì‹± ë˜ì–´ ë§Œë“¤ì–´ì§„ íŠ¸ë¦¬ì´ê³ , CSSOMì€ CSSê°€ íŒŒì‹± ë˜ì–´ ë§Œë“¤ì–´ì§„ íŠ¸ë¦¬ì´ë‹¤.\në‘ íŠ¸ë¦¬ë¥¼ ê²°í•©í•˜ì—¬ ë Œë” íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ”ë°, CSS í•˜ìœ„ ì„ íƒìê°€ ë§ì•„ì§€ë§Œ CSSOM íŠ¸ë¦¬ì˜ ê¹Šì´ê°€ ê¹Šì–´ì§€ê²Œ ë˜ê³  ê²°êµ­ ë Œë” íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ” ì‹œê°„ì´ ë” ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆë‹¤.\nìˆ¨ê²¨ì§„ ë…¸ë“œì˜ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•œë‹¤. display:noneìœ¼ë¡œ ìˆ¨ê²¨ì§„ ë…¸ë“œë¥¼ ë³€ê²½í•  ë•ŒëŠ” Reflowê°€ ë°œìƒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìˆ¨ê²¨ì§„ ë…¸ë“œë¥¼ í‘œì‹œí•˜ê¸° ì „ì— ë…¸ë“œì˜ ì½˜í…ì¸ ë¥¼ ë¨¼ì € ë³€ê²½í•œ í›„ í™”ë©´ì— ë‚˜íƒ€ë‚´ë©´ Reflowë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\ní´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆì— ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•œë‹¤. ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ë•Œ, ìŠ¤íƒ€ì¼ì„ ê°ê° ë³€ê²½í•  ê²½ìš° ì¶”ê°€ Reflowê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•œë²ˆì— ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nìš”ì•½ Repaint(Redraw)ëŠ” í™”ë©´ì— ë³€í™”ê°€ ìˆì„ ë•Œ í™”ë©´ì„ ê·¸ë¦¬ëŠ” ê³¼ì • Reflow(Layout)ëŠ” ë·°í¬íŠ¸ ë‚´ì—ì„œ ë Œë” íŠ¸ë¦¬ì˜ ë…¸ë“œì˜ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì • Repaintê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ” í™”ë©´ì´ ë³€ê²½ë˜ëŠ” ëª¨ë“  ê²½ìš° Reflowê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ” í™”ë©´ì˜ êµ¬ì¡°ê°€ ë°”ë€Œì—ˆì„ ê²½ìš° Reflowë¥¼ ìµœì í™”í•˜ëŠ” ë°©ë²• ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ê²½ìš° ê°€ì¥ í•˜ìœ„ ë…¸ë“œì˜ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•œë‹¤. ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì• ë‹ˆë©”ì´ì…˜ì´ ìˆëŠ” ë…¸ë“œëŠ”Â positionì„Â fixedÂ ë˜ëŠ”Â absoluteë¡œ ì§€ì •í•œë‹¤. í€„ë¦¬í‹°, í¼í¬ë¨¼ìŠ¤ì˜ íƒ€í˜‘ì ì„ ì°¾ëŠ”ë‹¤. \u0026lt;table\u0026gt;Â ë ˆì´ì•„ì›ƒì„ í”¼í•œë‹¤. IEì˜ CSS í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. CSS í•˜ìœ„ ì„ íƒìë¥¼ ìµœì†Œí™”í•œë‹¤. ìˆ¨ê²¨ì§„ ë…¸ë“œì˜ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•œë‹¤. í´ë˜ìŠ¤ë¥¼ í˜¹ì€Â cssTextÂ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆì— ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•œë‹¤. DOM ì‚¬ìš©ì„ ìµœì†Œí™”í•œë‹¤. ìºì‹œë¥¼ í™œìš©í•œë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤. ","date":"2023-04-18T19:48:26+09:00","image":"https://codemario318.github.io/post/rendering_optimize/browser_cover_huc408e1e4bc0026ab219b7f7573db946e_26010_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/rendering_optimize/","title":"ëœë”ë§ ì—…ë°ì´íŠ¸ ìµœì í™”"},{"content":" CRP ìµœì í™”ë€ HTML, CSS ë° JS ê°„ ì¢…ì†ì„±ì„ ì´í•´í•˜ê³  ìµœì í™” í•˜ëŠ”ê²ƒì´ë‹¤.\nCritical Rendering Pathë€? ë¸Œë¼ìš°ì €ê°€ í˜ì´ì§€ì˜ ì´ˆê¸° ì¶œë ¥ì„ ìœ„í•´ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ìˆœì„œ\nDOM íŠ¸ë¦¬ êµ¬ì¶• CSSOM íŠ¸ë¦¬ êµ¬ì¶• JS ì‹¤í–‰ ë Œë”íŠ¸ë¦¬ êµ¬ì¶• ë ˆì´ì•„ì›ƒ ìƒì„± í˜ì¸íŒ… CSS CSSëŠ” ë Œë”ë§ ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤ì´ë¯€ë¡œ ìµœì´ˆ ë Œë”ë§ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ìµœì í™”í•˜ë ¤ë©´ í´ë¼ì´ì–¸íŠ¸ì— ìµœëŒ€í•œ ë¹ ë¥´ê²Œ ë‹¤ìš´ë¡œë“œë˜ì–´ì•¼ í•œë‹¤.\në Œë” íŠ¸ë¦¬ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ëŠ” HTML, CSS ëª¨ë‘ ë Œë”ë§ ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤ CSSê°€ ì—†ëŠ” í˜ì´ì§€ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§€ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ëŠ” DOMê³¼ CSSOMì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë  ë•Œê¹Œì§€ ë Œë”ë§ì„ ì°¨ë‹¨í•œë‹¤.\nCSSë¥¼ ê°„ë‹¨í•˜ê²Œ ìœ ì§€í•˜ê³  ê°€ëŠ¥í•œ ë¹¨ë¦¬ ì œê³µí•˜ê³  ìµœëŒ€í•œ ë¹¨ë¦¬ ë Œë”ë§ì˜ ì°¨ë‹¨ì„ í•´ì œí•´ì•¼ í•œë‹¤.\në¯¸ë””ì–´ ì¿¼ë¦¬, ë¯¸ë””ì–´ ìœ í˜• ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì •í•œ ì‚¬ìš© ì‚¬ë¡€ì™€ ë™ì ì¸ ì¡°ê±´ì— ë§ê²Œ ë Œë”ë§ì´ ì°¨ë‹¨ë˜ë¯€ë¡œ íš¨ìœ¨ì„ ë†’í ìˆ˜ ìˆë‹¤.\në¯¸ë””ì–´ ìœ í˜•ê³¼ ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ í†µí•´ ì¼ë¶€ CSS ë¦¬ì†ŒìŠ¤ë¥¼ ë Œë”ë§ ë¹„ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤ë¡œ í‘œì‹œí•  ìˆ˜ ìˆìŒ ë¸Œë¼ìš°ì €ëŠ” ì°¨ë‹¨ ë™ì‘ì´ë“  ë¹„ì°¨ë‹¨ ë™ì‘ì´ë“  ê´€ê³„ì—†ì´ ëª¨ë“  CSS ë¦¬ì†ŒìŠ¤ë¥¼ ë‹¤ìš´ë¡œë“œí•¨ ë¯¸ë””ì–´ ì¿¼ë¦¬ëŠ” í•˜ë‚˜ì˜ ë¯¸ë””ì–´ ìœ í˜•ê³¼ íŠ¹ì • ë¯¸ë””ì–´ ê¸°ëŠ¥ì˜ ì¡°ê±´ì„ í™•ì¸í•˜ëŠ” 0ê°œ ì´ìƒì˜ ì‹ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.\n1 2 3 4 5 6 \u0026lt;!-- 1 --\u0026gt; \u0026lt;link href=\u0026#34;style.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;!-- 2 --\u0026gt; \u0026lt;link href=\u0026#34;print.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34; media=\u0026#34;print\u0026#34;\u0026gt; \u0026lt;!-- 3 --\u0026gt; \u0026lt;link href=\u0026#34;other.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34; media=\u0026#34;(min-width: 40em)\u0026#34;\u0026gt; ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš°\në¯¸ë””ì–´ ìœ í˜•ì´ë‚˜ ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ì œê³µí•˜ì§€ ì•Šì•„ì„œ ëª¨ë“  ê²½ìš°ì— ì ìš©ë¨ ì¦‰ í•­ìƒ ë Œë”ë§ì„ ì°¨ë‹¨í•¨ ë¯¸ë””ì–´ ìœ í˜•ì„ ì ìš©\nì½˜í…ì¸ ê°€ ì¸ì‡„ë  ë•Œë§Œ ì ìš© ì²˜ìŒì— ë¡œë“œë  ë•Œ í˜ì´ì§€ ë Œë”ë§ì„ ì°¨ë‹¨í•  í•„ìš”ê°€ ì—†ìŒ ë¯¸ë””ì–´ ì¿¼ë¦¬ ì ìš©\nì¡°ê±´ì´ ì¼ì¹˜í•˜ë©´ ìŠ¤íƒ€ì¼ì‹œíŠ¸ê°€ ë‹¤ìš´ë¡œë“œë˜ê³  ì²˜ë¦¬ë  ë•Œê¹Œì§€ ë¸Œë¼ìš°ì €ê°€ ë Œë”ë§ì„ ì°¨ë‹¨. JS ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” íŒŒì„œ ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤(parser blocking resource)ì´ë©°, JSë¥¼ ì‚¬ìš©í•˜ë©´ ì½˜í…ì¸ , ìŠ¤íƒ€ì¼, ì‚¬ìš©ìì™€ì˜ ìƒí˜¸ì‘ìš©ë“± ê±°ì˜ ëª¨ë“ ê²ƒì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.\nJSì‹¤í–‰ì€ DOM ìƒì„±ì„ ì°¨ë‹¨í•˜ê³  í˜ì´ì§€ ë Œë”ë§ì„ ì§€ì—°í•˜ê²Œ ëœë‹¤.\nìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¹„ë™ê¸°ë¡œ ì„¤ì •í•˜ê³ , CRPì—ì„œ ë¶ˆí•„ìš”í•œ JSë¥¼ ì œê±°í•´ì•¼ í•œë‹¤. JSì™€ HTMLì˜ ì¢…ì†ì„± HTML íŒŒì„œëŠ” script íƒœê·¸ë¥¼ ë§Œë‚˜ë©´ DOM ìƒì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ì¤‘ì§€í•˜ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ê¶Œí•œì„ ë„˜ê¸´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì˜ ì‹¤í–‰ì´ ì™„ë£Œëœ í›„ ë¸Œë¼ìš°ì €ê°€ ì¤‘ì§€í–ˆë˜ ì‹œì ë¶€í„° DOM ìƒì„±ì„ ë‹¤ì‹œ ì‹œì‘í•˜ê²Œ ëœë‹¤.\nscriptÂ íƒœê·¸ì˜ ë’·ë¶€ë¶„ì—ì„œ ì •ì˜ëœ ì–´ë– í•œ íƒœê·¸ë“¤ë„ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë…¸ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤. ë˜í•œ, ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ DOM ìƒì„±ì´ ì°¨ë‹¨ë˜ê³ , ì´ë¡œ ì¸í•´ ì´ˆê¸° ë Œë”ë§ë„ ì§€ì—°ëœë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ì¸í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í™”ë©´ì— ê·¸ë ¤ì§€ëŠ” íƒœê·¸ë“¤ì´ ëª¨ë‘ íŒŒì‹± ëœ í›„ì¸,Â \u0026lt;body\u0026gt;Â íƒœê·¸ë¥¼ ë‹«ê¸° ì§ì „ì—Â \u0026lt;script\u0026gt;Â íƒœê·¸ë¥¼ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nJSì™€ CSSì˜ ì¢…ì†ì„± CSSë¥¼ íŒŒì‹± í•˜ëŠ” ë™ì•ˆ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìŠ¤íƒ€ì¼ ì •ë³´ë¥¼ ìš”ì²­í•˜ëŠ” ê²½ìš°, CSSê°€ íŒŒì‹±ì´ ëë‚˜ì§€ ì•Šì€ ìƒíƒœë¼ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. CSS íŒŒì‹±ìœ¼ë¡œ ìƒì„±ë˜ëŠ” CSSOMê³¼ JavaScriptì—ì„œ ìŠ¤íƒ€ì¼ ìˆ˜ì • ì‹œ ë°œìƒí•˜ëŠ” CSSOM ìˆ˜ì • ì‚¬ì´ì— ê²½ìŸ ì¡°ê±´(race condition)ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\në¸Œë¼ìš°ì €ëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ CSSOMì„ ìƒì„±í•˜ëŠ” ì‘ì—…ì´ ì™„ë£Œí•  ë•Œê¹Œì§€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë° DOM ìƒì„±ì„ ì§€ì—°ì‹œí‚¨ë‹¤. DOM, CSSOM, ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê°„ì— ì¢…ì†ì„± ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì— í˜ì´ì§€ë¥¼ ì²˜ë¦¬í•˜ê³  ë Œë”ë§ í•  ë•Œ ìƒë‹¹í•œ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në¹„ë™ê¸° JS HTMLì„ íŒŒì‹± í•˜ë©´ì„œ script íƒœê·¸ë¥¼ ë§Œë‚˜ë©´ DOM ìƒì„±ì„ ì¤‘ì§€ì‹œí‚¤ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì—ê²Œ ì œì–´ ê¶Œí•œì„ ë„˜ê²¨ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•œ í›„, DOM ìƒì„±ì„ ì§„í–‰í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;!-- index.html --\u0026gt; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width,initial-scale=1\u0026#34;\u0026gt; \u0026lt;link href=\u0026#34;style.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Critical Path: Script\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Hello \u0026lt;span\u0026gt;web performance\u0026lt;/span\u0026gt; students!\u0026lt;/p\u0026gt; \u0026lt;script src=\u0026#34;app.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 1 2 3 4 5 6 7 8 9 // app.js var span = document.getElementsByTagName(\u0026#39;span\u0026#39;)[0]; span.textContent = \u0026#39;interactive\u0026#39;; // change DOM text content span.style.display = \u0026#39;inline\u0026#39;; // change CSSOM property // create a new element, style it, and append it to the DOM var loadTime = document.createElement(\u0026#39;div\u0026#39;); loadTime.textContent = \u0026#39;You loaded this page on: \u0026#39; + new Date(); loadTime.style.color = \u0026#39;blue\u0026#39;; document.body.appendChild(loadTime); ìœ„ì—ì„œ ì‚´í´ë³¸ ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¿ë§Œ ì•„ë‹ˆë¼ ìœ„ì˜ ì½”ë“œì™€ ê°™ì´Â scriptÂ íƒœê·¸ë¥¼ í†µí•´ í¬í•¨ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—­ì‹œ íŒŒì‹±ì„ ì¤‘ì§€ì‹œí‚¨ë‹¤.\nscriptÂ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ê²½ìš°, ì„œë²„ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê°€ì ¸ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼í•˜ë©° ì´ë¡œ ì¸í•´ ìˆ˜ì‹­~ìˆ˜ì²œ ë°€ë¦¬ì´ˆì˜ ì§€ì—°ì´ ì¶”ê°€ë¡œ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nê¸°ë³¸ì ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë  ë•Œ, ìŠ¤í¬ë¦½íŠ¸ê°€ í˜ì´ì§€ì—ì„œ ë¬´ì—‡ì„ ìˆ˜í–‰í• ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ëŠ” ìµœì•…ì˜ ëŒ€ë¹„í•˜ì—¬ íŒŒì„œë¥¼ ì°¨ë‹¨í•œë‹¤.\në¸Œë¼ìš°ì €ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°”ë¡œ ì‹¤í–‰í•  í•„ìš”ê°€ ì—†ìŒì„ ì•Œë ¤ì¤€ë‹¤ë©´, ë¸Œë¼ìš°ì €ëŠ” ê³„ì†í•´ì„œ DOMì„ ìƒì„±í•  ìˆ˜ ìˆê³  DOM ìƒì„±ì´ ëë‚œ í›„ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nì´ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ë¹„ë™ê¸° ìë°”ìŠ¤í¬ë¦½íŠ¸ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width,initial-scale=1\u0026#34;\u0026gt; \u0026lt;link href=\u0026#34;style.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Critical Path: Script Async\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Hello \u0026lt;span\u0026gt;web performance\u0026lt;/span\u0026gt; students!\u0026lt;/p\u0026gt; \u0026lt;script src=\u0026#34;app.js\u0026#34; async\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ìœ„ì˜ ì½”ë“œì™€ ê°™ì´ ë‹¨ìˆœíˆ script íƒœê·¸ì— async ì†ì„±ì„ ì¶”ê°€í•´ ì£¼ë©´ ë©ë‹ˆë‹¤. async ì†ì„±ì„ script íƒœê·¸ì— ì¶”ê°€í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‚¬ìš© ê°€ëŠ¥í•´ì§ˆ ë•Œê¹Œì§€ ë¸Œë¼ìš°ì €ì—ê²Œ DOM ìƒì„±ì„ ì¤‘ì§€í•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤ëŠ” ê²ƒì„ ì•Œë¦´ ìˆ˜ ìˆë‹¤.\në¦¬ì†ŒìŠ¤ ìš°ì„ ìˆœìœ„ ì§€ì • ë¸Œë¼ìš°ì €ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ë¦¬ì†ŒìŠ¤(ìŠ¤í¬ë¦½íŠ¸ë‚˜ ì´ë¯¸ì§€ë³´ë‹¤ CSS ìš°ì„ )ë¥¼ ìš°ì„  ë¡œë“œí•˜ê¸° ìœ„í•´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤ ìƒê°ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì¶”ì¸¡í•˜ì—¬ ë¨¼ì € ë¡œë“œí•œë‹¤. í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ì—ê²Œ ë¦¬ì†ŒìŠ¤ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì „ë‹¬í•˜ì—¬ ì¤‘ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë¨¼ì € ì²˜ë¦¬í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.\npreload ì†ì„± í˜„ì¬ í˜ì´ì§€ì—ì„œ ë¹ ë¥´ê²Œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì— ì‚¬ìš©ë˜ëŠ” ì†ì„±ì´ë‹¤.\n\u0026lt;link rel=\u0026quot;preload\u0026quot; as=\u0026quot;...\u0026quot;\u0026gt;ëŠ” ë¸Œë¼ìš°ì €ì—ê²Œ í˜„ì¬ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•˜ë©°, ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ ê°€ì ¸ì˜¤ê¸°ë¥¼ ì‹œë„í•´ì•¼ í•œë‹¤ê³  ì•Œë¦¬ëŠ” ì—­í• ì„ í•œë‹¤.\n1 2 \u0026lt;link rel=\u0026#34;preload\u0026#34; as=\u0026#34;script\u0026#34; href=\u0026#34;super-important.js\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preload\u0026#34; as=\u0026#34;style\u0026#34; href=\u0026#34;critical.css\u0026#34;\u0026gt; asÂ ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ì˜ ìœ í˜•ì„ ì•Œë ¤ì¤˜ì•¼ í•œë‹¤. ë¸Œë¼ìš°ì €ëŠ” ì˜¬ë°”ë¥¸ ìœ í˜•ì´ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ë¯¸ë¦¬ ê°€ì ¸ì˜¨ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. preloadëŠ” ë¸Œë¼ìš°ì €ê°€ ë°˜ë“œì‹œ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¤ê²Œ ë§Œë“¤ë©°, ë¦¬ì†ŒìŠ¤ë¥¼ ë‘ ë²ˆ ê°€ì ¸ì˜¤ê²Œ í•˜ê±°ë‚˜, í•„ìš”í•˜ì§€ ì•Šì€ ê²ƒì„ ê°€ì ¸ì˜¤ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼í•œë‹¤.\npreloadë¥¼ ì´ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì™”ì§€ë§Œ í˜„ì¬ í˜ì´ì§€ì—ì„œ ì¦‰ì‹œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ëŠ” ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì›Œë‹ ë¡œê·¸ê°€ ë…¸ì¶œëœë‹¤.\nprefetch ì†ì„± ë¯¸ë˜ì— í•„ìš”í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì™€ì•¼ í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì†ì„±ì´ë‹¤.Â \u0026lt;link rel=\u0026quot;prefetch\u0026quot;\u0026gt;ëŠ” í˜„ì¬ í˜ì´ì§€ ë¡œë”©ì´ ë§ˆì¹˜ê³  ë‹¤ìš´ë¡œë“œí•  ì—¬ìœ ê°€ ìƒê²¼ì„ ë•Œ ê°€ì¥ ë‚®ì€ ìš°ì„ ìˆœìœ„ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\nprefetchëŠ” ì‚¬ìš©ìê°€ ë‹¤ìŒì— í•  í–‰ë™ì„ ë¯¸ë¦¬ ì¤€ë¹„í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í˜„ì¬ í˜ì´ì§€ê°€ 1í˜ì´ì§€ ë¼ë©´,\n1 \u0026lt;link rel=\u0026#34;prefetch\u0026#34; href=\u0026#34;page-2.html\u0026#34;\u0026gt; ìœ„ì˜ ì½”ë“œì™€ ê°™ì´ ì‚¬ìš©í•˜ì—¬ 2í˜ì´ì§€ë¥¼ ë¨¼ì € ê°€ì ¸ì™€ ì¤€ë¹„í•˜ê²Œ ëœë‹¤.\npage-2.htmlì˜ HTMLë§Œ ê°€ì ¸ì˜¤ê³  page-2.htmlì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¦¬ì†ŒìŠ¤ëŠ” ê°€ì ¸ì˜¤ì§€ ì•ŠëŠ”ë‹¤.\nìš”ì•½ CSS ìµœì í™” ë°©ë²•\në¯¸ë””ì–´ ìœ í˜•, ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ì‚¬ìš© JavaScript ìµœì í™” ë°©ë²•\nbodyÂ íƒœê·¸ ë‹«ê¸° ì§ì „Â \u0026lt;script\u0026gt;Â íƒœê·¸ë¥¼ ì„ ì–¸ \u0026lt;script ... async\u0026gt;ì™€ ê°™ì´Â asyncÂ ì†ì„±ì„ ì‚¬ìš© ë¦¬ì†ŒìŠ¤ ìš°ì„ ìˆœìœ„ ì§€ì •\ní˜„ì¬ í˜ì´ì§€ì—ì„œ ë¹ ë¥´ê²Œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì—Â \u0026lt;link rel=\u0026quot;preload\u0026quot; as=\u0026quot;...\u0026quot;\u0026gt;ì™€ ê°™ì´Â preloadÂ ì†ì„±ì„ ì‚¬ìš© ë¯¸ë˜ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ëŠ”Â \u0026lt;link rel=\u0026quot;prefetch\u0026quot;\u0026gt;ì™€ ê°™ì´Â prefetchÂ ì†ì„±ì„ ì‚¬ìš© ","date":"2023-04-18T19:27:35+09:00","image":"https://codemario318.github.io/post/crp_optimize/browser_cover_huc408e1e4bc0026ab219b7f7573db946e_26010_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/crp_optimize/","title":"Critical Rendering Path ìµœì í™”"},{"content":"ë¸Œë¼ìš°ì € ê¸°ë³¸ êµ¬ì¡° ì‚¬ìš©ì ì¸í…Œí˜ì´ìŠ¤\nìš”ì²­í•œ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ì˜ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ë¶€ë¶„\në¸Œë¼ìš°ì € ì—”ì§„\nì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì™€ ë Œë”ë§ ì—”ì§„ ì‚¬ì´ì˜ ë™ì‘ì„ ì œì–´\nëœë”ë§ ì—”ì§„\nìš”ì²­í•œ ì½˜í…ì¸  í‘œì‹œ\nHTMLì„ ìš”ì²­í•˜ë©´ HTMLê³¼ CSSë¥¼ íŒŒì‹±í•˜ì—¬ í™”ë©´ì— í‘œì‹œí•¨ í†µì‹ \nHTTP ìš”ì²­ê³¼ ê°™ì€ ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œì— ì‚¬ìš©ë¨.\ní”Œë«í¼ ë…ë¦½ì ì¸ ì¸í„°í˜ì´ìŠ¤ì´ê³  ê° í”Œë«í¼ í•˜ë¶€ì—ì„œ ì‹¤í–‰ë¨. UI ë°±ì•¤ë“œ\nì½¤ë³´ ë°•ìŠ¤ì™€ ì°½ ê°™ì€ ê¸°ë³¸ì ì¸ ì¥ì¹˜ë¥¼ ê·¸ë¦¼\ní”Œë«í¼ì—ì„œ ëª…ì‹œí•˜ì§€ ì•Šì€ ì¼ë°˜ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¡œì„œ, OS ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì²´ê³„ë¥¼ ì‚¬ìš© ìë°”ìŠ¤í¬ë¦½íŠ¸ í•´ì„ê¸°\nìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ í•´ì„í•˜ê³  ì‹¤í–‰\nìë£Œ ì €ì¥ì†Œ\nìë£Œë¥¼ ì €ì¥í•˜ëŠ” ê³„ì¸µìœ¼ë¡œ ì¿ í‚¤ì™€ ê°™ì€ ëª¨ë“  ì¢…ë¥˜ì˜ ìì›ì„ í•˜ë“œë””ìŠ¤í¬ì— ì €ì¥.\nHTML5ì—ëŠ” ë¸Œë¼ìš°ì €ê°€ ì§€ì›í•˜ëŠ” \u0026lsquo;ì›¹ ë°ì´í„° ë² ì´ìŠ¤\u0026rsquo; ê°€ ì •ì˜ë˜ì–´ ìˆë‹¤. í¬ë¡¬ì€ ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ì™€ ë‹¬ë¦¬ ê° íƒ­ë§ˆë‹¤ ë³„ë„ì˜ ë Œë”ë§ ì—”ì§„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìœ ì§€í•˜ì—¬, ê° íƒ­ì´ ë…ë¦½ëœ í”„ë¡œì„¸ìŠ¤ë¡œ ì²˜ë¦¬ëœë‹¤.\në Œë”ë§ ë Œë”ë§ ì—”ì§„ ìš”ì²­ë°›ì€ ë‚´ìš©ì„ ë¸Œë¼ìš°ì € í™”ë©´ì— í‘œì‹œí•¨. HTML ë° XML ë¬¸ì„œì™€ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.\në Œë”ë§ ì—”ì§„ì˜ ì—­í• ì€ ìš”ì²­ë°›ì€ ë‚´ìš©ì„ ë¸Œë¼ìš°ì € í™”ë©´ì— ë‚˜íƒ€ë‚´ëŠ” ì¼ì´ë‹¤. HTML, CSS JS ë“±ì˜ íŒŒì¼ì„ ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì— í‘œì‹œí•  ìˆ˜ ìˆë„ë¡ ë³€í™˜í•˜ì—¬ í”½ì…€ ë‹¨ìœ„ë¡œ ë‚˜íƒ€ë‚¸ë‹¤.\në Œë”ë§ ì—”ì§„ ë™ì‘ê³¼ì • ë Œë”ë§ ì—”ì§„ì€ ìš”ì²­í•œ ë¬¸ì„œì˜ ë‚´ìš©ì„ ì–»ëŠ” ê²ƒì—ì„œ ì‹œì‘í•˜ë©°, ë³´í†µ 8KB ë‹¨ìœ„ë¡œ ì „ì†¡ëœë‹¤.\në Œë”ë§ ì—”ì§„ì€ HTML ë¬¸ì„œë¥¼ íŒŒì‹±í•˜ê³  ì½˜í…ì¸  íŠ¸ë¦¬ ë‚´ë¶€ì—ì„œ íƒœê·¸ë¥¼ DOM ë…¸ë“œë¡œ ë³€í™˜í•œë‹¤. ê·¸ ë‹¤ìŒ ì™¸ë¶€ CSS íŒŒì¼ê³¼ í•¨ê»˜ í¬í•¨ëœ ìŠ¤íƒ€ì¼ ìš”ì†Œë„ íŒŒì‹±í•œë‹¤. ìŠ¤íƒ€ì¼ ì •ë³´ì™€ HTML í‘œì‹œ ê·œì¹™ì€ ë Œë” íŠ¸ë¦¬ ë¼ê³  ë¶€ë¥´ëŠ” ë˜ ë‹¤ë¥¸ íŠ¸ë¦¬ë¥¼ ìƒì„±í•œë‹¤.\níŒŒì‹± ë¬¸ì„œë¥¼ í†µí•´ íŒŒì‹±íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ” ê³¼ì •\nì–´íœ˜ë¶„ì„: Tokenizer\në¬¸ì„œë¥¼ ì½ì–´ ì •í•´ë†“ì€ ê·œì¹™ì„ í†µí•´ í† í°ì„ ì¶”ì¶œí•˜ëŠ” ë„êµ¬, ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤.\nToken: ì˜ë¯¸ì ìœ¼ë¡œ ë”ì´ìƒ ë‚˜ëˆŒ ìˆ˜ ì—†ëŠ” ê¸°ë³¸ì ì¸ ì–¸ì–´ ìš”ì†Œë¥¼ í‘œí˜„í•˜ëŠ” ë°ì´í„° ë‹¨ìœ„\nêµ¬ë¬¸ë¶„ì„: Lexer\ní† í°ì— ì•½ì†ëœ ì˜ë¯¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ë„êµ¬, ê³¼ì •\nì–´íœ˜ë¶„ì„ê³¼ êµ¬ë¬¸ë¶„ì„ì˜ ê²°ê³¼ë¬¼ì„ ì´ìš©í•˜ì—¬ íŒŒì‹±íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ” ê³¼ì •ì´ë‹¤. ì»´íŒŒì¼ íŒŒì‹±ì„ í†µí•´ ë§Œë“¤ì–´ì§„ ê²°ê³¼ë¬¼ì„ ê¸°ê³„ ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ë‹¤\nDOM - ë¬¸ì„œ ê°ì²´ ëª¨ë¸: Document Object Model HTML, XML ë¬¸ì„œì˜ í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. HTML ë¬¸ì„œì˜ ê°ì²´ í‘œí˜„\në¬¸ì„œì˜ êµ¬ì¡°í™”ëœ í‘œí˜„ì„ ì œê³µí•˜ë©° í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ DOM êµ¬ì¡°ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•˜ì—¬ ê·¸ë“¤ì´ ë¬¸ì„œ êµ¬ì¡°, ìŠ¤íƒ€ì¼, ë‚´ìš© ë“±ì„ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ë•ëŠ”ë‹¤.\nnodesì™€ propertyì™€ method ë¥¼ ê°–ê³  ìˆëŠ” objectsë¡œ ë¬¸ì„œë¥¼ í‘œí˜„í•œë‹¤. ì´ë“¤ì€ ì›¹ í˜ì´ì§€ë¥¼ ìŠ¤í¬ë¦½íŠ¸ ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë“¤ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆê²Œ ì—°ê²°ì‹œì¼œì£¼ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\në™ì¼í•œ ë¬¸ì„œë¥¼ í‘œí˜„, ì €ì¥, ì¡°ì‘í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•˜ëŠ” ì›¹ í˜ì´ì§€ì˜ ê°ì²´ ì§€í–¥ í‘œí˜„\në”°ë¼ì„œ, DOMì€ ë§ˆí¬ì—…ê³¼ 1:1 ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.\n1 2 3 4 5 6 \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Hello World\u0026lt;/p\u0026gt; \u0026lt;div\u0026gt;\u0026lt;img src=\u0026#34;example.png\u0026#34; /\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; CSSOM(CSS Object Model) ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ DOMì„ ìƒì„±í•˜ëŠ” ê³¼ì • ê·¸ëŒ€ë¡œ CSSOMì„ ìƒì„±í•œë‹¤.\në¸Œë¼ìš°ì €ëŠ” DOMì„ ìƒì„±í•˜ëŠ” ë™ì•ˆ ì™¸ë¶€ CSSë¥¼ ì°¸ì¡°í•˜ëŠ” \u0026lt;link\u0026gt; íƒœê·¸ë¥¼ ë§Œë‚˜ê²Œ ë˜ë©´ ë¸Œë¼ìš°ì €ì— ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•¨. CSSì˜ ì›ì‹œ ë°”ì´íŠ¸ê°€ ë¬¸ìì—´ë¡œ ë³€í™˜ ëœ í›„ ì°¨ë¡€ë¡œ í† í°ê³¼ ë…¸ë“œë¡œ ë³€í™˜ë˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ CSSOMì´ë¼ëŠ” íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ë§Œë“ ë‹¤. CSSOMì€ í•˜í–¥ì‹ìœ¼ë¡œ ê·œì¹™ì„ ì ìš©í•˜ê¸° ë•Œë¬¸ì— íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤. ìµœì¢… ìŠ¤íƒ€ì¼ì„ ê³„ì‚°í•  ë•Œ ë¸Œë¼ìš°ì €ëŠ” í•´ë‹¹ ë…¸ë“œì— ì ìš© ê°€ëŠ¥í•œ ê°€ì¥ ì¼ë°˜ì ì¸ ê·œì¹™ìœ¼ë¡œ ì‹œì‘í•´ ë” êµ¬ì²´ì ì¸ ê·œì¹™ì„ ì ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\nDOM íŠ¸ë¦¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ CSSOM íŠ¸ë¦¬ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì— í•´ë‹¹ í•˜ëŠ” ìŠ¤íƒ€ì¼ë£°ì´ ì ìš©ì´ ëœ íŠ¸ë¦¬ í˜•íƒœë¡œ êµ¬ì„±ë˜ëŠ” ê²ƒ ê°™ë‹¤.\nì–´íƒœì¹˜ë¨¼íŠ¸: ëœë”ë§ íŠ¸ë¦¬ ìƒì„± ê³¼ì • DOM íŠ¸ë¦¬ì™€ CSSOM íŠ¸ë¦¬ë¥¼ ê²°í•©í•˜ì—¬, í‘œì‹œí•´ì•¼ í•  ìˆœì„œë¡œ ë‚´ìš©ì„ ê·¸ë ¤ëƒ ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ë Œë”íŠ¸ë¦¬ë¥¼ í˜•ì„±í•œë‹¤. ì´ ê³¼ì •ì„ ì›¹í‚·ì—ì„œëŠ” ì–´í…Œì¹˜ë¨¼íŠ¸ë¼ê³  í•œë‹¤.\në Œë”íŠ¸ë¦¬ëŠ” í™”ë©´ì— í‘œì‹œë˜ëŠ” ê° ë…¸ë“œì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” ë ˆì´ì•„ì›ƒì— ì‚¬ìš©ë˜ê³  í”½ì…€ì„ í•˜ë©´ì— ê·¸ë¦¬ëŠ” í˜ì¸íŠ¸ ê³¼ì •ì—ë„ ì‚¬ìš©ë¨\nëœë” íŠ¸ë¦¬ ìƒì„± ê³¼ì • DOM íŠ¸ë¦¬ êµ¬ì¶•ì„ ìœ„í•œ HTML íŒŒì‹± HTML íŒŒì‹± â†’ DOM íŠ¸ë¦¬ êµ¬ì¶• CSSOM íŠ¸ë¦¬ êµ¬ì¶•ì„ ìœ„í•œ CSS íŒŒì‹± CSS â†’ CSSOM íŠ¸ë¦¬ ìƒì„± DOM íŠ¸ë¦¬ì™€ CSSOM íŠ¸ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ëœë” íŠ¸ë¦¬ êµ¬ì¶• DOM Tree + CSSOM Tree = Rendering Tree ëœë”ë§ íŠ¸ë¦¬ ìƒì„± ê³¼ì • 2 DOM íŠ¸ë¦¬ì˜ ë£¨íŠ¸ì—ì„œ ì‹œì‘í•˜ì—¬ í‘œì‹œë˜ëŠ” ë…¸ë“œ ê°ê°ì„ íƒìƒ‰í•¨ ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸, ë©”íƒ€ íƒœê·¸ ë“± ëœë”ë§ëœ ì¶œë ¥ì— ë°˜ì˜ë˜ì§€ ì•ŠëŠ” íŠ¸ë¦¬ë“¤ì´ ìƒëµë¨ CSSë¥¼ ì†ì„±ì„ í†µí•´ ìˆ¨ê²¨ì§€ëŠ” ë…¸ë“œë“¤ì´ ìƒëµë¨ ex) display: none í‘œì‹œëœ ê° ë…¸ë“œì— ëŒ€í•´ ì ì ˆí•˜ê²Œ ì¼ì¹˜í•˜ëŠ” CSSOM ê·œì¹™ì„ ì°¾ì•„ ì ìš© í‘œì‹œëœ ë…¸ë“œë¥¼ ì½˜í…ì¸  ë° ê³„ì‚°ëœ ìŠ¤íƒ€ì¼ê³¼ í•¨ê»˜ ë‚´ë³´ëƒ„ visibility: hiddenì€ ë¹„ì–´ ìˆëŠ” ìƒìë¡œ ë Œë”ë§ë˜ì§€ë§Œ display: noneì€ ëœë”ë§ì—ì„œ ì œì™¸ë¨. ë”°ë¼ì„œ í›„ìëŠ” ìŠ¤í¬ë¦° ë¦¬ë”ê¸°ì—ì„œ ì½ì„ ìˆ˜ ì—†ìŒ, ì „ìëŠ” ì¼ë¶€ ìŠ¤í¬ë¦° ë¦¬ë”ê¸°ì—ì„œ ì¸ì‹í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì ‘ê·¼ì„±ì„ ìœ„í•œ IR ì²˜ë¦¬ì‹œ ì£¼ì˜í•´ì•¼ í•œë‹¤.\nìµœì¢… ì¶œë ¥ì€ í™”ë©´ì— í‘œì‹œë˜ëŠ” ëª¨ë“  ë…¸ë“œì˜ ì½˜í…ì¸  ë° ìŠ¤íƒ€ì¼ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ë Œë”ë§ íŠ¸ë¦¬\në ˆì´ì•„ì›ƒ ë Œë” íŠ¸ë¦¬ê°€ ìƒì„±ë˜ê³ , ê¸°ê¸°ì˜ ë·°í¬íŠ¸ ë‚´ì—ì„œ ë Œë” íŠ¸ë¦¬ì˜ ë…¸ë“œê°€ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •.\nëª¨ë“  ìƒëŒ€ì ì¸ ì¸¡ì •ê°’ì€ í™”ë©´ì—ì„œ ì ˆëŒ€ì ì¸ í”½ì…€ë¡œ ë³€í™˜ë¨. ì¦‰ CSSì— ìƒëŒ€ì ì¸ ê°’ì¸ %ë¡œ í• ë‹¹ëœ ê°’ë“¤ì€ ì ˆëŒ€ì ì¸ ê°’ì¸ PX ë‹¨ìœ„ë¡œ ë³€í™˜.\n1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width,initial-scale=1\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Critial Path: Hello world!\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div style=\u0026#34;width: 50%\u0026#34;\u0026gt; \u0026lt;div style=\u0026#34;width: 50%\u0026#34;\u0026gt;Hello world!\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ë·°í¬íŠ¸ ë‚´ì—ì„œ ê° ìš”ì†Œì˜ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ì •í™•í•˜ê²Œ ìº¡ì²˜í•˜ëŠ” ìƒì ëª¨ë¸ì´ ì¶œë ¥ëœë‹¤. ëª¨ë“  ìƒëŒ€ì ì¸ ì¸¡ì •ê°’ì€ í™”ë©´ì—ì„œ ì ˆëŒ€ì ì¸ í”½ì…€ë¡œ ë³€í™˜ëœë‹¤.\ní˜ì¸íŒ… ë Œë”ë§ íŠ¸ë¦¬ì˜ ê° ë…¸ë“œë¥¼ í™”ë©´ì˜ ì‹¤ì œ í”½ì…€ë¡œ ë³€í™˜í•˜ëŠ” ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ ì´ëŸ¬í•œ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\u0026lsquo;Layout\u0026rsquo; ì´ë²¤íŠ¸ëŠ” íƒ€ì„ë¼ì¸ì—ì„œ ë Œë”ë§ íŠ¸ë¦¬ ìƒì„±, ìœ„ì¹˜ ë° í¬ê¸° ê³„ì‚°ì„ ìº¡ì²˜. ë ˆì´ì•„ì›ƒì´ ì™„ë£Œë  ë•Œ ë¸Œë¼ìš°ì €ê°€ Paint Setup ë° Paint ì´ë²¤íŠ¸ë¥¼ ë°œìƒ. ì´ëŸ¬í•œ ì‘ì—…ì€ ë Œë”ë§ íŠ¸ë¦¬ë¥¼ í™”ë©´ì˜ í”½ì…€ë¡œ ë³€í™˜. ë Œë”ë§ íŠ¸ë¦¬ ìƒì„±, ë ˆì´ì•„ì›ƒ ë° í˜ì¸íŠ¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì‹œê°„ì€ ë¬¸ì„œì˜ í¬ê¸°, ì ìš©ëœ ìŠ¤íƒ€ì¼ ë° ì‹¤í–‰ ì¤‘ì¸ ê¸°ê¸°ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.\në¬¸ì„œê°€ í´ìˆ˜ë¡ ë¸Œë¼ìš°ì €ê°€ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì‘ì—…ë„ ë” ë§ì•„ì§€ë©°, ìŠ¤íƒ€ì¼ì´ ë³µì¡í• ìˆ˜ë¡ í˜ì¸íŒ…ì— ê±¸ë¦¬ëŠ” ì‹œê°„ë„ ëŠ˜ì–´ë‚˜ê²Œ ëœë‹¤.\nex) ë‹¨ìƒ‰ì€ í˜ì¸íŠ¸í•˜ëŠ” ë° ì‹œê°„ê³¼ ì‘ì—…ì´ ì ê²Œ í•„ìš”í•œ ë°˜ë©´, ê·¸ë¦¼ì íš¨ê³¼ëŠ” ê³„ì‚°í•˜ê³  ë Œë”ë§í•˜ëŠ” ë° ì‹œê°„ê³¼ ì‘ì—…ì´ ë” í•„ìš”í•˜ë‹¤. ìš”ì•½ HTML ë§ˆí¬ì—…ì„ ì²˜ë¦¬í•˜ê³  DOM íŠ¸ë¦¬ë¥¼ ë¹Œë“œ (DOM íŒŒì‹±) CSS ë§ˆí¬ì—…ì„ ì²˜ë¦¬í•˜ê³  CSSOM íŠ¸ë¦¬ë¥¼ ë¹Œë“œ (CSS íŒŒì‹±) DOM ë° CSSOMì„ ê²°í•©í•˜ì—¬ ë Œë” íŠ¸ë¦¬ë¥¼ í˜•ì„± (Attachment) ë Œë” íŠ¸ë¦¬ì—ì„œ ë ˆì´ì•„ì›ƒì„ ì‹¤í–‰í•˜ì—¬ ê° ë…¸ë“œì˜ ê¸°í•˜í•™ì  í˜•íƒœë¥¼ ê³„ì‚° (Layout) ê°œë³„ ë…¸ë“œë¥¼ í™”ë©´ì— í˜ì¸íŠ¸(Painting) ì°¸ê³  ìë£Œ\nhttps://developers.google.com/web/fundamentals/performance/critical-rendering-path?hl=ko https://janghanboram.github.io/2018/06/06/browser-rendering/ https://d2.naver.com/helloworld/59361 http://taligarsiel.com/Projects/howbrowserswork1.htm#Render_tree_construction https://grosskurth.ca/papers/browser-refarch.pdf https://yilpe93.github.io/2018/06/18/etc/web-browser/ https://sangbui.com/sb-files/BrowserArchitecture_ClientSide.pdf https://medium.com/@monica1109/how-does-web-browsers-work-c95ad628a509 https://blog.lgcns.com/1911 https://cisctbd.github.io/Report.pdf https://blog.asamaru.net/2017/05/04/understanding-the-critical-rendering-path/ ","date":"2023-04-18T18:48:11+09:00","image":"https://codemario318.github.io/post/browser/browser_cover_huc408e1e4bc0026ab219b7f7573db946e_26010_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/browser/","title":"ë¸Œë¼ìš°ì €"},{"content":"Message Queueë€? MQë€ ë©”ì‹œì§€ ê¸°ë°˜ì˜ ë¯¸ë“¤ì›¨ì–´ë¡œ ë©”ì‹œì§€ë¥¼ ì´ìš©í•˜ì—¬ ì—¬ëŸ¬ ì–´í”Œë¦¬ì¼€ì´ì…˜, ì‹œìŠ¤í…œ, ì„œë¹„ìŠ¤ë“¤ì„ ì—°ê²°í•´ì£¼ëŠ” ì†”ë£¨ì…˜ì´ë‹¤. MOM(Message Oriented Middleware)ë¥¼ êµ¬í˜„í•œ ì†”ë£¨ì…˜ìœ¼ë¡œ ë¹„ë™ê¸° ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ë“¤ ì‚¬ì´ì—ì„œ ë°ì´í„°ë¥¼ êµí™˜í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.\nProducer(sender)ê°€ ë©”ì‹œì§€ë¥¼ íì— ì „ì†¡í•˜ë©´ Consumer(receiver)ê°€ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, Producerì™€ Consumerì— message í”„ë¡œì„¸ìŠ¤ê°€ ì¶”ê°€ë˜ëŠ” ê²ƒì´ íŠ¹ì§•ì´ë‹¤.\nMQë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸°ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  Queue ì— ì €ì¥í•˜ì—¬ Consumerì—ê²Œ ë³‘ëª©ì„ ì¤„ì—¬ì¤„ ìˆ˜ ìˆìœ¼ë‚˜ ì œí’ˆë§ˆë‹¤ êµ¬í˜„ì´ ë‹¤ë¥´ê³  ì¥ë‹¨ì´ ìˆë‹¤.\nëŒ€í‘œ ì†”ë£¨ì…˜ IBM MQ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ìƒìš© MQ ì œí’ˆìœ¼ë¡œ í‘œì¤€ JMS ë©”ì‹œì§€ ã…‡ê¸°ë°˜ìœ¼ë¡œ MQTT í”„ë¡œí† ì½œì„ ì§€ì›í•œë‹¤.\nApache ActiveMQ ìë°” ê¸°ë°˜ì˜ JMS Queueë¥¼ ì§€ì›í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ë¡œ MQTT, AMQP, OpenWire, STOMP í”„ë¡œí† ì½œì„ ì§€ì›í•œë‹¤. ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ë©° í¬ëŸ¬ìŠ¤í„°ë§ì´ ê°€ëŠ¥í•˜ë‹¤. ë‹¨ ëª¨ë‹ˆí„°ë§ ë„êµ¬ëŠ” ì—†ë‹¤. REST APIë¥¼ í†µí•´ ì›¹ê¸°ë°˜ ë©”ì‹œì§• APIë¥¼ ì§€ì›í•˜ë©° Ajaxë¥¼ í†µí•´ ìˆœìˆ˜í•œ DHTMLì„ ì‚¬ìš©í•œ ì›¹ìŠ¤íŠ¸ë¦¬ë°ì„ ì§€ì› Rabbit MQ ê³ ì„±ëŠ¥ì„ ëª©í‘œë¡œ AMQP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œëœ MQ ë¡œ Erlang OTP ê¸°ë°˜ìœ¼ë¡œ ê°œë°œë˜ì—ˆë‹¤. ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ì´ ìš©ì´í•˜ê³  ë‹¤ì–‘í•œ ì–¸ì–´ ë° OS ì§€ì›, RabbitMQ ì„œë²„ê°„ í´ëŸ¬ìŠ¤í„°ë§ì´ ê°€ëŠ¥í•˜ë‹¤. Kafka Linkedinì—ì„œ êµ¬ì§ì •ë³´ë“¤ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ìœ¼ë¡œ ê°œë°œì´ ì‹œì‘ë˜ì—ˆë‹¤. ì‹¤ì‹œê°„ ë¡œê·¸ ì²˜ë¦¬ì— íŠ¹í™”ë˜ì–´ ì„¤ê³„ëœ ì‹œìŠ¤í…œìœ¼ë¡œ ê°œë°œë˜ì–´ íƒ€ MQ ëŒ€ë¹„ TPSê°€ ë§¤ìš° ìš°ìˆ˜í•˜ë‚˜ íŠ¹í™”ëœ ì†”ë£¨ì…˜ì´ê¸° ë•Œë¬¸ì— íƒ€ MQì†”ë£¨ì…˜ì—ì„œ ì œê³µí•˜ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì€ ì œê³µë˜ì§€ ì•ŠëŠ”ë‹¤. AMQP, JMS ì´ ì•„ë‹Œ ë‹¨ìˆœ ë©”ì‹œì§€ í—¤ë”ë¥¼ ì´ìš©í•œ TCP í†µì‹ ì´ë‹¤. MQëŠ” brokerê°€ pruducerì—ê²Œ ë©”ì„¸ì§€ë¥¼ ë°›ì•„ì„œ consumer ì—ê²Œ pushí•´ì£¼ëŠ” ë°©ì‹ì¸ë° ë°˜í•´, kafkaëŠ” consumerê°€ Brokerë¡œ ë¶€í„° ì§ì ‘ ë©”ì‹œì§€ë¥¼ ê°€ì§€ê³  ê°€ëŠ” pull ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤. ConsumerëŠ” ìì‹ ì˜ ì²˜ë¦¬ëŠ¥ë ¥ ë§Œí¼ì˜ ë©”ì‹œì§€ë§Œ brokerë¡œë¶€í„° ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— ìµœì ì˜ ì„±ëŠ¥ì„ ë‚¼ ìˆ˜ ìˆë‹¤. ë§ì€ ë°ì´í„° ì „ì†¡ê³¼ ìµœëŒ€ ì²˜ë¦¬ëŸ‰ì„ ìœ ì§€í•˜ê¸°ì— ëŒ€ëŸ‰ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°ì— ì í•©í•˜ë‹¤. ìƒíƒœ ë³€ê²½ì´ ì‹œê°„ìˆœìœ¼ë¡œ ê¸°ë¡ë˜ì–´ì•¼ í•˜ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì¸ ì´ë²¤íŠ¸ ì†Œì‹±(Event Sourcing) ì €ì¥ì†Œë¡œ ì í•©í•˜ë‹¤. ","date":"2023-04-18T17:19:16+09:00","image":"https://codemario318.github.io/post/message_queue/mq_cover_hu0d801aafbbe1fc1c7c4e885cbcd16691_10519_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/message_queue/","title":"Message Queue"},{"content":"What is Type Annotation in TypeScript íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë³€ìˆ˜, í•¨ìˆ˜, ê°ì²´ ë“±ê³¼ ê°™ì€ ì‹ë³„ìì˜ ìœ í˜•ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•œë‹¤.\n: type êµ¬ë¬¸ì„ ì‹ë³„ì ë’¤ì— ë¶™ì´ëŠ” íƒ€ì… ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.\ntypeì€ ëª¨ë“  ìœ íš¨í•œ ìœ í˜• ê°€ëŠ¥ ì‹ë³„ìì— íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ë©´ í•´ë‹¹ íƒ€ì…ìœ¼ë¡œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‹ë³„ìê°€ ë‹¤ë¥¸ ìœ í˜•ìœ¼ë¡œ ì‚¬ìš©ë˜ë©´ íƒ€ì…ìŠ¤í´ì…íŠ¸ ì»´íŒŒì¼ëŸ¬ì—ì„œ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\nType annotations in variables and constants 1 2 3 let variableName: type; let variableName: type = value; const constantName: type = value; ìœ„ ì½”ë“œì—ì„œ íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì€ ë³€ìˆ˜, ìƒìˆ˜ ì´ë¦„ ë’¤ì— :ì„ ë¶™ì´ê³  ê·¸ ë’¤ì— íƒ€ì…ì´ ì˜¨ë‹¤.\nì§€ì •í•œ íƒ€ì… ì™¸ ë‹¤ë¥¸ íƒ€ì… ê°’ì„ í• ë‹¹í•˜ë©´ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\nType annotation examples ë°°ì—´\në°°ì—´ íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì€ : type[] ë¡œ í‘œì‹œí•œë‹¤.\n1 2 let arrayName: type[]; let names: string[] = [\u0026#39;John\u0026#39;, \u0026#39;Jane\u0026#39;, \u0026#39;Peter\u0026#39;, \u0026#39;David\u0026#39;, \u0026#39;Mary\u0026#39;]; ê°ì²´\n1 2 3 4 5 6 7 8 9 let person: { name: string; age: number }; person = { name: \u0026#39;John\u0026#39;, age: 25 }; í•¨ìˆ˜ ì¸ìì™€ ë°˜í™˜í˜•\n1 2 3 4 5 let greeting : (name: string) =\u0026gt; string; greeting = function (name: string) { return `Hi ${name}`; }; ìœ„ì™€ ê°™ì´ íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•  ê²½ìš° stringì„ ì¸ìë¡œ ë°›ê³ , stringì„ ë°˜í™˜í•˜ëŠ” ëª¨ë“  í•¨ìˆ˜ë¥¼ greetingì— í• ë‹¹í•  ìˆ˜ ìˆë‹¤.\nBase Type number\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ëª¨ë“  ìˆ«ìëŠ” ë¶€ë™ ì†Œìˆ˜ì ê°’ê³¼ í° ì •ìˆ˜ê°’ì— í¬í•¨ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 let price: number; let price = 9.95; let counter: number = 0; let x: number = 100, y: number = 200; let bin = 0b100; let anotherBin: number = 0B010; let octal: number = 0o10; let hexadecimal: number = 0XA; let big: bigint = 9007199254740991n; string\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 let firstName: string = \u0026#39;John\u0026#39;; let title: string = \u0026#34;Web Developer\u0026#34;; let description = `This TypeScript string can span multiple lines `; let firstName: string = `John`; let title: string = `Web Developer`; let profile: string = `I\u0026#39;m ${firstName}. I\u0026#39;m a ${title}`; console.log(profile); /** result I\u0026#39;m John. I\u0026#39;m a Web Developer. **/ boolean\n1 2 3 4 5 let pending: boolean; pending = true; // after a while // .. pending = false; Object Type íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ object íƒ€ì…ì€ ì›ì‹œ íƒ€ì…ì´ ì•„ë‹Œ ëª¨ë“  ê°’ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì›ì‹œ íƒ€ì… number bigint string boolean null undfined symbol objectë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ì›ì‹œ íƒ€ì…ì„ ì œì™¸í•œ ëª¨ë“  ìë£Œí˜•ì„ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 let employee: object; employee = { firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Doe\u0026#39;, age: 25, jobTitle: \u0026#39;Web Developer\u0026#39; }; console.log(employee); 1 2 3 4 5 6 { firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Doe\u0026#39;, age: 25, jobTitle: \u0026#39;Web Developer\u0026#39; } ë§Œì•½ objectë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ë¥¼ ë‹¤ë¥¸ ì›ì‹œ íƒ€ì…ìœ¼ë¡œ ë‹¤ì‹œ í• ë‹¹í•˜ë ¤ê³  í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\n1 2 employee = \u0026#34;Jane\u0026#34;; // error TS2322: Type \u0026#39;\u0026#34;Jane\u0026#34;\u0026#39; is not assignable to type \u0026#39;object\u0026#39;. object íƒ€ì…ì€ ì„ ì–¸ë  ë•Œ ì§€ì •í•œ í”„ë¡œí¼í‹° ëª©ë¡ì„ ê³ ì •ì ìœ¼ë¡œ ê°€ì§€ê²Œ ë˜ì–´, ì„ ì–¸ë˜ì§€ ì•Šì€ í”„ë¡œí¼í‹°ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\n1 2 console.log(employee.hireDate); // error TS2339: Property \u0026#39;hireDate\u0026#39; does not exist on type \u0026#39;object\u0026#39;. ğŸ’¡ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³´ìœ í•˜ì§€ ì•Šì€ í”„ë¡œí¼í‹°ë¥¼ í˜¸ì¶œí•˜ë©´ undefinedë¥¼ ë°˜í™˜í•œë‹¤.\nobject íƒ€ì… ë‚´ë¶€ì— ì§€ì •ë˜ëŠ” í”„ë¡œí¼í‹°ë“¤ì˜ íƒ€ì…ì„ ì§€ì •í•  ìˆ˜ ë„ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 let employee: { firstName: string; lastName: string; age: number; jobTitle: string; }; employee = { firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Doe\u0026#39;, age: 25, jobTitle: \u0026#39;Web Developer\u0026#39; }; 1 2 3 4 5 6 7 8 9 10 11 let employee: { firstName: string; lastName: string; age: number; jobTitle: string; } = { firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Doe\u0026#39;, age: 25, jobTitle: \u0026#39;Web Developer\u0026#39; }; object VS Object íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì²« ë²ˆì§¸ ëŒ€ë¬¸ìë§Œ ë‹¤ë¥¸ Object íƒ€ì…ë„ ìˆë‹¤.\nobject íƒ€ì…ì€ ì›ì‹œ íƒ€ì…ì´ ì•„ë‹Œ ëª¨ë“  ê°’ë“¤ì„ í‘œí˜„í•˜ê³ , Object íƒ€ì…ì€ ë™ì‘í•˜ëŠ” ëª¨ë“  ê°ì²´ë“¤ì„ ì˜ë¯¸í•œë‹¤.\nğŸ’¡ ìë°”ìŠ¤í¬ë¦½íŠ¸ì— í¬í•¨ëœ ëª¨ë“  ìƒì„±ìë“¤ì€ Objectë¥¼ extendí•œë‹¤. ë”°ë¼ì„œ Objectì—ëŠ” ëª¨ë“  ê°ì²´ê°€ í• ë‹¹ë  ìˆ˜ ìˆë‹¤. ì¦‰ ë™ì‘í•˜ëŠ” ëª¨ë“  ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.\nThe empty type íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë¹„ì–´ìˆëŠ” íƒ€ì…ì„ í‘œí˜„í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ {} ê°€ ìˆëŠ”ë°, object íƒ€ì…ê³¼ ìœ ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤.\n1 2 3 4 let vacant: {}; vacant.firstName = \u0026#39;John\u0026#39;; //error TS2339: Property \u0026#39;firstName\u0026#39; does not exist on type \u0026#39;{}\u0026#39;. 1 2 3 4 let vacant: {} = {}; console.log(vacant.toString()); // [object Object] 1 2 3 4 5 6 7 8 9 let vacant: {} = { firstName: \u0026#39;John\u0026#39; }; console.log(vacant); // { firstName: \u0026#39;John\u0026#39; } console.log(vacant.firstName); // error TS2339: Property \u0026#39;firstName\u0026#39; does not exist on type \u0026#39;{}\u0026#39;. Array íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ArrayëŠ” ìˆœì„œê°€ ìˆëŠ” ë°ì´í„° ë¦¬ìŠ¤íŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤.\n1 let ì´ë¦„: íƒ€ì…[]; 1 2 3 4 5 6 let skills: string[]; skills[0] = \u0026#34;Problem Solving\u0026#34;; skills[1] = \u0026#34;Programming\u0026#34;; skills.push(\u0026#39;Software Design\u0026#39;); 1 let skills = [\u0026#39;Problem Sovling\u0026#39;,\u0026#39;Software Design\u0026#39;,\u0026#39;Programming\u0026#39;]; 1 2 let skills: string[]; skills = [\u0026#39;Problem Sovling\u0026#39;,\u0026#39;Software Design\u0026#39;,\u0026#39;Programming\u0026#39;]; ìœ„ì²˜ëŸ¼ ì„ ì–¸ëœ skillsì— ë‹¤ë¥¸ íƒ€ì…ì„ ë„£ì„ ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤\n1 2 skills.push(100); // Argument of type \u0026#39;number\u0026#39; is not assignable to parameter of type \u0026#39;string\u0026#39;. ë°°ì—´ íƒ€ì…ì´ ê°€ì§„ ì†ì„±ê³¼ ë©”ì†Œë“œ 1 2 let series = [1, 2, 3]; console.log(series.length); // 3 ìœ ìš©í•œ ë©”ì„œë“œë¡œ forEach(), map(), reduce(), filter() ë“±ì´ ìˆë‹¤.\n1 2 3 4 5 let series = [1, 2, 3]; let doubleIt = series.map(e =\u0026gt; e* 2); console.log(doubleIt); [ 2, 4, 6 ] ì—¬ëŸ¬ íƒ€ì… ì„ì–´ ì €ì¥í•˜ê¸° 1 let scores = [\u0026#39;Programming\u0026#39;, 5, \u0026#39;Software Design\u0026#39;, 4]; 1 2 let scores : (string | number)[]; scores = [\u0026#39;Programming\u0026#39;, 5, \u0026#39;Software Design\u0026#39;, 4]; Tuple Tupleì€ arrayì— ì¶”ê°€ ì œì•½ì‚¬í•­ì´ ë¶™ì€ í˜•íƒœì´ë‹¤.\në‚´ë¶€ ìš”ì†Œ ê°¯ìˆ˜ ê³ ì • ë‚´ë¶€ ìš”ì†Œì˜ íƒ€ì…ì„ ì„ ì–¸í•  ë•Œ ê°™ì„ í•„ìš”ëŠ” ì—†ìŒ 1 2 let skill: [string, number]; skill = [\u0026#39;Programming\u0026#39;, 5]; 1 2 3 let skill: [string, number]; skill = [5, \u0026#39;Programming\u0026#39;]; // error TS2322: Type \u0026#39;string\u0026#39; is not assignable to type \u0026#39;number\u0026#39;. 1 let color: [number, number, number] = [255, 0, 0]; Optional Tuple Elements íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ 3.0ë¶€í„° ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìš”ì†Œ ì„ ì–¸ì´ ì¶”ê°€ë˜ì—ˆë‹¤. ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìš”ì†Œ ì•ì— ?ë¥¼ ì•ì— ë¶™ì¸ë‹¤.\n1 2 3 let bgColor, headerColor: [number, number, number, number?]; bgColor = [0, 255, 255, 0.5]; headerColor = [0, 255, 255]; Enum Enumì€ ìƒìˆ˜ ê°’ë“¤ì„ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ ì´ë¦„ ë¶™ì¸ íƒ€ì…ì´ë‹¤.\n1 enum name {constant1, constant2, ...}; constant1, constant2, ...ëŠ” enumì˜ ë©¤ë²„ê°€ ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 enum Month { Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec }; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 function isItSummer(month: Month) { let isSummer: boolean; switch (month) { case Month.Jun: case Month.Jul: case Month.Aug: isSummer = true; break; default: isSummer = false; break; } return isSummer; } isItSummerì˜ ì¸ìì¸ monthëŠ” Month enumì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.\n1 2 3 console.log(isItSummer(Month.Dec)); //false console.log(isItSummer(11)); //false console.log(isItSummer(MonthSecond.Dec)); //error TS2345: Argument of type \u0026#39;MonthSecond.Dec\u0026#39; is not assignable to parameter of type \u0026#39;Month\u0026#39;. ","date":"2023-04-18T17:09:29+09:00","image":"https://codemario318.github.io/post/typescript/tutorial/2/ts_cover_hua836966f7fcda4b3d2856eb0c525b4e2_8490_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/typescript/tutorial/2/","title":"TypeScript Tutorial - 2. Basic Types"},{"content":"Setup Tools Node.js: TS ì»´íŒŒì¼ëŸ¬ ì‹¤í–‰ì„ ìœ„í•´ í•„ìš”í•¨ TypeScript ì»´íŒŒì¼ëŸ¬: TSë¥¼ JSë¡œ ì»´íŒŒì¼í•´ì¤€ë‹¤. ts-node TS ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê³  REPL(read-eval-print loop: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í™˜ê²½) ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. TypeScript ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜ npmì„ ì´ìš©í•´ Typescriptë¥¼ ì „ì—­ í™˜ê²½ì— ì„¤ì¹˜ 1 npmÂ installÂ -gÂ typescript ì„¤ì¹˜ ì™„ë£Œ í›„ tsc ê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸ 1 tsc --v ts-node ë¥¼ ì „ì—­ í™˜ê²½ì— ì„¤ì¹˜ 1 npm install -g ts-node What is TypeScript íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ìƒìœ„ì§‘í•©(superset)ì´ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŠ¹ì„±ì„ ì¹¨ë²”í•˜ì§€ ì•Šê³  ì§€ì›í•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‘ì„± í›„, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¼ë°˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¡œ ì»´íŒŒì¼ í•œë‹¤.\ní‰ë²”í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ ê°€ëŠ¥í•œ ëª¨ë“  í™˜ê²½ì—ì„œ ë°°í¬í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ê³ , íƒ€ì… ì§€ì›ì„ ìœ„í•œ ì¶”ê°€ êµ¬ë¬¸ì´ ìˆë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ syntax ì—ëŸ¬ê°€ ì—†ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ ì´ë‹¤.\nëª¨ë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œê·¸ë¨ì´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œê·¸ë¨ì´ë¼ëŠ” ëœ» ê¸°ì¡´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ ë² ì´ìŠ¤ë¥¼ íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ëŠ” ê²½ìš° ìœ ìš©í•˜ë‹¤.\nWhy TypeScript íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë²„ê·¸ë¥¼ í”¼í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ê¸° ë•Œë¬¸ì— ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚¨ë‹¤. íƒ€ì…ì€ ë§ì€ ì‹¤ìˆ˜ë¥¼ í”¼í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ë‹¤. ì´ë¥¼ í†µí•´ ëŸ°íƒ€ì„ì— ë²„ê·¸ê°€ ë°œìƒí•˜ì§€ ì•Šê³  ì»´íŒŒì¼ ì‹œê°„ì— ë²„ê·¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 function add(x, y) { return x + y; } let result = add(input1.value, input2.value); console.log(result); // result of concatenating strings add í•¨ìˆ˜ëŠ” x+yë¥¼ ë°˜í™˜í•œë‹¤. í•˜ì§€ë§Œ inputì´ html \u0026lt;input\u0026gt;ì´ë¼ë©´ .valueëŠ” ê°’ì´ ìˆ«ìì¸ ê²ƒê³¼ ìƒê´€ì—†ì´ ë¬¸ìì—´ë¡œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ”ë° ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¬¸ìì—´ + ì—°ì‚°ì„ concatìœ¼ë¡œ ì²˜ë¦¬í•˜ë¯€ë¡œ add í•¨ìˆ˜ëŠ” ì˜ë„í•œ ë™ì‘ì„ ìˆ˜í–‰í•˜ì§€ ì•Šê³  ì´ì–´ì§„ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ê²Œ ëœë‹¤.\n1 2 3 4 5 function add(x: number, y: number) { return x + y; } let result = add(input1.value, input2.value); íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì¸ìì— ë“¤ì–´ì˜¬ íƒ€ì…ì„ ì •í•  ìˆ˜ ìˆì–´ì„œ input.valueê°€ numberíƒ€ì…ì´ ì•„ë‹ ê²½ìš° ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\në”°ë¼ì„œ ì‹¤ìˆ˜ë¡œ ë‹¤ë¥¸ ê°’ì„ ë„£ì—ˆì„ ë•Œ ë°œìƒí•˜ëŠ” ì˜¤ë™ì‘ì„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤.\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¯¸ë˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í˜„ì¬ë¡œ ê°€ì ¸ì˜¨ë‹¤.\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” í˜„ì¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ëŒ€í•´ ES Nextì—ì„œ ê³„íšëœ ê¸°ëŠ¥ì„ ë¯¸ë¦¬ ì§€ì›í•œë‹¤. ë”°ë¼ì„œ ì›¹ ë¸Œë¼ìš°ì €ë‚˜ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì™„ì „íˆ ì§€ì›í•˜ê¸° ì „ì— ìƒˆë¡œìš´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë§¤ë…„ TC39ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‘œì¤€ì¸ ECMAScriptì— ëŒ€í•œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶œì‹œí•˜ëŠ”ë° ì¼ë°˜ì ìœ¼ë¡œ 5ë‹¨ê³„ë¥¼ ê±°ì³ ì™„ì „íˆ ì ìš©ëœë‹¤.\nStage 0: Strawperson(?: Strowman, í—ˆìˆ˜ì•„ë¹„?) Stage 1: Proposal(ì œì•ˆ) Stage 2: Draft(ì´ˆì•ˆ, ì‹ ì¸ ì„ ë°œ) Stage 3: Candidate(í›„ë³´) Stage 4: Finished() íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ Stage 3ë¶€í„° ì§€ì›í•œë‹¤.\n\u0026ldquo;Hello, World!\u0026rdquo; in node.js 1 2 let message: string = \u0026#39;Hello, World!\u0026#34;; console.log(message); tsc ì„ ì´ìš©í•´ .ts íŒŒì¼ì„ ì»´íŒŒì¼í•˜ì—¬ js íŒŒì¼ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\n1 tsc app.ts 1 node app.js ts-node ì´ìš© ì‹œ ì»´íŒŒì¼ í•˜ì§€ ì•Šì•„ë„ ì‹¤í–‰ ê°€ëŠ¥\n1 ts-node app.ts in Web Browsers 1 2 3 4 5 6 7 8 9 10 11 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;TypeScript: Hello, World!\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script src=\u0026#34;app.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 1 2 3 4 5 6 const message: string = \u0026#39;Hello, World!\u0026#39;; const heading = document.createElement(\u0026#39;h1\u0026#39;); heading.textContent = message; document.body.appendChild(heading); 1 tsc app.ts ","date":"2023-04-18T16:43:29+09:00","image":"https://codemario318.github.io/post/typescript/tutorial/1/1/ts_cover_hua836966f7fcda4b3d2856eb0c525b4e2_8490_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/typescript/tutorial/1/1/","title":"TypeScript Tutorial - 1. Gettig Started(1)"},{"content":"íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” 2ê°€ì§€ ì¤‘ìš”í•œ ì´ìœ ê°€ ìˆë‹¤.\nJSì˜ ë™ì  íƒ€ì´í•‘ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ì—¬ëŸ¬ ë¬¸ì œë“¤ì„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤. ì•ìœ¼ë¡œ ë°˜ì˜ë  JS ë¬¸ë²•ì„ ë‹¹ì¥ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (ES Next) JS ë™ì  íƒ€ì´í•‘ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ëŠ” ì½”ë”©ì€ ë§¤ìš° ê·€ì°®ê¸°ë•Œë¬¸ì— ë°©ì¹˜ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\nJS ìµœì‹  ë¬¸ë²•ì€ ê°„í¸í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê²½ìš°ê°€ ë§ê³ , ì—¬ëŸ¬ ì˜¤ë¥˜ë“¤ì´ ìˆ˜ì •ë˜ì–´ìˆë‹¤.\nJS ë™ì  íƒ€ì´í•‘ì´ë€ 1 2 3 let box; box = \u0026#34;hello\u0026#34;; box = 100; 1 2 3 4 5 6 7 8 let box; console.log(typeof(box)); // undefined box = \u0026#34;Hello\u0026#34;; console.log(typeof(box)); // string box = 100; console.log(typeof(box)); // number ë™ì  íƒ€ì´í•‘ì€ í• ë‹¹ ì½”ë“œ ìˆ˜í–‰ ì‹œì ì— í•´ì„í•˜ì—¬ ìë£Œí˜•ì„ ê²°ì •í•œë‹¤.\nì´ë¡œ ì¸í•´ ì½”ë“œê°€ ê°„ê²°í•´ì§€ê³ , ë¡œì§ì„ ëª…í™•í•˜ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆì§€ë§Œ. í• ë‹¹ ë  ë•Œ ë§ˆë‹¤ ìë£Œí˜•ì„ ê²°ì •í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ ì¸í•´ ì •ì  íƒ€ì´í•‘ë³´ë‹¤ ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¬ê³ , ë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ìœ í˜• ê°’ì„ ì‚¬ìš©í•  ì—¬ì§€ë¥¼ ë§Œë“¤ì–´ ì½”ë“œì— í˜¼ë€ì„ ì¤€ë‹¤.\në™ì  íƒ€ì´í•‘ì˜ ë¬¸ì œ 1 2 3 4 5 6 7 function getProduct(id){ return { id: id, name: `Awesome Gadget ${id}`, price: 99.5 } } 1 2 3 4 5 const product = getProduct(1); console.log(`The product ${product.Name} costs $${product.price}`); // result // The product undefined costs $99.5 ì˜¤íƒ€ë¡œ ì¸í•´ undefinedê°€ ì¶œë ¥ë˜ì—ˆë‹¤. 1 2 3 const showProduct = (name, price) =\u0026gt; { console.log(`The product ${name} costs ${price}$.`); }; 1 2 3 4 5 const product = getProduct(1); showProduct(product.price, product.name); // result // The product 99.5 costs $Awesome Gadget 1 ì¸ì ìˆœì„œ ì‹¤ìˆ˜ë¡œ ì¸í•´ ë‹¤ë¥¸ ì˜ë„ë¡œ ì¶œë ¥ë˜ì—ˆë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë™ì  íƒ€ì´í•‘ ë¬¸ì œë¥¼ í•´ê²°í–ˆì„ê¹Œ? interface 1 2 3 4 5 interface Product{ id: number, name: string, price: number }; interfaceë¥¼ í†µí•´ Productê°ì²´ì˜ í˜•íƒœë¥¼ ì •ì˜í–ˆë‹¤.\n1 2 3 4 5 6 7 function getProduct(id) : Product{ return { id: id, name: `Awesome Gadget ${id}`, price: 99.5 } } getProductí•¨ìˆ˜ë¥¼ Productíƒ€ì…ì„ ë°˜í™˜í•˜ë„ë¡ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.\n1 2 const product = getProduct(1); console.log(`The product ${product.Name} costs $${product.price}`); í•¨ìˆ˜ì— ë°˜í™˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„¤ì •í•˜ì—¬ ì…ë ¥ì´ ë¯¸ë¦¬ ì •ì˜í•œ íƒ€ì…ì´ ì•„ë‹ ê²½ìš° ì½”ë“œ ì—ë””í„°ì—ì„œ ì˜ëª»ëœ ì½”ë“œì„ì„ í‘œì‹œí•œë‹¤.\nì‹¤ìˆ˜ë¥¼ ë¹ ë¥´ê²Œ ì•Œì•„ì°¨ë¦´ ìˆ˜ ìˆë‹¤. 1 2 3 const showProduct = (name: string, price:number) =\u0026gt; { console.log(`The product ${name} costs ${price}$.`); }; ì¸ìë¡œ ë°›ì„ íƒ€ì…ë„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. 1 2 const product = getProduct(1); showProduct(product.price, product.name); ê²°ë¡  ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë™ì  íƒ€ì´í•‘ì„ ì§€ì›í•˜ì—¬ ìœ ì—°í•˜ì§€ë§Œ ê·¸ë¡œ ì¸í•´ ë§ì€ ë¬¸ì œë“¤ì´ ë°œìƒí•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” íƒ€ì…ì„ í†µí•´ ë™ì  íƒ€ì´í•‘ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤ì„ ì˜ˆë°©í•œë‹¤. ","date":"2023-04-18T16:43:29+09:00","image":"https://codemario318.github.io/post/typescript/tutorial/1/2/ts_cover_hua836966f7fcda4b3d2856eb0c525b4e2_8490_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/typescript/tutorial/1/2/","title":"TypeScript Tutorial - 1.2 Why use TypeScript"},{"content":"\nStop-the-world GCë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ JVMì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì„ ë©ˆì¶”ëŠ” ê²ƒì´ë‹¤.\nstop-the-worldê°€ ë°œìƒí•˜ë©´ GCë¥¼ ì‹¤í–‰í•˜ëŠ” ì“°ë ˆë“œë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì“°ë ˆë“œëŠ” ëª¨ë‘ ì‘ì—…ì„ ë©ˆì¶˜ë‹¤. GCì‘ì—…ì„ ì™„ë£Œí•œ ì´í›„ì—ì•¼ ì¤‘ë‹¨í–ˆë˜ ì‘ì—…ì„ ë‹¤ì‹œ ì‹œì‘í•œë‹¤. ì–´ë–¤ GC ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë”ë¼ë„ Stop-the-worldëŠ” ë°œìƒí•œë‹¤. ëŒ€ê°œì˜ ê²½ìš° GC íŠœë‹ì´ë€ ì´ Stop-the-world ì‹œê°„ì„ ì¤„ì´ëŠ” ê²ƒì´ë‹¤. GC í•„ìš”ì„± Javaì˜ ê²½ìš° (ëŒ€ë¶€ë¶„ì˜ ì–¸ì–´) í”„ë¡œê·¸ë¨ ì½”ë“œì—ì„œ ë©”ëª¨ë¦¬ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì—¬ í—¤ì œí•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ê°€ë¹„ì§€ ì»¬ë ‰í„°ê°€ ë”ì´ìƒ í•„ìš” ì—†ëŠ” ê°ì²´ë¥¼ ì°¾ì•„ ì§€ìš°ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ë©”ëª¨ë¦¬ ê³µê°„ì„ í™•ë³´í•œë‹¤.\nê°€ë” ëª…ì‹œì ìœ¼ë¡œ í•´ì œí•˜ë ¤ê³  í•´ë‹¹ ê°ì²´ë¥¼ nullë¡œ ì§€ì •í•˜ê±°ë‚˜ System.gc() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. nullë¡œ ì§€ì •í•˜ëŠ” ê²ƒì€ í° ë¬¸ì œê°€ ì•ˆë˜ì§€ë§Œ, System.gc() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ì‹œìŠ¤í…œì˜ ë§¤ìš° í° ì˜í–¥ì„ ë¼ì¹˜ë¯€ë¡œ System.gc() ë©”ì„œë“œëŠ” ì ˆëŒ€ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤.\nGarbage Collector ê°€ë¹„ì§€ ì»¬ë ‰í„°ëŠ” ë‘ ê°€ì§€ ê°€ì„¤ í•˜ì— ë§Œë“¤ì–´ì¡Œë‹¤.(ê°€ì • ë˜ëŠ” ì „ì œ ì¡°ê±´ì´ë¼ í‘œí˜„í•˜ëŠ” ê²ƒì´ ë§ë‹¤.)\nWeak generational hypothesis ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” ê¸ˆë°© ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœ(Unreachable)ê°€ ëœë‹¤. ì˜¤ë˜ëœ ê°ì²´ì—ì„œ ì Šì€ ê°ì²´ë¡œì˜ ì°¸ì¡°ëŠ” ì•„ì£¼ ì ê²Œ ì¡´ì¬í•œë‹¤. Young ì˜ì—­ê³¼ Old ì˜ì—­ ì´ ê°€ì„¤ì˜ ì¥ì ì„ ìµœëŒ€í•œ ì‚´ë¦¬ê¸° ìœ„í•´ HotSpot VM ì—ì„œëŠ” í¬ê²Œ 2ê°œë¡œ ë¬¼ë¦¬ì  ê³µê°„ì„ ë‚˜ëˆ„ì—ˆë‹¤.\nYoung ì˜ì—­\nìƒˆë¡­ê²Œ ìƒì„±í•œ ê°ì²´ì˜ ëŒ€ë¶€ë¶„ì´ ì—¬ê¸°ì— ìœ„ì¹˜í•œë‹¤. ëŒ€ë¶€ë¶„ì˜ ê°ì²´ê°€ ê¸ˆë°© ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœê°€ ë˜ê¸° ë•Œë¬¸ì— ë§¤ìš° ë§ì€ ê°ì²´ê°€ young ì˜ì—­ì— ìƒì„±ë˜ì—ˆë‹¤ê°€ ì‚¬ë¼ì§„ë‹¤. ì´ ì˜ì—­ì—ì„œ ê°ì²´ê°€ ì‚¬ë¼ì§ˆ ë•Œ Minor GCê°€ ë°œìƒí•œë‹¤ê³  ë§í•œë‹¤.\nOld ì˜ì—­\nì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœë¡œ ë˜ì§€ ì•Šì•„ Young ì˜ì—­ì—ì„œ ì‚´ì•„ë‚¨ì€ ê°ì²´ê°€ ì—¬ê¸°ë¡œ ë³µì‚¬ëœë‹¤. ëŒ€ë¶€ë¶„ Young ì˜ì—­ë³´ë‹¤ í¬ê²Œ í• ë‹¹í•˜ë©°, í¬ê¸°ê°€ í° ë§Œí¼ Young ì˜ì—­ë³´ë‹¤ GCëŠ” ì ê²Œ ë°œìƒí•œë‹¤. ì´ ì˜ì—­ì—ì„œ ê°ì²´ê°€ ì‚¬ë¼ì§ˆ ë•Œ Major GC(Full GC)ê°€ ë°œìƒí•œë‹¤ê³  ë§í•œë‹¤.\nMinor GC ìƒˆë¡œ ìƒì„±ëœ ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” Eden ì˜ì—­ì— ìœ„ì¹˜í•œë‹¤. Eden ì˜ì—­ì—ì„œ GCê°€ í•œ ë²ˆ ë°œìƒí•œ í›„ ì‚´ì•„ë‚¨ì€ ê°ì²´ëŠ” Survivor ì˜ì—­ ì¤‘ í•˜ë‚˜ë¡œ ì´ë™ëœë‹¤.\nì´ ê³¼ì •ì„ ë°˜ë³µí•˜ë‹¤ê°€ ê³„ì†í•´ì„œ ì‚´ì•„ë‚¨ì•„ ìˆëŠ” ê°ì²´ëŠ” ì¼ì •ì‹œê°„ ì°¸ì¡°ë˜ê³  ìˆë‹¤ëŠ” ëœ»ì´ë¯€ë¡œ Old ì˜ì—­ìœ¼ë¡œ ì´ë™ì‹œí‚¨ë‹¤.\nMajor GC Old ì˜ì—­ì— ìˆëŠ” ëª¨ë“  ê°ì²´ë“¤ì„ ê²€ì‚¬í•˜ì—¬ ì°¸ì¡°ë˜ì§€ ì•Šì€ ê°ì²´ë“¤ì„ í•œêº¼ë²ˆì— ì‚­ì œí•œë‹¤.\nê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì€ ì–´ë–¤ ì›ë¦¬ë¡œ ì†Œë©¸ì‹œí‚¬ ëŒ€ìƒì„ ì„ ì •í•˜ëŠ”ê°€? ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ë™ì‘ ë°©ì‹ì´ ë§¤ìš° ë‹¤ì–‘í•˜ì§€ë§Œ ê³µí†µì ì¸ ì›ë¦¬ê°€ ìˆë‹¤.\nê°€ë¹„ì§€ ì»¬ë ‰í„°ëŠ” í™ ë‚´ì˜ ê°ì²´ ì¤‘ì—ì„œ ê°€ë¹„ì§€ë¥¼ ì°¾ì•„ë‚´ê³  ì°¾ì•„ë‚¸ ê°€ë¹„ì§€ë¥¼ ì²˜ë¦¬í•´ì„œ í™ì˜ ë©”ëª¨ë¦¬ë¥¼ íšŒìˆ˜í•œë‹¤.\nì°¸ì¡°ë˜ê³  ìˆì§€ ì•Šì€ ê°ì²´ë¥¼ ê°€ë¹„ì§€ë¼ê³  í•˜ë©° ê°ì²´ê°€ ê°€ë¹„ì§€ì¸ì§€ ì•„ë‹Œì§€ íŒë‹¨í•˜ê¸° ìœ„í•´ì„œ reachablitiyë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•œë‹¤.\nì–´ë–¤ í™ ì˜ì—­ì— í• ë‹¹ëœ ê°ì²´ê°€ ìœ íš¨í•œ ì°¸ì¡°ê°€ ìˆìœ¼ë©´ reachability, ì—†ë‹¤ë©´ unreachabilityë¡œ íŒë‹¨í•œë‹¤. í•˜ë‚˜ì˜ ê°ì²´ëŠ” ë‹¤ë¥¸ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³ , ë‹¤ë¥¸ ê°ì²´ëŠ” ë˜ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì°¸ì¡° ì‚¬ìŠ¬ì´ í˜•ì„±ë˜ëŠ”ë°, ì´ ì°¸ì¡° ì‚¬ìŠ¬ ì¤‘ ìµœì´ˆì— ì°¸ì¡°í•œ ê²ƒì„ Root Setì´ë¼ê³  ì¹­í•œë‹¤.\ní™ ì˜ì—­ì— ìˆëŠ” ê°ì²´ë“¤ì€ ì´ 4ê°€ì§€ ê²½ìš°ì— ëŒ€í•˜ì—¬ ì°¸ì¡°ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.\ní˜ ë‚´ì˜ ë‹¤ë¥¸ ê°ì²´ì— ì˜í•œ ì°¸ì¡° JavaìŠ¤íƒ, ì¦‰ Java ë©”ì„œë“œ ì‹¤í–‰ ì‹œì— ì‚¬ìš©í•˜ëŠ” ì§€ì—­ë³€ìˆ˜ì™€ íŒŒë¼ë¯¸í„°ë“¤ì— ì˜í•œ ì°¸ì¡° ë„¤ì´í‹°ë¸Œ ìŠ¤íƒì— ì˜í•´ ìƒì„±ëœ ê°ì²´ì— ëŒ€í•œ ì°¸ì¡° ë©”ì„œë“œ ì˜ì—­ì˜ ì •ì  ë³€ìˆ˜ì— ì˜í•œ ì°¸ì¡° 2, 3, 4ëŠ” Root setì´ë‹¤. ì¦‰ ì°¸ì¡° ì‚¬ìŠ¬ ì¤‘ ìµœì´ˆì— ì°¸ì¡°í•œ ê²ƒì´ë‹¤.\nì¸ìŠ¤í„´ìŠ¤ê°€ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ëŒ€ìƒì´ ë˜ì—ˆë‹¤ê³  í•´ì„œ ë°”ë¡œ ì†Œë©¸ì´ ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ë¹ˆë²ˆí•œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ì‹¤í–‰ì€ ì‹œìŠ¤í…œì— ë¶€ë‹´ì´ ë  ìˆ˜ ìˆê¸°ì— ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ì‹¤í–‰ íƒ€ì´ë°ì€ ë³„ë„ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°ì´ ë˜ë©°, ì´ ê³„ì‚° ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì´ ìˆ˜í–‰ëœë‹¤.\nSerial GC ì ì€ ë©”ëª¨ë¦¬ì™€ CPU ì½”ì–´ ê°œìˆ˜ê°€ ì ì„ ë•Œ ì í•©í•œ ë°©ì‹ìœ¼ë¡œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘\nParallel GC ê¸°ë³¸ì ì¸ GC ì•Œê³ ë¦¬ì¦˜ì€ Serial GCì™€ ë™ì¼í•˜ì§€ë§Œ Parallel GCëŠ” GCë¥¼ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œê°€ ì—¬ëŸ¬ ê°œë¼ì„œ ë³´ë‹¤ ë¹ ë¥¸ GCë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\në©”ëª¨ë¦¬ê°€ ì¶©ë¶„í•˜ê³  ì½”ì–´ì˜ ê°œìˆ˜ê°€ ë§ì„ ë•Œ ìœ ë¦¬í•˜ë‹¤.\nParallel Old GC (Parallel Compacting GC) ë³„ë„ë¡œ ì‚´ì•„ìˆëŠ” ê°ì²´ë¥¼ ì‹ë³„í•œë‹¤ëŠ” ë¶€ë¶„ì—ì„œ ë³´ë‹¤ ë³µì¡í•œ ë‹¨ê³„ë¡œ ìˆ˜í–‰ëœë‹¤.\n","date":"2023-04-18T16:24:22+09:00","image":"https://codemario318.github.io/post/jvm_gc/jvm_cover_hu0ae05cc4d1c0ca93a8c2f5fc57548620_55838_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/jvm_gc/","title":"JVM - Garbage Collection"},{"content":"JVM ì´ë€? JVMì´ë€ Java Virtual Machine, ìë°” ê°€ìƒ ë¨¸ì‹ ì˜ ì•½ìë¥¼ ë”°ì„œ ì¤„ì—¬ ë¶€ë¥´ëŠ” ìš©ì–´ì´ë‹¤. JVMì˜ ì—­í• ì€ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í´ë˜ìŠ¤ ë¡œë”ë¥¼ í†µí•´ ì½ì–´ ë“¤ì—¬ ìë°” APIì™€ í•¨ê»˜ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤.\nJVMì€ Javaì™€ OS ì‚¬ì´ì—ì„œ ì¤‘ê°œì ì—­í• ì„ ìˆ˜í–‰í•˜ì—¬ JAVAê°€ OSì— êµ¬ì• ë°›ì§€ ì•Šê³  ì¬ì‚¬ìš©ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤. ë©”ëª¨ë¦¬ ê´€ë¦¬, Garbage collctionì„ ìˆ˜í–‰í•œë‹¤. ìŠ¤íƒê¸°ë°˜ì˜ ê°€ìƒë¨¸ì‹ ì´ë‹¤. ARM ì•„í‚¤í…ì³ ê°™ì€ í•˜ë“œì›¨ì–´ëŠ” ë ˆì§€ìŠ¤í„° ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ë° ë¹„í•´ JVMì€ ìŠ¤íƒ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.\nìë°”í”„ë¡œê·¸ë¨ ì‹¤í–‰ê³¼ì • í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë©´ JVMì€ OSë¡œ ë¶€í„° í”„ë¡œê·¸ë¨ì´ í•„ìš”ë¡œ í•˜ëŠ” ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ëŠ”ë‹¤. JVMì€ ì´ ë©”ëª¨ë¦¬ë¥¼ ìš©ë„ì— ë”°ë¼ ì—¬ëŸ¬ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê´€ë¦¬í•œë‹¤. ìë°” ì»´íŒŒì¼ëŸ¬(javac)ê°€ ìë°” ì†ŒìŠ¤ì½”ë“œ(.java)ë¥¼ ì½ì–´ë“¤ì—¬ ìë°” ë°”ì´íŠ¸ ì½”ë“œ(.class)ë¡œ ë³€í™˜ì‹œí‚¨ë‹¤. Class Loaderë¥¼ í†µí•´ class íŒŒì¼ë“¤ì„ JVMìœ¼ë¡œ ë¡œë”©í•œë‹¤. ë¡œë”©ëœ class íŒŒì¼ë“¤ì€ Execution engineì„ í†µí•´ í•´ì„ëœë‹¤. í•´ì„ëœ ë°”ì´íŠ¸ ì½”ë“œëŠ” Runtime Data Areasì— ë°°ì¹˜ë˜ì–´ ì‹¤ì§ˆì ì¸ ìˆ˜í–‰ì´ ì´ë£¨ì–´ì§€ê²Œ ëœë‹¤. ì´ëŸ¬í•œ ì‹¤í–‰ ê³¼ì •ì†ì—ì„œ JVMì€ í•„ìš”ì— ë”°ë¼ Thread Synchronizeationê³¼ GCê°™ì€ ê´€ë¦¬ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\nJVM êµ¬ì„± í´ë˜ìŠ¤ ë¡œë” Class Loader JVM ë‚´ë¡œ í´ë˜ìŠ¤ íŒŒì¼ì„ ë¡œë“œí•˜ê³ , ë§í¬ë¥¼ í†µí•´ ë°°ì¹˜í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ëª¨ë“ˆì´ë‹¤. Runtimeì‹œì— ë™ì ìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ë¡œë“œí•œë‹¤. jaríŒŒì¼ ë‚´ ì €ì¥ëœ í¬ë˜ìŠ¤ë“¤ì„ JVMìœ„ì— íƒ‘ì¬í•˜ê³  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤ë“¤ì€ ë©”ëª¨ë¦¬ì—ì„œ ì‚­ì œí•œë‹¤. (ì»´íŒŒì¼ëŸ¬ ì—­í• )\nìë°”ëŠ” ë™ì ì½”ë“œ, ì»´íŒŒì¼ íƒ€ì„ì´ ì•„ë‹ˆë¼ ëŸ°íƒ€ì„ì— ì°¸ì¡°í•œë‹¤. ì¦‰, í´ë˜ìŠ¤ë¥¼ ì²˜ìŒìœ¼ë¡œ ì°¸ì¡°í•  ë•Œ, í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ë¡œë“œí•˜ê³  ë§í¬í•œë‹¤. ê·¸ ì—­í• ì„ í´ë˜ìŠ¤ ë¡œë”ê°€ ìˆ˜í–‰í•œë‹¤.\nì‹¤í–‰ ì—”ì§„ Execution Engine í´ë˜ìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤. í´ë˜ìŠ¤ ë¡œë”ê°€ JVMë‚´ì˜ ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­ì— ë°”ì´íŠ¸ ì½”ë“œë¥¼ ë°°ì¹˜í•˜ë©´ ì‹¤í–‰ì—”ì§„ì— ì˜í•´ ì‹¤í–‰ëœë‹¤. ìë°” ë°”ì´íŠ¸ì½”ë“œëŠ” ê¸°ê³„ê°€ ë°”ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì–¸ì–´ë³´ë‹¤ëŠ” ë¹„êµì  ì¸ê°„ì´ ë³´ê¸° í¸í•œ í˜•íƒœë¡œ ê¸°ìˆ ëœ ê²ƒì´ë‹¤.\nê·¸ë˜ì„œ ì‹¤í–‰ì—”ì§„ì€ ì´ì™€ ê°™ì€ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì‹¤ì œë¡œ JVMë‚´ë¶€ì—ì„œ ê¸°ê³„ê°€ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë³€ê²½í•œë‹¤. ì´ ë•Œ ë‘ê°€ì§€ ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\nì¸í„°í”„ë¦¬í„° Interpreter\nì‹¤í–‰ ì—”ì§„ì€ ìë°” ë°”ì´íŠ¸ ì½”ë“œë¥¼ ëª…ë ¹ì–´ ë‹¨ìœ„ë¡œ ì½ì–´ì„œ ì‹¤í–‰í•œë‹¤.\nì¸í„°í”„ë¦¬í„° ì–¸ì–´ì˜ ë‹¨ì ì„ ê·¸ëŒ€ë¡œ ê°–ê³  ìˆë‹¤. í•œ ì¤„ ì”© ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— ëŠë¦¬ë‹¤. JIT Just-In-Time\nì¸í„°í”„ë¦¬í„° ë°©ì‹ì˜ ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ ë„ì…ëœ JIT ì»´íŒŒì¼ëŸ¬ì´ë‹¤. ì¸í„°í”„ë¦¬í„° ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰í•˜ë‹¤ê°€ ì ì ˆí•œ ì‹œì ì— ë°”ì´íŠ¸ ì½”ë“œ ì „ì²´ë¥¼ ì»´íŒŒì¼í•˜ì—¬ ë„¤ì´íŠ¸ë¸Œ ì½”ë“œë¡œ ë³€ê²½í•˜ê³ , ì´í›„ì—ëŠ” í•´ë‹¹ ì½”ë“œë¥¼ ë”ì´ìƒ ì¸í„°í”„ë¦¬íŒ… í•˜ì§€ ì•Šê³  ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ ì§ì ‘ ì‹¤í–‰í•œë‹¤.\në„¤ì´í‹°ë¸Œ ì½”ë“œëŠ” ìºì‹œì— ë³´ê´€í•˜ê¸° ë•Œë¬¸ì— í•œ ë²ˆ ì»´íŒŒì¼ ëœ ì½”ë“œëŠ” ë¹ ë¥´ê²Œ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. JIT ì»´íŒŒì¼ëŸ¬ê°€ ì»´íŒŒì¼ í•˜ëŠ” ê³¼ì •ì€ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì¸í„°í”„ë¦¬íŒ…í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ì˜¤ë˜ê±¸ë¦¬ë¯€ë¡œ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œë¼ë©´ ì»´íŒŒì¼í•˜ì§€ ì•Šê³  ì¸í„°í”„ë¦¬íŒ… í•˜ëŠ” ê²ƒì´ ìœ ë¦¬í•˜ë‹¤. JIT ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” JVMë“¤ì€ ë‚´ë¶€ì ìœ¼ë¡œ í•´ë‹¹ ë©”ì„œë“œê°€ ì–¼ë§ˆë‚˜ ìì£¼ ìˆ˜í–‰ë˜ëŠ”ì§€ ì²´í¬í•˜ê³ , ì¼ì • ì •ë„ë¥¼ ë„˜ì„ ë•Œì—ë§Œ ì»´íŒŒì¼ì„ ìˆ˜í–‰í•œë‹¤. Garbage Collector GCë¥¼ ìˆ˜í–‰í•˜ëŠ” ëª¨ë“ˆ (ì“°ë ˆë“œ)ë¥¼ ê°€ì§„ë‹¤.\nRuntime Data Area í”„ë¡œê·¸ë¨ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ OSì—ì„œ í• ë‹¹ë°›ì€ ë©”ëª¨ë¦¬ ê³µê°„\nPC Register Threadê°€ ì‹œì‘ë  ë•Œ ìƒì„±ë˜ë©° ìƒì„±ë  ë•Œë§ˆë‹¤ ìƒì„±ë˜ëŠ” ê³µê°„ìœ¼ë¡œ ìŠ¤ë ˆë“œë§ˆë‹¤ í•˜ë‚˜ì”© ì¡´ì¬í•œë‹¤.\nì“°ë ˆë“œê°€ ì–´ë–¤ ë¶€ë¶„ì„ ì–´ë–¤ ëª…ë ¹ìœ¼ë¡œ ì‹¤í–‰í•´ì•¼í•  ì§€ì— ëŒ€í•œ ê¸°ë¡ì„ í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ í˜„ì¬ ìˆ˜í–‰ì¤‘ì¸ JVM ëª…ë ¹ì˜ ì£¼ì†Œë¥¼ ê°–ëŠ”ë‹¤.\nJVM ìŠ¤íƒ ì˜ì—­ í”„ë¡œê·¸ë¨ ì‹¤í–‰ê³¼ì •ì—ì„œ ì„ì‹œë¡œ í• ë‹¹ë˜ì—ˆë‹¤ê°€ ë©”ì†Œë“œë¥¼ ë¹ ì ¸ë‚˜ê°€ë©´ ë°”ë¡œ ì†Œë©¸ë˜ëŠ” íŠ¹ì„±ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ì˜ì—­ì´ë‹¤.\nê°ì¢… í˜•íƒœì˜ ë³€ìˆ˜ë‚˜ ì„ì‹œ ë°ì´í„°, ìŠ¤ë ˆë“œë‚˜ ë©”ì†Œë“œì˜ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤. ë©”ì†Œë“œ í˜¸ì¶œ ì‹œë§ˆë‹¤ ê°ê°ì˜ ìŠ¤íƒ í”„ë ˆì„(ê·¸ ë©”ì„œë“œ ë§Œì„ ìœ„í•œ ê³µê°„)ì´ ìƒì„±ëœë‹¤. ë©”ì„œë“œ ìˆ˜í–‰ì´ ëë‚˜ë©´ í”„ë ˆì„ ë³„ë¡œ ì‚­ì œë¥¼ í•œë‹¤. ë©”ì†Œë“œ ì•ˆì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°’ë“¤(local variable)ì„ ì €ì¥í•œë‹¤. í˜¸ì¶œëœ ë©”ì†Œë“œì˜ ë§¤ê°œë³€ìˆ˜, ì§€ì—­ë³€ìˆ˜, ë¦¬í„´ ê°’ ë° ì—°ì‚° ì‹œ ì¼ì–´ë‚˜ëŠ” ê°’ë“¤ì„ ì„ì‹œë¡œ ì €ì¥í•œë‹¤. Native method stack ìë°” í”„ë¡œê·¸ë¨ì´ ì»´íŒŒì¼ ë˜ì–´ ìƒì„±ë˜ëŠ” ë°”ì´íŠ¸ ì½”ë“œê°€ ì•„ë‹Œ ì‹¤ì œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ì–´ë¡œ ì‘ì„±ëœ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ì˜ì—­ì´ë‹¤.\nìë°”ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ì„±ëœ ì½”ë“œë¥¼ ìœ„í•œ ê³µê°„ì´ë‹¤. Java Native Interfaceë¥¼ í†µí•´ ë°”ì´íŠ¸ ì½”ë“œë¡œ ì „í™˜í•˜ì—¬ ì €ì¥í•˜ê²Œ ëœë‹¤. ì¼ë°˜ í”„ë¡œê·¸ë¨ì²˜ëŸ¼ ì»¤ë„ì´ ìŠ¤íƒì„ ì¡ì•„ ë…ìì ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ì˜ì—­ì´ë‹¤. ì´ ë¶€ë¶„ì„ í†µí•´ C codeë¥¼ ì‹¤í–‰ì‹œì¼œ Kernelì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. Method Area (= Class area = Static area) í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì²˜ìŒ ë©”ëª¨ë¦¬ ê³µê°„ì— ì˜¬ë¦´ ë•Œ ì´ˆê¸°í™”ë˜ëŠ” ëŒ€ìƒì„ ì €ì¥í•˜ê¸° ìœ„í•œ ë©”ëª¨ë¦¬ ê³µê°„.\nì˜¬ë¼ê°€ê²Œ ë˜ëŠ” ë©”ì†Œë“œì˜ ë°”ì´íŠ¸ì½”ë“œëŠ” í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ êµ¬ì„±í•˜ëŠ” ë°”ì´íŠ¸ ì½”ë“œì´ë‹¤. ìë°” í”„ë¡œê·¸ë¨ì€ ë©”ì¸ ë©”ì†Œë“œì˜ í˜¸ì¶œì—ì„œ ë¶€í„° ê³„ì†ëœ ë©”ì†Œë“œì˜ í˜¸ì¶œë¡œ íë¦„ì„ ì´ì–´ê°€ê¸° ë•Œë¬¸ì´ë‹¤. ëŒ€ë¶€ë¶„ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±ë„ ë©”ì†Œë“œ ë‚´ì—ì„œ ëª…ë ¹í•˜ê³  í˜¸ì¶œí•œë‹¤. ì‚¬ì‹¤ìƒ ì»´íŒŒì¼ ëœ íŒŒì´íŠ¸ì½”ë“œì˜ ëŒ€ë¶€ë¶„ì´ ë©”ì†Œë“œ ë°”ì´íŠ¸ì½”ë“œì´ê¸° ë•Œë¬´ë„¹ ê±°ì˜ ëª¨ë“  ë°”ì´íŠ¸ì½”ë“œê°€ ì˜¬ë¼ê°„ë‹¤ê³  ë´ë„ ìƒê´€ì—†ë‹¤. Runtime Constat Poolì´ë¼ëŠ” ë³„ë„ì˜ ê´€ë¦¬ ì˜ì—­ë„ í•¨ê»˜ ì¡´ì¬í•˜ì—¬, ìƒìˆ˜ ìë£Œí˜•ì„ ì €ì¥í•˜ì—¬ ì°¸ì¡°í•˜ê³  ì¤‘ë³µì„ ë§‰ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì˜¬ë¼ê°€ëŠ” ì •ë³´ì˜ ì¢…ë¥˜ Feild Information ë©¤ë²„ ë³€ìˆ˜ì˜ ì´ë¦„ ë°ì´í„° íƒ€ì… ì ‘ê·¼ ì œì–´ìì— ëŒ€í•œ ì •ë³´ Method Information ë©”ì†Œë“œì˜ ì´ë¦„, ë¦¬í„´íƒ€ì…, ë§¤ê°œë³€ìˆ˜, ì ‘ê·¼ ì œì–´ìì— ëŒ€í•œ ì •ë³´ Type Information Classì¸ì§€ interfaceì¸ì§€ì˜ ì—¬ë¶€ ì €ì¥ Typeì˜ ì†ì„± ì „ì²´ ì´ë¦„ Super classì˜ ì „ì²´ ì´ë¦„ (interfaceì´ê±°ë‚˜ objectì¸ ê²½ìš° ì œì™¸) Heap ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ê°€ìƒ ë©”ëª¨ë¦¬ ê³µê°„\nìƒì„±ëœ ê°ì²´ì™€ ë°°ì—´ì„ ì €ì¥í•œë‹¤. class areaì˜ì—­ì— ì˜¬ë¼ì˜¨ í´ë˜ìŠ¤ë“¤ë§Œ ê°ì²´ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. Permanent Generation ìƒì„±ëœ ê°ì²´ë“¤ì˜ ì •ë³´ ì£¼ì†Œê°’ì´ ì €ì¥ëœ ê³µê°„ì´ë‹¤. class loaderì— ì˜í•´ loadë˜ëŠ” class, method ë“±ì— ëŒ€í•œ meta ì •ë³´ê°€ ì €ì¥ë˜ëŠ” ì˜ì—­ì´ê³ , JVMì— ì˜í•´ ì‚¬ìš©ëœë‹¤.\nReflectionì„ ì‚¬ìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ í´ë˜ìŠ¤ê°€ ë¡œë”©ë˜ëŠ” ê²½ìš°ì— ì‚¬ìš©ëœë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ Reflection ê¸°ëŠ¥ì„ ìì£¼ ì‚¬ìš©í•˜ëŠ” Spring Frameworkë¥¼ ì´ìš©í•  ê²½ìš° ì´ ì˜ì—­ì— ëŒ€í•œ ê³ ë ¤ê°€ í•„ìš”í•˜ë‹¤.\nNew/Young ì˜ì—­ Eden ê°ì²´ë“¤ì´ ìµœì´ˆë¡œ ìƒì„±ë˜ëŠ” ê³µê°„ Survivor 0 / 1 Edenì—ì„œ ì°¸ì¡°ë˜ëŠ” ê°ì²´ë“¤ì´ ì €ì¥ë˜ëŠ” ê³µê°„ Old ì˜ì—­ New areaì—ì„œ ì¼ì • ì‹œê°„ ì°¸ì¡°ë˜ê³  ìˆëŠ”, ì‚´ì•„ë‚¨ì€ ê°ì²´ë“¤ì´ ì €ì¥ë˜ëŠ” ê³µê°„\nEden ì˜ì—­ì— ê°ì²´ê°€ ê°€ë“ì°¨ê²Œ ë˜ë©´ ì²«ë²ˆì§¸ GC(minor GC)ê°€ ë°œìƒí•œë‹¤. Eden ì˜ì—­ì— ìˆëŠ” ê°’ë“¤ì„ Survivor 1 ì˜ì—­ì— ë³µì‚¬í•˜ê³  ì´ ì˜ì—­ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì˜ì—­ì˜ ê°ì²´ë¥¼ ì‚­ì œí•œë‹¤.\nì¸ìŠ¤í„´ìŠ¤ëŠ” ì†Œë©¸ ë°©ë²•ê³¼ ì†Œë©¸ ì‹œì ì´ ì§€ì—­ ë³€ìˆ˜ì™€ëŠ” ë‹¤ë¦¬ê¸°ì— í™ì´ë¼ëŠ” ë³„ë„ì˜ ì˜ì—­ì— í• ë‹¹ëœë‹¤. ìë°” ê°€ìƒë¨¸ì‹ ì€ ë§¤ìš° í•©ë¦¬ì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì†Œë©¸ì‹œí‚¨ë‹¤. ë”ì´ìƒ ì¸ìŠ¤í„´ìŠ¤ì˜ ì¡´ì¬ ì´ìœ ê°€ ì—†ì„ ë•Œ ì†Œë©¸ì‹œí‚¨ë‹¤.\n","date":"2023-04-18T16:07:19+09:00","image":"https://codemario318.github.io/post/jvm/jvm_cover_hu0ae05cc4d1c0ca93a8c2f5fc57548620_55838_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/jvm/","title":"JVM"},{"content":"ì œë„ˆë ˆì´í„°ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ë°˜í™˜ë˜ëŠ” ì´í„°ëŸ¬ë¸” ê°ì²´ì´ë‹¤. ì œë„¤ë ˆì´í„° í•¨ìˆ˜ëŠ” ì¼ë°˜ì ì¸ í•¨ìˆ˜ì™€ ë¹„ìŠ·í•˜ê²Œ ìƒê²¼ì§€ë§Œ yield êµ¬ë¬¸ì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì›í•˜ëŠ” ì‹œì ì— ë°˜í™˜í•˜ê³  ì²˜ë¦¬ë¥¼ ë‹¤ì‹œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ì¸ í•¨ìˆ˜ëŠ” ì§„ì…ì ì´ í•˜ë‚˜ë¼ë©´ ì œë„¤ë ˆì´í„°ëŠ” ì§„ì…ì ì´ ì—¬ëŸ¬ê°œë¼ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ íŠ¹ì„±ë•Œë¬¸ì— ì œë„¤ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì›í•˜ëŠ” ì‹œì ì— ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆê²Œëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 def generator(): yield 1 yield \u0026#39;string\u0026#39; yield True gen = generator() print(gen) # \u0026lt;generator object generator at 0x10a47c678\u0026gt; next(gen) #1 next(gen) # \u0026#39;string\u0026#39; next(gen) # True next(gen) \u0026#39;\u0026#39;\u0026#39; Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; StopIteration \u0026#39;\u0026#39;\u0026#39; ë™ì‘ yield ë¬¸ì´ í¬í•¨ëœ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ê°€ ë°˜í™˜ë˜ëŠ”ë° ì´ ë•ŒëŠ” í•¨ìˆ˜ì˜ ë‚´ìš©ì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. next() ë¼ëŠ” ë¹ŒíŠ¸ì¸ ë©”ì„œë“œë¥¼ í†µí•´ ì œë„¤ë ˆì´í„°ë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©° next() ë©”ì„œë“œ ë‚´ë¶€ì ìœ¼ë¡œ iterator ë¥¼ ì¸ìë¡œ ë°›ì•„ ì´í„°ë ˆì´í„°ì˜ __next__() ë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤. ì²˜ìŒ __next__() ë¥¼ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ì˜ ë‚´ìš©ì„ ì‹¤í–‰í•˜ë‹¤ yield ë¬¸ì„ ë§Œë‚¬ì„ ë•Œ ì²˜ë¦¬ë¥¼ ì¤‘ë‹¨í•œë‹¤. ì´ ë•Œ ëª¨ë“  local stateëŠ” ìœ ì§€ë˜ëŠ”ë° ë³€ìˆ˜ì˜ ìƒíƒœ, ëª…ë ¹ì–´ í¬ì¸í„°, ë‚´ë¶€ ìŠ¤íƒ, ì˜ˆì™¸ ì²˜ë¦¬ ìƒíƒœë¥¼ í¬í•¨í•œë‹¤. ê·¸ í›„ ì œì–´ê¶Œì„ ìƒìœ„ ì»¨í…ìŠ¤íŠ¸ë¡œ ì–‘ë³´(yield)í•˜ê³  ë˜ __next__() ê°€ í˜¸ì¶œë˜ë©´ ì œë„¤ë ˆì´í„°ëŠ” ì¤‘ë‹¨ëœ ì‹œì ë¶€í„° ë‹¤ì‹œ ì‹œì‘í•œë‹¤. yield ë¬¸ì˜ ê°’ì€ ì–´ë–¤ ë©”ì„œë“œë¥¼ í†µí•´ ì œë„¤ë ˆì´í„°ê°€ ë‹¤ì‹œ ë™ì‘í–ˆëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¥¸ë°, __next__() ë¥¼ ì‚¬ìš©í•˜ë©´ Noneì´ê³  send() ë¥¼ ì‚¬ìš©í•˜ë©´ ë©”ì„œë“œë¡œ ì „ë‹¬ ëœ ê°’ì„ ê°–ê²Œë˜ì–´ ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ì…ë ¥ë°›ì„ ìˆ˜ ìˆê²Œ ëœë‹¤.\nì¥ì  List, Set, Dict í‘œí˜„ì‹ì€ iterable í•˜ê¸°ì— for í‘œí˜„ì‹ ë“±ì—ì„œ ìœ ìš©í•˜ê²Œ ì“°ì¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ê°ì²´ë“¤ì€ Collection íŠ¹ì„±ìƒ ê°€ì§„ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ë‹´ê³  ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í° ê°’ì„ ë‹¤ë£° ë•ŒëŠ” ì„±ëŠ¥ìƒ ë¶ˆë¦¬í•˜ë‹¤. ì œë„ˆë ˆì´í„°ëŠ” yield ë¥¼ í†µí•´ í•„ìš”í•œ ê°’ë§Œ ë°›ì•„ ì“°ê¸° ë•Œë¬¸ì— ëª¨ë“  ê°’ì„ ë©”ëª¨ë¦¬ì— ë“¤ê³  ìˆì„ í•„ìš”ê°€ ì—†ê²Œ ëœë‹¤.\n1 2 3 4 5 6 7 import sys a = [i for i in range(100000)] sys.getsizeof(a) #824464 b = (i for i in range(100000)) sys.getsizeof(b) #88 ë¦¬ìŠ¤íŠ¸ê°€ ì—¬ëŸ¬ë²ˆ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ë°˜ë©´ b ì œë„¤ë ˆì´í„°ëŠ” í•œë²ˆ ì‚¬ìš©ëœ í›„ ì†Œì§„ëœë‹¤. ì´ëŠ” ëª¨ë“  ì´í„°ë ˆì´í„°ê°€ ë§ˆì°¬ê°€ì§€ì¸ë° List, Set ë“±ì€ ì´í„°ëŸ¬ë¸”í•˜ì§€ë§Œ ì´í„°ë ˆì´í„°ëŠ” ì•„ë‹ˆê¸°ì— ì†Œì§„ë˜ì§€ ì•ŠëŠ”ë‹¤.\n1 2 len(list(b)) # 100000 len(list(b)) # 0 while True êµ¬ë¶„ìœ¼ë¡œ ì œê³µë°›ì„ ë°ì´í„°ê°€ ë¬´í•œí•˜ê±°ë‚˜, ëª¨ë“  ê°’ì„ í•œë²ˆì— ê³„ì‚°í•˜ê¸°ì—” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ì–´ ê·¸ë•Œ ê·¸ë•Œ í•„ìš”í•œ ë§Œí¼ë§Œ ë°›ì•„ ê³„ì‚°í•˜ê³  ì‹¶ì„ ë•Œ ì œë„¤ë ˆì´í„°ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-18T14:31:00+09:00","image":"https://codemario318.github.io/post/python_cover/python_cover_hu071c6006b6148c050030e26fb108bd62_83564_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/python_cover/","title":"Python - Generator"},{"content":"\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ê²€ìƒ‰ ì—”ì§„ì¸ ì•„íŒŒì¹˜ ë£¨ì”¬ (Apache Lucene)ìœ¼ë¡œ êµ¬í˜„í•œ RESTful API ê¸°ë°˜ì˜ ê²€ìƒ‰ ì—”ì§„ì´ë‹¤. ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ì•„í‚¤í…ì³ëŠ” í´ëŸ¬ìŠ¤í„° ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\ní´ëŸ¬ìŠ¤í„° ê¸°ë³¸ íŠ¹ì§• ìˆ˜í‰ í™•ì¥\ní´ëŸ¬ìŠ¤í„°ë¥¼ ì‚¬ì‹¤ìƒ ë¬´í•œìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ ìƒ¤ë”©\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ì¡°ê°ë‚´ì„œ \u0026ldquo;ìƒ¤ë“œ (shard)\u0026ldquo;ë¼ëŠ” ì¡°ê°ë‚œ ë°ì´í„°ë¡œ ë§Œë“ ë‹¤. ë•Œë¬¸ì— ë‚˜ëˆ„ì–´ì§„ ë°ì´í„°ë¥¼ í¸í•˜ê²Œ ê° í˜¸ìŠ¤íŠ¸ì— ë¶„ë¦¬í•´ì„œ ë³´ê´€í•  ìˆ˜ ìˆë‹¤.\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ íŠ¹ì§• Schemalessì™€ ë¬¸ì„œì§€í–¥ ì—˜ë¼ìŠ¤í‹± ì„œì¹˜ëŠ” JSON êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ RDBMSì™€ ê°™ì€ ì—„ê²©í•œ êµ¬ì¡°ë¥¼ ì ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\nìŠ¤í‚¤ë§ˆê°€ ë‹¤ì´ë‚˜ë¯¹í•˜ê²Œ ë³€í•  ìˆ˜ ìˆë‹¤\nì „í†µì ì¸ ê´€ê³„í˜• êµ¬ì¡°ë¡œ êµ¬ì„±í•  ê²½ìš° í”„ë¡œì íŠ¸ ë§‰ë°”ì§€ì— ëª¨ë“  ìŠ¤í‚¤ë§ˆë¥´ ã„¹ë³€ê²½í•˜ê³ , ë°ì´í„°ë¥¼ ë‹¤ì‹œ êµ¬ì„±í•˜ëŠ” ë¬¸ì œì— ë´‰ì°©í•  ìˆ˜ ìˆëŠ”ë° JSON êµ¬ì¡°ëŠ” ì´ëŸ° ë¬¸ì œë“¤ì„ ì‚¬ì „ì— ë§‰ì„ ìˆ˜ ìˆë‹¤. ë°ì´í„° ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.\nì»¬ëŸ¼ì„ ë™ì ìœ¼ë¡œ ì •ì˜í•˜ì—¬, í•„ìš”í•œ ë°ì´í„°ë§Œ ë„£ê²Œ ë˜ì–´ ë°ì´í„° ê³µê°„ ë° CPU ì‚¬ìš©ëŸ‰, ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ë„ ì¤„ì¼ ìˆ˜ ì´ì“´ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ê²€ìƒ‰ëŠ¥ë ¥(Searching) ê¸°ë³¸ì ì¸ ê²€ìƒ‰ ê¸°ëŠ¥ ë¿ë§Œ ì•„ë‹ˆë¼ íŠ¹íˆ Full-text ê²€ìƒ‰ ëŠ¥ë ¥ì´ë¼ëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì„ íƒ‘ì¬í•˜ê³  ìˆë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¬¸ìì—´ ì»¬ëŸ¼ì— ëŒ€í•´ ì‹¤í–‰ë˜ëŠ” ë‹¨ìˆœí•œ SQL ì§ˆì˜ì™€ëŠ” ë‹¤ë¥´ë‹¤.\nê¸°ë³¸ì ìœ¼ë¡œ ì—˜ë¼ìŠ¤í‹±ì€ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆëŠ” Term(ì˜ë¯¸ì˜ ìµœì†Œí•œìœ„)ë¡œ ë‹¨ì–´ì˜ í˜•íƒœì†Œ ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³ , ì´ ë‹¨ì–´ë“¤ê³¼ ì—°ê´€ëœ ë¬¸ì„œë¥¼ ë§¤í•‘í•˜ì—¬ ê²€ìƒ‰ì„ ì‹œì¼œì£¼ëŠ” ê°œë…ìœ¼ë¡œ ë¬¸ì„œë¥¼ í†µì¨°ë¡œ like ê²€ìƒ‰í•˜ëŠ” DBì™€ëŠ” êµ¬ì¡°ì ìœ¼ë¡œ ë‹¤ë¥´ë‹¤.\në¶„ì„(Analytics) ì—˜ë¼ìŠ¤í‹± ì„œì¹˜ë¥¼ íƒ‘ì¬í•˜ì—¬ ë§Œë“  ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ëŠ” ì‚¬ëŒë“¤ì˜ OSê°€ ë¬´ì—‡ì¸ì§€, ì–´ëŠë‚˜ë¼ì—ì„œ ì ‘ì†í–ˆëŠ”ì§€ ë“±ì„ ì•Œê³  ì‹¶ì„ ë•Œ ë¶„ì„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ê²Œ ì•Œ ìˆ˜ ìˆë‹¤.\ní’ë¶€í•œ APIì™€ REST ì§€ì› ê¸°ë³¸ì ìœ¼ë¡œ 20ê°œì˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì§€ì›í•˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ REST APIë¥¼ ì œê³µí•˜ì—¬ REST APIë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì–¸ì–´ì—ì„œ HTTP í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì‰¬ìš´ ì‘ë™, ì‰¬ìš´ í™•ì¥ Single Node Instanceë¡œ ì‘ë™í•˜ë©°, ìˆ˜ë°±ê°œì˜ ìŠ¤ì¼€ì¼ ì•„ì›ƒì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ë¹…ë°ì´í„° í”Œë«í¼ë“¤ì´ ê·¸ëŸ¬í•˜ë“¯ Horizontal Scalingì„ ì‚¬ìš©í•œë‹¤.\nNear real-time(ê·¼ì ‘ ì‹¤ì‹œê°„) ê²€ìƒ‰ì—”ì§„ì€ ê¸°ë³¸ì ìœ¼ë¡œ í˜•íƒœì†Œë¥¼ ë¶„ì„í•˜ê³  ìƒ‰ì¸ì„ í•´ì•¼ í•˜ëŠ” ì‹œê°„ì´ ë‹¤ë¥¸ DBMSë³´ë‹¤ ì˜¤ë˜ ê±¸ë¦°ë‹¤. ì—˜ë¼ìŠ¤í‹± ì—­ì‹œ ë°ì´í„°ë¥¼ ì‚½ì…í•œ ìˆœê°„ ì•½ ëª‡ ì´ˆ ì •ë„ëŠ” ì´ ë‹¨ê³„ë¥¼ ê±°ì¹œ í›„ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆë‹¤.\nLightning-fast (ë¹ ë¥¸ ì†ë„) ì—˜ë¼ìŠ¤í‹± ì„œì¹˜ì˜ DNAëŠ” ë£¨ì”¬ì´ê¸° ë–„ë¬¸ì— ë‹¨ì–´ ì…ë ¥í›„ ë¬¸ì„œë¥¼ ì°¾ëŠ” ì†ë„ê°€ ë‹¤ë¥¸ NoSQLë“¤ì— ë¹„í•´ ë§¤ìš° ë¹ ë¥´ë‹¤.\nFault-tolerant(ë‚´ê³ ì¥ì„±) ë…¸ë“œ ì‹¤íŒ¨ì‹œ replicateëœ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©°, ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ì‹œ ë‹¤ë¥¸ ë§ˆìŠ¤í„° ë³µì œë³¸ìœ¼ë¡œ ì„ íƒí•œë‹¤.\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ë°ì´í„° êµ¬ì¡° ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ìœ„ì™€ ê°™ì´ ë¬¸ì„œë¥¼ ì—˜ë¼ìŠ¤í‹± ì¸ë±ìŠ¤ë¡œ ë§Œë“  ë’¤, ìƒ¤ë“œë¡œ ë¶„ë¦¬í•˜ì—¬ ë³´ê´€í•œë‹¤.\nìƒ¤ë“œëŠ” ë…¼ë¦¬ì /ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„í•  ëœ ì¸ë±ìŠ¤ì¸ë°, ê°ê°ì˜ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ìƒ¤ë“œëŠ” ë£¨ì”¬ ì¸ë±ìŠ¤ì´ê¸°ë„ í•˜ë‹¤.\në£¨ì”¬ì€ ìƒˆë¡œìš´ ë¬¸ì„œë¥¼ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ì¸ë±ìŠ¤ì— ì €ì¥í•  ë•Œ \u0026ldquo;ì„¸ê·¸ë¨¼íŠ¸\u0026quot;ë¥¼ ìƒì„±í•˜ëŠ”ë°, ë£¨ì”¬ì˜ ì¸ë±ìŠ¤ ì¡°ê°ì¸ ì´ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì¡°í•©í•´ ì €ì¥í•œ ë°ì´í„°ì˜ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆë‹¤.\nìƒ‰ì¸ ì²˜ë¦¬ëŸ‰ì´ ë§¤ìš° ì¤‘ìš”í•  ë•ŒëŠ” ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë” ìƒì„±í•˜ê¸°ë„ í•œë‹¤. ë£¨ì”¬ì€ ìˆœì°¨ì ìœ¼ë¡œ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê²€ìƒ‰í•˜ë¯€ë¡œ ì„¸ê·¸ë¨¼íŠ¸ ìˆ˜ê°€ ë§ì•„ì§€ë©´ ê²€ìƒ‰ì†ë„ë„ ë”°ë¼ì„œ ëŠë ¤ì§€ê²Œ ëœë‹¤.\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ë°ì´í„° ì„¤ëª… ì¸ë±ìŠ¤(ìƒ‰ì¸) ë°ì´í„°ë¥¼ ì €ì¥ ë° ìƒ‰ì¸ í•˜ëŠ” ê³³ìœ¼ë¡œ, ê´€ê³„í˜• DBì˜ ë°ì´í„°ë² ì´ìŠ¤ ê°œë…ê³¼ ìœ ì‚¬í•˜ë‹¤.\nì‹¤ì œë¡œëŠ” ê° ìƒ¤ë“œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆëŠ” ë…¼ë¦¬ì ì¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ Shard ìƒ¤ë“œëŠ” ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²€ìƒ‰ ì—”ì§„ì¸ ë£¨ì”¬ì˜ ì¸ìŠ¤í„´ìŠ¤.\nì¸ë±ìŠ¤ë¥¼ í•œ ê°œì˜ ìƒ¤ë“œë¡œ êµ¬ì„±í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì¸ë±ìŠ¤ ì‚¬ì´ì¦ˆê°€ ì¦ê°€í•  ê²½ìš° ì—¬ëŸ¬ê°œì˜ ë¬¼ë¦¬ì„œë²„ì— ë‚˜ëˆ„ì–´ ë³´ê´€í•˜ê¸° ìœ„í•´ ë³´í†µì€ ì—¬ëŸ¬ê°œì˜ ìƒ¤ë“œë¡œ êµ¬ì„±í•¨. Segment ê° ìƒ¤ë“œëŠ” ë‹¤ìˆ˜ì˜ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°€ì§€ê³  ìˆê³ , ìƒ¤ë“œì—ì„œ ê²€ìƒ‰ ì‹œ, ë¨¼ì € ê° ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê²€ìƒ‰í•˜ì—¬ ê²°ê³¼ë¥¼ ì¡°í•©í•œ ìµœì¢… ê²°ê³¼ë¥¼ í•´ë‹¹ ìƒ¤ë“œì˜ ê²°ê³¼ë¡œ ë¦¬í„´í•˜ê²Œ ëœë‹¤.\nsearchable\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì— ë°ì´í„°(ë¬¸ì„œ)ë¥¼ ì €ì¥í•˜ë©´, ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ì´ê²ƒì„ ë©”ëª¨ë¦¬ì— ëª¨ì•„ë‘ê³  ìƒˆë¡œìš´ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ì—¬ ê²€ìƒ‰ì„ ë¦¬í”„ë ˆì‹œí•¨. ì´ë¡œ ì¸í•´ ìƒˆë¡œìš´ ê²€ìƒ‰ ê°€ëŠ¥í•œ ì„¸ê·¸ë¨¼íŠ¸ê°€ ë§Œë“¤ì–´ì§€ê²Œ ëœë‹¤.\ncommited\nê·¸ëŸ¬ë‚˜ ì„¸ê·¸ë¨¼íŠ¸ê°€ fsyncë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ì—¬ì „íˆ ë°ì´í„° ì†ì‹¤ì˜ ìœ„í—˜ì´ ë‚¨ì•„ìˆë‹¤. ê·¸ë˜ì„œ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ì„¸ê·¸ë¨¼íŠ¸ë¥¼ fsyncí•˜ëŠ” \u0026ldquo;flush\u0026quot;ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì§„í–‰í•˜ê³ , ë¶ˆí•„ìš”í•œ íŠ¸ëœì ì…˜ ë¡œê·¸ë¥¼ ë¹„ìš´ë‹¤.\nmerge process\nì„¸ê·¸ë¨¼íŠ¸ëŠ” ë¶ˆë³€ì„, ë°ì´í„°(document)ê°€ ì—…ë°ì´íŠ¸ë˜ë©´ ì‹¤ì œë¡œëŠ” ê·¸ì € ì‚­ì œë˜ì—ˆë‹¤ê³  ë§ˆí¬í•˜ê³  ìƒˆë¡œìš´ ë°ì´í„°(document)ë¥¼ ê°€ë¦¬í‚¬ ë¿ì´ë‹¤. ì´ëŸ¬í•œ ì˜¤ë˜ëœ ì‚­ì œëœ ë°ì´í„°ë¥¼ ì§€ìš°ëŠ” ê²ƒ\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ í´ëŸ¬ìŠ¤í„° êµ¬ì¡° ìœ„ ë‹¤ì´ì–´ê·¸ë¨ì€ 3ê°œì˜ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ì¸ìŠ¤í„´ìŠ¤ í™˜ê²½ì—ì„œ, 4ê°œì˜ ìƒ¤ë“œë¥¼ 2ê°œì˜ ë³µì œë³¸ìœ¼ë¡œ êµ¬ì„±í–ˆì„ ë•Œì˜ êµ¬ì¡°ì´ë‹¤.\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” í´ëŸ¬ìŠ¤í„° êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©° ìƒ¤ë“œì™€ ë³µì œë³¸ì˜ ìˆ˜ë¥¼ ì„¤ì •í•´ë‘ë©´ ìŠ¤ìŠ¤ë¡œ ê° ë…¸ë“œì— ìƒ¤ë“œë¥¼ ë¶„ë°°í•˜ì—¬ ì¥ì• ë°œìƒ ì‹œ ë°ì´í„° ì†ì‹¤ì„ ìµœì†Œí™”í•œë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ ìƒ¤ë“œê°€ ì†ì‹¤ë˜ì—ˆì„ ê²½ìš°ì—ëŠ” ë ˆí”Œë¦¬ì¹´ë¥¼ í”„ë¼ì´ë¨¸ë¦¬ë¡œ ìŠ¹ê²©ì‹œì¼œ ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•œë‹¤.\n","date":"2023-04-18T14:13:19+09:00","image":"https://codemario318.github.io/post/elasticsearch/elasticsearch_cover_hu19466caf2459bbcd9b4d95bc6d53e495_16781_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/elasticsearch/","title":"Elasticsearch"},{"content":" ê²€ìƒ‰ ì—”ì§„ì€ ì»´í“¨í„° ì‹œìŠ¤í…œì— ì €ì¥ëœ ì •ë³´ë¥¼ ì°¾ì•„ì£¼ëŠ” ê²ƒì„ ë„ì™€ì£¼ë„ë¡ ì„¤ê³„ëœ ì •ë³´ ê²€ìƒ‰ ì‹œìŠ¤í…œì´ë‹¤. ê²€ìƒ‰ ì—”ì§„ì„ ì‚¬ìš©í•˜ì—¬ì •ë³´ë¥¼ ì°¾ëŠ”ë° í•„ìš”í•œ ì‹œê°„ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆë‹¤.\nì›¹ ê²€ìƒ‰ ì—”ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ê²€ìƒ‰í•˜ê¸° ìœ„í•œ í”„ë¡œê·¸ë¨ì´ë‹¤.\nFTP ì„œë²„ë‚˜ ì›¹ ì‚¬ì´íŠ¸ì˜ íŒŒì¼ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í¬í•¨í•˜ë©°, ì´ë¯¸ì§€ë‚˜ í† ë ŒíŠ¸ íŒŒì¼ ë˜ëŠ” íŠ¹ì • ë¶€ë¥˜ì˜ ì›¹ ì‚¬ì´íŠ¸ì— íŠ¹í™”ëœ ì›¹ ê²€ìƒ‰ ì—”ì§„ë„ ìˆë‹¤.\nì„œë²„ì—ì„œëŠ” \u0026lsquo;ë¡œë´‡\u0026rsquo;ì´ë¼ ë¶ˆë¦¬ëŠ” íŠ¹ë³„í•œ í”„ë¡œê·¸ë¨ì„ ì´ìš©í•˜ ì›¹ ì‚¬ì´íŠ¸ë“¤ì„ ëŒì•„ë‹¤ë‹ˆë©° ì›¹ ì‚¬ì´íŠ¸ë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ë¯¸ë¦¬ ìë™ì ìœ¼ë¡œ ìˆ˜ì§‘í•œë‹¤. ì´íœ´ ê²€ìƒ‰ ì—”ì§„ ì‚¬ì´íŠ¸ì—ì„œ íŠ¹ì • ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ë©´ ê²€ìƒ‰ ì—”ì§„ì´ ìˆ˜ì§‘í•œ ì •ë³´ ì¤‘ ê·¸ì— ë§ëŠ” ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.\në¡œë´‡ì´ ì°¸ì¡°ì™€ ì–´íœ˜ë¥¼ ë¶„í—‰í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ê²€ìƒ‰ í’ˆì§ˆì´ ê²°ì •ë¨ ì›ë¦¬ ê²€ìƒ‰ ì—”ì§„ì€ ì‚¬ìš©ìê°€ ê²€ìƒ‰ ì—”ì§„ì„ ì‚¬ìš©í•˜ê¸° ì „ì— ë¯¸ë¦¬ ì›¹ ìƒì—ì„œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ìƒ‰ì¸ì„ ë§Œë“¤ì–´ ë†“ëŠ”ë‹¤. ê·¸ë¦¬ê³  ë‚˜ì„œ ì‚¬ìš©ìê°€ ì°¾ê³ ì í•˜ëŠ” ì •ë³´ì˜ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ë©´, ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ì€ ìƒ‰ì¸ ì¤‘ì—ì„œ ì…ë ¥ëœ í‚¤ì›Œë“œì— í•´ë‹¹í•˜ëŠ” ì •ë³´ë“¤ì„ ì°¾ì•„ì„œ ë³´ì—¬ì¤€ë‹¤.\në¬¸ì„œ ìˆ˜ì§‘ í˜„ì¬ ëŒ€ë¶€ë¶„ì˜ ê²€ìƒ‰ ì—”ì§„ì—ì„œëŠ” ì—¡ìƒì˜ ë°©ëŒ€í•œ ì •ë³´ë“¤ì„ ê²€ìƒ‰í•˜ê³  ìƒ‰ì¸í™” í•˜ëŠ” ê³¼ì •ì„ í¬ë¡¤ëŸ¬ë¼ê³  ë¶€ë¥´ëŠ” ì •ë³´ ìˆ˜ì§‘ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•˜ê³  ìˆë‹¤.\ní¬ë¡¤ëŸ¬ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ì›¹ì— ì ‘ì†ëœ ì‚¬ì´íŠ¸ë“¤ì„ ë°©ë¬¸í•˜ì—¬ í•´ë‹¹ ì›¹ ì‚¬ì´íŠ¸ê°€ ê°€ì§€ê³  ìˆëŠ” ì •ë³´ì— ëŒ€í•´ ìƒ‰ì¸ì„ ì‘ì„±í•œ í›„ ê·¸ê²ƒì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ì—¬ ê²€ìƒ‰ì‹œ í™œìš©í•˜ê²Œëœë‹¤.\ní¬ë¡¤ëŸ¬\nì›¹ìƒì˜ ë¬¸ì„œë‚˜ ì´ë¯¸ì§€, ì˜ìƒ ë“±ì„ ì£¼ê¸°ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ê³  ì·¨í•©í•˜ì—¬, ìë™ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤í™” ì‹œí‚¤ëŠ” í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë´‡(Bot)ì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.\nê²€ìƒ‰ ì—”ì§„ì˜ ì¢…ë¥˜ ìˆ˜ì§‘í•œ ì •ë³´ë¥¼ ìƒ‰ì¸í•˜ëŠ” ë°©ë²•ì— ë”°ë¼ êµ¬ë¶„ëœë‹¤.\në¡œë´‡ ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ë¼ë¼ê³  ë¶ˆë¦¬ëŠ” ë¡œë´‡ì„ ì´ìš©í•˜ì—¬ ì›¹ìƒì˜ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜ì§‘í•˜ê³ , ì´ë ‡ê²Œ ìˆ˜ì§‘í•œ ë°ì´í„° í‚¤ì›Œë“œ ìƒ‰ì¸ì„ í†µí•´ ì‚¬ìš©ìì—ê²Œ ì œê³µí•˜ëŠ” ê²€ìƒ‰ ì—”ì§„\nGoogle, Naverë“± í˜„ì¬ ì‚¬ìš©ë˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ê²€ìƒ‰ ì—”ì§„ì´ ì´ ë°©ì‹ì„ ì±„íƒí•˜ê³  ìˆë‹¤. ë””ë ‰í† ë¦¬ ê²€ìƒ‰ ì—”ì§„ ì£¼ì œ ë¶„ë¥˜ì— ì˜í•œ ê²€ìƒ‰ì„ ì œê³µí•˜ëŠ” ê²€ìƒ‰ ì—”ì§„ì´ë©°, ë°ì´í„°ì˜ ë¶„ë¥˜ë¥¼ ì‚¬ëŒì´ ì§ì ‘ ìŠˆí–‰í•´ì•¼ í•œë‹¤.\ní˜„ì¬ ì£¼ë¥˜ì¸ ë°©ì‹ì€ ì•„ë‹ˆë©°, 1990ë…„ëŒ€ Yahooë“±ì—ì„œ ì‚¬ìš©ë˜ì—ˆìŒ ë©”íƒ€ ê²€ìƒ‰ ì—”ì§„ ìì²´ì ìœ¼ë¡œ ì •ë³´ë¥¼ ë³´ìœ í•˜ê³  ìˆì§€ ì•Šìœ¼ë©´ì„œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ í‚¤ì›Œë“œë¥¼ ë³µìˆ˜ì˜ ë‹¤ë¥¸ ê²€ìƒ‰ ì—”ì§„ìœ¼ë¡œ ì „ì†¡í•˜ì—¬ ê²°ê³¼ë¥¼ ì–»ê³ , ê·¸ ê²°ê³¼ë“¤ì„ ì¢…í•©í•˜ì—¬ í‘œì‹œë§Œ í•´ì£¼ëŠ” ê²€ìƒ‰ ì—”ì§„\nì—¬ëŸ¬ ê²€ìƒ‰ ì—”ì§„ì˜ ê²°ê³¼ë¥¼ ë™ì‹œì— ë³´ì—¬ì£¼ê¸° ë•Œë¬¸ì— ê²°ê³¼ë¥¼ í•œëˆˆì— ì‚´í´ë³´ê¸°ì—ëŠ” í¸í•˜ì§€ë§Œ, ë©”íƒ€ ê²€ìƒ‰ì´ë¼ëŠ” ê³¼ì •ì„ í•œ ë²ˆ ë” ê±°ì³ì•¼ í•˜ë¯€ë¡œ ì†ë„ê°€ ëŠë¥¼ ìˆ˜ ìˆë‹¤.\nê²€ìƒ‰ ì—”ì§„ ìµœì í™”(Search Engine Optimization, SEO) ê²€ìƒ‰ ê²°ê³¼ì˜ ìƒìœ„ì— ìì‹ ì˜ ì›¹ í˜ì´ì§€ê°€ ë…¸ì¶œë˜ê¸° ìœ„í•´ ê²€ìƒ‰ ì—”ì§„ì´ ìë£Œë¥¼ ìˆ˜ì§‘í•˜ê³  ê²°ê³¼ë¥¼ ì‚°ì¶œí•˜ëŠ” ë°©ì‹ì— ë§ì¶° ì›¹ í˜ì´ì§€ì˜ êµ¬ì„±ì„ ì¡°ì •í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nê°ê°ì˜ ê²€ìƒ‰ ì—”ì§„ì— ë§ì²˜ ì›¹ í˜ì´ì§€ ë‚´ì˜ í‚¤ì›Œë“œë‚˜ ë§í¬ ë“±ì„ ìµœì í™” í•˜ëŠ” ì‘ì—…ì„ SEOë¼ê³  í•œë‹¤.\n","date":"2023-04-18T14:04:15+09:00","image":"https://codemario318.github.io/post/search_engine/search_engine_cover_hu920de5c22e59a77d3210239e6515a52e_9451_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/search_engine/","title":"ê²€ìƒ‰ ì—”ì§„"},{"content":"ìš©ì–´ì •ë¦¬ MOM (Message Oriented Middleware, ë©”ì‹œì§€ ì§€í–¥ ë¯¸ë“¤ì›¨ì–´) ë…ë¦½ëœ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°„ì— ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì‹œìŠ¤í…œ ë””ìì¸ í•¨ìˆ˜ í˜¸ì¶œ, ê³µìœ ë©”ëª¨ë¦¬ ë“±ì´ ë°©ì‹ì´ ì•„ë‹Œ, ë©”ì‹œì§€ êµí™˜ì„ ì´ìš©í•˜ëŠ” ì¤‘ê°„ ê³„ì¸µì— ëŒ€í•œ ì¸í”„ë¼ ì•„í‚¤í…ì³ ê°œë… ë¶„ì‚° ì»´í“¨íŒ…ì´ ê°€ëŠ¥í•´ì§€ë©°, ì„œë¹„ìŠ¤ê°„ì˜ ê²°í•©ì„±ì´ ë‚®ì•„ì§ ì§€ë™ê¸°ë¡œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ íŠ¹ì§• Queue, Broadcast, Multicast ë“±ì˜ ë°©ì‹ìœ¼ë¡œ ë©”ì‹œì§€ ì „ë‹¬ Pub/Sub êµ¬ì¡° ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ëŠ” Publisher(Producer), ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” Subscribe(Consumer)ë¡œ êµ¬ì„± Message Broker ë©”ì‹œì§€ì²˜ë¦¬ ë˜ëŠ” ë©”ì‹œì§€ ìˆ˜ì‹ ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ì‹œìŠ¤í…œì´ë©°, ì¼ë°˜ì ìœ¼ë¡œ MOM ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë¨ MQ (Message Queue, ë©”ì‹œì§€ í) Message bBrokerì™€ MOMì„ êµ¬í˜„í•œ ì†Œí”„íŠ¸ì›¨ì–´ (RabbitMQ, ActiveMQ, Kafka ë“±) MOMì€ ë©”ì‹œì§€ ì „ì†¡ ë³´ì¥ì„ í•´ì•¼í•˜ë¯€ë¡œ AMQPë¥¼ êµ¬í˜„í•¨ AMQP (Advanced Message Queueing Protocol) ë©”ì‹œì§€ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì£¼ê³ ë°•ê¸° ìœ„í•œ ì¸í„°ë„· í”„ë¡œí† ì½œ RabbitMQ, Kafka ë“±ì€ AMQPë¥¼ êµ¬í˜„í•œ MOM ì‹œìŠ¤í…œì´ë‹¤.\në©”ì‹œì§• ì‹œìŠ¤í…œì´ë€? ë¡œê·¸ ë°ì´í„°, ì´ë²¤íŠ¸ ë©”ì‹œì§€ ë“± APIë¡œ í˜¸ì¶œí•  ë–„ ë³´ë‚´ëŠ” ë°ì´í„°ë“¤ì„ ì²˜ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œ\nì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ ìë™ ë©”ì¼ì„ ë°œì†¡ ì‹œìŠ¤í…œì´ ìˆë‹¤ê³  ê°€ì •í•˜ë©´,\níšŒì›ê°€ì…ì„ í–ˆì„ ë•Œ,Â ì´ë©”ì¼ì„ ë°œì†¡í•˜ëŠ”Â MemberService ì£¼ë¬¸ì™„ë£Œê°€ ë˜ì—ˆì„ ë•Œ, ì´ë©”ì¼ì„ ë°œì†¡í•˜ëŠ”Â OrderService ë©”ì¼ì„ ì‹¤ì œ ë°œì†¡í•˜ëŠ”Â MailService ì´ë ‡ê²Œ ì„œë¹„ìŠ¤ê°€ ë¶„ë¦¬ë˜ì—ˆì„ ë•ŒÂ í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤.\nMemberServiceì—ì„œ íšŒì›ê°€ì…, OrderServiceì—ì„œ ì£¼ë¬¸ì™„ë£Œ ì´ë²¤íŠ¸ê°€ ë°œìƒ Messaging Clientë¡œ ë©”ì¼ ì „ì†¡ì— í•„ìš”í•œ ë°ì´í„°( ë°›ëŠ”/ë³´ë‚´ëŠ” ì‚¬ëŒ ì´ë©”ì¼ ì£¼ì†Œ, ë©”ì‹œì§€ ì œëª©/ë‚´ìš© ë“±.. )ë¥¼ APIÂ í˜¸ì¶œ Messaging Clientì—ì„œ MOMì„ êµ¬í˜„í•œ ì†Œí”„íŠ¸ì›¨ì–´(ex. kafka)ë¡œÂ ë©”ì‹œì§€ë¥¼ ìƒì‚° MailServiceì—ì„œ ë©”ì‹œì§€ê°€ ì¡´ì¬í•˜ëŠ”ì§€ êµ¬ë…í•˜ê³  ìˆë‹¤ê°€ ë©”ì‹œì§€ê°€ ì¡´ì¬í•˜ë©´Â ë©”ì‹œì§€ë¥¼ ì†Œë¹„ MailServiceì—ì„œ API ì •ë³´ë“¤ì„ í†µí•´ Userì—ê²Œ ë©”ì¼ ë°œì†¡ ì¥ì  ì„œë¹„ìŠ¤ê°„ì˜ ê²°í•©ì„±ì´ ë‚®ì•„ì§€ë¯€ë¡œ ê°ìì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤. ë©”ì‹œì§€ ì²˜ë¦¬ ë°©ì‹ì€ Message Brokerì— ìœ„ì„ ê° ì„œë¹„ìŠ¤ëŠ” Clientë¥¼ í†µí•´ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ë°›ê¸°ë§Œ í•˜ë©´ ë¨ ê° ì„œë¹„ìŠ¤ëŠ” ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸°ë§Œ í•˜ë©´, Message Brokerì—ì„œ ìˆœì„œ ë³´ì¥, ë©”ì‹œì§€ ì „ì†¡ ë³´ì¥ ë“±ì„ ì²˜ë¦¬ ë©”ì‹œì§• ì‹œìŠ¤í…œì´ ì ê¹ ë‹¤ìš´ë˜ì–´ë„ ê° ì„œë¹„ìŠ¤ì—ëŠ” ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠìŒ ë‹¨ì  Message Broker êµ¬ì¶•, ì˜ˆë¥¼ ë“¤ë©´ kafka í´ëŸ¬ìŠ¤í„° êµ¬ì¶•ì— í•„ìš”í•œ ê¸ˆì „, ì¸ì  ìì›ì— ëŒ€í•œ ë¹„ìš© ë¹„ë™ê¸°ì˜ ì–‘ë©´ì„± - ì •ë§ ë©”ì‹œì§€ê°€ ì˜ ì „ë‹¬ë˜ì—ˆëŠ”ê°€? í•¨ìˆ˜í˜¸ì¶œ, ê³µìœ  ë©”ëª¨ë¦¬ ì‚¬ìš© ë°©ì‹ë³´ë‹¤ ë©”ì‹œì§• ì‹œìŠ¤í…œì„ ì‚¬ìš©í–ˆì„ ë•Œ í˜¸ì¶œ êµ¬ê°„ì´ ëŠ˜ì–´ë‚˜ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ë°œìƒ MOM, ë©”ì„¸ì§€ ì§€í–¥ ë¯¸ë“¤ì›¨ì–´(Message-Oriented-Middleware) ë¯¸ë“¤ì›¨ì–´: ì–´í”Œë¦¬ì¼€ì´ì…˜ë“¤ì„ ì—°ê²°í•´ ì´ë“¤ì´ ì„œë¡œ ë°ì´í„°ë¥¼ êµí™˜í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë©”ì‹œì§€ ì§€í–¥(=ë©”ì‹œì§• ì‹œìŠ¤í…œ): ë©”ì‹œì§€ APIë¥¼ í†µí•´ ê° ë¶„ì‚°ë˜ì–´ ìˆëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ë‹¤ë¦¬ ì—­í• ì„ í•¨ìœ¼ë¡œì¨ ë°ì´í„°ë¥¼ êµí™˜ í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì‹œìŠ¤í…œ ë©”ì‹œì§€ ì§€í–¥ ë¯¸ë“¤ì›¨ì–´ë€? ë©”ì‹œì§€ë¥¼ í†µí•´ ì—¬ëŸ¬ ë¶„ì‚°ë˜ì–´ ìˆëŠ” ì‹œìŠ¤í…œ ê°„ì˜ Connector ì—­í• ë¡œ ê²°í•©ì„±ì„ ë‚®ì¶”ê³ , ì´ë“¤ì´ ì„œë¡œ ì‹¤ì‹œê°„ ë¹„ë™ê¸°ì‹ ë°ì´í„°ë¥¼ êµí™˜í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´\nMessage Queue ê¸°ë°˜ íŒ¨í„´ ë©”ì‹œì§€ ëŒ€ê¸°ì—´ íŒ¨í„´ì€ ì¼ì¢…ì˜ ì§€ì  ê°„(peer to peer) ë©”ì‹œì§• ì‹œìŠ¤í…œì´ë‹¤. Queue ëŒ€ê¸°ì—´ì˜ ë©”ì‹œì§€ëŠ” Consumerê°€ ì†Œë¹„í•˜ë©´ ì§€ì›Œì§€ëŠ” í˜•íƒœ\nì†Œë¹„í•˜ë©´ ì§€ì›Œì§€ëŠ” í˜•íƒœë¼ëŠ” ì˜ë¯¸ëŠ” Producer ì„œë²„ê°€ ë©”ì‹œì§€ë¥¼ Queueì— ë³´ë‚´ê³  ì„œë²„ê°€ ë‹¤ìš´ì´ ë˜ë„ Consumerê°€ ì†Œë¹„í•˜ì§€ ì•Šì•˜ë‹¤ë©´ Queue ëŒ€ê¸°ì—´ì— ë°ì´í„°ê°€ ì¡´ì¬í•œë‹¤ëŠ” ê±¸ ì˜ë¯¸í•œë‹¤.\në°œí–‰(Publish)-êµ¬ë…(Subscribe) ë©”ì‹œì§€ íŒ¨í„´ ë©”ì‹œì§€ íì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë©”ì‹œì§€ë¥¼ ìƒì‚°í•˜ëŠ” Producerì™€ ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” Consumerë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\nì°¨ì´ì ì€ ì—¬ëŸ¬ ì†Œë¹„ìê°€ í•˜ë‚˜ì˜ ì£¼ì œì—ì„œ ê° ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆë‹¤ëŠ” ì . ë˜í•œ ëª¨ë“  Consumerê°€ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ ë©”ì‹œì§€ê°€ ëŒ€ê¸°ì—´ì—ì„œ ì§€ì›Œì§„ë‹¤.\nkafkaì™€ ê°™ì€ ë©”ì‹œì§• ì‹œìŠ¤í…œì—ëŠ” ë©”ì‹œì§€ê°€ ëŒ€ê¸°ì—´ì— ìˆì–´ì•¼ í•˜ëŠ” ê¸°ê°„ì„ ì§€ì •í•œ ë³´ì¡´ ì •ì±…ì´ ìˆë‹¤. ë”°ë¼ì„œ ë©”ì‹œì§€ëŠ” ëª¨ë“  Consumerê°€ ì†Œë¹„í•˜ë”ë¼ë„ ì§€ì •ëœ ê¸°ê°„ ë™ì•ˆ ëŒ€ê¸°ì—´ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì–¸ì œ ì“°ì´ëŠ”ê°€? ë¶„ì‚° ì‹œìŠ¤í…œ ì—¬ëŸ¬ ì»´í“¨í„°ë¥¼ ë¶„ì‚°ì‹œì¼œ ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²°í•˜ì—¬ ë°ì´í„°ë“¤ì„ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•˜ë©´ ì„œë²„ì˜ ê³¼ë¶€í•˜ë¥¼ ë¶„ì‚°í•  ìˆ˜ ìˆìœ¼ë©°, ì„±ëŠ”ê°œì„ ê³¼ ì¥ì• ìš”ì†Œë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ë¶„ì‚° ì‹œìŠ¤í…œì„ ì‚¬ìš©í•¨ ê³¼ê±° ë¶„ì‚° ì‹œìŠ¤í…œì˜ ë‹¨ì ê³¼ ì›¹ API í†µì‹ ì˜ í•œê³„ ê³¼ê±° ë¶„ì‚°ì‹œìŠ¤í…œì˜ ë‹¨ì  ìˆ˜ë§ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•˜ì—¬ ë¶„ì‚° ì‹œìŠ¤í…œì„ ìš´ì˜í•˜ì˜€ì§€ë§Œ, ì‹œìŠ¤í…œì´ ê±°ëŒ€í•´ì§ˆìˆ˜ë¡ ë¶„ì‚° ì‹œìŠ¤í…œì˜ ì„¤ê³„ë„ì˜ ë³µì¡ì„± ë¬¸ì œê°€ ë°œìƒí•œë‹¤. í•˜ë‚˜ì˜ ì‘ìš©í”„ë¡œê·¸ë¨ì´ ë³€ê²½ë˜ë©´, ë‹¤ë¥¸ ì‘ìš©í”„ë¡œê·¸ë¨ì—ë„ ì˜í–¥ì„ ë¯¸ì³ ë¶„ì‚° ì‹œìŠ¤í…œ ê°„ì˜ ê²°í•©ë„ê°€ ê°•í•œ ë‹¨ì ì„ ê°€ì§€ê³  ìˆì—ˆë‹¤.\nì›¹ API í†µì‹ ì˜ íŠ¹ì„± MSAë¥¼ ì‚¬ìš©í•œ ë¶„ì‚° ì‹œìŠ¤í…œì€ ì›¹ API ì„œë²„ë¡œ ìš”ì²­ ì‹œ ì‘ë‹µì„ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤. ì—¬ëŸ¬ ë¶„ì‚°ë˜ì–´ìˆëŠ” ì„œë¹„ìŠ¤ ê°„ì—ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ë¹„ë™ê¸°ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•´ì•¼ í•˜ê¸° ë–„ë¬¸ì— ì›¹ APIë¡œë„ ë¹„ë™ê¸°ì‹ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” íŠ¹ì„±ì´ ìˆë‹¤. ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” Aì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œ Bë¼ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª©ì ì§€(ë„ì°©ì )ì„ ì•Œì•„ì•¼ í†µì‹ í•  ìˆ˜ ìˆë‹¤. ë‘ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ ë¶ˆí•„ìš”í•œ ê²°í•©ë„ê°€ ë°œìƒë˜ê³ , ì‘ë‹µì„ ì·¨í•˜ëŠ” Bì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë²„ ì¥ì• ì‹œ ìš”ì²­ë˜ì—ˆë˜ ë°ì´í„° ë•Œë¬¸ì— Aì–´í”Œë¦¬ì¼€ì´ì…˜ì—ê²Œë„ ì¥ì• ê°€ ì „íŒŒë  ìˆ˜ ìˆë‹¤. ë©”ì‹œì§• ì§€í–¥ ë¯¸ë“¤ì›¨ì–´ì˜ í•„ìš”ì„± ë©”ì‹œì§€ APIëŠ” ë¹„ë™ê¸° í”„ë¡œí† ì½œì„ ì§€ì›í•˜ë©°, ë©”ì‹œì§€ ìˆœì„œë¥¼ ë³´ì¥í•©ë‹ˆë‹¤. ë©”ì‹œì§€ê°€ ëŒ€ê¸°ì—´ì— ì „ë‹¬ë˜ë©´, ì‘ë‹µì„ ì¦‰ì‹œ í•  í•„ìš”ê°€ ì—†ë‹¤. ë©”ì‹œì§€ ëŒ€ê¸°ì—´ì— ì „ë‹¬ ëœ ìƒí™©ì´ë¼ë©´ ë©”ì‹œì§€ëŠ” ì‹œìŠ¤í…œì— ë³´ì¡´ë˜ì–´ ìˆì–´, ë‹¤ë¥¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ì˜ì¡´ì„±ì´ ë‚®ê²Œ ëœë‹¤. Message Broker ì†¡ì‹ ìì™€ ìˆ˜ì‹ ì ì‚¬ì´ì—ì„œ ë©”ì‹œì§€ì˜ ì „ë‹¬ì„ ì¤‘ì¬í•˜ëŠ” ì»´í“¨í„° í”„ë¡œê·¸ë¨ ëª¨ë“ˆ\në©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ì •í˜•í™”ëœ ë©”ì‹œì§€ì˜ êµí™˜ì„ í†µí•´ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ì†Œí†µì´ ì´ë¤šë””ëŠ” ë„¤íŠ¸ì›Œí¬ ì—˜ë¦¬ë¨¼ë“œì´ë‹¤.\nëª©ì  ë©”ì‹œì§€ì˜ ìœ íš¨ì„±, ì •ì†¡, ë¼ìš°íŒ…ì„ ìœ„í•œ ì•„í‚¤í…ì²˜ íŒ¨í„´\nì–´í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ì´ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì¤‘ì¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ë©”ì‹œì§€ ì „ë‹¬ì„ ìœ„í•œ ìƒí˜¸ ì¸ì‹(mutal awareness)ë¥¼ ì¤„ì—¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ê²°í•©ì„±ì„ ë‚®ì¶˜ë‹¤(decoupling) ê¸°ëŠ¥ ì—”ë“œ í¬ì¸íŠ¸ ë¶„ë¦¬ NFR(non-functional requirement) ì¶©ì¡° ì¤‘ì¬í•¨ìˆ˜ (intermediary function)ì˜ ê°„í¸í•œ ì¬ì‚¬ìš© í•˜ë‚˜ì´ìƒì˜ ëª©ì ì§€ë¡œì˜ ë©”ì‹œì§€ ë¼ìš°íŒ… ë©”ì‹œì§€ì˜ í˜•íƒœ ë³€í˜• ë©”ì‹œì§€ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì—¬ëŸ¬ ë©”ì‹œì§€ë¡œ ë¶„í•´í•˜ê³  ëŒ€ìƒìœ¼ë¡œ ë³´ë‚´ ì‘ë‹µì„ í•˜ë‚˜ì˜ ë©”ì‹œì§€ë¡œ ì¬êµ¬ì„±í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜ ë©”ì‹œì§€ ì–‘ ì¦ê°€ ë˜ëŠ” ì €ì¥ì„ ìœ„í•œ ì™¸ë¶€ ì €ì¥ì†Œì™€ ìƒí˜¸ì‘ìš© ë°ì´í„° ê²€ìƒ‰ì„ ìœ„í•œ ì›¹ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì´ë²¤íŠ¸ ë˜ëŠ” ì—ëŸ¬ì˜ ì‘ë‹´ ë°œí–‰-êµ¬ë… íŒ¨í„´ì„ í™œìš©í•œ ì»¨í…ì¸ ì™€ í† í”½ ê¸°ë°˜ ë©”ì‹œì§€ ë¼ìš°íŒ… ì œê³µ ì„¤ê³„ í—ˆë¸Œ ì•¤ ìŠ¤í¬í¬(hub and spoke)\nì¤‘ì•™ ì„œë²„ê°€ í†µí•© ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì‘ë™ ë©”ì‹œì§€ ë²„ìŠ¤(message bus)\në©”ì‹œì§€ ë¸Œë¡œì»¤ê°€ ë²„ìŠ¤ì—ì„œ ì‘ë™í•˜ëŠ” í†µì‹  ë°±ë³¸ ë˜ëŠ” ë¶„ì‚° ì„œë¹„ìŠ¤ ","date":"2023-04-17T19:42:33+09:00","image":"https://codemario318.github.io/post/messaging_system/messaging_cover_huc80ec853f6ab161a17ff43aa6052ff01_60754_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/messaging_system/","title":"ë©”ì‹œì§• ì‹œìŠ¤í…œì´ë€?"},{"content":"Not Only SQL: SQLë§Œì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì§€ì¹­í•˜ëŠ” ë‹¨ì–´. \u0026lsquo;ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°ì—ëŠ” SQL ì™¸ì— ë‹¤ë¥¸ ë°©ë²•ë“¤ë„ ìˆë‹¤.\u0026rsquo;\nì •ì˜ NoSQLì— ë‚´ë ¤ì§„ êµ¬ì²´ì ì¸ ì •ì˜ëŠ” ì—†ìœ¼ë‚˜ ê³µí†µì ì¸ ì„±í–¥ì„ ê°€ì§€ê³  ìˆë‹¤.\nëŒ€ë¶€ë¶„ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‹¤í–‰í•  ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œê¸° ë•Œë¬¸ì— ê´€ê³„í˜• ëª¨ë¸ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜¤í”ˆ ì†ŒìŠ¤ì´ë‹¤. ìŠ¤í‚¤ë§ˆ ì—†ì´ ë™ì‘í•˜ë©°, êµ¬ì¡°ì— ëŒ€í•œ ì •ì˜ë¥¼ ë³€ê²½í•  í•„ìš” ì—†ì´ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì½”ë“œì— ììœ ë¡­ê²Œ í•„ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. 21ì„¸ê¸° ì´ˆë°˜ì— ê°œë°œ ëœ SQLì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Schema-less ë°ì´í„°ë² ì´ìŠ¤\ní´ëŸ¬ìŠ¤í„°\nì €ë ´í•œ ìƒìš© ì œí’ˆ ì—¬ëŸ¬ ëŒ€ë¥¼ ì¡°í•©í•˜ì—¬ ë” ë¹ ë¥´ê³  ì•ˆì •ì ì¸ ì‹œìŠ¤í…œì„ ëª©í‘œë¡œ ë§Œë“¤ì–´ì§„ ë°©ë²•\në“±ì¥ë°°ê²½ ì—¬ëŸ¬ ëŒ€ì˜ ì»´í“¨í„°ì— ë°ì´í„°ë¥¼ ë¶„ì‚° ì €ì¥í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ë“±ì¥í–ˆë‹¤.\nê¸°ì¡´ì—ëŠ” ì•ˆì •ì ì¸ ë°ì´í„° ê´€ë¦¬ê°€ ê°€ì¥ ì¤‘ìš”í–ˆê¸° ë•Œë¬¸ì—, íŠ¸ë™ì­ì…˜ì„ í†µí•œ ê´€ë¦¬ê°€ ê°€ëŠ¥í•œ RDBMSê°€ ë§ì´ ì´ìš©ë˜ì—ˆì§€ë§Œ ì›¹ 2.0 í™˜ê²½ê³¼ ë¹…ë°ì´í„°ê°€ ë“±ì¥í•˜ë©´ì„œ RDBMSëŠ” ë°ì´í„°ì™€ íŠ¸ë˜í”½ ì–‘ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•¨ì— ë”°ë¼ í•œ ëŒ€ì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ì„¤ê³„ëœ RDBMSë¥¼ ì‚¬ìš©í•˜ëŠ” ë° í•„ìš”í•œ ë¹„ìš© ì¦ê°€ ì´ìŠˆê°€ ìƒê²¨ë‚¬ë‹¤.\nNoSQLì€ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ì•½ê°„ í¬ê¸°í•œ ëŒ€ì‹  ì—¬ëŸ¬ ëŒ€ì˜ ì»´í“¨í„°ì— ë°ì´í„°ë¥¼ ë¶„ì‚°í•˜ì—¬ ì €ì¥í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ë“±ì¥í•˜ì˜€ê³ , NoSQLì˜ ë“±ì¥ìœ¼ë¡œ ì‘ê³  ê°’ì‹¼ ì¥ë¹„ ì—¬ëŸ¬ ëŒ€ë¡œ ëŒ€ëŸ‰ì˜ ë°ì´í„°ì™€ ì»´í“¨íŒ… ë¶€í•˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ê²Œ ë˜ì—ˆë‹¤.\níŠ¹ì§• ì¼ê´€ì„±ê³¼ í™•ì¥ì„± ì‚¬ì´ì˜ Trade-off\nì¼ê´€ì„±ì´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì ˆëŒ€ì ì¸ ìš”ì†Œê°€ ì•„ë‹˜ì„ ì£¼ì¥í•˜ëŠ” ì›€ì§ì„ì´ ìƒê¸°ê¸° ì‹œì‘í–ˆë‹¤. ë‹¤ìˆ˜ê°€ ë™ì‹œì— ì½ê³  ì“°ëŠ” ìƒí™©ì—ì„œì˜ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ì„œ. ë¶„ì‚° í™˜ê²½ì—ì„œ ë…¸ë“œë“¤ì´ ì˜ ì‘ë™í•˜ê³  ìˆìŒì—ë„, ì‹œìŠ¤í…œì˜ ì¼ë¶€ê°€ ê³ ì¥ë‚˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ. ë¶„ì‚° ì €ì¥\në°ì´í„°ì™€ íŠ¸ë˜í”½ì´ ì¦ê°€í•¨ì— ë”°ë¼ ê¸°ì¡´ì˜ ì¥ë¹„ë¡œëŠ” ì›í• í•œ ë°ì´í„°ì˜ ì²˜ë¦¬ê°€ ì–´ë ¤ì›Œì¡Œë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ ì¥ë¹„ì˜ ì„±ëŠ¥ì„ í‚¤ìš°ëŠ” ìˆ˜ì§ì  í™•ì¥ê³¼ ì²˜ë¦¬í•˜ëŠ” ì¥ë¹„ ìˆ˜ë¥¼ ëŠ˜ë¦¬ëŠ” ìˆ˜í‰ì  í™•ì¥ì´ ìˆë‹¤. ìˆ˜ì§ì  í™•ì¥ì€ í° ë¹„ìš©ì ì¸ ë¬¸ì œê°€ ë°œìƒí•˜ë¯€ë¡œ ìˆ˜í‰ì  í™•ì¥ì„ ê³ ë ¤í–ˆì§€ë§Œ, RDBMSê°€ í´ëŸ¬ìŠ¤í„° ìƒì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ ì„¤ê³„ë˜ì§€ ì•Šì•˜ë‹¤. ìƒ¤ë”©(Sharding)\nìƒ¤ë“œí‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ë‚˜ì˜ í…Œì´ë¸”ì„ ìˆ˜í‰ ë¶„í• í•˜ì—¬ ì„œë¡œ ë‹¤ë¥¸ í´ëŸ¬ìŠ¤í„°ì— ë¶„ì‚° ì €ì¥í•˜ê³  ì§ˆì˜í•  ìˆ˜ ìˆëŠ” ê¸°ë²•. RDBMSì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ëª¨ë“  ìƒ¤ë”©ì„ ì œì–´í•´ì•¼ í•œë‹¤.(ì–´ë–¤ ë°ì´í„°ë¥¼ ì–´ëŠ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ì§€ ë“±) ë˜í•œ ì—¬ëŸ¬ ìƒ¤ë“œì— ê±¸ì¹˜ëŠ” ì¿¼ë¦¬ë‚˜ ì°¸ì¡° ì •í•©ì„±, íŠ¸ëœì­ì…˜, ì¼ê´€ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë¶„ì‚° ì €ì¥ì„ ì§€ì›í•˜ëŠ” NoSQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²½í›„, ì§‘í•©-ì§€í–¥(Aggregtae-oriented) ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤. ì—°ê´€ëœ ë°ì´í„°ë“¤ì´ í•¨ê»˜ ë¶„ì‚°ë˜ë¯€ë¡œ, ê´€ê³„í˜• ëª¨ë¸ì—ì„œì²˜ëŸ¼ ë³µì¡í•œ ì œì–´ê°€ í•„ìš”í•˜ì§€ ì•Šê²Œ ëœë‹¤. ë°ì´í„° ì¼ì¹˜\nRDBMSì—ì„œ ê´€ê³„í˜• íŠœí”Œ ì•ˆì˜ ê°’ì€ ë‹¨ìˆœí•´ì•¼ í•˜ë©° ì¤‘ì²©ëœ ë ˆì½”ë“œë‚˜ ë¦¬ìŠ¤íŠ¸ ë“± ë‹¤ë¥¸ êµ¬ì¡°ë¥¼ í¬í•¨í•  ìˆ˜ ì—†ëŠ ë°˜ë©´, ë©”ëª¨ë¦¬ ë‚´ ë°ì´í„° êµ¬ì¡°ì—ì„œëŠ” ì´ëŸ° ì œì•½ì´ ì—†ì–´ í›¨ì”¬ ë³µì¡í•œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤.(ë¦¬ìŠ¤íŠ¸, ë”•ì…”ë„ˆë¦¬, ì¤‘ì²©ëœ ê°ì²´ êµ¬ì¡°) ê·¸ ê²°ê³¼ ë³µì¡í•œ ë©”ëª¨ë¦¬ë‚´ ë°ì´í„° êµ¬ì¡°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë ¤ë©´ ë¨¼ì € ê´€ê³„í˜• í‘œí˜„ìœ¼ë¡œ ë³€í™˜í•´ì•¼ í•œë‹¤. (ORM í”„ë ˆì„ì›Œí¬ë“±ì„ ì´ìš©) NoSQLì€ ë©”ëª¨ë¦¬ ë‚´ì˜ ë°ì´í„°ê°€ ì–´ë–¤ êµ¬ì¡°ì´ë“ ì§€ ìƒê´€í•˜ì§€ ì•Šê³  í•˜ë‚˜ì˜ Aggregationìœ¼ë¡œ ì·¨ê¸‰í•˜ì—¬ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ììœ ë¡­ë‹¤. Impedance mismatch\nê´€ê³„í˜• ëª¨ë¸ê³¼ ë©”ëª¨ë¦¬ ë‚´ ë°ì´í„° êµ¬ì¡° ê°„ì˜ ë¶ˆì¼ì¹˜\nSchema-less\nNoSQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ê³µí†µì ì¸ íŠ¹ì§•ì€ ìŠ¤í‚¤ë§ˆ ì—†ì´ ë™ì‘í•œë‹¤ëŠ” ì ì´ë‹¤. ì¥ì  ë°ì´í„° êµ¬ì¡°ë¥¼ ë¯¸ë¦¬ ì •ì˜í•  í•„ìš”ê°€ ì—†ë‹¤. ì‹œê°„ì´ ì§€ë‚˜ë”ë¼ë„ ì–¸ì œë“ ì§€ ë°”ê¿€ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¹„í˜•ì‹ì ì¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë° ìš©ì´í•˜ë‹¤. ë‹¨ì  ë‹¨ì¼ ê°’ì— ëŒ€í•œ ë°ì´í„° íƒ€ì…ì—ì„œ ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ê°€ ìŠ¤í‚¤ë§ˆë¥¼ ì§ì ‘ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ì˜ë¯¸í•  ë¿, ë°ì´í„° íƒ€ì…ì— ë”°ë¥¸ ì•”ë¬µì ì¸ ìŠ¤í‚¤ë§ˆëŠ” ì—¬ì „íˆ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ ì¢…ë¥˜ ë„¤ ê°€ì§€ ëª¨ë¸ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nkey-value Document Column-family Graph ì´ ì¤‘ ê·¸ë˜í”„ ëª¨ë¸ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì„¸ ëª¨ë¸ì€ ì§‘í•©-ì§€í–¥(Aggregate-orented)ëª¨ë¸ì´ë‹¤.\nì§‘í•©-ì§€í–¥ (Agregate-orented) ëª¨ë¸ ì§‘í•© ì§€í–¥ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì§‘í•© ìë£Œêµ¬ì¡°ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.\nì§‘í•©\nì—°ì‚°ì˜ í•œ ë‹¨ìœ„ë¡œ ì·¨ê¸‰ë˜ëŠ” ì—°ê´€ëœ ê°ì²´ë“¤ì˜ ì§‘í•©.\nê´€ê³„í˜• ëª¨ë¸ì²˜ëŒ í•˜ë‚˜ì˜ ì—”í‹°í‹°ì— ëŒ€í•œ ACID íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ëŠ” ì•Šì§€ë§Œ, í•˜ë‚˜ì˜ ì§‘í•©ì— ëŒ€í•œ ì—°ì‚°ì—ì„œëŠ” íŠ¸ëœì­ì…˜ì„ ì§€ì›í•œë‹¤.\nì¥ì \nì§‘í•© ì§€í–¥ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—¬ëŸ¬ ëŒ€ì˜ í´ëŸ¬ìŠ¤í„°ë¡œ ì´ë£¨ì–´ì§„ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ê¸° ì í•©í•˜ë‹¤. ìˆ˜í‰ì  í™•ì¥ì´ ìš©ì´í•˜ë‹¤. ì´ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ëŠ” ë‹¬ë¦¬ ì—°ê´€ëœ ë°ì´í„°ë“¤ì´ í•¨ê»˜ ì›€ì§ì´ê¸° ë–„ë¬¸ì´ë‹¤. ë©”ëª¨ë¦¬ ë‚´ì˜ ìë£Œêµ¬ì¡°ì™€ ì§‘í•© ê°„ ë°ì´í„°ê°€ ì˜ ì¼ì¹˜í•˜ë¯€ë¡œ, ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì²˜ëŸ¼ ê°ì²´-ê´€ê³„ ë§¤í•‘ í”„ë ˆì„ì›Œí¬ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤. ë°ì´í„°ì˜ ê²€ìƒ‰ë„ ì•„ì£¼ ì‰¬ìš´í¸ìœ¼ë¡œ, keyë‚˜ IDë¥¼ ì‚¬ìš©í•˜ë©´ ì‰½ê²Œ ì§‘í•© ë ˆì½”ë“œë¥¼ ì°¾ì•„ë‚¼ ìˆ˜ ìˆë‹¤. ë‹¨ì \nì§‘í•© ì§€í–¥ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì¡°ì¸ ì—°ì‚°ì´ ë¶ˆê°€ëŠ¥ MongoDBë‚˜ Cassandraë“±ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ë§µë¦¬ë“€ìŠ¤(MapReduce) ê¸°ëŠ¥ì„ ì œê³µí•¨ìœ¼ë¡œì¨ ì¡°ì¸ê³¼ ìœ ì‚¬í•œ ì—°ì‚°ì„ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í–ˆì§€ë§Œ ì‚¬ìš©ë²•ì´ ì–´ë µê³  Hadoopì˜ ë§µ ë¦¬ë“€ìŠ¤ì— ë¹„í•˜ë©´ ì†ë„ë„ ë§¤ìš° ëŠë¦¬ë‹¤. Key-Value í‚¤ ê°’ ì €ì¥ì†ŒëŠ” ê°€ì¥ ë‹¨ìˆœí•œ í˜•íƒœì˜ NoSQL\nì¥ì \nìˆ˜í‰ì  í™•ì¥ì´ ìš©ì´í•˜ë‹¤. ì•„ì£¼ ê°„ë‹¨í•œ APIë§Œì„ ì œê³µí•˜ê¸° ë–„ë¬¸ì— ë°°ìš°ëŠ” ê²ƒì´ ì–´ë µì§€ ì•Šë‹¤. ê°„ë‹¨í•œ APIë¥¼ ì œê³µí•˜ëŠ” ë§Œí¼ ì§ˆì˜ì˜ ì†ë„ê°€ êµ‰ì¥íˆ ë¹ ë¥¸í¸ ì–´ë– í•œ í˜•íƒœì˜ ë°ì´í„°ë¼ë„ ë‹´ì„ ìˆ˜ ìˆë‹¤. ì´ë¯¸ì§€ë‚˜ ë¹„ë””ì˜¤ë„ ê°€ëŠ¥ ë‹¨ì \nê°’ì˜ ë‚´ìš©ì„ ì‚¬ìš©í•œ ì¿¼ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í‚¤ë¥¼ ì‚¬ìš©í•´ ê°’ì„ ì½ì–´ë“¤ì¸ ë’¤, ì–´í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ì ì ˆíˆ ì²˜ë¦¬í•´ì•¼ í•œë‹¤. Document ë°ì´í„°ê°€ í‚¤ì™€ ë¬¸ì„œ í˜•íƒœë¡œ ì €ì¥ë˜ëŠ” í‚¤-ê°’ ëª¨ë¸ì˜ ê°œì„  í˜•íƒœ\ní‚¤-ê°’ ëª¨ë¸ê³¼ì˜ ì°¨ì´ì \nValueê°€ ê³„ì¸µì ì¸ í˜•íƒœì¸ ë„íë¨¼íŠ¸ë¡œ ì €ì¥ëœë‹¤. ê°ì²´ì§€í–¥ì˜ ê°ì²´ì™€ ìœ ì‚¬í•˜ë©°, í•˜ë‚˜ì˜ ë‹¨ìœ„ë¡œ ì·¨ê¸‰ë˜ì–´ ì €ì¥ëœë‹¤.\nì¥ì \ní•˜ë‚˜ì˜ ê°ì²´ë¥¼ ì—¬ëŸ¬ í…Œì´ë¸”ì— ë‚˜ëˆ  ì €ì¥í•  í•„ìš”ê°€ ì—†ë‹¤. ë„íë¨¼íŠ¸ ë‚´ì˜ itemì„ ì´ìš©í•œ ì¿¼ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤. ë‹¨, Xqueryë‚˜ ë‹¤ë¥¸ ë„íë¨¼íŠ¸ ì§ˆì˜ ì–¸ì–´ê°€ í•„ìš” ê°ì²´-ê´€ê³„ ë§¤í•‘ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤. ê°ì²´ë¥¼ ë„íë¨¼íŠ¸ì˜ í˜•íƒœë¡œ ë°”ë¡œ ì €ì¥ ê°€ëŠ¥í•˜ê¸° ë–„ë¬¸ ê²€ìƒ‰ì— ìµœì í™” ë˜ì–´ìˆë‹¤. ë‹¨ì \nì‚¬ìš©ì´ ë²ˆê±°ë¡­ê³  ì¿¼ë¦¬ê°€ SQLê³¼ ë‹¤ë¥´ë‹¤. ì§ˆì˜ì˜ ê²°ê³¼ê°€ JSONì´ë‚˜ XML í˜•íƒœë¡œ ì¶œë ¥ë˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ë°©ë²•ì´ RDBMSì™€ ë‹¤ë¥´ë‹¤. ì§ˆì˜ ì–¸ì–´ê°€ SQLê³¼ ë‹¤ë¥´ê¸° ë–„ë¬¸ì— ì‚¬ìš©ì— ìµìˆ™í•´ì§€ê¸°ê¹Œì§€ ë‹¤ì†Œ ì–´ë ¤ì›€ì´ ìˆì„ ìˆ˜ ìˆìŒ. ì¢…ë¥˜ MongoDB ë„íë¨¼íŠ¸ ì§€í–¥ ë°ì´í„° ë² ì´ìŠ¤ì´ë‹¤.\nbson ë°ì´í„° êµ¬ì¡°ë¡œ ì €ì¥ ë¬¸ì„œë¥¼ ê¸°ë³¸ ì €ì¥ ë‹¨ìœ„ë¡œ ì´ìš©í•˜ë©´ì„œ ë‚´ì¥ ë¬¸ì„œì™€ ë°°ì—´ì„ ì´ìš©í•˜ì—¬ ë³µì¡í•œ ê³„ì¸µêµ¬ì¡°ë¥¼ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¡œ í‘œí˜„í•œë‹¤. ìŠ¤í‚¤ë§ˆê°€ ì—†ë‹¤. í•„ë“œ ì¶”ê°€ ì œê±°ëŠ” ììœ ë¡œìš°ë©° í•„ìš”í•  ë•Œ ë§ˆë‹¤ ììœ ìì¬ë¡œ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤. RDBMS ë³´ë‹¤ ë§¤ìš° ë¹ ë¥´ë‹¤. ì¡°ì¸ê³¼ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©° ì—¬ëŸ¬ ì œì•½ì¡°ê±´ì— ëŒ€í•œ ì²˜ë¦¬ë„ ì—†ë‹¤. â†’ë²„ì „ì— ë”°ë¼ ë‹¤ë¦„ Redis(REmote DIctionary Server) ë©”ëª¨ë¦¬ ê¸°ë°˜ì˜ \u0026ldquo;Key-Value\u0026rdquo; êµ¬ì¡° ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œì´ë©°, ëª¨ë“  ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  ì¡°íšŒí•˜ê¸°ì— ë¹ ë¥¸ Read, Write ì†ë„ë¥¼ ë³´ì¥í•˜ëŠ” ë¹„ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì´ë‹¤.\nString, set, Sorted Set, Hash, List ë°ì´í„° í˜•ì‹ì„ ì§€ì›í•œë‹¤. RedisëŠ” ë¹ ë¥¸ ì˜¤í”ˆ ì†ŒìŠ¤ì¸ ë©”ëª¨ë¦¬ í‚¤-ê°’ ë°ì´í„° êµ¬ì¡° ìŠ¤í† ì–´ì´ë©°, ë‹¤ì–‘í•œ ì¸ë©”ëª¨ë¦¬ ë°ì´í„° êµ¬ì¡° ì§‘í•©ì„ ì œê³µí•˜ë¯€ë¡œ ì‚¬ìš©ì ì •ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì†ì‰½ê²Œ ìƒì„± í•  ìˆ˜ ìˆë‹¤.\níŠ¹ì§• ì˜ì†ì„±ì„ ì§€ì›í•˜ëŠ” ì¸ë©”ëª¨ë¦¬ ë°ì´í„° ì €ì¥ì†Œ\nì½ê¸° ì„±ëŠ¥ ì¦ëŒ€ë¥¼ ìœ„í•œ ì„œë²„ì¸¡ ë³µì œ ì§€ì›\nRedisê°€ ì‹¤í–‰ì¤‘ì¸ ì„œë²„ê°€ ì¶©ëŒí•˜ëŠ” ê²½ìš° ì¥ì•  ì¡°ì¹˜ ì²˜ë¦¬ì™€ í•¨ê»˜ ë” ë†’ì€ ì½ê¸° ì„±ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ìŠ¬ë ˆì´ë¸Œê°€ ë§ˆìŠ¤í„°ì— ì—°ê²°í•˜ê³  ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì´ˆê¸° ë³µì‚¬ë³¸ì„ ë°›ëŠ” ë§ˆìŠ¤í„°/ ìŠ¬ë ˆì´ë¸Œ ë³µì œë¥¼ ì§€ì›. ë§ˆìŠ¤í„°ì—ì„œ ì“°ê¸°ê°€ ìˆ˜í–‰ë˜ë©´ ìŠ¬ë ˆì´ë¸Œ ë°ì´í„° ì„¸íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•´ ì—°ê²°ëœ ëª¨ë“  ìŠ¬ë ˆì´ë¸Œë¡œ ì „ì†¡ë¨ ì“°ê¸° ì„±ëŠ¥ ì¦ëŒ€ë¥¼ ìœ„í•œ í´ë¼ì´ì–¸íŠ¸\n","date":"2023-04-17T19:24:48+09:00","image":"https://codemario318.github.io/post/nosql/nosql_cover_hu705a0f96b7606376fe264778ca77daa9_6424_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/nosql/","title":"NoSQLì´ë€?"},{"content":"Apache ì•„íŒŒì¹˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ë°›ìœ¼ë©´ MPM(Multi Processing Module : ë‹¤ì¤‘ì²˜ë¦¬ëª¨ë“ˆ) ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.\nìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ ê¸°ë°˜ êµ¬ì¡° ë™ì‘ ServerSocketìœ¼ë¡œ request Aê°€ ë“¤ì–´ì˜¤ë©´ Threadë¥¼ í• ë‹¹í•´ì¤€ë‹¤. ThreadëŠ” í•´ë‹¹ socketì„ ê°€ì§€ê³  read, writeì‘ì—… ë“±ì„ ìˆ˜í–‰í•œë‹¤. ìˆ˜í–‰ ë„ì¤‘ ServerSocketìœ¼ë¡œ request Bê°€ ë“¤ì–´ì˜¤ë©´, context switchingì´ ì¼ì–´ë‚œë‹¤. ìƒˆë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì— ì“°ë ˆë“œë¥¼ ë°°ë¶„í•˜ê³ , ë˜ í•´ë‹¹ ì†Œì¼“ì„ ê°€ì§€ê³  ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì•„ì§ ë§ˆë¬´ë¦¬ë˜ì§€ ì•Šì€ Aë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì¼ì • ê¸°ê°„ë§ˆë‹¤ ì§€ì†ì ìœ¼ë¡œ context switchingì„ ë°˜ë³µí•˜ê³  ëª¨ë“  ì‘ì—…ì„ ë§ˆë¬´ë¦¬ í•œë‹¤. Prefork MPM ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³µì œí•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹\nê° í”„ë¡œì„¸ìŠ¤ëŠ” í•œë²ˆì— í•œ ì—°ê²°ë§Œ ì²˜ë¦¬í•˜ê³ , ìš”ì²­ëŸ‰ì´ ë§ì•„ì§ˆìˆ˜ë¡ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³µì œí•˜ì—¬ ë™ì‘í•œë‹¤.\ní”„ë¡œì„¸ìŠ¤ë¥¼ ë³µì œí•˜ëŠ” ë°©ì‹ì´ê¸° ë–„ë¬¸ì— ë©”ëª¨ë¦¬ê°€ ë§ì´ ì†Œë¹„ëœë‹¤\nì—°ê²° ìˆ˜ = í”„ë¡œì„¸ìŠ¤ ìˆ˜\nWorker MPM Prefork ë°©ì‹ì€ í•œê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ í•œê°œì˜ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ, Worker ë°©ì‹ì€ í•œê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì—¬ëŸ¬ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬í•œë‹¤.\nì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ê¸° ë–„ë¬¸ì— Prefork ë°©ì‹ë³´ë‹¤ ë©”ëª¨ë¦¬ ì†Œëª¨ê°€ ì ê³ , í†µì‹ ëŸ‰ì´ ë§ì„ ë•Œ ìœ ë¦¬í•˜ë‹¤.\në¬¸ì œì  ì•„íŒŒì¹˜ëŠ” ì ‘ì†ë§ˆë‹¤ í”„ë¡œì„¸ìŠ¤ ë˜ëŠ” ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.\në™ì‹œ ì ‘ì† ìš”ì²­ì´ ë§ì„ìˆ˜ë¡ ê·¸ë§Œí° ìƒì„± ë¹„ìš©ì´ ë“¤ê³  ëŒ€ìš©ì–‘ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì›¹ ì„œë²„ë¡œì„œ í•œê³„ê°€ ë‚˜íƒ€ë‚œë‹¤.\nNginx í•œê°œ ë˜ëŠ” ê³ ì •ëœ í”„ë¡œì„¸ìŠ¤ë§Œ ìƒì„±í•˜ê³ , í”„ë¡œì„¸ìŠ¤ ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤. ë”°ë¼ì„œ ë™ì‹œ ì ‘ì† ìš”ì²­ì´ ë§ì•„ë„ í”„ë¡œì„¸ìŠ¤ ë˜ëŠ” ì“°ë ˆë“œ ìƒì„± ë¹„ìš©ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.\nEvent-Driven ë°©ì‹ Event-Driven ë°©ì‹ì€ Reactor patternì„ ì‚¬ìš©í•œë‹¤.\nReactorëŠ” ì´ë²¤íŠ¸ê°€ ë“¤ì–´ì˜¤ë©´ ì•Œë§ëŠ” handlerë¡œ dispatch í•´ì¤€ë‹¤. HandlerëŠ” dispatchëœ ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰ Reactor pattern\nì´ë²¤íŠ¸ ì²˜ë¦¬(event handling)ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ í•˜ë‚˜ì˜ Reactorê°€ ê³„ì† ì´ë²¤íŠ¸ë¥¼ ì°¾ê³  ì´ë²¤íŠ¸ê°€ ë°œìƒ(trigger)í•˜ë©´ í•´ë‹¹ ì´ë²¤íŠ¸ ì²˜ë¦¬ê¸°(event handler)ì—ê²Œ ì•Œë¦°ë‹¤.\nNginxì™€ Apacheì˜ ì°¨ì´ì  ì»¨í…ì¸ ì˜ì²˜ë¦¬ ë°©ì‹ ì •ì  ì»¨í…ì¸  ì²˜ë¦¬\nApache: ì „í†µì ì¸ íŒŒì¼ê¸°ë°˜ ë°©ì‹ì˜ ì •ì  ì»¨í…ì¸  Nginx: ì´ë²¤íŠ¸ ì²˜ë¦¬/ë¹„ë™ê¸°ì‹/ë…¼ë¸”ë¡œí‚¹ ë°©ì‹ ì²˜ë¦¬ë¡œ ì¸í•´ ì •ì  ì»¨í…ì¸  ì œê³µì‹œ ê³ ì† ì²˜ë¦¬ ê°€ëŠ¥ ë™ì  ì»¨í…ì¸  ì²˜ë¦¬\nApache: ì„œë²„ ë‚´ì—ì„œ ì²˜ë¦¬ ê¸°ë³¸ì ìœ¼ë¡œ ìœ ì—°ì„±ê³¼ ë²”ìš©ì„±ì„ ê°–ì¶”ëŠ” ë°©ì‹ìœ¼ë¡œ ì„œë²„ ìì²´ì—ì„œ ë™ì  ì»¨í…ì¸  ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤. Nginx: ë™ì  ì»¨í…ì¸ ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•ŠìŒ ë™ì  ì›¹ í˜ì´ì§€ ì»¨í…ì¸ ë¥¼ ê°€ì§„ ëª¨ë“  ìš”ì²­ì„ ìœ„í•´ ì™¸ë¶€ ìì›ê³¼ ì—°ê³„í•œë‹¤. ë”°ë¼ì„œ ìµœì¢…ì ìœ¼ë¡œ ë™ì  ì»¨í…ì¸ ê°€ ë‹¤ì‹œ ëŒì•„ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì„ ê°€ì§€ê³  ìˆë‹¤. OS ì§€ì›ì— ëŒ€í•œ ë²”ìš©ì„± Apache: ë¦¬ëˆ…ìŠ¤, BSD, UNIX, WINDOW ì—­ì‚¬ê°€ ìˆëŠ” ë§Œí¼ ì§€ì› ë²”ìœ„ê°€ ë‹¤ì–‘í•˜ê¸° ë•Œë¬¸ì— ì¼ê´€ì„± ìˆëŠ” ì›¹ ì„œë¹„ìŠ¤ ì•„í‚¤í…ì³ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. Nginx: LINUX, BSD, UNIX, WIN(ë¶€ë¶„ ì§€ì›) ë‹¤ì–‘í•œ ìš´ì˜ì²´ì œë¥¼ ì§€ì›í•˜ì§€ë§Œ ì•„íŒŒì¹˜ ë§Œí¼ ì™„ë²½íˆ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë¶„ì‚°/ì¤‘ì•™ì§‘ì¤‘ì‹ êµ¬ì„± ë°©ì‹ Apache: ë¶„ì‚°/ì¤‘ì•™ì§‘ì¤‘ì‹ êµ¬ì„± ì±„íƒ .htaccessë¥¼ í†µí•´ ë””ë ‰í† ë¦¬ë³„ë¡œ ì¶”ê°€ êµ¬ì„±ì„ í•  ìˆ˜ ìˆë‹¤. ë‹¨ì¼ ê¸°ë°˜ ë¿ë§Œ ì•„ë‹ˆë¼ ë¶„ì‚°í˜• êµ¬ì¹™ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ëŒ€ìš©ëŸ‰ ì„œë²„ ì•„í‚¤í…ì³ì—ì„œ ìì›ë§Œ ì¶©ë¶„í•˜ë‹¤ë©´ ì—¬ëŸ¬ ì›¹ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„ í•  ìˆ˜ ìˆë‹¤. Nginx: ì¤‘ì•™ì§‘ì¤‘ì‹ êµ¬ì„± ì±„íƒ ì•„íŒŒì¹˜ì²˜ëŸ¼ .htaccessë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì¶”ê°€ êµ¬ì„±ì„ í•  ìˆ˜ ì—†ëŠ” ë‹¨ì ì´ ìˆë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ì€ ê°€ìƒí™”, í´ë¼ìš°ë“œ, MSAì™€ ê°™ì€ ì•„í‚¤í…ì³ì—ì„œëŠ” ì˜¤íˆë ¤ ê²½ëŸ‰í™”ì™€ ì„±ëŠ¥ ë³´ì¥ì´ë¼ëŠ” ì¸¡ë©´ì—ì„œ ë‹¨ì ì´ ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. ëª¨ë“ˆ ë° í™•ì¥ì„±/ë³´ì•ˆ Apache 60ê°œ ì´ìƒì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ê³¼ ëª¨ë“ˆì„ ì§€ì›í•˜ë©°, í•„ìš”ì— ë”°ë¼ í™œì„±í™” ë˜ëŠ” ë¹„í™œì„± ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ë™ì  ëª¨ë“ˆì„ í†µí•´ ì›¹ ì„œë²„ì˜ ì‚¬ìš©ì ì§€ì •ë„ ê°€ëŠ¥í•˜ê²Œ í•  ìˆ˜ ìˆëŠ” ë“± ë‹¤ì–‘í•œ ë””ìì¸ê³¼ í™•ì¥ì´ ê°€ëŠ¥í•˜ë‹¤. ë³´ì•ˆì„ ìœ„í•´ ë‹¤ì–‘í•œ Webê¸°ë°˜ DDoS ë°©ì–´ ê¸°ìˆ ì„ ì œê³µí•œë‹¤. Nginx ë‹¤ë¥¸ ì½”ì–´ ëª¨ë“ˆì„ ë™ì ìœ¼ë¡œ ë¡œë”©í•  ìˆ˜ ì—†ë„ë¡ ë˜ì–´ìˆë‹¤. ì˜µì…˜ì„ ìµœì†Œí™” í•´ì„œ íƒœìƒ ë¶€í„° ì„±ëŠ¥ì— í¬ì»¤ì‹± í–ˆë‹¤. ë³´ì•ˆì— ëŒ€í•œ ë‹¤ì–‘í•œ ê¸°ìˆ  ë¬¸ì„œë¥¼ ì œê³µí•˜ë©°, ì½”ë“œ ìì²´ê°€ ê°€ë³ê³  ê²½ëŸ‰í™” ë˜ì–´ ìˆì–´ì„œ ë³´ì•ˆì— ìœ ë¦¬í•œ ì¸¡ë©´ë„ ìˆë‹¤.https://youngmind.tistory.com/entry/Apache-vs-Nginx ","date":"2023-04-17T19:10:21+09:00","image":"https://codemario318.github.io/post/nginx_vs_apache/web_cover_hu71ff0ea2f7ce80fa0f2ad0c2fcb44a04_52909_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/nginx_vs_apache/","title":"Nginx VS Apache"},{"content":"ì›¹ ë™ì‘ ë°©ì‹ í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ê°€ HTTP(URL)ì„ í†µí•´ ìš”ì²­ì„ ë³´ë‚´ë©´ HTML, CSS, ì´ë¯¸ì§€ì™€ ê°™ì€ ì •ì  ì½˜í…ì¸ ë¥¼ ì‘ë‹µìœ¼ë¡œ ë³´ë‚´ê²Œ ë˜ê³  ê·¸ê²ƒì„ ë°›ì€ í´ë¼ì´ì–¸íŠ¸ê°€ í•´ì„í•˜ì—¬ í˜ì´ì§€ë¡œ ë³´ì—¬ì¤€ë‹¤.\nStatic pagesì™€ Dynamic Pages Static Pages Web ServerëŠ” íŒŒì¼ ê²½ë¡œì˜ ì´ë¦„ì„ ë°›ì•„ ê²½ë¡œì™€ ì¼ì¹˜í•˜ëŠ” file contentsë¥¼ ë°˜í™˜ í•­ìƒ ë™ì¼í•œ í˜ì´ì§€ë¥¼ ë°˜í™˜ Ex) image, html, css, javascript íŒŒì¼ê³¼ ê°™ì´ ì»´í“¨í„°ì— ì €ì¥ë˜ì–´ ìˆëŠ” íŒŒì¼ë“¤ Dynamic Pages ì¸ìì˜ ë‚´ìš©ì— ë§ê²Œ ë™ì ì¸ Contentsë¥¼ ë°˜í™˜ ì›¹ ì„œë²„ì— ì˜í•´ì„œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œê·¸ë¨ì„ í†µí•´ì„œ ë§Œë“¤ì–´ì§„ ê²°ê³¼ë¬¼(WAS)ìœ„ì—ì„œ ëŒì•„ê°€ëŠ” í”„ë¡œê·¸ë¨ Web Serverì™€ WASì˜ ì°¨ì´ Web Server ì†Œí”„íŠ¸ì›¨ì–´ì™€ í•˜ë“œì›¨ì–´ë¡œ êµ¬ë¶„ëœë‹¤.\ní•˜ë“œì›¨ì–´ Web ì„œë²„ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ì»´í“¨í„° ì†Œí”„íŠ¸ì›¨ì–´ ì›¹ ë¸Œë¼ìš°ì € í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„° HTTP ìš”ì²­ì„ ë°›ì•„ ì •ì ì¸ ì»¨í…ì¸ (.html, .jpeg, .css ë“±)ì„ ì œê³µí•˜ëŠ” ì»´í“¨í„° í”„ë¡œê·¸ë¨ Web Serverì˜ ì—­í•  HTTP í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì„œë¹„ìŠ¤ í•˜ëŠ” ê¸°ëŠ¥ ë‹´ë‹¹\nìš”ì²­ì— ë”°ë¼ ë‘ ê°€ì§€ ê¸°ëŠ¥ ì¤‘ ì ì ˆí•˜ê²Œ ì„ íƒí•˜ì—¬ ìˆ˜í–‰\nì •ì ì¸ ì»¨í…ì¸  ì œê³µ WASë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ë°”ë¡œ ìì›ì„ ì œê³µí•œë‹¤ ë™ì ì¸ ì»¨í…ì¸  ì œê³µì„ ìœ„í•œ ìš”ì²­ ì „ë‹¬ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ WASì— ë³´ë‚´ê³ , WASê°€ ì²˜ë¦¬í•œ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•œë‹¤. Web Serverì˜ ì˜ˆ Apache Server Nginx IIS ë“± WAS(Web Application Server) DB ì¡°íšŒë‚˜ ë‹¤ì–‘í•œ ë¡œì§ ì²˜ë¦¬ë¥¼ ìš”êµ¬í•˜ëŠ” ë™ì ì¸ ì»¨í…ì¸ ë¥¼ ì œê³µí•˜ê¸°ìœ„í•´ ë§Œë“¤ì–´ì§„ Application Server\nHTTPë¥¼ í†µí•´ ì»´í“¨í„°ë‚˜ ì¥ì¹˜ì— ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ìˆ˜í–‰í•´ì£¼ëŠ” ë¯¸ë“¤ì›¨ì–´ì´ë‹¤.\nì›¹ ì»¨í…Œì´ë„ˆ(Web Container), ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ(Servlet Container)ë¼ê³ ë„ ë¶ˆë¦¼\nWASì˜ ì—­í•  WAS = Web Server + Web Container\nì›¹ì„œë²„ ê¸°ëŠ¥ë“¤ì„ êµ¬ì¡°ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì²˜ë¦¬í•˜ê³ ìí•˜ëŠ” ëª©ì ìœ¼ë¡œ ì œì‹œë¨\në¶„ì‚° íŠ¸ëœì­ì…˜ ë³´ì•ˆ ë©”ì‹œì§• ì“°ë ˆë“œ ì²˜ë¦¬ ë“± DBì™€ ì„œë²„ì™€ ê°™ì´ ìˆ˜í–‰ë¨\nWASì˜ ì£¼ìš” ê¸°ëŠ¥ í”„ë¡œê·¸ë¨ ì‹¤í–‰ í™˜ê²½ê³¼ DB ì ‘ì† ê¸°ëŠ¥ ì œê³µ ì—¬ëŸ¬ ê°œì˜ íŠ¸ëœì­ì…˜ ê´€ë¦¬ ê¸°ëŠ¥ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰ WASê°€ í•„ìš”í•œ ì´ìœ  ì›¹ í˜ì´ì§€ëŠ” ì •ì  ì»¨í…ì¸ ì™€ ë™ì  ì»¨í…ì¸ ê°€ ëª¨ë‘ ì¡´ì¬í•œë‹¤.\nì‚¬ìš©ìì˜ ìš”ì²­ì— ë§ê²Œ ì ì ˆí•œ ë™ì  ì»¨í…ì¸ ë¥¼ ë§Œë“¤ì–´ì„œ ì œê³µí•´ì•¼ í•œë‹¤. ì›¹ ì„œë²„ë§Œì„ ì´ìš©í•˜ê²Œ ë˜ë©´ ê·¸ì— ë§ëŠ” ê²°ê³¼ê°€ ì •ì  íŒŒì¼ë¡œ ì¡´ì¬í•´ì•¼ í•œë‹¤. ë”°ë¼ì„œ WASë¥¼ í†µí•´ ìš”ì²­ì— ë§ëŠ” ë°ì´í„°ë¥¼ DBì—ì„œ ê°€ì ¸ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë§ê²Œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ì œê³µí•¨ìœ¼ë¡œ ìì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nWASì™€ Web Serverë¥¼ ë¶„ë¦¬í•˜ëŠ” ì´ìœ  ê¸°ëŠ¥ ë¶„ë¦¬ë¥¼ í†µí•œ ì„œë²„ ë¶€í•˜ ë°©ì§€\nWASë§Œìœ¼ë¡œë„ ì›¹ì„œë¹„ìŠ¤ë¥¼ ì œê³µ ê°€ëŠ¥í•˜ì§€ë§Œ WASëŠ” DBì¡°íšŒ ë“± ë™ì ì¸ ì›¹ í˜ì´ì§€ë¥¼ ìœ„í•œ ë‹¤ì–‘í•œ ë™ì‘ì„ í•˜ê¸° ë•Œë¬¸ì— ë°”ì˜ë‹¤. ë”°ë¼ì„œ ì›¹ ì„œë²„ë¥¼ í†µí•´ ì •ì ì¸ ì»¨í…ì¸ ë¥¼ ì œê³µí•˜ì—¬ ë¶€í•˜ë¥¼ ë°©ì§€í•œë‹¤.\në¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ë³´ì•ˆ ê°•í™”\nSSLì— ëŒ€í•œ ì•”ë³µí˜¸í™” ì²˜ë¦¬ì— ì›¹ì„œë²„ë¥¼ ì‚¬ìš©í•œë‹¤.\nì—¬ëŸ¬ëŒ€ì˜ WASë¥¼ ì—°ê²° ê°€ëŠ¥\nLoad Balancingì„ ìœ„í•´ Web Serverë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤\nfail over(ì¥ì•  ê·¹ë³µ), fail back ì²˜ë¦¬ì— ìœ ë¦¬ ì—¬ëŸ¬ëŒ€ì˜ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ìš©ëŸ‰ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° ì›¹ ì„œë²„ì™€ WASë¥¼ ë¶„ë¦¬í•˜ì—¬ ë¬´ì¤‘ë‹¨ ìš´ì˜ì„ ìœ„í•œ ì¥ì•  ê·¹ë³µì— ì‰½ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ ê°€ëŠ¥\ní•˜ë‚˜ì˜ ì›¹ ì„œë²„ë¡œ ë‹¤ì–‘í•œ WASë¥¼ ì´ìš©í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ","date":"2023-04-17T18:28:10+09:00","image":"https://codemario318.github.io/post/web/web_cover_hu71ff0ea2f7ce80fa0f2ad0c2fcb44a04_52909_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/web/","title":"Web"},{"content":"í´ë¡œì €ëŠ” ë‘ê°œì˜ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì§„ í™˜ê²½ìœ¼ë¡œ ì´ë£¨ì–´ì§„ íŠ¹ë³„í•œ ê°ì²´ì˜ í•œ ì¢…ë¥˜ì´ë‹¤. ì—¬ê¸°ì„œ í™˜ê²½ì´ë¼ í•¨ì€ í´ë¡œì €ê°€ ìƒì„±ë  ë•Œ ê·¸ ë²”ìœ„ì— ìˆë˜ ì—¬ëŸ¬ ì§€ì—­ ë³€ìˆ˜ë“¤ì´ í¬í•¨ ëœ contextë¥¼ ë§í•œë‹¤. ì´ëŸ¬í•œ ë²”ìœ„ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ë°œìƒí•˜ëŠ” ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ê²°ì •ëœë‹¤.\ní´ë¡œì €ë¥¼ í†µí•´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ì—†ëŠ” ë¹„ê³µê°œ ì†ì„±/ë©”ì†Œë“œ, ê³µê°œ ì†ì„±/ë©”ì†Œë“œ ì²˜ëŸ¼ êµ¬í˜„ í•  ìˆ˜ ìˆë‹¤.\nLexical Scope ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ëª‡ê°€ì§€ ì¼ì´ ì¼ì–´ë‚œë‹¤. ê·¸ì¤‘ í•˜ë‚˜ì¸ í† í¬ë‚˜ì´ì§•ê³¼ ë ‰ì‹±ì´ ìˆë‹¤.\ní† í¬ë‚˜ì´ì§• ë¬¸ìì—´ì„ ë‚˜ëˆ„ì–´ í† í°ìœ¼ë¡œ ë§Œë“œëŠ” ê³¼ì •\n1 var num = 5; ìœ„ì™€ ê°™ì€ êµ¬ë¬¸ì„ ë§Œë‚˜ê²Œ ë˜ë©´, ì•„ë˜ì™€ ê°™ì€ í† í°ìœ¼ë¡œ ë‚˜ëˆˆë‹¤.\n1 2 3 4 5 var num = 5 ; ë ‰ìŠ¤íƒ€ì„ í† í¬ë‚˜ì´ì§•ì˜ ê²°ê³¼ë¬¼ì¸ í† í°ì„ ë¶„ì„í•˜ì—¬ ìƒì„±ëœ í† í°ì— ì˜ë¯¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ê²ƒì„ ë ‰ì‹±ì´ë¼ê³  í•˜ë©°, ì´ ê³¼ì •ì„ ë ‰ìŠ¤íƒ€ì„ì´ë¼ê³  í•œë‹¤.\në ‰ì‹œì»¬ ìŠ¤ì½”í”„ ê°œë°œìê°€ ì½”ë“œë¥¼ ì‘ì„±í• ë•Œ ë³€ìˆ˜ë¥¼ ì–´ë””ì— ì‘ì„±í•˜ëŠ”ê°€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë ‰ìŠ¤íƒ€ì„ì— í† í°ì´ ë¶„ì„ë˜ë©° ìŠ¤ì½”í”„ê°€ ê²°ì •ëœë‹¤. ì´ë•Œ êµ¬ì„±ëœ ìœ íš¨ ë²”ìœ„ë¥¼ ë ‰ìŠ¤ì»¬ ìŠ¤ì½”í”„ë¼ê³  í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 var a = 10; function foo() { var b = 20; function bar() { var c = 30; colsole.log(a + b + c); // 60 } bar(); } foo(); ìœ„ì˜ ì½”ë“œê°€ ì‹¤í–‰ë ë•Œ ìŠ¤ì½”í”„ ë²„ë¸”ì€ bar ì•ˆìª½ì—ì„œ ë¶€í„° ì‹œì‘ë˜ì–´ ì˜¬ë¼ê°„ë‹¤.\nì½”ë“œë¥¼ í•´ì„í•˜ëŠ” ê³¼ì •ì—ì„œ ìƒìœ„ì—ì„œ í•˜ìœ„ë¡œ ìŒ“ì´ëŠ” êµ¬ì¡°ë¡œ í•´ì„ë˜ê¸° ë•Œë¬¸ì—, scopeì— ëŒ€í•œ ê²€ìƒ‰ì€ ê¸°ë³¸ì ìœ¼ë¡œ í•˜ìœ„ì—ì„œ ìƒìœ„ëŠ” ë˜ì§€ë§Œ ìƒìœ„ì—ì„œ í•˜ìœ„ë¡œì˜ ê²€ìƒ‰ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 6 7 8 9 var a = 10; function foo () { var b = 20; console.log(a); // 10 console.log(b); // 20 } console.log(b); // error ì •ë¦¬ ì»´íŒŒì¼ë ˆì´ì…˜ì˜ ë ‰ì‹± ë‹¨ê³„ì—ì„œ ëª¨ë“  ë³€ìˆ˜ë“¤ì´ ì–´ë””ì„œ ì–´ë–»ê²Œ ì„ ì–¸ë˜ì—ˆëŠ”ì§€ ë°”íƒ•ìœ¼ë¡œ ì‹¤í–‰ ë‹¨ê³„ì—ì„œ ìŠ¤ì½”í”„ë¥¼ êµ¬ì„±í•˜ê³ , ì´ë ‡ê²Œ êµ¬ì„±ë˜ëŠ” ìŠ¤ì½”í”„ê°€ ë ‰ì‹œì»¬ìŠ¤ì½”í”„ì´ë‹¤.\ní´ë¡œì € ìƒì„±í•˜ê¸° ë‚´ë¶€ í•¨ìˆ˜ê°€ ìµëª… í•¨ìˆ˜ë¡œ ë˜ì–´ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. ë‚´ë¶€ í•¨ìˆ˜ëŠ” ì™¸ë¶€ í•¨ìˆ˜ì˜ ì‹¤í–‰ í™˜ê²½ì—ì„œ ì‹¤í–‰ëœë‹¤. ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜ëŠ” ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ ìŠ¤ì½”í”„ì— ìˆë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 function outer() { var name = `closure`; function inner() { console.log(name); } inner(); } outer(); // console\u0026gt; closure outerí•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” contextì—ëŠ” nameì´ë¼ëŠ” ë³€ìˆ˜ê°€ ì¡´ì¬í•˜ì§€ ì•Šì§€ë§Œ, innerí•¨ìˆ˜ê°€ outer í•¨ìˆ˜ ë‚´ë¶€ì— ì„ ì–¸ëœ nameì„ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì—, name ë³€ìˆ˜ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” outer ë³€ìˆ˜ ì™¸ë¶€í™˜ê²½ì—ì„œë„ ì •ìƒ ì¶œë ¥ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var name = `Warning`; function outer() { var name = `closure`; return function inner() { console.log(name); }; } var callFunc = outer(); callFunc(); // console\u0026gt; closure ìœ„ ì½”ë“œì—ì„œ callFunc ë¥¼ í´ë¡œì €ë¼ê³  í•œë‹¤. callFunc í˜¸ì¶œì— ì˜í•´ name ì´ë¼ëŠ” ê°’ì´ consoleì— ì¶œë ¥ë˜ëŠ”ë°, \u0026ldquo;Warning\u0026ldquo;ì´ ì•„ë‹ˆë¼ \u0026ldquo;closure\u0026ldquo;ì´ë‹¤. ì¦‰, outer í•¨ìˆ˜ì˜ context ì— ì†í•´ìˆëŠ” ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ outer í•¨ìˆ˜ì˜ ì§€ì—­ë³€ìˆ˜ë¡œ ì¡´ì¬í•˜ëŠ” name ë³€ìˆ˜ë¥¼ free variable(ììœ ë³€ìˆ˜) ë¼ê³  í•œë‹¤.\nì´ì²˜ëŸ¼ ì™¸ë¶€ í•¨ìˆ˜ í˜¸ì¶œì´ ì¢…ë£Œ ë˜ë”ë¼ë„ ì™¸ë¶€ í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜ ë° ë³€ìˆ˜ ìŠ¤ì½”í”„ ê°ì²´ì˜ ì²´ì¸ ê´€ê³„ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ í´ë¡œì €ë¼ê³  í•œë‹¤.\n","date":"2023-04-17T18:11:36+09:00","image":"https://codemario318.github.io/post/js_closure/js_cover_huc1c9a52f33db3f5dad8bb16243cf7e4e_11875_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/js_closure/","title":"Javascript - Closure"},{"content":"Javascriptì—ì„œÂ í•¨ìˆ˜ì˜Â thisÂ í‚¤ì›Œë“œëŠ” ë‹¤ë¥¸ ì–¸ì–´ì™€ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤. ë˜í•œÂ ì—„ê²© ëª¨ë“œì™€ ë¹„ì—„ê²© ëª¨ë“œì—ì„œë„ ì¼ë¶€ ì°¨ì´ê°€ ìˆë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê²½ìš°Â thisì˜ ê°’ì€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ë°©ë²•ì— ì˜í•´Â ê²°ì •ë˜ëŠ”ë°, ì‹¤í–‰ì¤‘ì—ëŠ” í• ë‹¹ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ì—†ê³  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.\nES5ëŠ”Â í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ í˜¸ì¶œí–ˆëŠ”ì§€ ìƒê´€í•˜ì§€ ì•Šê³ Â thisÂ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” bindÂ ë©”ì„œë“œë¥¼ ë„ì…í–ˆê³ , ES2015ëŠ” ìŠ¤ìŠ¤ë¡œì˜Â thisÂ ë°”ì¸ë”©ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”Â í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì¶”ê°€í–ˆë‹¤.(ë ‰ì‹œì»¬ ì»¨í…ìŠ¤íŠ¸ì•ˆì˜Â thisê°’ì„ ìœ ì§€í•¨)\nì „ì—­ ë¬¸ë§¥ ì „ì—­ ì‹¤í–‰ ë¬¸ë§¥(global execution context)ì—ì„œÂ thisëŠ” ì—„ê²© ëª¨ë“œ ì—¬ë¶€ì— ê´€ê³„ ì—†ì´ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 // ì›¹ ë¸Œë¼ìš°ì €ì—ì„œëŠ” window ê°ì²´ê°€ ì „ì—­ ê°ì²´ console.log(this === window); // true a = 37; console.log(window.a); // 37 this.b = \u0026#34;MDN\u0026#34;; console.log(window.b) // \u0026#34;MDN\u0026#34; console.log(b) // \u0026#34;MDN\u0026#34; í•¨ìˆ˜ ë¬¸ë§¥ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisì˜ ê°’ì€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ë°©ë²•ì— ì˜í•´ ê²°ì •ëœë‹¤.\në‹¨ìˆœ í˜¸ì¶œ ì—„ê²© ëª¨ë“œê°€ ì•„ë‹ê²½ìš° thisì˜ ê°’ì´ í˜¸ì¶œì— ì˜í•´ ì„¤ì •ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê¸°ë³¸ê°’ìœ¼ë¡œ ë¸Œë¼ìš°ì €ì—ì„œëŠ” windowì¸ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê²Œ ëœë‹¤.\n1 2 3 4 5 6 7 8 9 function f1() { return this; } // ë¸Œë¼ìš°ì € f1() === window; // true // Node.js f1() === global; // true ë°˜ë©´ì— ì—„ê²© ëª¨ë“œì—ì„œ this ê°’ì€ ì‹¤í–‰ ë¬¸ë§¥ì— ì§„ì…í•˜ë©° ì„¤ì •ë˜ëŠ” ê°’ì„ ìœ ì§€í•˜ë¯€ë¡œ ë‹¤ìŒ ì˜ˆì‹œì—ì„œ ë³´ì—¬ì§€ëŠ” ê²ƒ ì²˜ëŸ¼ thisëŠ” undefinedë¡œ ë‚¨ì•„ìˆê²Œ ëœë‹¤.\n1 2 3 4 5 6 function f2(){ \u0026#34;use strict\u0026#34;; // ì—„ê²© ëª¨ë“œ ì°¸ê³  return this; } f2() === undefined; // true f2ë¥¼ ê°ì²´ì˜ ë©”ì„œë“œë‚˜ ì†ì„±(ì˜ˆ: window.f2())ì´ ì•„ë‹Œ ì§ì ‘ í˜¸ì¶œí–ˆê¸° ë•Œë¬¸ì— thisëŠ” undefinedì—¬ì•¼ í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ì—ì„œ ì—„ê²© ëª¨ë“œë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ window ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 var prop = 1; var test = { prop: 42, func: function() { var func2 = function() { console.log(this); } console.log(this); func2(); }, }; test.func(); /* \u0026gt; Object { prop: 42, func: function() { var func2 = function() { console.log(this); } console.log(this); func2(); } } \u0026gt; [object Window] // browser \u0026gt; [object global] // node.js */ function í‚¤ì›Œë“œë¡œ ì„ ì–¸ëœ í•¨ìˆ˜ê°€ ì „ì—­ ì‹¤í–‰ ë¬¸ë§¥(global execution context)ì—ì„œ í˜¸ì¶œë˜ì—ˆê¸° ë•Œë¬¸ì— thisëŠ” ì—„ê²© ëª¨ë“œ ì—¬ë¶€ì— ê´€ê³„ ì—†ì´ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.\nbind ë©”ì„œë“œ ECMAScript5ëŠ” Function.prototype.bindë¥¼ ë„ì…í–ˆë‹¤. f.bind(someObject)ë¥¼ í˜¸ì¶œí•˜ë©´ fì™€ ê°™ì€ ë³¸ë¬¸(ì½”ë“œ)ê³¼ ë²”ìœ„ë¥¼ ê°€ì¡Œì§€ë§Œ thisëŠ” ì›ë³¸ í•¨ìˆ˜ë¥¼ ê°€ì§„ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤. ìƒˆ í•¨ìˆ˜ì˜ thisëŠ” í˜¸ì¶œ ë°©ì‹ê³¼ ìƒê´€ì—†ì´ ì˜êµ¬ì ìœ¼ë¡œbind()ì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ê³ ì •ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 function f() { return this.a; } var g = f.bind({a: \u0026#39;azerty\u0026#39;}); console.log(g()); // azerty var h = g.bind({a: \u0026#39;yoo\u0026#39;}); // bindëŠ” í•œ ë²ˆë§Œ ë™ì‘í•¨! console.log(h()); // azerty var o = {a: 37, f: f, g: g, h: h}; console.log(o.a, o.f(), o.g(), o.h()); // 37, 37, azerty, azerty í™”ì‚´í‘œ í•¨ìˆ˜ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ thisëŠ” ìì‹ ì„ ê°ì‹¼ ì •ì  ë²”ìœ„(lexical context)ì´ë‹¤. ì „ì—­ ì½”ë“œì—ì„œëŠ” ì „ì—­ ê°ì²´ë¥¼ ê°€ë¥´í‚¨ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var globalObject = this; var foo = (() =\u0026gt; this); console.log(foo() === globalObject); // true // ê°ì²´ë¡œì„œ ë©”ì„œë“œ í˜¸ì¶œ var obj = {func: foo}; console.log(obj.func() === globalObject); // true // callì„ ì‚¬ìš©í•œ this ì„¤ì • ì‹œë„ console.log(foo.call(obj) === globalObject); // true // bindë¥¼ ì‚¬ìš©í•œ this ì„¤ì • ì‹œë„ foo = foo.bind(obj); console.log(foo() === globalObject); // true í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ call(), bind(), apply()ë¥¼ ì‚¬ìš©í•´ í˜¸ì¶œí•  ë•Œ thisì˜ ê°’ì„ ì •í•´ì£¼ë”ë¼ë„ ë¬´ì‹œí•œë‹¤. ì‚¬ìš©í•  ë§¤ê°œë³€ìˆ˜ë¥¼ ì •í•´ì£¼ëŠ” ê±´ ë¬¸ì œ ì—†ì§€ë§Œ, ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜(thisArg)ëŠ” nullì„ ì§€ì •í•´ì•¼ í•œë‹¤.\nì–´ë–¤ ë°©ë²•ì„ ì‚¬ìš©í•˜ë“  fooì˜ thisëŠ” ìƒì„± ì‹œì ì˜ ê²ƒìœ¼ë¡œ ì„¤ì •ëœë‹¤.(ìœ„ ì˜ˆì‹œì—ì„œëŠ” global ê°ì²´). ë‹¤ë¥¸ í•¨ìˆ˜ ë‚´ì—ì„œ ìƒì„±ëœ í™”ì‚´í‘œ í•¨ìˆ˜ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ëœë‹¤. thisëŠ” ì‹¸ì—¬ì§„ ë ‰ì‹œì»¬ ì»¨í…ìŠ¤íŠ¸ë¡œ ìœ ì§€ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 var obj = { bar: function() { var x = (() =\u0026gt; this); return x; } }; var fn = obj.bar(); console.log(fn() === obj); // true var fn2 = obj.bar; console.log(fn2()() === window); // true í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ë²”ìœ„ëŠ” ì„ ì–¸ë ë•Œ ê²°ì •ë˜ëŠ”ë°, fnì€ obj.bar()ë¡œ í˜¸ì¶œëœ xë¥¼ í™œìš©í•˜ê²Œ ë˜ì–´ thisê°€ obj ë¥¼ ì˜ë¯¸í•˜ê²Œ ë˜ê³ , fn2ëŠ” ì „ì—­ ì‹¤í–‰ ë¬¸ë§¥ì—ì„œ obj.bar ìì²´ë¥¼ fn2ì— í• ë‹¹ í•˜ì˜€ê¸° ë•Œë¬¸ì— windowë¡œ ì„¤ì •ë˜ì—ˆë‹¤.\nê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ í•¨ìˆ˜ë¥¼ ì–´ë–¤ ê°ì²´ì˜ ë©”ì„œë“œë¡œ í˜¸ì¶œí•˜ë©´ thisì˜ ê°’ì€ ê·¸ ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.\në‹¤ìŒ ì˜ˆì œì—ì„œ o.f()ë¥¼ ì‹¤í–‰í•  ë•Œ o ê°ì²´ê°€ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisì™€ ì—°ê²°ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 var o = {prop: 37}; function independent() { return this.prop; } o.f = independent; console.log(o.f()); // logs 37 o.b = {g: independent, prop: 42}; console.log(o.b.g()); // logs 42 this ë°”ì¸ë”©ì€ ë©¤ë²„ ëŒ€ìƒì— ì˜í–¥ì„ ë°›ëŠ”ë‹¤. í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œ, ê°ì²´ o.bì˜ ë©”ì†Œë“œ g ë¡œì„œ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” o.bë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.\nê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì—ì„œì˜ this ë©”ì„œë“œê°€ ì–´ë–¤ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìœ„ì— ì¡´ì¬í•œë‹¤ë©´, thisì˜ ê°’ì€ ê·¸ ê°ì²´ê°€ ë©”ì„œë“œë¥¼ ê°€ì§„ ê²ƒ ì²˜ëŸ¼ ì„¤ì •ëœë‹¤.\n1 2 3 4 5 6 7 8 var o = { f:function() { return this.a + this.b; } }; var p = Object.create(o); p.a = 1; p.b = 4; console.log(p.f()); // 5 ì´ ì˜ˆì œì—ì„œ, f ì†ì„±ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì€ ë³€ìˆ˜ pê°€ í• ë‹¹ëœ ê°ì²´ëŠ”, í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ë¶€í„° ìƒì†ë°›ëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜ ê·¸ê²ƒì€ ê²°êµ­ oì—ì„œ f ì´ë¦„ì„ ê°€ì§„ ë©¤ë²„ë¥¼ ì°¾ëŠ” ë˜ëŠ” ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ ; p.fë¥¼ ì°¾ì•„ ì°¸ì¡°í•˜ê¸° ì‹œì‘í•˜ë¯€ë¡œ, í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” p ì²˜ëŸ¼ ë‚˜íƒ€ë‚˜ëŠ” ê°ì²´ ê°’ì„ ì·¨í•œë‹¤. ì¦‰, fëŠ” pì˜ ë©”ì†Œë“œë¡œì„œ í˜¸ì¶œëœ ì´í›„ë¡œ, thisëŠ” pë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì´ê²ƒì€ JavaScriptì˜ í”„ë¡œí† íƒ€ì… ìƒì†ì˜ í¥ë¯¸ë¡œìš´ ê¸°ëŠ¥ì´ë‹¤.\nì ‘ê·¼ìì™€ ì„¤ì •ìì˜ this í•¨ìˆ˜ë¥¼ ì ‘ê·¼ìì™€ ì„¤ì •ìì—ì„œ í˜¸ì¶œí•˜ë”ë¼ë„ ë™ì¼í•˜ë‹¤. ì ‘ê·¼ìë‚˜ ì„¤ì •ìë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì˜ thisëŠ” ì ‘ê·¼í•˜ê±°ë‚˜ ì„¤ì •í•˜ëŠ” ì†ê²…ì„ ê°€ì§„ ê°ì²´ë¡œ ë¬¶ì¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 function sum() { return this.a + this.b + this.c; } var o = { a: 1, b: 2, c: 3, get average() { return (this.a + this.b + this.c) / 3; } }; Object.defineProperty(o, \u0026#39;sum\u0026#39;, { get: sum, enumerable: true, configurable: true}); console.log(o.average, o.sum); // 2, 6 ìƒì„±ìë¡œì„œ í•¨ìˆ˜ë¥¼ new í‚¤ì›Œë“œì™€ í•¨ê»˜ ìƒì„±ìë¡œ ì‚¬ìš©í•˜ë©´ thisëŠ” ìƒˆë¡œ ìƒê¸± ê°ì²´ì— ë¬¶ì¸ë‹¤.\n","date":"2023-04-17T18:11:36+09:00","image":"https://codemario318.github.io/post/js/this/js_cover_huc1c9a52f33db3f5dad8bb16243cf7e4e_11875_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/js/this/","title":"Javascript - this"},{"content":"hoistë¼ëŠ” ë‹¨ì–´ì˜ ì‚¬ì „ì  ì •ì˜ëŠ” \u0026ldquo;ëŒì–´ì˜¬ë¦¬ê¸°\u0026rdquo; ë¼ëŠ” ëœ»ì´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë ë•Œ ì„ ì–¸ëœ ëª¨ë“  ë³€ìˆ˜ ì„ ì–¸ë¶€ê°€ ì½”ë“œì˜ ê°€ì¥ ìœ„ë¡œ ëŒì–´ì˜¬ë ¤ì§„ ê²ƒ ì²˜ëŸ¼ ì²˜ë¦¬ëœë‹¤.\ní˜¸ì´ìŠ¤íŠ¸ë¥¼ í†µí•´ ë³€ìˆ˜ì˜ ì •ì˜ê°€ ê·¸ ë²”ìœ„ì— ë”°ë¼ ì„ ì–¸ê³¼ í• ë‹¹ìœ¼ë¡œ ë¶„ë¦¬ëœë‹¤. ì¦‰, ë³€ìˆ˜ê°€ í•¨ìˆ˜ ë‚´ì—ì„œ ì •ì˜ë˜ì—ˆì„ ê²½ìš°, ì„ ì–¸ì´ í•¨ìˆ˜ ìµœìƒìœ„ë¡œ, í•¨ìˆ˜ ë°”ê¹¥ì—ì„œ ì •ì˜ë˜ì—ˆì„ ê²½ìš°, ì „ì—­ ì»¨í…ìŠ¤íŠ¸ì˜ ìµœìƒìœ„ë¡œ ë³€ê²½ì´ ëœë‹¤.\n1 2 3 4 5 6 7 8 9 function getX() { console.log(x); // undefined var x = 100; console.log(x); // 100 } getX(); ìœ„ì™€ ê°™ì´ ì •ì˜ ë˜ì—ˆì„ë•Œ, ì•„ë˜ì™€ ê°™ì´ í•´ì„ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 function getX() { var x; console.log(x); x = 100; console.log(x); } getX(); ì„ ì–¸ë¬¸ì€ í•­ìƒ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ êµ¬ë™ì‹œ ê°€ì¥ ìµœìš°ì„ ìœ¼ë¡œ í•´ì„í•˜ë¯€ë¡œ í˜¸ì´ìŠ¤íŒ… ë˜ê³ , í• ë‹¹ êµ¬ë¬¸ì€ ëŸ°íƒ€ì„ ê³¼ì •ì—ì„œ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— í˜¸ì´ìŠ¤íŒ… ë˜ì§€ ì•ŠëŠ”ë‹¤.\ní•¨ìˆ˜ì˜ í˜¸ì´ìŠ¤íŒ… í•¨ìˆ˜ê°€ ìì‹ ì´ ìœ„ì¹˜í•œ ì½”ë“œì— ìƒê´€ì—†ì´ í•¨ìˆ˜ ì„ ì–¸ë¬¸ í˜•íƒœë¡œ ì •ì˜í•œ í•¨ìˆ˜ì˜ ìœ íš¨ë²”ìœ„ëŠ” ì „ì²´ ì½”ë“œì˜ ë§¨ ì²˜ìŒë¶€í„° ì‹œì‘í•œë‹¤. í•¨ìˆ˜ ì„ ì–¸ì´ í•¨ìˆ˜ ì‹¤í–‰ ë¶€ë¶„ë³´ë‹¤ ë’¤ì— ìˆë”ë¼ë„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ í•¨ìˆ˜ ì„ ì–¸ì„ ëŒì–´ì˜¬ë¦¬ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\n1 2 3 4 5 6 7 foo(); function foo(){ console.log(â€˜helloâ€™); }; // console\u0026gt; hello foo í•¨ìˆ˜ì— ëŒ€í•œ ì„ ì–¸ì„ í˜¸ì´ìŠ¤íŒ…í•˜ì—¬ global ê°ì²´ì— ë“±ë¡ì‹œí‚¤ê¸° ë•Œë¬¸ì— helloê°€ ì œëŒ€ë¡œ ì¶œë ¥ëœë‹¤.\nì˜¤ë¥˜ ì‚¬ë¡€ 1 2 3 4 5 6 7 foo(); var foo = function() { console.log(â€˜helloâ€™); }; // console\u0026gt; Uncaught TypeError: foo is not a function ì˜ˆì œì˜ í•¨ìˆ˜ í‘œí˜„ì€ í•¨ìˆ˜ ë¦¬í„°ëŸ´ì„ í• ë‹¹í•˜ëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì— í˜¸ì´ìŠ¤íŒ… ë˜ì§€ ì•Šìœ¼ë©° ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ í•´ì„ë˜ì–´ ëŸ°íƒ€ì„ í™˜ê²½ì—ì„œ Type Errorë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\n1 2 3 4 5 6 7 8 var foo; foo(); // foo = undefined // console\u0026gt; Uncaught TypeError: foo is not a function foo = function( ) { console.log(â€˜helloâ€™); }; ","date":"2023-04-17T18:04:35+09:00","image":"https://codemario318.github.io/post/js_hoisting/js_cover_huc1c9a52f33db3f5dad8bb16243cf7e4e_11875_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/js_hoisting/","title":"Javascript - Hoisting"},{"content":"ì»¨í…Œì´ë„ˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜, ì‹¤í–‰ ë¼ì´ë¸ŒëŸ¬ë¦¬, ì‹œìŠ¤í…œ ë„êµ¬, ì‹œìŠ¤í…œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ì„ í¬í•¨í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ê·¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” í™˜ê²½ì„ íŒ¨í‚¤ì§•í•˜ì—¬ ì´ì‹ì„±ì´ ë›°ì–´ë‚œ ì†Œí”„íŠ¸ì›¨ì–´ íŒ¨í‚¤ì§€ë¡œ ë§Œë“ ê²ƒì´ë‹¤.\nì»¨í…Œì´ë„ˆí™”ë¥¼ í†µí•´ ë”ìš± ì‹ ì†í•˜ê²Œ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤. íš¨ìœ¨ì ìœ¼ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë°°í¬í•  ìˆ˜ ìˆë‹¤. ë§¤ìš° ë†’ì€ ìˆ˜ì¤€ì˜ í™•ì¥ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆë‹¤. ì„œë²„ ê°€ìƒí™” ì»´í“¨í„°ì˜ ì„±ëŠ¥ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ê°€ìƒí™” ê¸°ìˆ ì´ ë“±ì¥í•˜ì˜€ë‹¤. ì„œë²„ ê´€ë¦¬ì ì…ì¥ì—ì„œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ ì´ ì ì€ ì„œë²„ë“¤ì€ ë‚­ë¹„ë¼ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤. ê·¸ë ‡ë‹¤ê³  ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ í•œ ì„œë²„ ì•ˆì— ì˜¬ë¦°ë‹¤ë©´ ì•ˆì •ì„±ì— ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ì´ì— ë”°ë¼ ì•ˆì •ì„±ì„ ë†’ì´ë©° ë¦¬ì†ŒìŠ¤ë¥¼ ìµœëŒ€í•œ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ ê³ ì•ˆëœ ë°©ë²•ì´ ì„œë²„ ê°€ìƒí™”ì´ë‹¤.\nì»¨í…Œì´ë„ˆ ì •ì˜ ì»¨í…Œì´ë„ˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì„œë¹„ìŠ¤ë¥¼ ì‹¤í–‰í•˜ëŠ” ë° í•„ìš”í•œ íŠ¹ì • ë²„ì „ì˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ëŸ°íƒ€ì„ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê°™ì€ ì¢…ì† í•­ëª©ê³¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ í•¨ê»˜ í¬í•¨í•˜ëŠ” ê²½ëŸ‰ íŒ¨í‚¤ì§€ì´ë‹¤.\nì»¨í…Œì´ë„ˆëŠ” ìš´ì˜ì²´ì œ ìˆ˜ì¤€ì—ì„œ CPU, ë©”ëª¨ë¦¬, ìŠ¤í† ë¦¬ì§€, ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ë¥¼ ì‰½ê²Œ ê³µìœ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ë©° ì»¨í…Œì´ë„ˆê°€ ì‹¤ì œë¡œ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì¶”ìƒí™” í•  ìˆ˜ ìˆëŠ” ë…¼ë¦¬ íŒ¨í‚¤ì§• ë§¤ì»¤ë‹ˆì¦˜ì„ ì œê³µí•œë‹¤.\nì»¨í…Œì´ë„ˆì˜ ì´ì  ì±…ì„ ë¶„ë¦¬ ì»¨í…Œì´ë„ˆí™”ë¥¼ í†µí•´ ì±…ì„ì„ ê¹”ë”í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.\nê°œë°œìëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¡œì§ê³¼ ì¢…ì† í•­ëª©ì— ì§‘ì¤‘í•˜ê³ , IT ìš´ì˜íŒ€ì€ íŠ¹ì • ì†Œí”„íŠ¸ì›¨ì–´ ë²„ì „ ë° êµ¬ì„±ê³¼ ê°™ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì„¸ë¶€ ìš”ì†Œ ëŒ€ì‹  ë°°í¬ ë° ê´€ë¦¬ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.\nì›Œí¬ë¡œë“œ ì´ë™ì„± ì»¨í…Œì´ë„ˆëŠ” Linux, Windows, Mac ë“± ìš´ì˜ì²´ì œë¥¼ ê°€ë¦¬ì§€ ì•Šê³ , ê°€ìƒë¨¸ì‹  ë¬¼ë¦¬ì  ì„œë²„, ê°œë°œì ì»´í“¨í„°, ë°ì´í„° ì„¼í„°, ì˜¨í”„ë ˆë¯¸ìŠ¤ í™˜ê²½, í¼ë¸”ë¦­ í´ë¼ìš°ë“œ ë“± ì‚¬ì‹¤ìƒ ì–´ëŠ í™˜ê²½ì—ì„œë‚˜ êµ¬ë™ë˜ë¯€ë¡œ ê°œë°œ ë° ë°°í¬ê°€ í¬ê²Œ ì‰¬ì›Œì§„ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ ê²©ë¦¬ ì»¨í…Œì´ë„ˆëŠ” ìš´ì˜ì²´ì œ ìˆ˜ì¤€ì—ì„œ CPU, ë©”ëª¨ë¦¬, ìŠ¤í† ë¦¬ì§€, ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ìƒí™” í•˜ë¯€ë¡œ ê°œë°œìì—ê²Œ ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œë¶€í„° ë…¼ë¦¬ì ìœ¼ë¡œ ê²©ë¦¬ëœ OS í™˜ê²½ì„ ì œê³µí•œë‹¤.\nì»¨í…Œì´ë„ˆì™€ VMì˜ ì°¨ì´ VMì€ ê¸°ë³¸ í•˜ë“œì›¨ì–´ì— ëŒ€í•œ ì—‘ì„¸ìŠ¤ ê¶Œí•œì„ ê°–ëŠ” í˜¸ìŠ¤íŠ¸ ìš´ì˜ì²´ì œ ìœ„ì—ì„œ Linuxë˜ëŠ” Windows ê°™ì€ ê²ŒìŠ¤íŠ¸ ìš´ì˜ì²´ì œë¥¼ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— ì»¨í…Œì´ë„ˆì™€ ë¹„êµë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\nì»¨í…Œì´ë„ˆëŠ” ê°€ìƒ ë¨¸ì‹ ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì• í•„ë¦¬ì¼€ì´ì…˜ì„ ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì¢…ì† í•­ëª©ê³¼ í•¨ê»˜ íŒ¨í‚¤ì§€ë¡œ ë¬¶ì–´ ì†Œí”„íŠ¸ì›¨ì–´ ì„œë¹„ìŠ¤ êµ¬ë™ì„ ìœ„í•œ ê²©ë¦¬ í™˜ê²½ì„ ë§ˆë ¨í•´ì¤€ë‹¤. ê·¸ëŸ¬ë‚˜ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ë©´ í›¨ì”¬ ì‘ì€ ë‹¨ìœ„ë¡œ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´ ì´ì ì´ í›¨ì”¬ ë§ë‹¤.\nVM ë³´ë‹¤ í›¨ì”¬ ë” ê°€ë³ë‹¤. OS ìˆ˜ì¤€ì—ì„œ ê°€ìƒí™”ë˜ê³ , VMì€ í•˜ë“œì›¨ì–´ ìˆ˜ì¤€ì—ì„œ ê°€ìƒí™”ëœë‹¤. OS ì»¤ë„ì„ ê³µìœ í•˜ë©° VMì—ì„œ í•„ìš”í•œ ê²ƒ ë³´ë‹¤ í›¨ì”¬ ì ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤. ì»¨í…Œì´ë„ˆì˜ ìš©ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤ì œ êµ¬ë™ í™˜ê²½ìœ¼ë¡œë¶€í„° ì¶”ìƒí™”í•  ìˆ˜ ìˆëŠ” ë…¼ë¦¬ íŒ¨í‚¤ì§• ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•¨. ì´ëŸ¬í•œ ë¶„ë¦¬ë¥¼ í†µí•´ ì–´ë–¤ í™˜ê²½ì—ì„œë„ ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‰½ê²Œ ì§€ì†ì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆìŒ.\në¯¼ì²©í•œ ê°œë°œ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ë©´ ê°œë°œìê°€ ì¢…ì† í•­ëª©ê³¼ í™˜ê²½ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì‹ ê²½ì“°ì§€ ì•Šê³  í›¨ì”¬ ë” ë¹ ë¥´ê²Œ ê°œë°œì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.\níš¨ìœ¨ì ì¸ ìš´ì˜ ì»¨í…Œì´ë„ˆëŠ” ê²½ëŸ‰ì´ë©° í•„ìš”í•œ ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ë§Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ë”°ë¼ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ íš¨ìœ¨ì ìœ¼ë¡œ êµ¬ë™í•  ìˆ˜ ìˆë‹¤.\ní­ë„“ì€ êµ¬ë™ í™˜ê²½ ì»¨í…Œì´ë„ˆëŠ” ê±°ì˜ ëª¨ë“  ê³³ì—ì„œ êµ¬ë™í•  ìˆ˜ ìˆì–´ í™˜ê²½ì— ì˜í–¥ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì»¨í…Œì´ë„ˆ ê¸°ìˆ  Namespaces VMì—ì„œëŠ” ê° ê²ŒìŠ¤íŠ¸ ë¨¸ì‹ ë³„ë¡œ ë…ë¦½ì ì¸ ê³µê°„ì„ ì œê³µí•˜ê³  ì„œë¡œê°€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì„ ê°–ì¶”ê³  ìˆë‹¤.\në¦¬ëˆ…ìŠ¤ì—ì„œëŠ” ì´ì™€ ë™ì¼í•œ ì—­í• ì„ í•˜ëŠ” namespaces ê¸°ëŠ¥ì„ ì»¤ë„ì— ë‚´ì¥í•˜ê³  ìˆë‹¤.\nmnt(íŒŒì¼ì‹œìŠ¤í…œ ë§ˆìš´íŠ¸): í˜¸ìŠ¤íŠ¸ íŒŒì¼ ì‹œìŠ¤í…œì— êµ¬ì• ë°›ì§€ ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ íŒŒì¼ ì‹œìŠ¤í…œì„ ë§ˆìš´íŠ¸í•˜ê±°ë‚˜ ì–¸ë§ˆìš´íŠ¸ ê°€ëŠ¥ pid(í”„ë¡œì„¸ìŠ¤): ë…ë¦½ì ì€ í”„ë¡œì„¸ìŠ¤ ê³µê°„ì„ í• ë‹¹ net(ë„¤íŠ¸ì›Œí¬): namespaceê°„ network ì¶©ëŒ ë°©ì§€(ì¤‘ë³µ í¬íŠ¸ ë°”ì¸ë”© ë“±) ipc(SystemV IPC): í”„ë¡œì„¸ìŠ¤ê°„ì˜ ë…ë¦½ì ì¸ í†µì‹ í†µë¡œ í• ë‹¹ uts(hostname): ë…ë¦½ì ì¸ hostname í• ë‹¹ user(UID): ë…ë¦½ì ì¸ ì‚¬ìš©ì í• ë‹¹ namespacesë¥¼ ì§€ì›í•˜ëŠ” ë¦¬ëˆ…ìŠ¤ ì»¤ë„ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í†µí•´ ë°”ë¡œ namespaceë¥¼ ë§Œë“¤ì–´ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\n1 $ sudo unshare --fork --pid --mount-proc bash 1 2 3 4 # ps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 1 4.0 0.0 17656 6924 pts/9 S 22:06 0:00 bash root 2 0.0 0.0 30408 1504 pts/9 R+ 22:06 0:00 ps aux PID namespaceì— ì‹¤í–‰í•œ bashê°€ PID 1ë¡œ í• ë‹¹ë˜ì–´ ìˆê³ , ë°”ë¡œ ë‹¤ìŒ ì‹¤í–‰í•œ ps aux ëª…ë ¹ì–´ê°€ PID 2ë¥¼ ë°°ì • ë°›ì•˜ë‹¤.\ncgroups - Control Groups cgrupsëŠ” ìì›(resources)ì— ëŒ€í•œ ì œì–´ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ë¦¬ëˆ…ìŠ¤ ì»¤ë„ ê¸°ëŠ¥ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ìì›ë“¤ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤.\në©”ëª¨ë¦¬ CPU I/O ë„¤íŠ¸ì›Œí¬ device ë…¸ë“œ (/dev/) 1 2 3 // \u0026#34;dhlee\u0026#34; ìœ ì €ê°€ ì†Œìœ í•˜í•˜ë©°, // ë©”ëª¨ë¦¬ë¥¼ ì œì–´í•  ê·¸ë£¹ \u0026#34;testgrp\u0026#34; ìƒì„± $ sudo cgcreate -a dhlee -g memory:testgrp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 $ ls -alh /sys/fs/cgroup/memory/testgrp í•©ê³„ 0 drwxr-xr-x 2 ssut root 0 8ì›” 8 23:19 . dr-xr-xr-x 8 root root 0 7ì›” 7 15:30 .. -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 cgroup.clone_children --w--w--w- 1 ssut root 0 8ì›” 8 23:19 cgroup.event_control -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 cgroup.procs -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.failcnt --w------- 1 ssut root 0 8ì›” 8 23:19 memory.force_empty -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.failcnt -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.limit_in_bytes -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.max_usage_in_bytes -r--r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.slabinfo -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.tcp.failcnt -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.tcp.limit_in_bytes -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.tcp.max_usage_in_bytes -r--r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.tcp.usage_in_bytes -r--r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.kmem.usage_in_bytes -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.limit_in_bytes -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.max_usage_in_bytes -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.move_charge_at_immigrate -r--r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.numa_stat -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.oom_control ---------- 1 ssut root 0 8ì›” 8 23:19 memory.pressure_level -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.soft_limit_in_bytes -r--r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.stat -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.swappiness -r--r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.usage_in_bytes -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 memory.use_hierarchy -rw-r--r-- 1 ssut root 0 8ì›” 8 23:19 notify_on_release -rw-r--r-- 1 root root 0 8ì›” 8 23:19 tasks /sys/fs/cgroup/*/groupname ê²½ë¡œì— ìˆëŠ” íŒŒì¼ì„ í†µí•´ ê·¸ë£¹ì˜ ì—¬ëŸ¬ ì˜µì…˜ë“¤ì„ ë³€ê²½ ê°€ëŠ¥\n1 2 // testgrp ìµœëŒ€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ 2MBë¡œ ì œí•œ $ echo 2000000 \u0026gt; /sys/fs/cgroup/memory/testgrp/memory.kmem.limit_in_bytes ì •ë¦¬ LXC, LibContainer, runC ë“±ì€ ìœ„ì—ì„œ ì„¤ëª…í•œ cgrups, namespacesë¥¼ í‘œì¤€ìœ¼ë¡œ ì •ì˜í•´ë‘” OCI(Open Container Initative) ìŠ¤í™ì„ êµ¬í˜„í•œ ì»¨í…Œì´ë„ˆ ê¸°ìˆ ì˜ êµ¬í˜„ì²´ì´ë‹¤.\nLXCëŠ” ìºë…¸ë‹ˆì»¬(Canonical)ì´ ì§€ì›í•˜ê³  ìˆëŠ” ë¦¬ëˆ…ìŠ¤ ì»¨í…Œì´ë„ˆ í”„ë¡œì íŠ¸ë¡œ Dockerì˜ ê²½ìš° 1.8 ì´ì „ ë²„ì „ê¹Œì§€ LXCë¥¼ ì´ìš©í•´ êµ¬í˜„í•´ì„œ ì‚¬ìš©ë˜ì—ˆë‹¤.\nì´í›„ DockerëŠ” libcontainer â†’ runC(libcontainerì˜ ë¦¬íŒ©í† ë§ êµ¬í˜„ì²´)ë¡œ ìì²´ êµ¬í˜„ì²´ë¥¼ ê°–ê²Œ ë˜ì—ˆë‹¤.\nDocker ë„ì»¤ëŠ” 1.11ë²„ì „ë¶€í„° ìœ„ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ì‘ë™í•œë‹¤.\ncontainerdëŠ” OCI êµ¬í˜„ì²´(ì£¼ë¡œ runC)ë¥¼ ì´ìš©í•´ containerë¥¼ ê´€ë¦¬í•´ì£¼ëŠ” deamonì´ë‹¤.\në„ì»¤ ì—”ì§„ ìì²´ëŠ” ì´ë¯¸ì§€, ë„¤íŠ¸ì›Œí¬, ë””ìŠ¤í¬ ë“±ì˜ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ì—­í• ì„ ìˆ˜í–‰í•˜ë©°, ì—¬ê¸°ì„œ ë„ì»¤ ì—”ì§„ê³¼ containerd ê°ê°ì´ ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´ ë„ì»¤ ì—”ì§„ì„ ì¬ì‹œì‘ í•´ë„, ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nìœ„ì™€ ê°™ì´ ê°ê° ì—­í• ì´ ë¶„ë¦¬ë¨ì— ë”°ë¼ ë„ì»¤ëŠ” 4ê°œì˜ ë…ë¦½ì ì¸ í”„ë¡œì„¸ìŠ¤ë¡œ ì‘ë™í•˜ê³  ìˆë‹¤. (docker, docker-containerd, docker-containerd-shim, docker-runc)\n","date":"2023-04-15T16:30:25+09:00","image":"https://codemario318.github.io/post/docker/0/docker_cover_hue12353db563619e41ee3a11307d3cf25_62602_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/docker/0/","title":"0. ì»¨í…Œì´ë„ˆì™€ ë„ì»¤"},{"content":"MySQL ì„œë²„ëŠ” ì„œë²„ì˜ ìƒíƒœë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆëŠ” ë§ì€ ë„êµ¬ë“¤ì„ ì§€ì›í•˜ì§€ë§Œ ì´ëŸ¬í•œ ê¸°ëŠ¥ì€ ë§ì€ ì§€ì‹ì„ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ë¡œê·¸ íŒŒì¼ì„ í™œìš©í•˜ë©´ MySQL ì„œë²„ì— ëŒ€í•´ ê¹Šì€ ì§€ì‹ì´ ì—†ì–´ë„ ì„œë²„ì˜ ìƒíƒœë‚˜ ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¤ëŠ” ì›ì¸ì„ ì‰½ê²Œ ì°¾ì•„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\nì—ëŸ¬ ë¡œê·¸ íŒŒì¼ MySQLì´ ì‹¤í–‰ë˜ëŠ” ë„ì¤‘ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë‚˜ ê²½ê³  ë©”ì‹œì§€ê°€ ì¶œë ¥ë˜ëŠ” ë¡œê·¸ íŒŒì¼ì´ë‹¤. MySQL ì„¤ì • íŒŒì¼(my.cnf)ì—ì„œ log_errorë¼ëŠ” ì´ë¦„ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì •ì˜ëœ ê²½ë¡œì— ìƒì„±ë˜ëŠ”ë° ì„¤ì • íŒŒì¼ì— ë³„ë„ë¡œ ì •ì˜ë„ì§€ ì•Šì€ ê²½ìš° ë°ì´í„° ë””ë ‰í„°ë¦¬(datadir íŒŒë¼ë¯¸í„°ì— ì„¤ì •ëœ ë””ë ‰í„°ë¦¬)ì— .errë¼ëŠ” í™•ì¥ìê°€ ë¶™ì€ íŒŒì¼ë¡œ ìƒì„±ëœë‹¤.\nMySQLì´ ì‹œì‘í•˜ëŠ” ê³¼ì •ê³¼ ê³¤ë ¨ëœ ì •ë³´ì„± ë° ì—ëŸ¬ ë©”ì‹œì§€ MySQL ì„¤ì • íŒŒì¼ì„ ë³€ê²½í•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ í›„ ë‹¤ì‹œ ì‹œì‘í•˜ëŠ” ê²½ìš°ì—ëŠ” ë°˜ë“œì‹œ MySQL ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì„ í†µí•´ ì„¤ì •ëœ ë³€ìˆ˜ì˜ ì´ë¦„ì´ë‚˜ ê°’ì´ ëª…í™•í•˜ê²Œ ì„¤ì •ë˜ê³  ì˜ë„í•œ ëŒ€ë¡œ ì ìš©ëëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.\nMySQL ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ê¸°ë™í–ˆê³ (mysqld: ready for commections ë©”ì‹œì§€ í™•ì¸), ìƒˆë¡œ ë³€ê²½í•˜ê±°ë‚˜ ì¶”ê°€ëœ íŒŒë¼ë¯¸í„°ì— ëŒ€í•œ ì—ëŸ¬ë‚˜ ê²½ê³ ì„± ë©”ì‹œì§€ê°€ ì—†ë‹¤ë©´ ì •ìƒì ìœ¼ë¡œ ì ìš©ëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ë©´ ëœë‹¤.\në¬´ì‹œ ignore: ì„œë²„ëŠ” ì •ìƒì ìœ¼ë¡œ ê¸°ë™í•˜ì§€ë§Œ í•´ë‹¹ íŒŒë¼ë¯¸í„°ê°€ ì ìš©ì•ˆë¨. ì‹¤íŒ¨: ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  ì‹œì‘í•˜ì§€ ëª»í–ˆë‹¤ëŠ” ë©”ì‹œì§€ê°€ ë…¸ì¶œë¨ ë§ˆì§€ë§‰ìœ¼ë¡œ ì¢…ë£Œí•  ë•Œ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ ê²½ìš° ë‚˜íƒ€ë‚˜ëŠ” íŠ¸ëœì­ì…˜ ë³µêµ¬ ë©”ì‹œì§€ InnoDBì˜ ê²½ìš° MySQL ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëë‹¤ë©´ ë‹¤ì‹œ ì‹œì‘ë˜ë©´ì„œ ì™„ë£Œí•˜ì§€ ëª»í•œ íŠ¸ëœì­ì…˜ì„ ì •ë¦¬í•˜ê³  ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ì§€ ëª»í•œ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ë‹¤ì‹œ ê¸°ë¡í•˜ëŠ”ë°, ì´ ê³¼ì •ì—ì„œ ê°„ë‹¨í•œ ë©”ì‹œì§€ê°€ ì¶œë ¥ëœë‹¤.\në³µêµ¬ê°€ ë¶ˆê°€ëŠ¥í•œ ê²½ìš° í•´ë‹¹ ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  MySQLì€ ë‹¤ì‹œ ì¢…ë£Œë˜ë©°, ì´ ë‹¨ê³„ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œëŠ” í•´ê²°í•˜ê¸° ì–´ë ¤ìš´ ë¬¸ì œì  ì¼ ë•Œê°€ ë§ê³ , innodb_force_recovery íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•˜ì—¬ ì¬ì‹œì‘ í•´ì•¼ í•  ìˆ˜ ìˆë‹¤.\nì¿¼ë¦¬ ì²˜ë¦¬ ë„ì¤‘ì— ë°œìƒí•˜ëŠ” ë¬¸ì œì— ëŒ€í•œ ì—ëŸ¬ ë©”ì‹œì§€ ì¿¼ë¦¬ ë„ì¤‘ ë°œìƒí•˜ëŠ” ë¬¸ì œì ì€ ì‚¬ì „ ì˜ˆë°©ì´ ì–´ë ¤ìš°ë©°, ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì„ ê²€í† í•˜ëŠ” ê³¼ì •ì—ì„œ ì•Œê²Œ ëœë‹¤.\nì¿¼ë¦¬ ì‹¤í–‰ ë„ì¤‘ ë°œìƒí•œ ì—ëŸ¬ë‚˜ ë³µì œì—ì„œ ë¬¸ì œê°€ ë  ë§Œí•œ ì¿¼ë¦¬ì— ëŒ€í•œ ê²½ê³  ë©”ì‹œì§€ê°€ ì—ëŸ¬ ë¡œê·¸ì— ê¸°ë¡ë˜ë¯€ë¡œ ìì£¼ ê²€í† í•˜ëŠ” ê²ƒì´ ìˆ¨ê²¨ì§„ ë¬¸ì œì ì„ í•´ê²°í•˜ëŠ”ë° ë§ì€ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.\në¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ ì»¤ë„¥ì…˜ ë©”ì‹œì§€(Aborted connection) í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì •ìƒì ìœ¼ë¡œ ì ‘ì† ì¢…ë£Œë¥¼ í•˜ì§€ ëª»í•˜ê³  í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œëœ ê²½ìš° MySQL ì„œë²„ì˜ ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì— ì´ëŸ° ë‚´ìš©ì´ ê¸°ë¡ëœë‹¤. (ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë¡œ ì¸í•œ ê²¨ìš° í¬í•¨)\nì´ëŸ° ë©”ì‹œì§€ê°€ ì•„ì£¼ ë§ì´ ê¸°ë¡ëœë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì»¤ë„¥ì…˜ ì¢…ë£Œ ë¡œì§ì„ í•œë²ˆ ê²€í† í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤.\nmax_connect_errors ì‹œìŠ¤í…œ ë³€ìˆ«ê°’ì´ ë„ˆë¬´ ë‚®ê²Œ ì„¤ì •ëœ ê²½ìš° í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ì´ MySQL ì„œë²„ì— ì ‘ì†í•˜ì§€ ëª»í•˜ê³  Host 'host_name' is blockedë¼ëŠ” ì—ëŸ¬ê°€ ë°œìƒ ê°€ëŠ¥í•˜ë©°, ì´ëŸ¬í•œ ê²½ìš°ëŠ” ì—ëŸ¬ê°€ ì–´ë–»ê²Œ ë°œìƒí•˜ê²Œ ëëŠ”ì§€ ì›ì¸ì„ í™•ì¸í•˜ê³ , ë¬¸ì œê°€ ì—†ë‹¤ë©´ í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ê°’ì„ ì¦ê°€ì‹œí‚¤ë©´ í•´ê²°ëœë‹¤.\nInnoDBì˜ ëª¨ë‹ˆí„°ë§ ë˜ëŠ” ìƒíƒœ ì¡°íšŒ ëª…ë ¹ì˜ ê²°ê³¼ ë©”ì‹œì§€ InnoDB í…Œì´ë¸” ëª¨ë‹ˆí„°ë§ì´ë‚˜ ë½ ëª¨ë‹ˆí„°ë§, ë˜ëŠ” ì—”ì§„ ìƒíƒœë¥¼ ì¡°íšŒí•˜ëŠ” ëª…ë ¹ì€ ìƒëŒ€ì ìœ¼ë¡œ í° ë©”ì‹œì§€ë¥¼ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡í•œë‹¤.\nInnoDBì˜ ëª¨ë‹ˆí„°ë§ì„ í™œì„±í™” ìƒíƒœë¡œ ìœ ì§€í•˜ëŠ” ê²½ìš°ì—ëŠ” ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì´ ë§¤ìš° ì»¤ì ¸ì„œ íŒŒì¼ ì‹œìŠ¤í…œì˜ ê³µê°„ì„ ë§ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë‹¤ì‹œ ë¹„í™œì„±í™”í•˜ì—¬ ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì´ ì»¤ì§€ì§€ ì•Šê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\nMySQLì˜ ì¢…ë£Œ ë©”ì‹œì§€ ê°€ë” MySQLì´ ì•„ë¬´ë„ ëª¨ë¥´ê²Œ ì¢…ë£Œë¼ ìˆê±°ë‚˜ ì¬ì‹œì‘ ë˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ëŸ¬í•œ ê²½ìš° ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì—ì„œ MySQLì´ ë§ˆì§€ë§‰ìœ¼ë¡œ ì¢…ë£Œë˜ë©´ì„œ ì¶œë ¥í•œ ë©”ì‹œì§€ë¥¼ í™•ëŠ” ê²ƒì´ ì„œë²„ê°€ ì¢…ë£Œëœ ì´ìœ ë¥¼ í™•ì¸í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì´ë‹¤.\nReceived SHOUTDOWN from user ... ë©”ì‹œì§€: íŠ¹ì • ìœ ì €ê°€ ì¢…ë£Œí•œ ê²½ìš° ì—†ê±°ë‚˜ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤(16ì§„ìˆ˜ ì£¼ì†Œê°’ì´ ì”ëœ© ì¶œë ¥ë˜ëŠ”) ë©”ì‹œì§€: ì„¸ê·¸ë©˜í…Œì´ì…˜ í´íŠ¸ë¡œ ë¹„ì •ìƒ ì¢…ë£Œëœ ê²½ìš° ì„¸ê·¸ë©˜í…Œì´ì…˜ í´íŠ¸ë¡œ ì¢…ë£Œëœ ê²½ìš° ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ë‚´ìš©ì„ ìµœëŒ€í•œ ì°¸ì¡°í•˜ì—¬ MySQLì˜ ë²„ê·¸ì™€ ì—°ê´€ì´ ìˆëŠ”ì§€ ì¡°ì‚¬ í›„ ë²„ì „ì„ ì—…ê·¸ë ˆì´ë“œ í•˜ê±°ë‚˜ íšŒí”¼ì±…(WorkAround)ë¥¼ ì°¾ëŠ”ë‹¤. MySQL \u0026ldquo;The Error Log\u0026quot;ì ˆì„ í™•ì¸í•œë‹¤. ì œë„ˆëŸ´ ì¿¼ë¦¬ ë¡œê·¸ íŒŒì¼ MySQL ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬ ëª©ë¥µì„ ê²€í† í•˜ê³  ì‹¶ë‹¤ë©´, ì¿¼ë¦¬ ë¡œê·¸ë¥¼ í™œì„±í™”í•˜ì—¬ ì‹¤í–‰ ì¿¼ë¦¬ë¥¼ ì¿¼ë¦¬ ë¡œê·¸ íŒŒì¼ë¡œ ê¸°ë¡í•˜ê²Œ í•œ ë‹¤ìŒ, í•´ë‹¹ íŒŒì¼ì„ ê²€í† í•œë‹¤.\nìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ì™€ëŠ” ë‹¤ë¥´ê²Œ ì œë„ˆëŸ´ ë¡œê·¸ëŠ” ì‹¤í–‰ë˜ê¸° ì „ì— MySQLì´ ìš”ì²­ì„ ë°›ìœ¼ë©´ ë°”ë¡œ ê¸°ë¡í•˜ê¸° ë•Œë¬¸ì— ì¿¼ë¦¬ ì‹¤í–‰ ì¤‘ì— ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì¼ë‹¨ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ëœë‹¤.\nì¿¼ë¦¬ ë¡œê·¸ íŒŒì¼ì˜ ê²½ë¡œëŠ” general_log_file íŒŒë¼ë¯¸í„°ì— ì„¤ì •ë˜ìˆìœ¼ë©°, ì¿¼ë¦¬ ë¡œê·¸ë¥¼ íŒŒì¼ì´ ì•„ë‹Œ í…Œì´ë¸”ì— ì €ì¥í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ ê²½ìš°ì—ëŠ” í…Œì´ë¸”ì„ SQLë¡œ ì¡°íšŒí•´ ê²€í† í•´ì•¼ í•œë‹¤.\n1 SHOW GLOBAL VARIABLES LIKE \u0026#39;general_log_file\u0026#39;; ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ ì„œë¹„ìŠ¤ ìš´ì˜ ì¤‘ì— MySQL ì„œë²„ì˜ ì „ì²´ì ì¸ ì„±ëŠ¥ ì €í•˜ë¥¼ ê²€ì‚¬í•˜ê±°ë‚˜ ì •ê¸°ì ì¸ ì ê²€ì„ ìœ„í•œ íŠœë‹ì´ í•„ìš”í•  ë•Œ ì–´ë–¤ ì¿¼ë¦¬ê°€ ë¬¸ì œì¸ì§€ë¥¼ íŒë‹¨í•˜ëŠ”ë° ë§ì€ ë„ì›€ì„ ì¤€ë‹¤.\nlong_query_time: í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •í•œ ì‹œê°„ ì´ìƒì˜ ì‹œê°„ì´ ì†Œìš”ëœ ì¿¼ë¦¬ê°€ ëª¨ë‘ ê¸°ë¡ëœë‹¤. log_output: ìŠ¬ë¡œìš° ì»¤ë¦¬ ë¡œê·¸ë¥¼ íŒŒì¼ ë˜ëŠ” í…Œì´ë¸”ì— ê¸°ë¡í• ì§€ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. TABLE: mysql DBì˜ í…Œì´ë¸”ì— ì œë„ˆëŸ´ë¡œê·¸ë‚˜ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ë¥¼ í…Œì´ë¸”(slow_log, general_log)ì— ì €ì¥í•œë‹¤. FILE: ë¡œê·¸ ë‚´ìš©ì„ ë””ìŠ¤í¬ì˜ íŒŒì¼ë¡œ ì €ì¥í•œë‹¤. ë¡œê·¸ íŒŒì¼ì˜ ë¶„ì„ì´ ì™„ë£Œë˜ë©´ ê·¸ ê²°ê³¼ëŠ” 3ê°œì˜ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì €ì¥ëœë‹¤.\nìŠ¬ë¡œìš° ì¿¼ë¦¬ í†µê³„ ë¶„ì„ ê²°ê³¼ì˜ ìµœìƒë‹¨ì— í‘œì‹œë˜ë©°, ëª¨ë“  ì¿¼ë¦¬ë¥¼ ëŒ€ìƒìœ¼ë¡œ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ì˜ ì‹¤í–‰ ì‹œê°„(Exec time), ì ê¸ˆ ëŒ€ê¸° ì‹œê°„(Lock time) ë“±ì— ëŒ€í•´ í‰ê·  ë° ìµœì†Œ/ìµœëŒ€ ê°’ì„ í‘œì‹œí•œë‹¤.\nì‹¤í–‰ ë¹ˆë„ ë° ëˆ„ì  ì‹¤í–‰ ì‹œê°„ìˆœ ë­í‚¹ ê° ì¿¼ë¦¬ë³„ë¡œ ì‘ë‹µ ì‹œê°„ê³¼ ì‹¤í–‰ íšŸìˆ˜ë¥¼ ë³´ì—¬ì£¼ëŠ”ë°, pt-query-digest ëª…ë ¹ ì‹¤í–‰ ì‹œ --oorder-byì˜µì…˜ìœ¼ë¡œ ì •ë ¬ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\nQuery IDëŠ” ì‹¤í–‰ëœ ì¿¼ë¦¬ ë¬¸ì¥ì„ ì •ê·œí™”(ì¿¼ë¦¬ì— ì‚¬ìš©ëœ ë¦¬í„°ëŸ´ì„ ì œê±°)í•´ì„œ ë§Œë“¤ì–´ì§„ í•´ì‹œ ê°’ì„ ì˜ë¯¸í•˜ëŠ”ë°, ê°™ì€ ëª¨ì–‘ì˜ ì¿¼ë¦¬ë¼ë©´ ë™ì¼í•œ Query IDë¥¼ ê°€ì§€ê²Œ ëœë‹¤.\nì¿¼ë¦¬ë³„ ì‹¤í–‰ íšŸìˆ˜ ë° ëˆ„ì  ì‹¤í–‰ ì‹œê°„ ìƒì„¸ ì •ë³´ Query IDë³„ ì¿¼ë¦¬ë¥¼ ì¿¼ë¦¬ ë­í‚¹ì— í‘œì‹œëœ ìˆœì„œëŒ€ë¡œ ìì„¸í•œ ë‚´ìš©ì„ ë³´ì—¬ì¤€ë‹¤. ë­í‚¹ë³„ ì¿¼ë¦¬ì—ì„œëŠ” ëŒ€ìƒ í…Œì´ë¸”ì— ëŒ€í•´ ì–´ë–¤ ì¿¼ë¦¬ì¸ì§€ë§Œì„ í‘œì‹œí•˜ëŠ”ë°, ì‹¤ì œ ìƒì„¸í•œ ì¿¼ë¦¬ ë‚´ìš©ì€ ê°œë³„ ì¿¼ë¦¬ì˜ ì •ë³´ë¥¼ í™•ì¸í•´ë³´ë©´ ëœë‹¤.\n","date":"2023-04-14T16:31:23+09:00","image":"https://codemario318.github.io/post/real-mysql/4/4/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/4/4/","title":"4.4 MySQL ë¡œê·¸ íŒŒì¼"},{"content":"\ní‚¤ ìºì‹œ í‚¤ ë²„í¼ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” MyISAMì˜ í‚¤ ìºì‹œëŠ” InnoDBì˜ ë²„í¼í’€ê³¼ ë¹„ìŠ·í•œ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. í‚¤ ìºì‹œëŠ” ì¸ë±ìŠ¤ë§Œì„ ëŒ€ìƒìœ¼ë¡œ ì‘ë™í•˜ë©°, ì¸ë±ìŠ¤ì˜ ë””ìŠ¤í¬ ì“°ê¸° ì‘ì—…ì— ëŒ€í•´ì„œë§Œ ë¶€ë¶„ì ìœ¼ë¡œ ë²„í¼ë§ ì—­í• ì„ í•œë‹¤.\ní‚¤ ìºì‹œ íš¨ìœ¨ì„± ìˆ˜ì‹\ní‚¤ ìºì‹œ íˆíŠ¸ìœ¨ = 100 - (Key_reads / Key_read_requests * 100)\nKey_reads: ì¸ë±ìŠ¤ë¥¼ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ë“¤ì¸ íšŸìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ìƒíƒœ ë³€ìˆ˜ Key_read_requests: í‚¤ ìºì‹œë¡œë¶€í„° ì¸ë±ìŠ¤ë¥¼ ì½ì€ íšŸìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ìƒíƒœë³€ìˆ˜ 1 SHOW GLOBAL STATUS LIKE \u0026#39;Key%\u0026#39;; ë©”ë‰´ì–¼ì—ì„œëŠ” í‚¤ ìºì‹œë¥¼ ì´ìš©í•œ ì¿¼ë¦¬ì˜ ë¹„ìœ¨(Hit rate)ì„ 99% ë¡œ ìœ ì§€í•  ê²ƒì„ ê¶Œì¥í•˜ë©°, 99% ë¯¸ë§Œì´ë¼ë©´ í‚¤ ìºì‹œë¥¼ ì¡°ê¸ˆ ë” í¬ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n32ë¹„íŠ¸ ìš´ì˜ì²´ì œì—ì„œëŠ” í•˜ë‚˜ì˜ í‚¤ ìºì‹œì— 4GB ì´ìƒ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì„¤ì •í•  ìˆ˜ ì—†ê³ , 64ë¹„íŠ¸ ìš´ì˜ì²´ì œì—ì„œëŠ” OS_PER_PROCESS_LIMIT ê°’ì— ì„¤ì •ëœ í¬ê¸°ë§Œí¼ì˜ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.\nì œí•œ ê°’ ì´ìƒì˜ í‚¤ ìºì‹œë¥¼ í• ë‹¹í•˜ê³  ì‹¶ë‹¤ë©´ ê¸°ë³¸ í‚¤ ìºì‹œ ì´ì™¸ì— ë³„ë„ ëª…ëª…ëœ í‚¤ ìºì‹œ ê³µê°„ì„ ì„¤ì •í•´ì•¼ í•˜ë©°, ê¸°ë³¸ í‚¤ ìºì‹œ ê³µê°„ì„ ì„¤ì •í•˜ëŠ” íŒŒë¼ë¯¸í„°ëŠ” key_buffer_sizeë‹¤.\n1 2 3 key_buffer_size = 4GB kbuf_board.key_buffer_size = 2GB kbuf_comment.key_buffer_size = 2GB ìœ„ ê°™ì´ ì„¤ì •í•˜ë©´ ê¸°ë³¸ í‚¤ ìºì‹œ 4GBì™€ kbuf_board, kbuf_commentë¼ëŠ” ì´ë¦„ì˜ í‚¤ ìºì‹œê°€ ê°ê° 2GBì”© ìƒì„±ëœë‹¤.\nê¸°ë³¸ í‚¤ ìºì‹œ ì˜ì—­ì™¸ í‚¤ ìºì‹œ ì˜ì—­ì€ ì•„ë¬´ëŸ° ì„¤ì •ì´ ì—†ë‹¤ë©´ í• ë‹¹ë§Œ í•´ë‘ê³  ì‚¬ìš©í•˜ì§€ ì•Šì•„ ì¶”ê°€ëœ í‚¤ ìºì‹œëŠ” ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ìºì‹œí• ì§€ MySQLì— ì•Œë ¤ì•¼ í•œë‹¤.\n1 2 CACHE INDEX db1.board, db2.board IN kbuf_board; CACHE INDEX db1.comment, db2.comment IN kbuf_comment; ìš´ì˜ì²´ì œì˜ ìºì‹œ ë° ë²„í¼ MyISAM í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ëŠ” í‚¤ ìºì‹œë¥¼ ì´ìš©í•´ ë””ìŠ¤í¬ë¥¼ ê²€ìƒ‰í•˜ì§€ ì•Šê³ ë„ ë¹ ë¥´ê²Œ ê²€ìƒ‰ë  ìˆ˜ ìˆìœ¼ë‚˜, ë””ìŠ¤í¬ ë°ì´í„° I/Oë¥¼ ì„±ëŠ¥ì„ ìœ„í•œ ìºì‹œë‚˜ ë²„í¼ë§ ê¸°ëŠ¥ì€ ì—†ë‹¤. ë”°ë¼ì„œ MyISAM í…Œì´ë¸”ì˜ ë°ì´í„° ì½ê¸°ë‚˜ ì“°ê¸° ì‘ì—…ì€ í•­ìƒ ìš´ì˜ì²´ì œì˜ ë””ìŠ¤í¬ ì½ê¸° ë˜ëŠ” ì“°ê¸° ì‘ì—…ìœ¼ë¡œ ìš”ì²­ëœë‹¤.\nìš´ì˜ì²´ì œì˜ ìºì‹œ ê³µê°„ì€ ë‚¨ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¸°ë³¸ ì›ì¹™ì´ì–´ì„œ ë‚¨ëŠ” ê³µê°„ì´ ì—†ë‹¤ë©´ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë°ì´í„° I/Oì— ì‚¬ìš©ë  ë©”ëª¨ë¦¬ë¥¼ í™•ë³´í•  ìˆ˜ ì—†ì–´ ëŠë ¤ì§„ë‹¤.\nMyISAMì´ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” MySQLì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ í‚¤ ìºì‹œëŠ” ìµœëŒ€ ë¬¼ë¦¬ ë©”ëª¨ë¦¬ì˜ 40% ì´ìƒì„ ë„˜ì§€ ì•Šê²Œ ì„¤ì •í•˜ê³ , ë‚˜ë¨¸ì§€ ë©”ëª¨ë¦¬ ê³µê°„ì€ ìš´ì˜ì²´ì œê°€ ìì²´ì ì€ íŒŒì¼ ì‹œìŠ¤í…œì„ ìœ„í•œ ìºì‹œ ê³µê°„ì„ ë§ˆë ¨í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në°ì´í„° íŒŒì¼ê³¼ í”„ë¼ì´ë¨¸ë¦¬ í‚¤(ì¸ë±ìŠ¤) êµ¬ì¡° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•´ì„œ í´ëŸ¬ìŠ¤í„°ë§ë˜ì–´ ì €ì¥ë˜ì§€ë§Œ, MyISAM í…Œì´ë¸”ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•œ í´ëŸ¬ìŠ¤í„°ë§ ì—†ì´ ë°ì´í„° íŒŒì¼ì´ Heap ê³µê°„ì²˜ëŸ¼ í™œìš©ëœë‹¤. (í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ê³¼ ë¬´ê´€í•˜ê²Œ INSERTë˜ëŠ” ìˆœì„œëŒ€ë¡œ ë°ì´í„° íŒŒì¼ì— ì €ì¥ëœë‹¤.)\nMyISAM í…Œì´ë¸”ì— ì €ì¥ë˜ëŠ” ë ˆí¬ë“œëŠ” ëª¨ë‘ ROWIDë¼ëŠ” ë¬¼ë¦¬ì ì¸ ì£¼ì†Œê°’ì„ ê°€ì§€ëŠ”ë°, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì™€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ëª¨ë‘ ë°ì´í„° íŒŒì¼ì— ì €ì¥ëœ ë ˆì½”ë“œì˜ ROWID ê°’ì„ í¬ì¸í„°ë¡œ ê°€ì§„ë‹¤.\nROWIDëŠ” ë‘ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì €ì¥ëœë‹¤.\nê³ ì • ê¸¸ì´ ROWID\nìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì§€ë§Œ MyISAM í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ MAX_ROWS ì˜µì…˜ì„ ì‚¬ìš©í•´ ëª…ì‹œí•˜ë©´ MySQL ì„œë²„ëŠ” ìµ€ëŒ€ë¡œ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë ˆì½”ë“œê°€ í•œì •ëœ í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤. ë ˆì½”ë“œ ê°œìˆ˜ê°€ í•œì •ë˜ë©´ MyISAM í…Œì´ë¸”ì€ ROWIDê°’ìœ¼ë¡œ 4ë°”ì´íŠ¸ ì •ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ INSERTëœ ìˆœë²ˆìœ¼ë¡œ ROWIDë¥¼ ì‚¬ìš©í•œë‹¤.\nê°€ë³€ ê¸¸ì´ ROWID\nMAX_ROWS ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ MyISAM í…Œì´ë¸”ì˜ ROWIDëŠ” ìµœëŒ€ myisam_data_pointer_size ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ë°”ì´íŠ¸ ìˆ˜ ë§Œí¼ì— ê³µê°„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ê°’ì€ 7ì´ë©° ìµœì†Œ 2byte ë¶€í„° 7byte ê¹Œì§€ ê°€ë³€ì ì¸ ROWIDë¥¼ ê°–ê²Œ ëœë‹¤. ì²« ë°”ì´íŠ¸ëŠ” ROWIDì˜ ê¸¸ì´ë¥¼ ì €ì¥í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë˜ê³  ë‚˜ë¨¸ì§€ ê³µê°„ì€ ì‹¤ì œ ROWIDë¥¼ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤. ê°€ë³€ì ì¸ ROWIDë¥¼ ê°€ì§€ë©´ ë°ì´í„° íŒŒì¼ì—ì„œ ë ˆì½”ë“œì˜ ìœ„ì¹˜ê°€ ROWIDë¡œ ì‚¬ìš©ë˜ì–´, ê°€ë³€ ê¸¸ì´ ROWIDì¸ í…Œì´ë¸”ì¼ë•Œ ìµœëŒ€ í¬ê¸° 256TB(2**(8(7-1)))ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\n","date":"2023-04-14T15:52:19+09:00","image":"https://codemario318.github.io/post/real-mysql/4/3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/4/3/","title":"4.3 MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜"},{"content":"Double Write Buffer InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¦¬ë‘ ë¡œê·¸ëŠ” ê³µê°„ ë‚­ë¹„ë¥¼ ë§‰ê¸° ìœ„í•´ í˜ì´ì§€ì˜ ë³€ê²½ëœ ë‚´ìš©ë§Œ ê¸°ë¡í•œë‹¤. ì´ë¡œì¸í•´ ë”í‹° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ íŒŒì¼ë¡œ í”ŒëŸ¬ì‹œí•  ë•Œ ì¼ë¶€ë§Œ ê¸°ë¡ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ê·¸ í˜ì´ì§€ì˜ ë‚´ìš©ì€ ë³µêµ¬í•  ìˆ˜ ì—†ì„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤.\nì´ëŸ° í˜„ìƒì„ íŒŒì…œ í˜ì´ì§€ ë˜ëŠ” í†¤ í˜ì´ì§€ë¼ê³  í•˜ëŠ”ë°, í•˜ë“œì›¨ì–´ì˜ ì˜¤ì‘ë™ì´ë‚˜ ì‹œìŠ¤í…œì˜ ë¹„ì •ìƒ ì¢…ë£Œ ë“±ìœ¼ë¡œ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\níŒŒì…œ í˜ì´ì§€(Partial-Page)\në°ì´í„° ë² ì´ìŠ¤ í˜ì´ì§€ ì¤‘ì—ì„œ ë°ì´í„°ê°€ ì¼ë¶€ë§Œ ì±„ì›Œì§„ í˜ì´ì§€. ë ˆì½”ë“œê°€ í˜ì´ì§€ì˜ í¬ê¸°ë³´ë‹¤ ì‘ì„ ë•Œ ë°œìƒí•˜ë©°, ë ˆì½”ë“œê°€ í˜ì´ì§€ë¥¼ ë²—ì–´ë‚˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ í˜ì´ì§€ì˜ ì¼ë¶€ë§Œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. í†¤ í˜ì´ì§€(Tone-Page)\në””ìŠ¤í¬ì— ê¸°ë¡ ì¤‘ì¸ í˜ì´ì§€ì˜ ê¸°ë¡ ì‘ì—…ì´ ì¤‘ê°„ì— ì¤‘ë‹¨ë˜ì–´ ë°œìƒí•˜ëŠ” ë¬¸ì œ. í˜ì´ì§€ ì¼ë¶€ê°€ ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ì§€ ì•Šì•„ ë°ì´í„° ë¬´ê²°ì„±ì´ ì†ìƒë˜ëŠ” ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë§‰ê¸° ìœ„í•´ Double-Write ê¸°ë²•ì„ í™œìš©í•œë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì‹¤ì œ ë°ì´í„° íŒŒì¼ì— ë³€ê²½ ë‚´ìš©ì„ ê¸°ë¡í•˜ê¸° ì „ì— ê¸°ë¡ë  ë”í‹° í˜ì´ì§€ë“¤ì„ ë¬¶ì–´ ì‹œìŠ¤í…œ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ì˜ DoubleWrite ë²„í¼ì— ê¸°ë¡í•œë‹¤.\në”í‹° í˜ì´ì§€ í”ŒëŸ¬ì‹± ì¤‘ ì˜¤ë¥˜ë“±ìœ¼ë¡œ ì„œë²„ê°€ ì¢…ë£Œë˜ì—ˆë‹¤ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì¬ì‹œì‘ ë  ë•Œ í•­ìƒ Double Write ë²„í¼ì˜ ë‚´ìš©ì„ ë°ì´í„° íŒŒì¼ì˜ í˜ì´ì§€ë¡œ ë³µì‚¬í•˜ê²Œ ëœë‹¤.\nDoubleWrite ê¸°ëŠ¥ì„ ì‚¬ìš©í• ì§€ ì—¬ë¶€ëŠ” Innodb_doublewrite ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì œì–´í•  ìˆ˜ ìˆë‹¤.\nì´ì²˜ëŸ¼ DoubleWrite ë²„í¼ëŠ” ë°ì´í„°ì˜ ì•ˆì •ì„±ì„ ìœ„í•´ ì‚¬ìš©ë˜ëŠ”ë°, HDDì²˜ëŸ¼ ìê¸° ì›íŒì´ íšŒì „í•˜ëŠ” ì €ì¥ ì‹œìŠ¤í…œì—ì„œëŠ” í•œ ë²ˆì˜ ìˆœì°¨ ë””ìŠ¤í¬ ì“°ê¸°ë¥¼ í•˜ëŠ” ê²ƒìœ¼ë¡œ ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•Šì§€ë§Œ SSDì²˜ëŸ¼ ëœë¤ IOì™€ ìˆœì°¨ IOì˜ ë¹„ìš©ì´ ë¹„ìŠ·í•œ ì €ì¥ ì‹œìŠ¤í…œì—ì„œëŠ” ë¶€ë‹´ìŠ¤ëŸ½ë‹¤.\nSSDëŠ” HDDì™€ ë‹¤ë¥´ê²Œ ë‚´ë¶€ì ìœ¼ë¡œ ë¬¼ë¦¬ì ì¸ ì„¹í„° ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì½ê³  ì“°ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ë©”ëª¨ë¦¬ì— ë³µì‚¬ëœ ë‚´ìš©ì´ SSDì˜ ì„¹í„° í¬ê¸°ë³´ë‹¤ ì‘ì€ ê²½ìš°ì—ë„(ìˆœì°¨ ë””ìŠ¤í¬ ì“°ê¸°) ì—¬ëŸ¬ë²ˆ ê¸°ë¡ë˜ì–´ì•¼ í•œë‹¤.\ní•˜ì§€ë§Œ ë°ì´í„°ì˜ ë¬´ê²°ì„±ì´ ë§¤ìš° ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ì—ì„œëŠ” DoubleWriteì˜ í™œì„±í™”ë¥¼ ê³ ë ¤í•˜ëŠ” ê²ƒë„ ì¢‹ë‹¤. ë§Œì•½ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ì„±ëŠ¥ì„ ìœ„í•´ InnoDB ë¦¬ë‘ ë¡œê·¸ ë™ê¸°í™” ì„¤ì •(innodb_flush_log_at_trx_commit ì‹œìŠ¤í…œ ë³€ìˆ˜)ì„ 1ì´ ì•„ë‹Œ ê°’ìœ¼ë¡œ ì„¤ì •í–ˆë‹¤ë©´, DoubleWriteë„ ë¹„í™œì„±í™” í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ninnodb_flush_log_at_trx_commit\n0: ì»¤ë°‹ í›„ ë¡œê·¸ ë²„í¼ë¥¼ ë””ìŠ¤í¬ì— ì¦‰ì‹œ í”ŒëŸ¬ì‹œ í•˜ì§€ ì•Šê³ , ë¡œê·¸ ë²„í¼ê°€ ì¼ì • ìˆ˜ì¤€ ì±„ì›Œì§€ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ê°€ ì¢…ë£Œë  ë•Œ í”ŒëŸ¬ì‹œí•œë‹¤. ë°ì´í„° ì¼ê´€ì„±ì´ ë³´ì¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. 1(default): ì»·ë°‹ í›„ ë¡œê·¸ ë²„í¼ë¥¼ ë””ìŠ¤í¬ì— ì¦‰ì‹œ í”ŒëŸ¬ì‹œí•œë‹¤. ë°ì´í„° ì¼ê´€ì„±ì€ ë³´ì¥í•˜ì§€ë§Œ ë””ìŠ¤í¬ IOê°€ ë¶€í•˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤. 2: ì»¤ë°‹ í›„ ë¡œê·¸ ë²„í¼ë¥¼ ë””ìŠ¤í¬ì— ì¦‰ì‹œ í”ŒëŸ¬ì‹œ í•˜ì§€ ì•Šê³ , ë¡œê·¸ë¥¼ ë³„ë„ íŒŒì¼ì— ì“´ í›„ íŒŒì¼ì„ ì£¼ê¸°ì ìœ¼ë¡œ í”ŒëŸ¬ì‹œ í•œë‹¤. 0ê³¼ 1ì˜ ì¤‘ê°„ ì •ë„ë¡œ ë°ì´í„° ì¼ê´€ì„±ê³¼ ë””ìŠ¤í¬ IO ë¶€í•˜ ê°ì†Œë¥¼ ê· í˜•ìˆê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤. ì–¸ë‘ ë¡œê·¸ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ íŠ¸ëœì­ì…˜ê³¼ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ DMLë¡œ ë³€ê²½ë˜ê¸° ì´ì „ ë²„ì „ì˜ ë°ì´í„°ë¥¼ ë³„ë„ë¡œ ë°±ì—…í•œë‹¤. ì´ë ‡ê²Œ ë°±ì—…ëœ ë°ì´í„°ë¥¼ ì–¸ë‘ ë¡œê·¸(Undo Log)ë¼ê³  í•œë‹¤.\níŠ¸ëœì­ì…˜ ë³´ì¥\níŠ¸ëœì­ì…˜ì´ ë¡¤ë°±ë˜ë©´ íŠ¸ëœì­ì…˜ ë„ì¤‘ ë³€ê²½ëœ ë°ì´í„°ë¥¼ ë³€ê²½ ì „ ë°ì´í„°ë¡œ ë³µêµ¬í•´ì•¼ í•˜ëŠ”ë°, ì´ë•Œ ì–¸ë‘ ë¡œê·¸ì— ë°±ì—…í•´ë‘” ì´ì „ ë²„ì „ì˜ ë°ì´í„°ë¥¼ ì´ìš©í•´ ë³µêµ¬í•œë‹¤. ê²©ë¦¬ ìˆ˜ì¤€ ë³´ì¥\níŠ¹ì • ì»¤ë„¥ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ë„ì¤‘ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì— ë§ê²Œ ë³€ê²½ì¤‘ì¸ ë ˆì½”ë“œë¥¼ ì½ì§€ ì•Šê³  ì–¸ë‘ ë¡œê·¸ì— ë°±ì—…í•´ë‘” ë°ì´í„°ë¥¼ ì½ì–´ì„œ ë°˜í™˜í•˜ê¸°ë„ í•œë‹¤. ì–¸ë‘ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ì–¸ë‘ ë¡œê·¸ë¡œ ì¸í•´ ì—¬ëŸ¬ê°€ì§€ ì„±ëŠ¥ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•˜ë‹¤.\nëŒ€ìš©ëŸ‰ ì²˜ë¦¬ íŠ¸ëœì­ì…˜\n1ì–µ ê±´ì˜ ë ˆì½”ë“œê°€ ì €ì¥ëœ 100GB í¬ê¸°ì˜ í…Œì´ë¸”ì„ DELETEë¡œ ì‚­ì œí•œë‹¤ê³  ê°€ì •í–ˆì„ë•Œ, ì–¸ë‘ ë¡œê·¸ì— ì‚­ì œì „ ê°’ì„ ì €ì¥í•´ì•¼ í•˜ë¯€ë¡œ ì–¸ë‘ ë¡œê·¸ ê³µê°„ì€ 100GBê°€ ëœë‹¤.\nì¥ì‹œê°„ í™œì„±í™”ëœ íŠ¸ëœì­ì…˜\níŠ¸ëœì­ì…˜ì´ ì™„ë£Œëë‹¤ê³  í•´ì„œ í•´ë‹¹ íŠ¸ëœì­ì…˜ì´ ìƒì„±í•œ ì–¸ë‘ ë¡œê·¸ë¥¼ ì¦‰ì‹œ ì‚­ì œí• ìˆ˜ ì—†ì„ ìˆ˜ ìˆë‹¤. ë¨¼ì € ì‹œì‘ëœ íŠ¸ëœì­ì…˜ë³´ë‹¤ ì´í›„ ë°œìƒí•œ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œëœ ê²½ìš°, ë¨¼ì € ì‹œì‘ëœ ì™„ë£Œëœ íŠ¸ëœì ì…˜ì´ ì™„ë£Œë˜ê¸° ì „ ê¹Œì§€ ì–¸ë‘ ë¡œê·¸ëŠ” ì‚­ì œë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŸ¬í•œ ê²½ìš° ì–¸ë‘ ë¡œê·¸ì˜ ì´ë ¥ì„ í•„ìš”í•œ ë§Œí¼ ìŠ¤ìº”í•´ì•¼ë§Œ í•„ìš”í•œ ë ˆì½”ë“œë¥¼ ì°¾ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì´ ì „ë°˜ì ìœ¼ë¡œ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 /* MySQL ëª¨ë“  ë²„ì „ */ SHOW ENGING INNODB STATUS \\G /* MySQL 8.0 */ SELECT count FROM information_schema.innodb_metrics WHERE SUBSYSTEM=\u0026#39;transaction\u0026#39; AND NAME=\u0026#39;trx_rseg_history_len\u0026#39; ; MySQL ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” INSERT, UPDATE, DELETE ë¬¸ì¥ì´ ì–¼ë§ˆë‚˜ ë§ì€ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠëƒì— ë”°ë¼ í‰ìƒì‹œ ì–¸ë‘ ë¡œê·¸ ê±´ìˆ˜ëŠ” ìƒì´í•  ìˆ˜ ìˆì–´, ì•ˆì •ì ì¸ ì‹œì ì˜ ì–¸ë‘ ë¡œê·¸ ê±´ìˆ˜ë¥¼ í™•ì¸í•˜ê³  ì´ë¥¼ ê¸°ì¤‘ìœ¼ë¡œ ì–¸ë‘ ë¡œê·¸ì˜ ê¸‰ì¦ ì—¬ë¶€ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nMySQL ì„œë²„ì—ì„œ INSERT ë¬¸ì¥ìœ¼ë¡œ ì¸í•œ ì–¸ë‘ ë¡œê·¸ì™€ UPDATE, DELETE ë¬¸ì¥ìœ¼ë¡œ ì¸í•œ ì–¸ë‘ ë¡œê·¸ëŠ” ë³„ë„ë¡œ ê´€ë¦¬ëœë‹¤. UPDATE, DELETE ë¬¸ì¥ìœ¼ë¡œ ì¸í•œ ì–¸ë‘ ë¡œê·¸ëŠ” MVCCì™€ ë°ì´í„° ë³µêµ¬(ë¡¤ë°± ë“±)ì— ëª¨ë‘ ì‚¬ìš©ë˜ì§€ë§Œ, INSERT ë¬¸ì¥ìœ¼ë¡œ ì¸í•œ ì–¸ë‘ ë¡œê·¸ëŠ” ë¡¤ë°±, ë°ì´í„° ë³µêµ¬ë§Œì„ ìœ„í•´ ì‚¬ìš©ëœë‹¤.\nì–¸ë‘ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ ì–¸ë‘ ë¡œê·¸ê°€ ì €ì¥ë˜ëŠ” ê³µê°„ì„ ì–¸ë‘ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤(Undo Tablespace)ë¼ê³  í•œë‹¤.\nMySQL 5.6 ì´ì „ ë²„ì „ì—ì„œëŠ” ì–¸ë‘ ë¡œê·¸ê°€ ëª¨ë‘ ì‹œìŠ¤í…œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤(ibdata.idb)ì— ì €ì¥ë˜ì—ˆì—ˆì§€ë§Œ, ì‹œìŠ¤í…œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì˜ ì–¸ë‘ ë¡œê·¸ëŠ” MySQLì„œë²„ê°€ ì´ˆê¸°í™”ë  ë•Œ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— í™•ì¥ì˜ í•œê³„ê°€ ìˆì—ˆë‹¤. ì´ì— ë”°ë¼ 5.6 ë²„ì „ì—ì„œëŠ” innodb_undo_tablespaces ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ë„ì…ë˜ì–´ ë³„ë„ ë¡œê·¸ íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , 8.0ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ë©´ì„œ ì–¸ë‘ ë¡œê·¸ëŠ” í•­ìƒ ì‹œìŠ¤í…œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì™¸ë¶€ì˜ ë³„ë„ ë¡œê·¸ íŒŒì¼ì—ë§Œ ê¸°ë¡ë˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.\ní•˜ë‚˜ì˜ ì–¸ë‘ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ëŠ” 1~128ê°œì˜ ë¡¤ë°± ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°€ì§€ë©°, ë¡¤ë°± ì„¸í¬ë¨¼íŠ¸ëŠ” 1ê°œ ì´ìƒì˜ ì–¸ë‘ ìŠ¬ë¡¯(Undo Slot)ì„ ê°€ì§„ë‹¤.\nìµœëŒ€ ë™ì‹œ ì²˜ë¦¬ ê°€ëŠ¥í•œ íŠ¸ëœì­ì…˜ì˜ ê°œìˆ˜ëŠ” ë‹¤ìŒ ìˆ˜ì‹ìœ¼ë¡œ ì˜ˆì¸¡í•  ìˆ˜ ìˆë‹¤.\n(InnDB í˜ì´ì§€ í¬ê¸°) / 16 * (ë¡¤ë°± ì„¸ê·¸ë¨¼íŠ¸ ê°œìˆ˜) * (ì–¸ë‘ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ ìˆ˜)\nInnoDB ê¸°ë³¸ ì„¤ì •(innodb_undo_tablespace=2, innodb_rollback_segments=128)ì„ ì‚¬ìš©í•œë‹¤ë©´ 131,072ê°œ ì •ë„ì˜ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ì²˜ë¦¬ ê°€ëŠ¥í•´ì§„ë‹¤. ì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ì—ì„œ ì´ ì •ë„ê¹Œì§€ ë™ì‹œ íŠ¸ëœì­ì…˜ì´ í•„ìš”í•˜ì§„ ì•Šê² ì§€ë§Œ ê¸°ë³¸ê°’ìœ¼ë¡œ í•´ì„œ í¬ê²Œ ë¬¸ì œë  ê±´ ì—†ë‹¤.\nì–¸ë‘ ë¡œê·¸ ìŠ¬ë¡¯ì´ ë¶€ì¡±í•œ ê²½ìš°ì—ëŠ” íŠ¸ë˜ì­ì…˜ì„ ì‹œì‘í•  ìˆ˜ ì—†ëŠ” ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì ì ˆíˆ ì •í•´ì•¼ í•œë‹¤.\nMySQL 8.0 ë¶€í„° CREATE UNDO TABLESPACEë‚˜ DROP TABLESPACEê°™ì€ ëª…ë ¹ìœ¼ë¡œ ìƒˆë¡œìš´ ì–¸ë‘ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ ì¶”ê°€í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\nì–¸ë‘ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ê³µê°„ì„ í•„ìš”í•œ ë§Œí¼ë§Œ ë‚¨ê¸°ê³  ë¶ˆí•„ìš”í•˜ê±°ë‚˜ ê³¼ë„í•˜ê²Œ í• ë‹¹ëœ ê³µê°„ì„ ìš´ì˜ì²´ì œë¡œ ë°˜ë‚©í•˜ëŠ” ê²ƒì„ \u0026lsquo;Undo tablespace truncate\u0026rsquo;ë¼ê³  í•˜ë©° ìë™, ìˆ˜ë™ ë‘ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.\nì²´ì¸ì§€ ë²„í¼ RDBMSì—ì„œ ë ˆì½”ë“œê°€ ì¶”ê°€, ë³€ê²½ë  ë•Œ ë°ì´í„° íŒŒì¼ì„ ë³€ê²½í•˜ëŠ” ì‘ì—…ë¿ ì•„ë‹ˆë¼ í•´ë‹¹ í…Œì´ë¸”ì— í¬í•¨ëœ ì¸ë±ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ë„ í•„ìš”í•˜ë‹¤. ì¸ë±ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ì€ ëœë¤í•˜ê²Œ ë””ìŠ¤í¬ë¥¼ ì½ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë¯€ë¡œ í…Œì´ë¸”ì— ì¸ë±ìŠ¤ê°€ ë§ë‹¤ë©´ ìƒë‹¹íˆ ë§ì€ ìì›ì„ ì†Œëª¨í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ InnoDBëŠ” ë³€ê²½í•´ì•¼ í•  ì¸ë±ìŠ¤ í˜ì´ì§€ê°€ ë²„í¼í’€ì— ìˆìœ¼ë©´ ë°”ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šê³  ë””ìŠ¤í¬ë¡œë¶€í„° ì½ì–´ì™€ì„œ ì—…ë°ì´íŠ¸í•´ì•¼ í•œë‹¤ë©´ ì´ë¥¼ ì¦‰ì‹œ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì„ì‹œ ê³µê°„ì— ì €ì¥í•´ ë‘ê³  ë°”ë¡œ ì‚¬ìš©ìì—ê²Œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” í˜•íƒœë¡œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê²Œ ë˜ëŠ”ë°, ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ì„ì‹œ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì²´ì¸ì§€ ë²„í¼(Change Buffer)ë¼ê³  í•œë‹¤.\nì‚¬ìš©ìì—ê²Œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì¤‘ë³µ ì—¬ë¶€ë¥¼ ì²´í¬í•´ì•¼ í•˜ëŠ” ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ëŠ” ì²´ì¸ì§€ ë²„í¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\nì²´ì¸ì§€ ë²„í¼ì— ì„ì‹œë¡œ ì €ì¥ëœ ì¸ë±ìŠ¤ ë ˆì½”ë“œ ì¡°ê°ì€ ì´í›„ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì— ì˜í•´ ë³‘í•©ë˜ëŠ”ë°, ì´ ìŠ¤ë ˆë“œë¥¼ ì²´ì¸ì§€ ë²„í¼ ë¨¸ì§€ ìŠ¤ë ˆë“œë¼ê³  í•œë‹¤.\nMySQL 5.5 ì´ì „ ë²„ì „ê¹Œì§€ëŠ” INSERT ì‘ì—…ì— ëŒ€í•´ì„œë§Œ ì´ëŸ¬í•œ ë²„í¼ë§ì´ ê°€ëŠ¥í–ˆëŠ”ë°, ì´í›„ ì¡°ê¸ˆì”© ê°œì„ ë˜ë©° INSERT, UPDATE, DELETEë¡œ ì¸í•´ í‚¤ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ì‘ì—…ì— ëŒ€í•´ì„œë„ ë²„í¼ë§ì´ ë  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\në˜í•œ innodb_change_bufferingì´ë¼ëŠ” ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ìƒˆë¡œ ë„ì…ë˜ì–´ ì‘ì—…ì˜ ì¢…ë¥˜ë³„ë¡œ ì²´ì¸ì§€ ë²„í¼ë¥¼ í™œì„±í™”í•  ìˆ˜ ìˆìœ¼ë©°, ì²´ì¸ì§€ ë²„í¼ê°€ ë¹„íš¨ì¼ì ì¼ ë•ŒëŠ” ì²´ì¸ì§€ ë²„í¼ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ì„¤ì •í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\nall: ëª¨ë“  ì¸ë±ìŠ¤ ê´€ë ¨ ì‘ì—…ì„ ë²„í¼ë§(inserts + deletes + purges) none: ë²„í¼ë§ ì•ˆí•¨ inserts: ì¸ë±ìŠ¤ì— ìƒˆë¡œìš´ ì•„ì´í…œì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ë§Œ ë²„í¼ë§ deletes: ì¸ë±ìŠ¤ì—ì„œ ê¸°ì¡´ ì•„ì´í…œì„ ì‚­ì œí•˜ëŠ” ì‘ì—…(ì‚­ì œëë‹¤ëŠ” ë§ˆí‚¹ ì‘ì—…)ë§Œ ë²„í¼ë§ changes: ì¸ë±ìŠ¤ì— ì¶”ê°€í•˜ê³  ì‚­ì œí•˜ëŠ” ì‘ì—…ë§Œ(inserts + deletes) ë²„í¼ë§ purges: ì¸ë±ìŠ¤ ì•„ì´í…œì„ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ì‘ì—…ë§Œ ë²„í¼ë§(ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…) ì²´ì¸ì§€ ë²„í¼ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ InnoDB ë²„í¼í’€ë¡œ ì„¤ì •ëœ ë©”ëª¨ë¦¬ ê³µê°„ì˜ 25%ê¹Œì§€ í™œìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì •ë¼ìˆìœ¼ë©°, í•„ìš”í•˜ë‹¤ë©´ 50%ê¹Œì§€ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. innodb_change_buffer_max_size ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ë¹„ìœ¨ì„ ì¡°ì •í•˜ì—¬ ë°”ê¿€ ìˆ˜ ìˆë‹¤.\në¦¬ë‘ ë¡œê·¸ ë° ë¡œê·¸ ë²„í¼ ë¦¬ë‘ ë¡œê·¸ëŠ” íŠ¸ëœì­ì…˜ì˜ 4ê°€ì§€ ìš”ì†Œì¸ ACID ì¤‘ì—ì„œ D(Durable)ì— í•´ë‹¹í•˜ëŠ” ì˜ì†ì„±ê³¼ ê°€ì¥ ë°€ì í•˜ê²Œ ì—°ê´€ë¼ ìˆë‹¤. ë¦¬ë‘ ë¡œê·¸ëŠ” í•˜ë“œì›¨ì–´ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ ë“± ë¬¸ì œë¡œ ì¸í•´ MySQL ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëì„ ë•Œ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ëª»í•œ ë°ì´í„°ë¥¼ ìƒì§€ ì•Šê²Œ í•´ì£¼ëŠ” ì•ˆì „ì¥ì¹˜ì´ë‹¤.\nëŒ€ë¶€ë¶„ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ëŠ” ë°ì´í„° ë³€ê²½ ë‚´ìš©ì„ ë¡œê·¸ë¡œ ë¨¼ì € ê¸°ë¡í•œë‹¤. ëŒ€ë¶€ë¶„ DBMSì—ì„œ ë°ì´í„° íŒŒì¼ì€ ì“°ê¸°ë³´ë‹¤ ì½ê¸° ì„±ëŠ¥ì„ ê³ ë ¤í•œ ìë£Œ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë°ì´í„° íŒŒì¼ ì“°ê¸°ëŠ” ë””ìŠ¤í¬ì˜ ëœë¤ ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•˜ì—¬ ìƒëŒ€ì ìœ¼ë¡œ í° ë¹„ìš©ì´ í•„ìš”í•˜ë‹¤.\nì´ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ë¥¼ ë§‰ê¸° ìœ„í•´ ì“°ê¸° ë¹„ìš©ì´ ë‚®ì€ ìë£Œêµ¬ì¡°ì¸ ë¦¬ë‘ ë¡œê·¸ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ë¹„ì •ìƒ ì¢…ë£Œê°€ ë°œìƒí•˜ë©´ ë¦¬ë‘ ë¡œê·¸ì˜ ë‚´ìš©ì„ ì´ìš©í•´ ë°ì´í„° íŒŒì¼ì„ ë‹¤ì‹œ ì„œë²„ê°€ ì¢…ë£Œë˜ê¸° ì§ì „ ìƒíƒœë¡œ ë³µêµ¬í•œë‹¤.\në˜í•œ ì„±ëŠ¥ì„ ìœ„í•´ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë²„í¼ë§ í•  ìˆ˜ ìˆëŠ” InnoDB ë²„í¼í’€ì´ë‚˜, ë¦¬ë‘ ë¡œê·¸ë¥¼ ë²„í¼ë§í•  ìˆ˜ ìˆëŠ” ë¡œê·¸ ë²„í¼ì™€ ê°™ì€ ìë£Œ êµ¬ì¡°ë„ ê°€ì§€ê³  ìˆë‹¤.\nMySQL ì„œë²„ê°€ ë¹„ì •ìƒìœ¼ë¡œ ì¢…ë£Œë˜ëŠ” ê²½ìš° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë°ì´í„° íŒŒì¼ì€ ë‘ ê°€ì§€ ì¼ê´€ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\nì»¤ë°‹ëì§€ë§Œ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ì•Šì€ ë°ì´í„° ë¡¤ë°±ëì§€ë§Œ ë°ì´í„° íŒŒì¼ì— ì´ë¯¸ ê¸°ë¡ëœ ë°ì´í„° ë¦¬ë‘ë¡œê·¸ë¥¼ í™œìš©í•˜ì—¬ ë³€ê²½ì´ ì»¤ë°‹, ë¡¤ë°±, íŠ¸ëœì­ì…˜ì˜ ì‹¤í–‰ ì¤‘ê°„ ìƒíƒœì˜€ëŠ”ì§€ í™•ì¸í•˜ê³ , ì ì ˆíˆ ì²˜ë¦¬í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ë¦¬ë‘ ë¡œê·¸ëŠ” íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë˜ë©´ ì¦‰ì‹œ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ë„ë¡ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. ê·¸ë˜ì•¼ë§Œ ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆì„ë•Œ ì§ì „ê¹Œì§€ì˜ íŠ¸ëœì­ì…˜ ì»¤ë°‹ ë‚´ìš©ì´ ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡ë  ìˆ˜ ìˆê³ , ê·¸ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì´ìš©í•´ ì¥ì•  ì§ì „ ì‹œì ê¹Œì§€ ë³µêµ¬ê°€ ê°€ëŠ¥í•´ì§„ë‹¤.\ní•˜ì§€ë§Œ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œë§ˆë‹¤ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ë©´ ë¶€í•˜ê°€ ìƒê¸¸ ìˆ˜ ìˆì–´, InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì–´ëŠ ì£¼ê¸°ë¡œ ë””ìŠ¤í¬ì— ë™ê¸°í™”í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” innodb_flush_log_trx_commit ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì œê³µí•œë‹¤.\n0: 1ì´ˆì— í•œ ë²ˆì”© ë¦¬ë‘ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ê³  ë™ê¸°í™”ë¥¼ ì‹¤í–‰í•œë‹¤. ì„œë²„ê°€ ë¹„ì •ìƒ ì¢…ë£Œë˜ë©´ ìµœëŒ€ 1ì´ˆ ë™ì•ˆì˜ íŠ¸ëœì­ì…˜ì€ ì»¤ë°‹ëë”ë¼ë„ ë°ì´í„°ëŠ” ì‚¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤. 1: ë§¤ë²ˆ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œë§ˆë‹¤ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ê³  ë™ê¸°í™”ê¹Œì§€ ìˆ˜í–‰í•œë‹¤. 2: íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œë§ˆë‹¤ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ì€ ë˜ì§€ë§Œ ì‹¤ì§ˆì ì¸ ë™ê¸°í™”ëŠ” 1ì´ˆì— í•œë²ˆì”© ì‹¤í–‰ëœë‹¤. ì»¤ë°‹ì´ ë˜ë©´ ë³€ê²½ ë‚´ìš©ì´ ìš´ì˜ì²´ì œì˜ ë©”ëª¨ë¦¬ ë²„í¼ë¡œ ê¸°ë¡¤ë˜ëŠ” ê²ƒì´ ë³´ì¥ë˜ê¸° ë•Œë¬¸ì— MySQL ì„œë²„ê°€ ë¹„ì •ìƒ ì¢…ë£Œë˜ë”ë¼ë„ íŠ¸ëœì­ì…˜ ë°ì´í„°ëŠ” ì‚¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤. ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ë“¤ì˜ ì „ì²´ í¬ê¸°ëŠ” ë²„ë²„í’€ì˜ íš¨ìœ¨ì„±ì„ ê²°ì •í•˜ê¸° ë•Œë¬¸ì— ì‹ ì¤‘íˆ ê²°ì •í•´ì•¼í•œë‹¤. ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°ëŠ” innodb_log_file_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ê²°ì •í•˜ë©°, innodb_log_files_in_group ì‹œìŠ¤í…œ ë¼Œìˆ˜ëŠ” ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ ê°œìˆ˜ë¥¼ ê²°ì •í•œë‹¤.\në¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ ì „ì²´ í¬ê¸°ë¥¼ ë²„í¼í’€ì˜ í¬ê¸°ì— ë§ê²Œ ì„¤ì •í•´ì•¼ ì ì ˆíˆ ë³€ê²½ëœ ë‚´ìš©ì„ ë²„í¼í’€ì— ëª¨ì•„ í•œë²ˆì— ë””ìŠ¤í¬ì— ê¸°ë¡í•  ìˆ˜ ìˆë‹¤.\nACIDëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íŠ¸ëœì­ì…˜ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ê¼­ í•„ìš”í•œ 4ê°€ì§€ ìš”ì†Œ(ê¸°ëŠ¥)ì„ ì˜ë¯¸í•œë‹¤.\nA(Atomic): íŠ¸ëœì­ì…˜ì€ ì›ìì„± ì‘ì—…ì´ì–´ì•¼ í•¨. C(Consistent): ì¼ê´€ì„± I(Isolated): ê²©ë¦¬ì„± D(Durable): ì˜ì†ì„±. í•œ ë²ˆ ì €ì¥ëœ ë°ì´í„°ëŠ” ì§€ì†ì ìœ¼ë¡œ ìœ ì§€ë˜ì–´ì•¼ í•¨. ë¦¬ë‘ ë¡œê·¸ ì•„ì¹´ì´ë¹™ MySQL 8.0ë¶€í„° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì•„ì¹´ì´ë¹™ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ëë‹¤.\në°±ì—… íˆ´ì´ ë¦¬ë‘ ë¡œê·¸ ì•„ì¹´ì´ë¹™ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € MySQL ì„œë²„ì—ì„œ ì•„ì¹´ì´ë¹™ëœ ë¦¬ë‘ ë¡œê·¸ê°€ ì €ì¥ë  ë””ë ‰í„°ë¦¬ë¥¼ innodb_redo_log_archive_dirs ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •í•´ì•¼ í•˜ë©°, ë””ë ‰í„°ë¦¬ëŠ” ìš´ì˜ì²´ì œì˜ MySQL ì„œë²„ë¥¼ ì‹¤í–‰í•˜ëŠ” ìœ ì €ë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\n1 2 3 4 mkdir /var/log/mysql_redo_archive cd /var/log/mysql_redo_archive mkdir 20230413 chmod 700 20230413 1 SET GLOBAL innodb_redo_log_archive_dirs=\u0026#39;backup:/var/log/mysql_redo_archive\u0026#39;; ë””ë ‰í„°ë¦¬ê°€ ì¤€ë¹„ë˜ë©´ ë¦¬ë‘ ë¡œê·¸ ì•„ì¹´ì´ë¹™ì„ ì‹œì‘í•˜ë„ë¡ innodb_redo_log_archive_start UDF(ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜)ë¥¼ ì‹¤í–‰í•œë‹¤. í•´ë‹¹ UDFëŠ” ë¦¬ë‘ ë¡œê·¸ë¥¼ ì•„ì¹´ì´ë¹™í•  ë””ë ‰í„°ë¦¬ì— ëŒ€í•œ ë ˆì´ë¸”ê³¼ ì„ íƒì ìœ¼ë¡œ ì„œë¸Œ ë””ë ‰í„°ë¦¬ ì´ë¦„ ì´ ë‘ê°€ì§€ì˜ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤.\n1 DO innodb_redo_log_archive_start(\u0026#39;backup\u0026#39;, \u0026#39;20230413\u0026#39;); ë¦¬ë‘ ì•„ì¹´ì´ë¹™ì„ ì¢…ë£Œí•  ë•ŒëŠ” innodb_redo_log_archive_stop UDFë¥¼ ì‹¤í–‰í•œë‹¤.\n1 DO innodb_redo_log_archive_stop(); innodb_redo_log_archive_start UDFë¥¼ ì‹¤í–‰í•œ ì„¸ì…˜ì˜ ì—°ê²°ì´ ëŠì–´ì§€ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë¦¬ë‘ ë¡œê·¸ ì•„ì¹´ì´ë¹™ì„ ë©ˆì¶”ê³  ì•„ì¹´ì´ë¹™ íŒŒì¼ë„ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ë¯€ë¡œ ì»¤ë„¥ì…˜ì„ ìœ ì§€í•´ì•¼ í•˜ê³ , innodb_redo_log_archive_stop UDFë¥¼ í˜¸ì¶œí•˜ì—¬ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë¼ì•¼ í•œë‹¤.\në¦¬ë‘ ë¡œê·¸ í™œì„±í™” ë° ë¹„í™œì„±í™” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¦¬ë‘ ë¡œê·¸ëŠ” MySQL ì„œë²„ê°€ ë¹„ì •ìƒ ì¢…ë£Œëì„ë•Œ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ëª»í•œ íŠ¸ëœì­ì…˜ì„ ë³µêµ¬í•˜ê¸° ìœ„í•´ í•­ìƒ í™œì„±í™”ë˜ì–´ìˆë‹¤. MySQL ì„œë²„ì—ì„œ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë¼ë„ ë°ì´í„° íŒŒì¼ì€ ì¦‰ì‹œ ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”ë˜ì§€ ì•ŠëŠ” ë°˜ë©´, ë¦¬ë‘ ë¡œê·¸ëŠ” í•­ìƒ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ëœë‹¤.\nMySQL 8.0 ë²„ì „ë¶€í„° ìˆ˜ë™ìœ¼ë¡œ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë¹„í™œì„±í™” í•  ìˆ˜ ìˆì–´, ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ í•œë²ˆì— ì ì¬í•˜ëŠ” ê²½ìš° ì‚¬ìš©í•˜ì—¬ ì ì¬ ì‹œê°„ì„ ë‹¨ì¶•í•  ìˆ˜ ìˆë‹¤.\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì‚¬ìš©ìê°€ ìì£¼ ìš”ì²­í•˜ëŠ” ë°ì´í„°ì— ëŒ€í•´ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ì¸ë±ìŠ¤ë¡œ, innodb_adaptive_hash_index ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ í™œì„±í™”, ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ëŒ€í‘œì ì¸ ì¸ë±ìŠ¤ëŠ” B-Treeë¡œ ë°ì´í„°ëŠ” PK ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ê´€ë¦¬ë˜ê³ , Secondary KeyëŠ” ì¸ë±ìŠ¤í‚¤ + PK ì¡°í•©ìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆë‹¤. íŠ¹ì • ë°ì´í„°ë¥¼ ì°¾ê¸° ìœ„í•´ Secondary Keyì—ì„œ PKë¥¼ ì°¾ê³ , ì°¾ì€ PKë¥¼ í†µí•´ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì°¾ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬ëœë‹¤.\nPK ì‚¬ìš©ì‹œ ë°ì´í„°ì— ì ‘ê·¼ë˜ëŠ” ë¹„ìš©ì€ O(logN)ì´ê³ , Secondary Keyë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ì— ì ‘ê·¼ì€ PKì— ëŒ€í•œ ì ‘ê·¼ë„ í•„ìš”í•˜ë¯€ë¡œ 2 * O(logN)ì´ë‹¤.\në”°ë¼ì„œ B-Tree ìë£Œêµ¬ì¡° íŠ¹ì„±ìœ¼ë¡œ ë°ì´í„°ê°€ ë§ì•„ì§„ë‹¤ í•˜ë”ë¼ë„ íƒìƒ‰ ë¹„ìš©ì´ í¬ê²Œ ì¦ê°€í•˜ì§€ ì•Šì§€ë§Œ, ë™ì‹œì— ë§ì€ ìŠ¤ë ˆë“œì—ì„œ íƒìƒ‰ ì‘ì—…ì´ ë°œìƒí•  ê²½ìš° Lock ë“±ìœ¼ë¡œ ì¸í•´ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” B-Treeì˜ ê²€ìƒ‰ ì‹œê°„ì„ ì¤„ì—¬ì£¼ê¸° ìœ„í•´ ë„ì…ëœ ê¸°ëŠ¥ìœ¼ë¡œ, ìì£¼ ì½íˆëŠ” ë°ì´í„° í˜ì´ì§€ì˜ í‚¤ ê°’ì„ ì´ìš©í•´ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ë§Œë“¤ê³ , í•„ìš”í•  ë•Œë§ˆë‹¤ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ê²€ìƒ‰í•´ì„œ ë ˆì½”ë“œê°€ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ë¥¼ ì¦‰ì‹œ ì°¾ì•„ê°ˆ ìˆ˜ ìˆë‹¤.\nêµ¬ì¡° í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ì¸ë±ìŠ¤ í‚¤ ê°’ê³¼ í•´ë‹¹ ì¸ë±ìŠ¤ í‚¤ ê°’ì´ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ ì£¼ì†Œì˜ ìŒìœ¼ë¡œ ê´€ë¦¬ëœë‹¤.\nì¸ë±ìŠ¤ í‚¤ ê°’:\nB-Tree ì¸ë±ìŠ¤ì˜ ê³ ìœ ë²ˆí˜¸ + B-Tree ì¸ë±ìŠ¤ì˜ ì‹¤ì œ í‚¤ ê°’ ì¸ë±ìŠ¤ì˜ ê³ ìœ ë²ˆí˜¸ê°€ í¬í•¨ë˜ëŠ” ì´ìœ ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë°ì´í„° í˜ì´ì§€ ì£¼ì†Œ:\nì‹¤ì œ í‚¤ ê°’ì´ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œ, ë²„í¼í’€ì— ë¡œë”©ëœ í˜ì´ì§€ì˜ ì£¼ì†Œë¥¼ ì˜ë¯¸ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ë²„í¼í’€ì— ì˜¬ë ¤ì§„ ë°ì´í„° í˜ì´ì§€ì— ëŒ€í•´ì„œë§Œ ê´¸ë¦¬ë˜ê³ , ë²„í¼í’€ì—ì„œ í•´ë‹¹ ë°ì´í„° í˜ì´ì§€ê°€ ì—†ì–´ì§€ë©´ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì—ì„œë„ í•´ë‹¹ í˜ì´ì§€ì˜ ì •ë³´ëŠ” ì‚¬ë¼ì§„ë‹¤.\nì„±ëŠ¥ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ í™œì„±í™” í›„ ì²˜ë¦¬ëŸ‰ì€ 2ë°° ê°€ê¹Œì´ ëŠ˜ì—ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  CPU ì‚¬ìš©ëŸ‰ì€ ì˜¤íˆë ¤ ë–¨ì–´ì§„ë‹¤.\nInnoDB ë‚´ë¶€ì ê¸ˆ(ì„¸ë§ˆí¬ì–´)ì˜ íšŸìˆ˜ë„ íšê¸°ì ìœ¼ë¡œ ì¤„ì–´ë“ ë‹¤.\nì¶”ê°€ë¡œ MySQL 8.0 ë¶€í„°ëŠ” ë‚´ë¶€ ì ê¸ˆì„ ì¤„ì´ê¸° ìœ„í•´ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ íŒŒí‹°ì…˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©° innodb_adaptive_hash_index_parts ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ íŒŒí‹°ì…˜ ê°œìˆ˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤(ê¸°ë³¸ê°’ 8ê°œ).\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ê°€ ì„±ëŠ¥ì— ë§ì€ ë„ìŒì´ ëœë‹¤ë©´ íŒŒí‹°ì…˜ ê°œìˆ˜ë¥¼ ë” ë§ì´ ì„¤ì •í•˜ëŠ” ê²ƒë„ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.\ní•œê³„ ìƒí™©ì— ë”°ë¼ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ê°€ ì„±ëŠ¥ í–¥ìƒì— í¬ê²Œ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ê²½ìš°ë„ ìˆë‹¤.\nì„±ëŠ¥ í–¥ìƒì— ë„ì›€ì´ ë˜ëŠ” ê²½ìš° ë””ìŠ¤í¬ì˜ ë°ì´í„°ê°€ InnoDB ë²„í¼í’€ í¬ê¸°ì™€ ë¹„ìŠ·í•œ ê²½ìš°(ë””ìŠ¤í¬ ì½ê¸°ê°€ ë§ì§€ ì•Šì€ ê²½ìš°) ë™ë“± ì¡°ê±´ ê²€ìƒ‰(ë™ë“± ë¹„êµ ë° IN ì—°ì‚°)ì´ ë§ì€ ê²½ìš° ì¿¼ë¦¬ê°€ ì¼ë¶€ ë°ì´í„°ì—ë§Œ ì§‘ì¤‘ ë˜ëŠ” ê²½ìš° ì„±ëŠ¥ í–¥ìƒì— í¬ê²Œ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ê²½ìš° ë””ìŠ¤í¬ ì½ê¸°ê°€ ë§ì€ ê²½ìš° íŠ¹ì • íŒ¨í„´ì˜ ì¿¼ë¦¬ê°€ ë§ì€ ê²½ìš°(JOIN, LIKE íŒ¨í„´ ê²€ìƒ‰) ë§¤ìš° í° ë°ì´í„°ë¥¼ ê°€ì§„ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ í­ë„“ê²Œ ì½ëŠ” ê²½ìš° ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ë°ì´í„° í˜ì´ì§€ë¥¼ ë©”ëª¨ë¦¬(ë²„í¼í’€) ë‚´ì—ì„œ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë” ë¹ ë¥´ê²Œ ë§Œë“œëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ë°ì´í„° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ì˜¤ëŠ” ê²½ìš°ê°€ ë§ì€ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œëŠ” í° ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ ë˜í•œ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©°, ë•Œë¡œëŠ” ìƒë‹¹íˆ í° ë©”ëª¨ë¦¬ ê³µê°„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°ì´í„° í˜ì´ì§€ì˜ ì¸ë±ìŠ¤ í‚¤ê°€ í•´ì‹œ ì¸ë±ìŠ¤ë¡œ ë§Œë“¤ì–´ì ¸ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ê²½ìš° ì œê±°ë˜ì–´ì•¼ í•œë‹¤. í™œì„±í™”ë˜ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ í•„ìˆ˜ì ìœ¼ë¡œ ê²€ìƒ‰ì— í™œìš©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ì ‘ê·¼ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì£¼ì˜í•  ì  í…Œì´ë¸” ì‚­ì œ(DROP), ë³€ê²½(ALTER)ì‹œ í•´ë‹¹ í…Œì´ë¸”ì´ ê°€ì§„ ëª¨ë“  ë°ì´í„° í˜ì´ì§€ì˜ ë‚´ìš©ì„ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì—ì„œ ì œê±°í•´ì•¼í•œë‹¤. ì´ë¡œ ì¸í•´ í…Œì´ë¸”ì´ ì‚­ì œë˜ê±°ë‚˜ ìŠ¤í‚¤ë§ˆê°€ ë³€ê²½ë˜ëŠ” ë™ì•ˆ ìƒë‹¹íˆ ë§ì€ CPU ìì›ì„ ì‚¬ìš©í•˜ê²Œë˜ì–´ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤.\nëª¨ë‹ˆí„°ë§ MySQL ì„œë²„ì˜ ìƒíƒœ ê°’ë“¤ì„ í†µí•´ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ê°€ ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œë§Œ ë§Œë“¤ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 SHOW ENGINE INNODB STATUS\\G /* Hash table size 8747, node heap has 1 buffers(s) Hash table size 8747, node heap has 0 buffers(s) ... 1.03 hash searches/s, 2.64 non-hash searches/s /* searches: ì¿¼ë¦¬ê°€ ì²˜ë¦¬ë˜ê¸° ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ í‚¤ ê°’ì˜ ê²€ìƒ‰ì´ ëª‡ ë²ˆ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ì˜ë¯¸í•¨\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ íš¨ìœ¨ì€ ê²€ìƒ‰ íšŸìˆ˜ê°€ ì•„ë‹ˆë¼ í•´ì‹œ ì¸ë±ìŠ¤ íˆíŠ¸ìœ¨ê³¼ ì¸ë±ìŠ¤ê°€ ì‚¬ìš© ì¤‘ì¸ ë©”ëª¨ë¦¬ ê³µê°„, ì„œë²„ì˜ CPU ì‚¬ìš©ëŸ‰ì„ ì¢…í•©í•´ì„œ íŒë‹¨í•´ì•¼ í•œë‹¤.\nìœ„ ì‹¤í–‰ ì¿¼ë¦¬ ê²°ê³¼ì—ì„œëŠ” 28% ì •ë„ê°€ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆëŠ”ë°, ì„œë²„ì˜ CPU ì‚¬ìš©ëŸ‰ì´ 100%ì— ê·¼ì ‘í•œë‹¤ë©´ íš¨ìœ¨ì ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ CPU ì‚¬ìš©ëŸ‰ì´ ë‚®ê³  ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë†’ë‹¤ë©´ ë¹„í™œì„±í™”í•˜ì—¬ ë²„í¼í’€ì´ ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ìœ ë„í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ë‹¤.\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ performance_schemaë¥¼ ì´ìš©í•´ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 SELECT EVENT_NAME ,CURRENT_NUMBER_OF_BYTES_USED FROM performance_schema.memory_summary_global_by_event_name WHERE EVENT_NAME=\u0026#39;memory/innodb/adaptive hash index\u0026#39; ; MyISAM, MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë¹„êµ MyISAM MySQL 5.5ë¶€í„°ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì±„íƒ ë˜ì—ˆì§€ë§Œ, ì´ì „ê¹Œì§€ëŠ” MyISAMì´ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤.\nMySQL ì„œë²„ì˜ ì‹œìŠ¤í…œ í…Œì´ë¸”ì˜ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ MySQL 8.0 ë¶€í„°ëŠ” MyISAMì´ ê¸°ë³¸ ì„¤ì •ë˜ì—ˆë˜ ì„œë²„ì˜ ì‹œìŠ¤í…œ í…Œì´ë¸”(ì‚¬ìš©ì ì¸ì¦ ê´€ë ¨ ì •ë³´, ë³µì œ ê´€ë ¨ ì •ë³´ê°€ ì €ì¥ëœ mysql DBì˜ í…Œì´ë¸”) ë“± ì„œë²„ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ êµì²´ë˜ì—ˆë‹¤. ì „ë¬¸ ê²€ìƒ‰ ë° ê³µê°„ ì¢Œí‘œ ê²€ìƒ‰ ê¸°ëŠ¥ ì œê³µ. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œë„ ì „ë¬¸ ê²€ìƒ‰ê³¼ ê³µê°„ ì¢Œí‘œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ëª¨ë‘ ì§€ì›í•˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ëŒ€ì²´ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.\nMEMORY MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë©”ëª¨ë¦¬ë¼ëŠ” ì´ë¦„ ë•Œë¬¸ì— ê³¼ëŒ€ í‰ê°€ë¥¼ ë°›ëŠ” ê²½ìš°ê°€ ìˆë‹¤.\në‹¨ì¼ ìŠ¤ë ˆë“œ ì²˜ë¦¬ ì„±ëŠ¥ ë‹¨ì¼ ìŠ¤ë ˆë“œ ì²˜ë¦¬ ì„±ëŠ¥ì€ MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë¹ ë¥¼ ìˆ˜ ìˆìœ¼ë‚˜, MySQL ì„œë²„ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ìœ„í•œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤. MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë™ì‹œì— ë§ì€ í´ë¼ì´ì–¸íŠ¸ ì¿¼ë¦¬ ìš”ì²­ì´ ì‹¤í–‰ë˜ëŠ” ìƒí™©ì´ë¼ë©´ í…Œì´ë¸” ìˆ˜ì¤€ì˜ ì ê¸ˆìœ¼ë¡œ ì¸í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ë”°ë¼ê°ˆ ìˆ˜ ì—†ë‹¤.\nì„ì‹œ í…Œì´ë¸” ìš©ë„ë¡œ í™œìš© MySQL 5.7 ë²„ì „ê¹Œì§€ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸” ìš©ë„ë¡œ í™œìš©ë˜ì—ˆìœ¼ë‚˜, ê°€ë³€ ê¸¸ì´ íƒ€ì…ì˜ ì»¬ëŸ¼ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë¬¸ì œì ìœ¼ë¡œ MySQL 8.0 ë¶€í„°ëŠ” TempTable ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ëŒ€ì²´ë˜ì–´ ì‚¬ìš©ëœë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì„ íƒí•´ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ì¥ì ì´ ì—†ì–´ì ¸, í–¥í›„ ë²„ì „ì—ì„œëŠ” ì œê±°ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.\n","date":"2023-04-13T12:39:01+09:00","image":"https://codemario318.github.io/post/real-mysql/4_2_3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/4_2_3/","title":"4.2 InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜(3)"},{"content":"ë²„í¼í’€ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ í•µì‹¬ìœ¼ë¡œ ë””ìŠ¤í¬ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ ë©”ëª¨ë¦¬ì— ë³´ê´€í•˜ê³ , í•„ìš”í•  ë•Œ ë©”ëª¨ë¦¬ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì™€ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ë˜í•œ ë””ìŠ¤í¬ì™€ ë©”ëª¨ë¦¬ ì‚¬ì´ì—ì„œ ë°ì´í„° ì½ê¸° ë° ì“°ê¸°ë¥¼ ê´€ë¦¬í•˜ì—¬ ë°ì´í„° ë² ì´ìŠ¤ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤.\në””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ì´ë‚˜ ì¸ë±ìŠ¤ ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•´ ë‘ëŠ” ê³µê°„ì´ë‹¤. ì“°ê¸° ì‘ì—…ì„ ì§€ì—°ì‹œì¼œ ì¼ê´„ ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë²„í¼ ì—­í• ë„ ìˆ˜í–‰í•œë‹¤. ì¼ë°˜ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” INSERT, UPDATE, DELETEì²˜ëŸ¼ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì¿¼ë¦¬ëŠ” ë°ì´í„° íŒŒì¼ì˜ í©ì–´ì ¸ìˆëŠ” ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— ëœë¤í•œ ë””ìŠ¤í¬ ì‘ì—…ì„ ë°œìƒì‹œí‚¨ë‹¤. ë³€ê²½ì„ ëª¨ì•„ ì²˜ë¦¬í•˜ì—¬ ëœë¤ ë””ìŠ¤í¬ ì ‘ê·¼ ì‘ì—… ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\në²„í¼í’€ì˜ í¬ê¸° ì„¤ì • ìš´ì˜ì²´ì œì™€ ê° í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œê°€ ì‚¬ìš©í•  ë©”ëª¨ë¦¬ë„ ì¶©ë¶„íˆ ê³ ë ¤í•˜ì—¬ ì„¤ì •í•œë‹¤. MySQL ì„œë²„ ë‚´ì—ì„œ ë©”ëª¨ë¦¬ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ë¶€ë¶„ì€ í¬ê²Œ ì—†ì§€ë§Œ ì•„ì£¼ ë…íŠ¹í•œ ê²½ìš° ë ˆì½”ë“œ ë²„í¼ê°€ ìƒë‹¹í•œ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.\në ˆì½”ë“œë²„í¼\nê° í´ë¼ì´ì–¸íŠ¸ ì„¸ì…˜ì—ì„œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ê³  ì“¸ ë•Œ ë²„í¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê³µê°„ìœ¼ë¡œ ì»¤ë„¥ì…˜ì´ ë§ê³  ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ë„ ë§ë‹¤ë©´ ë ˆì½”ë“œ ë²„í¼ ìš©ë„ë¡œ ì‚¬ìš©ë˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì´ ë§ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.\nMySQL ì„œë²„ê°€ ì‚¬ìš©í•˜ëŠ” ë ˆì½”ë“œ ë²„í¼ ê³µê°„ì€ ë³„ë„ë¡œ ì„¤ì •í•  ìˆ˜ ì—†ì–´, ì „ì²´ ì»¤ë„¥ì…˜ ê°œìˆ˜ì™€ ê° ì»¤ë„¥ì…˜ì—ì„œ ì½ê³  ì“°ëŠ” í…Œì´ë¸”ì˜ ê°œìˆ˜ì— ë”°ë¼ ê²°ì •ë˜ê³ , ë™ì ìœ¼ë¡œ í•´ì œë˜ê¸°ë„ í•˜ë¯€ë¡œ ì •í™•íˆ í•„ìš”í•œ ë©”ëª¨ë¦¬ì˜ í¬ê¸°ë¥¼ ê³„ì‚°í•  ìˆ˜ ì—†ë‹¤.\në²„í¼í’€ ë™ì  í¬ê¸° ì¡°ì ˆ MySQL 5.7 ë²„ì „ë¶€í„° InnoDB ë²„í¼í’€ì˜ í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ì¡°ì ˆí•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì–´ ê°€ëŠ¥í•˜ë©´ InnoDB ë²„í¼í’€ì˜ í¬ê¸°ë¥¼ ì ì ˆíˆ ì‘ì€ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ê³  ìƒí™©ì„ ë´ê°€ë©° ì¦ê°€ì‹œí‚¤ëŠ” ë°©ë²•ì´ ìµœì ì´ë‹¤.\ninnodb_buffer_pool_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ í¬ê¸°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©°, ë™ì ìœ¼ë¡œ ë²„í¼í’€ì˜ í¬ê¸°ë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤.\ní¬ë¦¬í‹°ì»¬í•œ ë³€ê²½ì´ë¯€ë¡œ ê°€ëŠ¥í•˜ë©° MySQL ì„œë²„ê°€ í•œê°€í•œ ì‹œì ì„ ê³¨ë¼ ì‹¤í–‰í•œë‹¤. ë²„í¼í’€ì˜ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ì‘ì—…ì€ ì„œë¹„ìŠ¤ ì˜í–¥ë„ê°€ ë§¤ìš° í¬ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤. ë²„í¼í’€ì€ ë‚´ë¶€ì ìœ¼ë¡œ 128MB ì²­í¬ ë‹¨ìœ„ë¡œ ìª¼ê°œì–´ ê´€ë¦¬ë˜ì–´ ì¡°ì ˆëœë‹¤. ë²„í¼í’€ ë‚˜ëˆ„ê¸° InnoDB ë²„í¼í’€ì€ ì •í†µì ìœ¼ë¡œ ë²„í¼í’€ ì „ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ì ê¸ˆ(ì„¸ë§ˆí¬ì–´)ìœ¼ë¡œ ì¸í•´ ë‚´ë¶€ ì ê¸ˆ ê²½í•©ì„ ë§ì´ ìœ ë°œí•´ì™”ëŠ”ë°, ì´ëŸ° ê²½í•¨ì„ ì¤„ì´ê¸° ìœ„í•´ ë²„í¼í’€ì„ ì—¬ëŸ¬ê°œë¡œ ìª¼ê°œì–´ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\në²„í¼í’€ì´ ì—¬ëŸ¬ ê°œì˜ ì‘ì€ ë²„í¼í’€ë¡œ ìª¼ê°œì§€ë©´ì„œ ê°œë³„ ë²„í¼í’€ì„ ê´€ë¦¬í•˜ëŠ” ì ê¸ˆ ìì²´ë„ ê²½í•©ì´ ë¶„ì‚°ë˜ëŠ” íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆê²Œ ëœë‹¤.\ninnodb_buffer_pool_instances ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ë²„í¼í’€ì„ ì—¬ëŸ¬ê°œë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.\në²„í¼í’€ êµ¬ì¡° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼í’€ì´ë¼ëŠ” ê±°ëŒ€í•œ ë©”ëª¨ë¦¬ ê³µê°„ì„ í˜ì´ì§€ í¬ê¸°(innodb_page_size ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ)ì˜ ì¡°ê°ìœ¼ë¡œ ìª¼ê°œì–´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë°ì´í„°ë¥¼ í•„ìš”ë¡œ í•  ë•Œ í•´ë‹¹ ë°ì´í„° í˜ì´ì§€ë¥¼ ì½ì–´ì„œ ê° ì¡°ê°ì— ì €ì¥í•œë‹¤.\në²„í¼í’€ì˜ í˜ì´ì§€ ì¡°ê°ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ LRU(least Recently Used) ë¦¬ìŠ¤íŠ¸ì™€, í”ŒëŸ¬ì‹œ(Flush) ë¦¬ìŠ¤íŠ¸, í”„ë¦¬(Free) ë¦¬ìŠ¤íŠ¸ë¼ëŠ” 3ê°œì˜ ìë£Œ êµ¬ì¡°ë¥¼ ê´€ë¦¬í•œë‹¤.\nLRU ë¦¬ìŠ¤íŠ¸: ë””ìŠ¤í¬ë¡œë¶€í„° ì½ì–´ì˜¨ í˜ì´ì§€ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°. ì½ì–´ì˜¨ í˜ì´ì§€ë¥¼ ìµœëŒ€í•œ ì˜¤ë«ë™ì•ˆ ë²„í¼í’€ì˜ ë©”ëª¨ë¦¬ì— ìœ ì§€í•˜ì—¬ ë””ìŠ¤í¬ ì½ê¸°ë¥¼ ìµœì†Œí™” í•œë‹¤.\ní”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸: ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ê°€ì§„ ë°ì´í„° í˜ì´ì§€(ë”í‹° í˜ì´ì§€)ì˜ ë³€ê²½ ì‹œì  ê¸°ì¤€ì˜ í˜ì´ì§€ ëª©ë¡ì„ ê´€ë¦¬í•œë‹¤.\ní”„ë¦¬ë¦¬ìŠ¤íŠ¸: ë²„í¼í’€ì—ì„œ ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„°ë¡œ ì±„ì›Œì§€ì§€ ì•Šì€ ë¹„ì–´ìˆëŠ” í˜ì´ì§€ë“¤ì˜ ëª©ë¡. ì‚¬ìš©ìì˜ ì¿¼ë¦¬ê°€ ìƒˆë¡œë²¡ ë””ìŠ¤í¬ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ì½ì–´ì™€ì•¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©ëœë‹¤.\nLRU ë¦¬ìŠ¤íŠ¸ êµ¬ì¡° LRU ë¦¬ìŠ¤íŠ¸ëŠ”, Old ì„œë¸Œë¦¬ìŠ¤íŠ¸ ì˜ì—­ì€ LRU, New ì„œë¸Œë¦¬ìŠ¤íŠ¸ ì˜ì—­ì€ MRU(Most Recently Used)ê°€ í•©ì³ì§„ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.\nNew ì„œë¸Œë¦¬ìŠ¤íŠ¸ì˜ Tailê³¼ Old ì„œë¸Œë¦¬ìŠ¤íŠ¸ì˜ Headê°€ ë§Œë‚˜ëŠ” ì§€ì ì„ MidPointë¼ í•˜ë©° ë²„í¼í’€ì— ìƒˆë¡œìš´ í˜ì´ì§€ê°€ ë“¤ì–´ì˜¬ ê²½ìš° Old ì„œë¸Œë¦¬ìŠ¤íŠ¸ì˜ Head ë¶€ë¶„ì— ì €ì¥í•œë‹¤.\nNew ì„œë¸Œë¦¬ìŠ¤íŠ¸ì™€ Old ì„œë¸Œë¦¬ìŠ¤íŠ¸ë¡œ ë‚˜ëˆˆ ì´ìœ ëŠ”?\ní•˜ë‚˜ì˜ íë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë¥¼ ê´€ë¦¬í•  ê²½ìš°ì— Head ë˜ëŠ” Tailì— í˜ì´ì§€ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì„ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤. Headì— ì €ì¥ë  ê²½ìš° ìƒˆë¡œ ê´€ë¦¬ë˜ëŠ” í˜ì´ì§€ê°€ ì‚¬ìš©ë˜ì§€ ì•Šë”ë¼ë„ ì˜¤ëœ ì‹œê°„ë™ì•ˆ ë¦¬ìŠ¤íŠ¸ì— ë‚¨ì•„ ìˆê²Œë˜ê³ , Tailì— ì €ì¥ë ê²½ìš° í•´ë‹¹ í˜ì´ì§€ë¥¼ ì¦‰ì‹œ ì½ì§€ ì•ŠëŠ”ë‹¤ë©´ ë¦¬ìŠ¤íŠ¸ì— ë‚¨ì•„ìˆì§€ ì•Šê²Œ ë˜ì–´ ì˜ë¯¸ê°€ ì—†ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ë¥¼ ìœ„í•´ ë‘ê°œì˜ ì„œë¸Œë¦¬ìŠ¤íŠ¸ë¡œ ë‚˜ëˆ„ê³ , ê²½í—˜ì ìœ¼ë¡œ ì–»ì€ 5/8 ì§€ì ì„ í™œìš©í•œ ì¤‘ê°„ì  ì‚½ì… ì „ëµì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ë‹¤.\në°ì´í„°ë¥¼ ì°¾ëŠ” ê³¼ì • í•„ìš”í•œ ë ˆì½”ë“œê°€ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ê°€ ë²„í¼í’€ì— ìˆëŠ”ì§€ ê²€ì‚¬\nInnoDB ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ í˜ì´ì§€ë¥¼ ê²€ìƒ‰ í•´ë‹¹ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤(B-Tree)ë¥¼ ì´ìš©í•´ ë²„í¼í’€ì—ì„œ í˜ì´ì§€ë¥¼ ê²€ìƒ‰ ë²„í¼í’€ì— ì´ë¯¸ ë°ì´í„° í˜ì´ì§€ê°€ ìˆë‹¤ë©´ í•´ë‹¹ í˜ì´ì§€ì˜ í¬ì¸í„°ë¥¼ MRU ë°©í–¥ìœ¼ë¡œ ìŠ¹ê¸‰ ë””ìŠ¤í¬ì—ì„œ í•„ìš”í•œ ë°ì´í„° í˜ì´ì§€ë¥¼ ë²„í¼í’€ì— ì ì¬í•˜ê³ , ì ì¬ëœ í˜ì´ì§€ì— ëŒ€í•œ í¬ì¸í„°ë¥¼ LRU í—¤ë” ë¶€ë¶„ì— ì¶”ê°€\në²„í¼í’€ì˜ LRU í—¤ë”ì— ì ì¬ëœ ë°ì´í„° í˜ì´ì§€ê°€ ì‹¤ì œë¡œ ì½íˆë©´ MRU í—¤ë” ë¶€ë¶„ìœ¼ë¡œ ì´ë™(Read Aheadì™€ ê°™ì´ ëŒ€ëŸ‰ ì½ê¸°ì˜ ê²½ìš° ë””ìŠ¤í¬ í˜ì´ì§€ê°€ ë²„í¼í’€ë¡œ ì ì¬ëŠ” ë˜ì§€ë§Œ ì‹¤ì œ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì„ìˆ˜ë„ ìˆìœ¼ë©°, ì´ë ¨ ê²½ìš°ëŠ” MRUë¡œ ì´ë™ë˜ì§€ ì•ŠìŒ)\në²„í¼í’€ì— ìƒì£¼í•˜ëŠ” ë°ì´í„° í˜ì´ì§€ëŠ” ì‚¬ìš©ì ì¿¼ë¦¬ê°€ ì–¼ë§ˆë‚˜ ìµœê·¼ì— ì ‘ê·¼í–ˆì—ˆëŠ”ì§€ì— ë”°ë¼ ë‚˜ì´ê°€ ë¶€ì—¬ë˜ë©°, ë²„í¼í’€ì— ìƒì£¼í•˜ëŠ” ë™ì•ˆ ì¿¼ë¦¬ì—ì„œ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ì˜¤ë˜ëœ í˜ì´ì§€ëŠ” ë²„í¼í’€ì—ì„œ ì œê±°ë¨. ë²„í¼í’€ì˜ í˜ì´ì§€ê°€ ì¿¼ë¦¬ì— ì˜í•´ ì‚¬ìš©ë˜ë©´ ë‚˜ì´ê°€ ì´ˆê¸°íšŒë˜ê³  MRUí—¤ë” ë¶€ë¶„ìœ¼ë¡œ ì˜®ê²¨ì§„ë‹¤.\ní•„ìš”í•œ ë°ì´í„°ê°€ ìì£¼ ì ‘ê·¼ëë‹¤ë©´ í•´ë‹¹ í˜ì´ì§€ì˜ ì¸ë±ìŠ¤ í‚¤ë¥¼ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì— ì¶”ê°€\nì²˜ìŒ í•œë²ˆ ì½íŒ ë°ì´í„° í˜ì´ì§€ê°€ ì´í›„ ìì£¼ ì‚¬ìš©ëœë‹¤ë©´ ë²„í¼í’€ì˜ MRU ì˜ì—­ì—ì„œ ì‚´ì•„ë‚¨ê²Œ ë˜ê³ , ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ìƒˆë¡­ê²Œ ì½íˆëŠ” ë°ì´í„° í˜ì´ì§€ì— ë°€ë ¤ ê²°ê³¼ì ìœ¼ë¡œ ë²„í¼í’€ì—ì„œ ì œê±°ëœë‹¤.\në²„í¼í’€ê³¼ ë¦¬ë‘ ë¡œê·¸ ë²„í¼í’€ì€ ë°ì´í„° ë² ì´ìŠ¤ ì„œë²„ì˜ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ ë°ì´í„° ìºì‹œì™€ ì“°ê¸° ë²„í¼ë§ì´ë¼ëŠ” ë‘ê°€ì§€ ìš©ë„ê°€ ìˆë‹¤. ë”°ë¼ì„œ ë©”ëª¨ë¦¬ê°€ í—ˆìš©í•˜ëŠ” ë§Œí¼ í¬ê²Œ ì„¤ì •í•˜ë©´ ë°ì´í„° ìºì‹œ ê³µê°„ì„ í‚¤ì›Œ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ ë†’í ìˆ˜ ìˆì§€ë§Œ, ì“°ê¸° ë²„í¼ë§ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ì„œëŠ” ë²„í¼í’€ê³¼ ë¦¬ë‘ ë¡œê·¸ì˜ ê´€ê³„ì— ëŒ€í•´ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\në¦¬ë‘ ë¡œê·¸(Redo Log)ë€? ë¦¬ë‘ ë¡œê·¸ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ëª¨ë“  ë³€ê²½ ë‚´ìš©ì„ ê¸°ë¡í•˜ëŠ” íŒŒì¼ì…‹ì´ë‹¤. ì‹œìŠ¤í…œ ì¥ì• ë‚˜ ì¶©ëŒì´ ë°œìƒí–ˆì„ ë•Œ ë°ì´í„°ì˜ ë‚´êµ¬ì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì— ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´, ë¨¼ì € ì„ ë¡œê¹…(write-ahead logging)í”„ë¡œì„¸ìŠ¤ë¡œ ë¦¬ë‘ ë¡œê·¸ì— ì“°ì—¬ì§€ê³  ë³€ê²½ ë‚´ìš©ì´ ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡ë˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©ëœë‹¤.\në¦¬ë‘ ë¡œê·¸ íŒŒì¼ì€ ì¼ë°˜ì ìœ¼ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ë˜ë©°, MySQLì€ ë³€ê²½ ì‚¬í•­ì„ ìˆœì°¨ì ìœ¼ë¡œ ê¸°ë¡í•œë‹¤. ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì´ ê°€ë“ ì°¨ë©´ MySQLì€ \u0026ldquo;ì²´í¬í¬ì¸íŠ¸(checkpoint)\u0026ldquo;ë¥¼ ìˆ˜í–‰í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  ë”í‹° í˜ì´ì§€(ë²„í¼í’€ì—ì„œ ìˆ˜ì •ëœ í˜ì´ì§€)ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•œ í›„, ë¡œê·¸ íŒŒì¼ì„ ì˜ë¼ë‚´ì–´ ê³µê°„ì„ í™•ë³´í•˜ê²Œ ëœë‹¤.\nMySQLì—ì„œ ë¦¬ë‘ ë¡œê·¸ëŠ” ì›í˜• ë²„í¼ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ë©°, ì±„ì›Œì§€ë©´ ë‹¤ìŒ ë³€ê²½ ì‚¬í•­ì€ ìˆœí™˜ ë°©ì‹ìœ¼ë¡œ ë‹¤ìŒ ì‚¬ìš© ê°€ëŠ¥í•œ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ëœë‹¤. ì´ë¥¼ í†µí•´ ë¦¬ë‘ ë¡œê·¸ì— ë³€ê²½ ì‚¬í•­ì´ ì§€ì†ì ìœ¼ë¡œ ê¸°ë¡ë˜ì–´ ì‹œìŠ¤í…œ ì¶©ëŒì´ë‚˜ ì¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ ë³€ê²½ ì‚¬í•­ì„ ì†ì‹¤í•˜ì§€ ì•Šë„ë¡ ë³´ì¥í•œë‹¤.\në²„í¼í’€ê³¼ ë¦¬ë‘ ë¡œê·¸ì˜ ê´€ê³„ ë²„í¼í’€ì€ ë””ìŠ¤í¬ì—ì„œ ì½ì€ ìƒíƒœë¡œ ì „í˜€ ë³€ê²½ë˜ì§€ ì•Šì€ í´ë¦° í˜ì´ì§€(Clean Page)ì™€ í•¨ê»˜ INSERT, UPDATE, DELETEë¥¼ í†µí•´ ë³€ê²½ëœ ë°ì´í„°ë¥¼ ê°€ì§„ ë”í‹° í˜ì´ì§€(Duty Page)ë¥¼ ê°€ì§€ê³  ìˆë‹¤.\në°ì´í„° ë³€ê²½ì´ ë°œìƒí•˜ë©´ ë¨¼ì € ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡ë˜ê³  ë¦¬ë‘ ë¡œê·¸ëŠ” ë”í‹° í˜ì´ì§€ì™€ ëŒ€ì‘í•˜ê²Œ ëœë‹¤.\në°ì´í„° ë³€ê²½ì´ ë°˜ë³µë˜ë©´ ê²°êµ­ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì„ ê¸°ë¡í•  ìˆ˜ ì—†ê±°ë‚˜ ë²„í¼í’€ ìš©ëŸ‰ì´ ë¶€ì¡±í•´ì§€ëŠ”ë°, ì´ë¥¼ ëŒ€ì‘í•˜ê¸° ìœ„í•´ ì²´í¬í¬ì¸íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì—¬ ëª¨ë“  ë”í‹°í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•œ í›„, ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì„ ì˜ë¼ë‚´ì–´ ê³µê°„ì„ í™•ë³´í•œë‹¤.\nì´ëŸ¬í•œ ë°©ì‹ì´ ë²„í¼í’€ì´ ì“°ê¸° ë²„í¼ì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ê²Œ ë§Œë“¤ê²Œ ë˜ëŠ”ë°, ì´ì— ë”°ë¼ì„œ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°ê°€ ì‘ì„ìˆ˜ë¡ ë²„í¼í’€ì˜ í¬ê¸°ê°€ í¬ë”ë¼ë„ ëŒ€ì‘ë˜ëŠ” ë”í‹° í˜ì´ì§€ê°€ ì ìœ¼ë¯€ë¡œ ë²„í¼ë§ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” íš¨ê³¼ê°€ ì ì–´ì§€ê³ , ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì´ í´ìˆ˜ë¡ ì²´í¬í¬ì¸íŠ¸ë¥¼ í†µí•´ ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ëŠ” ë°ì´í„°ê°€ ë§ì•„ì ¸ ê°‘ìê¸° ë§ì€ ë””ìŠ¤í¬ I/Oë¥¼ ë°œìƒ ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\në”°ë¼ì„œ, ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°ë¥¼ ì ì ˆíˆ ì„ íƒí•´ì•¼í•˜ë©°, ì–´ë µë‹¤ë©´ ë²„í¼í’€ì˜ í¬ê¸°ê°€ 100GB ì´í•˜ì˜ MySQL ì„œë²„ì—ì„œëŠ” ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ ì „ì²´ í¬ê¸°ë¥¼ ëŒ€ëµ 5~10GB ìˆ˜ì¤€ìœ¼ë¡œ ì„ íƒí•˜ê³  í•„ìš”í•  ë•Œë§ˆë‹¤ ì¡°ê¸ˆì”© ëŠ˜ë ¤ê°€ë©° ìµœì ê°’ì„ ì°¾ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në²„í¼í’€ í”ŒëŸ¬ì‹œ(Buffer Pool Flush) ë²„í¼í’€ì—ì„œ ìˆ˜ì •ëœ ë°ì´í„° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ì“°ëŠ” ê³¼ì •ìœ¼ë¡œ MySQL 5.6 ë²„ì „ê¹Œì§€ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ë”í‹° í˜ì´ì§€ í”ŒëŸ¬ì‹œ ê¸°ëŠ¥ì´ ê¸‰ì‘ìŠ¤ëŸ½ê²Œ ë””ìŠ¤í¬ ê¸°ë¡ì´ í­ì¦í•´ì„œ MySQL ì„œë²„ì˜ ì‚¬ìš©ì ì¿¼ë¦¬ ì²˜ë¦¬ ì„±ëŠ¥ì— ì˜í–¥ì„ ë°›ëŠ” ë“± ê·¸ë‹¤ì§€ ë¶€ë“œëŸ½ê²Œ ì²˜ë¦¬ë˜ì§€ ì•Šì•˜ë‹¤.\nMySQL 5.7 ë²„ì „ì„ ê±°ì³ 8.0 ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ë©´ì„œ ëŒ€ë¶€ë¶„ì˜ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë”í‹° í˜ì´ì§€ í”„ëŸ¬ì‹œì—ì„œ ì˜ˆì „ê³¼ ê°™ì´ í­ì¦ í˜„ìƒì€ ë°œìƒí•˜ì§€ ì•Šì•˜ë‹¤. ë”°ë¼ì„œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë”í‹° í˜ì´ì§€ í”ŒëŸ¬ì‹œ ì„±ëŠ¥ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ê´€ë ¨ ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” ì¡°ì ˆí•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼í’€ì—ì„œ ì•„ì§ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ì§€ ì•Šì€ ë”í‹° í˜ì´ì§€ë“¤ì„ ì„±ëŠ¥ìƒ ì•…ì˜í–¥ ì—†ì´ ë””ìŠ¤í¬ì— ë™ê¸°í™”í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ 2ê°œì˜ í”ŒëŸ¬ì‹œ ê¸°ëŠ¥ì„ ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰í•œë‹¤.\ní”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸(Flush_list) í”ŒëŸ¬ì‹œ LRU ë¦¬ìŠ¤íŠ¸(LRU_list) í”ŒëŸ¬ì‹œ í”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸ í”ŒëŸ¬ì‹œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë¦¬ë‘ ë¡œê·¸ ê³µê°„ì˜ ì¬í™œìš©ì„ ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ ì˜¤ë˜ëœ ë¦¬ë‘ ë¡œê·¸ ì—”íŠ¸ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ê³µê°„ì„ ë¹„ìš´ë‹¤. ì´ë•Œ ì˜¤ë˜ëœ ë¦¬ë‘ ë¡œê·¸ ê³µê°„ì´ ì§€ì›Œì§€ë ¤ë©´ ë°˜ë“œì‹œ InnoDB ë²„í¼í’€ì˜ ë”í‹° í˜ì´ì§€ê°€ ë¨¼ì € ë””ìŠ¤í¬ë¡œ ë™ê¸°í™” ë¼ì•¼ í•œë‹¤.\nì´ë¥¼ ìœ„í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì£¼ê¸°ì ìœ¼ë¡œ í”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸(Flush_list) í”ŒëŸ¬ì‹œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ í”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì˜¤ë˜ì „ì— ë³€ê²½ëœ ë°ì´í„° í˜ì´ì§€ ìˆœì„œëŒ€ë¡œ ë””ìŠ¤í¬ì— ë™ê¸°í™” í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\nì´ë•Œ ì–¸ì œë¶€í„° ì–¼ë§ˆë‚˜ ë§ì€ ë”í‹° í˜ì´ì§€ë¥¼ í•œë²ˆì— ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ëŠëƒì— ë”°ë¼ ì‚¬ìš©ìì˜ ì¿¼ë¦¬ ì²˜ë¦¬ê°€ ì•…ì˜í–¥ì„ ë°›ì§€ ì•Šìœ¼ë©´ì„œ ë¶€ë“œëŸ½ê²Œ ì²˜ë¦¬ëœë‹¤. ë¦¬ë¥¼ ìœ„í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì—¬ëŸ¬ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì œê³µí•œë‹¤.\ninnodb_page_cleaners InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë”í‹° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”í•˜ëŠ” ìŠ¤ë ˆë“œë¥¼ í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œ(Cleaner Thread)ë¼ê³  í•˜ê³ , í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.\nì„¤ì •ê°’ì´ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜ë³´ë‹¤ ë§ì€ ê²½ìš° innodb_buffer_pool_instances ì„¤ì •ê°’ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë³€ê²½í•˜ì—¬, í•˜ë‚˜ì˜ í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ì˜ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤.\nì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ì„¤ì •ê°’ì´ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜ë³´ë‹¤ ì ì€ ê²½ìš° í•˜ë‚˜ì˜ í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œê°€ ì—¬ëŸ¬ ê°œì˜ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ë¯€ë¡œ, innodb_page_cleaners ì„¤ì •ê°’ì€ innodb_buffer_pool_instances ì„¤ì • ê°’ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ninnodb_max_dirty_pages_pct InnoDB ë²„í¼í’€ì€ í´ë¦° í˜ì´ì§€ì™€ ë”í‹° í˜ì´ì§€ë¥¼ í•¨ê»˜ ê°€ì§€ê³  ìˆì–´ ë­ë€ì • ë”í‹° í˜ì´ì§€ë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•  ìˆ˜ ì—†ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì „ì²´ ë²„í¼í’€ì´ ê°€ì§„ í˜ì´ì§€ì˜ 90%ê¹Œì§€ ë”í‹°í˜ì´ì§€ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆëŠ”ë°, innodb_max_dirty_pct ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ë”í‹°í˜ì´ì§€ì˜ ë¹„ìœ¨ì„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë²„í¼í’€ì´ ë”í‹°í˜ì´ì§€ë¥¼ ë§ì´ ê°€ì§€ê³  ìˆì„ìˆ˜ë¡ ë””ìŠ¤í¬ ì“°ê¸° ì‘ì—…ì„ ë²„í¼ë§í•¨ìœ¼ë¡œì¨ I/O ì‘ì—…ì„ ì¤„ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê¸°ë³¸ê°’ìœ¼ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ninnodb_max_dirty_pages_pct_lwm InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ innodb_io_capacity ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë”í‹° í˜ì´ì§€ ì“°ê¸°ë¥¼ ì‹¤í–‰í•˜ëŠ”ë°, ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ëŠ” ë”í‹°í˜ì´ì§€ ê°œìˆ˜ë³´ë‹¤ ë” ë§ì€ ë”í‹°í˜ì´ì§€ê°€ ë°œìƒí•˜ë©´ ë²„í¼í’€ì— ë”í‹°í˜ì´ì§€ê°€ ê³„ì† ì¦ê°€í•˜ê²Œ ë˜ê³ , ì§€ì •í•œ ë¹„ìœ¨ì´ ë„˜ì–´ê°€ë©´ ë”í‹°í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ì—¬ ë””ìŠ¤í¬ ì“°ê¸° í­ë°œ(Dist IO Bust) í˜„ìƒì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤.\nì´ëŸ° ë¬¸ì œë¥¼ ì™„í™”í•˜ê¸° ìœ„í•´ innodb_max_dirty_pages_pct_lwm ì‹œìŠ¤í…œ ì„¤ì • ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ì¼ì • ìˆ˜ì¤€ ì´ìƒì˜ ë”í‹°í˜ì´ì§€ê°€ ë°œìƒí•˜ë©´ ì¡°ê¸ˆì”© ë”í‹° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•œë‹¤.\nê¸°ë³¸ê°’ì€ 10% ì •ë„ë¡œ, ë””ìŠ¤í¬ ì“°ê¸°ê°€ ë§ì´ ë°œìƒí•˜ê³  ë”í‹° í˜ì´ì§€ ë¹„ìœ¨ì´ ë‚®ì€ ìƒíƒœë¥¼ ìœ ì§€í•œë‹¤ë©´ ë†’ì€ ê°’ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆë‹¤.\ninnodb_io_capacity, innodb_io_capacity_max ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ì–´ëŠì •ë„ì˜ ë””ìŠ¤í¬ IOê°€ ê°€ëŠ¥í•œì§€ ì„¤ì •í•˜ëŠ” ê°’ì´ë‹¤. innodb_io_capacityëŠ” ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œ ë””ìŠ¤í¬ê°€ ì ì ˆíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ì˜ ê°’ì„ ì„¤ì •í•˜ë©°, innodb_io_capacity_maxëŠ” ë””ìŠ¤í¬ê°€ ìµœëŒ€ ì„±ëŠ¥ì„ ë°œíœ˜í•  ë•Œ ì–´ëŠ ì •ë„ IOê°€ ê°€ëŠ¥í•œì§€ë¥¼ ì„¤ì •í•œë‹¤.\nì—¬ê¸°ì„œ ì–¸ê¸‰ë˜ëŠ” IOëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ìˆ˜í–‰í•˜ëŠ” ë””ìŠ¤í¬ ì‘ì—…ì„ ì˜ë¯¸í•˜ë©°, ëŒ€ë¶€ë¶„ ë”í‹°í˜ì´ì§€ ì“°ê¸°ì´ë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì‚¬ìš©ìì˜ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë””ìŠ¤í¬ë¥¼ ì½ê¸°ë„ í•´ì•¼í•˜ë¯€ë¡œ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ì— ë¬´ì¡°ê±´ ë§ì¶”ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤.\ninnodb_adaptive_flushing, innodb_adaptive_flushing_lwm ì–´ëŒ‘í‹°ë¸Œ í”ŒëŸ¬ì‹œë¥¼ í™œì„±í™” í•˜ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼ë¶ˆì˜ ë”í‹° í˜ì´ì§€ ë¹„ìœ¨ì´ë‚˜ innodb_io_capacity, innodb_io_capacity_max ì„¤ì • ê°’ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤.\në”í‹° í˜ì´ì§€ëŠ” ë¦¬ë‘ ë¡œê·¸ì™€ ëŒ€ì‘í•˜ë¯€ë¡œ, ë¦¬ë‘ ë¡œê·¸ê°€ ì–´ëŠì •ë„ ì¦ê°€í•˜ëŠ”ì§€ ë¶„ì„í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì–´ëŒ‘í‹°ë¸Œ í”ŒëŸ¬ì‹œ ì•Œê³ ë¦¬ì¦˜ì€ ë¦¬ë‘ ë¡œê·¸ì˜ ì¦ê°€ ì†ë„ë¥¼ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ ìˆ˜ì¤€ì˜ ë”í‹° í˜ì´ì§€ê°€ ë²„í¼í’€ì— ìœ ì§€ë  ìˆ˜ ìˆë„ë¡ ë””ìŠ¤í¬ ì“°ê¸°ë¥¼ ì‹¤í–‰í•œë‹¤.\ninnodb_adaptive_flushingëŠ” ê¸°ë³¸ê°’ì´ í™œì„±ì´ë©°, innodb_adaptive_flushing_lwmëŠ” ì–´ëŒ‘í‹°ë¸Œ í”ŒëŸ¬ì‹œ ì•Œê³ ë¦¬ì¦˜ í™œì„±ì„ ìœ„í•œ í™œì„± ë¦¬ë‘ ê³µê°„ì˜ í•˜í•œ ë¹„ìœ¨ì„ ì˜ë¯¸í•œë‹¤.\ninnodb_flush_neighbors ë”í‹°í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•  ë•Œ ë””ìŠ¤í¬ì—ì„œ ê·¼ì ‘í•œ í˜ì´ì§€ ì¤‘ ë”í‹°í˜ì´ì§€ê°€ ìˆë‹¤ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ í•¨ê»˜ ë¬¶ì–´ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ í™œì„±í™” í• ì§€ ê²°ì •í•œë‹¤.\nê³¼ê±°ì—ëŠ” HDDì˜ ê²½ìš° IO ë¹„ìš©ì´ ë†’ì•„ ìµœëŒ€í•œ ì¤„ì´ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡Œë‹¤.\në°ì´í„° ì €ì¥ì„ í•˜ë“œë””ìŠ¤í¬ë¡œ í•˜ê³ ìˆë‹¤ë©´ 1, 2 ì •ë„ë¡œ í™œì„±í™” í•˜ê³ , SSDë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ê¸°ë³¸ê°’ì¸ ë¹„í™œì„±ìœ¼ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nLRU ë¦¬ìŠ¤íŠ¸ í”ŒëŸ¬ì‹œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ LRU ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚¬ìš© ë¹ˆë„ê°€ ë‚®ì€ ë°ì´í„° í˜ì´ì§€ë“¤ì„ ì œê±°í•˜ì—¬ ìƒˆë¡œìš´ í˜ì´ì§€ë“¤ì„ ì½ì–´ì˜¬ ê³µê°„ì„ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ë°, ì´ë¥¼ ìœ„í•´ LRU ë¦¬ìŠ¤íŠ¸ í”ŒëŸ¬ì‹œ í•¨ìˆ˜ê°€ ì‚¬ìš©ëœë‹¤.\në¦¬ìŠ¤íŠ¸ ëë¶€ë¶„ ë¶€í„° ì‹œì‘í•˜ì—¬ ìµœëŒ€ innodb_lru_scan_depth ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ìˆ˜ë§Œí¼ì˜ í˜ì´ì§€ë“¤ì„ ìŠ¤ìº”í•˜ëŠ”ë°, ì´ë•Œ ë”í‹°ì²´ì´ì§€ëŠ” ë””ìŠ¤í¬ì— ë™ê¸°í™”í•˜ê³ , í´ë¦° í˜ì´ì§€ëŠ” ì¦‰ì‹œ í”„ë¦¬ ë¦¬ìŠ¤íŠ¸ë¡œ í˜ì´ì§€ë¥¼ ì˜®ê¸´ë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ ë³„ë¡œ ìµœëŒ€ innodb_lru_scan_depth ê°œìˆ˜ë§Œí¼ ìŠ¤ìº”í•˜ê¸° ë•Œë¬¸ì— ì‹¤ì§ˆì ìœ¼ë¡œ LRU ë¦¬ìŠ¤íŠ¸ì˜ ìŠ¤ìº”ì€ (innodb_buffer_pool_instances * innodb_lru_scan_depth) ìˆ˜ë§Œí¼ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.\në²„í¼í’€ ìƒíƒœ ë°±ì—… ë° ë³µêµ¬ InnoDB ì„œë²„ì˜ ë²„í¼í’€ì€ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì— ë§¤ìš° ë°€ì ‘í•˜ê²Œ ì—°ê²°ë¼ ìˆë‹¤. ì„œë²„ ì¬ì‹¤í–‰ì‹œ ë²„í¼í’€ì— ì¿¼ë¦¬ë“¤ì´ ì‚¬ìš©í•  ë°ì´í„°ê°€ ì—†ì–´ ì„±ëŠ¥ì´ ë§¤ìš° ë–¨ì–´ì§€ê²Œ ëœë‹¤.\në””ìŠ¤í¬ì˜ ë°ì´í„°ê°€ ë²„í¼í’€ì— ì ì¬ë¼ ìˆëŠ” ìƒíƒœë¥¼ ìœ„ë°ì—…(Warming Up)ì´ë¼ê³  í‘œí˜„í•˜ëŠ”ë°, ì›Œë°ì—… ìƒíƒœì— ë”°ë¼ ëª‡ì‹­ ë°° ì¿¼ë¦¬ ì²˜ë¦¬ì†ë„ ì°¨ì´ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.\nMySQL 5.5 ë²„ì „ì€ ì¬ì‹¤í–‰ì‹œ ê°•ì œ ì›Œë°ì—…ì„ ìœ„í•´ ì£¼ìš” í…Œì´ë¸”ê³¼ ì¸ë±ìŠ¤ì— ëŒ€í•´ í’€ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì˜¤í”ˆí–ˆì—ˆë‹¤. í•˜ì§€ë§Œ 5.6 ë²„ì „ë¶€í„°ëŠ” ë²„í¼í’€ ë¤í”„ ë° ì ì¬ ê¸°ëŠ¥ì´ ë„ì…ë˜ì–´ MySQL ì„œë²„ ì…§ë‹¤ìš´ ì „ innodb_buffer_pool_dump_now ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ í˜„ì¬ InnoDB ë²„í¼í’€ ìƒíƒœë¥¼ ë°±ì—…í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 /* ë²„í¼í’€ ìƒíƒœ ë°±ì—… */ SET GLOBAL innodb_buffer_pool_dump_now=ON; /* ë°±ì—…ëœ ë²„í¼í’€ ìƒíƒœ ë³µêµ¬ */ SET GLOBAL innodb_buffer_pool_load_now=ON; ë²„í¼í’€ ë°±ì—…ì„ ìˆ˜í–‰í•˜ë©´ ë°ì´í„° ë””ë ‰í„°ë¦¬ì— ib_buffer_poolì´ë¼ëŠ” íŒŒì¼ë¡œ ìƒì„±ë˜ëŠ”ë°, InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë²„í¼í’€ì˜ LRU ë¦¬ìŠ¤íŠ¸ì—ì„œ ì ì¬ëœ ë°ì´í„° í˜ì´ì§€ì˜ ë©”íƒ€ ì •ë³´ë§Œ ê°€ì ¸ì™€ ì €ì¥í•˜ì—¬, ë²„í¼í’€ì´ í¬ë‹¤ê³  í•˜ë”ë¼ë„ ëª‡ì‹­ MB ì´í•˜ë¡œ ì‘ë‹¤.\ní•˜ì§€ë§Œ ë²„í¼í’€ë¡œ ë³µêµ¬í•˜ëŠ” ê³¼ì •ì—ì„œ ê° í…Œì´ë¸”ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì—ì„œ ë‹¤ì‹œ ì½ì–´ì™€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë²„í¼í’€ì˜ í¬ê¸°ì— ë”°ë¼ ë§¤ìš° ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆë‹¤.\n1 SHOW STATUS LIKE \u0026#39;Innodb_buffer_pool_dump_status\u0026#39;\\G InnoDBì˜ ë²„í¼í’€ì„ ë³µêµ¬í•˜ëŠ” ì‘ì—…ì€ ìƒë‹¹íˆ ë§ì€ ë””ìŠ¤í¬ ì½ê¸°ë¥¼ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì—, ë³µêµ¬ì¤‘ ì„œë¹„ìŠ¤ ì¬ê°œí•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ë²„í¼í’€ ì ì¬ ì‘ì—…ì„ ì¤‘ì§€í•˜ë ¤ë©´ innodb_buffer_pool_load_abort ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ ì¤‘ì§€í•˜ì—¬ ì¬ê°œí•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.\n1 SET GLOBAL innodb_buffer_pool_load_abort=ON; ë°±ì—… ë° ë³µêµ¬ ìë™í™” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ innodb_buffer_pool_dump_at_shutdown, innodb_buffer_pool_load_at_shutdown ì„¤ì •ì„ MySQL ì„¤ì • íŒŒì¼ì— ë„£ìœ¼ë©´ ì„œë²„ê°€ ì…§ë‹¤ìš´ ë˜ê¸° ì§ì „ì— ë²„í¼í’€ì˜ ë°±ì—…ì„ ì‹¤í–‰í•˜ê³ , MySQL ì„œë²„ê°€ ì‹œì‘ë˜ë©´ ìë™ìœ¼ë¡œ ë°±ì—…ëœ ë²„í¼í’€ì˜ ìƒíƒœë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\në²„í¼í’€ì˜ ì ì¬ ë‚´ìš© í™•ì¸ MySQL 5.6 ë²„ì „ë¶€í„° MySQL ì„œë²„ì˜ information_schema ë°ì´í„°ë² ì´ìŠ¤ì˜ innodb_buffer_page í…Œì´ë¸”ì„ ì´ìš©í•´ InnoDB ë²„í¼í’€ì˜ ë©”ëª¨ë¦¬ì— ì–´ë–¤ í…Œì´ë¸”ì˜ í˜ì´ì§€ë“¤ì´ ì ì¬ë¼ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ ë²„í¼í’€ì´ í° ê²½ìš°ì—ëŠ” í…Œì´ë¸” ì¡°íšŒê°€ ìƒë‹¹íˆ í° ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¤ë©´ì„œ ì„œë¹„ìŠ¤ ì¿¼ë¦¬ê°€ ë§ì´ ëŠë ¤ì§€ëŠ” ë¬¸ì œê°€ ìˆì–´, ì‹¤ì œ ì„œë¹„ìŠ¤ìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” MySQL ì„œë²„ì—ì„œëŠ” ë²„í¼í’€ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ê±°ì˜ ë¶ˆê°€ëŠ¥í–ˆë‹¤.\nMySQL 8.0 ë²„ì „ì—ì„œëŠ” information_schema ë°ì´í„°ë² ì´ìŠ¤ì— innodb_cached_indexes í…Œì´ë¸”ì´ ìƒˆë¡œ ì¶”ê°€ë˜ì–´, í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ë³„ë¡œ ë°ì´í„° í˜ì´ì§€ê°€ ì–¼ë§ˆë‚˜ InnoDB ë²„í¼í’€ì— ì ì¬ë¼ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 SELECT it.name table_name ,ii.name index_name ,ici.n_cached_pages n_cached_pages FROM information_schema.innodb_tables it JOIN information_schema.innodb_indexes ii ON ii.table_id = it.table_id JOIN information_schema.innodb_cached_indexes ici ON ici.index_id = ii.index_id WHERE it.name=CONCAT(\u0026#39;employees\u0026#39;, \u0026#39;/\u0026#39;, \u0026#39;employees\u0026#39;) ; ì•„ì§ MySQL ì„œë²„ëŠ” ê°œë³„ ì¸ë±ìŠ¤ë³„ë¡œ ì „ì²´ í˜ì´ì§€ ê°œìˆ˜ê°€ ëª‡ ê°œì¸ì§€ëŠ” ì‚¬ìš©ìì—ê²Œ ì•Œë ¤ì£¼ì§€ ì•Šê¸° ë•Œë¬¸ì— information_schemaì˜ í…Œì´ë¸”ì„ ì´ìš©í•´ë„ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ë³„ë¡œ í˜ì´ì§€ê°€ InnoDB ë²„í¼í’€ì— ì ì¬ëœ ë¹„ìœ¨ì€ í™•ì¸í•  ìˆ˜ê°€ ì—†ë‹¤.\n","date":"2023-04-12T14:27:41+09:00","image":"https://codemario318.github.io/post/real_mysql_4/2/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql_4/2/2/","title":"4.2 InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜(2) - InnoDB ë²„í¼í’€"},{"content":"\nInnoDBëŠ” MySQLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì¤‘ ê±°ì˜ ìœ ì¼í•˜ê²Œ ë ˆì½”ë“œ ê¸°ë°˜ ì ê¸ˆì„ ì œê³µí•˜ë©°, ê·¸ ë•Œë¬¸ì— ë†’ì€ ë™ì‹œì„± ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ê³  ì•ˆì •ì ì´ë©° ì„±ëŠ¥ì´ ë›°ì–´ë‚˜ë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•œ í´ëŸ¬ìŠ¤í„°ë§ InnoDBì˜ ëª¨ë“  í…Œì´ë¸”ì€ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë§ë˜ì–´ ìì¥ëœë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì˜ ìˆœì„œëŒ€ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ë˜ë©°, ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë ˆì½”ë“œì˜ ì£¼ì†Œ ëŒ€ì‹  í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ê°’ì„ ë…¼ë¦¬ì ì¸ ì£¼ì†Œë¡œ ì‚¬ìš©í•œë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ì´ê¸° ë•Œë¬¸ì— í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì´ìš©í•œ ë ˆì¸ì§€ ìŠ¤ìº”ì€ ìƒë‹¹íˆ ë¹¨ë¦¬ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤. ì¿¼ë¦¬ì˜ ì‹¤í–‰ê³„íšì—ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ë³´ì¡° ì¸ë±ìŠ¤ì— ë¹„í•´ ë¹„ì¤‘ì´ ë†’ê²Œ ì„¤ì •ëœë‹¤. ì™¸ë˜ í‚¤ ì§€ì› ì™¸ë˜ í‚¤ì— ëŒ€í•œ ì§€ì›ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨ì—ì„œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ MyISAMì´ë‚˜ MEMORY í…Œì´ë¸”ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\nì™¸ë˜ í‚¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ìš´ì˜ì˜ ë¶ˆí¸í•¨ ë•Œë¬¸ì— ì„œë¹„ìŠ¤ìš© ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ìƒì„±í•˜ì§€ ì•ŠëŠ” ê²½ìš°ë„ ìì£¼ ìˆë‹¤. ê·¸ë ‡ë‹¤ í•˜ë”ë¼ë„ ê°œë°œ í™˜ê²½ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ì¢‹ì€ ê°€ì´ë“œ ì—­í• ì„ í•  ìˆ˜ ìˆë‹¤.\nInnoDBì—ì„œ ì™¸ë˜ í‚¤ëŠ” ë¶€ëª¨ í…Œì´ë¸”ê³¼ ìì‹ í…Œì´ë¸” ëª¨ë‘ í•´ë‹¹ ì¹¼ëŸ¼ì— ì¸ë±ìŠ¤ ìƒì„±ì´ í•„ìš”í•¨ ë³€ê²½ ì‹œì—ëŠ” ë°˜ë“œì‹œ ë¶€ëª¨ í…Œì´ë¸”ì´ë‚˜ ìì‹ í…Œì´ë¸”ì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì²´í¬í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë¯€ë¡œ, ì ê¸ˆì´ ì—¬ëŸ¬ í…Œì´ë¸”ë¡œ ì „íŒŒë¨ ê·¸ë¡œì¸í•œ ë°ë“œë½ì´ ë°œìƒí•  ë•Œê°€ ë§ìœ¼ë¯€ë¡œ ê°œë°œí• ë•Œë„ ì™¸ë˜ í‚¤ì˜ ì¡´ì¬ì— ì£¼ì˜í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ ìˆ˜ë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì ì¬í•˜ê±°ë‚˜ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ë“±ì˜ ê´€ë¦¬ ì‘ì—…ì´ ì‹¤íŒ¨í•  ìˆ˜ ìˆë‹¤. ë¶€ëª¨ í…Œì´ë¸”ê³¼ ìì‹ í…Œì´ë¸”ì˜ ê´€ê³„ë¥¼ ëª…í™•íˆ íŒŒì•…í•´ì„œ ìˆœì„œëŒ€ë¡œ ì‘ì—…í•œë‹¤ë©´ ë¬¸ì œì—†ì´ ì‹¤í–‰ë  ìˆ˜ ìˆì§€ë§Œ ì™¸ë˜í‚¤ê°€ ë³µì¡í•˜ê²Œ ì–½íŒ ê²½ìš°ì—ëŠ” ê°„ë‹¨í•˜ì§€ ì•Šë‹¤.\nforeign_key_checks ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ OFFë¡œ ì„¤ì •í•˜ë©´ ì™¸ë˜í‚¤ ê´€ê³„ì— ëŒ€í•œ ì²´í¬ ì‘ì—…ì„ ì¼ì‹œì ìœ¼ë¡œ ë©ˆì¶œ ìˆ˜ ìˆë‹¤. ì™¸ë˜í‚¤ ì²´í¬ ì‘ì—…ì„ ì¼ì‹œì ìœ¼ë¡œ ë©ˆì¶”ë©´ ëŒ€ëµ ë ˆì½”ë“œ ì ì¬ë‚˜ ì‚­ì œ ë“±ì˜ ì‘ì—…ë„ ë¶€ê°€ì ì¸ ì²´í¬ê°€ í•„ìš” ì—†ê¸° ë•Œë¬¸ì— í›¨ì”¬ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 SET foreign_key_checks=OFF; /* ì‘ì—… ìˆ˜í–‰ ... */ SET foreign_key_checks=ON; ì™¸ë˜í‚¤ ì²´í¬ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ì¤‘ì§€í•œ ìƒíƒœì—ì„œ ì™¸ë˜í‚¤ ê´€ê³„ë¥¼ ê°€ì§„ ë¶€ëª¨ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì‚­ì œí–ˆë‹¤ë©´ ë°˜ë“œì‹œ ìì‹ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë„ ì‚´ì œí•˜ì—¬ ì¼ê´€ì„±ì„ ë§ì¶°ì¤€ í›„ ë‹¤ì‹œ ì™¸ë˜í‚¤ ì²´í¬ ê¸°ëŠ¥ì„ í™œì„±í™” í•´ì•¼ í•œë‹¤.\nforeign_key_checksê°€ ë¹„í™œì„±í™”ë˜ë©´ ì™¸ë˜í‚¤ ê´€ê³„ì˜ ë¶€ëª¨ í…Œì´ë¸”ì— ëŒ€í•œ ì‘ì—…ë„ ë¬´ì‹œí•œë‹¤.(ON DELETE CASCADE, ON UPDATE CASCADE)\nMVCC - Multi Version Concurrency Control ì¼ë°˜ì ìœ¼ë¡œ ë ˆì½”ë“œ ë ˆë²¨ì˜ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” DBMSê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë©°, MVCCì˜ ê°€ì¥ í° ëª©ì ì€ ì ê¸ˆì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¼ê´€ëœ ì½ê¸°ë¥¼ ì œê³µí•˜ëŠ” ë° ìˆë‹¤.\nInnoDBëŠ” ì–¸ë‘ ë¡œê·¸(Undo log)ë¥¼ ì´ìš©í•´ ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤.\në©€í‹° ë²„ì „: í•˜ë‚˜ì˜ ë ˆì½”ë“œì— ëŒ€í•´ ì—¬ëŸ¬ ê°œì˜ ë²„ì „ì´ ë™ì‹œì— ê´€ë¦¬ 1 2 3 4 5 6 7 CREATE TABLE member ( m_id INT NOT NULL, m_name VARCHAR(20) NOT NULL, m_area VARCHAR(100) NOT NULL, PRIMARY KEY (m_id), INDEX ix_area (m_area) ); 1 2 INSERT INTO member (m_id, m_name, m_area) VALUES (12, \u0026#39;í™ê¸¸ë™\u0026#39;, \u0026#39;ì„œìš¸\u0026#39;); COMMIT; 1 UPDATE member SET m_area=\u0026#39;ê²½ê¸°\u0026#39; WHERE m_id=12; UPDATE ë¬¸ì¥ì´ ì‹¤í–‰ë˜ë©´ ì»¤ë°‹ ì‹¤í–‰ ì—¬ë¶€ì™€ ê´€ê³„ ì—†ì´ InnoDBì˜ ë²„í¼í’€ì€ ìƒˆë¡œìš´ ê°’ì¸ â€˜ê²½ê¸°â€™ë¡œ ì—…ë°ì´íŠ¸ ëœë‹¤. ê·¸ë¦¬ê³  ë””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ì—ëŠ” ì²´í¬í¬ì¸íŠ¸ë‚˜ InnoDBì˜ Write ìŠ¤ë ˆë“œì— ì˜í•´ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¼ ìˆì„ ìˆ˜ë„ ìˆê³  ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.(InnoDBê°€ ACIDë¥¼ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œëŠ” InnoDBì˜ ë²„í¼í’€ê³¼ ë°ì´í„° íŒŒì¼ì€ ë™ì¼í•œ ìƒíƒœë¼ê³  ê°€ì •í•´ë„ ë¬´ë°©í•¨)\nì•„ì§ COMMITì´ë‚˜ ROLLBACKì´ ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ë‹¤ìŒ ê°™ì€ ì¿¼ë¦¬ë¡œ ì‘ì—… ì¤‘ì¸ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•œë‹¤ë©´, MySQL ì„œë²„ì˜ ì‹œìŠ¤í…œ ë³€ìˆ˜(transaction_isolation)ì— ì„¤ì •ëœ ê²©ë¦¬ ìˆ˜ì¤€(Isolation level)ì— ë”°ë¼ ë‹¤ë¥´ë‹¤.\nREAD_UNCOMMITED: InnoDB ë²„í¼í’€ì´ í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” ë³€ê²½ëœ ë°ì´í„°ë¥¼ ì½ì–´ì„œ ë°˜í™˜í•œë‹¤. READ_COMMITTED, REPEATABLE_READ, SERIALIZABLE: ì•„ì§ ì»¤ë°‹ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— InnoDB ë²„í¼í’€ì´ë‚˜ ë°ì´í„° íŒŒì¼ì— ìˆëŠ” ë‚´ìš© ëŒ€ì‹  ë³€ê²½ë˜ê¸° ì´ì „ì˜ ë‚´ìš©ì„ ë³´ê´€í•˜ê³  ìˆëŠ” ì–¸ë‘ ì˜ì—­ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. ì´ëŸ¬í•œ ê³¼ì •ì„ DBMSì—ì„œëŠ” MVCCë¼ê³  í‘œí˜„í•œë‹¤. ì¦‰ í•˜ë‚˜ì˜ ë ˆì½”ë“œ(íšŒì›ë²ˆí˜¸ê°€ 12ì¸ ë ˆì½”ë“œ)ì— ëŒ€í•´ 2ê°œì˜ ë²„ì „ì´ ìœ ì§€ë˜ê³ , í•„ìš”ì— ë”°ë¼ ì–´ëŠ ë°ì´í„°ê°€ ë³´ì—¬ì§€ëŠ”ì§€ ì—¬ëŸ¬ ê°€ì§€ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ë‹¤.\níŠ¸ëœì­ì…˜ì´ ê¸¸ì–´ì§€ë©´ ì–¸ë‘ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì˜ˆì „ ë°ì´í„°ê°€ ì‚­ì œë˜ì§€ ëª»í•˜ê³  ì˜¤ë«ë™ì•ˆ ê´€ë¦¬ë˜ì–´ì•¼ í•˜ë©°, ìì—°íˆ ì–¸ë‘ ì˜ì—­ì´ ì €ì¥ë˜ëŠ” ì‹œìŠ¤í…œ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ì˜ ê³µê°„ì´ ë§ì´ ëŠ˜ì–´ë‚˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nUPDATE ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ë©´ InnoDB ë²„í¼ í’€ì€ ì¦‰ì‹œ ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ë³€ê²½ë˜ê³  ê¸°ì¡´ ë°ì´í„°ëŠ” ì–¸ë‘ì˜ì—­ìœ¼ë¡œ ë³µì‚¬ëœë‹¤.\nCOMMIT: InnoDBëŠ” ë” ì´ìƒì˜ ë³€ê²½ ì‘ì—… ì—†ì´ ì§€ê¸ˆì˜ ìƒíƒœë¥¼ ì˜êµ¬ì ì¸ ë°ì´í„°ë¡œ ë§Œë“¤ì–´ ë²„ë¦°ë‹¤. ROLLBACK: ì–¸ë‘ ì˜ì—­ì— ìˆëŠ” ë°±ì—…ëœ ë°ì´í„°ë¥¼ InnoDB ë²„í¼ í’€ë¡œ ë‹¤ì‹œ ë³µêµ¬í•˜ê³ , ì–¸ë‘ ì˜ì—­ì˜ ë‚´ìš©ì„ ì‚­ì œí•œë‹¤. ì»¤ë°‹ì´ ëœë‹¤ê³  ì–¸ë‘ ì˜ì—­ì˜ ë°±ì—… ë°ì´í„°ê°€ í•­ìƒ ë°”ë¡œ ì‚­ì œë˜ì§€ëŠ” ì•Šê³ , ì–¸ë‘ ì˜ì—­ì„ í•„ìš”ë¡œ í•˜ëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ì„ë•Œ ì‚­ì œëœë‹¤.\nì ê¸ˆ ì—†ëŠ” ì¼ê´€ëœ ì½ê¸° - Non-Locking Consistent Read InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ MVCC ê¸°ìˆ ì„ ì´ìš©í•´ ê°ê¸ˆì„ ê±¸ì§€ ì•Šê³  ì½ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì ê¸ˆì„ ê±¸ì§€ ì•Šê¸° ë•Œë¬¸ì— InnoDBì—ì„œ ì½ê¸° ì‘ì—…ì€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ê°€ì§€ê³  ìˆëŠ” ì ê¸ˆì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ , ì½ê¸° ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹¤.\nê²©ë¦¬ìˆ˜ì¤€ì´ SERIALIZABLEì´ ì•„ë‹Œ READ_UNCOMMITEDë‚˜ READ_COMMITED, REPEATEABLE_READ ìˆ˜ì¤€ì¸ ê²½ìš° INSERTì™€ ì—°ê²°ë˜ì§€ ì•Šì€ ìˆœìˆ˜í•œ ì½ê¸°(SELECT) ì‘ì—…ì€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì˜ ë³€ê²½ ì‘ì—…ê³¼ ê´€ê³„ ì—†ì´ í•­ìƒ ì ê¸ˆì„ ëŒ€ê¸°í•˜ì§€ ì•Šê³  ë°”ë¡œ ì‹¤í–‰ëœë‹¤.\níŠ¹ì • ì‚¬ìš©ìê°€ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ê³  ì•„ì§ ì»¤ë°‹ì„ ìˆ˜í–‰í•˜ì§€ ì•Šì•˜ë‹¤ í•˜ë”ë¼ë„ ë³€ê²½ íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ SELECT ì‘ì—…ì„ ë°©í•´í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë¥¼ â€˜ì ê¸ˆ ì—†ëŠ” ì¼ê´€ëœ ì½ê¸°â€™ ë¼ê³  í‘œí˜„í•˜ë©°, InnoDBì—ì„œëŠ” ë³€ê²½ë˜ê¸° ì „ì˜ ë°ì´í„°ë¥¼ ì½ê¸° ìœ„í•´ ì–¸ë‘ ë¡œê·¸ë¥¼ ì‚¬ìš©í•œë‹¤.\nì˜¤ëœ ì‹œê°„ ë™ì•ˆ í™œì„± ìƒíƒœì¸ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì¸í•´ MySQL ì„œë²„ê°€ ëŠë ¤ì§€ê±°ë‚˜ ë¬¸ì œê°€ ë°œìƒí•  ë•Œê°€ ê°€ë” ìˆëŠ”ë°, ì¼ê´€ëœ ì½ê¸°ë¥¼ ìœ„í•´ ì–¸ë‘ ë¡œê·¸ë¥¼ ì‚­ì œí•˜ì§€ ëª»í•˜ê³  ê³„ì† ìœ ì§€í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ë¬¸ì œì´ë‹¤.\në”°ë¼ì„œ íŠ¸ëœì­ì…˜ì´ ì‹œì‘ëë‹¤ë©´ ê°€ëŠ¥í•œ ë¹¨ë¦¬ ë¡¤ë°±ì´ë‚˜ ì»¤ë°‹ì„ í†µí•´ íŠ¸ëœì­ì…˜ì„ ì™„ë£Œí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nìë™ ë°ë“œë½ ê°ì§€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì ê¸ˆì´ êµì°© ìƒíƒœì— ë¹ ì§€ì§€ ì•Šì•˜ëŠ”ì§€ ì²´í¬í•˜ê¸° ìœ„í•´ ì ê¸ˆ ëŒ€ê¸° ëª©ë¡(Wait-for List)ì„ ê·¸ë˜í”„ í˜•íƒœë¡œ ê´€ë¦¬í•œë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œë¥¼ í†µí•´ ì£¼ê¸°ì ìœ¼ë¡œ ì ê¸ˆ ëŒ€ê¸°ë¥¼ ê·¸ë˜í”„ë¥¼ ê²€ì‚¬í•´ êµì°© ìƒíƒœì— ë¹ ì§„ íŠ¸ëœì­ì…˜ë“¤ì„ ì°¾ì•„ì„œ ê·¸ì¤‘ í•˜ë‚˜ë¥¼ ê°•ì œ ì¢…ë£Œí•œë‹¤.\níŠ¸ëœì­ì…˜ì˜ ì–¸ë‘ ë¡œê·¸ì–‘ì´ ì ì€ íŠ¸ëœì­ì…˜ì´ ë¡¤ë°± í•´ë„ ì²˜ë¦¬í•œ ë‚´ìš©ì´ ì ê¸° ë•Œë¬¸ì— ì„ íƒëœë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ìƒìœ„ ë ˆì´ì–´ì¸ MySQL ì—”ì§„ì—ì„œ ê´€ë¦¬ë˜ëŠ” í…Œì´ë¸” ì ê¸ˆ(LOCK TABLES ëª…ë ¹ìœ¼ë¡œ ì ê¸´ í…Œì´ë¸”)ì€ ë³¼ ìˆ˜ê°€ ì—†ì–´ ë°ë“œë½ ê°ì§€ê°€ ë¶ˆí™•ì‹¤ í•  ìˆ˜ ìˆëŠ”ë°, innodb_table_locks ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í™œì„±í™” í•˜ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë‚´ë¶€ì˜ ë ˆì½”ë“œ ì ê¸ˆë¿ë§Œ ì•„ë‹ˆë¼ í…Œì´ë¸” ë ˆë²¨ì˜ ì ê¸ˆ ê¹Œì§€ ê°ì§€í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œê°€ ë°ë“œë½ì„ ì°¾ì•„ë‚´ëŠ” ì‘ì—…ì€ ë¶€ë‹´ë˜ì§€ ì•Šì§€ë§Œ, ë™ì‹œ ì²˜ë¦¬ ìŠ¤ë ˆë“œê°€ ë§¤ìš° ë§ì•„ì§€ê±°ë‚˜ íŠ¸ëœì­ì…˜ì´ ê°€ì§„ ì ê¸ˆ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œê°€ ëŠë ¤ì§„ë‹¤.\në°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œëŠ” ì ê¸ˆ ëª©ë¡ì„ ê²€ì‚¬í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì ê¸ˆ ìƒíƒœê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ì ê¸ˆ ëª©ë¡ì´ ì €ì¥ëœ ë¦¬ìŠ¤íŠ¸(ì ê¸ˆ í…Œì´ë¸”)ì— ìƒˆë¡œìš´ ì ê¸ˆì„ ê±¸ê³  ë°ë“œë½ ìŠ¤ë ˆë“œë¥¼ ì°¾ê²Œ ë˜ëŠ”ë°, ë°ë“œë½ ê°ì‹œ ìŠ¤ë ˆë“œê°€ ëŠë ¤ì§€ë©´ ì„œë¹„ìŠ¤ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬ì¤‘ì¸ ìŠ¤ë ˆë“œëŠ” ë”ëŠ” ì‘ì—…ì„ ì§„í–‰í•˜ì§€ ëª»í•˜ê³  ëŒ€ê¸°í•˜ë©° ì„œë¹„ìŠ¤ì— ì•…ì˜í•­ì„ ë¯¸ì¹˜ê²Œ ëœë‹¤. ì´ë ‡ê²Œ ë™ì‹œ ì²˜ë¦¬ ìŠ¤ë ˆë“œê°€ ë§¤ìš° ë§ì€ ê²½ìš° ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œëŠ” ë” ë§ì€ CPU ìì›ì„ ì†Œëª¨í•  ìˆ˜ë„ ìˆë‹¤.\ninnodb_deadlock_detect ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œë¥¼ ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤. ì´ëŸ´ ê²½ìš° ë°ë“œë½ ìƒí™© ë°œìƒì‹œ ë¬´í•œì • ëŒ€ê¸°í•  ìˆ˜ë„ ìˆì§€ë§Œ, innodb_lock_wait_timeout ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í™œì„±í™”í•˜ë©´ ì¼ì • ì‹œê°„ì´ ì§€ë‚¬ì„ ê²½ìš° ìš”ì²­ ì‹¤íŒ¨í•˜ê³  ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\në°ë“œë½ ê°ì‹œ ìŠ¤ë ˆë“œê°€ ë¶€ë‹´ë˜ì–´ innodb_deadlock_detectë¥¼ OFFë¡œ ì„¤ì¥í•´ì„œ ë¹„í™œì„±í™” í•˜ëŠ” ê²½ìš°ì—ëŠ” innodb_lock_time_wait_timeoutì„ ê¸°ë³¸ê°’ì¸ 50ì´ˆë³´ë‹¤ í›¨ì”¬ ë‚®ì€ ì‹œê°„ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.\nìë™í™”ëœ ì¥ì•  ë³µêµ¬ InnoDBì—ëŠ” ì†ì‹¤ì´ë‚˜ ì¥ì• ë¡œ ë¶€í„° ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ ì—¬ëŸ¬ê°€ì§€ ë©”ì»¤ë‹ˆì¦˜ì´ íƒ‘ì¬ë¼ìˆë‹¤. ê·¸ëŸ¬í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì´ìš©í•´ MySQL ì„œë²„ê°€ ì‹œì‘ë  ë•Œ ì™„ë£Œë˜ì§€ ëª»í•œ íŠ¸ëœì­ì…˜ì´ë‚˜ ë””ìŠ¤í¬ì— ì¼ë¶€ë§Œ ê¸°ë¡ëœ(Partial write)ë°ì´í„° í˜ì´ì§€ ë“±ì— ëŒ€í•œ ì¸ë ¨ì˜ ë³µêµ¬ ì‘ì—…ì´ ìë™ìœ¼ë¡œ ì§„í–‰ëœë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë§¤ìš° ê²¬ê³ í•´ì„œ ë°ì´í„° íŒŒì¼ì´ ì†ìƒë˜ê±°ë‚˜ MySQL ì„œë²„ê°€ ì‹œì‘ë˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ëŠ” ê±°ì˜ ë°œìƒí•˜ì§€ ì•Šì§€ë§Œ, ë””ìŠ¤í¬ë‚˜ í•˜ë“œì›¨ì–´ ì´ìŠˆë¡œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ìë™ìœ¼ë¡œ ë³µêµ¬ë¥¼ ëª» í•˜ëŠ” ê²½ìš°ë„ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë°, í•œë²ˆ ë¬¸ì œê°€ ìƒê¸°ë©´ ë³µêµ¬í•˜ê¸° ì‰½ì§€ ì•Šë‹¤.\nInnoDB ë°ì´í„° íŒŒì¼ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ê°€ ì‹œì‘ë  ë•Œ ìë™ ë³µêµ¬ë¥¼ ìˆ˜í–‰í•˜ë©°, ìë™ìœ¼ë¡œ ë³µêµ¬ë  ìˆ˜ ì—†ëŠ” ì†ìƒì´ ìˆë‹¤ë©´ ì„œë²„ê°€ ì¢…ë£Œëœë‹¤.\nì¥ì•  ë³µêµ¬ ëŒ€ì‘ MySQL ì„œë²„ì˜ ì„¤ì • íŒŒì¼ì— innodb_force_recovery ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì—¬ ì‹œì‘í•´ì•¼ í•œë‹¤.\n6: ë¡œê·¸ íŒŒì¼ ì†ìƒ 1: í…Œì´ë¸”ì˜ ë°ì´í„° íŒŒì¼ì´ ì†ìƒ ì–´ë–¤ ë¶€ë¶„ì´ ë¬¸ì œì¸ì§€ ì•Œ ìˆ˜ ì—†ë‹¤ë©´ 1~6ê¹Œì§€ ë³€ê²½í•˜ë©° ì¬ì‹¤í–‰ ì´í›„ ì„œë²„ê°€ ê°€ë™ë˜ê³  InnoDB í…Œì´ë¸”ì´ ì¸ì‹ëœë‹¤ë©´ mysqldumpë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ê°€ëŠ¥í•œ ë§Œí¼ ë°±ì—…í•˜ê³  ê·¸ ë°ì´í„°ë¡œ MySQL ì„œë²„ì˜ DBì™€ í…Œì´ë¸”ì„ ë‹¤ì‹œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nInnoDB_force_recovery ì˜µì…˜ 1(SRV_FORCE_IGNORE_CORRUPT):\ní…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì˜ ë°ì´í„°ë‚˜ ì¸ë±ìŠ¤ í˜ì´ì§€ì—ì„œ ì†ìƒëœ ë¶€ë¶„ì´ ë°œê²¬ë˜ë„ ë¬´ì‹œí•˜ê³  ì„œë²„ë¥¼ ì‹œì‘í•œë‹¤. \u0026lsquo;Database page corruption on disk or a failed\u0026rsquo; ì¶œë ¥ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. mysqldumpë‚˜ SELECT INTO OUTFILE ...ë¥¼ ì´ìš©í•´ ë¤í”„í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì‹œ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 2(SRV_FORCE_NO_BACKGROUND):\në°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ ê°€ìš´ë° ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ì‹œì‘í•˜ì§€ ì•Šê³  MySQL ì„œë²„ë¥¼ ì‹œì‘í•œë‹¤. ë©”ì¸ ìŠ¤ë ˆë“œê°€ ì–¸ë‘ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ê³¼ì •ì—ì„œ ì¥ì• ê°€ ë°œìƒí–ˆì„ë•Œ ì‚¬ìš© 3(SRV_FORCE_NO_TRX_UNDO):\nì¼ë°˜ì ìœ¼ë¡œ MySQL ì„œë²„ëŠ” ì¬ì‹¤í–‰ì‹œ ì–¸ë‘ ì˜ì—­ì˜ ë°ì´í„°ë¥¼ ë¨¼ì € íŒŒì¼ì— ì ìš©í•˜ê³  ë¦¬ë‘ ë¡œê·¸ì˜ ë‚´ìš©ì„ ë‹¤ì‹œ ë®ì–´ì¨ì„œ ì¥ì•  ì‹œì ì˜ ë°ì´í„° ìƒíƒœë¥¼ ë§Œë“¤ì–´ ë‚¸ í›„, ìµœì¢…ì ìœ¼ë¡œ ì»¤ë°‹ë˜ì§€ ì•Šì€ íŠ¸ëœì­ì…˜ì˜ ì‘ì—…ì„ ë¡¤ë°±í•˜ì§€ë§Œ 3ìœ¼ë¡œ ì„¤ì •ì‹œ ë¡¤ë°±í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë‚˜ë‘”ë‹¤. ì»¤ë°‹ë˜ì§€ ì•Šê³  ì¢…ë£Œëœ íŠ¸ëœì­ì…˜ì€ ê³„ì† ê·¸ ìƒíƒœë¡œ ë‚¨ì•„ìˆê²Œ ëœë‹¤. ë°±ì—… í›„ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì‹œ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 4(SRV_FORCE_NO_IBUF_MERGE):\nInnoDBëŠ” INSERT, UPDATE, DELETE ë“±ì˜ ë°ì´í„° ë³€ê²½ìœ¼ë¡œ ì¸í•œ ì¸ë±ìŠ¤ ë³€ê²½ ì‘ì—…ì„ ìƒí™©ì— ë”°ë¼ ì¦‰ì‹œì²˜ë¦¬ í˜¹ì€ ë²„í¼ì— ë‘ê³  ë‚˜ì¤‘ì— ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì¸ì„œíŠ¸ ë²„í¼ë¥¼ í†µí•´ ì²˜ë¦¬ê°€ ë  ê²½ìš°, ë¹„ì •ìƒ ì¢…ë£Œì‹œ ë³‘í•© ë ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ì¸ì„œíŠ¸ ë²„í¼ì˜ ì†ìƒì„ ê°ì§€í•˜ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œì¼œ MySQL ì„œë²„ì˜ ì‹¤í–‰ì„ ë§‰ëŠ”ë‹¤. ì¸ì„œíŠ¸ ë²„í¼ì˜ ë‚´ìš©ì„ ë¬´ì‹œí•˜ê³  ê°•ì œë¡œ MySQLì„ ì‹¤í–‰ì‹œí‚¨ë‹¤. ì¸ì„œíŠ¸ ë²„í¼ëŠ” ì‹¤ì œ ë°ì´í„°ì™€ ê´€ë ¨ëœ ë¶€ë¶„ì´ ì•„ë‹ˆë¼, ì¸ë±ìŠ¤ì— ê´€ë ¨ëœ ë¶€ë¶„ì´ë¯€ë¡œ í…Œì´ë¸”ì„ í…€í”„í•œ í›„ ë‹¤ì‹œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ë©´ ë°ì´í„°ì˜ ì†ì‹¤ ì—†ì´ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤. 5(SRV_FORCE_NO_UNDO_LOG_SCAN):\nMySQL ì„œë²„ê°€ ì¢…ë£Œë˜ëŠ” ì‹œì ì— ì²˜ë¦¬ì¤‘ì¸ íŠ¸ëœì­ì…˜ì´ ìˆì„ ê²½ìš° ë³„ë„ì˜ ì²˜ë¦¬ ì—†ì´ ì»¤ë„¥ì…˜ì„ ê°•ì œë¡œ ëŠì–´ë²„ë¦¬ê³  ì¢…ë£Œëœë‹¤. MySQL ì„œë²„ê°€ ì¬ì‹¤í–‰ë˜ë©´ InnoDB ì—”ì§„ì€ ì–¸ë‘ ë ˆì½”ë“œë¥¼ ì´ìš©í•´ ë°ì´í„° í˜ì´ì§€ë¥¼ ë³µêµ¬í•˜ê³  ë¦¬ë‘ ë¡œê·¸ë¥¼ ì ìš©í•´ ì¢…ë£Œ ì‹œì ì˜ ìƒíƒœë¡œ ë§Œë“¤ê³ , ì»¤ë°‹ë˜ì§€ ì•Šì€ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•œ ì‘ì—…ì€ ëª¨ë‘ ë¡¤ë°± ì²˜ë¦¬í•œë‹¤. ì´ë•Œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ì–¸ë‘ ë¡œê·¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ MySQL ì„œë²„ê°€ ì‹¤í–‰ë  ìˆ˜ ì—†ë‹¤. ì–¸ë‘ ë¡œê·¸ë¥¼ ëª¨ë‘ ë¬´ì‹œí•˜ê³  ì‹¤í–‰í•œë‹¤. MySQL ì„œë²„ê°€ ì¢…ë£Œë˜ë˜ ì‹œì ì— ì»¤ë°‹ë˜ì§€ ì•Šì•˜ë˜ ì‘ì—…ë„ ëª¨ë‘ ì»¤ë°‹ëœ ê²ƒì²˜ëŸ¼ ì²˜ë¦¬ë˜ì–´ ì˜ëª»ëœ ë°ì´í„°ê°€ ë‚¨ì„ ìˆ˜ ìˆë‹¤. ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒˆë¡œ êµ¬ì¶•í•´ì•¼í•œë‹¤. 6(SRV_FORCE_NO_LOG_REDO):\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¦¬ë‘ ë¡œê·¸ê°€ ì†ìƒë˜ë©´ MySQL ì„œë²„ê°€ ì‹¤í–‰ë˜ì§€ ëª»í•œë‹¤. í•´ë‹¹ ë³µêµ¬ ëª¨ë“œë¡œ ì‹¤í–‰í•˜ë©´ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë¬´ì‹œí•˜ê³  ì„œë²„ê°€ ì‹¤í–‰ëœë‹¤.\níŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ëë‹¤ í•˜ë”ë¼ë„ ë¦¬ë‘ ë¡œê·¸ì—ë§Œ ê¸°ë¡ë˜ê³  ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ì•Šì€ ë°ì´í„°ëŠ” ëª¨ë‘ ë¬´ì‹œë˜ë¯€ë¡œ ë§ˆì§€ë§‰ ì²´í¬ í¬ì¸íŠ¸ì‹œì ì˜ ë°ì´í„°ë§Œ ë‚¨ê²Œ ëœë‹¤. ê¸°ì¡´ InnoDBì˜ ë¦¬ë‘ ë¡œê·¸ëŠ” ëª¨ë‘ ì‚­ì œ ë˜ëŠ” ë°±ì—…í•˜ê³  MySQL ì„œë²„ë¥¼ ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê³  MySQL ì„œë²„ë¥¼ ìƒˆë¡œ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ìœ„ ë°©ë²•ì„ ìˆ˜í–‰í•´ë„ MySQLì„œë²„ê°€ ì‹œì‘ë˜ì§€ ì•Šìœ¼ë©´ ë°±ì—…ì„ ì´ìš©í•´ ë‹¤ì‹œ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ë°–ì— ì—†ë‹¤. ë°±ì—…ì´ ìˆë‹¤ë©´ ë§ˆì§€ë§‰ ë°±ì—…ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì‹œ êµ¬ì¶•í•˜ê³ , ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•´ ìµœëŒ€í•œ ì¥ì•  ì‹œì ê¹Œì§€ì˜ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ë„ ìˆë‹¤.\në§ˆì§€ë§‰ í’€ ë°±ì—… ì‹œì ë¶€í„° ì¥ì•  ì‹œì ê¹Œì§€ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ ìˆë‹¤ë©´ ì´ìš©í•˜ëŠ” ê²ƒì´ ë°ì´í„° ì†ì‹¤ì´ ë” ì ì„ ìˆ˜ ìˆë‹¤.\në°±ì—…ì€ ìˆì§€ë§Œ ë³µì œì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ ì—†ê±°ë‚˜ ì†ì‹¤ë˜ì—ˆë‹¤ë©´, ë§ˆì§€ë§‰ ë°±ì—… ì‹œì ê°€ì§€ë§Œ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-11T19:15:11+09:00","image":"https://codemario318.github.io/post/real-mysql/4/2/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/4/2/1/","title":"4.2 InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜(1)"},{"content":"MySQLì˜ ì „ì²´ êµ¬ì¡° MySQL ì„œë²„ëŠ” í¬ê²Œ MySQL ì—”ì§„ê³¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\nì‚¬ëŒìœ¼ë¡œ ë¹„ìœ í•˜ë©´ MySQL ì—”ì§„ì€ ë¨¸ë¦¬ ì—­í• ì„ ë‹´ë‹´í•˜ê³ , ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì†ê³¼ ë°œì˜ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nMySQL ì—”ì§„ MySQL ì—”ì§„ì€ ìš”ì²­ëœ SQL ë¬¸ì¥ì„ ë¶„ì„í•˜ê±°ë‚˜ ìµœì í™”í•˜ëŠ” ë“± DBMSì˜ ë‘ë‡Œì— í•´ë‹¹í•˜ëŠ” ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.\nì»¤ë„¥ì…˜ í•¸ë“¤ëŸ¬: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì— ë”°ë¼ ìƒˆë¡œìš´ ì—°ê²°ì„ ìƒì„±í•˜ê³  ê´€ë¦¬ SQL íŒŒì„œ ë° ì „ì²˜ë¦¬ê¸°: SQL ì¿¼ë¦¬ë¥¼ ìµœì í™” ë° ì‹¤í–‰í•˜ê¸° ì „ì— êµ¬ë¬¸ ë¶„ì„ ë° ì „ì²˜ë¦¬ë¥¼ ë‹´ë‹¹ ì˜µí‹°ë§ˆì´ì €: ì¿¼ë¦¬ì˜ ìµœì í™” MySQLì€ í‘œì¤€ SQL(ANSI SQL) ë¬¸ë²•ì„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— í‘œì¤€ ë¬¸ë²•ì— ë”°ë¼ ì‘ì„±ëœ ì¿¼ë¦¬ëŠ” íƒ€ DBMSì™€ í˜¸í™˜ë˜ì–´ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì‹¤ì œ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ê±°ë‚˜ ë””ìŠ¤í¬ ìŠ¤í† ë¦¬ì§€ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ëŠ” ì—­í•  ìˆ˜í–‰í•œë‹¤.\nMySQL ì„œë²„ì—ì„œ MySQLì—”ì§„ì€ í•˜ë‚˜ì§€ë§Œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì—¬ëŸ¬ ê°œë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 CREATE TABLE test_table (fd1 INT, fd2 INT) ENGINE=INNODB; ìœ„ì²˜ëŸ¼ í…Œì´ë¸”ì´ ì‚¬ìš©í•  ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì§€ì •í•˜ë©´ í•´ë‹¹ í…Œì´ë¸”ì˜ ëª¨ë“  ì½ê¸° ì‘ì—…ê³¼ ë³€ê²½ ì‘ì—…ì€ ì •ì˜ëœ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ì²˜ë¦¬í•œë‹¤.\nê° ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ í‚¤ ìºì‹œ(MyISAM), ë²„í¼í’€(InnoDB) ê°™ì€ ê¸°ëŠ¥ì„ ë‚´ì¥í•˜ê³  ìˆë‹¤.\ní•¸ë“¤ëŸ¬ API MySQL ì—”ì§„ì˜ ì¿¼ë¦¬ ì‹¤í–‰ê¸°ì—ì„œ ë°ì´í„°ë¥¼ ì“°ê±°ë‚˜ ì½ì–´ì•¼ í•  ë•ŒëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì“°ê¸° ë˜ëŠ” ì½ê¸°ë¥¼ ìš”ì²­í•˜ëŠ”ë°, ì´ëŸ¬í•œ ìš”ì²­ì„ í•¸ë“¤ëŸ¬ ìš”ì²­ì´ë¼ê³  í•˜ë©°, ì‚¬ìš©ë˜ëŠ” APIë¥¼ í•¸ë“¤ëŸ¬ APIë¼ê³  í•œë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë˜í•œ ì´ í•¸ë“¤ëŸ¬ APIë¥¼ ì´ìš©í•´ MySQL ì—”ì§„ê³¼ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ”ë‹¤.\ní•¸ë“¤ëŸ¬ APIë¥¼ í†µí•´ ë°œìƒí•œ ì‘ì—…ì€ ì•„ë˜ ì¿¼ë¦¬ë¡œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.\n1 SHOW GLOBAL STATUS LIKE \u0026#39;Handler%\u0026#39;; MySQL ìŠ¤ë ˆë”© êµ¬ì¡° MySQL ì„œë²„ëŠ” í”„ë¡œì„¸ìŠ¤ ê¸°ë°˜ì´ ì•„ë‹ˆë¼ ìŠ¤ë ˆë“œ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.\nMySQL ì„œë²„ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ìŠ¤ë ˆë“œ ëª©ë¡ì€ performance_schema ë°ì´í„°ë² ì´ìŠ¤ì— threads í…Œì´ë¸”ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 SELECT thread_id ,name ,type ,processlist_user ,processlist_host FROM performance_schema.threads ORDER BY type,thread_id ; ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ëŠ” MySQL ì„œë²„ì˜ ì„¤ì • ë‚´ìš©ì— ë”°ë¼ ê°€ë³€ì ì¼ ìˆ˜ ìˆë‹¤. ë™ì¼í•œ ìŠ¤ë ˆë“œê°€ 2ê°œ ì´ìƒì”© ë³´ì´ëŠ” ê²ƒì€ MySQL ì„œë²„ì˜ ì„¤ì • ë‚´ìš©ì— ì˜í•´ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì¼ ì‘ì—…ì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²½ìš°ì´ë‹¤.\ní¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ(í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œ) í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œëŠ” í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì´ëŸ¬í•œ ìŠ¤ë ˆë“œëŠ” ì¿¼ë¦¬ ì‹¤í–‰ ì¤‘ì— CPU ë° I/O ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, ì„±ëŠ¥ì— ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.\ní¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œëŠ” ìµœì†Œí•œ MySQL ì„œë²„ì— ì ‘ì†ëœ í´ë¼ì´ì–¸íŠ¸ì˜ ìˆ˜ë§Œí¼ ì¡´ì¬í•˜ë©°, ì£¼ë¡œ ê° í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©ìê°€ ìš”ì²­í•˜ëŠ” ì¿¼ë¦¬ ë¬¸ì¥ì„ ì²˜ë¦¬í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©ìê°€ ì‘ì—…ì„ ë§ˆì¹˜ê³  ì»¤ë„¥ì…˜ì„ ì¢…ë£Œí•˜ë©´, í•´ë‹¹ ì»¤ë„¥ì…˜ì„ ë‹´ë‹¹í•˜ë˜ ìŠ¤ë ˆë“œëŠ” ë‹¤ì‹œ ìŠ¤ë ˆë“œ ìºì‹œë¡œ ëŒì•„ê°„ë‹¤.\nì´ë•Œ ì´ë¯¸ ìŠ¤ë ˆë“œ ìºì‹œì— ì¼ì • ê°œìˆ˜ ì´ìƒì˜ ëŒ€ê¸°ì¤‘ì¸ ìŠ¤ë ˆë“œê°€ ìˆìœ¼ë©´ ìŠ¤ë ˆë“œ ìºì‹œì— ë„£ì§€ ì•Šê³  ìŠ¤ë ˆë“œë¥¼ ì¢…ë£Œì‹œì¼œ ì¼ì • ê°œìˆ˜ì˜ ìŠ¤ë ˆë“œë§Œ ìŠ¤ë ˆë“œ ìºì‹œì— ì¡´ì¬í•˜ê²Œ í•œë‹¤.\nìŠ¤ë ˆë“œ ìºì‹œì— ìœ ì§€í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ìŠ¤ë ˆë“œ ê°œìˆ˜ëŠ” thread_cache_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì„¤ì •í•œë‹¤.\ní¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œëŠ” ë°ì´í„°ë¥¼ MySQL ë°ì´í„° ë²„í¼ë‚˜ ìºì‹œë¡œ ë¶€í„° ê°€ì ¸ì˜¤ë©°, ë²„í¼ë‚˜ ìºì‹œì— ì—†ëŠ” ê²½ìš° ì§ì ‘ ë””ìŠ¤í¬ì˜ ë°ì´í„°ë‚˜ ì¸ë±ìŠ¤ íŒŒì¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ì–´ì™€ì„œ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.\nMyISAM: ë””ìŠ¤í¬ ì“°ê¸° ì‘ì—…ê¹Œì§€ í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ì²˜ë¦¬ InnoDB: ë°ì´í„° ë²„í¼ë‚˜ ìºì‹œê¹Œì§€ë§Œ í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ì²˜ë¦¬ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ MyISAMì˜ ê²½ìš° í•´ë‹¹ ì‚¬í•­ì´ ë³„ë¡œ ì—†ì§€ë§Œ, InnoDBëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì—¬ëŸ¬ê°€ì§€ ì‘ì—…ì´ ë°±ê·¸ë¼ìš´ë“œë¡œ ì²˜ë¦¬ëœë‹¤.\nì¸ì„œíŠ¸ ë²„í¼(Insert Buffer)ë¥¼ ë³‘í•©í•˜ëŠ” ìŠ¤ë ˆë“œ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ëŠ” ìŠ¤ë ˆë“œ InnoDB ë²„í¼í’€ì˜ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ëŠ” ìŠ¤ë ˆë“œ ë°ì´í„° ë²„í¼ë¡œ ì½ì–´ ì˜¤ëŠ” ìŠ¤ë ˆë“œ ì ê¸ˆì´ë‚˜ ë°ë“œë½ì„ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ìŠ¤ë ˆë“œ ëª¨ë‘ ì¤‘ìš”í•œ ì—­í• ì„ ìˆ˜í–‰í•˜ì§€ë§Œ ë¡œê·¸ ìŠ¤ë ˆë“œì™€ ë²„í¼ì˜ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ë¡œ ë‚´ë ¤ì“°ëŠ” ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì“°ê¸° ìŠ¤ë ˆë“œ(Write thread)ê°€ íŠ¹íˆ ì¤‘ìš”í•˜ë‹¤.\nMySQL 5.5 ë²„ì „ë¶€í„° ë°ì´í„° ì“°ê¸° ìŠ¤ë ˆë“œì™€ ë°ì´í„° ì½ê¸° ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ 2ê°œ ì´ìƒ ì§€ì •í•  ìˆ˜ ìˆê²Œ ëìœ¼ë©°, innodb_write_io_thread, innodb_read_io_threads ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.\nInnoDBì—ì„œë„ ë°ì´í„°ë¥¼ ì½ëŠ” ì‘ì—…ì€ ì£¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ì½ê¸° ìŠ¤ë ˆë“œëŠ” ë§ì´ ì„¤ì •í•  í•„ìš”ëŠ” ì—†ì§€ë§Œ, ì“°ê¸° ìŠ¤ë ˆë“œëŠ” ì•„ì£¼ ë§ì€ ì‘ì—…ì„ ë°±ê·¸ë¼ìš´ë“œë¡œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì¼ë°˜ì ì¸ ë‚´ì¥ ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í• ë•ŒëŠ” 2~4 ì •ë„, DAS, SANê³¼ ê°™ì€ ìŠ¤í† ë¦¬ì§€ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë””ìŠ¤í¬ë¥¼ ìµœì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ë§Œí¼ ì¶©ë¶„íˆ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë„ì¤‘ ë°ì´í„°ì˜ ì“°ê¸° ì‘ì—…ì€ ì§€ì—°(ë²„í¼ë§)ë˜ì–´ ì²˜ë¦¬ë  ìˆ˜ ìˆì§€ë§Œ ë°ì´í„°ì˜ ì½ê¸° ì‘ì—…ì€ ì ˆëŒ€ ì§€ì—°ë  ìˆ˜ ì—†ë‹¤. ì¼ë°˜ì ì¸ ìƒìš© DBMSì—ëŠ” ëŒ€ë¶€ë¶„ ì“°ê¸° ì‘ì—…ì„ ë²„í¼ë§í•´ì„œ ì¼ê´„ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤.\nInnoDB: INSERT, UPDATE, DELETE ì¿¼ë¦¬ë¡œ ë°ì´í„°ê°€ ë³€ê²½ë˜ëŠ” ê²½ìš° ë°ì´í„°ê°€ ë””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ë¡œ ì™„ì „íˆ ì €ì¥ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šì•„ë„ ëœë‹¤. MyISAM: ì‚¬ìš©ì ìŠ¤ë ˆë“œê°€ ì“°ê¸° ì‘ì—…ê¹Œì§€ í•¨ê»˜ ì²˜ë¦¬í•˜ë„ë¡ ì„¤ê³„ë˜ì–´, ì¼ë°˜ì ì¸ ì¿¼ë¦¬ëŠ” ì“°ê¸° ë²„í¼ë§ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë©”ëª¨ë¦¬ í• ë‹¹ ë° ì‚¬ìš© êµ¬ì¡° ê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ê³¼ ë¡œì»¬ ë©”ëª¨ë¦¬ ì˜ì—­ìœ¼ë¡œ êµ¬ë¶„ë˜ë©°, ì„œë²„ ë‚´ì— ì¡´ì¬í•˜ëŠ” ë§ì€ ìŠ¤ë ˆë“œê°€ ê³µìœ í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê³µê°„ì¸ì§€ ì—¬ë¶€ì— ë”°ë¼ êµ¬ë¶„ëœë‹¤.\nê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ ì¼ë°˜ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œì˜ ìˆ˜ì™€ ë¬´ê´€í•˜ê²Œ í•˜ë‚˜ì˜ ë©”ëª¨ë¦¬ ê³µê°„ë§Œ í• ë‹¹ëœë‹¤. í•„ìš”ì— ë”°ë¼ 2ê°œ ì´ìƒì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ í• ë‹¹ë°›ì„ ìˆ˜ë„ ìˆì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì˜ ìŠ¤ë ˆë“œ ìˆ˜ì™€ ë¬´ê´€í•˜ë©°, ìƒì„±ëœ ê¸€ë¡œë²Œ ì˜ì—­ì´ Nê°œë¼ í•˜ë”ë¼ë„ ëª¨ë“  ìŠ¤ë ˆë“œì— ì˜í•´ ê³µìœ ëœë‹¤.\ní…Œì´ë¸” ìºì‹œ InnoDB ë²„í¼í’€ InnoDB ì–´ëŒ‘í‹°ë“œ í•´ì‹œ ì¸ë±ìŠ¤ InnoDB ë¦¬ë‘ ë¡œê·¸ ë²„í¼ ë“±ì´ ëŒ€í‘œì ì¸ ê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ì´ë‹¤.\në¡œì»¬ ë©”ëª¨ë¦¬ ì˜ì—­ ì„¸ì…˜ ë©”ëª¨ë¦¬ ì˜ì—­ì´ë¼ê³ ë„ í‘œí˜„í•˜ë©°, MySQL ì„œë²„ìƒì— ì¡´ì¬í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œê°€ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­ì´ë‹¤.\nì •ë ¬ ë²„í¼ ì¡°ì¸ ë²„í¼ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ìºì‹œ ë„¤íŠ¸ì›Œí¬ ë²„í¼ MySQL ì„œë²„ì— í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì†í•˜ë©´, í´ë¼ì´ì–¸íŠ¸ ì»¤ë„¥ì…˜(ì„¸ì…˜)ìœ¼ë¡œë¶€í„°ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ì”© í• ë‹¹í•˜ê²Œ ë˜ëŠ”ë°, í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œê°€ ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì´ë¼ê³  í•´ì„œ í´ë¼ì´ì–¸íŠ¸ ë©”ëª¨ë¦¬ ì˜ì—­ì´ë¼ê³ ë„ í•œë‹¤.\në¡œì»¬ ë©”ëª¨ë¦¬ëŠ” ê° í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ í• ë‹¹ë˜ë©° ì ˆëŒ€ ê³µìœ ë˜ì–´ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ì˜ í¬ê¸°ëŠ” ì£¼ì˜í•´ì„œ ì„¤ì •í•˜ì§€ë§Œ ì†ŒíŠ¸ ë²„í¼ì™€ ê°™ì€ ì˜¤ì»¬ ë©”ëª¨ë¦¬ ì˜ì—­ì€ í¬ê²Œ ì‹ ê²½ ì“°ì§€ ì•Šê³  ì„¤ì •í•˜ëŠ”ë°, ìµœì•…ì˜ ê²½ìš° MySQL ì„œë²„ê°€ ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ë©ˆì¶° ë²„ë¦´ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ ì ì ˆí•œ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì»¤ë„¥ì…˜ì´ ì—´ëŸ¬ìˆëŠ” ë™ì•ˆ ê³„ì† í• ë‹¹ëœ ìƒíƒœë¡œ ë‚¨ì•„ìˆëŠ” ê²½ìš°: ì»¤ë„¥ì…˜ ë²„í¼, ê²°ê³¼ ë²„í¼ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆœê°„ì—ë§Œ í• ë‹¹: ì†ŒíŠ¸ ë²„í¼, ì¡°ì¸ ë²„í¼ í”ŒëŸ¬ê·¸ì¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ëª¨ë¸ MySQLì˜ ë…íŠ¹í•œ êµ¬ì¡° ì¤‘ ëŒ€í‘œì ì¸ ì¤‘ í•˜ë‚˜ê°€ í”ŒëŸ¬ê·¸ì¸ ëª¨ë¸ì´ë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ ê²€ìƒ‰ ì—”ì§„ì„ ìœ„í•œ ê²€ìƒ‰ì–´ íŒŒì„œ ì‚¬ìš©ìì˜ ì¸ì¦ì„ ìœ„í•œ Native Authentication, Caching SHA-2 Authentication ë“± MySQLì€ ì´ë¯¸ ê¸°ë³¸ì ìœ¼ë¡œ ë§ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ê°€ì§€ê³  ìˆì§€ë§Œ, í•„ìš”ì— ì˜í•´ ì§ì ‘ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ë§Œë“œëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\nMySQLì—ì„œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì •ì„ ë³´ë©´ ëŒ€ë¶€ë¶„ ì‘ì—…ì´ MySQLì—”ì§„ì—ì„œ ì²˜ë¦¬ë˜ê³ , ë§ˆì§€ë§‰ ë°ì´í„° ì½ê¸°, ì“°ê¸° ì‘ì—…ë§Œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì˜í•´ ì²˜ë¦¬í•œë‹¤.\nGROUP BY, ORDER BY ë“± ë³µì¡í•œ ì²˜ë¦¬ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì˜ì—­ì´ ì•„ë‹ˆë¼ MySQL ì—”ì§„ì˜ ì²˜ë¦¬ ì˜ì—­ì¸ ì¿¼ë¦¬ ì‹¤í–‰ê¸°ì—ì„œ ì²˜ë¦¬ëœë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ë”°ë¼ ë°ì´í„° ì½ê¸°/ì“°ê¸° ì‘ì—… ì²˜ë¦¬ ë°©ì‹ì´ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\ní•˜ë‚˜ì˜ ì¿¼ë¦¬ ì‘ì—…ì€ ì—¬ëŸ¬ í•˜ìœ„ ì‘ì—…ìœ¼ë¡œ ë‚˜ë‰˜ëŠ”ë°, ê° í•˜ìœ„ ì‘ì—…ì´ MySQL ì—”ì§„ ì˜ì—­ì—ì„œ ì²˜ë¦¬ë˜ëŠ”ì§€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì˜ì—­ì—ì„œ ì²˜ë¦¬ë˜ëŠ”ì§€ êµ¬ë¶„í•  ì¤„ ì•Œì•„ì•¼ í•œë‹¤.\n1 2 /* ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì¡°íšŒ */ SHOW ENGINES; ì„œë²„ì— í¬í•¨ë˜ì§€ ì•Šì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ë ¤ë©´ MySQL ì„œë²„ë¥¼ ë‹¤ì‹œ ë¹Œë“œí•´ì•¼ í•œë‹¤. ì¤€ë¹„ë§Œ ë˜ì–´ìˆë‹¤ë©´ í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ë¹Œë“œëœ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë‹¤ìš´ë¡œë“œí•´ì„œ ë¼ì›Œë„£ê¸°ë§Œ í•˜ë©´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 /* í”ŒëŸ¬ê·¸ì¸ ì¡°íšŒ */ SHOW PLUGINS; ì»´í¬ë„ŒíŠ¸ í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ì´ ìˆë‹¤.\nì˜¤ì§ MySQL ì„œë²„ì™€ ì¸í…Œí˜ì´ìŠ¤í•  ìˆ˜ ìˆê³ , í”ŒëŸ¬ê·¸ì¸ë¼ë¦¬ëŠ” í†µì‹ í•  ìˆ˜ ì—†ìŒ MySQL ì„œë²„ì˜ ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì— ì•ˆì „í•˜ì§€ ì•ŠìŒ(ìº¡ìŠí™” ì•ˆë¨) í”ŒëŸ¬ê·¸ì¸ì€ ìƒí˜¸ ì˜ì¡´ ê´€ê³„ë¥¼ ì„¤ì •í•  ìˆ˜ ì—†ì–´ ì´ˆê¸°í™”ê°€ ì–´ë ¤ì›€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ MySQL 8.0 ë¶€í„°ëŠ” ê¸°ì¡´ì˜ í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ê°€ ì§€ì›ëœë‹¤.\nì˜ˆë¥¼ ë“¤ë©´, MySQL 5.7 ë²„ì „ê¹Œì§€ëŠ” ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ê¸°ëŠ¥ì´ í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ì œê³µëì§€ë§Œ MySQL8.0ì˜ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ê¸°ëŠ¥ì€ ì»´í¬ë„ŒíŠ¸ë¡œ ê°œì„ ëë‹¤.\n1 2 3 4 5 /* validate_password ì„¤ì¹˜ */ INSTALL COMPONENT \u0026#39;file://component_validate_password\u0026#39;; /* ì„¤ì¹˜ëœ ì»´í¬ë„ŒíŠ¸ í™•ì¸ */ SELECT * FROM mysql.component; ì¿¼ë¦¬ ì‹¤í–‰ êµ¬ì¡° ì¿¼ë¦¬ íŒŒì„œ ì¿¼ë¦¬ íŒŒì„œëŠ” ì‚¬ìš©ì ìš”ì²­ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì¿¼ë¦¬ ë¬¸ì¥ì„ í† í°(MySQLì´ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ìµœì†Œ ë‹¨ìœ„ì˜ ì–´íœ˜ë‚˜ ê¸°í˜¸)ìœ¼ë¡œ ë¶„ë¦¬í•´ íŠ¸ë¦¬ í˜•íƒœì˜ êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ ë‚´ëŠ” ì‘ì—…ì„ ì˜ë¯¸í•œë‹¤.\nì¿¼ë¦¬ ë¬¸ì¥ì˜ ê¸°ë³¸ ë¬¸ë²• ì˜¤ë¥˜ëŠ” ì´ ê³¼ì •ì—ì„œ ë°œê²¬ë˜ê³  ì‚¬ìš©ìì—ê²Œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ê²Œ ëœë‹¤. ì „ì²˜ë¦¬ê¸° íŒŒì„œ ê³¼ì •ì—ì„œ ë§Œë“¤ì–´ì§„ íŒŒì„œ íŠ¸ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¿¼ë¦¬ ë¬¸ì¥ì— êµ¬ì¡°ì ì¸ ë¬¸ì œì ì´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.\nê° í† í°ì„ í…Œì´ë¸” ì´ë¦„ì´ë‚˜ ì»¬ëŸ¼ ì´ë¦„, ë˜ëŠ” ë‚´ì¥ í•¨ìˆ˜ì™€ ê°™ì€ ê°œì²´ë¥¼ ë§¤í•‘í•´ í•´ë‹¹ ê°ì²´ì˜ ì¡´ì¬ ì—¬ë¶€ì™€ ê°ì²´ì˜ ì ‘ê·¼ ê¶Œí•œ ë“±ì„ í™•ì¸í•˜ëŠ” ê³¼ì •ì„ ìˆ˜í–‰í•œë‹¤.\nì‹¤ì œ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ê¶Œí•œìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê°œì²´ì˜ í† í°(ì»¬ëŸ¼, ë‚´ì¥ í•¨ìˆ˜)ì€ ì´ ë‹¨ê³„ì—ì„œ ê±¸ëŸ¬ì§„ë‹¤. ì˜µí‹°ë§ˆì´ì € ì‚¬ìš©ìì˜ ìš”ì²­ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì¿¼ë¦¬ ë¬¸ì¥ì„ ì €ë ´í•œ ë¹„ìš©ìœ¼ë¡œ ê°€ì¥ ë¹ ë¥´ê²Œ ì²˜ë¦¬í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nDBMSì˜ ë‘ë‡Œì— ë¹„ìœ ë˜ë©°, ì˜µí‹°ë§ˆì´ì €ê°€ ë” ë‚˜ì€ ì„ íƒì„ í•˜ë„ë¡ ìœ ë„í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.\nì‹¤í–‰ ì—”ì§„ ì˜µí‹°ë§ˆì´ì €ê°€ ë‘ë‡Œë¼ë©´ ì‹¤í–‰ ì—”ì§„ê³¼ í•¸ë“¤ëŸ¬ëŠ” ì†ê³¼ ë°œì— ë¹„ìœ í•  ìˆ˜ ìˆë‹¤.\nì˜µí‹°ë§ˆì´ì €ê°€ GROUP BYë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆë‹¤ë©´ ì•„ë˜ ê³¼ì •ì„ ê±°ì¹  ìˆ˜ ìˆë‹¤.\nì‹¤í–‰ ì—”ì§„ì´ í•¸ë“¤ëŸ¬ì—ê²Œ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ë¼ê³  ìš”ì²­ ì‹¤í–‰ ì—”ì§„ì€ WHERE ì ˆì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì½ì–´ì˜¤ë¼ê³  í•¸ë“¤ëŸ¬ì—ê²Œ ìš”ì²­ ì½ì–´ì˜¨ ë ˆì½”ë“œë“¤ì„ 1ë²ˆì—ì„œ ì¤€ë¹„í•œ ì„ì‹œ í…Œì´ë¸”ë¡œ ì €ì¥í•˜ë¼ê³  í•¸ë“¤ëŸ¬ì—ê²Œ ìš”ì²­ ë°ì´í„°ê°€ ì¤€ë¹„ëœ ì„ì‹œ í…Œì´ë¸”ì—ì„œ í•„ìš”í•œ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì½ì–´ ì˜¤ë¼ê³  í•¸ë“¤ëŸ¬ì—ê²Œ ìš”ì²­ ê²°ê³¼ë¥¼ ì‚¬ìš©ìë‚˜ ë‹¤ë¥¸ ëª¨ë“ˆë¡œ ë„˜ê¹€ ì¦‰, ë§Œë“¤ì–´ì§„ ê³„íšëŒ€ë¡œ ê° í•¸ë“¤ëŸ¬ì—ê²Œ ìš”ì²­í•´ì„œ ë°›ì€ ê²°ê³¼ë¥¼ ë˜ ë‹¤ë¥¸ í•¸ë“¤ëŸ¬ ìš”ì²­ì˜ ì…ë ¥ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\ní•¸ë“¤ëŸ¬(ìŠ¤í† ë¦¬ì§€ ì—”ì§„) MySQL ì„œë²„ì˜ ê°€ì¥ ë°‘ë‹¨ì—ì„œ ì‹¤í–‰ ì—”ì§„ì˜ ìš”ì²­ì— ë”°ë¼ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ë¡œ ì €ì¥í•˜ê³  ë””ìŠ¤í¬ë¡œë¶€í„° ì½ì–´ ì˜¤ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\ní•¸ë“¤ëŸ¬ëŠ” ê²°êµ­ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì˜ë¯¸í•˜ë©°, MyISAM í…Œì´ë¸”ì„ ì¡°ì‘í•˜ëŠ” ê²½ìš° í•¸ë“¤ëŸ¬ê°€ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë˜ê³ , InnoDB í…Œì´ë¸”ì„ ì¡°ì‘í•˜ëŠ” ê²½ìš° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ëœë‹¤.\në³µì œ MySQL ì„œë²„ì—ì„œ ë³µì œ(Replication)ëŠ” ë§¤ìš° ì¤‘ìš”í•œ ì—­í• ì„ ë‹´ë‹¹í•˜ë©°, ì§€ê¸ˆê¹Œì§€ MySQL ì„œë²„ì—ì„œ ë³µì œëŠ” ë§ì€ ë°œì „ì„ ê±°ë“­í•´ì™”ë‹¤.(16ì¥)\nì¿¼ë¦¬ ìºì‹œ ì¿¼ë¦¬ ìºì‹œëŠ” ë¹ ë¥¸ ì‘ë‹µì„ í•„ìš”ë¡œ í•˜ëŠ” ì›¹ ê¸°ë°˜ì˜ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ë§¤ìš° ì¤‘ìš”í•œ ì—­í• ì„ ë‹´ë‹¹í–ˆë‹¤. ì¿¼ë¦¬ ìºì‹œëŠ” SQLì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•˜ê³ , ë™ì¼ SQL ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ë©´ í…Œì´ë¸”ì„ ì½ì§€ ì•Šê³  ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ë§¤ìš° ë¹ ë¥¸ ì„±ëŠ¥ì„ ë³´ì˜€ë‹¤.\ní•˜ì§€ë§Œ ì¿¼ë¦¬ ìºì‹œëŠ” í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ë³€ê²½ë˜ë©´ ìºì‹œì— ì €ì¥ëœ ê²°ê³¼ ì¤‘ì—ì„œ ë³€ê²½ëœ í…Œì´ë¸”ê³¼ ê´€ë ¨ëœ í…Œì´ë¸”ê³¼ ê´€ë ¨ëœ ê²ƒë“¤ì€ ëª¨ë‘ ì‚­ì œ(Invalidate)í•´ì•¼ í•˜ë¯€ë¡œ, ì‹¬ê°í•œ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ ì €í•˜ë¥¼ ìœ ë°œí•œë‹¤. ë˜í•œ MySQL ì„œë²„ê°€ ë°œì „í•˜ë©´ì„œ ì„±ëŠ¥ì´ ê°œì„ ë˜ëŠ” ê³¼ì •ì—ì„œ ì¿¼ë¦¬ ìºì‹œëŠ” ê³„ì†ëœ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ ì €í•˜ì™€ ë§ì€ ë²„ê·¸ì˜ ì›ì¸ì´ ë˜ê¸°ë„ í–ˆë‹¤.\në‹¤ìˆ˜ì˜ í´ë¼ì´ì–¸íŠ¸ê°€ ë™ì‹œì— ê°™ì€ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ì¿¼ë¦¬ ìºì‹œ ë½(query cache lock)ì´ ë°œìƒ ê°€ëŠ¥í•˜ë‹¤. ì´ëŠ” ì¿¼ë¦¬ ìºì‹œì— ìƒˆë¡œìš´ ê²°ê³¼ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ê¸°ì¡´ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë½(lock)ìœ¼ë¡œ, ë™ì‹œ ì²˜ë¦¬ê°€ ë§ì€ ì‹œìŠ¤í…œì—ì„œëŠ” ì¿¼ë¦¬ ìºì‹œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ë” ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì¼ ìˆ˜ ìˆë‹¤.\nMySQL 5.6 ì´í•˜ ë²„ì „ì—ì„œëŠ” ì¿¼ë¦¬ ìºì‹œê°€ InnoDB ë˜ëŠ” NDB Cluster ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ ë™ì‘í•˜ëŠ”ë° MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë„ ì¿¼ë¦¬ ìºì‹œë¥¼ ì¼œë©´ ì¿¼ë¦¬ ê²°ê³¼ê°€ ë¬´í•œì • ìºì‹œë  ìˆ˜ ìˆëŠ” ë²„ê·¸ê°€ ìˆì—ˆë‹¤. ì´ëŸ¬í•œ ë²„ê·¸ëŠ” ì‹œìŠ¤í…œì˜ ë¶€í•˜ë¥¼ ë†’ì¼ ë¿ë§Œ ì•„ë‹ˆë¼, ìºì‹œ ë©”ëª¨ë¦¬ì˜ ê³µê°„ì„ ì°¨ì§€í•´ ë‹¤ë¥¸ ì¿¼ë¦¬ì˜ ì‹¤í–‰ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ MySQL 8.0ìœ¼ë¡œ ì˜¬ë¼ì˜¤ë©´ì„œ ì™„ì „íˆ ì œê±°ë˜ê³ , ê´€ë ¨ ì‹œìŠ¤í…œ ë³€ìˆ˜ë„ ëª¨ë‘ ì œê±°ë˜ì—ˆë‹¤.\nìŠ¤ë ˆë“œ í’€ MySQL ì„œë²„ ì—”í„°í”„ë¼ì´ì¦ˆ ì—ë””ì…˜ì€ ìŠ¤ë ˆë“œí’€ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ ì»¤ë®¤ë‹ˆí‹° ì—ë””ì…˜ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ Percona Server í”ŒëŸ¬ê·¸ì¸ì—ì„œ ì œê³µí•˜ëŠ” ìŠ¤ë ˆë“œí’€ ê¸°ëŠ¥ì„ ì‚´í´ë³¸ë‹¤.\nìŠ¤ë ˆë“œí’€ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œ ê°œìˆ˜ë¥¼ ì¤„ì—¬ì„œ ë™ì‹œ ì²˜ë¦¬ë˜ëŠ” ìš”ì²­ì´ ë§ë‹¤ í•˜ë”ë¼ë„ MySQL ì„œë²„ì˜ CPUê°€ ì œí•œëœ ê°œìˆ˜ì˜ ìŠ¤ë ˆë“œ ì²˜ë¦¬ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ í•˜ì—¬ ì„œë²„ì˜ ìì› ì†Œëª¨ë¥¼ ì¤„ì´ëŠ”ê²ƒì´ ëª©ì ì´ë‹¤.\ní•˜ì§€ë§Œ ìŠ¤ë ˆë“œí’€ì´ ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ëˆˆì—ë„ëŠ” ì„±ëŠ¥ í–¥ìƒì„ ë³´ì—¬ì¤€ ê²½ìš°ëŠ” ë“œë¬¼ë‹¤.\nì‹¤í–‰ ì¤‘ì¸ ìŠ¤ë ˆë“œë“¤ì„ CPUê°€ ìµœëŒ€í•œ ì˜ ì²˜ë¦¬í•´ë‚¼ ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ì¤„ì—¬ì„œ ë¹¨ë¦¬ ì²˜ë¦¬í•˜ê²Œ í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¯€ë¡œ ìŠ¤ì¼€ì¤„ë§ ê³¼ì •ì—ì„œ CPU ì‹œê°„ì„ ì œëŒ€ë¡œ í™•ë³´í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° ì¿¼ë¦¬ ì²˜ë¦¬ê°€ ë” ëŠë ¤ì§€ëŠ” ì‚¬ë¡€ë„ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì œí•œëœ ìˆ˜ì˜ ìŠ¤ë ˆë“œë§Œìœ¼ë¡œ CPUê°€ ì²˜ë¦¬í•˜ë„ë¡ ì ì ˆíˆ ìœ ë„í•˜ë©´ CPUì˜ í”„ë¡œì„¸ì„œ ì¹œí™”ë„(Processor affinity)ë„ ë†’íˆê³  ë¶ˆí•„ìš”í•œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹˜ë¥¼ ì¤„ì—¬ ì˜¤ë²„í—¤ë“œë¥¼ ë‚®ì¶œ ìˆ˜ ìˆë‹¤.\nìŠ¤ë ˆë“œ ê·¸ë£¹ ê°œìˆ˜ Percona Serverì˜ ìŠ¤ë ˆë“œ í’€ì€ ê¸°ë³¸ì ìœ¼ë¡œ CPU ì½”ì–´ì˜ ê°œìˆ˜ë§Œí¼ ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ìƒì„±í•˜ë©° ì¼ë°˜ì ìœ¼ë¡œ CPU ì½”ì–´ì˜ ê°œìˆ˜ì™€ ë§ì¶”ëŠ”ê²ƒì´ CPU í”„ë¡œì„¸ì„œ ì¹œí™”ë„ë¥¼ ë†’ì´ëŠ” ë° ì¢‹ë‹¤.\nMySQL ì„œë²„ê°€ ì²˜ë¦¬í•´ì•¼í•  ìš”ì²­ì´ ìƒê¸°ë©´ ìŠ¤ë ˆë“œí’€ë¡œ ì²˜ë¦¬ë¥¼ ì´ê´€í•˜ëŠ”ë°, ì´ë¯¸ ìŠ¤ë ˆë“œí’€ì´ ì²˜ë¦¬ì¤‘ì¸ ì‘ì—…ì´ ìˆëŠ” ê²½ìš° ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°œìˆ˜ë§Œí¼ ì¶”ê°€ë¡œ ë” ë°›ì•„ë“¤ì—¬ì„œ ì²˜ë¦¬í•œë‹¤. ë„ˆë¬´ ë§ìœ¼ë©´ ìŠ¤ì¼€ì¤„ë§í•´ì•¼ í•  ìˆ˜ë ˆë“œê°€ ë§ì•„ì ¸ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì‘ë™í•  ìˆ˜ ìˆë‹¤.\níƒ€ì´ë¨¸ ìŠ¤ë ˆë“œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ëª¨ë“  ìŠ¤ë ˆë“œê°€ ì¼ì„ ì²˜ë¦¬í•˜ê³  ìˆë‹¤ë©´ ìŠ¤ë ˆë“œ í’€ì€ í•´ë‹¹ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ìƒˆë¡œìš´ ì‘ì—… ìŠ¤ë ˆë“œë¥¼ ì¶”ê°€í• ì§€, ê¸°ì¡´ ì‘ì—… ìŠ¤ë ˆë“œê°€ ì²˜ë¦¬ë¥¼ ì™„ë£Œí•  ë•Œê°€ì§€ ê¸°ë‹¤ë¦´ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•´ì•¼ í•œë‹¤.\nì£¼ê¸°ì ìœ¼ë¡œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ìƒíƒœë¥¼ ì²´í¬í•´ì„œ thread_pool_stall_limit ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì •ì˜ëœ ì‹œê°„ì— ì‘ì—…ì„ ëë‚´ì§€ ëª»í–ˆë‹¤ë©´ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•´ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì¶”ê°€í•œë‹¤.\nëª¨ë“  ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ìŠ¤ë ˆë“œê°€ ì‘ì—…ì„ ìˆ˜í–‰ì¤‘ì´ë¼ë©´ ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°œìˆ˜ë¥¼ ë„˜ì–´ì„¤ ìˆ˜ ì—†ì–´ ëŒ€ê¸°í•´ì•¼ í•œë‹¤.\nì‘ë‹µ ì‹œê°„ì´ ì•„ì£¼ ë¯¼ê°í•œ ì„œë¹„ìŠ¤ë¼ë©´ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì ì ˆíˆ ë‚®ì¶° ì„¤ì •í•´ì•¼í•˜ë©°, 0ì— ê°€ê¹Œìš´ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šê³  ì´ëŸ° ê²½ìš°ëŠ” ìŠ¤ë ˆë“œí’€ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆë‹¤.\nìš°ì„ ìˆœìœ„ í ì„ ìˆœìœ„ íì™€ í›„ìˆœìœ„ íë¥¼ ì´ìš©í•´ íŠ¹ì • íŠ¸ëœì­ì…˜ì´ë‚˜ ì¿¼ë¦¬ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ ì œê³µí•œë‹¤. ë¨¼ì € ì‹œì‘ëœ íŠ¸ëœì­ì…˜ ë‚´ì— ì†í•œ SQLì„ ë¹¨ë¦¬ ì²˜ë¦¬í•´ì£¼ë©´ í•´ë‹¹ íŠ¸ëœì­ì…˜ì´ ê°€ì§€ê³  ìˆë˜ ì ê¸ˆì´ ë¹¨ë¦¬ í•´ì œë˜ê³  ì ê¸ˆ ê²½í•©ì„ ë‚®ì¶° ì „ì²´ì ì¸ ì²˜ë¦¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.\níŠ¸ëœì­ì…˜ ì§€ì› ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ í…Œì´ë¸”ì˜ êµ¬ì¡° ì •ë³´ì™€ ìŠ¤í† ì–´ë“œ í”„ë¡œê·¸ë¨ ë“±ì˜ ì •ë³´ë¥¼ ë°ì´í„° ë”•ì…”ë„ˆë¦¬ ë˜ëŠ” ë©”íƒ€ë°ì´í„°ë¼ê³  í•˜ëŠ”ë°, MySQL ì„œë²„ëŠ” 5.7 ë²„ì „ê¹Œì§€ í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ FRM íŒŒì¼ì— ì €ì¥í•˜ê³  ì¼ë¶€ ìŠ¤í† ì–´ë“œ í”„ë¡œê·¸ë¨ ë˜í•œ íŒŒì¼ ê¸°ë°˜ìœ¼ë¡œ ê´€ë¦¬ ë˜ì—ˆë‹¤.\nì´ëŸ¬í•œ íŒŒì¼ ê¸°ë°˜ì˜ ë©”íƒ€ë°ì´í„°ëŠ” ìƒì„± ë° ë³€ê²½ ì‘ì—…ì´ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í…Œì´ë¸”ì˜ ìƒì„± ë˜ëŠ” ë³€ê²½ ë„ì¤‘ì— MySQL ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ë©´ ì¼ê´€ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ ë‚¨ê²Œë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.\nì´ì—ë”°ë¼ 8ë²„ì „ ë¶€í„°ëŠ” í…Œì´ë¸”ì˜ êµ¬ì¡° ì •ë³´ë‚˜ ìŠ¤í† ì–´ë“œ í”„ë¡œê·¸ë¨ì˜ ì½”ë“œ ê´€ë ¨ ì •ë³´ë¥¼ ëª¨ë‘ InnoDBì˜ í…Œì´ë¸”ì— ì €ì¥í•˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.\n","date":"2023-04-10T00:00:00Z","image":"https://codemario318.github.io/post/real-mysql/4/1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real-mysql/4/1/","title":"4.1 MySQL ì—”ì§„ ì•„í‚¤í…ì²˜"}]