[{"content":"JUnit í”„ë ˆì„ì›Œí¬ ComparisonCompactor.java ëª¨ë“ˆ ê°œì„ í•˜ê¸° ìƒì„±ì ë‘ ë²ˆì§¸ ì¸ìˆ˜ì™€ ì„¸ ë²ˆì§¸ ì¸ìˆ˜ë¥¼ ë¹„êµí•œë‹¤. comapct í•¨ìˆ˜ì— ë¬¸ìì—´ì„ ë„£ìœ¼ë©´ ê²°ê³¼ ë©”ì‹œì§€ ì•ì— ë¬¸ìì—´ì´ ì¶”ê°€ëœë‹¤. ë¹„êµ í›„ ë‹¤ë¥¸ ë¬¸ìì—´ì„ â€œ[]â€ë¥¼ ì¨ì„œ ê°•ì¡°í•œë‹¤. ì²« ë²ˆì§¸ ì¸ìˆ˜ëŠ” ë‹¤ë¥¸ ë¬¸ìì—´ì„ ì¶œë ¥í•  ë•Œ â€œ[]â€ ì• ë’¤ë¡œ ì¶œë ¥í•  ë¬¸ìì—´ ê°œìˆ˜ì´ë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 package junit.framework; public class ComparisonCompactor { private static final String ELLIPSIS = \u0026#34;...\u0026#34;; private static final String DELTA_END = \u0026#34;]\u0026#34;; private static final String DELTA_START = \u0026#34;[\u0026#34;; private int fContextLength; private String fExpected; private String fActual; private int fPrefix; private int fSuffix; public ComparisonCompactor(int contextLength, String expected, String actual) { fContextLength = contextLength; fExpected = expected; fActual = actual; } public String compact(String message) { if (fExpected == null || fActual == null || areStringsEqual()) return Assert.format(message, fExpected, fActual); findCommonPrefix(); findCommonSuffix(); String expected = compactString(fExpected); String actual = compactString(fActual); return Assert.format(message, expected, actual); } private String compactString(String source) { String result = DELTA_START + source.substring(fPrefix, source.length() - fSuffix + 1) + DELTA_END; if (fPrefix \u0026gt; 0) result = computeCommonPrefix() + result; if (fSuffix \u0026gt; 0) result = result + computeCommonSuffix(); return result; } private void findCommonPrefix() { fPrefix = 0; int end = Math.min(fExpected.length(), fActual.length()); for (; fPrefix \u0026lt; end; fPrefix++) { if (fExpected.charAt(fPrefix) != fActual.charAt(fPrefix)) break; } } private void findCommonSuffix() { int expectedSuffix = fExpected.length() - 1; int actualSuffix = fActual.length() - 1; for (; actualSuffix \u0026gt;= fPrefix \u0026amp;\u0026amp; expectedSuffix \u0026gt;= fPrefix; actualSuffix--, expectedSuffix--) { if (fExpected.charAt(expectedSuffix) != fActual.charAt(actualSuffix)) break; } fSuffix = fExpected.length() - expectedSuffix; } private String computeCommonPrefix() { return (fPrefix \u0026gt; fContextLength ? ELLIPSIS : \u0026#34;\u0026#34;) + fExpected.substring(Math.max(0, fPrefix - fContextLength), fPrefix); } private String computeCommonSuffix() { int end = Math.min(fExpected.length() - fSuffix + 1 + fContextLength, fExpected.length()); return fExpected.substring(fExpected.length() - fSuffix + 1, end) + (fExpected.length() - fSuffix + 1 \u0026lt; fExpected.length() - fContextLength ? ELLIPSIS : \u0026#34;\u0026#34;); } private boolean areStringsEqual() { return fExpected.equals(fActual); } } ë©¤ë²„ ë³€ìˆ˜ ì•ì— ë¶™ì¸ ì ‘ë‘ì–´ ì˜¤ëŠ˜ë‚  ì‚¬ìš©í•˜ëŠ” ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë³€ìˆ˜ ì´ë¦„ì— ë²”ìœ„ë¥¼ ëª…ì‹œí•  í•„ìš”ê°€ ì—†ë‹¤.\nì ‘ë‘ì–´ fëŠ” ì¤‘ë³µë˜ëŠ” ì •ë³´ë‹¤.\n1 2 3 4 5 private int contextLength; private String expected; private String actual; private int prefix; private int suffix; ìº¡ìŠí™”ë˜ì§€ ì•Šì€ ì¡°ê±´ë¬¸ 1 2 3 4 5 6 7 8 9 10 11 public String compact(String message) { if (expected == null || actual == null || areStringsEqual()) { return Assert.format(message, expected, actual); } findCommonPrefix(); findCommonSuffix(); String expected = compactString(this.expected); String actual = compactString(this.actual); return Assert.format(message, expected, actual); } ì˜ë„ë¥¼ ëª…í™•íˆ í‘œí˜„í•˜ë ¤ë©´ ì¡°ê±´ë¬¸ì„ ìº¡ìŠí™” í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤. ì¡°ê±´ë¬¸ì„ ë©”ì„œë“œë¡œ ë½‘ì•„ë‚´ ì ì ˆí•œ ì´ë¦„ì„ ë¶™ì¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public String compact(String message) { if (**shouldNotCompact**()) { return Assert.format(message, expected, actual); } findCommonPrefix(); findCommonSuffix(); String expected = compactString(this.expected); String actual = compactString(this.actual); return Assert.format(message, expected, actual); } private boolean **shouldNotCompact**() { return expected == null || actual == null || areStringsEqual(); } ì¤‘ë³µë˜ëŠ” ë³€ìˆ˜ ì´ë¦„ compact í•¨ìˆ˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” this.expectedì™€ this.acutalê°™ì€ ê²½ìš° ê¸°ì¡´ í•¨ìˆ˜ì— expected, actual ì´ë¼ëŠ” ì§€ì—­ ë³€ìˆ˜ê°€ ìˆì—ˆëŠ”ë°, í´ë˜ìŠ¤ ë³€ìˆ˜ fExpected, fAcutalì—ì„œ fë¥¼ ì œê±°í•˜ì—¬ ê°™ì€ ì´ë¦„ì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆë‹¤.\ní•¨ìˆ˜ì—ì„œ ë©¤ë²„ ë³€ìˆ˜ì™€ ì´ë¦„ì´ ê°™ì€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ë¥¼ íŒŒì•…í•˜ê³  ë” ì„œìˆ ì (êµ¬ì²´ì )ì¸ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¼ë‹¤.\n1 2 String compactExpected = compactString(expected); String compactActual = compactString(actual); ì¡°ê±´ë¬¸ì˜ ë¶€ì •ë¬¸ ì‚¬ìš© ë¶€ì •ë¬¸ì€ ê¸ì •ë¬¸ë³´ë‹¤ ì´í•´í•˜ê¸° ì•½ê°„ ë” ì–´ë µë‹¤. ì²« ë¬¸ì¥ ifë¥¼ ê¸ì •ìœ¼ë¡œ ë§Œë“¤ì–´ ì¡°ê±´ë¬¸ì„ ë°˜ì „í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public String compact(String message) { if (**canBeCompacted**()) { return Assert.format(message, expected, actual); } findCommonPrefix(); findCommonSuffix(); String expected = compactString(this.expected); String actual = compactString(this.actual); return Assert.format(message, expected, actual); } private boolean **canBeCompacted**() { return expected **!=** null || actual **!=** null || **!**areStringsEqual(); } ë™ì‘, ì˜ë¯¸ë¥¼ ì˜ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ì´ë¦„ì„ ì‚¬ìš© compact í•¨ìˆ˜ëŠ” ë¬¸ìì—´ì„ ì•ì¶•í•˜ë¼ëŠ” ì˜ë¯¸ê°€ ê°•í•˜ì§€ë§Œ ì‹¤ì œë¡œ canBeCompactedê°€ falseë©´ ì••ì¶•í•˜ì§€ ì•ŠëŠ”ë‹¤. compactë¼ëŠ” ì´ë¦„ì„ ë¶™ì´ë©´ ì˜¤ë¥˜ ì ê²€ì´ë¼ëŠ” ë¶€ê°€ ë‹¨ê³„(ê¸°ëŠ¥)ì´ ìˆ¨ê²¨ì§„ë‹¤. í•¨ìˆ˜ëŠ” ë‹¨ìˆœíˆ ì••ì¶•ëœ ë¬¸ìì—´ì´ ì•„ë‹ˆë¼ í˜•ì‹ì´ ê°–ì¶°ì§„ ë¬¸ìì—´ì„ ë°˜í™˜í•œë‹¤. ì‹¤ì œë¡œëŠ” formatCompatedComparisonì´ë¼ëŠ” ì´ë¦„ì´ ì í•©í•˜ë‹¤.\nìƒˆ ì´ë¦„ì— ì¸ìˆ˜ë¥¼ ê³ ë ¤í•˜ë©´ ê°€ë…ì„±ì´ í›¨ì‹  ì¢‹ì•„ì§„ë‹¤.\n1 2 3 public String formatCompactedComparison(String message) { ... } í•¨ìˆ˜ê°€ í•œ ê°€ì§€ ì±…ì„ë§Œ ê°€ì§€ê²Œ if ë¬¸ ì•ˆì—ì„œëŠ” ì˜ˆìƒ ë¬¸ìì—´ê³¼ ì‹¤ì œ ë¬¸ìì—´ì„ ì§„ì§œë¡œ ì••ì¶•í•œë‹¤. ì´ ë¶€ë¶„ì„ ë¹¼ë‚´ compactExpectedAndActualì´ë¼ëŠ” ë©”ì„œë“œë¡œ ë§Œë“ ë‹¤.\ní˜•ì‹ì„ ë§ì¶”ëŠ” ì‘ì—…ì€ formatCompactedComparisonì—ê²Œ ì „ì ìœ¼ë¡œ ë§¡ê¸´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 ... private String compactExpected; private String compactActual; ... public String formatCompactedComparison(String message) { if (canBeCompacted()) { **compactExpectedAndActual**(); return Assert.format(message, compactExpected, compactActual); } else { return Assert.format(message, expected, actual); } } private **compactExpectedAndActual**() { findCommonPrefix(); findCommonSuffix(); compactExpected = compactString(expected); compactActual = compactString(actual); } compactExpected, compactActualë¥¼ ë©¤ë²„ ë³€ìˆ˜ë¡œ ìŠ¹ê²©í–ˆë‹¤.\nì‚¬ìš© ë°©ì‹ ì¼ê´€ì„± ìƒˆ í•¨ìˆ˜compactExpectedAndActualì—ì„œ ë§ˆì§€ë§‰ ë‘ ì¤„ì€ ë³€ìˆ˜ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ ì²«ì§¸ ì¤„ê³¼ ë‘˜ì§¸ì¤„ì€ ë°˜í™˜ê°’ì´ ì—†ë‹¤. ë©¤ë²„ë³€ìˆ˜ í•¨ìˆ˜ ì‚¬ìš©ë°©ì‹ì´ ì¼ê´€ì ì´ì§€ ëª»í•˜ë‹¤.\nfindCommonPrefix, findCommonSuffixëŠ” í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë©¤ë²„ë³€ìˆ˜ prefix, suffixì— ê°’ì„ í• ë‹¹í•˜ì§€ë§Œ, compactStringì€ ë°˜í™˜ê°’ì„ ë§Œë“¤ê²Œ ë˜ê³ , ë©¤ë²„ ë³€ìˆ˜ì— ë°˜í™˜ê°’ì„ í• ë‹¹í•œë‹¤. findCommonPrefix, findCommonSuffix ë¥¼ ë³€ê²½í•˜ì—¬ ì ‘ë‘ì–´ ê°’ê³¼ ì ‘ë¯¸ì–´ ê°’ì˜ ìœ„ì¹˜ë¥¼ ë°˜í™˜í•˜ê²Œ ë°”ê¾¼ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 private void compactExpectedAndActual() { prefixIndex = findCommonPrefix(); suffixIndex = findCommonSuffix(); compactExpected = compactString(expected); compactActual = compactString(actual); } private int findCommonPrefix() { int prefixIndex = 0; int end = Math.min(expected.length(), actual.length()); for (; prefixIndex \u0026lt; end; prefixIndex++) { if (expected.charAt(prefixIndex) != actual.charAt(prefixIndex)) break; } return prefixIndex; } private int findCommonSuffix() { int expectedSuffix = expected.length() - 1; int actualSuffix = actual.length() - 1; for (; actualSuffix \u0026gt;= prefixIndex \u0026amp;\u0026amp; expectedSuffix \u0026gt;= prefixIndex; actualSuffix--, expectedSuffix--) { if (expected.charAt(expectedSuffix) != actual.charAt(actualSuffix)) break; } return expected.length() - expectedSuffix; } ìˆ¨ê²¨ì§„ ì‹œê°„ì ì¸ ê²°í•©ì„ ë…¸ì¶œ findCommonSuffix ë¥¼ ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ë©´ ìˆ¨ê²¨ì§„ ì‹œê°„ì ì¸ ê²°í•¨ì´ ì¡´ì¬í•œë‹¤. findCommonSuffixëŠ” findCommonPrefixê°€ prefixIndexë¥¼ ê³„ì‚°í•œë‹¤ëŠ” ì‚¬ì‹¤ì— ì˜ì¡´í•˜ê²Œ ëœë‹¤.\në§Œì•½ findCommonPrefixì™€ findCommonSuffixë¥¼ ì˜ëª»ëœ ìˆœì„œë¡œ í˜¸ì¶œí•˜ë©´ ë¬¸ì œë¥¼ ì°¾ê¸° ì–´ë µë‹¤.\në”°ë¼ì„œ ì‹œê°„ ê²°í•¨ì„ ì™¸ë¶€ì— ë…¸ì¶œí•˜ê³ ì findCommonSuffixë¥¼ ê³ ì³ prefixIndexë¥¼ ì¸ìˆ˜ë¡œ ë„˜ê²¼ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 private void compactExpectedAndActual() { prefixIndex = findCommonPrefix(); suffixIndex = findCommonSuffix(prefixIndex); compactExpected = compactString(expected); compactActual = compactString(actual); } private int findCommonSuffix(int prefixIndex) { int expectedSuffix = expected.length() - 1; int actualSuffix = actual.length() - 1; for (; actualSuffix \u0026gt;= prefixIndex \u0026amp;\u0026amp; expectedSuffix \u0026gt;= prefixIndex; actualSuffix--, expectedSuffix--) { if (expected.charAt(expectedSuffix) != actual.charAt(actualSuffix)) break; } return expected.length() - expectedSuffix; } prefixIndexë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì€ í•¨ìˆ˜ í˜¸ì¶œ ìˆœì„œë¥¼ í™•ì‹¤íˆ ëª…ì‹œí•  ìˆ˜ ìˆì§€ë§Œ, prefixIndexê°€ í•„ìš”í•œ ì´ìœ ë¥¼ ëª…í™•íˆ ì„¤ëª…í•˜ì§€ ëª»í•œë‹¤.\ní•„ìš”í•œ ì´ìœ ê°€ ë¶„ëª…íˆ ë“œëŸ¬ë‚˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¤ë¥¸ ê°œë°œìê°€ ì›ë˜ëŒ€ë¡œ ë˜ëŒë ¤ë†“ì„ì§€ë„ ëª¨ë¥¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 private void compactExpectedAndActual() { **findCommonPrefixAndSuffix**(); compactExpected = compactString(expected); compactActual = compactString(actual); } private void **findCommonPrefixAndSuffix**() { **findCommonPrefix**(); int expectedSuffix = expected.length() - 1; int actualSuffix = actual.length() - 1; for (; actualSuffix \u0026gt;= prefixIndex \u0026amp;\u0026amp; expectedSuffix \u0026gt;= prefixIndex; actualSuffix--, expectedSuffix--) { if (expected.charAt(expectedSuffix) != actual.charAt(actualSuffix)) break; } suffixIndex = expected.length() - expectedSuffix; } private **void** findCommonPrefix() { prefixIndex = 0; int end = Math.min(expected.length(), actual.length()); for (; prefixIndex \u0026lt; end; prefixIndex++) if (expected.charAt(prefixIndex) != actual.charAt(prefixIndex)) break; } findCommonPrefixì™€ findCommonSuffixë¥¼ ë˜ëŒë¦¬ê³ , findCommonSuffixë¼ëŠ” ì´ë¦„ì„ findCommonPrefixAndSuffixë¡œ ë°”ê¾¼ í›„ findCommonPrefixAndSuffixì—ì„œ ê°€ì¥ ë¨¼ì € findComonPrefixë¥¼ í˜¸ì¶œí•œë‹¤.\në‘ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ìˆœì„œê°€ ì•ì„œ ê³ ì¹œ ì½”ë“œë³´ë‹¤ í›¨ì”¬ ë” ë¶„ëª…í•´ì§„ë‹¤.\nê·¸ë¦¬ê³  PrefixAndSuffixí•¨ìˆ˜ë¥¼ ì •ë¦¬í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 private void findCommonPrefixAndSuffix() { findCommonPrefix(); int suffixLength = 1; for (; !suffixOverlapsPrefix(suffixLength); suffixLength++) { if (charFromEnd(expected, suffixLength) != charFromEnd(actual, suffixLength)) break; } suffixIndex = suffixLength; } private char charFromEnd(String s, int i) { return s.charAt(s.length() - i); } private boolean suffixOverlapsPrefix(int suffixLength) { return actual.length() - suffixLength \u0026lt; prefixLength || expected.length() - suffixLength \u0026lt; prefixLength; } ì ì ˆí•œ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ê¸° ì½”ë“œë¥¼ ì •ë¦¬í•˜ë‹ˆ suffixIndexê°€ indexê°€ ì•„ë‹Œ ì‹¤ì œë¡œëŠ” ì ‘ë¯¸ì–´ ê¸¸ì´(length)ë¥¼ ì˜ë¯¸í•œë‹¤. ì´ë¦„ì´ ì ì ˆì¹˜ ì•Šë‹¤. prefixIndexë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 public class ComparisonCompactor { ... private int **suffixLength**; ... private void findCommonPrefixAndSuffix() { findCommonPrefix(); **suffixLength** = 0; for (; !suffixOverlapsPrefix(suffixLength); suffixLength++) { if (charFromEnd(expected, suffixLength) != charFromEnd(actual, suffixLength)) break; } } private char charFromEnd(String s, int i) { return s.charAt(s.length() - i - 1); } private boolean suffixOverlapsPrefix(int suffixLength) { return actual.length() - suffixLength \u0026lt;= prefixLength || expected.length() - suffixLength \u0026lt;= prefixLength; } ... private String compactString(String source) { String result = DELTA_START + source.substring(prefixLength, source.length() - **suffixLength**) + DELTA_END; if (prefixLength \u0026gt; 0) result = computeCommonPrefix() + result; if (**suffixLength** \u0026gt; 0) result = result + computeCommonSuffix(); return result; } ... private String computeCommonSuffix() { int end = Math.min(expected.length() - **suffixLength** + contextLength, expected.length()); return expected.substring(expected.length() - **suffixLength**, end) + (expected.length() - **suffixLength** \u0026lt; expected.length() - contextLength ? ELLIPSIS : \u0026#34;\u0026#34;); } } computeCommonSuffixì—ì„œ +1ì„ ì—†ì• ê³  charFromEndì— -1ì„ ì¶”ê°€í•˜ê³  suffixOverlapsPrefixì— â‰¤ ë¥¼ ì‚¬ìš©í–ˆë‹¤. ê·¸ í›„ suffixLengthë¡œ ë°”ê¿” ê°€ë…ì„±ì„ í¬ê²Œ ë†’í ìˆ˜ ìˆì—ˆë‹¤.\në¶ˆí•„ìš”í•œ ì½”ë“œ ì œê±° +1ë¥¼ ì œê±°í•˜ë˜ ì¤‘ compactStringì—ì„œ ë‹¤ìŒ í–‰ì„ ë°œê²¬í–ˆë‹¤.\n1 if (suffixlength \u0026gt; 0) suffixLengthê°€ 1ì”© ê°ì†Œí–ˆìœ¼ë¯€ë¡œ ë‹¹ì—°íˆ ì—°ì‚°ìë¥¼ â‰¥ë¡œ ê³ ì³ì•¼ í•˜ì§€ë§Œ ì§€ê¸ˆ ìƒí™©ì—ì„œëŠ” â‰¥ëŠ” ë‚˜ì˜¬ ìˆ˜ ì—†ë‹¤.\nì½”ë“œë¥¼ ì¢€ ë” ë¶„ì„í•´ë³´ë©´ if ë¬¸ì€ ê¸¸ì´ê°€ 0ì¸ ì ‘ë¯¸ì–´ë¥¼ ê±¸ëŸ¬ë‚´ì–´ suffixIndexê°€ ì–¸ì œë‚˜ 1 ì´ìƒì´ë¯€ë¡œ if ë¬¸ ìì²´ê°€ í•„ìš” ì—†ë‹¤.\ncompactStringì— ìˆëŠ” ifë¬¸ì´ ëª¨ë‘ í•„ìš” ì—†ì–´ ë³´ì—¬ ì œê±°í›„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‹ˆ ëª¨ë‘ í†µê³¼í–ˆë‹¤. ë¶ˆí•„ìš”í•œ ifë¬¸ì„ ì œê±°í•˜ì—¬ ë” ê¹”ë”í•˜ê²Œ ë§Œë“ ë‹¤.\n1 2 3 4 5 6 7 private String compactString(String source) { return computeCommonPrefix() + DELTA_START + source.substring(prefixLength, source.length() - suffixLength) + DELTA_END + computeCommonSuffix(); } ìµœì¢… ì½”ë“œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 package junit.framework; public class ComparisonCompactor { private static final String ELLIPSIS = \u0026#34;...\u0026#34;; private static final String DELTA_END = \u0026#34;]\u0026#34;; private static final String DELTA_START = \u0026#34;[\u0026#34;; private int contextLength; private String expected; private String actual; private int prefixLength; private int suffixLength; public ComparisonCompactor( int contextLength, String expected, String actual) { this.contextLength = contextLength; this.expected = expected; this.actual = actual; } public String formatCompactedComparison(String message) { String compactExpected = expected; String compactActual = actual; if (shouldBeCompacted()) { findCommonPrefixAndSuffix(); compactExpected = compact(expected); compactActual = compact(actual); } return Assert.format(message, compactExpected, compactActual); } private boolean shouldBeCompacted() { return !shouldNotBeCompacted(); } private boolean shouldNotBeCompacted() { return expected == null || actual == null || expected.equals(actual); } private void findCommonPrefixAndSuffix() { findCommonPrefix(); suffixLength = 0; for (; !suffixOverlapsPrefix(); suffixLength++) { if (charFromEnd(expected, suffixLength) != charFromEnd(actual, suffixLength)) break; } } private char charFromEnd(String s, int i) { return s.charAt(s.length() - i - 1); } private boolean suffixOverlapsPrefix() { return actual.length() - suffixLength \u0026lt;= prefixLength || expected.length() - suffixLength \u0026lt;= prefixLength; } private void findCommonPrefix() { prefixLength = 0; int end = Math.min(expected.length(), actual.length()); for (; prefixLength \u0026lt; end; prefixLength++) if (expected.charAt(prefixLength) != actual.charAt(prefixLength)) break; } private String compact(String s) { return new StringBuilder() .append(startingEllipsis()) .append(startingContext()) .append(DELTA_START) .append(delta(s)) .append(DELTA_END) .append(endingContext()) .append(endingEllipsis()) .toString(); } private String startingEllipsis() { return prefixLength \u0026gt; contextLength ? ELLIPSIS : \u0026#34;\u0026#34;; } private String startingContext() { int contextStart = Math.max(0, prefixLength - contextLength); int contextEnd = prefixLength; return expected.substring(contextStart, contextEnd); } private String delta(String s) { int deltaStart = prefixLength; int deltaEnd = s.length() - suffixLength; return s.substring(deltaStart, deltaEnd); } private String endingContext() { int contextStart = expected.length() - suffixLength; int contextEnd = Math.min(contextStart + contextLength, expected.length()); return expected.substring(contextStart, contextEnd); } private String endingEllipsis() { return (suffixLength \u0026gt; contextLength ? ELLIPSIS : \u0026#34;\u0026#34;); } } ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ì´ˆë°˜ì— ë‚´ë ¸ë˜ ê²°ì • ì¼ë¶€ë¥¼ ë²ˆë³µí–ˆë‹¤.\nì²˜ìŒ ì¶”ì¶œí–ˆë˜ ë©”ì„œë“œ ëª‡ ê°œë¥¼ formatCompactedComparisonì—ë‹¤ ë„ë¡œ ì§‘ì–´ë„£ì—ˆë‹¤. shouldNotBeCompacted ì¡°ê±´ì„ ë˜ëŒë ¸ë‹¤. ì½”ë“œë¥¼ ë¦¬í™í„°ë§ í•˜ë‹¤ë³´ë©´ ì›ë˜ í–ˆë˜ ë³€ê²½ì„ ë˜ëŒë¦¬ëŠ” ê²½ìš°ê°€ í”í•˜ë‹¤.\në¦¬í™í„°ë§ì€ ì½”ë“œê°€ ì–´ëŠ ìˆ˜ì¤€ì— ì´ë¥¼ë•Œê¹Œì§€ ìˆ˜ë§ì€ ì‹œí–‰ì°©ì˜¤ë¥¼ ë°˜ë³µí•˜ëŠ” ì‘ì—…ì´ë‹¤.\n","date":"2023-04-21T11:11:13+09:00","image":"https://codemario318.github.io/post/clean_code_15/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_15/","title":"í´ë¦°ì½”ë“œ: 15. JUnit ë“¤ì—¬ë‹¤ë³´ê¸°"},{"content":" í”„ë¡œê·¸ë˜ë°ì€ ê³¼í•™ë³´ë‹¤ ê³µì˜ˆì— ê°€ê¹ë‹¤. ê¹¨ë—í•œ ì½”ë“œë¥¼ ì§œë ¤ë©´ ë¨¼ì € ì§€ì €ë¶„í•œ ì½”ë“œë¥¼ ì§  ë’¤ì— ì •ë¦¬í•´ì•¼ í•œë‹¤.\nArgs êµ¬í˜„ ëª…ë ¹í–‰ ì¸ìˆ˜ êµ¬ë¬¸ì„ ë¶„ì„í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤ì¸ Args í´ë˜ìŠ¤ ê°œì„ ì„ ì˜ˆì‹œë¡œ í™•ì¸í•´ë³¸ë‹¤.\nMarshalling(ë§ˆìƒ¬ë§): ê°ì²´ì˜ ë©”ëª¨ë¦¬ì—ì„œ í‘œí˜„ë°©ì‹ì„ ì €ì¥ ë˜ëŠ” ì „ì†¡ì— ì í•©í•œ ë‹¤ë¥¸ ë°ì´í„° í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ë‹¤.\nArgs: 1ì°¨ ì´ˆì•ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 import java.text.ParseException; import java.util.*; public class Args { private String schema; private String[] args; private boolean valid = true; private Set\u0026lt;Character\u0026gt; unexpectedArguments = new TreeSet\u0026lt;Character\u0026gt;(); private Map\u0026lt;Character, Boolean\u0026gt; booleanArgs = new HashMap\u0026lt;Character, Boolean\u0026gt;(); private Map\u0026lt;Character, String\u0026gt; stringArgs = new HashMap\u0026lt;Character, String\u0026gt;(); private Map\u0026lt;Character, Integer\u0026gt; intArgs = new HashMap\u0026lt;Character, Integer\u0026gt;(); private Set\u0026lt;Character\u0026gt; argsFound = new HashSet\u0026lt;Character\u0026gt;(); private int currentArgument; private char errorArgumentId = \u0026#39;\\0\u0026#39;; private String errorParameter = \u0026#34;TILT\u0026#34;; private ErrorCode errorCode = ErrorCode.OK; private enum ErrorCode { OK, MISSING_STRING, MISSING_INTEGER, INVALID_INTEGER, UNEXPECTED_ARGUMENT } public Args(String schema, String[] args) throws ParseException { this.schema = schema; this.args = args; valid = parse(); } private boolean parse() throws ParseException { if (schema.length() == 0 \u0026amp;\u0026amp; args.length == 0) return true; parseSchema(); try { parseArguments(); } catch (ArgsException e) { } return valid; } private boolean parseSchema() throws ParseException { for (String element : schema.split(\u0026#34;,\u0026#34;)) { if (element.length() \u0026gt; 0) { String trimmedElement = element.trim(); parseSchemaElement(trimmedElement); } } return true; } private void parseSchemaElement(String element) throws ParseException { char elementId = element.charAt(0); String elementTail = element.substring(1); validateSchemaElementId(elementId); if (isBooleanSchemaElement(elementTail)) parseBooleanSchemaElement(elementId); else if (isStringSchemaElement(elementTail)) parseStringSchemaElement(elementId); else if (isIntegerSchemaElement(elementTail)) { parseIntegerSchemaElement(elementId); } else { throw new ParseException( String.format(\u0026#34;Argument: %c has invalid format: %s.\u0026#34;, elementId, elementTail), 0); } } private void validateSchemaElementId(char elementId) throws ParseException { if (!Character.isLetter(elementId)) { throw new ParseException( \u0026#34;Bad character:\u0026#34; + elementId + \u0026#34;in Args format: \u0026#34; + schema, 0); } } private void parseBooleanSchemaElement(char elementId) { booleanArgs.put(elementId, false); } private void parseIntegerSchemaElement(char elementId) { intArgs.put(elementId, 0); } private void parseStringSchemaElement(char elementId) { stringArgs.put(elementId, \u0026#34;\u0026#34;); } private boolean isStringSchemaElement(String elementTail) { return elementTail.equals(\u0026#34;*\u0026#34;); } private boolean isBooleanSchemaElement(String elementTail) { return elementTail.length() == 0; } private boolean isIntegerSchemaElement(String elementTail) { return elementTail.equals(\u0026#34;#\u0026#34;); } private boolean parseArguments() throws ArgsException { for (currentArgument = 0; currentArgument \u0026lt; args.length; currentArgument++) { String arg = args[currentArgument]; parseArgument(arg); } return true; } private void parseArgument(String arg) throws ArgsException { if (arg.startsWith(\u0026#34;-\u0026#34;)) parseElements(arg); } private void parseElements(String arg) throws ArgsException { for (int i = 1; i \u0026lt; arg.length(); i++) parseElement(arg.charAt(i)); } private void parseElement(char argChar) throws ArgsException { if (setArgument(argChar)) argsFound.add(argChar); else { unexpectedArguments.add(argChar); errorCode = ErrorCode.UNEXPECTED_ARGUMENT; valid = false; } } private boolean setArgument(char argChar) throws ArgsException { if (isBooleanArg(argChar)) setBooleanArg(argChar, true); else if (isStringArg(argChar)) setStringArg(argChar); else if (isIntArg(argChar)) setIntArg(argChar); else return false; return true; } private boolean isIntArg(char argChar) { return intArgs.containsKey(argChar); } private void setIntArg(char argChar) throws ArgsException { currentArgument++; String parameter = null; try { parameter = args[currentArgument]; intArgs.put(argChar, new Integer(parameter)); } catch (ArrayIndexOutOfBoundsException e) { valid = false; errorArgumentId = argChar; errorCode = ErrorCode.MISSING_INTEGER; throw new ArgsException(); } catch (NumberFormatException e) { valid = false; errorArgumentId = argChar; errorParameter = parameter; errorCode = ErrorCode.INVALID_INTEGER; throw new ArgsException(); } } private void setStringArg(char argChar) throws ArgsException { currentArgument++; try { stringArgs.put(argChar, args[currentArgument]); } catch (ArrayIndexOutOfBoundsException e) { valid = false; errorArgumentId = argChar; errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } private boolean isStringArg(char argChar) { return stringArgs.containsKey(argChar); } private void setBooleanArg(char argChar, boolean value) { booleanArgs.put(argChar, value); } private boolean isBooleanArg(char argChar) { return booleanArgs.containsKey(argChar); } public int cardinality() { return argsFound.size(); } public String usage() { if (schema.length() \u0026gt; 0) return \u0026#34;-[\u0026#34; + schema + \u0026#34;]\u0026#34;; else return \u0026#34;\u0026#34;; } public String errorMessage() throws Exception { switch (errorCode) { case OK: throw new Exception(\u0026#34;TILT: Should not get here.\u0026#34;); case UNEXPECTED_ARGUMENT: return unexpectedArgumentMessage(); case MISSING_STRING: return String.format(\u0026#34;Could not find string parameter for -%c.\u0026#34;, errorArgumentId); case INVALID_INTEGER: return String.format(\u0026#34;Argument -%c expects an integer but was \u0026#39;%s\u0026#39;.\u0026#34;, errorArgumentId, errorParameter); case MISSING_INTEGER: return String.format(\u0026#34;Could not find integer parameter for -%c.\u0026#34;, errorArgumentId); } return \u0026#34;\u0026#34;; } private String unexpectedArgumentMessage() { StringBuffer message = new StringBuffer(\u0026#34;Argument(s) -\u0026#34;); for (char c : unexpectedArguments) { message.append(c); } message.append(\u0026#34; unexpected.\u0026#34;); return message.toString(); } private boolean falseIfNull(Boolean b) { return b != null \u0026amp;\u0026amp; b; } private int zeroIfNull(Integer i) { return i == null ? 0 : i; } private String blankIfNull(String s) { return s == null ? \u0026#34;\u0026#34; : s; } public String getString(char arg) { return blankIfNull(stringArgs.get(arg)); } public int getInt(char arg) { return zeroIfNull(intArgs.get(arg)); } public boolean getBoolean(char arg) { return falseIfNull(booleanArgs.get(arg)); } public boolean has(char arg) { return argsFound.contains(arg); } public boolean isValid() { return valid; } private class ArgsException extends Exception { } } ë¬¸ì œì  ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ë„ˆë¬´ ë§ë‹¤. â€œTILTâ€ ì™€ ê°™ì€ ì•Œìˆ˜ ì—†ëŠ” ë¬¸ìì—´ì´ ìˆë‹¤. HashSets, TreeSets, try-catch-catch ë¸”ë¡ ë“± ì§€ì €ë¶„í•´ ë³´ì¸ë‹¤. Booleanë§Œ ì§€ì›í•˜ëŠ” Args.java 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 package com.objectmentor.utilities.getopts; import java.util.*; public class Args { private String schema; private String[] args; private boolean valid; private Set\u0026lt;Character\u0026gt; unexpectedArguments = new TreeSet\u0026lt;Character\u0026gt;(); private Map\u0026lt;Character, Boolean\u0026gt; booleanArgs = new HashMap\u0026lt;Character, Boolean\u0026gt;(); private int numberOfArguments = 0; public Args(String schema, String[] args) { this.schema = schema; this.args = args; valid = parse(); } public boolean isValid() { return valid; } private boolean parse() { if (schema.length() == 0 \u0026amp;\u0026amp; args.length == 0) return true; parseSchema(); parseArguments(); return unexpectedArguments.size() == 0; } private boolean parseSchema() { for (String element : schema.split(\u0026#34;,\u0026#34;)) { parseSchemaElement(element); } return true; } private void parseSchemaElement(String element) { if (element.length() == 1) { parseBooleanSchemaElement(element); } } private void parseBooleanSchemaElement(String element) { char c = element.charAt(0); if (Character.isLetter(c)) { booleanArgs.put(c, false); } } private boolean parseArguments() { for (String arg : args) parseArgument(arg); return true; } private void parseArgument(String arg) { if (arg.startsWith(\u0026#34;-\u0026#34;)) parseElements(arg); } private void parseElements(String arg) { for (int i = 1; i \u0026lt; arg.length(); i++) parseElement(arg.charAt(i)); } private void parseElement(char argChar) { if (isBoolean(argChar)) { numberOfArguments++; setBooleanArg(argChar, true); } else unexpectedArguments.add(argChar); } private void setBooleanArg(char argChar, boolean value) { booleanArgs.put(argChar, value); } private boolean isBoolean(char argChar) { return booleanArgs.containsKey(argChar); } public int cardinality() { return numberOfArguments; } public String usage() { if (schema.length() \u0026gt; 0) return \u0026#34;-[\u0026#34; + schema + \u0026#34;]\u0026#34;; else return \u0026#34;\u0026#34;; } public String errorMessage() { if (unexpectedArguments.size() \u0026gt; 0) { return unexpectedArgumentMessage(); } else return \u0026#34;\u0026#34;; } private String unexpectedArgumentMessage() { StringBuffer message = new StringBuffer(\u0026#34;Argument(s) -\u0026#34;); for (char c : unexpectedArguments) { message.append(c); } message.append(\u0026#34; unexpected.\u0026#34;); return message.toString(); } public boolean getBoolean(char arg) { return booleanArgs.get(arg); } } ê°„ê²°í•˜ê³  ë‹¨ìˆœí•˜ë©° ì´í•´í•˜ê¸°ë„ ì‰¬ì› ë‹¤.\ní•˜ì§€ë§Œ ì½”ë“œë¥¼ ì˜ ì‚´í´ë³´ë©´ ë‚˜ì¤‘ì— ì—‰ë§ìœ¼ë¡œ ë³€í•´ê°ˆ ì”¨ì•—ì´ ë³´ì¸ë‹¤.\nBooleanê³¼ Stringì„ ì§€ì›í•˜ëŠ” Args.java 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 package com.objectmentor.utilities.getopts; import java.text.ParseException; import java.util.*; public class Args { private String schema; private String[] args; private boolean valid = true; private Set\u0026lt;Character\u0026gt; unexpectedArguments = new TreeSet\u0026lt;Character\u0026gt;(); private Map\u0026lt;Character, Boolean\u0026gt; booleanArgs = new HashMap\u0026lt;Character, Boolean\u0026gt;(); private Map\u0026lt;Character, String\u0026gt; stringArgs = new HashMap\u0026lt;Character, String\u0026gt;(); private Set\u0026lt;Character\u0026gt; argsFound = new HashSet\u0026lt;Character\u0026gt;(); private int currentArgument; private char errorArgument = \u0026#39;\\0\u0026#39;; enum ErrorCode { OK, MISSING_STRING } private ErrorCode errorCode = ErrorCode.OK; public Args(String schema, String[] args) throws ParseException { this.schema = schema; this.args = args; valid = parse(); } private boolean parse() throws ParseException { if (schema.length() == 0 \u0026amp;\u0026amp; args.length == 0) return true; parseSchema(); parseArguments(); return valid; } private boolean parseSchema() throws ParseException { for (String element : schema.split(\u0026#34;,\u0026#34;)) { if (element.length() \u0026gt; 0) { String trimmedElement = element.trim(); parseSchemaElement(trimmedElement); } } return true; } private void parseSchemaElement(String element) throws ParseException { char elementId = element.charAt(0); String elementTail = element.substring(1); validateSchemaElementId(elementId); if (isBooleanSchemaElement(elementTail)) parseBooleanSchemaElement(elementId); else if (isStringSchemaElement(elementTail)) parseStringSchemaElement(elementId); } private void validateSchemaElementId(char elementId) throws ParseException { if (!Character.isLetter(elementId)) { throw new ParseException( \u0026#34;Bad character:\u0026#34; + elementId + \u0026#34;in Args format: \u0026#34; + schema, 0); } } private void parseStringSchemaElement(char elementId) { stringArgs.put(elementId, \u0026#34;\u0026#34;); } private boolean isStringSchemaElement(String elementTail) { return elementTail.equals(\u0026#34;*\u0026#34;); } private boolean isBooleanSchemaElement(String elementTail) { return elementTail.length() == 0; } private void parseBooleanSchemaElement(char elementId) { booleanArgs.put(elementId, false); } // // here! private boolean parseArguments() { for (currentArgument = 0; currentArgument \u0026lt; args.length; currentArgument++) { String arg = args[currentArgument]; parseArgument(arg); } return true; } private void parseArgument(String arg) { if (arg.startsWith(\u0026#34;-\u0026#34;)) parseElements(arg); } private void parseElements(String arg) { for (int i = 1; i \u0026lt; arg.length(); i++) parseElement(arg.charAt(i)); } private void parseElement(char argChar) { if (setArgument(argChar)) argsFound.add(argChar); else { unexpectedArguments.add(argChar); valid = false; } } private boolean setArgument(char argChar) { boolean set = true; if (isBoolean(argChar)) setBooleanArg(argChar, true); else if (isString(argChar)) setStringArg(argChar, \u0026#34;\u0026#34;); else set = false; return set; } private void setStringArg(char argChar, String s) { currentArgument++; try { stringArgs.put(argChar, args[currentArgument]); } catch (ArrayIndexOutOfBoundsException e) { valid = false; errorArgument = argChar; errorCode = ErrorCode.MISSING_STRING; } } private boolean isString(char argChar) { return stringArgs.containsKey(argChar); } // private void setBooleanArg(char argChar, boolean value) { booleanArgs.put(argChar, value); } private boolean isBoolean(char argChar) { return booleanArgs.containsKey(argChar); } public int cardinality() { return argsFound.size(); } public String usage() { if (schema.length() \u0026gt; 0) return \u0026#34;-[\u0026#34; + schema + \u0026#34;]\u0026#34;; else return \u0026#34;\u0026#34;; } public String errorMessage() throws Exception { if (unexpectedArguments.size() \u0026gt; 0) { return unexpectedArgumentMessage(); } else switch (errorCode) { case MISSING_STRING: return String.format(\u0026#34;Could not find string parameter for -%c.\u0026#34;, errorArgument); case OK: throw new Exception(\u0026#34;TILT: Should not get here.\u0026#34;); } return \u0026#34;\u0026#34;; } private String unexpectedArgumentMessage() { StringBuffer message = new StringBuffer(\u0026#34;Argument(s) -\u0026#34;); for (char c : unexpectedArguments) { message.append(c); } message.append(\u0026#34; unexpected.\u0026#34;); return message.toString(); } public boolean getBoolean(char arg) { return falseIfNull(booleanArgs.get(arg)); } private boolean falseIfNull(Boolean b) { return b == null ? false : b; } // here! public String getString(char arg) { return blankIfNull(stringArgs.get(arg)); } private String blankIfNull(String s) { return s == null ? \u0026#34;\u0026#34; : s; } public boolean has(char arg) { return argsFound.contains(arg); } public boolean isValid() { return valid; } } Stringìœ í˜• ê´€ë ¨ ì½”ë“œ ì¶”ê°€ í›„ ì½”ë“œê°€ ì–´ì§€ëŸ¬ì›Œì¡Œë‹¤. ì´í›„ Integer ì¸ìˆ˜ ìœ í˜•ì„ ì¶”ê°€í•˜ë‹ˆ ì½”ë“œê°€ ì™„ì „íˆ ì—‰ë§ì´ ë˜ì—ˆë‹¤.\nê·¸ë˜ì„œ ë©ˆì·„ë‹¤. ì¸ìˆ˜ ìœ í˜•ì„ ë” ì¶”ê°€í•´ì•¼ í–ˆëŠ”ë°, ì½”ë“œê°€ í›¨ì”¬ ë” ë‚˜ë¹ ì§ˆ ê²ƒì´ë¼ëŠ” í™•ì‹ ìœ¼ë¡œ ë¦¬í™í„°ë§ì„ ì‹œì‘í–ˆë‹¤.\nìƒˆ ì¸ìˆ˜ ìœ í˜•ì„ ì¶”ê°€í•˜ë ¤ë©´ ì£¼ìš” ì§€ì  ì„¸ê³³ì—ë‹¤ ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œì•˜ë‹¤. (parse, get, set)\nì¸ìˆ˜ ìœ í˜•ì— í•´ë‹¹í•˜ëŠ” HashMapì„ ì„ íƒí•˜ê¸° ìœ„í•´ ìŠ¤í‚¤ë§ˆ ìš”ì†Œì˜ êµ¬ë¬¸ ë¶„ì„ ëª…ë ¹í–‰ ì¸ìˆ˜ì—ì„œ ì¸ìˆ˜ ìœ í˜•ì„ ë¶„ì„í•´ ì§„ì§œ ìœ í˜•ìœ¼ë¡œ ë³€í™˜. getXXXë©”ì„œë“œë¥¼ êµ¬í˜„í•´ í˜¸ì¶œìì—ê²Œ ì§„ì§œ ìœ í˜•ì„ ë°˜í™˜ ğŸ’¡ ì¸ìˆ˜ ìœ í˜•ì€ ë‹¤ì–‘í•˜ì§€ë§Œ ëª¨ë‘ê°€ ìœ ì‚¬í•œ ë©”ì„œë“œë¥¼ ì œê³µí•˜ë¯€ë¡œ í´ë˜ìŠ¤ í•˜ë‚˜ê°€ ì í•©í•˜ë‹¤ íŒë‹¨í–ˆë‹¤. ê·¸ë˜ì„œ ArgumentMarshalerë¼ëŠ” ê°œë…ì´ íƒ„ìƒí–ˆë‹¤.\nì ì§„ì ìœ¼ë¡œ ê°œì„ í•˜ë‹¤. í”„ë¡œê·¸ë¨ì„ ë§ì¹˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ” ê°œì„ ì´ë¼ëŠ” ì´ë¦„ ì•„ë˜ êµ¬ì¡°ë¥¼ í¬ê²Œ ë’¤ì§‘ëŠ” í–‰ìœ„ë‹¤. ê°œì„  ì „ê³¼ ë˜‘ê°™ì€ ê²°ê³¼ë¥¼ ë§Œë“¤ê²Œ í•˜ëŠ” ê²ƒì´ ì–´ë µê¸° ë•Œë¬¸ì´ë‹¤.\nê·¸ë˜ì„œ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì´ë¼ëŠ” ê¸°ë²•ì„ ì‚¬ìš©í•˜ì—¬, ë³€ê²½ í›„ì—ë„ ì‹œìŠ¤í…œì´ ë³€ê²½ ì „ê³¼ ë˜‘ê°™ì´ ëŒì•„ê°€ëŠ” ê²ƒì„ í™•ì¸í•œë‹¤.\nArgumentMarshaler ê° ì¸ìˆ˜ ìœ í˜•ì„ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ Argsë‚´ë¶€ì— ì„ ì–¸ëœ ArgumentMarshaler í´ë˜ìŠ¤ì— ì˜®ê¸´ í›„, ì´í›„ ArgumentMarshaler íŒŒìƒ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë¶„ë¦¬í–ˆë‹¤.\ní”„ë¡œê·¸ë¨ êµ¬ì¡°ë¥¼ ì¡°ê¸ˆì”© ë³€ê²½í•˜ëŠ” ë™ì•ˆì—ë„ ì‹œìŠ¤í…œì˜ ì •ìƒ ë™ì‘ì„ ìœ ì§€í•˜ê¸° ì‰¬ì›Œì§€ê¸° ë•Œë¬¸ ì•„ë˜ ì½”ë“œë¥¼ Args.javaëì— ì¶”ê°€í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 private class ArgumentMarshaler { private boolean booleanValue = false; public void setBoolean(boolean value) { booleanValue = value; } public boolean getBoolean() { return booleanValue; } } private class BooleanArgumentMarshaler extends ArgumentMarshaler { } private class StringArgumentMarshaler extends ArgumentMarshaler { } private class IntegerArgumentMarshaler extends ArgumentMarshaler { } ì²˜ìŒ Boolean ì¸ìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” HashMapì—ì„œ Boolean ì¸ìˆ˜ ìœ í˜•ì„ ArgumentMarshalerìœ í˜•ìœ¼ë¡œ ë°”ê¿¨ë‹¤. 1 private Map\u0026lt;Character, **ArgumentMarshaler**\u0026gt; booleanArgs = new HashMap\u0026lt;Character, **ArgumentMarshaler**\u0026gt;(); ê·¸ í›„ ê¹¨ì§„ ë¶€ë¶„ì— ë³€ê²½ì„ ë°˜ì˜í–ˆë‹¤. 1 2 3 4 5 6 7 8 9 10 11 private void parseBooleanSchemaElement(char elementId) { booleanArgs.put(elementId, **new BooleanArgumentMarshaler()**); } ... private void setBooleanArg(char argChar, boolean value) { booleanArgs.**get**(argChar).**setBoolean**(value); } ... public boolean getBoolean(char arg) { return falseIfNull(booleanArgs.get(arg).**getBoolean**()); } ìƒˆ ì¸ìˆ˜ ìœ í˜•ì„ ì¶”ê°€í•˜ë ¤ë©´ ì„¸ ê³³ (parse, get, set)ì„ ë³€ê²½í•´ì•¼ í–ˆëŠ”ë°, ì •í™•íˆ í•´ë‹¹ ì˜ì—­ì—ì„œ ë³€ê²½ì´ ì´ë£¨ì–´ì¡Œë‹¤.\nbooleanArgsê°€ ArgumentMarshaler ë¥¼ ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ë³€ê²½ë˜ì—ˆìœ¼ë¯€ë¡œ ìœ„ getBooleanì—ì„œ ì‚¬ìš©í•˜ëŠ” ê¸°ì¡´ falseIfNullì´ NullPointerExceptionì„ ë§‰ì„ ìˆ˜ ì—†ì—ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 ... private Map\u0026lt;Character, Boolean\u0026gt; booleanArgs = new HashMap\u0026lt;Character, Boolean\u0026gt;(); ... private class ArgumentMarshaler { ... public boolean getBoolean(char arg) { Args.ArgumentMarshaler am = booleanArgs.get(arg); return am != null \u0026amp;\u0026amp; am.getBoolean(); } } ArgumentMarshaler.getBoolean ì—ì„œ nullì„ ê²€ì‚¬í•˜ê²Œ êµ¬í˜„í•˜ê³  ê¸°ì¡´ falseIfNullì„ ì œê±°í–ˆë‹¤.\nString ì¸ìˆ˜ ì¶”ê°€ Boolean ì¸ìˆ˜ë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ê³¼ ìœ ì‚¬í•˜ê²Œ String ì¸ìˆ˜ë¥¼ ì¶”ê°€í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 private Map\u0026lt;Character, **ArgumentMarshaler**\u0026gt; stringArgs = new HashMap\u0026lt;Character, **ArgumentMarshaler**\u0026gt;(); private void parseStringSchemaElement(char elementId) { stringArgs.put(elementId, **new StringArgumentMarshaler()**); } // ... private void setStringArg(char argChar) throws ArgsException { currentArgument++; try { stringArgs.**get**(argChar).**setString**(args[currentArgument]); } catch (ArrayIndexOutOfBoundsException e) { valid = false; errorArgumentId = argChar; errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } // ... public String getString(char arg) { **Args.ArgumentMarshaler am** = stringArgs.get(arg); return am == null ? \u0026#34;\u0026#34; : am.getString(); } // ... private class ArgumentMarshaler { private String stringValue; public void setString(String s) { stringValue = s; } public String getString() { return stringValue == null ? \u0026#34;\u0026#34; : stringValue; } } í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ë‹¤ìŒ ë³€ê²½ìœ¼ë¡œ ë„˜ì–´ê°€ê¸° ì „ì— ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í–ˆë‹¤.\në§ˆì°¬ê°€ì§€ë¡œ int ì¸ìˆ˜ ê¸°ëŠ¥ë„ ì¶”ê°€í–ˆë‹¤.\nì¶”ìƒí´ë˜ìŠ¤ë¥¼ ì´ìš©í•œ ë¶„ë¦¬ Boolean, String, Integer ì¸ìˆ˜ ì²˜ë¦¬ì— ëŒ€í•œ ëª¨ë“  ê¸°ëŠ¥ì„ Argsì˜ ArgumentMarshalerë¡œ ì˜®ê²¼ìœ¼ë¯€ë¡œ ë¯¸ë¦¬ ì„ ì–¸í•´ë‘” íŒŒìƒ í´ë˜ìŠ¤ë¡œ ë¶„ì‚°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 private **abstract** class ArgumentMarshaler { **protected** boolean booleanValue = false; private String stringValue; private int integerValue; public void setBoolean(boolean value) { booleanValue = value; } public boolean getBoolean() { return booleanValue; } public void setString(String s) { stringValue = s; } public String getString() { return stringValue == null ? \u0026#34;\u0026#34; : stringValue; } public void setInteger(int i) { integerValue = i; } public int getInteger() { return integerValue; } **public abstract void set(String s);** } ì ì§„ì ìœ¼ë¡œ í•œë‹¨ê³„ì”© ê°œì„ í•˜ê¸° ìœ„í•´ ArgumentMarshalerë¥¼ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë°”ê¾¸ê³  í•˜ë‚˜ì”© ì˜®ê¸´ë‹¤.\n1 2 3 4 5 private class BooleanArgumentMarshaler extends ArgumentMarshaler { public void set(String s) { booleanValue = true; } } ArgumentMarshalerë¥¼ ìƒì†ë°›ì€ ìœ í˜• ë³„ í´ë˜ìŠ¤ì— setë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³ , ê¸°ì¡´ ArgumentMarshaler.setXXXì„ setìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.\nâ†’ BooleanArgumentMarshaler.set ì—ì„œ së¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒì—ë„ ì„ ì–¸í•œ ì´ìœ ëŠ” ArgumentMarshaler ë¥¼ ìƒì†ë°›ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ë“¤ì´ String ì¸ìë¥¼ ë°›ì•„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸\nget 1 2 3 4 5 private abstract class ArgumentMarshaler { protected boolean booleanValue = false; ... **public abstract void get();** } getì„ ì¶”ìƒ ë©”ì„œë“œë¡œ ë§Œë“  í›„ ë¡œì§ì„ ì¶”ê°€í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 private class BooleanArgumentMarshaler extends ArgumentMarshaler { **private boolean booleanValue = false;** public void set(String s) { booleanValue = true; } **public Object get() { return booleanValue; }** } ê·¸ í›„ ArgumentMarshaler ì— protectedë¡œ ì„ ì–¸ë˜ì–´ìˆë˜ ë³€ìˆ˜ë¥¼ xxxArgumentMarshalerì˜ privateë³€ìˆ˜ë¡œ ì„ ì–¸í•œë‹¤.\nArgumentMarshaler ê²€ì¦ 1 2 3 4 5 private abstract class ArgumentMarshaler { ... **public abstract Object get(); public abstract void set(String s) throws ArgsException;** } setì„ í†µí•´ ArgumentMarshalerë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤ì˜ privateë³€ìˆ˜ì¸ xxxValueì— ê°’ì„ í• ë‹¹í•˜ê²Œ ë˜ëŠ”ë° ìë£Œí˜•ì´ ë‹¤ë¥¼ê²½ìš° ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.\nArgs í†µí•© xxxArgsë¥¼ í†µí•©í•˜ê¸° ìœ„í•œ ì²«ê±¸ìŒìœ¼ë¡œ marshalers ë¥¼ ì¶”ê°€í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 public class Args { // ... private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; booleanArgs = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; stringArgs = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; intArgs = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); **private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; marshalers = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;();** // ... private void parseBooleanSchemaElement(char elementId) { ArgumentMarshaler m = new BooleanArgumentMarshaler(); booleanArgs.put(elementId, m); **marshalers.put(elementId, m);** } private void parseIntegerSchemaElement(char elementId) { ArgumentMarshaler m = new IntegerArgumentMarshaler(); intArgs.put(elementId, m); **marshalers.put(elementId, m);** } private void parseStringSchemaElement(char elementId) { ArgumentMarshaler m = new StringArgumentMarshaler(); stringArgs.put(elementId, m); **marshalers.put(elementId, m);** } } ê·¸ í›„ parseXXX ë©”ì„œë“œì— marshalers.putì„ ìˆ˜í–‰í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ì§€ ì•ŠëŠ”ì§€ ì‚´íˆë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨ì—†ì´ ëŒì•„ê°”ë‹¤.\n1 2 3 private boolean isBooleanArg(char argChar) { return booleanArgs.containsKey(argChar); } ê·¸ í›„ Args.isBooleanArgsë¥¼ ì•„ë˜ë¡œ ìˆ˜ì •í–ˆë‹¤.\n1 2 3 4 private boolean isBooleanArg(char argChar) { ArgumentMarshaler m = marshalers.get(argChar); return m instanceof BooleanArgumentMarshaler; } ìˆ˜ì • í›„ í…ŒìŠ¤íŠ¸ë¥¼ ëª¨ë‘ í†µê³¼í•˜ì—¬ ë‹¤ë¥¸ í•­ëª©ë“¤ì— ëŒ€í•´ì„œë„ ë™ì¼í•œ ìˆ˜ì •ì„ í–ˆë‹¤. ë³€ê²½í›„ì—ë„ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ì—¬ marshalers.getì„ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼ í†µí•©í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (isBooleanArg(m)) setBooleanArg(argChar); else if (isStringArg(m)) setStringArg(argChar); else if (isIntArg(m)) setIntArg(argChar); else return false; return true; } private boolean isIntArg(ArgumentMarshaler m) { return m instanceof IntegerArgumentMarshaler; } private boolean isStringArg(ArgumentMarshaler m) { return m instanceof StringArgumentMarshaler; } private boolean isBooleanArg(ArgumentMarshaler m) { return m instanceof BooleanArgumentMarshaler; } ë‹¤ìŒìœ¼ë¡œ setí•¨ìˆ˜ì—ì„œ ê¸°ì¡´ HashMapì„ marshalers HashMapìœ¼ë¡œ êµì²´í•œë‹¤.\n1 2 3 4 5 6 private void setBooleanArg(ArgumentMarshaler m) { try { m.set(\u0026#34;true\u0026#34;); // was: booleanArgs.get(argChar).set(\u0026#34;true\u0026#34;); } catch (ArgsException e) { } } ê° setXXXì˜ í˜•ì‹ì„ í†µí•©í•˜ì—¬ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ë™ì¼í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆì—ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); try { if (m instanceof BooleanArgumentMarshaler) setBooleanArg(m); else if (m instanceof StringArgumentMarshaler) setStringArg(m); else if (m instanceof IntegerArgumentMarshaler) setIntArg(m); else return false; } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } return true; } private void setIntArg(ArgumentMarshaler m) throws ArgsException { currentArgument++; String parameter = null; try { parameter = args[currentArgument]; m.set(parameter); } catch (ArrayIndexOutOfBoundsException e) { errorCode = ErrorCode.MISSING_INTEGER; throw new ArgsException(); } catch (ArgsException e) { errorParameter = parameter; errorCode = ErrorCode.INVALID_INTEGER; throw e; } } private void setStringArg(ArgumentMarshaler m) throws ArgsException { currentArgument++; try { m.set(args[currentArgument]); } catch (ArrayIndexOutOfBoundsException e) { errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } HashMap í†µí•© ArgumentMarshalerë¥¼ ì´ìš©í•˜ì—¬ ë§Œë“  ìœ í˜•ë³„ HashMapì„ í•˜ë‚˜ì˜ HashMapìœ¼ë¡œ í†µí•©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 public boolean getBoolean(char arg) { Args.ArgumentMarshaler am = marshalers.get(arg); boolean b = false; try { b = am != null \u0026amp;\u0026amp; (Boolean) am.get(); } catch (ClassCastException e) { b = false; } return b; } ì´ì—ë”°ë¼ ë‹¤ë¥¸ ì¸ìˆ˜ìœ í˜•ë„ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ ê°€ëŠ¥í–ˆê³ ,\n1 2 3 4 5 private void parseBooleanSchemaElement(char elementId) { ArgumentMarshaler m = new BooleanArgumentMarshaler(); ~~booleanArgs.put(elementId, m);~~ marshalers.put(elementId, m); } ê²°ê³¼ì ìœ¼ë¡œ í•˜ë‚˜ì˜ Hashmapìœ¼ë¡œ í†µí•© ê°€ëŠ¥í–ˆë‹¤.\nsetArgument ìœ í˜•ì„ ì¼ì¼ì´ í™•ì¸í•˜ëŠ” ì½”ë“œë¥¼ ì—†ì• ê³  ArgumentMarshaler.setë§Œìœ¼ë¡œ ë§Œë“ ë‹¤.\nsetXXXArgë¥¼ ê°ê° ArgumentMarshaler ë¡œ ë‚´ë ¤ì•¼ í•˜ëŠ”ë°, setIntArgsëŠ” argsì™€ currentArgumentë¼ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ë‘ê°œê°€ ì“°ì¸ë‹¤.\ní•´ë‹¹ ë©”ì„œë“œë¥¼ ë‚´ë¦¬ë ¤ë©´ argsì™€ currentArgumentë¥¼ ì¸ìˆ˜ë¡œ ë„˜ê²¨ì•¼ í•˜ë¯€ë¡œ(ì¸ìˆ˜ê°€ ë§ì•„ì§€ë¯€ë¡œ) ì½”ë“œê°€ ì§€ì €ë¶„í•´ì§„ë‹¤.\në”°ë¼ì„œ argsë¥¼ listë¡œ ë³€í™˜ í›„ Iteratorë¥¼ set í•¨ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 public class Args { private String schema; private String[] args; private boolean valid = true; private Set\u0026lt;Character\u0026gt; unexpectedArguments = new TreeSet\u0026lt;Character\u0026gt;(); private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; marshalers = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); private Set\u0026lt;Character\u0026gt; argsFound = new HashSet\u0026lt;Character\u0026gt;(); **private Iterator\u0026lt;String\u0026gt; currentArgument;** private char errorArgumentId = \u0026#39;\\0\u0026#39;; private String errorParameter = \u0026#34;TILT\u0026#34;; private ErrorCode errorCode = ErrorCode.OK; **private List\u0026lt;String\u0026gt; argsList;** private enum ErrorCode { OK, MISSING_STRING, MISSING_INTEGER, INVALID_INTEGER, UNEXPECTED_ARGUMENT } public Args(String schema, String[] args) throws ParseException { this.schema = schema; **argsList = Arrays.asList(args);** valid = parse(); } private boolean parse() throws ParseException { if (schema.length() == 0 \u0026amp;\u0026amp; **argsList.size()** == 0) return true; parseSchema(); try { parseArguments(); } catch (ArgsException e) { } return valid; } // --- private boolean parseArguments() throws ArgsException { for (currentArgument = **argsList.iterator()**; currentArgument.**hasNext()**;) { String arg = currentArgument.**next()**; parseArgument(arg); } return true; } // --- private void setIntArg(ArgumentMarshaler m) throws ArgsException { String parameter = null; try { parameter = currentArgument.**next()**; m.set(parameter); } catch (**NoSuchElementException** e) { errorCode = ErrorCode.MISSING_INTEGER; throw new ArgsException(); } catch (ArgsException e) { errorParameter = parameter; errorCode = ErrorCode.INVALID_INTEGER; throw e; } } private void setStringArg(ArgumentMarshaler m) throws ArgsException { try { m.set(currentArgument.**next()**); } catch (**NoSuchElementException** e) { errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } } ë”°ë¼ì„œ argsë¥¼ listë¡œ ë³€í™˜ í›„ Iteratorë¥¼ set í•¨ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ë³€ê²½ í›„ì— í…ŒìŠ¤íŠ¸ë¥¼ ëª¨ë‘ í†µê³¼í–ˆë‹¤. set í•¨ìˆ˜ë¥¼ ì ì ˆí•œ íŒŒìƒ í´ë˜ìŠ¤ë¡œ ë‚´ë ¤ë„ ê´œì°®ì•„ì ¸ ì²˜ìŒìœ¼ë¡œ setArgumentë¥¼ ì•„ë˜ë¡œ ë³€ê²½í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) return false; try { if (m instanceof BooleanArgumentMarshaler) setBooleanArg(m); else if (m instanceof StringArgumentMarshaler) setStringArg(m); else if (m instanceof IntegerArgumentMarshaler) setIntArg(m); ~~else return false;~~ } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } return true; } ì—°ì‡„ì ì¸ if-else êµ¬ë¬¸ì„ ì™„ì „íˆ ì œê±°í•˜ê¸° ìœ„í•´ ì œê±°í•˜ê³  ì˜¤ë¥˜ ì½”ë“œë¥¼ ë”°ë¡œ êº¼ëƒˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) return false; try { if (m instanceof BooleanArgumentMarshaler) setBooleanArg(m, currentArgument); else if (m instanceof StringArgumentMarshaler) setStringArg(m); else if (m instanceof IntegerArgumentMarshaler) setIntArg(m); } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } return true; } // --- private void setBooleanArg(ArgumentMarshaler m, Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { ~~try {~~ m.set(\u0026#34;true\u0026#34;); } ~~catch (ArgsException e) { }~~ } ë‹¨ê³„ì ìœ¼ë¡œ ì¡°ê¸ˆì”© ë³€ê²½í•˜ë©° ë§¤ë²ˆ í…ŒìŠ¤íŠ¸ë¥¼ ëŒë ¤ì•¼ í•˜ë¯€ë¡œ ì½”ë“œë¥¼ ì˜®ê¸°ê³  ì œê±°í•˜ëŠ” ì¼ì´ ë§ì•„ì§„ë‹¤.\nìœ„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ iteratorë¥¼ ì¸ìë¡œ ë°›ëŠ” ì´ìœ ëŠ” ì¶”ìƒ ë©”ì„œë“œë¡œ í˜¸ì¶œí•˜ê¸° ìœ„í•´ì„œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 private abstract class ArgumentMarshaler { public abstract void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException; public abstract void set(String s) throws ArgsException; public abstract Object get(); } private class BooleanArgumentMarshaler extends ArgumentMarshaler { private boolean booleanValue = false; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { booleanValue = true; } public void set(String s) { booleanValue = true; } public Object get() { return booleanValue; } } private class StringArgumentMarshaler extends ArgumentMarshaler { private String stringValue = \u0026#34;\u0026#34;; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { } public void set(String s) { stringValue = s; } public Object get() { return stringValue; } } private class IntegerArgumentMarshaler extends ArgumentMarshaler { private int intValue = 0; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { } public void set(String s) throws ArgsException { try { intValue = Integer.parseInt(s); } catch (NumberFormatException e) { throw new ArgsException(); } } public Object get() { return intValue; } } ìƒˆë¡œìš´ ì¶”ìƒ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ê³  ê°ê° ë³€ê²½í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) return false; try { if (m instanceof BooleanArgumentMarshaler) m.set(currentArgument); else if (m instanceof StringArgumentMarshaler) m.set(currentArgument); else if (m instanceof IntegerArgumentMarshaler) m.set(currentArgument); } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } return true; } private class StringArgumentMarshaler extends ArgumentMarshaler { private String stringValue = \u0026#34;\u0026#34;; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { try { stringValue = currentArgument.next(); } catch (NoSuchElementException e) { errorCode = ErrorCode.MISSING_STRING; throw new ArgsException(); } } public void set(String s) { } public Object get() { return stringValue; } } private class IntegerArgumentMarshaler extends ArgumentMarshaler { private int intValue = 0; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { String parameter = null; try { parameter = currentArgument.next(); set(parameter); } catch (NoSuchElementException e) { errorCode = ErrorCode.MISSING_INTEGER; throw new ArgsException(); } catch (ArgsException e) { errorParameter = parameter; errorCode = ErrorCode.INVALID_INTEGER; throw e; } } public void set(String s) throws ArgsException { try { intValue = Integer.parseInt(s); } catch (NumberFormatException e) { throw new ArgsException(); } } public Object get() { return intValue; } } setArgumentê°€ í…ŒìŠ¤íŠ¸ì— í†µê³¼í•˜ë©´ m.setì´ ì •ìƒ ë™ì‘ì„ ì˜ë¯¸í•˜ë¯€ë¡œ í†µí•©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) return false; try { m.set(currentArgument); return true; } catch (ArgsException e) { valid = false; errorArgumentId = argChar; throw e; } } ë§ˆì§€ë§‰ìœ¼ë¡œ ArgumentMarshalerë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€ê²½í•˜ë©´ ì™„ë£Œëœë‹¤.\n1 2 3 4 private interface ArgumentMarshaler { void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException; Object get(); } ê²°ë¡  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 package com.objectmentor.utilities.args; import static com.objectmentor.utilities.args.ArgsException.ErrorCode.*; import java.util.*; public class Args { private Map\u0026lt;Character, ArgumentMarshaler\u0026gt; marshalers; private Set\u0026lt;Character\u0026gt; argsFound; private ListIterator\u0026lt;String\u0026gt; currentArgument; public Args(String schema, String[] args) throws ArgsException { marshalers = new HashMap\u0026lt;Character, ArgumentMarshaler\u0026gt;(); argsFound = new HashSet\u0026lt;Character\u0026gt;(); parseSchema(schema); parseArgumentStrings(Arrays.asList(args)); } private void parseSchema(String schema) throws ArgsException { for (String element : schema.split(\u0026#34;,\u0026#34;)) if (element.length() \u0026gt; 0) parseSchemaElement(element.trim()); } private void parseSchemaElement(String element) throws ArgsException { char elementId = element.charAt(0); String elementTail = element.substring(1); validateSchemaElementId(elementId); if (elementTail.length() == 0) marshalers.put(elementId, new BooleanArgumentMarshaler()); else if (elementTail.equals(\u0026#34;*\u0026#34;)) marshalers.put(elementId, new StringArgumentMarshaler()); else if (elementTail.equals(\u0026#34;#\u0026#34;)) marshalers.put(elementId, new IntegerArgumentMarshaler()); else if (elementTail.equals(\u0026#34;##\u0026#34;)) marshalers.put(elementId, new DoubleArgumentMarshaler()); else if (elementTail.equals(\u0026#34;[*]\u0026#34;)) marshalers.put(elementId, new StringArrayArgumentMarshaler()); else throw new ArgsException(INVALID_ARGUMENT_FORMAT, elementId, elementTail); } private void validateSchemaElementId(char elementId) throws ArgsException { if (!Character.isLetter(elementId)) throw new ArgsException(INVALID_ARGUMENT_NAME, elementId, null); } private void parseArgumentStrings(List\u0026lt;String\u0026gt; argsList) throws ArgsException { for (currentArgument = argsList.listIterator(); currentArgument.hasNext();) { String argString = currentArgument.next(); if (argString.startsWith(\u0026#34;-\u0026#34;)) { parseArgumentCharacters(argString.substring(1)); } else { currentArgument.previous(); break; } } } private void parseArgumentCharacters(String argChars) throws ArgsException { for (int i = 0; i \u0026lt; argChars.length(); i++) parseArgumentCharacter(argChars.charAt(i)); } private void parseArgumentCharacter(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (m == null) { throw new ArgsException(UNEXPECTED_ARGUMENT, argChar, null); } else { argsFound.add(argChar); try { m.set(currentArgument); } catch (ArgsException e) { e.setErrorArgumentId(argChar); throw e; } } } public boolean has(char arg) { return argsFound.contains(arg); } public int nextArgument() { return currentArgument.nextIndex(); } public boolean getBoolean(char arg) { return BooleanArgumentMarshaler.getValue(marshalers.get(arg)); } public String getString(char arg) { return StringArgumentMarshaler.getValue(marshalers.get(arg)); } public int getInt(char arg) { return IntegerArgumentMarshaler.getValue(marshalers.get(arg)); } public double getDouble(char arg) { return DoubleArgumentMarshaler.getValue(marshalers.get(arg)); } public String[] getStringArray(char arg) { return StringArrayArgumentMarshaler.getValue(marshalers.get(arg)); } } 1 2 3 public interface ArgumentMarshaler { void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException; } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class BooleanArgumentMarshaler implements ArgumentMarshaler { private boolean booleanValue = false; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { booleanValue = true; } public static boolean getValue(ArgumentMarshaler am) { if (am != null \u0026amp;\u0026amp; am instanceof BooleanArgumentMarshaler) return ((BooleanArgumentMarshaler) am).booleanValue; else return false; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 import static com.objectmentor.utilities.args.ArgsException.ErrorCode.*; public class StringArgumentMarshaler implements ArgumentMarshaler { private String stringValue = \u0026#34;\u0026#34;; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { try { stringValue = currentArgument.next(); } catch (NoSuchElementException e) { throw new ArgsException(MISSING_STRING); } } public static String getValue(ArgumentMarshaler am) { if (am != null \u0026amp;\u0026amp; am instanceof StringArgumentMarshaler) return ((StringArgumentMarshaler) am).stringValue; else return \u0026#34;\u0026#34;; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 import static com.objectmentor.utilities.args.ArgsException.ErrorCode.*; public class IntegerArgumentMarshaler implements ArgumentMarshaler { private int intValue = 0; public void set(Iterator\u0026lt;String\u0026gt; currentArgument) throws ArgsException { String parameter = null; try { parameter = currentArgument.next(); intValue = Integer.parseInt(parameter); } catch (NoSuchElementException e) { throw new ArgsException(MISSING_INTEGER); } catch (NumberFormatException e) { throw new ArgsException(INVALID_INTEGER, parameter); } } public static int getValue(ArgumentMarshaler am) { if (am != null \u0026amp;\u0026amp; am instanceof IntegerArgumentMarshaler) return ((IntegerArgumentMarshaler) am).intValue; else return 0; } } ë¦¬í™í† ë§ì„ ì•ˆì „í•˜ê²Œ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì¡°ê¸ˆì”© ë³€ê²½í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì ˆì°¨ì ì¸ ì½”ë“œê°€ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ë¦¬í™í† ë§ ë˜ì—ˆë‹¤.\nê·œëª¨ê°€ ìˆëŠ” ì½”ë“œë¥¼ í•œë²ˆì— ë³€ê²½í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì–´ë µë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¡°ê¸ˆì”© ë³€ê²½í•˜ëŠ” ê³¼ì •ì„ ê±°ì³¤ë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ë§¤ìš° ì¤‘ìš”í•˜ë‹¤!\n","date":"2023-04-21T11:00:13+09:00","image":"https://codemario318.github.io/post/clean_code_14/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_14/","title":"í´ë¦°ì½”ë“œ: 14. ì ì§„ì ì¸ ê°œì„ "},{"content":" ì°½ë°œì„±: ë– ì˜¤ë¦„ í˜„ìƒ, å‰µç™¼æ€§, emergent property, emergence\ní•˜ìœ„ ê³„ì¸µì—ì„œ ì—†ëŠ” íŠ¹ì„±ì´ë‚˜ í–‰ë™ì´ ìƒìœ„ ê³„ì¸µì—ì„œ ìë°œì ìœ¼ë¡œ ëŒì—°íˆ ì¶œí˜„í•˜ëŠ” í˜„ìƒ, ë¶ˆì‹œì— ì†Ÿì•„ë‚˜ëŠ” íŠ¹ì„±(wikipedia) ë‚¨ì´ ëª¨ë¥´ê±°ë‚˜ í•˜ì§€ ì•„ë‹ˆí•œ ê²ƒì„ ì²˜ìŒìœ¼ë¡œ ë˜ëŠ” ìƒˆë¡­ê²Œ ë°í˜€ë‚´ê±°ë‚˜ ì´ë£¨ì–´ ë‚´ëŠ” ì„±ì§ˆ(naver dict) ì°½ë°œì  ì„¤ê³„ë¡œ ê¹”ë”í•œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ì ê°„ë‹¨í•œ ê¸°ë³¸ ê·œì¹™ë“¤(í•˜ìœ„ ê³„ì¸µ)ì„ ì§€í‚¤ê²Œ ë˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì¢‹ì€ ì½”ë“œ(ìƒìœ„ ê³„ì¸µ)ê°€ ë§Œë“¤ì–´ì§„ë‹¤(ë°œìƒí•œë‹¤).\në‹¨ìˆœí•œ ì„¤ê³„ ê·œì¹™ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤. ì¤‘ë³µì„ ì—†ì•¤ë‹¤. í”„ë¡œê·¸ë˜ë¨¸ì˜ ì˜ë„ë¥¼ í‘œí˜„í•œë‹¤. í¬ë˜ìŠ¤ì™€ ë©”ì„œë“œ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì¸ë‹¤. ìœ„ 4ê°€ì§€ ê·œì¹™ì„ ì§€í‚¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ê¹¨ë—í•œ ì½”ë“œê°€ ë§Œë“¤ì–´ ì§„ë‹¤.\nì½”ë“œ êµ¬ì¡°ì™€ ì„¤ê³„ë¥¼ íŒŒì•…í•˜ê¸° ì‰¬ì›Œì§ ì´ì— ë”°ë¼ SRP, DIP ê°™ì€ ì›ì¹™ì„ ì ìš©í•˜ê¸° ì‰¬ì›Œì§ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë¼ ì„¤ê³„ëŠ” ì˜ë„í•œ ëŒ€ë¡œ ëŒì•„ê°€ëŠ” ì‹œìŠ¤í…œì„ ë‚´ë†“ì•„ì•¼ í•œë‹¤. ì™„ë²½í•œ ì„¤ê³„ë¥¼ ë”°ë¼ ì‹œìŠ¤í…œì„ ë§Œë“¤ì—ˆë‹¤ê³  í•˜ë”ë¼ë„ ê²€ì¦ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ë©´ ì™„ë²½í•œ ì„¤ê³„ë¼ê³  í™•ì–¸í•  ìˆ˜ ì—†ë‹¤.\nì´ëŸ¬í•œ ì˜ë„í•œ ëŒ€ë¡œ ëŒì•„ê°€ëŠ” ì‹œìŠ¤í…œì„ ê²€ì¦í•˜ëŠ” ë°©ë²•ì€ í…ŒìŠ¤íŠ¸ì´ë©°, ì˜ë„í•œ ëŒ€ë¡œ ëŒì•„ê°€ëŠ” ì‹œìŠ¤í…œì€ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í†µê³¼í•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.\në”°ë¼ì„œ í…ŒìŠ¤íŠ¸ê°€ ë¶ˆê°€ëŠ¥í•œ ì‹œìŠ¤í…œì€ ê²€ì¦ì´ ë¶ˆê°€ëŠ¥í•œ ì‹œìŠ¤í…œì´ê³ , ê²€ì¦ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ë©´ ì–´ë””ì„œ ë¬¸ì œê°€ ë°œìƒí•  ì§€ ì˜ˆì¸¡í•  ìˆ˜ ì—†ë‹¤.\ní…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ë ¤ê³  ì• ì“°ë©´ ì„¤ê³„ í’ˆì§ˆì´ ë”ë¶ˆì–´ ë†’ì•„ì§„ë‹¤.\ní¬ê¸°ê°€ ì‘ê³  ëª©ì  í•˜ë‚˜ë§Œ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤ê°€ ë‚˜ì˜¨ë‹¤. SRPë¥¼ ì¤€ìˆ˜í•˜ëŠ” í´ë˜ìŠ¤ëŠ” í…ŒìŠ¤íŠ¸ê°€ í›¨ì”¬ ë” ì‰½ë‹¤.\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë§ì„ìˆ˜ë¡ ê°œë°œìëŠ” í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•˜ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ ì² ì €í•œ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ë©´ ë” ë‚˜ì€ ì„¤ê³„ê°€ ì–»ì–´ì§„ë‹¤\nê²°í•©ë„ê°€ ë†’ìœ¼ë©´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•˜ê¸° ì–´ë µë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§ì´ ì‘ì„±í• ìˆ˜ë¡ ê°œë°œìëŠ” DIPì™€ ê°™ì€ ì›ì¹™ì„ ì ìš©í•˜ê³ , ì˜ì¡´ì„± ì£¼ì…, ì¸í„°í˜ì´ìŠ¤, ì¶”ìƒí™” ë“±ê³¼ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ ê²°í•©ë„ë¥¼ ë‚®ì¶˜ë‹¤.\nâ€œí…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ê³„ì† ëŒë ¤ë¼\u0026ldquo;ë¼ëŠ” ê°„ë‹¨í•˜ê³  ë‹¨ìˆœí•œ ê·œì¹™ì„ ë”°ë¥´ë©´ ì‹œìŠ¤í…œì€ ë‚®ì€ ê²°í•©ë„ì™€ ë†’ì€ ì‘ì§‘ë ¥ì´ë¼ëŠ”, ê°ì²´ ì§€í–¥ ë°©ë²•ë¡ ì´ ì§€í–¥í•˜ëŠ” ëª©í‘œë¥¼ ì €ì ˆë¡œ ë‹¬ì„±í•œë‹¤.\n2~4. ë¦¬í™í„°ë§ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ëª¨ë‘ ì‘ì—…í–ˆë‹¤ë©´ ì½”ë“œì™€ í´ë˜ìŠ¤ë¥¼ ì •ë¦¬í•´ë„ ê´œì°®ë‹¤. ì½”ë“œë¥¼ ì ì§ì ìœ¼ë¡œ ë¦¬íŒ©í„°ë§ í•´ë‚˜ê°„ë‹¤.\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì¸í•´ ì½”ë“œë¥¼ ì •ë¦¬í•˜ë©´ì„œ ì‹œìŠ¤í…œì´ ê¹¨ì§ˆê¹Œ ê±±ì •í•  í•„ìš”ê°€ ì—†ë‹¤.\në¦¬íŒ©í„°ë§ ë‹¨ê³„ì—ì„œëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ í’ˆì§ˆì„ ë†’ì´ëŠ” ê¸°ë²•ì´ë¼ë©´ ë¬´ì—‡ì´ë“  ì ìš©í•´ë„ ê´œì°®ë‹¤.\nì‘ì§‘ë„ë¥¼ ë†’ì´ê¸° ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ê¸° ì‹œìŠ¤í…œ ê´€ì‹¬ì‚¬ë¥¼ ëª¨ë“ˆë¡œ ë‚˜ëˆ„ê¸° í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ í¬ê¸°ë¥¼ ì¤„ì´ê¸° ë” ë‚˜ì€ ì´ë¦„ì„ ì„ íƒí•˜ê¸° ë‹¤ì–‘í•œ ê¸°ë²•ì„ ë™ì›í•œë‹¤.\nì´ ë‹¨ê³„ëŠ” ë‹¨ìˆœí•œ ì„¤ê³„ ê·œì¹™ ì¤‘ ë‚˜ë¨¸ì§€ 3ê°œë¥¼ ì ìš©í•´ ì¤‘ë³µì„ ì œê±°í•˜ê³ , í”„ë¡œê·¸ë˜ë¨¸ì˜ ì˜ë„ë¥¼ í‘œí˜„í•˜ê³ , í´ë˜ìŠ¤ì™€ ë©”ì„œë“œ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì´ëŠ” ë‹¨ê³„ì´ë‹¤.\nì¤‘ë³µì„ ì—†ì• ë¼ ì¤‘ë³µì€ ì¶”ê°€ ì‘ì—…, ì¶”ê°€ ìœ„í—˜, ë¶ˆí•„ìš”í•œ ë³µì¡ë„ë¥¼ ëœ»í•œë‹¤. ë”°ë¼ì„œ ìš°ìˆ˜í•œ ì„¤ê³„ì—ì„œ ì¤‘ë³µì€ ì»¤ë‹¤ë€ ì ì´ë‹¤.\në˜‘ê°™ì€ ì½”ë“œ ë¹„ìŠ·í•œ ì½”ë“œ êµ¬í˜„ ì¤‘ë³µ ë¹„ìŠ·í•œ ì½”ë“œëŠ” ë” ë¹„ìŠ·í•˜ê²Œ ê³ ì³ì£¼ë©´ ë¦¬íŒ©í„°ë§ì´ ì‰¬ì›Œì§„ë‹¤. êµ¬í˜„ ì¤‘ë³µë„ ì¤‘ë³µì˜ í•œ í˜•íƒœì´ë‹¤.\nSet í´ë˜ìŠ¤ ì˜ˆì‹œ: êµ¬í˜„ ì¤‘ë³µ 1 2 int size() {} boolean isEmpty() {} Set í´ë˜ìŠ¤ì—ì„œ ìœ„ì™€ ê°™ì€ ë©”ì„œë“œê°€ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ, ê° ë©”ì„œë“œë¥¼ ë”°ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤. isEmptyëŠ” ë¶€ìš¸ ê°’ì„ ë°˜í™˜í•˜ê³ , sizeëŠ” ê°œìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 boolean isEmpty() { return 0 == size(); } ì—¬ê¸°ì„œ isEmptyë¥¼ ë³„ë„ë¡œ êµ¬í˜„í•˜ì§€ ì•Šê³ , sizeë¥¼ ì´ìš©í•˜ë©´ ì½”ë“œë¥¼ ì¤‘ë³µí•´ì„œ êµ¬í˜„í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 public void scaleToOneDimension(float desiredDimension, float imageDimension) { if (Math.abs(desiredDimension - imageDimension) \u0026lt; errorThreshold) { return; } float scalingFactor = desiredDimension / imageDimension; scalingFactor = (float)(Math.floor(scalingFactor * 100) * 0.01f); RenderedOp newImage = ImageUtilities.getScaledImage(image, scalingFactor, scalingFactor); image.dispose(); System.gc(); image = newImage; } public synchronized void rotate(int degrees) { RenderedOp newImage = ImageUtilities.getRotatedImage(image, degrees); image.dispose(); System.gc(); image = newImage; } scaleToOneDimension ë©”ì„œë“œì™€ rotate ë©”ì„œë“œë¥¼ ì‚´í´ë³´ë©´ ì¼ë¶€ ì½”ë“œê°€ ë™ì¼í•˜ë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì •ë¦¬í•´ ì¤‘ë³µì„ ì œê±°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public void scaleToOneDimension(float desiredDimension, float imageDimension) { if (Math.abs(desiredDimension - imageDimension) \u0026lt; errorThreshold) { return; } float scalingFactor = desiredDimension / imageDimension; scalingFactor = (float)(Math.floor(scalingFactor * 100) * 0.01f); replaceImage(ImageUtilities.getScaledImage(image, scalingFactor, scalingFactor)); } public synchronized void rotate(int degrees) { replaceImage(ImageUtilities.getrotatedImage(image, degrees)); } public void replaceImage(RenderedOp newImage) { image.dispose(); System.gc(); image = newImage; } ì½”ë“œ 3ì¤„ì„ ê³µí†µ replaceImage ë©”ì„œë“œë¡œ ë½‘ì•„ì„œ ì¤‘ë³µì„ ì œê±°í–ˆë‹¤. ìƒˆ ë©”ì„œë“œë¡œ ë½‘ì•„ë‚´ë‹ˆ ê¸°ì¡´ í´ë˜ìŠ¤ê°€ SRPë¥¼ ìœ„ë°˜í•˜ë¯€ë¡œ, replaceImageë¥¼ ì í•©í•œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ì˜®ê¸°ë©´ ëœë‹¤.\nì´ëŸ¬í•œ ê³µí†µ ì½”ë“œ ë¶„ë¦¬ë¥¼ í†µí•´ ë©”ì„œë“œì˜ ê°€ì‹œì„±ì´ ë†’ì•„ì¡Œë‹¤. ë”°ë¼ì„œ ë‹¤ë¥¸ íŒ€ì›ì´ ìƒˆ ë©”ì„œë“œë¥¼ ì¢€ ë” ì¶”ìƒí™”í•´ ë‹¤ë¥¸ ë§¥ë½ì—ì„œ ì¬ì‚¬ìš©í•  ê¸°íšŒë¥¼ í¬ì°©í• ì§€ë„ ëª¨ë¥¸ë‹¤.\nì´ëŸ¬í•œ ì†Œê·œëª¨ ì¬ì‚¬ìš©ì€ ì‹œìŠ¤í…œ ë³µì¡ë„ë¥¼ ê·¹ì ìœ¼ë¡œ ì¤„ì—¬ì¤€ë‹¤. ì†Œê·œëª¨ ì¬ì‚¬ìš©ì„ ì œëŒ€ë¡œ ìµí˜€ì•¼ ëŒ€ê·œëª¨ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.\nTEMPLATE METHOD íŒ¨í„´ [Design Pattern] í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì´ë€ - Heee\u0026rsquo;s Development Blog\nê³ ì°¨ì› ì¤‘ë³µì„ ì œê±°í•  ëª©ì ìœ¼ë¡œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ìœ¼ë¡œ ì–´ë–¤ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì¼ë¶€ë¶„ì„ ì„œë¸Œ í´ë˜ìŠ¤ë¡œ ìº¡ìŠí™”í•˜ì—¬ ì „ì²´ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” êµ¬ì¡°ëŠ” ë°”ê¾¸ì§€ ì•Šìœ¼ë©´ì„œ íŠ¹ì • ë‹¨ê³„ì—ì„œ ìˆ˜í–‰í•˜ëŠ” ë‚´ì—­ì„ ë°”ê¾¸ëŠ” íŒ¨í„´\nì „ì²´ì ìœ¼ë¡œ ë™ì¼í•˜ë©´ì„œ ë¶€ë¶„ì ìœ¼ë¡œëŠ” ë‹¤ë¥¸ êµ¬ë¬¸ìœ¼ë¡œ êµ¬ì„±ëœ ë©”ì„œë“œì˜ ì½”ë“œ ì¤‘ë³µì„ ìµœì†Œí™” í• ë•Œ ìœ ìš©í•¨ ë™ì¼í•œ ê¸°ëŠ¥ì„ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•˜ë©´ì„œ í™•ì¥/ë³€í™”ê°€ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public class VacationPolicy { public void accrueUSDivisionVacation() { // ì§€ê¸ˆê¹Œì§€ ê·¼ë¬´í•œ ì‹œê°„ì„ ë°”íƒ•ìœ¼ë¡œ íœ´ê°€ ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œ // ... // íœ´ê°€ ì¼ìˆ˜ê°€ ë¯¸êµ­ ìµœì†Œ ë²•ì • ì¼ìˆ˜ë¥¼ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ // ... // íœ´ê°€ ì¼ìˆ˜ë¥¼ ê¸‰ì—¬ ëŒ€ì¥ì— ì ìš©í•˜ëŠ” ì½”ë“œ // ... } public void accfrueEUDivisionVacation() { // ì§€ê¸ˆê¹Œì§€ ê·¼ë¬´í•œ ì‹œê°„ì„ ë°”íƒ•ìœ¼ë¡œ íœ´ê°€ ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œ // ... // íœ´ê°€ ì¼ìˆ˜ê°€ ìœ ëŸ½ì—°í•© ìµœì†Œ ë²•ì • ì¼ìˆ˜ë¥¼ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ // ... // íœ´ê°€ ì¼ìˆ˜ë¥¼ ê¸‰ì—¬ ëŒ€ì¥ì— ì ìš©í•˜ëŠ” ì½”ë“œ // ... } } ìœ„ ì½”ë“œì—ì„œ ìµœì†Œ ë²•ì • ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œë§Œ ì œì™¸í•˜ë©´ ë‘ ë©”ì„œë“œëŠ” ê±°ì˜ ë™ì¼í•˜ë‹¤. ìµœì†Œ ë²•ì • ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì€ ì§ì› ìœ í˜•ì— ë”°ë¼ ì¡°ê¸ˆ ë³€í•œë‹¤.\nì´ëŸ¬í•œ êµ¬ì¡°ì—ì„œ Template Method íŒ¨í„´ì„ ì ìš©í•´ ì¤‘ë³µì„ ì œê±°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 abstract public class Vacation Policy { public void accrueVacation() { calculateBaseVacationHours(); alterForLegalMinimums(); applyToPayroll(); } private void calculateBaseVacationHours() { // ì§€ê¸ˆê¹Œì§€ ê·¼ë¬´í•œ ì‹œê°„ì„ ë°”íƒ•ìœ¼ë¡œ íœ´ê°€ ì¼ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œ // ... }; abstract protected void alterForLegalMinimums(); private void applyToPayroll() { // íœ´ê°€ ì¼ìˆ˜ë¥¼ ê¸‰ì—¬ ëŒ€ì¥ì— ì ìš©í•˜ëŠ” ì½”ë“œ // ... }; } public class USVacationPolicy extends VacationPolicy { @override protected void alterForLegalMinimums() { // ë¯¸êµ­ ìµœì†Œ ë²•ì • ì¼ìˆ˜ ì‚¬ìš©; } } public class EUVacationPolicy extends VacationPolicy { @override protected void alterForLegalMinimums() { // ìœ ëŸ½ì—°í•© ìµœì†Œ ë²•ì • ì¼ìˆ˜ ì‚¬ìš©; } } í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ì •ë³´ë§Œ ì œê³µí•´ accrueVacation ì•Œê³ ë¦¬ì¦˜ì—ì„œ ë¹ ì§„ êµ¬ë©(alterForLegalMinimums)ì„ ë©”ìš´ë‹¤.\ní‘œí˜„í•˜ë¼ ì½”ë“œë¥´ ì§œëŠ”ë™ì•ˆ ë¬¸ì œì— í‘¹ ë¹ ì ¸ ì½”ë“œë¥¼ êµ¬ì„êµ¬ì„ ì´í•´í•˜ê²Œ ë˜ì–´, ìì‹ ë§Œ ì´í•´í•˜ëŠ” ì½”ë“œë¥¼ ì§œê¸°ê°€ ì‰½ë‹¤. ì´ëŸ° ì½”ë“œëŠ” ì´í›„ ìœ ì§€ë³´ìˆ˜í•  ì‚¬ëŒì´ ì½”ë“œë¥¼ ì§œëŠ” ì‚¬ëŒë§Œí¼ì´ë‚˜ ë¬¸ì œë¥¼ ê¹Šì´ ì´í•´í•  ê°€ëŠ¥ì„±ì€ í¬ë°•í•˜ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ í”„ë¡œì íŠ¸ ë¹„ìš© ì¤‘ ëŒ€ë‹¤ìˆ˜ëŠ” ì¥ê¸°ì ì¸ ìœ ì§€ë³´ìˆ˜ì— ë“¤ì–´ê°€ê²Œ ë˜ëŠ”ë°, ì½”ë“œë¥¼ ë³€ê²½í•˜ë©´ì„œ ë²„ê·¸ ì—¬ì§€ë¥¼ ì£¼ì§€ ì•Šìœ¼ë ¤ë©´ ìœ ì§€ë³´ìˆ˜ ê°œë°œìê°€ ì‹œìŠ¤í…œì„ ì œëŒ€ë¡œ ì´í•´í•´ì•¼ í•œë‹¤.\ní•˜ì§€ë§Œ ì‹œìŠ¤í…œì´ ì ì°¨ ë³µì¡í•´ì§€ë©´ì„œ ìœ ì§€ë³´ìˆ˜ ê°œë°œìê°€ ì‹œìŠ¤í…œì„ ì´í•´í•˜ëŠë¼ ë³´ë‚´ëŠ” ì‹œê°„ì€ ì ì  ëŠ˜ì–´ë‚˜ê³  ë™ì‹œì— ì½”ë“œë¥¼ ì˜¤í•´í•  ê°€ëŠ¥ì„±ë„ ì ì  ì»¤ì§„ë‹¤.\në”°ë¼ì„œ ì´í•´í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ì§œì•¼í•˜ê³ , ì½”ë“œì—ì„œ ê°œë°œìì˜ ì˜ë„ë¥¼ ë¶„ëª…íˆ í‘œí˜„í•˜ê³  ëª…ë°±í•˜ê²Œ ì§¤ìˆ˜ë¡ ë‹¤ë¥¸ ì‚¬ëŒì´ ì½”ë“œë¥´ ì´í•´í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\ní‘œí˜„ë ¥ì„ ë†’ì´ëŠ” ë°©ë²• ì¢‹ì€ ì´ë¦„ì„ ì„ íƒí•œë‹¤. ì´ë¦„ê³¼ ê¸°ëŠ¥ì´ ì™„ì „íˆ ë”´íŒì¸ í´ë˜ìŠ¤ë‚˜ í•¨ìˆ˜ë¡œ í˜¼ë€ì„ ì£¼ë©´ ì•ˆëœë‹¤. í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ í¬ê¸°ë¥¼ ê°€ëŠ¥í•œ ì¤„ì¸ë‹¤. ì‘ì€ í´ë˜ìŠ¤ì™€ ì‘ì€ í•¨ìˆ˜ëŠ” ì´ë¦„ ì§“ê¸°ë„ ì‰½ê³ , êµ¬í˜„í•˜ê¸°ë„ ì‰½ê³ , ì´í•´í•˜ê¸°ë„ ì‰½ë‹¤. í‘œì¤€ ëª…ì¹­ì„ ì‚¬ìš©í•œë‹¤. ë””ìì¸ íŒ¨í„´ì€ ì˜ì‚¬ì†Œí†µê³¼ í‘œí˜„ë ¥ ê°•í™”ê°€ ì£¼ìš” ëª©ì ì´ë‹¤. í´ë˜ìŠ¤ê°€ COMMANDë‚˜ VISITORì™€ ê°™ì€ í‘œì¤€ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤ë©´ í´ë˜ìŠ¤ ì´ë¦„ì— íŒ¨í„´ ì´ë¦„ì„ ë„£ì–´ì¤€ë‹¤. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ê¼¼ê¼¼íˆ ì‘ì„±í•œë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ì†Œìœ„ â€˜ì˜ˆì œë¡œ ë³´ì—¬ì£¼ëŠ” ë¬¸ì„œâ€™ë‹¤. ì˜ ë§Œë“  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì½ì–´ë³´ë©´ í´ë˜ìŠ¤ ê¸°ëŠ¥ì´ í•œëˆˆì— ë“¤ì–´ì˜¨ë‹¤. í‘œí˜„ë ¥ì„ ë†’ì´ëŠ” ë°©ë²•ì€ ë…¸ë ¥ì´ë‹¤. í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ì— ì¡°ê¸ˆ ë” ì‹œê°„ì„ íˆ¬ìí•˜ì. ë” ë‚˜ì€ ì´ë¦„ì„ ì„ íƒí•˜ê³ , í° í•¨ìˆ˜ë¥¼ ì‘ì€ í•¨ìˆ˜ ì—¬ëŸ¿ìœ¼ë¡œ ë‚˜ëˆ„ê³ , ìì‹ ì˜ ì‘í’ˆì— ì¡°ê¸ˆë§Œ ë” ì£¼ì˜ë¥¼ ê¸°ìš¸ì´ì!\në‚˜ì¤‘ì— ì½”ë“œë¥¼ ì½ì„ ì‚¬ëŒì€ ë°”ë¡œ ìì‹ ì¼ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.\ní´ë˜ìŠ¤ì™€ ë©”ì†Œë“œ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì—¬ë¼ ì¤‘ë³µì„ ì œê±°í•˜ê³ , ì˜ë„ë¥¼ í‘œí˜„í•˜ê³ , SRPë¥¼ ì¤€ìˆ˜í•œë‹¤ëŠ” ê¸°ë³¸ì ì¸ ê°œë…ë„ ê·¹ë‹¨ìœ¼ë¡œ ì¹˜ë‹¬ìœ¼ë©´ ë“ë³´ë‹¤ ì‹¤ì´ ë§ì•„ì§„ë‹¤.\ní´ë˜ìŠ¤ì™€ ë©”ì„œë“œ í¬ê¸°ë¥¼ ì¤„ì´ìê³  ì¡°ê·¸ë§Œ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œë¥¼ ìˆ˜ì—†ì´ ë§Œë“œëŠ” ì‚¬ë¡€ë„ ì—†ì§€ ì•Šë‹¤. ê·¸ë˜ì„œ ì´ ê·œì¹™ì€ í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ ìˆ˜ë¥¼ ê°€ëŠ¥í•œ ì¤„ì´ë¼ê³  ì œì•ˆí•œë‹¤.\në•Œë¡œëŠ” ë¬´ì˜ë¯¸í•˜ê³  ë…ë‹¨ì ì¸ ì „ì±… íƒ“ì— í´ë˜ìŠ¤ ìˆ˜ì™€ ë©”ì„œë“œ ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ê¸°ë„ í•œë‹¤.\ní´ë˜ìŠ¤ë§ˆë‹¤ ë¬´ì¡°ê±´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•˜ë¼ê³  ìš”êµ¬í•˜ëŠ” êµ¬í˜„ í‘œì¤€ ìë£Œ í´ë˜ìŠ¤ì™€ ë™ì‘ í´ë˜ìŠ¤ëŠ” ë¬´ì¡°ê±´ ë¶„ë¦¬í•´ì•¼ í•œë‹¤. ê°€ëŠ¥í•œ ë…ë‹¨ì ì¸ ê²¬í•´ëŠ” ë©€ë¦¬í•˜ê³  ì‹¤ìš©ì ì¸ ë°©ì‹ì„ íƒí•œë‹¤.\nëª©í‘œëŠ” í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ í¬ê¸°ë¥¼ ì‘ê²Œ ìœ ì§€í•˜ë©´ì„œ ì‹œìŠ¤í…œ í¬ê¸°ë„ ì‘ê²Œ ìœ ì§€í•˜ëŠ” ë° ìˆë‹¤.\nì´ ê·œì¹™ì€ ê°„ë‹¨í•œ ì„¤ê³„ ê·œì¹™ ë„¤ ê°œì¤‘ ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë‚®ë‹¤. ì¦‰, í‹€ë˜ìŠ¤ì™€ í•¨ìˆ˜ ìˆ˜ë¥¼ ì¤„ì´ëŠ” ì‘ì—…ë„ ì¤‘ìš”í•˜ì§€ë§Œ, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ì¤‘ë³µì„ ì œê±°í•˜ê³  ì˜ë„ë¥¼ í‘œí˜„í•˜ëŠ” ì‘ì—…ì´ ë” ì¤‘ìš”í•˜ë‹¤ëŠ” ëœ»ì´ë‹¤.\nê²°ë¡  ê²½í—˜ì„ ëŒ€ì‹ í•  ë‹¨ìˆœí•œ ê°œë°œ ê¸°ë²•ì€ ì—†ë‹¤. í•˜ì§€ë§Œ ì†Œê°œí•˜ëŠ” ê¸°ë²•ì€ ì €ìë“¤ì´ ìˆ˜ì‹­ ë…„ ë™ì•ˆ ìŒ“ì€ ê²½í—˜ì˜ ì •ìˆ˜ë‹¤.\nğŸ’¡ ë‹¨ìˆœí•œ ì„¤ê³„ ê·œì¹™ì„ ë”°ë¥¸ë‹¤ë©´ ìš°ìˆ˜í•œ ê¸°ë²•ê³¼ ì›ì¹™ì„ ë‹¨ë²ˆì— í™œìš©í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-21T10:52:13+09:00","image":"https://codemario318.github.io/post/clean_code_12/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_12/","title":"í´ë¦°ì½”ë“œ: 12. ì°½ë°œì„±"},{"content":"ì½”ë“œì˜ í‘œí˜„ë ¥ê³¼ ê·¸ ì½”ë“œë¡œ ì´ë£¨ì–´ì§„ í•¨ìˆ˜ì— ì•„ë¬´ë¦¬ ì‹ ê²½ ì“¸ì§€ë¼ë„ ì¢€ ë” ì°¨ì› ë†’ì€ ë‹¨ê³„ê¹Œì§€ ì‹ ê²½ì“°ì§€ ì•Šìœ¼ë©´ ê¹¨ë—í•œ ì½”ë“œë¥¼ ì–»ê¸°ëŠ” ì–´ë µë‹¤.\ní´ë˜ìŠ¤ ì²´ê³„ í‘œì¤€ ìë°” ê´€ë¡€ì— ì˜í•˜ë©´ ì•„ë˜ ìˆœì„œë¡œ ì„ ì–¸í•˜ê²Œ ëœë‹¤.\npublic static ìƒìˆ˜ private static ë³€ìˆ˜ ë¹„ê³µê°œ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ê³µê°œ ë³€ìˆ˜ê°€ í•„ìš”í•œ ê²½ìš°ëŠ” ê±°ì˜ ì—†ë‹¤ ê³µê°œ í•¨ìˆ˜ ë¹„ê³µê°œ í•¨ìˆ˜ ìì‹ ì„ í˜¸ì¶œí•˜ëŠ” ê³µê°œ í•¨ìˆ˜ ì§í›„ì— ë„£ëŠ”ë‹¤. ì¦‰ ì¶”ìƒí™” ë‹¨ê³„ê°€ ìˆœì°¨ì ìœ¼ë¡œ ë‚´ë ¤ê°„ë‹¤. ê·¸ë˜ì„œ í”„ë¡œê·¸ë¨ì€ ì‹ ë¬¸ ê¸°ì‚¬ì²˜ëŸ¼ ì½íŒë‹¤.\nìº¡ìŠí™” ë³€ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ëŠ” ê°€ëŠ¥í•œ ê³µê°œí•˜ì§€ ì•ŠëŠ” í¸ì´ ë‚«ì§€ë§Œ ë°˜ë“œì‹œ ìˆ¨ê²¨ì•¼í•œë‹¤ëŠ” ë²•ì¹™ë„ ì—†ë‹¤. ë•Œë¡œëŠ” ë³€ìˆ˜ë‚˜ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ protectedë¡œ ì„ ì–¸í•´ í…ŒìŠ¤íŠ¸ ì½”ë“œì— ì ‘ê·¼ì„ í—ˆìš©í•˜ê¸°ë„ í•œë‹¤.\nê°™ì€ íŒ¨í‚¤ì§€ ì•ˆì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ê·¸ í•¨ìˆ˜ë‚˜ ë³€ìˆ˜ë¥¼ protectedë¡œ ì„ ì–¸í•˜ê±°ë‚˜ íŒ¨í‚¤ì§€ ì „ì²´ë¡œ ê³µê°œí•œë‹¤.\ní•˜ì§€ë§Œ ê·¸ ì „ì— ë¹„ê³µê°œ ìƒíƒœë¥¼ ìœ ì§€í•  ë°©ë²•ì„ ê°•êµ¬í•´ì•¼ í•œë‹¤.\nğŸ’¡ ìº¡ìŠí™”ë¥¼ í’€ì–´ì£¼ëŠ” ê²°ì •ì€ ì–¸ì œë‚˜ ìµœí›„ì˜ ìˆ˜ë‹¨ì´ë‹¤.\ní´ë˜ìŠ¤ëŠ” ì‘ì•„ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ì²« ë²ˆì§¸ ê·œì¹™ì€ í¬ê¸°ë‹¤. í´ë˜ìŠ¤ëŠ” ì‘ì•„ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë¥¼ ì„¤ê³„í•  ë•Œë„, í•¨ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ, ì‘ê²Œê°€ ê¸°ë³¸ ê·œì¹™ì´ë‹¤.\nì–¼ë§ˆë‚˜ ì‘ì•„ì•¼ í• ê¹Œ? í•¨ìˆ˜ëŠ” ë¬¼ë¦¬ì ì¸ í–‰ ìˆ˜ë¡œ í¬ê¸°ë¥¼ ì¸¡ì •í–ˆì§€ë§Œ í´ë˜ìŠ¤ëŠ” ë§¡ì€ ì±…ì„ ìˆ˜ë¡œ ì¸¡ì •í•œë‹¤.\n1 2 3 4 5 6 7 public class SuperDashboard extends JFrame implements MetaDataUser { public Component getLastFocusedCompnent(); public void setLastFocused(Component lastFocused); public int getMajorVersionNumber(); public int getMinorVersionNumber(); public int getBuildNumber(); } ë©”ì„œë“œ ê°œìˆ˜ë¥¼ 5ê°œ ì •ë„ë¡œ ì¤„ì¸ í´ë˜ìŠ¤ì´ë‹¤. í•˜ì§€ë§Œ ë©”ì„œë“œ ìˆ˜ê°€ ì ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì±…ì„ì´ ë„ˆë¬´ ë§ë‹¤.\ní´ë˜ìŠ¤ ì´ë¦„ í´ë˜ìŠ¤ ì´ë¦„ì€ í•´ë‹¹ í´ë˜ìŠ¤ ì±…ì„ì„ ê¸°ìˆ í•´ì•¼ í•œë‹¤. ì‹¤ì œë¡œ í´ë˜ìŠ¤ ì‘ëª…ì€ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ì²« ë²ˆì§¸ ê´€ë¬¸ì´ë‹¤.\nê°„ê²°í•œ ì´ë¦„ì´ ë– ì˜¤ë¥´ì§€ ì•ŠëŠ”ë‹¤ë©´ ëŒ€ë¶€ë¶„ í´ë˜ìŠ¤ í¬ê¸°ê°€ ë„ˆë¬´ ì»¤ì„œ(ì±…ì„ì´ ë§ì•„ì„œ) ê·¸ë ‡ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ í´ë˜ìŠ¤ ì´ë¦„ì— Processor, Manager, Super ë“±ê³¼ ê°™ì´ ëª¨í˜¸í•œ ë‹¨ì–´ê°€ ìˆë‹¤ë©´ í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ ì±…ì„ì„ ë– ì•ˆê³ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤.\ní´ë˜ìŠ¤ ì„¤ëª… í´ë˜ìŠ¤ ì„¤ëª…ì€ ë§Œì¼(if), ê·¸ë¦¬ê³ (and), (í•˜)ë©°(or), í•˜ì§€ë§Œ(but)ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ ì„œ 25ë‹¨ì–´ ë‚´ì™¸ë¡œ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\nìœ„ SuperDashboard ì˜ ì„¤ëª…ì„ ë§Œë“¤ë©´\nâ€œë§ˆì§€ë§‰ìœ¼ë¡œ í¬ì»¤ìŠ¤ë¥¼ ì–»ì—ˆë˜ ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•˜ë©°, ë²„ì „ê³¼ ë¹Œë“œ ë²ˆí˜¸ë¥¼ ì¶”ì í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•œë‹¤.â€\nì¸ë° â€œ~í•˜ë©°â€ê°€ í¬í•¨ë˜ë¯€ë¡œ ì±…ì„ì´ ë§ë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤.\në‹¨ì¼ ì±…ì„ ì›ì¹™ - SRP: Single Responsibility Principle ë‹¨ì¼ ì±…ì„ ì›ì¹™ì€ í´ë˜ìŠ¤ë‚˜ ëª¨ë“ˆì„ ë³€ê²½í•  ì´ìœ ê°€ ë‹¨ í•˜ë‚˜ë¿ì´ì–´ì•¼ í•œë‹¤ëŠ” ì›ì¹™ì´ë‹¤.\nSRPëŠ” â€˜ì±…ì„â€™ì´ë¼ëŠ” ê°œë…ì„ ì •ì˜í•˜ë©° ì ì ˆí•œ í´ë˜ìŠ¤ í¬ê¸°ë¥¼ ì œì‹œí•œë‹¤. í´ë˜ìŠ¤ëŠ” ì±…ì„, ì¦‰ ë³€ê²½í•  ì´ìœ ê°€ í•˜ë‚˜ì—¬ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤.\nê²‰ë³´ê¸°ì— ì‘ì•„ë³´ì´ëŠ” ìœ„ SuperDashboardëŠ” ë³€ê²½í•  ì´ìœ ê°€ 2ê°€ì§€ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ ë²„ì „ ì •ë³´ë¥¼ ì¶”ì í•œë‹¤. ë²„ì „ ì •ë³´ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì¶œì‹œí•  ë•Œë§ˆë‹¤ ë‹¬ë¼ì§„ë‹¤. ìë°” ìŠ¤ìœ™ ì»´í¬ë„ŒíŠ¸ë¥¼ ê´€ë¦¬í•œë‹¤. SuperDashboardëŠ” ìµœìƒìœ„ GUI ìœˆë„ì˜ ìŠ¤ìœ™ í‘œí˜„ì¸ JFrameì—ì„œ íŒŒìƒí•œ í´ë˜ìŠ¤ë‹¤. ì¦‰, ìŠ¤ìœ™ ì½”ë“œë¥¼ ë³€ê²½í•  ë•Œë§ˆë‹¤ ë²„ì „ ë²ˆí˜¸ê°€ ë‹¬ë¼ì§„ë‹¤. ì±…ì„(ë³€ê²½í•  ì´ìœ )ì„ íŒŒì•…í•˜ë ¤ ì• ì“°ë‹¤ ë³´ë©´ ì½”ë“œë¥¼ ì¶”ìƒí™” í•˜ê¸°ë„ ì‰¬ì›Œì§„ë‹¤.\n1 2 3 4 5 public class Version { public int getMajorVersionNumber(); public int getMinorVersionNumber(); public int getBuildNumber(); } ë²„ì „ ì •ë³´ë¥¼ ë‹¤ë£¨ëŠ” ë©”ì„œë“œ ì„¸ ê°œë¥¼ ë”°ë¡œ ë¹¼ë‚´ versionì´ë¼ëŠ” ë…ìì ì¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤.\nSRPëŠ” ê°ì²´ ì§€í–¥ ì„¤ê³„ì—ì„œ ë”ìš± ì¤‘ìš”í•œ ê°œë…ì´ë‹¤. ë˜í•œ ì´í•´í•˜ê³  ì§€í‚¤ê¸° ìˆ˜ì›”í•œ ê°œë…ì´ê¸°ë„ í•˜ë‹¤. í•˜ì§€ë§Œ ì´ìƒí•˜ê²Œë„ SRPëŠ” í´ë˜ìŠ¤ ì„¤ê³„ìê°€ ê°€ì¥ ë¬´ì‹œí•˜ëŠ” ê·œì¹™ ì¤‘ í•˜ë‚˜ë‹¤.\nì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ëŒì•„ê°€ê²Œ ë§Œë“œëŠ” í™œë™ê³¼ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê¹¨ë—í•˜ê²Œ ë§Œë“œëŠ” í™œë™ì€ ì™„ì „íˆ ë³„ê°œë‹¤.\nê°œë°œìëŠ” ìì˜í•œ ì±…ì„ í´ë˜ìŠ¤ê°€ ë§ì•„ì§€ë©´ í° ê·¸ë¦¼ì„ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤ê³  ìš°ë ¤í•œë‹¤. í° ê·¸ë¦¼ì„ ì´í•´í•˜ë ¤ë©´ ì´ í´ë˜ìŠ¤ ì € í´ë˜ìŠ¤ë¥¼ ìˆ˜ì—†ì´ ë„˜ë‚˜ë“¤ì–´ì•¼ í•œë‹¤ê³  ê±±ì •í•œë‹¤.\ní•˜ì§€ë§Œ ì‘ì€ í´ë˜ìŠ¤ê°€ ë§ì€ ì‹œìŠ¤í…œì´ë“  í° í´ë˜ìŠ¤ê°€ ëª‡ ê°œë¿ì¸ ì‹œìŠ¤í…œì´ë“  ìµí ë‚´ìš©ì€ ê·¸ ì–‘ì´ ë¹„ìŠ·í•˜ë‹¤.\ní´ë˜ìŠ¤ë¥¼ ì‘ê²Œ ìœ ì§€í•˜ëŠ” í–‰ìœ„ëŠ” ì½”ë“œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ, ë‹¨ì¼ ì±…ì„ì„ ê°€ì§„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì´ë¦„ì„ ì˜ ë¶™ì¸ë‹¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì½”ë“œê°€ ì •ë¦¬ëœë‹¤.\nì±…ì„ì´ ë§ì€ í´ë˜ìŠ¤ëŠ” í° ê³µêµ¬í•¨ì— ì—¬ëŸ¬ ê³µêµ¬ë¥¼ ë§ˆêµ¬ ë•Œë ¤ë„£ëŠ” í–‰ë™ê³¼ ë¹„ìŠ·í•˜ë‹¤. ì‘ì§‘ë„ í´ë˜ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ìˆ˜ê°€ ì ì–´ì•¼ í•œë‹¤. ê° í´ë˜ìŠ¤ ë©”ì„œë“œëŠ” í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ í•˜ë‚˜ ì´ìƒ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë©”ì„œë“œê°€ ë³€ìˆ˜ë¥¼ ë” ë§ì´ ì‚¬ìš©í• ìˆ˜ë¡ ë©”ì„œë“œì™€ í´ë˜ìŠ¤ëŠ” ì‘ì§‘ë„ê°€ ë” ë†’ë‹¤. ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ë©”ì„œë“œë§ˆë‹¤ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ëŠ” ì‘ì§‘ë„ê°€ ê°€ì¥ ë†’ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ì´ì²˜ëŸ¼ ì‘ì§‘ë„ê°€ ê°€ì¥ ë†’ì€ í´ë˜ìŠ¤ëŠ” ê°€ëŠ¥í•˜ì§€ë„ ë°”ëŒì§í•˜ì§€ë„ ì•Šë‹¤. ê·¸ë ‡ì§€ë§Œ ëŒ€ë¶€ë¶„ ì‘ì§‘ë„ê°€ ë†’ì€ í´ë˜ìŠ¤ë¥¼ ì„ í˜¸í•œë‹¤. ì‘ì§‘ë„ê°€ ë†’ë‹¤ëŠ” ë§ì€ í´ë˜ìŠ¤ì— ì†í•œ ë©”ì„œë“œì™€ ë³€ìˆ˜ê°€ ì„œë¡œ ì˜ì¡´í•˜ë©° ë…¼ë¦¬ì ì¸ ë‹¨ìœ„ë¡œ ë¬¶ì¸ë‹¤ëŠ” ì˜ë¯¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class Stack { private int topOfStack = 0; List\u0026lt;Integer\u0026gt; elements = new LinkedList\u0026lt;Integer\u0026gt;(); public int size() { return topOfStack; } public void push(int element) { topOfStack++; elements.add(element); } public int pop() throws PoppedWhenEmpty { if (topOfStack == 0) { throw new PoppedWhenEmpty(); } int element = elements.get(--topOfStack); elements.remove(topOfStack); return element; } } ìœ„ í´ë˜ìŠ¤ëŠ” ì‘ì§‘ë„ê°€ ì•„ì£¼ ë†’ë‹¤. size()ë¥¼ ì œì™¸í•œ ë‹¤ë¥¸ ë‘ ë©”ì„œë“œëŠ” ë‘ ë³€ìˆ˜ë¥¼ ëª¨ë‘ ì‚¬ìš©í•œë‹¤.\ní•¨ìˆ˜ë¥¼ ì‘ê²Œ, ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì„ ì§§ê²Œë¼ëŠ” ì „ëµì„ ë”°ë¥´ë‹¤ ë³´ë©´ ë•Œë•Œë¡œ ëª‡ëª‡ ë©”ì„œë“œë§Œì´ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ì•„ì£¼ ë§ì•„ì§„ë‹¤.\nì‘ì§‘ë„ê°€ ë†’ì•„ì§€ë„ë¡ ë³€ìˆ˜ì™€ ë©”ì„œë“œë¥¼ ì ì ˆíˆ ë¶„ë¦¬í•´ ìƒˆë¡œìš´ í´ë˜ìŠ¤ ë‘ì„¸ ê°œë¡œ ìª¼ê°œì¤€ë‹¤.\nì‘ì§‘ë„ë¥¼ ìœ ì§€í•˜ë©´ ì‘ì€ í´ë˜ìŠ¤ ì—¬ëŸ¿ì´ ë‚˜ì˜¨ë‹¤. í° í•¨ìˆ˜ë¥¼ ì‘ì€ í•¨ìˆ˜ ì—¬ëŸ¿ìœ¼ë¡œ ë‚˜ëˆ„ê¸°ë§Œ í•´ë„ í´ë˜ìŠ¤ ìˆ˜ê°€ ë§ì•„ì§„ë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ ë³€ìˆ˜ê°€ ì•„ì£¼ ë§ì€ í° í•¨ìˆ˜ í•˜ë‚˜ê°€ ìˆë‹¤. í° í•¨ìˆ˜ ì¼ë¶€ë¥¼ ì‘ì€ í•¨ìˆ˜ í•˜ë‚˜ë¡œ ë¹¼ë‚´ê³  ì‹¶ì€ë°, ë¹¼ë‚´ë ¤ëŠ” ì½”ë“œê°€ í° í•¨ìˆ˜ì— ì •ì˜ëœ ë³€ìˆ˜ ë„·ì„ ì‚¬ìš©í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ë³€ìˆ˜ ë„¤ ê°œë¥¼ ìƒˆ í•¨ìˆ˜ì— ì¸ìˆ˜ë¡œ ë„˜ê²¨ì•¼ ì˜³ì€ê°€?\nì „í˜€ ì•„ë‹ˆë‹¤. ë§Œì•½ ë„¤ ë³€ìˆ˜ë¥¼ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ìŠ¹ê²©í•œë‹¤ë©´ ìƒˆ í•¨ìˆ˜ëŠ” ì¸ìˆ˜ê°€ í•„ìš”ì—†ë‹¤. ê·¸ë§Œí¼ í•¨ìˆ˜ë¥¼ ìª¼ê°œê¸° ì‰¬ì›Œì§„ë‹¤.\nì´ë ‡ê²Œ í•˜ë©´ í´ë˜ìŠ¤ê°€ ì‘ì§‘ë ¥ì„ ìƒëŠ”ë‹¤. ëª‡ëª‡ í•¨ìˆ˜ë§Œ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ ì ì  ë” ëŠ˜ì–´ë‚˜ê¸° ë•Œë¬¸ì´ë‹¤.\nëª‡ëª‡ í•¨ìˆ˜ê°€ ëª‡ëª‡ ë³€ìˆ˜ë§Œ ì‚¬ìš©í•œë‹¤ë©´ ë…ìì ì¸ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ë©´ ëœë‹¤. ì‘ì§‘ë ¥ì„ ìƒëŠ”ë‹¤ë©´ ìª¼ê°œë¼\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 package literatePrimes; public class PrintPrimes { public static void main(String[] args) { final int M = 1000; final int RR = 50; final int CC = 4; final int WW = 10; final int ORDMAX = 30; int P[] = new int[M+1]; int PAGENUMBER; int PAGEOFFSET; int ROWOFFSET; int C; int J; int K; boolean JPRIME; int ORD; int SQUARE; int N; int MULT[] = new int[ORDMAX+1]; J = 1; K = 1; P[1] = 2; ORD = 2; SQUARE = 9; while (K \u0026lt; M) { do { J = J+2; if (J == SQUARE) { ORD = ORD + 1; SQUARE = P[ORD] * P[ORD]; MULT[ORD-1] = J; } N = 2; JPRIME = true; while (N \u0026lt; ORD \u0026amp;\u0026amp; JPRIME) { while (MULT[N] \u0026lt; J) { MULT[N] = MULT[N] + P[N] + P[N]; } if (MULT[N] == J) { JPRIME = false; } N = N + 1; } } while (!JPRIME); K = K + 1; P[K] = J; } { PAGENUMBER = 1; PAGEOFFSET = 1; while (PAGEOFFSET \u0026lt;= M) { System.out.println(\u0026#34;The First \u0026#34; + M + \u0026#34; Prime Numbers --- Page \u0026#34; + PAGENUMBER); System.out.println(\u0026#34;\u0026#34;); for (ROWOFFSET = PAGEOFFSET; ROWOFFSET \u0026lt; PAGEOFFSET + RR; ROWOFFSET++) { for (C = 0; C \u0026lt; CC; C++) { if (ROWOFFSET + C * RR \u0026lt;= M) { System.out.println(\u0026#34;%10d\u0026#34;, P[ROWOFFSET + C * RR]); } } System.out.println(\u0026#34;\u0026#34;); } System.out.println(\u0026#34;\\f\u0026#34;); PAGENUMBER = PAGENUMBER + 1; PAGEOFFSET = PAGEOFFSET + RR * CC; } } } } í•¨ìˆ˜ê°€ í•˜ë‚˜ë¿ì¸ ìœ„ í”„ë¡œê·¸ë¨ì€ ì—‰ë§ì´ë‹¤.\në“¤ì—¬ì“°ê¸° ì‹¬í•¨ ì´í•´í•˜ê¸° í˜ë“  ë³€ìˆ˜ ì´ë¦„ êµ¬ì¡°ê°€ ë¹½ë¹½í•¨ â†’ ì—¬ëŸ¬í•¨ìˆ˜ë¡œ ë‚˜ëˆ ì•¼í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package literatePrimes; public class PrimePrinter { public static void main(String[] args) { final int NUMBER_OF_PRIMES = 1000; int[] primes = PrimeGenerator.generate(NUMBER_OF_PRIMES); final int ROWS_PER_PAGE = 50; final int COLUMNS_PER_PAGE = 4; RowColumnPagePrinter tablePrinter = new RowColumnPagePrinter(ROWS_PER_PAGE, COLUMNS_PER_PAGE, \u0026#34;The First \u0026#34; + NUMBER_OF_PRIMES + \u0026#34; Prime Numbers\u0026#34;); tablePrinter.print(primes); } } ... ê°€ì¥ ë¨¼ì € ëˆˆì— ë„ëŠ” ë³€í™”ê°€ í”„ë¡œê·¸ë¨ì´ ê¸¸ì–´ì¡Œë‹¤. ê¸¸ì´ê°€ ëŠ˜ì–´ë‚œ ì´ìœ ëŠ” ì—¬ëŸ¬ê°€ì§€ë‹¤.\në¦¬íŒ©í„°ë§í•œ í”„ë¡œê·¸ë¨ì€ ì¢€ ë” ê¸¸ê³  ì„œìˆ ì ì¸ ë³€ìˆ˜ ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤. ë¦¬íŒ©í„°ë§í•œ í”„ë¡œê·¸ë¨ì€ ì½”ë“œì— ì£¼ì„ì„ ì¶”ê°€í•˜ëŠ” ìˆ˜ë‹¨ìœ¼ë¡œ í•¨ìˆ˜ ì„ ì–¸ê³¼ í´ë˜ìŠ¤ ì„ ì–¸ì„ í™œìš©í•œë‹¤. ê°€ë…ì„±ì„ ë†’ì´ê³ ì ê³µë°±ì„ ì¶”ê°€í•˜ê³  í˜•ì‹ì„ ë§ì¶”ì—ˆë‹¤. PrimePrinter í´ë˜ìŠ¤ëŠ” main í•¨ìˆ˜ í•˜ë‚˜ë§Œ í¬í•¨í•˜ë©° ì‹¤í–‰ í™˜ê²½ì„ ì±…ì„ì§„ë‹¤. í˜¸ì¶œ ë°©ì‹ì´ ë‹¬ë¼ì§€ë©´ í´ë˜ìŠ¤ë„ ë°”ë€ë‹¤. ì˜ˆë¥¼ë“¤ì–´ SOAP ì„œë¹„ìŠ¤ë¡œ ë°”ê¾¸ë ¤ë©´ PrimePrinter í´ë˜ìŠ¤ë¥¼ ê³ ì¹œë‹¤.\nPrimeGenerator í´ë˜ìŠ¤ëŠ” ì†Œìˆ˜ ëª©ë¡ì„ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‹¤. ì½”ë“œë¥¼ ì‚´í´ë³´ë©´ ì•Œê² ì§€ë§Œ, ê°ì²´ë¡œ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ëŠ” í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  ê°ì¶”ë ¤ê³  ì‚¬ìš©í•˜ëŠ” ìœ ìš©í•œ ê³µê°„ì¼ ë¿ì´ë‹¤.\nì†Œìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ ë°”ë€ë‹¤ë©´ PrimeGenerator í´ë˜ìŠ¤ë¥¼ ê³ ì¹œë‹¤. ë³€ê²½í•˜ê¸° ì‰¬ìš´ í´ë˜ìŠ¤ ëŒ€ë‹¤ìˆ˜ ì‹œìŠ¤í…œì€ ì§€ì†ì ì¸ ë³€ê²½ì´ ê°€í•´ì§„ë‹¤. ê·¸ë¦¬ê³  ë­”ê°€ ë³€ê²½í•  ë•Œë§ˆë‹¤ ì‹œìŠ¤í…œì´ ì˜ë„ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìœ„í—˜ì´ ë”°ë¥¸ë‹¤. ê¹¨ë—í•œ ì‹œìŠ¤í…œì€ í´ë˜ìŠ¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•´ ë³€ê²½ì— ìˆ˜ë°˜í•˜ëŠ” ìœ„í—˜ì„ ë‚®ì¶˜ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Sql { public Sql(String table, Column[] columns); public String create(); public String insert(Object[] fields); public String selectAll(); public String findByKey(String keyColumn, String keyValue); public String select(Column column, String pattern); public String select(Criteria criteria); public String preparedInsert(); private String columnList(Column[] columns); private String valuesList(Object[] fields, final Column[] columns); private String selectWithCriteria(String criteria); private String placeholderList(Column[] columns); } updateë¥¼ ì•„ì§ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì½”ë“œë‹¤. ì§€ì›í•  ì‹œì ì´ ì˜¤ë©´ í´ë˜ìŠ¤ì— ì†ëŒ€ì–´ ì½”ì³ì•¼ í•œë‹¤. ë¬¸ì œëŠ” ì½”ë“œì— ì†ëŒ€ë©´ ìœ„í—˜ì´ ìƒê¸´ë‹¤ëŠ” ì‚¬ì‹¤ì´ë‹¤. ì–´ë–¤ ë³€ê²½ì´ë“  í´ë˜ìŠ¤ì— ì†ëŒ€ë©´ ë‹¤ë¥¸ ì½”ë“œë¥¼ ë§ê°€ëœ¨ë¦´ ì ì •ì ì¸ ìœ„í—˜ì´ ì¡´ì¬í•œë‹¤.\nìƒˆë¡œìš´ SQLë¬¸ì„ ì§€ì›í•˜ë ¤ë©´ ë°˜ë“œì‹œ Sql í´ë˜ìŠ¤ì— ì†ëŒ€ì•¼ í•œë‹¤. ë˜í•œ ê¸°ì¡´ SQLë¬¸ í•˜ë‚˜ë¥¼ ìˆ˜ì •í•  ë•Œë„ ë°˜ë“œì‹œ Sql í´ë˜ìŠ¤ì— ì†ëŒ€ì•¼ í•œë‹¤. ì´ë ‡ë“¯ ë³€ê²½í•  ì´ìœ ê°€ ë‘ ê°€ì§€ì´ë¯€ë¡œ Sql í´ë˜ìŠ¤ëŠ” SRPë¥¼ ìœ„ë°˜í•œë‹¤.\në‹¨ìˆœíˆ êµ¬ì¡°ì ì¸ ê´€ì ì—ì„œë„ Sqlì€ SRPë¥¼ ìœ„ë°˜í•œë‹¤. selectWithCriteriaë¼ëŠ” ë¹„ê³µê°œ ë©”ì„œë“œê°€ ìˆëŠ”ë°, ì´ ë©”ì„œë“œëŠ” selectë¬¸ì„ ì²˜ë¦¬í•  ë•Œë§Œ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 abstract public class Sql { public Sql(String table, Column[] columns) abstract public String generate(); } public class CreateSql extends Sql { public CreateSql(String table, Column[] columns) @Override public String generate(); } public class SelectSql extends Sql { public SelectSql(String table, Column[] columns) @Override public String generate(); } public class InsertSql extends Sql { public InsertSql(String table, Column[] columns) @Override public String generate(); } public class SelectWithCriteraSql extends Sql { public SelectWithCriteraSql(String table, Column[] columns) @Override public String generate(); } public class SelectWithMatchSql extends Sql { public SelectWithMatchSql(String table, Column[] columns, Criteria criteria) @Override public String generate(); } public class FindByKeySql extends Sql { public FindByKeySql(String table, Column[] columns, Column column, String pattern) @Override public String generate(); } public class CreateSql extends Sql { public CreateSql(String table, Column[] columns, String keyColumn, String keyValue) @Override public String generate(); } public class PreparedInsertSql extends Sql { public PreparedInsertSql(String table, Column[] columns) @Override public String generate(); private String placeholderList(Column[] columns); } public class Where extends Sql { public Where(String criteria) @Override public String generate(); } public class ColumnList extends Sql { public ColumnList(Column[] columns) @Override public String generate(); } ê³µê°œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°ê° Sqlí´ë˜ìŠ¤ì—ì„œ íŒŒìƒí•˜ëŠ” í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì—ˆë‹¤. valueListì™€ ê°™ì€ ë¹„ê³µê°œ ë©”ì„œë“œëŠ” í•´ë‹¹í•˜ëŠ” íŒŒìƒ í´ë˜ìŠ¤ë¡œ ì˜®ê²¼ë‹¤. ëª¨ë“  íŒŒìƒ í´ë˜ìŠ¤ê°€ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë¹„ê³µê°œ ë©”ì„œë“œëŠ” Whereì™€ ColumnListë¼ëŠ” ë‘ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ì— ë„£ì—ˆë‹¤.\ní´ë˜ìŠ¤ë¥¼ ì„œë¡œ ë¶„ë¦¬í•˜ì—¬ ê° í´ë˜ìŠ¤ëŠ” ê·¹ë„ë¡œ ë‹¨ìˆœí•˜ë©° ì´í•´í•˜ê¸° ì‰½ë‹¤. í•¨ìˆ˜ í•˜ë‚˜ë¥¼ ìˆ˜ì •í–ˆë‹¤ê³  ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ë§ê°€ì§ˆ ìœ„í—˜ë„ ì‚¬ì‹¤ìƒ ì—†ë‹¤. í…ŒìŠ¤íŠ¸ ê´€ì ì—ì„œ ëª¨ë“  ë…¼ë¦¬ë¥¼ êµ¬ì„êµ¬ì„ ì¦ëª…í•˜ê¸°ë„ ì‰¬ì›Œì¡Œë‹¤. ìƒˆë¡œìš´ sqlì„ ë„£ì„ë•Œë„ ê¸°ì¡´ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì „í˜€ ì—†ë‹¤.\nìƒˆ ê¸°ëŠ¥ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ê¸°ì¡´ ê¸°ëŠ¥ì„ ë³€ê²½í•  ë•Œ ê±´ë“œë¦´ ì½”ë“œê°€ ìµœì†Œì¸ ì‹œìŠ¤í…œ êµ¬ì¡°ê°€ ë°”ëŒì§í•˜ë‹¤. ì´ìƒì ì¸ ì‹œìŠ¤í…œì´ë¼ë©´ ìƒˆ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ì‹œìŠ¤í…œì„ í™•ì¥í•  ë¿ ê¸°ì¡´ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤. ë³€ê²½ìœ¼ë¡œë¶€í„° ê²©ë¦¬ ìš”êµ¬ì‚¬í•­ì€ ë³€í•˜ê¸° ë§ˆë ¨ì´ë‹¤. ë”°ë¼ì„œ ì½”ë“œë„ ë³€í•˜ê¸° ë§ˆë ¨ì´ë‹¤.\nìƒì„¸í•œ êµ¬í˜„ì— ì˜ì¡´í•˜ëŠ” ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ê°€ ì–´ë µë‹¤. ì˜ˆë¥¼ë“¤ì–´ Portfolio í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤ê³  ê°€ì •í•˜ì.\nPortfolio í´ë˜ìŠ¤ëŠ” ì™¸ë¶€ TokyoStockExchange APIë¥¼ ì´ìš©í•´ í¬íŠ¸í´ë¦¬ì˜¤ ê°’ì„ ê³„ì‚²ë‚˜ë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹œì„¸ ë³€í™”ì— ì˜í–¥ì„ ë°›ê²Œ ëœë‹¤.\n5ë¶„ë§ˆë‹¤ ê°’ì´ ë‹¬ë¼ì§€ëŠ” APIë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œê¸°ëŠ” ì–´ë µë‹¤.\n1 2 3 public interface StorckExchange { Money CurrentPrice(String symbol); } Portfolioì—ì„œ TokyoStockExchange APIë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  StockExchangeë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•œ í›„ ë©”ì„œë“œ í•˜ë‚˜ë¥¼ ì„ ì–¸í–ˆë‹¤.\në‹¤ìŒìœ¼ë¡œ StockExchange ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” TokyoStockExchange í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.\n1 2 3 4 5 6 7 public Portfolio { private StockExchange exchange; public Portfolio(StockExchange exchange) { this.exchange = exchange; } ... } Portfolioë¥¼ ìˆ˜ì •í•´ StockExchange ì°¸ì¡°ìë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë‹¤.\nì´ë¥¼ í†µí•´ TokyoStockExchange í´ë˜ìŠ¤ë¥¼ í‰ë‚´ë‚´ëŠ” í…ŒìŠ¤íŠ¸ìš© í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.\ní…ŒìŠ¤íŠ¸ìš© í´ë˜ìŠ¤ëŠ” StockExchange ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©° ê³ ì •ëœ ì£¼ê°€ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public class PortfolioTest { private FixedStockExchangeStub exchange; private Portfolio portfolio; @Before protected void setUp() throws Exception { exchange = new FixedStockExchangeStub(); exchange.fix(\u0026#34;MSFT\u0026#34;, 100); protfolio = new Portfolio(exchange); } @Test public void GivenFiveMSFTTotalShouldBe500() throws Exception { portfolio.add(5, \u0026#34;MSFT\u0026#34;); Assert.assertEquals(500, portfolio.value()); } } ìœ„ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•  ì •ë„ë¡œ ì‹œìŠ¤í…œì˜ ê²°í•¨ë„ë¥¼ ë‚®ì¶”ë©´ ìœ ì—°ì„±ê³¼ ì¬ì‚¬ìš©ì„±ë„ ë”ìš± ë†’ì•„ì§„ë‹¤.\nê²°í•©ë„ê°€ ë‚®ë‹¤ëŠ” ì†Œë¦¬ëŠ” ê° ì‹œìŠ¤í…œ ìš”ì†Œê°€ ë‹¤ë¥¸ ìš”ì†Œë¡œë¶€í„° ê·¸ë¦¬ê³  ë³€ê²½ìœ¼ë¡œë¶€í„° ì˜ ê²©ë¦¬ë˜ì–´ ìˆë‹¤ëŠ” ì˜ë¯¸ë‹¤. ì‹œìŠ¤í…œ ìš”ì†Œê°€ ì„œë¡œ ì˜ ê²°ë¦¬ë˜ì–´ ìˆìœ¼ë©´ ê° ìš”ì†Œë¥¼ ì´í•´í•˜ê¸°ë„ ë” ì‰¬ì›Œì§„ë‹¤. ì´ë ‡ê²Œ ê²°í•©ë„ë¥¼ ìµœì†Œë¡œ ì¤„ì´ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ ì„¤ê³„ ì›ì¹™ì¸ DIP(Dependency Inversion Principle)ë¥¼ ë”°ë¥´ëŠ” í´ë˜ìŠ¤ê°€ ë‚˜ì˜¨ë‹¤.\në³¸ì§ˆì ìœ¼ë¡œ DIPëŠ” í´ë˜ìŠ¤ê°€ ìƒì„¸í•œ êµ¬í˜„ì´ ì•„ë‹ˆë¼ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼ í•œë‹¤ëŠ” ì›ì¹™ì´ë‹¤.\nê²°ë¡  ê³µê°œê°€ í•„ìš”í• ë• ìµœëŒ€í•œ ìº¡ìŠí™”ë¥¼ ìœ ì§€í•˜ëŠ” ë°©ì‹ì„ ê°•êµ¬í•´ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë„ ì‘ê²Œ ìœ ì§€í•´ì•¼ í•œë‹¤. í´ë˜ìŠ¤ì˜ í¬ê¸°ëŠ” ì±…ì„ ìˆ˜ë¡œ ì¸¡ì •í•œë‹¤. ì±…ì„ì´ ë§ì€ í´ë˜ìŠ¤ëŠ” ì´ë¦„ê³¼ ì„¤ëª…ì— ëª¨í˜¸í•œ í‘œí˜„ì´ ì„ì´ê²Œ ëœë‹¤. ì‘ì§‘ë„ë¥¼ ìœ ì§€í•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ í´ë˜ìŠ¤ê°€ ì‘ì•„ì§„ë‹¤. ë³€ê²½ì€ ì—¬ëŸ¬ ë¬¸ì œë“¤ì„ ìˆ˜ë°˜í•œë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ ì½”ë“œ ë³€ê²½ì´ ì—†ëŠ”ê²ƒì´ ì¢‹ë‹¤. ê·¸ëŒ€ë¡œ ë³€ê²½ì€ í•­ìƒ í•„ìš”í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë³€ê²½í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë¥¼ ê¹¨ë—í•˜ê²Œ ì •ë¦¬í•˜ë©´ ë³€ê²½í•˜ê¸° ì‰½ë‹¤. í´ë˜ìŠ¤ë¥¼ ì‘ê²Œ ë§Œë“¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì •ë¦¬ëœë‹¤. ê²°í•©ë„ë¥¼ ìµœëŒ€í•œ ë‚®ì¶”ë©´ ë³€ê²½ìœ¼ë¡œ ë¶€í„° ê²©ë¦¬í•  ìˆ˜ ìˆë‹¤. ","date":"2023-04-20T16:30:13+09:00","image":"https://codemario318.github.io/post/clean_code_10/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_10/","title":"í´ë¦°ì½”ë“œ: 10. í´ë˜ìŠ¤"},{"content":"ì• ìì¼ê³¼ TDD ë•íƒì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìë™í™”í•˜ëŠ” ê°œë°œìë“¤ì´ ì´ë¯¸ ë§ì•„ì¡Œìœ¼ë©° ì ì  ë” ëŠ˜ì–´ë‚˜ëŠ” ì¶”ì„¸ë‹¤.\ní…ŒìŠ¤íŠ¸ë¥¼ ê¸‰í•˜ê²Œ ì„œë‘ë¥´ëŠ” ì™€ì¤‘ì— ë§ì€ ê°œë°œìë“¤ì´ ì œëŒ€ë¡œ ëœ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤ëŠ” ì¤‘ìš”í•œ ì‚¬ì‹¤ì„ ë†“ì¹œë‹¤.\nTDD ë²•ì¹™ ì„¸ ê°€ì§€ ì‹¤íŒ¨í•˜ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ë•Œê¹Œì§€ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ì»´íŒŒì¼ì€ ì‹¤íŒ¨í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì‹¤í–‰ì´ ì‹¤íŒ¨í•˜ëŠ” ì •ë„ë¡œë§Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤. í˜„ì¬ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•  ì •ë„ë¡œë§Œ ì‹¤ì œ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤. ìœ„ ì„¸ ê°€ì§€ ê·œì¹™ì„ ë”°ë¥´ë©´ ê°œë°œê³¼ í…ŒìŠ¤íŠ¸ê°€ ëŒ€ëµ 30ì´ˆ ì£¼ê¸°ë¡œ ë¬¶ì¸ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œì™€ ì‹¤ì œ ì½”ë“œê°€ í•¨ê»˜ ë‚˜ì˜¬ë¿ë”ëŸ¬ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì‹¤ì œ ì½”ë“œë³´ë‹¤ ë¶ˆê³¼ ëª‡ ì´ˆ ì „ì— ë‚˜ì˜¨ë‹¤.\nì´ë ‡ê²Œ ì¼í•˜ë©´ ì‹¤ì œ ì½”ë“œë¥¼ ì‚¬ì‹¤ìƒ ì „ë¶€ í…ŒìŠ¤íŠ¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë‚˜ì˜¤ì§€ë§Œ, ì‹¤ì œ ì½”ë“œì™€ ë§ë¨¹ì„ ì •ë„ë¡œ ë°©ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¬ê°í•œ ê´€ë¦¬ ë¬¸ì œë¥¼ ìœ ë°œí•˜ê¸°ë„ í•œë‹¤.\nê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìœ ì§€í•˜ê¸° í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œ ëª»ì§€ ì•Šê²Œ ì¤‘ìš”í•˜ë‹¤. ì‹¤ì œ ì½”ë“œ ëª»ì§€ ì•Šê²Œ ê¹¨ë—í•˜ê²Œ ì§œì•¼í•œë‹¤.\nì§€ì €ë¶„í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í•˜ì§€ ì•ŠëŠ” ê²ƒ ë³´ë‹¤ ë” ì•ˆì¢‹ì€ ê²°ê³¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\në‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ì•ˆì „í•¨ì„ ë³´ì¥í•˜ì—¬ ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ì§€í‚¤ëŠ” ë²„íŒ€ëª©ì´ ëœë‹¤.\nì‹¤ì œ ì½”ë“œê°€ ì§„í™”í•˜ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ë³€í•´ì•¼ í•˜ëŠ”ë°, í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì§€ì €ë¶„í• ìˆ˜ë¡ ì‹¤ì œ ì½”ë“œë¥¼ ë³€ê²½í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë³µì¡í• ìˆ˜ë¡ ì‹¤ì œ ì½”ë“œë¥¼ ì§œëŠ” ì‹œê°„ë³´ë‹¤ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ì‹œê°„ì´ ë” ê±¸ë¦¬ê²Œ ëœë‹¤.\nì‹¤ì œ ì½”ë“œë¥¼ ë³€ê²½í•´ ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì‹¤íŒ¨í•˜ê¸° ì‹œì‘í•˜ë©´, ì§€ì €ë¶„í•œ ì½”ë“œë¡œ ì¸í•´, ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì ì  ë” í†µê³¼ì‹œí‚¤í‚¤ ì–´ë ¤ì›Œì§„ë‹¤. ê·¸ë˜ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ê³„ì†í•´ì„œ ëŠ˜ì–´ë‚˜ëŠ” ë¶€ë‹´ì´ ë˜ê³  ì•…ìˆœí™˜ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\ní…ŒìŠ¤íŠ¸ ìŠˆíŠ¸ê°€ ì—†ìœ¼ë©´ ê°œë°œìëŠ” ìì‹ ì´ ìˆ˜ì •í•œ ì½”ë“œê°€ ì œëŒ€ë¡œ ë„ëŠ”ì§€ í™•ì¸í•  ë°©ë²•ì´ ì—†ë‹¤. ì‹œìŠ¤í…œì„ ìˆ˜ì •í–ˆì„ë•Œ ë‹¤ë¥¸ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ë°©ë²•ì´ ì—†ë‹¤. ê²°í•¨ìœ¨ì´ ë†’ì•„ì§€ê¸° ì‹œì‘í•œë‹¤. ì˜ë„í•˜ì§€ ì•Šì€ ê²°í•¨ ìˆ˜ê°€ ë§ì•„ì§€ë©´ ê°œë°œìëŠ” ë³€ê²½ì„ ì£¼ì €í•œë‹¤. ë³€ê²½í•˜ë©´ ë“ë³´ë‹¤ í•´ê°€ í¬ë‹¤ ìƒê°í•´ ë” ì´ìƒ ì½”ë“œë¥¼ ì •ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. í…ŒìŠ¤íŠ¸ëŠ” ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ì œê³µí•œë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•˜ì§€ ì•Šìœ¼ë©´ ê²°êµ­ì€ ìƒì–´ë²„ë¦°ë‹¤. ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ìœ¼ë©´ ì‹¤ì œ ì½”ë“œë¥¼ ìœ ì—°í•˜ê²Œ ë§Œë“œëŠ” ë²„íŒ€ëª©ë„ ì‚¬ë¼ì§„ë‹¤.\ní…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì—†ë‹¤ë©´ ëª¨ë“  ë³€ê²½ì´ ì ì •ì ì¸ ë²„ê·¸ë‹¤. ì•„ë¬´ë¦¬ ì•„í‚¤í…ì²˜ê°€ ìœ ì—°í•˜ë”ë¼ë„, ì„¤ê³„ë¥¼ ì•„ë¬´ë¦¬ ì˜ í–ˆì–´ë„ ë²„ê·¸ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ì¦ëª…í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.\nê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ê°€ë…ì„±, ê°€ë…ì„±, ê°€ë…ì„±!\nê°€ë…ì„±ì€ ì‹¤ì œ ì½”ë“œë³´ë‹¤ í…ŒìŠ¤íŠ¸ ì½”ë“œì— ë”ë”ìš± ì¤‘ìš”í•˜ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’íˆë ¤ë©´ ì—¬ëŠ ì½”ë“œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ëª…ë£Œì„±, ë‹¨ìˆœì„±, í’ë¶€í•œ í‘œí˜„ë ¥ì´ í•„ìš”í•˜ë‹¤.\ní…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ìµœì†Œ í‘œí˜„ìœ¼ë¡œ ë§ì€ ê²ƒì„ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public void testGetPageHierarchyAsXml() throws Exception { makePages(\u0026#34;pageOne\u0026#34;, \u0026#34;PageOne.ChildOne\u0026#34;, \u0026#34;PageTwo\u0026#34;); submintRequest(\u0026#34;root\u0026#34;, \u0026#34;type:pages\u0026#34;); assertResponseIsXML(); assertResponseContains( \u0026#34;\u0026lt;name\u0026gt;PageOne\u0026lt;/name\u0026gt;\u0026#34;, \u0026#34;\u0026lt;name\u0026gt;PageTwo\u0026lt;/name\u0026gt;\u0026#34;, \u0026#34;\u0026lt;name\u0026gt;ChildOne\u0026lt;/name\u0026gt;\u0026#34; ); assertResponseDoesNotContain(\u0026#34;SymPage\u0026#34;); } public void testGetDataAsXml() throws Exception { makePageWithContent(\u0026#34;TestPageOne\u0026#34;, \u0026#34;test page\u0026#34;); submintRequest(\u0026#34;TestPageOne\u0026#34;, \u0026#34;type:data\u0026#34;); assertResponseIsXML(); assertResponseContains(\u0026#34;test page\u0026#34;, \u0026#34;\u0026lt;Test\u0026#34;); } BUILD-OPERATE-CHECK íŒ¨í„´ Usual production patterns applied to Integration tests\ní…ŒìŠ¤íŠ¸ë¥¼ ì„¸ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆˆë‹¤.\nBUILD: í…ŒìŠ¤íŠ¸ ìë£Œë¥¼ ë§Œë“ ë‹¤. OPERATE: í…ŒìŠ¤íŠ¸ ìë£Œë¥¼ ì¡°ì‘í•œë‹¤. CHECK: ì¡°ì‘í•œ ê²°ê³¼ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•œë‹¤. BUILD-OPERATE-CHECK íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì¡ë‹¤í•˜ê³  ì„¸ì„¸í•œ ì½”ë“œë¥¼ ê±°ì˜ ë‹¤ ì—†ì•¨ ìˆ˜ ìˆë‹¤.\në„ë©”ì¸ì— íŠ¹í™”ëœ í…ŒìŠ¤íŠ¸ ì–¸ì–´ ë„ë©”ì¸ íŠ¹í™” ì–¸ì–´(DSL)ì— ê´€í•œ ì„¤ëª… | JetBrains MPS\ní”íˆ ì“°ëŠ” ì‹œìŠ¤í…œ ì¡°ì‘ APIë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  API ìœ„ì—ë‹¤ í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ë¥¼ êµ¬í˜„í•œ í›„ ê·¸í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì§œê¸°ë„ ì½ê¸°ë„ ì‰¬ì–´ì§„ë‹¤.\nì´ë ‡ê²Œ êµ¬í˜„í•œ í•¨ìˆ˜ì™€ ìœ í‹¸ë¦¬í‹°ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ëŠ” íŠ¹ìˆ˜ APIê°€ ëœë‹¤. ì¦‰ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë‹¹ì‚¬ìì™€ ë‚˜ì¤‘ì— í…ŒìŠ¤íŠ¸ë¥¼ ì½ì–´ë³¼ ë…ìë¥¼ ë„ì™€ì£¼ëŠ” í…ŒìŠ¤íŠ¸ ì–¸ì–´ì´ë‹¤.\nì´ì¤‘ í‘œì¤€ í…ŒìŠ¤íŠ¸ API ì½”ë“œì— ì ìš©í•˜ëŠ” í‘œì¤€ì€ ì‹¤ì œ ì½”ë“œì— ì ìš©í•˜ëŠ” í‘œì¤€ê³¼ í™•ì‹¤íˆ ë‹¤ë¥´ë‹¤.\në‹¨ìˆœí•˜ê³ , ê°„ê²°í•˜ê³ , í‘œí˜„ë ¥ì´ í’ë¶€í•´ì•¼ í•˜ì§€ë§Œ, ì‹¤ì œ ì½”ë“œë§Œí¼ íš¨ìœ¨ì ì¼ í•„ìš”ëŠ” ì—†ë‹¤.\në˜í•œ ì‹¤ì œ í™˜ê²½ê³¼ í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ ìš”êµ¬ì‚¬í•­ì´ íŒì´í•˜ê²Œ ë‹¤ë¥´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 @Test public void turnOnLoTempAlarmAtThreashold() throws Exception { hw.setTemp(WAY_TOO_COLD); controller.tic(); assertTrue(hw.heaterState()); assertTrue(hw.blowerState()); assertFalse(hw.coolerState()); assertFalse(hw.hiTempAlarm()); assertTrue(hw.loTempAlarm()); } 1 2 3 4 5 @Test public void turnOnLoTempAlarmAtThreashold() throws Exception { wayTooCold(); assertEquals(\u0026#34;HBchL\u0026#34;, hw.getState()); } ì‹¤ì œ ì‹œìŠ¤í…œì´ ëŒì•„ê°€ëŠ” í™˜ê²½ì€ ê°€í˜¹í•  ì§€ ëª¨ë¥´ë‚˜, ëŒ€ë¶€ë¶„ í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ ìì›ì´ ì œí•œì ì¼ ê°€ëŠ¥ì„±ì´ ë‚®ë‹¤.\nì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì ˆëŒ€ë¡œ ì•ˆ ë˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œëŠ” ì „í˜„ ë¬¸ì œì—†ëŠ” ë°©ì‹ì´ ìˆë‹¤. ëŒ€ê°œ ë©”ëª¨ë¦¬ë‚˜ CPU íš¨ìœ¨ê³¼ ê´€ë ¨ìˆëŠ” ê²½ìš°ì¸ë° ì½”ë“œì˜ ê¹¨ë—í•¨ê³¼ëŠ” ì² ì €íˆ ë¬´ê´€í•˜ë‹¤.\ní…ŒìŠ¤íŠ¸ ë‹¹ assert í•˜ë‚˜ assertë¬¸ì´ ë‹¨ í•˜ë‚˜ì¸ í•¨ìˆ˜ëŠ” ê²°ë¡ ì´ í•˜ë‚˜ë¼ì„œ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰½ê³  ë¹ ë¥´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 public void testGetPageHierarchyAsXml() throws Exception { givenPages(\u0026#34;PageOne\u0026#34;, \u0026#34;pageOne.ChildOne\u0026#34;, \u0026#34;PageTwo\u0026#34;); whenRequestIsIssued(\u0026#34;root\u0026#34;, \u0026#34;type:pages\u0026#34;); thenResponseShouldBeXML(); } public void testGetPageHiereachyHasRightTags() throws Exception { givenPages(\u0026#34;PageOne\u0026#34;, \u0026#34;pageOne.ChildOne\u0026#34;, \u0026#34;PageTwo\u0026#34;); whenRequestIsIssued(\u0026#34;root\u0026#34;, \u0026#34;type:pages\u0026#34;); thenResponseShouldContain( \u0026#34;\u0026lt;name\u0026gt;PageOne\u0026lt;/name\u0026gt;\u0026#34;, \u0026#34;\u0026lt;name\u0026gt;PageTwo\u0026lt;/name\u0026gt;\u0026#34;, \u0026#34;\u0026lt;name\u0026gt;ChildOne\u0026lt;/name\u0026gt;\u0026#34; ); } í…ŒìŠ¤íŠ¸ë¥¼ ë¶„ë¦¬í•˜ë©´ ìœ„ í•¨ìˆ˜ 1~2ì²˜ëŸ¼ ì¤‘ë³µë˜ëŠ” ì½”ë“œê°€ ë§ì•„ì§€ëŠ”ë°, TEMPLATE METHOD íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆë‹¤.\ngiven/when ë¶€ë¶„ì„ ë¶€ëª¨ í´ë˜ìŠ¤ì— ë‘ê³  ì†Œë‘ ë¶€ë¶„ì„ ìì‹ í´ë˜ìŠ¤ì— ë‘ë©´ ëœë‹¤. ì•„ë‹ˆë©´ ì™„ì „íˆ ë…ìì ì¸ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ @Before í•¨ìˆ˜ì— given/when ë¶€ë¶„ì„ ë„£ê³  @Test í•¨ìˆ˜ì— thenë¶€ë¶„ì„ ë„£ì–´ë„ ëœë‹¤.\ní•˜ì§€ë§Œ ë‘ ê²½ìš° ëª¨ë‘ ê³¼ë„í•œ ëŠë‚Œì´ ìˆëŠ”ë° ì´ê²ƒì €ê²ƒ ê°ì•ˆí•´ ë³´ë©´ ê²°êµ­ assert ë¬¸ì„ ì—¬ë · ì‚¬ìš©í•˜ëŠ” í¸ì´ ì¢‹ì„ìˆ˜ë„ ìˆë‹¤.\nğŸ’¡ ë‹¨ì¼ assertë¥¼ ì§€ì›í•˜ëŠ” í•´ë‹¹ ë¶„ì•¼ í…ŒìŠ¤íŠ¸ ì–¸ì–´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì´ì ì´ ë§ìœ¼ë‚˜, ê³¼í•˜ë‹¤ë©´ ê¼­ ì§€í‚¬ í•„ìš”ëŠ” ì—†ë‹¤. í•˜ì§€ë§Œ assert ë¬¸ ê°œìˆ˜ë¥¼ ìµœëŒ€í•œ ì¤„ì´ë ¤ê³  ë…¸ë ¥í•´ì•¼ í•œë‹¤.\ní…ŒìŠ¤íŠ¸ë‹¹ ê°œë… í•˜ë‚˜ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë§ˆë‹¤ í•œ ê°œë…ë§Œ í…ŒìŠ¤íŠ¸í•˜ë¼. ì´ê²ƒì €ê²ƒ ì¡ë‹¤í•œ ê°œë…ì„ ì—°ì†ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê¸´ í•¨ìˆ˜ëŠ” í”¼í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /** * addMonths() ë©”ì„œë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì¥í™©í•œ ì½”ë“œ */ public void testAddMonths() { SerialDate d1 = SerialDate.createInstance(31, 5, 2004); SerialDate d2 = SerialDate.addMonths(1, d1); assertEquals(30, d2.getDayOfMonth()); assertEquals(6, d2.getMonth()); assertEquals(2004, d2.getYYYY()); SerialDate d3 = SerialDate.addMonths(2, d1); assertEquals(31, d3.getDayOfMonth()); assertEquals(7, d3.getMonth()); assertEquals(2004, d3.getYYYY()); SerialDate d4 = SerialDate.addMonths(1, SerialDate.addMonths(1, d1)); assertEquals(30, d4.getDayOfMonth()); assertEquals(7, d4.getMonth()); assertEquals(2004, d4.getYYYY()); } ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë…ìì ì¸ ê°œë… ì„¸ ê°œë¥¼ í…ŒìŠ¤íŠ¸í•˜ë¯€ë¡œ ë…ìì ì¸ í…ŒìŠ¤íŠ¸ ì„¸ê°œë¡œ ìª¼ê°œëŠ” ê²ƒì´ ì¢‹ë‹¤. ìƒˆ ê°œë…ì„ í•œ í•¨ìˆ˜ë¡œ ëª°ì•„ë„£ìœ¼ë©´ ë…ìê°€ ê° ì ˆì´ ì¡´ì¬í•˜ëŠ” ì´ìœ ì™€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê°œë…ì„ ëª¨ë‘ ì´í•´í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\n31ì¼ë¡œ ëë‚˜ëŠ” ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œê°€ ì£¼ì–´ì§€ëŠ” ê²½ìš° 30ì¼ë¡œ ëë‚˜ëŠ” í•œ ë‹¬ì„ ë”í•˜ë©´ ë‚ ì§œëŠ” 30ì¼ì´ ë˜ì–´ì•¼ì§€ 31ì¼ì´ ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤. ë‘ ë‹¬ì„ ë”í•˜ë©´ ê·¸ë¦¬ê³  ë‘ ë²ˆì§¸ ë‹¬ì´ 31ì¼ë¡œ ëë‚˜ë©´ ë‚ ì§œëŠ” 31ì¼ì´ ë˜ì–´ì•¼ í•œë‹¤. 30ì¼ë¡œ ëë‚˜ëŠ” ë‹¬ì˜ ë§ˆì§€ë§‰ ë‚ ì§œê°€ ì£¼ì–´ì§€ëŠ” ê²½ìš° 31ì¼ë¡œ ëë‚˜ëŠ” í•œ ë‹¬ì„ ë”í•˜ë©´ ë‚ ì§œëŠ” 30ì¼ì´ ë˜ì–´ì•¼ì§€ 31ì¼ì´ ë˜ë©´ ì•ˆëœë‹¤. ìœ„ í…ŒìŠ¤íŠ¸ì½”ë“œëŠ” assertë¬¸ì´ ì—¬ë ·ì´ë¼ëŠ” ì‚¬ì‹¤ì´ ë¬¸ì œê°€ ì•„ë‹ˆë¼, í•œ í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì—ì„œ ì—¬ëŸ¬ ê°œë…ì„ í…ŒìŠ¤í•œë‹¤ëŠ” ì‚¬ì‹¤ì´ ë¬¸ì œë‹¤.\nâ€œê°œë… ë‹¹ assert ë¬¸ ìˆ˜ë¥¼ ìµœì†Œë¡œ ì¤„ì—¬ë¼â€ì™€ â€œí…ŒìŠ¤íŠ¸ í•¨ìˆ˜ í•˜ë‚˜ëŠ” ê°œë… í•˜ë‚˜ë§Œ í…ŒìŠ¤íŠ¸í•˜ë¼â€\nF.I.R.S.T ê¹¨ë—í•œ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒ ë‹¤ì„¯ê°€ì§€ ê·œì¹™ì„ ë”°ë¥¸ë‹¤.\nF(Fast) ë¹ ë¥´ê²Œ\ní…ŒìŠ¤íŠ¸ëŠ” ë¹¨ë¼ì•¼ í•œë‹¤. í…ŒìŠ¤íŠ¸ê°€ ëŠë¦¬ë©´ ìì£¼ ëŒë¦´ ì—„ë‘ë¥¼ ëª» ë‚¸ë‹¤, ìì£¼ ëŒë¦¬ì§€ ì•Šìœ¼ë©´ ì´ˆë°˜ì— ë¬¸ì œë¥¼ ì°¾ì•„ë‚´ê¸° í˜ë“¤ë‹¤. ì´ì— ë”°ë¼ ì½”ë“œë¥¼ ë§ˆìŒê» ì •ë¦¬í•˜ì§€ ëª»í•´ì§€ê³ , ê²°êµ­ ì½”ë“œ í’ˆì§ˆì´ ë§ê°€ì§€ê¸° ì‹œì‘í•œë‹¤.\nI(Independent) ë…ë¦½ì ìœ¼ë¡œ\nê° í…ŒìŠ¤íŠ¸ëŠ” ì„œë¡œ ì˜ì¡´í•˜ë©´ ì•ˆëœë‹¤.\ní•œ í…ŒìŠ¤íŠ¸ê°€ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë  í™˜ê²½ì„ ì¤€ë¹„í•´ì„œëŠ” ì•ˆëœë‹¤. ê° í…ŒìŠ¤íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê·¸ë¦¬ê³  ì–´ë–¤ ìˆœì„œë¡œ ì‹¤í–‰í•´ë„ ê´œì°®ì•„ì•¼ í•œë‹¤.\ní…ŒìŠ¤íŠ¸ê°€ ì„œë¡œì—ê²Œ ì˜ì¡´í•˜ë©´ í•˜ë‚˜ê°€ ì‹¤íŒ¨í•  ë•Œ ë‚˜ë¨¸ì§€ë„ ì‡ë‹¬ì•„ ì‹¤íŒ¨í•˜ë¯€ë¡œ ì›ì¸ì„ ì§„ë‹¨í•˜ê¸° ì–´ë ¤ì›Œì§€ë©° í›„ë°˜ í…ŒìŠ¤íŠ¸ê°€ ì°¾ì•„ë‚´ì•¼ í•  ê²°í•¨ì„ ìˆ¨ê¸´ë‹¤.\nR(Repeatable) ë°˜ë³µê°€ëŠ¥í•˜ê²Œ\ní…ŒìŠ¤íŠ¸ëŠ” ì–´ë–¤ í™˜ê²½ì—ì„œë„ ë°˜ë³µ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\ní…ŒìŠ¤íŠ¸ê°€ ëŒì•„ê°€ì§€ ì•ŠëŠ” í™˜ê²½ì´ í•˜ë‚˜ë¼ë„ ìˆë‹¤ë©´ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œ ì´ìœ ë¥¼ ë‘˜ëŸ¬ëŒˆ ë³€ëª…ì´ ìƒê¸´ë‹¤. ë˜í•œ í™˜ê²½ì´ ì§€ì›ë˜ì§€ ì•Šê¸°ì— í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì§€ ëª»í•˜ëŠ” ìƒí™©ì— ì§ë©´í•œë‹¤.\nS(Self-Validating) ìê°€ê²€ì¦í•˜ëŠ”\ní…ŒìŠ¤íŠ¸ëŠ” ë¶€ìš¸ ê°’ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë‚´ì•¼ í•œë‹¤.\nì„±ê³µ ì•„ë‹ˆë©´ ì‹¤íŒ¨ë‹¤. í†µê³¼ ì—¬ë¶€ë¥¼ ì•Œë ¤ê³  ë¡œê·¸ íŒŒì¼ì„ ì½ê²Œ ë§Œë“¤ì–´ì„œëŠ” ì•ˆ ëœë‹¤. í†µê³¼ ì—¬ë¶€ë¥´ ë³´ë ¤ê³  í…ìŠ¤íŠ¸ íŒŒì¼ ë‘ê°œë¥¼ ìˆ˜ì‘ì—…ìœ¼ë¡œ ë¹„êµí•˜ê²Œ ë§Œë“¤ì–´ì„œë„ ì•ˆ ëœë‹¤.\nT(Timely) ì ì‹œì—\ní…ŒìŠ¤íŠ¸ëŠ” ì ì‹œì— ì‘ì„±í•´ì•¼ í•œë‹¤.\në‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” ì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ê¸° ì§ì „ì— êµ¬í˜„í•œë‹¤.\nì‹¤ì œ ì½”ë“œë¥¼ êµ¬í˜„í•œ ë‹¤ìŒì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ë©´ ì‹¤ì œ ì½”ë“œê°€ í…ŒìŠ¤íŠ¸ì— ì í•©í•˜ì§€ ì•Šì€ êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ ì§ˆ ìˆ˜ ìˆë‹¤.\nê²°ë¡  í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‹¤ì œ ì½”ë“œë§Œí¼ì´ë‚˜ í”„ë¡œì íŠ¸ ê±´ê°•ì— ì¤‘ìš”í•˜ë‹¤. ì–´ì©Œë©´ ì‹¤ì œ ì½”ë“œë³´ë‹¤ ë” ì¤‘ìš”í• ì§€ë„ ëª¨ë¥¸ë‹¤.\ní…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë°©ì¹˜ë˜ì–´ ë§ê°€ì§€ë©´ ì‹¤ì œ ì½”ë“œë„ ë§ê°€ì§„ë‹¤.\në‚´ ê²°ë¡  í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë³€ê²½ì— ëŒ€í•œ ì•ˆì „ì¥ì¹˜, ë²„íŒ€ëª©ì´ë©° ì´ë¥¼ í†µí•´ ì½”ë“œì— ìœ ì—°ì„±, ìœ ì§€ë³´ìˆ˜ì„±, ì¬ì‚¬ìš©ì„±ì„ ë³´ì¡´í•˜ê³  ê°•í™”í•œë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê¹¨ë—íˆ ìœ ì§€í•˜ì§€ ì•Šìœ¼ë©´, í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±, ìœ ì§€ê°€ ì–´ë ¤ì›Œì ¸ ë°©ì¹˜í•˜ê²Œ ëœë‹¤. ê²°êµ­ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ë‘ë ¤ì›€ì„ ë§Œë“¤ê²Œ ë˜ê³  ì´ëŸ¬í•œ ë‘ë ¤ì›€ì´ ì‹¤ì œ ì½”ë“œì˜ í’ˆì§ˆì„ ì ì  ë–¨ì–´ëœ¨ë¦°ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ê°€ë…ì„±ì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤. í…ŒìŠ¤íŠ¸ APIë¥¼ êµ¬í˜„í•´ ë„ë©”ì¸ íŠ¹í™” ì–¸ì–´ë¥¼ ë§Œë“¤ì. ë„ë©”ì¸ì— ìµœì í™”ëœ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë§Œë“¤ì. assertë¬¸ì€ ìµœì†Œí•œìœ¼ë¡œ ìœ ì§€í•˜ì ì—¬ëŸ¬ê°œì˜ assertë¬¸ì´ ìˆë‹¤ëŠ” ëœ»ì€ ì½”ë“œ ìì²´ ê°€ë…ì„±ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤. assert ë¬¸ì´ ì—¬ëŸ¬ê°œë©´ ì—¬ëŸ¬ ê°œë…ì„ í…ŒìŠ¤íŠ¸ í•˜ê³  ìˆì„ ì§€ë„ ëª¨ë¥¸ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œ í•˜ë‚˜ëŠ” í•˜ë‚˜ì˜ ê°œë…ë§Œ í…ŒìŠ¤íŠ¸ í•´ì•¼í•œë‹¤. ì—¬ëŸ¬ ê°œë…ì„ í…ŒìŠ¤íŠ¸í•˜ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì–´ë–¤ ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ ì•Œê¸° ìœ„í•´ ê³ ë¯¼í•´ì•¼í•œë‹¤. (ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤) í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ë§Œë“œëŠ” ì´ìœ ëŠ” í…ŒìŠ¤íŠ¸ì— ì í•©í•œ ì‹¤ì œ ì½”ë“œë¥¼ ë§Œë“œëŠ”ë° ë„ì›€ì´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ","date":"2023-04-20T16:22:13+09:00","image":"https://codemario318.github.io/post/clean_code_9/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_9/","title":"í´ë¦°ì½”ë“œ: 9. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸"},{"content":" ë­”ê°€ ì˜ëª»ë˜ë©´ ë°”ë¡œì¡ì„ ì±…ì„ì€ ë°”ë¡œ ìš°ë¦¬ í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œ ìˆë‹¤.\nê¹¨ë—í•œ ì½”ë“œì™€ ì˜¤ë¥˜ì²˜ë¦¬ëŠ” ì—°ê´€ì´ ìˆë‹¤. ìƒë‹¹ìˆ˜ ì½”ë“œë“¤ì€ ì „ì ìœ¼ë¡œ ì˜¤ë¥˜ ì²˜ë¦¬ ì½”ë“œì— ì¢Œìš°ëœë‹¤. ì—¬ê¸°ì €ê¸° í©ì–´ì§„ ì˜¤ë¥˜ ì²˜ë¦¬ ì½”ë“œ ë•Œë¬¸ì— ì‹¤ì œ ì½”ë“œê°€ í•˜ëŠ” ì¼ì„ íŒŒì•…í•˜ê¸°ê°€ ê±°ì˜ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸ë‹¤.\nğŸ’¡ ì˜¤ë¥˜ ì²˜ë¦¬ëŠ” ì¤‘ìš”í•˜ì§€ë§Œ ì´ë¡œ ì¸í•´ í”„ë¡œê·¸ë¨ ë…¼ë¦¬ë¥¼ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤ë©´ ê¹¨ë—í•œ ì½”ë“œë¼ ë¶€ë¥´ê¸° ì–´ë µë‹¤.\nì˜¤ë¥˜ ì½”ë“œë³´ë‹¤ ì˜ˆì™¸ë¥¼ ì‚¬ìš©í•˜ë¼ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class DeviceController { ... piblic void sendShutDown() { DeviceHandle handle = getHandle(DEV1); if (handle != DeviceHandle.INVALID) { retrieveDeviceRecord(handle); if (record.getStatus() != DEVICE_SUSPENDED) { pauseDevice(handle); clearDeviceWorkQueue(handle); closeDevice(handle); } else { logger.log(\u0026#34;Device suspended. Unable to shut down\u0026#34;); } } else { logger.log(\u0026#34;Invalid handle for: \u0026#34; + DEV1.toString()); } } ... } ìœ„ì™€ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ í˜¸ì¶œì ì½”ë“œê°€ ë³µì¡í•´ì§„ë‹¤. í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ì¦‰ì‹œ ì˜¤ë¥˜ë¥¼ í™•ì¸í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.\nì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì˜ˆì™¸ë¥¼ ë˜ì§€ë©´, ì‹¤ì œ êµ¬í˜„ ë¡œì§ì´ ì˜¤ë¥˜ ì²˜ë¦¬ ì½”ë“œì™€ ì„ì´ì§€ ì•Šê²Œ ë˜ì–´ í˜¸ì¶œìê°€ ê¹”ë”í•´ì§„ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 public class DeviceController { ... public void sendShutDown() { try { tryToShutDown(); } catch (DeviceShutDownError e) { logger.log(e); } } private void tryToshutDown() throw DeviceShutDownError { DeviceHandle hadle = getHandle(DEV1); DeviceRecord record = retrieveDeviceRecord(handle); pauseDevice(handle); clearDeviceWorkQueue(handle); closeDevice(handle); } private DeviceHandle getHandle(DeviceId id) { ... throw new DeviceShutDownError(\u0026#34;Invalid handle for: \u0026#34; + id.toString()); } ... } ë’¤ì„ì—¬ìˆë˜ ë””ë°”ì´ìŠ¤ ì¢…ë£Œ ë¡œì§ê³¼ ì˜¤ë¥˜ ì²˜ë¦¬ ë¡œì§ì´ ë¶„ë¦¬ë˜ì—ˆë‹¤. ì´ë¥¼ í†µí•´ ê° ê°œë…ì„ ë…ë¦½ì ìœ¼ë¡œ ì‚´í´ë³´ê³  ì´í•´í•  ìˆ˜ ìˆë‹¤.\nTry-Catch-Finally ë¬¸ë¶€í„° ì‘ì„±í•˜ë¼ ì˜ˆì™¸ì²˜ë¦¬ëŠ” ë¡œì§ ë‚´ë¶€ì— ë²”ìœ„ë¥¼ ì •ì˜í•œë‹¤.\ntry-catch-finally ë¬¸ì—ì„œ try ë¸”ë¡ì— ë“¤ì–´ê°€ëŠ” ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì–´ëŠ ì‹œì ì—ì„œë“  ì‹¤í–‰ì´ ì¤‘ë‹¨ëœ í›„ catch ë¸”ë¡ìœ¼ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ìˆë‹¤.\ntry ë¸”ë¡ì—ì„œ ë¬´ìŠ¨ ì¼ì´ ìƒê²¨ë„ catch ë¸”ë¡ì€ í”„ë¡œê·¸ë¨ ìƒíƒœë¥¼ ì¼ê´€ì„± ìˆê²Œ ìœ ì§€í•´ì•¼ í•œë‹¤.\nì˜ˆì™¸ê°€ ë°œìƒí•  ì½”ë“œë¥¼ ì§¤ ë•ŒëŠ” try-catch-finally ë¬¸ì„ ë§Œë“¤ì–´ë†“ê³  ì‹œì‘í•˜ë©´ try ë¸”ë¡ì—ì„œ ë¬´ìŠ¨ ì¼ì´ ìƒê¸°ë“ ì§€ í˜¸ì¶œìê°€ ê¸°ëŒ€í•˜ëŠ” ìƒíƒœë¥¼ ì •ì˜í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\n1 2 3 4 5 // íŒŒì¼ì´ ì—†ìœ¼ë©´ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ”ì§€ ì•Œì•„ë³´ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ @Test(expcted = StroageException.class) public void retrieveSectionShouldThrowOnInvalidFileName() { sectionStore.retrieveSection(\u0026#34;invalid - file\u0026#34;); } 1 2 3 public List\u0026lt;RecordedGrip\u0026gt; retrieveSection(String sectionName) { return new ArrayList\u0026lt;RecordedGrip\u0026gt;(); } ì½”ë“œê°€ ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨í•œë‹¤. ì•„ë˜ ì½”ë“œëŠ” ì˜ˆì™¸ë¥¼ ë˜ì§„ë‹¤.\n1 2 3 4 5 6 7 8 public List\u0026lt;RecordedGrip\u0026gt; retrieveSevtion(String sectionName) { try { FileInputStream stream = new FileInputStream(sectionName); } catch (Exception e) { throw new StorageException(\u0026#34;retrieval error\u0026#34;, e); } return new ArrayList\u0026lt;RecordedGrip\u0026gt;(); } ì½”ë“œê°€ ì˜ˆì™¸ë¥¼ ë˜ì§€ë¯€ë¡œ ì´ì œëŠ” í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•œë‹¤. ì´ ì‹œì ì—ì„œ ë¦¬íŒ©í„°ë§ì´ ê°€ëŠ¥í•˜ë‹¤.\ncatch ë¸”ë¡ì—ì„œ ì˜ˆì™¸ ìœ í˜•ì„ ì¢í˜€ ì‹¤ì œë¡œ FileInputStream ìƒì„±ìê°€ ë˜ì§€ëŠ” FileNotFoundExceptionì„ ì¡ì•„ë‚¸ë‹¤.\n1 2 3 4 5 6 7 8 9 public List\u0026lt;RecordedGrip\u0026gt; retrieveSevtion(String sectionName) { try { FileInputStream stream = new FileInputStream(sectionName); stream.close(); } catch (FileNotFoundException e) { throw new StorageException(\u0026#34;retrieval error\u0026#34;, e); } return new ArrayList\u0026lt;RecordedGrip\u0026gt;(); } try-catch êµ¬ì¡°ë¡œ ë²”ìœ„ë¥¼ ì •ì˜í–ˆìœ¼ë¯€ë¡œ TDDë¥¼ ì´ìš©í•´ í•„ìš”í•œ ë‚˜ë¨¸ì§€ ë…¼ë¦¬ë¥¼ ì¶”ê°€í•œë‹¤. ë‚˜ë¨¸ì§€ ë…¼ë¦¬ëŠ” FileInputStreamì„ ìƒì„±í•˜ëŠ” ì½”ë“œì™€ close í˜¸ì¶œë¬¸ ì‚¬ì´ì— ë„£ìœ¼ë©° ì˜¤ë¥˜ë‚˜ ì˜ˆì™¸ê°€ ì „í˜€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ê°€ì •í•œë‹¤.\në¯¸í™•ì¸(unchecked) ì˜ˆì™¸ë¥¼ ì‚¬ìš©í•˜ë¼ ì—¬ëŸ¬ í•´ ë™ì•ˆ ìë°” í”„ë¡œê·¸ë˜ë¨¸ë“¤ì€ í™•ì¸ëœ(checked) ì˜ˆì™¸ì˜ ì¥ë‹¨ì ì„ ë†“ê³  ë…¼ìŸì„ ë²Œì—¬ì™”ë‹¤. ì•ˆì •ì ì¸ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì œì‘í•˜ëŠ” ìš”ì†Œë¡œ í™•ì¸ëœ ì˜ˆì™¸ê°€ ë°˜ë“œì‹œ í•„ìš”í•˜ì§€ ì•Šë‹¤ëŠ” ì‚¬ì‹¤ì´ ë¶„ëª…í•´ì¡Œë‹¤.\nJavaì˜ ì²´í¬ ëœ ì˜ˆì™¸ì™€ ì²´í¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸ì˜ ì°¨ì´ì \ní™•ì¸ëœ ì˜ˆì™¸: ì»´íŒŒì¼ ê³¼ì •ì—ì„œ ë°œê²¬ë˜ëŠ” ì˜ˆì™¸\nRuntimeExeption í´ë˜ìŠ¤ë¥¼ ì œì™¸í•œ Exeption í´ë˜ìŠ¤ì˜ ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ Errorí´ë˜ìŠ¤ì™€ ê·¸ í•˜ìœ„ í´ë˜ìŠ¤ í™•ì¸ë˜ì§€ ì•Šì€ ì˜ˆì™¸: í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ ë°œìƒí•˜ëŠ” ì˜ˆì™¸, ì»´íŒŒì¼ëŸ¬ê°€ í™•ì¸í•  ìˆ˜ ì—†ëŠ” ì˜ˆì™¸\nRuntimeExeption í´ë˜ìŠ¤ì™€ í•´ë‹¹ í•˜ìœ„ í´ë˜ìŠ¤ í™•ì¸ëœ ì˜ˆì™¸ëŠ” OCP(Open Closed Principle) ë¥¼ ìœ„ë°˜í•œë‹¤.\në©”ì„œë“œì—ì„œ í™•ì¸ëœ ì˜ˆì™¸ë¥¼ ë˜ì¡ŒëŠ”ë° catch ë¸”ë¡ì´ ì„¸ ë‹¨ê³„ ìœ„ì— ìˆë‹¤ë©´ ê·¸ì‚¬ì´ ë©”ì„œë“œ ëª¨ë‘ê°€ ì„ ì–¸ë¶€ì— í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì •ì˜í•´ì•¼ í•œë‹¤.\ní•˜ìœ„ ë‹¨ê³„ì—ì„œ ì½”ë“œë¥¼ ë³€ê²½í•˜ë©´ ìƒìœ„ ë‹¨ê³„ ë©”ì„œë“œ ì„ ì–¸ë¶€ë¥¼ ì „ë¶€ ê³ ì³ì•¼ í•œë‹¤. ìµœí•˜ìœ„ í•¨ìˆ˜ë¥¼ ë³€ê²½í•˜ì—¬ ìƒˆë¡œìš´ ì˜¤ë¥˜ë¥¼ ë˜ì§„ë‹¤ê³  ê°€ì •í•˜ê³  í™•ì¸ëœ ì˜¤ë¥˜ë¥¼ ë˜ì§„ë‹¤ë©´ í•¨ìˆ˜ëŠ” ì„ ì–¸ë¶€ì— throws ì ˆì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.\në³€ê²½í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ ëª¨ë‘ê°€ catch ë¸”ë¡ì—ì„œ ìƒˆë¡œìš´ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•œë‹¤. ì„ ì–¸ë¶€ì— throw ì ˆì„ ì¶”ê°€í•œë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ìµœí•˜ìœ„ ë‹¨ê³„ì—ì„œ ìµœìƒìœ„ ë‹¨ê³„ê¹Œì§€ ì—°ì‡„ì ì¸ ìˆ˜ì •ì´ ì¼ì–´ë‚œë‹¤. ë‹¤ë¥´ê²Œ í•´ì„í•˜ë©´, throws ê²½ë¡œì— ìœ„ì¹˜í•˜ëŠ” ëª¨ë“  í•¨ìˆ˜ê°€ ìµœí•˜ìœ„ í•¨ìˆ˜ì—ì„œ ë˜ì§€ëŠ” ì˜ˆì™¸ë¥¼ ì•Œì•„ì•¼ í•˜ë¯€ë¡œ ìº¡ìŠí™”ê°€ ê¹¨ì§„ë‹¤.\nğŸ’¡ í™•ì¸ëœ ì˜ˆì™¸ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í˜„í•˜ê²Œ ë˜ë©´ ì•ˆì „í•œ ë¡œì§ì„ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ, ì¼ë°˜ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ í™•ì¸ëœ ì˜ˆì™¸ë¥¼ í†µí•œ ì´ìµë³´ë‹¤, ì˜ì¡´ì„±ì´ ë” ì¤‘ìš”í•˜ë‹¤.\nì˜ˆì™¸ì— ì˜ë¯¸ë¥¼ ì œê³µí•˜ë¼ ì˜ˆì™¸ë¥¼ ë˜ì§ˆ ë•Œ ì „í›„ ìƒí™©ì„ ì¶©ë¶„íˆ ë§ë¶™íˆë©´, ì˜¤ë¥˜ê°€ ë°œìƒí•œ ì›ì¸ê³¼ ìœ„ì¹˜ë¥¼ ì°¾ê¸° ì‰¬ì›Œì§„ë‹¤.\nì‹¤íŒ¨í•œ ì½”ë“œì˜ ì˜ë„ë¥¼ íŒŒì•…í•˜ë ¤ë©´ í˜¸ì¶œ ìˆ˜íƒ ë§Œìœ¼ë¡œ ë¶€ì¡±í•œ ê²½ìš°ê°€ ë§ì•„. ì˜¤ë¥˜ ë©”ì‹œì§€ì— ì •ë³´(ì‹¤íŒ¨í•œ ì—°ì‚° ì´ë¦„ê³¼ ì‹¤íŒ¨ ìœ í˜•)ë¥¼ ë‹´ì•„ ì˜ˆì™¸ì™€ í•¨ê»˜ ë˜ì§„ë‹¤.\nì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¡œê¹… ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤ë©´ catch ë¸”ë¡ì—ì„œ ì˜¤ë¥˜ë¥¼ ê¸°ë¡í•˜ë„ë¡ ì¶©ë¶„í•œ ì •ë³´ë¥¼ ë„˜ê²¨ì£¼ë©´ ì¢‹ë‹¤.\ní˜¸ì¶œìë¥¼ ê³ ë ¤í•´ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ë¼ ì˜¤ë¥˜ë¥¼ ë¶„ë¥˜í•˜ëŠ” ë°©ë²•ì€ ìˆ˜ì—†ì´ ë§ë‹¤.\nì˜¤ë¥˜ê°€ ë°œìƒí•œ ìœ„ì¹˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ì»´í¬ë„ŒíŠ¸ ì˜¤ë¥˜ ìœ í˜• ë””ë°”ì´ìŠ¤ ì‹¤íŒ¨ ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ í”„ë¡œê·¸ë˜ë° ì˜¤ë¥˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì˜¤ë¥˜ë¥¼ ì •ì˜í•  ë•Œ í”„ë¡œê·¸ë˜ë¨¸ì—ê²Œ ê°€ì¥ ì¤‘ìš”í•œ ê´€ì‹¬ì‚¬ëŠ” ì˜¤ë¥˜ë¥¼ ì¡ì•„ë‚´ëŠ” ë°©ë²•ì´ ë˜ì–´ì•¼ í•œë‹¤.\në‚˜ìœì˜ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 ACMEport port = new ACMEport(12); try { port.open(); } catch (DeviceResponseException e) { reportPortError(e); logger.log(\u0026#34;Device response exception\u0026#34;, e); } catch (ATM1212UnlokedException e) { reportPortError(e); logger.log(\u0026#34;Unlock exception\u0026#34;. e); } catch (GMXRrror e) { reportPortError(e); logger.log(\u0026#34;Device response exeption\u0026#34;); } finally { ... } ìœ„ ì½”ë“œëŠ” ì¤‘ë³µì´ ì‹¬í•˜ì—¬, ëŒ€ë‹¤ìˆ˜ ìƒí™©ì—ì„œ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì€ ë¹„êµì  ì¼ì •í•˜ë‹¤.\nì˜¤ë¥˜ë¥¼ ê¸°ë¡í•œë‹¤. í”„ë¡œê·¸ë¨ì„ ê³„ì† ìˆ˜í–‰í•´ë„ ì¢‹ì€ì§€ í™•ì¸í•œë‹¤. ìœ„ ê²½ìš°ëŠ” ì˜ˆì™¸ì— ëŒ€ì‘í•˜ëŠ” ë°©ì‹ì´ ì˜ˆì™¸ ìœ í˜•ê³¼ ë¬´ê´€í•˜ê²Œ ê±°ì˜ ë™ì¼í•˜ë‹¤. ê·¸ë˜ì„œ ì½”ë“œë¥¼ ê°„ê²°í•˜ê²Œ ê³ ì¹˜ê¸° ì‰½ë‹¤.\n1 2 3 4 5 6 7 8 9 10 LocalPort port = new LocalPort(12); try { port.open(); } catch (portDeviceFailure e) { reportError(e); logger.log(e.getMessage(), e); } finally { ... } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public class LocalPort { private ACMEPort innerPort; public LocalPort(int portNumber) { innerPort = new ACMEPort(portNumber); } public void open() { try { innerPort.open(); } catch (DeviceResponseException e) { throw new PortDeviceFailure(e); } catch (ATM1212UnlockedException e) { throw new PortDeviceFailure(e); } catch (GMXError e) { throw new PortDeviceFailure(e); } } ... } ì—¬ê¸°ì„œ LocalPortí´ë˜ìŠ¤ëŠ” ë‹¨ìˆœíˆ ACMEportí´ë˜ìŠ¤ê°€ ë˜ì§€ëŠ” ì˜ˆì™¸ë¥¼ ì¡ì•„ ë³€í™˜í•˜ëŠ” wrapper í´ë˜ìŠ¤ ì¼ë¿ì´ë‹¤.\ní•˜ì§€ë§Œ ì´ëŸ¬í•œ wrapper í´ë˜ìŠ¤ëŠ” ë§¤ìš° ìœ ìš©í•˜ë‹¤. ì‹¤ì œë¡œ ì™¸ë¶€ APIë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ê°ì‹¸ê¸° ê¸°ë²•ì´ ìµœì„ ì´ë‹¤.\nì™¸ë¶€ APIë¥¼ ê°ì‹¸ë©´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í”„ë¡œê·¸ë¨ ì‚¬ì´ì—ì„œ ì˜ì¡´ì„±ì´ í¬ê²Œ ì¤„ì–´ë“ ë‹¤. ë‚˜ì¤‘ì— ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê°ˆì•„íƒ€ë„ ë¹„ìš©ì´ ì ë‹¤. ê°ì‹¸ê¸° í´ë˜ìŠ¤ì—ì„œ ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹  í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë„£ì–´ì£¼ëŠ” ë°©ë²•ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ í…ŒìŠ¤íŠ¸í•˜ê¸°ë„ ì‰¬ì›Œì§„ë‹¤. íŠ¹ì • ì—…ì²´ê°€ APIë¥¼ ì„¤ê³„í•œ ë°©ì‹ì— ë°œëª© ì¡íˆì§€ ì•ŠëŠ”ë‹¤. í”„ë¡œê¸€ë§¤ì´ ì‚¬ìš©í•˜ê¸° í¸í•œ APIë¥¼ ì •ì˜í•˜ë©´ ê·¸ë§Œì´ë‹¤. ì˜ˆì™¸ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ë§Œ ìˆì–´ë„ ì¶©ë¶„í•œ ì½”ë“œê°€ ë§ë‹¤.\nì˜ˆì™¸ í´ë˜ìŠ¤ì— í¬í•¨ëœ ì •ë³´ë¡œ ì˜¤ë¥˜ë¥¼ êµ¬ë¶„í•´ë„ ê´œì°®ì€ ê²½ìš°. í•œ ì˜ˆì™¸ëŠ” ì¡ì•„ë‚´ê³  ë‹¤ë¥¸ ì˜ˆì™¸ëŠ” ë¬´ì‹œí•´ë„ ê´œì°®ì€ ê²½ìš°ë¼ë©´ ì—¬ëŸ¬ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì •ìƒ íë¦„ì„ ì •ì˜í•˜ë¼ ì •ìƒ íë¦„ì„ ì •í™•íˆ ì •ì˜í•˜ì§€ ì•Šìœ¼ë©´ ë”´ê¸¸ë¡œ ìƒŒë‹¤.\n1 2 3 4 5 6 try { MealExpenses expenses = expenseReportDAO.getMeals(employee.getID()); m_total += expenses.getTotal(); } catch(MealExpensesNotFound e) { m_total += getMealPerDiem(); } ìœ„ì—ì„œ ì‹ë¹„ë¥¼ ë¹„ìš©ìœ¼ë¡œ ì²­êµ¬í–ˆë‹¤ë©´ ì§ì›ì´ ì²­êµ¬í•œ ì‹ë¹„ë¥¼ ì´ê³„ì— ë”í•œë‹¤. ì‹ë¹„ë¥¼ ë¹„ìš©ìœ¼ë¡œ ì²­êµ¬í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ì¼ì¼ ê¸°ë³¸ ì‹ë¹„ë¥¼ ì´ê³„ì— ë”í•œë‹¤. ê·¸ëŸ°ë° ì˜ˆì™¸ê°€ ë…¼ë¦¬ë¥¼ ë”°ë¼ê°€ê¸° ì–´ë µê²Œ ë§Œë“ ë‹¤.\n1 2 MealExpenses expenses = expenseReportDAO.getMeals(employee.getID()); m_total += expenses.getTotal(); ExpensesReportDAOë¥¼ ê³ ì³ ì²­êµ¬í•œ ì‹ë¹„ê°€ ì—†ë‹¤ë©´, ì¼ì¼ ê¸°ë³¸ ì‹ë¹„ë¥¼ ë°˜í™˜í•˜ëŠ” MealExpenseê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 public class PerDiemMealExpenses implements MealExpenses { public in getTotal() { // ê¸°ë³¸ê°’ìœ¼ë¡œ ì¼ì¼ ê¸°ë³¸ ì‹ë¹„ë¥¼ ë°˜í™˜ } } ì´ëŸ¬í•œ í˜•íƒœë¥¼ **íŠ¹ìˆ˜ ì‚¬ë¡€ íŒ¨í„´(Special Case Pattern)**ì´ë¼ ë¶€ë¥¸ë‹¤. í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê±°ë‚˜ ê°ì²´ë¥¼ ì¡°ì‘í•´ íŠ¹ìˆ˜ ì‚¬ë¡€ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ì½”ë“œê°€ ì˜ˆì™¸ì ì¸ ìƒí™©ì„ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\nnullì„ ë°˜í™˜í•˜ì§€ ë§ˆë¼ null ë°˜í™˜ì€ í”íˆ ì‚¬ìš©ë˜ì–´ ì˜¤ë¥˜ë¥¼ ìœ ë°œí•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 public void registerItem(Item item) { if (item != null) { ItemRegistry registry = peristentStore.getItemRegistry(); if (registry != null { Item existing = registry.getItem(item.getID()); if (existing.getBillingPeriod().hasRetailOwner()) { existing.register(item); } } } } nullì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì •ìƒì ì¸ ë™ì‘ ì²˜ë¦¬ë¥¼ ìœ„í•´ null ì¸ì§€ ì•„ë‹Œì§€ í™•ì¸í•˜ëŠ” ë¡œì§ì´ í•„ìš”í•˜ì—¬ ì¼ê±°ë¦¬ë¥¼ ëŠ˜ë¦°ë‹¤.\nì´ëŸ¬í•œ ì½”ë“œëŠ” í˜¸ì¶œìê°€ null ì²˜ë¦¬ë¥¼ ìŠì„ ê²½ìš° ë¬¸ì œê°€ ë°œìƒí•˜ê²ŒëŠ” êµ¬ì¡°ë¡œ, ë¬¸ì œë¥¼ í˜¸ì¶œìì—ê²Œ ë– ë„˜ê¸°ê¸° ë•Œë¬¸ì— ì¢‹ì€ êµ¬ì¡°ë¼ê³  ë³¼ ìˆ˜ ì—†ë‹¤.\nì´ëŸ¬í•œ ê²½ìš° íŠ¹ìˆ˜ ì‚¬ë¡€ê°€ ì¢‹ì€ í•´ê²°ì±…ì´ ë  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 List\u0026lt;Empoloyee\u0026gt; employees = getEmpoloyees(); if (employees != null { for(Employee e : employees) { totalPay += e.getPay(); } } ìœ„ getEmployeesëŠ” nullë„ ë°˜í˜¸ë‚˜í•œë‹¤. í•˜ì§€ë§Œ ì´ëŸ° ê²½ìš° nullë°˜í™˜í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤ë©´ ì½”ë“œê°€ í›¨ì”¬ ê¹”ë”í•´ì§„ë‹¤.\n1 2 3 4 5 List\u0026lt;Employee\u0026gt; employees = getEmployees(); for ( Employees e L employees) { totalPay += e.getPay(); } ìë°”ì—ëŠ” Collections.emptyList()ê°€ ìˆì–´ ë¯¸ë¦¬ ì •ì˜ëœ ì½ê¸° ì „ìš© ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 public List\u0026lt;Employee\u0026gt; getEmployees() { if ( ... ì§ì›ì´ ì—†ë‹¤ë©´ ..) { return Collections.emptyList(); } } ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ë³€ê²½í•˜ë©´ ì½”ë“œë„ ê¹”ë”í•´ì§€ê³  NullPointerExceptionì´ ë°œìƒí•  ê°€ëŠ¥ì„±ë„ ì¤„ì–´ë“ ë‹¤.\nnullì„ ì „ë‹¬í•˜ì§€ ë§ˆë¼ ë©”ì„œë“œì—ì„œ nullì„ ë°˜í™˜í•˜ëŠ” ë°©ì‹ë„ ë‚˜ì˜ì§€ë§Œ ë©”ì„œë“œë¡œ nullì„ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì€ ë” ë‚˜ì˜ë‹¤.\n1 2 3 4 5 6 public class MetricsCalculator { public double xProjection(Point p1, Point p2) { return (p2.x - p1.x) * 1.5; } ... } ëˆ„êµ°ê°€ ì¸ìˆ˜ë¡œ nullì„ ì „ë‹¬í•˜ë©´ NullPointerExceptionì´ ë°œìƒí•œë‹¤.\n1 2 3 4 5 6 7 8 9 public class MetricsCalculator { public double xProjection(Point p1, Point p2) { if (p1 == null || p2 === null) { throw InvalidArgumentException( \u0026#34;Invalid argument for MetricsCalculator.xProjection\u0026#34;); } return (p2.x - p1.x) * 1.5; } } ìœ„ ì½”ë“œë¡œ ì…ë ¥ì´ nullì¼ ê²½ìš°ë¥¼ ì˜ˆë°© í–ˆì§€ë§Œ, InvalidArgumentException ì¡ì•„ë‚´ëŠ” ì²˜ë¦¬ê¸°ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 public class MetricsCalculator { public double xProjection(Point p1, Point p2) { assert p1 != null : \u0026#34;p1 should not be null\u0026#34;; assert p2 != null : \u0026#34;pw should not be null\u0026#34;; return (p2.x - p1.x) * 1.5; } } ìœ„ ì½”ë“œëŠ” assertë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬í–ˆë‹¤.\nJavaì˜ assert í‚¤ì›Œë“œ\në¬¸ì„œí™”ê°€ ì˜ ë˜ì–´ ì½”ë“œ ì½ê¸°ëŠ” í¸í•˜ì§€ë§Œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ëŠ” ëª»í•œë‹¤. ëˆ„êµ°ê°€ nullì„ ì „ë‹¬í•˜ë©´ ì—¬ì „íˆ ì‹¤í–‰ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.\nğŸ’¡ ëŒ€ë‹¤ìˆ˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ëŠ” í˜¸ì¶œìê°€ ì‹¤ìˆ˜ë¡œ ë„˜ê¸°ëŠ” nullì„ ì ì ˆíˆ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì—, ì• ì´ˆì— nullì„ ë„˜ê¸°ì§€ ëª»í•˜ë„ë¡ ê¸ˆì§€í•˜ëŠ” ì •ì±…ì´ í•©ë¦¬ì ì¼ ìˆ˜ ìˆë‹¤.\nê²°ë¡  ê¹¨ë—í•œ ì½”ë“œëŠ” ì½ê¸°ë„ ì¢‹ì•„ì•¼ í•˜ì§€ë§Œ ì•ˆì •ì„±ë„ ë†’ì•„ì•¼ í•œë‹¤.\nì´ ë‘˜ì€ ìƒì¶©í•˜ëŠ” ëª©í‘œê°€ ì•„ë‹˜ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ í”„ë¡œê·¸ë¨ ë…¼ë¦¬ì™€ ë¶„ë¦¬í•´ ë³„ë„ì˜ ì‚¬ì•ˆìœ¼ë¡œ ê³ ë ¤í•´ì•¼í•¨ ë”ìš± íŠ¼íŠ¼í•˜ê³  ê¹¨ë—í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œë¨ ë…ë¦½ì ì¸ ì¶”ë¡ ì´ ê°€ëŠ¥í•´ì§€ë©° ì½”ë“œ ìœ ì§€ë³´ìˆ˜ì„±ë„ í¬ê²Œ ë†’ì•„ì§ í”„ë¡œê·¸ë¨ ë…¼ë¦¬ì™€ ë¶„ë¦¬í•´ ë³„ë„ë¡œ ê³ ë¯¼í•˜ë¼. ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ë§Œë“¤ê¸° ì „ì— íë¦„ì„ ì •í™•íˆ íŒŒì•…í•˜ë©´ ì•ˆ ì“¸ìˆ˜ë„ ìˆë‹¤. ì •ìƒ íë¦„ì„ ì •ì˜í•˜ë¼. íŠ¹ìˆ˜ ìƒí™© íŒ¨í„´ë“±ì„ ì´ìš© nullì€ ì‚¬ìš©ìì˜ ì‹¤ìˆ˜ë¥¼ ìœ ë°œí•˜ë¯€ë¡œ ë˜ë„ë¡ ìì œí•´ì•¼ í•œë‹¤. ","date":"2023-04-20T16:12:13+09:00","image":"https://codemario318.github.io/post/clean_code_7/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_7/","title":"í´ë¦°ì½”ë“œ: 7. ì˜¤ë¥˜ ì²˜ë¦¬"},{"content":"ìë£Œ ì¶”ìƒí™” ì‚¬ìš©ìê°€ êµ¬í˜„ì„ ëª¨ë¥¸ ì±„ ìë£Œì˜ í•µì‹¬ì„ ì¡°ì‘í•  ìˆ˜ ìˆì–´ì•¼ ì§„ì •í•œ ì˜ë¯¸ì˜ í´ë˜ìŠ¤ë‹¤.\n1 2 3 4 public class Point { public double x; public double y; } 1 2 3 4 5 6 7 8 public interface Point { double getX(); double getY(); void setCartesian(double x, double y); double getR(); double getTheta(); void setPolar(double r, double theta); } ë‘ í´ë˜ìŠ¤ ëª¨ë‘ 2ì°¨ì› ì ì„ í‘œí˜„í•˜ì§€ë§Œ 6-1ì€êµ¬í˜„ì„ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ê³ , 6-2ëŠ” êµ¬í˜„ì„ ì™„ì „íˆ ìˆ¨ê¸´ë‹¤.\n6-1ì€ ë³€ìˆ˜ë¥¼ private ìœ¼ë¡œ ì„ ì–¸í•˜ë”ë¼ë„ ê° ê°’ë§ˆë‹¤ getter, setterë¥¼ ì œê³µí•œë‹¤ë©´ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤.\në³€ìˆ˜ ì‚¬ì´ì— í•¨ìˆ˜ë¼ëŠ” ê³„ì¸µì„ ë„£ëŠ”ë‹¤ê³  êµ¬í˜„ì´ ì €ì ˆë¡œ ê°ì¶°ì§€ì§€ëŠ” ì•ŠëŠ”ë‹¤. êµ¬í˜„ì„ ê°ì¶”ë ¤ë©´ ì–´ëŠì •ë„ì˜ ì¶”ìƒí™”ê°€ í•„ìš”í•˜ë‹¤.\nì˜ˆì‹œ 1\n1 2 3 4 public interface Vehicle { double getFuelTankCapacityInGallons(); double getGallonsOfGasoline(); } ì˜ˆì‹œ 2\n1 2 3 public interface Vehicle { double getPercentFuelRemaining(); } ì˜ˆì‹œ 1ì€ ì—°ë£Œíƒ±í¬ì˜ ìš©ëŸ‰ê³¼ íœ˜ë°œìœ ì˜ ì–‘ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆê³ , ì˜ˆì‹œ 2ëŠ” ë°±ë¶„ìœ¨ë¡œ ì–¼ë§ˆë‚˜ ë” ë‚¨ì•˜ëŠ”ê°€ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.\në‘˜ ì¤‘ ì˜ˆì‹œ 2ê°€ ë” ì¶”ìƒì ì´ì§€ë§Œ, ë°±ë¶„ìœ¨ì˜ ê¸°ì¤€ê°’ì„ ì•Œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì •í™•í•œ ì •ë³´ë¥¼ í‘œí˜„í•˜ì§€ ëª»í•œë‹¤.\nì¸í„°í˜ì´ìŠ¤ë‚˜ ì¡°íšŒ/ì„¤ì • í•¨ìˆ˜ë§Œìœ¼ë¡œëŠ” ì¶”ìƒí™”ê°€ ì´ë¤„ì§€ì§€ ì•ŠëŠ”ë‹¤. ê°œë°œìëŠ” ê°ì²´ê°€ í¬í•¨í•˜ëŠ” ìë£Œë¥¼ í‘œí˜„ í•  ê°€ì¥ ì¢‹ì€ ë°©ë²•ì„ ì‹¬ê°í•˜ê²Œ ê³ ë¯¼í•´ì•¼ í•œë‹¤.\nìë£Œ/ê°ì²´ ë¹„ëŒ€ì¹­ ê°ì²´: ì¶”ìƒí™” ë‘ë¡œ ìë£Œë¥¼ ìˆ¨ê¸´ ì±„ ìë£Œë¥¼ ë‹¤ë£¨ëŠ” í•¨ìˆ˜ë§Œ ê³µê°œí•œë‹¤. ìë£Œêµ¬ì¡°: ìë£Œë¥¼ ê·¸ëŒ€ë¡œ ê³µê°œí•˜ë©° ë³„ë‹¤ë¥¸ í•¨ìˆ˜ëŠ” ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤. ì ˆì°¨ì ì¸ êµ¬í˜„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 public class Square { public Point topLeft; public double side; } public class Rectangle { public Point topLeft; public double height; public double width; } public class Circle { public Point center; public double radius; } public class Geometry { public final double PI = 3.141592653589793; public double area(Object shape) throws NoSuchShapeExetion { if (shape instanceof Square) { Square s = (Square)shape; return s.side * s.side; } else if (shape instanceof Rectangle) { Rectangle r = (Rectangle)shape; return r.height * r.width; } else if (shape instanceof Circle) { Circle c = (Circle)shape; return PI * c.radious * c.radious; } throw new NoSuchShapeExcption(); } } ìœ„ ì˜ˆì‹œì—ì„œ ë§Œì•½ Geometry í´ë˜ìŠ¤ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•´ë„ ë„í˜• í´ë˜ìŠ¤ë“¤ì€ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤. ìœ„ ì˜ˆì‹œì—ì„œ ìƒˆ ë„í˜•ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ Geometryì˜ ì†í•œ ê¸°ëŠ¥ë“¤ì— ìƒˆë¡œìš´ ë„í˜•ì„ ìœ„í•œ ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. ê°ì²´ ì§€í–¥ì ì¸ ë„í˜• í´ë˜ìŠ¤ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 public class Square implements Shape { private Point topLeft; private double side; public double area() { return s.side * s.side; } } public class Rectangle implements Shape { public Point topLeft; public double height; public double width; public double area() { return height * width; } } public class Circle implements Shape { public Point center; public double radius; public double area() { return PI * radius * radius; } } ìœ„ ì˜ˆì‹œì—ì„œ ë§Œì•½ Shapeì— ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•˜ë©´ ìƒì†ë°›ì€ ëª¨ë“  í´ë˜ìŠ¤ì— ë³€ê²½ì´ í•„ìš”í•˜ë‹¤. ìœ„ ì˜ˆì‹œì—ì„œ Shapeë¥¼ ìƒì†ë°›ì€ ë‹¤ë¥¸ ë„í˜•ì„ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ í•˜ë‚˜ ìƒˆë¡œ ë§Œë“¤ë©´ ëœë‹¤. ëª©ë¡ ì ˆì°¨ì ì¸ êµ¬í˜„ê³¼ ê°ì²´ ì§€í–¥ì ì¸ êµ¬í˜„ì€ ê·¼ë³¸ì ìœ¼ë¡œ ë°˜ëŒ€ì´ë©° ìƒí˜¸ ë³´ì™„ì ì¸ íŠ¹ì„±ì„ ê°€ì§„ë‹¤. ê·¸ë˜ì„œ ê°ì²´ì™€ ìë£Œ êµ¬ì¡°ëŠ” ê·¼ë³¸ì ìœ¼ë¡œ ì–‘ë¶„ëœë‹¤.\nğŸ’¡ ê°ì²´ ì§€í–¥ ì½”ë“œì—ì„œ ì–´ë ¤ìš´ ë³€ê²½ì€ ì ˆì°¨ì ì¸ ì½”ë“œì—ì„œ ì‰¬ìš°ë©°, ì ˆì°¨ì ì¸ ì½”ë“œì—ì„œ ì–´ë ¤ìš´ ë³€ê²½ì€ ê°ì²´ì§€í–¥ ì½”ë“œì—ì„œ ì‰¬ìš´ ê²½ìš°ê°€ ë§ë‹¤. ë”°ë¼ì„œ, ë•Œë¡œëŠ” ë‹¨ìˆœí•œ ìë£Œ êµ¬ì¡°ì™€ ì ˆì°¨ì ì¸ ì½”ë“œê°€ ê°€ì¥ ì í•©í•œ ìƒí™©ë„ ìˆë‹¤.\në””ë¯¸í„° ë²•ì¹™ ë””ë¯¸í„°ì˜ ë²•ì¹™ì€ ì˜ ì•Œë ¤ì§„ íœ´ë¦¬ìŠ¤í‹±ìœ¼ë¡œ, ëª¨ë“ˆì€ ìì‹ ì´ ì¡°ì‘í•˜ëŠ” ê°ì²´ì˜ ì†ì‚¬ì •ì„ ëª°ë¼ì•¼ í•œë‹¤ëŠ” ë²•ì¹™ì´ë‹¤.\në””ë¯¸í„° ë²•ì¹™(Law of Demeter)\nì´ëŸ¬í•œ ì´ìœ ë¡œ Donâ€™t Talk to Strangers(ë‚®ì„  ì´ì—ê²Œ ë§í•˜ì§€ ë§ˆë¼) ë˜ëŠ” Principle of least Knowledge(ìµœì†Œ ì§€ì‹ ì›ì¹™)ìœ¼ë¡œë„ ì•Œë ¤ì ¸ ìˆë‹¤.\nê°ì²´ëŠ” ìë£Œë¥¼ ìˆ¨ê¸°ê³  í•¨ìˆ˜ë¥¼ ê³µê°œí•œë‹¤.\nì¦‰, ê°ì²´ëŠ” ì¡°íšŒ í•¨ìˆ˜ë¡œ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ê³µê°œí•˜ë©´ ì•ˆëœë‹¤ëŠ” ì˜ë¯¸ë‹¤. ì¡°ê¸ˆ ë” ì •í™•í•˜ê²Œ í‘œí˜„í•˜ìë©´, ë””ë¯¸í„° ë²•ì¹™ì€ â€œí´ë˜ìŠ¤ Cì˜ ë©”ì„œë“œ fëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê°ì²´ì˜ ë©”ì„œë“œë§Œ í˜¸ì¶œí•´ì•¼ í•œë‹¤â€ê³  ì£¼ì¥í•œë‹¤.\ní´ë˜ìŠ¤ C fê°€ ìƒì„±í•œ ê°ì²´ f ì¸ìˆ˜ë¡œ ë„˜ì–´ì˜¨ ê°ì²´ C ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥ëœ ê°ì²´ ìœ„ ê°ì²´ì—ì„œ í—ˆìš©ëœ ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ì˜ ë©”ì„œë“œëŠ” í˜¸ì¶œí•˜ë©´ ì•ˆëœë‹¤.\n1 final String ouputDir = ctxt.getOptions().getScratchDir().getAbsolutePath(); getOptions() í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ì˜ getScratchDir() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ í›„ getScratchDir() í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ì˜ getAbsolutePath() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì´ë‹¤ ë””ë¯¸í„°ì˜ ë²•ì¹™ì„ ìœ„ë°˜í–ˆë‹¤. í´ë˜ìŠ¤ Cì˜ ë©”ì„œë“œê°€ ì§€ì •ëœ ë©”ì„œë“œë§Œì„ í˜¸ì¶œí•˜ì§€ ì•Šê³  ìˆë‹¤. ê¸°ì°¨ ì¶©ëŒ ë©”ì„œë“œë¥¼ ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ì½”ë“œê°€ ì—¬ëŸ¬ ê°ì°¨ê°€ í•œ ì¤„ë¡œ ì´ì–´ì§„ ê¸°ì°¨ì²˜ëŸ¼ ë³´ì´ê¸° ë•Œë¬¸ì— ê¸°ì°¨ ì¶©ëŒì´ë¼ ë¶€ë¥¸ë‹¤.\n1 2 3 Options opts = ctxt.getOptions(); File scratchDir = opts.getScratchDir(); final String outputDir = scratchDir.getAbsolutePath(); ìœ„ì™€ ê°™ì´ ê¸°ì°¨ ì¶©ëŒì„ ì œê±°í–ˆì„ ê²½ìš° ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œë˜ì—ˆì„ ë•ŒëŠ” ë°˜í™˜ë˜ëŠ” ê°ì²´ë¥¼ ì •í™•íˆ íŒŒì•…í•  ìˆ˜ ì—†ì—ˆëŠ”ë° ë‚˜ëˆ ë†“ìœ¼ë‹ˆ ë” ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ìœ„ êµ¬ì¡°ë„ ì•„ë˜ì™€ ê°™ì€ ì „ì œë¥¼ ì´ë¯¸ ì•Œê³  ìˆì–´ì•¼ í•˜ë¯€ë¡œ ë””ë¯¸í„° ë²•ì¹™ì„ ë§Œì¡±í•œë‹¤ê³  ë³¼ ìˆ˜ ì—†ë‹¤.\nctxt ê°ì²´ê°€ Optionsë¥¼ í¬í•¨í•œë‹¤. Optionsê°€ ScratchDirì„ í¬í•¨í•œë‹¤. ScratchDirì´ AbsolutePathë¥¼ í¬í•¨í•œë‹¤. ìœ„ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ëŠ” ë§ì€ ê°ì²´ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— ìµœì†Œ ì§€ì‹ ì›ì¹™ì„ ë§Œì¡±í•œë‹¤ê³  ë³¼ ìˆ˜ ì—†ë‹¤.\në””ë¯¸í„° ë²•ì¹™ì„ ìœ„ë°˜í•˜ëŠ”ì§€ëŠ” í˜¸ì¶œëœ ctxt, Options, ScratchDirì´ ê°ì²´ì¸ì§€ ìë£Œ êµ¬ì¡° ì¸ì§€ì— ë‹¬ë ¸ë‹¤.\nê°ì²´ë¼ë©´ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ìˆ¨ê²¨ì•¼ í•˜ë¯€ë¡œ ë””ë¯¸í„° ë²•ì¹™ì„ ìœ„ë°˜í•œë‹¤. ìë£Œ êµ¬ì¡°ë¼ë©´ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë…¸ì¶œí•˜ê¸° ë•Œë¬¸ì— ë””ë¯¸í„° ë²•ì¹™ ëŒ€ìƒì´ ì•„ë‹ˆë‹¤. ìœ„ ì˜ˆì œëŠ” ì¡°íšŒ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°”ëŒì— í˜¼ë€ì„ ì¼ìœ¼í‚¤ê²Œ ë˜ëŠ”ë°, ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í–ˆë‹¤ë©´ ë””ë¯¸í„° ë²•ì¹™ì„ ê±°ë¡ í•  í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.\n1 final String ouputDir = ctxt.options.scratchDir.absolutePath; ìë£Œêµ¬ì¡°ë¥¼ ì´ìš©í•˜ê²Œ ë˜ì–´ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•´ ì•Œ ìˆ˜ ì—†ê²Œ ë˜ë¯€ë¡œ ë””ë¯¸í„°ì˜ ë²•ì¹™ ëŒ€ìƒì´ ì•„ë‹ˆê²Œ ëœë‹¤.\nìë£Œ êµ¬ì¡°ëŠ” ë¬´ì¡°ê±´ í•¨ìˆ˜ ì—†ì´ ê³µê°œ ë³€ìˆ˜ë§Œ í¬í•¨í•˜ê³  ê°ì²´ëŠ” ë¹„ê³µê°œ ë³€ìˆ˜ì™€ ê³µê°œ í•¨ìˆ˜ë¥¼ í¬í•¨í•œë‹¤ë©´, ë¬¸ì œëŠ” í›¨ì”¬ ê°„ë‹¨í•´ì§„ë‹¤.\nì¡ì¢… êµ¬ì¡° í•˜ì§€ë§Œ ë‹¨ìˆœí•œ ìë£Œ êµ¬ì¡°ì—ë„ ì¡°íšŒ í•¨ìˆ˜ì™€ ì„¤ì • í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë¼ ìš”êµ¬í•˜ëŠ” í”„ë ˆì„ì›Œí¬ì™€ í‘œì¤€(ex. bean)ì´ ì¡´ì¬í•˜ê³  ìˆë‹¤. ì´ëŸ° í˜¼ë€ ë•Œë¬¸ì— ì ˆë°˜ì€ ê°ì²´, ì ˆë°˜ì€ ìë£Œ êµ¬ì¡°ì¸ ì¡ì¢… êµ¬ì¡°ê°€ ë‚˜ì˜¨ë‹¤.\nì¡ì¢… êµ¬ì¡°ëŠ” ì¤‘ìš”í•œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ë„ ìˆê³ , ê³µê°œ ë³€ìˆ˜ë‚˜ ê³µê°œ ì¡°íšŒ/ì„¤ì • í•¨ìˆ˜ë„ ìˆë‹¤.\nê³µê°œ/ì¡°íšŒ í•¨ìˆ˜ëŠ” ë¹„ê³µê°œ ë³€ìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ë…¸ì¶œí•˜ê²Œ ë˜ë©°, ì´ ë•Œë¬¸ì— ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ì ˆì°¨ì ì¸ í”„ë¡œê·¸ë˜ë°ì˜ ìë£Œ êµ¬ì¡° ì ‘ê·¼ ë°©ì‹ì²˜ëŸ¼ ë¹„ê³µê°œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ ìœ í˜¹í•œë‹¤.\nìœ„ì²˜ëŸ¼ ë§Œë“¤ì–´ì§„ ì¡ì¢… êµ¬ì¡°ëŠ” ìƒˆë¡œìš´ í•¨ìˆ˜ëŠ” ë¬¼ë¡ ì´ê³  ìƒˆë¡œìš´ ìë£Œ êµ¬ì¡°ë„ ì¶”ê°€í•˜ê¸° ì–´ë µë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì´ëŸ¬í•œ êµ¬ì¡°ëŠ” ë˜ë„ë¡ í”¼í•˜ëŠ” í¸ì´ ì¢‹ë‹¤.\nêµ¬ì¡°ì²´ ê°ì¶”ê¸° ctxt, options, scratchDirì´ ì§„ì§œ ê°ì²´ë¼ë©´ ì•ì—ì„œ ë³¸ ì˜ˆì œì²˜ëŸ¼ ê¸°ì°¨ ì¶©ëŒì„ ë§Œë“¤ë©´ ì•ˆëœë‹¤.\n1 ctxt.getAbsolutePathOfScratchDirectoryOption(); ctxt ê°ì²´ê°€ ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ ì¡°ì‘í•´ì•¼ í•˜ë¯€ë¡œ ê³µê°œí•´ì•¼ í•˜ëŠ” ë©”ì„œë“œê°€ ë„ˆë¬´ ë§ì•„ì§„ë‹¤. 1 ctxt.getScratchDiretoryOption().getAQbsolutePath(); ê°ì²´ê°€ ì•„ë‹ˆë¼ ìë£Œ êµ¬ì¡°ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •í•œë‹¤. ctxtê°€ ê°ì²´ë¼ë©´ ë­”ê°€ë¥¼ í•˜ë¼ê³  ë§í•´ì•¼ì§€ ì†ìœ¼ë¡œ ë“œëŸ¬ë‚´ë¼ê³  ë§í•˜ë©´ ì•ˆëœë‹¤.\nê³ ì¹ ë•ŒëŠ” ë¬´ìŠ¨ ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ê¸°ëŠ¥ì¸ì§€ ì‚´í”¼ë©´ ë” ì¢‹ì€ ì½”ë“œë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ìœ„ ê¸°ëŠ¥ì—ì„œ ì ˆëŒ€ ê²½ë¡œë¥¼ ì–»ìœ¼ë ¤ëŠ” ì´ìœ ëŠ” ì„ì‹œ íŒŒì¼ì„ ìƒì„±í•˜ê¸° ìœ„í•´ì„œì˜€ë‹¤.\n1 2 3 String outFile = outputDir + \u0026#34;/\u0026#34; + className.replace(\u0026#39;.\u0026#39;, \u0026#39;/\u0026#39;) + \u0026#34;.class\u0026#34;; FileOutputStream fout = new FileOutputStream(outFile); BufferedOutputStream bos = new BufferedOutputStream(fout); ì´ëŸ¬í•œ ê²½ìš° ctxtê°ì²´ì— ì„ì‹œ íŒŒì¼ì„ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“œëŠ” ê²ƒì´ ë” ì¢‹ì•„ë³´ì¸ë‹¤.\n1 BufferedOutputStream bos = ctxt.createScratchFileStream(classFileName); ìœ„ ì½”ë“œë¡œ ë³€ê²½í•˜ì—¬ ctxtëŠ” ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë“œëŸ¬ë‚´ì§€ ì•Šìœ¼ë©°, ëª¨ë“ˆì—ì„œ í•´ë‹¹ í•¨ìˆ˜ëŠ” ìì‹ ì´ ëª°ë¼ì•¼ í•˜ëŠ” ì—¬ëŸ¬ ê°ì²´ë¥¼ íƒìƒ‰í•  í•„ìš”ê°€ ì—†ì–´ì¡Œë‹¤.\nâ“ ë©”ì„œë“œ ì²´ì¸ìœ¼ë¡œ ë§Œë“¤ì—ˆë˜ outputDir ì€ ê²°êµ­ classNameì„ í•¨ê»˜ ì´ìš©í•˜ì—¬ íŒŒì¼ ê²½ë¡œë¥¼ ë§Œë“¤ì–´ ì£¼ê²Œ ë˜ë¯€ë¡œ ë³„ë„ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë¬¶ì–´ì„œ ê°ì¶”ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤ëŠ” ì˜ë¯¸ì¸ê°€?\nìë£Œ ì „ë‹¬ ê°ì²´ DTO ìë£Œ êµ¬ì¡°ì²´ì˜ ì „í˜•ì ì¸ í˜•íƒœëŠ” ê³µê°œ ë³€ìˆ˜ë§Œ ìˆê³  í•¨ìˆ˜ê°€ ì—†ëŠ” í´ë˜ìŠ¤ë‹¤. ì´ëŸ° ìë£Œ êµ¬ì¡°ì²´ë¥¼ ë•Œë¡œëŠ” ìë£Œ ì „ë‹¬ ê°ì²´(Data Transfer Object, DTO)ë¼ í•œë‹¤.\nDTOëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µì‹ í•˜ê±°ë‚˜ ì†Œì¼“ì—ì„œ ë°›ì€ ë©”ì‹œì§€ì˜ êµ¬ë¬¸ì„ ë¶„ì„í•  ë•Œ ìœ ìš©í•˜ë‹¤.\ní”íˆ DTOëŠ” ë°ì´í„° ë² ì´ìŠ¤ì— ì €ì¥ëœ ê°€ê³µë˜ì§€ ì•Šì€ ì •ë³´ë¥¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì—ì„œ ì‚¬ìš©í•  ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ë‹¨ê³„ì—ì„œ ê°€ì¥ ì²˜ìŒìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ì²´ë‹¤.\nDTOì˜ ì¢€ ë” ì¼ë°˜ì ì¸ í˜•íƒœëŠ” â€˜ë¹ˆ(bean)â€™êµ¬ì¡°ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 public class Address { private String street; private String streetExtra; private String city; private String state; private String zip; public Address(String street, String streetExtra, String city, String state, String zip) { this.street = street; this.streetExtra = streetExtra; this.city = city; this.state = state; this.zip = zip; } public String getStreet() { return street; } public String getStreetExtra() { return streetExtra; } public String getCity() { return city; } public String getState() { return state; } public String getZip() { return zip; } } ë¹ˆì€ ë¹„ê³µê°œ ë³€ìˆ˜ë¥¼ ì¡°íšŒ/ì„¤ì • í•¨ìˆ˜ë¡œ ì¡°ì‘í•œë‹¤. ì¼ì¢…ì˜ ì‚¬ì´ë¹„ ìº¡ìŠí™”ë¡œ, ë³„ ë‹¤ë¥¸ ì´ìµì„ ì œê³µí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.\ní™œì„± ë ˆì½”ë“œ í™œì„± ë ˆì½”ë“œëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì´ë‚˜ ë‹¤ë¥¸ ì†ŒìŠ¤ì—ì„œ ìë£Œë¥¼ ì§ì ‘ ë³€í™˜í•œ ê²°ê³¼ë¡œ DTOì˜ íŠ¹ìˆ˜í•œ í˜•íƒœë‹¤. ê³µê°œ ë³€ìˆ˜ê°€ ìˆê±°ë‚˜ ë¹„ê³µê°œ ë³€ìˆ˜ì— ì¡°íšŒ/ì„¤ì • í•¨ìˆ˜ê°€ ìˆëŠ” ìë£Œ êµ¬ì¡°ì§€ë§Œ, ëŒ€ê°œ saveë‚˜ findì™€ ê°™ì€ íƒìƒ‰ í•¨ìˆ˜ë„ ì œê³µí•œë‹¤.\ní™œì„± ë ˆì½”ë“œë¥¼ ì‚¬ìš©í•  ë•Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì¶”ê°€í•´ ì´ëŸ° ìë£Œ êµ¬ì¡°ë¥¼ ê°ì²´ë¡œ ì·¨ê¸‰í•˜ëŠ” ê°œë°œìê°€ ë§ì€ë°, ì´ëŸ¬í•œ ë°©ì‹ì€ ê²°êµ­ ì¡ì¢… êµ¬ì¡°ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤.\ní™œì„± ë ˆì½”ë“œëŠ” ìë£Œ êµ¬ì¡°ë¡œ ì·¨ê¸‰í•˜ì—¬, ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ë‹´ìœ¼ë©´ì„œ ë‚´ë¶€ ìë£Œë¥¼ ìˆ¨ê¸°ëŠ” ê°ì²´ë¥¼ ë”°ë¡œ ìƒì„±í•´ì•¼ í•œë‹¤.\nê²°ë¡  ê°ì²´ëŠ” ë™ì‘ì„ ê³µê°œí•˜ê³  ìë£Œë¥¼ ìˆ¨ê¸´ë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ ë™ì‘ì„ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ ìƒˆ ê°ì²´ íƒ€ì…ì„ ì¶”ê°€ëŠ” ì‰½ë‹¤. í•˜ì§€ë§Œ ê¸°ì¡´ ê°ì²´ì— ìƒˆ ë™ì‘ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì–´ë µë‹¤. ìë£Œêµ¬ì¡°ëŠ” ë³„ë‹¤ë¥¸ ë™ì‘ ì—†ì´ ìë£Œë¥¼ ë…¸ì¶œí•œë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ ìë£Œ êµ¬ì¡°ì— ìƒˆ ë™ì‘ì„ ì¶”ê°€ëŠ” ì‰½ë‹¤. ê¸°ì¡´ í•¨ìˆ˜ì— ìƒˆ ìë£Œ êµ¬ì¡°ë¥¼ ì¶”ê°€í•˜ê¸°ëŠ” ì–´ë µë‹¤. êµ¬í˜„í•  ë•Œ, ìƒˆë¡œìš´ ìë£Œ íƒ€ì…ì„ ì¶”ê°€í•˜ëŠ” ìœ ì—°ì„±ì´ í•„ìš”í•˜ë©´ ê°ì²´ê°€ ë” ì í•©í•˜ë‹¤. ë‹¤ë¥¸ ê²½ìš°ë¡œ ìƒˆë¡œìš´ ë™ì‘ì„ ì¶”ê°€í•˜ëŠ” ìœ ì—°ì„±ì´ í•„ìš”í•˜ë©´ ìë£Œ êµ¬ì¡°ì™€ ì ˆì°¨ì ì¸ ì½”ë“œê°€ ë” ì í•©í•˜ë‹¤.\nğŸ’¡ ìš°ìˆ˜í•œ ê°œë°œìëŠ” í¸ê²¬ ì—†ì´ ì´ ì‚¬ì‹¤ì„ ì´í•´í•´ ì§ë©´í•œ ë¬¸ì œì— ìµœì ì¸ í•´ê²°ì±…ì„ ì„ íƒí•´ì•¼ í•œë‹¤.\nì½ê³  ì‹¶ì€ ì±… ì—˜ë ˆê°•íŠ¸ ì˜¤ë¸Œì íŠ¸ ê°ì²´ì§€í–¥ì„ ì¡°ê¸ˆ ë‹¤ë¥¸ ê´€ì ì—ì„œ ì ‘ê·¼í•˜ì—¬ ê¹¨ë—í•œ ì½”ë“œë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ ì¶”ì²œí•˜ëŠ” ì±… ","date":"2023-04-20T15:53:13+09:00","image":"https://codemario318.github.io/post/clean_code_6/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_6/","title":"í´ë¦°ì½”ë“œ: 6. ê°ì²´ì™€ ìë£Œêµ¬ì¡°"},{"content":"ì–´ë–¤ í”„ë¡œê·¸ë¨ì´ë“  ê°€ì¥ ê¸°ë³¸ì ì¸ ë‹¨ìœ„ëŠ” í•¨ìˆ˜ë‹¤\nì–´ë–»ê²Œ í•´ì•¼ ì½ê¸° ì‰½ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œ ì˜ë„ë¥¼ ë¶„ëª…íˆ í‘œí˜„í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í• ìˆ˜ ìˆì„ê¹Œ í•¨ìˆ˜ì— ì–´ë–¤ ì†ì„±ì„ ë¶€ì—¬í•´ì•¼ ì²˜ìŒ ì½ëŠ” ì‚¬ëŒì´ í”„ë¡œê·¸ë¨ ë‚´ë¶€ë¥¼ ì§ê´€ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ìˆì„ê¹Œ ì‘ê²Œ ë§Œë“¤ì–´ë¼ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ì²«ë²ˆì§¸ ê·œì¹™ì€ â€˜ì‘ê²Œ!â€™, ë‘ë²ˆì§¸ ê·œì¹™ì€ â€˜ë” ì‘ê²Œ!â€™ ë‹¤.\nì´ ê·œì¹™ì€ ì¦ëª…í•˜ê¸´ ì–´ë µì§€ë§Œ ì‘ê°€ì˜ ê²½í—˜ìœ¼ë¡œ ì‘ì€ í•¨ìˆ˜ê°€ ì¢‹ë‹¤ê³  í™•ì‹ í•œë‹¤.\ní•¨ìˆ˜ê°€ ì‘ì„ìˆ˜ë¡ í•œê°€ì§€ ì¼ë§Œ ì²˜ë¦¬í•˜ê²Œ ë§Œë“¤ê¸° ìš©ì´í•˜ê³  ëª…ë°±í•´ì§„ë‹¤.\në¸”ë¡ê³¼ ë“¤ì—¬ì“°ê¸° ì¡°ê±´ë¬¸ì„ í†µí•´ ì²˜ë¦¬ë  ë¸”ë¡ì€ í•œì¤„ë¡œ í‘œí˜„í•´ì•¼í•œë‹¤. ì¦‰ ì½”ë“œë¥¼ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\në¸”ë¡ì— ë“¤ì–´ê°€ê²Œ ë˜ëŠ” í•¨ìˆ˜ ì´ë¦„ì„ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•œë‹¤ë©´ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\nì´ ë§ì€ ì¤‘ì²© êµ¬ì¡°ê°€ ìƒê¸¸ë§Œí¼ í•¨ìˆ˜ê°€ ì»¤ì ¸ì„œëŠ” ì•ˆ ëœë‹¤ëŠ” ëœ»ìœ¼ë¡œ í•¨ìˆ˜ì˜ ë“¤ì—¬ì“°ê¸° ê¹Šì´ëŠ” 2ë‹¨ì„ ë„˜ì§€ ì•Šê²Œ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ë‹¤.\ní•œê°€ì§€ë§Œ í•´ë¼ í•¨ìˆ˜ëŠ” í•œ ê°€ì§€ ì¼ì„ í•´ì•¼ì•¼í•œë‹¤. ê·¸ í•œê°€ì§€ë¥¼ ì˜ í•´ì•¼í•œë‹¤. ê·¸ í•œ ê°€ì§€ë§Œì„ í•´ì•¼í•œë‹¤.\nì¶”ìƒí™” ìˆ˜ì¤€ì´ í•˜ë‚˜ì¸ ë‹¨ìœ„ë¡œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ë©´ í•œê°€ì§€ ì¼ì„ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\ní•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ì´ìœ ëŠ” í° ê°œë…(ê¸°ëŠ¥)ì„ ë‹¤ìŒ ì¶”ìƒí™” ìˆ˜ì¤€ì—ì„œ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ë‚˜ëˆ  ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œë‹¤. ì˜ë¯¸ë¥¼ ìœ ì§€í•˜ë©´ì„œ ë” ìª¼ê°¤ ìˆ˜ ì—†ëŠ” ìˆ˜ì¤€ê¹Œì§€ ì¤„ì—¬ì•¼í•œë‹¤.\në‹¨ìˆœíˆ ë‹¤ë¥¸ í‘œí˜„ì´ ì•„ë‹ˆë¼ ì˜ë¯¸ ìˆëŠ” ì´ë¦„ìœ¼ë¡œ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤ë©´ ê·¸ í•¨ìˆ˜ëŠ” ì—¬ëŸ¬ ì‘ì—…ì„ í•˜ëŠ” ì…ˆì´ë‹¤.\ní•¨ìˆ˜ ë‚´ ì„¹ì…˜ ì„¹ì…˜ì´ ì—¬ëŸ¬ê°œ ë§Œë“¤ì–´ì§„ë‹¤ë©´ í•¨ìˆ˜ê°€ ì—¬ëŸ¬ê°œì˜ ì¼ì„ í•œë‹¤ëŠ” ëœ»ì´ë‹¤. í•œê°€ì§€ ì¼ ë§Œ í•˜ëŠ” í•¨ìˆ˜ëŠ” ìì—°ìŠ¤ëŸ½ê²Œ ì„¹ì…˜ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ì–´ë µë‹¤.\ní•¨ìˆ˜ ë‚´ ì¶”ìƒí™” ìˆ˜ì¤€ì€ í•˜ë‚˜ë¡œ í•¨ìˆ˜ê°€ í™•ì‹¤íˆ í•œ ê°€ì§€ ì‘ì—…ë§Œ í•˜ë ¤ë©´ í•¨ìˆ˜ ë‚´ ëª¨ë“  ë¬¸ì¥ì˜ ì¶”ìƒí™” ìˆ˜ì¤€ì´ ë™ì¼í•´ì•¼ í•œë‹¤.\ní•œ í•¨ìˆ˜ ë‚´ì— ì¶”ìƒí™” ìˆ˜ì¤€ì„ ì„ìœ¼ë©´ íŠ¹ì • í‘œí˜„ì´ ê·¼ë³¸ ê°œë…ì¸ì§€ ì„¸ë¶€ì‚¬í•­ì¸ì§€ êµ¬ë¶„í•˜ê¸° ì–´ë ¤ì›Œ, ì½”ë“œë¥¼ ì½ëŠ” ì‚¬ëŒì´ í—·ê°ˆë¦°ë‹¤.\në˜í•œ ê·¼ë³¸ ê°œë…ê³¼ ì„¸ë¶€ì‚¬í•­ì„ ë’¤ì„ê¸° ì‹œì‘í•˜ë©´, ê¹¨ì§„ ìœ ë¦¬ì°½ì²˜ëŸ¼ ì‚¬ëŒë“¤ì´ í•¨ìˆ˜ì— ì„¸ë¶€ì‚¬í•­ì„ ì ì  ë” ì¶”ê°€í•œë‹¤.\nìœ„ì—ì„œ ì•„ë˜ë¡œ ì½”ë“œ ì½ê¸°: ë‚´ë ¤ê°€ê¸° ê·œì¹™ ì½”ë“œëŠ” ìœ„ì—ì„œ ì•„ë˜ë¡œ ì´ì•¼ê¸°ì²˜ëŸ¼ ì½í˜€ì•¼ ì¢‹ë‹¤. í•œ í•¨ìˆ˜ ë‹¤ìŒì—ëŠ” ì¶”ìƒí™” ìˆ˜ì¤€ì´ í•œ ë‹¨ê³„ ë‚®ì€ í•¨ìˆ˜ê°€ ì˜¨ë‹¤.\nì¦‰ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì½íˆë ¤ë©´ í•¨ìˆ˜ ì¶”ìƒí™” ìˆ˜ì¤€ì´ í•œë²ˆì— í•œ ë‹¨ê³„ì”© ë‚®ì•„ì§„ë‹¤.\nğŸ’¡ ë‚´ë ¤ê°„ë‹¤ëŠ”ê±´ ë‹¨ìˆœíˆ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì½íŒë‹¤ëŠ” ì˜ë¯¸ë³´ë‹¤, ê¹Šì´ê°€ ê¹Šì–´ì§ˆìˆ˜ë¡ ì¡°ê¸ˆ ë” ë‚®ì€ ìˆ˜ì¤€ìœ¼ë¡œ í‘œí˜„ë˜ì•¼ í•œë‹¤ëŠ” ëœ»ê°™ë‹¤.\nì¶”ìƒí™” ìˆ˜ì¤€ì´ í•˜ë‚˜ì¸ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ëŠ”ê²ƒì€ ì–´ë µë‹¤. í•µì‹¬ì€ ì§§ìœ¼ë©´ì„œë„ í•œê°€ì§€ ì¼ë§Œ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. í•œ ë‹¨ê³„ì”© ê¹Šì–´ì§€ëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•˜ë©´ ì¶”ìƒí™” ìˆ˜ì¤€ì„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•˜ê¸° ì‰¬ì›Œì§„ë‹¤.\nSwitch ë¬¸ Switchë¬¸ì€ ë³¸ì§ˆì ìœ¼ë¡œ switch ë¬¸ì€ N ê°€ì§€ë¥¼ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì‘ê²Œ, í•œ ê°€ì§€ ì‘ì—…ë§Œ ìˆ˜í–‰í•˜ê²Œ ë§Œë“¤ê¸° ì–´ë µë‹¤.\nì™„ì „íˆ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë°©ë²•ì€ ì—†ê¸° ë•Œë¬¸ì— ë‹¤í˜•ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì €ì°¨ì› í´ë˜ìŠ¤ì— ìˆ¨ê¸°ê³  ë°˜ë³µí•˜ì§€ ì•Šê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\n","date":"2023-04-20T15:48:13+09:00","image":"https://codemario318.github.io/post/clean_code_3/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_3/","title":"í´ë¦°ì½”ë“œ: 3. í•¨ìˆ˜ ì˜ ë§Œë“œëŠ” ë²•"},{"content":" ì½”ë“œëŠ” ìš”êµ¬ì‚¬í•­ì„ í‘œí˜„í•˜ëŠ” ë„êµ¬ì´ë‹¤. ê³ ë„ë¡œ ì¶”ìƒí™”ëœ ì–¸ì–´ë‚˜ íŠ¹ì • ì‘ìš© ë¶„ì•¼ ì–¸ì–´ë¡œ ê¸°ìˆ í•˜ëŠ” ëª…ì„¸ ì—­ì‹œ ì½”ë“œì´ë‹¤. ì œëŒ€ë¡œ ëª…ì‹œí•œ ìš”êµ¬ì‚¬í•­ì€ ì½”ë“œë§Œí¼ ì •í˜•ì ì´ë©° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì‚¬ìš©í•´ë„ ì¢‹ë‹¤! ë‚˜ìœ ì½”ë“œ ì˜ë‚˜ê°€ë˜ íšŒì‚¬ë¥¼ ë§í•˜ê²Œí•œ ì›ì¸ì€ ë‚˜ìœì½”ë“œì˜€ë‹¤. ê·¸ë“¤ì€ ì¶œì‹œì— ë°”ë¹  ì½”ë“œë¥¼ ë§ˆêµ¬ ì§°ë‹¤. ê¸°ëŠ¥ì„ ì¶”ê°€í• ìˆ˜ë¡ ì½”ë“œëŠ” ì—‰ë§ì´ ë˜ì–´ê°”ê³ , ê²°êµ­ì€ ê°ë‹¹ì´ ë¶ˆê°€ëŠ¥í•œ ìˆ˜ì¤€ì— ì´ë¥´ë €ë‹¤.\nì–¸ê¸‰ ë˜ì—ˆë˜ íšŒì‚¬ëŠ” 20ë…„ í›„ ë§í–ˆë‹¤. ì¥ê¸°ì ìœ¼ë¡œ ì‚´í”¼ì§€ ì•Šì•„ë„, ë¹ ë¥´ê²Œ ì§„í–‰ë˜ë˜ í”„ë¡œì íŠ¸ê°€ 1~2ë…„ ë§Œì— ì •ì²´ë˜ëŠ” ê²½ìš°ê°€ ê½¤ ë§ì´ ì¼ì–´ë‚œë‹¤.\nì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ ë‚˜ìœ ì½”ë“œë“¤ì€ ìƒì‚°ì„± ì•…ìˆœí™˜ì„ ë§Œë“ ë‹¤.\në‚˜ìœ (ë”ëŸ¬ìš´) ì½”ë“œë¥¼ ì§€ì†ì ìœ¼ë¡œ ê°œì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì¥ê¸°ì ìœ¼ë¡œ ë¶€ì •ì ì¸ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.\në‚˜ì¤‘ì€ ì ˆëŒ€ ì˜¤ì§€ ì•ŠëŠ”ë‹¤ - Later == Never ( later equals never!) ë‚˜ì¤‘ì€ ì ˆëŒ€ ì˜¤ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì‹œê°„ì„ ë“¤ì—¬ ê¹¨ë—í•œ ì½”ë“œë¥¼ ë§Œë“œëŠ” ë…¸ë ¥ì´ ë¹„ìš©ì„ ì ˆê°í•˜ëŠ” ë°©ë²•ì¼ ë¿ë§Œ ì•„ë‹ˆë¼ ì „ë¬¸ê°€ë¡œì„œ ê¼­ í•„ìš”í•˜ë‹¤.\nì¢‹ì€ ì½”ë“œê°€ ë‚˜ìœ ì½”ë“œê°€ ë˜ëŠ” ì´ìœ  ìš”êµ¬ì‚¬í•­ ë³€ê²½ ì§§ì€ ì¼ì • ë“±ë“± ì™¸ì ì¸ ìš”ì¸ë“¤ ğŸ’¡ ëª¨ë‘ ë³€ëª…ì„. ì˜ëª»ì€ ì‚¬ì‹¤ ê°œë°œì ìì‹ ì—ê²Œ ìˆë‹¤.\nê¸°íš, ì‚¬ì—… ë“± ì—ê²Œ ì ê·¹ì ìœ¼ë¡œ ì •ë³´ë¥¼ ì œê³µí•˜ì—¬ ì‚¬ì „ì— ë°©ì§€í•´ì•¼ í•œë‹¤.\nì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ í†µí•´ ì´ëŸ¬í•œ ìš”ì¸ë“¤ì„ ì˜ˆë°©í•˜ëŠ” ê²ƒë„ ê°œë°œìì˜ ì—­ëŸ‰ ë‚˜ìœ ì½”ë“œì˜ ìœ„í—˜ì„ ì´í•´í•˜ì§€ ëª»í•˜ëŠ” ê´€ë¦¬ì ë§ì„ ê·¸ëŒ€ë¡œ ë”°ë¥´ëŠ” í–‰ë™ì€ ì „ë¬¸ê°€ë‹µì§€ ëª»í•˜ë‹¤.\nì›ì´ˆì  ë‚œì œ ê°œë°œìëŠ” ê·¼ë³¸ì ì¸ ê°€ì¹˜ì—ì„œ ë‚œì œì— ë´‰ì°©í•œë‹¤.\nê¸°í•œì„ ë§ì¶”ë ¤ë©´ ë‚˜ìœ ì½”ë“œë¥¼ ì–‘ì‚°í•  ìˆ˜ ë°–ì— ì—†ë‹¤ê³  ëŠë¼ì§€ë§Œ, ì˜¤íˆë ¤ ì—‰ë§ì§„ì°½ì¸ ìƒíƒœë¡œ ì¸í•´ ì†ë„ê°€ ëŠ¦ì–´ì§€ê³  ê¸°í•œì„ ë†“ì¹˜ê²Œ ëœë‹¤.\nğŸ’¡ ê¸°í•œì„ ë§ì¶”ëŠ” ìœ ì¼í•œ ë°©ë²•ì€, ì¦‰ ë¹¨ë¦¬ ê°€ëŠ” ìœ ì¼í•œ ë°©ë²•ì€, ì–¸ì œë‚˜ ì½”ë“œë¥¼ ìµœëŒ€í•œ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•˜ëŠ” ìŠµê´€ì´ë‹¤.\nê¹¨ë—í•œ ì½”ë“œëŠ” ì–´ë–»ê²Œ ì‘ì„±í• ê¹Œ? ì½”ë“œê°ê° ê¹¨ë—í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë ¤ë©´ ì²­ê²°ì´ë¼ëŠ” í˜ê²¹ê²Œ ìŠµë“í•œ ê°ê°ì„ í™œìš©í•´ ìì˜í•œ ê¸°ë²•ë“¤ì„ ì ìš©í•˜ëŠ” ì ˆì œì™€ ê·œìœ¨ì´ í•„ìš”í•˜ë‹¤.\nê¹¨ë—í•œ ì½”ë“œë€? ë¹„ì•¼ë„¤ ìŠ¤íŠ¸ë¡­ìŠ¤íŠ¸ë£¹ - Bjarne Stroustrup (C++ ì°½ì‹œì) ê°„ë‹¨í•œ ë…¼ë¦¬\në‚®ì€ ì˜ì¡´ì„±\nì„±ëŠ¥ì„ ìµœì í™”\nê¹¨ë—í•œ ì½”ë“œëŠ” í•œ ê°€ì§€ ì¼ì„ ì œëŒ€ë¡œ í•œë‹¤.\në‚˜ìœ ì½”ë“œëŠ” ë‚˜ìœ ì½”ë“œë¥¼ ìœ í˜¹í•œë‹¤.\në‚˜ìœ ì½”ë“œë¥¼ ê³ ì¹˜ë©´ì„œ ì˜¤íˆë ¤ ë” ë‚˜ìœ ì½”ë“œë¥¼ ë§Œë“ ë‹¤. ê¹¨ì§„ ì°½ë¬¸ ê¹¨ì§„ ìœ ë¦¬ì°½ ì´ë¡  - ìœ„í‚¤ë°±ê³¼, ìš°ë¦¬ ëª¨ë‘ì˜ ë°±ê³¼ì‚¬ì „\nê·¸ë˜ë”” ë¶€ì¹˜ - Grady Booch : UML ì°½ì‹œì ê¹¨ë—í•œ ì½”ë“œëŠ” ë‹¨ìˆœí•˜ê³  ì§ì ‘ì ì´ë‹¤. ì˜ ì“´ ë¬¸ì¥ì²˜ëŸ¼ ì½íŒë‹¤. ê²°ì½” ì„¤ê³„ìì˜ ì˜ë„ë¥¼ ìˆ¨ê¸°ì§€ ì•ŠëŠ”ë‹¤. ëª…ì¾Œí•œ ì¶”ìƒí™”ì™€ ë‹¨ìˆœí•œ ì œì–´ë¬¸ìœ¼ë¡œ ê°€ë“í•˜ë‹¤. ê°€ë…ì„±ì„ ê°•ì¡°í•˜ê³  ìˆë‹¤.\n","date":"2023-04-20T15:42:13+09:00","image":"https://codemario318.github.io/post/clean_code_1/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/clean_code_1/","title":"í´ë¦°ì½”ë“œ: 1. ê¹¨ë—í•œ ì½”ë“œ"},{"content":"Go ì–¸ì–´ì—ì„œ ì±„ë„ì€ ê³ ë£¨í‹´ì„ ì—°ê²°í•´ì£¼ëŠ” í†µë¡œ(íŒŒì´í”„)ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì±„ë„ì€ ì–‘ë°©í–¥ì´ê³  ê³ ë£¨í‹´ì´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ë™ì¼í•œ ì±„ë„ì„ í†µí•´ ë°ì´í„°ë¥¼ ë³´ë‚´ê±°ë‚˜ ë°›ì„ ìˆ˜ ìˆë‹¤.\nGo ì±„ë„ì€ ê·¸ ì±„ë„ì„ í†µí•˜ì—¬ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” í†µë¡œë¼ ë³¼ ìˆ˜ ìˆë‹¤. ì±„ë„ì€ make() í•¨ìˆ˜ë¥¼ í†µí•´ ë¯¸ë¦¬ ìƒì„±ë˜ì–´ì•¼ í•˜ë©°, ì±„ë„ ì—°ì‚°ì \u0026lt;- ì„ í†µí•´ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ë°›ëŠ”ë‹¤.\nì±„ë„ì€ í”ì´ ê³ ë£¨í‹´ë“¤ ì‚¬ì´ì— ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì„ë•Œ ì‚¬ìš©ë˜ëŠ”ë°, ìƒëŒ€í¸ì´ ì¤€ë¹„ë  ë•Œê¹Œì§€ ì±„ë„ì—ì„œ ëŒ€ê¸°í•¨ìœ¼ë¡œì¨ ë³„ë„ë¡œ lockì„ ê±¸ì§€ ì•Šê³  ë°ì´í„°ë¥¼ ë™ê¸°í™”í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.\nì•„ë˜ ì˜ˆì œëŠ” ì •ìˆ˜í˜• ì±„ë„ì„ ìƒì„±í•˜ê³ , í•œ ê³ ë£¨í‹´ì—ì„œ ê·¸ ì±„ë„ì— 123ì´ë€ ì •ìˆ˜ ë°ì´í„°ë¥¼ ë³´ë‚¸ í›„, ì´ë¥¼ ë‹¤ì‹œ ë©”ì¸ ë£¨í‹´ì—ì„œ ì±„ë„ë¡œë¶€í„° 123 ë°ì´í„°ë¥¼ ë°›ëŠ” ì½”ë“œì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main func main() { // ì •ìˆ˜í˜• ì±„ë„ì„ ìƒì„±í•œë‹¤ ch := make(chan int) go func() { ch \u0026lt;- 123 //ì±„ë„ì— 123ì„ ë³´ë‚¸ë‹¤ }() var i int i = \u0026lt;- ch // ì±„ë„ë¡œë¶€í„° 123ì„ ë°›ëŠ”ë‹¤ println(i) } ì±„ë„ì„ ìƒì„±í•  ë•ŒëŠ” make()í•¨ìˆ˜ì— ì–´ë–¤ íƒ€ì… ë°ì´í„°ë¥¼ ì±„ë„ì—ì„œ ì£¼ê³ ë°›ì„ ì§€ ë¯¸ë¦¬ ì§€ì •í•´ ì£¼ì–´ì•¼ í•œë‹¤. ì±„ë„ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ë•ŒëŠ” ì±„ë„ëª… \u0026lt;- ë°ì´í„° ì™€ ê°™ì´ ì‚¬ìš©í•˜ê³ , ì±„ë„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì„ ê²½ìš°ì—ëŠ” \u0026lt;- ì±„ë„ëª… ì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤.\në©”ì¸ ë£¨í‹´ì€ ë§ˆì§€ë§‰ì—ì„œ ì±„ë„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ê³  ìˆëŠ”ë°, ìƒëŒ€í¸ ê³ ë£¨í‹´ì—ì„œ ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•Œê¹Œì§€ëŠ” ê³„ì† ëŒ€ê¸°í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ, ì´ ì˜ˆì œì—ì„œëŠ” time.Sleep()ì´ë‚˜ fmt.Scanf() ê°™ì´ ê³ ë£¨í‹´ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ì½”ë“œë¥¼ ì ì§€ ì•ŠëŠ”ë‹¤.\nGo ì±„ë„ì˜ ìˆ˜ì‹ ìì™€ ì†¡ì‹ ìê°€ ì„œë¡œë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì†ì„±ì„ ì´ìš©í•˜ì—¬ Goë£¨í‹´ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main import \u0026#34;fmt\u0026#34; func main() { done := make(chan bool) go func() { for i := 0; i \u0026lt; 10; i++ { fmt.Println(i) } done \u0026lt;- true }() // ìœ„ì˜ Goë£¨í‹´ì´ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸° \u0026lt;-done } ìµëª…í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ ê³ ë£¨í‹´ì—ì„œ ì–´ë–¤ ì‘ì—…ì´ ì‹¤í–‰ë˜ê³  ìˆì„ ë•Œ, ë©”ì¸ ë£¨í‹´ì€ â†doneì—ì„œ ê³„ì† ìˆ˜ì‹ í•˜ë©° ëŒ€ê¸°í•˜ê³  ìˆê²Œ ëœë‹¤.\nìµëª…í•¨ìˆ˜ ê³ ë£¨í‹´ì—ì„œ ì‘ì—…ì´ ëë‚œ í›„, doneì±„ë„ì— trueë¥¼ ë³´ë‚´ë©´, ìˆ˜ì‹ ì ë©”ì¸ë£¨í‹´ì€ ì´ë¥¼ ë°›ê³  í”„ë¡œê·¸ë¨ì„ ëë‚´ê²Œ ëœë‹¤.\nGo ì±„ë„ ë²„í¼ë§ Go ì±„ë„ì€ Unbufferd Channelê³¼ Buffered Channel 2ê°€ì§€ í˜•íƒœê°€ ìˆë‹¤.\nUnbufferd Channel ìœ„ ì˜ˆì œì—ì„œ Go ì±„ë„ì€ Unbuffered Channelë¡œì„œ ì´ ì±„ë„ì—ì„œëŠ” í•˜ë‚˜ì˜ ìˆ˜ì‹ ìê°€ ë°ì´í„°ë¥¼ ë°›ì„ ë•Œê¹Œì§€ ì†¡ì‹ ìê°€ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ì±„ë„ì— ë¬¶ì—¬ìˆê²Œ ëœë‹¤. (ê²°ê³¼ë¥¼ ë°˜í™˜í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤. blocking?)\nBufferd Channel Bufferd Channelì„ ì‚¬ìš©í•˜ë©´ ìˆ˜ì‹ ìê°€ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì–´ ìˆì§€ ì•Šì•„ë„ ì§€ì •ëœ ë²„í¼ë§Œí¼ ë°ì´í„°ë¥¼ ë³´ë‚´ê³  ê³„ì† ë‹¤ë¥¸ ì¼ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.(unblocking?) ë²„í¼ í¬ê¸°ê¹Œì§€ ì…ë ¥ ì‘ì—…ì´ ë¸”ë½ë˜ì§€ ì•ŠëŠ”ë‹¤.\në²„í¼ ì±„ë„ì€ make(chan type, N) í•¨ìˆ˜ë¥¼ í†µí•´ ìƒì„±ë˜ëŠ”ë°, ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„° Nì— ì‚¬ìš©í•  ë²„í¼ ê°¯ìˆ˜ë¥¼ ë„£ëŠ”ë‹¤.\nì˜ˆë¥¼ë“¤ì–´ make(chan int, 10)ì€ 10ê°œì˜ ì •ìˆ˜í˜•ì„ ê°–ëŠ” ë²„í¼ ì±„ë„ì„ ë§Œë“ ë‹¤.\n1 2 3 4 5 6 7 8 9 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) c \u0026lt;- 1 //ìˆ˜ì‹ ë£¨í‹´ì´ ì—†ìœ¼ë¯€ë¡œ ë°ë“œë½ fmt.Println(\u0026lt;-c) //ì½”ë©˜íŠ¸í•´ë„ ë°ë“œë½ (ë³„ë„ì˜ Goë£¨í‹´ì—†ê¸° ë•Œë¬¸) } ë²„í¼ ì±„ë„ì„ ì´ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ìœ„ ì½”ë“œëŠ” ë°ë“œë½ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤. ë©”ì¸ë£¨í‹´ì—ì„œ ì±„ë„ì— 1ì„ ë³´ë‚´ë©´ì„œ ìƒëŒ€í¸ ìˆ˜ì‹ ìë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ”ë°, ì´ ì±„ë„ì„ ë°›ëŠ” ìˆ˜ì‹ ì ê³ ë£¨í‹´ì´ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 package main import \u0026#34;fmt\u0026#34; func main() { ch := make(chan int, 1) //ìˆ˜ì‹ ìê°€ ì—†ë”ë¼ë„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ch \u0026lt;- 101 fmt.Println(\u0026lt;-ch) } ìœ„ì²˜ëŸ¼ ë²„í¼ì±„ë„ì„ ì‚¬ìš©í•˜ë©´, ìˆ˜ì‹ ìê°€ ë‹¹ì¥ ì—†ë”ë¼ë„ ìµœëŒ€ë²„í¼ ìˆ˜ê¹Œì§€ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤\në²„í¼ì— ì ì¬ëœ ë°ì´í„°ë¥¼ ì–¸ì  ê°€ ê°€ì ¸ê°ˆ ê²ƒì´ë¼ íŒë‹¨í•˜ê³  ìµœëŒ€ ë²„í¼ìˆ˜ë¥¼ ë„˜ì§€ ì•Šì„ë•Œê¹Œì§€ ë³´ë‚´ë„ ë°ë“œë½ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.\nUnbufferd Channel ì˜ˆì œì½”ë“œ ì˜¤ë¥˜ ë¶„ì„ 1 2 3 4 5 6 7 8 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) c \u0026lt;- 1 } unbuffered channelì—ì„œ ë°œìƒí•˜ëŠ” ì¼ë°˜ì ì¸ ë°ë“œë½ì˜ ì˜ë¯¸ì¸ 2ê°œ ì´ìƒì˜ ì‘ì—… ì„œë¡œì˜ ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ëŒ€ê¸°í•˜ëŠ” êµì°© ìƒíƒœì™€ëŠ” ì•½ê°„ ë‹¤ë¥´ë‹¤ê³  ë³¼ ìˆ˜ë„ ìˆë‹¤.\nì™œëƒí•˜ë©´Â senderì™€Â receiverì¤‘ ëˆ„êµ°ê°€ê°€ ë¨¼ì € ì‘ì—…ì„ ëë‚´ì•¼ì§€ ê·¸ ë‹¤ìŒìœ¼ë¡œ ëˆ„êµ°ê°€ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼Â ì„œë¡œ ë™ì‹œì— í˜‘ë ¥í•´ì•¼ë§Œ unbuffered channelì— ëŒ€í•œ ëŒ€ê¸°ë¥¼ ëë‚¼ ìˆ˜ ìˆëŠ”ë° ì´ ê²½ìš°ëŠ” ë™ì‹œì— í˜‘ë ¥í•´ì¤„ ê·¸ ëˆ„êµ°ê°€(receiver)ê°€ ì—†ì–´ ë¬´í•œì • ê¸°ë‹¤ë¦¬ê²Œë˜ëŠ” ìƒí™©ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) c \u0026lt;- 1 \u0026lt;- c } ê·¸ë ‡ë‹¤ê³ í•´ì„œ ìœ„ì™€ ê°™ì´ ìê¸° í˜¼ì sendì™€ receiveë¥¼ í•˜ë ¤ í•´ë„ Unbuffered channelì€ senderì™€ receiverê°€ ëª¨ë‘ readyì—¬ì•¼ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¶ˆê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) go func() { \u0026lt;- c }() c \u0026lt;- 1 } 1 2 3 4 5 6 7 8 9 10 11 package main import \u0026#34;fmt\u0026#34; func main() { c := make(chan int) go func() { c \u0026lt;- 1 }() \u0026lt;- c } ë”°ë¼ì„œÂ ë‹¤ë¥¸ goroutineì—ì„œ Aì— ëŒ€í•œ receiver or sender ì—­í• ì„ í•´ì£¼ë©´ ëœë‹¤.\nì±„ë„ íŒŒë¼ë¯¸í„° ì±„ë„ì„ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•  ë•Œ, ì¼ë°˜ì ìœ¼ë¡œ ì†¡ìˆ˜ì‹ ì„ ëª¨ë‘ í•˜ëŠ” ì±„ë„ì„ ì „ë‹¬í•˜ì§€ë§Œ, íŠ¹ë³„íˆ í•´ë‹¹ ì±„ë„ë¡œ ì†¡ì‹ ë§Œ í•  ê²ƒì¸ì§€ í˜¹ì€ ìˆ˜ì‹ ë§Œ í•  ê²ƒ ì¸ì§€ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\nì†¡ì‹  íŒŒë¼ë¯¸í„°: chan\u0026lt;- ìˆ˜ì‹  íŒŒë¼ë¯¸í„°: \u0026lt;-chan íŒŒë¼ë¯¸í„°ì— ë‹¤ë¥¸ ì†¡ìˆ˜ì‹ ì„ ë°”ê¿” ë„£ê²Œ ë˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 package main import \u0026#34;fmt\u0026#34; func main() { ch := make(chan string, 1) sendChan(ch) receiveChan(ch) } func sendChan(ch chan\u0026lt;- string) { ch \u0026lt;- \u0026#34;Data\u0026#34; // x := \u0026lt;-ch // ì—ëŸ¬ë°œìƒ } func receiveChan(ch \u0026lt;-chan string) { data := \u0026lt;-ch fmt.Println(data) } ì±„ë„ ë‹«ê¸° ì±„ë„ì„ ì—´ì–´ ë°ì´í„°ë¥¼ ë³´ë‚¸ í›„, close()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì±„ë„ì„ ë‹«ì„ ìˆ˜ ìˆë‹¤. (ì†¡ì‹ ìë§Œ ê°€ëŠ¥) ì±„ë„ì„ ë‹«ê²Œë˜ë©´, í•´ë‹¹ ì±„ë„ë¡œëŠ” ë”ì´ìƒ ì†¡ì‹ í•  ìˆ˜ ì—†ì§€ë§Œ, ê³„ì† ìˆ˜ì‹ ì€ ê°€ëŠ¥í•˜ë‹¤.\nì±„ë„ ìˆ˜ì‹ ì— ì‚¬ìš©ë˜ëŠ” \u0026lt;- ch ì€ ì±„ë„ ë©”ì‹œì§€, ì •ìƒ ìˆ˜ì‹  ì—¬ë¶€ 2ê°œì˜ ë°˜í™˜ê°’ì„ ê°–ëŠ”ë‹¤. ì±„ë„ì´ ë‹«í˜”ì„ ê²½ìš° ë‘ë²ˆì§¸ ë¦¬í„´ê°’ì€ falseì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main func main() { ch := make(chan int, 2) // ì±„ë„ì— ì†¡ì‹  ch \u0026lt;- 1 ch \u0026lt;- 2 // ì±„ë„ì„ ë‹«ëŠ”ë‹¤ close(ch) // ì±„ë„ ìˆ˜ì‹  println(\u0026lt;-ch) println(\u0026lt;-ch) if _, success := \u0026lt;-ch; !success { println(\u0026#34;ë”ì´ìƒ ë°ì´íƒ€ ì—†ìŒ.\u0026#34;) } } ì±„ë„ range ë¬¸ ì±„ë„ì—ì„œ ì†¡ì‹ ìê°€ ì†¡ì‹ ì„ í•œ í›„, ì±„ë„ì„ ë‹«ì„ ìˆ˜ ìˆë‹¤. ìˆ˜ì‹ ìëŠ” ì„ì˜ì˜ ê°¯ìˆ˜ì˜ ë°ì´í„°ë¥¼ ì±„ë„ì´ ë‹«í ë•Œê¹Œì§€ ìˆ˜ì‹ í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 package main func main() { ch := make(chan int, 2) // ì±„ë„ì— ì†¡ì‹  ch \u0026lt;- 1 ch \u0026lt;- 2 // ì±„ë„ì„ ë‹«ëŠ”ë‹¤ close(ch) // ë°©ë²•1 // ì±„ë„ì´ ë‹«íŒ ê²ƒì„ ê°ì§€í•  ë•Œê¹Œì§€ ê³„ì† ìˆ˜ì‹ (ë¬´í•œ for ë£¨í”„) for { if i, success := \u0026lt;-ch; success { println(i) } else { break } } // ë°©ë²•2 // ìœ„ í‘œí˜„ê³¼ ë™ì¼í•œ ì±„ë„ range ë¬¸ (ë°©ë²• 1ì˜ ê°„ê²°í•œ í‘œí˜„ ì„¸ë¶€ ë™ì‘ì€ ê°™ìŒ) for i := range ch { println(i) } } ì±„ë„ rangeë¬¸ì€ range í‚¤ì›Œë“œ ë‹¤ìŒì— ëª…ì‹œí•œ ì±„ë„ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê³„ì† ìˆ˜ì‹ í•˜ë‹¤ê°€ ì±„ë„ì´ ë‹«íŒ ê²ƒì„ ê°ì§€í•˜ë©´ for ë£¨í”„ë¥¼ ì¢…ë£Œí•œë‹¤.\nì±„ë„ select ë¬¸ selectë¬¸ì€ ë³µìˆ˜ ì±„ë„ë“¤ì„ ê¸°ë‹¤ë¦¬ë©´ì„œ ì¤€ë¹„ëœ ì±„ë„ì„ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\nselectë¬¸ì€ ì—¬ëŸ¬ê°œì˜ caseë¬¸ì—ì„œ ê°ê° ë‹¤ë¥¸ ì±„ë„ì„ ê¸°ë‹¤ë¦¬ë‹¤ê°€ ì¤€ë¹„ê°€ ëœ ì±„ë„ caseë¥¼ ì‹¤í–‰í•œë‹¤. selectë¬¸ì€ case ì±„ë„ë“¤ì´ ì¤€ë¹„ë˜ì§€ ì•Šìœ¼ë©´ ê³„ì† ëŒ€ê¸°í•˜ê²Œ ë˜ê³ , ê°€ì¥ ë¨¼ì € ë„ì°©í•œ ì±„ë„ì˜ caseë¥¼ ì‹¤í–‰í•œë‹¤. ë§Œì•½ ë³µìˆ˜ ì±„ë„ì— ì‹ í˜¸ê°€ ì˜¤ë©´, Go ëŸ°íƒ€ì„ì´ ëœë¤í•˜ê²Œ ê·¸ì¤‘ í•œ ê°œë¥¼ ì„ íƒí•˜ê²Œ ëœë‹¤. selectë¬¸ì— defaultë¬¸ì´ ìˆìœ¼ë©´, caseë¬¸ ì±„ë„ì´ ì¤€ë¹„ë˜ì§€ ì•Šë”ë¼ë„ ê³„ì† ëŒ€ê¸°í•˜ì§€ ì•Šê³  ë°”ë¡œ defaultë¬¸ì„ ì‹¤í–‰í•œë‹¤.\n","date":"2023-04-20T13:38:40+09:00","image":"https://codemario318.github.io/post/go_13/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_13/","title":"Golang: 13. Go ì±„ë„"},{"content":"Goë£¨í‹´(goroutine)ì€ Go ëŸ°íƒ€ì„ì´ ê´€ë¦¬í•˜ëŠ” Lightweight ë…¼ë¦¬ì  (í˜¹ì€ ê°€ìƒ) ì“°ë ˆë“œì´ë‹¤. Goì—ì„œ go í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´, ëŸ°íƒ€ì„ì‹œ ìƒˆë¡œìš´ goroutineì„ ì‹¤í–‰í•œë‹¤.\nê³ ë£¨í‹´ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ í•¨ìˆ˜ë£¨í‹´ì„ ì‹¤í–‰í•˜ë¯€ë¡œ, ì—¬ëŸ¬ ì½”ë“œë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.\nê³ ë£¨í‹´ì€ OS ì“°ë ˆë“œë³´ë‹¤ í›¨ì”¬ ê°€ë³ê²Œ ë¹„ë™ê¸° Concurrent(ë™ì‹œì„±) ì²˜ë¦¬ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•˜ì—¬ ë§Œë“ ê²ƒìœ¼ë¡œ, ê¸°ë³¸ì ìœ¼ë¡œ Go ëŸ°íƒ€ì„ì´ ìì²´ ê´€ë¦¬í•œë‹¤.\nGo ëŸ°íƒ€ì„ ìƒì—ì„œ ê´€ë¦¬ë˜ëŠ” ì‘ì—…ë‹¨ìœ„ì¸ ì—¬ëŸ¬ ê³ ë£¨í‹´ë“¤ì„ í•˜ë‚˜ì˜ OS ì“°ë ˆë“œ 1ê°œë¡œë„ ì‹¤í–‰ë˜ê³¤ í•œë‹¤. ê³ ë£¨í‹´ë“¤ì€ OS ì“°ë ˆë“œì™€ 1ëŒ€1ë¡œ ëŒ€ì‘ë˜ì§€ ì•Šê³ , Multiplexing(ë‹¤ì¤‘í™”)ìœ¼ë¡œ í›¨ì”¬ ì ì€ OS ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•œë‹¤. ë©”ëª¨ë¦¬ ì¸¡ë©´ì—ì„œë„ OSì“°ë ˆë“œê°€ 1MB ìŠ¤íƒì„ ê°–ëŠ” ë°˜ë©´, ê³ ë£¨í‹´ì€ ì´ë³´ë‹¤ í›¨ì”¬ ì‘ì€ ëª‡ KB ìŠ¤íƒì„ ê°–ëŠ”ë‹¤(í•„ìš”ì‹œ ë™ì ìœ¼ë¡œ ì¦ê°€í•¨). Go ëŸ°íƒ€ì„ì€ Goë£¨í‹´ì„ ê´€ë¦¬í•˜ë©´ì„œ Go ì±„ë„ì„ í†µí•´ Go ë£¨í‹´ê°„ì˜ í†µì‹ ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func say(s string) { for i := 0; i \u0026lt; 10; i++ { fmt.Println(s, \u0026#34;***\u0026#34;, i) } } func main() { // í•¨ìˆ˜ë¥¼ ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ say(\u0026#34;Sync\u0026#34;) // í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ go say(\u0026#34;Async1\u0026#34;) go say(\u0026#34;Async2\u0026#34;) go say(\u0026#34;Async3\u0026#34;) // 3ì´ˆ ëŒ€ê¸° time.Sleep(time.Second * 3) } main í•¨ìˆ˜ë¥¼ ë³´ë©´, ë¨¼ì € say() í•¨ìˆ˜ë¥¼ ë™ê¸°ì ìœ¼ë¡œ í˜¸ì¶œí•˜ê³ , ë‹¤ìŒìœ¼ë¡œ ë™ì¼í•œ say() í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ 3ë²ˆ í˜¸ì¶œí•˜ê³  ìˆë‹¤. ì²«ë²ˆì§¸ ë™ê¸°ì  í˜¸ì¶œì€ say() í•¨ìˆ˜ê°€ ì™„ì „íˆ ëë‚¬ì„ ë•Œ ë‹¤ìŒ ë¬¸ì¥ìœ¼ë¡œ ì´ë™í•˜ê³ , ë‹¤ìŒ 3ê°œì˜ go say() ë¹„ë™ê¸° í˜¸ì¶œì€ ë³„ë„ ê³ ë£¨í‹´ë“¤ì—ì„œ ë™ì‘í•˜ë©´ì„œ, ë©”ì¸ë£¨í‹´ì€ ê³„ì† ë‹¤ìŒ ë¬¸ì¥ì„ ì‹¤í–‰í•œë‹¤. ê³ ë£¨í‹´ë“¤ì€ ë¹„ë™ê¸°ì´ë¯€ë¡œ ì²˜ë¦¬ ìˆœì„œê°€ ì¼ì •í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í”„ë¡œê·¸ë¨ ì‹¤í–‰ì‹œ ë§ˆë‹¤ ë‹¤ë¥¸ ì¶œë ¥ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 Sync *** 0 Sync *** 1 Sync *** 2 Sync *** 3 Sync *** 4 Sync *** 5 Sync *** 6 Sync *** 7 Sync *** 8 Sync *** 9 Async3 *** 0 Async3 *** 1 Async3 *** 2 Async3 *** 3 Async3 *** 4 Async3 *** 5 Async3 *** 6 Async3 *** 7 Async3 *** 8 Async3 *** 9 Async2 *** 0 Async2 *** 1 Async2 *** 2 Async2 *** 3 Async2 *** 4 Async1 *** 0 Async1 *** 1 Async1 *** 2 Async1 *** 3 Async1 *** 4 Async1 *** 5 Async1 *** 6 Async1 *** 7 Async1 *** 8 Async1 *** 9 Async2 *** 5 Async2 *** 6 Async2 *** 7 Async2 *** 8 Async2 *** 9 ìµëª…í•¨ìˆ˜ Goë£¨í‹´ ê³ ë£¨í‹´ì€ ìµëª…í•¨ìˆ˜ì— ëŒ€í•´ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. ì¦‰, go í‚¤ì›Œë“œ ë’¤ì— ìµëª…í•¨ìˆ˜ë¥¼ ë°”ë¡œ ì •ì˜í•˜ëŠ” ê²ƒìœ¼ë¡œ, ìµëª…í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; ) func main() { // WaitGroup ìƒì„±. 2ê°œì˜ Goë£¨í‹´ì„ ê¸°ë‹¤ë¦¼. var wait sync.WaitGroup wait.Add(2) // ìµëª…í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œ goroutine go func() { defer wait.Done() //ëë‚˜ë©´ .Done() í˜¸ì¶œ fmt.Println(\u0026#34;Hello\u0026#34;) }() // ìµëª…í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„° ì „ë‹¬ go func(msg string) { defer wait.Done() //ëë‚˜ë©´ .Done() í˜¸ì¶œ fmt.Println(msg) }(\u0026#34;Hi\u0026#34;) wait.Wait() //Goë£¨í‹´ ëª¨ë‘ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸° } ì²«ë²ˆì§¸ ìµëª…í•¨ìˆ˜ëŠ” ê°„ë‹¨íˆ Helloë¥¼ ì¶œë ¥í•˜ëŠ”ë°, ì´ë¥¼ ê³ ë£¨í‹´ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ê·¸ ìµëª…í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤. ë‘ë²ˆì§¸ ìµëª…í•¨ìˆ˜ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ì˜ˆì œë¡œ ìµëª…í•¨ìˆ˜ì— íŒŒë¼ë¯¸í„°ê°€ ìˆëŠ” ê²½ìš°, go ìµëª…í•¨ìˆ˜ ë°”ë¡œ ë’¤ì— íŒŒë¼ë¯¸í„°ë¥¼ í•¨ê»˜ ì „ë‹¬í•˜ê²Œ ëœë‹¤.\nì—¬ê¸°ì„œ sync.WaitGroupì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, ì´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì—¬ëŸ¬ ê³ ë£¨í‹´ë“¤ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ì—­í• ì„ í•œë‹¤. WaitGroupì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € Add() ë©”ì†Œë“œì— ëª‡ ê°œì˜ Goë£¨í‹´ì„ ê¸°ë‹¤ë¦´ ê²ƒì¸ì§€ ì§€ì •í•˜ê³ , ê° ê³ ë£¨í‹´ì—ì„œ Done() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.(ì—¬ê¸°ì„œëŠ” defer ì‚¬ìš©)\nê·¸ë¦¬ê³  ë©”ì¸ë£¨í‹´ì—ì„œëŠ” Wait() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬, Goë£¨í‹´ë“¤ì´ ëª¨ë‘ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤.\në‹¤ì¤‘ CPU ì²˜ë¦¬ goëŠ” ë””í´íŠ¸ë¡œ CPU 1ê°œë¥¼ ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ ê°œ ê³ ë£¨í‹´ì„ ë§Œë“¤ë”ë¼ë„, CPU 1ê°œì—ì„œ ì‘ì—…ì„ ì‹œë¶„í• í•˜ì—¬ ì²˜ë¦¬í•œë‹¤. ë§Œì•½ ë¨¸ì‹ ì´ CPU ì—¬ëŸ¬ê°œë¥¼ ê°€ì§„ ê²½ìš°, Go í”„ë¡œê·¸ë¨ì„ ë‹¤ì¤‘ CPUì—ì„œ ë³‘ë ¬ì²˜ë¦¬(Perallel)í•˜ê²Œ í•  ìˆ˜ ìˆëŠ”ë°, ë³‘ë ¬ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ runtime.GOMAXPROCS(CPUìˆ˜) í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ì•¼ í•œë‹¤.\nCPU ìˆ˜ëŠ” Logical CPU ìˆ˜ë¥¼ ê°€ë¦¬í‚¨ë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 package main import ( \u0026#34;runtime\u0026#34; ) func main() { // 4ê°œì˜ CPU ì‚¬ìš© runtime.GOMAXPROCS(4) //... } ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±ì€ ë¹„ìŠ·í•˜ê²Œ ë“¤ë¦¬ì§€ë§Œ ì „í˜€ ë‹¤ë¥¸ ê°œë…ì´ë‹¤.\n","date":"2023-04-20T13:28:40+09:00","image":"https://codemario318.github.io/post/go_12/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_12/","title":"Golang: 12. Go ë£¨í‹´"},{"content":"ì§€ì—°ì‹¤í–‰ defer Go ì–¸ì–´ì˜ defer í‚¤ì›Œë“œëŠ” íŠ¹ì • ë¬¸ì¥ í˜¹ì€ í•¨ìˆ˜ë¥¼ ë‚˜ì¤‘ì— (deferë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ì§ì „ì—) ì‹¤í–‰ëœë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ deferëŠ” C#, Java ê°™ì€ ì–¸ì–´ì—ì„œ finally ë¸”ëŸ­ì²˜ëŸ¼ ë§ˆì§€ë§‰ì— Clena-up ì‘ì—…ì„ ìœ„í•´ ì‚¬ìš©ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import \u0026#34;os\u0026#34; func main() { f, err := os.Open(\u0026#34;1.txt\u0026#34;) if err != nil { panic(err) } // main ë§ˆì§€ë§‰ì— íŒŒì¼ close ì‹¤í–‰ defer f.Close() // íŒŒì¼ ì½ê¸° bytes := make([]byte, 1024) f.Read(bytes) println(len(bytes)) } íŒŒì¼ì„ Open í•œ í›„ ë°”ë¡œ íŒŒì¼ì„ Closeí•˜ëŠ” ì‘ì—…ì„ deferë¡œ ì“°ê³  ìˆë‹¤. ì´ëŠ” ì°¨í›„ ë¬¸ì¥ì—ì„œ ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí•˜ë”ë¼ë„ í•­ìƒ íŒŒì¼ì„ Closeí•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. panic í•¨ìˆ˜ Go ë‚´ì¥í•¨ìˆ˜ì¸ panic()í•¨ìˆ˜ëŠ” í˜„ì¬ í•¨ìˆ˜ë¥¼ ì¦‰ì‹œ ë©ˆì¶”ê³  í˜„ì¬ í•¨ìˆ˜ì— defer í•¨ìˆ˜ë“¤ì„ ëª¨ë‘ ì‹¤í–‰í•œ í›„ ì¦‰ì‹œ ë¦¬í„´í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package main import \u0026#34;os\u0026#34; func main() { // ì˜ëª»ëœ íŒŒì¼ëª…ì„ ë„£ìŒ openFile(\u0026#34;Invalid.txt\u0026#34;) // openFile() ì•ˆì—ì„œ panicì´ ì‹¤í–‰ë˜ë©´ // ì•„ë˜ println ë¬¸ì¥ì€ ì‹¤í–‰ ì•ˆë¨ println(\u0026#34;Done\u0026#34;) } func openFile(fn string) { f, err := os.Open(fn) if err != nil { panic(err) } defer f.Close() } ì´ëŸ¬í•œ panic ëª¨ë“œ ì‹¤í–‰ ë°©ì‹ì€ ë‹¤ì‹œ ìƒìœ„í•¨ìˆ˜ì—ë„ ë˜‘ê°™ì´ ì ìš©ë˜ê³ , ê³„ì† ì½œìŠ¤íƒì„ íƒ€ê³  ì˜¬ë¼ê°€ë©° ì ìš©ëœë‹¤. ë§ˆì§€ë§‰ì—ëŠ” í”„ë¡œê·¸ë¨ì´ ì—ëŸ¬ë¥¼ ë‚´ê³  ì¢…ë£Œí•˜ê²Œ ëœë‹¤. recover í•¨ìˆ˜ Go ë‚´ì¥í•©ìˆ˜ì¸ recover() í•¨ìˆ˜ëŠ” panic í•¨ìˆ˜ì— ì˜í•œ íŒ¨ë‹‰ìƒíƒœë¥¼ ë‹¤ì‹œ ì •ìƒìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” í•¨ìˆ˜ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;os\u0026#34; ) func main() { // ì˜ëª»ëœ íŒŒì¼ëª…ì„ ë„£ìŒ openFile(\u0026#34;Invalid.txt\u0026#34;) // recoverì— ì˜í•´ // ì´ ë¬¸ì¥ ì‹¤í–‰ë¨ println(\u0026#34;Done\u0026#34;) } func openFile(fn string) { // defer í•¨ìˆ˜. panic í˜¸ì¶œì‹œ ì‹¤í–‰ë¨ defer func() { if r := recover(); r != nil { fmt.Println(\u0026#34;OPEN ERROR\u0026#34;, r) } }() f, err := os.Open(fn) if err != nil { panic(err) } defer f.Close() } recover í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ panic ìƒíƒœë¥¼ ì œê±°í•˜ê³  openFile() ë‹¤ìŒ ë¬¸ì¥ì¸ println()ì„ í˜¸ì¶œí•˜ê²Œ ëœë‹¤. ","date":"2023-04-20T13:26:40+09:00","image":"https://codemario318.github.io/post/go_11/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_11/","title":"Golang: 11. deferì™€ panic"},{"content":"GoëŠ” ë‚´ì¥ íƒ€ì…ìœ¼ë¡œ error ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ì„ ê°–ëŠ”ë‹¤. Go ì—ëŸ¬ëŠ” ì´ error ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ì„œ ì£¼ê³  ë°›ê²Œ ë˜ëŠ”ë°, ë©”ì„œë“œ í•˜ë‚˜ë¥¼ ê°–ëŠ”ë‹¤.\n1 2 3 type error interface { Error() string } ê°œë°œìëŠ” error ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì»¤ìŠ¤í…€ ì—ëŸ¬ íƒ€ì…ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nGo ì—ëŸ¬ì²˜ë¦¬ Go í•¨ìˆ˜ê°€ ê²°ê³¼ì™€ ì—ëŸ¬ë¥¼ í•¨ê»˜ ë°˜í™˜í•œë‹¤ë©´, ì´ ì—ëŸ¬ê°€ nil ì¸ì§€ ì²´í¬í•˜ì—¬ ì—ëŸ¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì˜ˆë¥¼ë“¤ì–´ os.Open() í•¨ìˆ˜ëŠ” func Open(name string) (file *File, err error) ê³¼ ê°™ì€ í•¨ìˆ˜ ì›í˜•ì„ ê°–ëŠ”ë°, File í¬ì¸í„°ì™€ error ì¸í„°í˜ì´ìŠ¤ë¥¼ í•¨ê»˜ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main import ( \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; ) func main() { f, err := os.Open(\u0026#34;C:\\\\temp\\\\1.txt\u0026#34;) if err != nil { log.Fatal(err.Error()) } println(f.Name()) } ê·¸ë˜ì„œ ë°˜í™˜ëœ ë‘ë²ˆì§¸ errorì„ ì²´í¬í•˜ì—¬ nil ì´ë©´ ì—ëŸ¬ê°€ ì—†ëŠ” ê²ƒì´ê³ , ì•„ë‹ˆë¼ë©´ err.Error()ë¡œ ë¶€í„° í•´ë‹¹ ì—ëŸ¬ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.\nlog.Fatal()ì€ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  os.Exit(1)ì„ í˜¸ì¶œí•˜ì—¬ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤. error Typeì„ ì´ìš©í•œ ì—ëŸ¬ì²˜ë¦¬ ë˜ ë‹¤ë¥¸ ì—ëŸ¬ì²˜ë¦¬ë¡œ errorì˜ Typeì„ ì²´í¬í•˜ì—¬ ì—ëŸ¬ íƒ€ì…ë³„ë¡œ ë³„ë„ì˜ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ë°©ì‹ì´ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 _, err := otherFunc() switch err.(type) { default: // no error println(\u0026#34;ok\u0026#34;) case MyError: log.Print(\u0026#34;Log my error\u0026#34;) case error: log.Fatal(err.Error()) } ì˜ˆì œì—ì„œ otherFunc()ë¥¼ í˜¸ì¶œí•œ í›„ ë°˜í™˜ëœ errorì˜ íƒ€ì…ì„ í†µí•´ ì—¬ëŸ¬ ìœ í˜•ì˜ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\nëª¨ë“  ì—ëŸ¬ëŠ” error ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë¯€ë¡œ ë§ˆì§€ë§‰ caseë¬¸ì€ ëª¨ë“  ì—ëŸ¬ì— ì ìš©ëœë‹¤. ","date":"2023-04-20T13:25:40+09:00","image":"https://codemario318.github.io/post/go_10/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_10/","title":"Golang: 10. ì—ëŸ¬"},{"content":"êµ¬ì¡°ì²´ê°€ í•„ë“œë“¤ì˜ ì§‘í•©ì²´ë¼ë©´, interfaceëŠ” ë©”ì„œë“œë“¤ì˜ ì§‘í•©ì²´ì´ë‹¤.\nì¸í„°í˜ì´ìŠ¤ëŠ” íƒ€ì…(type)ì´ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì„œë“œ ì›í˜•(prototype)ë“¤ì„ ì •ì˜í•œë‹¤. ì–´ë– í•œ ì‚¬ìš©ì ì •ì˜ íƒ€ì…ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ ì„ ì–¸í•œ ì¸í„°í˜ì´ìŠ¤ê°€ ê°–ëŠ” ëª¨ë“  ë©”ì„œë“œë“¤ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.\n1 2 3 4 type Shape interface { area() float64 perimeter() float64 } ì¸í„°í˜ì´ìŠ¤ëŠ” êµ¬ì¡°ì²´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ typeë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•œë‹¤.\nì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 //Rect ì •ì˜ type Rect struct { width, height float64 } //Circle ì •ì˜ type Circle struct { radius float64 } //Rect íƒ€ì…ì— ëŒ€í•œ Shape ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ func (r Rect) area() float64 { return r.width * r.height } func (r Rect) perimeter() float64 { return 2 * (r.width + r.height) } //Circle íƒ€ì…ì— ëŒ€í•œ Shape ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ func (c Circle) area() float64 { return math.Pi * c.radius * c.radius } func (c Circle) perimeter() float64 { return 2 * math.Pi * c.radius } Shape ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” area(), perimeter() 2ê°œ ë©”ì„œë“œë§Œ êµ¬í˜„í•˜ë©´ ëœë‹¤.\nì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¼ë°˜ì ì¸ ì˜ˆë¡œ í•¨ìˆ˜ê°€ íŒŒë¼ë¯¸í„°ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.\ní•¨ìˆ˜ íŒŒë¼ë¯¸í„°ê°€ ì¸í„°í˜ì´ìŠ¤ì¸ ê²½ìš°, ì–´ë–¤ íƒ€ì…ì´ë“  í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸°ë§Œ í•˜ë©´ ëª¨ë‘ ì…ë ¥ íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 func main() { r := Rect{10., 20.} c := Circle{10} showArea(r, c) } func showArea(shapes ...Shape) { for _, s := range shapes { a := s.area() //ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ í˜¸ì¶œ p := s.perimeter() println(a, p) } } Rect êµ¬ì¡°ì²´ì™€ Circle êµ¬ì¡°ì²´ëŠ” Shape ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì„ ì–¸í•œ area, perimeter ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê³  ìˆê¸° ë•Œë¬¸ì— Shape ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†í–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ showAreaì—ì„œ Shape ì¸í„°í˜ì´ìŠ¤ íŒŒë¼ë¯¸í„° ì…ë ¥ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.\nì¸í„°í˜ì´ìŠ¤ íƒ€ì… Go í”„ë¡œê·¸ë˜ë°ì„ í•˜ë‹¤ë³´ë©´ í”íˆ ë¹ˆ ì¸í„°í˜ì´ìŠ¤(empty interface)ë¥¼ ìì£¼ ì ‘í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ì¸í„°í˜ì´ìŠ¤ íƒ€ì…(interface type)ìœ¼ë¡œ ë¶ˆë¦°ë‹¤.\nì—¬ëŸ¬ í‘œì¤€íŒ¨í‚¤ì§€ë“¤ì˜ í•¨ìˆ˜ Prototypeì„ ì‚´í´ë³´ë©´, ë¹ˆ ì¸í„°í˜ì´ìŠ¤ê°€ ìì£¼ ë“±ì¥í•œë‹¤.\në¹ˆ ì¸í„°í˜ì´ìŠ¤ëŠ” interface{} ë¡œ í‘œí˜„í•œë‹¤. 1 2 3 func Marshal(v interface{}) ([]byte, error); func Println(a ...interface{}) (n int, err error); ë¹ˆ ì¸í„°í˜ì´ìŠ¤ëŠ” ë©”ì„œë“œë¥¼ ì „í˜€ ê°–ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.\nGoì˜ ëª¨ë“  Typeì€ ì ì–´ë„ 0ê°œì˜ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ë¯€ë¡œ, Goì—ì„œ ëª¨ë“  Typeì„ ì˜ë¯¸í•œë‹¤.\nì¦‰, ë¹ˆ ì¸í„°í˜ì´ìŠ¤ëŠ” ì–´ë– í•œ íƒ€ì…ë„ ë‹´ì„ ìˆ˜ ìˆëŠ” ì»¨í…Œì´ë„ˆë¡œ ë³¼ ìˆ˜ ìˆê³ , ì—¬ëŸ¬ ë‹¤ë¥¸ ì–¸ì–´ì—ì„œ í”íˆ ì¼ì»«ëŠ” Dynamin Typeìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (C#, java â‡’ object, C,C++ â‡’ void*)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package main import \u0026#34;fmt\u0026#34; func main() { var x interface{} x = 1 x = \u0026#34;Tom\u0026#34; printIt(x) } func printIt(v interface{}) { fmt.Println(v) //Tom } Type Assertion ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ì˜ xì™€ íƒ€ì… Tì— ëŒ€í•˜ì—¬ x.(T)ë¡œ í‘œí˜„í–ˆì„ ë•Œ, ì´ëŠ” xê°€ nilì´ ì•„ë‹ˆë©°, xëŠ” T íƒ€ì…ì— ì†í•œë‹¤ëŠ” ê²ƒì„ í™•ì¸í•œë‹¤. ì´ëŸ¬í•œ í‘œí˜„ë°©ì‹ì„ Type Assertion ì´ë¼ê³  ë¶€ë¥¸ë‹¤.\në§Œì•½ xê°€ nil ì´ê±°ë‚˜ xì˜ íƒ€ì…ì´ Tê°€ ì•„ë‹ˆë¼ë©´, ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•˜ê³ , xê°€ T íƒ€ì…ì¸ê²½ìš°ëŠ” T íƒ€ì… xë¥¼ ë°˜í™˜í•œë‹¤.\n","date":"2023-04-20T13:08:40+09:00","image":"https://codemario318.github.io/post/go_9/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_9/","title":"Golang: 9. ì¸í„°í˜ì´ìŠ¤"},{"content":"Go ì–¸ì–´ëŠ” OOPë¥¼ êµ¬ì¡°ì²´ì™€ ë©”ì„œë“œë¥¼ ì´ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§€ì›í•œë‹¤.\në‹¤ë¥¸ ì–¸ì–´ë“¤ì´ í´ë˜ìŠ¤ê°€ ë‚´ë¶€ì— ë°ì´í„°ì™€ ë©”ì„œë“œë¥¼ í•¨ê»˜ ê°–ëŠ” ê²ƒê³¼ ë‹¬ë¦¬ Go ì–¸ì–´ì—ì„œëŠ” êµ¬ì¡°ì²´ê°€ ë°ì´í„°ë§Œì„ ê°€ì§€ê³ , ë©”ì„œë“œëŠ” ë³„ë„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì •ì˜í•œë‹¤.\nGo ë©”ì„œë“œëŠ” íŠ¹ë³„í•œ í˜•íƒœì˜ í•¨ìˆ˜ì´ë‹¤. ë©”ì„œë“œëŠ” í•¨ìˆ˜ ì •ì˜ì—ì„œ func í‚¤ì›Œë“œì™€ í•¨ìˆ˜ëª… ì‚¬ì´ì— â€œê·¸ í•¨ìˆ˜ê°€ ì–´ë–¤ êµ¬ì¡°ì²´ë¥¼ ìœ„í•œ ë©”ì„œë“œì¸ì§€â€ í‘œì‹œí•œë‹¤.\nreceiverë¡œ ë¶€ë¥´ë©° ë©”ì„œë“œê°€ ì†í•œ êµ¬ì¡°ì²´ íƒ€ì…ê³¼ ë³€ìˆ˜ëª…ì„ ì§€ì •í•˜ëŠ”ë°, êµ¬ì¡°ì²´ ë³€ìˆ˜ëª…ì€ í•¨ìˆ˜ ë‚´ì—ì„œ ì…ë ¥ íŒŒë¼ë¯¸í„°ì²˜ëŸ¼ ì‚¬ìš©ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main //Rect - struct ì •ì˜ type Rect struct { width, height int } //Rectì˜ area() ë©”ì†Œë“œ func (r Rect) area() int { return r.width * r.height } func main() { rect := Rect{10, 20} area := rect.area() //ë©”ì„œë“œ í˜¸ì¶œ println(area) } areaëŠ” Rectì˜ ë©”ì†Œë“œë¡œ ì„ ì–¸ ë˜ì–´ ë©”ì„œë“œë¥¼ ì…ë ¥ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n(value VS í¬ì¸í„°) receiver Value receiver value receiverëŠ” êµ¬ì¡°ì²´ì˜ ë°ì´í„°ë¥¼ ë³µì‚¬í•˜ì—¬ ì „ë‹¬í•œë‹¤. value receiverëŠ” ë©”ì„œë“œ ë‚´ì˜ í•„ë“œê°’ ë³€ê²½ë˜ë”ë¼ë„ ì‹¤ì œ ë°ì´í„°ëŠ” ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤.\n1 2 3 4 5 6 7 8 9 10 func (r Rect) area2() int { r.width++ return r.width * r.height } func main() { rect := Rect{10, 20} area := rect.area2() //ë©”ì„œë“œ í˜¸ì¶œ println(rect.width, area) // 10 220 ì¶œë ¥ } í¬ì¸í„° ë¦¬ì‹œë²„ í¬ì¸í„° ë¦¬ì‹œë²„ëŠ” êµ¬ì¡°ì²´ì˜ í¬ì¸í„°ë¥¼ ì „ë‹¬í•œë‹¤. ë©”ì„œë“œ ë‚´ì˜ í•„ë“œê°’ ë³€ê²½ì´ ê·¸ëŒ€ë¡œ í˜¸ì¶œìì—ì„œ ë°˜ì˜ëœë‹¤.\n","date":"2023-04-20T12:34:40+09:00","image":"https://codemario318.github.io/post/go_8/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_8/","title":"Golang: 8. ë©”ì„œë“œ"},{"content":"Go ì–¸ì–´ëŠ” ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì„ ê³ ìœ ì˜ ë°©ì‹ìœ¼ë¡œ ì§€ì›í•œë‹¤.\ní´ë˜ìŠ¤, ê°ì²´, ìƒì† ê°œë…ì´ ì—†ë‹¤. ì „í†µì ì¸ OOPì˜ í´ë˜ìŠ¤ëŠ” Go ì–¸ì–´ì—ì„œ Custom Typeì„ ì •ì˜í•˜ëŠ” struct(êµ¬ì¡°ì²´)ë¡œ í‘œí˜„í•œë‹¤.\nStruct Goì—ì„œ structëŠ” Custom Data Typeì„ í‘œí˜„í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤(C ì²˜ëŸ¼)\ní•„ë“œë“¤ì˜ ì§‘í•©ì²´ì´ë©° í•„ë“œë“¤ì˜ ì»¨í…Œì´ë„ˆì´ë‹¤. structëŠ” í•„ë“œ ë°ì´í„°ë§Œì„ ê°€ì§€ë©°(ìë£Œ êµ¬ì¡° ì—­í• ), ë©”ì„œë“œëŠ” í‘œí˜„í•˜ì§€ ì•ŠëŠ”ë‹¤. ë©”ì„œë“œëŠ” ë³„ë„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì •ì˜í•œë‹¤.\nStruct ì„ ì–¸ êµ¬ì¡°ì²´ë¥¼ ì •ì˜í•˜ê¸° ìœ„í•´ì„œ Custom Typeì„ ì •ì˜í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” type ë¬¸ì„ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import \u0026#34;fmt\u0026#34; // struct ì •ì˜ type person struct { name string age int } func main() { // person ê°ì²´ ìƒì„± p := person{} // í•„ë“œê°’ ì„¤ì • p.name = \u0026#34;Lee\u0026#34; p.age = 10 fmt.Println(p) } person êµ¬ì¡°ì²´ë¥¼ íŒ¨í‚¤ì§€ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ë ¤ë©´ structëª…ì„ Personìœ¼ë¡œ ë³€ê²½í•˜ë©´ ëœë‹¤.\nstruct ê°ì²´ ìƒì„± ì„ ì–¸ëœ struct íƒ€ì…ìœ¼ë¡œë¶€í„° ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ ëª‡ ê°€ì§€ ë°©ë²•ë“¤ì´ ìˆë‹¤.\në¹ˆ ê°ì²´ë¥¼ ë¨¼ì € í• ë‹¹í•˜ê³ , ë‚˜ì¤‘ì— ê·¸ í•„ë“œê°’ì„ ì±„ì›Œë„£ëŠ” ë°©ë²•\n1 2 3 4 p := person{} p.name = \u0026#34;Lee\u0026#34; p.age = 10 ì´ˆê¸°ê°’ì„ í•¨ê»˜ í• ë‹¹í•˜ëŠ” ë°©ë²•\n1 2 3 var p1 person p1 = person{\u0026#34;Bob\u0026#34;, 20} p2 := person{name: \u0026#34;Sean\u0026#34;, age: 50} ì´ˆê¸°í™”ê°€ ìƒëµëœ í•„ë“œë“¤ì€ Zero value (ì •ìˆ˜ì¸ ê²½ìš° 0, floatì¸ ê²½ìš° 0.0, stringì¸ ê²½ìš° \u0026ldquo;\u0026rdquo;, í¬ì¸í„°ì¸ ê²½ìš° nil ë“±)ë¥¼ ê°–ëŠ”ë‹¤.\nnew ë‚´ì¥í•¨ìˆ˜ ì‚¬ìš©\n1 2 p := new(person) p.name = \u0026#34;Lee\u0026#34; // pê°€ í¬ì¸í„°ë¼ë„ . ì„ ì‚¬ìš©í•œë‹¤ new()ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  í•„ë“œë¥¼ Zero valueë¡œ ì´ˆê¸°í™”í•˜ê³  person ê°ì²´ì˜ í¬ì¸í„°ë¥¼ ë°˜í™˜í•œë‹¤.\nê°ì²´ í¬ì¸í„°ì¸ ê²½ìš°ì—ë„ í•„ë“œ ì—‘ì„¸ìŠ¤ì‹œ . ì„ ì‚¬ìš©í•˜ëŠ”ë° ì´ ë•Œ í¬ì¸í„°ëŠ” ìë™ìœ¼ë¡œ ì—­ì°¸ì¡°ëœë‹¤. (cì—ì„œ â†’ ê³¼ ë™ì¼í•œ ë™ì‘)\nGoì—ì„œ structëŠ” ê¸°ë³¸ì ìœ¼ë¡œ mutable ê°œì²´ë¡œì„œ í•„ë“œê°’ì´ ë³€í™”í•  ê²½ìš° í•´ë‹¹ ê°œì²´ ë©”ëª¨ë¦¬ì—ì„œ ì§ì ‘ ë³€ê²½ëœë‹¤. í•˜ì§€ë§Œ struct ê°œì²´ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸°ë©´, Pass by Valueì— ë”°ë¼ ê°ì²´ë¥¼ ë³µì‚¬í•´ì„œ ì „ë‹¬í•œë‹¤. ë”°ë¼ì„œ struct ê°œì²´ì˜ ê°’ì„ ë³€ê²½í•˜ë ¤ë©´ í¬ì¸í„°ë¥¼ ì „ë‹¬í•´ì•¼ í•œë‹¤.\nìƒì„±ì í•¨ìˆ˜ êµ¬ì¡°ì²´ í•„ë“œê°€ ì‚¬ìš© ì „ì— ì´ˆê¸°í™”ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ struct í•„ë“œê°€ map íƒ€ì…ì¸ ê²½ìš° êµ¬ì¡°ì²´ í• ë‹¹ í›„ mapì„ ë‹¤ì‹œ í• ë‹¹ë°›ê³  ì´ˆê¸°í™” í•´ì•¼í•œë‹¤.\nì´ëŸ´ ë•Œ mapì„ ì‚¬ì „ì— ë¯¸ë¦¬ ì´ˆê¸°í™” í•˜ë©´, ì™¸ë¶€ì—ì„œ êµ¬ì¡°ì²´ë¥¼ ì‚¬ìš©í•  ë•Œ ë³„ë„ë¡œ ì´ˆê¸°í™”í•˜ëŠ” ë²ˆê±°ë¡œì›€ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main type dict struct { data map[int]string } //ìƒì„±ì í•¨ìˆ˜ ì •ì˜ func newDict() *dict { d := dict{} d.data = map[int]string{} return \u0026amp;d //í¬ì¸í„° ì „ë‹¬ } func main() { dic := newDict() // ìƒì„±ì í˜¸ì¶œ dic.data[1] = \u0026#34;A\u0026#34; } ìƒì„±ì í•¨ìˆ˜ì¸ newDict()ëŠ” dictë¼ëŠ” êµ¬ì¡°ì²´ì˜ map í•„ë“œë¥¼ ì´ˆê¸°í™”í•œ í›„ êµ¬ì¡°ì²´ í¬ì¸í„°ë¥¼ ë°˜í˜¸ë‚˜í•œë‹¤. main í•¨ìˆ˜ì—ì„œ êµ¬ì¡°ì²´ ê°œì²´ë¥¼ ë§Œë“¤ ë•Œ dictë¥¼ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³  ëŒ€ì‹  ìƒì„±ì í•¨ìˆ˜ë¥¼ í†µí•´ ì´ë¯¸ ì´ˆê¸°í™˜ ëœ data ë§µ í•„ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-20T12:30:40+09:00","image":"https://codemario318.github.io/post/go_7/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_7/","title":"Golang: 7. êµ¬ì¡°ì²´"},{"content":"GoëŠ” íŒ¨í‚¤ì§€ë¥¼ í†µí•´ ëª¨ë“ˆí™”, ì¬ì‚¬ìš© ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ì€ ë‹¨ìœ„ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‘ì„±í•˜ê³ , ì´ëŸ¬í•œ ì‘ì€ íŒ¨í‚¤ì§€ë“¤ì„ í™œìš©í•´ì„œ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.\nGoëŠ” ì‹¤ì œ í”„ë¡œê·¸ë¨ ê°œë°œì— í•„ìš”í•œ ë§ìŒ íŒ¨í‚¤ì§€ë“¤ì„ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì œê³µí•œë‹¤. ì´ëŸ¬í•œ í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒ¨í‚¤ì§€ë“¤ì„ GOROOT/pkg ì•ˆì— ì¡´ì¬í•œë‹¤. GOROOT í™˜ê²½ë³€ìˆ˜ëŠ” Go ì„¤ì¹˜ ë””ë ‰í† ë¦¬ë¥¼ ê°€ë¥´í‚¤ëŠ”ë°, ë³´í†µ Go ì„¤ì¹˜ì‹œ ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤.\nGoì— ì‚¬ìš©í•˜ëŠ” í‘œì¤€ íŒ¨í‚¤ì§€ë“¤ì€ https://golang.org/pkg ì— ìì„¸íˆ ì„¤ëª…ë˜ì–´ ìˆë‹¤.\nMain íŒ¨í‚¤ì§€ ì¼ë°˜ì ìœ¼ë¡œ íŒ¨í‚¤ì§€ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œì„œ ì‚¬ìš©ë˜ì§€ë§Œ, mainì´ë¼ê³  ëª…ëª…ëœ íŒ¨í‚¤ì§€ëŠ” Go Compilerì— ì˜í•´ íŠ¹ë³„í•˜ê²Œ ì¸ì‹ëœë‹¤. íŒ¨í‚¤ì§€ëª…ì´ mainì¸ ê²½ìš°, ì»´íŒŒì¼ëŸ¬ëŠ” í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì•„ë‹Œ ì‹¤í–‰ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë§Œë“ ë‹¤. ê·¸ë¦¬ê³  ì´ main íŒ¨í‚¤ì§€ ì•ˆì˜ main() í•¨ìˆ˜ê°€ í”„ë¡œê·¸ë¨ì˜ ì‹œì‘ì , ì¦‰ Entry Pointê°€ ëœë‹¤. íŒ¨í‚¤ì§€ë¥¼ ê³µìœ  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë§Œë“¤ ë•Œì—ëŠ”, mainíŒ¨í‚¤ì§€ë‚˜ main í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì•ˆëœë‹¤.\níŒ¨í‚¤ì§€ Import ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë¥¼ í”„ë¡œê·¸ë¨ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” import í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ í¬í•¨ì‹œí‚¨ë‹¤.\nì˜ˆë¥¼ ë“¤ì–´ Go í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ fmt íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ import â€œfmtâ€ì™€ ê°™ì´ í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ í¬í•¨ì‹œí‚¬ ê²ƒì„ ì„ ì–¸í•´ ì¤€ë‹¤.\n1 2 3 4 5 6 7 package main import \u0026#34;fmt\u0026#34; func main(){ fmt.Println(\u0026#34;Hello\u0026#34;) } íŒ¨í‚¤ì§€ë¥¼ import í•  ë•Œ, Go ì»´íŒŒì¼ëŸ¬ëŠ” GOROOT í˜¹ì€ GOPATH í™˜ê²½ ë³€ìˆ˜ë¥¼ ê²€ìƒ‰í•˜ëŠ”ë°, í‘œì¤€ íŒ¨í‚¤ì§€ëŠ” GOROOT/pkg ì—ì„œ ì‚¬ìš©ì íŒ¨í‚¤ì§€ë‚˜ 3rd party íŒ¨í‚¤ì§€ì˜ ê²½ìš° GOPATH/pkgì—ì„œ íŒ¨í‚¤ì§€ë¥¼ ì°¾ëŠ”ë‹¤.\nGOROOT í™˜ê²½ë³€ìˆ˜ëŠ” Go ì„¤ì¹˜ì‹œ ìë™ìœ¼ë¡œ ì‹œìŠ¤í…œì— ì„¤ì •ë˜ì§€ë§Œ, GOPATHëŠ” ì‚¬ìš©ìê°€ ì§€ì–´í•´ ì£¼ì–´ì•¼ í•œë‹¤. GOPATH í™˜ê²½ë³€ìˆ˜ëŠ” 3rd party íŒ¨í‚¤ì§€ë¥¼ ê°–ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë””ë ‰í† ë¦¬ë‚˜ ì‚¬ìš©ì íŒ¨í‚¤ì§€ê°€ ìˆëŠ” ì‘ì—… ë””ë ‰í† ë¦¬ë¥¼ ì§€ì •í•˜ê²Œ ë˜ëŠ”ë°, ë³µìˆ˜ ê°œì¼ ê²½ìš° ì„¸ë¯¸ì½œë¡ ì„ ì‚¬ìš©í•˜ì—¬ ì—°ê²°í•œë‹¤.\níŒ¨í‚¤ì§€ scope íŒ¨í‚¤ì§€ ë‚´ì—ëŠ” í•¨ìˆ˜, êµ¬ì¡°ì²´, ì¸í„°í˜ì´ìŠ¤, ë©”ì„œë“œ ë“±ì´ ì¡´ì¬í•˜ëŠ”ë°, ì´ë¦„ì˜ ì²« ë¬¸ìë¥¼ ëŒ€ë¬¸ìë¡œ ì‹œì‘í•˜ë©´ publicìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŒ¨í‚¤ì§€ ì™¸ë¶€ì—ì„œ ì´ë“¤ì„ í˜¸ì¶œí•˜ê±°ë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\në°˜ë©´ , ì´ë¦„ì´ ì†Œë¬¸ìë¡œ ì‹œì‘í•˜ë©´ ì´ëŠ” non-publicìœ¼ë¡œ íŒ¨í‚¤ì§€ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.\níŒ¨í‚¤ì§€ init í•¨ìˆ˜ì™€ alias ê°œë°œìê°€ íŒ¨í‚¤ì§€ë¥¼ ì‘ì„±í•  ë•Œ, íŒ¨í‚¤ì§€ ì‹¤í–‰ì‹œ ì²˜ìŒìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” init() í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. init í•¨ìˆ˜ëŠ” íŒ¨í‚¤ì§€ê°€ ë¡œë“œë˜ë©´ì„œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¡œ ë³„ë„ì˜ í˜¸ì¶œ ì—†ì´ ìë™ìœ¼ë¡œ í˜¸ì¶œëœë‹¤.\n1 2 3 4 5 6 7 package testlib var pop map[string]string func init() { // íŒ¨í‚¤ì§€ ë¡œë“œì‹œ map ì´ˆê¸°í™” pop = make(map[string]string) } íŒ¨í‚¤ì§€ë¥¼ import í•˜ë©´ì„œ ê·¸ íŒ¨í‚¤ì§€ ì•ˆì˜ init() ë§Œ í˜¸ì¶œí•˜ê¸¸ ì›í•œë‹¤ë©´, import ì‹œ _ ë¼ëŠ” aliasë¥¼ ì§€ì •í•œë‹¤.\n1 2 package main import _ \u0026#34;other/xlib\u0026#34; íŒ¨í‚¤ì§€ ì´ë¦„ì´ ë™ì¼í•˜ì§€ë§Œ, ì„œë¡œ ë‹¤ë¥¸ ë²„ì „ í˜¹ì€ ì„œë¡œ ë‹¤ë¥¸ ìœ„ì¹˜ì—ì„œ ë¡œë”©í•˜ê³ ì í•  ë•ŒëŠ” íŒ¨í‚¤ì§€ aliasë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 import ( mongo \u0026#34;other/mongo/db\u0026#34; mysql \u0026#34;other/mysql/db\u0026#34; ) func main() { mondb := mongo.Get() mydb := mysql.Get() //... } ì‚¬ìš©ì ì •ì˜ íŒ¨í‚¤ì§€ ìƒì„± ì‚¬ìš©ì ì •ì˜ íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ì–´ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ì ì •ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒ¨í‚¤ì§€ëŠ” ì¼ë°˜ì ìœ¼ë¡œ í´ë”ë¥¼ í•˜ë‚˜ ë§Œë“¤ê³  ê·¸ í´ë” ì•ˆì— .go íŒŒì¼ë“¤ì„ ë§Œë“¤ì–´ êµ¬ì„±í•œë‹¤.\ní•˜ë‚˜ì˜ ì„œë¸Œ í´ë”ì•ˆë° ìˆëŠ” .go íŒŒì¼ë“¤ì€ ë™ì¼í•œ íŒ¨í‚¤ì§€ëª…ì„ ê°€ì§€ë©°, íŒ¨í‚¤ì§€ëª…ì€ í•´ë‹¹ í´ë”ì˜ ì´ë¦„ê³¼ ê°™ê²Œ í•œë‹¤. í•´ë‹¹ í´ë”ì— ìˆëŠ” ì—¬ëŸ¬ .go íŒŒì¼ë“¤ì€ í•˜ë‚˜ì˜ íŒ¨í‚¤ì§€ë¡œ ë¬¶ì¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package testlib import \u0026#34;fmt\u0026#34; var pop map[string]string func init() { pop = make(map[string]string) pop[\u0026#34;Adele\u0026#34;] = \u0026#34;Hello\u0026#34; pop[\u0026#34;Alicia Keys\u0026#34;] = \u0026#34;Fallin\u0026#39;\u0026#34; pop[\u0026#34;John Legend\u0026#34;] = \u0026#34;All of Me\u0026#34; } // GetMusic : Popular music by singer (ì™¸ë¶€ì—ì„œ í˜¸ì¶œ ê°€ëŠ¥) func GetMusic(singer string) string { return pop[singer] } func getKeys() { // ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥ for _, kv := range pop { fmt.Println(kv) } } íŒ¨í‚¤ì§€ëª…ì€ í´ë”ëª…ê³¼ ë™ì¼í•˜ê²Œ ì •í•´ì•¼ í•œë‹¤. íŒ¨í‚¤ì§€ í´ë” ì•ˆì— ì—¬ëŸ¬ íŒŒì¼ë“¤ì´ ìˆì„ ê²½ìš°ì—ë„, ë™ì¼í•œê²Œ í´ë” ì´ë¦„ì„ íŒ¨í‚¤ì§€ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.\nğŸ’¡ ì‚¬ì´ì¦ˆê°€ í° ëª©ì¡í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°™ì€ ê²½ìš°, go install ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì»´íŒŒì¼ í•˜ì—¬ cache í•  ìˆ˜ ìˆëŠ”ë°, ë‹¤ìŒ ë¹Œë“œì‹œ ë¹Œë“œ íƒ€ì„ì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\n1 2 cd {{package_dir}} go install íŒ¨í‚¤ì§€ë¥¼ ì°¾ê¸° ìœ„í•´ GOROOTì™€ GOPATHë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, GOROOTì™€ GOPATHì— ìˆëŠ” ê° ë£¨íŠ¸í´ë”ì˜ í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ì°¾ê²Œ ëœë‹¤.\nGOPATHê°€ C:\\GoApp;C:\\GoSrcë¼ë©´ ì§€ì •ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ê¸° ìœ„í•´ í´ë”ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ê²Œ ëœë‹¤.\n1 2 3 C:\\Go\\src\\testlib (from $GOROOT) C:\\GoApp\\src\\testlib (from $GOPATH) C:\\GoSrc\\src\\testlib ","date":"2023-04-20T12:28:40+09:00","image":"https://codemario318.github.io/post/go_6/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_6/","title":"Golang: 6. íŒ¨í‚¤ì§€"},{"content":"ë°°ì—´ Array ë°°ì—´ì€ ì—°ì†ì ì¸ ë©”ëª¨ë¦¬ ê³µê°„ì— ë™ì¼í•œ íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤.\në°°ì—´ì˜ ì„ ì–¸ì€ var ë³€ìˆ˜ëª… [ë°°ì—´í¬ê¸°] ë°ì´í„°íƒ€ì… ê³¼ ê°™ì´ í•œë‹¤. Goì—ì„œ ë°°ì—´í¬ê¸°ëŠ” Typeì„ êµ¬ì„±í•˜ëŠ” í•œ ìš”ì†Œì´ë‹¤. ë”°ë¼ì„œ, [3]intì™€ [5]intëŠ” ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ì¸ì‹ëœë‹¤.\n1 2 3 4 5 6 7 8 9 package main func main() { var a [3]int //ì •ìˆ˜í˜• 3ê°œ ìš”ì†Œë¥¼ ê°–ëŠ” ë°°ì—´ a ì„ ì–¸ a[0] = 1 a[1] = 2 a[2] = 3 println(a[1]) // 2 ì¶œë ¥ } ë°°ì—´ ì´ˆê¸°í™” ë°°ì—´ì„ ì •ì˜í•  ë•Œ, ì´ˆê¸°ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ì´ˆê¸°ê°’ì€ [ë°°ì—´í¬ê¸°] ë°ì´í„°íƒ€ì… {ì´ˆê¸°ê°’0, ì´ˆê¸°ê°’1 ...} ë¡œ í• ë‹¹í•œë‹¤.\nì´ˆê¸°í™” ê³¼ì •ì—ì„œ [\u0026hellip;]ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ í¬ê¸°ë¥¼ ìƒëµí•˜ë©´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™” ìš”ì†Œ ê°œìˆ˜ë§Œí¼ ë°°ì—´ í¬ê¸°ê°€ ì •í•´ì§„ë‹¤.\n1 2 var a1 = [3]int{1, 2, 3} var a3 = [...]int{1, 2, 3} //ë°°ì—´í¬ê¸° ìë™ìœ¼ë¡œ ë‹¤ì°¨ì› ë°°ì—´ 1 2 var multiArray [3][4][5]int // ì •ì˜ multiArray[0][1][2] = 10 ë‹¤ì°¨ì› ë°°ì—´ ì´ˆê¸°í™” 1 2 3 4 5 6 7 func main() { var a = [2][3]int{ {1, 2, 3}, {4, 5, 6}, //ëì— ì½¤ë§ˆ ì¶”ê°€ } println(a[1][2]) } ìŠ¬ë¼ì´ìŠ¤ Slice Go ë°°ì—´ì€ ê³ ì •ëœ í¬ê¸° ì•ˆì— ë™ì¼í•œ íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì—°ì†ì ìœ¼ë¡œ ì €ì¥í•˜ì§€ë§Œ, ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ì¦ê°€ì‹œí‚¤ê±°ë‚˜ ë¶€ë¶„ ë°°ì—´ì„ ì¶”ì¶œí•˜ëŠ” ë“±ì˜ ê¸°ëŠ¥ì€ ì—†ë‹¤.\nGo ìŠ¬ë¼ì´ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë°°ì—´ì— ê¸°ì´ˆí•˜ì—¬ ë§Œë“¤ì–´ì¡Œì§€ë§Œ í¸ë¦¬í•˜ê³  ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•œë‹¤.\nê³ ì •ëœ í¬ê¸°ë¥¼ ì§€ì •í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŒ ë¶€ë¶„ ë°°ì—´ ì¶”ì¶œ ê°€ëŠ¥ ë“± Go ìŠ¬ë¼ì´ìŠ¤ ì„ ì–¸ì€ ë°°ì—´ì„ ì„ ì–¸í•˜ë“¯ì´ var v []T ì²˜ëŸ¼ í•˜ëŠ”ë° ë°°ì—´ê³¼ ë‹¬ë¦¬ í¬ê¸°ëŠ” ì§€ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.\n1 2 3 4 5 6 7 8 9 package main import \u0026#34;fmt\u0026#34; func main() { var a []int //ìŠ¬ë¼ì´ìŠ¤ ë³€ìˆ˜ ì„ ì–¸ a = []int{1, 2, 3} //ìŠ¬ë¼ì´ìŠ¤ì— ë¦¬í„°ëŸ´ê°’ ì§€ì • a[1] = 10 fmt.Println(a) // [1, 10, 3]ì¶œë ¥ } make() ìŠ¬ë¼ì´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ë‚´ì¥í•¨ìˆ˜ make()ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤.\nmakeí•¨ìˆ˜ë¡œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ìŠ¬ë¼ì´ìŠ¤ ê¸¸ì´(length), ìš©ëŸ‰(Capacity)ì„ ì„ì˜ë¡œ ì§€ì •í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.\n1 2 3 4 func main() { s := make([]int, 5, 10) println(len(s), cap(s)) // len 5, cap 10 } â†’ ìŠ¬ë¼ì´ìŠ¤ì˜ ê¸¸ì´ëŠ” len(), ìš©ëŸ‰ì€ cap()ì„ ì¨ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 func main() { var s []int if s == nil { println(\u0026#34;Nil Slice\u0026#34;) } println(len(s), cap(s)) // ëª¨ë‘ 0 } makeí•¨ìˆ˜ë¡œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ëª¨ë“  ìš”ì†Œê°€ Zero valueì¸ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤. ë˜í•œ ìŠ¬ë¼ì´ìŠ¤ì— ë³„ë„ì˜ ê¸¸ì´ì™€ ìš©ëŸ‰ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ê¸°ë³¸ì ìœ¼ë¡œ ê¸¸ì´ì™€ ìš©ëŸ‰ì´ 0ì¸ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“œëŠ”ë° ì´ë¥¼ Nill Slice ë¼ê³  í•˜ë©°, nil ê³¼ ë¹„êµí•˜ë©´ ì°¸ì„ ë°˜í™˜í•œë‹¤.\n#$# ë¶€ë¶„ ìŠ¬ë¼ì´ìŠ¤\nìŠ¬ë¼ì´ìŠ¤ì—ì„œ ì¼ë¶€ë¥¼ ë°œì·Œí•˜ì—¬ ë¶€ë¶„ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë¶€ë¶„ ìŠ¬ë¼ì´ìŠ¤ëŠ” ìŠ¬ë¼ì´ìŠ¤[ì‹œì‘ì¸ë±ìŠ¤:ë§ˆì§€ë§‰ì¸ë±ìŠ¤] í˜•ì‹ìœ¼ë¡œ ë§Œë“ ë‹¤.\nì‹œì‘ ì¸ë±ìŠ¤ëŠ” inclusiveì´ë©° ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ëŠ” Exclusiveì´ë‹¤(íŒŒì´ì¬ê³¼ ë™ì¼í•¨)\n1 2 3 4 5 6 7 8 package main import \u0026#34;fmt\u0026#34; func main() { s := []int{0, 1, 2, 3, 4, 5} s = s[2:5] fmt.Println(s) //2,3,4 ì¶œë ¥ } ë¶€ë¶„ ìŠ¬ë¼ì´ìŠ¤ì—ì„œ ì¸ë±ìŠ¤ëŠ” ìƒëµ ê°€ëŠ¥í•˜ë‹¤.\nì²˜ìŒ ì¸ë±ìŠ¤ ìƒëµ: 0 ìë™ ëŒ€ì… ë§ˆì§€ë§‰ ì¸ë±ìŠ¤ ìƒëµ: ìŠ¬ë¼ì´ìŠ¤ ê¸¸ì´ ìë™ëŒ€ì… ë”°ë¼ì„œ ëª¨ë‘ ìƒëµí•˜ë©´ ì „ì²´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\n1 2 3 4 s := []int{0, 1, 2, 3, 4, 5} s = s[2:5] // 2, 3, 4 s = s[1:] // 3, 4 fmt.Println(s) // 3, 4 ì¶œë ¥ ìŠ¬ë¼ì´ìŠ¤ ì¶”ê°€ ë°°ì—´ì€ ê³ ì •ëœ í¬ê¸°ë¡œ ê·¸ í¬ê¸° ì´ìƒì˜ ë°ì´í„°ë¥¼ ì„ì˜ë¡œ ì¶”ê°€í•  ìˆ˜ ì—†ì§€ë§Œ, ìŠ¬ë¼ì´ìŠ¤ëŠ” ììœ ë¡­ê²Œ ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\nìŠ¬ë¼ì´ìŠ¤ì— ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•˜ë ¤ë©´ ë‚´ì¥í•¨ìˆ˜ append()ë¥¼ ì‚¬ìš©í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 func main() { s := []int{0, 1} // í•˜ë‚˜ í™•ì¥ s = append(s, 2) // 0, 1, 2 // ë³µìˆ˜ ìš”ì†Œë“¤ í™•ì¥ s = append(s, 3, 4, 5) // 0,1,2,3,4,5 fmt.Println(s) } append ë™ì‘ ê³¼ì • ìŠ¬ë¼ì´ìŠ¤ ìš©ëŸ‰ì´ ë‚¨ì•„ìˆëŠ” ê²½ìš° ìŠ¬ë¼ì´ìŠ¤ì˜ ê¸¸ì´ë¥¼ ë³€ê²½í•˜ì—¬ ë°ì´í„°ë¥¼ ì¶”ê°€ ìŠ¬ë¼ì´ìŠ¤ ìš©ëŸ‰ì„ ì´ˆê³¼í•˜ëŠ” ê²½ìš° í˜„ì¬ ìš©ëŸ‰ì˜ 2ë°°ì— í•´ë‹¹í•˜ëŠ” ìƒˆë¡œìš´ Underlying arrayë¥¼ ìƒì„±í•˜ê³  ê¸°ì¡´ ë°°ì—´ ê°’ë“¤ì„ ëª¨ë‘ ìƒˆ ë°°ì—´ì— ë³µì œí•œ í›„ ë‹¤ì‹œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ í• ë‹¹. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main import \u0026#34;fmt\u0026#34; func main() { // len=0, cap=3 ì¸ ìŠ¬ë¼ì´ìŠ¤ sliceA := make([]int, 0, 3) // ê³„ì† í•œ ìš”ì†Œì”© ì¶”ê°€ for i := 1; i \u0026lt;= 15; i++ { sliceA = append(sliceA, i) // ìŠ¬ë¼ì´ìŠ¤ ê¸¸ì´ì™€ ìš©ëŸ‰ í™•ì¸ fmt.Println(len(sliceA), cap(sliceA)) } fmt.Println(sliceA) // 1 ë¶€í„° 15 ê¹Œì§€ ìˆ«ì ì¶œë ¥ } ë³‘í•© í•œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ ìŠ¬ë¼ì´ìŠ¤ ë’¤ì— ë³‘í•©í•˜ê¸° ìœ„í•´ì„œëŠ” append()ì™€ ellipsis(...)ë¥¼ ì‚¬ìš©í•œë‹¤.\nellipsis(...) ì€ íŒŒì´ì¬ asterisk(*)ì™€ ê°™ì´ ë™ì‘í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 package main import \u0026#34;fmt\u0026#34; func main() { sliceA := []int{1, 2, 3} sliceB := []int{4, 5, 6} sliceA = append(sliceA, sliceB...) //sliceA = append(sliceA, 4, 5, 6) fmt.Println(sliceA) // [1 2 3 4 5 6] ì¶œë ¥ } ë³µì‚¬ ìŠ¬ë¼ì´ìŠ¤ëŠ” ë‚´ì¥í•¨ìˆ˜ copy()ë¥¼ ì‚¬ìš©í•˜ì—¬ í•œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë‹¤ë¥¸ ìŠ¬ë¼ì´ìŠ¤ë¡œ ë³µì‚¬í•  ìˆ˜ë„ ìˆë‹¤.\n1 2 3 4 5 6 7 func main() { source := []int{0, 1, 2} target := make([]int, len(source), cap(source)*2) copy(target, source) fmt.Println(target) // [0 1 2 ] ì¶œë ¥ println(len(target), cap(target)) // 3, 6 ì¶œë ¥ } ìŠ¬ë¼ì´ìŠ¤ ë‚´ë¶€êµ¬ì¡° ìŠ¬ë¼ì´ìŠ¤ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°°ì—´ì˜ ë¶€ë¶„ ì˜ì—­ì¸ ì„¸ê·¸ë¨¼íŠ¸ì— ëŒ€í•œ ë©”íƒ€ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ìŠ¬ë¼ì´ìŠ¤ëŠ” í¬ê²Œ 3ê°œì˜ í•„ë“œë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\në‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°°ì—´ì—ëŒ€í•œ í¬ì¸í„° ì„¸ê·¸ë¨¼íŠ¸ ê¸¸ì´ ì„¸ê·¸ë¨¼íŠ¸ ìµœëŒ€ ìš©ëŸ‰ ì²˜ìŒ ìŠ¬ë¼ì´ìŠ¤ê°€ ìƒì„±ë  ë•Œ, ê¸¸ì´ì™€ ìš©ëŸ‰ì´ ì§€ì •ë˜ì—ˆë‹¤ë©´, ë‚´ë¶€ì ìœ¼ë¡œ ìš©ëŸ‰ë§Œí¼ í¬ê¸°ì˜ ë°°ì—´ì„ ìƒì„±í•˜ê³ , ìŠ¬ë¼ì´ìŠ¤ ì²«ë²ˆì§¸ í•„ë“œì— ê·¸ ë°°ì—´ì˜ ì²˜ìŒ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¥¼ ì§€ì •í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main const limit = 10 func main() { slice := []int{0, 1, 2, 3, 4, 5} subSlice := slice[2:5] subSlice[0] = 20 subSlice[1] = 30 subSlice[2] = 40 for _, v := range slice { println(v) } } 1 2 3 4 5 6 0 1 20 30 40 5 ì„œë¸Œ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ë§Œë“¤ë©´ ìŠ¬ë¼ì´ìŠ¤ ìƒì„±ì‹œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì§€ì • ì¸ë±ìŠ¤ë§Œí¼ì˜ ê¸¸ì´ì™€ ìš©ëŸ‰ì„ ì„¤ì •í•˜ê²Œ ë˜ë©°, ë°°ì—´ í¬ì¸í„°ëŠ” ì‹œì‘ ìŠ¬ë¼ì´ìŠ¤ ìœ„ì¹˜ë¡œ ì´ˆê¸°í™” ëœë‹¤.\nìœ„ì˜ ì˜ˆì‹œì˜ ì„œë¸Œ ìŠ¬ë¼ì´ìŠ¤ì˜ ê¸¸ì´ëŠ” 3 ìš©ëŸ‰ì€ 4ë¡œ ë§Œë“¤ì–´ì§„ë‹¤.\në”°ë¼ì„œ ì„œë¸Œ ìŠ¬ë¼ì´ìŠ¤ì˜ ê°’ì„ ë³€ê²½í•˜ë©´ ì›ë³¸ ìŠ¬ë¼ì´ìŠ¤ì˜ ê°’ë„ ë³€ê²½ëœë‹¤.\nMap ì„ ì–¸ Mapì€ í‚¤ì— ëŒ€ì‘í•˜ëŠ” ê°’ì„ ì‹ ì†íˆ ì°¾ëŠ” í•´ì‹œí…Œì´ë¸”ì„ êµ¬í˜„í•œ ìë£Œêµ¬ì¡°ì´ë‹¤. Go ì–¸ì–´ëŠ” Map íƒ€ì…ì„ ë‚´ì¥í•˜ê³  ìˆëŠ”ë°, map[key íƒ€ì…]ê°’íƒ€ì… ë¡œ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.\n1 var idMap map[int]string ì´ë•Œ ì„ ì–¸ëœ idMapì€ ë ˆí¼ëŸ°ìŠ¤ íƒ€ì…ì´ë¯€ë¡œ nil ê°’ì„ ê°–ìœ¼ë©°, ì´ë¥¼ Nil Mapì´ë¼ê³  ë¶€ë¥¸ë‹¤. Nil mapì€ ì–´ë–¤ ë°ì´í„°ë¥¼ ì“¸ ìˆ˜ ì—†ëŠ”ë°, mapì„ ì´ˆê¸°í™”í•˜ê¸° ìœ„í•´ make()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì´ˆê¸°í™” make() 1 idMap = make(map[int]string) make() í•¨ìˆ˜ì˜ ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¡œ map í‚¤ì›Œë“œì™€ [í‚¤íƒ€ì…]ê°’íƒ€ì…ì„ ì§€ì •í•˜ëŠ”ë°, ì´ë•Œ make()í•¨ìˆ˜ëŠ” í•´ì‹œí…Œì´ë¸” ìë£Œêµ¬ì¡°ë¥¼ ë©”ëª¨ë¦¬ì— ìƒì„±í•˜ê³  ê·¸ ë©”ëª¨ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” map valueë¥¼ ë¦¬í„´í•œë‹¤.\nâ†’ map valueëŠ” ë‚´ë¶€ì ìœ¼ë¡œ runtime.hmap êµ¬ì¡°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°ì´ë‹¤.\në”°ë¼ì„œ idMap ë³€ìˆ˜ëŠ” ì´ í•´ì‹œí…Œì´ë¸”ì„ ê°€ë¦¬í‚¤ëŠ” mapì„ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤.\nì´ˆê¸°í™” - ë¦¬í„°ëŸ´ mapì€ make() í•¨ìˆ˜ë¥¼ ì¨ì„œ ì´ˆê¸°í™”í•  ìˆ˜ë„ ìˆì§€ë§Œ, ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•´ ì´ˆê¸°í™”í•  ìˆ˜ë„ ìˆë‹¤. ë¦¬í„°ëŸ´ ì´ˆê¸°í™”ëŠ” map[keyíƒ€ì…]valueíƒ€ì… {key:value} ì™€ ê°™ì´ Map íƒ€ì… ë’¤ ì¤‘ê´„í˜¸ ì•ˆì— \u0026lsquo;í‚¤:ê°’\u0026rsquo;ë“¤ì„ ê²°ê±°í•˜ë©´ ëœë‹¤.\n1 2 3 4 5 ticker := map[string]string{ \u0026#34;GOOG\u0026#34;: \u0026#34;Google Inc\u0026#34;, \u0026#34;MSFT\u0026#34;: \u0026#34;Microsoft\u0026#34;, \u0026#34;FB\u0026#34;: \u0026#34;FaceBook\u0026#34;, } Map ì‚¬ìš© ì²˜ìŒ mapì´ make() í•¨ìˆ˜ì— ì˜í•´ ì´ˆê¸°í™” ë˜ì—ˆì„ ë•ŒëŠ”, ì•„ë¬´ ë°ì´í„°ê°€ ì—†ëŠ” ìƒíƒœì´ë‹¤. ì´ë•Œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œëŠ” mapë³€ìˆ˜[í‚¤] = ê°’ ì²˜ëŸ¼ í•´ë‹¹ í‚¤ì— ê·¸ ê°’ì„ í• ë‹¹í•˜ë©´ ëœë‹¤.\në§Œì•½ í‚¤ ê°’ì´ ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´ ì¶”ê°€ ëŒ€ì‹  ê°’ë§Œ ê°±ì‹ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package main func main() { var m map[int]string m = make(map[int]string) m[901] = \u0026#34;Apple\u0026#34; m[134] = \u0026#34;Grape\u0026#34; m[777] = \u0026#34;Tomato\u0026#34; str := m[134] println(str) noData := m[999] println(noData) println(m[777]) delete(m, 777) println(m[777]) } ë§Œì•½ mapì•ˆì— ì°¾ëŠ” í‚¤ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ reference íƒ€ì…ì¸ ê²½ìš° nil, value íƒ€ì…ì¸ ê²½ìš° zeroë¥¼ ë¦¬í„´í•œë‹¤.\nmapì—ì„œ íŠ¹ì • í‚¤ì™€ ê·¸ ê°’ì„ ì‚­ì œí•˜ê¸° ìœ„í•´ì„œëŠ” delete() í•¨ìˆ˜ë¥¼ ì´ìš©í•œë‹¤.\nMap í‚¤ ì²´í¬ mapì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì¢…ì¢… mapì•ˆì— íŠ¹ì • í‚¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ì²´í¬í•  í•„ìš”ê°€ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ goì—ì„  â€œmap ë³€ìˆ˜[í‚¤]â€ ì½ê¸°ë¥¼ ìˆ˜í–‰í•  ë•Œ 2ê°œ ê°’ì„ ë°˜í™˜í•œë‹¤.\ní‚¤ì— ìƒì‘í•˜ëŠ” ê°’ í‚¤ ì¡´ì¬ ì—¬ë¶€ (bool) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main func main() { tickers := map[string]string{ \u0026#34;GOOG\u0026#34;: \u0026#34;Google Inc\u0026#34;, \u0026#34;MSFT\u0026#34;: \u0026#34;Microsoft\u0026#34;, \u0026#34;FB\u0026#34;: \u0026#34;FaceBook\u0026#34;, \u0026#34;AMZN\u0026#34;: \u0026#34;Amazon\u0026#34;, } // map í‚¤ ì²´í¬ val, exists := tickers[\u0026#34;MSFT\u0026#34;] if !exists { println(\u0026#34;No MSFT ticker\u0026#34;) } } for ë£¨í”„ë¥¼ ì‚¬ìš©í•œ Map ì—´ê±° Mapì´ ê°€ì§„ ëª¨ë“  ìš”ì†Œë“¤ì„ ì¶œë ¥í•˜ê¸° ìœ„í•´, for range ë£¨í”„ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Map ì»¬ë ‰ì…˜ì— for rangeë¥¼ ì‚¬ìš©í•˜ë©´, Map í‚¤ì™€ Map ê°’ 2ê°œ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.\n","date":"2023-04-20T12:17:40+09:00","image":"https://codemario318.github.io/post/go_5/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_5/","title":"Golang: 5. ì»¬ë ‰ì…˜"},{"content":"func í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜í•œë‹¤.\ní•¨ìˆ˜ íŒŒë¼ë¯¸í„°ëŠ” 0ê°œ ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ê° íŒŒë¼ë¯¸í„°ëŠ” íŒŒë¼ë¯¸í„°ëª… ë’¤ì— int, string ë“± íŒŒë¼ë¯¸í„° íƒ€ì…ì„ ì •ì˜í•œë‹¤.\ní•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì€ íŒŒë¼ë¯¸í„° ê´„í˜¸ ë’¤ì— ì ëŠ”ë‹¤.\ní•¨ìˆ˜ëŠ” íŒ¨í‚¤ì§€ ì•ˆì— ì •ì˜ë˜ë©° í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ì˜ ë°˜ë“œì‹œ ì•ì— ìœ„ì¹˜í•´ì•¼ í•  í•„ìš”ëŠ” ì—†ë‹¤.\n1 2 3 4 5 6 7 8 9 package main func main() { msg := \u0026#34;Hello\u0026#34; say(msg) } func say(msg string) { println(msg) } Pass By Reference Goì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì€ í¬ê²Œ Pass By Valueì™€ Pass By Referenceë¡œ ë‚˜ë‰œë‹¤.\nPass By Value í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ ë³€ìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ ì¸ìë¡œ ì‚¬ìš©ëœ ë³€ìˆ˜ë“¤ì˜ ê°’ì´ ë³µì‚¬ë˜ì–´ í•¨ìˆ˜ì—ê²Œ ì „ë‹¬ëœë‹¤.\në”°ë¼ì„œ í•¨ìˆ˜ ì¸ìë¡œ ë°›ì€ ê°’ì„ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë³€ê²½í•´ë„ ì‹¤ì œ ë³€ìˆ˜ê°’ì€ ì˜í–¥ì„ ì „í˜€ ë°›ì§€ ì•ŠëŠ”ë‹¤.\nPass By Reference ë³€ìˆ˜ ì•ì— \u0026amp; ë¥¼ ë¶™ì´ë©´ ì£¼ì†Œë¥¼ í‘œì‹œí•œë‹¤. í”íˆ í¬ì¸í„°ë¼ ë¶€ë¥´ë©°, í¬ì¸í„°ë¥¼ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ì—ì„œ í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ ë³µì‚¬ë³¸ì´ ì•„ë‹Œ ì‹¤ì œ ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•˜ì—¬ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ë¯€ë¡œ í•¨ìˆ˜ ë‚´ì—ì„œ ë³€ê²½ì´ ì¸ìì— ë„˜ê²¨ì§„ ì£¼ì†Œë¥¼ ê°€ì§„ ë³€ìˆ˜ì˜ ì‹¤ì œ ê°’ì´ ë³€ê²½ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 package main func main() { msg := \u0026#34;Hello\u0026#34; say(\u0026amp;msg) println(msg) //ë³€ê²½ëœ ë©”ì‹œì§€ ì¶œë ¥ } func say(msg *string) { println(*msg) *msg = \u0026#34;Changed\u0026#34; //ë©”ì‹œì§€ ë³€ê²½ } í•¨ìˆ˜ì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ì„ ì–¸í•  ë•Œ *string ì²˜ëŸ¼ í¬ì¸í„°ì„ì„ í‘œì‹œí•˜ë©´ í•´ë‹¹ íŒŒë¼ë¯¸í„°ê°€ ë¬¸ìì—´ì´ ì•„ë‹Œ ë¬¸ìì—´ì„ ì €ì¥í•˜ê³ ìˆëŠ” ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œë¥¼ ê°–ëŠ”ë‹¤.\ní•¨ìˆ˜ ë‚´ì—ì„œ í¬ì¸í„° íŒŒë¼ë¯¸í„°ì˜ ì£¼ì†Œì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ë ¤ë©´ *ë³€ìˆ˜ëª… = ê°’ í˜•íƒœë¡œ ë³€ìˆ˜ ì´ë¦„ì— ì—­ì°¸ì¡° ì‹¬ë³¼ì¸ *ì„ ë¶™ì—¬ ì ‘ê·¼í•˜ê³  ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\nê°€ë³€ì¸ìí•¨ìˆ˜ í•¨ìˆ˜ì— ì—¬ëŸ¬ê°œã…¢ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ë ¤ë©´ ê°€ë³€ íŒŒë¼ë¯¸í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ... ì„ íƒ€ì… ì•ì— ë¶™ì—¬ ì‚¬ìš©í•œë‹¤.\nê°€ë³€ íŒŒë¼ë¯¸í„°ë¥¼ ê°–ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ nê°œ ë™ì¼ íƒ€ì… íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 package main func main() { say(\u0026#34;This\u0026#34;, \u0026#34;is\u0026#34;, \u0026#34;a\u0026#34;, \u0026#34;book\u0026#34;) say(\u0026#34;Hi\u0026#34;) } func say(msg ...string) { for _, s := range msg { println(s) } } í•¨ìˆ˜ ë°˜í™˜ê°’ ê¸°ë³¸í˜• í•¨ìˆ˜ì—ì„œ ë°˜í™˜ê°’ì´ ìˆëŠ” ê²½ìš° func ë¬¸ ë§ˆì§€ë§‰ì— ë¦¬í„´ íƒ€ì…ì„ ì •ì˜í•œë‹¤. ê·¸ë¦¬ê³  return í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main func main() { total := sum(1, 7, 3, 5, 9) println(total) } func sum(nums ...int) **int** { s := 0 for _, n := range nums { s += n } return **s** } ë³µìˆ˜ ê°œ ë°˜í™˜ê°’ go ì–¸ì–´ì—ì„œ í•¨ìˆ˜ëŠ” ë°˜í™˜ê°’ì´ ì—¬ëŸ¬ê°œì¼ ìˆ˜ ìˆë‹¤.\nì—¬ëŸ¬ê°œ ê°’ì„ ë°˜í™˜í•˜ê¸° ìœ„í•´ì„œëŠ” í•´ë‹¹ ë°˜í™˜ íƒ€ì…ë“¤ì„ ê´„í˜¸ ì•ˆì— ì ì–´ì¤€ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main func main() { count, total := sum(1, 7, 3, 5, 9) println(count, total) } func sum(nums ...int) (int, int) { s := 0 // í•©ê³„ count := 0 // ìš”ì†Œ ê°¯ìˆ˜ for _, n := range nums { s += n count++ } return count, s } Named Return Parameter Named Return Parameterë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë°, ì´ëŠ” ë°˜í™˜ë˜ëŠ” ê°’ë“¤ì„ ë¯¸ë¦¬ ì„ ì–¸í•˜ë©°, ê°’ë“¤ì´ ì—¬ëŸ¬ ê°œ ì¼ë•Œ, ì½”ë“œ ê°€ë…ì„±ì„ ë†’íŒë‹¤.\n1 2 3 4 5 6 7 func sum(nums ...int) (**count** int, **total** int) { for _, n := range nums { total += n } count = len(nums) return } ë§ˆì§€ë§‰ì— ë¹ˆ returnì´ ìˆì§€ë§Œ named return parameterë¡œ ì •ì˜ëœ í˜•íƒœë¡œ ë°˜í™˜ëœë‹¤. return ì€ ë°˜í™˜ê°’ì— ì•„ë¬´ëŸ° ì˜í–¥ì„ ì£¼ì§€ ì•Šì§€ë§Œ ìƒëµí•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\n","date":"2023-04-20T12:10:40+09:00","image":"https://codemario318.github.io/post/go_4/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_4/","title":"Golang: 4. í•¨ìˆ˜"},{"content":"for ë¬¸ Go ì–¸ì–´ì—ì„œ ë°˜ë³µë¬¸ì€ for í•˜ë‚˜ë¿ì´ë‹¤. ë‹¤ë¥¸ ì–¸ì–´ë“¤ê³¼ ë¹„ìŠ·í•˜ê²Œ for ì´ˆê¸°ê°’; ì¡°ê±´ì‹; ì¦ê° {...} í˜•ì‹ì„ ë”°ë¥¸ë‹¤.\nì´ˆê¸°ê°’, ì¡°ê±´ì‹, ì¦ê°ì‹ì€ ê²½ìš°ì— ë”°ë¼ ìƒëµí•  ìˆ˜ ìˆê³ , ì´ˆê¸°ê°’; ì¡°ê±´ì‹; ì¦ê° ì„ ë‘˜ëŸ¬ì‹¸ëŠ” ê´„í˜¸ë¥¼ ì¶”ê°€í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\n1 2 3 4 5 6 7 8 9 package main func main() { sum := 0 for i := 1; i \u0026lt;= 100; i++ { sum += i } println(sum) } ì¡°ê±´ì‹ë§Œ ì‚¬ìš©í•˜ëŠ” for ë£¨í”„ ì´ˆê¸°ê°’ê³¼ ì¦ê°ì‹ì„ ìƒëµí•˜ê³  ì¡°ê±´ì‹ë§Œ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ ì–¸ì–´ì˜ while ë£¨í”„ì™€ ê°™ê²Œ ë™ì‘í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 package main func main() { n := 1 for n \u0026lt; 100 { n *= 2 //if n \u0026gt; 90 { // break //} } println(n) } ë¬´í•œë£¨í”„ ì´ˆê¸°ê°’, ì¡°ê±´ì‹, ì¦ê°ì„ ëª¨ë‘ ìƒëµí•˜ë©´ ë¬´í•œë£¨í”„ë¡œ ë™ì‘í•œë‹¤.\n1 2 3 4 5 6 7 package main func main() { for { println(\u0026#34;Infinite loop\u0026#34;) } } range ë¬¸ for rangeë¬¸ì€ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë¶€í„° í•œ ìš”ì†Œì”© ê°€ì ¸ì™€ ì°¨ë¡€ë¡œ for ë¸”ëŸ­ ë¬¸ì¥ë“¤ì„ ì‹¤í–‰í•œë‹¤. ë‹¤ë¥¸ ì–¸ì–´ì˜ foreachì™€ ë¹„ìŠ·í•˜ë‹¤.\nfor range ë¬¸ì€ for ì¸ë±ìŠ¤, ìš”ì†Œê°’ := range ì»¬ë ‰ì…˜ í˜•íƒœë¡œ for ë£¨í”„ë¥¼ êµ¬ì„±í•˜ëŠ”ë°, range í‚¤ì›Œë“œ ë‹¤ìŒì— ëª…ì‹œí•œ ì»¬ë ‰ì…˜ìœ¼ë¡œë¶€í„° í•˜ë‚˜ì”© ìš”ì†Œë¥¼ ë°˜í™˜í•˜ì—¬ ê·¸ ìš”ì†Œì˜ ì¸ë±ìŠ¤ì™€ ê°’ì„ for í‚¤ì›Œë“œ ë‹¤ìŒ 2ê°œ ë³€ìˆ˜ì— ê°ê° í• ë‹¹í•œë‹¤.\n1 2 3 4 5 names := []string{\u0026#34;í™ê¸¸ë™\u0026#34;, \u0026#34;ì´ìˆœì‹ \u0026#34;, \u0026#34;ê°•ê°ì°¬\u0026#34;} for index, name := range names { println(index, name) } break, countinue, goto break: for ë£¨í”„ ë‚´ì—ì„œ ì¦‰ì‹œ ë¹ ì ¸ë‚˜ì˜´ continue: ë£¨í”„ ì¤‘ê°„ì—ì„œ ë‚˜ë¨¸ì§€ ë¬¸ì¥ë“¤ì„ ì‹¤í–‰í•˜ì§€ ì•Šê³  ë‹¤ìŒ ë£¨í”„ë¥¼ ì‹œì‘í•¨ goto: ì„ì˜ì˜ ë¬¸ì¥ìœ¼ë¡œ ì´ë™ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package main func main() { var a = 1 for a \u0026lt; 15 { if a == 5 { a += a continue // forë£¨í”„ ì‹œì‘ìœ¼ë¡œ } a++ if a \u0026gt; 10 { break //ë£¨í”„ ë¹ ì ¸ë‚˜ì˜´ } } if a == 11 { goto END //goto ì‚¬ìš©ì˜ˆ } println(a) END: println(\u0026#34;End\u0026#34;) } break ë ˆì´ë¸” breakë¬¸ì€ ë³´í†µ ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ë§Œ, ê²½ìš°ì— ë”°ë¼ ë ˆì´ë¸”ì„ ë¶™ì—¬ ì§€ì •ëœ ë ˆì´ë¸”ë¡œ ì´ë™í•  ìˆ˜ë„ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 package main func main() { i := 0 L1: for { if i == 0 { break L1 } } println(\u0026#34;OK\u0026#34;) } breakì˜ ë ˆì´ë¸”ì€ í˜„ì¬ ë³´í†µ í˜„ì¬ for ë£¨í”„ ë°”ë¡œ ìœ„ì— ì ê²Œ ë˜ëŠ”ë°, í˜„ì¬ ë£¨í”„ë¥¼ ë¹ ì ¸ë‚˜ì™€ ì§€ì •ëœ ë ˆì´ë¸”ë¡œ ì´ë™í•˜ê³ , ë™ì‘í•œ breakë¬¸ì´ ì†í•œ for ë£¨í”„ ì „ì²´ì˜ ë‹¤ìŒ ë¬¸ì¥ì„ ì‹¤í–‰í•œë‹¤.\n","date":"2023-04-20T12:05:40+09:00","image":"https://codemario318.github.io/post/go_3/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_3/","title":"Golang: 3. ë°˜ë³µë¬¸"},{"content":"if ë¬¸ if ë¬¸ì€ í•´ë‹¹ ì¡°ê±´ì´ ë§ìœ¼ë©´ {} ë¸”ëŸ­ ì•ˆì˜ ë‚´ìš©ì„ ì‹¤í–‰í•œë‹¤.\nì¡°ê±´ì‹ì„ ()ë¡œ ë‘˜ëŸ¬ ì‹¸ì§€ ì•Šì•„ë„ ëœë‹¤. ì¡°ê±´ ë¸”ëŸ­ ì‹œì‘ { ë¥¼ ifë¬¸ê³¼ ê°™ì€ ë¼ì¸ì— ë‘ì–´ì•¼ í•œë‹¤. 1 2 3 4 5 6 7 if k == 1 { println(\u0026#34;One\u0026#34;) } else if k == 2 { //ê°™ì€ ë¼ì¸ println(\u0026#34;Two\u0026#34;) } else { //ê°™ì€ ë¼ì¸ println(\u0026#34;Other\u0026#34;) } Optional Statement ifë¬¸ì—ì„œ ì¡°ê±´ì‹ì„ ì‚¬ìš©í•˜ê¸° ì´ì „ì— ê°„ë‹¨í•œ ë¬¸ì¥(Optional Statement)ì„ í•¨ê»˜ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 if val := i * 2; val \u0026lt; max { println(val) } // ì•„ë˜ ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ Scope ë²—ì–´ë‚˜ ì—ëŸ¬ val++ val := i * 2 ì²˜ëŸ¼ ì¡°ê±´ì‹ ì´ì „ì— ì—°ì‚°ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”ë°, ì •ì˜ëœ ë³€ìˆ˜ valì˜ ë²”ìœ„ëŠ” if-else ë¸”ëŸ­ì´ë‹¤.\nifë¬¸ ì™¸ì—ë„ switch, for ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nswitch ë¬¸ ë‹¤ë¥¸ ì–¸ì–´ë“¤ê³¼ ë¹„ìŠ·í•˜ê²Œ í•˜ë‚˜ì˜ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ê³  caseë¬¸ì— í•´ë‹¹ ë³€ìˆ˜ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê°’ë“¤ì„ ì§€ì •í•˜ì—¬ case ë¸”ëŸ­ì„ ì‹¤í–‰í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package main func main() { var name string var category = 1 switch category { case 1: name = \u0026#34;Paper Book\u0026#34; case 2: name = \u0026#34;eBook\u0026#34; case 3, 4: name = \u0026#34;Blog\u0026#34; default: name = \u0026#34;Other\u0026#34; } println(name) // Expressionì„ ì‚¬ìš©í•œ ê²½ìš° switch x := category \u0026lt;\u0026lt; 2; x - 1 { //... } } ë‹¤ë¥¸ ì–¸ì–´ì™€ ì°¨ì´ì  C++, C#, Java ë“±ê³¼ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤.\nswitch ë’¤ì— expressionì´ ì—†ì„ ìˆ˜ ìˆìŒ ë‹¤ë¥¸ ì–¸ì–´ëŠ” switch í‚¤ì›Œë“œ ë’¤ì— ë³€ìˆ˜ë‚˜ ì¡°ê±´ì‹ì„ ë‘ì§€ë§Œ, GoëŠ” ì“°ì§€ ì•Šì•„ë„ ëœë‹¤. ì´ëŸ° ê²½ìš° trueë¡œ ê°„ì£¼í•˜ê³  ì²«ë²ˆì§¸ caseë¬¸ìœ¼ë¡œ ì´ë™í•˜ì—¬ ê²€ì‚¬í•œë‹¤.\ncaseë¬¸ì— ì¡°ê±´ì‹ ì“¸ ìˆ˜ ìˆìŒ ë‹¤ë¥¸ ì–¸ì–´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ê°’ì„ ê°–ì§€ë§Œ, GoëŠ” ì¡°ê±´ì‹ì„ ì“¸ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 func grade(score int) { switch { case score \u0026gt;= 90: println(\u0026#34;A\u0026#34;) case score \u0026gt;= 80: println(\u0026#34;B\u0026#34;) case score \u0026gt;= 70: println(\u0026#34;C\u0026#34;) case score \u0026gt;= 60: println(\u0026#34;D\u0026#34;) default: println(\u0026#34;No Hope\u0026#34;) } } No default fall through caseë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ breakë¥¼ ì ìš©í•œë‹¤. ë‹¤ìŒ caseë¡œ ë„˜ì–´ê°€ë ¤ë©´ fallthrough í‚¤ì›Œë“œë¥¼ ì“´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 func check(val int) { switch val { case 1: fmt.Println(\u0026#34;1 ì´í•˜\u0026#34;) fallthrough case 2: fmt.Println(\u0026#34;2 ì´í•˜\u0026#34;) fallthrough case 3: fmt.Println(\u0026#34;3 ì´í•˜\u0026#34;) fallthrough default: fmt.Println(\u0026#34;default ë„ë‹¬\u0026#34;) } } Type switch switch ë’¤ ë³€ìˆ˜ì˜ íƒ€ì…ìœ¼ë¡œ ë¶„ê¸°í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 switch v.(type) { case int: println(\u0026#34;int\u0026#34;) case bool: println(\u0026#34;bool\u0026#34;) case string: println(\u0026#34;string\u0026#34;) default: println(\u0026#34;unknown\u0026#34;) } ","date":"2023-04-20T12:00:40+09:00","image":"https://codemario318.github.io/post/go_2/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_2/","title":"Golang: 2. ì¡°ê±´ë¬¸"},{"content":"ë³€ìˆ˜ ê¸°ë³¸ ì„ ì–¸ ë³€ìˆ˜ëŠ” Go í‚¤ì›Œë“œ varì„ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸í•œë‹¤. var í‚¤ì›Œë“œ ë’¤ì— ë³€ìˆ˜ëª…ì„ ì ê³  ë³€ìˆ˜ íƒ€ì…ì„ ì ëŠ”ë‹¤.\në³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ì„œ ì´ˆê¸°ê°’ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, GoëŠ” Zero Valueë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ í• ë‹¹í•œë‹¤.\n1 var a int ì´ˆê¸°ê°’ ì§€ì • ë³€ìˆ˜ ì„ ì–¸ë¬¸ì—ì„œ ë³€ìˆ˜ ì´ˆê¸°ê°’ì„ í• ë‹¹í•  ìˆ˜ë„ ìˆë‹¤. float32 íƒ€ì… ë³€ìˆ˜ fì— 11.0ì´ë¼ëŠ” ì´ˆê¸°ê°’ì„ í• ë‹¹í•˜ê¸° ìœ„í•´ ì•„ë˜ê°™ì´ ì“¸ ìˆ˜ ìˆë‹¤.\n1 var f float32 = 11. í• ë‹¹ ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ì´í›„ í•´ë‹¹ íƒ€ì… ê°’ì„ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.\n1 2 a = 10 f = 12.0 â†’ì„ ì–¸ëœ ë³€ìˆ˜ê°€ Go í”„ë¡œê·¸ë¨ ë‚´ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\nShort Assignment Statement í•¨ìˆ˜ ë‚´ë¶€ë¼ë©´ Short Assignment Statementë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 i := 1 s := \u0026#34;Hello\u0026#34; í•¨ìˆ˜ ë°–ì—ì„œ ì„ ì–¸ì‹œì—ëŠ” varë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\nì—¬ëŸ¬ ê°œ ë³€ìˆ˜ ë™ì¼í•œ íƒ€ì… ë³€ìˆ˜ê°€ ì—¬ëŸ¬ê°œ ìˆìœ¼ë©´, ë³€ìˆ˜ë“¤ì„ ë‚˜ì—´í•˜ê³  ë§ˆì§€ë§‰ì— íƒ€ì…ì„ í•œë²ˆë§Œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 var i, j, k int // ì„ ì–¸ê³¼ ë™ì‹œì— ì´ˆê¸°í™” ê°€ëŠ¥ var i, j, k int = 1, 2, 3 íƒ€ì… ì¶”ë¡  Go ì—ì„œëŠ” í• ë‹¹ë˜ëŠ” ê°’ì„ ë³´ê³  ê·¸ íƒ€ì…ì„ ì¶”ë¡ í•˜ëŠ” ê¸°ëŠ¥ì´ ìì£¼ ì‚¬ìš©ëœë‹¤.\n1 2 var i = 1 var s = \u0026#34;Hello\u0026#34; iëŠ” ì •ìˆ˜í˜•ìœ¼ë¡œ 1ì´ í• ë‹¹ë˜ê³ , sëŠ” ë¬¸ìì—´ë¡œ Helloê°€ í• ë‹¹ëœë‹¤.\nìƒìˆ˜ ìƒìˆ˜ëŠ” Go í‚¤ì›Œë“œ constë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸í•œë‹¤. const í‚¤ì›Œë“œ ë’¤ì— ìƒìˆ˜ëª…ì„ ì ê³ , ê·¸ ë’¤ì— ìƒìˆ˜ íƒ€ì…, ê·¸ë¦¬ê³  ìƒìˆ˜ ê°’ì„ í• ë‹¹í•œë‹¤.\n1 2 const i int = 1 const s string = \u0026#34;Hello\u0026#34; íƒ€ì… ì¶”ë¡  ë³€ìˆ˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ íƒ€ì…ì„ ìƒëµí•˜ê³  ì´ˆê¸°í™” í•˜ë©´ Goì—ì„œ ìë™ìœ¼ë¡œ íƒ€ì…ì„ ì¶”ë¡ í•œë‹¤.\n1 2 const i = 1 const s = \u0026#34;Hello\u0026#34; ì—¬ëŸ¬ê°œ ìƒìˆ˜ë¥¼ ë¬¶ì–´ì„œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 const ( Visa = \u0026#34;Visa\u0026#34; Master = \u0026#34;Master\u0026#34; Amex = \u0026#34;American Express\u0026#34; ) iota iota í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ìƒìˆ˜ê°’ì„ 0ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-20T11:56:40+09:00","image":"https://codemario318.github.io/post/go_1/go_cover_huf88b72bb4a5683fe0689ce424afc49ae_12554_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/go_1/","title":"Golang: 1. ë³€ìˆ˜ì™€ ìƒìˆ˜"},{"content":"Vue? ê°œë°œìì—ê²Œ ë” ì‰½ê³ , ê°€ë³ê³ , ëˆ„êµ¬ë‚˜ ë¹¨ë¦¬ ë°°ìš¸ ìˆ˜ ìˆëŠ” ì ‘ê·¼ì„±ì´ ë›°ì–´ë‚œ í”„ë ˆì„ì›Œí¬ë¥¼ ëª©í‘œë¡œ ê°œë°œë¨\nê¸°ì¡´ HTML ë§ˆí¬ì—… ê¸°ë°˜ì˜ í…œí”Œë¦¿ì„ ê·¸ëŒ€ë¡œ í™œìš© CSSë¥¼ ì‘ì„±í•˜ëŠ” ìŠ¤íƒ€ì¼ë„ ê¸°ì¡´ ë¬¸ë²•ì„ ê·¸ëŒ€ë¡œ ë”°ë¦„ ë¼ìš°íŒ…, ìƒíƒœ ê´€ë¦¬, ë¹Œë“œ ë„êµ¬ ë“± ê³µì‹ì ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ íŒ¨í‚¤ì§€ë¥¼ í†µí•´ ë°°í¬í•˜ì—¬ ë³µì¡í•œ ë¡œì§ì˜ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ ë¹„êµì  ë‹¨ìˆœí•˜ê³  ì‰½ê²Œ ë§Œë“¦ React, Angulerì— ë¹„í•´ì„œ ì²˜ìŒ ì ‘í•˜ëŠ” ì‚¬ìš©ìë“¤ì´ ì§„ì…í•˜ê¸°ì— ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•ŠìŒ\nVue3 ê°œì„ ì  ê°€ìƒë” ìµœì í™” AS-IS\nê¸°ì¡´ Vueì˜ ë Œë”ë§ì„ ìœ„í•œ ê°€ìƒ DOM ì„¤ê³„ëŠ” HTML ê¸°ë°˜ì˜ í…œí”Œë¦¿ì„ ì œê³µí•˜ê³  ì´ í…œí”Œë¦¿ êµ¬ë¬¸ì„ ê°€ìƒ DOM íŠ¸ë¦¬ë¡œ ë°˜í™˜í•œ í›„ ì‹¤ì œë¡œ DOMì˜ ì–´ë–¤ ì˜ì—­ì´ ì—…ë°ì´íŠ¸ ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ì¬ê·€ì ìœ¼ë¡œ íƒìƒ‰í•˜ëŠ” ë°©ì‹\nì´ëŸ¬í•œ ë°©ì‹ì€ ë³€ê²½ì‚¬í•­ í™•ì¸ì„ ìœ„í•´ DOM íŠ¸ë¦¬ë¥¼ ì™„ì „ íƒìƒ‰ì„ í•˜ê²Œ ë˜ë¯€ë¡œ, ì‘ì€ ë³€ê²½ë„ íŠ¸ë¦¬ ì „ì²´ë¥¼ í™•ì¸í•˜ê²Œ ë˜ì–´ ë¹„íš¨ìœ¨ì ì„ TO-BE\në¶ˆí•„ìš”í•œ íƒìƒ‰ì„ ìœ„í•œ ì½”ë“œë¥¼ ì œê±°í•˜ì—¬ ë Œë”ë§ ì„±ëŠ¥ì„ í–¥ìƒì‹œì¼œ ê°€ìƒë” ìµœì í™”ë¥¼ ì§„í–‰í•¨\níƒ¬í”Œë¦¿ êµ¬ë¬¸ì—ì„œ ì •ì  ìš”ì†Œì™€ ë™ì  ìš”ì†Œë¥¼ êµ¬ë¶„í•˜ì—¬ íŠ¸ë¦¬ë¥¼ íƒìƒ‰í•  ë•Œ ë³€ê²½ì´ ë°œìƒí•˜ëŠ” ë™ì  ìš”ì†Œë§Œ íƒìƒ‰í•  ìˆ˜ ìˆê²Œ ë³€ê²½ ë Œë”ë§ ì‹œ ê°ì²´ê°€ ì—¬ëŸ¬ ë²ˆ ìƒì„±ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì»´íŒŒì¼ëŸ¬ê°€ ë¯¸ë¦¬ í…œí”Œë¦¿ êµ¬ë¬¸ ë‚´ì—ì„œ ì •ì  ìš”ì†Œ, ì„œë¸Œ íŠ¸ë¦¬, ë°ì´í„° ê°ì²´ ë“±ì„ íƒì§€í•´ ë Œë”ëŸ¬ í•¨ìˆ˜ ë°–ìœ¼ë¡œ í˜¸ì´ìŠ¤íŒ…í•¨ ì»´íŒŒì¼ëŸ¬ê°€ ë¯¸ë¦¬ í…œí”Œë¦¿ êµ¬ë¬¸ ë‚´ì—ì„œ ë™ì  ë°”ì¸ë”© ìš”ì†Œì— ëŒ€í•´ í”Œë˜ê·¸ë¥¼ ìƒì„±í•¨ íŠ¹ì • ìš”ì†Œê°€ ë™ì  í´ë˜ìŠ¤ ë°”ì¸ë”©ì„ ê°€ì§€ê³  ìˆê³  ì •ì ì¸ ê°’ì´ ì§€ì •ëœ ì†ì„±ì„ ê°–ê³  ìˆë‹¤ë©´ í´ë˜ìŠ¤ë§Œ ì²˜ë¦¬í•˜ë©´ ë˜ë¯€ë¡œ, ì»´íŒŒì¼ëŸ¬ê°€ ë¯¸ë¦¬ ìƒì„±í•´ë‘” í”Œë˜ê·¸ë¡œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì²˜ë¦¬í•˜ì—¬ ë Œë”ë§ ì†ë„ í–¥ìƒ íŠ¸ë¦¬ì‰ì´í‚¹ ê°•í™” íŠ¸ë¦¬ì‰ì´í‚¹ì´ë€?\në‚˜ë¬´ë¥¼ í”ë“¤ì–´ ìì„ ë–¨ì–´íŠ¸ë¦¬ë“¯ ëª¨ë“ˆì„ ë²ˆë“¤ë§í•˜ëŠ” ê³¼ì •ì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ì œê±°í•˜ì—¬ íŒŒì¼ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ìµœì í™” ë°©ì•ˆ\nVue3ëŠ” í…œí”Œë¦¿ ì»´íŒŒì¼ëŸ¬ê°€ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë§Œ ì„í¬íŠ¸ í•˜ë„ë¡ í•˜ì˜€ìŒ.\nì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©ì„ ì§€ì›í•˜ëŠ” v-model ë””ë ‰í‹°ë¸Œì™€ ê°™ì€ ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ì ì •ì˜ ê¸°ëŠ¥ì—ì„œ íŠ¸ë¦¬ì‰ì´í‚¹ì´ ê°€ëŠ¥í–ˆëŠ”ë°, ì´ë¥¼ ê°•í™”í•˜ì—¬ ë²ˆë“¤ í¬ê¸°ë¥¼ ì ˆë°˜ ì´ìƒìœ¼ë¡œ ëŒ€í­ ì¤„ì¼ ìˆ˜ ìˆìŒ\nCompoistion API AS-IS\nê¸°ì¡´ Vueì—ì„œ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— ì—¬ëŸ¬ ê¸°ëŠ¥ì´ í¬í•¨ë˜ë©´, ê¸°ëŠ¥ë³„ë¡œ ë°ì´í„°ì˜ì—­, ë©”ì†Œë“œ ì˜ì—­, ì»´í“¨í‹°ë“œ ì˜ì—­, ë¼ì´í”„ ì‚¬ì´í´ í›…, ì™€ì¹˜ ë“± ë§ì€ ë¡œì§ì´ ì¶”ê°€ë˜ê³ , ì´ëŸ¬í•œ ê¸°ëŠ¥ ë³„ë¡œ ë¶„ë¦¬ëœ ì½”ë“œë“¤ì´ ê°ê° ê¸°ëŠ¥ì— ë§ëŠ” ë©”ì„œë“œì— í¬í•¨ë˜ê²Œ ë˜ì–´ í•„ì—°ì ìœ¼ë¡œ ì„ì´ê²Œ ë¨.\nì´ì— ë”°ë¼ ì—¬ëŸ¬ ê¸°ëŠ¥ì´ í™œìš©ë ìˆ˜ë¡ ì½”ë“œëŠ” ì»¤ì§€ë©° ë³µì¡ë„ê°€ ì¦ê°€í•¨\nTO-BE\nì»´í¬ì§€ì…˜ APIëŠ” ëª¨ë“  ì½”ë“œë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ê° ê¸°ëŠ¥ì„ í•¨ìˆ˜ë¡œ ë¬¶ì–´ ëª¨ë“ˆí™” í•˜ê¸° ë•Œë¬¸ì— íŠ¹ì • ê¸°ëŠ¥ì˜ ìœ ì§€ ë³´ìˆ˜ë¥¼ ìœ„í•´ í•´ë‹¹ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ë§Œ í™•ì¸í•˜ë©´ ëœë‹¤.\nì½”ë“œ ì¬ì‚¬ìš© AS-IS\nê¸°ì¡´ Vue ì—ì„œë„ mixin, slot ë“±ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ì½”ë“œë¥¼ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆì—ˆìœ¼ë‚˜, ë¯¹ìŠ¤ì¸ì€ í•œê³„ê°€ ì¡´ì¬í–ˆìŒ\ní”„ë¡œì íŠ¸ê°€ ì»¤ì ¸ ë¯¹ìŠ¤ì¸ì„ ë‹¤ì¤‘ìœ¼ë¡œ ìƒì†í•˜ê²Œ ë˜ë©´ ì´ë¦„ ì¶©ëŒë¡œ ì¸í•´ ì»¨ë²¤ì…˜ ë£°ì´ í•„ìš”í–ˆìŒ ë§¤ê°œë³€ìˆ˜ë¥¼ ë¯¹ìŠ¤ì¸ì„ í†µí•´ ì „ë‹¬í•  ìˆ˜ ì—†ì–´ ìœ ì—°ì„±ì´ ë–¨ì–´ì§ TO-BE\nì»´í¬ì§€ì…˜ APIë¥¼ ì‚¬ìš©í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ì˜ íŠ¹ì • ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ëª¨ë“ˆí™”ëœ ë¡œì§ì„ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.\nmixin?\nVue ì»´í¬ë„ŒíŠ¸ì— ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ì„ ë°°í¬í•˜ëŠ” ìœ ì—°í•œ ë°©ë²•. mixin ê°ì²´ëŠ” ëª¨ë“  êµ¬ì„±ìš”ì„œ ì˜µì…˜ì„ í¬í•¨í•  ìˆ˜ ìˆìœ¼ë©°, ì»´í¬ë„ŒíŠ¸ì— mixinì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ mixinì˜ ëª¨ë“  ì˜µì…˜ì´ ì»´í¬ë„ŒíŠ¸ì˜ ê³ ìœ  ì˜µì…˜ì— â€œí˜¼í•©â€ë¨\nê·¸ ì™¸ ì£¼ìš” ë³€í™” í…”ë ˆí¬íŠ¸ ë¦¬ì—‘íŠ¸ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” í¬í„¸ê³¼ ìœ ì‚¬í•œ ê¸°ëŠ¥. vueê°€ ê¸°ì¡´ì— Portal-Vue í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ ì œê³µí•˜ê³  ìˆì—ˆë˜ ê¸°ëŠ¥.\nëª¨ë‹¬ì´ë‚˜ ì•Œë¦¼ ë“±ê³¼ ê°™ì€ ìš”ì†Œë¥¼ ë Œë”ë§í•˜ë ¤ëŠ” ìœ„ì¹˜ê°€ í…œí”Œë¦¿ êµ¬ë¬¸ì´ ì†í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì¡´ì¬í•  ë•Œ, ë‹¤ë¥¸ íƒœê·¸ ìœ„ì¹˜ë¡œ ëª¨ë‹¬ì˜ ìœ„ì¹˜ë¥¼ ì¡°ì •í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“œëŠ” ê²ƒì„ CSSë¥¼ í†µí•´ í•´ê²°í•˜ê¸° ë²ˆê±°ë¡­ê¸° ë•Œë¬¸ì—, ë³´í†µ ëª¨ë‹¬ì´ í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ì–´ ì»´í¬ë„ŒíŠ¸ì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŒ.\nvue3ëŠ” í…”ë ˆí¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ì§€ ì•Šê³ ë„ ë‚´ë¶€ì˜ HTMLì„ íŠ¹ì • íƒœê·¸ë¡œ ì˜®ê²¨ ë Œë”ë§ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŒ\nì„œìŠ¤íœìŠ¤ ì„œìŠ¤íŒ¬ìŠ¤ ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ì•¡íŠ¸ê°€ ì§€ì›í•˜ë˜ ì»´í¬ë„ŒíŠ¸ ì¢…ë¥˜ ì¤‘ í•˜ë‚˜ë¡œ, ì»´í¬ë„ŒíŠ¸ ë‚´ì— ìˆëŠ” ì¡°ê±´ì¸ Async êµ¬ë¬¸ì´ ì¶©ì¡±ë˜ì§€ ì•Šìœ¼ë©´ ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œê¹Œì§€ í…œí”Œë¦¿ ë‚´ì— Fallback êµ¬ë¬¸ì„ ë Œë”ë§í•¨.\nì»´í¬ì§€ì…˜ APIë¥¼ í†µí•´ setup() í•¨ìˆ˜ ë‚´ì—ì„œ ì™¸ë¶€ APIì— ì ‘ê·¼í•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ë°ì´í„°ë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¬ ë•Œê¹Œì§€ ë¡œë”© í‘œì‹œë¥¼ í•´ì•¼ í•  ìˆ˜ ìˆë‹¤. ì´ëŸ´ ë•Œ ì„œìŠ¤íœìŠ¤ë¥¼ ì‚¬ìš©í•´ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ë©´ ëŒ€ì²´í•  í…œí”Œë¦¿ êµ¬ë¬¸ì„ ë Œë”ë§ í•  ìˆ˜ ìˆë‹¤.\në°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë„ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ Vue3ì˜ ìƒˆë¡œìš´ ë¼ì´í”„ì‚¬ì´í´ í›…ì¸ OnErrorCapturedë¥¼ ì œê³µí•˜ì—¬, ì—ëŸ¬ì— ëŒ€í•œ ì²˜ë¦¬ êµ¬ë¬¸ì„ Fallback êµ¬ë¬¸ ëŒ€ì‹  í‘œì‹œí•  ìˆ˜ ìˆë‹¤.\në¦¬ì•¡í‹°ë¹„í‹° API ì´ì „ ë²„ì „ì˜ VueëŠ” ì¸ìŠ¤í„´ìŠ¤ ë‚´ë¶€ì— ì˜¤ë¸Œì íŠ¸ë¥¼ ì„ ì–¸í•˜ê³  ìƒˆë¡œìš´ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ê°ì§€í•  ìˆ˜ ì—†ì—ˆë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ì—ëŠ” Vue.set ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ê°ì²´ì— ë°˜ì‘ì„±ì„ ë¶€ì—¬í–ˆë‹¤.\nVue3ëŠ” ì´ëŸ¬í•œ ë°ì´í„° ë°˜ì‘ì„±ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë¦¬ì•¡í‹°ë¹„í‹° APIë¥¼ ì§€ì›í•œë‹¤. ê°ì²´ì— ë°˜ì‘ì„±ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œ ë¦¬ì•¡í‹°ë¸Œ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.\në‹¨ìˆœ ê°’ì´ë¼ë©´ ref ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤. ì´ì™¸ì—ë„ Readonly, ToRef ë“± ë°˜ì‘ì„±ì„ ì§€ì›í•˜ëŠ” ì—¬ëŸ¬ API ê°€ ì¶”ê°€ë˜ì—ˆë‹¤.\n","date":"2023-04-18T20:05:16+09:00","image":"https://codemario318.github.io/post/vue3/vue3_cover_huce45f5603be21a224ec2957025110a35_3700_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/vue3/","title":"Vue3 ì‚´í´ë³´ê¸°"},{"content":" í™”ë©´ì´ ìˆ˜ì •ë  ë•Œ, ë Œë”ë§ ê³¼ì •ì„ ìµœì í™”í•˜ëŠ” ë°©ë²•\nì¬ë°°ì¹˜(Reflow)ì™€ ë‹¤ì‹œ ê·¸ë¦¬ê¸°(Repainting) ì²˜ìŒ í™”ë©´ì´ ê·¸ë ¤ì§„ í›„ ì‚¬ìš©ìì˜ ì¸í„°ë ‰ì…˜ì— ì˜í•´ ìš”ì†Œê°€ ë³€ê²½ë˜ëŠ” ì¼ì´ ë°œìƒí•˜ì˜€ì„ë•Œ, Render íŠ¸ë¦¬ê°€ ë³€ê²½ë˜ë©´ì„œ ë°œìƒí•œë‹¤.\nì´ ê³¼ì •ì´ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•  ìˆ˜ë¡ ì„±ëŠ¥ ë° ì‚¬ìš©ì ê²½í—˜ì´ ì €í•˜ë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në‹¤ì‹œ ê·¸ë¦¬ê¸°(Repainting) ì¬ë°°ì¹˜ê°€ ë°œìƒí•˜ê±°ë‚˜ ìš”ì†Œì˜ ìƒ‰ìƒë“±ì´ ë³€ê²½ëœ ê²½ìš°, ë‹¤ì‹œ í™”ë©´ì— í‘œí˜„í•˜ëŠ” ë™ì‘.\ní™”ë©´ì˜ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ\nReflow ê³¼ì •ì„ ê±°ì³ í™”ë©´ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ê³„ì‚°í•œ í›„ Repaint ê³¼ì •ì„ í†µí•´ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë¦°ë‹¤.\ní™”ë©´ì˜ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œì—ëŠ” Reflowì™€ Repaint ëª¨ë‘ ë°œìƒí•©ë‹ˆë‹¤. í™”ë©´ì˜ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í™”ë©´ ë³€í™”ì˜ ê²½ìš°\nRepaintë§Œ ë°œìƒí™”ë©´ êµ¬ì¡°(Layout)ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ, ë·°í¬íŠ¸ ë‚´ì—ì„œ ë Œë” íŠ¸ë¦¬ì˜ ë…¸ë“œì˜ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •ì„ ë‹¤ì‹œ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.\nopacity,Â background-color,Â visibility,Â outlineÂ ë“±ì˜ ìŠ¤íƒ€ì¼ ë³€ê²½ ì‹œì—ëŠ” Repaintë§Œ ë™ì‘í•œë‹¤. RepaintëŠ” ë³€ê²½ëœ í™”ë©´ì„ ì‹¤ì œ í™”ë©´ì— ë°˜ì˜í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ ìµœì í™”í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ í™”ë©´ ë³€í™”ë¥¼ ìµœì†Œí™”í•  ìˆ˜ ìˆëŠ” ë°©ë²• ë¿ì´ë‹¤.\nì¬ë°°ì¹˜(Reflow) í™”ë©´ êµ¬ì¡°(Layout)ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ, ë·°í¬íŠ¸ ë‚´ì—ì„œ ë Œë” íŠ¸ë¦¬ì˜ ë…¸ë“œì˜ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •\nReflowê°€ ë°œìƒí•˜ëŠ” ê²½ìš° DOM ë…¸ë“œì˜ ì¶”ê°€, ì œê±° DOM ë…¸ë“œì˜ ìœ„ì¹˜ ë³€ê²½ DOM ë…¸ë“œì˜ í¬ê¸° ë³€ê²½(margin, padding, border, width, height ë“±..) CSS3 ì• ë‹ˆë©”ì´ì…˜ê³¼ íŠ¸ëœì§€ì…˜ í°íŠ¸ ë³€ê²½, í…ìŠ¤íŠ¸ ë‚´ìš© ë³€ê²½ ì´ë¯¸ì§€ í¬ê¸° ë³€ê²½ offset, scrollTop, scrollLeftê³¼ ê°™ì€ ê³„ì‚°ëœ ìŠ¤íƒ€ì¼ ì •ë³´ ìš”ì²­ í˜ì´ì§€ ì´ˆê¸° ë Œë”ë§ ìœˆë„ìš° ë¦¬ì‚¬ì´ì§• ìœ„ì˜ ë‚´ìš©ì—ì„œ ë¹ ì¡Œë”ë¼ë„ í™”ë©´ì˜ êµ¬ì¡°ê°€ ë³€ê²½ë˜ì—ˆë‹¤ë©´ Reflowê°€ ë°œìƒí•œë‹¤.\nReflow ìµœì í™” ì¬ë°°ì¹˜ ì‘ì—…ì€ ë‹¤ì‹œ ê·¸ë¦¬ê¸° ì‘ì—…ì„ ë™ë°˜í•˜ê¸° ë•Œë¬¸ì— ê²½ìš°ì— ë”°ë¼ Render íŠ¸ë¦¬ ì „ì²´ë¥¼ ì¬êµ¬ì„±í•  ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ ë‹¤ì‹œ ê·¸ë¦¬ê¸°ë§Œ ë°œìƒí•  ë–„ì— ë¹„í•´ì„œ ë¹„ìš©ì´ í›¨ì”¬ ë¹„ì‹¸ë‹¤.\nì¬ë°°ì¹˜, ë‹¤ì‹œ ê·¸ë¦¬ê¸° ì‘ì—…ì„ ìµœì†Œí™” í•˜ëŠ” ê³¼ì •ì„ í†µí•´ ìµœì í™”ë¥¼ í•œë‹¤.\nReflowëŠ” ë Œë” íŠ¸ë¦¬ì˜ ë³€í™”ë¥¼ ìµœì†Œí™”í•˜ëŠ” ë“±.. DOMì˜ depthë¥¼ ìµœì†Œí™”\nDOMì˜ ê¹Šì´ì™€ í¬ê¸°ë¥¼ ì‘ê²Œ êµ¬ì„±í•˜ì—¬ ì¬ë°°ì¹˜ë¥¼ ë” ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê²Œ ë§Œë“ ë‹¤. ìŠ¤íƒ€ì¼ ë³€ê²½ì„ í•œë²ˆì— ì²˜ë¦¬í•œë‹¤.\n1 2 3 4 5 .newstyles { width: 100px; height: 200px; margin: 10px; } 1 2 3 4 5 // ë¹„íš¨ìœ¨ì ì¸ ì½”ë“œ ì˜ˆì‹œ var myelement = document.getElementById(\u0026#39;myelement\u0026#39;); myelement.width = \u0026#39;100px\u0026#39;; myelement.height = \u0026#39;200px\u0026#39;; myelement.style.margin = \u0026#39;10px\u0026#39;; 1 2 3 // ê°œì„ ëœ ì˜ˆì‹œ var myelement = document.getElementById(\u0026#39;myelement\u0026#39;); myelement.classList.add(\u0026#39;newstyles\u0026#39;); ë¯¸ë¦¬ ë§Œë“¤ì–´ë†“ì€ ìŠ¤íƒ€ì¼ì„ í•œë²ˆì— ì ìš©í•˜ì—¬ ì¬ë°°ì¹˜ë¥¼ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤.\nì£¼ë³€ì— ì˜í–¥ì„ ì£¼ëŠ” ìš”ì†Œë¥¼ ì œí•œí•œë‹¤.\nì¸í„°ë ‰ì…˜ì— ì˜í•´ í¬ê¸°ë‚˜ ìœ„ì¹˜ê°€ ë³€ê²½ë˜ëŠ” ìš”ì†ŒëŠ” ë³‘ê²½ë  ë•Œ ì£¼ë³€ ìš”ì†Œë“¤ì´ ìµœëŒ€í•œ ì˜í–¥ë°›ì§€ ì•Šë„ë¡ ì •ì˜í•œë‹¤.\nìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ê²½ìš° ê°€ì¥ í•˜ìœ„ ë…¸ë“œì˜ í´ë˜ìŠ¤ë¥¼ ë³€ê²½ ì• ë‹ˆë©”ì´ì…˜ì´ ìˆëŠ” ë…¸ë“œëŠ” positionì„ fixed ë˜ëŠ” absolute ë¡œ ì§€ì •í•œë‹¤. ê°œë°œì ë„êµ¬ë¥¼ ì´ìš©í•˜ì—¬ ë¶„ì„\nê°œë°œì ë„êµ¬ë¥¼ ì´ìš©í•˜ì—¬ ì¬ë°°ì¹˜ì™€ ë‹¤ì‹œ ê·¸ë¦¬ê¸°ê°€ ì–¼ë§ˆë‚˜ ë°œìƒí•˜ëŠ”ì§€ í™•ì¸í•˜ê³  í•´ë‹¹ ìš”ì†Œë¥¼ ìµœì í™” ì‹œë„í•œë‹¤.\në¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤.\nReact, VueëŠ” íŠ¸ë¦¬ í˜•íƒœì˜ Objectë¥¼ í†µí•´ Virtual DOMì„ êµ¬ì„±í•˜ê³  ìš”ì†Œê°€ ë³€ê²½ë  ë•Œ ì—…ë°ì´íŠ¸í•œë‹¤. ê·¸ í›„ ìµœì¢… ìƒíƒœì˜ Virtual DOMì„ ì‹¤ì œ DOMì— ë°˜ì˜í•˜ì—¬ ì¬ë°°ì¹˜ì™€ ë‹¤ì‹œ ê·¸ë¦¬ê¸°ë¥¼ ìµœì†Œí™” ì‹œì¼œ ë Œë”ë§ ìµœì í™”ë¥¼ êµ¬í˜„í•œë‹¤.\nìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ê²½ìš° ê°€ì¥ í•˜ìœ„ ë…¸ë“œì˜ í´ë˜ìŠ¤ë¥¼ ë³€ê²½\nDOM ë…¸ë“œì˜ í¬ê¸° ë˜ëŠ” ìœ„ì¹˜ê°€ ë³€ê²½ë˜ë©´ í•˜ìœ„ ë…¸ë“œì™€ ìƒìœ„ ë…¸ë“œê¹Œì§€ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ê°€ì¥ í•˜ìœ„ ë…¸ë“œì˜ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ê²½ìš°, ì „ì²´ ë…¸ë“œê°€ ì•„ë‹ˆë‹ˆ ì¼ë¶€ ë…¸ë“œë¡œ ì˜í–¥ì„ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤.\ní•˜ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” ë³´í†µ ë³€ê²½í•´ì•¼ í•  ë…¸ë“œë“¤ì´ ì •í•´ì ¸ ìˆê¸° ë•Œë¬¸ì— ì ìš© ë²”ìœ„ê°€ í¬ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì• ë‹ˆë©”ì´ì…˜ì´ ìˆëŠ” ë…¸ë“œëŠ” positionì„ fixed ë˜ëŠ” absoluteë¡œ ì§€ì •í•œë‹¤. ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ëŠ” ë§ì€ Reflow ë¹„ìš©ì´ ë°œìƒí•˜ê²Œ ë¨.\nposition ì†ì„±ì„ fixed ë˜ëŠ” absolute ë¡œ ì§€ì •í•˜ë©´, í•´ë‹¹ ë…¸ë“œë¥¼ ì „ì²´ ë…¸ë“œì—ì„œ ë¶„ë¦¬ì‹œì¼œ ì¼ë¶€ë§Œ Reflowê°€ ë°œìƒí•˜ë„ë¡ ì œí•œì‹œí‚¬ ìˆ˜ ìˆë‹¤.\nì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¥¼ ì¤˜ì•¼ í•˜ëŠ” ë…¸ë“œì— position ì†ì„±ì´ ì ìš©ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘ ì‹œ position ì†ì„± ê°’ì„ fixed ë˜ëŠ” absoluteë¡œ ë³€ê²½í•˜ì˜€ë‹¤ê°€ ì• ë‹ˆë©”ì´ì…˜ ì¢…ë£Œ í›„ ë‹¤ì‹œ ì›ë³µ ì‹œì¼œ ë Œë”ë§ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤.\n\u0026lt;table\u0026gt; ë ˆì´ì•„ì›ƒì„ í”¼í•œë‹¤. \u0026lt;table\u0026gt; ì€ ì ì§„ì ìœ¼ë¡œ ë Œë”ë§ ë˜ì§€ ì•Šê³ , ëª¨ë‘ ë¡œë“œë˜ê³  í…Œì´ë¸” ë„ˆë¹„ê°€ ê³„ì‚°ëœ í›„ í™”ë©´ì— ê·¸ë ¤ì§„ë‹¤. í…Œì´ë¸” ì•ˆì˜ ì½˜í…ì¸ ì˜ ê°’ì— ë”°ë¼ í…Œì´ë¸” ë„ˆë¹„ê°€ ê³„ì‚°ëœë‹¤.\nì½˜í…ì¸ ì˜ ê°’ì— ë”°ë¼ í…Œì´ë¸” ë„ˆë¹„ê°€ ê³„ì‚°ë˜ê¸° ë•Œë¬¸ì—, í…Œì´ë¸” ì½˜í…ì¸ ì˜ ì‘ì€ ë³€ê²½ë§Œ ìˆì–´ë„ í…Œì´ë¸” ë„ˆë¹„ê°€ ë‹¤ì‹œ ê³„ì‚°ë˜ê³  í…Œì´ë¸”ì˜ ëª¨ë“  ë…¸ë“œë“¤ì´ Reflowê°€ ë°œìƒí•œë‹¤.\në¶€ë“ì´í•˜ê²Œ \u0026lt;table\u0026gt;ì„ ì‚¬ìš©í•  ë•ŒëŠ”Â table-layout:fixedÂ ê°’ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ntable-layout:fixedëŠ” í…Œì´ë¸”ì˜ ì½˜í…ì¸ ì˜ ê¸¸ì´ì— ë”°ë¼ í…Œì´ë¸”ì˜ ë„ˆë¹„ê°€ ê³„ì‚°ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, table-layoutì˜ ê¸°ë³¸ ê°’ì¸Â autoì— ë¹„í•´ ì„±ëŠ¥ì´ ë” ì¢‹ë‹¤.Â \u0026lt;table\u0026gt;ì„ ë ˆì´ì•„ì›ƒ ìš©ë„ê°€ ì•„ë‹Œ ë°ì´í„° í‘œì‹œ ìš©ë„ë¡œ ì‚¬ìš©í•  ë•Œë„Â table-layout:fixedë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ ë©´ì—ì„œ ë” ì¢‹ìŠµë‹ˆë‹¤. IEì˜ CSS í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. CSS í‘œí˜„ì‹ì€ ë¹„ìš©ì´ ë§¤ìš° ë†’ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì„ í”¼í•´ì•¼ í•¨\n1 2 3 .expression { width: expression(document.documentElement.clientWidth \u0026gt; 0 ? \u0026#39;1000px\u0026#39; : \u0026#39;auto\u0026#39;); } Reflowê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‘œí˜„ì‹ì´ ë‹¤ì‹œ ê³„ì‚°ë˜ê¸° ë•Œë¬¸ì— CSS í‘œí˜„ì‹ì€ ë¹„ìš©ì´ ë¹„ì‹¸ë‹¤.\nì• ë‹ˆë©”ì´ì…˜ì´ ë™ì‘í•œë‹¤ë©´, ì• ë‹ˆë©”ì´ì…˜ì— ì˜í•œ Reflowê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‘œí˜„ì‹ì´ ê³„ì‚°ë¨. CSS í•˜ìœ„ ì„ íƒìë¥¼ ìµœì†Œí™”í•œë‹¤. 1 2 3 4 5 6 7 8 /* ì˜ëª»ëœ ì˜ˆ */ .reflow_box .reflow_list li .btn{ display:block; } /* ì˜¬ë°”ë¥¸ ì˜ˆ */ .reflow_list .btn { display:block; } CSS í•˜ìœ„ ì„ íƒìë¥¼ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ë Œë”ë§ ì„±ëŠ¥ì— ë” ì¢‹ë‹¤.\në Œë” íŠ¸ë¦¬ëŠ” DOMê³¼ CSSOMì´ í•©ì³ì ¸ì„œ ë§Œë“¤ì–´ ì§€ëŠ”ë°, DOMì€ HTMLì´ íŒŒì‹± ë˜ì–´ ë§Œë“¤ì–´ì§„ íŠ¸ë¦¬ì´ê³ , CSSOMì€ CSSê°€ íŒŒì‹± ë˜ì–´ ë§Œë“¤ì–´ì§„ íŠ¸ë¦¬ì´ë‹¤.\në‘ íŠ¸ë¦¬ë¥¼ ê²°í•©í•˜ì—¬ ë Œë” íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ”ë°, CSS í•˜ìœ„ ì„ íƒìê°€ ë§ì•„ì§€ë§Œ CSSOM íŠ¸ë¦¬ì˜ ê¹Šì´ê°€ ê¹Šì–´ì§€ê²Œ ë˜ê³  ê²°êµ­ ë Œë” íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ” ì‹œê°„ì´ ë” ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆë‹¤.\nìˆ¨ê²¨ì§„ ë…¸ë“œì˜ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•œë‹¤. display:noneìœ¼ë¡œ ìˆ¨ê²¨ì§„ ë…¸ë“œë¥¼ ë³€ê²½í•  ë•ŒëŠ” Reflowê°€ ë°œìƒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìˆ¨ê²¨ì§„ ë…¸ë“œë¥¼ í‘œì‹œí•˜ê¸° ì „ì— ë…¸ë“œì˜ ì½˜í…ì¸ ë¥¼ ë¨¼ì € ë³€ê²½í•œ í›„ í™”ë©´ì— ë‚˜íƒ€ë‚´ë©´ Reflowë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\ní´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆì— ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•œë‹¤. ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ë•Œ, ìŠ¤íƒ€ì¼ì„ ê°ê° ë³€ê²½í•  ê²½ìš° ì¶”ê°€ Reflowê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•œë²ˆì— ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nìš”ì•½ Repaint(Redraw)ëŠ” í™”ë©´ì— ë³€í™”ê°€ ìˆì„ ë•Œ í™”ë©´ì„ ê·¸ë¦¬ëŠ” ê³¼ì • Reflow(Layout)ëŠ” ë·°í¬íŠ¸ ë‚´ì—ì„œ ë Œë” íŠ¸ë¦¬ì˜ ë…¸ë“œì˜ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì • Repaintê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ” í™”ë©´ì´ ë³€ê²½ë˜ëŠ” ëª¨ë“  ê²½ìš° Reflowê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ëŠ” í™”ë©´ì˜ êµ¬ì¡°ê°€ ë°”ë€Œì—ˆì„ ê²½ìš° Reflowë¥¼ ìµœì í™”í•˜ëŠ” ë°©ë²• ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•  ê²½ìš° ê°€ì¥ í•˜ìœ„ ë…¸ë“œì˜ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í•œë‹¤. ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì• ë‹ˆë©”ì´ì…˜ì´ ìˆëŠ” ë…¸ë“œëŠ”Â positionì„Â fixedÂ ë˜ëŠ”Â absoluteë¡œ ì§€ì •í•œë‹¤. í€„ë¦¬í‹°, í¼í¬ë¨¼ìŠ¤ì˜ íƒ€í˜‘ì ì„ ì°¾ëŠ”ë‹¤. \u0026lt;table\u0026gt;Â ë ˆì´ì•„ì›ƒì„ í”¼í•œë‹¤. IEì˜ CSS í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. CSS í•˜ìœ„ ì„ íƒìë¥¼ ìµœì†Œí™”í•œë‹¤. ìˆ¨ê²¨ì§„ ë…¸ë“œì˜ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•œë‹¤. í´ë˜ìŠ¤ë¥¼ í˜¹ì€Â cssTextÂ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆì— ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•œë‹¤. DOM ì‚¬ìš©ì„ ìµœì†Œí™”í•œë‹¤. ìºì‹œë¥¼ í™œìš©í•œë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤. ","date":"2023-04-18T19:48:26+09:00","image":"https://codemario318.github.io/post/rendering_optimize/browser_cover_huc408e1e4bc0026ab219b7f7573db946e_26010_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/rendering_optimize/","title":"ëœë”ë§ ì—…ë°ì´íŠ¸ ìµœì í™”"},{"content":" CRP ìµœì í™”ë€ HTML, CSS ë° JS ê°„ ì¢…ì†ì„±ì„ ì´í•´í•˜ê³  ìµœì í™” í•˜ëŠ”ê²ƒì´ë‹¤.\nCritical Rendering Pathë€? ë¸Œë¼ìš°ì €ê°€ í˜ì´ì§€ì˜ ì´ˆê¸° ì¶œë ¥ì„ ìœ„í•´ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ìˆœì„œ\nDOM íŠ¸ë¦¬ êµ¬ì¶• CSSOM íŠ¸ë¦¬ êµ¬ì¶• JS ì‹¤í–‰ ë Œë”íŠ¸ë¦¬ êµ¬ì¶• ë ˆì´ì•„ì›ƒ ìƒì„± í˜ì¸íŒ… CSS CSSëŠ” ë Œë”ë§ ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤ì´ë¯€ë¡œ ìµœì´ˆ ë Œë”ë§ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ìµœì í™”í•˜ë ¤ë©´ í´ë¼ì´ì–¸íŠ¸ì— ìµœëŒ€í•œ ë¹ ë¥´ê²Œ ë‹¤ìš´ë¡œë“œë˜ì–´ì•¼ í•œë‹¤.\në Œë” íŠ¸ë¦¬ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ëŠ” HTML, CSS ëª¨ë‘ ë Œë”ë§ ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤ CSSê°€ ì—†ëŠ” í˜ì´ì§€ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§€ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ëŠ” DOMê³¼ CSSOMì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë  ë•Œê¹Œì§€ ë Œë”ë§ì„ ì°¨ë‹¨í•œë‹¤.\nCSSë¥¼ ê°„ë‹¨í•˜ê²Œ ìœ ì§€í•˜ê³  ê°€ëŠ¥í•œ ë¹¨ë¦¬ ì œê³µí•˜ê³  ìµœëŒ€í•œ ë¹¨ë¦¬ ë Œë”ë§ì˜ ì°¨ë‹¨ì„ í•´ì œí•´ì•¼ í•œë‹¤.\në¯¸ë””ì–´ ì¿¼ë¦¬, ë¯¸ë””ì–´ ìœ í˜• ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì •í•œ ì‚¬ìš© ì‚¬ë¡€ì™€ ë™ì ì¸ ì¡°ê±´ì— ë§ê²Œ ë Œë”ë§ì´ ì°¨ë‹¨ë˜ë¯€ë¡œ íš¨ìœ¨ì„ ë†’í ìˆ˜ ìˆë‹¤.\në¯¸ë””ì–´ ìœ í˜•ê³¼ ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ í†µí•´ ì¼ë¶€ CSS ë¦¬ì†ŒìŠ¤ë¥¼ ë Œë”ë§ ë¹„ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤ë¡œ í‘œì‹œí•  ìˆ˜ ìˆìŒ ë¸Œë¼ìš°ì €ëŠ” ì°¨ë‹¨ ë™ì‘ì´ë“  ë¹„ì°¨ë‹¨ ë™ì‘ì´ë“  ê´€ê³„ì—†ì´ ëª¨ë“  CSS ë¦¬ì†ŒìŠ¤ë¥¼ ë‹¤ìš´ë¡œë“œí•¨ ë¯¸ë””ì–´ ì¿¼ë¦¬ëŠ” í•˜ë‚˜ì˜ ë¯¸ë””ì–´ ìœ í˜•ê³¼ íŠ¹ì • ë¯¸ë””ì–´ ê¸°ëŠ¥ì˜ ì¡°ê±´ì„ í™•ì¸í•˜ëŠ” 0ê°œ ì´ìƒì˜ ì‹ìœ¼ë¡œ êµ¬ì„±ëœë‹¤.\n1 2 3 4 5 6 \u0026lt;!-- 1 --\u0026gt; \u0026lt;link href=\u0026#34;style.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;!-- 2 --\u0026gt; \u0026lt;link href=\u0026#34;print.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34; media=\u0026#34;print\u0026#34;\u0026gt; \u0026lt;!-- 3 --\u0026gt; \u0026lt;link href=\u0026#34;other.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34; media=\u0026#34;(min-width: 40em)\u0026#34;\u0026gt; ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš°\në¯¸ë””ì–´ ìœ í˜•ì´ë‚˜ ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ì œê³µí•˜ì§€ ì•Šì•„ì„œ ëª¨ë“  ê²½ìš°ì— ì ìš©ë¨ ì¦‰ í•­ìƒ ë Œë”ë§ì„ ì°¨ë‹¨í•¨ ë¯¸ë””ì–´ ìœ í˜•ì„ ì ìš©\nì½˜í…ì¸ ê°€ ì¸ì‡„ë  ë•Œë§Œ ì ìš© ì²˜ìŒì— ë¡œë“œë  ë•Œ í˜ì´ì§€ ë Œë”ë§ì„ ì°¨ë‹¨í•  í•„ìš”ê°€ ì—†ìŒ ë¯¸ë””ì–´ ì¿¼ë¦¬ ì ìš©\nì¡°ê±´ì´ ì¼ì¹˜í•˜ë©´ ìŠ¤íƒ€ì¼ì‹œíŠ¸ê°€ ë‹¤ìš´ë¡œë“œë˜ê³  ì²˜ë¦¬ë  ë•Œê¹Œì§€ ë¸Œë¼ìš°ì €ê°€ ë Œë”ë§ì„ ì°¨ë‹¨. JS ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” íŒŒì„œ ì°¨ë‹¨ ë¦¬ì†ŒìŠ¤(parser blocking resource)ì´ë©°, JSë¥¼ ì‚¬ìš©í•˜ë©´ ì½˜í…ì¸ , ìŠ¤íƒ€ì¼, ì‚¬ìš©ìì™€ì˜ ìƒí˜¸ì‘ìš©ë“± ê±°ì˜ ëª¨ë“ ê²ƒì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.\nJSì‹¤í–‰ì€ DOM ìƒì„±ì„ ì°¨ë‹¨í•˜ê³  í˜ì´ì§€ ë Œë”ë§ì„ ì§€ì—°í•˜ê²Œ ëœë‹¤.\nìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¹„ë™ê¸°ë¡œ ì„¤ì •í•˜ê³ , CRPì—ì„œ ë¶ˆí•„ìš”í•œ JSë¥¼ ì œê±°í•´ì•¼ í•œë‹¤. JSì™€ HTMLì˜ ì¢…ì†ì„± HTML íŒŒì„œëŠ” script íƒœê·¸ë¥¼ ë§Œë‚˜ë©´ DOM ìƒì„± í”„ë¡œì„¸ìŠ¤ë¥¼ ì¤‘ì§€í•˜ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ê¶Œí•œì„ ë„˜ê¸´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì˜ ì‹¤í–‰ì´ ì™„ë£Œëœ í›„ ë¸Œë¼ìš°ì €ê°€ ì¤‘ì§€í–ˆë˜ ì‹œì ë¶€í„° DOM ìƒì„±ì„ ë‹¤ì‹œ ì‹œì‘í•˜ê²Œ ëœë‹¤.\nscriptÂ íƒœê·¸ì˜ ë’·ë¶€ë¶„ì—ì„œ ì •ì˜ëœ ì–´ë– í•œ íƒœê·¸ë“¤ë„ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë…¸ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤. ë˜í•œ, ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ DOM ìƒì„±ì´ ì°¨ë‹¨ë˜ê³ , ì´ë¡œ ì¸í•´ ì´ˆê¸° ë Œë”ë§ë„ ì§€ì—°ëœë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ ì¸í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í™”ë©´ì— ê·¸ë ¤ì§€ëŠ” íƒœê·¸ë“¤ì´ ëª¨ë‘ íŒŒì‹± ëœ í›„ì¸,Â \u0026lt;body\u0026gt;Â íƒœê·¸ë¥¼ ë‹«ê¸° ì§ì „ì—Â \u0026lt;script\u0026gt;Â íƒœê·¸ë¥¼ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nJSì™€ CSSì˜ ì¢…ì†ì„± CSSë¥¼ íŒŒì‹± í•˜ëŠ” ë™ì•ˆ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìŠ¤íƒ€ì¼ ì •ë³´ë¥¼ ìš”ì²­í•˜ëŠ” ê²½ìš°, CSSê°€ íŒŒì‹±ì´ ëë‚˜ì§€ ì•Šì€ ìƒíƒœë¼ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. CSS íŒŒì‹±ìœ¼ë¡œ ìƒì„±ë˜ëŠ” CSSOMê³¼ JavaScriptì—ì„œ ìŠ¤íƒ€ì¼ ìˆ˜ì • ì‹œ ë°œìƒí•˜ëŠ” CSSOM ìˆ˜ì • ì‚¬ì´ì— ê²½ìŸ ì¡°ê±´(race condition)ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\në¸Œë¼ìš°ì €ëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ CSSOMì„ ìƒì„±í•˜ëŠ” ì‘ì—…ì´ ì™„ë£Œí•  ë•Œê¹Œì§€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë° DOM ìƒì„±ì„ ì§€ì—°ì‹œí‚¨ë‹¤. DOM, CSSOM, ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê°„ì— ì¢…ì†ì„± ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì— í˜ì´ì§€ë¥¼ ì²˜ë¦¬í•˜ê³  ë Œë”ë§ í•  ë•Œ ìƒë‹¹í•œ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në¹„ë™ê¸° JS HTMLì„ íŒŒì‹± í•˜ë©´ì„œ script íƒœê·¸ë¥¼ ë§Œë‚˜ë©´ DOM ìƒì„±ì„ ì¤‘ì§€ì‹œí‚¤ê³  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì—ê²Œ ì œì–´ ê¶Œí•œì„ ë„˜ê²¨ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•œ í›„, DOM ìƒì„±ì„ ì§„í–‰í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 \u0026lt;!-- index.html --\u0026gt; \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width,initial-scale=1\u0026#34;\u0026gt; \u0026lt;link href=\u0026#34;style.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Critical Path: Script\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Hello \u0026lt;span\u0026gt;web performance\u0026lt;/span\u0026gt; students!\u0026lt;/p\u0026gt; \u0026lt;script src=\u0026#34;app.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 1 2 3 4 5 6 7 8 9 // app.js var span = document.getElementsByTagName(\u0026#39;span\u0026#39;)[0]; span.textContent = \u0026#39;interactive\u0026#39;; // change DOM text content span.style.display = \u0026#39;inline\u0026#39;; // change CSSOM property // create a new element, style it, and append it to the DOM var loadTime = document.createElement(\u0026#39;div\u0026#39;); loadTime.textContent = \u0026#39;You loaded this page on: \u0026#39; + new Date(); loadTime.style.color = \u0026#39;blue\u0026#39;; document.body.appendChild(loadTime); ìœ„ì—ì„œ ì‚´í´ë³¸ ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ë¿ë§Œ ì•„ë‹ˆë¼ ìœ„ì˜ ì½”ë“œì™€ ê°™ì´Â scriptÂ íƒœê·¸ë¥¼ í†µí•´ í¬í•¨ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—­ì‹œ íŒŒì‹±ì„ ì¤‘ì§€ì‹œí‚¨ë‹¤.\nscriptÂ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ê²½ìš°, ì„œë²„ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê°€ì ¸ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼í•˜ë©° ì´ë¡œ ì¸í•´ ìˆ˜ì‹­~ìˆ˜ì²œ ë°€ë¦¬ì´ˆì˜ ì§€ì—°ì´ ì¶”ê°€ë¡œ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nê¸°ë³¸ì ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë  ë•Œ, ìŠ¤í¬ë¦½íŠ¸ê°€ í˜ì´ì§€ì—ì„œ ë¬´ì—‡ì„ ìˆ˜í–‰í• ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ë¸Œë¼ìš°ì €ëŠ” ìµœì•…ì˜ ëŒ€ë¹„í•˜ì—¬ íŒŒì„œë¥¼ ì°¨ë‹¨í•œë‹¤.\në¸Œë¼ìš°ì €ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°”ë¡œ ì‹¤í–‰í•  í•„ìš”ê°€ ì—†ìŒì„ ì•Œë ¤ì¤€ë‹¤ë©´, ë¸Œë¼ìš°ì €ëŠ” ê³„ì†í•´ì„œ DOMì„ ìƒì„±í•  ìˆ˜ ìˆê³  DOM ìƒì„±ì´ ëë‚œ í›„ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nì´ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ë¹„ë™ê¸° ìë°”ìŠ¤í¬ë¦½íŠ¸ì´ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width,initial-scale=1\u0026#34;\u0026gt; \u0026lt;link href=\u0026#34;style.css\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Critical Path: Script Async\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Hello \u0026lt;span\u0026gt;web performance\u0026lt;/span\u0026gt; students!\u0026lt;/p\u0026gt; \u0026lt;script src=\u0026#34;app.js\u0026#34; async\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ìœ„ì˜ ì½”ë“œì™€ ê°™ì´ ë‹¨ìˆœíˆ script íƒœê·¸ì— async ì†ì„±ì„ ì¶”ê°€í•´ ì£¼ë©´ ë©ë‹ˆë‹¤. async ì†ì„±ì„ script íƒœê·¸ì— ì¶”ê°€í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‚¬ìš© ê°€ëŠ¥í•´ì§ˆ ë•Œê¹Œì§€ ë¸Œë¼ìš°ì €ì—ê²Œ DOM ìƒì„±ì„ ì¤‘ì§€í•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤ëŠ” ê²ƒì„ ì•Œë¦´ ìˆ˜ ìˆë‹¤.\në¦¬ì†ŒìŠ¤ ìš°ì„ ìˆœìœ„ ì§€ì • ë¸Œë¼ìš°ì €ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ë¦¬ì†ŒìŠ¤(ìŠ¤í¬ë¦½íŠ¸ë‚˜ ì´ë¯¸ì§€ë³´ë‹¤ CSS ìš°ì„ )ë¥¼ ìš°ì„  ë¡œë“œí•˜ê¸° ìœ„í•´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤ ìƒê°ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì¶”ì¸¡í•˜ì—¬ ë¨¼ì € ë¡œë“œí•œë‹¤. í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ì—ê²Œ ë¦¬ì†ŒìŠ¤ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì „ë‹¬í•˜ì—¬ ì¤‘ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë¨¼ì € ì²˜ë¦¬í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.\npreload ì†ì„± í˜„ì¬ í˜ì´ì§€ì—ì„œ ë¹ ë¥´ê²Œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì— ì‚¬ìš©ë˜ëŠ” ì†ì„±ì´ë‹¤.\n\u0026lt;link rel=\u0026quot;preload\u0026quot; as=\u0026quot;...\u0026quot;\u0026gt;ëŠ” ë¸Œë¼ìš°ì €ì—ê²Œ í˜„ì¬ ë¦¬ì†ŒìŠ¤ê°€ í•„ìš”í•˜ë©°, ê°€ëŠ¥í•œ í•œ ë¹¨ë¦¬ ê°€ì ¸ì˜¤ê¸°ë¥¼ ì‹œë„í•´ì•¼ í•œë‹¤ê³  ì•Œë¦¬ëŠ” ì—­í• ì„ í•œë‹¤.\n1 2 \u0026lt;link rel=\u0026#34;preload\u0026#34; as=\u0026#34;script\u0026#34; href=\u0026#34;super-important.js\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preload\u0026#34; as=\u0026#34;style\u0026#34; href=\u0026#34;critical.css\u0026#34;\u0026gt; asÂ ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ì˜ ìœ í˜•ì„ ì•Œë ¤ì¤˜ì•¼ í•œë‹¤. ë¸Œë¼ìš°ì €ëŠ” ì˜¬ë°”ë¥¸ ìœ í˜•ì´ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ë¯¸ë¦¬ ê°€ì ¸ì˜¨ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. preloadëŠ” ë¸Œë¼ìš°ì €ê°€ ë°˜ë“œì‹œ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¤ê²Œ ë§Œë“¤ë©°, ë¦¬ì†ŒìŠ¤ë¥¼ ë‘ ë²ˆ ê°€ì ¸ì˜¤ê²Œ í•˜ê±°ë‚˜, í•„ìš”í•˜ì§€ ì•Šì€ ê²ƒì„ ê°€ì ¸ì˜¤ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼í•œë‹¤.\npreloadë¥¼ ì´ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì™”ì§€ë§Œ í˜„ì¬ í˜ì´ì§€ì—ì„œ ì¦‰ì‹œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ëŠ” ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì›Œë‹ ë¡œê·¸ê°€ ë…¸ì¶œëœë‹¤.\nprefetch ì†ì„± ë¯¸ë˜ì— í•„ìš”í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì™€ì•¼ í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì†ì„±ì´ë‹¤.Â \u0026lt;link rel=\u0026quot;prefetch\u0026quot;\u0026gt;ëŠ” í˜„ì¬ í˜ì´ì§€ ë¡œë”©ì´ ë§ˆì¹˜ê³  ë‹¤ìš´ë¡œë“œí•  ì—¬ìœ ê°€ ìƒê²¼ì„ ë•Œ ê°€ì¥ ë‚®ì€ ìš°ì„ ìˆœìœ„ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\nprefetchëŠ” ì‚¬ìš©ìê°€ ë‹¤ìŒì— í•  í–‰ë™ì„ ë¯¸ë¦¬ ì¤€ë¹„í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í˜„ì¬ í˜ì´ì§€ê°€ 1í˜ì´ì§€ ë¼ë©´,\n1 \u0026lt;link rel=\u0026#34;prefetch\u0026#34; href=\u0026#34;page-2.html\u0026#34;\u0026gt; ìœ„ì˜ ì½”ë“œì™€ ê°™ì´ ì‚¬ìš©í•˜ì—¬ 2í˜ì´ì§€ë¥¼ ë¨¼ì € ê°€ì ¸ì™€ ì¤€ë¹„í•˜ê²Œ ëœë‹¤.\npage-2.htmlì˜ HTMLë§Œ ê°€ì ¸ì˜¤ê³  page-2.htmlì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¦¬ì†ŒìŠ¤ëŠ” ê°€ì ¸ì˜¤ì§€ ì•ŠëŠ”ë‹¤.\nìš”ì•½ CSS ìµœì í™” ë°©ë²•\në¯¸ë””ì–´ ìœ í˜•, ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ì‚¬ìš© JavaScript ìµœì í™” ë°©ë²•\nbodyÂ íƒœê·¸ ë‹«ê¸° ì§ì „Â \u0026lt;script\u0026gt;Â íƒœê·¸ë¥¼ ì„ ì–¸ \u0026lt;script ... async\u0026gt;ì™€ ê°™ì´Â asyncÂ ì†ì„±ì„ ì‚¬ìš© ë¦¬ì†ŒìŠ¤ ìš°ì„ ìˆœìœ„ ì§€ì •\ní˜„ì¬ í˜ì´ì§€ì—ì„œ ë¹ ë¥´ê²Œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ë¦¬ì†ŒìŠ¤ì—Â \u0026lt;link rel=\u0026quot;preload\u0026quot; as=\u0026quot;...\u0026quot;\u0026gt;ì™€ ê°™ì´Â preloadÂ ì†ì„±ì„ ì‚¬ìš© ë¯¸ë˜ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ëŠ”Â \u0026lt;link rel=\u0026quot;prefetch\u0026quot;\u0026gt;ì™€ ê°™ì´Â prefetchÂ ì†ì„±ì„ ì‚¬ìš© ","date":"2023-04-18T19:27:35+09:00","image":"https://codemario318.github.io/post/crp_optimize/browser_cover_huc408e1e4bc0026ab219b7f7573db946e_26010_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/crp_optimize/","title":"Critical Rendering Path ìµœì í™”"},{"content":"ë¸Œë¼ìš°ì € ê¸°ë³¸ êµ¬ì¡° ì‚¬ìš©ì ì¸í…Œí˜ì´ìŠ¤\nìš”ì²­í•œ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ì˜ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ë¶€ë¶„\në¸Œë¼ìš°ì € ì—”ì§„\nì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì™€ ë Œë”ë§ ì—”ì§„ ì‚¬ì´ì˜ ë™ì‘ì„ ì œì–´\nëœë”ë§ ì—”ì§„\nìš”ì²­í•œ ì½˜í…ì¸  í‘œì‹œ\nHTMLì„ ìš”ì²­í•˜ë©´ HTMLê³¼ CSSë¥¼ íŒŒì‹±í•˜ì—¬ í™”ë©´ì— í‘œì‹œí•¨ í†µì‹ \nHTTP ìš”ì²­ê³¼ ê°™ì€ ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œì— ì‚¬ìš©ë¨.\ní”Œë«í¼ ë…ë¦½ì ì¸ ì¸í„°í˜ì´ìŠ¤ì´ê³  ê° í”Œë«í¼ í•˜ë¶€ì—ì„œ ì‹¤í–‰ë¨. UI ë°±ì•¤ë“œ\nì½¤ë³´ ë°•ìŠ¤ì™€ ì°½ ê°™ì€ ê¸°ë³¸ì ì¸ ì¥ì¹˜ë¥¼ ê·¸ë¦¼\ní”Œë«í¼ì—ì„œ ëª…ì‹œí•˜ì§€ ì•Šì€ ì¼ë°˜ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¡œì„œ, OS ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì²´ê³„ë¥¼ ì‚¬ìš© ìë°”ìŠ¤í¬ë¦½íŠ¸ í•´ì„ê¸°\nìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ í•´ì„í•˜ê³  ì‹¤í–‰\nìë£Œ ì €ì¥ì†Œ\nìë£Œë¥¼ ì €ì¥í•˜ëŠ” ê³„ì¸µìœ¼ë¡œ ì¿ í‚¤ì™€ ê°™ì€ ëª¨ë“  ì¢…ë¥˜ì˜ ìì›ì„ í•˜ë“œë””ìŠ¤í¬ì— ì €ì¥.\nHTML5ì—ëŠ” ë¸Œë¼ìš°ì €ê°€ ì§€ì›í•˜ëŠ” \u0026lsquo;ì›¹ ë°ì´í„° ë² ì´ìŠ¤\u0026rsquo; ê°€ ì •ì˜ë˜ì–´ ìˆë‹¤. í¬ë¡¬ì€ ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ì™€ ë‹¬ë¦¬ ê° íƒ­ë§ˆë‹¤ ë³„ë„ì˜ ë Œë”ë§ ì—”ì§„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìœ ì§€í•˜ì—¬, ê° íƒ­ì´ ë…ë¦½ëœ í”„ë¡œì„¸ìŠ¤ë¡œ ì²˜ë¦¬ëœë‹¤.\në Œë”ë§ ë Œë”ë§ ì—”ì§„ ìš”ì²­ë°›ì€ ë‚´ìš©ì„ ë¸Œë¼ìš°ì € í™”ë©´ì— í‘œì‹œí•¨. HTML ë° XML ë¬¸ì„œì™€ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆë‹¤.\në Œë”ë§ ì—”ì§„ì˜ ì—­í• ì€ ìš”ì²­ë°›ì€ ë‚´ìš©ì„ ë¸Œë¼ìš°ì € í™”ë©´ì— ë‚˜íƒ€ë‚´ëŠ” ì¼ì´ë‹¤. HTML, CSS JS ë“±ì˜ íŒŒì¼ì„ ë¸Œë¼ìš°ì €ê°€ í™”ë©´ì— í‘œì‹œí•  ìˆ˜ ìˆë„ë¡ ë³€í™˜í•˜ì—¬ í”½ì…€ ë‹¨ìœ„ë¡œ ë‚˜íƒ€ë‚¸ë‹¤.\në Œë”ë§ ì—”ì§„ ë™ì‘ê³¼ì • ë Œë”ë§ ì—”ì§„ì€ ìš”ì²­í•œ ë¬¸ì„œì˜ ë‚´ìš©ì„ ì–»ëŠ” ê²ƒì—ì„œ ì‹œì‘í•˜ë©°, ë³´í†µ 8KB ë‹¨ìœ„ë¡œ ì „ì†¡ëœë‹¤.\në Œë”ë§ ì—”ì§„ì€ HTML ë¬¸ì„œë¥¼ íŒŒì‹±í•˜ê³  ì½˜í…ì¸  íŠ¸ë¦¬ ë‚´ë¶€ì—ì„œ íƒœê·¸ë¥¼ DOM ë…¸ë“œë¡œ ë³€í™˜í•œë‹¤. ê·¸ ë‹¤ìŒ ì™¸ë¶€ CSS íŒŒì¼ê³¼ í•¨ê»˜ í¬í•¨ëœ ìŠ¤íƒ€ì¼ ìš”ì†Œë„ íŒŒì‹±í•œë‹¤. ìŠ¤íƒ€ì¼ ì •ë³´ì™€ HTML í‘œì‹œ ê·œì¹™ì€ ë Œë” íŠ¸ë¦¬ ë¼ê³  ë¶€ë¥´ëŠ” ë˜ ë‹¤ë¥¸ íŠ¸ë¦¬ë¥¼ ìƒì„±í•œë‹¤.\níŒŒì‹± ë¬¸ì„œë¥¼ í†µí•´ íŒŒì‹±íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ” ê³¼ì •\nì–´íœ˜ë¶„ì„: Tokenizer\në¬¸ì„œë¥¼ ì½ì–´ ì •í•´ë†“ì€ ê·œì¹™ì„ í†µí•´ í† í°ì„ ì¶”ì¶œí•˜ëŠ” ë„êµ¬, ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤.\nToken: ì˜ë¯¸ì ìœ¼ë¡œ ë”ì´ìƒ ë‚˜ëˆŒ ìˆ˜ ì—†ëŠ” ê¸°ë³¸ì ì¸ ì–¸ì–´ ìš”ì†Œë¥¼ í‘œí˜„í•˜ëŠ” ë°ì´í„° ë‹¨ìœ„\nêµ¬ë¬¸ë¶„ì„: Lexer\ní† í°ì— ì•½ì†ëœ ì˜ë¯¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ë„êµ¬, ê³¼ì •\nì–´íœ˜ë¶„ì„ê³¼ êµ¬ë¬¸ë¶„ì„ì˜ ê²°ê³¼ë¬¼ì„ ì´ìš©í•˜ì—¬ íŒŒì‹±íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ” ê³¼ì •ì´ë‹¤. ì»´íŒŒì¼ íŒŒì‹±ì„ í†µí•´ ë§Œë“¤ì–´ì§„ ê²°ê³¼ë¬¼ì„ ê¸°ê³„ ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ë‹¤\nDOM - ë¬¸ì„œ ê°ì²´ ëª¨ë¸: Document Object Model HTML, XML ë¬¸ì„œì˜ í”„ë¡œê·¸ë˜ë° ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. HTML ë¬¸ì„œì˜ ê°ì²´ í‘œí˜„\në¬¸ì„œì˜ êµ¬ì¡°í™”ëœ í‘œí˜„ì„ ì œê³µí•˜ë©° í”„ë¡œê·¸ë˜ë° ì–¸ì–´ê°€ DOM êµ¬ì¡°ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•˜ì—¬ ê·¸ë“¤ì´ ë¬¸ì„œ êµ¬ì¡°, ìŠ¤íƒ€ì¼, ë‚´ìš© ë“±ì„ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ë•ëŠ”ë‹¤.\nnodesì™€ propertyì™€ method ë¥¼ ê°–ê³  ìˆëŠ” objectsë¡œ ë¬¸ì„œë¥¼ í‘œí˜„í•œë‹¤. ì´ë“¤ì€ ì›¹ í˜ì´ì§€ë¥¼ ìŠ¤í¬ë¦½íŠ¸ ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë“¤ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆê²Œ ì—°ê²°ì‹œì¼œì£¼ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\në™ì¼í•œ ë¬¸ì„œë¥¼ í‘œí˜„, ì €ì¥, ì¡°ì‘í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•˜ëŠ” ì›¹ í˜ì´ì§€ì˜ ê°ì²´ ì§€í–¥ í‘œí˜„\në”°ë¼ì„œ, DOMì€ ë§ˆí¬ì—…ê³¼ 1:1 ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.\n1 2 3 4 5 6 \u0026lt;html\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Hello World\u0026lt;/p\u0026gt; \u0026lt;div\u0026gt;\u0026lt;img src=\u0026#34;example.png\u0026#34; /\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; CSSOM(CSS Object Model) ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ DOMì„ ìƒì„±í•˜ëŠ” ê³¼ì • ê·¸ëŒ€ë¡œ CSSOMì„ ìƒì„±í•œë‹¤.\në¸Œë¼ìš°ì €ëŠ” DOMì„ ìƒì„±í•˜ëŠ” ë™ì•ˆ ì™¸ë¶€ CSSë¥¼ ì°¸ì¡°í•˜ëŠ” \u0026lt;link\u0026gt; íƒœê·¸ë¥¼ ë§Œë‚˜ê²Œ ë˜ë©´ ë¸Œë¼ìš°ì €ì— ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•¨. CSSì˜ ì›ì‹œ ë°”ì´íŠ¸ê°€ ë¬¸ìì—´ë¡œ ë³€í™˜ ëœ í›„ ì°¨ë¡€ë¡œ í† í°ê³¼ ë…¸ë“œë¡œ ë³€í™˜ë˜ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ CSSOMì´ë¼ëŠ” íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ë§Œë“ ë‹¤. CSSOMì€ í•˜í–¥ì‹ìœ¼ë¡œ ê·œì¹™ì„ ì ìš©í•˜ê¸° ë•Œë¬¸ì— íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤. ìµœì¢… ìŠ¤íƒ€ì¼ì„ ê³„ì‚°í•  ë•Œ ë¸Œë¼ìš°ì €ëŠ” í•´ë‹¹ ë…¸ë“œì— ì ìš© ê°€ëŠ¥í•œ ê°€ì¥ ì¼ë°˜ì ì¸ ê·œì¹™ìœ¼ë¡œ ì‹œì‘í•´ ë” êµ¬ì²´ì ì¸ ê·œì¹™ì„ ì ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.\nDOM íŠ¸ë¦¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ CSSOM íŠ¸ë¦¬ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì— í•´ë‹¹ í•˜ëŠ” ìŠ¤íƒ€ì¼ë£°ì´ ì ìš©ì´ ëœ íŠ¸ë¦¬ í˜•íƒœë¡œ êµ¬ì„±ë˜ëŠ” ê²ƒ ê°™ë‹¤.\nì–´íƒœì¹˜ë¨¼íŠ¸: ëœë”ë§ íŠ¸ë¦¬ ìƒì„± ê³¼ì • DOM íŠ¸ë¦¬ì™€ CSSOM íŠ¸ë¦¬ë¥¼ ê²°í•©í•˜ì—¬, í‘œì‹œí•´ì•¼ í•  ìˆœì„œë¡œ ë‚´ìš©ì„ ê·¸ë ¤ëƒ ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ë Œë”íŠ¸ë¦¬ë¥¼ í˜•ì„±í•œë‹¤. ì´ ê³¼ì •ì„ ì›¹í‚·ì—ì„œëŠ” ì–´í…Œì¹˜ë¨¼íŠ¸ë¼ê³  í•œë‹¤.\në Œë”íŠ¸ë¦¬ëŠ” í™”ë©´ì— í‘œì‹œë˜ëŠ” ê° ë…¸ë“œì˜ ìœ„ì¹˜ë¥¼ ê³„ì‚°í•˜ëŠ” ë ˆì´ì•„ì›ƒì— ì‚¬ìš©ë˜ê³  í”½ì…€ì„ í•˜ë©´ì— ê·¸ë¦¬ëŠ” í˜ì¸íŠ¸ ê³¼ì •ì—ë„ ì‚¬ìš©ë¨\nëœë” íŠ¸ë¦¬ ìƒì„± ê³¼ì • DOM íŠ¸ë¦¬ êµ¬ì¶•ì„ ìœ„í•œ HTML íŒŒì‹± HTML íŒŒì‹± â†’ DOM íŠ¸ë¦¬ êµ¬ì¶• CSSOM íŠ¸ë¦¬ êµ¬ì¶•ì„ ìœ„í•œ CSS íŒŒì‹± CSS â†’ CSSOM íŠ¸ë¦¬ ìƒì„± DOM íŠ¸ë¦¬ì™€ CSSOM íŠ¸ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ëœë” íŠ¸ë¦¬ êµ¬ì¶• DOM Tree + CSSOM Tree = Rendering Tree ëœë”ë§ íŠ¸ë¦¬ ìƒì„± ê³¼ì • 2 DOM íŠ¸ë¦¬ì˜ ë£¨íŠ¸ì—ì„œ ì‹œì‘í•˜ì—¬ í‘œì‹œë˜ëŠ” ë…¸ë“œ ê°ê°ì„ íƒìƒ‰í•¨ ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸, ë©”íƒ€ íƒœê·¸ ë“± ëœë”ë§ëœ ì¶œë ¥ì— ë°˜ì˜ë˜ì§€ ì•ŠëŠ” íŠ¸ë¦¬ë“¤ì´ ìƒëµë¨ CSSë¥¼ ì†ì„±ì„ í†µí•´ ìˆ¨ê²¨ì§€ëŠ” ë…¸ë“œë“¤ì´ ìƒëµë¨ ex) display: none í‘œì‹œëœ ê° ë…¸ë“œì— ëŒ€í•´ ì ì ˆí•˜ê²Œ ì¼ì¹˜í•˜ëŠ” CSSOM ê·œì¹™ì„ ì°¾ì•„ ì ìš© í‘œì‹œëœ ë…¸ë“œë¥¼ ì½˜í…ì¸  ë° ê³„ì‚°ëœ ìŠ¤íƒ€ì¼ê³¼ í•¨ê»˜ ë‚´ë³´ëƒ„ visibility: hiddenì€ ë¹„ì–´ ìˆëŠ” ìƒìë¡œ ë Œë”ë§ë˜ì§€ë§Œ display: noneì€ ëœë”ë§ì—ì„œ ì œì™¸ë¨. ë”°ë¼ì„œ í›„ìëŠ” ìŠ¤í¬ë¦° ë¦¬ë”ê¸°ì—ì„œ ì½ì„ ìˆ˜ ì—†ìŒ, ì „ìëŠ” ì¼ë¶€ ìŠ¤í¬ë¦° ë¦¬ë”ê¸°ì—ì„œ ì¸ì‹í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì ‘ê·¼ì„±ì„ ìœ„í•œ IR ì²˜ë¦¬ì‹œ ì£¼ì˜í•´ì•¼ í•œë‹¤.\nìµœì¢… ì¶œë ¥ì€ í™”ë©´ì— í‘œì‹œë˜ëŠ” ëª¨ë“  ë…¸ë“œì˜ ì½˜í…ì¸  ë° ìŠ¤íƒ€ì¼ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” ë Œë”ë§ íŠ¸ë¦¬\në ˆì´ì•„ì›ƒ ë Œë” íŠ¸ë¦¬ê°€ ìƒì„±ë˜ê³ , ê¸°ê¸°ì˜ ë·°í¬íŠ¸ ë‚´ì—ì„œ ë Œë” íŠ¸ë¦¬ì˜ ë…¸ë“œê°€ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •.\nëª¨ë“  ìƒëŒ€ì ì¸ ì¸¡ì •ê°’ì€ í™”ë©´ì—ì„œ ì ˆëŒ€ì ì¸ í”½ì…€ë¡œ ë³€í™˜ë¨. ì¦‰ CSSì— ìƒëŒ€ì ì¸ ê°’ì¸ %ë¡œ í• ë‹¹ëœ ê°’ë“¤ì€ ì ˆëŒ€ì ì¸ ê°’ì¸ PX ë‹¨ìœ„ë¡œ ë³€í™˜.\n1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width,initial-scale=1\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Critial Path: Hello world!\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div style=\u0026#34;width: 50%\u0026#34;\u0026gt; \u0026lt;div style=\u0026#34;width: 50%\u0026#34;\u0026gt;Hello world!\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ë·°í¬íŠ¸ ë‚´ì—ì„œ ê° ìš”ì†Œì˜ ì •í™•í•œ ìœ„ì¹˜ì™€ í¬ê¸°ë¥¼ ì •í™•í•˜ê²Œ ìº¡ì²˜í•˜ëŠ” ìƒì ëª¨ë¸ì´ ì¶œë ¥ëœë‹¤. ëª¨ë“  ìƒëŒ€ì ì¸ ì¸¡ì •ê°’ì€ í™”ë©´ì—ì„œ ì ˆëŒ€ì ì¸ í”½ì…€ë¡œ ë³€í™˜ëœë‹¤.\ní˜ì¸íŒ… ë Œë”ë§ íŠ¸ë¦¬ì˜ ê° ë…¸ë“œë¥¼ í™”ë©´ì˜ ì‹¤ì œ í”½ì…€ë¡œ ë³€í™˜í•˜ëŠ” ë§ˆì§€ë§‰ ë‹¨ê³„ë¡œ ì´ëŸ¬í•œ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\u0026lsquo;Layout\u0026rsquo; ì´ë²¤íŠ¸ëŠ” íƒ€ì„ë¼ì¸ì—ì„œ ë Œë”ë§ íŠ¸ë¦¬ ìƒì„±, ìœ„ì¹˜ ë° í¬ê¸° ê³„ì‚°ì„ ìº¡ì²˜. ë ˆì´ì•„ì›ƒì´ ì™„ë£Œë  ë•Œ ë¸Œë¼ìš°ì €ê°€ Paint Setup ë° Paint ì´ë²¤íŠ¸ë¥¼ ë°œìƒ. ì´ëŸ¬í•œ ì‘ì—…ì€ ë Œë”ë§ íŠ¸ë¦¬ë¥¼ í™”ë©´ì˜ í”½ì…€ë¡œ ë³€í™˜. ë Œë”ë§ íŠ¸ë¦¬ ìƒì„±, ë ˆì´ì•„ì›ƒ ë° í˜ì¸íŠ¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì‹œê°„ì€ ë¬¸ì„œì˜ í¬ê¸°, ì ìš©ëœ ìŠ¤íƒ€ì¼ ë° ì‹¤í–‰ ì¤‘ì¸ ê¸°ê¸°ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.\në¬¸ì„œê°€ í´ìˆ˜ë¡ ë¸Œë¼ìš°ì €ê°€ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ” ì‘ì—…ë„ ë” ë§ì•„ì§€ë©°, ìŠ¤íƒ€ì¼ì´ ë³µì¡í• ìˆ˜ë¡ í˜ì¸íŒ…ì— ê±¸ë¦¬ëŠ” ì‹œê°„ë„ ëŠ˜ì–´ë‚˜ê²Œ ëœë‹¤.\nex) ë‹¨ìƒ‰ì€ í˜ì¸íŠ¸í•˜ëŠ” ë° ì‹œê°„ê³¼ ì‘ì—…ì´ ì ê²Œ í•„ìš”í•œ ë°˜ë©´, ê·¸ë¦¼ì íš¨ê³¼ëŠ” ê³„ì‚°í•˜ê³  ë Œë”ë§í•˜ëŠ” ë° ì‹œê°„ê³¼ ì‘ì—…ì´ ë” í•„ìš”í•˜ë‹¤. ìš”ì•½ HTML ë§ˆí¬ì—…ì„ ì²˜ë¦¬í•˜ê³  DOM íŠ¸ë¦¬ë¥¼ ë¹Œë“œ (DOM íŒŒì‹±) CSS ë§ˆí¬ì—…ì„ ì²˜ë¦¬í•˜ê³  CSSOM íŠ¸ë¦¬ë¥¼ ë¹Œë“œ (CSS íŒŒì‹±) DOM ë° CSSOMì„ ê²°í•©í•˜ì—¬ ë Œë” íŠ¸ë¦¬ë¥¼ í˜•ì„± (Attachment) ë Œë” íŠ¸ë¦¬ì—ì„œ ë ˆì´ì•„ì›ƒì„ ì‹¤í–‰í•˜ì—¬ ê° ë…¸ë“œì˜ ê¸°í•˜í•™ì  í˜•íƒœë¥¼ ê³„ì‚° (Layout) ê°œë³„ ë…¸ë“œë¥¼ í™”ë©´ì— í˜ì¸íŠ¸(Painting) ì°¸ê³  ìë£Œ\nhttps://developers.google.com/web/fundamentals/performance/critical-rendering-path?hl=ko https://janghanboram.github.io/2018/06/06/browser-rendering/ https://d2.naver.com/helloworld/59361 http://taligarsiel.com/Projects/howbrowserswork1.htm#Render_tree_construction https://grosskurth.ca/papers/browser-refarch.pdf https://yilpe93.github.io/2018/06/18/etc/web-browser/ https://sangbui.com/sb-files/BrowserArchitecture_ClientSide.pdf https://medium.com/@monica1109/how-does-web-browsers-work-c95ad628a509 https://blog.lgcns.com/1911 https://cisctbd.github.io/Report.pdf https://blog.asamaru.net/2017/05/04/understanding-the-critical-rendering-path/ ","date":"2023-04-18T18:48:11+09:00","image":"https://codemario318.github.io/post/browser/browser_cover_huc408e1e4bc0026ab219b7f7573db946e_26010_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/browser/","title":"ë¸Œë¼ìš°ì €"},{"content":"Message Queueë€? MQë€ ë©”ì‹œì§€ ê¸°ë°˜ì˜ ë¯¸ë“¤ì›¨ì–´ë¡œ ë©”ì‹œì§€ë¥¼ ì´ìš©í•˜ì—¬ ì—¬ëŸ¬ ì–´í”Œë¦¬ì¼€ì´ì…˜, ì‹œìŠ¤í…œ, ì„œë¹„ìŠ¤ë“¤ì„ ì—°ê²°í•´ì£¼ëŠ” ì†”ë£¨ì…˜ì´ë‹¤. MOM(Message Oriented Middleware)ë¥¼ êµ¬í˜„í•œ ì†”ë£¨ì…˜ìœ¼ë¡œ ë¹„ë™ê¸° ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ë“¤ ì‚¬ì´ì—ì„œ ë°ì´í„°ë¥¼ êµí™˜í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.\nProducer(sender)ê°€ ë©”ì‹œì§€ë¥¼ íì— ì „ì†¡í•˜ë©´ Consumer(receiver)ê°€ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ, Producerì™€ Consumerì— message í”„ë¡œì„¸ìŠ¤ê°€ ì¶”ê°€ë˜ëŠ” ê²ƒì´ íŠ¹ì§•ì´ë‹¤.\nMQë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸°ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  Queue ì— ì €ì¥í•˜ì—¬ Consumerì—ê²Œ ë³‘ëª©ì„ ì¤„ì—¬ì¤„ ìˆ˜ ìˆìœ¼ë‚˜ ì œí’ˆë§ˆë‹¤ êµ¬í˜„ì´ ë‹¤ë¥´ê³  ì¥ë‹¨ì´ ìˆë‹¤.\nëŒ€í‘œ ì†”ë£¨ì…˜ IBM MQ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ìƒìš© MQ ì œí’ˆìœ¼ë¡œ í‘œì¤€ JMS ë©”ì‹œì§€ ã…‡ê¸°ë°˜ìœ¼ë¡œ MQTT í”„ë¡œí† ì½œì„ ì§€ì›í•œë‹¤.\nApache ActiveMQ ìë°” ê¸°ë°˜ì˜ JMS Queueë¥¼ ì§€ì›í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ë¡œ MQTT, AMQP, OpenWire, STOMP í”„ë¡œí† ì½œì„ ì§€ì›í•œë‹¤. ë‹¤ì–‘í•œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ë©° í¬ëŸ¬ìŠ¤í„°ë§ì´ ê°€ëŠ¥í•˜ë‹¤. ë‹¨ ëª¨ë‹ˆí„°ë§ ë„êµ¬ëŠ” ì—†ë‹¤. REST APIë¥¼ í†µí•´ ì›¹ê¸°ë°˜ ë©”ì‹œì§• APIë¥¼ ì§€ì›í•˜ë©° Ajaxë¥¼ í†µí•´ ìˆœìˆ˜í•œ DHTMLì„ ì‚¬ìš©í•œ ì›¹ìŠ¤íŠ¸ë¦¬ë°ì„ ì§€ì› Rabbit MQ ê³ ì„±ëŠ¥ì„ ëª©í‘œë¡œ AMQP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œëœ MQ ë¡œ Erlang OTP ê¸°ë°˜ìœ¼ë¡œ ê°œë°œë˜ì—ˆë‹¤. ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ì´ ìš©ì´í•˜ê³  ë‹¤ì–‘í•œ ì–¸ì–´ ë° OS ì§€ì›, RabbitMQ ì„œë²„ê°„ í´ëŸ¬ìŠ¤í„°ë§ì´ ê°€ëŠ¥í•˜ë‹¤. Kafka Linkedinì—ì„œ êµ¬ì§ì •ë³´ë“¤ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ìœ¼ë¡œ ê°œë°œì´ ì‹œì‘ë˜ì—ˆë‹¤. ì‹¤ì‹œê°„ ë¡œê·¸ ì²˜ë¦¬ì— íŠ¹í™”ë˜ì–´ ì„¤ê³„ëœ ì‹œìŠ¤í…œìœ¼ë¡œ ê°œë°œë˜ì–´ íƒ€ MQ ëŒ€ë¹„ TPSê°€ ë§¤ìš° ìš°ìˆ˜í•˜ë‚˜ íŠ¹í™”ëœ ì†”ë£¨ì…˜ì´ê¸° ë•Œë¬¸ì— íƒ€ MQì†”ë£¨ì…˜ì—ì„œ ì œê³µí•˜ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì€ ì œê³µë˜ì§€ ì•ŠëŠ”ë‹¤. AMQP, JMS ì´ ì•„ë‹Œ ë‹¨ìˆœ ë©”ì‹œì§€ í—¤ë”ë¥¼ ì´ìš©í•œ TCP í†µì‹ ì´ë‹¤. MQëŠ” brokerê°€ pruducerì—ê²Œ ë©”ì„¸ì§€ë¥¼ ë°›ì•„ì„œ consumer ì—ê²Œ pushí•´ì£¼ëŠ” ë°©ì‹ì¸ë° ë°˜í•´, kafkaëŠ” consumerê°€ Brokerë¡œ ë¶€í„° ì§ì ‘ ë©”ì‹œì§€ë¥¼ ê°€ì§€ê³  ê°€ëŠ” pull ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤. ConsumerëŠ” ìì‹ ì˜ ì²˜ë¦¬ëŠ¥ë ¥ ë§Œí¼ì˜ ë©”ì‹œì§€ë§Œ brokerë¡œë¶€í„° ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— ìµœì ì˜ ì„±ëŠ¥ì„ ë‚¼ ìˆ˜ ìˆë‹¤. ë§ì€ ë°ì´í„° ì „ì†¡ê³¼ ìµœëŒ€ ì²˜ë¦¬ëŸ‰ì„ ìœ ì§€í•˜ê¸°ì— ëŒ€ëŸ‰ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë°ì— ì í•©í•˜ë‹¤. ìƒíƒœ ë³€ê²½ì´ ì‹œê°„ìˆœìœ¼ë¡œ ê¸°ë¡ë˜ì–´ì•¼ í•˜ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì¸ ì´ë²¤íŠ¸ ì†Œì‹±(Event Sourcing) ì €ì¥ì†Œë¡œ ì í•©í•˜ë‹¤. ","date":"2023-04-18T17:19:16+09:00","image":"https://codemario318.github.io/post/message_queue/mq_cover_hu0d801aafbbe1fc1c7c4e885cbcd16691_10519_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/message_queue/","title":"Message Queue"},{"content":"What is Type Annotation in TypeScript íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ë³€ìˆ˜, í•¨ìˆ˜, ê°ì²´ ë“±ê³¼ ê°™ì€ ì‹ë³„ìì˜ ìœ í˜•ì„ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•œë‹¤.\n: type êµ¬ë¬¸ì„ ì‹ë³„ì ë’¤ì— ë¶™ì´ëŠ” íƒ€ì… ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.\ntypeì€ ëª¨ë“  ìœ íš¨í•œ ìœ í˜• ê°€ëŠ¥ ì‹ë³„ìì— íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ë©´ í•´ë‹¹ íƒ€ì…ìœ¼ë¡œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì‹ë³„ìê°€ ë‹¤ë¥¸ ìœ í˜•ìœ¼ë¡œ ì‚¬ìš©ë˜ë©´ íƒ€ì…ìŠ¤í´ì…íŠ¸ ì»´íŒŒì¼ëŸ¬ì—ì„œ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\nType annotations in variables and constants 1 2 3 let variableName: type; let variableName: type = value; const constantName: type = value; ìœ„ ì½”ë“œì—ì„œ íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì€ ë³€ìˆ˜, ìƒìˆ˜ ì´ë¦„ ë’¤ì— :ì„ ë¶™ì´ê³  ê·¸ ë’¤ì— íƒ€ì…ì´ ì˜¨ë‹¤.\nì§€ì •í•œ íƒ€ì… ì™¸ ë‹¤ë¥¸ íƒ€ì… ê°’ì„ í• ë‹¹í•˜ë©´ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\nType annotation examples ë°°ì—´\në°°ì—´ íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì€ : type[] ë¡œ í‘œì‹œí•œë‹¤.\n1 2 let arrayName: type[]; let names: string[] = [\u0026#39;John\u0026#39;, \u0026#39;Jane\u0026#39;, \u0026#39;Peter\u0026#39;, \u0026#39;David\u0026#39;, \u0026#39;Mary\u0026#39;]; ê°ì²´\n1 2 3 4 5 6 7 8 9 let person: { name: string; age: number }; person = { name: \u0026#39;John\u0026#39;, age: 25 }; í•¨ìˆ˜ ì¸ìì™€ ë°˜í™˜í˜•\n1 2 3 4 5 let greeting : (name: string) =\u0026gt; string; greeting = function (name: string) { return `Hi ${name}`; }; ìœ„ì™€ ê°™ì´ íƒ€ì… ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•  ê²½ìš° stringì„ ì¸ìë¡œ ë°›ê³ , stringì„ ë°˜í™˜í•˜ëŠ” ëª¨ë“  í•¨ìˆ˜ë¥¼ greetingì— í• ë‹¹í•  ìˆ˜ ìˆë‹¤.\nBase Type number\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ëª¨ë“  ìˆ«ìëŠ” ë¶€ë™ ì†Œìˆ˜ì ê°’ê³¼ í° ì •ìˆ˜ê°’ì— í¬í•¨ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 let price: number; let price = 9.95; let counter: number = 0; let x: number = 100, y: number = 200; let bin = 0b100; let anotherBin: number = 0B010; let octal: number = 0o10; let hexadecimal: number = 0XA; let big: bigint = 9007199254740991n; string\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 let firstName: string = \u0026#39;John\u0026#39;; let title: string = \u0026#34;Web Developer\u0026#34;; let description = `This TypeScript string can span multiple lines `; let firstName: string = `John`; let title: string = `Web Developer`; let profile: string = `I\u0026#39;m ${firstName}. I\u0026#39;m a ${title}`; console.log(profile); /** result I\u0026#39;m John. I\u0026#39;m a Web Developer. **/ boolean\n1 2 3 4 5 let pending: boolean; pending = true; // after a while // .. pending = false; Object Type íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ object íƒ€ì…ì€ ì›ì‹œ íƒ€ì…ì´ ì•„ë‹Œ ëª¨ë“  ê°’ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì›ì‹œ íƒ€ì… number bigint string boolean null undfined symbol objectë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ì›ì‹œ íƒ€ì…ì„ ì œì™¸í•œ ëª¨ë“  ìë£Œí˜•ì„ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 let employee: object; employee = { firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Doe\u0026#39;, age: 25, jobTitle: \u0026#39;Web Developer\u0026#39; }; console.log(employee); 1 2 3 4 5 6 { firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Doe\u0026#39;, age: 25, jobTitle: \u0026#39;Web Developer\u0026#39; } ë§Œì•½ objectë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ë¥¼ ë‹¤ë¥¸ ì›ì‹œ íƒ€ì…ìœ¼ë¡œ ë‹¤ì‹œ í• ë‹¹í•˜ë ¤ê³  í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.\n1 2 employee = \u0026#34;Jane\u0026#34;; // error TS2322: Type \u0026#39;\u0026#34;Jane\u0026#34;\u0026#39; is not assignable to type \u0026#39;object\u0026#39;. object íƒ€ì…ì€ ì„ ì–¸ë  ë•Œ ì§€ì •í•œ í”„ë¡œí¼í‹° ëª©ë¡ì„ ê³ ì •ì ìœ¼ë¡œ ê°€ì§€ê²Œ ë˜ì–´, ì„ ì–¸ë˜ì§€ ì•Šì€ í”„ë¡œí¼í‹°ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\n1 2 console.log(employee.hireDate); // error TS2339: Property \u0026#39;hireDate\u0026#39; does not exist on type \u0026#39;object\u0026#39;. ğŸ’¡ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³´ìœ í•˜ì§€ ì•Šì€ í”„ë¡œí¼í‹°ë¥¼ í˜¸ì¶œí•˜ë©´ undefinedë¥¼ ë°˜í™˜í•œë‹¤.\nobject íƒ€ì… ë‚´ë¶€ì— ì§€ì •ë˜ëŠ” í”„ë¡œí¼í‹°ë“¤ì˜ íƒ€ì…ì„ ì§€ì •í•  ìˆ˜ ë„ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 let employee: { firstName: string; lastName: string; age: number; jobTitle: string; }; employee = { firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Doe\u0026#39;, age: 25, jobTitle: \u0026#39;Web Developer\u0026#39; }; 1 2 3 4 5 6 7 8 9 10 11 let employee: { firstName: string; lastName: string; age: number; jobTitle: string; } = { firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Doe\u0026#39;, age: 25, jobTitle: \u0026#39;Web Developer\u0026#39; }; object VS Object íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì²« ë²ˆì§¸ ëŒ€ë¬¸ìë§Œ ë‹¤ë¥¸ Object íƒ€ì…ë„ ìˆë‹¤.\nobject íƒ€ì…ì€ ì›ì‹œ íƒ€ì…ì´ ì•„ë‹Œ ëª¨ë“  ê°’ë“¤ì„ í‘œí˜„í•˜ê³ , Object íƒ€ì…ì€ ë™ì‘í•˜ëŠ” ëª¨ë“  ê°ì²´ë“¤ì„ ì˜ë¯¸í•œë‹¤.\nğŸ’¡ ìë°”ìŠ¤í¬ë¦½íŠ¸ì— í¬í•¨ëœ ëª¨ë“  ìƒì„±ìë“¤ì€ Objectë¥¼ extendí•œë‹¤. ë”°ë¼ì„œ Objectì—ëŠ” ëª¨ë“  ê°ì²´ê°€ í• ë‹¹ë  ìˆ˜ ìˆë‹¤. ì¦‰ ë™ì‘í•˜ëŠ” ëª¨ë“  ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.\nThe empty type íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë¹„ì–´ìˆëŠ” íƒ€ì…ì„ í‘œí˜„í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ {} ê°€ ìˆëŠ”ë°, object íƒ€ì…ê³¼ ìœ ì‚¬í•˜ê²Œ ë™ì‘í•œë‹¤.\n1 2 3 4 let vacant: {}; vacant.firstName = \u0026#39;John\u0026#39;; //error TS2339: Property \u0026#39;firstName\u0026#39; does not exist on type \u0026#39;{}\u0026#39;. 1 2 3 4 let vacant: {} = {}; console.log(vacant.toString()); // [object Object] 1 2 3 4 5 6 7 8 9 let vacant: {} = { firstName: \u0026#39;John\u0026#39; }; console.log(vacant); // { firstName: \u0026#39;John\u0026#39; } console.log(vacant.firstName); // error TS2339: Property \u0026#39;firstName\u0026#39; does not exist on type \u0026#39;{}\u0026#39;. Array íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ArrayëŠ” ìˆœì„œê°€ ìˆëŠ” ë°ì´í„° ë¦¬ìŠ¤íŠ¸ë¥¼ ì˜ë¯¸í•œë‹¤.\n1 let ì´ë¦„: íƒ€ì…[]; 1 2 3 4 5 6 let skills: string[]; skills[0] = \u0026#34;Problem Solving\u0026#34;; skills[1] = \u0026#34;Programming\u0026#34;; skills.push(\u0026#39;Software Design\u0026#39;); 1 let skills = [\u0026#39;Problem Sovling\u0026#39;,\u0026#39;Software Design\u0026#39;,\u0026#39;Programming\u0026#39;]; 1 2 let skills: string[]; skills = [\u0026#39;Problem Sovling\u0026#39;,\u0026#39;Software Design\u0026#39;,\u0026#39;Programming\u0026#39;]; ìœ„ì²˜ëŸ¼ ì„ ì–¸ëœ skillsì— ë‹¤ë¥¸ íƒ€ì…ì„ ë„£ì„ ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤\n1 2 skills.push(100); // Argument of type \u0026#39;number\u0026#39; is not assignable to parameter of type \u0026#39;string\u0026#39;. ë°°ì—´ íƒ€ì…ì´ ê°€ì§„ ì†ì„±ê³¼ ë©”ì†Œë“œ 1 2 let series = [1, 2, 3]; console.log(series.length); // 3 ìœ ìš©í•œ ë©”ì„œë“œë¡œ forEach(), map(), reduce(), filter() ë“±ì´ ìˆë‹¤.\n1 2 3 4 5 let series = [1, 2, 3]; let doubleIt = series.map(e =\u0026gt; e* 2); console.log(doubleIt); [ 2, 4, 6 ] ì—¬ëŸ¬ íƒ€ì… ì„ì–´ ì €ì¥í•˜ê¸° 1 let scores = [\u0026#39;Programming\u0026#39;, 5, \u0026#39;Software Design\u0026#39;, 4]; 1 2 let scores : (string | number)[]; scores = [\u0026#39;Programming\u0026#39;, 5, \u0026#39;Software Design\u0026#39;, 4]; Tuple Tupleì€ arrayì— ì¶”ê°€ ì œì•½ì‚¬í•­ì´ ë¶™ì€ í˜•íƒœì´ë‹¤.\në‚´ë¶€ ìš”ì†Œ ê°¯ìˆ˜ ê³ ì • ë‚´ë¶€ ìš”ì†Œì˜ íƒ€ì…ì„ ì„ ì–¸í•  ë•Œ ê°™ì„ í•„ìš”ëŠ” ì—†ìŒ 1 2 let skill: [string, number]; skill = [\u0026#39;Programming\u0026#39;, 5]; 1 2 3 let skill: [string, number]; skill = [5, \u0026#39;Programming\u0026#39;]; // error TS2322: Type \u0026#39;string\u0026#39; is not assignable to type \u0026#39;number\u0026#39;. 1 let color: [number, number, number] = [255, 0, 0]; Optional Tuple Elements íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ 3.0ë¶€í„° ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìš”ì†Œ ì„ ì–¸ì´ ì¶”ê°€ë˜ì—ˆë‹¤. ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•  ìš”ì†Œ ì•ì— ?ë¥¼ ì•ì— ë¶™ì¸ë‹¤.\n1 2 3 let bgColor, headerColor: [number, number, number, number?]; bgColor = [0, 255, 255, 0.5]; headerColor = [0, 255, 255]; Enum Enumì€ ìƒìˆ˜ ê°’ë“¤ì„ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ ì´ë¦„ ë¶™ì¸ íƒ€ì…ì´ë‹¤.\n1 enum name {constant1, constant2, ...}; constant1, constant2, ...ëŠ” enumì˜ ë©¤ë²„ê°€ ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 enum Month { Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec }; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 function isItSummer(month: Month) { let isSummer: boolean; switch (month) { case Month.Jun: case Month.Jul: case Month.Aug: isSummer = true; break; default: isSummer = false; break; } return isSummer; } isItSummerì˜ ì¸ìì¸ monthëŠ” Month enumì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.\n1 2 3 console.log(isItSummer(Month.Dec)); //false console.log(isItSummer(11)); //false console.log(isItSummer(MonthSecond.Dec)); //error TS2345: Argument of type \u0026#39;MonthSecond.Dec\u0026#39; is not assignable to parameter of type \u0026#39;Month\u0026#39;. ","date":"2023-04-18T17:09:29+09:00","image":"https://codemario318.github.io/post/typescript_tutorial_2/ts_cover_hua836966f7fcda4b3d2856eb0c525b4e2_8490_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/typescript_tutorial_2/","title":"TypeScript Tutorial - 2. Basic Types"},{"content":"Setup Tools Node.js: TS ì»´íŒŒì¼ëŸ¬ ì‹¤í–‰ì„ ìœ„í•´ í•„ìš”í•¨ TypeScript ì»´íŒŒì¼ëŸ¬: TSë¥¼ JSë¡œ ì»´íŒŒì¼í•´ì¤€ë‹¤. ts-node TS ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê³  REPL(read-eval-print loop: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í™˜ê²½) ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. TypeScript ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜ npmì„ ì´ìš©í•´ Typescriptë¥¼ ì „ì—­ í™˜ê²½ì— ì„¤ì¹˜ 1 npmÂ installÂ -gÂ typescript ì„¤ì¹˜ ì™„ë£Œ í›„ tsc ê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸ 1 tsc --v ts-node ë¥¼ ì „ì—­ í™˜ê²½ì— ì„¤ì¹˜ 1 npm install -g ts-node What is TypeScript íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ìƒìœ„ì§‘í•©(superset)ì´ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŠ¹ì„±ì„ ì¹¨ë²”í•˜ì§€ ì•Šê³  ì§€ì›í•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‘ì„± í›„, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¼ë°˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¡œ ì»´íŒŒì¼ í•œë‹¤.\ní‰ë²”í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ ê°€ëŠ¥í•œ ëª¨ë“  í™˜ê²½ì—ì„œ ë°°í¬í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ê³ , íƒ€ì… ì§€ì›ì„ ìœ„í•œ ì¶”ê°€ êµ¬ë¬¸ì´ ìˆë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ syntax ì—ëŸ¬ê°€ ì—†ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ ì´ë‹¤.\nëª¨ë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œê·¸ë¨ì´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œê·¸ë¨ì´ë¼ëŠ” ëœ» ê¸°ì¡´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ ë² ì´ìŠ¤ë¥¼ íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ëŠ” ê²½ìš° ìœ ìš©í•˜ë‹¤.\nWhy TypeScript íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë²„ê·¸ë¥¼ í”¼í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ê¸° ë•Œë¬¸ì— ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚¨ë‹¤. íƒ€ì…ì€ ë§ì€ ì‹¤ìˆ˜ë¥¼ í”¼í•˜ëŠ” ë° ë„ì›€ì„ ì¤€ë‹¤. ì´ë¥¼ í†µí•´ ëŸ°íƒ€ì„ì— ë²„ê·¸ê°€ ë°œìƒí•˜ì§€ ì•Šê³  ì»´íŒŒì¼ ì‹œê°„ì— ë²„ê·¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 function add(x, y) { return x + y; } let result = add(input1.value, input2.value); console.log(result); // result of concatenating strings add í•¨ìˆ˜ëŠ” x+yë¥¼ ë°˜í™˜í•œë‹¤. í•˜ì§€ë§Œ inputì´ html \u0026lt;input\u0026gt;ì´ë¼ë©´ .valueëŠ” ê°’ì´ ìˆ«ìì¸ ê²ƒê³¼ ìƒê´€ì—†ì´ ë¬¸ìì—´ë¡œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ”ë° ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¬¸ìì—´ + ì—°ì‚°ì„ concatìœ¼ë¡œ ì²˜ë¦¬í•˜ë¯€ë¡œ add í•¨ìˆ˜ëŠ” ì˜ë„í•œ ë™ì‘ì„ ìˆ˜í–‰í•˜ì§€ ì•Šê³  ì´ì–´ì§„ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ê²Œ ëœë‹¤.\n1 2 3 4 5 function add(x: number, y: number) { return x + y; } let result = add(input1.value, input2.value); íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì¸ìì— ë“¤ì–´ì˜¬ íƒ€ì…ì„ ì •í•  ìˆ˜ ìˆì–´ì„œ input.valueê°€ numberíƒ€ì…ì´ ì•„ë‹ ê²½ìš° ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\në”°ë¼ì„œ ì‹¤ìˆ˜ë¡œ ë‹¤ë¥¸ ê°’ì„ ë„£ì—ˆì„ ë•Œ ë°œìƒí•˜ëŠ” ì˜¤ë™ì‘ì„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤.\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¯¸ë˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í˜„ì¬ë¡œ ê°€ì ¸ì˜¨ë‹¤.\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” í˜„ì¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ëŒ€í•´ ES Nextì—ì„œ ê³„íšëœ ê¸°ëŠ¥ì„ ë¯¸ë¦¬ ì§€ì›í•œë‹¤. ë”°ë¼ì„œ ì›¹ ë¸Œë¼ìš°ì €ë‚˜ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì™„ì „íˆ ì§€ì›í•˜ê¸° ì „ì— ìƒˆë¡œìš´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë§¤ë…„ TC39ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ í‘œì¤€ì¸ ECMAScriptì— ëŒ€í•œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶œì‹œí•˜ëŠ”ë° ì¼ë°˜ì ìœ¼ë¡œ 5ë‹¨ê³„ë¥¼ ê±°ì³ ì™„ì „íˆ ì ìš©ëœë‹¤.\nStage 0: Strawperson(?: Strowman, í—ˆìˆ˜ì•„ë¹„?) Stage 1: Proposal(ì œì•ˆ) Stage 2: Draft(ì´ˆì•ˆ, ì‹ ì¸ ì„ ë°œ) Stage 3: Candidate(í›„ë³´) Stage 4: Finished() íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ Stage 3ë¶€í„° ì§€ì›í•œë‹¤.\n\u0026ldquo;Hello, World!\u0026rdquo; in node.js 1 2 let message: string = \u0026#39;Hello, World!\u0026#34;; console.log(message); tsc ì„ ì´ìš©í•´ .ts íŒŒì¼ì„ ì»´íŒŒì¼í•˜ì—¬ js íŒŒì¼ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\n1 tsc app.ts 1 node app.js ts-node ì´ìš© ì‹œ ì»´íŒŒì¼ í•˜ì§€ ì•Šì•„ë„ ì‹¤í–‰ ê°€ëŠ¥\n1 ts-node app.ts in Web Browsers 1 2 3 4 5 6 7 8 9 10 11 \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;UTF-8\u0026#34;\u0026gt; \u0026lt;meta name=\u0026#34;viewport\u0026#34; content=\u0026#34;width=device-width, initial-scale=1.0\u0026#34;\u0026gt; \u0026lt;title\u0026gt;TypeScript: Hello, World!\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;script src=\u0026#34;app.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 1 2 3 4 5 6 const message: string = \u0026#39;Hello, World!\u0026#39;; const heading = document.createElement(\u0026#39;h1\u0026#39;); heading.textContent = message; document.body.appendChild(heading); 1 tsc app.ts ","date":"2023-04-18T16:43:29+09:00","image":"https://codemario318.github.io/post/typescript_tutorial_1_1_1/ts_cover_hua836966f7fcda4b3d2856eb0c525b4e2_8490_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/typescript_tutorial_1_1_1/","title":"TypeScript Tutorial - 1. Gettig Started(1)"},{"content":"íƒ€ì… ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ” 2ê°€ì§€ ì¤‘ìš”í•œ ì´ìœ ê°€ ìˆë‹¤.\nJSì˜ ë™ì  íƒ€ì´í•‘ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ì—¬ëŸ¬ ë¬¸ì œë“¤ì„ ì˜ˆë°©í•  ìˆ˜ ìˆë‹¤. ì•ìœ¼ë¡œ ë°˜ì˜ë  JS ë¬¸ë²•ì„ ë‹¹ì¥ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (ES Next) JS ë™ì  íƒ€ì´í•‘ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ ì˜ˆë°©í•˜ëŠ” ì½”ë”©ì€ ë§¤ìš° ê·€ì°®ê¸°ë•Œë¬¸ì— ë°©ì¹˜ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.\nJS ìµœì‹  ë¬¸ë²•ì€ ê°„í¸í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê²½ìš°ê°€ ë§ê³ , ì—¬ëŸ¬ ì˜¤ë¥˜ë“¤ì´ ìˆ˜ì •ë˜ì–´ìˆë‹¤.\nJS ë™ì  íƒ€ì´í•‘ì´ë€ 1 2 3 let box; box = \u0026#34;hello\u0026#34;; box = 100; 1 2 3 4 5 6 7 8 let box; console.log(typeof(box)); // undefined box = \u0026#34;Hello\u0026#34;; console.log(typeof(box)); // string box = 100; console.log(typeof(box)); // number ë™ì  íƒ€ì´í•‘ì€ í• ë‹¹ ì½”ë“œ ìˆ˜í–‰ ì‹œì ì— í•´ì„í•˜ì—¬ ìë£Œí˜•ì„ ê²°ì •í•œë‹¤.\nì´ë¡œ ì¸í•´ ì½”ë“œê°€ ê°„ê²°í•´ì§€ê³ , ë¡œì§ì„ ëª…í™•í•˜ê²Œ ë³´ì—¬ì¤„ ìˆ˜ ìˆì§€ë§Œ. í• ë‹¹ ë  ë•Œ ë§ˆë‹¤ ìë£Œí˜•ì„ ê²°ì •í•˜ëŠ” ê³¼ì •ìœ¼ë¡œ ì¸í•´ ì •ì  íƒ€ì´í•‘ë³´ë‹¤ ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¬ê³ , ë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ìœ í˜• ê°’ì„ ì‚¬ìš©í•  ì—¬ì§€ë¥¼ ë§Œë“¤ì–´ ì½”ë“œì— í˜¼ë€ì„ ì¤€ë‹¤.\në™ì  íƒ€ì´í•‘ì˜ ë¬¸ì œ 1 2 3 4 5 6 7 function getProduct(id){ return { id: id, name: `Awesome Gadget ${id}`, price: 99.5 } } 1 2 3 4 5 const product = getProduct(1); console.log(`The product ${product.Name} costs $${product.price}`); // result // The product undefined costs $99.5 ì˜¤íƒ€ë¡œ ì¸í•´ undefinedê°€ ì¶œë ¥ë˜ì—ˆë‹¤. 1 2 3 const showProduct = (name, price) =\u0026gt; { console.log(`The product ${name} costs ${price}$.`); }; 1 2 3 4 5 const product = getProduct(1); showProduct(product.price, product.name); // result // The product 99.5 costs $Awesome Gadget 1 ì¸ì ìˆœì„œ ì‹¤ìˆ˜ë¡œ ì¸í•´ ë‹¤ë¥¸ ì˜ë„ë¡œ ì¶œë ¥ë˜ì—ˆë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë™ì  íƒ€ì´í•‘ ë¬¸ì œë¥¼ í•´ê²°í–ˆì„ê¹Œ? interface 1 2 3 4 5 interface Product{ id: number, name: string, price: number }; interfaceë¥¼ í†µí•´ Productê°ì²´ì˜ í˜•íƒœë¥¼ ì •ì˜í–ˆë‹¤.\n1 2 3 4 5 6 7 function getProduct(id) : Product{ return { id: id, name: `Awesome Gadget ${id}`, price: 99.5 } } getProductí•¨ìˆ˜ë¥¼ Productíƒ€ì…ì„ ë°˜í™˜í•˜ë„ë¡ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.\n1 2 const product = getProduct(1); console.log(`The product ${product.Name} costs $${product.price}`); í•¨ìˆ˜ì— ë°˜í™˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„¤ì •í•˜ì—¬ ì…ë ¥ì´ ë¯¸ë¦¬ ì •ì˜í•œ íƒ€ì…ì´ ì•„ë‹ ê²½ìš° ì½”ë“œ ì—ë””í„°ì—ì„œ ì˜ëª»ëœ ì½”ë“œì„ì„ í‘œì‹œí•œë‹¤.\nì‹¤ìˆ˜ë¥¼ ë¹ ë¥´ê²Œ ì•Œì•„ì°¨ë¦´ ìˆ˜ ìˆë‹¤. 1 2 3 const showProduct = (name: string, price:number) =\u0026gt; { console.log(`The product ${name} costs ${price}$.`); }; ì¸ìë¡œ ë°›ì„ íƒ€ì…ë„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. 1 2 const product = getProduct(1); showProduct(product.price, product.name); ê²°ë¡  ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë™ì  íƒ€ì´í•‘ì„ ì§€ì›í•˜ì—¬ ìœ ì—°í•˜ì§€ë§Œ ê·¸ë¡œ ì¸í•´ ë§ì€ ë¬¸ì œë“¤ì´ ë°œìƒí•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” íƒ€ì…ì„ í†µí•´ ë™ì  íƒ€ì´í•‘ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤ì„ ì˜ˆë°©í•œë‹¤. ","date":"2023-04-18T16:43:29+09:00","image":"https://codemario318.github.io/post/typescript_tutorial_1_1_2/ts_cover_hua836966f7fcda4b3d2856eb0c525b4e2_8490_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://codemario318.github.io/post/typescript_tutorial_1_1_2/","title":"TypeScript Tutorial - 1.2 Why use TypeScript"},{"content":"\nStop-the-world GCë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ JVMì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì„ ë©ˆì¶”ëŠ” ê²ƒì´ë‹¤.\nstop-the-worldê°€ ë°œìƒí•˜ë©´ GCë¥¼ ì‹¤í–‰í•˜ëŠ” ì“°ë ˆë“œë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì“°ë ˆë“œëŠ” ëª¨ë‘ ì‘ì—…ì„ ë©ˆì¶˜ë‹¤. GCì‘ì—…ì„ ì™„ë£Œí•œ ì´í›„ì—ì•¼ ì¤‘ë‹¨í–ˆë˜ ì‘ì—…ì„ ë‹¤ì‹œ ì‹œì‘í•œë‹¤. ì–´ë–¤ GC ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë”ë¼ë„ Stop-the-worldëŠ” ë°œìƒí•œë‹¤. ëŒ€ê°œì˜ ê²½ìš° GC íŠœë‹ì´ë€ ì´ Stop-the-world ì‹œê°„ì„ ì¤„ì´ëŠ” ê²ƒì´ë‹¤. GC í•„ìš”ì„± Javaì˜ ê²½ìš° (ëŒ€ë¶€ë¶„ì˜ ì–¸ì–´) í”„ë¡œê·¸ë¨ ì½”ë“œì—ì„œ ë©”ëª¨ë¦¬ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì—¬ í—¤ì œí•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ê°€ë¹„ì§€ ì»¬ë ‰í„°ê°€ ë”ì´ìƒ í•„ìš” ì—†ëŠ” ê°ì²´ë¥¼ ì°¾ì•„ ì§€ìš°ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ë©”ëª¨ë¦¬ ê³µê°„ì„ í™•ë³´í•œë‹¤.\nê°€ë” ëª…ì‹œì ìœ¼ë¡œ í•´ì œí•˜ë ¤ê³  í•´ë‹¹ ê°ì²´ë¥¼ nullë¡œ ì§€ì •í•˜ê±°ë‚˜ System.gc() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. nullë¡œ ì§€ì •í•˜ëŠ” ê²ƒì€ í° ë¬¸ì œê°€ ì•ˆë˜ì§€ë§Œ, System.gc() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ì‹œìŠ¤í…œì˜ ë§¤ìš° í° ì˜í–¥ì„ ë¼ì¹˜ë¯€ë¡œ System.gc() ë©”ì„œë“œëŠ” ì ˆëŒ€ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤.\nGarbage Collector ê°€ë¹„ì§€ ì»¬ë ‰í„°ëŠ” ë‘ ê°€ì§€ ê°€ì„¤ í•˜ì— ë§Œë“¤ì–´ì¡Œë‹¤.(ê°€ì • ë˜ëŠ” ì „ì œ ì¡°ê±´ì´ë¼ í‘œí˜„í•˜ëŠ” ê²ƒì´ ë§ë‹¤.)\nWeak generational hypothesis ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” ê¸ˆë°© ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœ(Unreachable)ê°€ ëœë‹¤. ì˜¤ë˜ëœ ê°ì²´ì—ì„œ ì Šì€ ê°ì²´ë¡œì˜ ì°¸ì¡°ëŠ” ì•„ì£¼ ì ê²Œ ì¡´ì¬í•œë‹¤. Young ì˜ì—­ê³¼ Old ì˜ì—­ ì´ ê°€ì„¤ì˜ ì¥ì ì„ ìµœëŒ€í•œ ì‚´ë¦¬ê¸° ìœ„í•´ HotSpot VM ì—ì„œëŠ” í¬ê²Œ 2ê°œë¡œ ë¬¼ë¦¬ì  ê³µê°„ì„ ë‚˜ëˆ„ì—ˆë‹¤.\nYoung ì˜ì—­\nìƒˆë¡­ê²Œ ìƒì„±í•œ ê°ì²´ì˜ ëŒ€ë¶€ë¶„ì´ ì—¬ê¸°ì— ìœ„ì¹˜í•œë‹¤. ëŒ€ë¶€ë¶„ì˜ ê°ì²´ê°€ ê¸ˆë°© ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœê°€ ë˜ê¸° ë•Œë¬¸ì— ë§¤ìš° ë§ì€ ê°ì²´ê°€ young ì˜ì—­ì— ìƒì„±ë˜ì—ˆë‹¤ê°€ ì‚¬ë¼ì§„ë‹¤. ì´ ì˜ì—­ì—ì„œ ê°ì²´ê°€ ì‚¬ë¼ì§ˆ ë•Œ Minor GCê°€ ë°œìƒí•œë‹¤ê³  ë§í•œë‹¤.\nOld ì˜ì—­\nì ‘ê·¼ ë¶ˆê°€ëŠ¥ ìƒíƒœë¡œ ë˜ì§€ ì•Šì•„ Young ì˜ì—­ì—ì„œ ì‚´ì•„ë‚¨ì€ ê°ì²´ê°€ ì—¬ê¸°ë¡œ ë³µì‚¬ëœë‹¤. ëŒ€ë¶€ë¶„ Young ì˜ì—­ë³´ë‹¤ í¬ê²Œ í• ë‹¹í•˜ë©°, í¬ê¸°ê°€ í° ë§Œí¼ Young ì˜ì—­ë³´ë‹¤ GCëŠ” ì ê²Œ ë°œìƒí•œë‹¤. ì´ ì˜ì—­ì—ì„œ ê°ì²´ê°€ ì‚¬ë¼ì§ˆ ë•Œ Major GC(Full GC)ê°€ ë°œìƒí•œë‹¤ê³  ë§í•œë‹¤.\nMinor GC ìƒˆë¡œ ìƒì„±ëœ ëŒ€ë¶€ë¶„ì˜ ê°ì²´ëŠ” Eden ì˜ì—­ì— ìœ„ì¹˜í•œë‹¤. Eden ì˜ì—­ì—ì„œ GCê°€ í•œ ë²ˆ ë°œìƒí•œ í›„ ì‚´ì•„ë‚¨ì€ ê°ì²´ëŠ” Survivor ì˜ì—­ ì¤‘ í•˜ë‚˜ë¡œ ì´ë™ëœë‹¤.\nì´ ê³¼ì •ì„ ë°˜ë³µí•˜ë‹¤ê°€ ê³„ì†í•´ì„œ ì‚´ì•„ë‚¨ì•„ ìˆëŠ” ê°ì²´ëŠ” ì¼ì •ì‹œê°„ ì°¸ì¡°ë˜ê³  ìˆë‹¤ëŠ” ëœ»ì´ë¯€ë¡œ Old ì˜ì—­ìœ¼ë¡œ ì´ë™ì‹œí‚¨ë‹¤.\nMajor GC Old ì˜ì—­ì— ìˆëŠ” ëª¨ë“  ê°ì²´ë“¤ì„ ê²€ì‚¬í•˜ì—¬ ì°¸ì¡°ë˜ì§€ ì•Šì€ ê°ì²´ë“¤ì„ í•œêº¼ë²ˆì— ì‚­ì œí•œë‹¤.\nê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì€ ì–´ë–¤ ì›ë¦¬ë¡œ ì†Œë©¸ì‹œí‚¬ ëŒ€ìƒì„ ì„ ì •í•˜ëŠ”ê°€? ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ë™ì‘ ë°©ì‹ì´ ë§¤ìš° ë‹¤ì–‘í•˜ì§€ë§Œ ê³µí†µì ì¸ ì›ë¦¬ê°€ ìˆë‹¤.\nê°€ë¹„ì§€ ì»¬ë ‰í„°ëŠ” í™ ë‚´ì˜ ê°ì²´ ì¤‘ì—ì„œ ê°€ë¹„ì§€ë¥¼ ì°¾ì•„ë‚´ê³  ì°¾ì•„ë‚¸ ê°€ë¹„ì§€ë¥¼ ì²˜ë¦¬í•´ì„œ í™ì˜ ë©”ëª¨ë¦¬ë¥¼ íšŒìˆ˜í•œë‹¤.\nì°¸ì¡°ë˜ê³  ìˆì§€ ì•Šì€ ê°ì²´ë¥¼ ê°€ë¹„ì§€ë¼ê³  í•˜ë©° ê°ì²´ê°€ ê°€ë¹„ì§€ì¸ì§€ ì•„ë‹Œì§€ íŒë‹¨í•˜ê¸° ìœ„í•´ì„œ reachablitiyë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•œë‹¤.\nì–´ë–¤ í™ ì˜ì—­ì— í• ë‹¹ëœ ê°ì²´ê°€ ìœ íš¨í•œ ì°¸ì¡°ê°€ ìˆìœ¼ë©´ reachability, ì—†ë‹¤ë©´ unreachabilityë¡œ íŒë‹¨í•œë‹¤. í•˜ë‚˜ì˜ ê°ì²´ëŠ” ë‹¤ë¥¸ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³ , ë‹¤ë¥¸ ê°ì²´ëŠ” ë˜ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì°¸ì¡° ì‚¬ìŠ¬ì´ í˜•ì„±ë˜ëŠ”ë°, ì´ ì°¸ì¡° ì‚¬ìŠ¬ ì¤‘ ìµœì´ˆì— ì°¸ì¡°í•œ ê²ƒì„ Root Setì´ë¼ê³  ì¹­í•œë‹¤.\ní™ ì˜ì—­ì— ìˆëŠ” ê°ì²´ë“¤ì€ ì´ 4ê°€ì§€ ê²½ìš°ì— ëŒ€í•˜ì—¬ ì°¸ì¡°ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.\ní˜ ë‚´ì˜ ë‹¤ë¥¸ ê°ì²´ì— ì˜í•œ ì°¸ì¡° JavaìŠ¤íƒ, ì¦‰ Java ë©”ì„œë“œ ì‹¤í–‰ ì‹œì— ì‚¬ìš©í•˜ëŠ” ì§€ì—­ë³€ìˆ˜ì™€ íŒŒë¼ë¯¸í„°ë“¤ì— ì˜í•œ ì°¸ì¡° ë„¤ì´í‹°ë¸Œ ìŠ¤íƒì— ì˜í•´ ìƒì„±ëœ ê°ì²´ì— ëŒ€í•œ ì°¸ì¡° ë©”ì„œë“œ ì˜ì—­ì˜ ì •ì  ë³€ìˆ˜ì— ì˜í•œ ì°¸ì¡° 2, 3, 4ëŠ” Root setì´ë‹¤. ì¦‰ ì°¸ì¡° ì‚¬ìŠ¬ ì¤‘ ìµœì´ˆì— ì°¸ì¡°í•œ ê²ƒì´ë‹¤.\nì¸ìŠ¤í„´ìŠ¤ê°€ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ëŒ€ìƒì´ ë˜ì—ˆë‹¤ê³  í•´ì„œ ë°”ë¡œ ì†Œë©¸ì´ ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ë¹ˆë²ˆí•œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì˜ ì‹¤í–‰ì€ ì‹œìŠ¤í…œì— ë¶€ë‹´ì´ ë  ìˆ˜ ìˆê¸°ì— ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ì‹¤í–‰ íƒ€ì´ë°ì€ ë³„ë„ì˜ ì•Œê³ ë¦¬ì¦˜ì„ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°ì´ ë˜ë©°, ì´ ê³„ì‚° ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì´ ìˆ˜í–‰ëœë‹¤.\nSerial GC ì ì€ ë©”ëª¨ë¦¬ì™€ CPU ì½”ì–´ ê°œìˆ˜ê°€ ì ì„ ë•Œ ì í•©í•œ ë°©ì‹ìœ¼ë¡œ ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë°©ì‹ìœ¼ë¡œ ë™ì‘\nParallel GC ê¸°ë³¸ì ì¸ GC ì•Œê³ ë¦¬ì¦˜ì€ Serial GCì™€ ë™ì¼í•˜ì§€ë§Œ Parallel GCëŠ” GCë¥¼ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œê°€ ì—¬ëŸ¬ ê°œë¼ì„œ ë³´ë‹¤ ë¹ ë¥¸ GCë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\në©”ëª¨ë¦¬ê°€ ì¶©ë¶„í•˜ê³  ì½”ì–´ì˜ ê°œìˆ˜ê°€ ë§ì„ ë•Œ ìœ ë¦¬í•˜ë‹¤.\nParallel Old GC (Parallel Compacting GC) ë³„ë„ë¡œ ì‚´ì•„ìˆëŠ” ê°ì²´ë¥¼ ì‹ë³„í•œë‹¤ëŠ” ë¶€ë¶„ì—ì„œ ë³´ë‹¤ ë³µì¡í•œ ë‹¨ê³„ë¡œ ìˆ˜í–‰ëœë‹¤.\n","date":"2023-04-18T16:24:22+09:00","image":"https://codemario318.github.io/post/jvm_gc/jvm_cover_hu0ae05cc4d1c0ca93a8c2f5fc57548620_55838_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/jvm_gc/","title":"JVM - Garbage Collection"},{"content":"JVM ì´ë€? JVMì´ë€ Java Virtual Machine, ìë°” ê°€ìƒ ë¨¸ì‹ ì˜ ì•½ìë¥¼ ë”°ì„œ ì¤„ì—¬ ë¶€ë¥´ëŠ” ìš©ì–´ì´ë‹¤. JVMì˜ ì—­í• ì€ ìë°” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í´ë˜ìŠ¤ ë¡œë”ë¥¼ í†µí•´ ì½ì–´ ë“¤ì—¬ ìë°” APIì™€ í•¨ê»˜ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤.\nJVMì€ Javaì™€ OS ì‚¬ì´ì—ì„œ ì¤‘ê°œì ì—­í• ì„ ìˆ˜í–‰í•˜ì—¬ JAVAê°€ OSì— êµ¬ì• ë°›ì§€ ì•Šê³  ì¬ì‚¬ìš©ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤. ë©”ëª¨ë¦¬ ê´€ë¦¬, Garbage collctionì„ ìˆ˜í–‰í•œë‹¤. ìŠ¤íƒê¸°ë°˜ì˜ ê°€ìƒë¨¸ì‹ ì´ë‹¤. ARM ì•„í‚¤í…ì³ ê°™ì€ í•˜ë“œì›¨ì–´ëŠ” ë ˆì§€ìŠ¤í„° ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ë° ë¹„í•´ JVMì€ ìŠ¤íƒ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.\nìë°”í”„ë¡œê·¸ë¨ ì‹¤í–‰ê³¼ì • í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ë©´ JVMì€ OSë¡œ ë¶€í„° í”„ë¡œê·¸ë¨ì´ í•„ìš”ë¡œ í•˜ëŠ” ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹ë°›ëŠ”ë‹¤. JVMì€ ì´ ë©”ëª¨ë¦¬ë¥¼ ìš©ë„ì— ë”°ë¼ ì—¬ëŸ¬ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ê´€ë¦¬í•œë‹¤. ìë°” ì»´íŒŒì¼ëŸ¬(javac)ê°€ ìë°” ì†ŒìŠ¤ì½”ë“œ(.java)ë¥¼ ì½ì–´ë“¤ì—¬ ìë°” ë°”ì´íŠ¸ ì½”ë“œ(.class)ë¡œ ë³€í™˜ì‹œí‚¨ë‹¤. Class Loaderë¥¼ í†µí•´ class íŒŒì¼ë“¤ì„ JVMìœ¼ë¡œ ë¡œë”©í•œë‹¤. ë¡œë”©ëœ class íŒŒì¼ë“¤ì€ Execution engineì„ í†µí•´ í•´ì„ëœë‹¤. í•´ì„ëœ ë°”ì´íŠ¸ ì½”ë“œëŠ” Runtime Data Areasì— ë°°ì¹˜ë˜ì–´ ì‹¤ì§ˆì ì¸ ìˆ˜í–‰ì´ ì´ë£¨ì–´ì§€ê²Œ ëœë‹¤. ì´ëŸ¬í•œ ì‹¤í–‰ ê³¼ì •ì†ì—ì„œ JVMì€ í•„ìš”ì— ë”°ë¼ Thread Synchronizeationê³¼ GCê°™ì€ ê´€ë¦¬ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\nJVM êµ¬ì„± í´ë˜ìŠ¤ ë¡œë” Class Loader JVM ë‚´ë¡œ í´ë˜ìŠ¤ íŒŒì¼ì„ ë¡œë“œí•˜ê³ , ë§í¬ë¥¼ í†µí•´ ë°°ì¹˜í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ëª¨ë“ˆì´ë‹¤. Runtimeì‹œì— ë™ì ìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ë¡œë“œí•œë‹¤. jaríŒŒì¼ ë‚´ ì €ì¥ëœ í¬ë˜ìŠ¤ë“¤ì„ JVMìœ„ì— íƒ‘ì¬í•˜ê³  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤ë“¤ì€ ë©”ëª¨ë¦¬ì—ì„œ ì‚­ì œí•œë‹¤. (ì»´íŒŒì¼ëŸ¬ ì—­í• )\nìë°”ëŠ” ë™ì ì½”ë“œ, ì»´íŒŒì¼ íƒ€ì„ì´ ì•„ë‹ˆë¼ ëŸ°íƒ€ì„ì— ì°¸ì¡°í•œë‹¤. ì¦‰, í´ë˜ìŠ¤ë¥¼ ì²˜ìŒìœ¼ë¡œ ì°¸ì¡°í•  ë•Œ, í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ë¡œë“œí•˜ê³  ë§í¬í•œë‹¤. ê·¸ ì—­í• ì„ í´ë˜ìŠ¤ ë¡œë”ê°€ ìˆ˜í–‰í•œë‹¤.\nì‹¤í–‰ ì—”ì§„ Execution Engine í´ë˜ìŠ¤ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤. í´ë˜ìŠ¤ ë¡œë”ê°€ JVMë‚´ì˜ ëŸ°íƒ€ì„ ë°ì´í„° ì˜ì—­ì— ë°”ì´íŠ¸ ì½”ë“œë¥¼ ë°°ì¹˜í•˜ë©´ ì‹¤í–‰ì—”ì§„ì— ì˜í•´ ì‹¤í–‰ëœë‹¤. ìë°” ë°”ì´íŠ¸ì½”ë“œëŠ” ê¸°ê³„ê°€ ë°”ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì–¸ì–´ë³´ë‹¤ëŠ” ë¹„êµì  ì¸ê°„ì´ ë³´ê¸° í¸í•œ í˜•íƒœë¡œ ê¸°ìˆ ëœ ê²ƒì´ë‹¤.\nê·¸ë˜ì„œ ì‹¤í–‰ì—”ì§„ì€ ì´ì™€ ê°™ì€ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì‹¤ì œë¡œ JVMë‚´ë¶€ì—ì„œ ê¸°ê³„ê°€ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë³€ê²½í•œë‹¤. ì´ ë•Œ ë‘ê°€ì§€ ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.\nì¸í„°í”„ë¦¬í„° Interpreter\nì‹¤í–‰ ì—”ì§„ì€ ìë°” ë°”ì´íŠ¸ ì½”ë“œë¥¼ ëª…ë ¹ì–´ ë‹¨ìœ„ë¡œ ì½ì–´ì„œ ì‹¤í–‰í•œë‹¤.\nì¸í„°í”„ë¦¬í„° ì–¸ì–´ì˜ ë‹¨ì ì„ ê·¸ëŒ€ë¡œ ê°–ê³  ìˆë‹¤. í•œ ì¤„ ì”© ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— ëŠë¦¬ë‹¤. JIT Just-In-Time\nì¸í„°í”„ë¦¬í„° ë°©ì‹ì˜ ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ ë„ì…ëœ JIT ì»´íŒŒì¼ëŸ¬ì´ë‹¤. ì¸í„°í”„ë¦¬í„° ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰í•˜ë‹¤ê°€ ì ì ˆí•œ ì‹œì ì— ë°”ì´íŠ¸ ì½”ë“œ ì „ì²´ë¥¼ ì»´íŒŒì¼í•˜ì—¬ ë„¤ì´íŠ¸ë¸Œ ì½”ë“œë¡œ ë³€ê²½í•˜ê³ , ì´í›„ì—ëŠ” í•´ë‹¹ ì½”ë“œë¥¼ ë”ì´ìƒ ì¸í„°í”„ë¦¬íŒ… í•˜ì§€ ì•Šê³  ë„¤ì´í‹°ë¸Œ ì½”ë“œë¡œ ì§ì ‘ ì‹¤í–‰í•œë‹¤.\në„¤ì´í‹°ë¸Œ ì½”ë“œëŠ” ìºì‹œì— ë³´ê´€í•˜ê¸° ë•Œë¬¸ì— í•œ ë²ˆ ì»´íŒŒì¼ ëœ ì½”ë“œëŠ” ë¹ ë¥´ê²Œ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. JIT ì»´íŒŒì¼ëŸ¬ê°€ ì»´íŒŒì¼ í•˜ëŠ” ê³¼ì •ì€ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì¸í„°í”„ë¦¬íŒ…í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ì˜¤ë˜ê±¸ë¦¬ë¯€ë¡œ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œë¼ë©´ ì»´íŒŒì¼í•˜ì§€ ì•Šê³  ì¸í„°í”„ë¦¬íŒ… í•˜ëŠ” ê²ƒì´ ìœ ë¦¬í•˜ë‹¤. JIT ì»´íŒŒì¼ëŸ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” JVMë“¤ì€ ë‚´ë¶€ì ìœ¼ë¡œ í•´ë‹¹ ë©”ì„œë“œê°€ ì–¼ë§ˆë‚˜ ìì£¼ ìˆ˜í–‰ë˜ëŠ”ì§€ ì²´í¬í•˜ê³ , ì¼ì • ì •ë„ë¥¼ ë„˜ì„ ë•Œì—ë§Œ ì»´íŒŒì¼ì„ ìˆ˜í–‰í•œë‹¤. Garbage Collector GCë¥¼ ìˆ˜í–‰í•˜ëŠ” ëª¨ë“ˆ (ì“°ë ˆë“œ)ë¥¼ ê°€ì§„ë‹¤.\nRuntime Data Area í”„ë¡œê·¸ë¨ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ OSì—ì„œ í• ë‹¹ë°›ì€ ë©”ëª¨ë¦¬ ê³µê°„\nPC Register Threadê°€ ì‹œì‘ë  ë•Œ ìƒì„±ë˜ë©° ìƒì„±ë  ë•Œë§ˆë‹¤ ìƒì„±ë˜ëŠ” ê³µê°„ìœ¼ë¡œ ìŠ¤ë ˆë“œë§ˆë‹¤ í•˜ë‚˜ì”© ì¡´ì¬í•œë‹¤.\nì“°ë ˆë“œê°€ ì–´ë–¤ ë¶€ë¶„ì„ ì–´ë–¤ ëª…ë ¹ìœ¼ë¡œ ì‹¤í–‰í•´ì•¼í•  ì§€ì— ëŒ€í•œ ê¸°ë¡ì„ í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ í˜„ì¬ ìˆ˜í–‰ì¤‘ì¸ JVM ëª…ë ¹ì˜ ì£¼ì†Œë¥¼ ê°–ëŠ”ë‹¤.\nJVM ìŠ¤íƒ ì˜ì—­ í”„ë¡œê·¸ë¨ ì‹¤í–‰ê³¼ì •ì—ì„œ ì„ì‹œë¡œ í• ë‹¹ë˜ì—ˆë‹¤ê°€ ë©”ì†Œë“œë¥¼ ë¹ ì ¸ë‚˜ê°€ë©´ ë°”ë¡œ ì†Œë©¸ë˜ëŠ” íŠ¹ì„±ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ì˜ì—­ì´ë‹¤.\nê°ì¢… í˜•íƒœì˜ ë³€ìˆ˜ë‚˜ ì„ì‹œ ë°ì´í„°, ìŠ¤ë ˆë“œë‚˜ ë©”ì†Œë“œì˜ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤. ë©”ì†Œë“œ í˜¸ì¶œ ì‹œë§ˆë‹¤ ê°ê°ì˜ ìŠ¤íƒ í”„ë ˆì„(ê·¸ ë©”ì„œë“œ ë§Œì„ ìœ„í•œ ê³µê°„)ì´ ìƒì„±ëœë‹¤. ë©”ì„œë“œ ìˆ˜í–‰ì´ ëë‚˜ë©´ í”„ë ˆì„ ë³„ë¡œ ì‚­ì œë¥¼ í•œë‹¤. ë©”ì†Œë“œ ì•ˆì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°’ë“¤(local variable)ì„ ì €ì¥í•œë‹¤. í˜¸ì¶œëœ ë©”ì†Œë“œì˜ ë§¤ê°œë³€ìˆ˜, ì§€ì—­ë³€ìˆ˜, ë¦¬í„´ ê°’ ë° ì—°ì‚° ì‹œ ì¼ì–´ë‚˜ëŠ” ê°’ë“¤ì„ ì„ì‹œë¡œ ì €ì¥í•œë‹¤. Native method stack ìë°” í”„ë¡œê·¸ë¨ì´ ì»´íŒŒì¼ ë˜ì–´ ìƒì„±ë˜ëŠ” ë°”ì´íŠ¸ ì½”ë“œê°€ ì•„ë‹Œ ì‹¤ì œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ì–´ë¡œ ì‘ì„±ëœ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ì˜ì—­ì´ë‹¤.\nìë°”ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ì„±ëœ ì½”ë“œë¥¼ ìœ„í•œ ê³µê°„ì´ë‹¤. Java Native Interfaceë¥¼ í†µí•´ ë°”ì´íŠ¸ ì½”ë“œë¡œ ì „í™˜í•˜ì—¬ ì €ì¥í•˜ê²Œ ëœë‹¤. ì¼ë°˜ í”„ë¡œê·¸ë¨ì²˜ëŸ¼ ì»¤ë„ì´ ìŠ¤íƒì„ ì¡ì•„ ë…ìì ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ì˜ì—­ì´ë‹¤. ì´ ë¶€ë¶„ì„ í†µí•´ C codeë¥¼ ì‹¤í–‰ì‹œì¼œ Kernelì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. Method Area (= Class area = Static area) í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì²˜ìŒ ë©”ëª¨ë¦¬ ê³µê°„ì— ì˜¬ë¦´ ë•Œ ì´ˆê¸°í™”ë˜ëŠ” ëŒ€ìƒì„ ì €ì¥í•˜ê¸° ìœ„í•œ ë©”ëª¨ë¦¬ ê³µê°„.\nì˜¬ë¼ê°€ê²Œ ë˜ëŠ” ë©”ì†Œë“œì˜ ë°”ì´íŠ¸ì½”ë“œëŠ” í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ êµ¬ì„±í•˜ëŠ” ë°”ì´íŠ¸ ì½”ë“œì´ë‹¤. ìë°” í”„ë¡œê·¸ë¨ì€ ë©”ì¸ ë©”ì†Œë“œì˜ í˜¸ì¶œì—ì„œ ë¶€í„° ê³„ì†ëœ ë©”ì†Œë“œì˜ í˜¸ì¶œë¡œ íë¦„ì„ ì´ì–´ê°€ê¸° ë•Œë¬¸ì´ë‹¤. ëŒ€ë¶€ë¶„ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±ë„ ë©”ì†Œë“œ ë‚´ì—ì„œ ëª…ë ¹í•˜ê³  í˜¸ì¶œí•œë‹¤. ì‚¬ì‹¤ìƒ ì»´íŒŒì¼ ëœ íŒŒì´íŠ¸ì½”ë“œì˜ ëŒ€ë¶€ë¶„ì´ ë©”ì†Œë“œ ë°”ì´íŠ¸ì½”ë“œì´ê¸° ë•Œë¬´ë„¹ ê±°ì˜ ëª¨ë“  ë°”ì´íŠ¸ì½”ë“œê°€ ì˜¬ë¼ê°„ë‹¤ê³  ë´ë„ ìƒê´€ì—†ë‹¤. Runtime Constat Poolì´ë¼ëŠ” ë³„ë„ì˜ ê´€ë¦¬ ì˜ì—­ë„ í•¨ê»˜ ì¡´ì¬í•˜ì—¬, ìƒìˆ˜ ìë£Œí˜•ì„ ì €ì¥í•˜ì—¬ ì°¸ì¡°í•˜ê³  ì¤‘ë³µì„ ë§‰ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ì˜¬ë¼ê°€ëŠ” ì •ë³´ì˜ ì¢…ë¥˜ Feild Information ë©¤ë²„ ë³€ìˆ˜ì˜ ì´ë¦„ ë°ì´í„° íƒ€ì… ì ‘ê·¼ ì œì–´ìì— ëŒ€í•œ ì •ë³´ Method Information ë©”ì†Œë“œì˜ ì´ë¦„, ë¦¬í„´íƒ€ì…, ë§¤ê°œë³€ìˆ˜, ì ‘ê·¼ ì œì–´ìì— ëŒ€í•œ ì •ë³´ Type Information Classì¸ì§€ interfaceì¸ì§€ì˜ ì—¬ë¶€ ì €ì¥ Typeì˜ ì†ì„± ì „ì²´ ì´ë¦„ Super classì˜ ì „ì²´ ì´ë¦„ (interfaceì´ê±°ë‚˜ objectì¸ ê²½ìš° ì œì™¸) Heap ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ê°€ìƒ ë©”ëª¨ë¦¬ ê³µê°„\nìƒì„±ëœ ê°ì²´ì™€ ë°°ì—´ì„ ì €ì¥í•œë‹¤. class areaì˜ì—­ì— ì˜¬ë¼ì˜¨ í´ë˜ìŠ¤ë“¤ë§Œ ê°ì²´ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. Permanent Generation ìƒì„±ëœ ê°ì²´ë“¤ì˜ ì •ë³´ ì£¼ì†Œê°’ì´ ì €ì¥ëœ ê³µê°„ì´ë‹¤. class loaderì— ì˜í•´ loadë˜ëŠ” class, method ë“±ì— ëŒ€í•œ meta ì •ë³´ê°€ ì €ì¥ë˜ëŠ” ì˜ì—­ì´ê³ , JVMì— ì˜í•´ ì‚¬ìš©ëœë‹¤.\nReflectionì„ ì‚¬ìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ í´ë˜ìŠ¤ê°€ ë¡œë”©ë˜ëŠ” ê²½ìš°ì— ì‚¬ìš©ëœë‹¤. ë‚´ë¶€ì ìœ¼ë¡œ Reflection ê¸°ëŠ¥ì„ ìì£¼ ì‚¬ìš©í•˜ëŠ” Spring Frameworkë¥¼ ì´ìš©í•  ê²½ìš° ì´ ì˜ì—­ì— ëŒ€í•œ ê³ ë ¤ê°€ í•„ìš”í•˜ë‹¤.\nNew/Young ì˜ì—­ Eden ê°ì²´ë“¤ì´ ìµœì´ˆë¡œ ìƒì„±ë˜ëŠ” ê³µê°„ Survivor 0 / 1 Edenì—ì„œ ì°¸ì¡°ë˜ëŠ” ê°ì²´ë“¤ì´ ì €ì¥ë˜ëŠ” ê³µê°„ Old ì˜ì—­ New areaì—ì„œ ì¼ì • ì‹œê°„ ì°¸ì¡°ë˜ê³  ìˆëŠ”, ì‚´ì•„ë‚¨ì€ ê°ì²´ë“¤ì´ ì €ì¥ë˜ëŠ” ê³µê°„\nEden ì˜ì—­ì— ê°ì²´ê°€ ê°€ë“ì°¨ê²Œ ë˜ë©´ ì²«ë²ˆì§¸ GC(minor GC)ê°€ ë°œìƒí•œë‹¤. Eden ì˜ì—­ì— ìˆëŠ” ê°’ë“¤ì„ Survivor 1 ì˜ì—­ì— ë³µì‚¬í•˜ê³  ì´ ì˜ì—­ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì˜ì—­ì˜ ê°ì²´ë¥¼ ì‚­ì œí•œë‹¤.\nì¸ìŠ¤í„´ìŠ¤ëŠ” ì†Œë©¸ ë°©ë²•ê³¼ ì†Œë©¸ ì‹œì ì´ ì§€ì—­ ë³€ìˆ˜ì™€ëŠ” ë‹¤ë¦¬ê¸°ì— í™ì´ë¼ëŠ” ë³„ë„ì˜ ì˜ì—­ì— í• ë‹¹ëœë‹¤. ìë°” ê°€ìƒë¨¸ì‹ ì€ ë§¤ìš° í•©ë¦¬ì ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì†Œë©¸ì‹œí‚¨ë‹¤. ë”ì´ìƒ ì¸ìŠ¤í„´ìŠ¤ì˜ ì¡´ì¬ ì´ìœ ê°€ ì—†ì„ ë•Œ ì†Œë©¸ì‹œí‚¨ë‹¤.\n","date":"2023-04-18T16:07:19+09:00","image":"https://codemario318.github.io/post/jvm/jvm_cover_hu0ae05cc4d1c0ca93a8c2f5fc57548620_55838_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/jvm/","title":"JVM"},{"content":"ì œë„ˆë ˆì´í„°ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ë°˜í™˜ë˜ëŠ” ì´í„°ëŸ¬ë¸” ê°ì²´ì´ë‹¤. ì œë„¤ë ˆì´í„° í•¨ìˆ˜ëŠ” ì¼ë°˜ì ì¸ í•¨ìˆ˜ì™€ ë¹„ìŠ·í•˜ê²Œ ìƒê²¼ì§€ë§Œ yield êµ¬ë¬¸ì„ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì›í•˜ëŠ” ì‹œì ì— ë°˜í™˜í•˜ê³  ì²˜ë¦¬ë¥¼ ë‹¤ì‹œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ì ì¸ í•¨ìˆ˜ëŠ” ì§„ì…ì ì´ í•˜ë‚˜ë¼ë©´ ì œë„¤ë ˆì´í„°ëŠ” ì§„ì…ì ì´ ì—¬ëŸ¬ê°œë¼ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ íŠ¹ì„±ë•Œë¬¸ì— ì œë„¤ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì›í•˜ëŠ” ì‹œì ì— ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆê²Œëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 def generator(): yield 1 yield \u0026#39;string\u0026#39; yield True gen = generator() print(gen) # \u0026lt;generator object generator at 0x10a47c678\u0026gt; next(gen) #1 next(gen) # \u0026#39;string\u0026#39; next(gen) # True next(gen) \u0026#39;\u0026#39;\u0026#39; Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; StopIteration \u0026#39;\u0026#39;\u0026#39; ë™ì‘ yield ë¬¸ì´ í¬í•¨ëœ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ê°€ ë°˜í™˜ë˜ëŠ”ë° ì´ ë•ŒëŠ” í•¨ìˆ˜ì˜ ë‚´ìš©ì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. next() ë¼ëŠ” ë¹ŒíŠ¸ì¸ ë©”ì„œë“œë¥¼ í†µí•´ ì œë„¤ë ˆì´í„°ë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©° next() ë©”ì„œë“œ ë‚´ë¶€ì ìœ¼ë¡œ iterator ë¥¼ ì¸ìë¡œ ë°›ì•„ ì´í„°ë ˆì´í„°ì˜ __next__() ë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤. ì²˜ìŒ __next__() ë¥¼ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ì˜ ë‚´ìš©ì„ ì‹¤í–‰í•˜ë‹¤ yield ë¬¸ì„ ë§Œë‚¬ì„ ë•Œ ì²˜ë¦¬ë¥¼ ì¤‘ë‹¨í•œë‹¤. ì´ ë•Œ ëª¨ë“  local stateëŠ” ìœ ì§€ë˜ëŠ”ë° ë³€ìˆ˜ì˜ ìƒíƒœ, ëª…ë ¹ì–´ í¬ì¸í„°, ë‚´ë¶€ ìŠ¤íƒ, ì˜ˆì™¸ ì²˜ë¦¬ ìƒíƒœë¥¼ í¬í•¨í•œë‹¤. ê·¸ í›„ ì œì–´ê¶Œì„ ìƒìœ„ ì»¨í…ìŠ¤íŠ¸ë¡œ ì–‘ë³´(yield)í•˜ê³  ë˜ __next__() ê°€ í˜¸ì¶œë˜ë©´ ì œë„¤ë ˆì´í„°ëŠ” ì¤‘ë‹¨ëœ ì‹œì ë¶€í„° ë‹¤ì‹œ ì‹œì‘í•œë‹¤. yield ë¬¸ì˜ ê°’ì€ ì–´ë–¤ ë©”ì„œë“œë¥¼ í†µí•´ ì œë„¤ë ˆì´í„°ê°€ ë‹¤ì‹œ ë™ì‘í–ˆëŠ”ì§€ì— ë”°ë¼ ë‹¤ë¥¸ë°, __next__() ë¥¼ ì‚¬ìš©í•˜ë©´ Noneì´ê³  send() ë¥¼ ì‚¬ìš©í•˜ë©´ ë©”ì„œë“œë¡œ ì „ë‹¬ ëœ ê°’ì„ ê°–ê²Œë˜ì–´ ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ì…ë ¥ë°›ì„ ìˆ˜ ìˆê²Œ ëœë‹¤.\nì¥ì  List, Set, Dict í‘œí˜„ì‹ì€ iterable í•˜ê¸°ì— for í‘œí˜„ì‹ ë“±ì—ì„œ ìœ ìš©í•˜ê²Œ ì“°ì¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ê°ì²´ë“¤ì€ Collection íŠ¹ì„±ìƒ ê°€ì§„ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ë‹´ê³  ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í° ê°’ì„ ë‹¤ë£° ë•ŒëŠ” ì„±ëŠ¥ìƒ ë¶ˆë¦¬í•˜ë‹¤. ì œë„ˆë ˆì´í„°ëŠ” yield ë¥¼ í†µí•´ í•„ìš”í•œ ê°’ë§Œ ë°›ì•„ ì“°ê¸° ë•Œë¬¸ì— ëª¨ë“  ê°’ì„ ë©”ëª¨ë¦¬ì— ë“¤ê³  ìˆì„ í•„ìš”ê°€ ì—†ê²Œ ëœë‹¤.\n1 2 3 4 5 6 7 import sys a = [i for i in range(100000)] sys.getsizeof(a) #824464 b = (i for i in range(100000)) sys.getsizeof(b) #88 ë¦¬ìŠ¤íŠ¸ê°€ ì—¬ëŸ¬ë²ˆ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ë°˜ë©´ b ì œë„¤ë ˆì´í„°ëŠ” í•œë²ˆ ì‚¬ìš©ëœ í›„ ì†Œì§„ëœë‹¤. ì´ëŠ” ëª¨ë“  ì´í„°ë ˆì´í„°ê°€ ë§ˆì°¬ê°€ì§€ì¸ë° List, Set ë“±ì€ ì´í„°ëŸ¬ë¸”í•˜ì§€ë§Œ ì´í„°ë ˆì´í„°ëŠ” ì•„ë‹ˆê¸°ì— ì†Œì§„ë˜ì§€ ì•ŠëŠ”ë‹¤.\n1 2 len(list(b)) # 100000 len(list(b)) # 0 while True êµ¬ë¶„ìœ¼ë¡œ ì œê³µë°›ì„ ë°ì´í„°ê°€ ë¬´í•œí•˜ê±°ë‚˜, ëª¨ë“  ê°’ì„ í•œë²ˆì— ê³„ì‚°í•˜ê¸°ì—” ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ì–´ ê·¸ë•Œ ê·¸ë•Œ í•„ìš”í•œ ë§Œí¼ë§Œ ë°›ì•„ ê³„ì‚°í•˜ê³  ì‹¶ì„ ë•Œ ì œë„¤ë ˆì´í„°ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-18T14:31:00+09:00","image":"https://codemario318.github.io/post/python_cover/python_cover_hu071c6006b6148c050030e26fb108bd62_83564_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/python_cover/","title":"Python - Generator"},{"content":"\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ê²€ìƒ‰ ì—”ì§„ì¸ ì•„íŒŒì¹˜ ë£¨ì”¬ (Apache Lucene)ìœ¼ë¡œ êµ¬í˜„í•œ RESTful API ê¸°ë°˜ì˜ ê²€ìƒ‰ ì—”ì§„ì´ë‹¤. ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ì•„í‚¤í…ì³ëŠ” í´ëŸ¬ìŠ¤í„° ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\ní´ëŸ¬ìŠ¤í„° ê¸°ë³¸ íŠ¹ì§• ìˆ˜í‰ í™•ì¥\ní´ëŸ¬ìŠ¤í„°ë¥¼ ì‚¬ì‹¤ìƒ ë¬´í•œìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆë‹¤.\nì¸ë±ìŠ¤ ìƒ¤ë”©\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ì¡°ê°ë‚´ì„œ \u0026ldquo;ìƒ¤ë“œ (shard)\u0026ldquo;ë¼ëŠ” ì¡°ê°ë‚œ ë°ì´í„°ë¡œ ë§Œë“ ë‹¤. ë•Œë¬¸ì— ë‚˜ëˆ„ì–´ì§„ ë°ì´í„°ë¥¼ í¸í•˜ê²Œ ê° í˜¸ìŠ¤íŠ¸ì— ë¶„ë¦¬í•´ì„œ ë³´ê´€í•  ìˆ˜ ìˆë‹¤.\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ íŠ¹ì§• Schemalessì™€ ë¬¸ì„œì§€í–¥ ì—˜ë¼ìŠ¤í‹± ì„œì¹˜ëŠ” JSON êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ RDBMSì™€ ê°™ì€ ì—„ê²©í•œ êµ¬ì¡°ë¥¼ ì ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.\nìŠ¤í‚¤ë§ˆê°€ ë‹¤ì´ë‚˜ë¯¹í•˜ê²Œ ë³€í•  ìˆ˜ ìˆë‹¤\nì „í†µì ì¸ ê´€ê³„í˜• êµ¬ì¡°ë¡œ êµ¬ì„±í•  ê²½ìš° í”„ë¡œì íŠ¸ ë§‰ë°”ì§€ì— ëª¨ë“  ìŠ¤í‚¤ë§ˆë¥´ ã„¹ë³€ê²½í•˜ê³ , ë°ì´í„°ë¥¼ ë‹¤ì‹œ êµ¬ì„±í•˜ëŠ” ë¬¸ì œì— ë´‰ì°©í•  ìˆ˜ ìˆëŠ”ë° JSON êµ¬ì¡°ëŠ” ì´ëŸ° ë¬¸ì œë“¤ì„ ì‚¬ì „ì— ë§‰ì„ ìˆ˜ ìˆë‹¤. ë°ì´í„° ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.\nì»¬ëŸ¼ì„ ë™ì ìœ¼ë¡œ ì •ì˜í•˜ì—¬, í•„ìš”í•œ ë°ì´í„°ë§Œ ë„£ê²Œ ë˜ì–´ ë°ì´í„° ê³µê°„ ë° CPU ì‚¬ìš©ëŸ‰, ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ë„ ì¤„ì¼ ìˆ˜ ì´ì“´ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ê²€ìƒ‰ëŠ¥ë ¥(Searching) ê¸°ë³¸ì ì¸ ê²€ìƒ‰ ê¸°ëŠ¥ ë¿ë§Œ ì•„ë‹ˆë¼ íŠ¹íˆ Full-text ê²€ìƒ‰ ëŠ¥ë ¥ì´ë¼ëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì„ íƒ‘ì¬í•˜ê³  ìˆë‹¤.\nê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ ë¬¸ìì—´ ì»¬ëŸ¼ì— ëŒ€í•´ ì‹¤í–‰ë˜ëŠ” ë‹¨ìˆœí•œ SQL ì§ˆì˜ì™€ëŠ” ë‹¤ë¥´ë‹¤.\nê¸°ë³¸ì ìœ¼ë¡œ ì—˜ë¼ìŠ¤í‹±ì€ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆëŠ” Term(ì˜ë¯¸ì˜ ìµœì†Œí•œìœ„)ë¡œ ë‹¨ì–´ì˜ í˜•íƒœì†Œ ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³ , ì´ ë‹¨ì–´ë“¤ê³¼ ì—°ê´€ëœ ë¬¸ì„œë¥¼ ë§¤í•‘í•˜ì—¬ ê²€ìƒ‰ì„ ì‹œì¼œì£¼ëŠ” ê°œë…ìœ¼ë¡œ ë¬¸ì„œë¥¼ í†µì¨°ë¡œ like ê²€ìƒ‰í•˜ëŠ” DBì™€ëŠ” êµ¬ì¡°ì ìœ¼ë¡œ ë‹¤ë¥´ë‹¤.\në¶„ì„(Analytics) ì—˜ë¼ìŠ¤í‹± ì„œì¹˜ë¥¼ íƒ‘ì¬í•˜ì—¬ ë§Œë“  ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ëŠ” ì‚¬ëŒë“¤ì˜ OSê°€ ë¬´ì—‡ì¸ì§€, ì–´ëŠë‚˜ë¼ì—ì„œ ì ‘ì†í–ˆëŠ”ì§€ ë“±ì„ ì•Œê³  ì‹¶ì„ ë•Œ ë¶„ì„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ê²Œ ì•Œ ìˆ˜ ìˆë‹¤.\ní’ë¶€í•œ APIì™€ REST ì§€ì› ê¸°ë³¸ì ìœ¼ë¡œ 20ê°œì˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì§€ì›í•˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ REST APIë¥¼ ì œê³µí•˜ì—¬ REST APIë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì–¸ì–´ì—ì„œ HTTP í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì‰¬ìš´ ì‘ë™, ì‰¬ìš´ í™•ì¥ Single Node Instanceë¡œ ì‘ë™í•˜ë©°, ìˆ˜ë°±ê°œì˜ ìŠ¤ì¼€ì¼ ì•„ì›ƒì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ë¹…ë°ì´í„° í”Œë«í¼ë“¤ì´ ê·¸ëŸ¬í•˜ë“¯ Horizontal Scalingì„ ì‚¬ìš©í•œë‹¤.\nNear real-time(ê·¼ì ‘ ì‹¤ì‹œê°„) ê²€ìƒ‰ì—”ì§„ì€ ê¸°ë³¸ì ìœ¼ë¡œ í˜•íƒœì†Œë¥¼ ë¶„ì„í•˜ê³  ìƒ‰ì¸ì„ í•´ì•¼ í•˜ëŠ” ì‹œê°„ì´ ë‹¤ë¥¸ DBMSë³´ë‹¤ ì˜¤ë˜ ê±¸ë¦°ë‹¤. ì—˜ë¼ìŠ¤í‹± ì—­ì‹œ ë°ì´í„°ë¥¼ ì‚½ì…í•œ ìˆœê°„ ì•½ ëª‡ ì´ˆ ì •ë„ëŠ” ì´ ë‹¨ê³„ë¥¼ ê±°ì¹œ í›„ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆë‹¤.\nLightning-fast (ë¹ ë¥¸ ì†ë„) ì—˜ë¼ìŠ¤í‹± ì„œì¹˜ì˜ DNAëŠ” ë£¨ì”¬ì´ê¸° ë–„ë¬¸ì— ë‹¨ì–´ ì…ë ¥í›„ ë¬¸ì„œë¥¼ ì°¾ëŠ” ì†ë„ê°€ ë‹¤ë¥¸ NoSQLë“¤ì— ë¹„í•´ ë§¤ìš° ë¹ ë¥´ë‹¤.\nFault-tolerant(ë‚´ê³ ì¥ì„±) ë…¸ë“œ ì‹¤íŒ¨ì‹œ replicateëœ ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©°, ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ì‹œ ë‹¤ë¥¸ ë§ˆìŠ¤í„° ë³µì œë³¸ìœ¼ë¡œ ì„ íƒí•œë‹¤.\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ë°ì´í„° êµ¬ì¡° ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ìœ„ì™€ ê°™ì´ ë¬¸ì„œë¥¼ ì—˜ë¼ìŠ¤í‹± ì¸ë±ìŠ¤ë¡œ ë§Œë“  ë’¤, ìƒ¤ë“œë¡œ ë¶„ë¦¬í•˜ì—¬ ë³´ê´€í•œë‹¤.\nìƒ¤ë“œëŠ” ë…¼ë¦¬ì /ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„í•  ëœ ì¸ë±ìŠ¤ì¸ë°, ê°ê°ì˜ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ìƒ¤ë“œëŠ” ë£¨ì”¬ ì¸ë±ìŠ¤ì´ê¸°ë„ í•˜ë‹¤.\në£¨ì”¬ì€ ìƒˆë¡œìš´ ë¬¸ì„œë¥¼ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ì¸ë±ìŠ¤ì— ì €ì¥í•  ë•Œ \u0026ldquo;ì„¸ê·¸ë¨¼íŠ¸\u0026quot;ë¥¼ ìƒì„±í•˜ëŠ”ë°, ë£¨ì”¬ì˜ ì¸ë±ìŠ¤ ì¡°ê°ì¸ ì´ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ì¡°í•©í•´ ì €ì¥í•œ ë°ì´í„°ì˜ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆë‹¤.\nìƒ‰ì¸ ì²˜ë¦¬ëŸ‰ì´ ë§¤ìš° ì¤‘ìš”í•  ë•ŒëŠ” ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë” ìƒì„±í•˜ê¸°ë„ í•œë‹¤. ë£¨ì”¬ì€ ìˆœì°¨ì ìœ¼ë¡œ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê²€ìƒ‰í•˜ë¯€ë¡œ ì„¸ê·¸ë¨¼íŠ¸ ìˆ˜ê°€ ë§ì•„ì§€ë©´ ê²€ìƒ‰ì†ë„ë„ ë”°ë¼ì„œ ëŠë ¤ì§€ê²Œ ëœë‹¤.\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ë°ì´í„° ì„¤ëª… ì¸ë±ìŠ¤(ìƒ‰ì¸) ë°ì´í„°ë¥¼ ì €ì¥ ë° ìƒ‰ì¸ í•˜ëŠ” ê³³ìœ¼ë¡œ, ê´€ê³„í˜• DBì˜ ë°ì´í„°ë² ì´ìŠ¤ ê°œë…ê³¼ ìœ ì‚¬í•˜ë‹¤.\nì‹¤ì œë¡œëŠ” ê° ìƒ¤ë“œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆëŠ” ë…¼ë¦¬ì ì¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ Shard ìƒ¤ë“œëŠ” ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²€ìƒ‰ ì—”ì§„ì¸ ë£¨ì”¬ì˜ ì¸ìŠ¤í„´ìŠ¤.\nì¸ë±ìŠ¤ë¥¼ í•œ ê°œì˜ ìƒ¤ë“œë¡œ êµ¬ì„±í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì¸ë±ìŠ¤ ì‚¬ì´ì¦ˆê°€ ì¦ê°€í•  ê²½ìš° ì—¬ëŸ¬ê°œì˜ ë¬¼ë¦¬ì„œë²„ì— ë‚˜ëˆ„ì–´ ë³´ê´€í•˜ê¸° ìœ„í•´ ë³´í†µì€ ì—¬ëŸ¬ê°œì˜ ìƒ¤ë“œë¡œ êµ¬ì„±í•¨. Segment ê° ìƒ¤ë“œëŠ” ë‹¤ìˆ˜ì˜ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°€ì§€ê³  ìˆê³ , ìƒ¤ë“œì—ì„œ ê²€ìƒ‰ ì‹œ, ë¨¼ì € ê° ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê²€ìƒ‰í•˜ì—¬ ê²°ê³¼ë¥¼ ì¡°í•©í•œ ìµœì¢… ê²°ê³¼ë¥¼ í•´ë‹¹ ìƒ¤ë“œì˜ ê²°ê³¼ë¡œ ë¦¬í„´í•˜ê²Œ ëœë‹¤.\nsearchable\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì— ë°ì´í„°(ë¬¸ì„œ)ë¥¼ ì €ì¥í•˜ë©´, ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ì´ê²ƒì„ ë©”ëª¨ë¦¬ì— ëª¨ì•„ë‘ê³  ìƒˆë¡œìš´ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ì—¬ ê²€ìƒ‰ì„ ë¦¬í”„ë ˆì‹œí•¨. ì´ë¡œ ì¸í•´ ìƒˆë¡œìš´ ê²€ìƒ‰ ê°€ëŠ¥í•œ ì„¸ê·¸ë¨¼íŠ¸ê°€ ë§Œë“¤ì–´ì§€ê²Œ ëœë‹¤.\ncommited\nê·¸ëŸ¬ë‚˜ ì„¸ê·¸ë¨¼íŠ¸ê°€ fsyncë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ì—¬ì „íˆ ë°ì´í„° ì†ì‹¤ì˜ ìœ„í—˜ì´ ë‚¨ì•„ìˆë‹¤. ê·¸ë˜ì„œ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” ì„¸ê·¸ë¨¼íŠ¸ë¥¼ fsyncí•˜ëŠ” \u0026ldquo;flush\u0026quot;ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì§„í–‰í•˜ê³ , ë¶ˆí•„ìš”í•œ íŠ¸ëœì ì…˜ ë¡œê·¸ë¥¼ ë¹„ìš´ë‹¤.\nmerge process\nì„¸ê·¸ë¨¼íŠ¸ëŠ” ë¶ˆë³€ì„, ë°ì´í„°(document)ê°€ ì—…ë°ì´íŠ¸ë˜ë©´ ì‹¤ì œë¡œëŠ” ê·¸ì € ì‚­ì œë˜ì—ˆë‹¤ê³  ë§ˆí¬í•˜ê³  ìƒˆë¡œìš´ ë°ì´í„°(document)ë¥¼ ê°€ë¦¬í‚¬ ë¿ì´ë‹¤. ì´ëŸ¬í•œ ì˜¤ë˜ëœ ì‚­ì œëœ ë°ì´í„°ë¥¼ ì§€ìš°ëŠ” ê²ƒ\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ í´ëŸ¬ìŠ¤í„° êµ¬ì¡° ìœ„ ë‹¤ì´ì–´ê·¸ë¨ì€ 3ê°œì˜ ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ ì¸ìŠ¤í„´ìŠ¤ í™˜ê²½ì—ì„œ, 4ê°œì˜ ìƒ¤ë“œë¥¼ 2ê°œì˜ ë³µì œë³¸ìœ¼ë¡œ êµ¬ì„±í–ˆì„ ë•Œì˜ êµ¬ì¡°ì´ë‹¤.\nì—˜ë¼ìŠ¤í‹±ì„œì¹˜ëŠ” í´ëŸ¬ìŠ¤í„° êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©° ìƒ¤ë“œì™€ ë³µì œë³¸ì˜ ìˆ˜ë¥¼ ì„¤ì •í•´ë‘ë©´ ìŠ¤ìŠ¤ë¡œ ê° ë…¸ë“œì— ìƒ¤ë“œë¥¼ ë¶„ë°°í•˜ì—¬ ì¥ì• ë°œìƒ ì‹œ ë°ì´í„° ì†ì‹¤ì„ ìµœì†Œí™”í•œë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ ìƒ¤ë“œê°€ ì†ì‹¤ë˜ì—ˆì„ ê²½ìš°ì—ëŠ” ë ˆí”Œë¦¬ì¹´ë¥¼ í”„ë¼ì´ë¨¸ë¦¬ë¡œ ìŠ¹ê²©ì‹œì¼œ ë°ì´í„° ì†ì‹¤ì„ ë°©ì§€í•œë‹¤.\n","date":"2023-04-18T14:13:19+09:00","image":"https://codemario318.github.io/post/elasticsearch/elasticsearch_cover_hu19466caf2459bbcd9b4d95bc6d53e495_16781_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/elasticsearch/","title":"Elasticsearch"},{"content":" ê²€ìƒ‰ ì—”ì§„ì€ ì»´í“¨í„° ì‹œìŠ¤í…œì— ì €ì¥ëœ ì •ë³´ë¥¼ ì°¾ì•„ì£¼ëŠ” ê²ƒì„ ë„ì™€ì£¼ë„ë¡ ì„¤ê³„ëœ ì •ë³´ ê²€ìƒ‰ ì‹œìŠ¤í…œì´ë‹¤. ê²€ìƒ‰ ì—”ì§„ì„ ì‚¬ìš©í•˜ì—¬ì •ë³´ë¥¼ ì°¾ëŠ”ë° í•„ìš”í•œ ì‹œê°„ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆë‹¤.\nì›¹ ê²€ìƒ‰ ì—”ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ê²€ìƒ‰í•˜ê¸° ìœ„í•œ í”„ë¡œê·¸ë¨ì´ë‹¤.\nFTP ì„œë²„ë‚˜ ì›¹ ì‚¬ì´íŠ¸ì˜ íŒŒì¼ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í¬í•¨í•˜ë©°, ì´ë¯¸ì§€ë‚˜ í† ë ŒíŠ¸ íŒŒì¼ ë˜ëŠ” íŠ¹ì • ë¶€ë¥˜ì˜ ì›¹ ì‚¬ì´íŠ¸ì— íŠ¹í™”ëœ ì›¹ ê²€ìƒ‰ ì—”ì§„ë„ ìˆë‹¤.\nì„œë²„ì—ì„œëŠ” \u0026lsquo;ë¡œë´‡\u0026rsquo;ì´ë¼ ë¶ˆë¦¬ëŠ” íŠ¹ë³„í•œ í”„ë¡œê·¸ë¨ì„ ì´ìš©í•˜ ì›¹ ì‚¬ì´íŠ¸ë“¤ì„ ëŒì•„ë‹¤ë‹ˆë©° ì›¹ ì‚¬ì´íŠ¸ë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ë¯¸ë¦¬ ìë™ì ìœ¼ë¡œ ìˆ˜ì§‘í•œë‹¤. ì´íœ´ ê²€ìƒ‰ ì—”ì§„ ì‚¬ì´íŠ¸ì—ì„œ íŠ¹ì • ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ë©´ ê²€ìƒ‰ ì—”ì§„ì´ ìˆ˜ì§‘í•œ ì •ë³´ ì¤‘ ê·¸ì— ë§ëŠ” ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.\në¡œë´‡ì´ ì°¸ì¡°ì™€ ì–´íœ˜ë¥¼ ë¶„í—‰í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ê²€ìƒ‰ í’ˆì§ˆì´ ê²°ì •ë¨ ì›ë¦¬ ê²€ìƒ‰ ì—”ì§„ì€ ì‚¬ìš©ìê°€ ê²€ìƒ‰ ì—”ì§„ì„ ì‚¬ìš©í•˜ê¸° ì „ì— ë¯¸ë¦¬ ì›¹ ìƒì—ì„œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ìƒ‰ì¸ì„ ë§Œë“¤ì–´ ë†“ëŠ”ë‹¤. ê·¸ë¦¬ê³  ë‚˜ì„œ ì‚¬ìš©ìê°€ ì°¾ê³ ì í•˜ëŠ” ì •ë³´ì˜ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ë©´, ë¯¸ë¦¬ ë§Œë“¤ì–´ ë†“ì€ ìƒ‰ì¸ ì¤‘ì—ì„œ ì…ë ¥ëœ í‚¤ì›Œë“œì— í•´ë‹¹í•˜ëŠ” ì •ë³´ë“¤ì„ ì°¾ì•„ì„œ ë³´ì—¬ì¤€ë‹¤.\në¬¸ì„œ ìˆ˜ì§‘ í˜„ì¬ ëŒ€ë¶€ë¶„ì˜ ê²€ìƒ‰ ì—”ì§„ì—ì„œëŠ” ì—¡ìƒì˜ ë°©ëŒ€í•œ ì •ë³´ë“¤ì„ ê²€ìƒ‰í•˜ê³  ìƒ‰ì¸í™” í•˜ëŠ” ê³¼ì •ì„ í¬ë¡¤ëŸ¬ë¼ê³  ë¶€ë¥´ëŠ” ì •ë³´ ìˆ˜ì§‘ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•˜ê³  ìˆë‹¤.\ní¬ë¡¤ëŸ¬ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ì›¹ì— ì ‘ì†ëœ ì‚¬ì´íŠ¸ë“¤ì„ ë°©ë¬¸í•˜ì—¬ í•´ë‹¹ ì›¹ ì‚¬ì´íŠ¸ê°€ ê°€ì§€ê³  ìˆëŠ” ì •ë³´ì— ëŒ€í•´ ìƒ‰ì¸ì„ ì‘ì„±í•œ í›„ ê·¸ê²ƒì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ì—¬ ê²€ìƒ‰ì‹œ í™œìš©í•˜ê²Œëœë‹¤.\ní¬ë¡¤ëŸ¬\nì›¹ìƒì˜ ë¬¸ì„œë‚˜ ì´ë¯¸ì§€, ì˜ìƒ ë“±ì„ ì£¼ê¸°ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ê³  ì·¨í•©í•˜ì—¬, ìë™ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤í™” ì‹œí‚¤ëŠ” í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë´‡(Bot)ì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.\nê²€ìƒ‰ ì—”ì§„ì˜ ì¢…ë¥˜ ìˆ˜ì§‘í•œ ì •ë³´ë¥¼ ìƒ‰ì¸í•˜ëŠ” ë°©ë²•ì— ë”°ë¼ êµ¬ë¶„ëœë‹¤.\në¡œë´‡ ê²€ìƒ‰ ì—”ì§„ í¬ë¡¤ë¼ë¼ê³  ë¶ˆë¦¬ëŠ” ë¡œë´‡ì„ ì´ìš©í•˜ì—¬ ì›¹ìƒì˜ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜ì§‘í•˜ê³ , ì´ë ‡ê²Œ ìˆ˜ì§‘í•œ ë°ì´í„° í‚¤ì›Œë“œ ìƒ‰ì¸ì„ í†µí•´ ì‚¬ìš©ìì—ê²Œ ì œê³µí•˜ëŠ” ê²€ìƒ‰ ì—”ì§„\nGoogle, Naverë“± í˜„ì¬ ì‚¬ìš©ë˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ê²€ìƒ‰ ì—”ì§„ì´ ì´ ë°©ì‹ì„ ì±„íƒí•˜ê³  ìˆë‹¤. ë””ë ‰í† ë¦¬ ê²€ìƒ‰ ì—”ì§„ ì£¼ì œ ë¶„ë¥˜ì— ì˜í•œ ê²€ìƒ‰ì„ ì œê³µí•˜ëŠ” ê²€ìƒ‰ ì—”ì§„ì´ë©°, ë°ì´í„°ì˜ ë¶„ë¥˜ë¥¼ ì‚¬ëŒì´ ì§ì ‘ ìŠˆí–‰í•´ì•¼ í•œë‹¤.\ní˜„ì¬ ì£¼ë¥˜ì¸ ë°©ì‹ì€ ì•„ë‹ˆë©°, 1990ë…„ëŒ€ Yahooë“±ì—ì„œ ì‚¬ìš©ë˜ì—ˆìŒ ë©”íƒ€ ê²€ìƒ‰ ì—”ì§„ ìì²´ì ìœ¼ë¡œ ì •ë³´ë¥¼ ë³´ìœ í•˜ê³  ìˆì§€ ì•Šìœ¼ë©´ì„œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ í‚¤ì›Œë“œë¥¼ ë³µìˆ˜ì˜ ë‹¤ë¥¸ ê²€ìƒ‰ ì—”ì§„ìœ¼ë¡œ ì „ì†¡í•˜ì—¬ ê²°ê³¼ë¥¼ ì–»ê³ , ê·¸ ê²°ê³¼ë“¤ì„ ì¢…í•©í•˜ì—¬ í‘œì‹œë§Œ í•´ì£¼ëŠ” ê²€ìƒ‰ ì—”ì§„\nì—¬ëŸ¬ ê²€ìƒ‰ ì—”ì§„ì˜ ê²°ê³¼ë¥¼ ë™ì‹œì— ë³´ì—¬ì£¼ê¸° ë•Œë¬¸ì— ê²°ê³¼ë¥¼ í•œëˆˆì— ì‚´í´ë³´ê¸°ì—ëŠ” í¸í•˜ì§€ë§Œ, ë©”íƒ€ ê²€ìƒ‰ì´ë¼ëŠ” ê³¼ì •ì„ í•œ ë²ˆ ë” ê±°ì³ì•¼ í•˜ë¯€ë¡œ ì†ë„ê°€ ëŠë¥¼ ìˆ˜ ìˆë‹¤.\nê²€ìƒ‰ ì—”ì§„ ìµœì í™”(Search Engine Optimization, SEO) ê²€ìƒ‰ ê²°ê³¼ì˜ ìƒìœ„ì— ìì‹ ì˜ ì›¹ í˜ì´ì§€ê°€ ë…¸ì¶œë˜ê¸° ìœ„í•´ ê²€ìƒ‰ ì—”ì§„ì´ ìë£Œë¥¼ ìˆ˜ì§‘í•˜ê³  ê²°ê³¼ë¥¼ ì‚°ì¶œí•˜ëŠ” ë°©ì‹ì— ë§ì¶° ì›¹ í˜ì´ì§€ì˜ êµ¬ì„±ì„ ì¡°ì •í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\nê°ê°ì˜ ê²€ìƒ‰ ì—”ì§„ì— ë§ì²˜ ì›¹ í˜ì´ì§€ ë‚´ì˜ í‚¤ì›Œë“œë‚˜ ë§í¬ ë“±ì„ ìµœì í™” í•˜ëŠ” ì‘ì—…ì„ SEOë¼ê³  í•œë‹¤.\n","date":"2023-04-18T14:04:15+09:00","image":"https://codemario318.github.io/post/search_engine/search_engine_cover_hu920de5c22e59a77d3210239e6515a52e_9451_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/search_engine/","title":"ê²€ìƒ‰ ì—”ì§„"},{"content":"ìš©ì–´ì •ë¦¬ MOM (Message Oriented Middleware, ë©”ì‹œì§€ ì§€í–¥ ë¯¸ë“¤ì›¨ì–´) ë…ë¦½ëœ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°„ì— ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì‹œìŠ¤í…œ ë””ìì¸ í•¨ìˆ˜ í˜¸ì¶œ, ê³µìœ ë©”ëª¨ë¦¬ ë“±ì´ ë°©ì‹ì´ ì•„ë‹Œ, ë©”ì‹œì§€ êµí™˜ì„ ì´ìš©í•˜ëŠ” ì¤‘ê°„ ê³„ì¸µì— ëŒ€í•œ ì¸í”„ë¼ ì•„í‚¤í…ì³ ê°œë… ë¶„ì‚° ì»´í“¨íŒ…ì´ ê°€ëŠ¥í•´ì§€ë©°, ì„œë¹„ìŠ¤ê°„ì˜ ê²°í•©ì„±ì´ ë‚®ì•„ì§ ì§€ë™ê¸°ë¡œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ íŠ¹ì§• Queue, Broadcast, Multicast ë“±ì˜ ë°©ì‹ìœ¼ë¡œ ë©”ì‹œì§€ ì „ë‹¬ Pub/Sub êµ¬ì¡° ë©”ì‹œì§€ë¥¼ ë°œí–‰í•˜ëŠ” Publisher(Producer), ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” Subscribe(Consumer)ë¡œ êµ¬ì„± Message Broker ë©”ì‹œì§€ì²˜ë¦¬ ë˜ëŠ” ë©”ì‹œì§€ ìˆ˜ì‹ ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ì‹œìŠ¤í…œì´ë©°, ì¼ë°˜ì ìœ¼ë¡œ MOM ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë¨ MQ (Message Queue, ë©”ì‹œì§€ í) Message bBrokerì™€ MOMì„ êµ¬í˜„í•œ ì†Œí”„íŠ¸ì›¨ì–´ (RabbitMQ, ActiveMQ, Kafka ë“±) MOMì€ ë©”ì‹œì§€ ì „ì†¡ ë³´ì¥ì„ í•´ì•¼í•˜ë¯€ë¡œ AMQPë¥¼ êµ¬í˜„í•¨ AMQP (Advanced Message Queueing Protocol) ë©”ì‹œì§€ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì£¼ê³ ë°•ê¸° ìœ„í•œ ì¸í„°ë„· í”„ë¡œí† ì½œ RabbitMQ, Kafka ë“±ì€ AMQPë¥¼ êµ¬í˜„í•œ MOM ì‹œìŠ¤í…œì´ë‹¤.\në©”ì‹œì§• ì‹œìŠ¤í…œì´ë€? ë¡œê·¸ ë°ì´í„°, ì´ë²¤íŠ¸ ë©”ì‹œì§€ ë“± APIë¡œ í˜¸ì¶œí•  ë–„ ë³´ë‚´ëŠ” ë°ì´í„°ë“¤ì„ ì²˜ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œ\nì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ ìë™ ë©”ì¼ì„ ë°œì†¡ ì‹œìŠ¤í…œì´ ìˆë‹¤ê³  ê°€ì •í•˜ë©´,\níšŒì›ê°€ì…ì„ í–ˆì„ ë•Œ,Â ì´ë©”ì¼ì„ ë°œì†¡í•˜ëŠ”Â MemberService ì£¼ë¬¸ì™„ë£Œê°€ ë˜ì—ˆì„ ë•Œ, ì´ë©”ì¼ì„ ë°œì†¡í•˜ëŠ”Â OrderService ë©”ì¼ì„ ì‹¤ì œ ë°œì†¡í•˜ëŠ”Â MailService ì´ë ‡ê²Œ ì„œë¹„ìŠ¤ê°€ ë¶„ë¦¬ë˜ì—ˆì„ ë•ŒÂ í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤.\nMemberServiceì—ì„œ íšŒì›ê°€ì…, OrderServiceì—ì„œ ì£¼ë¬¸ì™„ë£Œ ì´ë²¤íŠ¸ê°€ ë°œìƒ Messaging Clientë¡œ ë©”ì¼ ì „ì†¡ì— í•„ìš”í•œ ë°ì´í„°( ë°›ëŠ”/ë³´ë‚´ëŠ” ì‚¬ëŒ ì´ë©”ì¼ ì£¼ì†Œ, ë©”ì‹œì§€ ì œëª©/ë‚´ìš© ë“±.. )ë¥¼ APIÂ í˜¸ì¶œ Messaging Clientì—ì„œ MOMì„ êµ¬í˜„í•œ ì†Œí”„íŠ¸ì›¨ì–´(ex. kafka)ë¡œÂ ë©”ì‹œì§€ë¥¼ ìƒì‚° MailServiceì—ì„œ ë©”ì‹œì§€ê°€ ì¡´ì¬í•˜ëŠ”ì§€ êµ¬ë…í•˜ê³  ìˆë‹¤ê°€ ë©”ì‹œì§€ê°€ ì¡´ì¬í•˜ë©´Â ë©”ì‹œì§€ë¥¼ ì†Œë¹„ MailServiceì—ì„œ API ì •ë³´ë“¤ì„ í†µí•´ Userì—ê²Œ ë©”ì¼ ë°œì†¡ ì¥ì  ì„œë¹„ìŠ¤ê°„ì˜ ê²°í•©ì„±ì´ ë‚®ì•„ì§€ë¯€ë¡œ ê°ìì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤. ë©”ì‹œì§€ ì²˜ë¦¬ ë°©ì‹ì€ Message Brokerì— ìœ„ì„ ê° ì„œë¹„ìŠ¤ëŠ” Clientë¥¼ í†µí•´ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ë°›ê¸°ë§Œ í•˜ë©´ ë¨ ê° ì„œë¹„ìŠ¤ëŠ” ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸°ë§Œ í•˜ë©´, Message Brokerì—ì„œ ìˆœì„œ ë³´ì¥, ë©”ì‹œì§€ ì „ì†¡ ë³´ì¥ ë“±ì„ ì²˜ë¦¬ ë©”ì‹œì§• ì‹œìŠ¤í…œì´ ì ê¹ ë‹¤ìš´ë˜ì–´ë„ ê° ì„œë¹„ìŠ¤ì—ëŠ” ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠìŒ ë‹¨ì  Message Broker êµ¬ì¶•, ì˜ˆë¥¼ ë“¤ë©´ kafka í´ëŸ¬ìŠ¤í„° êµ¬ì¶•ì— í•„ìš”í•œ ê¸ˆì „, ì¸ì  ìì›ì— ëŒ€í•œ ë¹„ìš© ë¹„ë™ê¸°ì˜ ì–‘ë©´ì„± - ì •ë§ ë©”ì‹œì§€ê°€ ì˜ ì „ë‹¬ë˜ì—ˆëŠ”ê°€? í•¨ìˆ˜í˜¸ì¶œ, ê³µìœ  ë©”ëª¨ë¦¬ ì‚¬ìš© ë°©ì‹ë³´ë‹¤ ë©”ì‹œì§• ì‹œìŠ¤í…œì„ ì‚¬ìš©í–ˆì„ ë•Œ í˜¸ì¶œ êµ¬ê°„ì´ ëŠ˜ì–´ë‚˜ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ë°œìƒ MOM, ë©”ì„¸ì§€ ì§€í–¥ ë¯¸ë“¤ì›¨ì–´(Message-Oriented-Middleware) ë¯¸ë“¤ì›¨ì–´: ì–´í”Œë¦¬ì¼€ì´ì…˜ë“¤ì„ ì—°ê²°í•´ ì´ë“¤ì´ ì„œë¡œ ë°ì´í„°ë¥¼ êµí™˜í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ë©”ì‹œì§€ ì§€í–¥(=ë©”ì‹œì§• ì‹œìŠ¤í…œ): ë©”ì‹œì§€ APIë¥¼ í†µí•´ ê° ë¶„ì‚°ë˜ì–´ ìˆëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ë‹¤ë¦¬ ì—­í• ì„ í•¨ìœ¼ë¡œì¨ ë°ì´í„°ë¥¼ êµí™˜ í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì‹œìŠ¤í…œ ë©”ì‹œì§€ ì§€í–¥ ë¯¸ë“¤ì›¨ì–´ë€? ë©”ì‹œì§€ë¥¼ í†µí•´ ì—¬ëŸ¬ ë¶„ì‚°ë˜ì–´ ìˆëŠ” ì‹œìŠ¤í…œ ê°„ì˜ Connector ì—­í• ë¡œ ê²°í•©ì„±ì„ ë‚®ì¶”ê³ , ì´ë“¤ì´ ì„œë¡œ ì‹¤ì‹œê°„ ë¹„ë™ê¸°ì‹ ë°ì´í„°ë¥¼ êµí™˜í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´\nMessage Queue ê¸°ë°˜ íŒ¨í„´ ë©”ì‹œì§€ ëŒ€ê¸°ì—´ íŒ¨í„´ì€ ì¼ì¢…ì˜ ì§€ì  ê°„(peer to peer) ë©”ì‹œì§• ì‹œìŠ¤í…œì´ë‹¤. Queue ëŒ€ê¸°ì—´ì˜ ë©”ì‹œì§€ëŠ” Consumerê°€ ì†Œë¹„í•˜ë©´ ì§€ì›Œì§€ëŠ” í˜•íƒœ\nì†Œë¹„í•˜ë©´ ì§€ì›Œì§€ëŠ” í˜•íƒœë¼ëŠ” ì˜ë¯¸ëŠ” Producer ì„œë²„ê°€ ë©”ì‹œì§€ë¥¼ Queueì— ë³´ë‚´ê³  ì„œë²„ê°€ ë‹¤ìš´ì´ ë˜ë„ Consumerê°€ ì†Œë¹„í•˜ì§€ ì•Šì•˜ë‹¤ë©´ Queue ëŒ€ê¸°ì—´ì— ë°ì´í„°ê°€ ì¡´ì¬í•œë‹¤ëŠ” ê±¸ ì˜ë¯¸í•œë‹¤.\në°œí–‰(Publish)-êµ¬ë…(Subscribe) ë©”ì‹œì§€ íŒ¨í„´ ë©”ì‹œì§€ íì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë©”ì‹œì§€ë¥¼ ìƒì‚°í•˜ëŠ” Producerì™€ ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ëŠ” Consumerë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.\nì°¨ì´ì ì€ ì—¬ëŸ¬ ì†Œë¹„ìê°€ í•˜ë‚˜ì˜ ì£¼ì œì—ì„œ ê° ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆë‹¤ëŠ” ì . ë˜í•œ ëª¨ë“  Consumerê°€ ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ ë©”ì‹œì§€ê°€ ëŒ€ê¸°ì—´ì—ì„œ ì§€ì›Œì§„ë‹¤.\nkafkaì™€ ê°™ì€ ë©”ì‹œì§• ì‹œìŠ¤í…œì—ëŠ” ë©”ì‹œì§€ê°€ ëŒ€ê¸°ì—´ì— ìˆì–´ì•¼ í•˜ëŠ” ê¸°ê°„ì„ ì§€ì •í•œ ë³´ì¡´ ì •ì±…ì´ ìˆë‹¤. ë”°ë¼ì„œ ë©”ì‹œì§€ëŠ” ëª¨ë“  Consumerê°€ ì†Œë¹„í•˜ë”ë¼ë„ ì§€ì •ëœ ê¸°ê°„ ë™ì•ˆ ëŒ€ê¸°ì—´ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nì–¸ì œ ì“°ì´ëŠ”ê°€? ë¶„ì‚° ì‹œìŠ¤í…œ ì—¬ëŸ¬ ì»´í“¨í„°ë¥¼ ë¶„ì‚°ì‹œì¼œ ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²°í•˜ì—¬ ë°ì´í„°ë“¤ì„ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•˜ë©´ ì„œë²„ì˜ ê³¼ë¶€í•˜ë¥¼ ë¶„ì‚°í•  ìˆ˜ ìˆìœ¼ë©°, ì„±ëŠ”ê°œì„ ê³¼ ì¥ì• ìš”ì†Œë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ë¶„ì‚° ì‹œìŠ¤í…œì„ ì‚¬ìš©í•¨ ê³¼ê±° ë¶„ì‚° ì‹œìŠ¤í…œì˜ ë‹¨ì ê³¼ ì›¹ API í†µì‹ ì˜ í•œê³„ ê³¼ê±° ë¶„ì‚°ì‹œìŠ¤í…œì˜ ë‹¨ì  ìˆ˜ë§ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•˜ì—¬ ë¶„ì‚° ì‹œìŠ¤í…œì„ ìš´ì˜í•˜ì˜€ì§€ë§Œ, ì‹œìŠ¤í…œì´ ê±°ëŒ€í•´ì§ˆìˆ˜ë¡ ë¶„ì‚° ì‹œìŠ¤í…œì˜ ì„¤ê³„ë„ì˜ ë³µì¡ì„± ë¬¸ì œê°€ ë°œìƒí•œë‹¤. í•˜ë‚˜ì˜ ì‘ìš©í”„ë¡œê·¸ë¨ì´ ë³€ê²½ë˜ë©´, ë‹¤ë¥¸ ì‘ìš©í”„ë¡œê·¸ë¨ì—ë„ ì˜í–¥ì„ ë¯¸ì³ ë¶„ì‚° ì‹œìŠ¤í…œ ê°„ì˜ ê²°í•©ë„ê°€ ê°•í•œ ë‹¨ì ì„ ê°€ì§€ê³  ìˆì—ˆë‹¤.\nì›¹ API í†µì‹ ì˜ íŠ¹ì„± MSAë¥¼ ì‚¬ìš©í•œ ë¶„ì‚° ì‹œìŠ¤í…œì€ ì›¹ API ì„œë²„ë¡œ ìš”ì²­ ì‹œ ì‘ë‹µì„ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤. ì—¬ëŸ¬ ë¶„ì‚°ë˜ì–´ìˆëŠ” ì„œë¹„ìŠ¤ ê°„ì—ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ ë¹„ë™ê¸°ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•´ì•¼ í•˜ê¸° ë–„ë¬¸ì— ì›¹ APIë¡œë„ ë¹„ë™ê¸°ì‹ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” íŠ¹ì„±ì´ ìˆë‹¤. ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” Aì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œ Bë¼ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª©ì ì§€(ë„ì°©ì )ì„ ì•Œì•„ì•¼ í†µì‹ í•  ìˆ˜ ìˆë‹¤. ë‘ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ ë¶ˆí•„ìš”í•œ ê²°í•©ë„ê°€ ë°œìƒë˜ê³ , ì‘ë‹µì„ ì·¨í•˜ëŠ” Bì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì„œë²„ ì¥ì• ì‹œ ìš”ì²­ë˜ì—ˆë˜ ë°ì´í„° ë•Œë¬¸ì— Aì–´í”Œë¦¬ì¼€ì´ì…˜ì—ê²Œë„ ì¥ì• ê°€ ì „íŒŒë  ìˆ˜ ìˆë‹¤. ë©”ì‹œì§• ì§€í–¥ ë¯¸ë“¤ì›¨ì–´ì˜ í•„ìš”ì„± ë©”ì‹œì§€ APIëŠ” ë¹„ë™ê¸° í”„ë¡œí† ì½œì„ ì§€ì›í•˜ë©°, ë©”ì‹œì§€ ìˆœì„œë¥¼ ë³´ì¥í•©ë‹ˆë‹¤. ë©”ì‹œì§€ê°€ ëŒ€ê¸°ì—´ì— ì „ë‹¬ë˜ë©´, ì‘ë‹µì„ ì¦‰ì‹œ í•  í•„ìš”ê°€ ì—†ë‹¤. ë©”ì‹œì§€ ëŒ€ê¸°ì—´ì— ì „ë‹¬ ëœ ìƒí™©ì´ë¼ë©´ ë©”ì‹œì§€ëŠ” ì‹œìŠ¤í…œì— ë³´ì¡´ë˜ì–´ ìˆì–´, ë‹¤ë¥¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ì˜ì¡´ì„±ì´ ë‚®ê²Œ ëœë‹¤. Message Broker ì†¡ì‹ ìì™€ ìˆ˜ì‹ ì ì‚¬ì´ì—ì„œ ë©”ì‹œì§€ì˜ ì „ë‹¬ì„ ì¤‘ì¬í•˜ëŠ” ì»´í“¨í„° í”„ë¡œê·¸ë¨ ëª¨ë“ˆ\në©”ì‹œì§€ ë¸Œë¡œì»¤ëŠ” ì •í˜•í™”ëœ ë©”ì‹œì§€ì˜ êµí™˜ì„ í†µí•´ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ì†Œí†µì´ ì´ë¤šë””ëŠ” ë„¤íŠ¸ì›Œí¬ ì—˜ë¦¬ë¨¼ë“œì´ë‹¤.\nëª©ì  ë©”ì‹œì§€ì˜ ìœ íš¨ì„±, ì •ì†¡, ë¼ìš°íŒ…ì„ ìœ„í•œ ì•„í‚¤í…ì²˜ íŒ¨í„´\nì–´í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ì´ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì¤‘ì¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ë©”ì‹œì§€ ì „ë‹¬ì„ ìœ„í•œ ìƒí˜¸ ì¸ì‹(mutal awareness)ë¥¼ ì¤„ì—¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ê²°í•©ì„±ì„ ë‚®ì¶˜ë‹¤(decoupling) ê¸°ëŠ¥ ì—”ë“œ í¬ì¸íŠ¸ ë¶„ë¦¬ NFR(non-functional requirement) ì¶©ì¡° ì¤‘ì¬í•¨ìˆ˜ (intermediary function)ì˜ ê°„í¸í•œ ì¬ì‚¬ìš© í•˜ë‚˜ì´ìƒì˜ ëª©ì ì§€ë¡œì˜ ë©”ì‹œì§€ ë¼ìš°íŒ… ë©”ì‹œì§€ì˜ í˜•íƒœ ë³€í˜• ë©”ì‹œì§€ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ì—¬ëŸ¬ ë©”ì‹œì§€ë¡œ ë¶„í•´í•˜ê³  ëŒ€ìƒìœ¼ë¡œ ë³´ë‚´ ì‘ë‹µì„ í•˜ë‚˜ì˜ ë©”ì‹œì§€ë¡œ ì¬êµ¬ì„±í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜ ë©”ì‹œì§€ ì–‘ ì¦ê°€ ë˜ëŠ” ì €ì¥ì„ ìœ„í•œ ì™¸ë¶€ ì €ì¥ì†Œì™€ ìƒí˜¸ì‘ìš© ë°ì´í„° ê²€ìƒ‰ì„ ìœ„í•œ ì›¹ ì„œë¹„ìŠ¤ í˜¸ì¶œ ì´ë²¤íŠ¸ ë˜ëŠ” ì—ëŸ¬ì˜ ì‘ë‹´ ë°œí–‰-êµ¬ë… íŒ¨í„´ì„ í™œìš©í•œ ì»¨í…ì¸ ì™€ í† í”½ ê¸°ë°˜ ë©”ì‹œì§€ ë¼ìš°íŒ… ì œê³µ ì„¤ê³„ í—ˆë¸Œ ì•¤ ìŠ¤í¬í¬(hub and spoke)\nì¤‘ì•™ ì„œë²„ê°€ í†µí•© ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì‘ë™ ë©”ì‹œì§€ ë²„ìŠ¤(message bus)\në©”ì‹œì§€ ë¸Œë¡œì»¤ê°€ ë²„ìŠ¤ì—ì„œ ì‘ë™í•˜ëŠ” í†µì‹  ë°±ë³¸ ë˜ëŠ” ë¶„ì‚° ì„œë¹„ìŠ¤ ","date":"2023-04-17T19:42:33+09:00","image":"https://codemario318.github.io/post/messaging_system/messaging_cover_huc80ec853f6ab161a17ff43aa6052ff01_60754_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/messaging_system/","title":"ë©”ì‹œì§• ì‹œìŠ¤í…œì´ë€?"},{"content":"Not Only SQL: SQLë§Œì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì§€ì¹­í•˜ëŠ” ë‹¨ì–´. \u0026lsquo;ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°ì—ëŠ” SQL ì™¸ì— ë‹¤ë¥¸ ë°©ë²•ë“¤ë„ ìˆë‹¤.\u0026rsquo;\nì •ì˜ NoSQLì— ë‚´ë ¤ì§„ êµ¬ì²´ì ì¸ ì •ì˜ëŠ” ì—†ìœ¼ë‚˜ ê³µí†µì ì¸ ì„±í–¥ì„ ê°€ì§€ê³  ìˆë‹¤.\nëŒ€ë¶€ë¶„ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‹¤í–‰í•  ëª©ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œê¸° ë•Œë¬¸ì— ê´€ê³„í˜• ëª¨ë¸ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜¤í”ˆ ì†ŒìŠ¤ì´ë‹¤. ìŠ¤í‚¤ë§ˆ ì—†ì´ ë™ì‘í•˜ë©°, êµ¬ì¡°ì— ëŒ€í•œ ì •ì˜ë¥¼ ë³€ê²½í•  í•„ìš” ì—†ì´ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì½”ë“œì— ììœ ë¡­ê²Œ í•„ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. 21ì„¸ê¸° ì´ˆë°˜ì— ê°œë°œ ëœ SQLì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” Schema-less ë°ì´í„°ë² ì´ìŠ¤\ní´ëŸ¬ìŠ¤í„°\nì €ë ´í•œ ìƒìš© ì œí’ˆ ì—¬ëŸ¬ ëŒ€ë¥¼ ì¡°í•©í•˜ì—¬ ë” ë¹ ë¥´ê³  ì•ˆì •ì ì¸ ì‹œìŠ¤í…œì„ ëª©í‘œë¡œ ë§Œë“¤ì–´ì§„ ë°©ë²•\në“±ì¥ë°°ê²½ ì—¬ëŸ¬ ëŒ€ì˜ ì»´í“¨í„°ì— ë°ì´í„°ë¥¼ ë¶„ì‚° ì €ì¥í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ë“±ì¥í–ˆë‹¤.\nê¸°ì¡´ì—ëŠ” ì•ˆì •ì ì¸ ë°ì´í„° ê´€ë¦¬ê°€ ê°€ì¥ ì¤‘ìš”í–ˆê¸° ë•Œë¬¸ì—, íŠ¸ë™ì­ì…˜ì„ í†µí•œ ê´€ë¦¬ê°€ ê°€ëŠ¥í•œ RDBMSê°€ ë§ì´ ì´ìš©ë˜ì—ˆì§€ë§Œ ì›¹ 2.0 í™˜ê²½ê³¼ ë¹…ë°ì´í„°ê°€ ë“±ì¥í•˜ë©´ì„œ RDBMSëŠ” ë°ì´í„°ì™€ íŠ¸ë˜í”½ ì–‘ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•¨ì— ë”°ë¼ í•œ ëŒ€ì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ì„¤ê³„ëœ RDBMSë¥¼ ì‚¬ìš©í•˜ëŠ” ë° í•„ìš”í•œ ë¹„ìš© ì¦ê°€ ì´ìŠˆê°€ ìƒê²¨ë‚¬ë‹¤.\nNoSQLì€ ë°ì´í„°ì˜ ì¼ê´€ì„±ì„ ì•½ê°„ í¬ê¸°í•œ ëŒ€ì‹  ì—¬ëŸ¬ ëŒ€ì˜ ì»´í“¨í„°ì— ë°ì´í„°ë¥¼ ë¶„ì‚°í•˜ì—¬ ì €ì¥í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ë“±ì¥í•˜ì˜€ê³ , NoSQLì˜ ë“±ì¥ìœ¼ë¡œ ì‘ê³  ê°’ì‹¼ ì¥ë¹„ ì—¬ëŸ¬ ëŒ€ë¡œ ëŒ€ëŸ‰ì˜ ë°ì´í„°ì™€ ì»´í“¨íŒ… ë¶€í•˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ê²Œ ë˜ì—ˆë‹¤.\níŠ¹ì§• ì¼ê´€ì„±ê³¼ í™•ì¥ì„± ì‚¬ì´ì˜ Trade-off\nì¼ê´€ì„±ì´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì ˆëŒ€ì ì¸ ìš”ì†Œê°€ ì•„ë‹˜ì„ ì£¼ì¥í•˜ëŠ” ì›€ì§ì„ì´ ìƒê¸°ê¸° ì‹œì‘í–ˆë‹¤. ë‹¤ìˆ˜ê°€ ë™ì‹œì— ì½ê³  ì“°ëŠ” ìƒí™©ì—ì„œì˜ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ì„œ. ë¶„ì‚° í™˜ê²½ì—ì„œ ë…¸ë“œë“¤ì´ ì˜ ì‘ë™í•˜ê³  ìˆìŒì—ë„, ì‹œìŠ¤í…œì˜ ì¼ë¶€ê°€ ê³ ì¥ë‚˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ. ë¶„ì‚° ì €ì¥\në°ì´í„°ì™€ íŠ¸ë˜í”½ì´ ì¦ê°€í•¨ì— ë”°ë¼ ê¸°ì¡´ì˜ ì¥ë¹„ë¡œëŠ” ì›í• í•œ ë°ì´í„°ì˜ ì²˜ë¦¬ê°€ ì–´ë ¤ì›Œì¡Œë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ ì¥ë¹„ì˜ ì„±ëŠ¥ì„ í‚¤ìš°ëŠ” ìˆ˜ì§ì  í™•ì¥ê³¼ ì²˜ë¦¬í•˜ëŠ” ì¥ë¹„ ìˆ˜ë¥¼ ëŠ˜ë¦¬ëŠ” ìˆ˜í‰ì  í™•ì¥ì´ ìˆë‹¤. ìˆ˜ì§ì  í™•ì¥ì€ í° ë¹„ìš©ì ì¸ ë¬¸ì œê°€ ë°œìƒí•˜ë¯€ë¡œ ìˆ˜í‰ì  í™•ì¥ì„ ê³ ë ¤í–ˆì§€ë§Œ, RDBMSê°€ í´ëŸ¬ìŠ¤í„° ìƒì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ ì„¤ê³„ë˜ì§€ ì•Šì•˜ë‹¤. ìƒ¤ë”©(Sharding)\nìƒ¤ë“œí‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ë‚˜ì˜ í…Œì´ë¸”ì„ ìˆ˜í‰ ë¶„í• í•˜ì—¬ ì„œë¡œ ë‹¤ë¥¸ í´ëŸ¬ìŠ¤í„°ì— ë¶„ì‚° ì €ì¥í•˜ê³  ì§ˆì˜í•  ìˆ˜ ìˆëŠ” ê¸°ë²•. RDBMSì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ëª¨ë“  ìƒ¤ë”©ì„ ì œì–´í•´ì•¼ í•œë‹¤.(ì–´ë–¤ ë°ì´í„°ë¥¼ ì–´ëŠ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ì§€ ë“±) ë˜í•œ ì—¬ëŸ¬ ìƒ¤ë“œì— ê±¸ì¹˜ëŠ” ì¿¼ë¦¬ë‚˜ ì°¸ì¡° ì •í•©ì„±, íŠ¸ëœì­ì…˜, ì¼ê´€ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë¶„ì‚° ì €ì¥ì„ ì§€ì›í•˜ëŠ” NoSQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²½í›„, ì§‘í•©-ì§€í–¥(Aggregtae-oriented) ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤. ì—°ê´€ëœ ë°ì´í„°ë“¤ì´ í•¨ê»˜ ë¶„ì‚°ë˜ë¯€ë¡œ, ê´€ê³„í˜• ëª¨ë¸ì—ì„œì²˜ëŸ¼ ë³µì¡í•œ ì œì–´ê°€ í•„ìš”í•˜ì§€ ì•Šê²Œ ëœë‹¤. ë°ì´í„° ì¼ì¹˜\nRDBMSì—ì„œ ê´€ê³„í˜• íŠœí”Œ ì•ˆì˜ ê°’ì€ ë‹¨ìˆœí•´ì•¼ í•˜ë©° ì¤‘ì²©ëœ ë ˆì½”ë“œë‚˜ ë¦¬ìŠ¤íŠ¸ ë“± ë‹¤ë¥¸ êµ¬ì¡°ë¥¼ í¬í•¨í•  ìˆ˜ ì—†ëŠ ë°˜ë©´, ë©”ëª¨ë¦¬ ë‚´ ë°ì´í„° êµ¬ì¡°ì—ì„œëŠ” ì´ëŸ° ì œì•½ì´ ì—†ì–´ í›¨ì”¬ ë³µì¡í•œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤.(ë¦¬ìŠ¤íŠ¸, ë”•ì…”ë„ˆë¦¬, ì¤‘ì²©ëœ ê°ì²´ êµ¬ì¡°) ê·¸ ê²°ê³¼ ë³µì¡í•œ ë©”ëª¨ë¦¬ë‚´ ë°ì´í„° êµ¬ì¡°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë ¤ë©´ ë¨¼ì € ê´€ê³„í˜• í‘œí˜„ìœ¼ë¡œ ë³€í™˜í•´ì•¼ í•œë‹¤. (ORM í”„ë ˆì„ì›Œí¬ë“±ì„ ì´ìš©) NoSQLì€ ë©”ëª¨ë¦¬ ë‚´ì˜ ë°ì´í„°ê°€ ì–´ë–¤ êµ¬ì¡°ì´ë“ ì§€ ìƒê´€í•˜ì§€ ì•Šê³  í•˜ë‚˜ì˜ Aggregationìœ¼ë¡œ ì·¨ê¸‰í•˜ì—¬ ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ììœ ë¡­ë‹¤. Impedance mismatch\nê´€ê³„í˜• ëª¨ë¸ê³¼ ë©”ëª¨ë¦¬ ë‚´ ë°ì´í„° êµ¬ì¡° ê°„ì˜ ë¶ˆì¼ì¹˜\nSchema-less\nNoSQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ê³µí†µì ì¸ íŠ¹ì§•ì€ ìŠ¤í‚¤ë§ˆ ì—†ì´ ë™ì‘í•œë‹¤ëŠ” ì ì´ë‹¤. ì¥ì  ë°ì´í„° êµ¬ì¡°ë¥¼ ë¯¸ë¦¬ ì •ì˜í•  í•„ìš”ê°€ ì—†ë‹¤. ì‹œê°„ì´ ì§€ë‚˜ë”ë¼ë„ ì–¸ì œë“ ì§€ ë°”ê¿€ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¹„í˜•ì‹ì ì¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë° ìš©ì´í•˜ë‹¤. ë‹¨ì  ë‹¨ì¼ ê°’ì— ëŒ€í•œ ë°ì´í„° íƒ€ì…ì—ì„œ ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ê°€ ìŠ¤í‚¤ë§ˆë¥¼ ì§ì ‘ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ì˜ë¯¸í•  ë¿, ë°ì´í„° íƒ€ì…ì— ë”°ë¥¸ ì•”ë¬µì ì¸ ìŠ¤í‚¤ë§ˆëŠ” ì—¬ì „íˆ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ ì¢…ë¥˜ ë„¤ ê°€ì§€ ëª¨ë¸ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.\nkey-value Document Column-family Graph ì´ ì¤‘ ê·¸ë˜í”„ ëª¨ë¸ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì„¸ ëª¨ë¸ì€ ì§‘í•©-ì§€í–¥(Aggregate-orented)ëª¨ë¸ì´ë‹¤.\nì§‘í•©-ì§€í–¥ (Agregate-orented) ëª¨ë¸ ì§‘í•© ì§€í–¥ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì§‘í•© ìë£Œêµ¬ì¡°ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.\nì§‘í•©\nì—°ì‚°ì˜ í•œ ë‹¨ìœ„ë¡œ ì·¨ê¸‰ë˜ëŠ” ì—°ê´€ëœ ê°ì²´ë“¤ì˜ ì§‘í•©.\nê´€ê³„í˜• ëª¨ë¸ì²˜ëŒ í•˜ë‚˜ì˜ ì—”í‹°í‹°ì— ëŒ€í•œ ACID íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ëŠ” ì•Šì§€ë§Œ, í•˜ë‚˜ì˜ ì§‘í•©ì— ëŒ€í•œ ì—°ì‚°ì—ì„œëŠ” íŠ¸ëœì­ì…˜ì„ ì§€ì›í•œë‹¤.\nì¥ì \nì§‘í•© ì§€í–¥ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—¬ëŸ¬ ëŒ€ì˜ í´ëŸ¬ìŠ¤í„°ë¡œ ì´ë£¨ì–´ì§„ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ê¸° ì í•©í•˜ë‹¤. ìˆ˜í‰ì  í™•ì¥ì´ ìš©ì´í•˜ë‹¤. ì´ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ëŠ” ë‹¬ë¦¬ ì—°ê´€ëœ ë°ì´í„°ë“¤ì´ í•¨ê»˜ ì›€ì§ì´ê¸° ë–„ë¬¸ì´ë‹¤. ë©”ëª¨ë¦¬ ë‚´ì˜ ìë£Œêµ¬ì¡°ì™€ ì§‘í•© ê°„ ë°ì´í„°ê°€ ì˜ ì¼ì¹˜í•˜ë¯€ë¡œ, ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì²˜ëŸ¼ ê°ì²´-ê´€ê³„ ë§¤í•‘ í”„ë ˆì„ì›Œí¬ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤. ë°ì´í„°ì˜ ê²€ìƒ‰ë„ ì•„ì£¼ ì‰¬ìš´í¸ìœ¼ë¡œ, keyë‚˜ IDë¥¼ ì‚¬ìš©í•˜ë©´ ì‰½ê²Œ ì§‘í•© ë ˆì½”ë“œë¥¼ ì°¾ì•„ë‚¼ ìˆ˜ ìˆë‹¤. ë‹¨ì \nì§‘í•© ì§€í–¥ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì¡°ì¸ ì—°ì‚°ì´ ë¶ˆê°€ëŠ¥ MongoDBë‚˜ Cassandraë“±ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ë§µë¦¬ë“€ìŠ¤(MapReduce) ê¸°ëŠ¥ì„ ì œê³µí•¨ìœ¼ë¡œì¨ ì¡°ì¸ê³¼ ìœ ì‚¬í•œ ì—°ì‚°ì„ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í–ˆì§€ë§Œ ì‚¬ìš©ë²•ì´ ì–´ë µê³  Hadoopì˜ ë§µ ë¦¬ë“€ìŠ¤ì— ë¹„í•˜ë©´ ì†ë„ë„ ë§¤ìš° ëŠë¦¬ë‹¤. Key-Value í‚¤ ê°’ ì €ì¥ì†ŒëŠ” ê°€ì¥ ë‹¨ìˆœí•œ í˜•íƒœì˜ NoSQL\nì¥ì \nìˆ˜í‰ì  í™•ì¥ì´ ìš©ì´í•˜ë‹¤. ì•„ì£¼ ê°„ë‹¨í•œ APIë§Œì„ ì œê³µí•˜ê¸° ë–„ë¬¸ì— ë°°ìš°ëŠ” ê²ƒì´ ì–´ë µì§€ ì•Šë‹¤. ê°„ë‹¨í•œ APIë¥¼ ì œê³µí•˜ëŠ” ë§Œí¼ ì§ˆì˜ì˜ ì†ë„ê°€ êµ‰ì¥íˆ ë¹ ë¥¸í¸ ì–´ë– í•œ í˜•íƒœì˜ ë°ì´í„°ë¼ë„ ë‹´ì„ ìˆ˜ ìˆë‹¤. ì´ë¯¸ì§€ë‚˜ ë¹„ë””ì˜¤ë„ ê°€ëŠ¥ ë‹¨ì \nê°’ì˜ ë‚´ìš©ì„ ì‚¬ìš©í•œ ì¿¼ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í‚¤ë¥¼ ì‚¬ìš©í•´ ê°’ì„ ì½ì–´ë“¤ì¸ ë’¤, ì–´í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ì ì ˆíˆ ì²˜ë¦¬í•´ì•¼ í•œë‹¤. Document ë°ì´í„°ê°€ í‚¤ì™€ ë¬¸ì„œ í˜•íƒœë¡œ ì €ì¥ë˜ëŠ” í‚¤-ê°’ ëª¨ë¸ì˜ ê°œì„  í˜•íƒœ\ní‚¤-ê°’ ëª¨ë¸ê³¼ì˜ ì°¨ì´ì \nValueê°€ ê³„ì¸µì ì¸ í˜•íƒœì¸ ë„íë¨¼íŠ¸ë¡œ ì €ì¥ëœë‹¤. ê°ì²´ì§€í–¥ì˜ ê°ì²´ì™€ ìœ ì‚¬í•˜ë©°, í•˜ë‚˜ì˜ ë‹¨ìœ„ë¡œ ì·¨ê¸‰ë˜ì–´ ì €ì¥ëœë‹¤.\nì¥ì \ní•˜ë‚˜ì˜ ê°ì²´ë¥¼ ì—¬ëŸ¬ í…Œì´ë¸”ì— ë‚˜ëˆ  ì €ì¥í•  í•„ìš”ê°€ ì—†ë‹¤. ë„íë¨¼íŠ¸ ë‚´ì˜ itemì„ ì´ìš©í•œ ì¿¼ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤. ë‹¨, Xqueryë‚˜ ë‹¤ë¥¸ ë„íë¨¼íŠ¸ ì§ˆì˜ ì–¸ì–´ê°€ í•„ìš” ê°ì²´-ê´€ê³„ ë§¤í•‘ì´ í•„ìš”í•˜ì§€ ì•Šë‹¤. ê°ì²´ë¥¼ ë„íë¨¼íŠ¸ì˜ í˜•íƒœë¡œ ë°”ë¡œ ì €ì¥ ê°€ëŠ¥í•˜ê¸° ë–„ë¬¸ ê²€ìƒ‰ì— ìµœì í™” ë˜ì–´ìˆë‹¤. ë‹¨ì \nì‚¬ìš©ì´ ë²ˆê±°ë¡­ê³  ì¿¼ë¦¬ê°€ SQLê³¼ ë‹¤ë¥´ë‹¤. ì§ˆì˜ì˜ ê²°ê³¼ê°€ JSONì´ë‚˜ XML í˜•íƒœë¡œ ì¶œë ¥ë˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ë°©ë²•ì´ RDBMSì™€ ë‹¤ë¥´ë‹¤. ì§ˆì˜ ì–¸ì–´ê°€ SQLê³¼ ë‹¤ë¥´ê¸° ë–„ë¬¸ì— ì‚¬ìš©ì— ìµìˆ™í•´ì§€ê¸°ê¹Œì§€ ë‹¤ì†Œ ì–´ë ¤ì›€ì´ ìˆì„ ìˆ˜ ìˆìŒ. ì¢…ë¥˜ MongoDB ë„íë¨¼íŠ¸ ì§€í–¥ ë°ì´í„° ë² ì´ìŠ¤ì´ë‹¤.\nbson ë°ì´í„° êµ¬ì¡°ë¡œ ì €ì¥ ë¬¸ì„œë¥¼ ê¸°ë³¸ ì €ì¥ ë‹¨ìœ„ë¡œ ì´ìš©í•˜ë©´ì„œ ë‚´ì¥ ë¬¸ì„œì™€ ë°°ì—´ì„ ì´ìš©í•˜ì—¬ ë³µì¡í•œ ê³„ì¸µêµ¬ì¡°ë¥¼ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¡œ í‘œí˜„í•œë‹¤. ìŠ¤í‚¤ë§ˆê°€ ì—†ë‹¤. í•„ë“œ ì¶”ê°€ ì œê±°ëŠ” ììœ ë¡œìš°ë©° í•„ìš”í•  ë•Œ ë§ˆë‹¤ ììœ ìì¬ë¡œ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤. RDBMS ë³´ë‹¤ ë§¤ìš° ë¹ ë¥´ë‹¤. ì¡°ì¸ê³¼ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©° ì—¬ëŸ¬ ì œì•½ì¡°ê±´ì— ëŒ€í•œ ì²˜ë¦¬ë„ ì—†ë‹¤. â†’ë²„ì „ì— ë”°ë¼ ë‹¤ë¦„ Redis(REmote DIctionary Server) ë©”ëª¨ë¦¬ ê¸°ë°˜ì˜ \u0026ldquo;Key-Value\u0026rdquo; êµ¬ì¡° ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œì´ë©°, ëª¨ë“  ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  ì¡°íšŒí•˜ê¸°ì— ë¹ ë¥¸ Read, Write ì†ë„ë¥¼ ë³´ì¥í•˜ëŠ” ë¹„ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì´ë‹¤.\nString, set, Sorted Set, Hash, List ë°ì´í„° í˜•ì‹ì„ ì§€ì›í•œë‹¤. RedisëŠ” ë¹ ë¥¸ ì˜¤í”ˆ ì†ŒìŠ¤ì¸ ë©”ëª¨ë¦¬ í‚¤-ê°’ ë°ì´í„° êµ¬ì¡° ìŠ¤í† ì–´ì´ë©°, ë‹¤ì–‘í•œ ì¸ë©”ëª¨ë¦¬ ë°ì´í„° êµ¬ì¡° ì§‘í•©ì„ ì œê³µí•˜ë¯€ë¡œ ì‚¬ìš©ì ì •ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì†ì‰½ê²Œ ìƒì„± í•  ìˆ˜ ìˆë‹¤.\níŠ¹ì§• ì˜ì†ì„±ì„ ì§€ì›í•˜ëŠ” ì¸ë©”ëª¨ë¦¬ ë°ì´í„° ì €ì¥ì†Œ\nì½ê¸° ì„±ëŠ¥ ì¦ëŒ€ë¥¼ ìœ„í•œ ì„œë²„ì¸¡ ë³µì œ ì§€ì›\nRedisê°€ ì‹¤í–‰ì¤‘ì¸ ì„œë²„ê°€ ì¶©ëŒí•˜ëŠ” ê²½ìš° ì¥ì•  ì¡°ì¹˜ ì²˜ë¦¬ì™€ í•¨ê»˜ ë” ë†’ì€ ì½ê¸° ì„±ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ìŠ¬ë ˆì´ë¸Œê°€ ë§ˆìŠ¤í„°ì— ì—°ê²°í•˜ê³  ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì´ˆê¸° ë³µì‚¬ë³¸ì„ ë°›ëŠ” ë§ˆìŠ¤í„°/ ìŠ¬ë ˆì´ë¸Œ ë³µì œë¥¼ ì§€ì›. ë§ˆìŠ¤í„°ì—ì„œ ì“°ê¸°ê°€ ìˆ˜í–‰ë˜ë©´ ìŠ¬ë ˆì´ë¸Œ ë°ì´í„° ì„¸íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•˜ê¸° ìœ„í•´ ì—°ê²°ëœ ëª¨ë“  ìŠ¬ë ˆì´ë¸Œë¡œ ì „ì†¡ë¨ ì“°ê¸° ì„±ëŠ¥ ì¦ëŒ€ë¥¼ ìœ„í•œ í´ë¼ì´ì–¸íŠ¸\n","date":"2023-04-17T19:24:48+09:00","image":"https://codemario318.github.io/post/nosql/nosql_cover_hu705a0f96b7606376fe264778ca77daa9_6424_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/nosql/","title":"NoSQLì´ë€?"},{"content":"Apache ì•„íŒŒì¹˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ë°›ìœ¼ë©´ MPM(Multi Processing Module : ë‹¤ì¤‘ì²˜ë¦¬ëª¨ë“ˆ) ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.\nìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ ê¸°ë°˜ êµ¬ì¡° ë™ì‘ ServerSocketìœ¼ë¡œ request Aê°€ ë“¤ì–´ì˜¤ë©´ Threadë¥¼ í• ë‹¹í•´ì¤€ë‹¤. ThreadëŠ” í•´ë‹¹ socketì„ ê°€ì§€ê³  read, writeì‘ì—… ë“±ì„ ìˆ˜í–‰í•œë‹¤. ìˆ˜í–‰ ë„ì¤‘ ServerSocketìœ¼ë¡œ request Bê°€ ë“¤ì–´ì˜¤ë©´, context switchingì´ ì¼ì–´ë‚œë‹¤. ìƒˆë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì— ì“°ë ˆë“œë¥¼ ë°°ë¶„í•˜ê³ , ë˜ í•´ë‹¹ ì†Œì¼“ì„ ê°€ì§€ê³  ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì•„ì§ ë§ˆë¬´ë¦¬ë˜ì§€ ì•Šì€ Aë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì¼ì • ê¸°ê°„ë§ˆë‹¤ ì§€ì†ì ìœ¼ë¡œ context switchingì„ ë°˜ë³µí•˜ê³  ëª¨ë“  ì‘ì—…ì„ ë§ˆë¬´ë¦¬ í•œë‹¤. Prefork MPM ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³µì œí•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹\nê° í”„ë¡œì„¸ìŠ¤ëŠ” í•œë²ˆì— í•œ ì—°ê²°ë§Œ ì²˜ë¦¬í•˜ê³ , ìš”ì²­ëŸ‰ì´ ë§ì•„ì§ˆìˆ˜ë¡ í”„ë¡œì„¸ìŠ¤ë¥¼ ë³µì œí•˜ì—¬ ë™ì‘í•œë‹¤.\ní”„ë¡œì„¸ìŠ¤ë¥¼ ë³µì œí•˜ëŠ” ë°©ì‹ì´ê¸° ë–„ë¬¸ì— ë©”ëª¨ë¦¬ê°€ ë§ì´ ì†Œë¹„ëœë‹¤\nì—°ê²° ìˆ˜ = í”„ë¡œì„¸ìŠ¤ ìˆ˜\nWorker MPM Prefork ë°©ì‹ì€ í•œê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ í•œê°œì˜ ìŠ¤ë ˆë“œë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ, Worker ë°©ì‹ì€ í•œê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì—¬ëŸ¬ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì²˜ë¦¬í•œë‹¤.\nì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ê¸° ë–„ë¬¸ì— Prefork ë°©ì‹ë³´ë‹¤ ë©”ëª¨ë¦¬ ì†Œëª¨ê°€ ì ê³ , í†µì‹ ëŸ‰ì´ ë§ì„ ë•Œ ìœ ë¦¬í•˜ë‹¤.\në¬¸ì œì  ì•„íŒŒì¹˜ëŠ” ì ‘ì†ë§ˆë‹¤ í”„ë¡œì„¸ìŠ¤ ë˜ëŠ” ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” êµ¬ì¡°ì´ë‹¤.\në™ì‹œ ì ‘ì† ìš”ì²­ì´ ë§ì„ìˆ˜ë¡ ê·¸ë§Œí° ìƒì„± ë¹„ìš©ì´ ë“¤ê³  ëŒ€ìš©ì–‘ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì›¹ ì„œë²„ë¡œì„œ í•œê³„ê°€ ë‚˜íƒ€ë‚œë‹¤.\nNginx í•œê°œ ë˜ëŠ” ê³ ì •ëœ í”„ë¡œì„¸ìŠ¤ë§Œ ìƒì„±í•˜ê³ , í”„ë¡œì„¸ìŠ¤ ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤. ë”°ë¼ì„œ ë™ì‹œ ì ‘ì† ìš”ì²­ì´ ë§ì•„ë„ í”„ë¡œì„¸ìŠ¤ ë˜ëŠ” ì“°ë ˆë“œ ìƒì„± ë¹„ìš©ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.\nEvent-Driven ë°©ì‹ Event-Driven ë°©ì‹ì€ Reactor patternì„ ì‚¬ìš©í•œë‹¤.\nReactorëŠ” ì´ë²¤íŠ¸ê°€ ë“¤ì–´ì˜¤ë©´ ì•Œë§ëŠ” handlerë¡œ dispatch í•´ì¤€ë‹¤. HandlerëŠ” dispatchëœ ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰ Reactor pattern\nì´ë²¤íŠ¸ ì²˜ë¦¬(event handling)ë””ìì¸ íŒ¨í„´ìœ¼ë¡œ í•˜ë‚˜ì˜ Reactorê°€ ê³„ì† ì´ë²¤íŠ¸ë¥¼ ì°¾ê³  ì´ë²¤íŠ¸ê°€ ë°œìƒ(trigger)í•˜ë©´ í•´ë‹¹ ì´ë²¤íŠ¸ ì²˜ë¦¬ê¸°(event handler)ì—ê²Œ ì•Œë¦°ë‹¤.\nNginxì™€ Apacheì˜ ì°¨ì´ì  ì»¨í…ì¸ ì˜ì²˜ë¦¬ ë°©ì‹ ì •ì  ì»¨í…ì¸  ì²˜ë¦¬\nApache: ì „í†µì ì¸ íŒŒì¼ê¸°ë°˜ ë°©ì‹ì˜ ì •ì  ì»¨í…ì¸  Nginx: ì´ë²¤íŠ¸ ì²˜ë¦¬/ë¹„ë™ê¸°ì‹/ë…¼ë¸”ë¡œí‚¹ ë°©ì‹ ì²˜ë¦¬ë¡œ ì¸í•´ ì •ì  ì»¨í…ì¸  ì œê³µì‹œ ê³ ì† ì²˜ë¦¬ ê°€ëŠ¥ ë™ì  ì»¨í…ì¸  ì²˜ë¦¬\nApache: ì„œë²„ ë‚´ì—ì„œ ì²˜ë¦¬ ê¸°ë³¸ì ìœ¼ë¡œ ìœ ì—°ì„±ê³¼ ë²”ìš©ì„±ì„ ê°–ì¶”ëŠ” ë°©ì‹ìœ¼ë¡œ ì„œë²„ ìì²´ì—ì„œ ë™ì  ì»¨í…ì¸  ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤. Nginx: ë™ì  ì»¨í…ì¸ ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•ŠìŒ ë™ì  ì›¹ í˜ì´ì§€ ì»¨í…ì¸ ë¥¼ ê°€ì§„ ëª¨ë“  ìš”ì²­ì„ ìœ„í•´ ì™¸ë¶€ ìì›ê³¼ ì—°ê³„í•œë‹¤. ë”°ë¼ì„œ ìµœì¢…ì ìœ¼ë¡œ ë™ì  ì»¨í…ì¸ ê°€ ë‹¤ì‹œ ëŒì•„ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì„ ê°€ì§€ê³  ìˆë‹¤. OS ì§€ì›ì— ëŒ€í•œ ë²”ìš©ì„± Apache: ë¦¬ëˆ…ìŠ¤, BSD, UNIX, WINDOW ì—­ì‚¬ê°€ ìˆëŠ” ë§Œí¼ ì§€ì› ë²”ìœ„ê°€ ë‹¤ì–‘í•˜ê¸° ë•Œë¬¸ì— ì¼ê´€ì„± ìˆëŠ” ì›¹ ì„œë¹„ìŠ¤ ì•„í‚¤í…ì³ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. Nginx: LINUX, BSD, UNIX, WIN(ë¶€ë¶„ ì§€ì›) ë‹¤ì–‘í•œ ìš´ì˜ì²´ì œë¥¼ ì§€ì›í•˜ì§€ë§Œ ì•„íŒŒì¹˜ ë§Œí¼ ì™„ë²½íˆ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë¶„ì‚°/ì¤‘ì•™ì§‘ì¤‘ì‹ êµ¬ì„± ë°©ì‹ Apache: ë¶„ì‚°/ì¤‘ì•™ì§‘ì¤‘ì‹ êµ¬ì„± ì±„íƒ .htaccessë¥¼ í†µí•´ ë””ë ‰í† ë¦¬ë³„ë¡œ ì¶”ê°€ êµ¬ì„±ì„ í•  ìˆ˜ ìˆë‹¤. ë‹¨ì¼ ê¸°ë°˜ ë¿ë§Œ ì•„ë‹ˆë¼ ë¶„ì‚°í˜• êµ¬ì¹™ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ëŒ€ìš©ëŸ‰ ì„œë²„ ì•„í‚¤í…ì³ì—ì„œ ìì›ë§Œ ì¶©ë¶„í•˜ë‹¤ë©´ ì—¬ëŸ¬ ì›¹ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„ í•  ìˆ˜ ìˆë‹¤. Nginx: ì¤‘ì•™ì§‘ì¤‘ì‹ êµ¬ì„± ì±„íƒ ì•„íŒŒì¹˜ì²˜ëŸ¼ .htaccessë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ì¶”ê°€ êµ¬ì„±ì„ í•  ìˆ˜ ì—†ëŠ” ë‹¨ì ì´ ìˆë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ì€ ê°€ìƒí™”, í´ë¼ìš°ë“œ, MSAì™€ ê°™ì€ ì•„í‚¤í…ì³ì—ì„œëŠ” ì˜¤íˆë ¤ ê²½ëŸ‰í™”ì™€ ì„±ëŠ¥ ë³´ì¥ì´ë¼ëŠ” ì¸¡ë©´ì—ì„œ ë‹¨ì ì´ ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. ëª¨ë“ˆ ë° í™•ì¥ì„±/ë³´ì•ˆ Apache 60ê°œ ì´ìƒì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ê³¼ ëª¨ë“ˆì„ ì§€ì›í•˜ë©°, í•„ìš”ì— ë”°ë¼ í™œì„±í™” ë˜ëŠ” ë¹„í™œì„± ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ë™ì  ëª¨ë“ˆì„ í†µí•´ ì›¹ ì„œë²„ì˜ ì‚¬ìš©ì ì§€ì •ë„ ê°€ëŠ¥í•˜ê²Œ í•  ìˆ˜ ìˆëŠ” ë“± ë‹¤ì–‘í•œ ë””ìì¸ê³¼ í™•ì¥ì´ ê°€ëŠ¥í•˜ë‹¤. ë³´ì•ˆì„ ìœ„í•´ ë‹¤ì–‘í•œ Webê¸°ë°˜ DDoS ë°©ì–´ ê¸°ìˆ ì„ ì œê³µí•œë‹¤. Nginx ë‹¤ë¥¸ ì½”ì–´ ëª¨ë“ˆì„ ë™ì ìœ¼ë¡œ ë¡œë”©í•  ìˆ˜ ì—†ë„ë¡ ë˜ì–´ìˆë‹¤. ì˜µì…˜ì„ ìµœì†Œí™” í•´ì„œ íƒœìƒ ë¶€í„° ì„±ëŠ¥ì— í¬ì»¤ì‹± í–ˆë‹¤. ë³´ì•ˆì— ëŒ€í•œ ë‹¤ì–‘í•œ ê¸°ìˆ  ë¬¸ì„œë¥¼ ì œê³µí•˜ë©°, ì½”ë“œ ìì²´ê°€ ê°€ë³ê³  ê²½ëŸ‰í™” ë˜ì–´ ìˆì–´ì„œ ë³´ì•ˆì— ìœ ë¦¬í•œ ì¸¡ë©´ë„ ìˆë‹¤.https://youngmind.tistory.com/entry/Apache-vs-Nginx ","date":"2023-04-17T19:10:21+09:00","image":"https://codemario318.github.io/post/nginx_vs_apache/web_cover_hu71ff0ea2f7ce80fa0f2ad0c2fcb44a04_52909_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/nginx_vs_apache/","title":"Nginx VS Apache"},{"content":"ì›¹ ë™ì‘ ë°©ì‹ í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ê°€ HTTP(URL)ì„ í†µí•´ ìš”ì²­ì„ ë³´ë‚´ë©´ HTML, CSS, ì´ë¯¸ì§€ì™€ ê°™ì€ ì •ì  ì½˜í…ì¸ ë¥¼ ì‘ë‹µìœ¼ë¡œ ë³´ë‚´ê²Œ ë˜ê³  ê·¸ê²ƒì„ ë°›ì€ í´ë¼ì´ì–¸íŠ¸ê°€ í•´ì„í•˜ì—¬ í˜ì´ì§€ë¡œ ë³´ì—¬ì¤€ë‹¤.\nStatic pagesì™€ Dynamic Pages Static Pages Web ServerëŠ” íŒŒì¼ ê²½ë¡œì˜ ì´ë¦„ì„ ë°›ì•„ ê²½ë¡œì™€ ì¼ì¹˜í•˜ëŠ” file contentsë¥¼ ë°˜í™˜ í•­ìƒ ë™ì¼í•œ í˜ì´ì§€ë¥¼ ë°˜í™˜ Ex) image, html, css, javascript íŒŒì¼ê³¼ ê°™ì´ ì»´í“¨í„°ì— ì €ì¥ë˜ì–´ ìˆëŠ” íŒŒì¼ë“¤ Dynamic Pages ì¸ìì˜ ë‚´ìš©ì— ë§ê²Œ ë™ì ì¸ Contentsë¥¼ ë°˜í™˜ ì›¹ ì„œë²„ì— ì˜í•´ì„œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œê·¸ë¨ì„ í†µí•´ì„œ ë§Œë“¤ì–´ì§„ ê²°ê³¼ë¬¼(WAS)ìœ„ì—ì„œ ëŒì•„ê°€ëŠ” í”„ë¡œê·¸ë¨ Web Serverì™€ WASì˜ ì°¨ì´ Web Server ì†Œí”„íŠ¸ì›¨ì–´ì™€ í•˜ë“œì›¨ì–´ë¡œ êµ¬ë¶„ëœë‹¤.\ní•˜ë“œì›¨ì–´ Web ì„œë²„ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ì»´í“¨í„° ì†Œí”„íŠ¸ì›¨ì–´ ì›¹ ë¸Œë¼ìš°ì € í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„° HTTP ìš”ì²­ì„ ë°›ì•„ ì •ì ì¸ ì»¨í…ì¸ (.html, .jpeg, .css ë“±)ì„ ì œê³µí•˜ëŠ” ì»´í“¨í„° í”„ë¡œê·¸ë¨ Web Serverì˜ ì—­í•  HTTP í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì„œë¹„ìŠ¤ í•˜ëŠ” ê¸°ëŠ¥ ë‹´ë‹¹\nìš”ì²­ì— ë”°ë¼ ë‘ ê°€ì§€ ê¸°ëŠ¥ ì¤‘ ì ì ˆí•˜ê²Œ ì„ íƒí•˜ì—¬ ìˆ˜í–‰\nì •ì ì¸ ì»¨í…ì¸  ì œê³µ WASë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ë°”ë¡œ ìì›ì„ ì œê³µí•œë‹¤ ë™ì ì¸ ì»¨í…ì¸  ì œê³µì„ ìœ„í•œ ìš”ì²­ ì „ë‹¬ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ WASì— ë³´ë‚´ê³ , WASê°€ ì²˜ë¦¬í•œ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬í•œë‹¤. Web Serverì˜ ì˜ˆ Apache Server Nginx IIS ë“± WAS(Web Application Server) DB ì¡°íšŒë‚˜ ë‹¤ì–‘í•œ ë¡œì§ ì²˜ë¦¬ë¥¼ ìš”êµ¬í•˜ëŠ” ë™ì ì¸ ì»¨í…ì¸ ë¥¼ ì œê³µí•˜ê¸°ìœ„í•´ ë§Œë“¤ì–´ì§„ Application Server\nHTTPë¥¼ í†µí•´ ì»´í“¨í„°ë‚˜ ì¥ì¹˜ì— ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ìˆ˜í–‰í•´ì£¼ëŠ” ë¯¸ë“¤ì›¨ì–´ì´ë‹¤.\nì›¹ ì»¨í…Œì´ë„ˆ(Web Container), ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ(Servlet Container)ë¼ê³ ë„ ë¶ˆë¦¼\nWASì˜ ì—­í•  WAS = Web Server + Web Container\nì›¹ì„œë²„ ê¸°ëŠ¥ë“¤ì„ êµ¬ì¡°ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì²˜ë¦¬í•˜ê³ ìí•˜ëŠ” ëª©ì ìœ¼ë¡œ ì œì‹œë¨\në¶„ì‚° íŠ¸ëœì­ì…˜ ë³´ì•ˆ ë©”ì‹œì§• ì“°ë ˆë“œ ì²˜ë¦¬ ë“± DBì™€ ì„œë²„ì™€ ê°™ì´ ìˆ˜í–‰ë¨\nWASì˜ ì£¼ìš” ê¸°ëŠ¥ í”„ë¡œê·¸ë¨ ì‹¤í–‰ í™˜ê²½ê³¼ DB ì ‘ì† ê¸°ëŠ¥ ì œê³µ ì—¬ëŸ¬ ê°œì˜ íŠ¸ëœì­ì…˜ ê´€ë¦¬ ê¸°ëŠ¥ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰ WASê°€ í•„ìš”í•œ ì´ìœ  ì›¹ í˜ì´ì§€ëŠ” ì •ì  ì»¨í…ì¸ ì™€ ë™ì  ì»¨í…ì¸ ê°€ ëª¨ë‘ ì¡´ì¬í•œë‹¤.\nì‚¬ìš©ìì˜ ìš”ì²­ì— ë§ê²Œ ì ì ˆí•œ ë™ì  ì»¨í…ì¸ ë¥¼ ë§Œë“¤ì–´ì„œ ì œê³µí•´ì•¼ í•œë‹¤. ì›¹ ì„œë²„ë§Œì„ ì´ìš©í•˜ê²Œ ë˜ë©´ ê·¸ì— ë§ëŠ” ê²°ê³¼ê°€ ì •ì  íŒŒì¼ë¡œ ì¡´ì¬í•´ì•¼ í•œë‹¤. ë”°ë¼ì„œ WASë¥¼ í†µí•´ ìš”ì²­ì— ë§ëŠ” ë°ì´í„°ë¥¼ DBì—ì„œ ê°€ì ¸ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë§ê²Œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ì œê³µí•¨ìœ¼ë¡œ ìì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nWASì™€ Web Serverë¥¼ ë¶„ë¦¬í•˜ëŠ” ì´ìœ  ê¸°ëŠ¥ ë¶„ë¦¬ë¥¼ í†µí•œ ì„œë²„ ë¶€í•˜ ë°©ì§€\nWASë§Œìœ¼ë¡œë„ ì›¹ì„œë¹„ìŠ¤ë¥¼ ì œê³µ ê°€ëŠ¥í•˜ì§€ë§Œ WASëŠ” DBì¡°íšŒ ë“± ë™ì ì¸ ì›¹ í˜ì´ì§€ë¥¼ ìœ„í•œ ë‹¤ì–‘í•œ ë™ì‘ì„ í•˜ê¸° ë•Œë¬¸ì— ë°”ì˜ë‹¤. ë”°ë¼ì„œ ì›¹ ì„œë²„ë¥¼ í†µí•´ ì •ì ì¸ ì»¨í…ì¸ ë¥¼ ì œê³µí•˜ì—¬ ë¶€í•˜ë¥¼ ë°©ì§€í•œë‹¤.\në¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ë³´ì•ˆ ê°•í™”\nSSLì— ëŒ€í•œ ì•”ë³µí˜¸í™” ì²˜ë¦¬ì— ì›¹ì„œë²„ë¥¼ ì‚¬ìš©í•œë‹¤.\nì—¬ëŸ¬ëŒ€ì˜ WASë¥¼ ì—°ê²° ê°€ëŠ¥\nLoad Balancingì„ ìœ„í•´ Web Serverë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤\nfail over(ì¥ì•  ê·¹ë³µ), fail back ì²˜ë¦¬ì— ìœ ë¦¬ ì—¬ëŸ¬ëŒ€ì˜ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ìš©ëŸ‰ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ê²½ìš° ì›¹ ì„œë²„ì™€ WASë¥¼ ë¶„ë¦¬í•˜ì—¬ ë¬´ì¤‘ë‹¨ ìš´ì˜ì„ ìœ„í•œ ì¥ì•  ê·¹ë³µì— ì‰½ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ ê°€ëŠ¥\ní•˜ë‚˜ì˜ ì›¹ ì„œë²„ë¡œ ë‹¤ì–‘í•œ WASë¥¼ ì´ìš©í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ","date":"2023-04-17T18:28:10+09:00","image":"https://codemario318.github.io/post/web/web_cover_hu71ff0ea2f7ce80fa0f2ad0c2fcb44a04_52909_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/web/","title":"Web"},{"content":"í´ë¡œì €ëŠ” ë‘ê°œì˜ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì§„ í™˜ê²½ìœ¼ë¡œ ì´ë£¨ì–´ì§„ íŠ¹ë³„í•œ ê°ì²´ì˜ í•œ ì¢…ë¥˜ì´ë‹¤. ì—¬ê¸°ì„œ í™˜ê²½ì´ë¼ í•¨ì€ í´ë¡œì €ê°€ ìƒì„±ë  ë•Œ ê·¸ ë²”ìœ„ì— ìˆë˜ ì—¬ëŸ¬ ì§€ì—­ ë³€ìˆ˜ë“¤ì´ í¬í•¨ ëœ contextë¥¼ ë§í•œë‹¤. ì´ëŸ¬í•œ ë²”ìœ„ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ë°œìƒí•˜ëŠ” ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ê²°ì •ëœë‹¤.\ní´ë¡œì €ë¥¼ í†µí•´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ì—†ëŠ” ë¹„ê³µê°œ ì†ì„±/ë©”ì†Œë“œ, ê³µê°œ ì†ì„±/ë©”ì†Œë“œ ì²˜ëŸ¼ êµ¬í˜„ í•  ìˆ˜ ìˆë‹¤.\nLexical Scope ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ëª‡ê°€ì§€ ì¼ì´ ì¼ì–´ë‚œë‹¤. ê·¸ì¤‘ í•˜ë‚˜ì¸ í† í¬ë‚˜ì´ì§•ê³¼ ë ‰ì‹±ì´ ìˆë‹¤.\ní† í¬ë‚˜ì´ì§• ë¬¸ìì—´ì„ ë‚˜ëˆ„ì–´ í† í°ìœ¼ë¡œ ë§Œë“œëŠ” ê³¼ì •\n1 var num = 5; ìœ„ì™€ ê°™ì€ êµ¬ë¬¸ì„ ë§Œë‚˜ê²Œ ë˜ë©´, ì•„ë˜ì™€ ê°™ì€ í† í°ìœ¼ë¡œ ë‚˜ëˆˆë‹¤.\n1 2 3 4 5 var num = 5 ; ë ‰ìŠ¤íƒ€ì„ í† í¬ë‚˜ì´ì§•ì˜ ê²°ê³¼ë¬¼ì¸ í† í°ì„ ë¶„ì„í•˜ì—¬ ìƒì„±ëœ í† í°ì— ì˜ë¯¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ê²ƒì„ ë ‰ì‹±ì´ë¼ê³  í•˜ë©°, ì´ ê³¼ì •ì„ ë ‰ìŠ¤íƒ€ì„ì´ë¼ê³  í•œë‹¤.\në ‰ì‹œì»¬ ìŠ¤ì½”í”„ ê°œë°œìê°€ ì½”ë“œë¥¼ ì‘ì„±í• ë•Œ ë³€ìˆ˜ë¥¼ ì–´ë””ì— ì‘ì„±í•˜ëŠ”ê°€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë ‰ìŠ¤íƒ€ì„ì— í† í°ì´ ë¶„ì„ë˜ë©° ìŠ¤ì½”í”„ê°€ ê²°ì •ëœë‹¤. ì´ë•Œ êµ¬ì„±ëœ ìœ íš¨ ë²”ìœ„ë¥¼ ë ‰ìŠ¤ì»¬ ìŠ¤ì½”í”„ë¼ê³  í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 var a = 10; function foo() { var b = 20; function bar() { var c = 30; colsole.log(a + b + c); // 60 } bar(); } foo(); ìœ„ì˜ ì½”ë“œê°€ ì‹¤í–‰ë ë•Œ ìŠ¤ì½”í”„ ë²„ë¸”ì€ bar ì•ˆìª½ì—ì„œ ë¶€í„° ì‹œì‘ë˜ì–´ ì˜¬ë¼ê°„ë‹¤.\nì½”ë“œë¥¼ í•´ì„í•˜ëŠ” ê³¼ì •ì—ì„œ ìƒìœ„ì—ì„œ í•˜ìœ„ë¡œ ìŒ“ì´ëŠ” êµ¬ì¡°ë¡œ í•´ì„ë˜ê¸° ë•Œë¬¸ì—, scopeì— ëŒ€í•œ ê²€ìƒ‰ì€ ê¸°ë³¸ì ìœ¼ë¡œ í•˜ìœ„ì—ì„œ ìƒìœ„ëŠ” ë˜ì§€ë§Œ ìƒìœ„ì—ì„œ í•˜ìœ„ë¡œì˜ ê²€ìƒ‰ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 6 7 8 9 var a = 10; function foo () { var b = 20; console.log(a); // 10 console.log(b); // 20 } console.log(b); // error ì •ë¦¬ ì»´íŒŒì¼ë ˆì´ì…˜ì˜ ë ‰ì‹± ë‹¨ê³„ì—ì„œ ëª¨ë“  ë³€ìˆ˜ë“¤ì´ ì–´ë””ì„œ ì–´ë–»ê²Œ ì„ ì–¸ë˜ì—ˆëŠ”ì§€ ë°”íƒ•ìœ¼ë¡œ ì‹¤í–‰ ë‹¨ê³„ì—ì„œ ìŠ¤ì½”í”„ë¥¼ êµ¬ì„±í•˜ê³ , ì´ë ‡ê²Œ êµ¬ì„±ë˜ëŠ” ìŠ¤ì½”í”„ê°€ ë ‰ì‹œì»¬ìŠ¤ì½”í”„ì´ë‹¤.\ní´ë¡œì € ìƒì„±í•˜ê¸° ë‚´ë¶€ í•¨ìˆ˜ê°€ ìµëª… í•¨ìˆ˜ë¡œ ë˜ì–´ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. ë‚´ë¶€ í•¨ìˆ˜ëŠ” ì™¸ë¶€ í•¨ìˆ˜ì˜ ì‹¤í–‰ í™˜ê²½ì—ì„œ ì‹¤í–‰ëœë‹¤. ë‚´ë¶€ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜ëŠ” ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ ìŠ¤ì½”í”„ì— ìˆë‹¤. 1 2 3 4 5 6 7 8 9 10 11 12 function outer() { var name = `closure`; function inner() { console.log(name); } inner(); } outer(); // console\u0026gt; closure outerí•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” contextì—ëŠ” nameì´ë¼ëŠ” ë³€ìˆ˜ê°€ ì¡´ì¬í•˜ì§€ ì•Šì§€ë§Œ, innerí•¨ìˆ˜ê°€ outer í•¨ìˆ˜ ë‚´ë¶€ì— ì„ ì–¸ëœ nameì„ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì—, name ë³€ìˆ˜ì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” outer ë³€ìˆ˜ ì™¸ë¶€í™˜ê²½ì—ì„œë„ ì •ìƒ ì¶œë ¥ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 var name = `Warning`; function outer() { var name = `closure`; return function inner() { console.log(name); }; } var callFunc = outer(); callFunc(); // console\u0026gt; closure ìœ„ ì½”ë“œì—ì„œ callFunc ë¥¼ í´ë¡œì €ë¼ê³  í•œë‹¤. callFunc í˜¸ì¶œì— ì˜í•´ name ì´ë¼ëŠ” ê°’ì´ consoleì— ì¶œë ¥ë˜ëŠ”ë°, \u0026ldquo;Warning\u0026ldquo;ì´ ì•„ë‹ˆë¼ \u0026ldquo;closure\u0026ldquo;ì´ë‹¤. ì¦‰, outer í•¨ìˆ˜ì˜ context ì— ì†í•´ìˆëŠ” ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ outer í•¨ìˆ˜ì˜ ì§€ì—­ë³€ìˆ˜ë¡œ ì¡´ì¬í•˜ëŠ” name ë³€ìˆ˜ë¥¼ free variable(ììœ ë³€ìˆ˜) ë¼ê³  í•œë‹¤.\nì´ì²˜ëŸ¼ ì™¸ë¶€ í•¨ìˆ˜ í˜¸ì¶œì´ ì¢…ë£Œ ë˜ë”ë¼ë„ ì™¸ë¶€ í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜ ë° ë³€ìˆ˜ ìŠ¤ì½”í”„ ê°ì²´ì˜ ì²´ì¸ ê´€ê³„ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ í´ë¡œì €ë¼ê³  í•œë‹¤.\n","date":"2023-04-17T18:11:36+09:00","image":"https://codemario318.github.io/post/js_closure/js_cover_huc1c9a52f33db3f5dad8bb16243cf7e4e_11875_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/js_closure/","title":"Javascript - Closure"},{"content":"Javascriptì—ì„œÂ í•¨ìˆ˜ì˜Â thisÂ í‚¤ì›Œë“œëŠ” ë‹¤ë¥¸ ì–¸ì–´ì™€ ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤. ë˜í•œÂ ì—„ê²© ëª¨ë“œì™€ ë¹„ì—„ê²© ëª¨ë“œì—ì„œë„ ì¼ë¶€ ì°¨ì´ê°€ ìˆë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê²½ìš°Â thisì˜ ê°’ì€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ë°©ë²•ì— ì˜í•´Â ê²°ì •ë˜ëŠ”ë°, ì‹¤í–‰ì¤‘ì—ëŠ” í• ë‹¹ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ì—†ê³  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.\nES5ëŠ”Â í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ í˜¸ì¶œí–ˆëŠ”ì§€ ìƒê´€í•˜ì§€ ì•Šê³ Â thisÂ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆëŠ” bindÂ ë©”ì„œë“œë¥¼ ë„ì…í–ˆê³ , ES2015ëŠ” ìŠ¤ìŠ¤ë¡œì˜Â thisÂ ë°”ì¸ë”©ì„ ì œê³µí•˜ì§€ ì•ŠëŠ”Â í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì¶”ê°€í–ˆë‹¤.(ë ‰ì‹œì»¬ ì»¨í…ìŠ¤íŠ¸ì•ˆì˜Â thisê°’ì„ ìœ ì§€í•¨)\nì „ì—­ ë¬¸ë§¥ ì „ì—­ ì‹¤í–‰ ë¬¸ë§¥(global execution context)ì—ì„œÂ thisëŠ” ì—„ê²© ëª¨ë“œ ì—¬ë¶€ì— ê´€ê³„ ì—†ì´ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.\n1 2 3 4 5 6 7 8 9 // ì›¹ ë¸Œë¼ìš°ì €ì—ì„œëŠ” window ê°ì²´ê°€ ì „ì—­ ê°ì²´ console.log(this === window); // true a = 37; console.log(window.a); // 37 this.b = \u0026#34;MDN\u0026#34;; console.log(window.b) // \u0026#34;MDN\u0026#34; console.log(b) // \u0026#34;MDN\u0026#34; í•¨ìˆ˜ ë¬¸ë§¥ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisì˜ ê°’ì€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ë°©ë²•ì— ì˜í•´ ê²°ì •ëœë‹¤.\në‹¨ìˆœ í˜¸ì¶œ ì—„ê²© ëª¨ë“œê°€ ì•„ë‹ê²½ìš° thisì˜ ê°’ì´ í˜¸ì¶œì— ì˜í•´ ì„¤ì •ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê¸°ë³¸ê°’ìœ¼ë¡œ ë¸Œë¼ìš°ì €ì—ì„œëŠ” windowì¸ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê²Œ ëœë‹¤.\n1 2 3 4 5 6 7 8 9 function f1() { return this; } // ë¸Œë¼ìš°ì € f1() === window; // true // Node.js f1() === global; // true ë°˜ë©´ì— ì—„ê²© ëª¨ë“œì—ì„œ this ê°’ì€ ì‹¤í–‰ ë¬¸ë§¥ì— ì§„ì…í•˜ë©° ì„¤ì •ë˜ëŠ” ê°’ì„ ìœ ì§€í•˜ë¯€ë¡œ ë‹¤ìŒ ì˜ˆì‹œì—ì„œ ë³´ì—¬ì§€ëŠ” ê²ƒ ì²˜ëŸ¼ thisëŠ” undefinedë¡œ ë‚¨ì•„ìˆê²Œ ëœë‹¤.\n1 2 3 4 5 6 function f2(){ \u0026#34;use strict\u0026#34;; // ì—„ê²© ëª¨ë“œ ì°¸ê³  return this; } f2() === undefined; // true f2ë¥¼ ê°ì²´ì˜ ë©”ì„œë“œë‚˜ ì†ì„±(ì˜ˆ: window.f2())ì´ ì•„ë‹Œ ì§ì ‘ í˜¸ì¶œí–ˆê¸° ë•Œë¬¸ì— thisëŠ” undefinedì—¬ì•¼ í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ì—ì„œ ì—„ê²© ëª¨ë“œë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ window ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 var prop = 1; var test = { prop: 42, func: function() { var func2 = function() { console.log(this); } console.log(this); func2(); }, }; test.func(); /* \u0026gt; Object { prop: 42, func: function() { var func2 = function() { console.log(this); } console.log(this); func2(); } } \u0026gt; [object Window] // browser \u0026gt; [object global] // node.js */ function í‚¤ì›Œë“œë¡œ ì„ ì–¸ëœ í•¨ìˆ˜ê°€ ì „ì—­ ì‹¤í–‰ ë¬¸ë§¥(global execution context)ì—ì„œ í˜¸ì¶œë˜ì—ˆê¸° ë•Œë¬¸ì— thisëŠ” ì—„ê²© ëª¨ë“œ ì—¬ë¶€ì— ê´€ê³„ ì—†ì´ ì „ì—­ ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤.\nbind ë©”ì„œë“œ ECMAScript5ëŠ” Function.prototype.bindë¥¼ ë„ì…í–ˆë‹¤. f.bind(someObject)ë¥¼ í˜¸ì¶œí•˜ë©´ fì™€ ê°™ì€ ë³¸ë¬¸(ì½”ë“œ)ê³¼ ë²”ìœ„ë¥¼ ê°€ì¡Œì§€ë§Œ thisëŠ” ì›ë³¸ í•¨ìˆ˜ë¥¼ ê°€ì§„ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤. ìƒˆ í•¨ìˆ˜ì˜ thisëŠ” í˜¸ì¶œ ë°©ì‹ê³¼ ìƒê´€ì—†ì´ ì˜êµ¬ì ìœ¼ë¡œbind()ì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ê³ ì •ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 function f() { return this.a; } var g = f.bind({a: \u0026#39;azerty\u0026#39;}); console.log(g()); // azerty var h = g.bind({a: \u0026#39;yoo\u0026#39;}); // bindëŠ” í•œ ë²ˆë§Œ ë™ì‘í•¨! console.log(h()); // azerty var o = {a: 37, f: f, g: g, h: h}; console.log(o.a, o.f(), o.g(), o.h()); // 37, 37, azerty, azerty í™”ì‚´í‘œ í•¨ìˆ˜ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ thisëŠ” ìì‹ ì„ ê°ì‹¼ ì •ì  ë²”ìœ„(lexical context)ì´ë‹¤. ì „ì—­ ì½”ë“œì—ì„œëŠ” ì „ì—­ ê°ì²´ë¥¼ ê°€ë¥´í‚¨ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 var globalObject = this; var foo = (() =\u0026gt; this); console.log(foo() === globalObject); // true // ê°ì²´ë¡œì„œ ë©”ì„œë“œ í˜¸ì¶œ var obj = {func: foo}; console.log(obj.func() === globalObject); // true // callì„ ì‚¬ìš©í•œ this ì„¤ì • ì‹œë„ console.log(foo.call(obj) === globalObject); // true // bindë¥¼ ì‚¬ìš©í•œ this ì„¤ì • ì‹œë„ foo = foo.bind(obj); console.log(foo() === globalObject); // true í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ call(), bind(), apply()ë¥¼ ì‚¬ìš©í•´ í˜¸ì¶œí•  ë•Œ thisì˜ ê°’ì„ ì •í•´ì£¼ë”ë¼ë„ ë¬´ì‹œí•œë‹¤. ì‚¬ìš©í•  ë§¤ê°œë³€ìˆ˜ë¥¼ ì •í•´ì£¼ëŠ” ê±´ ë¬¸ì œ ì—†ì§€ë§Œ, ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜(thisArg)ëŠ” nullì„ ì§€ì •í•´ì•¼ í•œë‹¤.\nì–´ë–¤ ë°©ë²•ì„ ì‚¬ìš©í•˜ë“  fooì˜ thisëŠ” ìƒì„± ì‹œì ì˜ ê²ƒìœ¼ë¡œ ì„¤ì •ëœë‹¤.(ìœ„ ì˜ˆì‹œì—ì„œëŠ” global ê°ì²´). ë‹¤ë¥¸ í•¨ìˆ˜ ë‚´ì—ì„œ ìƒì„±ëœ í™”ì‚´í‘œ í•¨ìˆ˜ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ëœë‹¤. thisëŠ” ì‹¸ì—¬ì§„ ë ‰ì‹œì»¬ ì»¨í…ìŠ¤íŠ¸ë¡œ ìœ ì§€ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 var obj = { bar: function() { var x = (() =\u0026gt; this); return x; } }; var fn = obj.bar(); console.log(fn() === obj); // true var fn2 = obj.bar; console.log(fn2()() === window); // true í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ë²”ìœ„ëŠ” ì„ ì–¸ë ë•Œ ê²°ì •ë˜ëŠ”ë°, fnì€ obj.bar()ë¡œ í˜¸ì¶œëœ xë¥¼ í™œìš©í•˜ê²Œ ë˜ì–´ thisê°€ obj ë¥¼ ì˜ë¯¸í•˜ê²Œ ë˜ê³ , fn2ëŠ” ì „ì—­ ì‹¤í–‰ ë¬¸ë§¥ì—ì„œ obj.bar ìì²´ë¥¼ fn2ì— í• ë‹¹ í•˜ì˜€ê¸° ë•Œë¬¸ì— windowë¡œ ì„¤ì •ë˜ì—ˆë‹¤.\nê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ í•¨ìˆ˜ë¥¼ ì–´ë–¤ ê°ì²´ì˜ ë©”ì„œë“œë¡œ í˜¸ì¶œí•˜ë©´ thisì˜ ê°’ì€ ê·¸ ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.\në‹¤ìŒ ì˜ˆì œì—ì„œ o.f()ë¥¼ ì‹¤í–‰í•  ë•Œ o ê°ì²´ê°€ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisì™€ ì—°ê²°ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 var o = {prop: 37}; function independent() { return this.prop; } o.f = independent; console.log(o.f()); // logs 37 o.b = {g: independent, prop: 42}; console.log(o.b.g()); // logs 42 this ë°”ì¸ë”©ì€ ë©¤ë²„ ëŒ€ìƒì— ì˜í–¥ì„ ë°›ëŠ”ë‹¤. í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œ, ê°ì²´ o.bì˜ ë©”ì†Œë“œ g ë¡œì„œ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” o.bë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.\nê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì—ì„œì˜ this ë©”ì„œë“œê°€ ì–´ë–¤ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ ìœ„ì— ì¡´ì¬í•œë‹¤ë©´, thisì˜ ê°’ì€ ê·¸ ê°ì²´ê°€ ë©”ì„œë“œë¥¼ ê°€ì§„ ê²ƒ ì²˜ëŸ¼ ì„¤ì •ëœë‹¤.\n1 2 3 4 5 6 7 8 var o = { f:function() { return this.a + this.b; } }; var p = Object.create(o); p.a = 1; p.b = 4; console.log(p.f()); // 5 ì´ ì˜ˆì œì—ì„œ, f ì†ì„±ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì€ ë³€ìˆ˜ pê°€ í• ë‹¹ëœ ê°ì²´ëŠ”, í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ë¶€í„° ìƒì†ë°›ëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜ ê·¸ê²ƒì€ ê²°êµ­ oì—ì„œ f ì´ë¦„ì„ ê°€ì§„ ë©¤ë²„ë¥¼ ì°¾ëŠ” ë˜ëŠ” ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ ; p.fë¥¼ ì°¾ì•„ ì°¸ì¡°í•˜ê¸° ì‹œì‘í•˜ë¯€ë¡œ, í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” p ì²˜ëŸ¼ ë‚˜íƒ€ë‚˜ëŠ” ê°ì²´ ê°’ì„ ì·¨í•œë‹¤. ì¦‰, fëŠ” pì˜ ë©”ì†Œë“œë¡œì„œ í˜¸ì¶œëœ ì´í›„ë¡œ, thisëŠ” pë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì´ê²ƒì€ JavaScriptì˜ í”„ë¡œí† íƒ€ì… ìƒì†ì˜ í¥ë¯¸ë¡œìš´ ê¸°ëŠ¥ì´ë‹¤.\nì ‘ê·¼ìì™€ ì„¤ì •ìì˜ this í•¨ìˆ˜ë¥¼ ì ‘ê·¼ìì™€ ì„¤ì •ìì—ì„œ í˜¸ì¶œí•˜ë”ë¼ë„ ë™ì¼í•˜ë‹¤. ì ‘ê·¼ìë‚˜ ì„¤ì •ìë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì˜ thisëŠ” ì ‘ê·¼í•˜ê±°ë‚˜ ì„¤ì •í•˜ëŠ” ì†ê²…ì„ ê°€ì§„ ê°ì²´ë¡œ ë¬¶ì¸ë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 function sum() { return this.a + this.b + this.c; } var o = { a: 1, b: 2, c: 3, get average() { return (this.a + this.b + this.c) / 3; } }; Object.defineProperty(o, \u0026#39;sum\u0026#39;, { get: sum, enumerable: true, configurable: true}); console.log(o.average, o.sum); // 2, 6 ìƒì„±ìë¡œì„œ í•¨ìˆ˜ë¥¼ new í‚¤ì›Œë“œì™€ í•¨ê»˜ ìƒì„±ìë¡œ ì‚¬ìš©í•˜ë©´ thisëŠ” ìƒˆë¡œ ìƒê¸± ê°ì²´ì— ë¬¶ì¸ë‹¤.\n","date":"2023-04-17T18:11:36+09:00","image":"https://codemario318.github.io/post/js_this/js_cover_huc1c9a52f33db3f5dad8bb16243cf7e4e_11875_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/js_this/","title":"Javascript - this"},{"content":"hoistë¼ëŠ” ë‹¨ì–´ì˜ ì‚¬ì „ì  ì •ì˜ëŠ” \u0026ldquo;ëŒì–´ì˜¬ë¦¬ê¸°\u0026rdquo; ë¼ëŠ” ëœ»ì´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë ë•Œ ì„ ì–¸ëœ ëª¨ë“  ë³€ìˆ˜ ì„ ì–¸ë¶€ê°€ ì½”ë“œì˜ ê°€ì¥ ìœ„ë¡œ ëŒì–´ì˜¬ë ¤ì§„ ê²ƒ ì²˜ëŸ¼ ì²˜ë¦¬ëœë‹¤.\ní˜¸ì´ìŠ¤íŠ¸ë¥¼ í†µí•´ ë³€ìˆ˜ì˜ ì •ì˜ê°€ ê·¸ ë²”ìœ„ì— ë”°ë¼ ì„ ì–¸ê³¼ í• ë‹¹ìœ¼ë¡œ ë¶„ë¦¬ëœë‹¤. ì¦‰, ë³€ìˆ˜ê°€ í•¨ìˆ˜ ë‚´ì—ì„œ ì •ì˜ë˜ì—ˆì„ ê²½ìš°, ì„ ì–¸ì´ í•¨ìˆ˜ ìµœìƒìœ„ë¡œ, í•¨ìˆ˜ ë°”ê¹¥ì—ì„œ ì •ì˜ë˜ì—ˆì„ ê²½ìš°, ì „ì—­ ì»¨í…ìŠ¤íŠ¸ì˜ ìµœìƒìœ„ë¡œ ë³€ê²½ì´ ëœë‹¤.\n1 2 3 4 5 6 7 8 9 function getX() { console.log(x); // undefined var x = 100; console.log(x); // 100 } getX(); ìœ„ì™€ ê°™ì´ ì •ì˜ ë˜ì—ˆì„ë•Œ, ì•„ë˜ì™€ ê°™ì´ í•´ì„ëœë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 function getX() { var x; console.log(x); x = 100; console.log(x); } getX(); ì„ ì–¸ë¬¸ì€ í•­ìƒ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ êµ¬ë™ì‹œ ê°€ì¥ ìµœìš°ì„ ìœ¼ë¡œ í•´ì„í•˜ë¯€ë¡œ í˜¸ì´ìŠ¤íŒ… ë˜ê³ , í• ë‹¹ êµ¬ë¬¸ì€ ëŸ°íƒ€ì„ ê³¼ì •ì—ì„œ ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì— í˜¸ì´ìŠ¤íŒ… ë˜ì§€ ì•ŠëŠ”ë‹¤.\ní•¨ìˆ˜ì˜ í˜¸ì´ìŠ¤íŒ… í•¨ìˆ˜ê°€ ìì‹ ì´ ìœ„ì¹˜í•œ ì½”ë“œì— ìƒê´€ì—†ì´ í•¨ìˆ˜ ì„ ì–¸ë¬¸ í˜•íƒœë¡œ ì •ì˜í•œ í•¨ìˆ˜ì˜ ìœ íš¨ë²”ìœ„ëŠ” ì „ì²´ ì½”ë“œì˜ ë§¨ ì²˜ìŒë¶€í„° ì‹œì‘í•œë‹¤. í•¨ìˆ˜ ì„ ì–¸ì´ í•¨ìˆ˜ ì‹¤í–‰ ë¶€ë¶„ë³´ë‹¤ ë’¤ì— ìˆë”ë¼ë„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ í•¨ìˆ˜ ì„ ì–¸ì„ ëŒì–´ì˜¬ë¦¬ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.\n1 2 3 4 5 6 7 foo(); function foo(){ console.log(â€˜helloâ€™); }; // console\u0026gt; hello foo í•¨ìˆ˜ì— ëŒ€í•œ ì„ ì–¸ì„ í˜¸ì´ìŠ¤íŒ…í•˜ì—¬ global ê°ì²´ì— ë“±ë¡ì‹œí‚¤ê¸° ë•Œë¬¸ì— helloê°€ ì œëŒ€ë¡œ ì¶œë ¥ëœë‹¤.\nì˜¤ë¥˜ ì‚¬ë¡€ 1 2 3 4 5 6 7 foo(); var foo = function() { console.log(â€˜helloâ€™); }; // console\u0026gt; Uncaught TypeError: foo is not a function ì˜ˆì œì˜ í•¨ìˆ˜ í‘œí˜„ì€ í•¨ìˆ˜ ë¦¬í„°ëŸ´ì„ í• ë‹¹í•˜ëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì— í˜¸ì´ìŠ¤íŒ… ë˜ì§€ ì•Šìœ¼ë©° ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ í•´ì„ë˜ì–´ ëŸ°íƒ€ì„ í™˜ê²½ì—ì„œ Type Errorë¥¼ ë°œìƒì‹œí‚¨ë‹¤.\n1 2 3 4 5 6 7 8 var foo; foo(); // foo = undefined // console\u0026gt; Uncaught TypeError: foo is not a function foo = function( ) { console.log(â€˜helloâ€™); }; ","date":"2023-04-17T18:04:35+09:00","image":"https://codemario318.github.io/post/js_hoisting/js_cover_huc1c9a52f33db3f5dad8bb16243cf7e4e_11875_120x120_fill_box_smart1_3.png","permalink":"https://codemario318.github.io/post/js_hoisting/","title":"Javascript - Hoisting"},{"content":"MySQL ì„œë²„ëŠ” ì„œë²„ì˜ ìƒíƒœë¥¼ ì§„ë‹¨í•  ìˆ˜ ìˆëŠ” ë§ì€ ë„êµ¬ë“¤ì„ ì§€ì›í•˜ì§€ë§Œ ì´ëŸ¬í•œ ê¸°ëŠ¥ì€ ë§ì€ ì§€ì‹ì„ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ë¡œê·¸ íŒŒì¼ì„ í™œìš©í•˜ë©´ MySQL ì„œë²„ì— ëŒ€í•´ ê¹Šì€ ì§€ì‹ì´ ì—†ì–´ë„ ì„œë²„ì˜ ìƒíƒœë‚˜ ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¤ëŠ” ì›ì¸ì„ ì‰½ê²Œ ì°¾ì•„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.\nì—ëŸ¬ ë¡œê·¸ íŒŒì¼ MySQLì´ ì‹¤í–‰ë˜ëŠ” ë„ì¤‘ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë‚˜ ê²½ê³  ë©”ì‹œì§€ê°€ ì¶œë ¥ë˜ëŠ” ë¡œê·¸ íŒŒì¼ì´ë‹¤. MySQL ì„¤ì • íŒŒì¼(my.cnf)ì—ì„œ log_errorë¼ëŠ” ì´ë¦„ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì •ì˜ëœ ê²½ë¡œì— ìƒì„±ë˜ëŠ”ë° ì„¤ì • íŒŒì¼ì— ë³„ë„ë¡œ ì •ì˜ë„ì§€ ì•Šì€ ê²½ìš° ë°ì´í„° ë””ë ‰í„°ë¦¬(datadir íŒŒë¼ë¯¸í„°ì— ì„¤ì •ëœ ë””ë ‰í„°ë¦¬)ì— .errë¼ëŠ” í™•ì¥ìê°€ ë¶™ì€ íŒŒì¼ë¡œ ìƒì„±ëœë‹¤.\nMySQLì´ ì‹œì‘í•˜ëŠ” ê³¼ì •ê³¼ ê³¤ë ¨ëœ ì •ë³´ì„± ë° ì—ëŸ¬ ë©”ì‹œì§€ MySQL ì„¤ì • íŒŒì¼ì„ ë³€ê²½í•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ í›„ ë‹¤ì‹œ ì‹œì‘í•˜ëŠ” ê²½ìš°ì—ëŠ” ë°˜ë“œì‹œ MySQL ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì„ í†µí•´ ì„¤ì •ëœ ë³€ìˆ˜ì˜ ì´ë¦„ì´ë‚˜ ê°’ì´ ëª…í™•í•˜ê²Œ ì„¤ì •ë˜ê³  ì˜ë„í•œ ëŒ€ë¡œ ì ìš©ëëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.\nMySQL ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ê¸°ë™í–ˆê³ (mysqld: ready for commections ë©”ì‹œì§€ í™•ì¸), ìƒˆë¡œ ë³€ê²½í•˜ê±°ë‚˜ ì¶”ê°€ëœ íŒŒë¼ë¯¸í„°ì— ëŒ€í•œ ì—ëŸ¬ë‚˜ ê²½ê³ ì„± ë©”ì‹œì§€ê°€ ì—†ë‹¤ë©´ ì •ìƒì ìœ¼ë¡œ ì ìš©ëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ë©´ ëœë‹¤.\në¬´ì‹œ ignore: ì„œë²„ëŠ” ì •ìƒì ìœ¼ë¡œ ê¸°ë™í•˜ì§€ë§Œ í•´ë‹¹ íŒŒë¼ë¯¸í„°ê°€ ì ìš©ì•ˆë¨. ì‹¤íŒ¨: ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  ì‹œì‘í•˜ì§€ ëª»í–ˆë‹¤ëŠ” ë©”ì‹œì§€ê°€ ë…¸ì¶œë¨ ë§ˆì§€ë§‰ìœ¼ë¡œ ì¢…ë£Œí•  ë•Œ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ ê²½ìš° ë‚˜íƒ€ë‚˜ëŠ” íŠ¸ëœì­ì…˜ ë³µêµ¬ ë©”ì‹œì§€ InnoDBì˜ ê²½ìš° MySQL ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëë‹¤ë©´ ë‹¤ì‹œ ì‹œì‘ë˜ë©´ì„œ ì™„ë£Œí•˜ì§€ ëª»í•œ íŠ¸ëœì­ì…˜ì„ ì •ë¦¬í•˜ê³  ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ì§€ ëª»í•œ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ë‹¤ì‹œ ê¸°ë¡í•˜ëŠ”ë°, ì´ ê³¼ì •ì—ì„œ ê°„ë‹¨í•œ ë©”ì‹œì§€ê°€ ì¶œë ¥ëœë‹¤.\në³µêµ¬ê°€ ë¶ˆê°€ëŠ¥í•œ ê²½ìš° í•´ë‹¹ ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  MySQLì€ ë‹¤ì‹œ ì¢…ë£Œë˜ë©°, ì´ ë‹¨ê³„ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œëŠ” í•´ê²°í•˜ê¸° ì–´ë ¤ìš´ ë¬¸ì œì  ì¼ ë•Œê°€ ë§ê³ , innodb_force_recovery íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•˜ì—¬ ì¬ì‹œì‘ í•´ì•¼ í•  ìˆ˜ ìˆë‹¤.\nì¿¼ë¦¬ ì²˜ë¦¬ ë„ì¤‘ì— ë°œìƒí•˜ëŠ” ë¬¸ì œì— ëŒ€í•œ ì—ëŸ¬ ë©”ì‹œì§€ ì¿¼ë¦¬ ë„ì¤‘ ë°œìƒí•˜ëŠ” ë¬¸ì œì ì€ ì‚¬ì „ ì˜ˆë°©ì´ ì–´ë ¤ìš°ë©°, ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì„ ê²€í† í•˜ëŠ” ê³¼ì •ì—ì„œ ì•Œê²Œ ëœë‹¤.\nì¿¼ë¦¬ ì‹¤í–‰ ë„ì¤‘ ë°œìƒí•œ ì—ëŸ¬ë‚˜ ë³µì œì—ì„œ ë¬¸ì œê°€ ë  ë§Œí•œ ì¿¼ë¦¬ì— ëŒ€í•œ ê²½ê³  ë©”ì‹œì§€ê°€ ì—ëŸ¬ ë¡œê·¸ì— ê¸°ë¡ë˜ë¯€ë¡œ ìì£¼ ê²€í† í•˜ëŠ” ê²ƒì´ ìˆ¨ê²¨ì§„ ë¬¸ì œì ì„ í•´ê²°í•˜ëŠ”ë° ë§ì€ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.\në¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëœ ì»¤ë„¥ì…˜ ë©”ì‹œì§€(Aborted connection) í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì •ìƒì ìœ¼ë¡œ ì ‘ì† ì¢…ë£Œë¥¼ í•˜ì§€ ëª»í•˜ê³  í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œëœ ê²½ìš° MySQL ì„œë²„ì˜ ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì— ì´ëŸ° ë‚´ìš©ì´ ê¸°ë¡ëœë‹¤. (ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë¡œ ì¸í•œ ê²¨ìš° í¬í•¨)\nì´ëŸ° ë©”ì‹œì§€ê°€ ì•„ì£¼ ë§ì´ ê¸°ë¡ëœë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì»¤ë„¥ì…˜ ì¢…ë£Œ ë¡œì§ì„ í•œë²ˆ ê²€í† í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤.\nmax_connect_errors ì‹œìŠ¤í…œ ë³€ìˆ«ê°’ì´ ë„ˆë¬´ ë‚®ê²Œ ì„¤ì •ëœ ê²½ìš° í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ì´ MySQL ì„œë²„ì— ì ‘ì†í•˜ì§€ ëª»í•˜ê³  Host 'host_name' is blockedë¼ëŠ” ì—ëŸ¬ê°€ ë°œìƒ ê°€ëŠ¥í•˜ë©°, ì´ëŸ¬í•œ ê²½ìš°ëŠ” ì—ëŸ¬ê°€ ì–´ë–»ê²Œ ë°œìƒí•˜ê²Œ ëëŠ”ì§€ ì›ì¸ì„ í™•ì¸í•˜ê³ , ë¬¸ì œê°€ ì—†ë‹¤ë©´ í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ê°’ì„ ì¦ê°€ì‹œí‚¤ë©´ í•´ê²°ëœë‹¤.\nInnoDBì˜ ëª¨ë‹ˆí„°ë§ ë˜ëŠ” ìƒíƒœ ì¡°íšŒ ëª…ë ¹ì˜ ê²°ê³¼ ë©”ì‹œì§€ InnoDB í…Œì´ë¸” ëª¨ë‹ˆí„°ë§ì´ë‚˜ ë½ ëª¨ë‹ˆí„°ë§, ë˜ëŠ” ì—”ì§„ ìƒíƒœë¥¼ ì¡°íšŒí•˜ëŠ” ëª…ë ¹ì€ ìƒëŒ€ì ìœ¼ë¡œ í° ë©”ì‹œì§€ë¥¼ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡í•œë‹¤.\nInnoDBì˜ ëª¨ë‹ˆí„°ë§ì„ í™œì„±í™” ìƒíƒœë¡œ ìœ ì§€í•˜ëŠ” ê²½ìš°ì—ëŠ” ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì´ ë§¤ìš° ì»¤ì ¸ì„œ íŒŒì¼ ì‹œìŠ¤í…œì˜ ê³µê°„ì„ ë§ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë‹¤ì‹œ ë¹„í™œì„±í™”í•˜ì—¬ ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì´ ì»¤ì§€ì§€ ì•Šê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.\nMySQLì˜ ì¢…ë£Œ ë©”ì‹œì§€ ê°€ë” MySQLì´ ì•„ë¬´ë„ ëª¨ë¥´ê²Œ ì¢…ë£Œë¼ ìˆê±°ë‚˜ ì¬ì‹œì‘ ë˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ëŸ¬í•œ ê²½ìš° ì—ëŸ¬ ë¡œê·¸ íŒŒì¼ì—ì„œ MySQLì´ ë§ˆì§€ë§‰ìœ¼ë¡œ ì¢…ë£Œë˜ë©´ì„œ ì¶œë ¥í•œ ë©”ì‹œì§€ë¥¼ í™•ëŠ” ê²ƒì´ ì„œë²„ê°€ ì¢…ë£Œëœ ì´ìœ ë¥¼ í™•ì¸í•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì´ë‹¤.\nReceived SHOUTDOWN from user ... ë©”ì‹œì§€: íŠ¹ì • ìœ ì €ê°€ ì¢…ë£Œí•œ ê²½ìš° ì—†ê±°ë‚˜ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤(16ì§„ìˆ˜ ì£¼ì†Œê°’ì´ ì”ëœ© ì¶œë ¥ë˜ëŠ”) ë©”ì‹œì§€: ì„¸ê·¸ë©˜í…Œì´ì…˜ í´íŠ¸ë¡œ ë¹„ì •ìƒ ì¢…ë£Œëœ ê²½ìš° ì„¸ê·¸ë©˜í…Œì´ì…˜ í´íŠ¸ë¡œ ì¢…ë£Œëœ ê²½ìš° ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ë‚´ìš©ì„ ìµœëŒ€í•œ ì°¸ì¡°í•˜ì—¬ MySQLì˜ ë²„ê·¸ì™€ ì—°ê´€ì´ ìˆëŠ”ì§€ ì¡°ì‚¬ í›„ ë²„ì „ì„ ì—…ê·¸ë ˆì´ë“œ í•˜ê±°ë‚˜ íšŒí”¼ì±…(WorkAround)ë¥¼ ì°¾ëŠ”ë‹¤. MySQL \u0026ldquo;The Error Log\u0026quot;ì ˆì„ í™•ì¸í•œë‹¤. ì œë„ˆëŸ´ ì¿¼ë¦¬ ë¡œê·¸ íŒŒì¼ MySQL ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬ ëª©ë¥µì„ ê²€í† í•˜ê³  ì‹¶ë‹¤ë©´, ì¿¼ë¦¬ ë¡œê·¸ë¥¼ í™œì„±í™”í•˜ì—¬ ì‹¤í–‰ ì¿¼ë¦¬ë¥¼ ì¿¼ë¦¬ ë¡œê·¸ íŒŒì¼ë¡œ ê¸°ë¡í•˜ê²Œ í•œ ë‹¤ìŒ, í•´ë‹¹ íŒŒì¼ì„ ê²€í† í•œë‹¤.\nìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ì™€ëŠ” ë‹¤ë¥´ê²Œ ì œë„ˆëŸ´ ë¡œê·¸ëŠ” ì‹¤í–‰ë˜ê¸° ì „ì— MySQLì´ ìš”ì²­ì„ ë°›ìœ¼ë©´ ë°”ë¡œ ê¸°ë¡í•˜ê¸° ë•Œë¬¸ì— ì¿¼ë¦¬ ì‹¤í–‰ ì¤‘ì— ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì¼ë‹¨ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ëœë‹¤.\nì¿¼ë¦¬ ë¡œê·¸ íŒŒì¼ì˜ ê²½ë¡œëŠ” general_log_file íŒŒë¼ë¯¸í„°ì— ì„¤ì •ë˜ìˆìœ¼ë©°, ì¿¼ë¦¬ ë¡œê·¸ë¥¼ íŒŒì¼ì´ ì•„ë‹Œ í…Œì´ë¸”ì— ì €ì¥í•˜ë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ ê²½ìš°ì—ëŠ” í…Œì´ë¸”ì„ SQLë¡œ ì¡°íšŒí•´ ê²€í† í•´ì•¼ í•œë‹¤.\n1 SHOW GLOBAL VARIABLES LIKE \u0026#39;general_log_file\u0026#39;; ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ ì„œë¹„ìŠ¤ ìš´ì˜ ì¤‘ì— MySQL ì„œë²„ì˜ ì „ì²´ì ì¸ ì„±ëŠ¥ ì €í•˜ë¥¼ ê²€ì‚¬í•˜ê±°ë‚˜ ì •ê¸°ì ì¸ ì ê²€ì„ ìœ„í•œ íŠœë‹ì´ í•„ìš”í•  ë•Œ ì–´ë–¤ ì¿¼ë¦¬ê°€ ë¬¸ì œì¸ì§€ë¥¼ íŒë‹¨í•˜ëŠ”ë° ë§ì€ ë„ì›€ì„ ì¤€ë‹¤.\nlong_query_time: í•´ë‹¹ ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •í•œ ì‹œê°„ ì´ìƒì˜ ì‹œê°„ì´ ì†Œìš”ëœ ì¿¼ë¦¬ê°€ ëª¨ë‘ ê¸°ë¡ëœë‹¤. log_output: ìŠ¬ë¡œìš° ì»¤ë¦¬ ë¡œê·¸ë¥¼ íŒŒì¼ ë˜ëŠ” í…Œì´ë¸”ì— ê¸°ë¡í• ì§€ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. TABLE: mysql DBì˜ í…Œì´ë¸”ì— ì œë„ˆëŸ´ë¡œê·¸ë‚˜ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ë¥¼ í…Œì´ë¸”(slow_log, general_log)ì— ì €ì¥í•œë‹¤. FILE: ë¡œê·¸ ë‚´ìš©ì„ ë””ìŠ¤í¬ì˜ íŒŒì¼ë¡œ ì €ì¥í•œë‹¤. ë¡œê·¸ íŒŒì¼ì˜ ë¶„ì„ì´ ì™„ë£Œë˜ë©´ ê·¸ ê²°ê³¼ëŠ” 3ê°œì˜ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì €ì¥ëœë‹¤.\nìŠ¬ë¡œìš° ì¿¼ë¦¬ í†µê³„ ë¶„ì„ ê²°ê³¼ì˜ ìµœìƒë‹¨ì— í‘œì‹œë˜ë©°, ëª¨ë“  ì¿¼ë¦¬ë¥¼ ëŒ€ìƒìœ¼ë¡œ ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ì˜ ì‹¤í–‰ ì‹œê°„(Exec time), ì ê¸ˆ ëŒ€ê¸° ì‹œê°„(Lock time) ë“±ì— ëŒ€í•´ í‰ê·  ë° ìµœì†Œ/ìµœëŒ€ ê°’ì„ í‘œì‹œí•œë‹¤.\nì‹¤í–‰ ë¹ˆë„ ë° ëˆ„ì  ì‹¤í–‰ ì‹œê°„ìˆœ ë­í‚¹ ê° ì¿¼ë¦¬ë³„ë¡œ ì‘ë‹µ ì‹œê°„ê³¼ ì‹¤í–‰ íšŸìˆ˜ë¥¼ ë³´ì—¬ì£¼ëŠ”ë°, pt-query-digest ëª…ë ¹ ì‹¤í–‰ ì‹œ --oorder-byì˜µì…˜ìœ¼ë¡œ ì •ë ¬ ìˆœì„œë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\nQuery IDëŠ” ì‹¤í–‰ëœ ì¿¼ë¦¬ ë¬¸ì¥ì„ ì •ê·œí™”(ì¿¼ë¦¬ì— ì‚¬ìš©ëœ ë¦¬í„°ëŸ´ì„ ì œê±°)í•´ì„œ ë§Œë“¤ì–´ì§„ í•´ì‹œ ê°’ì„ ì˜ë¯¸í•˜ëŠ”ë°, ê°™ì€ ëª¨ì–‘ì˜ ì¿¼ë¦¬ë¼ë©´ ë™ì¼í•œ Query IDë¥¼ ê°€ì§€ê²Œ ëœë‹¤.\nì¿¼ë¦¬ë³„ ì‹¤í–‰ íšŸìˆ˜ ë° ëˆ„ì  ì‹¤í–‰ ì‹œê°„ ìƒì„¸ ì •ë³´ Query IDë³„ ì¿¼ë¦¬ë¥¼ ì¿¼ë¦¬ ë­í‚¹ì— í‘œì‹œëœ ìˆœì„œëŒ€ë¡œ ìì„¸í•œ ë‚´ìš©ì„ ë³´ì—¬ì¤€ë‹¤. ë­í‚¹ë³„ ì¿¼ë¦¬ì—ì„œëŠ” ëŒ€ìƒ í…Œì´ë¸”ì— ëŒ€í•´ ì–´ë–¤ ì¿¼ë¦¬ì¸ì§€ë§Œì„ í‘œì‹œí•˜ëŠ”ë°, ì‹¤ì œ ìƒì„¸í•œ ì¿¼ë¦¬ ë‚´ìš©ì€ ê°œë³„ ì¿¼ë¦¬ì˜ ì •ë³´ë¥¼ í™•ì¸í•´ë³´ë©´ ëœë‹¤.\n","date":"2023-04-14T16:31:23+09:00","image":"https://codemario318.github.io/post/real_mysql_4_4/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql_4_4/","title":"4.4 MySQL ë¡œê·¸ íŒŒì¼"},{"content":"\ní‚¤ ìºì‹œ í‚¤ ë²„í¼ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” MyISAMì˜ í‚¤ ìºì‹œëŠ” InnoDBì˜ ë²„í¼í’€ê³¼ ë¹„ìŠ·í•œ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. í‚¤ ìºì‹œëŠ” ì¸ë±ìŠ¤ë§Œì„ ëŒ€ìƒìœ¼ë¡œ ì‘ë™í•˜ë©°, ì¸ë±ìŠ¤ì˜ ë””ìŠ¤í¬ ì“°ê¸° ì‘ì—…ì— ëŒ€í•´ì„œë§Œ ë¶€ë¶„ì ìœ¼ë¡œ ë²„í¼ë§ ì—­í• ì„ í•œë‹¤.\ní‚¤ ìºì‹œ íš¨ìœ¨ì„± ìˆ˜ì‹\ní‚¤ ìºì‹œ íˆíŠ¸ìœ¨ = 100 - (Key_reads / Key_read_requests * 100)\nKey_reads: ì¸ë±ìŠ¤ë¥¼ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ë“¤ì¸ íšŸìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ìƒíƒœ ë³€ìˆ˜ Key_read_requests: í‚¤ ìºì‹œë¡œë¶€í„° ì¸ë±ìŠ¤ë¥¼ ì½ì€ íšŸìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” ìƒíƒœë³€ìˆ˜ 1 SHOW GLOBAL STATUS LIKE \u0026#39;Key%\u0026#39;; ë©”ë‰´ì–¼ì—ì„œëŠ” í‚¤ ìºì‹œë¥¼ ì´ìš©í•œ ì¿¼ë¦¬ì˜ ë¹„ìœ¨(Hit rate)ì„ 99% ë¡œ ìœ ì§€í•  ê²ƒì„ ê¶Œì¥í•˜ë©°, 99% ë¯¸ë§Œì´ë¼ë©´ í‚¤ ìºì‹œë¥¼ ì¡°ê¸ˆ ë” í¬ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\n32ë¹„íŠ¸ ìš´ì˜ì²´ì œì—ì„œëŠ” í•˜ë‚˜ì˜ í‚¤ ìºì‹œì— 4GB ì´ìƒ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì„¤ì •í•  ìˆ˜ ì—†ê³ , 64ë¹„íŠ¸ ìš´ì˜ì²´ì œì—ì„œëŠ” OS_PER_PROCESS_LIMIT ê°’ì— ì„¤ì •ëœ í¬ê¸°ë§Œí¼ì˜ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•  ìˆ˜ ìˆë‹¤.\nì œí•œ ê°’ ì´ìƒì˜ í‚¤ ìºì‹œë¥¼ í• ë‹¹í•˜ê³  ì‹¶ë‹¤ë©´ ê¸°ë³¸ í‚¤ ìºì‹œ ì´ì™¸ì— ë³„ë„ ëª…ëª…ëœ í‚¤ ìºì‹œ ê³µê°„ì„ ì„¤ì •í•´ì•¼ í•˜ë©°, ê¸°ë³¸ í‚¤ ìºì‹œ ê³µê°„ì„ ì„¤ì •í•˜ëŠ” íŒŒë¼ë¯¸í„°ëŠ” key_buffer_sizeë‹¤.\n1 2 3 key_buffer_size = 4GB kbuf_board.key_buffer_size = 2GB kbuf_comment.key_buffer_size = 2GB ìœ„ ê°™ì´ ì„¤ì •í•˜ë©´ ê¸°ë³¸ í‚¤ ìºì‹œ 4GBì™€ kbuf_board, kbuf_commentë¼ëŠ” ì´ë¦„ì˜ í‚¤ ìºì‹œê°€ ê°ê° 2GBì”© ìƒì„±ëœë‹¤.\nê¸°ë³¸ í‚¤ ìºì‹œ ì˜ì—­ì™¸ í‚¤ ìºì‹œ ì˜ì—­ì€ ì•„ë¬´ëŸ° ì„¤ì •ì´ ì—†ë‹¤ë©´ í• ë‹¹ë§Œ í•´ë‘ê³  ì‚¬ìš©í•˜ì§€ ì•Šì•„ ì¶”ê°€ëœ í‚¤ ìºì‹œëŠ” ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ìºì‹œí• ì§€ MySQLì— ì•Œë ¤ì•¼ í•œë‹¤.\n1 2 CACHE INDEX db1.board, db2.board IN kbuf_board; CACHE INDEX db1.comment, db2.comment IN kbuf_comment; ìš´ì˜ì²´ì œì˜ ìºì‹œ ë° ë²„í¼ MyISAM í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ëŠ” í‚¤ ìºì‹œë¥¼ ì´ìš©í•´ ë””ìŠ¤í¬ë¥¼ ê²€ìƒ‰í•˜ì§€ ì•Šê³ ë„ ë¹ ë¥´ê²Œ ê²€ìƒ‰ë  ìˆ˜ ìˆìœ¼ë‚˜, ë””ìŠ¤í¬ ë°ì´í„° I/Oë¥¼ ì„±ëŠ¥ì„ ìœ„í•œ ìºì‹œë‚˜ ë²„í¼ë§ ê¸°ëŠ¥ì€ ì—†ë‹¤. ë”°ë¼ì„œ MyISAM í…Œì´ë¸”ì˜ ë°ì´í„° ì½ê¸°ë‚˜ ì“°ê¸° ì‘ì—…ì€ í•­ìƒ ìš´ì˜ì²´ì œì˜ ë””ìŠ¤í¬ ì½ê¸° ë˜ëŠ” ì“°ê¸° ì‘ì—…ìœ¼ë¡œ ìš”ì²­ëœë‹¤.\nìš´ì˜ì²´ì œì˜ ìºì‹œ ê³µê°„ì€ ë‚¨ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¸°ë³¸ ì›ì¹™ì´ì–´ì„œ ë‚¨ëŠ” ê³µê°„ì´ ì—†ë‹¤ë©´ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë°ì´í„° I/Oì— ì‚¬ìš©ë  ë©”ëª¨ë¦¬ë¥¼ í™•ë³´í•  ìˆ˜ ì—†ì–´ ëŠë ¤ì§„ë‹¤.\nMyISAMì´ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” MySQLì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ í‚¤ ìºì‹œëŠ” ìµœëŒ€ ë¬¼ë¦¬ ë©”ëª¨ë¦¬ì˜ 40% ì´ìƒì„ ë„˜ì§€ ì•Šê²Œ ì„¤ì •í•˜ê³ , ë‚˜ë¨¸ì§€ ë©”ëª¨ë¦¬ ê³µê°„ì€ ìš´ì˜ì²´ì œê°€ ìì²´ì ì€ íŒŒì¼ ì‹œìŠ¤í…œì„ ìœ„í•œ ìºì‹œ ê³µê°„ì„ ë§ˆë ¨í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në°ì´í„° íŒŒì¼ê³¼ í”„ë¼ì´ë¨¸ë¦¬ í‚¤(ì¸ë±ìŠ¤) êµ¬ì¡° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•´ì„œ í´ëŸ¬ìŠ¤í„°ë§ë˜ì–´ ì €ì¥ë˜ì§€ë§Œ, MyISAM í…Œì´ë¸”ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•œ í´ëŸ¬ìŠ¤í„°ë§ ì—†ì´ ë°ì´í„° íŒŒì¼ì´ Heap ê³µê°„ì²˜ëŸ¼ í™œìš©ëœë‹¤. (í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ê³¼ ë¬´ê´€í•˜ê²Œ INSERTë˜ëŠ” ìˆœì„œëŒ€ë¡œ ë°ì´í„° íŒŒì¼ì— ì €ì¥ëœë‹¤.)\nMyISAM í…Œì´ë¸”ì— ì €ì¥ë˜ëŠ” ë ˆí¬ë“œëŠ” ëª¨ë‘ ROWIDë¼ëŠ” ë¬¼ë¦¬ì ì¸ ì£¼ì†Œê°’ì„ ê°€ì§€ëŠ”ë°, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì™€ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ëª¨ë‘ ë°ì´í„° íŒŒì¼ì— ì €ì¥ëœ ë ˆì½”ë“œì˜ ROWID ê°’ì„ í¬ì¸í„°ë¡œ ê°€ì§„ë‹¤.\nROWIDëŠ” ë‘ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì €ì¥ëœë‹¤.\nê³ ì • ê¸¸ì´ ROWID\nìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì§€ë§Œ MyISAM í…Œì´ë¸”ì„ ìƒì„±í•  ë•Œ MAX_ROWS ì˜µì…˜ì„ ì‚¬ìš©í•´ ëª…ì‹œí•˜ë©´ MySQL ì„œë²„ëŠ” ìµ€ëŒ€ë¡œ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë ˆì½”ë“œê°€ í•œì •ëœ í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤. ë ˆì½”ë“œ ê°œìˆ˜ê°€ í•œì •ë˜ë©´ MyISAM í…Œì´ë¸”ì€ ROWIDê°’ìœ¼ë¡œ 4ë°”ì´íŠ¸ ì •ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ INSERTëœ ìˆœë²ˆìœ¼ë¡œ ROWIDë¥¼ ì‚¬ìš©í•œë‹¤.\nê°€ë³€ ê¸¸ì´ ROWID\nMAX_ROWS ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ MyISAM í…Œì´ë¸”ì˜ ROWIDëŠ” ìµœëŒ€ myisam_data_pointer_size ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ë°”ì´íŠ¸ ìˆ˜ ë§Œí¼ì— ê³µê°„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ê°’ì€ 7ì´ë©° ìµœì†Œ 2byte ë¶€í„° 7byte ê¹Œì§€ ê°€ë³€ì ì¸ ROWIDë¥¼ ê°–ê²Œ ëœë‹¤. ì²« ë°”ì´íŠ¸ëŠ” ROWIDì˜ ê¸¸ì´ë¥¼ ì €ì¥í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë˜ê³  ë‚˜ë¨¸ì§€ ê³µê°„ì€ ì‹¤ì œ ROWIDë¥¼ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤. ê°€ë³€ì ì¸ ROWIDë¥¼ ê°€ì§€ë©´ ë°ì´í„° íŒŒì¼ì—ì„œ ë ˆì½”ë“œì˜ ìœ„ì¹˜ê°€ ROWIDë¡œ ì‚¬ìš©ë˜ì–´, ê°€ë³€ ê¸¸ì´ ROWIDì¸ í…Œì´ë¸”ì¼ë•Œ ìµœëŒ€ í¬ê¸° 256TB(2**(8(7-1)))ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\n","date":"2023-04-14T15:52:19+09:00","image":"https://codemario318.github.io/post/real_mysql_4_3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql_4_3/","title":"4.3 MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜"},{"content":"Double Write Buffer InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¦¬ë‘ ë¡œê·¸ëŠ” ê³µê°„ ë‚­ë¹„ë¥¼ ë§‰ê¸° ìœ„í•´ í˜ì´ì§€ì˜ ë³€ê²½ëœ ë‚´ìš©ë§Œ ê¸°ë¡í•œë‹¤. ì´ë¡œì¸í•´ ë”í‹° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ íŒŒì¼ë¡œ í”ŒëŸ¬ì‹œí•  ë•Œ ì¼ë¶€ë§Œ ê¸°ë¡ë˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ê·¸ í˜ì´ì§€ì˜ ë‚´ìš©ì€ ë³µêµ¬í•  ìˆ˜ ì—†ì„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤.\nì´ëŸ° í˜„ìƒì„ íŒŒì…œ í˜ì´ì§€ ë˜ëŠ” í†¤ í˜ì´ì§€ë¼ê³  í•˜ëŠ”ë°, í•˜ë“œì›¨ì–´ì˜ ì˜¤ì‘ë™ì´ë‚˜ ì‹œìŠ¤í…œì˜ ë¹„ì •ìƒ ì¢…ë£Œ ë“±ìœ¼ë¡œ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\níŒŒì…œ í˜ì´ì§€(Partial-Page)\në°ì´í„° ë² ì´ìŠ¤ í˜ì´ì§€ ì¤‘ì—ì„œ ë°ì´í„°ê°€ ì¼ë¶€ë§Œ ì±„ì›Œì§„ í˜ì´ì§€. ë ˆì½”ë“œê°€ í˜ì´ì§€ì˜ í¬ê¸°ë³´ë‹¤ ì‘ì„ ë•Œ ë°œìƒí•˜ë©°, ë ˆì½”ë“œê°€ í˜ì´ì§€ë¥¼ ë²—ì–´ë‚˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ í˜ì´ì§€ì˜ ì¼ë¶€ë§Œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. í†¤ í˜ì´ì§€(Tone-Page)\në””ìŠ¤í¬ì— ê¸°ë¡ ì¤‘ì¸ í˜ì´ì§€ì˜ ê¸°ë¡ ì‘ì—…ì´ ì¤‘ê°„ì— ì¤‘ë‹¨ë˜ì–´ ë°œìƒí•˜ëŠ” ë¬¸ì œ. í˜ì´ì§€ ì¼ë¶€ê°€ ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ì§€ ì•Šì•„ ë°ì´í„° ë¬´ê²°ì„±ì´ ì†ìƒë˜ëŠ” ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë§‰ê¸° ìœ„í•´ Double-Write ê¸°ë²•ì„ í™œìš©í•œë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì‹¤ì œ ë°ì´í„° íŒŒì¼ì— ë³€ê²½ ë‚´ìš©ì„ ê¸°ë¡í•˜ê¸° ì „ì— ê¸°ë¡ë  ë”í‹° í˜ì´ì§€ë“¤ì„ ë¬¶ì–´ ì‹œìŠ¤í…œ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ì˜ DoubleWrite ë²„í¼ì— ê¸°ë¡í•œë‹¤.\në”í‹° í˜ì´ì§€ í”ŒëŸ¬ì‹± ì¤‘ ì˜¤ë¥˜ë“±ìœ¼ë¡œ ì„œë²„ê°€ ì¢…ë£Œë˜ì—ˆë‹¤ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì¬ì‹œì‘ ë  ë•Œ í•­ìƒ Double Write ë²„í¼ì˜ ë‚´ìš©ì„ ë°ì´í„° íŒŒì¼ì˜ í˜ì´ì§€ë¡œ ë³µì‚¬í•˜ê²Œ ëœë‹¤.\nDoubleWrite ê¸°ëŠ¥ì„ ì‚¬ìš©í• ì§€ ì—¬ë¶€ëŠ” Innodb_doublewrite ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì œì–´í•  ìˆ˜ ìˆë‹¤.\nì´ì²˜ëŸ¼ DoubleWrite ë²„í¼ëŠ” ë°ì´í„°ì˜ ì•ˆì •ì„±ì„ ìœ„í•´ ì‚¬ìš©ë˜ëŠ”ë°, HDDì²˜ëŸ¼ ìê¸° ì›íŒì´ íšŒì „í•˜ëŠ” ì €ì¥ ì‹œìŠ¤í…œì—ì„œëŠ” í•œ ë²ˆì˜ ìˆœì°¨ ë””ìŠ¤í¬ ì“°ê¸°ë¥¼ í•˜ëŠ” ê²ƒìœ¼ë¡œ ë¶€ë‹´ìŠ¤ëŸ½ì§€ ì•Šì§€ë§Œ SSDì²˜ëŸ¼ ëœë¤ IOì™€ ìˆœì°¨ IOì˜ ë¹„ìš©ì´ ë¹„ìŠ·í•œ ì €ì¥ ì‹œìŠ¤í…œì—ì„œëŠ” ë¶€ë‹´ìŠ¤ëŸ½ë‹¤.\nSSDëŠ” HDDì™€ ë‹¤ë¥´ê²Œ ë‚´ë¶€ì ìœ¼ë¡œ ë¬¼ë¦¬ì ì¸ ì„¹í„° ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì½ê³  ì“°ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ë©”ëª¨ë¦¬ì— ë³µì‚¬ëœ ë‚´ìš©ì´ SSDì˜ ì„¹í„° í¬ê¸°ë³´ë‹¤ ì‘ì€ ê²½ìš°ì—ë„(ìˆœì°¨ ë””ìŠ¤í¬ ì“°ê¸°) ì—¬ëŸ¬ë²ˆ ê¸°ë¡ë˜ì–´ì•¼ í•œë‹¤.\ní•˜ì§€ë§Œ ë°ì´í„°ì˜ ë¬´ê²°ì„±ì´ ë§¤ìš° ì¤‘ìš”í•œ ì„œë¹„ìŠ¤ì—ì„œëŠ” DoubleWriteì˜ í™œì„±í™”ë¥¼ ê³ ë ¤í•˜ëŠ” ê²ƒë„ ì¢‹ë‹¤. ë§Œì•½ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ì„±ëŠ¥ì„ ìœ„í•´ InnoDB ë¦¬ë‘ ë¡œê·¸ ë™ê¸°í™” ì„¤ì •(innodb_flush_log_at_trx_commit ì‹œìŠ¤í…œ ë³€ìˆ˜)ì„ 1ì´ ì•„ë‹Œ ê°’ìœ¼ë¡œ ì„¤ì •í–ˆë‹¤ë©´, DoubleWriteë„ ë¹„í™œì„±í™” í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ninnodb_flush_log_at_trx_commit\n0: ì»¤ë°‹ í›„ ë¡œê·¸ ë²„í¼ë¥¼ ë””ìŠ¤í¬ì— ì¦‰ì‹œ í”ŒëŸ¬ì‹œ í•˜ì§€ ì•Šê³ , ë¡œê·¸ ë²„í¼ê°€ ì¼ì • ìˆ˜ì¤€ ì±„ì›Œì§€ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ê°€ ì¢…ë£Œë  ë•Œ í”ŒëŸ¬ì‹œí•œë‹¤. ë°ì´í„° ì¼ê´€ì„±ì´ ë³´ì¥ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. 1(default): ì»·ë°‹ í›„ ë¡œê·¸ ë²„í¼ë¥¼ ë””ìŠ¤í¬ì— ì¦‰ì‹œ í”ŒëŸ¬ì‹œí•œë‹¤. ë°ì´í„° ì¼ê´€ì„±ì€ ë³´ì¥í•˜ì§€ë§Œ ë””ìŠ¤í¬ IOê°€ ë¶€í•˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤. 2: ì»¤ë°‹ í›„ ë¡œê·¸ ë²„í¼ë¥¼ ë””ìŠ¤í¬ì— ì¦‰ì‹œ í”ŒëŸ¬ì‹œ í•˜ì§€ ì•Šê³ , ë¡œê·¸ë¥¼ ë³„ë„ íŒŒì¼ì— ì“´ í›„ íŒŒì¼ì„ ì£¼ê¸°ì ìœ¼ë¡œ í”ŒëŸ¬ì‹œ í•œë‹¤. 0ê³¼ 1ì˜ ì¤‘ê°„ ì •ë„ë¡œ ë°ì´í„° ì¼ê´€ì„±ê³¼ ë””ìŠ¤í¬ IO ë¶€í•˜ ê°ì†Œë¥¼ ê· í˜•ìˆê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤. ì–¸ë‘ ë¡œê·¸ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ íŠ¸ëœì­ì…˜ê³¼ ê²©ë¦¬ ìˆ˜ì¤€ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ DMLë¡œ ë³€ê²½ë˜ê¸° ì´ì „ ë²„ì „ì˜ ë°ì´í„°ë¥¼ ë³„ë„ë¡œ ë°±ì—…í•œë‹¤. ì´ë ‡ê²Œ ë°±ì—…ëœ ë°ì´í„°ë¥¼ ì–¸ë‘ ë¡œê·¸(Undo Log)ë¼ê³  í•œë‹¤.\níŠ¸ëœì­ì…˜ ë³´ì¥\níŠ¸ëœì­ì…˜ì´ ë¡¤ë°±ë˜ë©´ íŠ¸ëœì­ì…˜ ë„ì¤‘ ë³€ê²½ëœ ë°ì´í„°ë¥¼ ë³€ê²½ ì „ ë°ì´í„°ë¡œ ë³µêµ¬í•´ì•¼ í•˜ëŠ”ë°, ì´ë•Œ ì–¸ë‘ ë¡œê·¸ì— ë°±ì—…í•´ë‘” ì´ì „ ë²„ì „ì˜ ë°ì´í„°ë¥¼ ì´ìš©í•´ ë³µêµ¬í•œë‹¤. ê²©ë¦¬ ìˆ˜ì¤€ ë³´ì¥\níŠ¹ì • ì»¤ë„¥ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ë„ì¤‘ ë‹¤ë¥¸ ì»¤ë„¥ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì— ë§ê²Œ ë³€ê²½ì¤‘ì¸ ë ˆì½”ë“œë¥¼ ì½ì§€ ì•Šê³  ì–¸ë‘ ë¡œê·¸ì— ë°±ì—…í•´ë‘” ë°ì´í„°ë¥¼ ì½ì–´ì„œ ë°˜í™˜í•˜ê¸°ë„ í•œë‹¤. ì–¸ë‘ ë¡œê·¸ ëª¨ë‹ˆí„°ë§ ì–¸ë‘ ë¡œê·¸ë¡œ ì¸í•´ ì—¬ëŸ¬ê°€ì§€ ì„±ëŠ¥ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•˜ë‹¤.\nëŒ€ìš©ëŸ‰ ì²˜ë¦¬ íŠ¸ëœì­ì…˜\n1ì–µ ê±´ì˜ ë ˆì½”ë“œê°€ ì €ì¥ëœ 100GB í¬ê¸°ì˜ í…Œì´ë¸”ì„ DELETEë¡œ ì‚­ì œí•œë‹¤ê³  ê°€ì •í–ˆì„ë•Œ, ì–¸ë‘ ë¡œê·¸ì— ì‚­ì œì „ ê°’ì„ ì €ì¥í•´ì•¼ í•˜ë¯€ë¡œ ì–¸ë‘ ë¡œê·¸ ê³µê°„ì€ 100GBê°€ ëœë‹¤.\nì¥ì‹œê°„ í™œì„±í™”ëœ íŠ¸ëœì­ì…˜\níŠ¸ëœì­ì…˜ì´ ì™„ë£Œëë‹¤ê³  í•´ì„œ í•´ë‹¹ íŠ¸ëœì­ì…˜ì´ ìƒì„±í•œ ì–¸ë‘ ë¡œê·¸ë¥¼ ì¦‰ì‹œ ì‚­ì œí• ìˆ˜ ì—†ì„ ìˆ˜ ìˆë‹¤. ë¨¼ì € ì‹œì‘ëœ íŠ¸ëœì­ì…˜ë³´ë‹¤ ì´í›„ ë°œìƒí•œ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œëœ ê²½ìš°, ë¨¼ì € ì‹œì‘ëœ ì™„ë£Œëœ íŠ¸ëœì ì…˜ì´ ì™„ë£Œë˜ê¸° ì „ ê¹Œì§€ ì–¸ë‘ ë¡œê·¸ëŠ” ì‚­ì œë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŸ¬í•œ ê²½ìš° ì–¸ë‘ ë¡œê·¸ì˜ ì´ë ¥ì„ í•„ìš”í•œ ë§Œí¼ ìŠ¤ìº”í•´ì•¼ë§Œ í•„ìš”í•œ ë ˆì½”ë“œë¥¼ ì°¾ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì´ ì „ë°˜ì ìœ¼ë¡œ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 /* MySQL ëª¨ë“  ë²„ì „ */ SHOW ENGING INNODB STATUS \\G /* MySQL 8.0 */ SELECT count FROM information_schema.innodb_metrics WHERE SUBSYSTEM=\u0026#39;transaction\u0026#39; AND NAME=\u0026#39;trx_rseg_history_len\u0026#39; ; MySQL ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” INSERT, UPDATE, DELETE ë¬¸ì¥ì´ ì–¼ë§ˆë‚˜ ë§ì€ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠëƒì— ë”°ë¼ í‰ìƒì‹œ ì–¸ë‘ ë¡œê·¸ ê±´ìˆ˜ëŠ” ìƒì´í•  ìˆ˜ ìˆì–´, ì•ˆì •ì ì¸ ì‹œì ì˜ ì–¸ë‘ ë¡œê·¸ ê±´ìˆ˜ë¥¼ í™•ì¸í•˜ê³  ì´ë¥¼ ê¸°ì¤‘ìœ¼ë¡œ ì–¸ë‘ ë¡œê·¸ì˜ ê¸‰ì¦ ì—¬ë¶€ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nMySQL ì„œë²„ì—ì„œ INSERT ë¬¸ì¥ìœ¼ë¡œ ì¸í•œ ì–¸ë‘ ë¡œê·¸ì™€ UPDATE, DELETE ë¬¸ì¥ìœ¼ë¡œ ì¸í•œ ì–¸ë‘ ë¡œê·¸ëŠ” ë³„ë„ë¡œ ê´€ë¦¬ëœë‹¤. UPDATE, DELETE ë¬¸ì¥ìœ¼ë¡œ ì¸í•œ ì–¸ë‘ ë¡œê·¸ëŠ” MVCCì™€ ë°ì´í„° ë³µêµ¬(ë¡¤ë°± ë“±)ì— ëª¨ë‘ ì‚¬ìš©ë˜ì§€ë§Œ, INSERT ë¬¸ì¥ìœ¼ë¡œ ì¸í•œ ì–¸ë‘ ë¡œê·¸ëŠ” ë¡¤ë°±, ë°ì´í„° ë³µêµ¬ë§Œì„ ìœ„í•´ ì‚¬ìš©ëœë‹¤.\nì–¸ë‘ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ê´€ë¦¬ ì–¸ë‘ ë¡œê·¸ê°€ ì €ì¥ë˜ëŠ” ê³µê°„ì„ ì–¸ë‘ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤(Undo Tablespace)ë¼ê³  í•œë‹¤.\nMySQL 5.6 ì´ì „ ë²„ì „ì—ì„œëŠ” ì–¸ë‘ ë¡œê·¸ê°€ ëª¨ë‘ ì‹œìŠ¤í…œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤(ibdata.idb)ì— ì €ì¥ë˜ì—ˆì—ˆì§€ë§Œ, ì‹œìŠ¤í…œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì˜ ì–¸ë‘ ë¡œê·¸ëŠ” MySQLì„œë²„ê°€ ì´ˆê¸°í™”ë  ë•Œ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— í™•ì¥ì˜ í•œê³„ê°€ ìˆì—ˆë‹¤. ì´ì— ë”°ë¼ 5.6 ë²„ì „ì—ì„œëŠ” innodb_undo_tablespaces ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ë„ì…ë˜ì–´ ë³„ë„ ë¡œê·¸ íŒŒì¼ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , 8.0ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ë©´ì„œ ì–¸ë‘ ë¡œê·¸ëŠ” í•­ìƒ ì‹œìŠ¤í…œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì™¸ë¶€ì˜ ë³„ë„ ë¡œê·¸ íŒŒì¼ì—ë§Œ ê¸°ë¡ë˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.\ní•˜ë‚˜ì˜ ì–¸ë‘ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ëŠ” 1~128ê°œì˜ ë¡¤ë°± ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°€ì§€ë©°, ë¡¤ë°± ì„¸í¬ë¨¼íŠ¸ëŠ” 1ê°œ ì´ìƒì˜ ì–¸ë‘ ìŠ¬ë¡¯(Undo Slot)ì„ ê°€ì§„ë‹¤.\nìµœëŒ€ ë™ì‹œ ì²˜ë¦¬ ê°€ëŠ¥í•œ íŠ¸ëœì­ì…˜ì˜ ê°œìˆ˜ëŠ” ë‹¤ìŒ ìˆ˜ì‹ìœ¼ë¡œ ì˜ˆì¸¡í•  ìˆ˜ ìˆë‹¤.\n(InnDB í˜ì´ì§€ í¬ê¸°) / 16 * (ë¡¤ë°± ì„¸ê·¸ë¨¼íŠ¸ ê°œìˆ˜) * (ì–¸ë‘ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ ìˆ˜)\nInnoDB ê¸°ë³¸ ì„¤ì •(innodb_undo_tablespace=2, innodb_rollback_segments=128)ì„ ì‚¬ìš©í•œë‹¤ë©´ 131,072ê°œ ì •ë„ì˜ íŠ¸ëœì­ì…˜ì´ ë™ì‹œì— ì²˜ë¦¬ ê°€ëŠ¥í•´ì§„ë‹¤. ì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ì—ì„œ ì´ ì •ë„ê¹Œì§€ ë™ì‹œ íŠ¸ëœì­ì…˜ì´ í•„ìš”í•˜ì§„ ì•Šê² ì§€ë§Œ ê¸°ë³¸ê°’ìœ¼ë¡œ í•´ì„œ í¬ê²Œ ë¬¸ì œë  ê±´ ì—†ë‹¤.\nì–¸ë‘ ë¡œê·¸ ìŠ¬ë¡¯ì´ ë¶€ì¡±í•œ ê²½ìš°ì—ëŠ” íŠ¸ë˜ì­ì…˜ì„ ì‹œì‘í•  ìˆ˜ ì—†ëŠ” ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì ì ˆíˆ ì •í•´ì•¼ í•œë‹¤.\nMySQL 8.0 ë¶€í„° CREATE UNDO TABLESPACEë‚˜ DROP TABLESPACEê°™ì€ ëª…ë ¹ìœ¼ë¡œ ìƒˆë¡œìš´ ì–¸ë‘ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ë¥¼ ë™ì ìœ¼ë¡œ ì¶”ê°€í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\nì–¸ë‘ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ê³µê°„ì„ í•„ìš”í•œ ë§Œí¼ë§Œ ë‚¨ê¸°ê³  ë¶ˆí•„ìš”í•˜ê±°ë‚˜ ê³¼ë„í•˜ê²Œ í• ë‹¹ëœ ê³µê°„ì„ ìš´ì˜ì²´ì œë¡œ ë°˜ë‚©í•˜ëŠ” ê²ƒì„ \u0026lsquo;Undo tablespace truncate\u0026rsquo;ë¼ê³  í•˜ë©° ìë™, ìˆ˜ë™ ë‘ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤.\nì²´ì¸ì§€ ë²„í¼ RDBMSì—ì„œ ë ˆì½”ë“œê°€ ì¶”ê°€, ë³€ê²½ë  ë•Œ ë°ì´í„° íŒŒì¼ì„ ë³€ê²½í•˜ëŠ” ì‘ì—…ë¿ ì•„ë‹ˆë¼ í•´ë‹¹ í…Œì´ë¸”ì— í¬í•¨ëœ ì¸ë±ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ë„ í•„ìš”í•˜ë‹¤. ì¸ë±ìŠ¤ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ì€ ëœë¤í•˜ê²Œ ë””ìŠ¤í¬ë¥¼ ì½ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë¯€ë¡œ í…Œì´ë¸”ì— ì¸ë±ìŠ¤ê°€ ë§ë‹¤ë©´ ìƒë‹¹íˆ ë§ì€ ìì›ì„ ì†Œëª¨í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ InnoDBëŠ” ë³€ê²½í•´ì•¼ í•  ì¸ë±ìŠ¤ í˜ì´ì§€ê°€ ë²„í¼í’€ì— ìˆìœ¼ë©´ ë°”ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šê³  ë””ìŠ¤í¬ë¡œë¶€í„° ì½ì–´ì™€ì„œ ì—…ë°ì´íŠ¸í•´ì•¼ í•œë‹¤ë©´ ì´ë¥¼ ì¦‰ì‹œ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì„ì‹œ ê³µê°„ì— ì €ì¥í•´ ë‘ê³  ë°”ë¡œ ì‚¬ìš©ìì—ê²Œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” í˜•íƒœë¡œ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê²Œ ë˜ëŠ”ë°, ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ì„ì‹œ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì²´ì¸ì§€ ë²„í¼(Change Buffer)ë¼ê³  í•œë‹¤.\nì‚¬ìš©ìì—ê²Œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì¤‘ë³µ ì—¬ë¶€ë¥¼ ì²´í¬í•´ì•¼ í•˜ëŠ” ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ëŠ” ì²´ì¸ì§€ ë²„í¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\nì²´ì¸ì§€ ë²„í¼ì— ì„ì‹œë¡œ ì €ì¥ëœ ì¸ë±ìŠ¤ ë ˆì½”ë“œ ì¡°ê°ì€ ì´í›„ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì— ì˜í•´ ë³‘í•©ë˜ëŠ”ë°, ì´ ìŠ¤ë ˆë“œë¥¼ ì²´ì¸ì§€ ë²„í¼ ë¨¸ì§€ ìŠ¤ë ˆë“œë¼ê³  í•œë‹¤.\nMySQL 5.5 ì´ì „ ë²„ì „ê¹Œì§€ëŠ” INSERT ì‘ì—…ì— ëŒ€í•´ì„œë§Œ ì´ëŸ¬í•œ ë²„í¼ë§ì´ ê°€ëŠ¥í–ˆëŠ”ë°, ì´í›„ ì¡°ê¸ˆì”© ê°œì„ ë˜ë©° INSERT, UPDATE, DELETEë¡œ ì¸í•´ í‚¤ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ì‘ì—…ì— ëŒ€í•´ì„œë„ ë²„í¼ë§ì´ ë  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\në˜í•œ innodb_change_bufferingì´ë¼ëŠ” ì‹œìŠ¤í…œ ë³€ìˆ˜ê°€ ìƒˆë¡œ ë„ì…ë˜ì–´ ì‘ì—…ì˜ ì¢…ë¥˜ë³„ë¡œ ì²´ì¸ì§€ ë²„í¼ë¥¼ í™œì„±í™”í•  ìˆ˜ ìˆìœ¼ë©°, ì²´ì¸ì§€ ë²„í¼ê°€ ë¹„íš¨ì¼ì ì¼ ë•ŒëŠ” ì²´ì¸ì§€ ë²„í¼ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ì„¤ì •í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\nall: ëª¨ë“  ì¸ë±ìŠ¤ ê´€ë ¨ ì‘ì—…ì„ ë²„í¼ë§(inserts + deletes + purges) none: ë²„í¼ë§ ì•ˆí•¨ inserts: ì¸ë±ìŠ¤ì— ìƒˆë¡œìš´ ì•„ì´í…œì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ë§Œ ë²„í¼ë§ deletes: ì¸ë±ìŠ¤ì—ì„œ ê¸°ì¡´ ì•„ì´í…œì„ ì‚­ì œí•˜ëŠ” ì‘ì—…(ì‚­ì œëë‹¤ëŠ” ë§ˆí‚¹ ì‘ì—…)ë§Œ ë²„í¼ë§ changes: ì¸ë±ìŠ¤ì— ì¶”ê°€í•˜ê³  ì‚­ì œí•˜ëŠ” ì‘ì—…ë§Œ(inserts + deletes) ë²„í¼ë§ purges: ì¸ë±ìŠ¤ ì•„ì´í…œì„ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ì‘ì—…ë§Œ ë²„í¼ë§(ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…) ì²´ì¸ì§€ ë²„í¼ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ InnoDB ë²„í¼í’€ë¡œ ì„¤ì •ëœ ë©”ëª¨ë¦¬ ê³µê°„ì˜ 25%ê¹Œì§€ í™œìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì •ë¼ìˆìœ¼ë©°, í•„ìš”í•˜ë‹¤ë©´ 50%ê¹Œì§€ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. innodb_change_buffer_max_size ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ë¹„ìœ¨ì„ ì¡°ì •í•˜ì—¬ ë°”ê¿€ ìˆ˜ ìˆë‹¤.\në¦¬ë‘ ë¡œê·¸ ë° ë¡œê·¸ ë²„í¼ ë¦¬ë‘ ë¡œê·¸ëŠ” íŠ¸ëœì­ì…˜ì˜ 4ê°€ì§€ ìš”ì†Œì¸ ACID ì¤‘ì—ì„œ D(Durable)ì— í•´ë‹¹í•˜ëŠ” ì˜ì†ì„±ê³¼ ê°€ì¥ ë°€ì í•˜ê²Œ ì—°ê´€ë¼ ìˆë‹¤. ë¦¬ë‘ ë¡œê·¸ëŠ” í•˜ë“œì›¨ì–´ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ ë“± ë¬¸ì œë¡œ ì¸í•´ MySQL ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œëì„ ë•Œ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ëª»í•œ ë°ì´í„°ë¥¼ ìƒì§€ ì•Šê²Œ í•´ì£¼ëŠ” ì•ˆì „ì¥ì¹˜ì´ë‹¤.\nëŒ€ë¶€ë¶„ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ëŠ” ë°ì´í„° ë³€ê²½ ë‚´ìš©ì„ ë¡œê·¸ë¡œ ë¨¼ì € ê¸°ë¡í•œë‹¤. ëŒ€ë¶€ë¶„ DBMSì—ì„œ ë°ì´í„° íŒŒì¼ì€ ì“°ê¸°ë³´ë‹¤ ì½ê¸° ì„±ëŠ¥ì„ ê³ ë ¤í•œ ìë£Œ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë°ì´í„° íŒŒì¼ ì“°ê¸°ëŠ” ë””ìŠ¤í¬ì˜ ëœë¤ ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•˜ì—¬ ìƒëŒ€ì ìœ¼ë¡œ í° ë¹„ìš©ì´ í•„ìš”í•˜ë‹¤.\nì´ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ë¥¼ ë§‰ê¸° ìœ„í•´ ì“°ê¸° ë¹„ìš©ì´ ë‚®ì€ ìë£Œêµ¬ì¡°ì¸ ë¦¬ë‘ ë¡œê·¸ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ë¹„ì •ìƒ ì¢…ë£Œê°€ ë°œìƒí•˜ë©´ ë¦¬ë‘ ë¡œê·¸ì˜ ë‚´ìš©ì„ ì´ìš©í•´ ë°ì´í„° íŒŒì¼ì„ ë‹¤ì‹œ ì„œë²„ê°€ ì¢…ë£Œë˜ê¸° ì§ì „ ìƒíƒœë¡œ ë³µêµ¬í•œë‹¤.\në˜í•œ ì„±ëŠ¥ì„ ìœ„í•´ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë²„í¼ë§ í•  ìˆ˜ ìˆëŠ” InnoDB ë²„í¼í’€ì´ë‚˜, ë¦¬ë‘ ë¡œê·¸ë¥¼ ë²„í¼ë§í•  ìˆ˜ ìˆëŠ” ë¡œê·¸ ë²„í¼ì™€ ê°™ì€ ìë£Œ êµ¬ì¡°ë„ ê°€ì§€ê³  ìˆë‹¤.\nMySQL ì„œë²„ê°€ ë¹„ì •ìƒìœ¼ë¡œ ì¢…ë£Œë˜ëŠ” ê²½ìš° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë°ì´í„° íŒŒì¼ì€ ë‘ ê°€ì§€ ì¼ê´€ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\nì»¤ë°‹ëì§€ë§Œ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ì•Šì€ ë°ì´í„° ë¡¤ë°±ëì§€ë§Œ ë°ì´í„° íŒŒì¼ì— ì´ë¯¸ ê¸°ë¡ëœ ë°ì´í„° ë¦¬ë‘ë¡œê·¸ë¥¼ í™œìš©í•˜ì—¬ ë³€ê²½ì´ ì»¤ë°‹, ë¡¤ë°±, íŠ¸ëœì­ì…˜ì˜ ì‹¤í–‰ ì¤‘ê°„ ìƒíƒœì˜€ëŠ”ì§€ í™•ì¸í•˜ê³ , ì ì ˆíˆ ì²˜ë¦¬í•œë‹¤.\në°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ë¦¬ë‘ ë¡œê·¸ëŠ” íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë˜ë©´ ì¦‰ì‹œ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ë„ë¡ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. ê·¸ë˜ì•¼ë§Œ ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆì„ë•Œ ì§ì „ê¹Œì§€ì˜ íŠ¸ëœì­ì…˜ ì»¤ë°‹ ë‚´ìš©ì´ ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡ë  ìˆ˜ ìˆê³ , ê·¸ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì´ìš©í•´ ì¥ì•  ì§ì „ ì‹œì ê¹Œì§€ ë³µêµ¬ê°€ ê°€ëŠ¥í•´ì§„ë‹¤.\ní•˜ì§€ë§Œ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œë§ˆë‹¤ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ë©´ ë¶€í•˜ê°€ ìƒê¸¸ ìˆ˜ ìˆì–´, InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì–´ëŠ ì£¼ê¸°ë¡œ ë””ìŠ¤í¬ì— ë™ê¸°í™”í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” innodb_flush_log_trx_commit ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì œê³µí•œë‹¤.\n0: 1ì´ˆì— í•œ ë²ˆì”© ë¦¬ë‘ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ê³  ë™ê¸°í™”ë¥¼ ì‹¤í–‰í•œë‹¤. ì„œë²„ê°€ ë¹„ì •ìƒ ì¢…ë£Œë˜ë©´ ìµœëŒ€ 1ì´ˆ ë™ì•ˆì˜ íŠ¸ëœì­ì…˜ì€ ì»¤ë°‹ëë”ë¼ë„ ë°ì´í„°ëŠ” ì‚¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤. 1: ë§¤ë²ˆ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œë§ˆë‹¤ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ê³  ë™ê¸°í™”ê¹Œì§€ ìˆ˜í–‰í•œë‹¤. 2: íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œë§ˆë‹¤ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ì€ ë˜ì§€ë§Œ ì‹¤ì§ˆì ì¸ ë™ê¸°í™”ëŠ” 1ì´ˆì— í•œë²ˆì”© ì‹¤í–‰ëœë‹¤. ì»¤ë°‹ì´ ë˜ë©´ ë³€ê²½ ë‚´ìš©ì´ ìš´ì˜ì²´ì œì˜ ë©”ëª¨ë¦¬ ë²„í¼ë¡œ ê¸°ë¡¤ë˜ëŠ” ê²ƒì´ ë³´ì¥ë˜ê¸° ë•Œë¬¸ì— MySQL ì„œë²„ê°€ ë¹„ì •ìƒ ì¢…ë£Œë˜ë”ë¼ë„ íŠ¸ëœì­ì…˜ ë°ì´í„°ëŠ” ì‚¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤. ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ë“¤ì˜ ì „ì²´ í¬ê¸°ëŠ” ë²„ë²„í’€ì˜ íš¨ìœ¨ì„±ì„ ê²°ì •í•˜ê¸° ë•Œë¬¸ì— ì‹ ì¤‘íˆ ê²°ì •í•´ì•¼í•œë‹¤. ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°ëŠ” innodb_log_file_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ê²°ì •í•˜ë©°, innodb_log_files_in_group ì‹œìŠ¤í…œ ë¼Œìˆ˜ëŠ” ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ ê°œìˆ˜ë¥¼ ê²°ì •í•œë‹¤.\në¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ ì „ì²´ í¬ê¸°ë¥¼ ë²„í¼í’€ì˜ í¬ê¸°ì— ë§ê²Œ ì„¤ì •í•´ì•¼ ì ì ˆíˆ ë³€ê²½ëœ ë‚´ìš©ì„ ë²„í¼í’€ì— ëª¨ì•„ í•œë²ˆì— ë””ìŠ¤í¬ì— ê¸°ë¡í•  ìˆ˜ ìˆë‹¤.\nACIDëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íŠ¸ëœì­ì…˜ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ê¼­ í•„ìš”í•œ 4ê°€ì§€ ìš”ì†Œ(ê¸°ëŠ¥)ì„ ì˜ë¯¸í•œë‹¤.\nA(Atomic): íŠ¸ëœì­ì…˜ì€ ì›ìì„± ì‘ì—…ì´ì–´ì•¼ í•¨. C(Consistent): ì¼ê´€ì„± I(Isolated): ê²©ë¦¬ì„± D(Durable): ì˜ì†ì„±. í•œ ë²ˆ ì €ì¥ëœ ë°ì´í„°ëŠ” ì§€ì†ì ìœ¼ë¡œ ìœ ì§€ë˜ì–´ì•¼ í•¨. ë¦¬ë‘ ë¡œê·¸ ì•„ì¹´ì´ë¹™ MySQL 8.0ë¶€í„° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì•„ì¹´ì´ë¹™ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ëë‹¤.\në°±ì—… íˆ´ì´ ë¦¬ë‘ ë¡œê·¸ ì•„ì¹´ì´ë¹™ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € MySQL ì„œë²„ì—ì„œ ì•„ì¹´ì´ë¹™ëœ ë¦¬ë‘ ë¡œê·¸ê°€ ì €ì¥ë  ë””ë ‰í„°ë¦¬ë¥¼ innodb_redo_log_archive_dirs ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •í•´ì•¼ í•˜ë©°, ë””ë ‰í„°ë¦¬ëŠ” ìš´ì˜ì²´ì œì˜ MySQL ì„œë²„ë¥¼ ì‹¤í–‰í•˜ëŠ” ìœ ì €ë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.\n1 2 3 4 mkdir /var/log/mysql_redo_archive cd /var/log/mysql_redo_archive mkdir 20230413 chmod 700 20230413 1 SET GLOBAL innodb_redo_log_archive_dirs=\u0026#39;backup:/var/log/mysql_redo_archive\u0026#39;; ë””ë ‰í„°ë¦¬ê°€ ì¤€ë¹„ë˜ë©´ ë¦¬ë‘ ë¡œê·¸ ì•„ì¹´ì´ë¹™ì„ ì‹œì‘í•˜ë„ë¡ innodb_redo_log_archive_start UDF(ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜)ë¥¼ ì‹¤í–‰í•œë‹¤. í•´ë‹¹ UDFëŠ” ë¦¬ë‘ ë¡œê·¸ë¥¼ ì•„ì¹´ì´ë¹™í•  ë””ë ‰í„°ë¦¬ì— ëŒ€í•œ ë ˆì´ë¸”ê³¼ ì„ íƒì ìœ¼ë¡œ ì„œë¸Œ ë””ë ‰í„°ë¦¬ ì´ë¦„ ì´ ë‘ê°€ì§€ì˜ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤.\n1 DO innodb_redo_log_archive_start(\u0026#39;backup\u0026#39;, \u0026#39;20230413\u0026#39;); ë¦¬ë‘ ì•„ì¹´ì´ë¹™ì„ ì¢…ë£Œí•  ë•ŒëŠ” innodb_redo_log_archive_stop UDFë¥¼ ì‹¤í–‰í•œë‹¤.\n1 DO innodb_redo_log_archive_stop(); innodb_redo_log_archive_start UDFë¥¼ ì‹¤í–‰í•œ ì„¸ì…˜ì˜ ì—°ê²°ì´ ëŠì–´ì§€ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë¦¬ë‘ ë¡œê·¸ ì•„ì¹´ì´ë¹™ì„ ë©ˆì¶”ê³  ì•„ì¹´ì´ë¹™ íŒŒì¼ë„ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ë¯€ë¡œ ì»¤ë„¥ì…˜ì„ ìœ ì§€í•´ì•¼ í•˜ê³ , innodb_redo_log_archive_stop UDFë¥¼ í˜¸ì¶œí•˜ì—¬ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë¼ì•¼ í•œë‹¤.\në¦¬ë‘ ë¡œê·¸ í™œì„±í™” ë° ë¹„í™œì„±í™” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¦¬ë‘ ë¡œê·¸ëŠ” MySQL ì„œë²„ê°€ ë¹„ì •ìƒ ì¢…ë£Œëì„ë•Œ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ëª»í•œ íŠ¸ëœì­ì…˜ì„ ë³µêµ¬í•˜ê¸° ìœ„í•´ í•­ìƒ í™œì„±í™”ë˜ì–´ìˆë‹¤. MySQL ì„œë²„ì—ì„œ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë¼ë„ ë°ì´í„° íŒŒì¼ì€ ì¦‰ì‹œ ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”ë˜ì§€ ì•ŠëŠ” ë°˜ë©´, ë¦¬ë‘ ë¡œê·¸ëŠ” í•­ìƒ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ëœë‹¤.\nMySQL 8.0 ë²„ì „ë¶€í„° ìˆ˜ë™ìœ¼ë¡œ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë¹„í™œì„±í™” í•  ìˆ˜ ìˆì–´, ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ í•œë²ˆì— ì ì¬í•˜ëŠ” ê²½ìš° ì‚¬ìš©í•˜ì—¬ ì ì¬ ì‹œê°„ì„ ë‹¨ì¶•í•  ìˆ˜ ìˆë‹¤.\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì‚¬ìš©ìê°€ ìì£¼ ìš”ì²­í•˜ëŠ” ë°ì´í„°ì— ëŒ€í•´ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ì¸ë±ìŠ¤ë¡œ, innodb_adaptive_hash_index ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ í™œì„±í™”, ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ëŒ€í‘œì ì¸ ì¸ë±ìŠ¤ëŠ” B-Treeë¡œ ë°ì´í„°ëŠ” PK ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ê´€ë¦¬ë˜ê³ , Secondary KeyëŠ” ì¸ë±ìŠ¤í‚¤ + PK ì¡°í•©ìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆë‹¤. íŠ¹ì • ë°ì´í„°ë¥¼ ì°¾ê¸° ìœ„í•´ Secondary Keyì—ì„œ PKë¥¼ ì°¾ê³ , ì°¾ì€ PKë¥¼ í†µí•´ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì°¾ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬ëœë‹¤.\nPK ì‚¬ìš©ì‹œ ë°ì´í„°ì— ì ‘ê·¼ë˜ëŠ” ë¹„ìš©ì€ O(logN)ì´ê³ , Secondary Keyë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ì— ì ‘ê·¼ì€ PKì— ëŒ€í•œ ì ‘ê·¼ë„ í•„ìš”í•˜ë¯€ë¡œ 2 * O(logN)ì´ë‹¤.\në”°ë¼ì„œ B-Tree ìë£Œêµ¬ì¡° íŠ¹ì„±ìœ¼ë¡œ ë°ì´í„°ê°€ ë§ì•„ì§„ë‹¤ í•˜ë”ë¼ë„ íƒìƒ‰ ë¹„ìš©ì´ í¬ê²Œ ì¦ê°€í•˜ì§€ ì•Šì§€ë§Œ, ë™ì‹œì— ë§ì€ ìŠ¤ë ˆë“œì—ì„œ íƒìƒ‰ ì‘ì—…ì´ ë°œìƒí•  ê²½ìš° Lock ë“±ìœ¼ë¡œ ì¸í•´ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” B-Treeì˜ ê²€ìƒ‰ ì‹œê°„ì„ ì¤„ì—¬ì£¼ê¸° ìœ„í•´ ë„ì…ëœ ê¸°ëŠ¥ìœ¼ë¡œ, ìì£¼ ì½íˆëŠ” ë°ì´í„° í˜ì´ì§€ì˜ í‚¤ ê°’ì„ ì´ìš©í•´ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ë§Œë“¤ê³ , í•„ìš”í•  ë•Œë§ˆë‹¤ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ê²€ìƒ‰í•´ì„œ ë ˆì½”ë“œê°€ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ë¥¼ ì¦‰ì‹œ ì°¾ì•„ê°ˆ ìˆ˜ ìˆë‹¤.\nêµ¬ì¡° í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ì¸ë±ìŠ¤ í‚¤ ê°’ê³¼ í•´ë‹¹ ì¸ë±ìŠ¤ í‚¤ ê°’ì´ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ ì£¼ì†Œì˜ ìŒìœ¼ë¡œ ê´€ë¦¬ëœë‹¤.\nì¸ë±ìŠ¤ í‚¤ ê°’:\nB-Tree ì¸ë±ìŠ¤ì˜ ê³ ìœ ë²ˆí˜¸ + B-Tree ì¸ë±ìŠ¤ì˜ ì‹¤ì œ í‚¤ ê°’ ì¸ë±ìŠ¤ì˜ ê³ ìœ ë²ˆí˜¸ê°€ í¬í•¨ë˜ëŠ” ì´ìœ ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë°ì´í„° í˜ì´ì§€ ì£¼ì†Œ:\nì‹¤ì œ í‚¤ ê°’ì´ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œ, ë²„í¼í’€ì— ë¡œë”©ëœ í˜ì´ì§€ì˜ ì£¼ì†Œë¥¼ ì˜ë¯¸ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ë²„í¼í’€ì— ì˜¬ë ¤ì§„ ë°ì´í„° í˜ì´ì§€ì— ëŒ€í•´ì„œë§Œ ê´¸ë¦¬ë˜ê³ , ë²„í¼í’€ì—ì„œ í•´ë‹¹ ë°ì´í„° í˜ì´ì§€ê°€ ì—†ì–´ì§€ë©´ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì—ì„œë„ í•´ë‹¹ í˜ì´ì§€ì˜ ì •ë³´ëŠ” ì‚¬ë¼ì§„ë‹¤.\nì„±ëŠ¥ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ í™œì„±í™” í›„ ì²˜ë¦¬ëŸ‰ì€ 2ë°° ê°€ê¹Œì´ ëŠ˜ì—ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  CPU ì‚¬ìš©ëŸ‰ì€ ì˜¤íˆë ¤ ë–¨ì–´ì§„ë‹¤.\nInnoDB ë‚´ë¶€ì ê¸ˆ(ì„¸ë§ˆí¬ì–´)ì˜ íšŸìˆ˜ë„ íšê¸°ì ìœ¼ë¡œ ì¤„ì–´ë“ ë‹¤.\nì¶”ê°€ë¡œ MySQL 8.0 ë¶€í„°ëŠ” ë‚´ë¶€ ì ê¸ˆì„ ì¤„ì´ê¸° ìœ„í•´ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ íŒŒí‹°ì…˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©° innodb_adaptive_hash_index_parts ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ íŒŒí‹°ì…˜ ê°œìˆ˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤(ê¸°ë³¸ê°’ 8ê°œ).\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ê°€ ì„±ëŠ¥ì— ë§ì€ ë„ìŒì´ ëœë‹¤ë©´ íŒŒí‹°ì…˜ ê°œìˆ˜ë¥¼ ë” ë§ì´ ì„¤ì •í•˜ëŠ” ê²ƒë„ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.\ní•œê³„ ìƒí™©ì— ë”°ë¼ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ê°€ ì„±ëŠ¥ í–¥ìƒì— í¬ê²Œ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ê²½ìš°ë„ ìˆë‹¤.\nì„±ëŠ¥ í–¥ìƒì— ë„ì›€ì´ ë˜ëŠ” ê²½ìš° ë””ìŠ¤í¬ì˜ ë°ì´í„°ê°€ InnoDB ë²„í¼í’€ í¬ê¸°ì™€ ë¹„ìŠ·í•œ ê²½ìš°(ë””ìŠ¤í¬ ì½ê¸°ê°€ ë§ì§€ ì•Šì€ ê²½ìš°) ë™ë“± ì¡°ê±´ ê²€ìƒ‰(ë™ë“± ë¹„êµ ë° IN ì—°ì‚°)ì´ ë§ì€ ê²½ìš° ì¿¼ë¦¬ê°€ ì¼ë¶€ ë°ì´í„°ì—ë§Œ ì§‘ì¤‘ ë˜ëŠ” ê²½ìš° ì„±ëŠ¥ í–¥ìƒì— í¬ê²Œ ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ” ê²½ìš° ë””ìŠ¤í¬ ì½ê¸°ê°€ ë§ì€ ê²½ìš° íŠ¹ì • íŒ¨í„´ì˜ ì¿¼ë¦¬ê°€ ë§ì€ ê²½ìš°(JOIN, LIKE íŒ¨í„´ ê²€ìƒ‰) ë§¤ìš° í° ë°ì´í„°ë¥¼ ê°€ì§„ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ í­ë„“ê²Œ ì½ëŠ” ê²½ìš° ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ë°ì´í„° í˜ì´ì§€ë¥¼ ë©”ëª¨ë¦¬(ë²„í¼í’€) ë‚´ì—ì„œ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë” ë¹ ë¥´ê²Œ ë§Œë“œëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ë°ì´í„° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ì˜¤ëŠ” ê²½ìš°ê°€ ë§ì€ ê²½ìš° ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œëŠ” í° ë„ì›€ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ ë˜í•œ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©°, ë•Œë¡œëŠ” ìƒë‹¹íˆ í° ë©”ëª¨ë¦¬ ê³µê°„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°ì´í„° í˜ì´ì§€ì˜ ì¸ë±ìŠ¤ í‚¤ê°€ í•´ì‹œ ì¸ë±ìŠ¤ë¡œ ë§Œë“¤ì–´ì ¸ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ê²½ìš° ì œê±°ë˜ì–´ì•¼ í•œë‹¤. í™œì„±í™”ë˜ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ í•„ìˆ˜ì ìœ¼ë¡œ ê²€ìƒ‰ì— í™œìš©í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ì ‘ê·¼ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì£¼ì˜í•  ì  í…Œì´ë¸” ì‚­ì œ(DROP), ë³€ê²½(ALTER)ì‹œ í•´ë‹¹ í…Œì´ë¸”ì´ ê°€ì§„ ëª¨ë“  ë°ì´í„° í˜ì´ì§€ì˜ ë‚´ìš©ì„ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì—ì„œ ì œê±°í•´ì•¼í•œë‹¤. ì´ë¡œ ì¸í•´ í…Œì´ë¸”ì´ ì‚­ì œë˜ê±°ë‚˜ ìŠ¤í‚¤ë§ˆê°€ ë³€ê²½ë˜ëŠ” ë™ì•ˆ ìƒë‹¹íˆ ë§ì€ CPU ìì›ì„ ì‚¬ìš©í•˜ê²Œë˜ì–´ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤.\nëª¨ë‹ˆí„°ë§ MySQL ì„œë²„ì˜ ìƒíƒœ ê°’ë“¤ì„ í†µí•´ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ê°€ ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œë§Œ ë§Œë“¤ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 SHOW ENGINE INNODB STATUS\\G /* Hash table size 8747, node heap has 1 buffers(s) Hash table size 8747, node heap has 0 buffers(s) ... 1.03 hash searches/s, 2.64 non-hash searches/s /* searches: ì¿¼ë¦¬ê°€ ì²˜ë¦¬ë˜ê¸° ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ í‚¤ ê°’ì˜ ê²€ìƒ‰ì´ ëª‡ ë²ˆ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ì˜ë¯¸í•¨\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ íš¨ìœ¨ì€ ê²€ìƒ‰ íšŸìˆ˜ê°€ ì•„ë‹ˆë¼ í•´ì‹œ ì¸ë±ìŠ¤ íˆíŠ¸ìœ¨ê³¼ ì¸ë±ìŠ¤ê°€ ì‚¬ìš© ì¤‘ì¸ ë©”ëª¨ë¦¬ ê³µê°„, ì„œë²„ì˜ CPU ì‚¬ìš©ëŸ‰ì„ ì¢…í•©í•´ì„œ íŒë‹¨í•´ì•¼ í•œë‹¤.\nìœ„ ì‹¤í–‰ ì¿¼ë¦¬ ê²°ê³¼ì—ì„œëŠ” 28% ì •ë„ê°€ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆëŠ”ë°, ì„œë²„ì˜ CPU ì‚¬ìš©ëŸ‰ì´ 100%ì— ê·¼ì ‘í•œë‹¤ë©´ íš¨ìœ¨ì ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ CPU ì‚¬ìš©ëŸ‰ì´ ë‚®ê³  ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë†’ë‹¤ë©´ ë¹„í™œì„±í™”í•˜ì—¬ ë²„í¼í’€ì´ ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ìœ ë„í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ë‹¤.\nì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ performance_schemaë¥¼ ì´ìš©í•´ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.\n1 2 3 4 5 SELECT EVENT_NAME ,CURRENT_NUMBER_OF_BYTES_USED FROM performance_schema.memory_summary_global_by_event_name WHERE EVENT_NAME=\u0026#39;memory/innodb/adaptive hash index\u0026#39; ; MyISAM, MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë¹„êµ MyISAM MySQL 5.5ë¶€í„°ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì±„íƒ ë˜ì—ˆì§€ë§Œ, ì´ì „ê¹Œì§€ëŠ” MyISAMì´ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤.\nMySQL ì„œë²„ì˜ ì‹œìŠ¤í…œ í…Œì´ë¸”ì˜ ê¸°ë³¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ MySQL 8.0 ë¶€í„°ëŠ” MyISAMì´ ê¸°ë³¸ ì„¤ì •ë˜ì—ˆë˜ ì„œë²„ì˜ ì‹œìŠ¤í…œ í…Œì´ë¸”(ì‚¬ìš©ì ì¸ì¦ ê´€ë ¨ ì •ë³´, ë³µì œ ê´€ë ¨ ì •ë³´ê°€ ì €ì¥ëœ mysql DBì˜ í…Œì´ë¸”) ë“± ì„œë²„ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ êµì²´ë˜ì—ˆë‹¤. ì „ë¬¸ ê²€ìƒ‰ ë° ê³µê°„ ì¢Œí‘œ ê²€ìƒ‰ ê¸°ëŠ¥ ì œê³µ. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œë„ ì „ë¬¸ ê²€ìƒ‰ê³¼ ê³µê°„ ì¢Œí‘œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ëª¨ë‘ ì§€ì›í•˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ëŒ€ì²´ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.\nMEMORY MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë©”ëª¨ë¦¬ë¼ëŠ” ì´ë¦„ ë•Œë¬¸ì— ê³¼ëŒ€ í‰ê°€ë¥¼ ë°›ëŠ” ê²½ìš°ê°€ ìˆë‹¤.\në‹¨ì¼ ìŠ¤ë ˆë“œ ì²˜ë¦¬ ì„±ëŠ¥ ë‹¨ì¼ ìŠ¤ë ˆë“œ ì²˜ë¦¬ ì„±ëŠ¥ì€ MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë¹ ë¥¼ ìˆ˜ ìˆìœ¼ë‚˜, MySQL ì„œë²„ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì˜¨ë¼ì¸ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¥¼ ìœ„í•œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤. MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë™ì‹œì— ë§ì€ í´ë¼ì´ì–¸íŠ¸ ì¿¼ë¦¬ ìš”ì²­ì´ ì‹¤í–‰ë˜ëŠ” ìƒí™©ì´ë¼ë©´ í…Œì´ë¸” ìˆ˜ì¤€ì˜ ì ê¸ˆìœ¼ë¡œ ì¸í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ë”°ë¼ê°ˆ ìˆ˜ ì—†ë‹¤.\nì„ì‹œ í…Œì´ë¸” ìš©ë„ë¡œ í™œìš© MySQL 5.7 ë²„ì „ê¹Œì§€ ë‚´ë¶€ ì„ì‹œ í…Œì´ë¸” ìš©ë„ë¡œ í™œìš©ë˜ì—ˆìœ¼ë‚˜, ê°€ë³€ ê¸¸ì´ íƒ€ì…ì˜ ì»¬ëŸ¼ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë¬¸ì œì ìœ¼ë¡œ MySQL 8.0 ë¶€í„°ëŠ” TempTable ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ëŒ€ì²´ë˜ì–´ ì‚¬ìš©ëœë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ MEMORY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì„ íƒí•´ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ì¥ì ì´ ì—†ì–´ì ¸, í–¥í›„ ë²„ì „ì—ì„œëŠ” ì œê±°ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒëœë‹¤.\n","date":"2023-04-13T12:39:01+09:00","image":"https://codemario318.github.io/post/real_mysql_4_2_3/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql_4_2_3/","title":"4.2 InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜(3)"},{"content":"ë²„í¼í’€ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ í•µì‹¬ìœ¼ë¡œ ë””ìŠ¤í¬ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ ë©”ëª¨ë¦¬ì— ë³´ê´€í•˜ê³ , í•„ìš”í•  ë•Œ ë©”ëª¨ë¦¬ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì™€ ì²˜ë¦¬í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ë˜í•œ ë””ìŠ¤í¬ì™€ ë©”ëª¨ë¦¬ ì‚¬ì´ì—ì„œ ë°ì´í„° ì½ê¸° ë° ì“°ê¸°ë¥¼ ê´€ë¦¬í•˜ì—¬ ë°ì´í„° ë² ì´ìŠ¤ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤.\në””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ì´ë‚˜ ì¸ë±ìŠ¤ ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•´ ë‘ëŠ” ê³µê°„ì´ë‹¤. ì“°ê¸° ì‘ì—…ì„ ì§€ì—°ì‹œì¼œ ì¼ê´„ ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë²„í¼ ì—­í• ë„ ìˆ˜í–‰í•œë‹¤. ì¼ë°˜ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” INSERT, UPDATE, DELETEì²˜ëŸ¼ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì¿¼ë¦¬ëŠ” ë°ì´í„° íŒŒì¼ì˜ í©ì–´ì ¸ìˆëŠ” ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ê¸° ë•Œë¬¸ì— ëœë¤í•œ ë””ìŠ¤í¬ ì‘ì—…ì„ ë°œìƒì‹œí‚¨ë‹¤. ë³€ê²½ì„ ëª¨ì•„ ì²˜ë¦¬í•˜ì—¬ ëœë¤ ë””ìŠ¤í¬ ì ‘ê·¼ ì‘ì—… ìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.\në²„í¼í’€ì˜ í¬ê¸° ì„¤ì • ìš´ì˜ì²´ì œì™€ ê° í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œê°€ ì‚¬ìš©í•  ë©”ëª¨ë¦¬ë„ ì¶©ë¶„íˆ ê³ ë ¤í•˜ì—¬ ì„¤ì •í•œë‹¤. MySQL ì„œë²„ ë‚´ì—ì„œ ë©”ëª¨ë¦¬ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ë¶€ë¶„ì€ í¬ê²Œ ì—†ì§€ë§Œ ì•„ì£¼ ë…íŠ¹í•œ ê²½ìš° ë ˆì½”ë“œ ë²„í¼ê°€ ìƒë‹¹í•œ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.\në ˆì½”ë“œë²„í¼\nê° í´ë¼ì´ì–¸íŠ¸ ì„¸ì…˜ì—ì„œ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ê³  ì“¸ ë•Œ ë²„í¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê³µê°„ìœ¼ë¡œ ì»¤ë„¥ì…˜ì´ ë§ê³  ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ë„ ë§ë‹¤ë©´ ë ˆì½”ë“œ ë²„í¼ ìš©ë„ë¡œ ì‚¬ìš©ë˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì´ ë§ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.\nMySQL ì„œë²„ê°€ ì‚¬ìš©í•˜ëŠ” ë ˆì½”ë“œ ë²„í¼ ê³µê°„ì€ ë³„ë„ë¡œ ì„¤ì •í•  ìˆ˜ ì—†ì–´, ì „ì²´ ì»¤ë„¥ì…˜ ê°œìˆ˜ì™€ ê° ì»¤ë„¥ì…˜ì—ì„œ ì½ê³  ì“°ëŠ” í…Œì´ë¸”ì˜ ê°œìˆ˜ì— ë”°ë¼ ê²°ì •ë˜ê³ , ë™ì ìœ¼ë¡œ í•´ì œë˜ê¸°ë„ í•˜ë¯€ë¡œ ì •í™•íˆ í•„ìš”í•œ ë©”ëª¨ë¦¬ì˜ í¬ê¸°ë¥¼ ê³„ì‚°í•  ìˆ˜ ì—†ë‹¤.\në²„í¼í’€ ë™ì  í¬ê¸° ì¡°ì ˆ MySQL 5.7 ë²„ì „ë¶€í„° InnoDB ë²„í¼í’€ì˜ í¬ê¸°ë¥¼ ë™ì ìœ¼ë¡œ ì¡°ì ˆí•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì–´ ê°€ëŠ¥í•˜ë©´ InnoDB ë²„í¼í’€ì˜ í¬ê¸°ë¥¼ ì ì ˆíˆ ì‘ì€ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ê³  ìƒí™©ì„ ë´ê°€ë©° ì¦ê°€ì‹œí‚¤ëŠ” ë°©ë²•ì´ ìµœì ì´ë‹¤.\ninnodb_buffer_pool_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ í¬ê¸°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©°, ë™ì ìœ¼ë¡œ ë²„í¼í’€ì˜ í¬ê¸°ë¥¼ í™•ì¥í•  ìˆ˜ ìˆë‹¤.\ní¬ë¦¬í‹°ì»¬í•œ ë³€ê²½ì´ë¯€ë¡œ ê°€ëŠ¥í•˜ë©° MySQL ì„œë²„ê°€ í•œê°€í•œ ì‹œì ì„ ê³¨ë¼ ì‹¤í–‰í•œë‹¤. ë²„í¼í’€ì˜ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ì‘ì—…ì€ ì„œë¹„ìŠ¤ ì˜í–¥ë„ê°€ ë§¤ìš° í¬ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤. ë²„í¼í’€ì€ ë‚´ë¶€ì ìœ¼ë¡œ 128MB ì²­í¬ ë‹¨ìœ„ë¡œ ìª¼ê°œì–´ ê´€ë¦¬ë˜ì–´ ì¡°ì ˆëœë‹¤. ë²„í¼í’€ ë‚˜ëˆ„ê¸° InnoDB ë²„í¼í’€ì€ ì •í†µì ìœ¼ë¡œ ë²„í¼í’€ ì „ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ì ê¸ˆ(ì„¸ë§ˆí¬ì–´)ìœ¼ë¡œ ì¸í•´ ë‚´ë¶€ ì ê¸ˆ ê²½í•©ì„ ë§ì´ ìœ ë°œí•´ì™”ëŠ”ë°, ì´ëŸ° ê²½í•¨ì„ ì¤„ì´ê¸° ìœ„í•´ ë²„í¼í’€ì„ ì—¬ëŸ¬ê°œë¡œ ìª¼ê°œì–´ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ê°œì„ ë˜ì—ˆë‹¤.\në²„í¼í’€ì´ ì—¬ëŸ¬ ê°œì˜ ì‘ì€ ë²„í¼í’€ë¡œ ìª¼ê°œì§€ë©´ì„œ ê°œë³„ ë²„í¼í’€ì„ ê´€ë¦¬í•˜ëŠ” ì ê¸ˆ ìì²´ë„ ê²½í•©ì´ ë¶„ì‚°ë˜ëŠ” íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆê²Œ ëœë‹¤.\ninnodb_buffer_pool_instances ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ë²„í¼í’€ì„ ì—¬ëŸ¬ê°œë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.\në²„í¼í’€ êµ¬ì¡° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼í’€ì´ë¼ëŠ” ê±°ëŒ€í•œ ë©”ëª¨ë¦¬ ê³µê°„ì„ í˜ì´ì§€ í¬ê¸°(innodb_page_size ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ)ì˜ ì¡°ê°ìœ¼ë¡œ ìª¼ê°œì–´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë°ì´í„°ë¥¼ í•„ìš”ë¡œ í•  ë•Œ í•´ë‹¹ ë°ì´í„° í˜ì´ì§€ë¥¼ ì½ì–´ì„œ ê° ì¡°ê°ì— ì €ì¥í•œë‹¤.\në²„í¼í’€ì˜ í˜ì´ì§€ ì¡°ê°ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ LRU(least Recently Used) ë¦¬ìŠ¤íŠ¸ì™€, í”ŒëŸ¬ì‹œ(Flush) ë¦¬ìŠ¤íŠ¸, í”„ë¦¬(Free) ë¦¬ìŠ¤íŠ¸ë¼ëŠ” 3ê°œì˜ ìë£Œ êµ¬ì¡°ë¥¼ ê´€ë¦¬í•œë‹¤.\nLRU ë¦¬ìŠ¤íŠ¸: ë””ìŠ¤í¬ë¡œë¶€í„° ì½ì–´ì˜¨ í˜ì´ì§€ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°. ì½ì–´ì˜¨ í˜ì´ì§€ë¥¼ ìµœëŒ€í•œ ì˜¤ë«ë™ì•ˆ ë²„í¼í’€ì˜ ë©”ëª¨ë¦¬ì— ìœ ì§€í•˜ì—¬ ë””ìŠ¤í¬ ì½ê¸°ë¥¼ ìµœì†Œí™” í•œë‹¤.\ní”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸: ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ê°€ì§„ ë°ì´í„° í˜ì´ì§€(ë”í‹° í˜ì´ì§€)ì˜ ë³€ê²½ ì‹œì  ê¸°ì¤€ì˜ í˜ì´ì§€ ëª©ë¡ì„ ê´€ë¦¬í•œë‹¤.\ní”„ë¦¬ë¦¬ìŠ¤íŠ¸: ë²„í¼í’€ì—ì„œ ì‹¤ì œ ì‚¬ìš©ì ë°ì´í„°ë¡œ ì±„ì›Œì§€ì§€ ì•Šì€ ë¹„ì–´ìˆëŠ” í˜ì´ì§€ë“¤ì˜ ëª©ë¡. ì‚¬ìš©ìì˜ ì¿¼ë¦¬ê°€ ìƒˆë¡œë²¡ ë””ìŠ¤í¬ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ì½ì–´ì™€ì•¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©ëœë‹¤.\nLRU ë¦¬ìŠ¤íŠ¸ êµ¬ì¡° LRU ë¦¬ìŠ¤íŠ¸ëŠ”, Old ì„œë¸Œë¦¬ìŠ¤íŠ¸ ì˜ì—­ì€ LRU, New ì„œë¸Œë¦¬ìŠ¤íŠ¸ ì˜ì—­ì€ MRU(Most Recently Used)ê°€ í•©ì³ì§„ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.\nNew ì„œë¸Œë¦¬ìŠ¤íŠ¸ì˜ Tailê³¼ Old ì„œë¸Œë¦¬ìŠ¤íŠ¸ì˜ Headê°€ ë§Œë‚˜ëŠ” ì§€ì ì„ MidPointë¼ í•˜ë©° ë²„í¼í’€ì— ìƒˆë¡œìš´ í˜ì´ì§€ê°€ ë“¤ì–´ì˜¬ ê²½ìš° Old ì„œë¸Œë¦¬ìŠ¤íŠ¸ì˜ Head ë¶€ë¶„ì— ì €ì¥í•œë‹¤.\nNew ì„œë¸Œë¦¬ìŠ¤íŠ¸ì™€ Old ì„œë¸Œë¦¬ìŠ¤íŠ¸ë¡œ ë‚˜ëˆˆ ì´ìœ ëŠ”?\ní•˜ë‚˜ì˜ íë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë¥¼ ê´€ë¦¬í•  ê²½ìš°ì— Head ë˜ëŠ” Tailì— í˜ì´ì§€ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì„ ìƒê°í•´ ë³¼ ìˆ˜ ìˆë‹¤. Headì— ì €ì¥ë  ê²½ìš° ìƒˆë¡œ ê´€ë¦¬ë˜ëŠ” í˜ì´ì§€ê°€ ì‚¬ìš©ë˜ì§€ ì•Šë”ë¼ë„ ì˜¤ëœ ì‹œê°„ë™ì•ˆ ë¦¬ìŠ¤íŠ¸ì— ë‚¨ì•„ ìˆê²Œë˜ê³ , Tailì— ì €ì¥ë ê²½ìš° í•´ë‹¹ í˜ì´ì§€ë¥¼ ì¦‰ì‹œ ì½ì§€ ì•ŠëŠ”ë‹¤ë©´ ë¦¬ìŠ¤íŠ¸ì— ë‚¨ì•„ìˆì§€ ì•Šê²Œ ë˜ì–´ ì˜ë¯¸ê°€ ì—†ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\nì´ë¥¼ ìœ„í•´ ë‘ê°œì˜ ì„œë¸Œë¦¬ìŠ¤íŠ¸ë¡œ ë‚˜ëˆ„ê³ , ê²½í—˜ì ìœ¼ë¡œ ì–»ì€ 5/8 ì§€ì ì„ í™œìš©í•œ ì¤‘ê°„ì  ì‚½ì… ì „ëµì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ë‹¤.\në°ì´í„°ë¥¼ ì°¾ëŠ” ê³¼ì • í•„ìš”í•œ ë ˆì½”ë“œê°€ ì €ì¥ëœ ë°ì´í„° í˜ì´ì§€ê°€ ë²„í¼í’€ì— ìˆëŠ”ì§€ ê²€ì‚¬\nInnoDB ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ í˜ì´ì§€ë¥¼ ê²€ìƒ‰ í•´ë‹¹ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤(B-Tree)ë¥¼ ì´ìš©í•´ ë²„í¼í’€ì—ì„œ í˜ì´ì§€ë¥¼ ê²€ìƒ‰ ë²„í¼í’€ì— ì´ë¯¸ ë°ì´í„° í˜ì´ì§€ê°€ ìˆë‹¤ë©´ í•´ë‹¹ í˜ì´ì§€ì˜ í¬ì¸í„°ë¥¼ MRU ë°©í–¥ìœ¼ë¡œ ìŠ¹ê¸‰ ë””ìŠ¤í¬ì—ì„œ í•„ìš”í•œ ë°ì´í„° í˜ì´ì§€ë¥¼ ë²„í¼í’€ì— ì ì¬í•˜ê³ , ì ì¬ëœ í˜ì´ì§€ì— ëŒ€í•œ í¬ì¸í„°ë¥¼ LRU í—¤ë” ë¶€ë¶„ì— ì¶”ê°€\në²„í¼í’€ì˜ LRU í—¤ë”ì— ì ì¬ëœ ë°ì´í„° í˜ì´ì§€ê°€ ì‹¤ì œë¡œ ì½íˆë©´ MRU í—¤ë” ë¶€ë¶„ìœ¼ë¡œ ì´ë™(Read Aheadì™€ ê°™ì´ ëŒ€ëŸ‰ ì½ê¸°ì˜ ê²½ìš° ë””ìŠ¤í¬ í˜ì´ì§€ê°€ ë²„í¼í’€ë¡œ ì ì¬ëŠ” ë˜ì§€ë§Œ ì‹¤ì œ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šì„ìˆ˜ë„ ìˆìœ¼ë©°, ì´ë ¨ ê²½ìš°ëŠ” MRUë¡œ ì´ë™ë˜ì§€ ì•ŠìŒ)\në²„í¼í’€ì— ìƒì£¼í•˜ëŠ” ë°ì´í„° í˜ì´ì§€ëŠ” ì‚¬ìš©ì ì¿¼ë¦¬ê°€ ì–¼ë§ˆë‚˜ ìµœê·¼ì— ì ‘ê·¼í–ˆì—ˆëŠ”ì§€ì— ë”°ë¼ ë‚˜ì´ê°€ ë¶€ì—¬ë˜ë©°, ë²„í¼í’€ì— ìƒì£¼í•˜ëŠ” ë™ì•ˆ ì¿¼ë¦¬ì—ì„œ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ì˜¤ë˜ëœ í˜ì´ì§€ëŠ” ë²„í¼í’€ì—ì„œ ì œê±°ë¨. ë²„í¼í’€ì˜ í˜ì´ì§€ê°€ ì¿¼ë¦¬ì— ì˜í•´ ì‚¬ìš©ë˜ë©´ ë‚˜ì´ê°€ ì´ˆê¸°íšŒë˜ê³  MRUí—¤ë” ë¶€ë¶„ìœ¼ë¡œ ì˜®ê²¨ì§„ë‹¤.\ní•„ìš”í•œ ë°ì´í„°ê°€ ìì£¼ ì ‘ê·¼ëë‹¤ë©´ í•´ë‹¹ í˜ì´ì§€ì˜ ì¸ë±ìŠ¤ í‚¤ë¥¼ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì— ì¶”ê°€\nì²˜ìŒ í•œë²ˆ ì½íŒ ë°ì´í„° í˜ì´ì§€ê°€ ì´í›„ ìì£¼ ì‚¬ìš©ëœë‹¤ë©´ ë²„í¼í’€ì˜ MRU ì˜ì—­ì—ì„œ ì‚´ì•„ë‚¨ê²Œ ë˜ê³ , ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ìƒˆë¡­ê²Œ ì½íˆëŠ” ë°ì´í„° í˜ì´ì§€ì— ë°€ë ¤ ê²°ê³¼ì ìœ¼ë¡œ ë²„í¼í’€ì—ì„œ ì œê±°ëœë‹¤.\në²„í¼í’€ê³¼ ë¦¬ë‘ ë¡œê·¸ ë²„í¼í’€ì€ ë°ì´í„° ë² ì´ìŠ¤ ì„œë²„ì˜ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ ë°ì´í„° ìºì‹œì™€ ì“°ê¸° ë²„í¼ë§ì´ë¼ëŠ” ë‘ê°€ì§€ ìš©ë„ê°€ ìˆë‹¤. ë”°ë¼ì„œ ë©”ëª¨ë¦¬ê°€ í—ˆìš©í•˜ëŠ” ë§Œí¼ í¬ê²Œ ì„¤ì •í•˜ë©´ ë°ì´í„° ìºì‹œ ê³µê°„ì„ í‚¤ì›Œ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ ë†’í ìˆ˜ ìˆì§€ë§Œ, ì“°ê¸° ë²„í¼ë§ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ì„œëŠ” ë²„í¼í’€ê³¼ ë¦¬ë‘ ë¡œê·¸ì˜ ê´€ê³„ì— ëŒ€í•´ ì´í•´í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\në¦¬ë‘ ë¡œê·¸(Redo Log)ë€? ë¦¬ë‘ ë¡œê·¸ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ëª¨ë“  ë³€ê²½ ë‚´ìš©ì„ ê¸°ë¡í•˜ëŠ” íŒŒì¼ì…‹ì´ë‹¤. ì‹œìŠ¤í…œ ì¥ì• ë‚˜ ì¶©ëŒì´ ë°œìƒí–ˆì„ ë•Œ ë°ì´í„°ì˜ ë‚´êµ¬ì„±ê³¼ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.\në°ì´í„°ë² ì´ìŠ¤ì— ë³€ê²½ ì‚¬í•­ì´ ë°œìƒí•˜ë©´, ë¨¼ì € ì„ ë¡œê¹…(write-ahead logging)í”„ë¡œì„¸ìŠ¤ë¡œ ë¦¬ë‘ ë¡œê·¸ì— ì“°ì—¬ì§€ê³  ë³€ê²½ ë‚´ìš©ì´ ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡ë˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©ëœë‹¤.\në¦¬ë‘ ë¡œê·¸ íŒŒì¼ì€ ì¼ë°˜ì ìœ¼ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ë˜ë©°, MySQLì€ ë³€ê²½ ì‚¬í•­ì„ ìˆœì°¨ì ìœ¼ë¡œ ê¸°ë¡í•œë‹¤. ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì´ ê°€ë“ ì°¨ë©´ MySQLì€ \u0026ldquo;ì²´í¬í¬ì¸íŠ¸(checkpoint)\u0026ldquo;ë¥¼ ìˆ˜í–‰í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ ëª¨ë“  ë”í‹° í˜ì´ì§€(ë²„í¼í’€ì—ì„œ ìˆ˜ì •ëœ í˜ì´ì§€)ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•œ í›„, ë¡œê·¸ íŒŒì¼ì„ ì˜ë¼ë‚´ì–´ ê³µê°„ì„ í™•ë³´í•˜ê²Œ ëœë‹¤.\nMySQLì—ì„œ ë¦¬ë‘ ë¡œê·¸ëŠ” ì›í˜• ë²„í¼ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ë©°, ì±„ì›Œì§€ë©´ ë‹¤ìŒ ë³€ê²½ ì‚¬í•­ì€ ìˆœí™˜ ë°©ì‹ìœ¼ë¡œ ë‹¤ìŒ ì‚¬ìš© ê°€ëŠ¥í•œ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ëœë‹¤. ì´ë¥¼ í†µí•´ ë¦¬ë‘ ë¡œê·¸ì— ë³€ê²½ ì‚¬í•­ì´ ì§€ì†ì ìœ¼ë¡œ ê¸°ë¡ë˜ì–´ ì‹œìŠ¤í…œ ì¶©ëŒì´ë‚˜ ì¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ ë³€ê²½ ì‚¬í•­ì„ ì†ì‹¤í•˜ì§€ ì•Šë„ë¡ ë³´ì¥í•œë‹¤.\në²„í¼í’€ê³¼ ë¦¬ë‘ ë¡œê·¸ì˜ ê´€ê³„ ë²„í¼í’€ì€ ë””ìŠ¤í¬ì—ì„œ ì½ì€ ìƒíƒœë¡œ ì „í˜€ ë³€ê²½ë˜ì§€ ì•Šì€ í´ë¦° í˜ì´ì§€(Clean Page)ì™€ í•¨ê»˜ INSERT, UPDATE, DELETEë¥¼ í†µí•´ ë³€ê²½ëœ ë°ì´í„°ë¥¼ ê°€ì§„ ë”í‹° í˜ì´ì§€(Duty Page)ë¥¼ ê°€ì§€ê³  ìˆë‹¤.\në°ì´í„° ë³€ê²½ì´ ë°œìƒí•˜ë©´ ë¨¼ì € ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡ë˜ê³  ë¦¬ë‘ ë¡œê·¸ëŠ” ë”í‹° í˜ì´ì§€ì™€ ëŒ€ì‘í•˜ê²Œ ëœë‹¤.\në°ì´í„° ë³€ê²½ì´ ë°˜ë³µë˜ë©´ ê²°êµ­ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì„ ê¸°ë¡í•  ìˆ˜ ì—†ê±°ë‚˜ ë²„í¼í’€ ìš©ëŸ‰ì´ ë¶€ì¡±í•´ì§€ëŠ”ë°, ì´ë¥¼ ëŒ€ì‘í•˜ê¸° ìœ„í•´ ì²´í¬í¬ì¸íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì—¬ ëª¨ë“  ë”í‹°í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•œ í›„, ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì„ ì˜ë¼ë‚´ì–´ ê³µê°„ì„ í™•ë³´í•œë‹¤.\nì´ëŸ¬í•œ ë°©ì‹ì´ ë²„í¼í’€ì´ ì“°ê¸° ë²„í¼ì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ê²Œ ë§Œë“¤ê²Œ ë˜ëŠ”ë°, ì´ì— ë”°ë¼ì„œ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°ê°€ ì‘ì„ìˆ˜ë¡ ë²„í¼í’€ì˜ í¬ê¸°ê°€ í¬ë”ë¼ë„ ëŒ€ì‘ë˜ëŠ” ë”í‹° í˜ì´ì§€ê°€ ì ìœ¼ë¯€ë¡œ ë²„í¼ë§ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” íš¨ê³¼ê°€ ì ì–´ì§€ê³ , ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì´ í´ìˆ˜ë¡ ì²´í¬í¬ì¸íŠ¸ë¥¼ í†µí•´ ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ëŠ” ë°ì´í„°ê°€ ë§ì•„ì ¸ ê°‘ìê¸° ë§ì€ ë””ìŠ¤í¬ I/Oë¥¼ ë°œìƒ ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\në”°ë¼ì„œ, ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°ë¥¼ ì ì ˆíˆ ì„ íƒí•´ì•¼í•˜ë©°, ì–´ë µë‹¤ë©´ ë²„í¼í’€ì˜ í¬ê¸°ê°€ 100GB ì´í•˜ì˜ MySQL ì„œë²„ì—ì„œëŠ” ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ ì „ì²´ í¬ê¸°ë¥¼ ëŒ€ëµ 5~10GB ìˆ˜ì¤€ìœ¼ë¡œ ì„ íƒí•˜ê³  í•„ìš”í•  ë•Œë§ˆë‹¤ ì¡°ê¸ˆì”© ëŠ˜ë ¤ê°€ë©° ìµœì ê°’ì„ ì°¾ëŠ” ê²ƒì´ ì¢‹ë‹¤.\në²„í¼í’€ í”ŒëŸ¬ì‹œ(Buffer Pool Flush) ë²„í¼í’€ì—ì„œ ìˆ˜ì •ëœ ë°ì´í„° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ì“°ëŠ” ê³¼ì •ìœ¼ë¡œ MySQL 5.6 ë²„ì „ê¹Œì§€ëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ë”í‹° í˜ì´ì§€ í”ŒëŸ¬ì‹œ ê¸°ëŠ¥ì´ ê¸‰ì‘ìŠ¤ëŸ½ê²Œ ë””ìŠ¤í¬ ê¸°ë¡ì´ í­ì¦í•´ì„œ MySQL ì„œë²„ì˜ ì‚¬ìš©ì ì¿¼ë¦¬ ì²˜ë¦¬ ì„±ëŠ¥ì— ì˜í–¥ì„ ë°›ëŠ” ë“± ê·¸ë‹¤ì§€ ë¶€ë“œëŸ½ê²Œ ì²˜ë¦¬ë˜ì§€ ì•Šì•˜ë‹¤.\nMySQL 5.7 ë²„ì „ì„ ê±°ì³ 8.0 ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ë©´ì„œ ëŒ€ë¶€ë¶„ì˜ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë”í‹° í˜ì´ì§€ í”„ëŸ¬ì‹œì—ì„œ ì˜ˆì „ê³¼ ê°™ì´ í­ì¦ í˜„ìƒì€ ë°œìƒí•˜ì§€ ì•Šì•˜ë‹¤. ë”°ë¼ì„œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë”í‹° í˜ì´ì§€ í”ŒëŸ¬ì‹œ ì„±ëŠ¥ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ê´€ë ¨ ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” ì¡°ì ˆí•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼í’€ì—ì„œ ì•„ì§ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ì§€ ì•Šì€ ë”í‹° í˜ì´ì§€ë“¤ì„ ì„±ëŠ¥ìƒ ì•…ì˜í–¥ ì—†ì´ ë””ìŠ¤í¬ì— ë™ê¸°í™”í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ 2ê°œì˜ í”ŒëŸ¬ì‹œ ê¸°ëŠ¥ì„ ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰í•œë‹¤.\ní”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸(Flush_list) í”ŒëŸ¬ì‹œ LRU ë¦¬ìŠ¤íŠ¸(LRU_list) í”ŒëŸ¬ì‹œ í”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸ í”ŒëŸ¬ì‹œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë¦¬ë‘ ë¡œê·¸ ê³µê°„ì˜ ì¬í™œìš©ì„ ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ ì˜¤ë˜ëœ ë¦¬ë‘ ë¡œê·¸ ì—”íŠ¸ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ê³µê°„ì„ ë¹„ìš´ë‹¤. ì´ë•Œ ì˜¤ë˜ëœ ë¦¬ë‘ ë¡œê·¸ ê³µê°„ì´ ì§€ì›Œì§€ë ¤ë©´ ë°˜ë“œì‹œ InnoDB ë²„í¼í’€ì˜ ë”í‹° í˜ì´ì§€ê°€ ë¨¼ì € ë””ìŠ¤í¬ë¡œ ë™ê¸°í™” ë¼ì•¼ í•œë‹¤.\nì´ë¥¼ ìœ„í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì£¼ê¸°ì ìœ¼ë¡œ í”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸(Flush_list) í”ŒëŸ¬ì‹œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ í”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì˜¤ë˜ì „ì— ë³€ê²½ëœ ë°ì´í„° í˜ì´ì§€ ìˆœì„œëŒ€ë¡œ ë””ìŠ¤í¬ì— ë™ê¸°í™” í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\nì´ë•Œ ì–¸ì œë¶€í„° ì–¼ë§ˆë‚˜ ë§ì€ ë”í‹° í˜ì´ì§€ë¥¼ í•œë²ˆì— ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ëŠëƒì— ë”°ë¼ ì‚¬ìš©ìì˜ ì¿¼ë¦¬ ì²˜ë¦¬ê°€ ì•…ì˜í–¥ì„ ë°›ì§€ ì•Šìœ¼ë©´ì„œ ë¶€ë“œëŸ½ê²Œ ì²˜ë¦¬ëœë‹¤. ë¦¬ë¥¼ ìœ„í•´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì—¬ëŸ¬ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì œê³µí•œë‹¤.\ninnodb_page_cleaners InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë”í‹° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”í•˜ëŠ” ìŠ¤ë ˆë“œë¥¼ í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œ(Cleaner Thread)ë¼ê³  í•˜ê³ , í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.\nì„¤ì •ê°’ì´ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜ë³´ë‹¤ ë§ì€ ê²½ìš° innodb_buffer_pool_instances ì„¤ì •ê°’ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë³€ê²½í•˜ì—¬, í•˜ë‚˜ì˜ í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ì˜ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤.\nì‹œìŠ¤í…œ ë³€ìˆ˜ì˜ ì„¤ì •ê°’ì´ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜ë³´ë‹¤ ì ì€ ê²½ìš° í•˜ë‚˜ì˜ í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œê°€ ì—¬ëŸ¬ ê°œì˜ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ë¯€ë¡œ, innodb_page_cleaners ì„¤ì •ê°’ì€ innodb_buffer_pool_instances ì„¤ì • ê°’ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ninnodb_max_dirty_pages_pct InnoDB ë²„í¼í’€ì€ í´ë¦° í˜ì´ì§€ì™€ ë”í‹° í˜ì´ì§€ë¥¼ í•¨ê»˜ ê°€ì§€ê³  ìˆì–´ ë­ë€ì • ë”í‹° í˜ì´ì§€ë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•  ìˆ˜ ì—†ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì „ì²´ ë²„í¼í’€ì´ ê°€ì§„ í˜ì´ì§€ì˜ 90%ê¹Œì§€ ë”í‹°í˜ì´ì§€ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆëŠ”ë°, innodb_max_dirty_pct ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ë”í‹°í˜ì´ì§€ì˜ ë¹„ìœ¨ì„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ë²„í¼í’€ì´ ë”í‹°í˜ì´ì§€ë¥¼ ë§ì´ ê°€ì§€ê³  ìˆì„ìˆ˜ë¡ ë””ìŠ¤í¬ ì“°ê¸° ì‘ì—…ì„ ë²„í¼ë§í•¨ìœ¼ë¡œì¨ I/O ì‘ì—…ì„ ì¤„ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê¸°ë³¸ê°’ìœ¼ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\ninnodb_max_dirty_pages_pct_lwm InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ innodb_io_capacity ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë”í‹° í˜ì´ì§€ ì“°ê¸°ë¥¼ ì‹¤í–‰í•˜ëŠ”ë°, ë””ìŠ¤í¬ë¡œ ê¸°ë¡ë˜ëŠ” ë”í‹°í˜ì´ì§€ ê°œìˆ˜ë³´ë‹¤ ë” ë§ì€ ë”í‹°í˜ì´ì§€ê°€ ë°œìƒí•˜ë©´ ë²„í¼í’€ì— ë”í‹°í˜ì´ì§€ê°€ ê³„ì† ì¦ê°€í•˜ê²Œ ë˜ê³ , ì§€ì •í•œ ë¹„ìœ¨ì´ ë„˜ì–´ê°€ë©´ ë”í‹°í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ì—¬ ë””ìŠ¤í¬ ì“°ê¸° í­ë°œ(Dist IO Bust) í˜„ìƒì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤.\nì´ëŸ° ë¬¸ì œë¥¼ ì™„í™”í•˜ê¸° ìœ„í•´ innodb_max_dirty_pages_pct_lwm ì‹œìŠ¤í…œ ì„¤ì • ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ì¼ì • ìˆ˜ì¤€ ì´ìƒì˜ ë”í‹°í˜ì´ì§€ê°€ ë°œìƒí•˜ë©´ ì¡°ê¸ˆì”© ë”í‹° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•œë‹¤.\nê¸°ë³¸ê°’ì€ 10% ì •ë„ë¡œ, ë””ìŠ¤í¬ ì“°ê¸°ê°€ ë§ì´ ë°œìƒí•˜ê³  ë”í‹° í˜ì´ì§€ ë¹„ìœ¨ì´ ë‚®ì€ ìƒíƒœë¥¼ ìœ ì§€í•œë‹¤ë©´ ë†’ì€ ê°’ìœ¼ë¡œ ì¡°ì •í•  ìˆ˜ ìˆë‹¤.\ninnodb_io_capacity, innodb_io_capacity_max ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ì–´ëŠì •ë„ì˜ ë””ìŠ¤í¬ IOê°€ ê°€ëŠ¥í•œì§€ ì„¤ì •í•˜ëŠ” ê°’ì´ë‹¤. innodb_io_capacityëŠ” ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œ ë””ìŠ¤í¬ê°€ ì ì ˆíˆ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ì˜ ê°’ì„ ì„¤ì •í•˜ë©°, innodb_io_capacity_maxëŠ” ë””ìŠ¤í¬ê°€ ìµœëŒ€ ì„±ëŠ¥ì„ ë°œíœ˜í•  ë•Œ ì–´ëŠ ì •ë„ IOê°€ ê°€ëŠ¥í•œì§€ë¥¼ ì„¤ì •í•œë‹¤.\nì—¬ê¸°ì„œ ì–¸ê¸‰ë˜ëŠ” IOëŠ” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ìˆ˜í–‰í•˜ëŠ” ë””ìŠ¤í¬ ì‘ì—…ì„ ì˜ë¯¸í•˜ë©°, ëŒ€ë¶€ë¶„ ë”í‹°í˜ì´ì§€ ì“°ê¸°ì´ë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì‚¬ìš©ìì˜ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë””ìŠ¤í¬ë¥¼ ì½ê¸°ë„ í•´ì•¼í•˜ë¯€ë¡œ í•˜ë“œì›¨ì–´ ì„±ëŠ¥ì— ë¬´ì¡°ê±´ ë§ì¶”ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šë‹¤.\ninnodb_adaptive_flushing, innodb_adaptive_flushing_lwm ì–´ëŒ‘í‹°ë¸Œ í”ŒëŸ¬ì‹œë¥¼ í™œì„±í™” í•˜ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼ë¶ˆì˜ ë”í‹° í˜ì´ì§€ ë¹„ìœ¨ì´ë‚˜ innodb_io_capacity, innodb_io_capacity_max ì„¤ì • ê°’ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤.\në”í‹° í˜ì´ì§€ëŠ” ë¦¬ë‘ ë¡œê·¸ì™€ ëŒ€ì‘í•˜ë¯€ë¡œ, ë¦¬ë‘ ë¡œê·¸ê°€ ì–´ëŠì •ë„ ì¦ê°€í•˜ëŠ”ì§€ ë¶„ì„í•˜ì—¬ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì–´ëŒ‘í‹°ë¸Œ í”ŒëŸ¬ì‹œ ì•Œê³ ë¦¬ì¦˜ì€ ë¦¬ë‘ ë¡œê·¸ì˜ ì¦ê°€ ì†ë„ë¥¼ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ ìˆ˜ì¤€ì˜ ë”í‹° í˜ì´ì§€ê°€ ë²„í¼í’€ì— ìœ ì§€ë  ìˆ˜ ìˆë„ë¡ ë””ìŠ¤í¬ ì“°ê¸°ë¥¼ ì‹¤í–‰í•œë‹¤.\ninnodb_adaptive_flushingëŠ” ê¸°ë³¸ê°’ì´ í™œì„±ì´ë©°, innodb_adaptive_flushing_lwmëŠ” ì–´ëŒ‘í‹°ë¸Œ í”ŒëŸ¬ì‹œ ì•Œê³ ë¦¬ì¦˜ í™œì„±ì„ ìœ„í•œ í™œì„± ë¦¬ë‘ ê³µê°„ì˜ í•˜í•œ ë¹„ìœ¨ì„ ì˜ë¯¸í•œë‹¤.\ninnodb_flush_neighbors ë”í‹°í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•  ë•Œ ë””ìŠ¤í¬ì—ì„œ ê·¼ì ‘í•œ í˜ì´ì§€ ì¤‘ ë”í‹°í˜ì´ì§€ê°€ ìˆë‹¤ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ í•¨ê»˜ ë¬¶ì–´ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ í™œì„±í™” í• ì§€ ê²°ì •í•œë‹¤.\nê³¼ê±°ì—ëŠ” HDDì˜ ê²½ìš° IO ë¹„ìš©ì´ ë†’ì•„ ìµœëŒ€í•œ ì¤„ì´ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡Œë‹¤.\në°ì´í„° ì €ì¥ì„ í•˜ë“œë””ìŠ¤í¬ë¡œ í•˜ê³ ìˆë‹¤ë©´ 1, 2 ì •ë„ë¡œ í™œì„±í™” í•˜ê³ , SSDë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ê¸°ë³¸ê°’ì¸ ë¹„í™œì„±ìœ¼ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nLRU ë¦¬ìŠ¤íŠ¸ í”ŒëŸ¬ì‹œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ LRU ë¦¬ìŠ¤íŠ¸ì—ì„œ ì‚¬ìš© ë¹ˆë„ê°€ ë‚®ì€ ë°ì´í„° í˜ì´ì§€ë“¤ì„ ì œê±°í•˜ì—¬ ìƒˆë¡œìš´ í˜ì´ì§€ë“¤ì„ ì½ì–´ì˜¬ ê³µê°„ì„ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ë°, ì´ë¥¼ ìœ„í•´ LRU ë¦¬ìŠ¤íŠ¸ í”ŒëŸ¬ì‹œ í•¨ìˆ˜ê°€ ì‚¬ìš©ëœë‹¤.\në¦¬ìŠ¤íŠ¸ ëë¶€ë¶„ ë¶€í„° ì‹œì‘í•˜ì—¬ ìµœëŒ€ innodb_lru_scan_depth ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ìˆ˜ë§Œí¼ì˜ í˜ì´ì§€ë“¤ì„ ìŠ¤ìº”í•˜ëŠ”ë°, ì´ë•Œ ë”í‹°ì²´ì´ì§€ëŠ” ë””ìŠ¤í¬ì— ë™ê¸°í™”í•˜ê³ , í´ë¦° í˜ì´ì§€ëŠ” ì¦‰ì‹œ í”„ë¦¬ ë¦¬ìŠ¤íŠ¸ë¡œ í˜ì´ì§€ë¥¼ ì˜®ê¸´ë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ ë³„ë¡œ ìµœëŒ€ innodb_lru_scan_depth ê°œìˆ˜ë§Œí¼ ìŠ¤ìº”í•˜ê¸° ë•Œë¬¸ì— ì‹¤ì§ˆì ìœ¼ë¡œ LRU ë¦¬ìŠ¤íŠ¸ì˜ ìŠ¤ìº”ì€ (innodb_buffer_pool_instances * innodb_lru_scan_depth) ìˆ˜ë§Œí¼ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤.\në²„í¼í’€ ìƒíƒœ ë°±ì—… ë° ë³µêµ¬ InnoDB ì„œë²„ì˜ ë²„í¼í’€ì€ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì— ë§¤ìš° ë°€ì ‘í•˜ê²Œ ì—°ê²°ë¼ ìˆë‹¤. ì„œë²„ ì¬ì‹¤í–‰ì‹œ ë²„í¼í’€ì— ì¿¼ë¦¬ë“¤ì´ ì‚¬ìš©í•  ë°ì´í„°ê°€ ì—†ì–´ ì„±ëŠ¥ì´ ë§¤ìš° ë–¨ì–´ì§€ê²Œ ëœë‹¤.\në””ìŠ¤í¬ì˜ ë°ì´í„°ê°€ ë²„í¼í’€ì— ì ì¬ë¼ ìˆëŠ” ìƒíƒœë¥¼ ìœ„ë°ì—…(Warming Up)ì´ë¼ê³  í‘œí˜„í•˜ëŠ”ë°, ì›Œë°ì—… ìƒíƒœì— ë”°ë¼ ëª‡ì‹­ ë°° ì¿¼ë¦¬ ì²˜ë¦¬ì†ë„ ì°¨ì´ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤.\nMySQL 5.5 ë²„ì „ì€ ì¬ì‹¤í–‰ì‹œ ê°•ì œ ì›Œë°ì—…ì„ ìœ„í•´ ì£¼ìš” í…Œì´ë¸”ê³¼ ì¸ë±ìŠ¤ì— ëŒ€í•´ í’€ìŠ¤ìº”ì„ ì‹¤í–‰í•˜ê³  ì„œë¹„ìŠ¤ë¥¼ ì˜¤í”ˆí–ˆì—ˆë‹¤. í•˜ì§€ë§Œ 5.6 ë²„ì „ë¶€í„°ëŠ” ë²„í¼í’€ ë¤í”„ ë° ì ì¬ ê¸°ëŠ¥ì´ ë„ì…ë˜ì–´ MySQL ì„œë²„ ì…§ë‹¤ìš´ ì „ innodb_buffer_pool_dump_now ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ í˜„ì¬ InnoDB ë²„í¼í’€ ìƒíƒœë¥¼ ë°±ì—…í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 /* ë²„í¼í’€ ìƒíƒœ ë°±ì—… */ SET GLOBAL innodb_buffer_pool_dump_now=ON; /* ë°±ì—…ëœ ë²„í¼í’€ ìƒíƒœ ë³µêµ¬ */ SET GLOBAL innodb_buffer_pool_load_now=ON; ë²„í¼í’€ ë°±ì—…ì„ ìˆ˜í–‰í•˜ë©´ ë°ì´í„° ë””ë ‰í„°ë¦¬ì— ib_buffer_poolì´ë¼ëŠ” íŒŒì¼ë¡œ ìƒì„±ë˜ëŠ”ë°, InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë²„í¼í’€ì˜ LRU ë¦¬ìŠ¤íŠ¸ì—ì„œ ì ì¬ëœ ë°ì´í„° í˜ì´ì§€ì˜ ë©”íƒ€ ì •ë³´ë§Œ ê°€ì ¸ì™€ ì €ì¥í•˜ì—¬, ë²„í¼í’€ì´ í¬ë‹¤ê³  í•˜ë”ë¼ë„ ëª‡ì‹­ MB ì´í•˜ë¡œ ì‘ë‹¤.\ní•˜ì§€ë§Œ ë²„í¼í’€ë¡œ ë³µêµ¬í•˜ëŠ” ê³¼ì •ì—ì„œ ê° í…Œì´ë¸”ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì—ì„œ ë‹¤ì‹œ ì½ì–´ì™€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë²„í¼í’€ì˜ í¬ê¸°ì— ë”°ë¼ ë§¤ìš° ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆë‹¤.\n1 SHOW STATUS LIKE \u0026#39;Innodb_buffer_pool_dump_status\u0026#39;\\G InnoDBì˜ ë²„í¼í’€ì„ ë³µêµ¬í•˜ëŠ” ì‘ì—…ì€ ìƒë‹¹íˆ ë§ì€ ë””ìŠ¤í¬ ì½ê¸°ë¥¼ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì—, ë³µêµ¬ì¤‘ ì„œë¹„ìŠ¤ ì¬ê°œí•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ë²„í¼í’€ ì ì¬ ì‘ì—…ì„ ì¤‘ì§€í•˜ë ¤ë©´ innodb_buffer_pool_load_abort ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í†µí•´ ì¤‘ì§€í•˜ì—¬ ì¬ê°œí•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.\n1 SET GLOBAL innodb_buffer_pool_load_abort=ON; ë°±ì—… ë° ë³µêµ¬ ìë™í™” InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ innodb_buffer_pool_dump_at_shutdown, innodb_buffer_pool_load_at_shutdown ì„¤ì •ì„ MySQL ì„¤ì • íŒŒì¼ì— ë„£ìœ¼ë©´ ì„œë²„ê°€ ì…§ë‹¤ìš´ ë˜ê¸° ì§ì „ì— ë²„í¼í’€ì˜ ë°±ì—…ì„ ì‹¤í–‰í•˜ê³ , MySQL ì„œë²„ê°€ ì‹œì‘ë˜ë©´ ìë™ìœ¼ë¡œ ë°±ì—…ëœ ë²„í¼í’€ì˜ ìƒíƒœë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.\në²„í¼í’€ì˜ ì ì¬ ë‚´ìš© í™•ì¸ MySQL 5.6 ë²„ì „ë¶€í„° MySQL ì„œë²„ì˜ information_schema ë°ì´í„°ë² ì´ìŠ¤ì˜ innodb_buffer_page í…Œì´ë¸”ì„ ì´ìš©í•´ InnoDB ë²„í¼í’€ì˜ ë©”ëª¨ë¦¬ì— ì–´ë–¤ í…Œì´ë¸”ì˜ í˜ì´ì§€ë“¤ì´ ì ì¬ë¼ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ ë²„í¼í’€ì´ í° ê²½ìš°ì—ëŠ” í…Œì´ë¸” ì¡°íšŒê°€ ìƒë‹¹íˆ í° ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¤ë©´ì„œ ì„œë¹„ìŠ¤ ì¿¼ë¦¬ê°€ ë§ì´ ëŠë ¤ì§€ëŠ” ë¬¸ì œê°€ ìˆì–´, ì‹¤ì œ ì„œë¹„ìŠ¤ìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” MySQL ì„œë²„ì—ì„œëŠ” ë²„í¼í’€ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ê±°ì˜ ë¶ˆê°€ëŠ¥í–ˆë‹¤.\nMySQL 8.0 ë²„ì „ì—ì„œëŠ” information_schema ë°ì´í„°ë² ì´ìŠ¤ì— innodb_cached_indexes í…Œì´ë¸”ì´ ìƒˆë¡œ ì¶”ê°€ë˜ì–´, í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ë³„ë¡œ ë°ì´í„° í˜ì´ì§€ê°€ ì–¼ë§ˆë‚˜ InnoDB ë²„í¼í’€ì— ì ì¬ë¼ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 SELECT it.name table_name ,ii.name index_name ,ici.n_cached_pages n_cached_pages FROM information_schema.innodb_tables it JOIN information_schema.innodb_indexes ii ON ii.table_id = it.table_id JOIN information_schema.innodb_cached_indexes ici ON ici.index_id = ii.index_id WHERE it.name=CONCAT(\u0026#39;employees\u0026#39;, \u0026#39;/\u0026#39;, \u0026#39;employees\u0026#39;) ; ì•„ì§ MySQL ì„œë²„ëŠ” ê°œë³„ ì¸ë±ìŠ¤ë³„ë¡œ ì „ì²´ í˜ì´ì§€ ê°œìˆ˜ê°€ ëª‡ ê°œì¸ì§€ëŠ” ì‚¬ìš©ìì—ê²Œ ì•Œë ¤ì£¼ì§€ ì•Šê¸° ë•Œë¬¸ì— information_schemaì˜ í…Œì´ë¸”ì„ ì´ìš©í•´ë„ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ë³„ë¡œ í˜ì´ì§€ê°€ InnoDB ë²„í¼í’€ì— ì ì¬ëœ ë¹„ìœ¨ì€ í™•ì¸í•  ìˆ˜ê°€ ì—†ë‹¤.\n","date":"2023-04-12T14:27:41+09:00","image":"https://codemario318.github.io/post/real_mysql_4_2_2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql_4_2_2/","title":"4.2 InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜(2) - InnoDB ë²„í¼í’€"},{"content":"\nInnoDBëŠ” MySQLì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì¤‘ ê±°ì˜ ìœ ì¼í•˜ê²Œ ë ˆì½”ë“œ ê¸°ë°˜ ì ê¸ˆì„ ì œê³µí•˜ë©°, ê·¸ ë•Œë¬¸ì— ë†’ì€ ë™ì‹œì„± ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ê³  ì•ˆì •ì ì´ë©° ì„±ëŠ¥ì´ ë›°ì–´ë‚˜ë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•œ í´ëŸ¬ìŠ¤í„°ë§ InnoDBì˜ ëª¨ë“  í…Œì´ë¸”ì€ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë§ë˜ì–´ ìì¥ëœë‹¤.\ní”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì˜ ìˆœì„œëŒ€ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ë˜ë©°, ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë ˆì½”ë“œì˜ ì£¼ì†Œ ëŒ€ì‹  í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ê°’ì„ ë…¼ë¦¬ì ì¸ ì£¼ì†Œë¡œ ì‚¬ìš©í•œë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ì´ê¸° ë•Œë¬¸ì— í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ì´ìš©í•œ ë ˆì¸ì§€ ìŠ¤ìº”ì€ ìƒë‹¹íˆ ë¹¨ë¦¬ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤. ì¿¼ë¦¬ì˜ ì‹¤í–‰ê³„íšì—ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ë³´ì¡° ì¸ë±ìŠ¤ì— ë¹„í•´ ë¹„ì¤‘ì´ ë†’ê²Œ ì„¤ì •ëœë‹¤. ì™¸ë˜ í‚¤ ì§€ì› ì™¸ë˜ í‚¤ì— ëŒ€í•œ ì§€ì›ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨ì—ì„œ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ MyISAMì´ë‚˜ MEMORY í…Œì´ë¸”ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\nì™¸ë˜ í‚¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ìš´ì˜ì˜ ë¶ˆí¸í•¨ ë•Œë¬¸ì— ì„œë¹„ìŠ¤ìš© ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ìƒì„±í•˜ì§€ ì•ŠëŠ” ê²½ìš°ë„ ìì£¼ ìˆë‹¤. ê·¸ë ‡ë‹¤ í•˜ë”ë¼ë„ ê°œë°œ í™˜ê²½ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” ì¢‹ì€ ê°€ì´ë“œ ì—­í• ì„ í•  ìˆ˜ ìˆë‹¤.\nInnoDBì—ì„œ ì™¸ë˜ í‚¤ëŠ” ë¶€ëª¨ í…Œì´ë¸”ê³¼ ìì‹ í…Œì´ë¸” ëª¨ë‘ í•´ë‹¹ ì¹¼ëŸ¼ì— ì¸ë±ìŠ¤ ìƒì„±ì´ í•„ìš”í•¨ ë³€ê²½ ì‹œì—ëŠ” ë°˜ë“œì‹œ ë¶€ëª¨ í…Œì´ë¸”ì´ë‚˜ ìì‹ í…Œì´ë¸”ì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì²´í¬í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë¯€ë¡œ, ì ê¸ˆì´ ì—¬ëŸ¬ í…Œì´ë¸”ë¡œ ì „íŒŒë¨ ê·¸ë¡œì¸í•œ ë°ë“œë½ì´ ë°œìƒí•  ë•Œê°€ ë§ìœ¼ë¯€ë¡œ ê°œë°œí• ë•Œë„ ì™¸ë˜ í‚¤ì˜ ì¡´ì¬ì— ì£¼ì˜í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ ìˆ˜ë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì ì¬í•˜ê±°ë‚˜ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ë“±ì˜ ê´€ë¦¬ ì‘ì—…ì´ ì‹¤íŒ¨í•  ìˆ˜ ìˆë‹¤. ë¶€ëª¨ í…Œì´ë¸”ê³¼ ìì‹ í…Œì´ë¸”ì˜ ê´€ê³„ë¥¼ ëª…í™•íˆ íŒŒì•…í•´ì„œ ìˆœì„œëŒ€ë¡œ ì‘ì—…í•œë‹¤ë©´ ë¬¸ì œì—†ì´ ì‹¤í–‰ë  ìˆ˜ ìˆì§€ë§Œ ì™¸ë˜í‚¤ê°€ ë³µì¡í•˜ê²Œ ì–½íŒ ê²½ìš°ì—ëŠ” ê°„ë‹¨í•˜ì§€ ì•Šë‹¤.\nforeign_key_checks ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ OFFë¡œ ì„¤ì •í•˜ë©´ ì™¸ë˜í‚¤ ê´€ê³„ì— ëŒ€í•œ ì²´í¬ ì‘ì—…ì„ ì¼ì‹œì ìœ¼ë¡œ ë©ˆì¶œ ìˆ˜ ìˆë‹¤. ì™¸ë˜í‚¤ ì²´í¬ ì‘ì—…ì„ ì¼ì‹œì ìœ¼ë¡œ ë©ˆì¶”ë©´ ëŒ€ëµ ë ˆì½”ë“œ ì ì¬ë‚˜ ì‚­ì œ ë“±ì˜ ì‘ì—…ë„ ë¶€ê°€ì ì¸ ì²´í¬ê°€ í•„ìš” ì—†ê¸° ë•Œë¬¸ì— í›¨ì”¬ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 SET foreign_key_checks=OFF; /* ì‘ì—… ìˆ˜í–‰ ... */ SET foreign_key_checks=ON; ì™¸ë˜í‚¤ ì²´í¬ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ì¤‘ì§€í•œ ìƒíƒœì—ì„œ ì™¸ë˜í‚¤ ê´€ê³„ë¥¼ ê°€ì§„ ë¶€ëª¨ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì‚­ì œí–ˆë‹¤ë©´ ë°˜ë“œì‹œ ìì‹ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë„ ì‚´ì œí•˜ì—¬ ì¼ê´€ì„±ì„ ë§ì¶°ì¤€ í›„ ë‹¤ì‹œ ì™¸ë˜í‚¤ ì²´í¬ ê¸°ëŠ¥ì„ í™œì„±í™” í•´ì•¼ í•œë‹¤.\nforeign_key_checksê°€ ë¹„í™œì„±í™”ë˜ë©´ ì™¸ë˜í‚¤ ê´€ê³„ì˜ ë¶€ëª¨ í…Œì´ë¸”ì— ëŒ€í•œ ì‘ì—…ë„ ë¬´ì‹œí•œë‹¤.(ON DELETE CASCADE, ON UPDATE CASCADE)\nMVCC - Multi Version Concurrency Control ì¼ë°˜ì ìœ¼ë¡œ ë ˆì½”ë“œ ë ˆë²¨ì˜ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” DBMSê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë©°, MVCCì˜ ê°€ì¥ í° ëª©ì ì€ ì ê¸ˆì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¼ê´€ëœ ì½ê¸°ë¥¼ ì œê³µí•˜ëŠ” ë° ìˆë‹¤.\nInnoDBëŠ” ì–¸ë‘ ë¡œê·¸(Undo log)ë¥¼ ì´ìš©í•´ ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤.\në©€í‹° ë²„ì „: í•˜ë‚˜ì˜ ë ˆì½”ë“œì— ëŒ€í•´ ì—¬ëŸ¬ ê°œì˜ ë²„ì „ì´ ë™ì‹œì— ê´€ë¦¬ 1 2 3 4 5 6 7 CREATE TABLE member ( m_id INT NOT NULL, m_name VARCHAR(20) NOT NULL, m_area VARCHAR(100) NOT NULL, PRIMARY KEY (m_id), INDEX ix_area (m_area) ); 1 2 INSERT INTO member (m_id, m_name, m_area) VALUES (12, \u0026#39;í™ê¸¸ë™\u0026#39;, \u0026#39;ì„œìš¸\u0026#39;); COMMIT; 1 UPDATE member SET m_area=\u0026#39;ê²½ê¸°\u0026#39; WHERE m_id=12; UPDATE ë¬¸ì¥ì´ ì‹¤í–‰ë˜ë©´ ì»¤ë°‹ ì‹¤í–‰ ì—¬ë¶€ì™€ ê´€ê³„ ì—†ì´ InnoDBì˜ ë²„í¼í’€ì€ ìƒˆë¡œìš´ ê°’ì¸ â€˜ê²½ê¸°â€™ë¡œ ì—…ë°ì´íŠ¸ ëœë‹¤. ê·¸ë¦¬ê³  ë””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ì—ëŠ” ì²´í¬í¬ì¸íŠ¸ë‚˜ InnoDBì˜ Write ìŠ¤ë ˆë“œì— ì˜í•´ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¼ ìˆì„ ìˆ˜ë„ ìˆê³  ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.(InnoDBê°€ ACIDë¥¼ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œëŠ” InnoDBì˜ ë²„í¼í’€ê³¼ ë°ì´í„° íŒŒì¼ì€ ë™ì¼í•œ ìƒíƒœë¼ê³  ê°€ì •í•´ë„ ë¬´ë°©í•¨)\nì•„ì§ COMMITì´ë‚˜ ROLLBACKì´ ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ë‹¤ìŒ ê°™ì€ ì¿¼ë¦¬ë¡œ ì‘ì—… ì¤‘ì¸ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•œë‹¤ë©´, MySQL ì„œë²„ì˜ ì‹œìŠ¤í…œ ë³€ìˆ˜(transaction_isolation)ì— ì„¤ì •ëœ ê²©ë¦¬ ìˆ˜ì¤€(Isolation level)ì— ë”°ë¼ ë‹¤ë¥´ë‹¤.\nREAD_UNCOMMITED: InnoDB ë²„í¼í’€ì´ í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” ë³€ê²½ëœ ë°ì´í„°ë¥¼ ì½ì–´ì„œ ë°˜í™˜í•œë‹¤. READ_COMMITTED, REPEATABLE_READ, SERIALIZABLE: ì•„ì§ ì»¤ë°‹ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— InnoDB ë²„í¼í’€ì´ë‚˜ ë°ì´í„° íŒŒì¼ì— ìˆëŠ” ë‚´ìš© ëŒ€ì‹  ë³€ê²½ë˜ê¸° ì´ì „ì˜ ë‚´ìš©ì„ ë³´ê´€í•˜ê³  ìˆëŠ” ì–¸ë‘ ì˜ì—­ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. ì´ëŸ¬í•œ ê³¼ì •ì„ DBMSì—ì„œëŠ” MVCCë¼ê³  í‘œí˜„í•œë‹¤. ì¦‰ í•˜ë‚˜ì˜ ë ˆì½”ë“œ(íšŒì›ë²ˆí˜¸ê°€ 12ì¸ ë ˆì½”ë“œ)ì— ëŒ€í•´ 2ê°œì˜ ë²„ì „ì´ ìœ ì§€ë˜ê³ , í•„ìš”ì— ë”°ë¼ ì–´ëŠ ë°ì´í„°ê°€ ë³´ì—¬ì§€ëŠ”ì§€ ì—¬ëŸ¬ ê°€ì§€ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ë‹¤.\níŠ¸ëœì­ì…˜ì´ ê¸¸ì–´ì§€ë©´ ì–¸ë‘ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì˜ˆì „ ë°ì´í„°ê°€ ì‚­ì œë˜ì§€ ëª»í•˜ê³  ì˜¤ë«ë™ì•ˆ ê´€ë¦¬ë˜ì–´ì•¼ í•˜ë©°, ìì—°íˆ ì–¸ë‘ ì˜ì—­ì´ ì €ì¥ë˜ëŠ” ì‹œìŠ¤í…œ í…Œì´ë¸” ìŠ¤í˜ì´ìŠ¤ì˜ ê³µê°„ì´ ë§ì´ ëŠ˜ì–´ë‚˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nUPDATE ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ë©´ InnoDB ë²„í¼ í’€ì€ ì¦‰ì‹œ ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ë³€ê²½ë˜ê³  ê¸°ì¡´ ë°ì´í„°ëŠ” ì–¸ë‘ì˜ì—­ìœ¼ë¡œ ë³µì‚¬ëœë‹¤.\nCOMMIT: InnoDBëŠ” ë” ì´ìƒì˜ ë³€ê²½ ì‘ì—… ì—†ì´ ì§€ê¸ˆì˜ ìƒíƒœë¥¼ ì˜êµ¬ì ì¸ ë°ì´í„°ë¡œ ë§Œë“¤ì–´ ë²„ë¦°ë‹¤. ROLLBACK: ì–¸ë‘ ì˜ì—­ì— ìˆëŠ” ë°±ì—…ëœ ë°ì´í„°ë¥¼ InnoDB ë²„í¼ í’€ë¡œ ë‹¤ì‹œ ë³µêµ¬í•˜ê³ , ì–¸ë‘ ì˜ì—­ì˜ ë‚´ìš©ì„ ì‚­ì œí•œë‹¤. ì»¤ë°‹ì´ ëœë‹¤ê³  ì–¸ë‘ ì˜ì—­ì˜ ë°±ì—… ë°ì´í„°ê°€ í•­ìƒ ë°”ë¡œ ì‚­ì œë˜ì§€ëŠ” ì•Šê³ , ì–¸ë‘ ì˜ì—­ì„ í•„ìš”ë¡œ í•˜ëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ì„ë•Œ ì‚­ì œëœë‹¤.\nì ê¸ˆ ì—†ëŠ” ì¼ê´€ëœ ì½ê¸° - Non-Locking Consistent Read InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ MVCC ê¸°ìˆ ì„ ì´ìš©í•´ ê°ê¸ˆì„ ê±¸ì§€ ì•Šê³  ì½ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì ê¸ˆì„ ê±¸ì§€ ì•Šê¸° ë•Œë¬¸ì— InnoDBì—ì„œ ì½ê¸° ì‘ì—…ì€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ê°€ì§€ê³  ìˆëŠ” ì ê¸ˆì„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ , ì½ê¸° ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹¤.\nê²©ë¦¬ìˆ˜ì¤€ì´ SERIALIZABLEì´ ì•„ë‹Œ READ_UNCOMMITEDë‚˜ READ_COMMITED, REPEATEABLE_READ ìˆ˜ì¤€ì¸ ê²½ìš° INSERTì™€ ì—°ê²°ë˜ì§€ ì•Šì€ ìˆœìˆ˜í•œ ì½ê¸°(SELECT) ì‘ì—…ì€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì˜ ë³€ê²½ ì‘ì—…ê³¼ ê´€ê³„ ì—†ì´ í•­ìƒ ì ê¸ˆì„ ëŒ€ê¸°í•˜ì§€ ì•Šê³  ë°”ë¡œ ì‹¤í–‰ëœë‹¤.\níŠ¹ì • ì‚¬ìš©ìê°€ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ê³  ì•„ì§ ì»¤ë°‹ì„ ìˆ˜í–‰í•˜ì§€ ì•Šì•˜ë‹¤ í•˜ë”ë¼ë„ ë³€ê²½ íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ SELECT ì‘ì—…ì„ ë°©í•´í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë¥¼ â€˜ì ê¸ˆ ì—†ëŠ” ì¼ê´€ëœ ì½ê¸°â€™ ë¼ê³  í‘œí˜„í•˜ë©°, InnoDBì—ì„œëŠ” ë³€ê²½ë˜ê¸° ì „ì˜ ë°ì´í„°ë¥¼ ì½ê¸° ìœ„í•´ ì–¸ë‘ ë¡œê·¸ë¥¼ ì‚¬ìš©í•œë‹¤.\nì˜¤ëœ ì‹œê°„ ë™ì•ˆ í™œì„± ìƒíƒœì¸ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì¸í•´ MySQL ì„œë²„ê°€ ëŠë ¤ì§€ê±°ë‚˜ ë¬¸ì œê°€ ë°œìƒí•  ë•Œê°€ ê°€ë” ìˆëŠ”ë°, ì¼ê´€ëœ ì½ê¸°ë¥¼ ìœ„í•´ ì–¸ë‘ ë¡œê·¸ë¥¼ ì‚­ì œí•˜ì§€ ëª»í•˜ê³  ê³„ì† ìœ ì§€í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ë¬¸ì œì´ë‹¤.\në”°ë¼ì„œ íŠ¸ëœì­ì…˜ì´ ì‹œì‘ëë‹¤ë©´ ê°€ëŠ¥í•œ ë¹¨ë¦¬ ë¡¤ë°±ì´ë‚˜ ì»¤ë°‹ì„ í†µí•´ íŠ¸ëœì­ì…˜ì„ ì™„ë£Œí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nìë™ ë°ë“œë½ ê°ì§€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì ê¸ˆì´ êµì°© ìƒíƒœì— ë¹ ì§€ì§€ ì•Šì•˜ëŠ”ì§€ ì²´í¬í•˜ê¸° ìœ„í•´ ì ê¸ˆ ëŒ€ê¸° ëª©ë¡(Wait-for List)ì„ ê·¸ë˜í”„ í˜•íƒœë¡œ ê´€ë¦¬í•œë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œë¥¼ í†µí•´ ì£¼ê¸°ì ìœ¼ë¡œ ì ê¸ˆ ëŒ€ê¸°ë¥¼ ê·¸ë˜í”„ë¥¼ ê²€ì‚¬í•´ êµì°© ìƒíƒœì— ë¹ ì§„ íŠ¸ëœì­ì…˜ë“¤ì„ ì°¾ì•„ì„œ ê·¸ì¤‘ í•˜ë‚˜ë¥¼ ê°•ì œ ì¢…ë£Œí•œë‹¤.\níŠ¸ëœì­ì…˜ì˜ ì–¸ë‘ ë¡œê·¸ì–‘ì´ ì ì€ íŠ¸ëœì­ì…˜ì´ ë¡¤ë°± í•´ë„ ì²˜ë¦¬í•œ ë‚´ìš©ì´ ì ê¸° ë•Œë¬¸ì— ì„ íƒëœë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ìƒìœ„ ë ˆì´ì–´ì¸ MySQL ì—”ì§„ì—ì„œ ê´€ë¦¬ë˜ëŠ” í…Œì´ë¸” ì ê¸ˆ(LOCK TABLES ëª…ë ¹ìœ¼ë¡œ ì ê¸´ í…Œì´ë¸”)ì€ ë³¼ ìˆ˜ê°€ ì—†ì–´ ë°ë“œë½ ê°ì§€ê°€ ë¶ˆí™•ì‹¤ í•  ìˆ˜ ìˆëŠ”ë°, innodb_table_locks ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í™œì„±í™” í•˜ë©´ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë‚´ë¶€ì˜ ë ˆì½”ë“œ ì ê¸ˆë¿ë§Œ ì•„ë‹ˆë¼ í…Œì´ë¸” ë ˆë²¨ì˜ ì ê¸ˆ ê¹Œì§€ ê°ì§€í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\nì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ì—ì„œëŠ” ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œê°€ ë°ë“œë½ì„ ì°¾ì•„ë‚´ëŠ” ì‘ì—…ì€ ë¶€ë‹´ë˜ì§€ ì•Šì§€ë§Œ, ë™ì‹œ ì²˜ë¦¬ ìŠ¤ë ˆë“œê°€ ë§¤ìš° ë§ì•„ì§€ê±°ë‚˜ íŠ¸ëœì­ì…˜ì´ ê°€ì§„ ì ê¸ˆ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œê°€ ëŠë ¤ì§„ë‹¤.\në°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œëŠ” ì ê¸ˆ ëª©ë¡ì„ ê²€ì‚¬í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì ê¸ˆ ìƒíƒœê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ì ê¸ˆ ëª©ë¡ì´ ì €ì¥ëœ ë¦¬ìŠ¤íŠ¸(ì ê¸ˆ í…Œì´ë¸”)ì— ìƒˆë¡œìš´ ì ê¸ˆì„ ê±¸ê³  ë°ë“œë½ ìŠ¤ë ˆë“œë¥¼ ì°¾ê²Œ ë˜ëŠ”ë°, ë°ë“œë½ ê°ì‹œ ìŠ¤ë ˆë“œê°€ ëŠë ¤ì§€ë©´ ì„œë¹„ìŠ¤ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬ì¤‘ì¸ ìŠ¤ë ˆë“œëŠ” ë”ëŠ” ì‘ì—…ì„ ì§„í–‰í•˜ì§€ ëª»í•˜ê³  ëŒ€ê¸°í•˜ë©° ì„œë¹„ìŠ¤ì— ì•…ì˜í•­ì„ ë¯¸ì¹˜ê²Œ ëœë‹¤. ì´ë ‡ê²Œ ë™ì‹œ ì²˜ë¦¬ ìŠ¤ë ˆë“œê°€ ë§¤ìš° ë§ì€ ê²½ìš° ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œëŠ” ë” ë§ì€ CPU ìì›ì„ ì†Œëª¨í•  ìˆ˜ë„ ìˆë‹¤.\ninnodb_deadlock_detect ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œë¥¼ ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤. ì´ëŸ´ ê²½ìš° ë°ë“œë½ ìƒí™© ë°œìƒì‹œ ë¬´í•œì • ëŒ€ê¸°í•  ìˆ˜ë„ ìˆì§€ë§Œ, innodb_lock_wait_timeout ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ í™œì„±í™”í•˜ë©´ ì¼ì • ì‹œê°„ì´ ì§€ë‚¬ì„ ê²½ìš° ìš”ì²­ ì‹¤íŒ¨í•˜ê³  ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\në°ë“œë½ ê°ì‹œ ìŠ¤ë ˆë“œê°€ ë¶€ë‹´ë˜ì–´ innodb_deadlock_detectë¥¼ OFFë¡œ ì„¤ì¥í•´ì„œ ë¹„í™œì„±í™” í•˜ëŠ” ê²½ìš°ì—ëŠ” innodb_lock_time_wait_timeoutì„ ê¸°ë³¸ê°’ì¸ 50ì´ˆë³´ë‹¤ í›¨ì”¬ ë‚®ì€ ì‹œê°„ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.\nìë™í™”ëœ ì¥ì•  ë³µêµ¬ InnoDBì—ëŠ” ì†ì‹¤ì´ë‚˜ ì¥ì• ë¡œ ë¶€í„° ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•œ ì—¬ëŸ¬ê°€ì§€ ë©”ì»¤ë‹ˆì¦˜ì´ íƒ‘ì¬ë¼ìˆë‹¤. ê·¸ëŸ¬í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ì´ìš©í•´ MySQL ì„œë²„ê°€ ì‹œì‘ë  ë•Œ ì™„ë£Œë˜ì§€ ëª»í•œ íŠ¸ëœì­ì…˜ì´ë‚˜ ë””ìŠ¤í¬ì— ì¼ë¶€ë§Œ ê¸°ë¡ëœ(Partial write)ë°ì´í„° í˜ì´ì§€ ë“±ì— ëŒ€í•œ ì¸ë ¨ì˜ ë³µêµ¬ ì‘ì—…ì´ ìë™ìœ¼ë¡œ ì§„í–‰ëœë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë§¤ìš° ê²¬ê³ í•´ì„œ ë°ì´í„° íŒŒì¼ì´ ì†ìƒë˜ê±°ë‚˜ MySQL ì„œë²„ê°€ ì‹œì‘ë˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ëŠ” ê±°ì˜ ë°œìƒí•˜ì§€ ì•Šì§€ë§Œ, ë””ìŠ¤í¬ë‚˜ í•˜ë“œì›¨ì–´ ì´ìŠˆë¡œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ìë™ìœ¼ë¡œ ë³µêµ¬ë¥¼ ëª» í•˜ëŠ” ê²½ìš°ë„ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë°, í•œë²ˆ ë¬¸ì œê°€ ìƒê¸°ë©´ ë³µêµ¬í•˜ê¸° ì‰½ì§€ ì•Šë‹¤.\nInnoDB ë°ì´í„° íŒŒì¼ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ê°€ ì‹œì‘ë  ë•Œ ìë™ ë³µêµ¬ë¥¼ ìˆ˜í–‰í•˜ë©°, ìë™ìœ¼ë¡œ ë³µêµ¬ë  ìˆ˜ ì—†ëŠ” ì†ìƒì´ ìˆë‹¤ë©´ ì„œë²„ê°€ ì¢…ë£Œëœë‹¤.\nì¥ì•  ë³µêµ¬ ëŒ€ì‘ MySQL ì„œë²„ì˜ ì„¤ì • íŒŒì¼ì— innodb_force_recovery ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì—¬ ì‹œì‘í•´ì•¼ í•œë‹¤.\n6: ë¡œê·¸ íŒŒì¼ ì†ìƒ 1: í…Œì´ë¸”ì˜ ë°ì´í„° íŒŒì¼ì´ ì†ìƒ ì–´ë–¤ ë¶€ë¶„ì´ ë¬¸ì œì¸ì§€ ì•Œ ìˆ˜ ì—†ë‹¤ë©´ 1~6ê¹Œì§€ ë³€ê²½í•˜ë©° ì¬ì‹¤í–‰ ì´í›„ ì„œë²„ê°€ ê°€ë™ë˜ê³  InnoDB í…Œì´ë¸”ì´ ì¸ì‹ëœë‹¤ë©´ mysqldumpë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ê°€ëŠ¥í•œ ë§Œí¼ ë°±ì—…í•˜ê³  ê·¸ ë°ì´í„°ë¡œ MySQL ì„œë²„ì˜ DBì™€ í…Œì´ë¸”ì„ ë‹¤ì‹œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nInnoDB_force_recovery ì˜µì…˜ 1(SRV_FORCE_IGNORE_CORRUPT):\ní…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ì˜ ë°ì´í„°ë‚˜ ì¸ë±ìŠ¤ í˜ì´ì§€ì—ì„œ ì†ìƒëœ ë¶€ë¶„ì´ ë°œê²¬ë˜ë„ ë¬´ì‹œí•˜ê³  ì„œë²„ë¥¼ ì‹œì‘í•œë‹¤. \u0026lsquo;Database page corruption on disk or a failed\u0026rsquo; ì¶œë ¥ë˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. mysqldumpë‚˜ SELECT INTO OUTFILE ...ë¥¼ ì´ìš©í•´ ë¤í”„í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì‹œ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 2(SRV_FORCE_NO_BACKGROUND):\në°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ ê°€ìš´ë° ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ì‹œì‘í•˜ì§€ ì•Šê³  MySQL ì„œë²„ë¥¼ ì‹œì‘í•œë‹¤. ë©”ì¸ ìŠ¤ë ˆë“œê°€ ì–¸ë‘ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ê³¼ì •ì—ì„œ ì¥ì• ê°€ ë°œìƒí–ˆì„ë•Œ ì‚¬ìš© 3(SRV_FORCE_NO_TRX_UNDO):\nì¼ë°˜ì ìœ¼ë¡œ MySQL ì„œë²„ëŠ” ì¬ì‹¤í–‰ì‹œ ì–¸ë‘ ì˜ì—­ì˜ ë°ì´í„°ë¥¼ ë¨¼ì € íŒŒì¼ì— ì ìš©í•˜ê³  ë¦¬ë‘ ë¡œê·¸ì˜ ë‚´ìš©ì„ ë‹¤ì‹œ ë®ì–´ì¨ì„œ ì¥ì•  ì‹œì ì˜ ë°ì´í„° ìƒíƒœë¥¼ ë§Œë“¤ì–´ ë‚¸ í›„, ìµœì¢…ì ìœ¼ë¡œ ì»¤ë°‹ë˜ì§€ ì•Šì€ íŠ¸ëœì­ì…˜ì˜ ì‘ì—…ì„ ë¡¤ë°±í•˜ì§€ë§Œ 3ìœ¼ë¡œ ì„¤ì •ì‹œ ë¡¤ë°±í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë‚˜ë‘”ë‹¤. ì»¤ë°‹ë˜ì§€ ì•Šê³  ì¢…ë£Œëœ íŠ¸ëœì­ì…˜ì€ ê³„ì† ê·¸ ìƒíƒœë¡œ ë‚¨ì•„ìˆê²Œ ëœë‹¤. ë°±ì—… í›„ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì‹œ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 4(SRV_FORCE_NO_IBUF_MERGE):\nInnoDBëŠ” INSERT, UPDATE, DELETE ë“±ì˜ ë°ì´í„° ë³€ê²½ìœ¼ë¡œ ì¸í•œ ì¸ë±ìŠ¤ ë³€ê²½ ì‘ì—…ì„ ìƒí™©ì— ë”°ë¼ ì¦‰ì‹œì²˜ë¦¬ í˜¹ì€ ë²„í¼ì— ë‘ê³  ë‚˜ì¤‘ì— ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. ì¸ì„œíŠ¸ ë²„í¼ë¥¼ í†µí•´ ì²˜ë¦¬ê°€ ë  ê²½ìš°, ë¹„ì •ìƒ ì¢…ë£Œì‹œ ë³‘í•© ë ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ì¸ì„œíŠ¸ ë²„í¼ì˜ ì†ìƒì„ ê°ì§€í•˜ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œì¼œ MySQL ì„œë²„ì˜ ì‹¤í–‰ì„ ë§‰ëŠ”ë‹¤. ì¸ì„œíŠ¸ ë²„í¼ì˜ ë‚´ìš©ì„ ë¬´ì‹œí•˜ê³  ê°•ì œë¡œ MySQLì„ ì‹¤í–‰ì‹œí‚¨ë‹¤. ì¸ì„œíŠ¸ ë²„í¼ëŠ” ì‹¤ì œ ë°ì´í„°ì™€ ê´€ë ¨ëœ ë¶€ë¶„ì´ ì•„ë‹ˆë¼, ì¸ë±ìŠ¤ì— ê´€ë ¨ëœ ë¶€ë¶„ì´ë¯€ë¡œ í…Œì´ë¸”ì„ í…€í”„í•œ í›„ ë‹¤ì‹œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ë©´ ë°ì´í„°ì˜ ì†ì‹¤ ì—†ì´ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤. 5(SRV_FORCE_NO_UNDO_LOG_SCAN):\nMySQL ì„œë²„ê°€ ì¢…ë£Œë˜ëŠ” ì‹œì ì— ì²˜ë¦¬ì¤‘ì¸ íŠ¸ëœì­ì…˜ì´ ìˆì„ ê²½ìš° ë³„ë„ì˜ ì²˜ë¦¬ ì—†ì´ ì»¤ë„¥ì…˜ì„ ê°•ì œë¡œ ëŠì–´ë²„ë¦¬ê³  ì¢…ë£Œëœë‹¤. MySQL ì„œë²„ê°€ ì¬ì‹¤í–‰ë˜ë©´ InnoDB ì—”ì§„ì€ ì–¸ë‘ ë ˆì½”ë“œë¥¼ ì´ìš©í•´ ë°ì´í„° í˜ì´ì§€ë¥¼ ë³µêµ¬í•˜ê³  ë¦¬ë‘ ë¡œê·¸ë¥¼ ì ìš©í•´ ì¢…ë£Œ ì‹œì ì˜ ìƒíƒœë¡œ ë§Œë“¤ê³ , ì»¤ë°‹ë˜ì§€ ì•Šì€ íŠ¸ëœì­ì…˜ì—ì„œ ë³€ê²½í•œ ì‘ì—…ì€ ëª¨ë‘ ë¡¤ë°± ì²˜ë¦¬í•œë‹¤. ì´ë•Œ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ì–¸ë‘ ë¡œê·¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ MySQL ì„œë²„ê°€ ì‹¤í–‰ë  ìˆ˜ ì—†ë‹¤. ì–¸ë‘ ë¡œê·¸ë¥¼ ëª¨ë‘ ë¬´ì‹œí•˜ê³  ì‹¤í–‰í•œë‹¤. MySQL ì„œë²„ê°€ ì¢…ë£Œë˜ë˜ ì‹œì ì— ì»¤ë°‹ë˜ì§€ ì•Šì•˜ë˜ ì‘ì—…ë„ ëª¨ë‘ ì»¤ë°‹ëœ ê²ƒì²˜ëŸ¼ ì²˜ë¦¬ë˜ì–´ ì˜ëª»ëœ ë°ì´í„°ê°€ ë‚¨ì„ ìˆ˜ ìˆë‹¤. ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒˆë¡œ êµ¬ì¶•í•´ì•¼í•œë‹¤. 6(SRV_FORCE_NO_LOG_REDO):\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ë¦¬ë‘ ë¡œê·¸ê°€ ì†ìƒë˜ë©´ MySQL ì„œë²„ê°€ ì‹¤í–‰ë˜ì§€ ëª»í•œë‹¤. í•´ë‹¹ ë³µêµ¬ ëª¨ë“œë¡œ ì‹¤í–‰í•˜ë©´ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë¬´ì‹œí•˜ê³  ì„œë²„ê°€ ì‹¤í–‰ëœë‹¤.\níŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ëë‹¤ í•˜ë”ë¼ë„ ë¦¬ë‘ ë¡œê·¸ì—ë§Œ ê¸°ë¡ë˜ê³  ë°ì´í„° íŒŒì¼ì— ê¸°ë¡ë˜ì§€ ì•Šì€ ë°ì´í„°ëŠ” ëª¨ë‘ ë¬´ì‹œë˜ë¯€ë¡œ ë§ˆì§€ë§‰ ì²´í¬ í¬ì¸íŠ¸ì‹œì ì˜ ë°ì´í„°ë§Œ ë‚¨ê²Œ ëœë‹¤. ê¸°ì¡´ InnoDBì˜ ë¦¬ë‘ ë¡œê·¸ëŠ” ëª¨ë‘ ì‚­ì œ ë˜ëŠ” ë°±ì—…í•˜ê³  MySQL ì„œë²„ë¥¼ ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê³  MySQL ì„œë²„ë¥¼ ìƒˆë¡œ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ìœ„ ë°©ë²•ì„ ìˆ˜í–‰í•´ë„ MySQLì„œë²„ê°€ ì‹œì‘ë˜ì§€ ì•Šìœ¼ë©´ ë°±ì—…ì„ ì´ìš©í•´ ë‹¤ì‹œ êµ¬ì¶•í•˜ëŠ” ë°©ë²•ë°–ì— ì—†ë‹¤. ë°±ì—…ì´ ìˆë‹¤ë©´ ë§ˆì§€ë§‰ ë°±ì—…ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì‹œ êµ¬ì¶•í•˜ê³ , ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•´ ìµœëŒ€í•œ ì¥ì•  ì‹œì ê¹Œì§€ì˜ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ë„ ìˆë‹¤.\në§ˆì§€ë§‰ í’€ ë°±ì—… ì‹œì ë¶€í„° ì¥ì•  ì‹œì ê¹Œì§€ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ ìˆë‹¤ë©´ ì´ìš©í•˜ëŠ” ê²ƒì´ ë°ì´í„° ì†ì‹¤ì´ ë” ì ì„ ìˆ˜ ìˆë‹¤.\në°±ì—…ì€ ìˆì§€ë§Œ ë³µì œì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ ì—†ê±°ë‚˜ ì†ì‹¤ë˜ì—ˆë‹¤ë©´, ë§ˆì§€ë§‰ ë°±ì—… ì‹œì ê°€ì§€ë§Œ ë³µêµ¬í•  ìˆ˜ ìˆë‹¤.\n","date":"2023-04-11T19:15:11+09:00","image":"https://codemario318.github.io/post/real_mysql_4_2_1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql_4_2_1/","title":"4.2 InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜(1)"},{"content":"MySQLì˜ ì „ì²´ êµ¬ì¡° MySQL ì„œë²„ëŠ” í¬ê²Œ MySQL ì—”ì§„ê³¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.\nì‚¬ëŒìœ¼ë¡œ ë¹„ìœ í•˜ë©´ MySQL ì—”ì§„ì€ ë¨¸ë¦¬ ì—­í• ì„ ë‹´ë‹´í•˜ê³ , ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì†ê³¼ ë°œì˜ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nMySQL ì—”ì§„ MySQL ì—”ì§„ì€ ìš”ì²­ëœ SQL ë¬¸ì¥ì„ ë¶„ì„í•˜ê±°ë‚˜ ìµœì í™”í•˜ëŠ” ë“± DBMSì˜ ë‘ë‡Œì— í•´ë‹¹í•˜ëŠ” ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.\nì»¤ë„¥ì…˜ í•¸ë“¤ëŸ¬: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì— ë”°ë¼ ìƒˆë¡œìš´ ì—°ê²°ì„ ìƒì„±í•˜ê³  ê´€ë¦¬ SQL íŒŒì„œ ë° ì „ì²˜ë¦¬ê¸°: SQL ì¿¼ë¦¬ë¥¼ ìµœì í™” ë° ì‹¤í–‰í•˜ê¸° ì „ì— êµ¬ë¬¸ ë¶„ì„ ë° ì „ì²˜ë¦¬ë¥¼ ë‹´ë‹¹ ì˜µí‹°ë§ˆì´ì €: ì¿¼ë¦¬ì˜ ìµœì í™” MySQLì€ í‘œì¤€ SQL(ANSI SQL) ë¬¸ë²•ì„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— í‘œì¤€ ë¬¸ë²•ì— ë”°ë¼ ì‘ì„±ëœ ì¿¼ë¦¬ëŠ” íƒ€ DBMSì™€ í˜¸í™˜ë˜ì–´ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì‹¤ì œ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ê±°ë‚˜ ë””ìŠ¤í¬ ìŠ¤í† ë¦¬ì§€ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ëŠ” ì—­í•  ìˆ˜í–‰í•œë‹¤.\nMySQL ì„œë²„ì—ì„œ MySQLì—”ì§„ì€ í•˜ë‚˜ì§€ë§Œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì—¬ëŸ¬ ê°œë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 CREATE TABLE test_table (fd1 INT, fd2 INT) ENGINE=INNODB; ìœ„ì²˜ëŸ¼ í…Œì´ë¸”ì´ ì‚¬ìš©í•  ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì§€ì •í•˜ë©´ í•´ë‹¹ í…Œì´ë¸”ì˜ ëª¨ë“  ì½ê¸° ì‘ì—…ê³¼ ë³€ê²½ ì‘ì—…ì€ ì •ì˜ëœ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ì²˜ë¦¬í•œë‹¤.\nê° ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ í‚¤ ìºì‹œ(MyISAM), ë²„í¼í’€(InnoDB) ê°™ì€ ê¸°ëŠ¥ì„ ë‚´ì¥í•˜ê³  ìˆë‹¤.\ní•¸ë“¤ëŸ¬ API MySQL ì—”ì§„ì˜ ì¿¼ë¦¬ ì‹¤í–‰ê¸°ì—ì„œ ë°ì´í„°ë¥¼ ì“°ê±°ë‚˜ ì½ì–´ì•¼ í•  ë•ŒëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì“°ê¸° ë˜ëŠ” ì½ê¸°ë¥¼ ìš”ì²­í•˜ëŠ”ë°, ì´ëŸ¬í•œ ìš”ì²­ì„ í•¸ë“¤ëŸ¬ ìš”ì²­ì´ë¼ê³  í•˜ë©°, ì‚¬ìš©ë˜ëŠ” APIë¥¼ í•¸ë“¤ëŸ¬ APIë¼ê³  í•œë‹¤.\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë˜í•œ ì´ í•¸ë“¤ëŸ¬ APIë¥¼ ì´ìš©í•´ MySQL ì—”ì§„ê³¼ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ”ë‹¤.\ní•¸ë“¤ëŸ¬ APIë¥¼ í†µí•´ ë°œìƒí•œ ì‘ì—…ì€ ì•„ë˜ ì¿¼ë¦¬ë¡œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.\n1 SHOW GLOBAL STATUS LIKE \u0026#39;Handler%\u0026#39;; MySQL ìŠ¤ë ˆë”© êµ¬ì¡° MySQL ì„œë²„ëŠ” í”„ë¡œì„¸ìŠ¤ ê¸°ë°˜ì´ ì•„ë‹ˆë¼ ìŠ¤ë ˆë“œ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•œë‹¤.\nMySQL ì„œë²„ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ìŠ¤ë ˆë“œ ëª©ë¡ì€ performance_schema ë°ì´í„°ë² ì´ìŠ¤ì— threads í…Œì´ë¸”ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 SELECT thread_id ,name ,type ,processlist_user ,processlist_host FROM performance_schema.threads ORDER BY type,thread_id ; ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ëŠ” MySQL ì„œë²„ì˜ ì„¤ì • ë‚´ìš©ì— ë”°ë¼ ê°€ë³€ì ì¼ ìˆ˜ ìˆë‹¤. ë™ì¼í•œ ìŠ¤ë ˆë“œê°€ 2ê°œ ì´ìƒì”© ë³´ì´ëŠ” ê²ƒì€ MySQL ì„œë²„ì˜ ì„¤ì • ë‚´ìš©ì— ì˜í•´ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì¼ ì‘ì—…ì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²½ìš°ì´ë‹¤.\ní¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ(í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œ) í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œëŠ” í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì´ëŸ¬í•œ ìŠ¤ë ˆë“œëŠ” ì¿¼ë¦¬ ì‹¤í–‰ ì¤‘ì— CPU ë° I/O ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, ì„±ëŠ¥ì— ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.\ní¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œëŠ” ìµœì†Œí•œ MySQL ì„œë²„ì— ì ‘ì†ëœ í´ë¼ì´ì–¸íŠ¸ì˜ ìˆ˜ë§Œí¼ ì¡´ì¬í•˜ë©°, ì£¼ë¡œ ê° í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©ìê°€ ìš”ì²­í•˜ëŠ” ì¿¼ë¦¬ ë¬¸ì¥ì„ ì²˜ë¦¬í•œë‹¤.\ní´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©ìê°€ ì‘ì—…ì„ ë§ˆì¹˜ê³  ì»¤ë„¥ì…˜ì„ ì¢…ë£Œí•˜ë©´, í•´ë‹¹ ì»¤ë„¥ì…˜ì„ ë‹´ë‹¹í•˜ë˜ ìŠ¤ë ˆë“œëŠ” ë‹¤ì‹œ ìŠ¤ë ˆë“œ ìºì‹œë¡œ ëŒì•„ê°„ë‹¤.\nì´ë•Œ ì´ë¯¸ ìŠ¤ë ˆë“œ ìºì‹œì— ì¼ì • ê°œìˆ˜ ì´ìƒì˜ ëŒ€ê¸°ì¤‘ì¸ ìŠ¤ë ˆë“œê°€ ìˆìœ¼ë©´ ìŠ¤ë ˆë“œ ìºì‹œì— ë„£ì§€ ì•Šê³  ìŠ¤ë ˆë“œë¥¼ ì¢…ë£Œì‹œì¼œ ì¼ì • ê°œìˆ˜ì˜ ìŠ¤ë ˆë“œë§Œ ìŠ¤ë ˆë“œ ìºì‹œì— ì¡´ì¬í•˜ê²Œ í•œë‹¤.\nìŠ¤ë ˆë“œ ìºì‹œì— ìœ ì§€í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ìŠ¤ë ˆë“œ ê°œìˆ˜ëŠ” thread_cache_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ì„¤ì •í•œë‹¤.\ní¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œëŠ” ë°ì´í„°ë¥¼ MySQL ë°ì´í„° ë²„í¼ë‚˜ ìºì‹œë¡œ ë¶€í„° ê°€ì ¸ì˜¤ë©°, ë²„í¼ë‚˜ ìºì‹œì— ì—†ëŠ” ê²½ìš° ì§ì ‘ ë””ìŠ¤í¬ì˜ ë°ì´í„°ë‚˜ ì¸ë±ìŠ¤ íŒŒì¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ì–´ì™€ì„œ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.\nMyISAM: ë””ìŠ¤í¬ ì“°ê¸° ì‘ì—…ê¹Œì§€ í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ì²˜ë¦¬ InnoDB: ë°ì´í„° ë²„í¼ë‚˜ ìºì‹œê¹Œì§€ë§Œ í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ì²˜ë¦¬ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ MyISAMì˜ ê²½ìš° í•´ë‹¹ ì‚¬í•­ì´ ë³„ë¡œ ì—†ì§€ë§Œ, InnoDBëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì—¬ëŸ¬ê°€ì§€ ì‘ì—…ì´ ë°±ê·¸ë¼ìš´ë“œë¡œ ì²˜ë¦¬ëœë‹¤.\nì¸ì„œíŠ¸ ë²„í¼(Insert Buffer)ë¥¼ ë³‘í•©í•˜ëŠ” ìŠ¤ë ˆë“œ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ë¡œ ê¸°ë¡í•˜ëŠ” ìŠ¤ë ˆë“œ InnoDB ë²„í¼í’€ì˜ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ëŠ” ìŠ¤ë ˆë“œ ë°ì´í„° ë²„í¼ë¡œ ì½ì–´ ì˜¤ëŠ” ìŠ¤ë ˆë“œ ì ê¸ˆì´ë‚˜ ë°ë“œë½ì„ ëª¨ë‹ˆí„°ë§ í•˜ëŠ” ìŠ¤ë ˆë“œ ëª¨ë‘ ì¤‘ìš”í•œ ì—­í• ì„ ìˆ˜í–‰í•˜ì§€ë§Œ ë¡œê·¸ ìŠ¤ë ˆë“œì™€ ë²„í¼ì˜ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ë¡œ ë‚´ë ¤ì“°ëŠ” ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì“°ê¸° ìŠ¤ë ˆë“œ(Write thread)ê°€ íŠ¹íˆ ì¤‘ìš”í•˜ë‹¤.\nMySQL 5.5 ë²„ì „ë¶€í„° ë°ì´í„° ì“°ê¸° ìŠ¤ë ˆë“œì™€ ë°ì´í„° ì½ê¸° ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ 2ê°œ ì´ìƒ ì§€ì •í•  ìˆ˜ ìˆê²Œ ëìœ¼ë©°, innodb_write_io_thread, innodb_read_io_threads ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.\nInnoDBì—ì„œë„ ë°ì´í„°ë¥¼ ì½ëŠ” ì‘ì—…ì€ ì£¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ì½ê¸° ìŠ¤ë ˆë“œëŠ” ë§ì´ ì„¤ì •í•  í•„ìš”ëŠ” ì—†ì§€ë§Œ, ì“°ê¸° ìŠ¤ë ˆë“œëŠ” ì•„ì£¼ ë§ì€ ì‘ì—…ì„ ë°±ê·¸ë¼ìš´ë“œë¡œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì¼ë°˜ì ì¸ ë‚´ì¥ ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í• ë•ŒëŠ” 2~4 ì •ë„, DAS, SANê³¼ ê°™ì€ ìŠ¤í† ë¦¬ì§€ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë””ìŠ¤í¬ë¥¼ ìµœì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ë§Œí¼ ì¶©ë¶„íˆ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë„ì¤‘ ë°ì´í„°ì˜ ì“°ê¸° ì‘ì—…ì€ ì§€ì—°(ë²„í¼ë§)ë˜ì–´ ì²˜ë¦¬ë  ìˆ˜ ìˆì§€ë§Œ ë°ì´í„°ì˜ ì½ê¸° ì‘ì—…ì€ ì ˆëŒ€ ì§€ì—°ë  ìˆ˜ ì—†ë‹¤. ì¼ë°˜ì ì¸ ìƒìš© DBMSì—ëŠ” ëŒ€ë¶€ë¶„ ì“°ê¸° ì‘ì—…ì„ ë²„í¼ë§í•´ì„œ ì¼ê´„ ì²˜ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤.\nInnoDB: INSERT, UPDATE, DELETE ì¿¼ë¦¬ë¡œ ë°ì´í„°ê°€ ë³€ê²½ë˜ëŠ” ê²½ìš° ë°ì´í„°ê°€ ë””ìŠ¤í¬ì˜ ë°ì´í„° íŒŒì¼ë¡œ ì™„ì „íˆ ì €ì¥ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šì•„ë„ ëœë‹¤. MyISAM: ì‚¬ìš©ì ìŠ¤ë ˆë“œê°€ ì“°ê¸° ì‘ì—…ê¹Œì§€ í•¨ê»˜ ì²˜ë¦¬í•˜ë„ë¡ ì„¤ê³„ë˜ì–´, ì¼ë°˜ì ì¸ ì¿¼ë¦¬ëŠ” ì“°ê¸° ë²„í¼ë§ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë©”ëª¨ë¦¬ í• ë‹¹ ë° ì‚¬ìš© êµ¬ì¡° ê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ê³¼ ë¡œì»¬ ë©”ëª¨ë¦¬ ì˜ì—­ìœ¼ë¡œ êµ¬ë¶„ë˜ë©°, ì„œë²„ ë‚´ì— ì¡´ì¬í•˜ëŠ” ë§ì€ ìŠ¤ë ˆë“œê°€ ê³µìœ í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê³µê°„ì¸ì§€ ì—¬ë¶€ì— ë”°ë¼ êµ¬ë¶„ëœë‹¤.\nê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ ì¼ë°˜ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œì˜ ìˆ˜ì™€ ë¬´ê´€í•˜ê²Œ í•˜ë‚˜ì˜ ë©”ëª¨ë¦¬ ê³µê°„ë§Œ í• ë‹¹ëœë‹¤. í•„ìš”ì— ë”°ë¼ 2ê°œ ì´ìƒì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ í• ë‹¹ë°›ì„ ìˆ˜ë„ ìˆì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì˜ ìŠ¤ë ˆë“œ ìˆ˜ì™€ ë¬´ê´€í•˜ë©°, ìƒì„±ëœ ê¸€ë¡œë²Œ ì˜ì—­ì´ Nê°œë¼ í•˜ë”ë¼ë„ ëª¨ë“  ìŠ¤ë ˆë“œì— ì˜í•´ ê³µìœ ëœë‹¤.\ní…Œì´ë¸” ìºì‹œ InnoDB ë²„í¼í’€ InnoDB ì–´ëŒ‘í‹°ë“œ í•´ì‹œ ì¸ë±ìŠ¤ InnoDB ë¦¬ë‘ ë¡œê·¸ ë²„í¼ ë“±ì´ ëŒ€í‘œì ì¸ ê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ì´ë‹¤.\në¡œì»¬ ë©”ëª¨ë¦¬ ì˜ì—­ ì„¸ì…˜ ë©”ëª¨ë¦¬ ì˜ì—­ì´ë¼ê³ ë„ í‘œí˜„í•˜ë©°, MySQL ì„œë²„ìƒì— ì¡´ì¬í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œê°€ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ ì˜ì—­ì´ë‹¤.\nì •ë ¬ ë²„í¼ ì¡°ì¸ ë²„í¼ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ ìºì‹œ ë„¤íŠ¸ì›Œí¬ ë²„í¼ MySQL ì„œë²„ì— í´ë¼ì´ì–¸íŠ¸ê°€ ì ‘ì†í•˜ë©´, í´ë¼ì´ì–¸íŠ¸ ì»¤ë„¥ì…˜(ì„¸ì…˜)ìœ¼ë¡œë¶€í„°ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ì”© í• ë‹¹í•˜ê²Œ ë˜ëŠ”ë°, í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œê°€ ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì´ë¼ê³  í•´ì„œ í´ë¼ì´ì–¸íŠ¸ ë©”ëª¨ë¦¬ ì˜ì—­ì´ë¼ê³ ë„ í•œë‹¤.\në¡œì»¬ ë©”ëª¨ë¦¬ëŠ” ê° í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ í• ë‹¹ë˜ë©° ì ˆëŒ€ ê³µìœ ë˜ì–´ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.\nì¼ë°˜ì ìœ¼ë¡œ ê¸€ë¡œë²Œ ë©”ëª¨ë¦¬ ì˜ì—­ì˜ í¬ê¸°ëŠ” ì£¼ì˜í•´ì„œ ì„¤ì •í•˜ì§€ë§Œ ì†ŒíŠ¸ ë²„í¼ì™€ ê°™ì€ ì˜¤ì»¬ ë©”ëª¨ë¦¬ ì˜ì—­ì€ í¬ê²Œ ì‹ ê²½ ì“°ì§€ ì•Šê³  ì„¤ì •í•˜ëŠ”ë°, ìµœì•…ì˜ ê²½ìš° MySQL ì„œë²„ê°€ ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ë©ˆì¶° ë²„ë¦´ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ ì ì ˆí•œ ë©”ëª¨ë¦¬ ê³µê°„ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.\nì»¤ë„¥ì…˜ì´ ì—´ëŸ¬ìˆëŠ” ë™ì•ˆ ê³„ì† í• ë‹¹ëœ ìƒíƒœë¡œ ë‚¨ì•„ìˆëŠ” ê²½ìš°: ì»¤ë„¥ì…˜ ë²„í¼, ê²°ê³¼ ë²„í¼ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆœê°„ì—ë§Œ í• ë‹¹: ì†ŒíŠ¸ ë²„í¼, ì¡°ì¸ ë²„í¼ í”ŒëŸ¬ê·¸ì¸ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ëª¨ë¸ MySQLì˜ ë…íŠ¹í•œ êµ¬ì¡° ì¤‘ ëŒ€í‘œì ì¸ ì¤‘ í•˜ë‚˜ê°€ í”ŒëŸ¬ê·¸ì¸ ëª¨ë¸ì´ë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ ê²€ìƒ‰ ì—”ì§„ì„ ìœ„í•œ ê²€ìƒ‰ì–´ íŒŒì„œ ì‚¬ìš©ìì˜ ì¸ì¦ì„ ìœ„í•œ Native Authentication, Caching SHA-2 Authentication ë“± MySQLì€ ì´ë¯¸ ê¸°ë³¸ì ìœ¼ë¡œ ë§ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ê°€ì§€ê³  ìˆì§€ë§Œ, í•„ìš”ì— ì˜í•´ ì§ì ‘ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ë§Œë“œëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.\nMySQLì—ì„œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì •ì„ ë³´ë©´ ëŒ€ë¶€ë¶„ ì‘ì—…ì´ MySQLì—”ì§„ì—ì„œ ì²˜ë¦¬ë˜ê³ , ë§ˆì§€ë§‰ ë°ì´í„° ì½ê¸°, ì“°ê¸° ì‘ì—…ë§Œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ì˜í•´ ì²˜ë¦¬í•œë‹¤.\nGROUP BY, ORDER BY ë“± ë³µì¡í•œ ì²˜ë¦¬ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì˜ì—­ì´ ì•„ë‹ˆë¼ MySQL ì—”ì§„ì˜ ì²˜ë¦¬ ì˜ì—­ì¸ ì¿¼ë¦¬ ì‹¤í–‰ê¸°ì—ì„œ ì²˜ë¦¬ëœë‹¤.\nìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ë”°ë¼ ë°ì´í„° ì½ê¸°/ì“°ê¸° ì‘ì—… ì²˜ë¦¬ ë°©ì‹ì´ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.\ní•˜ë‚˜ì˜ ì¿¼ë¦¬ ì‘ì—…ì€ ì—¬ëŸ¬ í•˜ìœ„ ì‘ì—…ìœ¼ë¡œ ë‚˜ë‰˜ëŠ”ë°, ê° í•˜ìœ„ ì‘ì—…ì´ MySQL ì—”ì§„ ì˜ì—­ì—ì„œ ì²˜ë¦¬ë˜ëŠ”ì§€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì˜ì—­ì—ì„œ ì²˜ë¦¬ë˜ëŠ”ì§€ êµ¬ë¶„í•  ì¤„ ì•Œì•„ì•¼ í•œë‹¤.\n1 2 /* ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì¡°íšŒ */ SHOW ENGINES; ì„œë²„ì— í¬í•¨ë˜ì§€ ì•Šì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ë ¤ë©´ MySQL ì„œë²„ë¥¼ ë‹¤ì‹œ ë¹Œë“œí•´ì•¼ í•œë‹¤. ì¤€ë¹„ë§Œ ë˜ì–´ìˆë‹¤ë©´ í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ë¹Œë“œëœ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë‹¤ìš´ë¡œë“œí•´ì„œ ë¼ì›Œë„£ê¸°ë§Œ í•˜ë©´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 /* í”ŒëŸ¬ê·¸ì¸ ì¡°íšŒ */ SHOW PLUGINS; ì»´í¬ë„ŒíŠ¸ í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ì´ ìˆë‹¤.\nì˜¤ì§ MySQL ì„œë²„ì™€ ì¸í…Œí˜ì´ìŠ¤í•  ìˆ˜ ìˆê³ , í”ŒëŸ¬ê·¸ì¸ë¼ë¦¬ëŠ” í†µì‹ í•  ìˆ˜ ì—†ìŒ MySQL ì„œë²„ì˜ ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì— ì•ˆì „í•˜ì§€ ì•ŠìŒ(ìº¡ìŠí™” ì•ˆë¨) í”ŒëŸ¬ê·¸ì¸ì€ ìƒí˜¸ ì˜ì¡´ ê´€ê³„ë¥¼ ì„¤ì •í•  ìˆ˜ ì—†ì–´ ì´ˆê¸°í™”ê°€ ì–´ë ¤ì›€ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ MySQL 8.0 ë¶€í„°ëŠ” ê¸°ì¡´ì˜ í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜ë¥¼ ëŒ€ì²´í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ê°€ ì§€ì›ëœë‹¤.\nì˜ˆë¥¼ ë“¤ë©´, MySQL 5.7 ë²„ì „ê¹Œì§€ëŠ” ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ê¸°ëŠ¥ì´ í”ŒëŸ¬ê·¸ì¸ í˜•íƒœë¡œ ì œê³µëì§€ë§Œ MySQL8.0ì˜ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ê¸°ëŠ¥ì€ ì»´í¬ë„ŒíŠ¸ë¡œ ê°œì„ ëë‹¤.\n1 2 3 4 5 /* validate_password ì„¤ì¹˜ */ INSTALL COMPONENT \u0026#39;file://component_validate_password\u0026#39;; /* ì„¤ì¹˜ëœ ì»´í¬ë„ŒíŠ¸ í™•ì¸ */ SELECT * FROM mysql.component; ì¿¼ë¦¬ ì‹¤í–‰ êµ¬ì¡° ì¿¼ë¦¬ íŒŒì„œ ì¿¼ë¦¬ íŒŒì„œëŠ” ì‚¬ìš©ì ìš”ì²­ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì¿¼ë¦¬ ë¬¸ì¥ì„ í† í°(MySQLì´ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ìµœì†Œ ë‹¨ìœ„ì˜ ì–´íœ˜ë‚˜ ê¸°í˜¸)ìœ¼ë¡œ ë¶„ë¦¬í•´ íŠ¸ë¦¬ í˜•íƒœì˜ êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ ë‚´ëŠ” ì‘ì—…ì„ ì˜ë¯¸í•œë‹¤.\nì¿¼ë¦¬ ë¬¸ì¥ì˜ ê¸°ë³¸ ë¬¸ë²• ì˜¤ë¥˜ëŠ” ì´ ê³¼ì •ì—ì„œ ë°œê²¬ë˜ê³  ì‚¬ìš©ìì—ê²Œ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ê²Œ ëœë‹¤. ì „ì²˜ë¦¬ê¸° íŒŒì„œ ê³¼ì •ì—ì„œ ë§Œë“¤ì–´ì§„ íŒŒì„œ íŠ¸ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¿¼ë¦¬ ë¬¸ì¥ì— êµ¬ì¡°ì ì¸ ë¬¸ì œì ì´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.\nê° í† í°ì„ í…Œì´ë¸” ì´ë¦„ì´ë‚˜ ì»¬ëŸ¼ ì´ë¦„, ë˜ëŠ” ë‚´ì¥ í•¨ìˆ˜ì™€ ê°™ì€ ê°œì²´ë¥¼ ë§¤í•‘í•´ í•´ë‹¹ ê°ì²´ì˜ ì¡´ì¬ ì—¬ë¶€ì™€ ê°ì²´ì˜ ì ‘ê·¼ ê¶Œí•œ ë“±ì„ í™•ì¸í•˜ëŠ” ê³¼ì •ì„ ìˆ˜í–‰í•œë‹¤.\nì‹¤ì œ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ê¶Œí•œìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê°œì²´ì˜ í† í°(ì»¬ëŸ¼, ë‚´ì¥ í•¨ìˆ˜)ì€ ì´ ë‹¨ê³„ì—ì„œ ê±¸ëŸ¬ì§„ë‹¤. ì˜µí‹°ë§ˆì´ì € ì‚¬ìš©ìì˜ ìš”ì²­ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì¿¼ë¦¬ ë¬¸ì¥ì„ ì €ë ´í•œ ë¹„ìš©ìœ¼ë¡œ ê°€ì¥ ë¹ ë¥´ê²Œ ì²˜ë¦¬í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\nDBMSì˜ ë‘ë‡Œì— ë¹„ìœ ë˜ë©°, ì˜µí‹°ë§ˆì´ì €ê°€ ë” ë‚˜ì€ ì„ íƒì„ í•˜ë„ë¡ ìœ ë„í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.\nì‹¤í–‰ ì—”ì§„ ì˜µí‹°ë§ˆì´ì €ê°€ ë‘ë‡Œë¼ë©´ ì‹¤í–‰ ì—”ì§„ê³¼ í•¸ë“¤ëŸ¬ëŠ” ì†ê³¼ ë°œì— ë¹„ìœ í•  ìˆ˜ ìˆë‹¤.\nì˜µí‹°ë§ˆì´ì €ê°€ GROUP BYë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆë‹¤ë©´ ì•„ë˜ ê³¼ì •ì„ ê±°ì¹  ìˆ˜ ìˆë‹¤.\nì‹¤í–‰ ì—”ì§„ì´ í•¸ë“¤ëŸ¬ì—ê²Œ ì„ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ë¼ê³  ìš”ì²­ ì‹¤í–‰ ì—”ì§„ì€ WHERE ì ˆì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì½ì–´ì˜¤ë¼ê³  í•¸ë“¤ëŸ¬ì—ê²Œ ìš”ì²­ ì½ì–´ì˜¨ ë ˆì½”ë“œë“¤ì„ 1ë²ˆì—ì„œ ì¤€ë¹„í•œ ì„ì‹œ í…Œì´ë¸”ë¡œ ì €ì¥í•˜ë¼ê³  í•¸ë“¤ëŸ¬ì—ê²Œ ìš”ì²­ ë°ì´í„°ê°€ ì¤€ë¹„ëœ ì„ì‹œ í…Œì´ë¸”ì—ì„œ í•„ìš”í•œ ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì½ì–´ ì˜¤ë¼ê³  í•¸ë“¤ëŸ¬ì—ê²Œ ìš”ì²­ ê²°ê³¼ë¥¼ ì‚¬ìš©ìë‚˜ ë‹¤ë¥¸ ëª¨ë“ˆë¡œ ë„˜ê¹€ ì¦‰, ë§Œë“¤ì–´ì§„ ê³„íšëŒ€ë¡œ ê° í•¸ë“¤ëŸ¬ì—ê²Œ ìš”ì²­í•´ì„œ ë°›ì€ ê²°ê³¼ë¥¼ ë˜ ë‹¤ë¥¸ í•¸ë“¤ëŸ¬ ìš”ì²­ì˜ ì…ë ¥ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.\ní•¸ë“¤ëŸ¬(ìŠ¤í† ë¦¬ì§€ ì—”ì§„) MySQL ì„œë²„ì˜ ê°€ì¥ ë°‘ë‹¨ì—ì„œ ì‹¤í–‰ ì—”ì§„ì˜ ìš”ì²­ì— ë”°ë¼ ë°ì´í„°ë¥¼ ë””ìŠ¤í¬ë¡œ ì €ì¥í•˜ê³  ë””ìŠ¤í¬ë¡œë¶€í„° ì½ì–´ ì˜¤ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.\ní•¸ë“¤ëŸ¬ëŠ” ê²°êµ­ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì˜ë¯¸í•˜ë©°, MyISAM í…Œì´ë¸”ì„ ì¡°ì‘í•˜ëŠ” ê²½ìš° í•¸ë“¤ëŸ¬ê°€ MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë˜ê³ , InnoDB í…Œì´ë¸”ì„ ì¡°ì‘í•˜ëŠ” ê²½ìš° InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ëœë‹¤.\në³µì œ MySQL ì„œë²„ì—ì„œ ë³µì œ(Replication)ëŠ” ë§¤ìš° ì¤‘ìš”í•œ ì—­í• ì„ ë‹´ë‹¹í•˜ë©°, ì§€ê¸ˆê¹Œì§€ MySQL ì„œë²„ì—ì„œ ë³µì œëŠ” ë§ì€ ë°œì „ì„ ê±°ë“­í•´ì™”ë‹¤.(16ì¥)\nì¿¼ë¦¬ ìºì‹œ ì¿¼ë¦¬ ìºì‹œëŠ” ë¹ ë¥¸ ì‘ë‹µì„ í•„ìš”ë¡œ í•˜ëŠ” ì›¹ ê¸°ë°˜ì˜ ì‘ìš© í”„ë¡œê·¸ë¨ì—ì„œ ë§¤ìš° ì¤‘ìš”í•œ ì—­í• ì„ ë‹´ë‹¹í–ˆë‹¤. ì¿¼ë¦¬ ìºì‹œëŠ” SQLì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•˜ê³ , ë™ì¼ SQL ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ë©´ í…Œì´ë¸”ì„ ì½ì§€ ì•Šê³  ì¦‰ì‹œ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ë§¤ìš° ë¹ ë¥¸ ì„±ëŠ¥ì„ ë³´ì˜€ë‹¤.\ní•˜ì§€ë§Œ ì¿¼ë¦¬ ìºì‹œëŠ” í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ë³€ê²½ë˜ë©´ ìºì‹œì— ì €ì¥ëœ ê²°ê³¼ ì¤‘ì—ì„œ ë³€ê²½ëœ í…Œì´ë¸”ê³¼ ê´€ë ¨ëœ í…Œì´ë¸”ê³¼ ê´€ë ¨ëœ ê²ƒë“¤ì€ ëª¨ë‘ ì‚­ì œ(Invalidate)í•´ì•¼ í•˜ë¯€ë¡œ, ì‹¬ê°í•œ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ ì €í•˜ë¥¼ ìœ ë°œí•œë‹¤. ë˜í•œ MySQL ì„œë²„ê°€ ë°œì „í•˜ë©´ì„œ ì„±ëŠ¥ì´ ê°œì„ ë˜ëŠ” ê³¼ì •ì—ì„œ ì¿¼ë¦¬ ìºì‹œëŠ” ê³„ì†ëœ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ ì €í•˜ì™€ ë§ì€ ë²„ê·¸ì˜ ì›ì¸ì´ ë˜ê¸°ë„ í–ˆë‹¤.\në‹¤ìˆ˜ì˜ í´ë¼ì´ì–¸íŠ¸ê°€ ë™ì‹œì— ê°™ì€ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ì¿¼ë¦¬ ìºì‹œ ë½(query cache lock)ì´ ë°œìƒ ê°€ëŠ¥í•˜ë‹¤. ì´ëŠ” ì¿¼ë¦¬ ìºì‹œì— ìƒˆë¡œìš´ ê²°ê³¼ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ê¸°ì¡´ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë½(lock)ìœ¼ë¡œ, ë™ì‹œ ì²˜ë¦¬ê°€ ë§ì€ ì‹œìŠ¤í…œì—ì„œëŠ” ì¿¼ë¦¬ ìºì‹œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ë” ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì¼ ìˆ˜ ìˆë‹¤.\nMySQL 5.6 ì´í•˜ ë²„ì „ì—ì„œëŠ” ì¿¼ë¦¬ ìºì‹œê°€ InnoDB ë˜ëŠ” NDB Cluster ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ ë™ì‘í•˜ëŠ”ë° MyISAM ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë„ ì¿¼ë¦¬ ìºì‹œë¥¼ ì¼œë©´ ì¿¼ë¦¬ ê²°ê³¼ê°€ ë¬´í•œì • ìºì‹œë  ìˆ˜ ìˆëŠ” ë²„ê·¸ê°€ ìˆì—ˆë‹¤. ì´ëŸ¬í•œ ë²„ê·¸ëŠ” ì‹œìŠ¤í…œì˜ ë¶€í•˜ë¥¼ ë†’ì¼ ë¿ë§Œ ì•„ë‹ˆë¼, ìºì‹œ ë©”ëª¨ë¦¬ì˜ ê³µê°„ì„ ì°¨ì§€í•´ ë‹¤ë¥¸ ì¿¼ë¦¬ì˜ ì‹¤í–‰ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\nì´ëŸ¬í•œ ì´ìœ ë¡œ MySQL 8.0ìœ¼ë¡œ ì˜¬ë¼ì˜¤ë©´ì„œ ì™„ì „íˆ ì œê±°ë˜ê³ , ê´€ë ¨ ì‹œìŠ¤í…œ ë³€ìˆ˜ë„ ëª¨ë‘ ì œê±°ë˜ì—ˆë‹¤.\nìŠ¤ë ˆë“œ í’€ MySQL ì„œë²„ ì—”í„°í”„ë¼ì´ì¦ˆ ì—ë””ì…˜ì€ ìŠ¤ë ˆë“œí’€ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ë§Œ ì»¤ë®¤ë‹ˆí‹° ì—ë””ì…˜ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ Percona Server í”ŒëŸ¬ê·¸ì¸ì—ì„œ ì œê³µí•˜ëŠ” ìŠ¤ë ˆë“œí’€ ê¸°ëŠ¥ì„ ì‚´í´ë³¸ë‹¤.\nìŠ¤ë ˆë“œí’€ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ìŠ¤ë ˆë“œ ê°œìˆ˜ë¥¼ ì¤„ì—¬ì„œ ë™ì‹œ ì²˜ë¦¬ë˜ëŠ” ìš”ì²­ì´ ë§ë‹¤ í•˜ë”ë¼ë„ MySQL ì„œë²„ì˜ CPUê°€ ì œí•œëœ ê°œìˆ˜ì˜ ìŠ¤ë ˆë“œ ì²˜ë¦¬ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ í•˜ì—¬ ì„œë²„ì˜ ìì› ì†Œëª¨ë¥¼ ì¤„ì´ëŠ”ê²ƒì´ ëª©ì ì´ë‹¤.\ní•˜ì§€ë§Œ ìŠ¤ë ˆë“œí’€ì´ ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ëˆˆì—ë„ëŠ” ì„±ëŠ¥ í–¥ìƒì„ ë³´ì—¬ì¤€ ê²½ìš°ëŠ” ë“œë¬¼ë‹¤.\nì‹¤í–‰ ì¤‘ì¸ ìŠ¤ë ˆë“œë“¤ì„ CPUê°€ ìµœëŒ€í•œ ì˜ ì²˜ë¦¬í•´ë‚¼ ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ì¤„ì—¬ì„œ ë¹¨ë¦¬ ì²˜ë¦¬í•˜ê²Œ í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¯€ë¡œ ìŠ¤ì¼€ì¤„ë§ ê³¼ì •ì—ì„œ CPU ì‹œê°„ì„ ì œëŒ€ë¡œ í™•ë³´í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° ì¿¼ë¦¬ ì²˜ë¦¬ê°€ ë” ëŠë ¤ì§€ëŠ” ì‚¬ë¡€ë„ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\nì œí•œëœ ìˆ˜ì˜ ìŠ¤ë ˆë“œë§Œìœ¼ë¡œ CPUê°€ ì²˜ë¦¬í•˜ë„ë¡ ì ì ˆíˆ ìœ ë„í•˜ë©´ CPUì˜ í”„ë¡œì„¸ì„œ ì¹œí™”ë„(Processor affinity)ë„ ë†’íˆê³  ë¶ˆí•„ìš”í•œ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹˜ë¥¼ ì¤„ì—¬ ì˜¤ë²„í—¤ë“œë¥¼ ë‚®ì¶œ ìˆ˜ ìˆë‹¤.\nìŠ¤ë ˆë“œ ê·¸ë£¹ ê°œìˆ˜ Percona Serverì˜ ìŠ¤ë ˆë“œ í’€ì€ ê¸°ë³¸ì ìœ¼ë¡œ CPU ì½”ì–´ì˜ ê°œìˆ˜ë§Œí¼ ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ìƒì„±í•˜ë©° ì¼ë°˜ì ìœ¼ë¡œ CPU ì½”ì–´ì˜ ê°œìˆ˜ì™€ ë§ì¶”ëŠ”ê²ƒì´ CPU í”„ë¡œì„¸ì„œ ì¹œí™”ë„ë¥¼ ë†’ì´ëŠ” ë° ì¢‹ë‹¤.\nMySQL ì„œë²„ê°€ ì²˜ë¦¬í•´ì•¼í•  ìš”ì²­ì´ ìƒê¸°ë©´ ìŠ¤ë ˆë“œí’€ë¡œ ì²˜ë¦¬ë¥¼ ì´ê´€í•˜ëŠ”ë°, ì´ë¯¸ ìŠ¤ë ˆë“œí’€ì´ ì²˜ë¦¬ì¤‘ì¸ ì‘ì—…ì´ ìˆëŠ” ê²½ìš° ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°œìˆ˜ë§Œí¼ ì¶”ê°€ë¡œ ë” ë°›ì•„ë“¤ì—¬ì„œ ì²˜ë¦¬í•œë‹¤. ë„ˆë¬´ ë§ìœ¼ë©´ ìŠ¤ì¼€ì¤„ë§í•´ì•¼ í•  ìˆ˜ë ˆë“œê°€ ë§ì•„ì ¸ ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ì‘ë™í•  ìˆ˜ ìˆë‹¤.\níƒ€ì´ë¨¸ ìŠ¤ë ˆë“œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ëª¨ë“  ìŠ¤ë ˆë“œê°€ ì¼ì„ ì²˜ë¦¬í•˜ê³  ìˆë‹¤ë©´ ìŠ¤ë ˆë“œ í’€ì€ í•´ë‹¹ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ìƒˆë¡œìš´ ì‘ì—… ìŠ¤ë ˆë“œë¥¼ ì¶”ê°€í• ì§€, ê¸°ì¡´ ì‘ì—… ìŠ¤ë ˆë“œê°€ ì²˜ë¦¬ë¥¼ ì™„ë£Œí•  ë•Œê°€ì§€ ê¸°ë‹¤ë¦´ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•´ì•¼ í•œë‹¤.\nì£¼ê¸°ì ìœ¼ë¡œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ìƒíƒœë¥¼ ì²´í¬í•´ì„œ thread_pool_stall_limit ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì •ì˜ëœ ì‹œê°„ì— ì‘ì—…ì„ ëë‚´ì§€ ëª»í–ˆë‹¤ë©´ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•´ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì¶”ê°€í•œë‹¤.\nëª¨ë“  ìŠ¤ë ˆë“œ ê·¸ë£¹ì˜ ìŠ¤ë ˆë“œê°€ ì‘ì—…ì„ ìˆ˜í–‰ì¤‘ì´ë¼ë©´ ì‹œìŠ¤í…œ ë³€ìˆ˜ì— ì„¤ì •ëœ ê°œìˆ˜ë¥¼ ë„˜ì–´ì„¤ ìˆ˜ ì—†ì–´ ëŒ€ê¸°í•´ì•¼ í•œë‹¤.\nì‘ë‹µ ì‹œê°„ì´ ì•„ì£¼ ë¯¼ê°í•œ ì„œë¹„ìŠ¤ë¼ë©´ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì ì ˆíˆ ë‚®ì¶° ì„¤ì •í•´ì•¼í•˜ë©°, 0ì— ê°€ê¹Œìš´ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šê³  ì´ëŸ° ê²½ìš°ëŠ” ìŠ¤ë ˆë“œí’€ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆë‹¤.\nìš°ì„ ìˆœìœ„ í ì„ ìˆœìœ„ íì™€ í›„ìˆœìœ„ íë¥¼ ì´ìš©í•´ íŠ¹ì • íŠ¸ëœì­ì…˜ì´ë‚˜ ì¿¼ë¦¬ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ ì œê³µí•œë‹¤. ë¨¼ì € ì‹œì‘ëœ íŠ¸ëœì­ì…˜ ë‚´ì— ì†í•œ SQLì„ ë¹¨ë¦¬ ì²˜ë¦¬í•´ì£¼ë©´ í•´ë‹¹ íŠ¸ëœì­ì…˜ì´ ê°€ì§€ê³  ìˆë˜ ì ê¸ˆì´ ë¹¨ë¦¬ í•´ì œë˜ê³  ì ê¸ˆ ê²½í•©ì„ ë‚®ì¶° ì „ì²´ì ì¸ ì²˜ë¦¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.\níŠ¸ëœì­ì…˜ ì§€ì› ë©”íƒ€ë°ì´í„° ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ í…Œì´ë¸”ì˜ êµ¬ì¡° ì •ë³´ì™€ ìŠ¤í† ì–´ë“œ í”„ë¡œê·¸ë¨ ë“±ì˜ ì •ë³´ë¥¼ ë°ì´í„° ë”•ì…”ë„ˆë¦¬ ë˜ëŠ” ë©”íƒ€ë°ì´í„°ë¼ê³  í•˜ëŠ”ë°, MySQL ì„œë²„ëŠ” 5.7 ë²„ì „ê¹Œì§€ í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ FRM íŒŒì¼ì— ì €ì¥í•˜ê³  ì¼ë¶€ ìŠ¤í† ì–´ë“œ í”„ë¡œê·¸ë¨ ë˜í•œ íŒŒì¼ ê¸°ë°˜ìœ¼ë¡œ ê´€ë¦¬ ë˜ì—ˆë‹¤.\nì´ëŸ¬í•œ íŒŒì¼ ê¸°ë°˜ì˜ ë©”íƒ€ë°ì´í„°ëŠ” ìƒì„± ë° ë³€ê²½ ì‘ì—…ì´ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í…Œì´ë¸”ì˜ ìƒì„± ë˜ëŠ” ë³€ê²½ ë„ì¤‘ì— MySQL ì„œë²„ê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ë©´ ì¼ê´€ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ ë‚¨ê²Œë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.\nì´ì—ë”°ë¼ 8ë²„ì „ ë¶€í„°ëŠ” í…Œì´ë¸”ì˜ êµ¬ì¡° ì •ë³´ë‚˜ ìŠ¤í† ì–´ë“œ í”„ë¡œê·¸ë¨ì˜ ì½”ë“œ ê´€ë ¨ ì •ë³´ë¥¼ ëª¨ë‘ InnoDBì˜ í…Œì´ë¸”ì— ì €ì¥í•˜ë„ë¡ ê°œì„ ë˜ì—ˆë‹¤.\n","date":"2023-04-10T00:00:00Z","image":"https://codemario318.github.io/post/real_mysql_4_1/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_120x120_fill_q75_box_smart1.jpeg","permalink":"https://codemario318.github.io/post/real_mysql_4_1/","title":"4.1 MySQL ì—”ì§„ ì•„í‚¤í…ì²˜"}]