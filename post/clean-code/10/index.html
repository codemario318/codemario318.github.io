<!doctype html><html lang=ko dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="코드의 표현력과 그 코드로 이루어진 함수에 아무리 신경 쓸지라도 좀 더 차원 높은 단계까지 신경쓰지 않으면 깨끗한 코드를 얻기는 어렵다. 클래스 체계 표준 자바 관례에 의"><title>클린코드: 10. 클래스</title><link rel=canonical href=https://codemario318.github.io/post/clean-code/10/><link rel=stylesheet href=/scss/style.min.cbce94e2760d14d60414e59d5a36ab2819232375817e010dbe7be2234b67da1b.css><meta property="og:title" content="클린코드: 10. 클래스"><meta property="og:description" content="코드의 표현력과 그 코드로 이루어진 함수에 아무리 신경 쓸지라도 좀 더 차원 높은 단계까지 신경쓰지 않으면 깨끗한 코드를 얻기는 어렵다. 클래스 체계 표준 자바 관례에 의"><meta property="og:url" content="https://codemario318.github.io/post/clean-code/10/"><meta property="og:site_name" content="Mario Blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Common"><meta property="article:published_time" content="2023-04-20T16:30:13+09:00"><meta property="article:modified_time" content="2023-04-20T16:30:13+09:00"><meta property="og:image" content="https://codemario318.github.io/post/clean-code/10/clean_code_cover.jpeg"><meta name=twitter:title content="클린코드: 10. 클래스"><meta name=twitter:description content="코드의 표현력과 그 코드로 이루어진 함수에 아무리 신경 쓸지라도 좀 더 차원 높은 단계까지 신경쓰지 않으면 깨끗한 코드를 얻기는 어렵다. 클래스 체계 표준 자바 관례에 의"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://codemario318.github.io/post/clean-code/10/clean_code_cover.jpeg"><script async src="https://www.googletagmanager.com/gtag/js?id=G-K99591YLGK"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-K99591YLGK",{anonymize_ip:!1})}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3183752545292673" crossorigin=anonymous></script><meta name=naver-site-verification content="2315bde85c86f66092140cc465c340a2170f3187"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu760fd15c5fbb2f30cf0868dc4a5dc41a_14271_300x0_resize_q75_box.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Mario Blog</a></h1><h2 class=site-description></h2></div></header><ol class=social-menu><li><a href=https://github.com/codemario318 target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><ul class="menu sub-menu"><li><a href=/categories/backend/><span>Backend</span>
<span class=content-count>3</span></a></li><li><a href=/categories/cleancode/><span>Clean Code</span>
<span class=content-count>10</span></a></li><li><a href=/categories/common/><span>Common</span>
<span class=content-count>4</span></a></li><li><a href=/categories/data/><span>Data</span>
<span class=content-count>3</span></a></li><li><a href=/categories/db/><span>DB</span>
<span class=content-count>1</span></a></li><li><a href=/categories/frontend/><span>Frontend</span>
<span class=content-count>10</span></a></li><li><a href=/categories/golang/><span>GoLang</span>
<span class=content-count>13</span></a></li><li><a href=/categories/headfirstdesignpatterns/><span>헤드 퍼스트 디자인 패턴</span>
<span class=content-count>17</span></a></li><li><a href=/categories/infra/><span>Infra</span>
<span class=content-count>14</span></a></li><li><a href=/categories/problemsolving/><span>Problem Solving</span>
<span class=content-count>1</span></a></li><li><a href=/categories/project/><span>Project</span>
<span class=content-count>3</span></a></li><li><a href=/categories/realmysql/><span>Real MySQL</span>
<span class=content-count>53</span></a></li></ul><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#클래스-체계>클래스 체계</a><ol><li><a href=#캡슐화>캡슐화</a></li></ol></li><li><a href=#클래스는-작아야-한다>클래스는 작아야 한다.</a><ol><li><a href=#얼마나-작아야-할까>얼마나 작아야 할까?</a></li><li><a href=#클래스-이름>클래스 이름</a></li><li><a href=#클래스-설명>클래스 설명</a></li></ol></li><li><a href=#단일-책임-원칙---srp-single-responsibility-principle>단일 책임 원칙 - SRP: Single Responsibility Principle</a></li><li><a href=#응집도>응집도</a><ol><li><a href=#응집도를-유지하면-작은-클래스-여럿이-나온다>응집도를 유지하면 작은 클래스 여럿이 나온다.</a></li></ol></li><li><a href=#변경하기-쉬운-클래스>변경하기 쉬운 클래스</a><ol><li><a href=#변경으로부터-격리>변경으로부터 격리</a></li></ol></li><li><a href=#결론>결론</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/clean-code/10/><img src=/post/clean-code/10/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_800x0_resize_q75_box.jpeg srcset="/post/clean-code/10/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_800x0_resize_q75_box.jpeg 800w, /post/clean-code/10/clean_code_cover_hud03d003727d53e154227b4e2dbea4cfd_18319_1600x0_resize_q75_box.jpeg 1600w" width=800 height=1053 loading=lazy alt="Featured image of post 클린코드: 10. 클래스"></a></div><div class=article-details><header class=article-category><a href=/categories/cleancode/>Clean Code</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/clean-code/10/>클린코드: 10. 클래스</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>2023/04/20</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>10 minute read</time></div></footer></div></header><section class=article-content><p>코드의 표현력과 그 코드로 이루어진 함수에 아무리 신경 쓸지라도 좀 더 차원 높은 단계까지 신경쓰지 않으면 깨끗한 코드를 얻기는 어렵다.</p><h2 id=클래스-체계>클래스 체계</h2><p>표준 자바 관례에 의하면 아래 순서로 선언하게 된다.</p><ul><li><code>public static</code> 상수</li><li><code>private static</code> 변수</li><li>비공개 인스턴스 변수<ul><li>공개 변수가 필요한 경우는 거의 없다</li></ul></li><li>공개 함수</li><li>비공개 함수<ul><li>자신을 호출하는 공개 함수 직후에 넣는다.</li></ul></li></ul><p>즉 추상화 단계가 순차적으로 내려간다. 그래서 프로그램은 신문 기사처럼 읽힌다.</p><h3 id=캡슐화>캡슐화</h3><p>변수와 유틸리티 함수는 가능한 공개하지 않는 편이 낫지만 반드시 숨겨야한다는 법칙도 없다. 때로는 변수나 유틸리티 함수를 <code>protected</code>로 선언해 테스트 코드에 접근을 허용하기도 한다.</p><p>같은 패키지 안에서 테스트 코드가 함수를 호출하거나 변수를 사용해야 한다면 그 함수나 변수를 <code>protected</code>로 선언하거나 패키지 전체로 공개한다.</p><p>하지만 그 전에 <strong>비공개 상태를 유지</strong>할 방법을 강구해야 한다.</p><blockquote><p>💡 캡슐화를 풀어주는 결정은 언제나 최후의 수단이다.</p></blockquote><h2 id=클래스는-작아야-한다>클래스는 작아야 한다.</h2><p>클래스를 만들 때 첫 번째 규칙은 크기다. 클래스는 작아야 한다. 클래스를 설계할 때도, 함수와 마찬가지로, <strong>작게</strong>가 기본 규칙이다.</p><h3 id=얼마나-작아야-할까>얼마나 작아야 할까?</h3><p>함수는 물리적인 행 수로 크기를 측정했지만 클래스는 <strong>맡은 책임 수</strong>로 측정한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>SuperDashboard</span> <span class=kd>extends</span> <span class=n>JFrame</span> <span class=kd>implements</span> <span class=n>MetaDataUser</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Component</span> <span class=nf>getLastFocusedCompnent</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setLastFocused</span><span class=o>(</span><span class=n>Component</span> <span class=n>lastFocused</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getMajorVersionNumber</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getMinorVersionNumber</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getBuildNumber</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>메서드 개수를 5개 정도로 줄인 클래스이다. 하지만 메서드 수가 적음에도 불구하고 책임이 너무 많다.</p><h3 id=클래스-이름>클래스 이름</h3><p>클래스 이름은 해당 클래스 책임을 기술해야 한다. 실제로 <strong>클래스 작명은 크기를 줄이는 첫 번째 관문</strong>이다.</p><ul><li>간결한 이름이 떠오르지 않는다면 대부분 클래스 크기가 너무 커서(책임이 많아서) 그렇다.</li></ul><blockquote><p>예를 들어 클래스 이름에 Processor, Manager, Super 등과 같이 모호한 단어가 있다면 클래스가 여러 책임을 떠안고있다는 뜻이다.</p></blockquote><h3 id=클래스-설명>클래스 설명</h3><p>클래스 설명은 만일(if), 그리고(and), (하)며(or), 하지만(but)을 사용하지 않고서 25단어 내외로 가능해야 한다.</p><p>위 <code>SuperDashboard</code> 의 설명을 만들면</p><blockquote><p>“마지막으로 포커스를 얻었던 컴포넌트에 접근하는 방법을 제공하며, 버전과 빌드 번호를 추적하는 메커니즘을 제공한다.”</p></blockquote><p>인데 “~하며”가 포함되므로 책임이 많다고 생각할 수 있다.</p><h2 id=단일-책임-원칙---srp-single-responsibility-principle>단일 책임 원칙 - SRP: Single Responsibility Principle</h2><p>단일 책임 원칙은 클래스나 모듈을 <strong>변경할 이유가 단 하나뿐이어야 한다</strong>는 원칙이다.</p><p>SRP는 ‘책임’이라는 개념을 정의하며 적절한 클래스 크기를 제시한다. 클래스는 책임, 즉 변경할 이유가 하나여야 한다는 의미다.</p><p>겉보기에 작아보이는 위 SuperDashboard는 변경할 이유가 2가지다.</p><ol><li>소프트웨어 버전 정보를 추적한다.<ul><li>버전 정보는 소프트웨어를 출시할 때마다 달라진다.</li></ul></li><li>자바 스윙 컴포넌트를 관리한다.<ul><li>SuperDashboard는 최상위 GUI 윈도의 스윙 표현인 JFrame에서 파생한 클래스다.
즉, 스윙 코드를 변경할 때마다 버전 번호가 달라진다.</li></ul></li></ol><p>책임(변경할 이유)을 파악하려 애쓰다 보면 코드를 추상화 하기도 쉬워진다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Version</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getMajorVersionNumber</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getMinorVersionNumber</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>getBuildNumber</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>버전 정보를 다루는 메서드 세 개를 따로 빼내 version이라는 독자적인 클래스를 만든다.</p><blockquote><p>SRP는 객체 지향 설계에서 더욱 중요한 개념이다. 또한 이해하고 지키기 수월한 개념이기도 하다. 하지만 이상하게도 SRP는 클래스 설계자가 가장 무시하는 규칙 중 하나다.</p></blockquote><p>소프트웨어를 돌아가게 만드는 활동과 소프트웨어를 깨끗하게 만드는 활동은 완전히 별개다.</p><p>개발자는 자잘한 책임 클래스가 많아지면 큰 그림을 이해하기 어려워진다고 우려한다. 큰 그림을 이해하려면 이 클래스 저 클래스를 수없이 넘나들어야 한다고 걱정한다.</p><p>하지만 작은 클래스가 많은 시스템이든 큰 클래스가 몇 개뿐인 시스템이든 익힐 내용은 그 양이 비슷하다.</p><p>클래스를 작게 유지하는 행위는 코드를 체계적으로 정리하는 과정으로, 단일 책임을 가진 클래스를 만들고 이름을 잘 붙인다면 자연스럽게 코드가 정리된다.</p><ul><li>책임이 많은 클래스는 큰 공구함에 여러 공구를 마구 때려넣는 행동과 비슷하다.</li></ul><h2 id=응집도>응집도</h2><p>클래스는 인스턴스 변수 수가 적어야 한다. 각 클래스 메서드는 클래스 인스턴스 변수를 하나 이상 사용해야 한다.</p><p>일반적으로 메서드가 변수를 더 많이 사용할수록 메서드와 클래스는 응집도가 더 높다. 모든 인스턴스 변수를 메서드마다 사용하는 클래스는 응집도가 가장 높다.</p><ul><li>일반적으로 이처럼 응집도가 가장 높은 클래스는 가능하지도 바람직하지도 않다.</li></ul><p>그렇지만 대부분 응집도가 높은 클래스를 선호한다. <strong>응집도가 높다는 말은 클래스에 속한 메서드와 변수가 서로 의존하며 논리적인 단위로 묶인다는 의미다</strong>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Stack</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>int</span> <span class=n>topOfStack</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>elements</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedList</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>size</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>topOfStack</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>push</span><span class=o>(</span><span class=kt>int</span> <span class=n>element</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>topOfStack</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>        <span class=n>elements</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>element</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>pop</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>PoppedWhenEmpty</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>topOfStack</span> <span class=o>==</span> <span class=mi>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=k>new</span> <span class=n>PoppedWhenEmpty</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>element</span> <span class=o>=</span> <span class=n>elements</span><span class=o>.</span><span class=na>get</span><span class=o>(--</span><span class=n>topOfStack</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>elements</span><span class=o>.</span><span class=na>remove</span><span class=o>(</span><span class=n>topOfStack</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>element</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>위 클래스는 응집도가 아주 높다. <code>size()</code>를 제외한 다른 두 메서드는 두 변수를 모두 사용한다.</p><p>함수를 작게, 매개변수 목록을 짧게라는 전략을 따르다 보면 때때로 몇몇 메서드만이 사용하는 인스턴스 변수가 아주 많아진다.</p><p>응집도가 높아지도록 변수와 메서드를 적절히 분리해 새로운 클래스 두세 개로 쪼개준다.</p><h3 id=응집도를-유지하면-작은-클래스-여럿이-나온다>응집도를 유지하면 작은 클래스 여럿이 나온다.</h3><p>큰 함수를 작은 함수 여럿으로 나누기만 해도 클래스 수가 많아진다.</p><p>예를 들어 변수가 아주 많은 큰 함수 하나가 있다. 큰 함수 일부를 작은 함수 하나로 빼내고 싶은데, 빼내려는 코드가 큰 함수에 정의된 변수 넷을 사용한다. 그렇다면 변수 네 개를 새 함수에 인수로 넘겨야 옳은가?</p><p>전혀 아니다. 만약 네 변수를 <strong>클래스 인스턴스 변수</strong>로 승격한다면 새 <strong>함수는 인수가 필요없다.</strong> 그만큼 함수를 쪼개기 쉬워진다.</p><p>이렇게 하면 클래스가 응집력을 잃는다. 몇몇 함수만 사용하는 인스턴스 변수가 점점 더 늘어나기 때문이다.</p><blockquote><p>몇몇 함수가 몇몇 변수만 사용한다면 독자적인 클래스로 분리하면 된다. <strong>응집력을 잃는다면 쪼개라</strong></p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>literatePrimes</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>PrintPrimes</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=kt>int</span> <span class=n>M</span> <span class=o>=</span> <span class=mi>1000</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=kt>int</span> <span class=n>RR</span> <span class=o>=</span> <span class=mi>50</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=kt>int</span> <span class=n>CC</span> <span class=o>=</span> <span class=mi>4</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=kt>int</span> <span class=n>WW</span> <span class=o>=</span> <span class=mi>10</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=kt>int</span> <span class=n>ORDMAX</span> <span class=o>=</span> <span class=mi>30</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>P</span><span class=o>[]</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>M</span><span class=o>+</span><span class=mi>1</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>PAGENUMBER</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>PAGEOFFSET</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ROWOFFSET</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>C</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>J</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>K</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>boolean</span> <span class=n>JPRIME</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ORD</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>SQUARE</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>N</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>MULT</span><span class=o>[]</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>ORDMAX</span><span class=o>+</span><span class=mi>1</span><span class=o>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>J</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>K</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>P</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>=</span> <span class=mi>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>ORD</span> <span class=o>=</span> <span class=mi>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>SQUARE</span> <span class=o>=</span> <span class=mi>9</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(</span><span class=n>K</span> <span class=o>&lt;</span> <span class=n>M</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>do</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>J</span> <span class=o>=</span> <span class=n>J</span><span class=o>+</span><span class=mi>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>J</span> <span class=o>==</span> <span class=n>SQUARE</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>ORD</span> <span class=o>=</span> <span class=n>ORD</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>SQUARE</span> <span class=o>=</span> <span class=n>P</span><span class=o>[</span><span class=n>ORD</span><span class=o>]</span> <span class=o>*</span> <span class=n>P</span><span class=o>[</span><span class=n>ORD</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                    <span class=n>MULT</span><span class=o>[</span><span class=n>ORD</span><span class=o>-</span><span class=mi>1</span><span class=o>]</span> <span class=o>=</span> <span class=n>J</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=n>N</span> <span class=o>=</span> <span class=mi>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=n>JPRIME</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=k>while</span> <span class=o>(</span><span class=n>N</span> <span class=o>&lt;</span> <span class=n>ORD</span> <span class=o>&amp;&amp;</span> <span class=n>JPRIME</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>while</span> <span class=o>(</span><span class=n>MULT</span><span class=o>[</span><span class=n>N</span><span class=o>]</span> <span class=o>&lt;</span> <span class=n>J</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>MULT</span><span class=o>[</span><span class=n>N</span><span class=o>]</span> <span class=o>=</span> <span class=n>MULT</span><span class=o>[</span><span class=n>N</span><span class=o>]</span> <span class=o>+</span> <span class=n>P</span><span class=o>[</span><span class=n>N</span><span class=o>]</span> <span class=o>+</span> <span class=n>P</span><span class=o>[</span><span class=n>N</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=o>(</span><span class=n>MULT</span><span class=o>[</span><span class=n>N</span><span class=o>]</span> <span class=o>==</span> <span class=n>J</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>JPRIME</span> <span class=o>=</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=n>N</span> <span class=o>=</span> <span class=n>N</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span> <span class=k>while</span> <span class=o>(!</span><span class=n>JPRIME</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>K</span> <span class=o>=</span> <span class=n>K</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>P</span><span class=o>[</span><span class=n>K</span><span class=o>]</span> <span class=o>=</span> <span class=n>J</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>PAGENUMBER</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>PAGEOFFSET</span> <span class=o>=</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=o>(</span><span class=n>PAGEOFFSET</span> <span class=o>&lt;=</span> <span class=n>M</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;The First &#34;</span> <span class=o>+</span> <span class=n>M</span> <span class=o>+</span> <span class=s>&#34; Prime Numbers --- Page &#34;</span> <span class=o>+</span> <span class=n>PAGENUMBER</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;&#34;</span><span class=o>);</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=o>(</span><span class=n>ROWOFFSET</span> <span class=o>=</span> <span class=n>PAGEOFFSET</span><span class=o>;</span> <span class=n>ROWOFFSET</span> <span class=o>&lt;</span> <span class=n>PAGEOFFSET</span> <span class=o>+</span> <span class=n>RR</span><span class=o>;</span> <span class=n>ROWOFFSET</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>for</span> <span class=o>(</span><span class=n>C</span> <span class=o>=</span> <span class=mi>0</span><span class=o>;</span> <span class=n>C</span> <span class=o>&lt;</span> <span class=n>CC</span><span class=o>;</span> <span class=n>C</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=k>if</span> <span class=o>(</span><span class=n>ROWOFFSET</span> <span class=o>+</span> <span class=n>C</span> <span class=o>*</span> <span class=n>RR</span> <span class=o>&lt;=</span> <span class=n>M</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                            <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;%10d&#34;</span><span class=o>,</span> <span class=n>P</span><span class=o>[</span><span class=n>ROWOFFSET</span> <span class=o>+</span> <span class=n>C</span> <span class=o>*</span> <span class=n>RR</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>                        <span class=o>}</span>
</span></span><span class=line><span class=cl>                    <span class=o>}</span>       
</span></span><span class=line><span class=cl>                    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>                <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;\f&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=n>PAGENUMBER</span> <span class=o>=</span> <span class=n>PAGENUMBER</span> <span class=o>+</span> <span class=mi>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=n>PAGEOFFSET</span> <span class=o>=</span> <span class=n>PAGEOFFSET</span> <span class=o>+</span> <span class=n>RR</span> <span class=o>*</span> <span class=n>CC</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>       <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>               
</span></span></code></pre></td></tr></table></div></div><p>함수가 하나뿐인 위 프로그램은 엉망이다.</p><ul><li>들여쓰기 심함</li><li>이해하기 힘든 변수 이름</li><li>구조가 빽빽함</li></ul><p>→ 여러함수로 나눠야한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>literatePrimes</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>PrimePrinter</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=kt>int</span> <span class=n>NUMBER_OF_PRIMES</span> <span class=o>=</span> <span class=mi>1000</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>primes</span> <span class=o>=</span> <span class=n>PrimeGenerator</span><span class=o>.</span><span class=na>generate</span><span class=o>(</span><span class=n>NUMBER_OF_PRIMES</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=kt>int</span> <span class=n>ROWS_PER_PAGE</span> <span class=o>=</span> <span class=mi>50</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>final</span> <span class=kt>int</span> <span class=n>COLUMNS_PER_PAGE</span> <span class=o>=</span> <span class=mi>4</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>RowColumnPagePrinter</span> <span class=n>tablePrinter</span> <span class=o>=</span> 
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>RowColumnPagePrinter</span><span class=o>(</span><span class=n>ROWS_PER_PAGE</span><span class=o>,</span> 
</span></span><span class=line><span class=cl>                                     <span class=n>COLUMNS_PER_PAGE</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                                     <span class=s>&#34;The First &#34;</span> <span class=o>+</span> <span class=n>NUMBER_OF_PRIMES</span> <span class=o>+</span> <span class=s>&#34; Prime Numbers&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>tablePrinter</span><span class=o>.</span><span class=na>print</span><span class=o>(</span><span class=n>primes</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>...</span>          
</span></span></code></pre></td></tr></table></div></div><p>가장 먼저 눈에 띄는 변화가 프로그램이 길어졌다. 길이가 늘어난 이유는 여러가지다.</p><ol><li>리팩터링한 프로그램은 좀 더 길고 서술적인 변수 이름을 사용한다.</li><li>리팩터링한 프로그램은 코드에 주석을 추가하는 수단으로 함수 선언과 클래스 선언을 활용한다.</li><li>가독성을 높이고자 공백을 추가하고 형식을 맞추었다.</li></ol><p><code>PrimePrinter</code> 클래스는 <code>main</code> 함수 하나만 포함하며 실행 환경을 책임진다. 호출 방식이 달라지면 클래스도 바뀐다. 예를들어 SOAP 서비스로 바꾸려면 <code>PrimePrinter</code> 클래스를 고친다.</p><p><code>PrimeGenerator</code> 클래스는 소수 목록을 생성하는 방법을 안다. 코드를 살펴보면 알겠지만, 객체로 인스턴스화하는 클래스가 아니다. 단순히 변수를 선언하고 감추려고 사용하는 유용한 공간일 뿐이다.</p><ul><li>소수를 계산하는 알고리즘이 바뀐다면 PrimeGenerator 클래스를 고친다.</li></ul><h2 id=변경하기-쉬운-클래스>변경하기 쉬운 클래스</h2><blockquote><p>대다수 시스템은 지속적인 변경이 가해진다. 그리고 뭔가 변경할 때마다 시스템이 의도대로 동작하지 않을 위험이 따른다. <strong>깨끗한 시스템은 클래스를 체계적으로 정리해 변경에 수반하는 위험을 낮춘다.</strong></p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Sql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>create</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>insert</span><span class=o>(</span><span class=n>Object</span><span class=o>[]</span> <span class=n>fields</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>selectAll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>findByKey</span><span class=o>(</span><span class=n>String</span> <span class=n>keyColumn</span><span class=o>,</span> <span class=n>String</span> <span class=n>keyValue</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>select</span><span class=o>(</span><span class=n>Column</span> <span class=n>column</span><span class=o>,</span> <span class=n>String</span> <span class=n>pattern</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>select</span><span class=o>(</span><span class=n>Criteria</span> <span class=n>criteria</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>String</span> <span class=nf>preparedInsert</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=nf>columnList</span><span class=o>(</span><span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=nf>valuesList</span><span class=o>(</span><span class=n>Object</span><span class=o>[]</span> <span class=n>fields</span><span class=o>,</span> <span class=kd>final</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=nf>selectWithCriteria</span><span class=o>(</span><span class=n>String</span> <span class=n>criteria</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=nf>placeholderList</span><span class=o>(</span><span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>update를 아직 지원하지 않는 코드다. 지원할 시점이 오면 클래스에 손대어 코쳐야 한다. 문제는 코드에 손대면 위험이 생긴다는 사실이다. 어떤 변경이든 클래스에 손대면 다른 코드를 망가뜨릴 잠정적인 위험이 존재한다.</p><ul><li>새로운 SQL문을 지원하려면 반드시 <code>Sql</code> 클래스에 손대야 한다.</li><li>또한 기존 SQL문 하나를 수정할 때도 반드시 <code>Sql</code> 클래스에 손대야 한다.</li></ul><blockquote><p>이렇듯 변경할 이유가 두 가지이므로 <code>Sql</code> 클래스는 SRP를 위반한다.</p></blockquote><p>단순히 구조적인 관점에서도 <code>Sql</code>은 SRP를 위반한다. <code>selectWithCriteria</code>라는 비공개 메서드가 있는데, 이 메서드는 select문을 처리할 때만 사용한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>abstract</span> <span class=kd>public</span> <span class=kd>class</span> <span class=nc>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Sql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>abstract</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>CreateSql</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>CreateSql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>SelectSql</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>SelectSql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>InsertSql</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>InsertSql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>SelectWithCriteraSql</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>SelectWithCriteraSql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>SelectWithMatchSql</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>SelectWithMatchSql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>,</span> <span class=n>Criteria</span> <span class=n>criteria</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>FindByKeySql</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>FindByKeySql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>,</span> <span class=n>Column</span> <span class=n>column</span><span class=o>,</span> <span class=n>String</span> <span class=n>pattern</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>CreateSql</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>CreateSql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>,</span> <span class=n>String</span> <span class=n>keyColumn</span><span class=o>,</span> <span class=n>String</span> <span class=n>keyValue</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>PreparedInsertSql</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>PreparedInsertSql</span><span class=o>(</span><span class=n>String</span> <span class=n>table</span><span class=o>,</span> <span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>String</span> <span class=nf>placeholderList</span><span class=o>(</span><span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Where</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Where</span><span class=o>(</span><span class=n>String</span> <span class=n>criteria</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ColumnList</span> <span class=kd>extends</span> <span class=n>Sql</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>ColumnList</span><span class=o>(</span><span class=n>Column</span><span class=o>[]</span> <span class=n>columns</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Override</span> <span class=kd>public</span> <span class=n>String</span> <span class=nf>generate</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>공개 인터페이스를 각각 <code>Sql</code>클래스에서 파생하는 클래스로 만들었다. <code>valueList</code>와 같은 비공개 메서드는 해당하는 파생 클래스로 옮겼다. 모든 파생 클래스가 공통으로 사용하는 비공개 메서드는 <code>Where</code>와 <code>ColumnList</code>라는 두 유틸리티 클래스에 넣었다.</p><ul><li>클래스를 서로 분리하여 각 클래스는 극도로 단순하며 이해하기 쉽다. 함수 하나를 수정했다고 다른 함수가 망가질 위험도 사실상 없다. 테스트 관점에서 모든 논리를 구석구석 증명하기도 쉬워졌다.</li></ul><p>새로운 sql을 넣을때도 기존 클래스를 변경할 필요가 전혀 없다.</p><ul><li>새 기능을 수정하거나 기존 기능을 변경할 때 건드릴 코드가 최소인 시스템 구조가 바람직하다.</li><li>이상적인 시스템이라면 새 기능을 추가할 때 시스템을 확장할 뿐 기존 코드를 변경하지 않는다.</li></ul><h3 id=변경으로부터-격리>변경으로부터 격리</h3><p>요구사항은 변하기 마련이다. 따라서 코드도 변하기 마련이다.</p><p>상세한 구현에 의존하는 코드는 테스트가 어렵다. 예를들어 <code>Portfolio</code> 클래스를 만든다고 가정하자.</p><p><code>Portfolio</code> 클래스는 외부 <code>TokyoStockExchange</code> API를 이용해 포트폴리오 값을 계삲나다. 따라서 테스트 코드는 시세 변화에 영향을 받게 된다.</p><p>5분마다 값이 달라지는 API로 테스트 코드를 짜기는 어렵다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>interface</span> <span class=nc>StorckExchange</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Money</span> <span class=nf>CurrentPrice</span><span class=o>(</span><span class=n>String</span> <span class=n>symbol</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p><code>Portfolio</code>에서 <code>TokyoStockExchange</code> API를 직접 호출하는 대신 <code>StockExchange</code>라는 인터페이스를 생성한 후 메서드 하나를 선언했다.</p><p>다음으로 <code>StockExchange</code> 인터페이스를 구현하는 <code>TokyoStockExchange</code> 클래스를 구현한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=n>Portfolio</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>StockExchange</span> <span class=n>exchange</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Portfolio</span><span class=o>(</span><span class=n>StockExchange</span> <span class=n>exchange</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>exchange</span> <span class=o>=</span> <span class=n>exchange</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p><code>Portfolio</code>를 수정해 <code>StockExchange</code> 참조자를 인수로 받는다.</p><p>이를 통해 <code>TokyoStockExchange</code> 클래스를 흉내내는 테스트용 클래스를 만들 수 있게 되었다.</p><p>테스트용 클래스는 <code>StockExchange</code> 인터페이스를 구현하며 고정된 주가를 반환한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>PortfolioTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>FixedStockExchangeStub</span> <span class=n>exchange</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=n>Portfolio</span> <span class=n>portfolio</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Before</span>
</span></span><span class=line><span class=cl>    <span class=kd>protected</span> <span class=kt>void</span> <span class=nf>setUp</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>exchange</span> <span class=o>=</span> <span class=k>new</span> <span class=n>FixedStockExchangeStub</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>exchange</span><span class=o>.</span><span class=na>fix</span><span class=o>(</span><span class=s>&#34;MSFT&#34;</span><span class=o>,</span> <span class=mi>100</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>protfolio</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Portfolio</span><span class=o>(</span><span class=n>exchange</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Test</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>GivenFiveMSFTTotalShouldBe500</span><span class=o>()</span> <span class=kd>throws</span> <span class=n>Exception</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>portfolio</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=mi>5</span><span class=o>,</span> <span class=s>&#34;MSFT&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>Assert</span><span class=o>.</span><span class=na>assertEquals</span><span class=o>(</span><span class=mi>500</span><span class=o>,</span> <span class=n>portfolio</span><span class=o>.</span><span class=na>value</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>위와 같은 테스트가 가능할 정도로 시스템의 결함도를 낮추면 유연성과 재사용성도 더욱 높아진다.</p><ul><li>결합도가 낮다는 소리는 각 시스템 요소가 다른 요소로부터 그리고 변경으로부터 잘 격리되어 있다는 의미다.</li><li>시스템 요소가 서로 잘 결리되어 있으면 각 요소를 이해하기도 더 쉬워진다.</li></ul><p>이렇게 결합도를 최소로 줄이면 자연스럽게 또 다른 클래스 설계 원칙인 DIP(Dependency Inversion Principle)를 따르는 클래스가 나온다.</p><p>본질적으로 DIP는 클래스가 상세한 구현이 아니라 추상화에 의존해야 한다는 원칙이다.</p><h2 id=결론>결론</h2><ul><li>공개가 필요할땐 최대한 캡슐화를 유지하는 방식을 강구해야 한다.</li><li>클래스도 작게 유지해야 한다.<ul><li>클래스의 크기는 책임 수로 측정한다.</li><li>책임이 많은 클래스는 이름과 설명에 모호한 표현이 섞이게 된다.</li><li>응집도를 유지하면 자연스럽게 클래스가 작아진다.</li></ul></li><li>변경은 여러 문제들을 수반한다. 따라서 기존 코드 변경이 없는것이 좋다.<ul><li>그대로 변경은 항상 필요할 수 있으므로 변경하기 쉽게 만들어야 한다.</li><li>클래스를 깨끗하게 정리하면 변경하기 쉽다.</li><li>클래스를 작게 만들면 자연스럽게 정리된다.</li></ul></li><li>결합도를 최대한 낮추면 변경으로 부터 격리할 수 있다.</li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/common/>Common</a></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css integrity="sha256-J+iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s=" crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js integrity="sha256-InsNdER1b2xUewP+pKCUJpkhiqwHgqiPXDlIk7GzBu4=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI=" crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/clean-code/15/><div class=article-image><img src=/post/clean-code/15/clean_code_cover.39d6c4b4006dafbd74477eb98624739e_hud03d003727d53e154227b4e2dbea4cfd_18319_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 클린코드: 15. JUnit 들여다보기" data-key=clean-code/15 data-hash="md5-OdbEtABtr710R365hiRzng=="></div><div class=article-details><h2 class=article-title>클린코드: 15. JUnit 들여다보기</h2></div></a></article><article class=has-image><a href=/post/clean-code/17/><div class=article-image><img src=/post/clean-code/17/clean_code_cover.39d6c4b4006dafbd74477eb98624739e_hud03d003727d53e154227b4e2dbea4cfd_18319_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 클린코드: 17. 냄새와 휴리스틱" data-key=clean-code/17 data-hash="md5-OdbEtABtr710R365hiRzng=="></div><div class=article-details><h2 class=article-title>클린코드: 17. 냄새와 휴리스틱</h2></div></a></article><article class=has-image><a href=/post/clean-code/14/><div class=article-image><img src=/post/clean-code/14/clean_code_cover.39d6c4b4006dafbd74477eb98624739e_hud03d003727d53e154227b4e2dbea4cfd_18319_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 클린코드: 14. 점진적인 개선" data-key=clean-code/14 data-hash="md5-OdbEtABtr710R365hiRzng=="></div><div class=article-details><h2 class=article-title>클린코드: 14. 점진적인 개선</h2></div></a></article><article class=has-image><a href=/post/clean-code/12/><div class=article-image><img src=/post/clean-code/12/clean_code_cover.39d6c4b4006dafbd74477eb98624739e_hud03d003727d53e154227b4e2dbea4cfd_18319_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 클린코드: 12. 창발성" data-key=clean-code/12 data-hash="md5-OdbEtABtr710R365hiRzng=="></div><div class=article-details><h2 class=article-title>클린코드: 12. 창발성</h2></div></a></article><article class=has-image><a href=/post/clean-code/9/><div class=article-image><img src=/post/clean-code/9/clean_code_cover.39d6c4b4006dafbd74477eb98624739e_hud03d003727d53e154227b4e2dbea4cfd_18319_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 클린코드: 9. 단위 테스트" data-key=clean-code/9 data-hash="md5-OdbEtABtr710R365hiRzng=="></div><div class=article-details><h2 class=article-title>클린코드: 9. 단위 테스트</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=codemario318/codemario318.github.io issue-term=pathname label=Comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2023 -
2024 Mario Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>