<!doctype html><html lang=ko dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Real MySQL 8.0"><title>10.3 실행 계획 - 실행 계획 분석 (2) Extra 컬럼</title><link rel=canonical href=https://codemario318.github.io/post/real-mysql/10/3/2/><link rel=stylesheet href=/scss/style.min.cbce94e2760d14d60414e59d5a36ab2819232375817e010dbe7be2234b67da1b.css><meta property="og:title" content="10.3 실행 계획 - 실행 계획 분석 (2) Extra 컬럼"><meta property="og:description" content="Real MySQL 8.0"><meta property="og:url" content="https://codemario318.github.io/post/real-mysql/10/3/2/"><meta property="og:site_name" content="Mario Blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="DB"><meta property="article:tag" content="MySQL"><meta property="article:published_time" content="2023-07-12T15:19:10+09:00"><meta property="article:modified_time" content="2023-07-12T15:19:10+09:00"><meta property="og:image" content="https://codemario318.github.io/post/real-mysql/10/3/2/real_mysql.jpeg"><meta name=twitter:title content="10.3 실행 계획 - 실행 계획 분석 (2) Extra 컬럼"><meta name=twitter:description content="Real MySQL 8.0"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://codemario318.github.io/post/real-mysql/10/3/2/real_mysql.jpeg"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu760fd15c5fbb2f30cf0868dc4a5dc41a_14271_300x0_resize_q75_box.jpeg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Mario Blog</a></h1><h2 class=site-description></h2></div></header><ol class=social-menu><li><a href=https://github.com/codemario318 target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><ul class="menu sub-menu"><li><a href=/categories/backend/><span>Backend</span>
<span class=content-count>3</span></a></li><li><a href=/categories/cleancode/><span>Clean Code</span>
<span class=content-count>10</span></a></li><li><a href=/categories/common/><span>Common</span>
<span class=content-count>4</span></a></li><li><a href=/categories/data/><span>Data</span>
<span class=content-count>3</span></a></li><li><a href=/categories/db/><span>DB</span>
<span class=content-count>1</span></a></li><li><a href=/categories/frontend/><span>Frontend</span>
<span class=content-count>10</span></a></li><li><a href=/categories/golang/><span>GoLang</span>
<span class=content-count>13</span></a></li><li><a href=/categories/headfirstdesignpatterns/><span>헤드 퍼스트 디자인 패턴</span>
<span class=content-count>3</span></a></li><li><a href=/categories/infra/><span>Infra</span>
<span class=content-count>14</span></a></li><li><a href=/categories/problemsolving/><span>Problem Solving</span>
<span class=content-count>1</span></a></li><li><a href=/categories/project/><span>Project</span>
<span class=content-count>3</span></a></li><li><a href=/categories/realmysql/><span>Real MySQL</span>
<span class=content-count>53</span></a></li></ul><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#const-row-not-found>const row not found</a></li><li><a href=#deleting-all-rows>Deleting all rows</a></li><li><a href=#distinct>Distinct</a></li><li><a href=#firstmatch>FirstMatch</a></li><li><a href=#full-scan-on-null-key>Full scan on NULL key</a></li><li><a href=#impossible-having>Impossible HAVING</a></li><li><a href=#impossible-where>Impossible WHERE</a></li><li><a href=#loosescan>LooseScan</a></li><li><a href=#no-matching-minmax-row>No matching (min/max) row</a></li><li><a href=#no-matching-row-in-const-table>no matching row in const table</a></li><li><a href=#no-matching-rows-after-partition-pruning>No matching rows after partition pruning</a></li><li><a href=#no-tables-used>No tables used</a></li><li><a href=#not-exists>Not exists</a></li><li><a href=#plan-isnt-ready-yet>Plan isn&rsquo;t ready yet</a></li><li><a href=#range-checked-for-each-recordindex-mapn>Range checked for each record(index map:N)</a></li><li><a href=#recursive>Recursive</a></li><li><a href=#rematerialize>Rematerialize</a></li><li><a href=#select-tables-optimized-away>Select tables optimized away</a></li><li><a href=#start-temporary-end-temporary>Start temporary, End temporary</a></li><li><a href=#unique-row-not-found>Unique row not found</a></li><li><a href=#using-filesort>Using filesort</a></li><li><a href=#using-index커버링-인덱스>Using index(커버링 인덱스)</a></li><li><a href=#using-index-condition>Using index condition</a></li><li><a href=#using-index-for-group-by>Using index for group-by</a><ol><li><a href=#타이트-인덱스-스캔을-통한-group-by-처리>타이트 인덱스 스캔을 통한 <code>GROUP BY</code> 처리</a></li><li><a href=#루스-인덱스-스캔을-통한-group-by-처리>루스 인덱스 스캔을 통한 <code>GROUP BY</code> 처리</a></li></ol></li><li><a href=#using-index-for-skip-scan>Using index for skip scan</a></li><li><a href=#using-join-buffer>Using join buffer</a></li><li><a href=#using-mrr>Using MRR</a><ol><li><a href=#mmr>MMR?</a></li></ol></li><li><a href=#using-sort_union-using-union-using-intersect>Using sort_union, Using union, Using intersect</a></li><li><a href=#using-temporary>Using temporary</a></li><li><a href=#using-where>Using where</a></li><li><a href=#zero-limit>Zero limit</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/real-mysql/10/3/2/><img src=/post/real-mysql/10/3/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_800x0_resize_q75_box.jpeg srcset="/post/real-mysql/10/3/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_800x0_resize_q75_box.jpeg 800w, /post/real-mysql/10/3/2/real_mysql_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_1600x0_resize_q75_box.jpeg 1600w" width=800 height=994 loading=lazy alt="Featured image of post 10.3 실행 계획 - 실행 계획 분석 (2) Extra 컬럼"></a></div><div class=article-details><header class=article-category><a href=/categories/realmysql/>Real MySQL</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/real-mysql/10/3/2/>10.3 실행 계획 - 실행 계획 분석 (2) Extra 컬럼</a></h2><h3 class=article-subtitle>Real MySQL 8.0</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>2023/07/12</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>12 minute read</time></div></footer></div></header><section class=article-content><p>컬럼 이름과 달리 쿼리의 실행 계획에서 성능에 관련된 중요한 내용이 Extra 컬럼에 지주 표시된다.</p><ul><li>고정된 몇개의 문장이 표시되는데, 일반적으로 2~3개씩 함께 표시된다.</li><li>내부적인 처리 알고리즘에 대해 조금 더 깊이 있는 내용을 보여주는 경우가 많다.</li></ul><h2 id=const-row-not-found>const row not found</h2><p>쿼리의 실행 계획에서 const 접근 방법으로 테이블을 읽었지만 실제로 해당 테이블에 레코드가 1건도 존재하지 않을 경우 표시된다.</p><h2 id=deleting-all-rows>Deleting all rows</h2><p>MyISAM 스토리지 엔진과 같이 스토리지 엔진의 핸들러 차원에서 테이블의 모든 레코드를 삭제하는 기능을 제공하는 스토리지 엔진의 경우 표시된다.</p><ul><li><code>WHERE</code> 조건절이 없는 <code>DELETE</code> 문장의 실행 계획에서 자주 표시된다.</li><li>테이블의 모든 레코드를 삭제하는 핸들러 기능(API)을 한번 호출해서 처리되었다는 것을 의미한다.</li></ul><blockquote><p>MySQL 8.0 버전부터 InnoDB, MyISAM 스토리지 엔진 모두 해당 최적하는 표시하지 않으며, 테이블의 모든 레코드를 삭제하고자 한다면 <code>WHERE</code> 조건절이 없는 <code>DELETE</code> 보다 <code>TURNCATE TABLE</code> 명령을 사용하는 것을 권장한다.</p></blockquote><h2 id=distinct>Distinct</h2><p>쿼리의 <code>DISTINCT</code>를 처리하기 위해 조인하지 않아도 되는 항목은 무시하고 곡 필요한 것만 조인했을 경우 표시된다.</p><h2 id=firstmatch>FirstMatch</h2><p>세미 조인 최적화 중에서 FirstMatch 전략이 사용되면 표시된다.</p><h2 id=full-scan-on-null-key>Full scan on NULL key</h2><p><code>col1 IN (SELECT col2 FROM ...)</code>과 같은 조건을 가진 쿼리에서 col1의 값이 NULL이 가능할 경우 표시된다.</p><p>col1의 값이 NULL 일 경우 결과적으로 조건은 <code>NULL IN (SELECT col2 FROM ...)</code>로 처리되는데, 이 때 차선책으로 서브쿼리 테이블에 대해 풀 테이블 스캔을 사용할 것이라는 사실을 알려주는 키워드이다.</p><p><code>IN</code>, <code>NOT IN</code> 연산자 왼쪽 값이 NULL인 레코드가 있고 개별적으로 <code>WHERE</code> 조건이 지정되어 있다면 성능에 큰 문제가 발생할 수 있다.</p><ul><li>col1이 <code>NOT NULL</code>로 정의된 컬럼이라면 표시되지 않는다.</li><li>NULL 비교 조건을 무시해도 괜찮다면 <code>IS NOT NULL</code> 조건을 추가하면 표시되지 않는다.</li><li><code>IN</code>, <code>NOT IN</code> 연산자 왼쪽에 있는 값에 실제로 NULL이 없다면 풀 테이블 스캔은 발생하지 않는다.</li></ul><blockquote><p>SQL 표준에서 NULL을 <strong>알 수 없는 값</strong>으로 정의하고 있으며 NULL 연산에 대한 규칙을 정의하고 있다.</p><ul><li>서브쿼리가 1건이라도 결과 레코드를 가진다면 최종 비교 결과는 NULL</li><li>서브쿼리가 1건도 결과 레코드를 가지지 않는다면 최종 비교 결과는 FALSE
이러한 비교 과정에서 col1이 NULL이면 서브쿼리에 사용된 테이블에 대해 풀 테이블 스캔을 해야만 결과를 알아낼 수 있다.</li></ul></blockquote><h2 id=impossible-having>Impossible HAVING</h2><p>쿼리에 사용된 <code>HAVING</code> 절의 조건을 만족하는 레코드가 없을 때 표시된다.</p><ul><li>애플리케이션의 쿼리 중에서 해당 메시지가 출력된다면 쿼리가 제대로 작성되지 못한 경우가 대부분이므로 쿼리의 내용을 다시 점검하는 것이 좋다.</li></ul><h2 id=impossible-where>Impossible WHERE</h2><p><code>WHERE</code> 조건이 항상 <code>FALSE</code>가 될 수 밖에 없는 경우 표시된다.</p><h2 id=loosescan>LooseScan</h2><p>세미 조인 최적화 중에서 LooseScan 최적화 전략이 사용될 경우 표시된다.</p><h2 id=no-matching-minmax-row>No matching (min/max) row</h2><p><code>MIN()</code>, <code>MAX()</code>와 같은 집합 한수가 있는 쿼리의 조건절에 일치하는 레코드가 한 건도 없을 경우 출력되며, 결과로 NULL이 반환된다.</p><h2 id=no-matching-row-in-const-table>no matching row in const table</h2><p>조인에서 사용된 테이블에서 const 접근 방법으로 접근할 때 일치하는 레코드가 없을경우 표시된다.</p><h2 id=no-matching-rows-after-partition-pruning>No matching rows after partition pruning</h2><p>파티션된 테이블에 대한 <code>UPDATE</code>, <code>DELETE</code> 명령 실행시 해당 파티션에서 대상 레코드가 없을 경우 표시된다.</p><h2 id=no-tables-used>No tables used</h2><p><code>FROM</code> 절이 없는 쿼리 문장이나 <code>FROM DUAL</code> 형태의 쿼리 실행 계획에서 출력된다.</p><blockquote><p>MySQL 서버는 <code>FROM</code> 절이 없는 쿼리도 허용된다.</p></blockquote><h2 id=not-exists>Not exists</h2><p>아우터 조인을 이용해 안티 조인을 수행하는 쿼리에서 표시된다.</p><ul><li>옵티마이저가 테이블의 레코드를 이용해 테이블을 조인할 때 레코드가 존재하는지만 판단한다는 것을 의미한다.</li><li>조인 조건에 일치하는 레코드가 여러 건 있다고 하더라도 1건만 조회해보고 처리를 완료화는 최적화를 의미한다.</li></ul><blockquote><p><strong>안티 조인(Anti-join)이란?</strong><br>A 테이블에서는 존재하지만 B 테이블에는 없는 값을 조회해야 하는 경우 <code>NOT IN (subquery)</code>, <code>NOT EXISTS</code> 연산자를 사용하는데 이러한 형태의 조인을 안티-조인이라고 한다.</p><p>똑같은 처리를 아우터 조인을 이용해서도 구현할 수 있는데 레코드 건수가 많을 경우 아우터 조인을 이용하면 더 빠른 성능을 낼 수 있다.</p></blockquote><h2 id=plan-isnt-ready-yet>Plan isn&rsquo;t ready yet</h2><p>MySQL 8.0 버전에서는 다른 커넥션에서 실행 중인 쿼리의 실행 계획을 <code>EXPLAIN FOR CONNECTION</code> 명령으로 확인할 수 있는데, 이 때 해당 커넥션에서 아직 쿼리의 실행 계획을 수립하지 못한 경우 해당 메시지가 출력된다.</p><ul><li>이 경우 대상 커넥션의 쿼리가 실행 계획을 수립할 여유 시간을 주고 다시 명령을 실행하면 된다.</li></ul><h2 id=range-checked-for-each-recordindex-mapn>Range checked for each record(index map:N)</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>EXPLAIN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=n>e1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>,</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=n>e2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>e2</span><span class=p>.</span><span class=n>emp_no</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>e1</span><span class=p>.</span><span class=n>emp_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>두 개의 테이블을 조인하는 경우 조인 조건에 상수가 없고 둘 다 변수인 경우 MySQL 옵티마이저는 e1의 레코드를 읽을 때마다 <code>e1.emp_no</code> 값이 계속 변화하므로 쿼리의 비용 계산을 위한 기준값이 바뀌므로 어떤 접근 방법으로 e2 테이블을 읽는 것이 좋을지 판단할 수 없다.</p><p>조건에 만족하는 레코드를 조회하기 위해 e1 테이블을 처음부터 끝까지 스캔하며 e2 테이블에서 조건을 비교해야 한다.</p><p>사번이 1 ~ 1억 번 까지 있다고 가정하면 e1.emp_no가 1인 경우 e2 테이블의 1억 건을 모두 읽어야 하고, e1.emp_no가 1억인 경우 e2 테이블을 한 건만 읽으면 된다.</p><p>따라서 e1 테이블의 emp_no가 작을 때는 e2 테이블을 풀 테이블 스캔으로 접근하고, e1 테이블의 emp_no가 큰 값일 때는 e2 테이블을 레인지 스캔으로 접근하는 형태로 수행되는 것이 최적의 조인 방법이다.</p><p>이렇게 레코드마다 인덱스 레인지 스캔 사용이 더 적합한지 체크하는 실행 계획이 활용될 경우 &ldquo;Range checked for each record"가 노출되고, 출력 내용에서 표시되는 &ldquo;(index map: N)&ldquo;은 인덱스가 활용될 경우 사용될 후보 인덱스 순번의 16진수로 값으로 실제 확인 시 어떤 레코드가 사용될지는 알 수 없다.</p><h2 id=recursive>Recursive</h2><p>MySQL 8.0 버전부터 CTE(Common Table Expression)를 이용해 재귀 쿼리를 작성할 수 있게 되었으며, 재귀 쿼리의 실행 계획은 Recursive로 표시된다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>WITH</span><span class=w> </span><span class=n>RECURSIVE</span><span class=w> </span><span class=nf>cte</span><span class=w> </span><span class=p>(</span><span class=n>n</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>UNION</span><span class=w> </span><span class=k>ALL</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>cte</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>cte</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol><li>&rsquo;n&rsquo; 이라는 컬럼 하나를 가진 cte라는 이름의 내부 임시 테이블 생성</li><li>&rsquo;n&rsquo; 컬럼의 값이 1부터 5 까지 1씩 증가시켜 레코드를 5건 만들고 cte 내부 임시 테이블에 저장</li></ol><blockquote><p><code>WITH</code> 구문을 이용한 CTE가 사용됐다고 반드시 &ldquo;Recursive&rdquo; 문구가 표시되는 것이 아닌, <code>WITH</code> 구분이 **재귀 CTE(Recursive CTE)**로 사용될 경우에만 메시지가 표시된다.</p></blockquote><h2 id=rematerialize>Rematerialize</h2><p>MySQL 버전부터 래터럴 조인(<code>LATERAL JOIN</code>) 기능이 추가되었는데, 래터럴로 조인되는 테이블은 선행 테이블의 레코드별로 서브 쿼리를 실행해서 그 결과를 임시 테이블에 저장한다. 이 과정을 &ldquo;Rematerializing&rdquo; 이라고 한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=w> </span><span class=n>e</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=nf>LATERAL</span><span class=w> </span><span class=p>(</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>FROM</span><span class=w> </span><span class=n>salaries</span><span class=w> </span><span class=n>s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>WHERE</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>emp_no</span><span class=o>=</span><span class=n>e</span><span class=p>.</span><span class=n>emp_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>ORDER</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>s</span><span class=p>.</span><span class=n>from_date</span><span class=w> </span><span class=k>DESC</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>)</span><span class=w> </span><span class=n>s2</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>s2</span><span class=p>.</span><span class=n>emp_no</span><span class=o>=</span><span class=n>e</span><span class=p>.</span><span class=n>emp_no</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=n>first_name</span><span class=o>=</span><span class=s1>&#39;Matt&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>;</span><span class=w>           
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p><strong>래터럴 조인</strong><br><code>FROM</code>절 서브쿼리에서 메인쿼리를 활용한 조건을 활용할 수 있도록 한다. 따라서 선행 테이블의 레코드 별로 서브 쿼리 실행이 필요하다.<br>(<code>WHERE s.emp_no=e.emp_no</code>)</p></blockquote><h2 id=select-tables-optimized-away>Select tables optimized away</h2><p><code>MIN()</code>, <code>MAX()</code>만 <code>SELECT</code> 절에 사용되거나 <code>GROUP BY</code>로 <code>MIN()</code>, <code>MAX()</code>를 조회하는 쿼리가 인덱스를 오름차순 또는 내림차순으로 1건만 읽는 형태의 최적화가 적용될 경우 노출된다.</p><p>MyISAM 테이블은 전체 레코드 건수를 별도로 관리하기 때문에<code>GROUP BY</code> 없이 <code>COUNT(*)</code>만 <code>SELECT</code> 하는 경우에도 이러한 형태의 최적화가 발생한다. 하지만 <code>WHERE</code> 조건절이 있는 쿼리는 이러한 최적화를 적용하지 못한다.</p><h2 id=start-temporary-end-temporary>Start temporary, End temporary</h2><p>세미 조인 최적화 중 <strong>Duplicate Weed-out</strong> 최적화 전략이 사용되면 표시된다.</p><p>Duplicate Weed-out 최적화 전략은 불필요한 중복 건을 제거하기 위해 내부 임시 테이블을 사용하는데, 이때 조인되어 내부 임시 테이블에 저장되는 테이블을 식별할 수 있도록 조인 첫 테이블에 &ldquo;Start temporary&rdquo;, 조인이 끝나는 부분에 &ldquo;End temporary&rdquo; 문구를 표시한다.</p><h2 id=unique-row-not-found>Unique row not found</h2><p>두 개의 테이블이 각각 유니크 컬럼으로 아우터 조인을 수행하는 쿼리에서 아우터 테이블과 일치하는 레코드가 존재하지 않을때 표시된다.</p><h2 id=using-filesort>Using filesort</h2><p><code>ORDER BY</code>를 처리하기 위해 인덱스를 사용하지 못할 때는 조회된 레코드를 다시 정렬하는데, 이처럼 인덱스를 사용하지 못하여 이미 조회된 레코드를 정렬용 메모리 버퍼에 복사하여 정렬을 수행하게 된 경우 표시된다.</p><p>Using filesort 문구가 출력되는 쿼리는 많은 부하를 일으키므로 쿼리를 튜닝하거나 인덱스를 생성하는 것이 좋다.</p><h2 id=using-index커버링-인덱스>Using index(커버링 인덱스)</h2><p>데이터 파일을 전혀 읽지 않고 인덱스만 읽어 쿼리를 모두 처리할 수 있을 때 표시된다.</p><p>인덱스를 이용해 처리하는 쿼리에서 가장 큰 부하를 차지하는 부분은 인덱스 검색에서 일치하는 키 값들의 레코드를 읽기 위해 데이터 파일을 검색하는 작업으로, 최악의 경우 모든 레코드에 대해 디스크를 읽어야 할 수 있다.</p><p>커버링 인덱스는 인덱스를 통해 모든 레코드를 처리할 수 있는 경우를 의미하며 매우 빠른 조회 성능을 보여준다.</p><p>하지만 무조건 커버링 인덱스로 처리하려고 인덱스에 많은 컬럼을 추가하면 과도하게 인덱스 컬럼이 많아지면서 메모리 낭비가 심해지고, 레코드를 저장하거나 변경하는 작업이 매우 느려질 수 있다.</p><p>접근 방법(실행 계획의 type 컬럼)이 eq_ref, ref, range, index_merge, index 등과 같이 인덱스를 사용하는 모든 실행 계획에 표시될 수 있으며, 인덱스 풀 스캔을 실행할 때도 커버링 인덱스로 처리되면 아닌 경우보다 훨씬 빠르게 처리된다.</p><h2 id=using-index-condition>Using index condition</h2><p>옵티마이저가 <strong>인덱스 컨디션 푸시다운</strong> 최적화를 사용할 경우 표시된다.</p><h2 id=using-index-for-group-by>Using index for group-by</h2><p><code>GROUP BY</code> 처리가 인덱스를 활용해 추가 정렬 작업 없이 수행될 경우 표시된다.</p><p><code>GROUP BY</code> 처리를 위해 그루핑 컬럼을 이용해 정렬 작업을 수행하고 다시 정렬된 결과를 그루핑 하는 형태의 고부하 작업을 수행한다. 이러한 처리가 인덱스(B-Tree 인덱스에 한해)를 이용하면 별도의 추가 정렬 작업 없이 정렬된 인덱스 컬럼을 순서대로 읽으며 그루핑 작업만 수행하게 되어 효율적이고 빠르게 처리된다.</p><h3 id=타이트-인덱스-스캔을-통한-group-by-처리>타이트 인덱스 스캔을 통한 <code>GROUP BY</code> 처리</h3><p><code>AVG()</code>, <code>SUM()</code>, <code>COUNT()</code> 처럼 조회하려는 값이 모든 인덱스를 다 읽어야 할 경우 필요한 레코드만 읽을 수가 없는 경우 인덱스를 활용하지만, 루스 인덱스 스캔이라 하지 않으며, 이 에따라 실행 계획에는 표시되지 않는다.</p><h3 id=루스-인덱스-스캔을-통한-group-by-처리>루스 인덱스 스캔을 통한 <code>GROUP BY</code> 처리</h3><p>루스 인덱스 스캔은 필요한 부분만 활용하기 위해 인덱스를 듬성듬성 읽는 처리를 의미한다.</p><ul><li>단일 컬럼으로 구성된 인덱스에서는 그루핑 컬럼 말고는 아무것도 조회하지 않는 쿼리에서 루스 인덱스 스캔을 활용할 수 있다.</li><li>다중 컬럼으로 만들어진 인덱스에서는 &lsquo;GROUP BY&rsquo; 절이 인덱스를 사용할 수 있고, <code>MIN()</code>, <code>MAX()</code> 같이 첫 번째, 마지막 레코드만 읽어도 되는 경우 루스 인덱스 스캔을 사용할 수 있다.</li></ul><p><code>GROUP BY</code>에서 인덱스를 사용하려면<code>GROUP BY</code> 조건에서 인덱스르 사용할 수 있는 조건이 갖춰져야 하지만 그 이전에 <code>WHERE</code> 절에서 사용하는 인덱스에서도 영향을 받는다.</p><ul><li><strong><code>WHERE</code> 조건절이 없는 경우</strong><ul><li><code>GROUP BY</code> 절의 컬럼과 <code>SELECT</code>로 가져오는 컬럼이 루스 인덱스 스캔을 사용할 수 있는 조건을 갖추면 된다.</li><li>그렇지 못할 경우 타이트 인덱스 스캔이나 별도 정렬 과정을 통해 처리된다.</li></ul></li><li><strong><code>WHERE</code> 조건절이 있지만 검색을 위해 인덱스를 사용하지 못하는 경우</strong><ul><li><code>GROUP BY</code> 절은 인덱스를 사용할 수 있지만 <code>WHERE</code> 조건이 인덱스를 사용하지 못하는 경우 <code>GROUP BY</code>를 위해 인덱스를 읽은 후 <code>WHERE</code> 조건의 비교를 위해 데이터 레코드를 읽어야 한다.</li><li>루스 인덱스 스캔을 활용할 수 없어 타이트 인덱스 스캔을 통해 처리된다.</li></ul></li><li><strong><code>WHERE</code> 절의 조건이 있고, 검색을 위해 인덱스를 사용하는 경우</strong><ul><li>하나의 단위 쿼리가 실행되는 경우에 index_merge 이외의 접근 방법에서는 단 하나의 인덱스만 사용할 수 있다.</li><li><code>WHERE</code> 절의 조건과 <code>GROUP BY</code> 처리가 똑같은 인덱스를 공통으로 사용할 수 있는 경우 루스 인ㄷ게스 스캔을 사용할 수 있다.</li><li>인덱스가 다른 경우 옵티마이저는 일반적으로 <code>WHERE</code> 조건 절이 작업 범위를 좁히는 못한다고 하더라도 인덱스를 사용하도록 실행 계획을 수립하는 경향을 보인다.</li></ul></li></ul><blockquote><p>루스 인덱스 스캔은 주로 대량의 레코드를 <code>GROUP BY</code>하는 경우 성능 향상 효과가 있을 수 있다. 따라서 <code>WHERE</code>, <code>GROUP BY</code> 모두 인덱스를 사용할 수 있는 경우라도 <code>WHERE</code> 조건에 의해 검색된 레코드 건수가 적으면 루스 인덱스 스캔을 사용하지 않아도 충분히 빠르므로 사용하지 않는다.<br>루스 인덱스를 이용한 처리보다 사용하지 않는 경우가 더 빠르다고 판단한다면 사용하지 않는다.</p></blockquote><h2 id=using-index-for-skip-scan>Using index for skip scan</h2><p>인덱스 스킵 스캔 최적화를 사용될 경우 표시된다.</p><h2 id=using-join-buffer>Using join buffer</h2><p>테이블 조인시 조인 버퍼가 사용되는 쿼리의 실행 계획에 표시된다.</p><ul><li>일반적으로 빠른 쿼리 실행을 위해 조인되는 컬럼은 인덱스를 생성하는데, 실제 조인에 필요한 인덱스는 조인되는 양쪽 테이블 컬럼이 아니라 조인에서 뒤에 읽는 테이블의 컬럼이다.</li><li>드리븐 테이블이 검색 위주로 사용되기 때문에 인덱스가 없으면 성능에 미치는 영향이 커지므로, 조인되는 두 테이블에 있는 각 컬럼에서 인덱스를 조사하고, 인덱스가 없는 테이블을 먼저 읽어 조인을 실행한다.</li><li>드리븐 테이블에 검색을 위한 적절한 인덱스가 없다면 블록 네스티드 루프 조인이나 해시 조인을 사용하는데, 이때 조인 버퍼를 사용하게 되며 해당 문구가 노출된다.</li><li>카테시안 조인을 수행하는 쿼리는 항상 조인 버퍼를 이용한다.</li><li>Block Nested Loop, Batched Key Access, Hash join 등 사용된 알고리즘이 같이 표시된다.</li></ul><h2 id=using-mrr>Using MRR</h2><p>MMR(Multi Range Read) 최적화가 사용된 경우 노출된다.</p><h3 id=mmr>MMR?</h3><p>MySQL 엔진이 여러 개의 키 값을 한번에 스토리지 엔진으로 전달하고, 스토리지 엔진은 넘겨받은 키 값들을 정렬해서 최소한의 페이지 접근마능로 필요한 레코드를 읽는 최적화 방법이다.</p><ul><li>InnoDB를 포한한 스토리지 엔진 레벨에서는 쿼리 실행의 전체적인 부분을 알지 못하기 때문에 최적화가 한계가 있다.</li><li>아무리 많은 레코드를 읽는 과정이라 하더라도 스토리지 엔진은 MySQL 엔진이 넘겨주는 키 값을 기준으로 레코드를 한 건씩 읽어 반환하는 방식으로 작동한은 한계점이 있었다.</li><li>매번 읽어서 반환하는 레코드가 동일 페이지에 있다고 하더라도 레코드 단위로 API 호출이 필요하다.</li></ul><h2 id=using-sort_union-using-union-using-intersect>Using sort_union, Using union, Using intersect</h2><p>쿼리가 index_merge 접근 방법으로 실행되는 경우 2개 이상의 인덱스가 동시에 사용될 수 있는데, 이 때 두 인덱스로부터 읽은 결과를 어떻게 병합했는지 조금 더 상세하게 설명하기 위해 3개 중 하나의 메시지를 선택적으로 출력한다.</p><ul><li>Using intersect(&mldr;)<ul><li>각 인덱스를 사용할 수 있는 조건이 AND로 연결된 경우 각 처리 결과에서 교집합을 추출하는 작업을 수행한 경우</li></ul></li><li>Using union(&mldr;)<ul><li>각 인덱스를 사용할 수 있는 조건이 OR로 연결된 경우 각 처리 결과에서 합집합을 추출해내는 작업 수행</li></ul></li><li>Using sort_union(&mldr;)<ul><li>Using union과 같은 작업을 수행하지만 Using union으로 처리될 수 없는 경우(ex: OR로 연결된 대량의 range 조건들) 이 방식으로 처리됨</li><li>프라이머리 키만 먼저 읽어 절렬하고 병합한 이후 레코드를 읽어서 반환할 수 있다.</li></ul></li></ul><p>실제로 레코드 건수에 관계 없이 <code>WHERE</code> 조건이 사용된 비교 조건이 모두 동등하다면 Using union, 아닐 경우 Using sort_union이 사용된다.</p><h2 id=using-temporary>Using temporary</h2><p>쿼리가 임시 테이블을 사용하여 처리된 경우 표시된다.</p><ul><li>사용된 임시 테이블이 메모리, 디스크 중 어디에 생성되었는지는 실행 계획으로 파악할 수 없다.</li><li>Using temporary가 표시되지 않아도 내부적으로 임시 테이블을 사용할 때도 많다.<ul><li><code>FROM</code> 절에 사용된 서브 쿼리는 무조건 임시 테이블을 생성한다.(파생 테이블)</li><li><code>COUNT(DISTINCT col1)</code>를 포함하는 쿼리도 인덱스를 사용할 수 없다면 임시 테이블을 만든다.</li><li><code>UNION</code>, <code>UNION DISTINCT</code>가 사용된 쿼리는 항상 임시 테이블을 사용해 결과를 병합한다.<ul><li>MySQL 8.0 부터 <code>UNION ALL</code>의 경우는 임시 테이블을 생성하지 않는다.</li></ul></li><li>인덱스를 사용하지 못하는 정렬 작업은 임시 버퍼 공간을 사용하는데, 정렬해야 할 레코드가 많이지면 디스크를 사용하며, 디스크에 사용된 버퍼도 임시 테이블과 동일하다.<ul><li>쿼리가 정렬을 수행할 때 실행 계획의 Extra 컬럼에 Using filesort가 표시된다.</li></ul></li></ul></li></ul><h2 id=using-where>Using where</h2><p>MySQL 엔진은 내부적으로 크게 MySQL 엔진과 스토리지 엔진 2개의 레이어로 나눠볼 수 있다.</p><ul><li>스토리지 엔진은 디스크나 메모리상에서 필요한 레코드를 읽는 역할 수행</li><li>MySQL 엔진은 스토리지 엔진으로부터 받은 레코드를 가공 또는 연산하는 작업 수행.
이 때 MySQL 엔진 레이어에서 별도의 가공을 해서 필터링 작업을 처리한 경우 Using where가 표시된다.</li></ul><p>실행 계획에서 Using where 문구가 노출된 이유를 이해할 수 없는 경우가 많아 성능상의 문제를 일으킬지 선별하는 능력이 필요한데, MySQL 8.0에서는 실행 계획에 filtered 컬럼이 표시되므로 성능상의 이슈가 있는지 알아낼 수 있다.</p><h2 id=zero-limit>Zero limit</h2><p>MySQL 서버에서 데이터 값이 아닌 쿼리의 결과값의 메타데이터만 필요한 경우 <code>LIMIT 0</code>를 사용하는데, 이때 옵티마이저가 사용자의 의도를 알아채고 실제 테이블의 레코드는 전혀 읽지 않으며, 이러한 경우 해당 문구가 노출된다.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/db/>DB</a>
<a href=/tags/mysql/>MySQL</a></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css integrity="sha256-J+iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s=" crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js integrity="sha256-InsNdER1b2xUewP+pKCUJpkhiqwHgqiPXDlIk7GzBu4=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI=" crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/real-mysql/16/7/4/><div class=article-image><img src=/post/real-mysql/16/7/4/real_mysql.335f5c2fc94dc22cf816a9c1393301d9_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 16.7.4 복제 고급 설정 - 필터링된 복제(Filterd Replication)" data-key=real-mysql/16/7/4 data-hash="md5-M19cL8lNwiz4FqnBOTMB2Q=="></div><div class=article-details><h2 class=article-title>16.7.4 복제 고급 설정 - 필터링된 복제(Filterd Replication)</h2></div></a></article><article class=has-image><a href=/post/real-mysql/16/7/3/><div class=article-image><img src=/post/real-mysql/16/7/3/real_mysql.335f5c2fc94dc22cf816a9c1393301d9_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 16.7.3 복제 고급 설정 - 크래시 세이프 복제(Crash-safe Replication)" data-key=real-mysql/16/7/3 data-hash="md5-M19cL8lNwiz4FqnBOTMB2Q=="></div><div class=article-details><h2 class=article-title>16.7.3 복제 고급 설정 - 크래시 세이프 복제(Crash-safe Replication)</h2></div></a></article><article class=has-image><a href=/post/real-mysql/16/7/2/><div class=article-image><img src=/post/real-mysql/16/7/2/real_mysql.335f5c2fc94dc22cf816a9c1393301d9_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 16.7.2 복제 고급 설정 - 멀티 스레드 복제" data-key=real-mysql/16/7/2 data-hash="md5-M19cL8lNwiz4FqnBOTMB2Q=="></div><div class=article-details><h2 class=article-title>16.7.2 복제 고급 설정 - 멀티 스레드 복제</h2></div></a></article><article class=has-image><a href=/post/real-mysql/16/7/1/><div class=article-image><img src=/post/real-mysql/16/7/1/real_mysql.335f5c2fc94dc22cf816a9c1393301d9_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 16.7.1 복제 고급 설정 - 지연된 복제" data-key=real-mysql/16/7/1 data-hash="md5-M19cL8lNwiz4FqnBOTMB2Q=="></div><div class=article-details><h2 class=article-title>16.7.1 복제 고급 설정 - 지연된 복제</h2></div></a></article><article class=has-image><a href=/post/real-mysql/16/6/><div class=article-image><img src=/post/real-mysql/16/6/real_mysql.335f5c2fc94dc22cf816a9c1393301d9_hu03b8ff0acb6f52b3ec9ae95e616f82c2_25714_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy alt="Featured image of post 16.6 복제 - 복제 토폴로지" data-key=real-mysql/16/6 data-hash="md5-M19cL8lNwiz4FqnBOTMB2Q=="></div><div class=article-details><h2 class=article-title>16.6 복제 - 복제 토폴로지</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=codemario318/codemario318.github.io issue-term=pathname label=Comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2023 Mario Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>